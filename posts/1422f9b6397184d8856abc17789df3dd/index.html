<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>高颜值抓包工具Charles，实现Mac和IOS端抓取https请求 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="高颜值抓包工具Charles，实现Mac和IOS端抓取https请求" />
<meta property="og:description" content="目录
一、Charles介绍
二、Charles下载及安装
三、Charles界面视图介绍
四、Charles抓取HTTPS
Hi，大家好。在进行测试的过程中，不可避免的会有程序报错，为了能更快修复掉Bug，我们作为测试人员需要给开发人员提供更准确的报错信息或者接口地址，这个时候就需要用到我们的抓包工具。
常见的抓包工具有Fiddler、Charles，在此之前介绍过Fiddler抓包：Fiddler抓包详解，今天我们介绍Mac端以及IOS端如何使用Charles抓取https。
一、Charles介绍 1、Charles简介
Charles中文名又叫青花瓷，是一款很实用，界面很友好，功能强大的抓包神器，因为它是基于 Java 开发的，所以跨平台，Mac、Linux、Windows下都是可以使用的，并且在Android和iOS设备上通用。
2、Charles原理
当程序连接Charles的代理访问互联网时，Charles可以监控这个程序发送和接收的所有数据。它允许一个开发者查看所有连接互联网的HTTP通信，这些包括request、response和HTTP headers，通过成为电脑或者移动设备的代理截取请求和请求结果达到分析抓包的目的。
3、Charles作用
截取 Http 和 Https 网络封包。支持重发网络请求，方便后端调试。支持修改网络请求参数。支持网络请求的截获并动态修改。支持模拟慢速网络。 二、Charles下载及安装 1、Charles下载
Charles 是收费软件，可以免费试用 30 天。试用期过后，未付费的用户仍然可以继续使用，但是每次使用时间不能超过 30 分钟，并且启动时将会有 10 秒种的延时。因此，该付费方案对广大用户还是相当友好的，即使你长期不付费，也能使用完整的软件功能。
下载地址:
官网：https://www.charlesproxy.com/
绿色版下载（网上有很多相关下载地址）
For Windows：https://www.7down.com/soft/133829.html
For Mac：http://www.xue51.com/mac/2527.html
注意：安装完后，替换”安装路径-&gt;Charles\lib”文件夹下的charles.jar文件成破解版jar文件，如果再次启动未弹出30天试用的提示，说明成功。
2、Charles安装
(1) Mac端安装
进入Charles官网，选择macOS下载：
下载后安装：
(2) PC端安装
进入Charles官网，选择windows下载：
下载后自行安装即可，此处不再详细介绍。
三、Charles界面视图介绍 1、Charles界面视图
Charles在Mac端的界面：
1)在顶部导航是基本设置、代理设置、工具、帮助等；
2)中间位置是请求的接口名字、请求内容、响应内容等；
3)通常常查看请求会使用&#34;Structure&#34;视图和&#34;Sequence&#34;视图；
Structure：按照接口结构来归档汇总；Sequence：按照接口请求顺序来汇总；
请求栏介绍： 请求数据介绍：
2、Charles界面说明
Charles在Mac端的快捷工具：
快捷工具介绍：
四、Charles抓取HTTPS 1、Mac端配置
(1) Charles代理设置
点击导航栏 Proxy -&gt; Proxy Setting ，端口一般设置8888，按照下图设置即可。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1422f9b6397184d8856abc17789df3dd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-25T19:04:14+08:00" />
<meta property="article:modified_time" content="2022-12-25T19:04:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">高颜值抓包工具Charles，实现Mac和IOS端抓取https请求</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81Charles%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Charles%E4%BB%8B%E7%BB%8D" rel="nofollow">一、Charles介绍</a></p> 
<p id="%E4%BA%8C%E3%80%81Charles%E4%B8%8B%E8%BD%BD%E5%8F%8A%E5%AE%89%E8%A3%85-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81Charles%E4%B8%8B%E8%BD%BD%E5%8F%8A%E5%AE%89%E8%A3%85" rel="nofollow">二、Charles下载及安装</a></p> 
<p id="%E4%B8%89%E3%80%81Charles%E7%95%8C%E9%9D%A2%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81Charles%E7%95%8C%E9%9D%A2%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D" rel="nofollow">三、Charles界面视图介绍</a></p> 
<p id="%E5%9B%9B%E3%80%81Charles%E6%8A%93%E5%8F%96HTTPS-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81Charles%E6%8A%93%E5%8F%96HTTPS" rel="nofollow">四、Charles抓取HTTPS</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>Hi，大家好。在进行测试的过程中，不可避免的会有程序报错，为了能更快修复掉Bug，我们作为测试人员需要给开发人员提供更准确的报错信息或者接口地址，这个时候就需要用到我们的抓包工具。</p> 
<p>常见的抓包工具有Fiddler、Charles，在此之前介绍过Fiddler抓包：Fiddler抓包详解，今天我们介绍Mac端以及IOS端如何使用Charles抓取https。</p> 
<h2 id="%E4%B8%80%E3%80%81Charles%E4%BB%8B%E7%BB%8D">一、Charles介绍</h2> 
<p><strong>1、Charles简介</strong></p> 
<p>Charles中文名又叫青花瓷，是一款很实用，界面很友好，功能强大的抓包神器，因为它是基于 Java 开发的，所以跨平台，Mac、Linux、Windows下都是可以使用的，并且在Android和iOS设备上通用。</p> 
<p><strong>2、Charles原理</strong></p> 
<p>当程序连接Charles的代理访问互联网时，Charles可以监控这个程序发送和接收的所有数据。它允许一个开发者查看所有连接互联网的HTTP通信，这些包括request、response和HTTP headers，通过成为电脑或者移动设备的代理截取请求和请求结果达到分析抓包的目的。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/de/b2/TqUIPGXZ_o.png"></p> 
<p></p> 
<p><strong>3、Charles作用</strong></p> 
<ul><li>截取 Http 和 Https 网络封包。</li><li>支持重发网络请求，方便后端调试。</li><li>支持修改网络请求参数。</li><li>支持网络请求的截获并动态修改。</li><li>支持模拟慢速网络。</li></ul> 
<h2 id="%E4%BA%8C%E3%80%81Charles%E4%B8%8B%E8%BD%BD%E5%8F%8A%E5%AE%89%E8%A3%85">二、Charles下载及安装</h2> 
<p><strong>1、</strong><strong>Charles下载</strong></p> 
<p>Charles 是收费软件，可以免费试用 30 天。试用期过后，未付费的用户仍然可以继续使用，但是每次使用时间不能超过 30 分钟，并且启动时将会有 10 秒种的延时。因此，该付费方案对广大用户还是相当友好的，即使你长期不付费，也能使用完整的软件功能。</p> 
<p><strong>下载地址:</strong></p> 
<p>官网：https://www.charlesproxy.com/</p> 
<p>绿色版下载（网上有很多相关下载地址）</p> 
<p>For Windows：https://www.7down.com/soft/133829.html</p> 
<p>For Mac：http://www.xue51.com/mac/2527.html</p> 
<p>注意：安装完后，替换”安装路径-&gt;Charles\lib”文件夹下的charles.jar文件成破解版jar文件，如果再次启动未弹出30天试用的提示，说明成功。</p> 
<p><strong>2、Charles安装</strong></p> 
<p><strong>(1) Mac端安装</strong></p> 
<p>进入Charles官网，选择macOS下载：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/27/71/j2nQr6Eh_o.png"></p> 
<p></p> 
<p>下载后安装：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a8/dd/H05RXAiy_o.png"></p> 
<p></p> 
<p><strong>(2) PC端安装</strong></p> 
<p>进入Charles官网，选择windows下载：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c0/de/sk6Oclfl_o.png"></p> 
<p></p> 
<p>下载后自行安装即可，此处不再详细介绍。</p> 
<h2 id="%E4%B8%89%E3%80%81Charles%E7%95%8C%E9%9D%A2%E8%A7%86%E5%9B%BE%E4%BB%8B%E7%BB%8D">三、Charles界面视图介绍</h2> 
<p><strong>1、</strong><strong>Charles界面视图</strong></p> 
<p>Charles在Mac端的界面：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d6/5c/EOCBlveC_o.png"></p> 
<p></p> 
<p>1)在顶部导航是基本设置、代理设置、工具、帮助等；</p> 
<p>2)中间位置是请求的接口名字、请求内容、响应内容等；</p> 
<p>3)通常常查看请求会使用"Structure"视图和"Sequence"视图；</p> 
<ul><li>Structure：按照接口结构来归档汇总；</li><li>Sequence：按照接口请求顺序来汇总；<br> 请求栏介绍：</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/5f/e5/TqX8W6BO_o.png"></p> 
<p></p> 
<p><br> 请求数据介绍：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f8/8b/fcaewh77_o.png"></p> 
<p></p> 
<p><strong>2、</strong><strong>Charles界面说明</strong></p> 
<p>Charles在Mac端的快捷工具：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f6/10/RDpGiU69_o.png"></p> 
<p></p> 
<p>快捷工具介绍：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/95/61/h9dIL27a_o.png"></p> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81Charles%E6%8A%93%E5%8F%96HTTPS">四、Charles抓取HTTPS</h2> 
<p><strong>1、</strong><strong>Mac端配置</strong><br><strong>(1) Charles代理设置</strong></p> 
<p>点击导航栏 Proxy -&gt; Proxy Setting ，端口一般设置8888，按照下图设置即可。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ac/49/K9SEDWVr_o.png"></p> 
<p></p> 
<p>系统偏好设置-&gt;网络-&gt;高级-&gt;代理，端口号默认是8888，与Proxy</p> 
<p>-&gt; Proxying Settings 中的HTTP代理端口号相同。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4c/6b/Y7AjBGeN_o.png"></p> 
<p></p> 
<p><strong>(2) Charles证书安装</strong></p> 
<p>在Charles的 Help选项，选择 SSL Proxyings选项-&gt;选择 Install Charles Root Certificate。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1f/01/cx4CfQKV_o.png"></p> 
<p></p> 
<p>设置允许信任：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/5e/5b/XX7V8Ahe_o.png"></p> 
<p></p> 
<p><strong>(3) 配置SSL代理</strong></p> 
<p>在Charles的 Proxy选项-&gt;选择SSL Proxy Settings-&gt;点击add添加需要监视的域名，支持 * 号通配符，端口一般都是443。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/64/3f/ZphQaH3D_o.png"></p> 
<p></p> 
<p><strong>(4) 抓取Web端https请求</strong></p> 
<p>设置完电脑端配置，就可以正式开始抓取请求了。抓取数据分为三步。首先清空所有的数据，然后点击开始按钮，并分析抓取结果。</p> 
<p>①要抓取哪个页面的数据，就先访问哪个界面 。比如抓取微信公众平台数据接口：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ff/1f/yIAA2R3Z_o.png"></p> 
<p></p> 
<p>②当我们操作的时候，每加载一次数据，都会被我们的抓包工具Charles截获到，显示出来。左下角过滤框输入想抓的地址，其他所有的接口会被过滤掉，查看更方便：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/10/5f/We6yjFcT_o.png"></p> 
<p></p> 
<p><strong>2、IOS端配置</strong></p> 
<p>首先确保手机与电脑在同一局域网内，在手机无线中配置手动代理，输入安装Charles的电脑的网络地址，端口填8888，IOS端配置步骤总结如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/60/55/MzDg4D16_o.png"></p> 
<p></p> 
<p><strong>(3) IOS端证书安装</strong></p> 
<p>网络代理设置好后，打开safari浏览器（推荐使用safari，其他浏览器可能存在兼容性问题），在地址栏输入chls.pro/ssl。配置描述文件，选择“允许“。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6a/29/Hxu9Y6Mw_o.png"></p> 
<p></p> 
<p>安装完成后，在iphone设置 -&gt;通用 -&gt;描述文件与设备管理，查看已安装的证书。如果所有步骤完成，结果仍然无法进行抓包，检查信任证书是否完全开启，ios10.3之后加入新的特性，需要在IOS设备中，通用-&gt;关于本机-&gt;证书信任设置，针对CA根证书开启完全信任。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/93/6d/YYThsKSi_o.png"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e3a5a476d1ff0b2b59db2bf34246c6ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java中的方法&amp;有返回值的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/14e62f739ce2532e3c4ad245cd68e09c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构折半查找代码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>