<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>yii2 form ajax提交,yii2 ajax提交自定义表单什么都不做(yii2 ajax submit custom form do nothing)... - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="yii2 form ajax提交,yii2 ajax提交自定义表单什么都不做(yii2 ajax submit custom form do nothing)..." />
<meta property="og:description" content="yii2 ajax提交自定义表单什么都不做(yii2 ajax submit custom form do nothing)
**你好
我想用ajax提交我的表单值我在模态中的视图文件中有一个模态我构建了一个自定义表单来将我的数据提交给一个动作**
use yii\bootstrap\Modal;
use yii\helpers\Html;
use yii\helpers\Url;
Modal::begin([
&#39;header&#39; =&gt; &#39;روز تخمینی برای اتمام پروژه انتخاب کنید&#39;,
&#39;id&#39; =&gt; &#39;modal-accept&#39;,
&#39;size&#39; =&gt; &#39;modal-sm&#39;,
&#39;clientOptions&#39; =&gt; [
&#39;backdrop&#39; =&gt; &#39;static&#39;,
&#39;keyboard&#39; =&gt; false,
],
]);
?&gt;
echo jDate\DatePicker::widget([
&#39;name&#39; =&gt; &#39;datepicker&#39;,
&#39;id&#39; =&gt; &#39;estimate&#39;,
]);
?&gt;
= Html::submitButton(&#39;submit&#39;,[&#39;class&#39; =&gt; &#39;btn btn-sm btn-success&#39;]) ?&gt;
Modal::end();
?&gt;
提交我的价值并获得结果我使用此功能,,,但是当我点击提交没有ajax调用将执行什么都不会发生为什么我不能看到我的浏览器中的任何网络活动检查...
$(&#39;#modal_form&#39;).on(&#39;beforeSubmit&#39;, function(e) {
var form = $(this);" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b385e9c0f42ae655fe20538ee6318cc2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-06T12:10:57+08:00" />
<meta property="article:modified_time" content="2021-08-06T12:10:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">yii2 form ajax提交,yii2 ajax提交自定义表单什么都不做(yii2 ajax submit custom form do nothing)...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>yii2 ajax提交自定义表单什么都不做(yii2 ajax submit custom form do nothing)</p> 
 <p>**你好</p> 
 <p>我想用ajax提交我的表单值我在模态中的视图文件中有一个模态我构建了一个自定义表单来将我的数据提交给一个动作**</p> 
 <p>use yii\bootstrap\Modal;</p> 
 <p>use yii\helpers\Html;</p> 
 <p>use yii\helpers\Url;</p> 
 <p>Modal::begin([</p> 
 <p>'header' =&gt; 'روز تخمینی برای اتمام پروژه انتخاب کنید',</p> 
 <p>'id' =&gt; 'modal-accept',</p> 
 <p>'size' =&gt; 'modal-sm',</p> 
 <p>'clientOptions' =&gt; [</p> 
 <p>'backdrop' =&gt; 'static',</p> 
 <p>'keyboard' =&gt; false,</p> 
 <p>],</p> 
 <p>]);</p> 
 <p>?&gt;</p> 
 <div id="modal-content"> 
  <p>echo jDate\DatePicker::widget([</p> 
  <p>'name' =&gt; 'datepicker',</p> 
  <p>'id' =&gt; 'estimate',</p> 
  <p>]);</p> 
  <p>?&gt;</p> 
  <p>= Html::submitButton('submit',['class' =&gt; 'btn btn-sm btn-success']) ?&gt;</p> 
 </div> 
 <p>Modal::end();</p> 
 <p>?&gt;</p> 
 <p>提交我的价值并获得结果我使用此功能,,,但是当我点击提交没有ajax调用将执行什么都不会发生为什么我不能看到我的浏览器中的任何网络活动检查...</p> 
 <p>$('#modal_form').on('beforeSubmit', function(e) {<!-- --></p> 
 <p>var form = $(this);</p> 
 <p>var formData = form.serialize();</p> 
 <p>$.ajax({<!-- --></p> 
 <p>url: form.attr("action"),</p> 
 <p>type: form.attr("method"),</p> 
 <p>data: formData,</p> 
 <p>success: function (data) {<!-- --></p> 
 <p>console.log("successfull");</p> 
 <p>},</p> 
 <p>error: function () {<!-- --></p> 
 <p>alert("Something went wrong");</p> 
 <p>}</p> 
 <p>});</p> 
 <p>}).on('submit', function(e){<!-- --></p> 
 <p>e.preventDefault();</p> 
 <p>});</p> 
 <p>有什么建议吗？</p> 
 <p>**hello</p> 
 <p>i want to submit my form value with ajax i have a modal in my view file in modal i built a custom form to submit my data to a action**</p> 
 <p>use yii\bootstrap\Modal;</p> 
 <p>use yii\helpers\Html;</p> 
 <p>use yii\helpers\Url;</p> 
 <p>Modal::begin([</p> 
 <p>'header' =&gt; 'روز تخمینی برای اتمام پروژه انتخاب کنید',</p> 
 <p>'id' =&gt; 'modal-accept',</p> 
 <p>'size' =&gt; 'modal-sm',</p> 
 <p>'clientOptions' =&gt; [</p> 
 <p>'backdrop' =&gt; 'static',</p> 
 <p>'keyboard' =&gt; false,</p> 
 <p>],</p> 
 <p>]);</p> 
 <p>?&gt;</p> 
 <div> 
  <p>echo jDate\DatePicker::widget([</p> 
  <p>'name' =&gt; 'datepicker',</p> 
  <p>'id' =&gt; 'estimate',</p> 
  <p>]);</p> 
  <p>?&gt;</p> 
  <p>= Html::submitButton('submit',['class' =&gt; 'btn btn-sm btn-success']) ?&gt;</p> 
 </div> 
 <p>Modal::end();</p> 
 <p>?&gt;</p> 
 <p>for submit my value and get the result i used this function ,,, but when i click submit no ajax call will perform nothing will happening why i cant see any network activity in my browser inspect ...</p> 
 <p>$('#modal_form').on('beforeSubmit', function(e) {<!-- --></p> 
 <p>var form = $(this);</p> 
 <p>var formData = form.serialize();</p> 
 <p>$.ajax({<!-- --></p> 
 <p>url: form.attr("action"),</p> 
 <p>type: form.attr("method"),</p> 
 <p>data: formData,</p> 
 <p>success: function (data) {<!-- --></p> 
 <p>console.log("successfull");</p> 
 <p>},</p> 
 <p>error: function () {<!-- --></p> 
 <p>alert("Something went wrong");</p> 
 <p>}</p> 
 <p>});</p> 
 <p>}).on('submit', function(e){<!-- --></p> 
 <p>e.preventDefault();</p> 
 <p>});</p> 
 <p>any suggestion?</p> 
 <p>原文：https://stackoverflow.com/questions/45920739</p> 
 <p>更新时间：2019-10-07 09:02</p> 
 <p>最满意答案</p> 
 <p>在submsision之前你不需要使用，这就是问题所在</p> 
 <p>$('#modal_form').on('submit', function(e){<!-- --></p> 
 <p>e.preventDefault();</p> 
 <p>var form = $(this);</p> 
 <p>var formData = form.serialize();</p> 
 <p>$.ajax({<!-- --></p> 
 <p>url: form.attr("action"),</p> 
 <p>type: form.attr("method"),</p> 
 <p>data: formData,</p> 
 <p>success: function (data) {<!-- --></p> 
 <p>console.log("successfull");</p> 
 <p>},</p> 
 <p>error: function () {<!-- --></p> 
 <p>alert("Something went wrong");</p> 
 <p>}</p> 
 <p>});</p> 
 <p>return false;</p> 
 <p>});</p> 
 <p>You don't need to use before submsision, this is the problem</p> 
 <p>$('#modal_form').on('submit', function(e){<!-- --></p> 
 <p>e.preventDefault();</p> 
 <p>var form = $(this);</p> 
 <p>var formData = form.serialize();</p> 
 <p>$.ajax({<!-- --></p> 
 <p>url: form.attr("action"),</p> 
 <p>type: form.attr("method"),</p> 
 <p>data: formData,</p> 
 <p>success: function (data) {<!-- --></p> 
 <p>console.log("successfull");</p> 
 <p>},</p> 
 <p>error: function () {<!-- --></p> 
 <p>alert("Something went wrong");</p> 
 <p>}</p> 
 <p>});</p> 
 <p>return false;</p> 
 <p>});</p> 
 <p>相关问答</p> 
 <p>Yii ActiveForm在其生命周期的许多阶段都支持JavaScript事件。 您可以使用beforeSubmit事件来实现您正在查找的内容。 在JavaScript中： $(document).ready(</p> 
 <p>$('#myform').on('beforeSubmit', function(event, jqXHR, settings) {<!-- --></p> 
 <p>var form = $(this);</p> 
 <p>if(form.find('.has-error').length) {<!-- --></p> 
 <p>...</p> 
 <p>请看看demos @ http://demos.krajee.com/widget-details/select2 您可以使用Select2而不使用ActiveForm，甚至不使用Model。 从演示示例中，下面是相关的代码片段： use kartik\widgets\Select2</p> 
 <p>// With a model and without ActiveForm</p> 
 <p>echo Select2::widget([</p> 
 <p>'model' =&gt; $model,</p> 
 <p>'attribute' =&gt; 'st</p> 
 <p>...</p> 
 <p>您可以在成功回调中使用ajax表单提交和启用按钮。 假设你的from的id是myForm ，你的Add Slider和Add Attchment按钮分别有ids add-slider和add-attachment 。 $(document).ready(</p> 
 <p>$('#myform').on('beforeSubmit', function(event, jqXHR, settings) {<!-- --></p> 
 <p>var form = $(this);</p> 
 <p>if(form.find('.h</p> 
 <p>...</p> 
 <p>您不需要返回任何内容，只需将该错误添加到属性就足够了。 从版本2.0.11您可以使用yii\validators\InlineValidator::addError()来添加错误，而不是使用$this 。 这样，错误信息可以使用yii\i18n\I18N::format()立即yii\i18n\I18N::format() 。 使用错误消息中的{attribute}和{value}来引用属性标签(无需手动获取)和相应的属性值： 我怀疑你的情况是你缺少$formModel-&gt;validate() ，</p> 
 <p>...</p> 
 <p>虽然您可以在情景中使用Conditional Validators when但我会建议使用更复杂的方式来定义自定义验证程序，因为根据文档 要创建一个支持客户端验证的验证器，您应该实现yii\validators\Validator::clientValidateAttribute()方法，该方法返回一段JavaScript代码，在客户端执行验证。 在JavaScript代码中，您可以使用以下预定义变量： attribute:正在验证的属性的名称。 value:正在验证的值。 messages:用于</p> 
 <p>...</p> 
 <p>将它包含在ActiveForm配置中是不够的。 请求可以被发送，但表单将保持不变。 您还应该准备您的控制器(在CRUD生成的控制器中，它们是create和update ，在您的情况下，它可以只是一个 - 负责更新密码)，以便在AJAX请求的情况下返回正确的JSON数据。 了解它是如何在官方文档中完成的。 It's not enough to just include it in ActiveForm config. The requests can be sended but the form w</p> 
 <p>...</p> 
 <p>在submsision之前你不需要使用，这就是问题所在 $('#modal_form').on('submit', function(e){<!-- --></p> 
 <p>e.preventDefault();</p> 
 <p>var form = $(this);</p> 
 <p>var formData = form.serialize();</p> 
 <p>$.ajax({<!-- --></p> 
 <p>url: form.attr("action"),</p> 
 <p>type: form.attr("method"),</p> 
 <p>dat</p> 
 <p>...</p> 
 <p>问题 ajax中的问题是$_FILES细节不会在异步请求中发送。 当我们提交没有Ajax请求的填充表单并在PHP的后端进行调试时 echo '</p> 
 <pre>';</pre> 
 <p>print_r($_FILES);</p> 
 <p>print_r($_POST);</p> 
 <p>echo '</p>'; 
 <p>die;</p> 
 <p>那么我们会成功获取$_FILES和$_POST数据。 但是当我们在ajax请求中调试同样的东西时，我们只获得$_POST值，并且我们将$_FILES作为NULL 。 这导致我们得出结论， $_FILES数据不是由我们的上述代码</p> 
 <p>...</p> 
 <p>你为什么不用Pjax？ 使用yii \ widgets \ Pjax并在表单周围添加Pjax :: begin()和Pjax :: end()。 这是一个不错的指南： http ： //www.yiiframework.com/wiki/772/pjax-on-activeform-and-gridview-yii2/ Why don't you use Pjax? Use yii\widgets\Pjax and add Pjax::begin() and Pjax::end() around</p> 
 <p>...</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c6418125ce4d319764398340b90fc3d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">饥荒服务器物品指令,流年饥荒控制台指令全&#43;物品大全&#43;服务器管理命令大全.docx...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4e24a7fc5373455687f68af44d087351/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">免费CDN：jsDeliver&#43;Github使用方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>