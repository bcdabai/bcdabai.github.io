<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python删除字符串中重复字符_从Python中删除字符串标点符号的最佳方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python删除字符串中重复字符_从Python中删除字符串标点符号的最佳方法" />
<meta property="og:description" content="似乎有一个比以下更简单的方法：
1
2
3import string
s =&#34;string. With. Punctuation?&#34; # Sample string
out = s.translate(string.maketrans(&#34;&#34;,&#34;&#34;), string.punctuation)
有？
在我看来很直接。你为什么要改变它？如果你想更容易的话，就把你刚才写的东西包装在一个函数中。
好吧，用str.translate的副作用来做这项工作，似乎有点刻薄。我在想可能有一些更像str.strip(chars)的东西可以处理整个字符串，而不仅仅是我错过的边界。
也取决于数据。在服务器名称中包含下划线的数据(在某些地方很常见)上使用这个命令可能会很糟糕。只要确保你知道数据，知道它是什么，或者你可以以clbuttic问题的一个子集结束。
也取决于你所说的标点符号。&#34;The temperature in the O&#39;Reilly &amp; Arbuthnot-Smythe server&#39;s main rack is 40.5 degrees.只包含一个标点符号，第二个。
我很惊讶没有人提到string.punctuation根本不包括非英语标点符号。我在想。，！？：&amp;215；&#34;&#34;？等等。
不适用于Unicode字符串？
@约翰马钦，你忘了&#39; &#39;是标点符号。
从效率的角度看，你不会打败
1s.translate(None, string.punctuation)
对于较高版本的python，请使用以下代码：
1s.translate(str.maketrans(&#39;&#39;, &#39;&#39;, string.punctuation))
它使用一个查找表在C中执行原始字符串操作——除了编写自己的C代码，没有什么比这更好的了。
如果速度不是问题，另一个选择是：
1
2exclude = set(string.punctuation)
s = &#39;&#39;.join(ch for ch in s if ch not in exclude)
这比s.replace替换为每个字符要快，但不能像下面计时中看到的那样执行非纯Python方法，如regexes或string.translate。对于这种类型的问题，在尽可能低的水平上做它会有回报。
定时代码：
1
2
3
4
5" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/aaa8e1a1d5c4ebfd7caa89a7e56f9031/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-24T08:16:53+08:00" />
<meta property="article:modified_time" content="2020-11-24T08:16:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python删除字符串中重复字符_从Python中删除字符串标点符号的最佳方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>似乎有一个比以下更简单的方法：</p> 
<p>1</p> 
<p>2</p> 
<p>3import string</p> 
<p>s ="string. With. Punctuation?" # Sample string</p> 
<p>out = s.translate(string.maketrans("",""), string.punctuation)</p> 
<p>有？</p> 
<p>在我看来很直接。你为什么要改变它？如果你想更容易的话，就把你刚才写的东西包装在一个函数中。</p> 
<p>好吧，用str.translate的副作用来做这项工作，似乎有点刻薄。我在想可能有一些更像str.strip(chars)的东西可以处理整个字符串，而不仅仅是我错过的边界。</p> 
<p>也取决于数据。在服务器名称中包含下划线的数据(在某些地方很常见)上使用这个命令可能会很糟糕。只要确保你知道数据，知道它是什么，或者你可以以clbuttic问题的一个子集结束。</p> 
<p>也取决于你所说的标点符号。"The temperature in the O'Reilly &amp; Arbuthnot-Smythe server's main rack is 40.5 degrees.只包含一个标点符号，第二个。</p> 
<p>我很惊讶没有人提到string.punctuation根本不包括非英语标点符号。我在想。，！？：&amp;215；""？等等。</p> 
<p>不适用于Unicode字符串？</p> 
<p>@约翰马钦，你忘了' '是标点符号。</p> 
<p>从效率的角度看，你不会打败</p> 
<p>1s.translate(None, string.punctuation)</p> 
<p>对于较高版本的python，请使用以下代码：</p> 
<p>1s.translate(str.maketrans('', '', string.punctuation))</p> 
<p>它使用一个查找表在C中执行原始字符串操作——除了编写自己的C代码，没有什么比这更好的了。</p> 
<p>如果速度不是问题，另一个选择是：</p> 
<p>1</p> 
<p>2exclude = set(string.punctuation)</p> 
<p>s = ''.join(ch for ch in s if ch not in exclude)</p> 
<p>这比s.replace替换为每个字符要快，但不能像下面计时中看到的那样执行非纯Python方法，如regexes或string.translate。对于这种类型的问题，在尽可能低的水平上做它会有回报。</p> 
<p>定时代码：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17</p> 
<p>18</p> 
<p>19</p> 
<p>20</p> 
<p>21</p> 
<p>22</p> 
<p>23</p> 
<p>24</p> 
<p>25import re, string, timeit</p> 
<p>s ="string. With. Punctuation"</p> 
<p>exclude = set(string.punctuation)</p> 
<p>table = string.maketrans("","")</p> 
<p>regex = re.compile('[%s]' % re.escape(string.punctuation))</p> 
<p>def test_set(s):</p> 
<p>return ''.join(ch for ch in s if ch not in exclude)</p> 
<p>def test_re(s): # From Vinko's solution, with fix.</p> 
<p>return regex.sub('', s)</p> 
<p>def test_trans(s):</p> 
<p>return s.translate(table, string.punctuation)</p> 
<p>def test_repl(s): # From S.Lott's solution</p> 
<p>for c in string.punctuation:</p> 
<p>s=s.replace(c,"")</p> 
<p>return s</p> 
<p>print"sets :",timeit.Timer('f(s)', 'from __main__ import s,test_set as f').timeit(1000000)</p> 
<p>print"regex :",timeit.Timer('f(s)', 'from __main__ import s,test_re as f').timeit(1000000)</p> 
<p>print"translate :",timeit.Timer('f(s)', 'from __main__ import s,test_trans as f').timeit(1000000)</p> 
<p>print"replace :",timeit.Timer('f(s)', 'from __main__ import s,test_repl as f').timeit(1000000)</p> 
<p>结果如下：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4sets : 19.8566138744</p> 
<p>regex : 6.86155414581</p> 
<p>translate : 2.12455511093</p> 
<p>replace : 28.4436721802</p> 
<p>感谢您提供的计时信息，我本来想自己做一些类似的事情，但您的设计比我所能做的任何事情都要好，现在我可以将它用作我将来要编写的任何计时代码的模板：)。</p> 
<p>很好的回答。您可以通过删除表来简化它。文档说："对于只删除字符的翻译，将table参数设置为none"(docs.python.org/library/stdtypes.html_str.translate)</p> 
<p>对''.join()使用列表理解会使它更快一些，但速度不足以打败regex或translate。请参阅不带&amp;91；&amp;93；、python的列表理解，了解原因。</p> 
<p>你能解释一下"从主导入…"的语法吗？？</p> 
<p>同样值得注意的是，translate()对于str和unicode对象的行为也不同，因此您需要确保始终使用相同的数据类型，但此答案中的方法对这两种类型都同样有效，这很方便。</p> 
<p>在python3中，table = string.maketrans("","")应替换为table = str.maketrans({key: None for key in string.punctuation})？</p> 
<p>做set(string.punctuation)的目的是什么？它只有独特的价值观。</p> 
<p>@Mlissner-效率。它是一个列表/字符串，你需要做一个线性扫描来找出字母是否在字符串中。不过，使用集合或字典，通常会更快(除了非常小的字符串)，因为它不必检查每个值。</p> 
<p>@sparkandshine是的，除非您必须将每个键的序号映射到替换字符，所以在python 3中，它将是s.translate({ord(c): None for c in string.punctuation})。</p> 
<p>为了更新讨论，从python 3.6开始，regex现在是最有效的方法！它几乎比翻译快2倍。而且，套装和替换也不再那么糟糕了！它们都提高了4倍以上。)</p> 
<p>在python 3中，翻译表也可以由table = str.maketrans('', '', string.punctuation)docs.python.org/3/library/stdtypes.html_str.maketrans创建。</p> 
<p>我得到这个错误TypeError: translate() takes exactly one argument (2 given)。</p> 
<p>知道怎么解决这个问题吗</p> 
<p>类型错误：translate()只接受一个参数(给定2个)</p> 
<p>@是的，读你上面的评论…你用的是Python3，而不是Python2。</p> 
<p>正则表达式足够简单，如果你知道的话。</p> 
<p>1</p> 
<p>2</p> 
<p>3import re</p> 
<p>s ="string. With. Punctuation?"</p> 
<p>s = re.sub(r'[^\w\s]','',s)</p> 
<p>在上面的代码中，我们用空字符串替换(re.sub)所有非[字母数字字符(w)和空格(s)]。因此。还有？通过regex运行s变量后，变量"s"中将不存在标点符号。</p> 
<p>伟大的。你能解释一下吗？</p> 
<p>Unicode的，做的工作吗？？？？？？？？？？？？？？？</p> 
<p>解释："outlier取代需要Word字符(^)或空间与空字符串。要小心，虽然，比赛下划线W太，例如。</p> 
<p>"我认为它会sislam与Unicode Unicode与标志集，s = re.sub(r'[^\w\s]','',s, re.UNICODE)IU。在Linux测试它与Python 3它甚至没有标志使用泰米尔语文学？？？？？？？？？？？？？？？？？？？？？？？？？？？？？。。。。。。。</p> 
<p>这是一个地方，你应该使用正则表达式。</p> 
<p>为了方便使用，我总结了在python 2和python 3中从字符串中去掉标点符号的注意事项。详细描述请参考其他答案。</p> 
<p>Python 2</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5import string</p> 
<p>s ="string. With. Punctuation?"</p> 
<p>table = string.maketrans("","")</p> 
<p>new_s = s.translate(table, string.punctuation) # Output: string without punctuation</p> 
<p>Python 3</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5import string</p> 
<p>s ="string. With. Punctuation?"</p> 
<p>table = str.maketrans({key: None for key in string.punctuation})</p> 
<p>new_s = s.translate(table) # Output: string without punctuation</p> 
<p>小纸条：你不需要理解做一dict键映射到给定的dictof a None；{key: None for key in string.punctuation}可以取代这是一个dict.fromkeys(string.punctuation)所有工作在C层有一个单一的呼叫。</p> 
<p>"谢谢你shadowranger，此更新。</p> 
<p>1myString.translate(None, string.punctuation)</p> 
<p>啊，我试过了，但在任何情况下都不行。mystring.translate(string.maketrans("，"，)，string.标点)工作正常。</p> 
<p>什么时候不起作用？</p> 
<p>注意，对于python 3中的str和python 2中的unicode，不支持deletechars参数。</p> 
<p>@AGF：即使在使用字典参数的unicode和py3k情况下，您仍然可以使用.translate()删除标点符号。</p> 
<p>mystring.translate(string.maketrans("，")，string.punctuation)不与Unicode字符串(发现辛苦)</p> 
<p>marcmaxson @工作：myString.translate(str.maketrans("","", string.punctuation))是Unicode字符串在Python 3。虽然只在string.punctuation包括ASCII标点。点击链接在我以前的评论。它显示如何删除所有标点(包括Unicode One)。</p> 
<p>TypeError: translate() takes exactly one argument (2 given)：(</p> 
<p>"briantingle看Python代码：3评论(它在我的护照的一个参数)。链接到Python代码是2，湖和它的作品与Unicode的Python 3适应</p> 
<p>我通常用这样的东西：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7&gt;&gt;&gt; s ="string. With. Punctuation?" # Sample string</p> 
<p>&gt;&gt;&gt; import string</p> 
<p>&gt;&gt;&gt; for c in string.punctuation:</p> 
<p>... s= s.replace(c,"")</p> 
<p>...</p> 
<p>&gt;&gt;&gt; s</p> 
<p>'string With Punctuation'</p> 
<p>一个丑陋的一行：reduce(lambda s,c: s.replace(c, ''), string.punctuation, s)。</p> 
<p>很好，但是不能去除一些像长的连字符这样的问题。</p> 
<p>string.punctuation只是ASCII码！一种更正确(但也更慢)的方法是使用unicodedata模块：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5# -*- coding: utf-8 -*-</p> 
<p>from unicodedata import category</p> 
<p>s = u'String — with - ?punctation ?...'</p> 
<p>s = ''.join(ch for ch in s if category(ch)[0] != 'P')</p> 
<p>print 'stripped', s</p> 
<p>你可以regex.sub(ur"\p{P}+","", text)：</p> 
<p>不一定简单，但如果你更熟悉这个家庭的话，那就另当别论了。</p> 
<p>1</p> 
<p>2</p> 
<p>3import re, string</p> 
<p>s ="string. With. Punctuation?" # Sample string</p> 
<p>out = re.sub('[%s]' % re.escape(string.punctuation), '', s)</p> 
<p>因为字符串。标点符号有序列，-。以正确的、升序的、无间隔的、ASCII顺序。虽然python有这个权利，但是当您尝试使用string.pu点符号的子集时，它可能会因为意外的"-"而成为一个显示阻止符。</p> 
<p>事实上，这仍然是错误的。序列"93"被视为一个转义(巧合的是没有关闭)，因此绕过了另一个故障)，但没有转义。您应该使用re.escape(字符串、标点符号)来防止这种情况发生。</p> 
<p>是的，我省略了它，因为它在示例中起到了保持简单的作用，但是您认为它应该被合并是正确的。</p> 
<p>对于python 3 str或python 2 unicode值，str.translate()只接受字典；在该映射中查找代码点(整数)，并删除映射到None的任何内容。</p> 
<p>删除(一些？)标点符号，使用：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4import string</p> 
<p>remove_punct_map = dict.fromkeys(map(ord, string.punctuation))</p> 
<p>s.translate(remove_punct_map)</p> 
<p>dict.fromkeys()类方法使得创建映射变得简单，根据键的顺序将所有值设置为None。</p> 
<p>要删除所有标点符号，而不仅仅是ASCII标点符号，您的表需要大一点；请参见J.F.Sebastian的答案(python 3版本)：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5import unicodedata</p> 
<p>import sys</p> 
<p>remove_punct_map = dict.fromkeys(i for i in range(sys.maxunicode)</p> 
<p>if unicodedata.category(chr(i)).startswith('P'))</p> 
<p>支持Unicode，string.punctuation是不够的。我的回答湖</p> 
<p>事实上，我的回答："j.f.sebastian只是使用相同的字符作为一个顶级评为。添加您的Python版本表3。</p> 
<p>只有把作品评为最为ASCII字符串。你要明确索赔的Unicode支持。</p> 
<p>它j.f.sebastian @：Unicode字符串。IT标准的ASCII标点。我从来没有声称它带所有的标点。点是：-)提供正确的技术研究与unicode对象2 strPython对象。</p> 
<p>string.punctuation漏掉了现实世界中常用的大量标点符号。一个适用于非ASCII标点的解决方案如何？</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4import regex</p> 
<p>s = u"string. With. Some?Really Weird、Non？ASCII。 「(Punctuation)」?"</p> 
<p>remove = regex.compile(ur'[\p{C}|\p{M}|\p{P}|\p{S}|\p{Z}]+', regex.UNICODE)</p> 
<p>remove.sub(u"", s).strip()</p> 
<p>就我个人而言，我认为这是从python字符串中删除标点符号的最佳方法，因为：</p> 
<p>它删除所有Unicode标点符号</p> 
<p>它很容易修改，例如，如果要删除标点符号，可以删除\{S}，但保留类似$的符号。</p> 
<p>您可以对要保留的内容和要删除的内容进行具体说明，例如，\{Pd}只删除破折号。</p> 
<p>此regex还规范化空白。它将标签、回车和其他奇怪的东西映射到漂亮的单个空间。</p> 
<p>这使用了Unicode字符属性，您可以在维基百科上了解更多信息。</p> 
<p>下面是一个针对python 3.5的一行程序：</p> 
<p>1</p> 
<p>2import string</p> 
<p>"l*ots! o(f. p@u)n[c}t]u[a'ti"on#$^?/".translate(str.maketrans({a:None for a in string.punctuation}))</p> 
<p>这可能不是最好的解决方案，但我就是这样做的。</p> 
<p>1</p> 
<p>2import string</p> 
<p>f = lambda x: ''.join([i for i in x if i not in string.punctuation])</p> 
<p>这是我写的一个函数。它不是很有效，但很简单，您可以添加或删除任何您想要的标点：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7def stripPunc(wordList):</p> 
<p>"""Strips punctuation from list of words"""</p> 
<p>puncList = [".",";",":","!","?","/","\",",","#","@","$","&amp;",")","(","""]</p> 
<p>for punc in puncList:</p> 
<p>for word in wordList:</p> 
<p>wordList=[word.replace(punc,'') for word in wordList]</p> 
<p>return wordList</p> 
<p>我还没看到这个答案。只需使用regex；它会删除除单词字符(\w和数字字符(\d外的所有字符，后跟空白字符(\s)：</p> 
<p>1</p> 
<p>2</p> 
<p>3import re</p> 
<p>s ="string. With. Punctuation?" # Sample string</p> 
<p>out = re.sub(ur'[^\w\d\s]+', '', s)</p> 
<p>是因为它是一个\d冗余\w子集)。</p> 
<p>a number of Word字符子集被认为是人物？我的思想一个Word字符可以是任何字符构建真实的Word，例如A ZA Z？</p> 
<p>A是的，在"Word"正则表达式包括字母，数字和下划线。请描述一\w湖：在文档docs.python.org / 3 /图书馆/ re.html</p> 
<p>正如更新一样，我在python3中重写了@brian示例，并对其进行了更改，以将regex编译步骤移到函数内部。我在这里想的是时间的每一个步骤需要使功能工作。也许您使用的是分布式计算，并且不能在您的工作人员之间共享regex对象，并且需要在每个工作人员处执行re.compile步骤。另外，我还想知道针对python3的两种不同的maketrans实现的时间。</p> 
<p>1table = str.maketrans({key: None for key in string.punctuation})</p> 
<p>VS</p> 
<p>1table = str.maketrans('', '', string.punctuation)</p> 
<p>另外，我还添加了另一个方法来使用set，在这里我利用交集函数来减少迭代次数。</p> 
<p>这是完整的代码：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17</p> 
<p>18</p> 
<p>19</p> 
<p>20</p> 
<p>21</p> 
<p>22</p> 
<p>23</p> 
<p>24</p> 
<p>25</p> 
<p>26</p> 
<p>27</p> 
<p>28</p> 
<p>29</p> 
<p>30</p> 
<p>31</p> 
<p>32</p> 
<p>33</p> 
<p>34</p> 
<p>35</p> 
<p>36</p> 
<p>37</p> 
<p>38</p> 
<p>39</p> 
<p>40</p> 
<p>41</p> 
<p>42</p> 
<p>43</p> 
<p>44import re, string, timeit</p> 
<p>s ="string. With. Punctuation"</p> 
<p>def test_set(s):</p> 
<p>exclude = set(string.punctuation)</p> 
<p>return ''.join(ch for ch in s if ch not in exclude)</p> 
<p>def test_set2(s):</p> 
<p>_punctuation = set(string.punctuation)</p> 
<p>for punct in set(s).intersection(_punctuation):</p> 
<p>s = s.replace(punct, ' ')</p> 
<p>return ' '.join(s.split())</p> 
<p>def test_re(s): # From Vinko's solution, with fix.</p> 
<p>regex = re.compile('[%s]' % re.escape(string.punctuation))</p> 
<p>return regex.sub('', s)</p> 
<p>def test_trans(s):</p> 
<p>table = str.maketrans({key: None for key in string.punctuation})</p> 
<p>return s.translate(table)</p> 
<p>def test_trans2(s):</p> 
<p>table = str.maketrans('', '', string.punctuation)</p> 
<p>return(s.translate(table))</p> 
<p>def test_repl(s): # From S.Lott's solution</p> 
<p>for c in string.punctuation:</p> 
<p>s=s.replace(c,"")</p> 
<p>return s</p> 
<p>print("sets :",timeit.Timer('f(s)', 'from __main__ import s,test_set as f').timeit(1000000))</p> 
<p>print("sets2 :",timeit.Timer('f(s)', 'from __main__ import s,test_set2 as f').timeit(1000000))</p> 
<p>print("regex :",timeit.Timer('f(s)', 'from __main__ import s,test_re as f').timeit(1000000))</p> 
<p>print("translate :",timeit.Timer('f(s)', 'from __main__ import s,test_trans as f').timeit(1000000))</p> 
<p>print("translate2 :",timeit.Timer('f(s)', 'from __main__ import s,test_trans2 as f').timeit(1000000))</p> 
<p>print("replace :",timeit.Timer('f(s)', 'from __main__ import s,test_repl as f').timeit(1000000))</p> 
<p>这是我的结果：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6sets : 3.1830138750374317</p> 
<p>sets2 : 2.189873124472797</p> 
<p>regex : 7.142953420989215</p> 
<p>translate : 4.243278483860195</p> 
<p>translate2 : 2.427158243022859</p> 
<p>replace : 4.579746678471565</p> 
<p>这里有一个没有regex的解决方案。</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7import string</p> 
<p>input_text ="!where??and!!or$$then:)"</p> 
<p>punctuation_replacer = string.maketrans(string.punctuation, ' '*len(string.punctuation))</p> 
<p>print ' '.join(input_text.translate(punctuation_replacer).split()).strip()</p> 
<p>Output&gt;&gt; where and or then</p> 
<p>用空格替换标点符号</p> 
<p>将单词之间的多个空格替换为单个空格</p> 
<p>删除尾随空格(如果有)条()</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6&gt;&gt;&gt; s ="string. With. Punctuation?"</p> 
<p>&gt;&gt;&gt; s = re.sub(r'[^\w\s]','',s)</p> 
<p>&gt;&gt;&gt; re.split(r'\s*', s)</p> 
<p>['string', 'With', 'Punctuation']</p> 
<p>请编辑有更多的信息。"试试这个代码和只读"答案是气馁，因为他们searchable不包含的内容，不要解释为什么有人要"试试这个"。</p> 
<p>1</p> 
<p>2</p> 
<p>3import re</p> 
<p>s ="string. With. Punctuation?" # Sample string</p> 
<p>out = re.sub(r'[^a-zA-Z0-9\s]', '', s)</p> 
<p>在不太严格的情况下，使用一行程序可能会有所帮助：</p> 
<p>1''.join([c for c in s if c.isalnum() or c.isspace()])</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17</p> 
<p>18</p> 
<p>19</p> 
<p>20#FIRST METHOD</p> 
<p>#Storing all punctuations in a variable</p> 
<p>punctuation='!?,.:;"\')(_-'</p> 
<p>newstring='' #Creating empty string</p> 
<p>word=raw_input("Enter string:")</p> 
<p>for i in word:</p> 
<p>if(i not in punctuation):</p> 
<p>newstring+=i</p> 
<p>print"The string without punctuation is",newstring</p> 
<p>#SECOND METHOD</p> 
<p>word=raw_input("Enter string:")</p> 
<p>punctuation='!?,.:;"\')(_-'</p> 
<p>newstring=word.translate(None,punctuation)</p> 
<p>print"The string without punctuation is",newstring</p> 
<p>#Output for both methods</p> 
<p>Enter string: hello! welcome -to_python(programming.language)??,</p> 
<p>The string without punctuation is: hello welcome topythonprogramminglanguage</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17</p> 
<p>18</p> 
<p>19</p> 
<p>20with open('one.txt','r')as myFile:</p> 
<p>str1=myFile.read()</p> 
<p>print(str1)</p> 
<p>punctuation = ['(', ')', '?', ':', ';', ',', '.', '!', '/', '"',"'"]</p> 
<p>for i in punctuation:</p> 
<p>str1 = str1.replace(i,"")</p> 
<p>myList=[]</p> 
<p>myList.extend(str1.split(""))</p> 
<p>print (str1)</p> 
<p>for i in myList:</p> 
<p>print(i,end='</p> 
<p>')</p> 
<p>print ("____________")</p> 
<p>使用regex函数进行搜索和替换，如下所示。如果必须重复执行该操作，则可以保留一个已编译的regex模式(标点符号)副本，这将加快速度。</p> 
<p>是否更正了string.标点符号区域设置？如果是这样，这可能不是最好的解决方案。</p> 
<p>我不确定，我没用过。我假设海报/读者会知道他们要替换的标点符号。</p> 
<p>嗯……我也不知道。我希望。标点符号可以在本地更正，但我不会依赖它。如果用户有一组特定的字符，那么编译后的regex是一个很好的方法，这可能是正确的。</p> 
<p>使用python从文本文件中删除停止字</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17</p> 
<p>18</p> 
<p>19</p> 
<p>20print('====THIS IS HOW TO REMOVE STOP WORS====')</p> 
<p>with open('one.txt','r')as myFile:</p> 
<p>str1=myFile.read()</p> 
<p>stop_words ="not","is","it","By","between","This","By","A","when","And","up","Then","was","by","It","If","can","an","he","This","or","And","a","i","it","am","at","on","in","of","to","is","so","too","my","the","and","but","are","very","here","even","from","them","then","than","this","that","though","be","But","these"</p> 
<p>myList=[]</p> 
<p>myList.extend(str1.split(""))</p> 
<p>for i in myList:</p> 
<p>if i not in stop_words:</p> 
<p>print ("____________")</p> 
<p>print(i,end='</p> 
<p>')</p> 
<p>这是如何把我们的文件改成大写的或小写字母。</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6</p> 
<p>7</p> 
<p>8</p> 
<p>9</p> 
<p>10</p> 
<p>11</p> 
<p>12</p> 
<p>13</p> 
<p>14</p> 
<p>15</p> 
<p>16</p> 
<p>17print('@@@@This is lower case@@@@')</p> 
<p>with open('students.txt','r')as myFile:</p> 
<p>str1=myFile.read()</p> 
<p>str1.lower()</p> 
<p>print(str1.lower())</p> 
<p>print('*****This is upper case****')</p> 
<p>with open('students.txt','r')as myFile:</p> 
<p>str1=myFile.read()</p> 
<p>str1.upper()</p> 
<p>print(str1.upper())</p> 
<p>我喜欢使用这样的函数：</p> 
<p>1</p> 
<p>2</p> 
<p>3</p> 
<p>4</p> 
<p>5</p> 
<p>6def scrub(abc):</p> 
<p>while abc[-1] is in list(string.punctuation):</p> 
<p>abc=abc[:-1]</p> 
<p>while abc[0] is in list(string.punctuation):</p> 
<p>abc=abc[1:]</p> 
<p>return abc</p> 
<p>这是剥离从开始和结束字符；使用abc.strip(string.punctuation)而不是那个。它不会删除在搜索中的人物。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/02cc2f187eea6c150762427ae14fb3c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python函数参数顺序_Python 列表sort()添加key和reverse参数操作方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a7664886e2c991aa40270a5d10f64d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">高德地图天气图标符号大全_@CS85车主，你们要的最新高德地图，来了！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>