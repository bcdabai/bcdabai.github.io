<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>程序员必备的七大面向对象设计原则（三） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="程序员必备的七大面向对象设计原则（三）" />
<meta property="og:description" content="五、接口隔离原则 1. 定义
i. 客户端不应该依赖那些它不需要的接口。
ii. 一旦一个接口太大，则需要将它分割成一些更细小的接口，使用该接口的客户端仅需知道与之相关的方法即可。
2.分析
i. 接口隔离原则是指使用多个专门的接口，而不使用单一的总接口。每一个接口应该承担一种相对独立的角色，不多不少，不干不该干的事，该干的事都要干。
ii. 使用接口隔离原则拆分接口时，首先必须满足单一职责原则，将一组相关的操作定义在一个接口中，且在满足高内聚的前提下，接口中的方法越少越好。
iii. 可以在进行系统设计时采用定制服务的方式，即为不同的客户端提供宽窄不同的接口，只提供用户需要的行为，而隐藏用户不需要的行为
3.实例
i. 下图展示了一个拥有多个客户类的系统，在系统中定义了一个巨大的接口（胖接口）AbstractService来服务所有的客户类。如图所示：
图（一）
图（二）
图（一）和图（二）分析：
图（一）为什么到图（二）哪？因为这样做既满足了接口隔离原则，又满足了单一原则，何乐而不为呢，但是也带来了很多的不便，类增多了。
总结：类应该完全依赖相应的专门的接口 六、合成复用原则 1.定义
i. 尽量使用对象组合，而不是继承来达到复用的目的。
2.分析
i. 合成复用原则就是指在一个新的对象里通过关联关系（包括组合关系和聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用其已有功能的目的。简言之：要尽量使用组合/聚合关系，少用继承。
ii. 在面向对象设计中，可以通过两种基本方法在不同的环境中复用已有的设计和实现，即通过组合/聚合关系或通过继承。
a) 继承复用：实现简单，易于扩展。破坏系统的封装性；从基类继承而来的实现是静态的，不可能在运行时发生改变，没有足够的灵活性；只能在有限的环境中使用。（“白箱”复用 ）
b) 组合/聚合复用：耦合度相对较低，选择性地调用成员对象的操作；可以在运行时动态进行。（“黑箱”复用 ） iii. 组合/聚合可以使系统更加灵活，类与类之间的耦合度降低，一个类的变化对其他类造成的影响相对较少，因此一般首选使用组合/聚合来实现复用；其次才考虑继承，在使用继承时，需要严格遵循里氏代换原则，有效使用继承会有助于对问题的理解，降低复杂度，而滥用继承反而会增加系统构建和维护的难度以及系统的复杂度，因此需要慎重使用继承复用。
3. 实例
i. 某教学管理系统部分数据库访问类设计如图所示：
图（一）
图（二）
图（一）和图（二）分析：
图（一）为什么到图（二）哪？因为如果需要更换数据库连接方式，如原来采用JDBC连接数据库，现在采用数据库连接池连接，则需要修改DBUtil类源代码。如果StudentDAO采用JDBC连接，但是TeacherDAO采用连接池连接，则需要增加一个新的DBUtil类，并修改StudentDAO或TeacherDAO的源代码，使之继承新的数据库连接类，这将违背开闭原则，系统扩展性较差。
总结：类中应用，尽量使用对象组合而不是用继承来达到复用的目的。 七、迪米特法则 1. 定义
i. 每一个软件单位对其他的单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位。
2. 分析
i.迪米特法则就是指一个软件实体应当尽可能少的与其他实体发生相互作用。这样，当一个模块修改时，就会尽量少的影响其他的模块，扩展会相对容易，这是对软件实体之间通信的限制，它要求限制软件实体之间通信的宽度和深度。
ii. 狭义的迪米特法则：可以降低类之间的耦合，但是会在系统中增加大量的小方法并散落在系统的各个角落，它可以使一个系统的局部设计简化，因为每一个局部都不会和远距离的对象有直接的关联，但是也会造成系统的不同模块之间的通信效率降低，使得系统的不同模块之间不容易协调。
iii. 广义的迪米特法则：指对对象之间的信息流量、流向以及信息的影响的控制，主要是对信息隐藏的控制。信息的隐藏可以使各个子系统之间脱耦，从而允许它们独立地被开发、优化、使用和修改，同时可以促进软件的复用，由于每一个模块都不依赖于其他模块而存在，因此每一个模块都可以独立地在其他的地方使用。一个系统的规模越大，信息的隐藏就越重要，而信息隐藏的重要性也就越明显。
iv. 迪米特法则的主要用途在于控制信息的过载。
1.在类的划分上，应当尽量创建松耦合的类，类之间的耦合度越低，就越有利于复用，一个处在松耦合中的类一旦被修改，不会对关联的类造成太大波及
2.在类的结构设计上，每一个类都应当尽量降低其成员变量和成员函数的访问权限
3.在类的设计上，只要有可能，一个类型应当设计成不变类
4.在对其他类的引用上，一个对象对其他对象的引用应当降到最低。
3. 实例
i.某系统界面类(如Form1、Form2等类)与数据访问类(如DAO1、DAO2等类)之间的调用关系较为复杂。如图所示：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5edb933fc33471f431b31b8a07e86d6e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-05-28T07:50:00+08:00" />
<meta property="article:modified_time" content="2012-05-28T07:50:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">程序员必备的七大面向对象设计原则（三）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>五、接口隔离原则</h2> 
<blockquote style="border:none;"> 
 <p>1. 定义</p> 
 <p> i. 客户端不应该依赖那些它不需要的接口。</p> 
 <p> ii. 一旦一个接口太大，则需要将它分割成一些更细小的接口，使用该接口的客户端仅需知道与之相关的方法即可。</p> 
 <p>2.分析</p> 
 <p> i. 接口隔离原则是指使用多个专门的接口，而不使用单一的总接口。每一个接口应该承担一种相对独立的角色，不多不少，不干不该干的事，该干的事都要干。</p> 
 <p> ii. 使用接口隔离原则拆分接口时，首先必须满足单一职责原则，将一组相关的操作定义在一个接口中，且在满足高内聚的前提下，接口中的方法越少越好。</p> 
 <p> iii. 可以在进行系统设计时采用定制服务的方式，即为不同的客户端提供宽窄不同的接口，只提供用户需要的行为，而隐藏用户不需要的行为</p> 
 <p>3.实例</p> 
 <p> i. 下图展示了一个拥有多个客户类的系统，在系统中定义了一个巨大的接口（胖接口）AbstractService来服务所有的客户类。如图所示：</p> 
 <p><img src="https://images2.imgbox.com/d6/8d/thhl8MCC_o.jpg" alt=""><br></p> 
</blockquote> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <p>图（一）</p> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p><img src="https://images2.imgbox.com/ba/b8/4ht4zWYD_o.jpg" alt=""><br></p> 
</blockquote> 
<p></p> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <p>图（二）</p> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p>图（一）和图（二）分析：</p> 
 <p>图（一）为什么到图（二）哪？因为这样做既满足了接口隔离原则，又满足了单一原则，何乐而不为呢，但是也带来了很多的不便，类增多了。</p> 
 <h4>总结：类应该完全依赖相应的专门的接口</h4> 
</blockquote> 
<p></p> 
<p></p> 
<h2>六、合成复用原则</h2> 
<blockquote style="border:none;"> 
 <p></p> 
 <p>1.定义</p> 
 <p></p> 
 <p> i. 尽量使用对象组合，而不是继承来达到复用的目的。</p> 
 <p></p> 
 <p>2.分析</p> 
 <p></p> 
 <p> i. 合成复用原则就是指在一个新的对象里通过关联关系（包括组合关系和聚合关系）来使用一些已有的对象，使之成为新对象的一部分；新对象通过委派调用已有对象的方法达到复用其已有功能的目的。简言之：要尽量使用组合/聚合关系，少用继承。</p> 
 <p></p> 
 <p> ii. 在面向对象设计中，可以通过两种基本方法在不同的环境中复用已有的设计和实现，即通过组合/聚合关系或通过继承。</p> 
 <p>a) 继承复用：实现简单，易于扩展。破坏系统的封装性；从基类继承而来的实现是静态的，不可能在运行时发生改变，没有足够的灵活性；只能在有限的环境中使用。（“白箱”复用 ）</p> 
 <p>b) 组合/聚合复用：耦合度相对较低，选择性地调用成员对象的操作；可以在运行时动态进行。（“黑箱”复用 ） </p> 
</blockquote> 
<blockquote style="border:none;"> 
 <p></p> 
 <p> iii. 组合/聚合可以使系统更加灵活，类与类之间的耦合度降低，一个类的变化对其他类造成的影响相对较少，因此一般首选使用组合/聚合来实现复用；其次才考虑继承，在使用继承时，需要严格遵循里氏代换原则，有效使用继承会有助于对问题的理解，降低复杂度，而滥用继承反而会增加系统构建和维护的难度以及系统的复杂度，因此需要慎重使用继承复用。</p> 
 <p></p> 
 <p>3. 实例</p> 
 <p></p> 
 <p> i. 某教学管理系统部分数据库访问类设计如图所示：</p> 
 <p><img src="https://images2.imgbox.com/a1/dd/oh7V17KH_o.jpg" alt=""><br></p> 
</blockquote> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <p>图（一）</p> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p><img src="https://images2.imgbox.com/27/8a/OnH1SIEH_o.jpg" alt=""><br></p> 
</blockquote> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <blockquote style="border:none;"> 
         <p>图（二）</p> 
        </blockquote> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p></p> 
 <p>图（一）和图（二）分析：</p> 
 <p>图（一）为什么到图（二）哪？因为<span style="color:#080808;">如果需要更换数据库连接方式，如原来采用</span><span style="color:#080808;">JDBC</span><span style="color:#080808;">连接数据库，现在采用数据库连接池连接，则需要修改</span><span style="color:#080808;">DBUtil</span><span style="color:#080808;">类源代码。如果</span><span style="color:#080808;">StudentDAO</span><span style="color:#080808;">采用</span><span style="color:#080808;">JDBC</span><span style="color:#080808;">连接，但是</span><span style="color:#080808;">TeacherDAO</span><span style="color:#080808;">采用连接池连接，则需要增加一个新的</span><span style="color:#080808;">DBUtil</span><span style="color:#080808;">类，并修改</span><span style="color:#080808;">StudentDAO</span><span style="color:#080808;">或</span><span style="color:#080808;">TeacherDAO</span><span style="color:#080808;">的源代码，使之继承新的数据库连接类，这将违背开闭原则，系统扩展性较差。</span></p> 
 <h5><span style="color:#080808;">总结：类中应用，尽量使用对象组合而不是用继承来达到复用的目的。</span></h5> 
</blockquote> 
<h2>七、迪米特法则</h2> 
<blockquote style="border:none;"> 
 <p></p> 
 <p></p> 
 <p>1. 定义</p> 
 <p></p> 
 <p></p> 
 <p> i. 每一个软件单位对其他的单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位。</p> 
 <p></p> 
 <p></p> 
 <p>2. 分析</p> 
 <p></p> 
 <p></p> 
 <p> i.迪米特法则就是指一个软件实体应当尽可能少的与其他实体发生相互作用。这样，当一个模块修改时，就会尽量少的影响其他的模块，扩展会相对容易，这是对软件实体之间通信的限制，它要求限制软件实体之间通信的宽度和深度。</p> 
 <p></p> 
 <p></p> 
 <p> ii. 狭义的迪米特法则：可以降低类之间的耦合，但是会在系统中增加大量的小方法并散落在系统的各个角落，它可以使一个系统的局部设计简化，因为每一个局部都不会和远距离的对象有直接的关联，但是也会造成系统的不同模块之间的通信效率降低，使得系统的不同模块之间不容易协调。</p> 
 <p></p> 
 <p></p> 
 <p> iii. 广义的迪米特法则：指对对象之间的信息流量、流向以及信息的影响的控制，主要是对信息隐藏的控制。信息的隐藏可以使各个子系统之间脱耦，从而允许它们独立地被开发、优化、使用和修改，同时可以促进软件的复用，由于每一个模块都不依赖于其他模块而存在，因此每一个模块都可以独立地在其他的地方使用。一个系统的规模越大，信息的隐藏就越重要，而信息隐藏的重要性也就越明显。</p> 
 <p></p> 
 <p></p> 
 <p> iv. 迪米特法则的主要用途在于控制信息的过载。</p> 
 <p></p> 
 <p></p> 
 <p>1.在类的划分上，应当尽量创建松耦合的类，类之间的耦合度越低，就越有利于复用，一个处在松耦合中的类一旦被修改，不会对关联的类造成太大波及</p> 
 <p></p> 
 <p></p> 
 <p>2.在类的结构设计上，每一个类都应当尽量降低其成员变量和成员函数的访问权限</p> 
 <p></p> 
 <p></p> 
 <p>3.在类的设计上，只要有可能，一个类型应当设计成不变类</p> 
 <p></p> 
 <p></p> 
 <p>4.在对其他类的引用上，一个对象对其他对象的引用应当降到最低。</p> 
 <p></p> 
 <p></p> 
 <p>3. 实例</p> 
 <p></p> 
 <p></p> 
 <p> i.某系统界面类(如Form1、Form2等类)与数据访问类(如DAO1、DAO2等类)之间的调用关系较为复杂。如图所示：</p> 
 <p></p> 
 <p><img src="https://images2.imgbox.com/4b/db/HAn5M8sc_o.jpg" alt=""><br></p> 
</blockquote> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <p>图（一）</p> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p><img src="https://images2.imgbox.com/3f/3c/Oub4qEip_o.jpg" alt=""><br></p> 
</blockquote> 
<blockquote style="border:none;"> 
 <blockquote style="border:none;"> 
  <blockquote style="border:none;"> 
   <blockquote style="border:none;"> 
    <blockquote style="border:none;"> 
     <blockquote style="border:none;"> 
      <blockquote style="border:none;"> 
       <blockquote style="border:none;"> 
        <p>图（二）</p> 
       </blockquote> 
      </blockquote> 
     </blockquote> 
    </blockquote> 
   </blockquote> 
  </blockquote> 
 </blockquote> 
</blockquote> 
<blockquote style="border:none;"> 
 <p></p> 
 <p>图（一）和图（二）分析：</p> 
 <p>图（一）为什么到图（二）哪？因为这样就可以降低类的耦合性，是类中功能更加单一，相当于外观模式。</p> 
 <h5>总结：一个软件实体应当尽可能少的与其他实体发生相互作用</h5> 
 <p></p> 
</blockquote> 
<h4>综述：以上就是其中程序员必备的七大面向对象设计原则，原则犹如国家的法规，这就是面向对象的准则，要使我们的编程更加灵活，封装性更好，复用性更高，易于维护我们需要我们的这些原则建设我们规范我们的程序。这样我们编写的才是高质量的程序。我们每个人都这样去做，我们的编程水平一定会进步一大截！</h4> 
<div> 
 <span style="color:rgb(255,0,0);font-family:Arial;font-size:16px;line-height:26px;text-align:left;">感谢大家的支持，无论是顶的，还是踩的，都谢谢你们，希望大家互相关注，共同进步。</span> 
 <br> 
</div> 
<p>上接：<a href="http://blog.csdn.net/qiulongtianshi/article/details/7607192" style="font-family:'Microsoft YaHei';font-size:20px;line-height:30px;text-align:left;text-decoration:none;"><span style="color:#ff0000;">程序员必备的七大面向对象设计原则（二）</span></a></p> 
<p></p> 
<p></p> 
<p><br></p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/702847b3739d5a45e8b1d965d51a23fe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">有关BGP协议的13条选路规则，一些总结和看法 [收藏]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/61f7986e744b7adce0343360f9106286/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VC&#43;&#43;中cl.exe编译器的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>