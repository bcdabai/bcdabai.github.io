<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JQ动态粒子效果 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JQ动态粒子效果" />
<meta property="og:description" content="&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&#34;utf-8&#34;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&#34;https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;!-- 注意：style和script都包含在body内部，否则会导致代码无样式效果以及js事件无法实现 --&gt;
&lt;body&gt;
&lt;div id=&#34;jsi-particle-container&#34; class=&#34;container&#34;&gt;
&lt;!-- 创建画布 --&gt;
&lt;canvas width=&#34;100%&#34; height=&#34;100%&#34; style=&#34;align:center;&#34;&gt;&lt;/canvas&gt;&lt;!--canvas标签定义图形，必须使用脚本来绘制图形--&gt;
&lt;/div&gt;
&lt;style&gt;
html,body {
width: 100%;
height: 100%;
margin: 0;
padding: 0;
overflow: hidden; /*overflow属性指定如果内容溢出一个元素的框，会发生什么 其属性值hidden表示内容会被修建，并且其余内容是不可见的*/
/* overflow属性值:
visible 默认值，内容不会被修剪，会呈现在元素框之外
hidden 内容会被修剪，并且其余内容是不可见的
scroll 内容会被修剪，但是浏览器会显示滚动条以便查看其他内容
auto 若内容被修剪，则浏览器会显示滚动条
inherit 规定应该从父元素继承overflow属性的值
注意：overflow属性只工作于指定高度的块元素上
*/
}
.container{
width: 100％;
height: 100%;
margin: 0;
padding: 0;
background-color: #000000;
}
&lt;/style&gt;
&lt;script&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/92c22419cbf2d40e4a1e6af4f452864b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-02T21:46:46+08:00" />
<meta property="article:modified_time" content="2023-06-02T21:46:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JQ动态粒子效果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>&lt;!DOCTYPE html&gt;<br> &lt;html&gt;<br>     &lt;head&gt;<br>         &lt;meta charset="utf-8"&gt;<br>         &lt;title&gt;&lt;/title&gt;<br>         &lt;script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"&gt;&lt;/script&gt;<br>     &lt;/head&gt;<br>     &lt;!-- 注意：style和script都包含在body内部，否则会导致代码无样式效果以及js事件无法实现 --&gt;<br>     &lt;body&gt;<br>         &lt;div id="jsi-particle-container" class="container"&gt;<br>             &lt;!-- 创建画布 --&gt;<br>             &lt;canvas width="100%" height="100%" style="align:center;"&gt;&lt;/canvas&gt;&lt;!--canvas标签定义图形，必须使用脚本来绘制图形--&gt;<br>         &lt;/div&gt;<br>         <br>         &lt;style&gt;<br>             html,body {<!-- --><br>                 width: 100%;<br>                 height: 100%;<br>                 margin: 0;<br>                 padding: 0;<br>                 overflow: hidden; <br>                 /*overflow属性指定如果内容溢出一个元素的框，会发生什么  其属性值hidden表示内容会被修建，并且其余内容是不可见的*/<br>                 /* overflow属性值:<br>                     visible  默认值，内容不会被修剪，会呈现在元素框之外<br>                     hidden 内容会被修剪，并且其余内容是不可见的<br>                     scroll  内容会被修剪，但是浏览器会显示滚动条以便查看其他内容<br>                     auto  若内容被修剪，则浏览器会显示滚动条<br>                     inherit  规定应该从父元素继承overflow属性的值<br>                     <br>                     注意：overflow属性只工作于指定高度的块元素上<br>                  */<br>             }<br>             .container{<!-- --><br>                 width: 100％;<br>                 height: 100%;<br>                 margin: 0;<br>                 padding: 0;<br>                 background-color: #000000;<br>             }<br>         &lt;/style&gt;<br>         <br>         &lt;script&gt;<br>             //绘制图形<br>             var RENDERER = {<!-- --><br>                 PARTICLE_COUNT : 1000,<br>                 PARTICLE_RADIUS : 1,<br>                 MAX_ROTATION_ANGLE : Math.PI / 60,<br>                 TRANSLATION_COUNT : 10000,<br>                 <br>                 //函数体汇总<br>                 init : function(strategy){<!-- --><br>                     this.setParameters(strategy);<br>                     this.createParticles();<br>                     this.setupFigure();<br>                     this.reconstructMethod();<br>                     this.bindEvent();<br>                     this.drawFigure();<br>                 },<br>                 //窗口响应事件，图形大小控制<br>                 setParameters : function(strategy){<!-- --><br>                     this.$window = $(window);<br>                     <br>                     //调用html中的样式<br>                     this.$container = $('#jsi-particle-container');<br>                     this.width = this.$container.width();<br>                     this.height = this.$container.height();<br>                     <br>                     this.$canvas = $('&lt;canvas /&gt;').attr({width : this.width, height : this.height}).appendTo(this.$container);<br>                     this.context = this.$canvas.get(0).getContext('2d');//2D动画<br>                     <br>                     this.center = {x : this.width / 2, y : this.height / 2};<br>                     <br>                     //rotation控制旋转  MAX_ROTATION_ANGLE随机旋转<br>                     this.rotationX = this.MAX_ROTATION_ANGLE;<br>                     this.rotationY = this.MAX_ROTATION_ANGLE;<br>                     <br>                     //strategyIndex战略索引<br>                     this.strategyIndex = 0;<br>                     //translationCount动画过渡数量  影响点击颜色变化的深浅度<br>                     this.translationCount = 0;<br>                     this.theta = 0;<br>                     <br>                     this.strategies = strategy.getStrategies();<br>                     this.particles = [];<br>                 },<br>                 createParticles : function(){<!-- --><br>                     //循环输出<br>                     for(var i = 0; i &lt; this.PARTICLE_COUNT; i ++){<!-- --><br>                         this.particles.push(new PARTICLE(this.center));<br>                     }<br>                 },<br>                 //绑定事件bind  <br>                 reconstructMethod : function(){<!-- --><br>                     this.setupFigure = this.setupFigure.bind(this);//建立<br>                     this.drawFigure = this.drawFigure.bind(this);//绘制<br>                     this.changeAngle = this.changeAngle.bind(this);//改变<br>                 },<br>                 bindEvent : function(){<!-- --><br>                     this.$container.on('click', this.setupFigure);//点击事件<br>                     this.$container.on('mousemove', this.changeAngle);//鼠标响应事件<br>                 },<br>                 changeAngle : function(event){<!-- --><br>                     var offset = this.$container.offset(), //offset方法返回或设置匹配元素相对于文档的偏移（位置）<br>                         x = event.clientX - offset.left + this.$window.scrollLeft(),//clientX  js鼠标事件<br>                         y = event.clientY - offset.top + this.$window.scrollTop();<br>                     <br>                     this.rotationX = (this.center.y - y) / this.center.y * this.MAX_ROTATION_ANGLE;<br>                     this.rotationY = (this.center.x - x) / this.center.x * this.MAX_ROTATION_ANGLE;<br>                 },<br>                 setupFigure : function(){<!-- --><br>                     for(var i = 0, length = this.particles.length; i &lt; length; i++){<!-- --><br>                         this.particles[i].setAxis(this.strategies[this.strategyIndex]());<br>                     }<br>                     if(++this.strategyIndex == this.strategies.length){<!-- --><br>                         this.strategyIndex = 0;<br>                     }<br>                     this.translationCount = 0;<br>                 },<br>                 drawFigure : function(){<!-- --><br>                     requestAnimationFrame(this.drawFigure);<br>                     <br>                     this.context.fillStyle = 'rgba(0, 0, 0, 0.2)';<br>                     this.context.fillRect(0, 0, this.width, this.height);<br>                     <br>                     for(var i = 0, length = this.particles.length; i &lt; length; i++){<!-- --><br>                         var axis = this.particles[i].getAxis2D(this.theta);<br>                         <br>                         this.context.beginPath();<br>                         this.context.fillStyle = axis.color;<br>                         this.context.arc(axis.x, axis.y, this.PARTICLE_RADIUS, 0, Math.PI * 2, false);<br>                         this.context.fill();<br>                     }<br>                     this.theta++;<br>                     this.theta %= 360;<br>                     <br>                     for(var i = 0, length = this.particles.length; i &lt; length; i++){<!-- --><br>                         this.particles[i].rotateX(this.rotationX);<br>                         this.particles[i].rotateY(this.rotationY);<br>                     }<br>                     this.translationCount++;<br>                     this.translationCount %= this.TRANSLATION_COUNT;<br>                     <br>                     if(this.translationCount == 0){<!-- --><br>                         this.setupFigure();<br>                     }<br>                 }<br>             };<br>             var STRATEGY = {<!-- --><br>                 SCATTER_RADIUS :200,<br>                 CONE_ASPECT_RATIO : 4,<br>                 RING_COUNT : 8,<br>                 <br>                 getStrategies : function(){<!-- --><br>                     var strategies = [];<br>                     //校验<br>                     for(var i in this){<!-- --><br>                         if(this[i] == arguments.callee || typeof this[i] != 'function'){<!-- --><br>                             continue;<br>                         }<br>                         strategies.push(this[i].bind(this));<br>                     }<br>                     return strategies;<br>                 },<br>                 //随机数绘制图形<br>                 createSphere : function(){<!-- --><br>                     var cosTheta = Math.random() * 2 - 1,<br>                         sinTheta = Math.sqrt(1 - cosTheta * cosTheta),<br>                         phi = Math.random() * 2 * Math.PI;<br>                         <br>                     return {<!-- --><br>                         x : this.SCATTER_RADIUS * sinTheta * Math.cos(phi),<br>                         y : this.SCATTER_RADIUS * sinTheta * Math.sin(phi),<br>                         z : this.SCATTER_RADIUS * cosTheta,<br>                         hue : Math.round(phi / Math.PI * 30)<br>                     };<br>                 },<br>                 createTorus : function(){<!-- --><br>                     var theta = Math.random() * Math.PI * 2,<br>                         x = this.SCATTER_RADIUS + this.SCATTER_RADIUS / 6 * Math.cos(theta),<br>                         y = this.SCATTER_RADIUS / 6 * Math.sin(theta),<br>                         phi = Math.random() * Math.PI * 2;<br>                     <br>                     return {<!-- --><br>                         x : x * Math.cos(phi),<br>                         y : y,<br>                         z : x * Math.sin(phi),<br>                         hue : Math.round(phi / Math.PI * 30)<br>                     };<br>                 },<br>                 createCone : function(){<!-- --><br>                     var status = Math.random() &gt; 1 / 3,<br>                         x,<br>                         y,<br>                         phi = Math.random() * Math.PI * 2,<br>                         rate = Math.tan(30 / 180 * Math.PI) / this.CONE_ASPECT_RATIO;<br>                     <br>                     if(status){<!-- --><br>                         y = this.SCATTER_RADIUS * (1 - Math.random() * 2);<br>                         x = (this.SCATTER_RADIUS - y) * rate;<br>                     }else{<!-- --><br>                         y = -this.SCATTER_RADIUS;<br>                         x = this.SCATTER_RADIUS * 2 * rate * Math.random();<br>                     }<br>                     return {<!-- --><br>                         x : x * Math.cos(phi),<br>                         y : y,<br>                         z : x * Math.sin(phi),<br>                         hue : Math.round(phi / Math.PI * 30)<br>                     };<br>                 },<br>                 createVase : function(){<!-- --><br>                     var theta = Math.random() * Math.PI,<br>                         x = Math.abs(this.SCATTER_RADIUS * Math.cos(theta) / 2) + this.SCATTER_RADIUS / 8,<br>                         y = this.SCATTER_RADIUS * Math.cos(theta) * 1.2,<br>                         phi = Math.random() * Math.PI * 2;<br>                     <br>                     return {<!-- --><br>                         x : x * Math.cos(phi),<br>                         y : y,<br>                         z : x * Math.sin(phi),<br>                         hue : Math.round(phi / Math.PI * 30)<br>                     };<br>                 }<br>             };<br>             var PARTICLE = function(center){<!-- --><br>                 this.center = center;<br>                 this.init();<br>             };<br>             PARTICLE.prototype = {<!-- --><br>                 SPRING : 0.01,<br>                 FRICTION : 0.9,<br>                 FOCUS_POSITION : 300,<br>                 COLOR : 'hsl(%hue, 100%, 50%)',//HSL值，在CSS中，可以使用色相、饱和度和明度（HSL）来指定颜色<br>                 <br>                 //不太懂init : function含义<br>                 init : function(){<!-- --><br>                     this.x = 0;<br>                     this.y = 0;<br>                     this.z = 0;<br>                     this.vx = 0;<br>                     this.vy = 0;<br>                     this.vz = 0;<br>                     this.color;<br>                 },<br>                 setAxis : function(axis){<!-- --><br>                     this.translating = true;<br>                     this.nextX = axis.x;<br>                     this.nextY = axis.y;<br>                     this.nextZ = axis.z;<br>                     this.hue = axis.hue;<br>                 },<br>                 rotateX : function(angle){<!-- --><br>                     var sin = Math.sin(angle),<br>                         cos = Math.cos(angle),<br>                         nextY = this.nextY * cos - this.nextZ * sin,<br>                         nextZ = this.nextZ * cos + this.nextY * sin,<br>                         y = this.y * cos - this.z * sin,<br>                         z = this.z * cos + this.y * sin;<br>                         <br>                     this.nextY = nextY;<br>                     this.nextZ = nextZ;<br>                     this.y = y;<br>                     this.z = z;<br>                 },<br>                 rotateY : function(angle){<!-- --><br>                     var sin = Math.sin(angle),<br>                         cos = Math.cos(angle),<br>                         nextX = this.nextX * cos - this.nextZ * sin,<br>                         nextZ = this.nextZ * cos + this.nextX * sin,<br>                         x = this.x * cos - this.z * sin,<br>                         z = this.z * cos + this.x * sin;<br>                         <br>                     this.nextX = nextX;<br>                     this.nextZ = nextZ;<br>                     this.x = x;<br>                     this.z = z;<br>                 },<br>                 rotateZ : function(angle){<!-- --><br>                     var sin = Math.sin(angle),<br>                         cos = Math.cos(angle),<br>                         nextX = this.nextX * cos - this.nextY * sin,<br>                         nextY = this.nextY * cos + this.nextX * sin,<br>                         x = this.x * cos - this.y * sin,<br>                         y = this.y * cos + this.x * sin;<br>                         <br>                     this.nextX = nextX;<br>                     this.nextY = nextY;<br>                     this.x = x;<br>                     this.y = y;<br>                 },<br>                 getAxis3D : function(){<!-- --><br>                     this.vx += (this.nextX - this.x) * this.SPRING;<br>                     this.vy += (this.nextY - this.y) * this.SPRING;<br>                     this.vz += (this.nextZ - this.z) * this.SPRING;<br>                     <br>                     this.vx *= this.FRICTION;<br>                     this.vy *= this.FRICTION;<br>                     this.vz *= this.FRICTION;<br>                     <br>                     this.x += this.vx;<br>                     this.y += this.vy;<br>                     this.z += this.vz;<br>                     <br>                     return {x : this.x, y : this.y, z : this.z};<br>                 },<br>                 getAxis2D : function(theta){<!-- --><br>                     var axis = this.getAxis3D(),<br>                         scale = this.FOCUS_POSITION / (this.FOCUS_POSITION + axis.z);<br>                         <br>                     return {x : this.center.x + axis.x * scale, y : this.center.y - axis.y * scale, color : this.COLOR.replace('%hue', this.hue + theta)};<br>                 }<br>             };<br>             $(function(){<!-- --><br>                 RENDERER.init(STRATEGY);<br>             });<br>         &lt;/script&gt;<br>     &lt;/body&gt;<br> &lt;/html&gt;</p> 
<p>该代码来源于菜鸟教程的jQuery教程中的实例，其中添加了个人对于不解知识点的注释分享</p> 
<p>另外还有关于代码中init : function(){}部分，不太理解，诚请广大码友解答</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9070ec1dd4bb0fd80b22237fdbb034fa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何进行PHP中的数据库操作？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/45f11daed387517cab6458f35069d564/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux部署zookeeper单点和集群并使用zkweb.jar管理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>