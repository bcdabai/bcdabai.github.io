<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cron表达式详解（配合例子） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Cron表达式详解（配合例子）" />
<meta property="og:description" content="这里写目录标题 Cron 表达式1、基本格式2、一些特殊值的含义四种**通用**特殊字符五种有使用限制的特殊字符`?``L``W``LW ``#` 3、各个域的取值范围 Cron 表达式 在进行定时任务的创建的时候，cron是计划任务的表达式
本文意在快速的分析列出cron表达式的书写规则与含义
1、基本格式 cron表达式格式：
{秒数} {分钟} {小时} {日期} {月份} {星期} {年份(可为空)}
六位的 0 0 12 * * ?（每天的中午12点触发）
Seconds Minutes Hours DayofMonth Month DayofWeek
七位的0 0 12 * * ? *（每天的中午12点触发）
Seconds Minutes Hours DayofMonth Month DayofWeek Year
简单解释下以六位（常用）的为例
0 0 12 * * ? 中的六位，分别对应Seconds Minutes Hours DayofMonth Month DayofWeek
数字对应位含义0Seconds（秒）第0秒0Minutes（分）第0分12Hours（时）12时（24小时制）*DayofMonth（一个月的第几天）一个月的每一天*Month（月）每一个月？DayofWeek（周几）一周中的每一天 整体来看就是每天的12:00进行任务触发，这种是最简单最易理解的一种形式。
要注意的是，在 秒 分 时 后边跟的是 一个月的第几天 而非 月记忆的时候注意别搞混，还有DayofWeek的取值定义，不同处有不同定义，要先确认1代表周一还是周日
其中的* 、？二者都是每一天的意思，但又有使用上的区别，下边会进行详细解释。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e0ab682c675cf27b70ad36fdd483a7c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-16T19:06:07+08:00" />
<meta property="article:modified_time" content="2022-08-16T19:06:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Cron表达式详解（配合例子）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>这里写目录标题</h4> 
 <ul><li><a href="#Cron__2" rel="nofollow">Cron 表达式</a></li><li><ul><li><a href="#1_8" rel="nofollow">1、基本格式</a></li><li><a href="#2_39" rel="nofollow">2、一些特殊值的含义</a></li><li><ul><li><a href="#_43" rel="nofollow">四种**通用**特殊字符</a></li><li><a href="#_52" rel="nofollow">五种有使用限制的特殊字符</a></li><li><ul><li><a href="#_56" rel="nofollow">`?`</a></li><li><a href="#L_74" rel="nofollow">`L`</a></li><li><a href="#W_88" rel="nofollow">`W`</a></li><li><a href="#LW__98" rel="nofollow">`LW `</a></li><li><a href="#_106" rel="nofollow">`#`</a></li></ul> 
   </li></ul> 
   </li><li><a href="#3_117" rel="nofollow">3、各个域的取值范围</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Cron__2"></a>Cron 表达式</h2> 
<blockquote> 
 <p>在进行定时任务的创建的时候，<strong>cron</strong>是计划任务的表达式</p> 
 <p>本文意在快速的分析列出cron表达式的书写规则与含义</p> 
</blockquote> 
<h3><a id="1_8"></a>1、基本格式</h3> 
<p>cron表达式格式：<br> {秒数} {分钟} {小时} {日期} {月份} {星期} {年份(可为空)}</p> 
<ul><li> <p>六位的 <code>0 0 12 * * ?</code>（每天的中午12点触发）</p> <p><code>Seconds Minutes Hours DayofMonth Month DayofWeek</code></p> </li><li> <p>七位的<code>0 0 12 * * ? *</code>（每天的中午12点触发）</p> <p><code>Seconds Minutes Hours DayofMonth Month DayofWeek Year</code></p> </li></ul> 
<blockquote> 
 <p>简单解释下以六位（常用）的为例</p> 
</blockquote> 
<p><code>0 0 12 * * ?</code> 中的六位，分别对应<code>Seconds Minutes Hours DayofMonth Month DayofWeek</code></p> 
<table><thead><tr><th align="center">数字</th><th align="center">对应位</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">Seconds（秒）</td><td align="center">第0秒</td></tr><tr><td align="center">0</td><td align="center">Minutes（分）</td><td align="center">第0分</td></tr><tr><td align="center">12</td><td align="center">Hours（时）</td><td align="center">12时（24小时制）</td></tr><tr><td align="center">*</td><td align="center">DayofMonth（一个月的第几天）</td><td align="center">一个月的每一天</td></tr><tr><td align="center">*</td><td align="center">Month（月）</td><td align="center">每一个月</td></tr><tr><td align="center">？</td><td align="center">DayofWeek（周几）</td><td align="center">一周中的每一天</td></tr></tbody></table> 
<p>整体来看就是每天的12:00进行任务触发，这种是最简单最易理解的一种形式。</p> 
<p>要注意的是，在 <code>秒 分 时</code> 后边跟的是 <code>一个月的第几天</code> 而非 <code>月</code>记忆的时候注意别搞混，还有<code>DayofWeek</code>的取值定义，不同处有不同定义，要先确认<code>1</code>代表周一还是周日</p> 
<p>其中的<code>* </code>、<code>？</code>二者都是每一天的意思，但又有使用上的区别，下边会进行详细解释。</p> 
<h3><a id="2_39"></a>2、一些特殊值的含义</h3> 
<blockquote> 
 <p>每个位除了数字和 <code>*</code> 外还有其他的可选值，学习特殊字符的含义是用好Cron表达式的基础</p> 
</blockquote> 
<h4><a id="_43"></a>四种<strong>通用</strong>特殊字符</h4> 
<table><thead><tr><th>特殊符号</th><th>用法</th><th>例子</th></tr></thead><tbody><tr><td><strong>*</strong></td><td>匹配该域的任意值</td><td>Minutes域使用*, 即表示每分钟都会触发事件</td></tr><tr><td><strong>-</strong></td><td>表示范围</td><td>Minutes域使用5-20，表示从5分到20分钟每分钟触发一次</td></tr><tr><td><strong>/</strong></td><td>表示数值的增量</td><td>Minutes写上0/5表示从0分开始，每隔5分钟</td></tr><tr><td><strong>,</strong></td><td>表示列出枚举值</td><td>Minutes域使用5,20，第5分钟和第20分钟分别触发</td></tr></tbody></table> 
<h4><a id="_52"></a>五种有使用限制的特殊字符</h4> 
<blockquote> 
 <p>限制字符指的是只能在固定的几个域使用，主要用于满足一些特殊场景</p> 
</blockquote> 
<h5><a id="_56"></a><code>?</code></h5> 
<p>​ 含义： 匹配该域的任意值</p> 
<p>​ 限制：只能用在DayofMonth和DayofWeek两个域</p> 
<p>​ 特殊解释：分析Cron表达式，可以发现 <code>DayofMonth</code>和<code>DayofWeek</code>是会进行冲突的，比如要实现这样一个表达式，去表达<strong>每周五下午六点</strong>，要怎么表示，核心在于 <code>DayofMonth</code>怎么去标识，写具体值不合适，写<code>*</code>就变成了每一天，和每周五出现了冲突。这时就用 <code>?</code>表达一种次要通配，辅助<code>*</code>进行含义的表达，<code>0 0 18 ? * 6</code>,表达是 0秒，0分，18时，一个月的任意一天，每个月，没周五。</p> 
<p>​ 例子参考理解：</p> 
<p>​ - “0 15 10 ? * *” 每天上午10:15触发</p> 
<p>​ - “0 15 10 * * ?” 每天上午10:15触发</p> 
<p>​ - “0 15 10 ? * 2-6” 周一至周五的上午10:15触发</p> 
<p>​ - “0 15 10 15 * ?” 每月15日上午10:15触发</p> 
<h5><a id="L_74"></a><code>L</code></h5> 
<p>​ 含义：表示最后，</p> 
<p>​ 限制：只能出现在DayofWeek和DayofMonth域</p> 
<p>​ 解释：如果在DayofWeek域使用5L,意味着在最后的一个星期四触发。在DayofMonth用L，意味当前月的最后一天</p> 
<p>​ 例子参考理解：</p> 
<p>​ - “0 15 10 L * ?” 每月最后一日的上午10:15触发</p> 
<p>​ - “0 15 10 ? * 6L” 每月的最后一个星期五上午10:15触发</p> 
<h5><a id="W_88"></a><code>W</code></h5> 
<p>​ 含义：表示有效工作日(周一到周五),</p> 
<p>​ 限制：只能出现在DayofMonth域，系统将在离指定日期的最近的有效工作日触发事件。</p> 
<p>​ 特殊解释：在 DayofMonth使用5W，如果5日是星期六，则将在最近的工作日：星期五，即4日触发。如果5日是星期天，则在6日(周一)触发；如果5日在星期一到星期五中的一天，则就在5日触发。另外一点，W的最近寻找<strong>不会跨过月份</strong></p> 
<h5><a id="LW__98"></a><code>LW </code></h5> 
<p>​ 含义：表示在某个月最后一个工作日，即最后一个非周六周末的日期。</p> 
<p>​ 限制：只能出现在DayofMonth域</p> 
<h5><a id="_106"></a><code>#</code></h5> 
<p>​ 含义：用于确定每个月第几个星期几</p> 
<p>​ 限制：只能出现在DayofWeek域</p> 
<p>​ 补充解释：4#2，表示某月的第二个星期三。</p> 
<p>​ 例子：</p> 
<p>​ - “0 15 10 ? * 6#3” 每月的第三个星期五上午10:15触发</p> 
<h3><a id="3_117"></a>3、各个域的取值范围</h3> 
<table><thead><tr><th></th><th>取值范围</th><th>允许的特殊字符</th><th>是否必填</th><th>备注</th></tr></thead><tbody><tr><td>秒-Seconds</td><td>0~59的整数</td><td>, - * / 四个字符</td><td>是</td><td></td></tr><tr><td>分钟-Minutes</td><td>0~59的整数</td><td>, - * / 四个字符</td><td>是</td><td></td></tr><tr><td>小时-Hours</td><td>0~23的整数</td><td>, - * / 四个字符</td><td>是</td><td></td></tr><tr><td>日期-DayofMonth</td><td>1~31的整数（但是你需要考虑你月的天数）</td><td>, - * / ? L W C 八个字符</td><td>是</td><td>?LW只有部分软件实现了</td></tr><tr><td>月份-Month</td><td>1~12的整数 <strong>或者</strong> JAN-DEC</td><td>, - * / 四 个字符</td><td>是</td><td></td></tr><tr><td>星期-DayofWeek</td><td>1~7的整数 <strong>或者</strong> SUN-SAT</td><td>, - * / ? L C # 八个字符</td><td>是</td><td>? L #只有部分软件实现了, <strong>Linux 和 Spring 的允许值为0-7</strong>，0和7为周日;Quartz的允许值为1-7，1为周日</td></tr><tr><td>年-Year</td><td>1970~2099</td><td>, - * / 四个字符</td><td>否</td><td>标准实现不支持此字段。</td></tr></tbody></table> 
<p>使用的时候还是需要查询具体的软件实现，来确认一些域的具体取值范围。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/331c13a621f686e28d0276ac594c6303/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入理解FIFO以及同步FIFO和异步FIFO的verilog实现代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60f8a53f44b9a9d6b07bd245c7804300/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">古代汉语 郭锡良版本 复习要点</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>