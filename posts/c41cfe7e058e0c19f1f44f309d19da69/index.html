<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>「聊设计模式」之原型模式（Prototype） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="「聊设计模式」之原型模式（Prototype）" />
<meta property="og:description" content="🏆本文收录于《聊设计模式》专栏，专门攻坚指数级提升，助你一臂之力，带你早日登顶🚀，欢迎持续关注&amp;&amp;收藏&amp;&amp;订阅！
大家上午好，我是bug菌，今天我们继续聊设计模式。
前言 设计模式是软件开发中经过长期实践总结的经验和规范，它们被广泛应用于软件开发中，可以提高代码的复用性、可维护性、可读性等方面的质量。本篇文章将介绍原型模式（Prototype），并通过Java语言实现，将对该模式的特点及应用有更深入的了解。
摘要 原型模式是一种通过复制现有对象来生成新对象的设计模式。该模式的优点在于可以避免重复创建对象，并且能够在运行时动态添加或删除对象。本篇文章将通过一个例子，深入探讨原型模式的应用。
原型模式 1. 模式介绍 原型模式（Prototype）是一种创建型设计模式，它提供了创建对象的一种最佳方法，通过复制现有对象来生成新对象。该模式的核心在于通过复制现有的实例对象来创建新的实例对象，从而避免了重复创建对象的开销。
2. 模式结构 原型模式的结构包含以下几个部分：
抽象原型类（Prototype）：定义了一个抽象接口，用于复制自己。具体原型类（ConcretePrototype）：实现了抽象原型类的接口，在复制自己时可以生成一个新的对象。客户端（Client）：调用具体原型类的clone方法复制对象。 如下是原型模式的UML类图：
3. 模式实际应用 原型模式在实际应用中常用于以下场景：
创建复杂的对象，并且创建过程比较耗时，通过克隆现有的对象来提高对象的创建效率。
通过配置文件等方式，动态生成对象，避免在代码中硬编码对象的创建过程。
需要创建一组相似的对象，通过克隆现有的对象来避免重复创建相似的对象。
在框架和工具类中，通过原型模式来实现对象的复用。
4. 原型模式的优缺点 4.1 优点包括： 可以避免重复创建相似的对象，提高代码执行效率。
可以动态生成对象，避免在代码中硬编码对象的创建过程。
可以创建一组相似的对象，避免重复创建相似的对象。
可以实现对象的复用，减少对象的创建次数，降低系统开销。
4.2 缺点包括： 在使用原型模式时，需要注意原型对象的克隆方式，即浅克隆和深克隆。
需要对每个具体原型类进行单独的克隆方法的实现，增加了代码的复杂度。
5. 模式注意事项 在使用原型模式时，需要注意以下事项：
需要对每个具体原型类进行单独的克隆方法的实现。
在克隆对象时，需要注意对象属性的克隆方式，即浅克隆和深克隆。
在使用深克隆时，需要注意对象属性的引用对象也需要进行克隆。
6. 模式实现 下面我们通过一个例子，来演示如何实现原型模式。
首先，我们定义一个抽象原型类Prototype，其中包含了一个clone方法。
package com.example.javaDesignPattern.prototype; /** * 抽象原型类 * * @author bug菌 * @version 1.0 * @date 2023/9/19 10:22 */ public abstract class Prototype implements Cloneable { public abstract Prototype clone(); } 然后，我们定义一个具体原型类ConcretePrototype，用于实现Prototype接口并复制自己。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c41cfe7e058e0c19f1f44f309d19da69/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-25T18:02:23+08:00" />
<meta property="article:modified_time" content="2023-09-25T18:02:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">「聊设计模式」之原型模式（Prototype）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/6f/35/BLwOhsOY_o.gif" alt="在这里插入图片描述"></p> 
<hr> 
<p><strong>🏆本文收录于<a href="https://blog.csdn.net/weixin_43970743/category_12444726.html">《聊设计模式》</a>专栏，专门攻坚指数级提升，助你一臂之力，带你早日登顶🚀，欢迎持续关注&amp;&amp;收藏&amp;&amp;订阅！</strong></p> 
<hr> 
<p>大家上午好，我是bug菌，今天我们继续聊设计模式。</p> 
<h2><a id="_10"></a>前言</h2> 
<p>  设计模式是软件开发中经过长期实践总结的经验和规范，它们被广泛应用于软件开发中，可以提高代码的复用性、可维护性、可读性等方面的质量。本篇文章将介绍原型模式（Prototype），并通过Java语言实现，将对该模式的特点及应用有更深入的了解。</p> 
<h2><a id="_14"></a>摘要</h2> 
<p>  原型模式是一种通过复制现有对象来生成新对象的设计模式。该模式的优点在于可以避免重复创建对象，并且能够在运行时动态添加或删除对象。本篇文章将通过一个例子，深入探讨原型模式的应用。</p> 
<h2><a id="_18"></a>原型模式</h2> 
<h3><a id="1__20"></a>1. 模式介绍</h3> 
<p>  原型模式（Prototype）是一种创建型设计模式，它提供了创建对象的一种最佳方法，通过复制现有对象来生成新对象。该模式的核心在于通过复制现有的实例对象来创建新的实例对象，从而避免了重复创建对象的开销。</p> 
<h3><a id="2__24"></a>2. 模式结构</h3> 
<p>原型模式的结构包含以下几个部分：</p> 
<ol><li>抽象原型类（Prototype）：定义了一个抽象接口，用于复制自己。</li><li>具体原型类（ConcretePrototype）：实现了抽象原型类的接口，在复制自己时可以生成一个新的对象。</li><li>客户端（Client）：调用具体原型类的clone方法复制对象。</li></ol> 
<p>如下是原型模式的UML类图：</p> 
<p><img src="https://images2.imgbox.com/86/f8/DbaxA2wx_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3__36"></a>3. 模式实际应用</h3> 
<p>原型模式在实际应用中常用于以下场景：</p> 
<ol><li> <p>创建复杂的对象，并且创建过程比较耗时，通过克隆现有的对象来提高对象的创建效率。</p> </li><li> <p>通过配置文件等方式，动态生成对象，避免在代码中硬编码对象的创建过程。</p> </li><li> <p>需要创建一组相似的对象，通过克隆现有的对象来避免重复创建相似的对象。</p> </li><li> <p>在框架和工具类中，通过原型模式来实现对象的复用。</p> </li></ol> 
<h3><a id="4__47"></a>4. 原型模式的优缺点</h3> 
<h4><a id="41__48"></a>4.1 优点包括：</h4> 
<ol><li> <p>可以避免重复创建相似的对象，提高代码执行效率。</p> </li><li> <p>可以动态生成对象，避免在代码中硬编码对象的创建过程。</p> </li><li> <p>可以创建一组相似的对象，避免重复创建相似的对象。</p> </li><li> <p>可以实现对象的复用，减少对象的创建次数，降低系统开销。</p> </li></ol> 
<h4><a id="42__58"></a>4.2 缺点包括：</h4> 
<ol><li> <p>在使用原型模式时，需要注意原型对象的克隆方式，即浅克隆和深克隆。</p> </li><li> <p>需要对每个具体原型类进行单独的克隆方法的实现，增加了代码的复杂度。</p> </li></ol> 
<h3><a id="5__64"></a>5. 模式注意事项</h3> 
<p>在使用原型模式时，需要注意以下事项：</p> 
<ol><li> <p>需要对每个具体原型类进行单独的克隆方法的实现。</p> </li><li> <p>在克隆对象时，需要注意对象属性的克隆方式，即浅克隆和深克隆。</p> </li><li> <p>在使用深克隆时，需要注意对象属性的引用对象也需要进行克隆。</p> </li></ol> 
<h3><a id="6__74"></a>6. 模式实现</h3> 
<p>下面我们通过一个例子，来演示如何实现原型模式。</p> 
<p>首先，我们定义一个抽象原型类<code>Prototype</code>，其中包含了一个<code>clone</code>方法。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>javaDesignPattern<span class="token punctuation">.</span>prototype</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 抽象原型类
 *
 * @author bug菌
 * @version 1.0
 * @date 2023/9/19 10:22
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Prototype</span> <span class="token keyword">implements</span> <span class="token class-name">Cloneable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Prototype</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>然后，我们定义一个具体原型类<code>ConcretePrototype</code>，用于实现<code>Prototype</code>接口并复制自己。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>javaDesignPattern<span class="token punctuation">.</span>prototype</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 具体原型类
 *
 * @author bug菌
 * @version 1.0
 * @date 2023/9/19 10:22
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConcretePrototype</span> <span class="token keyword">extends</span> <span class="token class-name">Prototype</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Prototype</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>最后，我们在客户端中调用具体原型类的<code>clone</code>方法，并生成新的对象。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>javaDesignPattern<span class="token punctuation">.</span>prototype</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 客户端
 *
 * @author bug菌
 * @version 1.0
 * @date 2023/9/19 10:22
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Prototype</span> prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcretePrototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Prototype</span> clone <span class="token operator">=</span> prototype<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>执行结果如下：</p> 
<p><img src="https://images2.imgbox.com/66/49/0Dxqj732_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7__141"></a>7. 代码分析</h3> 
<p>  如上代码示例是一个原型模式。原型模式是一种创建型设计模式，它允许通过克隆现有对象来创建新对象，而无需显式地实例化对象并使用构造函数。</p> 
<p>  在这个示例中，我们定义了一个 <code>Prototype</code> 接口，包含一个 <code>clone()</code> 方法。然后我们创建了一个具体的原型类 <code>ConcretePrototype</code>，它实现了 <code>Prototype</code> 接口并重写了 <code>clone()</code> 方法。</p> 
<p>  在客户端中，我们首先创建一个 <code>ConcretePrototype</code> 对象，并将其赋值给 <code>Prototype</code> 类型的变量 <code>prototype</code>。然后我们调用 <code>prototype</code> 对象的 <code>clone()</code> 方法来创建一个新对象，这个新对象是原型对象的一个副本。</p> 
<p>  该示例代码的目的是演示如何使用原型模式来克隆对象。在实际应用中，通常会使用原型模式来创建需要大量重复使用的对象，以提高系统性能和减少资源消耗。</p> 
<h3><a id="8__151"></a>8. 附录源码</h3> 
<p>  如上涉及代码均已上传同步在<a href="https://github.com/luoyong0603/SpringBoot-demos">GitHub</a>，提供给同学们参考性学习。</p> 
<h2><a id="_154"></a>总结</h2> 
<p>通过本篇文章的介绍，我们可以了解到原型模式的特点和应用场景。该模式可以通过复制现有对象来生成新对象，并且能够在运行时动态添加或删除对象。它的优点在于避免了重复创建对象的开销，提高了代码的复用性、可维护性、可读性等方面的质量。因此，在软件开发中，原型模式是一个极具实用性的设计模式。</p> 
<h2><a id="_158"></a>☀️建议/推荐你</h2> 
<hr> 
<p>  如果想系统性的全面学习设计模式，建议小伙伴们直接毫无顾忌的关注这个专栏<a href="https://blog.csdn.net/weixin_43970743/category_12444726.html">《聊设计模式》</a>，无论你是想提升自己的编程技术，还是渴望更好地理解代码背后的设计思想，本专栏都会为你提供实用的知识和启发，帮助你更好地解决日常开发中的挑战，将代码变得更加优雅、灵活和可维护！</p> 
<blockquote> 
 <p>  最后，如果这篇文章对你有所帮助，帮忙给作者来个<strong>一键三连，关注、点赞、收藏</strong>，您的支持就是我坚持写作最大的动力。</p> 
</blockquote> 
<blockquote> 
 <p>  同时欢迎大家关注公众号:<a href="https://bbs.csdn.net/topics/612438251">「猿圈奇妙屋」</a> ，以便学习更多同类型的技术文章，免费白嫖最新BAT互联网公司面试题、4000G pdf电子书籍、简历模板、技术文章Markdown文档等海量资料。</p> 
</blockquote> 
<h2><a id="_168"></a>📣关于我</h2> 
<p>  我是bug菌，<a href="https://blog.csdn.net/weixin_43970743">CSDN</a> | <a href="https://juejin.cn/user/695333581765240" rel="nofollow">掘金</a> | <a href="https://www.infoq.cn/profile/4F581734D60B28/publish" rel="nofollow">infoQ</a> | <a href="https://blog.51cto.com/u_15700751" rel="nofollow">51CTO</a> 等社区博客专家，历届博客之星Top30，掘金年度人气作者Top40，51CTO年度博主Top12，华为云 | 阿里云| 腾讯云等社区优质创作者，全网粉丝合计<strong>15w+</strong> ；硬核微信公众号<a href="https://bbs.csdn.net/topics/612438251">「猿圈奇妙屋」</a>，欢迎你的加入！免费白嫖最新BAT互联网公司面试题、4000G pdf电子书籍、简历模板等海量资料。</p> 
<hr> 
<p><img src="https://images2.imgbox.com/ec/67/vbaq6RVC_o.gif" alt=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/efc18e3cbc8663b7cee661b311c4027d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【app篇】写个简单的BLE调试app，练练手，同时为后续调试ESP32 BLE做个支持</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e172ded714dfc437ee7cc5f5d0d705e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Unity3D资源商店下载资源并导入</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>