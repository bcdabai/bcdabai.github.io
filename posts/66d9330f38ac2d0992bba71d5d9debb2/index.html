<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>numpy 数组维度操作总汇 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="numpy 数组维度操作总汇" />
<meta property="og:description" content="numpy中如何改变数组维度呢？
写在前面
所有的重排原则： 从原数组最深维度开始依次取元素排到转换后数组最深维度处 1、reshape &amp; resize &amp; shape 改变数组维度 reshape函数：不改变原数组维度，有返回值
resize函数：直接改变原数组维度，无返回值
shape属性：直接改变原数组维度
&gt;&gt;&gt; import numpy as np &gt;&gt;&gt; a=np.arange(12) &gt;&gt;&gt; a array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]) &gt;&gt;&gt; a.reshape(2,6) array([[ 0, 1, 2, 3, 4, 5], [ 6, 7, 8, 9, 10, 11]]) &gt;&gt;&gt; a array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]) &gt;&gt;&gt; a.reshape(2,3,2) array([[[ 0, 1], [ 2, 3], [ 4, 5]], [[ 6, 7], [ 8, 9], [10, 11]]]) &gt;&gt;&gt; a." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/66d9330f38ac2d0992bba71d5d9debb2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-13T16:23:38+08:00" />
<meta property="article:modified_time" content="2017-12-13T16:23:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">numpy 数组维度操作总汇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>numpy中如何改变数组维度呢？</p> 
<p>写在前面</p> 
<h3><a id="_3"></a><strong>所有的重排原则：</strong></h3> 
<h4><a id="_4"></a><strong>从原数组最深维度开始依次取元素排到转换后数组最深维度处</strong></h4> 
<h4><a id="1reshape___resize__shape__7"></a>1、reshape &amp; resize &amp; shape 改变数组维度</h4> 
<p><em>reshape函数：不改变原数组维度，有返回值</em><br> <em>resize函数：直接改变原数组维度，无返回值</em><br> <em>shape属性：直接改变原数组维度</em></p> 
<pre><code>&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; a=np.arange(12)
&gt;&gt;&gt; a
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
&gt;&gt;&gt; a.reshape(2,6) 
array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11]])
&gt;&gt;&gt; a
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
&gt;&gt;&gt; a.reshape(2,3,2)  
array([[[ 0,  1],  
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
&gt;&gt;&gt; a.resize(2,6)
&gt;&gt;&gt; a
&gt;&gt;&gt; array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11]])
&gt;&gt;&gt; a.shape=(2,6)
&gt;&gt;&gt; a
array([[ 0,  1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10, 11]])
&gt;&gt;&gt; a.shape=(2,3,2)
&gt;&gt;&gt; a
array([[[ 0,  1],
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
&gt;&gt;&gt;
</code></pre> 
<h4><a id="2ravel__flatten__49"></a>2、ravel &amp; flatten 将数组变为一维</h4> 
<p>两个函数都不会改变原数组维度<br> 区别在于：ravel、flatt函数都返回一维数组的一个视图（View）<br> 但是flatten函数还会请求分配内存来保存结果</p> 
<pre><code>&gt;&gt;&gt; a
array([[[ 0,  1],
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
&gt;&gt;&gt; a.ravel()
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
&gt;&gt;&gt; a
array([[[ 0,  1],
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
&gt;&gt;&gt; a.flatten()
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
&gt;&gt;&gt; a
array([[[ 0,  1],
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
</code></pre> 
<h4><a id="3_transpose__T__83"></a>3 transpose &amp; T 矩阵转置</h4> 
<p>transpose函数与T 属性功能一致：不改变原数组，有转置后的返回值，且一维数组返回值为它本身</p> 
<pre><code>&gt;&gt;&gt; a
array([[ 0,  1],
       [ 2,  3],
       [ 4,  5],
       [ 6,  7],
       [ 8,  9],
       [10, 11]])
&gt;&gt;&gt; a.T
array([[ 0,  2,  4,  6,  8, 10],
       [ 1,  3,  5,  7,  9, 11]])
&gt;&gt;&gt; a
array([[ 0,  1],
       [ 2,  3],
       [ 4,  5],
       [ 6,  7],
       [ 8,  9],
       [10, 11]])
&gt;&gt;&gt; a.transpose()
array([[ 0,  2,  4,  6,  8, 10],
       [ 1,  3,  5,  7,  9, 11]])
&gt;&gt;&gt; a
array([[ 0,  1],
       [ 2,  3],
       [ 4,  5],
       [ 6,  7],
       [ 8,  9],
       [10, 11]])
</code></pre> 
<h4><a id="4transpose_115"></a>4、细说transpose函数</h4> 
<p>当维度大于等于三维时，transpose函数可以交换维度顺序<br> 当transpose()参数为空时，默认参数是维度序号的倒序排列<br> 以三维为例 transpose() 等价于 transpose(2,1,0) 即深度变为行，行变为深度</p> 
<pre><code>&gt;&gt;&gt; a
array([[[ 0,  1],
        [ 2,  3],
        [ 4,  5]],

       [[ 6,  7],
        [ 8,  9],
        [10, 11]]])
#深度变为行，行变为深度
&gt;&gt;&gt; a.transpose()  
array([[[ 0,  6],
        [ 2,  8],
        [ 4, 10]],

       [[ 1,  7],
        [ 3,  9],
        [ 5, 11]]])
&gt;&gt;&gt; a.transpose(2，1，0)  
array([[[ 0,  6],
        [ 2,  8],
        [ 4, 10]],

       [[ 1,  7],
        [ 3,  9],
        [ 5, 11]]])
#列变为行，行变为列
&gt;&gt;&gt; a.transpose(1,0,2)
array([[[ 0,  1],
        [ 6,  7]],

       [[ 2,  3],
        [ 8,  9]],

       [[ 4,  5],
        [10, 11]]])
#深度变为列，列变为深度
&gt;&gt;&gt; a.transpose(0,2,1)
array([[[ 0,  2,  4],
        [ 1,  3,  5]],

       [[ 6,  8, 10],
        [ 7,  9, 11]]])
</code></pre> 
<h4><a id="5reshape__npsqueeze_1_164"></a>5、reshape &amp; np.squeeze 去除值为1的维度轴</h4> 
<p>numpy.squeeze(a,axis=None)<br> a: 数组<br> axis: 指定数组a中要删除的值为1的轴</p> 
<pre><code>&gt;&gt;&gt; a=np.array([[[1],[2]],[[3],[4]]])
&gt;&gt;&gt; a
array([[[1],
        [2]],

       [[3],
        [4]]])
&gt;&gt;&gt; a.shape
(2, 2, 1)
&gt;&gt;&gt; a=np.array([[[[1],[2]],[[3],[4]]]])
&gt;&gt;&gt; a.shape
(1, 2, 2, 1)
&gt;&gt;&gt; a
array([[[[1],
         [2]],

        [[3],
         [4]]]])
&gt;&gt;&gt; a.reshape(2,2).shape
(2, 2)
&gt;&gt;&gt; a.reshape(1,2,2).shape
(1, 2, 2)
&gt;&gt;&gt; a.reshape(2,2,1).shape
(2, 2, 1)
&gt;&gt;&gt; np.squeeze(a)
array([[1, 2],
       [3, 4]])
&gt;&gt;&gt; np.squeeze(a).shape
(2, 2)
&gt;&gt;&gt; np.squeeze(a,axis=0).shape
(2, 2, 1)
&gt;&gt;&gt; np.squeeze(a,axis=3).shape
(1, 2, 2)
</code></pre> 
<h4><a id="6_reshape__npnewaxis_1_205"></a>6 、reshape &amp; np.newaxis 增加值为1的维度轴</h4> 
<pre><code>&gt;&gt;&gt; a=np.array([[1,2],[3,4]])
&gt;&gt;&gt; a
array([[1, 2],
       [3, 4]])
&gt;&gt;&gt; a.shape
(2, 2)
&gt;&gt;&gt; a.reshape((1,)+a.shape).shape
(1,2,2)
&gt;&gt;&gt; a.reshape((1,)+a.shape+(1,))
(1,2,2,1)
&gt;&gt;&gt; a[...,np.newaxis].shape
(2, 2, 1)
&gt;&gt;&gt; a[np.newaxis,...,np.newaxis].shape
(1, 2, 2, 1)

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f59c2dda8e8152be15fb93333bb8120e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">oracle学习之sid_name</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8cf7b88669c8f97726b1ce8c4be0ff3c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">NWERC 2017(Connect the Dots-几何&#43;搜索)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>