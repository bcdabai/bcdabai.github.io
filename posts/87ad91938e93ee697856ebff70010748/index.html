<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Fiddler&#43;夜神模拟器&#43;xposed&#43;justTrustMe手机抖音抓包 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Fiddler&#43;夜神模拟器&#43;xposed&#43;justTrustMe手机抖音抓包" />
<meta property="og:description" content="一、Fiddler下载安装 Fiddler是一款抓包神器，可以让电脑、手机、平板上所有应用发送的请求先通过Fiddler再发送到服务器，服务器返回的应答先通过Fiddler再返回给应用，相当于一个邮寄员。
Fiddler官网下载 或者 百度云(https://pan.baidu.com/s/1x-Y_mJ8Z8VEc4GCWiNkVsQ)（提取码：i8ex）
需要科学上网注册账号才能用，可以去网上找其他破解版安装。
1.Live Traffic是抓取开关，打开后电脑所有的请求就经过Fiddler代理，Fiddler就开始记录并抓取所有的请求。关闭Live Traffic或关闭Fiddler软件会退出Fiddler代理。
2.勾选Capture HTTPS trafficc后重启才能抓取https请求。
3.端口默认是8866，可自行修改，勾选Allow remote computers to connect才能抓取手机其他设备的包。
二、下载夜神模拟器 问题：为什么要下载夜神模拟器&#43;xposed&#43;justTrustMe？
答： 这就要谈到『SSL Pinning』技术。App 可以自己检验 SSL 握手时服务端返回的证书是否合法，“SSL pinning” 技术说的就是在 App 中只信任固定的证书或者公钥。 因为现在手机安卓系统7.0以上把证书分为系统证书和用户证书。
有些app默认只信任系统证书，而用真实手机抓包的话有些软件会提示没网（比如抖音）。所以需要使用 Android 下的一些 Hook 技术来绕过本地证书强校验的逻辑，比如我们使用的模拟器&#43;xposed&#43;justTrustMe，
以小米手机为例，在手机设置-&gt;密码与安全-&gt;系统安全-&gt;加密与凭据-&gt;信任的凭据中可以看到系统证书和用户证书：
所以用模拟器模拟一个低版本的安卓系统，而且下面安装xposed需要root权限，弄不好手机会变砖，所以模拟机比较放心。
另外一点需要注意的是，如果用模拟器登录抖音，第一次可能没问题.第二次会出现推荐为空，无法浏览视频之类的问题，因为用模拟器登录时定位可能变化的太快，导致抖音禁ip,如果退出再登录会显示操作频繁。
1.下载安装模拟器
夜神模拟器官网下载
2.安装好后打开夜神多开器
3.选择安卓5.0
安装xposed Xposed 框架是一款可以在不修改 APK 的情况下影响程序运行（修改系统）的框架服务，基于它可以制作出许多功能强大的模块，且在功能不冲突的情况下同时运作.
百度云（提取码：2lx9）
将软件拖到上面的手机模拟器中安装，安装后如图点击下载xposed框架：
点击安装等待重启，期间会提示需要root权限。
安装justTrustMe 下载网址 或 百度云（提取码：6j3e）
将软件拖到上面的手机模拟器中安装。
夜神模拟器网络配置 1.首先查看电脑ip,可使用命令行ipconfig查看或者点击抓包软件Fiddler右下角网络图标查看
2.模拟器设置里找到WLAN网络设置，鼠标左键长按选择修改网络
3.代理选手动，输入电脑ip（必须确保模拟器和电脑在同一网络才能抓到包）和抓包软件Fiddler设置里的端口号。
4.电脑Fiddler启动，打开Live Traffic抓取开关，然后模拟器的浏览器打开http://你的电脑ip:Fiddler端口号。
比如我的是：http://192.168.137.1:8866
然后点击FiddlerRoot certificate下载Fiddler证书。
下载完后打开证书，然后你可以为证书重命名，然后可能会需要你设置锁屏密码，然后证书就安装成功了。
接下来在模拟器里运行软件，比如抖音，就可以在Fiddler中抓到包了。
以抖音为例子：
抖音这个app其实一开始是叫做A.me，也就是英文Awesome Me 崇拜我的意思，后来改名为抖音。抓到的请求aweme开头的就是抖音的请求了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/87ad91938e93ee697856ebff70010748/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-23T19:40:40+08:00" />
<meta property="article:modified_time" content="2020-12-23T19:40:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Fiddler&#43;夜神模拟器&#43;xposed&#43;justTrustMe手机抖音抓包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="Fiddler_0"></a>一、Fiddler下载安装</h4> 
<p>Fiddler是一款抓包神器，可以让电脑、手机、平板上所有应用发送的请求先通过Fiddler再发送到服务器，服务器返回的应答先通过Fiddler再返回给应用，相当于一个邮寄员。<br> <a href="https://www.telerik.com/download/fiddler-everywhere" rel="nofollow">Fiddler官网下载</a> 或者 百度云(https://pan.baidu.com/s/1x-Y_mJ8Z8VEc4GCWiNkVsQ)（提取码：i8ex）</p> 
<p>需要科学上网注册账号才能用，可以去网上找其他破解版安装。</p> 
<p>1.Live Traffic是抓取开关，打开后电脑所有的请求就经过Fiddler代理，Fiddler就开始记录并抓取所有的请求。关闭Live Traffic或关闭Fiddler软件会退出Fiddler代理。<br> <img src="https://images2.imgbox.com/80/0a/PeryqwE9_o.png" alt="在这里插入图片描述"><br> 2.勾选Capture HTTPS trafficc后重启才能抓取https请求。<br> <img src="https://images2.imgbox.com/60/96/hqyd39Cj_o.png" alt="在这里插入图片描述"><br> 3.端口默认是8866，可自行修改，勾选Allow remote computers to connect才能抓取手机其他设备的包。</p> 
<p><img src="https://images2.imgbox.com/0e/1c/KYbrI4fo_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_13"></a>二、下载夜神模拟器</h4> 
<p><strong>问题：为什么要下载夜神模拟器+xposed+justTrustMe？</strong></p> 
<p><strong>答</strong>： 这就要谈到『SSL Pinning』技术。App 可以自己检验 SSL 握手时服务端返回的证书是否合法，“SSL pinning” 技术说的就是在 App 中只信任固定的证书或者公钥。 因为现在手机安卓系统7.0以上把证书分为系统证书和用户证书。</p> 
<p>有些app默认只信任系统证书，而用真实手机抓包的话有些软件会提示没网（比如抖音）。所以需要使用 Android 下的一些 Hook 技术来绕过本地证书强校验的逻辑，比如我们使用的模拟器+xposed+justTrustMe，</p> 
<p>以小米手机为例，在手机设置-&gt;密码与安全-&gt;系统安全-&gt;加密与凭据-&gt;信任的凭据中可以看到系统证书和用户证书：</p> 
<p><img src="https://images2.imgbox.com/dd/42/SmKIdNcm_o.png" alt="在这里插入图片描述"><br> 所以用模拟器模拟一个低版本的安卓系统，而且下面安装xposed需要root权限，弄不好手机会变砖，所以模拟机比较放心。</p> 
<p>另外一点需要注意的是，如果用模拟器登录抖音，第一次可能没问题.第二次会出现推荐为空，无法浏览视频之类的问题，因为用模拟器登录时定位可能变化的太快，导致抖音禁ip,如果退出再登录会显示操作频繁。</p> 
<p><strong>1.下载安装模拟器</strong></p> 
<p><a href="https://www.yeshen.com/" rel="nofollow">夜神模拟器官网下载</a></p> 
<p><strong>2.安装好后打开夜神多开器</strong><br> <img src="https://images2.imgbox.com/b9/af/uDaf0JkO_o.png" alt="在这里插入图片描述"><br> <strong>3.选择安卓5.0</strong><br> <img src="https://images2.imgbox.com/a7/09/Sj6zac4n_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="xposed_37"></a>安装xposed</h4> 
<p>Xposed 框架是一款可以在不修改 APK 的情况下影响程序运行（修改系统）的框架服务，基于它可以制作出许多功能强大的模块，且在功能不冲突的情况下同时运作.</p> 
<p><a href="https://pan.baidu.com/s/1snjKwfUcHCBNtEDwvCCa2w" rel="nofollow">百度云</a>（提取码：2lx9）</p> 
<p>将软件拖到上面的手机模拟器中安装，安装后如图点击下载xposed框架：<br> <img src="https://images2.imgbox.com/0d/28/NuGvF1mM_o.png" alt="在这里插入图片描述"><br> 点击安装等待重启，期间会提示需要root权限。</p> 
<h4><a id="justTrustMe_47"></a>安装justTrustMe</h4> 
<p><a href="https://github.com/Fuzion24/JustTrustMe/releases">下载网址</a> 或<a href="https://pan.baidu.com/s/1z-16nJv3kaIGhxfWaWsZ3w" rel="nofollow"> 百度云</a>（提取码：6j3e）</p> 
<p>将软件拖到上面的手机模拟器中安装。</p> 
<h4><a id="_53"></a>夜神模拟器网络配置</h4> 
<p>1.首先查看电脑ip,可使用命令行ipconfig查看或者点击抓包软件Fiddler右下角网络图标查看<br> <img src="https://images2.imgbox.com/d5/b4/bkRAVgTP_o.png" alt="在这里插入图片描述"><br> 2.模拟器设置里找到WLAN网络设置，鼠标左键长按选择修改网络<br> <img src="https://images2.imgbox.com/57/14/IpkLWCrx_o.png" alt="在这里插入图片描述"><br> 3.代理选手动，输入电脑ip（<strong>必须确保模拟器和电脑在同一网络才能抓到包</strong>）和抓包软件Fiddler设置里的端口号。<br> <img src="https://images2.imgbox.com/28/6e/VDaNZRxf_o.png" alt="在这里插入图片描述"><br> 4.电脑Fiddler启动，打开Live Traffic抓取开关，然后模拟器的浏览器打开http://你的电脑ip:Fiddler端口号。</p> 
<p>比如我的是：http://192.168.137.1:8866</p> 
<p>然后点击FiddlerRoot certificate下载Fiddler证书。</p> 
<p><img src="https://images2.imgbox.com/2a/a4/RM3b7LYV_o.png" alt="在这里插入图片描述"><br> 下载完后打开证书，然后你可以为证书重命名，然后可能会需要你设置锁屏密码，然后证书就安装成功了。<br> <img src="https://images2.imgbox.com/50/23/GZeIlJ5B_o.png" alt="在这里插入图片描述"><br> 接下来在模拟器里运行软件，比如抖音，就可以在Fiddler中抓到包了。<br> 以抖音为例子：<br> <img src="https://images2.imgbox.com/e9/b2/mnRGX7Mr_o.png" alt="在这里插入图片描述"></p> 
<p>抖音这个app其实一开始是叫做A.me，也就是英文Awesome Me 崇拜我的意思，后来改名为抖音。抓到的请求aweme开头的就是抖音的请求了。<br> <img src="https://images2.imgbox.com/3c/4f/11o8YSJF_o.png" alt="在这里插入图片描述"><br> <strong>注意：</strong><br> 因为证书的原因或者可能因为抖音本身防抓的原因，使用模拟器抓包第一次登陆看视频抓包都没啥问题，但是过两天或者第二次打开模拟器就不行了。<br> <strong>解决办法：</strong><br> 删除配置好的的模拟器，再按本教程从头重新配置一个就好了。<br> <img src="https://images2.imgbox.com/33/c3/37X6YcTJ_o.png" alt="在这里插入图片描述"></p> 
<p>关于抖音的抓包分析和视频批量下载可以查看我另一篇文章：<br> <a href="https://blog.csdn.net/qq_33697094/article/details/111689250">关于抖音抓包的一些分析和抖音视频批量下载</a></p> 
<hr> 
<p>参考：<br> <a href="https://www.cnblogs.com/pingming/p/10846068.html" rel="nofollow">【破解APP抓包限制】Xposed+JustTrustMe关闭SSL证书验证！</a><br> <a href="https://www.cnblogs.com/yyhh/p/5140852.html" rel="nofollow">Fiddler抓包工具总结</a><br> <a href="https://www.cnblogs.com/woaixuexi9999/p/9247705.html" rel="nofollow">fiddler配置及使用教程</a><br> <a href="https://blog.csdn.net/qq_30359369/article/details/104737382">记一次使用fiddler抓包抖音的挫折</a><br> <a href="https://blog.csdn.net/yilovexing/article/details/90242672?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-3&amp;spm=1001.2101.3001.4242">如何破解 App 网络代理后出现网络不可用的情况</a><br> <a href="https://www.jianshu.com/p/724097741bdf" rel="nofollow">使用fiddler实现手机抓包</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e4047d1b9e6425e9f73d792d006e62c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql 外键(foreign key)的详解和实例_MySQL的共享锁阻塞会话案例浅析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b7f727ad77e1ef0a3c62a0fa9e53b0bf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RabbitMQ:Plugin configuration unchanged；解决RabbitMQ启动问题,Win10用户中文问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>