<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java Web图书管理系统总结（jsp&#43;servlet&#43;jdbc&#43;javabean&#43;dao） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java Web图书管理系统总结（jsp&#43;servlet&#43;jdbc&#43;javabean&#43;dao）" />
<meta property="og:description" content="这周进行了课程实践，题目是老掉牙的图书管理系统，因为一些原因，原本打算做前端的我做了全栈，虽然最后交的不是我写的，就当练手了。
首先上部分运行截图：
前端部分：采用bootstrap与layui结合，导航栏，输入框，按钮用的layui，表格用的bootstrap，大部分样式在原有框架的基础上进行了重构。
后端部分：管理员对用户和图书的管理，用户对图书的各种操作均是对数据库的更改，为方便对数据库进行操作，将各种操作封装到dao层中。Jsp用于接收信息，在 servlet中对jsp传来的数据进行逻辑判断与操作。
Java部分 servlet包，dao层，数据类，数据库连接模板如下
Jsp界面部分如下 其中的static用来放一些css ,img ,js,字体资源等
一些注意事项：
一.在写的过程中会遇到各种需要共享数据的情况。 Jsp与Servlet之间的传值有两种，一种是Jsp传值给Sevlet，另一种是Servlet传值给Jsp；使用request、response对象完成传值，具体实现如下：
1.JSP传值给Servlet
JSP传值给Servlet有几种形式：Form表单传值，url传值，其他方式传值
a、form表单传值：
JSP页面有：&lt;input type=&#34;text&#34; name=&#34;user_name&#34; /&gt;在servlet中接收数据需要这样写
String user_name=request.getParameter(&#34;user_name&#34;); b、url传值
我没用过，了解之后再来更新。
c、java代码传值
java片段代码，servlet只能接到 session.setAttribute(&#34;testSession&#34;,&#34;Hello session&#34;)的内容，而接不到 request的内容。在 servlet里用 request.getSession().getAttribute(&#34;testSession&#34;)获取 session内容。
2.Servlet传值给Jsp
具体实现如下：
java代码：
String a= &#34;abccdefg &#34;; request.setAttribute( &#34;ValueA &#34;,a); request.getRequestDispatcher( &#34;网址/jsp页面 &#34;).forward(request,response); jsp页面：
&lt;% String s =(String)request.getAttribute( &#34;ValueA &#34;); %&gt; jsp页面就可以取出Servlet的值。
3.servlet与servlet之间共享数据
我是用的servletContext
servlet1中这么写
this.getServletContext().setAttribute(&#34;user&#34;,user); servlet2中这么接收
User user=(User)this.getServletContext().getAttribute(&#34;user&#34;); user是一个Javabean 类对象，在接收的时候要进行强制类型转换
二、跳转问题 1…从servlet到jsp的方法
从 servlet转到 jsp不外乎两种方法，重定向 和 url转发" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/92437a81625e977f55d5f9d035ab2bdc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-06T15:02:48+08:00" />
<meta property="article:modified_time" content="2019-07-06T15:02:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java Web图书管理系统总结（jsp&#43;servlet&#43;jdbc&#43;javabean&#43;dao）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>这周进行了课程实践，题目是老掉牙的图书管理系统，因为一些原因，原本打算做前端的我做了全栈，虽然最后交的不是我写的，就当练手了。<br> 首先上部分运行截图：<br> <img src="https://images2.imgbox.com/5b/16/v19SPf4z_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9e/6c/JpMWIGGg_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f2/91/u0ODTlmy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a5/39/w33EjkPQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ad/d7/GEpw0lEt_o.png" alt="在这里插入图片描述"><br> 前端部分：采用bootstrap与layui结合，导航栏，输入框，按钮用的layui，表格用的bootstrap，大部分样式在原有框架的基础上进行了重构。<br> 后端部分：管理员对用户和图书的管理，用户对图书的各种操作均是对数据库的更改，为方便对数据库进行操作，将各种操作封装到dao层中。Jsp用于接收信息，在 servlet中对jsp传来的数据进行逻辑判断与操作。<br> Java部分 servlet包，dao层，数据类，数据库连接模板如下<br> <img src="https://images2.imgbox.com/56/5c/UsN9s3eb_o.png" alt="在这里插入图片描述"><br> Jsp界面部分如下 其中的static用来放一些css ,img ,js,字体资源等<br> <img src="https://images2.imgbox.com/d8/e8/HqRDUJBn_o.png" alt="在这里插入图片描述"><br> 一些注意事项：</p> 
<h3><a id="_16"></a>一.在写的过程中会遇到各种需要共享数据的情况。</h3> 
<p>Jsp与Servlet之间的传值有两种，一种是Jsp传值给Sevlet，另一种是Servlet传值给Jsp；使用request、response对象完成传值，具体实现如下：</p> 
<p><strong>1.JSP传值给Servlet</strong></p> 
<p>JSP传值给Servlet有几种形式：Form表单传值，url传值，其他方式传值</p> 
<p>a、form表单传值：</p> 
<p>JSP页面有：<code>&lt;input type="text" name="user_name" /&gt;</code>在servlet中接收数据需要这样写</p> 
<pre><code>String user_name=request.getParameter("user_name");
</code></pre> 
<p>b、url传值</p> 
<p>我没用过，了解之后再来更新。</p> 
<p>c、java代码传值</p> 
<p>java片段代码，servlet只能接到 <code>session.setAttribute("testSession","Hello session")</code>的内容，而接不到 request的内容。在 servlet里用 <code>request.getSession().getAttribute("testSession")</code>获取 session内容。</p> 
<p><strong>2.Servlet传值给Jsp</strong></p> 
<p>具体实现如下：</p> 
<p>java代码：</p> 
<pre><code>String   a= "abccdefg "; 
             request.setAttribute( "ValueA ",a); 
             request.getRequestDispatcher( "网址/jsp页面 ").forward(request,response); 
</code></pre> 
<p>jsp页面：</p> 
<pre><code>&lt;%

String   s   =(String)request.getAttribute( "ValueA ");

%&gt;
</code></pre> 
<p>jsp页面就可以取出Servlet的值。</p> 
<p><strong>3.servlet与servlet之间共享数据</strong></p> 
<p>我是用的servletContext</p> 
<p>servlet1中这么写</p> 
<pre><code>this.getServletContext().setAttribute("user",user);
</code></pre> 
<p>servlet2中这么接收</p> 
<pre><code>User user=(User)this.getServletContext().getAttribute("user");
</code></pre> 
<p>user是一个Javabean 类对象，在接收的时候要进行强制类型转换</p> 
<h3><a id="_73"></a>二、跳转问题</h3> 
<p><strong>1…从servlet到jsp的方法</strong></p> 
<p>从 servlet转到 jsp不外乎两种方法，重定向 和 url转发</p> 
<p>a、重定向 ( Redirect)：是路径的跳转，内容和 url都改变。不允许带 request参数( session参数可以)，即不允许在servlet里给 request对象使用setAttribute方法传给下一页面。在 servlet里使用 response.sendRedirect(url) 方法。注意这里的 url前不带斜线 /，如 response.sendRedirect(”test.jsp“)</p> 
<p>b、url转发 ( Forward)：是页面的跳转，页面内容发生改变，url不变。可以带 request和 session参数。在 servlet里使用 getServletConfig().getServletContext().getRequestDispatcher(url).forward(request, response)。而这里的url前需要带斜线 /，如getServletConfig().getServletContext().getRequestDispatcher(”/test.jsp“).forward(request, response)</p> 
<p><strong>2、从jsp到servlet的方法</strong></p> 
<p>a、表单：post方法提交表单</p> 
<p>b、链接：url方式（带参数）</p> 
<h3><a id="servletdao_95"></a>三、在servlet中通过dao类中的方法实现对数据库的操作如添加记录但是中文乱码问题</h3> 
<p>在使用dao类增加方法的servlet中添加这两句代码就可以了</p> 
<pre><code>//设置编码格式
	    request.setCharacterEncoding("utf-8");
	    response.setContentType("text/html;charset=utf-8");
</code></pre> 
<p>亲测这样往数据库写中文不会乱码了。</p> 
<h3><a id="_104"></a>四、前端页面如何实现点击导航栏链接在导航不变的前提下在当前页面出现各种不同的页面</h3> 
<p>这个就比较简单啦，用框架iframe就行啦，注意不是frame，这个标签已经被淘汰。<br> <img src="https://images2.imgbox.com/e7/2f/lxgbamMc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4e/c0/mJixRKxB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="iframe_109"></a>五、前端页面如何实现iframe中的页面撑满除导航剩下的所有部分</h3> 
<p>给iframe添加如下样式</p> 
<pre><code> iframe {
	margin-left: 200px;
	height: 100%;
	width: 100%;
	position:absolute;
} 
</code></pre> 
<p>定位absolute+宽高100%就行啦</p> 
<h3><a id="_121"></a>本系统的缺点</h3> 
<p>有个bug就是没有判断用户是否达到了借阅上限，也就是说用户可以借无数本书没有限制，因为一个人写全栈太累了，懒得写了，有机会会再改改，另外缺少超期罚款功能。最重要的是没有使用ajax，鬼知道我怎么想的学js的时候把它跳过去了，看着那不停刷新的页面我简直想哭，现在就开始补ajax了。</p> 
<p>现在想起来的问题就这些吧，还有什么重要问题会再补充。<br> 源码抽空传GitHub上。</p> 
<h6><a id="github_126"></a>github源码地址：</h6> 
<p><a href="https://github.com/AndreliaJUN/bms">项目地址</a></p> 
<p>写的不是特别好，敬请谅解，毕竟后端不是我拿手的。。。如果具有参考意义的话给点个star吧。。。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/316d8765a62ac891cf244caf1cb49f93/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java（maven）项目实战出现的问题：springmvc如何访问WEB-INF下的jsp页面，另外浏览器不能直接访问WEB-INF下的内容</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d253908a91fba073200b6b4ceb17cf3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">UVALive 3683/UVa 1380 A Scheduling Problem（树形DP）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>