<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux】定时任务调度 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux】定时任务调度" />
<meta property="og:description" content="目录
任务定时调度定义：
1、crontab：
2、ps -ef：
3、at：
任务定时调度定义： 在Linux系统中，后台会执行一个crond程序，这个程序可以通过设定时间来让系统定时调用某个命令、脚本。任务调度可以是系统中一些重要任务的调用，也可以是用户自己设定的一些定时任务的调用。
1、crontab： 这个指令用于设定定时任务。它的基本语法是：
crontab [选项]
常用选项有：
-r：删除当前用户所有定时任务
-e：编辑增加用户的定时任务
-l：查询定时任务
在设定定时任务的时间时，我们通过设定这五个星：* * * * *
第一个星表示：一个小时里面的哪一分钟（0~59）第二个星表示：一天中哪一个小时（0~23）第三个星表示；一个月中哪一天（1~31）第四个星表示：一年中第哪个月（1~12）第五个星表示：一周中星期几（0(7)~6） 不需要修改的地方保留星号，修改的方式有以下几种：
* -- 这个默认符号表示当前的每个单位时间都执行，例如第五个位是星就表示一周内每天都执行一次、第二个位是星表示一天内每个小时都执行一遍。
x-y -- 这个符号表示从x-y的时间内连续执行。例如 * 23 * 2-8 * 表示一年中第2个月到第8个月每个月的23时都执行一遍。
x , y.. -- 这个符号表示在x,y...的间断时间内执行一遍。例如 * 8, 11 , 15 * * * 表示一天中8点、11点、15点执行一遍。
*\x -- 这个符号表示每个x单位时间就会执行一遍任务。例如 * * * *\5 *表示每隔5个月执行一遍
2、ps -ef： 这个指令是用于查看当前正在运行的所有进程，它的用法就是直接输入命令：
ps -ef
即可。要是我们想要查看某一个特定的进程，我们可以利用管道加grep指令。例如查看atd进程：
ps -ef | grep atd 3、at： 相对于crontab指令的反复调度，我们还需一种调用只执行一次的方式。所以我们引入了at指令。at指令有一个相对应的atd后台程序。这个程序的存在可以理解为就是对我们设置的任务（作业）的管理程序。它每60s就会对作业进行一次扫描，查看哪些作业需要执行，如果有作业执行了就会被移出去，然后反复扫描。这里要想配置定时任务，需要我们确保atd程序已经开启，所有我们一般先查看有无开启atd程序再去设置命令。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/563343b9aee62938feebe04c5ce2138c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-15T22:18:48+08:00" />
<meta property="article:modified_time" content="2022-06-15T22:18:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux】定时任务调度</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%E4%BB%BB%E5%8A%A1%E5%AE%9A%E6%97%B6%E8%B0%83%E5%BA%A6%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%BB%BB%E5%8A%A1%E5%AE%9A%E6%97%B6%E8%B0%83%E5%BA%A6%EF%BC%9A" rel="nofollow">任务定时调度定义：</a></p> 
<p id="1%E3%80%81crontab%EF%BC%9A-toc" style="margin-left:40px;"><a href="#1%E3%80%81crontab%EF%BC%9A" rel="nofollow">1、crontab：</a></p> 
<p id="2%E3%80%81ps%20-ef%EF%BC%9A-toc" style="margin-left:40px;"><a href="#2%E3%80%81ps%20-ef%EF%BC%9A" rel="nofollow">2、ps -ef：</a></p> 
<p id="3%E3%80%81at%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3%E3%80%81at%EF%BC%9A" rel="nofollow">3、at：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%BB%BB%E5%8A%A1%E5%AE%9A%E6%97%B6%E8%B0%83%E5%BA%A6%EF%BC%9A">任务定时调度定义：</h3> 
<p>在Linux系统中，后台会执行一个crond程序，这个程序可以通过设定时间来让系统定时调用某个命令、脚本。任务调度可以是系统中一些重要任务的调用，也可以是用户自己设定的一些定时任务的调用。</p> 
<h3 id="1%E3%80%81crontab%EF%BC%9A">1、crontab：</h3> 
<p>这个指令用于设定定时任务。它的基本语法是：</p> 
<blockquote> 
 <p><strong>crontab  [选项]</strong></p> 
</blockquote> 
<p>常用选项有：</p> 
<p>-r：删除当前用户所有定时任务</p> 
<p>-e：编辑增加用户的定时任务</p> 
<p>-l：查询定时任务</p> 
<p>在设定定时任务的时间时，我们通过设定这五个星：<strong>* * * * *</strong></p> 
<ul><li>第一个星表示：一个小时里面的哪一分钟（0~59）</li><li>第二个星表示：一天中哪一个小时（0~23）</li><li>第三个星表示；一个月中哪一天（1~31）</li><li>第四个星表示：一年中第哪个月（1~12）</li><li>第五个星表示：一周中星期几（0(7)~6）</li></ul> 
<p>不需要修改的地方保留星号，修改的方式有以下几种：</p> 
<p>* -- 这个默认符号表示当前的每个单位时间都执行，例如第五个位是星就表示一周内每天都执行一次、第二个位是星表示一天内每个小时都执行一遍。</p> 
<p>x-y -- 这个符号表示从x-y的时间内连续执行。例如 * 23 * 2-8 * 表示一年中第2个月到第8个月每个月的23时都执行一遍。</p> 
<p>x , y.. -- 这个符号表示在x,y...的间断时间内执行一遍。例如 * 8, 11 , 15 * * * 表示一天中8点、11点、15点执行一遍。</p> 
<p>*\x -- 这个符号表示每个x单位时间就会执行一遍任务。例如 * * * *\5 *表示每隔5个月执行一遍</p> 
<h3 id="2%E3%80%81ps%20-ef%EF%BC%9A">2、ps -ef：</h3> 
<p>这个指令是用于查看当前正在运行的所有进程，它的用法就是直接输入命令：</p> 
<blockquote> 
 <p><strong>ps -ef</strong></p> 
</blockquote> 
<p>即可。要是我们想要查看某一个特定的进程，我们可以利用管道加grep指令。例如查看atd进程：</p> 
<pre><code>ps -ef | grep atd</code></pre> 
<h3 id="3%E3%80%81at%EF%BC%9A">3、at：</h3> 
<p>相对于crontab指令的反复调度，我们还需一种调用只执行一次的方式。所以我们引入了at指令。at指令有一个相对应的atd后台程序。这个程序的存在可以理解为就是对我们设置的任务（作业）的管理程序。它每60s就会对作业进行一次扫描，查看哪些作业需要执行，如果有作业执行了就会被移出去，然后反复扫描。这里要想配置定时任务，需要我们确保atd程序已经开启，所有我们一般先查看有无开启atd程序再去设置命令。</p> 
<blockquote> 
 <p><strong>at   [选项]   [时间]</strong></p> 
</blockquote> 
<p>上面是at指令的形式，我们再来看看时间配置：</p> 
<p>时间配置有很多种方法，这里我列举两个：</p> 
<p>1、直接年月日时间：这里日期要跟着时间后面，如21:16  15/6/2022、21:16  25-6-2022</p> 
<p>2、叠加：now + 5 minutes、now + 10 hours、now + 20 weeks</p> 
<p>当我们输入完指令后，输入Ctrl+D两次表示退出，再输入<strong>atq</strong>即可查看当前作业。</p> 
<p>删除作业则需要操作<strong>atrm+编号</strong>。</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6f0880d760bf75693d0dd35fc99c38c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mybatis-generator正则自定义实体成员名称</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ae07cec524c3ef927cff5ff1e572e3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MAC配置 chisel3环境运行FIRRTL</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>