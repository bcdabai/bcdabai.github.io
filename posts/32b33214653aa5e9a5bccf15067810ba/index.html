<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux-Centos7.9_YUM源离线配置/在线更换国内源】 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux-Centos7.9_YUM源离线配置/在线更换国内源】" />
<meta property="og:description" content="文章目录 Centos7.9_YUM源离线配置/在线更换国内源一、★YUM源定义二、★系统源镜像说明三、★离线YUM源配置3.1 镜像挂载3.2 镜像内容复制3.3 备份yum默认配置文件3.4创建yum配置文件3.5 生成缓存 四、★在线更换国内YUM配置4.1 备份默认yum配置文件4.2 下载对应版本repo文件4.3 生成缓存 五、★YUM基本命令六、★最后 Centos7.9_YUM源离线配置/在线更换国内源 本篇主要讲解在Linux-Centos7.9系统在离线状态下如何进行离线YUM源挂载、配置、使用和在线联网状态下进行国内yum源的更换。
一、★YUM源定义 yum（ Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 Centos中的 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。yum 提供了查找、安装、删除某一个或一组甚至全部软件包的命令，而且命令简洁而又好记。
二、★系统源镜像说明 由于是断网离线状态下使用yum,所以对于yum源系统镜像的选取就非常重要的，本身自带的包越多就越不依赖于网络，所以在centos7.9系统镜像版本的选择是很重要的。在线环境请直接看第四小节。
如下表所示，选择的时候我们要选择下载：CentOS-7-x86_64-Everything-2009.iso，数据包最大的everything版本，也就意味着软件包最多。
[File Name][File Size][Date][CentOS-7-x86_64-DVD-2009.iso]47123005442020-11-04 11:37:25CentOS-7-x86_64-Everything-2009.iso102005473282020-11-02 15:18:02[CentOS-7-x86_64-Minimal-2009.iso]10202644482020-11-03 14:55:52 三、★离线YUM源配置 CentOS-7-x86_64-Everything-2009.iso系统镜像下载完后，直接导入到离线的centos7.9系统进行挂载，然后在复制全部文件到系统中，具体步骤如下(需要具有root或者sudo权限)：
3.1 镜像挂载 # 进行系统的挂载,挂载到/mnt mount -o loop CentOS-7-x86_64-Everything-2009.iso /mnt 3.2 镜像内容复制 # 创建一个文件夹用于存放系统镜像里的全部文件 mkdir /home/ldd/local_yum cd /mnt cp -r ./* /home/ldd/local_yum 3.3 备份yum默认配置文件 # 系统默认的yum源 mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/32b33214653aa5e9a5bccf15067810ba/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-23T14:55:46+08:00" />
<meta property="article:modified_time" content="2023-02-23T14:55:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux-Centos7.9_YUM源离线配置/在线更换国内源】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Centos79_YUM_2" rel="nofollow">Centos7.9_YUM源离线配置/在线更换国内源</a></li><li><ul><li><ul><li><a href="#YUM_8" rel="nofollow">一、★YUM源定义</a></li><li><a href="#_14" rel="nofollow">二、★系统源镜像说明</a></li><li><a href="#YUM_30" rel="nofollow">三、★离线YUM源配置</a></li><li><ul><li><a href="#31__36" rel="nofollow">3.1 镜像挂载</a></li><li><a href="#32__44" rel="nofollow">3.2 镜像内容复制</a></li><li><a href="#33_yum_53" rel="nofollow">3.3 备份yum默认配置文件</a></li><li><a href="#34yum_60" rel="nofollow">3.4创建yum配置文件</a></li><li><a href="#35__72" rel="nofollow">3.5 生成缓存</a></li></ul> 
     </li><li><a href="#YUM_81" rel="nofollow">四、★在线更换国内YUM配置</a></li><li><ul><li><a href="#41_yum_85" rel="nofollow">4.1 备份默认yum配置文件</a></li><li><a href="#42_repo_91" rel="nofollow">4.2 下载对应版本repo文件</a></li><li><a href="#43__109" rel="nofollow">4.3 生成缓存</a></li></ul> 
     </li><li><a href="#YUM_118" rel="nofollow">五、★YUM基本命令</a></li><li><a href="#_134" rel="nofollow">六、★最后</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Centos79_YUM_2"></a>Centos7.9_YUM源离线配置/在线更换国内源</h3> 
<hr> 
<blockquote> 
 <p>本篇主要讲解在Linux-Centos7.9系统在离线状态下如何进行离线YUM源挂载、配置、使用和在线联网状态下进行国内yum源的更换。</p> 
</blockquote> 
<h5><a id="YUM_8"></a>一、★YUM源定义</h5> 
<hr> 
<blockquote> 
 <p>yum（ Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 Centos中的 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。yum 提供了查找、安装、删除某一个或一组甚至全部软件包的命令，而且命令简洁而又好记。</p> 
</blockquote> 
<h5><a id="_14"></a>二、★系统源镜像说明</h5> 
<hr> 
<blockquote> 
 <p>由于是断网离线状态下使用yum,所以对于yum源系统镜像的选取就非常重要的，本身自带的包越多就越不依赖于网络，所以在centos7.9系统镜像版本的选择是很重要的。<strong>在线环境请直接看第四小节。</strong></p> 
 <p>如下表所示，选择的时候我们要选择下载：CentOS-7-x86_64-Everything-2009.iso，数据包最大的everything版本，也就意味着软件包最多。</p> 
 <table><thead><tr><th align="left">[File Name]</th><th align="left">[File Size]</th><th align="right">[Date]</th></tr></thead><tbody><tr><td align="left">[CentOS-7-x86_64-DVD-2009.iso]</td><td align="left">4712300544</td><td align="right">2020-11-04 11:37:25</td></tr><tr><td align="left"><a href="http://mirrors.nju.edu.cn/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso" rel="nofollow">CentOS-7-x86_64-Everything-2009.iso</a></td><td align="left">10200547328</td><td align="right">2020-11-02 15:18:02</td></tr><tr><td align="left">[CentOS-7-x86_64-Minimal-2009.iso]</td><td align="left">1020264448</td><td align="right">2020-11-03 14:55:52</td></tr></tbody></table> 
</blockquote> 
<h5><a id="YUM_30"></a>三、★离线YUM源配置</h5> 
<hr> 
<blockquote> 
 <p>CentOS-7-x86_64-Everything-2009.iso系统镜像下载完后，直接导入到离线的centos7.9系统进行挂载，然后在复制全部文件到系统中，具体步骤如下(需要具有root或者sudo权限)：</p> 
</blockquote> 
<h6><a id="31__36"></a>3.1 镜像挂载</h6> 
<pre><code class="prism language-bash"><span class="token comment"># 进行系统的挂载,挂载到/mnt</span>
<span class="token function">mount</span>  <span class="token parameter variable">-o</span> loop CentOS-7-x86_64-Everything-2009.iso  /mnt 

</code></pre> 
<h6><a id="32__44"></a>3.2 镜像内容复制</h6> 
<pre><code class="prism language-bash"><span class="token comment"># 创建一个文件夹用于存放系统镜像里的全部文件</span>
<span class="token function">mkdir</span> /home/ldd/local_yum
<span class="token builtin class-name">cd</span> /mnt
<span class="token function">cp</span> <span class="token parameter variable">-r</span>  ./*   /home/ldd/local_yum
</code></pre> 
<h6><a id="33_yum_53"></a>3.3 备份yum默认配置文件</h6> 
<pre><code class="prism language-bash"><span class="token comment"># 系统默认的yum源</span>
<span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</code></pre> 
<h6><a id="34yum_60"></a>3.4创建yum配置文件</h6> 
<pre><code class="prism language-bash"><span class="token comment"># 新增yum源配置文件local_yum.repo，增加如下内容到local_yum.repo文件中</span>
<span class="token function">vim</span>  /etc/yum.repos.d/local_yum.repo
	<span class="token punctuation">[</span>centos7.6<span class="token punctuation">]</span>  <span class="token comment"># 名称可以自定义</span>
	<span class="token assign-left variable">name</span><span class="token operator">=</span>centos7.6_local_yum  <span class="token comment"># 名称可自定义</span>
	<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///home/ldd/local_yum <span class="token comment"># 这里的路径需要和上面mkdir命令创建的文件夹路径一致</span>
	<span class="token assign-left variable">enable</span><span class="token operator">=</span><span class="token number">1</span>
	<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
</code></pre> 
<h6><a id="35__72"></a>3.5 生成缓存</h6> 
<pre><code class="prism language-bash">yum clean all
yum makecache
</code></pre> 
<h5><a id="YUM_81"></a>四、★在线更换国内YUM配置</h5> 
<hr> 
<h6><a id="41_yum_85"></a>4.1 备份默认yum配置文件</h6> 
<pre><code class="prism language-bash"><span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
</code></pre> 
<h6><a id="42_repo_91"></a>4.2 下载对应版本repo文件</h6> 
<blockquote> 
 <p>以下配置任选其一即可</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment"># 下载网易163yum配置文件</span>
<span class="token builtin class-name">cd</span> /etc/yum.repos.d/
<span class="token function">wget</span> http://mirrors.163.com/.help/CentOS6-Base-163.repo
<span class="token function">mv</span> CentOS6-Base-163.repo CentOS-Base.repo
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment"># 下载阿里云yum配置文件</span>
<span class="token builtin class-name">cd</span> /etc/yum.repos.d/
<span class="token function">wget</span>  https://mirrors.aliyun.com/repo/Centos-7.repo
<span class="token function">mv</span> Centos-7.repo CentOS-Base.repo
</code></pre> 
<h6><a id="43__109"></a>4.3 生成缓存</h6> 
<pre><code class="prism language-bash">yum clean all
yum makecache
</code></pre> 
<h5><a id="YUM_118"></a>五、★YUM基本命令</h5> 
<hr> 
<ul><li>列出所有可更新的软件清单命令：<strong>yum check-update</strong></li><li>更新所有软件命令：<strong>yum update</strong></li><li>仅安装指定的软件命令：<strong>yum install &lt;package_name&gt;</strong></li><li>仅更新指定的软件命令：<strong>yum update &lt;package_name&gt;</strong></li><li>列出所有可安裝的软件清单命令：<strong>yum list</strong></li><li>删除软件包命令：<strong>yum remove &lt;package_name&gt;</strong></li><li>查找软件包命令：<strong>yum search </strong></li><li>yum clean packages**: 清除缓存目录下的软件包**</li><li>只下载不安装：<strong>yumdownloader --destdir=/tmp --resolve httpd</strong></li></ul> 
<h5><a id="_134"></a>六、★最后</h5> 
<blockquote> 
 <p>以上内容都是经过实战验证过的，离线yum源配置是以后离线编译各种开源软件的首要条件，所以它是进行离线编译软件环境的基础条件之一。</p> 
 <p>(●’◡’●) <strong>最后感谢屏幕另一端的你，强有力的支持。</strong></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52fef88ff1e306892955ac22876a442f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构 —— 双向链表（超详细图解 &amp; 接口函数实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8132310f8ceca4103444abf76d8f81e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt 中的QString</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>