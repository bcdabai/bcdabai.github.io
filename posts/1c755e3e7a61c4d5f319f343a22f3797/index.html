<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android常用的第三方库--.jar、.aar - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android常用的第三方库--.jar、.aar" />
<meta property="og:description" content="一、什么是jar包和arr包？两者有何区别？ JAR（Java Archive，Java 归档文件）是与平台无关的文件格式，它允许将许多文件组合成一个压缩文
件。JAR是 Java 的一种文档格式，是一种与平台无关的文件格式，可将多个文件合成一个文件。只包含了class文件与清单文件 ，不包含资源文件，如图片等所有res中的文件。
JAR的优点：安全性、减少下载时间、传输平台扩展、包密封、包版本控制、可移植性。
2.Android库项目的二进制归档文件，包含所有资源，class以及res资源文件全部包含。
将aar解压（后缀改为.zip，再解压文件）打开后，可以看到每个aar解压后的内容可能不完全一样，但
是都会包含AndroidManifest.xml，classes.jar，res，R.txt。
3.区别：打 JAR 包，项目里面的 res 文件不可用，如果想用图片文件，可将图片放进 assets 文件打进 jar 包，但注意 jar 文件夹里面的文件不能和调用项目里面的 assets 文件里面的文件重名。 aar 是 Android 库项目的二进制归档文件，包含所有资源，class 以及 res 资源文件。
二、如何使用AndroidStudio打包为jar包和arr包 打包jar 新建模块library，将需要打包的代码写在library里
注：Android Library，创建Android类库，将平时总结的TeachCourse Android 源码Demo封装成类库的形式，想要选中该项，然后可以在多个module中引用。
打开library下的build-gradle，并添加如下代码
task addMakeJar(type: Copy) { //删除存在的 delete &#39;build/libs/myjar.jar&#39; //设置拷贝的文件 //从这个目录下取出默认jar包，不同版本目录均不一样，根据自己项目在build中找classes.jar所在目录 from(&#39;build/intermediates/compile_library_classes_jar/release/&#39;) //打进jar包后的文件目录 into(&#39;build/libs/&#39;) //将classes.jar放入build/libs/目录下 //include ,exclude参数来设置过滤 //（我们只关心classes.jar这个文件） include(&#39;classes.jar&#39;) //重命名 rename (&#39;classes.jar&#39;, &#39;myjar.jar&#39;) } addMakeJar.dependsOn(build) 完成后点击sync now，再打开右上角的gradle
会发现在library包下的tasks-&gt;other有了我们刚刚添加的task addMakeJar，双击运行
成功
打包arr 其实AndroidStudio会自动生成arr文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1c755e3e7a61c4d5f319f343a22f3797/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-23T10:39:10+08:00" />
<meta property="article:modified_time" content="2023-02-23T10:39:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android常用的第三方库--.jar、.aar</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h2 style=""><span class="kdocs-bold" style="font-weight:bold;">一、什么是jar包和arr包？两者有何区别？</span></h2> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p><span class="kdocs-color" style="color:#080F17;">JAR（Java Archive，Java 归档文件）是与平台无关的文件格式，它允许将许多文件组合成一个压缩文</span></p></li></ol> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">件。JAR是 Java 的一种文档格式，是一种与平台无关的文件格式，可将多个文件合成一个文件。只包含了class文件与清单文件 ，<span class="kdocs-bold" style="font-weight:bold;">不包含资源文件，如图片等所有res中的文件</span>。</span></p> 
 <p style="text-align:null;"><span class="kdocs-color" style="color:#080F17;">JAR的优点：安全性、减少下载时间、传输平台扩展、包密封、包版本控制、可移植性。</span></p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"><span class="kdocs-color" style="color:#080F17;">2.Android库项目的二进制归档文件，<span class="kdocs-bold" style="font-weight:bold;">包含所有资源，class以及res资源文件全部包含</span>。</span></p> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">将aar解压（后缀改为.zip，再解压文件）打开后，可以看到每个aar解压后的内容可能不完全一样，但</span></p> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">是都会包含AndroidManifest.xml，classes.jar，res，R.txt。</span></p> 
 <p style=""></p> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">3.区别：打 JAR 包，项目里面的 res 文件不可用，如果想用图片文件，可将图片放进 assets 文件打进 </span></p> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">jar 包，但注意 jar 文件夹里面的文件不能和调用项目里面的 assets 文件里面的文件重名。 aar 是 </span></p> 
 <p style=""><span class="kdocs-color" style="color:#080F17;">Android 库项目的二进制归档文件，包含所有资源，class 以及 res 资源文件。</span></p> 
 <p style=""></p> 
 <h2 style=""><span class="kdocs-bold" style="font-weight:bold;">二、如何使用AndroidStudio打包为jar包和arr包</span></h2> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h3>打包jar</h3></li></ol> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>新建模块library，将需要打包的代码写在library里</p></li></ol> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1608px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:49.626865%;height:0;"> 
    <img src="https://images2.imgbox.com/f9/05/JN2X2nCf_o.png" style="margin-left:;display:block;width:1608px;margin-top:-49.626865%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">注：Android Library，创建Android类库，将平时总结的TeachCourse Android 源码Demo封装成类库的形式，想要选中该项，然后可以在多个module中引用。</p> 
 <p style=""></p> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>打开library下的build-gradle，并添加如下代码</p></li></ol> 
 <pre class="kdocs-java"><code class="language-java">
task addMakeJar(type: Copy) {
    //删除存在的
    delete 'build/libs/myjar.jar'
    //设置拷贝的文件
    //从这个目录下取出默认jar包，不同版本目录均不一样，根据自己项目在build中找classes.jar所在目录
    from('build/intermediates/compile_library_classes_jar/release/')
    //打进jar包后的文件目录
    into('build/libs/')
    //将classes.jar放入build/libs/目录下
    //include ,exclude参数来设置过滤
    //（我们只关心classes.jar这个文件）
    include('classes.jar')
    //重命名
    rename ('classes.jar', 'myjar.jar')
}

addMakeJar.dependsOn(build)</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1635px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.44037%;height:0;"> 
    <img src="https://images2.imgbox.com/b7/88/ClxiG8vo_o.png" style="margin-left:;display:block;width:1635px;margin-top:-68.44037%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>完成后点击sync now，再打开右上角的gradle</p></li></ol> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1390px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:33.741005%;height:0;"> 
    <img src="https://images2.imgbox.com/79/0a/F3RzZKzn_o.png" style="margin-left:;display:block;width:1390px;margin-top:-33.741005%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">会发现在library包下的tasks-&gt;other有了我们刚刚添加的task addMakeJar，双击运行</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:445px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:78.20225%;height:0;"> 
    <img src="https://images2.imgbox.com/c1/55/XnjvXqfA_o.png" style="margin-left:;display:block;width:445px;margin-top:-78.20225%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>成功</p></li></ol> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:604px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:60.2649%;height:0;"> 
    <img src="https://images2.imgbox.com/70/61/f7iEbI8y_o.png" style="margin-left:;display:block;width:604px;margin-top:-60.2649%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h3>打包arr</h3></li></ol> 
 <p style="">其实AndroidStudio会自动生成arr文件</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:513px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:76.803116%;height:0;"> 
    <img src="https://images2.imgbox.com/ab/06/3M3WQ3u9_o.png" style="margin-left:;display:block;width:513px;margin-top:-76.803116%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="">三、如何使用jar和arr包？</h2> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h3>使用jar包</h3></li></ol> 
 <p style="">将jar包导入libs目录下，右键选择add as library即可</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:462px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.515152%;height:0;"> 
    <img src="https://images2.imgbox.com/b5/c7/FChTNftb_o.png" style="margin-left:;display:block;width:462px;margin-top:-51.515152%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h3>使用arr包</h3></li></ol> 
 <p style="">将arr放入使用的项目模块中，在项目的build.gradle写入</p> 
 <pre class="kdocs-java"><code class="language-java">    implementation files('libs/mylibrary-release.arr')</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1759px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:37.57817%;height:0;"> 
    <img src="https://images2.imgbox.com/29/81/t5jEnA0J_o.png" style="margin-left:;display:block;width:1759px;margin-top:-37.57817%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h2 style="">四、问题汇总：</h2> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h4>打包jar时未找到classes.jar包，导致未成功</h4></li></ol> 
 <p style="">解决办法:打开build/intermediates/compile_library_classes_jar/release/，观察是否存在classes.jar</p> 
 <p style="">若不存在，则找到自己项目中的classes.jar包，修改from代码</p> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h4>library下没有build目录</h4></li></ol> 
 <p style="">解决办法：打开选中library文件，点击build编译module</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1525px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.655735%;height:0;"> 
    <img src="https://images2.imgbox.com/0c/78/g3Z9luET_o.png" style="margin-left:;display:block;width:1525px;margin-top:-48.655735%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h4>右上角打开gradle发现没有tasks</h4></li></ol> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:387px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:71.31783%;height:0;"> 
    <img src="https://images2.imgbox.com/d0/3f/Y0YEsCY3_o.png" style="margin-left:;display:block;width:387px;margin-top:-71.31783%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">解决办法：打开setting，关闭红色行打勾处</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:626px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:73.80192%;height:0;"> 
    <img src="https://images2.imgbox.com/82/ec/x6wuGWVD_o.png" style="margin-left:;display:block;width:626px;margin-top:-73.80192%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">重新同步项目</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:664px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:12.198795%;height:0;"> 
    <img src="https://images2.imgbox.com/0d/0f/IBrbPp29_o.png" style="margin-left:;display:block;width:664px;margin-top:-12.198795%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/81dc7c786d8fb3be686baf2df73fda08/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">小程序 新版本 画板（签名）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6921193be2d7c29dd164a8a032273a11/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">django 如何再admin界面增加功能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>