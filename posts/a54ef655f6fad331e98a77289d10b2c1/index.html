<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>企业微信应用开发实践 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="企业微信应用开发实践" />
<meta property="og:description" content="一、开发者中心 https://developer.work.weixin.qq.com/document
二、管理后台： https://work.weixin.qq.com/
三、企业内部应用开发 前提：域名已经备案，且在管理后台网页授权及JS-SDK可信域名已开启。
如果是JS-SDK开发，文件引用使用以下形式：
1、多页中（版本必须正确）
&lt;script src=&#34;//res.wx.qq.com/open/js/jweixin-1.2.0.js&#34;&gt;&lt;/script&gt; 2、单页中（版本必须正确）
npm i weixin-js-sdk@1.2.0 -S 使用说明 - 接口文档 - 企业微信开发者中心
&lt;template&gt; &lt;div id=&#34;app&#34;&gt; ... &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import wx from &#34;weixin-js-sdk&#34;; import axios from &#34;axios&#34;; export default { mounted() { const timestamp = Math.round(new Date().getTime() / 1000).toString(); const url = window.location.href.split(&#34;#&#34;)[0]; const config = { beta: true, // 必须这么写，否则wx.invoke调用形式的jsapi会有问题 debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。 appId: &#34;ww5600436da68bc9e4&#34;, // 必填，企业微信的corpID timestamp, // 必填，生成签名的时间戳 nonceStr: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a54ef655f6fad331e98a77289d10b2c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-21T11:19:11+08:00" />
<meta property="article:modified_time" content="2022-12-21T11:19:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">企业微信应用开发实践</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、开发者中心</h2> 
<p><a href="https://developer.work.weixin.qq.com/document" rel="nofollow" title="https://developer.work.weixin.qq.com/document">https://developer.work.weixin.qq.com/document</a></p> 
<h2>二、管理后台：</h2> 
<p><a href="https://work.weixin.qq.com/" rel="nofollow" title="https://work.weixin.qq.com/">https://work.weixin.qq.com/</a></p> 
<h2>三、企业内部应用开发</h2> 
<p>前提：域名已经备案，且在管理后台网页授权及JS-SDK可信域名已开启。</p> 
<p>如果是JS-SDK开发，文件引用使用以下形式：</p> 
<p> 1、多页中（版本必须正确）</p> 
<pre><code class="language-javascript">&lt;script src="//res.wx.qq.com/open/js/jweixin-1.2.0.js"&gt;&lt;/script&gt;</code></pre> 
<p>2、单页中（版本必须正确）</p> 
<pre><code class="language-javascript">npm i weixin-js-sdk@1.2.0 -S
</code></pre> 
<p><a href="https://developer.work.weixin.qq.com/document/path/90514" rel="nofollow" title="使用说明 - 接口文档 - 企业微信开发者中心">使用说明 - 接口文档 - 企业微信开发者中心</a></p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    ...
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import wx from "weixin-js-sdk";
import axios from "axios";
export default {
  mounted() {
    const timestamp = Math.round(new Date().getTime() / 1000).toString();
    const url = window.location.href.split("#")[0];
    const config = {
      beta: true, // 必须这么写，否则wx.invoke调用形式的jsapi会有问题
      debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
      appId: "ww5600436da68bc9e4", // 必填，企业微信的corpID
      timestamp, // 必填，生成签名的时间戳
      nonceStr: "Wm3WZYTPz0wzccnW", // 必填，生成签名的随机串
      jsApiList: ["shareAppMessage"] // 必填，需要使用的JS接口列表，凡是要调用的接口都需要传进来
    };

    axios({
      method: "POST",
      url: `/api/qyweixin/signature`,
      data: {
        appId: "ww5600436da68bc9e4", // 必填，企业微信的corpID
        timestamp, // 必填，生成签名的时间戳
        nonceStr: "Wm3WZYTPz0wzccnW", // 必填，生成签名的随机串
        secret: "jcY1nAtFPDmY_xjNRmkdEOBvDc4MXHnaugO-Wqm8Grw",
        url
      }
    })
      .then(res =&gt; {
        config.signature = res.data.sign;

        wx.config(config);

        var shareConfig = {
          title: "分享Test",
          desc: "这是一个分享的演示",
          link: "http://www.qq.com",
          imgUrl: "http://demo.open.weixin.qq.com/jssdk/images/p2166127561.jpg",
          success: function(e) {
            alert(JSON.stringify(e));
          },
          cancel: function(e) {
            alert(JSON.stringify(e));
          },
          fail: function(e) {
            alert(JSON.stringify(e));
          }
        };

        wx.ready(function() {
          // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。

          wx.invoke("shareAppMessage", shareConfig, function(e) {
            "shareAppMessage:ok" == e.err_msg &amp;&amp; alert("shareAppMessage:ok"),
              "shareAppMessage:cancel" == e.err_msg &amp;&amp;
                alert("shareAppMessage:cancel");
          });
        });

        wx.error(function(res) {
          // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。
          alert(JSON.stringify(res));
        });
      })
      .catch(error =&gt; {
        console.log(error);
      });
  }
};
&lt;/script&gt;
</code></pre> 
<h2>四、企业微信开发调试</h2> 
<p>在企业微信开发，如果不能在企业微信直接调试，那效率非常低，问题又不容易定位到，企业微信设置里又没有开发者模式开关，就在我无从下手的时候，发现一个快捷键能打开调试模式</p> 
<p>企业微信 Windows 版本调试</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d4/45/C5Rus7xc_o.png"></p> 
<p> 下载地址：<a href="https://dldir1.qq.com/foxmail/wwopen_docFile/devtools_resources.pak" rel="nofollow" title="https://dldir1.qq.com/foxmail/wwopen_docFile/devtools_resources.pak">https://dldir1.qq.com/foxmail/wwopen_docFile/devtools_resources.pak</a></p> 
<blockquote> 
 <ol><li>把 devtools_resources.pak 放到企业微信的安装目录下（复制的文件名，要保证为 devtools_resources.pak），注意安装目录带有版本号（4.0.1304.400 是浏览器内核的版本号）；</li><li>关闭企业微信，重新启动；</li><li>进入聊天窗口（关键），按快捷键 ctrl + alt + shift + D，进入调试模式；</li><li>在需要调试的页面上点击右键，点“开发者工具”，进入调试模式。</li></ol> 
</blockquote> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/81/2a/ltHQKztZ_o.png"></p> 
<p> 参考：<a href="https://developer.work.weixin.qq.com/document/path/90315#%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E7%9A%84UA" rel="nofollow" title="常见问题 - FAQ - 接口文档 - 企业微信开发者中心">常见问题 - FAQ - 接口文档 - 企业微信开发者中心</a></p> 
<h2>五、提示</h2> 
<p>企业微信API如没有特殊说明就只能在企业微信环境内调用。 </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2df18c7b0ec61732ff9f3ae938af8ac3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">echarts柱状图的x轴（刻度、标签名、刻度线），y轴（单位、刻度线样式（虚线、实线、）、字体样式（颜色、大小），图例排列 、柱状宽度、颜色，柱状背景）完整的柱状图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/114f98137f4fe2a5a0e2f6edef4b06ac/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis 主从配置（带密码）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>