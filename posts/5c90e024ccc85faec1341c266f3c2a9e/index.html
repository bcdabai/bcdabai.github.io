<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>二分查找【数组】 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="二分查找【数组】" />
<meta property="og:description" content="⭐前言⭐ ※※※大家好！我是同学〖森〗，一名计算机爱好者，今天让我们进入复习模式。若有错误，请多多指教。更多有趣的代码请移步Gitee
👍 点赞 ⭐ 收藏 📝留言 都是我创作的最大的动力！
题目 704. 二分查找
给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。
示例1：
1| 输入: nums = [-1,0,3,5,9,12], target = 9 2| 输出: 4 3| 解释: 9在数组 nums 中，并且下标位置为 4 示例2：
输入: nums = [-1,0,3,5,9,12], target = 2 输出: -1 解释: 2 不存在 nums 中因此返回 -1 提示:
你可以假设 nums 中的所有元素是不重复的。n 将在 [1, 10000]之间。nums 的每个元素都将在 [-9999, 9999]之间。 思路 题目分析：
从数组中查询元素，存在返回下标，不存在返回-1；所有元素都是不重复的，不重复的升序数组" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5c90e024ccc85faec1341c266f3c2a9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-24T23:17:53+08:00" />
<meta property="article:modified_time" content="2023-04-24T23:17:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">二分查找【数组】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>⭐前言⭐</h2> 
<blockquote> 
 <p>※※※大家好！我是同学〖森〗，一名计算机爱好者，今天让我们进入复习模式。若有错误，请多多指教。更多有趣的代码请移步<a href="https://gitee.com/never-give-in" rel="nofollow">Gitee</a><br> 👍 点赞 ⭐ 收藏 📝留言 都是我创作的最大的动力！</p> 
</blockquote> 
<h2><a id="_4"></a>题目</h2> 
<blockquote> 
 <p><a href="https://leetcode.cn/problems/binary-search/" rel="nofollow"><strong>704. 二分查找</strong></a><br> <br> <strong>给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标，否则返回 -1。</strong></p> 
</blockquote> 
<hr> 
<p><strong><code>示例1：</code></strong></p> 
<pre><code class="prism language-java"><span class="token number">1</span><span class="token operator">|</span> 	输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">9</span>
<span class="token number">2</span><span class="token operator">|</span> 	输出<span class="token operator">:</span> <span class="token number">4</span>
<span class="token number">3</span><span class="token operator">|</span> 	解释<span class="token operator">:</span> <span class="token number">9</span>在数组 nums 中，并且下标位置为 <span class="token number">4</span>

</code></pre> 
<p><strong><code>示例2：</code></strong></p> 
<pre><code class="prism language-java">	输入<span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> target <span class="token operator">=</span> <span class="token number">2</span>     
	输出<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span>        
	解释<span class="token operator">:</span> <span class="token number">2</span> 不存在 nums 中因此返回 <span class="token operator">-</span><span class="token number">1</span>    
</code></pre> 
<blockquote> 
 <p><strong><code>提示:</code></strong></p> 
 <ul><li><strong>你可以假设 nums 中的所有元素是不重复的。</strong></li><li><strong>n 将在 [1, 10000]之间。</strong></li><li><strong>nums 的每个元素都将在 [-9999, 9999]之间。</strong></li></ul> 
</blockquote> 
<h2><a id="_28"></a>思路</h2> 
<blockquote> 
 <p><strong>题目分析：</strong></p> 
 <ol><li>从数组中查询元素，存在返回下标，不存在返回-1；</li><li>所有元素都是不重复的，<strong>不重复的升序数组</strong><br> 注： 如果是有重复元素的数组，使用二分查找返回的下表可能不唯一；</li><li>n的范围 [1, 10000] 和 nums[ i ] 的范围 [ -9999, 9999] 可以用 int 类型；</li></ol> 
</blockquote> 
<blockquote> 
 <p><strong>二分查找的思想</strong></p> 
 <ul><li>确定区间 left，right</li><li>用中间的元素与目标值 target 比较；</li><li>如果中间元素大于target的值，由于数组升序，中间元素向右的元素都大于 target，全部排除；</li><li>如果中间元素小于target的值，由于数组升序，中间元素向左的元素都小于 target，全部排除；</li><li>中间元素等于target， 返回中间元素的下标；</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>易错点</strong></p> 
 <ul><li>不确定区间的范围，[left，right] 和 [left，right）对于判断是 while( left &lt; right) 和 while( left &lt;=right)、right = mid 还是 right = mid + 1 至关重要；</li></ul> 
</blockquote> 
<p>接下来分别实现左闭右闭 [left, right] 和 左闭右开 [ left, right) 两种 区间分别求解</p> 
<h2><a id="__46"></a>解法一 左闭右开</h2> 
<blockquote> 
 <p>查询区间 [left, right)<br> <strong>控制条件</strong></p> 
 <ul><li>循环条件：while （left &lt; right）<br> 注： 这里是 <strong>小于</strong>，而不是 <strong>小于等于</strong> 因为 left == right 时 查询区间内没有元素了；</li><li>if(nums[mid] &gt; target) right = mid; 因为nums[mid] &gt; target , mid下标后面的元素都大于target，全部排除，因为区间是左闭右开，所以right = mid； 正好取不到mid； 如果不小心赋值成right = mid - 1，就漏掉了一个元素</li><li>if(nums[mid] &lt; target) left = mid + 1; 因为 查询区间左边可以取到，mid 检查过了，从mid + 1开始遍历 所以 left = mid + 1；</li></ul> 
</blockquote> 
<p><strong>例：在数组：-1,0,3,5,9,12 中查询 元素 0</strong></p> 
<h3><a id="_left__right_55"></a>第一步：初始化 left 和 right</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
<span class="token punctuation">}</span>
</code></pre> 
<p>查询区间是[left, right) 第一步初始化如下<br> <img src="https://images2.imgbox.com/5e/80/k4qb1l3a_o.png" alt="初始化数组"></p> 
<hr> 
<h3><a id="mid_67"></a>第二步：计算mid的值</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>第一次计算mid<br> <img src="https://images2.imgbox.com/85/02/3rhbWNAL_o.png" alt="计算mid"></p> 
<hr> 
<h3><a id="numsmid__target_83"></a>第三步：比较nums[mid] 和 target</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// target 在左区间[left mid)</span>
		right <span class="token operator">=</span> mid<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// target 在右区间[mid + 1, right)</span>
		left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nums[mid] == target</span>
		<span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// 在数组中找到target, 直接返回下标</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 没有找目标值</span>
</code></pre> 
<p>比较nums[mid] 和 target的大小， nums[mid] = 5 &gt; target = 0 right = mid<br> <img src="https://images2.imgbox.com/a5/5e/xIv4l6fd_o.png" alt="第一次比较"></p> 
<blockquote> 
 <p>left &lt; right ; 0 &lt; 3 进入循环</p> 
 <ul><li>mid = left + (right - left) / 2 = 1</li></ul> 
</blockquote> 
<p>第二次计算mid<br> <img src="https://images2.imgbox.com/67/aa/UDqVz6CE_o.png" alt="第二次计算mid"><br> 比较nums[mid] 和 target的大小， nums[mid] = 0 等于 target = 0<br> 成功找到 target 返回 1；</p> 
<hr> 
<p>完整代码</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token comment">// 循环条件</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在左区间[left mid)</span>
                right <span class="token operator">=</span> mid<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在右区间[mid + 1, right)</span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nums[mid] == target</span>
                <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// 在数组中找到target, 直接返回下标</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 没有找目标值</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br> <img src="https://images2.imgbox.com/13/b3/c1HTLfbP_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="_143"></a>错误演示</h3> 
<blockquote> 
 <p>正确代码：<strong>while(left &lt; right)</strong><br> 错误代码：<strong>while(left &lt;= right)</strong><br> <strong>例：在数组：-1,0,3,5,9,12 中查询 元素 7</strong><br> 完整代码</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token comment">// 循环条件</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
            <span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在左区间[left mid)</span>
                right <span class="token operator">=</span> mid<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在右区间[mid + 1, right)</span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nums[mid] == target</span>
                <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// 在数组中找到target, 直接返回下标</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 没有找目标值</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="left__0_right__arrlength_171"></a>初始化：left = 0； right = arr.length;</h4> 
<p><img src="https://images2.imgbox.com/2b/89/bFYmtzHP_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="mid___left__right__left__2_mid__3_175"></a>mid = left + (right - left) / 2; mid = 3</h4> 
<p><img src="https://images2.imgbox.com/54/87/wzN4ckrI_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="numsmid__target____5__7___left__mid__1__4_178"></a>比较nums[mid] 和 target 大小 5 &lt; 7 left = mid + 1 = 4;</h4> 
<p><img src="https://images2.imgbox.com/5b/9c/7RPAGkh5_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="left__right__4____6___mid__mid___left__right__left__2_mid__5_183"></a>left &lt;= right 4 &lt; 6进入循环 mid = mid = left + (right - left) / 2; mid = 5</h4> 
<p><img src="https://images2.imgbox.com/06/54/znKlHdgK_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="numsmid__target____12__7__right__mid__5_187"></a>比较nums[mid] 和 target 大小 12 &gt; 7 right = mid = 5</h4> 
<p><img src="https://images2.imgbox.com/c6/7a/hKZf5nD8_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="left__right_4__5___mid___left__right__left__2_mid__4_192"></a>left &lt;= right 4 &lt; 5 进入循环 mid = left + (right - left) / 2; mid = 4</h4> 
<p><img src="https://images2.imgbox.com/e9/94/5sivBT54_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="numsmid__target____9___7__right__mid__4_196"></a>比较nums[mid] 和 target 大小 9 &gt; 7 right = mid = 4</h4> 
<p><img src="https://images2.imgbox.com/b6/2b/fcLEdawR_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>left &lt;= right 4 = 4 进入循环， mid = left + (right - left) / 2; mid = 4；<br> 比较nums[mid] 和 target 大小 9 &gt; 7 right = mid = 4 程序进入了死循环；</p> 
</blockquote> 
<hr> 
<h2><a id="__203"></a>解法二 左闭右闭</h2> 
<blockquote> 
 <p>查询区间 [left, right]<br> <strong>控制条件</strong></p> 
 <ul><li>循环条件：while （left &lt;= right） 要使用 &lt;= ，因为left == right是有意义的，所以使用 &lt;=</li><li>if(nums[mid] &gt; target) right = mid - 1; 因为当前这个nums[middle]一定不是target，那么接下来要查找的左区间结束下标位置就是 middle - 1</li><li>if(nums[mid] &lt; target) left = mid + 1;</li></ul> 
</blockquote> 
<p><strong>例：在数组：-1,0,3,5,9,12 中查询 元素 0</strong></p> 
<h3><a id="_left__right_212"></a>第一步初始化 left 和 right</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span>；
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="left_right__222"></a>left right 初始化</h4> 
<p><img src="https://images2.imgbox.com/40/cf/GTuoFtTd_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="_mid_226"></a>第二步： 计算mid值</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span>；
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span> left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="mid__left__right__left__2_mid__0__5__0__2__2_236"></a>mid = left + (right - left) / 2; mid = 0 + (5 - 0) / 2 = 2</h4> 
<p><img src="https://images2.imgbox.com/38/18/3OvhQuT9_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="numsmid_target_241"></a>第三步：比较nums[mid] 和target</h3> 
<pre><code class="prism language-java">left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token comment">// 循环条件</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// target 在左区间[left mid - 1]</span>
		right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// target 在右区间[mid + 1, right]</span>
		left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nums[mid] == target</span>
		<span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// 在数组中找到target, 直接返回下标</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 没有找目标值</span>
</code></pre> 
<h4><a id="nums_mid___3__target__0___right__mid__1__1_262"></a>nums[ mid ] = 3 &gt; target = 0 ; right = mid - 1 = 1</h4> 
<p><img src="https://images2.imgbox.com/64/ee/ARjoKqrM_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="left__0__right__1_0__1__mid__left__right__left__2__mid__0_266"></a>left = 0 , right = 1; 0 &lt;= 1 进入循环； mid = left + (right - left) / 2; mid = 0；</h4> 
<p><img src="https://images2.imgbox.com/bc/a2/4YPSjcv2_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="nums_mid___1__target__0__left___mid__1__1_271"></a>nums[ mid ] = -1 &lt; target = 0 ; left = mid + 1 = 1</h4> 
<p><img src="https://images2.imgbox.com/e4/77/w67EdZj5_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="left__1__right__1_1__1__mid__left__right__left__2__mid__1_275"></a>left = 1 , right = 1; 1 &lt;= 1 进入循环； mid = left + (right - left) / 2; mid = 1；</h4> 
<p><img src="https://images2.imgbox.com/97/2d/JLk2w0FI_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="nums_mid___0__target__0_target__1_277"></a>nums[ mid ] = 0 等于 target = 0; 成功查询到target 返回 1；</h4> 
<h3><a id="_278"></a>完整代码</h3> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token comment">// 循环条件</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 防止溢出, 等同于(left + right) / 2</span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在左区间[left mid - 1]</span>
                right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target 在右区间[mid + 1, right]</span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nums[mid] == target</span>
                <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// 在数组中找到target, 直接返回下标</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 没有找目标值</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：<br> <img src="https://images2.imgbox.com/16/79/4hiOyZ4Y_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_305"></a>总结</h2> 
<blockquote> 
 <p><strong>二分查找的前提</strong></p> 
 <ul><li>数组为有序序列</li><li>数组中没有重复元素</li><li>只能查找一个元素</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>二分查找易错点</strong></p> 
 <ul><li>循环条件：<br> 前闭后开 [left, right) 循环条件为 left &lt; right ;<br> 前闭后闭 [left , right] 循环条件为 left &lt;= right;</li><li>区间赋值问题：<br> left = mid + 1;<br> 前闭后开 [left, right) right = mid ;<br> 前闭后闭 [left , right] right = mid - 1;</li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/32/45/iJlveN1J_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>本文查考信息<br> <a href="https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html#_704-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE" rel="nofollow">代码随想录</a><br> <a href="https://blog.csdn.net/qq_45978890/article/details/116094046?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168232870116800225542234%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=168232870116800225542234&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-116094046-null-null.142%5Ev86%5Einsert_down1,239%5Ev2%5Einsert_chatgpt&amp;utm_term=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE&amp;spm=1018.2226.3001.4187">【二分查找】详细图解</a><br> <a href="https://app.diagrams.net/" rel="nofollow">作图网站</a><br> <a href="https://leetcode.cn/problems/binary-search/" rel="nofollow">力扣</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c420b0072c4eb55684e3c34f546badf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Obsidian&#43;坚果云&#43;FolderSync解决电脑端和安卓端同步方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3980a52891bb7ffad850c0bd61ecfe1a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[计算机图形学]蒙特卡洛积分与路径追踪(前瞻预习/复习回顾)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>