<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux安装Docker（亲测有效） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux安装Docker（亲测有效）" />
<meta property="og:description" content="Linux安装Docker 今天项目需要部署到Docker上去，那么就亲自来部署一把Docker咯。 Docker有两个版本：
社区版（CE）企业版（EE） Docker Community Edition（CE）非常适合希望开始使用Docker并尝试使用基于容器的应用的个人开发人员和小团队。 Docker企业版（EE）专为企业开发和IT团队而设计，他们可以在生产规模上构建，发布和运行关键业务应用程序。
一、比较以下Docker的社区版和企业版的区别 我们今天就只用社区版的咯
二、Docker的安装 请先访问Docker的官网获取相关的安装信息 docker官网 三、下面以Ubuntu系统为例，准备机器卸载旧Docker 3.1 系统要求 为了安装Docker，你需要以下的系统配置。
Artful 17.10 (Docker CE 17.11 Edge and higher only)Xenial 16.04 (LTS)Trusty 14.04 (LTS)Docker CE is supported on Ubuntu on x86_64, armhf, s390x (IBM Z), and ppc64le (IBM Power) architectures.ppc64le and s390x limitations: Packages for IBM Z and Power architectures are only available on Ubuntu Xenial and above. 3.2 准备一台Ubuntu机器 root@iZbp162mb58mqtz72o389nZ:~# lsb_release -a LSB Version: core-9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6ad5f3016120210a004cf039392a071a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-05-16T18:19:44+08:00" />
<meta property="article:modified_time" content="2018-05-16T18:19:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux安装Docker（亲测有效）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="linux安装docker">Linux安装Docker</h3> 
<p>今天项目需要部署到Docker上去，那么就亲自来部署一把Docker咯。 <br> Docker有两个版本：</p> 
<ul><li>社区版（CE）</li><li>企业版（EE） <br> Docker Community Edition（CE）非常适合希望开始使用Docker并尝试使用基于容器的应用的个人开发人员和小团队。</li></ul> 
<p>Docker企业版（EE）专为企业开发和IT团队而设计，他们可以在生产规模上构建，发布和运行关键业务应用程序。</p> 
<hr> 
<h3 id="一比较以下docker的社区版和企业版的区别">一、比较以下Docker的社区版和企业版的区别</h3> 
<p><img src="https://images2.imgbox.com/05/2f/LCG7w03W_o.jpg" alt="这里写图片描述" title=""> <br> 我们今天就只用社区版的咯</p> 
<h3 id="二docker的安装">二、Docker的安装</h3> 
<p>请先访问Docker的官网获取相关的安装信息 <br> <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#prerequisites" rel="nofollow">docker官网</a> <br> <img src="https://images2.imgbox.com/f5/1f/uTTrGdFD_o.jpg" alt="这里写图片描述" title=""></p> 
<h3 id="三下面以ubuntu系统为例准备机器卸载旧docker">三、下面以Ubuntu系统为例，准备机器卸载旧Docker</h3> 
<h4 id="31-系统要求">3.1 系统要求</h4> 
<p>为了安装Docker，你需要以下的系统配置。</p> 
<ul><li>Artful 17.10 (Docker CE 17.11 Edge and higher only)</li><li>Xenial 16.04 (LTS)</li><li>Trusty 14.04 (LTS)</li><li>Docker CE is supported on Ubuntu on x86_64, armhf, s390x (IBM Z), and ppc64le (IBM Power) architectures.</li><li>ppc64le and s390x limitations: Packages for IBM Z and Power architectures are only available on Ubuntu Xenial and above.</li></ul> 
<h4 id="32-准备一台ubuntu机器">3.2 准备一台Ubuntu机器</h4> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># lsb_release -a</span>
<span class="hljs-constant">LSB</span> <span class="hljs-constant">Version</span><span class="hljs-symbol">:</span>    core-<span class="hljs-number">9.20160110</span>ubuntu<span class="hljs-number">0</span>.<span class="hljs-number">2</span>-<span class="hljs-symbol">amd64:</span>core-<span class="hljs-number">9.20160110</span>ubuntu<span class="hljs-number">0</span>.<span class="hljs-number">2</span>-<span class="hljs-symbol">noarch:</span>security-<span class="hljs-number">9.20160110</span>ubuntu<span class="hljs-number">0</span>.<span class="hljs-number">2</span>-<span class="hljs-symbol">amd64:</span>security-<span class="hljs-number">9.20160110</span>ubuntu<span class="hljs-number">0</span>.<span class="hljs-number">2</span>-noarch
<span class="hljs-constant">Distributor</span> <span class="hljs-constant">ID</span><span class="hljs-symbol">:</span> <span class="hljs-constant">Ubuntu</span>
<span class="hljs-constant">Description</span><span class="hljs-symbol">:</span>    <span class="hljs-constant">Ubuntu</span> <span class="hljs-number">16.04</span>.<span class="hljs-number">3</span> <span class="hljs-constant">LTS</span>
<span class="hljs-constant">Release</span><span class="hljs-symbol">:</span>    <span class="hljs-number">16.04</span>
<span class="hljs-constant">Codename</span><span class="hljs-symbol">:</span>   xenial
root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># </span></code></pre> 
<h4 id="33-卸载旧的或者已经安装docker版本">3.3 卸载旧的或者已经安装Docker版本</h4> 
<ul><li>旧的doceker或者已经安装过的一般叫docker或者docker-engine。 <br> 卸载它们。 <br> 出现下面这样说明，已经卸载完了，系统里面没有了</li></ul> 
<pre class="prettyprint"><code class=" hljs perl">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span>:~<span class="hljs-comment"># apt-get remove docker docker-engine docker.io</span>
Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree       
Reading <span class="hljs-keyword">state</span> information... Done
E: Unable to locate <span class="hljs-keyword">package</span> docker
E: Unable to locate <span class="hljs-keyword">package</span> docker-engine
E: Unable to locate <span class="hljs-keyword">package</span> docker.io
E: Couldn<span class="hljs-string">'t find any package by glob '</span>docker.io<span class="hljs-string">'
E: Couldn'</span>t find any <span class="hljs-keyword">package</span> by regex <span class="hljs-string">'docker.io'</span>
root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span>:~<span class="hljs-comment"># </span></code></pre> 
<h3 id="四正式安装docker">四、正式安装Docker</h3> 
<h4 id="41-你可以根据你的需要去选择不同的方式安装docker">4.1 你可以根据你的需要，去选择不同的方式安装Docker</h4> 
<ul><li>大多数用户 设置Docker的存储库并从中进行安装，以便安装和升级任务。这是推荐的方法。</li><li>有些用户下载DEB软件包并 手动安装，并完全手动管理升级。这对于在无法访问互联网的空隙系统上安装Docker等情况很有用。</li><li>在测试和开发环境中，一些用户选择使用自动 便利脚本来安装Docker。</li></ul> 
<h4 id="42-使用docker的存储库进行安装">4.2 使用Docker的存储库进行安装</h4> 
<ul><li>首次在新主机上安装Docker CE之前，需要设置Docker存储库。之后，您可以从存储库安装和更新Docker。</li><li>设置存储库</li><li>1.更新apt包资源索引</li></ul> 
<pre class="prettyprint"><code class=" hljs avrasm">root@iZbp162mb58mqtz72o389nZ:~<span class="hljs-preprocessor"># apt-get update</span>
<span class="hljs-label">Get:</span><span class="hljs-number">1</span> http://mirrors<span class="hljs-preprocessor">.cloud</span><span class="hljs-preprocessor">.aliyuncs</span><span class="hljs-preprocessor">.com</span>/ubuntu xenial InRelease [<span class="hljs-number">247</span> kB]
<span class="hljs-label">Get:</span><span class="hljs-number">2</span> http://mirrors<span class="hljs-preprocessor">.cloud</span><span class="hljs-preprocessor">.aliyuncs</span><span class="hljs-preprocessor">.com</span>/ubuntu xenial-updates InRelease [<span class="hljs-number">109</span> kB]
<span class="hljs-label">Get:</span><span class="hljs-number">3</span> http://mirrors<span class="hljs-preprocessor">.cloud</span><span class="hljs-preprocessor">.aliyuncs</span><span class="hljs-preprocessor">.com</span>/ubuntu xenial-security InRelease [<span class="hljs-number">1</span></code></pre> 
<ul><li>2.安装软件包以允许apt通过HTTPS使用存储库：</li></ul> 
<pre class="prettyprint"><code class=" hljs lasso">sudo apt<span class="hljs-attribute">-get</span> install <span class="hljs-subst">\</span>
    apt<span class="hljs-attribute">-transport</span><span class="hljs-attribute">-https</span> <span class="hljs-subst">\</span>
    ca<span class="hljs-attribute">-certificates</span> <span class="hljs-subst">\</span>
    curl <span class="hljs-subst">\</span>
    software<span class="hljs-attribute">-properties</span><span class="hljs-attribute">-common</span></code></pre> 
<ul><li>3.添加Docker的官方密钥</li></ul> 
<pre class="prettyprint"><code class=" hljs ruby"><span class="hljs-variable">$ </span>curl -fsSL <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/download.docker.com/linux</span><span class="hljs-regexp">/ubuntu/gpg</span> | sudo apt-key add -</code></pre> 
<ul><li>在执行这个命令的时候，如果是阿里云上的主机可能会报一个错，无法解析主机名。iZbp162mb58mqtz72o389nZ：就是我这台机的主机名</li></ul> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span>
<span class="hljs-symbol">sudo:</span> unable to resolve host iZbp162mb58mqtz72o389nZ
<span class="hljs-constant">OK</span></code></pre> 
<ul><li>那么就来编辑一下/etc/hosts，把主机名放在最后面</li></ul> 
<pre class="prettyprint"><code class=" hljs ">vi /etc/hosts</code></pre> 
<p><img src="https://images2.imgbox.com/18/73/eAy1J7KJ_o.jpg" alt="这里写图片描述" title=""></p> 
<ul><li>继续添加Docker的官方密钥</li></ul> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span>
<span class="hljs-constant">OK</span>
root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># </span></code></pre> 
<ul><li>9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88通过搜索指纹的最后8个字符，确认您现在拥有带指纹的密钥 。</li></ul> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># sudo apt-key fingerprint 0EBFCD88</span>
pub   <span class="hljs-number">4096</span>R/0EBFCD88 <span class="hljs-number">2017</span>-<span class="hljs-number">02</span>-<span class="hljs-number">22</span>
      <span class="hljs-constant">Key</span> fingerprint = <span class="hljs-number">9</span>DC8 <span class="hljs-number">5822</span> <span class="hljs-number">9</span>FC7 <span class="hljs-constant">DD38</span> <span class="hljs-number">854</span>A  <span class="hljs-constant">E2D8</span> <span class="hljs-number">8</span>D81 <span class="hljs-number">803</span>C 0EBF <span class="hljs-constant">CD88</span>
uid                  <span class="hljs-constant">Docker</span> <span class="hljs-constant">Release</span> (<span class="hljs-constant">CE</span> deb) &lt;docker<span class="hljs-variable">@docker</span>.com&gt;
sub   <span class="hljs-number">4096</span>R/<span class="hljs-constant">F273FCD8</span> <span class="hljs-number">2017</span>-<span class="hljs-number">02</span>-<span class="hljs-number">22</span>

root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># </span></code></pre> 
<p></p> 
<ul><li><br> 
 </li><li>4 3.使用以下命令设置稳定版本库。您始终需要稳定的存储库，即使您也想安装Edge版本。 <br></li></ul> 
<p></p> 
<blockquote> 
 <p>注意：以下lsb_release -cs子命令返回您的Ubuntu发行版的名称，例如xenial </p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># lsb_release -cs</span>
xenial
root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># </span></code></pre> 
<ul><li>查看本机的系统架构</li></ul> 
<pre class="prettyprint"><code class=" hljs ruby">root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># dpkg --print-architecture</span>
amd64
root<span class="hljs-variable">@iZbp162mb58mqtz72o389nZ</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># </span></code></pre> 
<p><img src="https://images2.imgbox.com/97/51/dOMAdGqH_o.jpg" alt="这里写图片描述" title=""> <br> - amd64</p> 
<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">sudo</span> add-apt-repository \
   <span class="hljs-string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   <span class="hljs-variable">$(lsb_release -cs)</span> \
   stable"</span></code></pre> 
<ul><li>armhf：</li></ul> 
<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">sudo</span> add-apt-repository \
   <span class="hljs-string">"deb [arch=armhf] https://download.docker.com/linux/ubuntu \
   <span class="hljs-variable">$(lsb_release -cs)</span> \
   stable"</span></code></pre> 
<ul><li>xenial</li></ul> 
<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">sudo</span> add-apt-repository \
   <span class="hljs-string">"deb [arch=xenial] https://download.docker.com/linux/ubuntu \
   <span class="hljs-variable">$(lsb_release -cs)</span> \
   stable"</span></code></pre> 
<p>有时，在像Linux Mint这样的发行版中，您可能需要更改 $(lsb_release -cs)为您的父级Ubuntu发行版。例如：如果您正在使用Linux Mint Rafaela，可以使用 trusty。</p> 
<h4 id="43-正式安装">4.3 正式安装</h4> 
<ul><li>更新apt软件包索引。</li></ul> 
<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">sudo</span> apt-get update</code></pre> 
<ul><li>安装最新版本的Docker CE，或者转到下一步安装特定版本：</li></ul> 
<pre class="prettyprint"><code class=" hljs lasso">sudo apt<span class="hljs-attribute">-get</span> install docker<span class="hljs-attribute">-ce</span></code></pre> 
<ul><li>注意： <br> 有多个Docker存储库？ <br> 如果启用了多个Docker存储库，则安装或更新时未指定版本apt-get install或 apt-get update命令始终会安装尽可能高的版本，这可能不适合您的稳定性需求</li><li>要安装特定版本的Docker CE，请列出回购站中的可用版本，然后选择并安装： <br> 一个。列出您的回购中可用的版本：</li></ul> 
<pre class="prettyprint"><code class=" hljs lasso">apt<span class="hljs-attribute">-cache</span> madison docker<span class="hljs-attribute">-ce</span>

docker<span class="hljs-attribute">-ce</span> <span class="hljs-subst">|</span> <span class="hljs-number">18.03</span><span class="hljs-number">.0</span>~ce<span class="hljs-subst">-</span><span class="hljs-number">0</span>~ubuntu <span class="hljs-subst">|</span> https:<span class="hljs-comment">//download.docker.com/linux/ubuntu xenial/stable amd64 Packages</span></code></pre> 
<ul><li>例如，通过其完全限定的软件包名称来安装特定的版本，该名称是软件包名称（docker-ce）加上版本字符串（第2列），直到第一个连字符，用等号（=） 分隔docker-ce=18.03.0.ce。 <br> Docker守护进程自动启动</li></ul> 
<pre class="prettyprint"><code class=" hljs lasso">sudo apt<span class="hljs-attribute">-get</span> install docker<span class="hljs-attribute">-ce</span><span class="hljs-subst">=&lt;</span>VERSION<span class="hljs-subst">&gt;</span></code></pre> 
<h4 id="44-检查一下docker-ce是否安装成功了">4.4 检查一下Docker CE是否安装成功了</h4> 
<ul><li>通过运行hello-world 映像验证是否正确安装了Docker CE 。 <br> 该命令下载测试图像并将其运行到容器中。当容器运行时，它会打印一条信息消息并退出。</li></ul> 
<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-built_in">sudo</span> docker run hello-world</code></pre> 
<p>正在运行的Docker如下图</p> 
<pre class="prettyprint"><code class=" hljs livecodeserver">root@iZbp162mb58mqtz72o389nZ:~<span class="hljs-comment"># sudo docker run hello-world</span>

Hello <span class="hljs-built_in">from</span> Docker!
This message shows that your installation appears <span class="hljs-built_in">to</span> be working correctly.

To generate this message, Docker took <span class="hljs-operator">the</span> following steps:
 <span class="hljs-number">1.</span> The Docker client contacted <span class="hljs-operator">the</span> Docker daemon.
 <span class="hljs-number">2.</span> The Docker daemon pulled <span class="hljs-operator">the</span> <span class="hljs-string">"hello-world"</span> image <span class="hljs-built_in">from</span> <span class="hljs-operator">the</span> Docker Hub.
    (amd64)
 <span class="hljs-number">3.</span> The Docker daemon created <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> container <span class="hljs-built_in">from</span> that image which runs <span class="hljs-operator">the</span>
    executable that produces <span class="hljs-operator">the</span> output you are currently reading.
 <span class="hljs-number">4.</span> The Docker daemon streamed that output <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> Docker client, which sent <span class="hljs-keyword">it</span>
    <span class="hljs-built_in">to</span> your terminal.

To <span class="hljs-keyword">try</span> something more ambitious, you can run <span class="hljs-operator">an</span> Ubuntu container <span class="hljs-operator">with</span>:
 $ docker run -<span class="hljs-keyword">it</span> ubuntu bash

Share images, automate workflows, <span class="hljs-operator">and</span> more <span class="hljs-operator">with</span> <span class="hljs-operator">a</span> free Docker ID:
 <span class="hljs-keyword">https</span>://hub.docker.com/

For more examples <span class="hljs-operator">and</span> ideas, visit:
 <span class="hljs-keyword">https</span>://docs.docker.com/engine/userguide/

root@iZbp162mb58mqtz72o389nZ:~<span class="hljs-comment"># </span></code></pre> 
<p>好啦，结束啦，现在Docker已经安装完成了。 <br> 下一步就可以部署项目了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/113f9be65ed9a835f0659a12725d126a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">特征选择：python lime</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/423fc5b194a36850e0506de109a500f1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">浅谈jQuery之动画</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>