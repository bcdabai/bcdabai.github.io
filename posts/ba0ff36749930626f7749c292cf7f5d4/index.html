<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pygame实现鼠标键盘监听事件响应，有趣的实验 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pygame实现鼠标键盘监听事件响应，有趣的实验" />
<meta property="og:description" content="一、PyGame 鼠标键盘事件 事件类型有很多种，例如： QUIT 和 MOUSEMOTION 等， 这些预定义的事件类型作为常量定义在 pygame.local 模块中，下面这些是最早的事件类型和它们的属性，后面不同的版本又补充了例如手势等事件，具体参考官方文档：
QUIT none ACTIVEEVENT gain, state KEYDOWN key, mod, unicode, scancode KEYUP key, mod MOUSEMOTION pos, rel, buttons MOUSEBUTTONUP pos, button MOUSEBUTTONDOWN pos, button JOYAXISMOTION joy, axis, value JOYBALLMOTION joy, ball, rel JOYHATMOTION joy, hat, value JOYBUTTONUP joy, button JOYBUTTONDOWN joy, button VIDEORESIZE size, w, h VIDEOEXPOSE none USEREVENT code 我们可以在程序中模拟一下：
import pygame pygame.init() resolution = width, height = 480, 700 windowSurface = pygame." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ba0ff36749930626f7749c292cf7f5d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-01T17:28:18+08:00" />
<meta property="article:modified_time" content="2021-06-01T17:28:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pygame实现鼠标键盘监听事件响应，有趣的实验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="PyGame__1"></a>一、PyGame 鼠标键盘事件</h2> 
<p>事件类型有很多种，例如： QUIT 和 MOUSEMOTION 等， 这些预定义的事件类型作为常量定义在 pygame.local 模块中，下面这些是最早的事件类型和它们的属性，后面不同的版本又补充了例如手势等事件，具体参考官方文档：</p> 
<pre><code class="prism language-python">QUIT              none
ACTIVEEVENT       gain<span class="token punctuation">,</span> state
KEYDOWN           key<span class="token punctuation">,</span> mod<span class="token punctuation">,</span> <span class="token builtin">unicode</span><span class="token punctuation">,</span> scancode
KEYUP             key<span class="token punctuation">,</span> mod
MOUSEMOTION       pos<span class="token punctuation">,</span> rel<span class="token punctuation">,</span> buttons
MOUSEBUTTONUP     pos<span class="token punctuation">,</span> button
MOUSEBUTTONDOWN   pos<span class="token punctuation">,</span> button
JOYAXISMOTION     joy<span class="token punctuation">,</span> axis<span class="token punctuation">,</span> value
JOYBALLMOTION     joy<span class="token punctuation">,</span> ball<span class="token punctuation">,</span> rel
JOYHATMOTION      joy<span class="token punctuation">,</span> hat<span class="token punctuation">,</span> value
JOYBUTTONUP       joy<span class="token punctuation">,</span> button
JOYBUTTONDOWN     joy<span class="token punctuation">,</span> button
VIDEORESIZE       size<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h
VIDEOEXPOSE       none
USEREVENT         code
</code></pre> 
<p>我们可以在程序中模拟一下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
resolution <span class="token operator">=</span> width<span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">700</span>
windowSurface <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>resolution<span class="token punctuation">)</span>  <span class="token comment"># 设置分辨率并得到全局的绘图表面</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"鼠标键盘操作"</span><span class="token punctuation">)</span>

clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token comment"># 处理用户输入</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 处理事件</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 刷新界面</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 时钟停留一帧的时长</span>
    clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>

</code></pre> 
<p>通过<code>print(str(event))</code>然后在运行过程就，就会输出很多信息。<br> <img src="https://images2.imgbox.com/f6/12/6oL8bcAJ_o.png" alt="在这里插入图片描述"><br> 输出的数据有：</p> 
<pre><code class="prism language-python"><span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>MouseButtonDown <span class="token punctuation">{<!-- --></span><span class="token string">'pos'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">162</span><span class="token punctuation">,</span> <span class="token number">375</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'button'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">6</span><span class="token operator">-</span>MouseButtonUp <span class="token punctuation">{<!-- --></span><span class="token string">'pos'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">162</span><span class="token punctuation">,</span> <span class="token number">375</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'button'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">-</span>KeyDown <span class="token punctuation">{<!-- --></span><span class="token string">'unicode'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'scancode'</span><span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">-</span>KeyUp <span class="token punctuation">{<!-- --></span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'scancode'</span><span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">-</span>KeyDown <span class="token punctuation">{<!-- --></span><span class="token string">'unicode'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'scancode'</span><span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">-</span>KeyUp <span class="token punctuation">{<!-- --></span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'scancode'</span><span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Event<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">-</span>KeyDown <span class="token punctuation">{<!-- --></span><span class="token string">'unicode'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'mod'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'scancode'</span><span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">'window'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>
</code></pre> 
<h2><a id="_59"></a>二、键盘操作</h2> 
<p>该模块包含处理与键盘操作相关的函数。当键盘按键被按下和释放时，事件队列将获得 pygame.KEYDOWN 和 pygame.KEYUP 事件消息。这两个消息均包含 key 属性，是一个整数的 id，代表键盘上具体的某个按键。</p> 
<p>pygame.KYEDOWN 事件还有个额外的属性 unicode 和 scancode。unicode 代表一个按键翻译后的 Unicode 编码，这包含 shift 按键和组合键。scancode 是扫描码，不同键盘间该值可能不同。不过这对于特殊按键像多媒体键的选择是有用的。</p> 
<h3><a id="_63"></a>（一）键盘常量</h3> 
<p>key 属性的值是一个数字，为了方便使用，Pygame 将这些数字定义为以下这些常量：<br> <img src="https://images2.imgbox.com/c4/c8/pNtxi0zK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_66"></a>（二）第一种操作</h3> 
<blockquote> 
 <p>pygame.KEYDOWN键盘按下事件， 返回三个参数：<br> （1）event.unicode按键的Unicode码<br> （2）event.key键盘的常量名称<br> （3） event.mod键盘修饰符的组合值</p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"pygame处理事件"</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token operator">==</span>pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">unicode</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[KEYDOWN]:"</span><span class="token punctuation">,</span> <span class="token string">"#"</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>key<span class="token punctuation">,</span>event<span class="token punctuation">.</span>mod<span class="token punctuation">,</span>pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[KEYDOWN]:"</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span><span class="token builtin">unicode</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>key<span class="token punctuation">,</span>event<span class="token punctuation">.</span>mod<span class="token punctuation">,</span>pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>

    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出情况：</p> 
<p><img src="https://images2.imgbox.com/d5/6f/Idp586WE_o.png" alt="在这里插入图片描述"><br> 输出结果：</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 306 0 left ctrl</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token number">99</span> <span class="token number">64</span> c
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 306 0 left ctrl</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token number">99</span> <span class="token number">64</span> c
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 306 0 left ctrl</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token number">99</span> <span class="token number">64</span> c
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 304 0 left shift</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 301 8192 caps lock</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> J <span class="token number">106</span> <span class="token number">8192</span> j
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> K <span class="token number">107</span> <span class="token number">8192</span> k
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 304 8192 left shift</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> j <span class="token number">106</span> <span class="token number">8193</span> j
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token comment"># 304 0 left shift</span>
<span class="token punctuation">[</span>KEYDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> J <span class="token number">106</span> <span class="token number">1</span> j
</code></pre> 
<h3><a id="_112"></a>（三）第二种操作</h3> 
<p>使用pygame.key.get_pressed() 返回所有被按下按键的元组<br> 使用键盘常量，判断元组中某一个按键是否被按下，被按下对应数值为：</p> 
<pre><code class="prism language-python">keys_pressed <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> keys_pressed<span class="token punctuation">[</span>pygame<span class="token punctuation">.</span>K_RIGHT<span class="token punctuation">]</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"向右移动"</span><span class="token punctuation">)</span>
</code></pre> 
<p>演示代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"pygame处理事件"</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token operator">==</span>pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bools <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get_pressed<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># print(len(bools),type(bools))</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>bools<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>bools<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出结果：<br> <img src="https://images2.imgbox.com/44/11/hT5DphfM_o.png" alt="在这里插入图片描述"><br> 输出文本：</p> 
<pre><code class="prism language-python">pygame <span class="token number">1.9</span><span class="token number">.6</span>
Hello <span class="token keyword">from</span> the pygame community<span class="token punctuation">.</span> https<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>pygame<span class="token punctuation">.</span>org<span class="token operator">/</span>contribute<span class="token punctuation">.</span>html
<span class="token number">32</span>
space
<span class="token number">32</span>
space
<span class="token number">32</span>
space
<span class="token number">32</span>
space
<span class="token number">32</span>
space
<span class="token number">32</span>
space
</code></pre> 
<h2><a id="_163"></a>三、鼠标操作</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"pygame处理事件"</span><span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token operator">==</span>pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEMOTION<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[MOUSEMOTTON]:"</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> event<span class="token punctuation">.</span>rel<span class="token punctuation">,</span> event<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span>
            <span class="token triple-quoted-string string">"""pygame.MOUSEMOTTION鼠标移动事件，
            event.pos鼠标当前坐标值(x,y)相对于窗口左上角。
            event.rel鼠标相对移动距离（X,Y),相对于上次事件。
            event.buttons鼠标按钮状态(a,b,c)，相对于鼠标的三个键（左中右），
            鼠标移动时，这三个键处于按下状态，对应的位置为1，
            反之为0"""</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONUP<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[MOUSEBUTTONUP]:"</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
            <span class="token triple-quoted-string string">"""pygame.MOUSEBUTTONUP鼠标释放事件，
            event.button鼠标按下键编号n，取值0/1/2，分别对应三个键"""</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[MOUSEBUTTONDOWN]:"</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>pos<span class="token punctuation">,</span> event<span class="token punctuation">.</span>button<span class="token punctuation">)</span>
            <span class="token triple-quoted-string string">"""pygame.MOUSEBUTTONDOWN鼠标键按下事件，
            event.button鼠标按下键编号n，取值为整数，
            左键为1，右键为3"""</span>

    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出结果：<br> <img src="https://images2.imgbox.com/25/26/gTVJ9oMF_o.png" alt="在这里插入图片描述"><br> 输出文本：</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">396</span><span class="token punctuation">,</span> <span class="token number">266</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">397</span><span class="token punctuation">,</span> <span class="token number">266</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">398</span><span class="token punctuation">,</span> <span class="token number">267</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">399</span><span class="token punctuation">,</span> <span class="token number">267</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">268</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">,</span> <span class="token number">269</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEMOTTON<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">,</span> <span class="token number">269</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>MOUSEBUTTONDOWN<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">403</span><span class="token punctuation">,</span> <span class="token number">269</span><span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h2><a id="_211"></a>四、键盘监听案例</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys

pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">"pygame处理事件"</span><span class="token punctuation">)</span>

info <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">"microsoftyaheimicrosoftyaheiui"</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span>
key <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token operator">==</span>pygame<span class="token punctuation">.</span>QUIT<span class="token punctuation">:</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>KEYDOWN<span class="token punctuation">:</span>
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">unicode</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[KEYDOWN]:"</span><span class="token punctuation">,</span> <span class="token string">"#"</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>key<span class="token punctuation">,</span>event<span class="token punctuation">.</span>mod<span class="token punctuation">,</span>pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
                key <span class="token operator">=</span> pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[KEYDOWN]:"</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span><span class="token builtin">unicode</span><span class="token punctuation">,</span>event<span class="token punctuation">.</span>key<span class="token punctuation">,</span>event<span class="token punctuation">.</span>mod<span class="token punctuation">,</span>pygame<span class="token punctuation">.</span>key<span class="token punctuation">.</span>name<span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
                key <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token builtin">unicode</span>
    textSurface <span class="token operator">=</span> info<span class="token punctuation">.</span>render<span class="token punctuation">(</span><span class="token string">"%s"</span> <span class="token operator">%</span> key<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 绘制文字在(10,10)位置</span>
    screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>textSurface<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出的动图为：<br> <img src="https://images2.imgbox.com/cc/a5/O0KHfUsB_o.gif" alt="在这里插入图片描述"></p> 
<h2><a id="_244"></a>五、鼠标监听案例</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame<span class="token punctuation">,</span>sys
flag <span class="token operator">=</span> <span class="token number">20</span>
pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
WIDTH <span class="token operator">=</span> <span class="token number">800</span>
HEIGHT <span class="token operator">=</span> <span class="token number">700</span>
screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span>WIDTH<span class="token punctuation">,</span> HEIGHT<span class="token punctuation">)</span><span class="token punctuation">)</span>
pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'pygame处理事件'</span><span class="token punctuation">)</span>
fcclock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>
select <span class="token operator">=</span> <span class="token boolean">False</span>
start <span class="token operator">=</span> <span class="token boolean">None</span>
rect_rect <span class="token operator">=</span> <span class="token boolean">None</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    screen<span class="token punctuation">.</span>fill<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> event <span class="token keyword">in</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>QUIT <span class="token keyword">or</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>K_F1<span class="token punctuation">:</span>
            pygame<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>
            sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONDOWN<span class="token punctuation">:</span>
            start <span class="token operator">=</span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取鼠标位置，鼠标就是需要打击的目标</span>
            select <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEBUTTONUP<span class="token punctuation">:</span>
            select <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> pygame<span class="token punctuation">.</span>MOUSEMOTION<span class="token punctuation">:</span>
            <span class="token keyword">if</span> select<span class="token punctuation">:</span>
                x<span class="token punctuation">,</span> y <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span>
                rect_rect<span class="token operator">=</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>start<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>x<span class="token operator">-</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token operator">-</span>start<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> rect_rect <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>screen<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rect_rect<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    fcclock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 刷新窗口</span>
</code></pre> 
<p>输出结果：<br> <img src="https://images2.imgbox.com/c5/b7/VoBC1ZrS_o.gif" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>OK，写完了一篇流水篇，希望大家喜欢。<br> 呵呵。</p> 
</blockquote> 
<p>参考资料：<br> https://blog.csdn.net/David_Aulier/article/details/105262806?utm_source=app&amp;app_version=4.8.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8a74a24f24ab5a4689da3baeb3b52fec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">消息队列 Kafka ：入门</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a1750e19f15d1103d3c3fa92489ae76/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">手机iCloud储存空间已满，怎么解决？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>