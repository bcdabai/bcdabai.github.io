<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>你不知道的HTML页面刷新全部方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="你不知道的HTML页面刷新全部方法" />
<meta property="og:description" content="1、reload 方法，该方法强迫浏览器刷新当前页面。 语法：location.reload([bForceGet])
参数： bForceGet， 可选参数， 默认为 false，从客户端缓存里取当前页。true, 则以 GET 方式，从服务端取最新的页面, 相当于客户端点击 F5(“刷新”)
2、 replace 方法，该方法通过指定URL替换当前缓存在历史里（客户端）的项目，因此当使用replace方法之后，你不能通过“前进”和“后退”来访问已经被替换的URL。 语法： location.replace(URL)
通常使用： location.reload() 或者是 history.go(0) 来做。
此方法类似客户端点F5刷新页面，所以页面method=”post”时，会出现”网页过期”的提示。
因为Session的安全保护机制。
当调用 location.reload() 方法时， aspx页面此时在服务端内存里已经存在， 因此必定是 IsPostback 的。
如果有这种应用： 需要重新加载该页面，也就是说期望页面能够在服务端重新被创建，期望是 Not IsPostback 的。
这里，location.replace() 就可以完成此任务。被replace的页面每次都在服务端重新生成。
代码： location.replace(location.href);
3、返回并刷新页面： location.replace(document.referrer); document.referrer //前一个页面的URL
不要用 history.go(-1)，或 history.back();来返回并刷新页面，这两种方法不会刷新页面。
4、Javascript刷新页面的几种方法： 1，history.go(0) 2，location.reload() 3，location=location 4，location.assign(location) 5，document.execCommand(&#39;Refresh&#39;) 6，window.navigate(location) 7，location.replace(location) 8，document.URL=location.href 5、自动刷新页面的方法: 5.1、页面自动刷新：把如下代码加入区域中，其中20指每隔20秒刷新一次页面
&lt;meta http-equiv=&#34;refresh&#34; content=&#34;20&#34;&gt; 5.2、页面自动跳转：把如下代码加入区域中，其中20指隔20秒后跳转到https://www.baidu.com页面
&lt;meta http-equiv=&#34;refresh&#34; content=&#34;20;url=&#34;https://www.baidu.com&#34;&gt; 1 5.3、页面自动刷新js版
&lt;script language=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ba39de11b59100d91105f40f1b787408/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-28T10:16:08+08:00" />
<meta property="article:modified_time" content="2020-04-28T10:16:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">你不知道的HTML页面刷新全部方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1reload__2"></a>1、reload 方法，该方法强迫浏览器刷新当前页面。</h3> 
<p>语法：<code>location.reload([bForceGet])</code><br> 参数： bForceGet， 可选参数， 默认为 false，从客户端缓存里取当前页。true, 则以 GET 方式，从服务端取最新的页面, 相当于客户端点击 F5(“刷新”)</p> 
<h3><a id="2_replace_URLreplaceURL_7"></a>2、 replace 方法，该方法通过指定URL替换当前缓存在历史里（客户端）的项目，因此当使用replace方法之后，你不能通过“前进”和“后退”来访问已经被替换的URL。</h3> 
<p>语法： <code>location.replace(URL)</code><br> 通常使用： location.reload() 或者是 history.go(0) 来做。<br> 此方法类似客户端点F5刷新页面，所以页面method=”post”时，会出现”网页过期”的提示。<br> 因为Session的安全保护机制。<br> 当调用 location.reload() 方法时， aspx页面此时在服务端内存里已经存在， 因此必定是 IsPostback 的。<br> 如果有这种应用： 需要重新加载该页面，也就是说期望页面能够在服务端重新被创建，期望是 Not IsPostback 的。<br> 这里，location.replace() 就可以完成此任务。被replace的页面每次都在服务端重新生成。<br> 代码： location.replace(location.href);</p> 
<h3><a id="3_18"></a>3、返回并刷新页面：</h3> 
<pre><code class="prism language-bash">location.replace<span class="token punctuation">(</span>document.referrer<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<p>document.referrer //前一个页面的URL</p> 
<p>不要用 history.go(-1)，或 history.back();来返回并刷新页面，这两种方法不会刷新页面。</p> 
<h3><a id="4Javascript_28"></a>4、Javascript刷新页面的几种方法：</h3> 
<pre><code class="prism language-bash">1，history.go<span class="token punctuation">(</span>0<span class="token punctuation">)</span>
2，location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span>
3，location<span class="token operator">=</span>location
4，location.assign<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
5，document.execCommand<span class="token punctuation">(</span><span class="token string">'Refresh'</span><span class="token punctuation">)</span>
6，window.navigate<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
7，location.replace<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
8，document.URL<span class="token operator">=</span>location.href
</code></pre> 
<h3><a id="5_41"></a>5、自动刷新页面的方法:</h3> 
<p><em>5.1、页面自动刷新：把如下代码加入区域中，其中20指每隔20秒刷新一次页面</em></p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">"refresh"</span> content<span class="token operator">=</span><span class="token string">"20"</span><span class="token operator">&gt;</span>
</code></pre> 
<p><em>5.2、页面自动跳转：把如下代码加入区域中，其中20指隔20秒后跳转到https://www.baidu.com页面</em></p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">"refresh"</span> content<span class="token operator">=</span><span class="token string">"20;url="</span>https://www.baidu.com"<span class="token operator">&gt;</span>
1
</code></pre> 
<p><em>5.3、页面自动刷新js版</em></p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token string">"JavaScript"</span><span class="token operator">&gt;</span>
<span class="token keyword">function</span> myrefresh<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
   window.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
setTimeout<span class="token punctuation">(</span><span class="token string">'myrefresh()'</span>,1000<span class="token punctuation">)</span><span class="token punctuation">;</span> //指定1秒刷新一次
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="6JS_70"></a>6、JS刷新框架的脚本语句</h3> 
<pre><code class="prism language-bash">//刷新包含该框架的页面用  
<span class="token operator">&lt;</span>script language<span class="token operator">=</span>JavaScript<span class="token operator">&gt;</span>
   parent.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
//子窗口刷新父窗口
<span class="token operator">&lt;</span>script language<span class="token operator">=</span>JavaScript<span class="token operator">&gt;</span>
    self.opener.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
<span class="token punctuation">(</span>　或　<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"javascript:opener.location.reload()"</span><span class="token operator">&gt;</span>刷新<span class="token operator">&lt;</span>/a<span class="token operator">&gt;</span>   <span class="token punctuation">)</span>
//刷新另一个框架的页面用  
<span class="token operator">&lt;</span>script language<span class="token operator">=</span>JavaScript<span class="token operator">&gt;</span>
   parent.另一FrameID.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre> 
<p><em><strong>如果想关闭窗口时刷新或想开窗时刷新，在中调用以下语句即可。</strong></em></p> 
<p>例如：<br> 下面以三个页面分别命名为frame.html、top.html、bottom.html为例来具体说明如何做。</p> 
<p>frame.html 由上(top.html)下(bottom.html)两个页面组成，代码如下：</p> 
<pre><code class="prism language-bash">  <span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE HTML PUBLIC <span class="token string">"-//W3C//DTD HTML 4.0 Transitional//EN"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>HTML<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>HEAD<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>TITLE<span class="token operator">&gt;</span> frame <span class="token operator">&lt;</span>/TITLE<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/HEAD<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>frameset rows<span class="token operator">=</span><span class="token string">"50%,50%"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>frame name<span class="token operator">=</span>top src<span class="token operator">=</span><span class="token string">"top.html"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>frame name<span class="token operator">=</span>bottom src<span class="token operator">=</span><span class="token string">"bottom.html"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/frameset<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/HTML<span class="token operator">&gt;</span> 
</code></pre> 
<p>现在假设top.html (即上面的页面) 有七个button来实现对bottom.html (即下面的页面) 的刷新，可以用以下七种语句，哪个好用自己看着办了。</p> 
<p>top.html 页面的代码如下：</p> 
<title> top.html </title> 
<p>下面是bottom.html页面源代码，为了证明下方页面的确被刷新了，在装载完页面弹出一个对话框。</p> 
<pre><code class="prism language-bash"> <span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE HTML PUBLIC <span class="token string">"-//W3C//DTD HTML 4.0 Transitional//EN"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>HTML<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>HEAD<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>TITLE<span class="token operator">&gt;</span> bottom.html <span class="token operator">&lt;</span>/TITLE<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/HEAD<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>BODY οnlοad<span class="token operator">=</span><span class="token string">"alert('我被加载了！')"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>This is the content <span class="token keyword">in</span> bottom.html.<span class="token operator">&lt;</span>/h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/BODY<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/HTML<span class="token operator">&gt;</span> 
</code></pre> 
<p>过程分析</p> 
<pre><code>1.window指代的是当前页面，例如对于此例它指的是top.html页面。
2.parent指的是当前页面的父页面，也就是包含它的框架页面。例如对于此例它指的是framedemo.html。
3.frames是window对象，是一个数组。代表着该框架内所有子页面。
4.item是方法。返回数组里面的元素。
5.如果子页面也是个框架页面，里面还是其它的子页面，那么上面的有些方法可能不行。
附：
</code></pre> 
<pre><code class="prism language-bash">Javascript刷新页面的几种方法：
1 history.go<span class="token punctuation">(</span>0<span class="token punctuation">)</span>
2 location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span>
3 location<span class="token operator">=</span>location
4 location.assign<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
5 document.execCommand<span class="token punctuation">(</span><span class="token string">'Refresh'</span><span class="token punctuation">)</span>
6 window.navigate<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
7 location.replace<span class="token punctuation">(</span>location<span class="token punctuation">)</span>
8 document.URL<span class="token operator">=</span>location.href 
</code></pre> 
<h3><a id="7_190"></a>7、自动刷新页面</h3> 
<p>1.页面自动刷新：把如下代码加入区域中</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">"refresh"</span> content<span class="token operator">=</span><span class="token string">"20"</span><span class="token operator">&gt;</span>
</code></pre> 
<p>其中20指每隔20秒刷新一次页面.<br> 2.页面自动跳转：把如下代码加入区域中<br> http://www.jb51.net“&gt;<br> 其中20指隔20秒后跳转到http://www.jb51.net页面</p> 
<p>3.页面自动刷新js版</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token string">"JavaScript"</span><span class="token operator">&gt;</span> 
<span class="token keyword">function</span> myrefresh<span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
window.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
setTimeout<span class="token punctuation">(</span><span class="token string">'myrefresh()'</span>,1000<span class="token punctuation">)</span><span class="token punctuation">;</span> //指定1秒刷新一次 
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span> 
</code></pre> 
<h3><a id="8javaServlerAction_215"></a>8、java在写Servler,Action等程序时，要操作返回页面的话（如谈出了窗口，操作完成以后，关闭当前页面，刷新父页面）</h3> 
<pre><code class="prism language-bash">  1 PrintWriter out <span class="token operator">=</span> response.getWriter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    2 out.write<span class="token punctuation">(</span><span class="token string">"&lt;script type=\"text/javascript\"&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    3 子窗口刷新父窗口
    4 out.write<span class="token punctuation">(</span><span class="token string">"self.opener.location.reload();"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    5 //关闭窗口
    6 out.write<span class="token punctuation">(</span><span class="token string">"window.opener=null;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    7 out.write<span class="token punctuation">(</span><span class="token string">"window.close();"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    8 out.write<span class="token punctuation">(</span><span class="token string">"&lt;/script&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<h3><a id="9JS_231"></a>9、JS刷新框架的脚本语句</h3> 
<p>1.如何刷新包含该框架的页面用</p> 
<pre><code class="prism language-bash">   <span class="token operator">&lt;</span>script language<span class="token operator">=</span>JavaScript<span class="token operator">&gt;</span>
    parent.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span> 
</code></pre> 
<p>2.子窗口刷新父窗口</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>script language<span class="token operator">=</span>JavaScript<span class="token operator">&gt;</span>
self.opener.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span> 
</code></pre> 
<p>3、如何刷新另一个框架的页面用 （上面的实例以说明了）</p> 
<pre><code class="prism language-bash">语句1. window.parent.frames<span class="token punctuation">[</span>1<span class="token punctuation">]</span>.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句2. window.parent.frames.bottom.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句3. window.parent.frames<span class="token punctuation">[</span><span class="token string">"bottom"</span><span class="token punctuation">]</span>.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句4. window.parent.frames.item<span class="token punctuation">(</span>1<span class="token punctuation">)</span>.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句5. window.parent.frames.item<span class="token punctuation">(</span><span class="token string">'bottom'</span><span class="token punctuation">)</span>.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句6. window.parent.bottom.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
语句7. window.parent<span class="token punctuation">[</span><span class="token string">'bottom'</span><span class="token punctuation">]</span>.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
1
</code></pre> 
<p>4、如果想关闭窗口时刷新或者想开窗时刷新的话，在中调用以下语句即可。</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>body οnlοad<span class="token operator">=</span><span class="token string">"opener.location.reload()"</span><span class="token operator">&gt;</span>
</code></pre> 
<p>开窗时刷新</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>body onUnload<span class="token operator">=</span><span class="token string">"opener.location.reload()"</span><span class="token operator">&gt;</span>
</code></pre> 
<p>关闭时刷新</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token string">"javascript"</span><span class="token operator">&gt;</span>
window.opener.document.location.reload<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span> 
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/35d3a0e8dea6328851fbc08b47c50d29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python3.8解决No module named &#39;numpy&#39;报错</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/862f63b95590b05edafb23231bddfbea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL ：ERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;localhost&#39; (10061)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>