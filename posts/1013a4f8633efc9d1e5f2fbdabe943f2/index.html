<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot统一返回和统一异常处理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot统一返回和统一异常处理" />
<meta property="og:description" content="前言 最近在工作中需要新建一个项目，需要处理统一返回和统一异常处理，发现挺不错，特地拿出来分享给大家。
为了有良好的演示效果，我特地重新建了一个项目，把核心代码提炼出来加上了更多注释说明，希望xdm喜欢。
案例 一、项目结构 二、引入依赖 引入pom.xml文件依赖，依赖按照项目所需按需提取。
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;project xmlns=&#34;http://maven.apache.org/POM/4.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;responseResultAndException&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;responseResultAndException&lt;/name&gt; &lt;description&gt;responseResultAndException&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;1.18.10&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.projectreactor&lt;/groupId&gt; &lt;artifactId&gt;reactor-core&lt;/artifactId&gt; &lt;version&gt;3.4.17&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt; &lt;version&gt;5.3.19&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;${spring-boot.version}&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1013a4f8633efc9d1e5f2fbdabe943f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-25T11:59:21+08:00" />
<meta property="article:modified_time" content="2024-01-25T11:59:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot统一返回和统一异常处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="background-color:transparent;">前言</h4> 
<blockquote> 
 <p>最近在工作中需要新建一个项目，需要处理统一返回和统一异常处理，发现挺不错，特地拿出来分享给大家。</p> 
 <p>为了有良好的演示效果，我特地重新建了一个项目，把核心代码提炼出来加上了更多注释说明，希望xdm喜欢。</p> 
</blockquote> 
<p><img alt="" height="688" src="https://images2.imgbox.com/5b/62/yb0MeluK_o.png" width="1200"></p> 
<h4 style="background-color:transparent;">案例</h4> 
<h4 style="background-color:transparent;">一、项目结构</h4> 
<p><img alt="" height="739" src="https://images2.imgbox.com/57/2e/r0EwvKNw_o.png" width="619"></p> 
<h4 style="background-color:transparent;">二、引入依赖</h4> 
<p style="background-color:transparent;">引入<span style="color:#ff9900;">pom.xml</span>文件依赖，依赖按照项目所需按需提取。</p> 
<pre><code class="language-java">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;responseResultAndException&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;responseResultAndException&lt;/name&gt;
    &lt;description&gt;responseResultAndException&lt;/description&gt;
    &lt;properties&gt;
        &lt;java.version&gt;1.8&lt;/java.version&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
        &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;
    &lt;/properties&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;version&gt;1.18.10&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;
            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;
            &lt;version&gt;3.4.17&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework&lt;/groupId&gt;
            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;
            &lt;version&gt;5.3.19&lt;/version&gt;
            &lt;scope&gt;compile&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
                &lt;version&gt;${spring-boot.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.8.1&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;source&gt;1.8&lt;/source&gt;
                    &lt;target&gt;1.8&lt;/target&gt;
                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;${spring-boot.version}&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;mainClass&gt;com.example.responseresultandexception.ResponseResultAndExceptionApplication&lt;/mainClass&gt;
                    &lt;skip&gt;true&lt;/skip&gt;
                &lt;/configuration&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;repackage&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;repackage&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

&lt;/project&gt;
</code></pre> 
<h6 style="background-color:transparent;"><span style="color:#ff9900;">application.yml</span>文件配置，文件按照项目所需按需提取。</h6> 
<pre><code class="language-java">server:
  port: 8080</code></pre> 
<h4 style="background-color:transparent;">三、统一返回结果</h4> 
<p>前后端分离时代，如果没有一个统一的数据返回格式，前后端调试时，前端开发人员会骂娘的，同时约定相同的返回接口数据也有助于高效的工作。</p> 
<p>通常统一返回的格式包含三部分：</p> 
<ul><li><code>code</code>：状态码，一般 <code>200</code> 表示正常</li><li><code>message</code>：状态码对应的描述。</li><li><code>data</code>：返回的数据。</li></ul> 
<h5 style="background-color:transparent;">3.1、统一返回对象</h5> 
<p>新建一个 <code>SpringBoot</code> 项目定义通用的响应对象。</p> 
<pre><code class="language-java">package com.example.responseresultandexception.utils;

import com.fasterxml.jackson.annotation.JsonInclude;

import java.io.Serializable;
/**
 * @projectName: spring-study
 * @package: com.example.responseresultandexception.utils
 * @className: ResponseResult
 * @author wangwujie
 * @description: TODO
 * @date: 2024-1-25 9:43
 */

@JsonInclude(JsonInclude.Include.NON_NULL)
public class ResponseResult&lt;T&gt; implements Serializable {
    private static final long serialVersionUID = 2233637474601103587L;

    // 接口响应状态码
    private Integer code;

    // 接口响应信息
    private String msg;

    // 接口响应的数据
    private T data;

    public ResponseResult() {
        this.code = AppHttpCodeEnum.SUCCESS.getCode();
        this.msg = AppHttpCodeEnum.SUCCESS.getMsg();
    }

    public ResponseResult(Integer code, T data) {
        this.code = code;
        this.data = data;
    }

    public ResponseResult(Integer code, String msg, T data) {
        this.code = code;
        this.msg = msg;
        this.data = data;
    }

    public ResponseResult(Integer code, String msg) {
        this.code = code;
        this.msg = msg;
    }

    public static ResponseResult errorResult(int code, String msg) {
        ResponseResult result = new ResponseResult();
        return result.error(code, msg);
    }

    public static ResponseResult okResult() {
        ResponseResult result = new ResponseResult();
        return result;
    }

    public static ResponseResult okResult(int code, String msg) {
        ResponseResult result = new ResponseResult();
        return result.ok(code, null, msg);
    }

    public static ResponseResult okResult(Object data) {
        ResponseResult result = setAppHttpCodeEnum(AppHttpCodeEnum.SUCCESS, AppHttpCodeEnum.SUCCESS.getMsg());
        if (data != null) {
            result.setData(data);
        }
        return result;
    }

    public static ResponseResult errorResult(AppHttpCodeEnum enums) {
        return setAppHttpCodeEnum(enums, enums.getMsg());
    }

    public static ResponseResult errorResult(AppHttpCodeEnum enums, String msg) {
        return setAppHttpCodeEnum(enums, msg);
    }

    public static ResponseResult setAppHttpCodeEnum(AppHttpCodeEnum enums) {
        return okResult(enums.getCode(), enums.getMsg());
    }

    private static ResponseResult setAppHttpCodeEnum(AppHttpCodeEnum enums, String msg) {
        return okResult(enums.getCode(), msg);
    }

    public ResponseResult&lt;?&gt; error(Integer code, String msg) {
        this.code = code;
        this.msg = msg;
        return this;
    }

    public ResponseResult&lt;?&gt; ok(Integer code, T data) {
        this.code = code;
        this.data = data;
        return this;
    }

    public ResponseResult&lt;?&gt; ok(Integer code, T data, String msg) {
        this.code = code;
        this.data = data;
        this.msg = msg;
        return this;
    }

    public ResponseResult&lt;?&gt; ok(T data) {
        this.data = data;
        return this;
    }

    public Integer getCode() {
        return code;
    }

    public void setCode(Integer code) {
        this.code = code;
    }

    public String getMsg() {
        return msg;
    }

    public void setMsg(String msg) {
        this.msg = msg;
    }

    public T getData() {
        return data;
    }

    public void setData(T data) {
        this.data = data;
    }
}

</code></pre> 
<h5 style="background-color:transparent;">3.2、系统常量</h5> 
<p>上面代码中提到了常量 <span style="color:#ff9900;"><code>AppHttpCodeEnum</code></span>，定义自己的应用程序特定状态码，来表示具体的情况。通过定义的状态码就可以知道具体代表什么意思。</p> 
<pre><code class="language-java">package com.example.responseresultandexception.utils;

/**
 * @projectName: spring-study
 * @package: com.example.responseresultandexception.utils
 * @className: AppHttpCodeEnum
 * @author wangwujie
 * @description: TODO
 * @date: 2024-1-25 9:43
 */

public enum AppHttpCodeEnum {
    // 成功
    SUCCESS(200,"成功"),
    // 失败
    ERROR(500,"失败");

    int code;
    String msg;

    AppHttpCodeEnum(int code, String errorMessage){
        this.code = code;
        this.msg = errorMessage;
    }

    public int getCode() {
        return code;
    }

    public String getMsg() {
        return msg;
    }
    }

</code></pre> 
<h5 style="background-color:transparent;">3.3、控制层新建请求响应，<code>web</code> 层统一响应结果</h5> 
<p>在controller层下面新建，下面的例子，可以看到在实际项目中接口返回值。</p> 
<pre><code class="language-java">/*
 * Copyright 2013-2018 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.example.responseresultandexception.demos.web;

import com.example.responseresultandexception.exception.BusinessException;
import com.example.responseresultandexception.utils.AppHttpCodeEnum;
import com.example.responseresultandexception.utils.ResponseResult;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

/***
 * @param null:
 * @return null
 * @author wangwujie
 * @description TODO
 * @date 2024-1-25 10:47
 */
@Controller
public class BasicController {

    // http://127.0.0.1:8080/hello?name=lisi
    @RequestMapping("/hello")
    @ResponseBody
    public ResponseResult hello(@RequestParam(name = "name", defaultValue = "unknown user") String name) {
        return ResponseResult.okResult("Hello " + name);
    }

    // http://127.0.0.1:8080/errorInfo
    @RequestMapping("/errorInfo")
    @ResponseBody
    public String errorInfo() {
        throw new BusinessException(AppHttpCodeEnum.ERROR.getMsg());
    }

}
</code></pre> 
<p></p> 
<p>web请求结果（请求地址：http://127.0.0.1:8080/hello?name=lisi）</p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/f0/21/HxUaION6_o.png" width="1200"></p> 
<h4 style="background-color:transparent;">四、统一异常处理</h4> 
<p>程序开发中不可避免的会遇到异常现象，如果不进行处理，遇到异常时，开发人员不能清晰地处理问题，或者使用<span style="color:#ff9900;"> <code>try{...}catch{...}</code> </span>代码块进行处理，但是满屏的 <span style="color:#ff9900;"><code>try{...}catch{...}</code> </span>代码块造成代码过于臃肿。</p> 
<p>有没有更好的处理方式呢？全局统一异常处理应运而生。<span style="color:#ff9900;"><code>@ControllerAdvice</code> </span>注解搭配 <span style="color:#ff9900;"><code>@ExceptionHandler</code> </span>进行全局统一异常处理。</p> 
<h5 style="background-color:transparent;">4.1、<code>@ControllerAdvice</code>注解</h5> 
<ul><li><span style="color:#ff9900;"><code>@ControllerAdvice</code></span>注解：用于声明一个全局控制器 <span style="color:#ff9900;"><code>Advice</code></span>，相当于把<span style="color:#ff9900;"> <code>@ExceptionHandler</code></span>、<span style="color:#ff9900;"><code>@InitBinder</code></span> 和 <code>@<span style="color:#ff9900;">ModelAttribute</span></code><span style="color:#ff9900;"> </span>注解的方法集中到一个地方。放在特定类上，被认为是全局异常处理器。</li></ul> 
<h5 style="background-color:transparent;">4.2、<code>ExceptionHandler</code> 注解</h5> 
<ul><li>用于定义异常处理方法，处理特定类型的异常。放在全局异常处理器类中的具体方法上。 通过这两个注解的配合，可以实现全局的异常处理。当控制器中抛出异常时，<code>SpringBoot</code> 会自动调用匹配的 <span style="color:#ff9900;"><code>@ExceptionHandler</code> </span>方法来处理异常，并返回定义的响应。</li></ul> 
<p>步骤如下：</p> 
<ol><li>新建一个统一异常处理类</li><li>类上标注<span style="color:#ff9900;"> <code>@RestControllerAdvice</code> </span>注解</li><li>在方法上标注<span style="color:#ff9900;"> <code>@ExceptionHandler</code> </span>注解，并且指定需要捕获的异常，可以同时捕获多个。</li></ol> 
<p>新建 <span style="color:#ff9900;"><code>exception</code> </span>包，在包下新建 <span style="color:#ff9900;"><code>GlobalExceptionHandler</code> </span>类。代码如下：</p> 
<pre><code class="language-java">package com.example.responseresultandexception.exception;

/**
 * @projectName: spring-study
 * @package: com.example.responseresultandexception.exception
 * @className: GlobalExceptionHandler
 * @author wangwujie: wangwujie
 * @description: TODO
 * @date: 2024-1-25 9:49
 */

import com.example.responseresultandexception.utils.AppHttpCodeEnum;
import com.example.responseresultandexception.utils.ResponseResult;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.bind.annotation.RestControllerAdvice;

/***
 * @param null: 
 * @return null
 * @author wangwujie 
 * @description 全局异常处理器
 * @date 2024-1-25 11:13
 */
@RestControllerAdvice
@Slf4j
public class GlobalExceptionHandler {

    // 全局异常
    @ExceptionHandler(Exception.class)
    public ResponseResult exceptionHandler(Exception e){
        //打印异常信息
        log.error("出现了异常exceptionHandler-{}",e);
        //从异常对象中获取提示信息封装返回
        return ResponseResult.errorResult(AppHttpCodeEnum.SUCCESS.getCode(),e.getMessage());
    }

    // 自定义异常
    @ExceptionHandler(BusinessException.class)
    public ResponseResult BusinessException(BusinessException e){
        //打印异常信息
        log.error("出现了异常BusinessException-{}",e);
        //从异常对象中获取提示信息封装返回
        return ResponseResult.errorResult(e.getCode(),e.getMsg());
    }

}

</code></pre> 
<p>在<span style="color:#ff9900;"><code>exception</code></span>包下新建自定义异常处理类 <span style="color:#ff9900;">BusinessException</span></p> 
<pre><code class="language-java">package com.example.responseresultandexception.exception;

import com.example.responseresultandexception.utils.AppHttpCodeEnum;
import lombok.Data;

/**
 * @projectName: spring-study
 * @package: com.example.responseresultandexception.exception
 * @className: BbsBusinessException
 * @author wangwujie
 * @description: TODO
 * @date: 2024-1-25 9:53
 */
@Data
public class BusinessException extends RuntimeException{

    private int code;

    private String msg;

    public BusinessException(){
        super();
    }
    public BusinessException(String msg){
        super(msg);
        this.code = AppHttpCodeEnum.ERROR.getCode();
        this.msg = msg;
    }

    public BusinessException(int code, String msg){
        super(msg);
        this.code = code;
        this.msg = msg;
    }

}
</code></pre> 
<h5 style="background-color:transparent;">4.3、统一异常处理使用</h5> 
<p>在业务开发中，可以在 <span style="color:#ff9900;"><code>service</code> </span>层处理业务时，可以手动抛出异常，由全局异常处理器处理进行统一处理，演示方便，我直接在<span style="color:#ff9900;">controller</span>层进行异常抛出，在1.3中的<span style="color:#ff9900;">BasicController.java</span>增加<span style="color:#ff9900;">errorInfo()</span>方法。</p> 
<pre><code class="language-java">/*
 * Copyright 2013-2018 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.example.responseresultandexception.demos.web;

import com.example.responseresultandexception.exception.BusinessException;
import com.example.responseresultandexception.utils.AppHttpCodeEnum;
import com.example.responseresultandexception.utils.ResponseResult;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;

/***
 * @param null:
 * @return null
 * @author wangwujie
 * @description TODO
 * @date 2024-1-25 10:47
 */
@Controller
public class BasicController {

    // http://127.0.0.1:8080/hello?name=lisi
    @RequestMapping("/hello")
    @ResponseBody
    public ResponseResult hello(@RequestParam(name = "name", defaultValue = "unknown user") String name) {
        return ResponseResult.okResult("Hello " + name);
    }

    // http://127.0.0.1:8080/errorInfo
    @RequestMapping("/errorInfo")
    @ResponseBody
    public String errorInfo() {
        throw new BusinessException(AppHttpCodeEnum.ERROR.getMsg());
    }

}
</code></pre> 
<p>当我们请求接口时，假如用户名称或者密码错误，接口就会响应(请求地址:http://127.0.0.1:8080/errorInfo)：</p> 
<pre></pre> 
<p>实际开发中还有许多的异常需要捕获，比如 <span style="color:#ff9900;"><code>Token</code> </span>失效、过期等异常， 如果整合了其他的框架，还要注意这些框架抛出的异常，比如<span style="color:#ff9900;"><code>Spring Security</code> </span>等框架。</p> 
<h4 style="background-color:transparent;">五、总结</h4> 
<p>在 <code>SpringBoot</code> 项目中，统一返回和统一异常处理是非常常用的一环，它们能提高应用的可读性和可维护性，统一返回有助于保持代码一致性和规范性，在前后端联调时更加方便，统一异常处理，减少了代码冗余，对异常处理更加易于管理。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fd5f8043e5bb15ddf333c99dd0701d00/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">“学术蝗虫”真不是徒有虚名！学术会议茶歇吃成了自助餐</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d86e590be6ebb453571cb390d43d9711/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【python】—— 文件操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>