<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MVC4相关Razor语法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MVC4相关Razor语法" />
<meta property="og:description" content="﻿﻿ 默认建的工程都自带的了一个_ViewStart.cshtml文件，文件里面的代码如下：
[csharp] view plain copy print ? @{ Layout = &#34;~/Views/Shared/_Layout.cshtml&#34;;} @{ Layout = &#34;~/Views/Shared/_Layout.cshtml&#34;;} 这里的 @{Layout=&#34;文件路径&#34;;} 代码块指定了整个项目默认所使用的布局文件（如图：）
左边蓝色部分显示了MVC4提供的默认的布局文件，我们看看_Layout.cshtml里面的内容： 不难看出，_Layout.cshtml里面就是html静态页面。对于里面的一些语法做简单的说明：
@RenderBody()对于所有的页面默认的情况下都会使用这个布局(WebForm的模板) @RenderBody()相当于一个占位符其他页面的所有内容都会被引擎渲染在这个地方。
@RenderSecion()这个占位符表示：在这里会渲染页面里面的一个节（可以是html代码也可以是c#代码和Html的结合体）。
Note:假如你不想使用默认的布局，或者是你的web应用有多个页面布局文件怎么办呢？
其实很简单，例如：你新建了一个view页面UserInfo.cshtml，你可以在UserInfo.cshtml文件里面写上
@{Layout = null;}
就可以了，这个时候就不会应用布局文件了，假如你想定义一个新的布局(依照惯例优先的原则)，我们在Views/Shared下面创建一个自己的布局_MyLayout.cshtml文件，然后我们给我们创建的新页面指定如下的布局就行了：
@{ Layout = &#34;~/Views/Shared/_MyLayout.cshtml&#34;;} 对于上面的
@RenderSection(&#34;scripts&#34;, required: false)做一个补充说明，第一个参数指明：在子页面被渲染的节的名称，第二个参数：指定子页面这个节是否是必需的，如果指定了required:true;但是在子页面没有给这个名称的节的话，编译是通不过的。 如果我们想在母版页使用默认的节可以做如下的判断：
[csharp] view plain copy print ? @if(IsSectionDefined(&#34;sectionName&#34;)) { @RenderSection(&#34;sectionName&#34;) } else { &lt;span&gt;默认节&lt;/span&gt; } @if(IsSectionDefined(&#34;sectionName&#34;)) { @RenderSection(&#34;sectionName&#34;) } else { &lt;span&gt;默认节&lt;/span&gt; } 假如子页面有这个节我们就渲染子页面的，没有的话就显示我们默认的Html块(例如：网站的头部，底部，侧边栏等等)。
Razor语法的分类 基本语法
[csharp] view plain copy print ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a8389ac7e01181ac49ef9b4c296e1673/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-01-23T09:55:04+08:00" />
<meta property="article:modified_time" content="2014-01-23T09:55:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MVC4相关Razor语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="top:0px">
  ﻿﻿ 
</div> 
<p><span style="font-size:14px"><span style="white-space:pre"></span>默认建的工程都自带的了一个_ViewStart.cshtml文件，文件里面的代码如下：</span></p> 
<p></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@{ Layout = <span class="string">"~/Views/Shared/_Layout.cshtml"</span>;}  </li></ol> 
</div> 
<pre><code class="language-csharp">@{ Layout = "~/Views/Shared/_Layout.cshtml";}</code></pre> 
<p></p> 
<p><span style="font-size:14px">这里的<span style="white-space:pre"> </span> <strong><span style="color:rgb(102,51,51)">@{Layout="文件路径";}</span>  <span style="white-space:pre"></span></strong>代码块指定了整个项目默认所使用的布局文件（如图：）</span></p> 
<p></p> 
<p></p> 
<div style="text-align:center"> 
 <img alt="" src="https://images2.imgbox.com/83/c6/tlpc8ofI_o.jpg"> 
</div> 
<div style="text-align:center"> 
 <span style="font-size:14px">左边蓝色部分显示了MVC4提供的默认的布局文件，我们看看_Layout.cshtml里面的内容：</span> 
</div> 
<div style="text-align:center"> 
 <img alt="" src="https://images2.imgbox.com/a2/66/1NLPfRDO_o.jpg"> 
</div> 
<p><span style="white-space:pre"><span style="font-size:14px">不难看出，_Layout.cshtml里面就是html静态页面</span></span><span style="font-size:14px; white-space:pre">。对于里面的一些语法做简单的说明：</span></p> 
<p><span style="font-size:14px"><span style="white-space:pre"></span></span></p> 
<span style="font-size:14px">@RenderBody()对于所有的页面默认的情况下都会使用这个布局(WebForm的模板)</span> 
<p></p> 
<p><span style="white-space:pre"><span style="font-size:14px">@RenderBody()相当于一个占位符</span></span><span style="font-size:14px; white-space:pre">其他页面的所有内容都会被引擎渲染在这个地方。</span></p> 
<p></p> 
<span style="font-size:14px">@RenderSecion()这个占位符表示：在这里会渲染页面里面的一个节（可以是html代码也可以是c#代码和Html的结合体）。<br> </span> 
<p><span style="white-space:pre"><span style="font-size:14px"><strong><span style="color:rgb(204,153,51)">Note:假如你不想使用默认的布局，或者是你的web应用有多个页面布局文件怎么办呢？</span></strong></span></span></p> 
<p><span style="font-size:14px; white-space:pre">其实很简单，</span><span style="color:rgb(51,0,51); font-size:14px; white-space:pre">例如：你新建了一个view页面UserInfo.cshtml，你可以在UserInfo.cshtml文件里面写上</span></p> 
<p style="text-align:center"><span style="font-size:14px"><strong><span style="color:rgb(102,102,102)">@{Layout = null;}</span></strong></span></p> 
<p><span style="font-size:14px">就可以了，这个时候就不会应用布局文件了，假如你想定义一个新的<span style="color:rgb(51,102,255)"><strong>布局</strong></span>(依照惯例优先的原则)，我们在Views/Shared下面创建一个自己的布局_MyLayout.cshtml文件，然后我们给我们创建的新页面指定如下的布局就行了：</span></p> 
<span style="font-size:14px">@{ Layout = "~/Views/Shared/_MyLayout.cshtml";}</span> 
<p></p> 
<p><span style="font-size:14px">对于上面的</span></p> 
<p></p> 
<span style="font-size:14px">@RenderSection("scripts", required: false)做一个补充说明，第一个参数指明：在子页面被渲染的节的名称，第二个参数：指定子页面这个节是否是必需的，如果指定了required:true;但是在子页面没有给这个名称的节的话，编译是通不过的。</span> 
<p></p> 
<p><span style="font-size:14px">如果我们想在母版页使用默认的节可以做如下的判断：</span></p> 
<p><span style="font-size:14px"></span></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@<span class="keyword">if</span>(IsSectionDefined(<span class="string">"sectionName"</span>))   </li><li>{   </li><li class="alt">      @RenderSection(<span class="string">"sectionName"</span>)   </li><li>}  </li><li class="alt"><span class="keyword">else</span>   </li><li>{   </li><li class="alt">      &lt;span&gt;默认节&lt;/span&gt;   </li><li>}  </li></ol> 
</div> 
<pre><code class="language-csharp">@if(IsSectionDefined("sectionName")) 
{ 
      @RenderSection("sectionName") 
}
else 
{ 
      &lt;span&gt;默认节&lt;/span&gt; 
}</code></pre> 
<p></p> 
<p><span style="font-size:14px">假如子页面有这个节我们就渲染子页面的，没有的话就显示我们默认的Html块(例如：网站的头部，底部，侧边栏等等)。</span></p> 
<p></p> 
<strong><span style="font-size:14px">Razor语法的分类</span></strong> 
<p><span style="white-space:pre"><span style="white-space:pre"><span style="font-size:14px"><span style="color:rgb(153,51,0)"><strong>基本语法</strong></span></span></span></span></p> 
<p></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@<span class="keyword">using</span> ：引入命名空间  </li><li>@model：声明强类型的数据Model类型  </li><li class="alt">@section：定义要实现母版页的节信息   </li><li>@RenderBody()：当创建基于此布局页面的视图时，视图的内容会和布局页面合并，而新创建视图的内容会通过布局页面的@RenderBody()方法呈现在标签之间。  </li><li class="alt">@RenderPage：呈现一个页面。比如网页中固定的头部可以单独放在一个共享的视图文件中，然后在布局页面中通过这个方法调用，用法如下：          </li><li>                @RenderPage(<span class="string">"~/Views/Shared/_Header.cshtml"</span>)  </li><li class="alt">@RenderSection：布局页面还有节（Section）的概念,便于局部呈现  </li></ol> 
</div> 
<pre><code class="language-csharp">@using ：引入命名空间
@model：声明强类型的数据Model类型
@section：定义要实现母版页的节信息 
@RenderBody()：当创建基于此布局页面的视图时，视图的内容会和布局页面合并，而新创建视图的内容会通过布局页面的@RenderBody()方法呈现在标签之间。
@RenderPage：呈现一个页面。比如网页中固定的头部可以单独放在一个共享的视图文件中，然后在布局页面中通过这个方法调用，用法如下：		
				@RenderPage("~/Views/Shared/_Header.cshtml")
@RenderSection：布局页面还有节（Section）的概念,便于局部呈现</code></pre> 
<p></p> 
<p><span style="font-family:Arial,Helvetica,sans-serif; background-color:rgb(255,255,255)"><span style="color:rgb(153,51,0)"><span style="font-size:14px"><strong>1.行内(inline)C#(服务器端代码)形式（行内代码</strong>）</span></span></span></p> 
<p></p> 
<div> 
 <span style="color:rgb(51,0,51)"><span style="font-size:14px">@变量<span style="color:rgb(69,69,69); line-height:21px; font-family:tahoma,helvetica,arial">例如：@User.Name，变量或属性结束后，任何形式文本或者标签都自动被解析为html，如遇结束判断有歧义，请加括号如下</span></span></span> 
</div> 
<div> 
 <span style="line-height:21px; font-family:tahoma,helvetica,arial"><span style="font-size:14px"><span style="color:rgb(69,69,69); line-height:21px; font-family:tahoma,helvetica,arial">@( 表达式 )  例如：@(i + 1) 或 @(User.Name)    </span><span style="line-height:21px; font-family:tahoma,helvetica,arial"><span style="color:rgb(51,51,255)"><strong>括号里面为：表达式，或者变量</strong></span></span><br> </span></span> 
</div> 
<div> 
 <span style="line-height:21px; font-family:tahoma,helvetica,arial"><span style="line-height:21px; font-family:tahoma,helvetica,arial"><span style="color:rgb(51,51,255)"><span style="color:rgb(69,69,69); line-height:21px; font-family:tahoma,helvetica,arial"><span style="font-size:14px">@方法调用  例如：@Html.TextBox("UserName").ToString()</span></span></span></span></span> 
</div> 
<p><span style="line-height:21px; font-family:tahoma,helvetica,arial"><span style="color:rgb(153,0,0)"><strong><span style="font-size:14px">2. 代码块</span></strong></span></span></p> 
<p></p> 
<p><strong><span style="font-size:14px">第一种情况：</span></strong></p> 
<p><span style="font-size:14px">@{ 代码块 }</span></p> 
<p><span style="font-size:14px">@if (条件) { 代码块 }</span></p> 
<p><span style="font-size:14px">@switch (条件) { 分支匹配代码块 }</span></p> 
<p><span style="font-size:14px">@for (循环控制) { 代码块 }</span></p> 
<p><span style="font-size:14px">@foreach (循环控制) { 代码块 }</span></p> 
<p><span style="font-size:14px">@while (循环控制) { 代码块 }</span></p> 
<p><span style="font-size:14px">@do { 代码块 } while (循环控制) <span style="color:rgb(51,51,255)"> 『 代码块里面的代码要严格按照c#语法来，每行结束必需有分号』</span></span></p> 
<p><span style="font-size:14px"><strong>第二种情况：(代码块中的文本或者Html客户端标签)</strong></span></p> 
<p><strong><span style="color:rgb(255,102,0)"><span style="font-size:14px">单行文本</span></span></strong></p> 
<p><span style="font-size:14px">@:行内文本 换行的话自动变成了C#服务器端代码。</span></p> 
<p><strong><span style="color:rgb(255,0,0)"><span style="font-size:14px">多行文本 </span></span></strong></p> 
<p><span style="font-size:14px">任何标签对 例如：&lt;div&gt;多行文字&lt;/div&gt;</span></p> 
<p><span style="font-size:14px">任何自闭合标签 例如：&lt;img 多行属性 /&gt;</span></p> 
<p><span style="font-size:14px">纯文字使用伪标签&lt;text&gt; 例如：&lt;text&gt;多行文字，两侧标签不会被输出&lt;/text&gt;</span></p> 
<p><span style="color:rgb(153,51,0)"><strong><span style="font-size:14px">3.其他</span></strong></span></p> 
<p><span style="font-size:14px"><span style="white-space:pre"></span>电子邮箱可以自动识别，例如：123456@qq.com</span></p> 
<p><span style="font-size:14px">被误认为是电子邮箱的请加括号(),例如：123456(@UserName)</span></p> 
<p><span style="font-size:14px">要输出商标版权等的，请用@字符转义，例如：@@ →会输出单个字符@</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<p><strong><span style="font-size:18px">HtmlHelper和AjaxHelper</span></strong></p> 
<p><span style="font-size:14px; white-space:pre"><strong></strong></span><span style="color:rgb(204,0,0); font-size:14px"><strong>Html.BeginForm的两种写法：</strong></span></p> 
<p><span style="font-size:14px">第一种使用Using语句:</span></p> 
<p><span style="font-size:14px"></span></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@<span class="keyword">using</span>(Html.BeginForm())  </li><li>{  </li><li class="alt">      </li><li>}  </li></ol> 
</div> 
<pre><code class="language-csharp">    @using(Html.BeginForm())
    {
        
    }</code></pre>第二种使用代码块闭合的形式(注意form是代码块形式的不是行内代码：所以结尾必需有分号) 
<p></p> 
<p><span style="font-size:14px"></span></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@{Html.BeginForm();}  </li><li>  </li><li class="alt">@{Html.EndForm();}  </li></ol> 
</div> 
<pre><code class="language-csharp">    @{Html.BeginForm();}

    @{Html.EndForm();}</code></pre> 
<span style="white-space:pre"></span> 
<strong><span style="color:rgb(153,51,0)">Ajax.BeginForm()的写法只有一种：因为我并没有看到Ajax.EndForm()。呵呵估计是微软的开发团队开发Razor引擎的时候漏掉了</span></strong> 
<br> 
<span style="white-space:pre"></span> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@<span class="keyword">using</span> (Ajax.BeginForm(<span class="keyword">new</span> AjaxOptions { UpdateTargetId=<span class="string">""</span>,OnSuccess=<span class="string">""</span>}))  </li><li>{  </li><li class="alt">  </li><li>}  </li></ol> 
</div> 
<pre><code class="language-csharp">    @using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId="",OnSuccess=""}))
    {

    }</code></pre>这里要想Ajax的Form有效的话我们必须在view页面引入支持Ajax的Js脚本。如下： 
<p></p> 
<p><span style="font-size:14px"></span></p> 
<div class="dp-highlighter bg_csharp"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[csharp]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-c"><li class="alt">@Scripts.Render(<span class="string">"~/bundles/jqueryval"</span>)  </li></ol> 
</div> 
<pre><code class="language-csharp">@Scripts.Render("~/bundles/jqueryval")</code></pre>这个是微软的脚本捆绑技术，实际上捆绑的就是（以下的JS代码） 
<p></p> 
<p><span style="font-size:14px"><img alt="" src="https://images2.imgbox.com/73/f0/C2qRcIuo_o.jpg"><br> 不难看到其中就有ajax的Javascript脚本</span></p> 
<p><span style="font-size:14px">对于AjaxForm的提交参数的指定：</span></p> 
<p><span style="font-size:14px">当异步请求成功时，会去使用后端返回的内容局部更新UpdateTargetId所指定的客户端的html标签内容，然后调用OnSuccess指定的客户端的JS方法。</span></p> 
<p><span style="font-size:14px">具体参数说明可以参照MSDN：</span></p> 
<p><span style="font-size:14px">OnSuccess：<a target="_blank" href="http://msdn.microsoft.com/zh-cn/library/system.web.mvc.ajax.ajaxoptions.onsuccess%28v=vs.108%29.aspx" rel="nofollow noopener noreferrer">http://msdn.microsoft.com/zh-cn/library/system.web.mvc.ajax.ajaxoptions.onsuccess(v=vs.108).aspx</a></span><br> </p> 
<p><span style="font-size:14px"><strong>对于Razor智能感知的一点补充</strong></span></p> 
<p><span style="font-size:14px"><span style="font-weight:bold; white-space:pre"></span>在微软的cshtml页面，@后面跟一些对象的时候会自动出现智能感知</span></p> 
<p><span style="font-size:14px"><img alt="" src="https://images2.imgbox.com/8b/95/hwYTCNpF_o.jpg"><br> </span></p> 
<p><span style="font-size:14px">当我们自定义一个类，让后想让这个类在Razor引擎有只能感知能力的时候。我们可以找到</span></p> 
<p><span style="font-size:14px">Views/Web.config文件，打开文件我们会发现如下的节点：</span></p> 
<p><span style="font-size:14px"></span></p> 
<div class="dp-highlighter bg_html"> 
 <div class="bar"> 
  <div class="tools"> 
   <strong>[html]</strong> 
   <a target="_blank" title="view plain" class="ViewSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer"> view plain</a> 
   <a target="_blank" title="copy" class="CopyToClipboard" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">copy</a> 
   <a target="_blank" title="print" class="PrintSource" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">print</a> 
   <a target="_blank" title="?" class="About" href="http://blog.csdn.net/applewangpai/article/details/14052239#" rel="noopener noreferrer">?</a> 
  </div> 
 </div> 
 <ol class="dp-xml"><li class="alt"><span class="tag">&lt;</span><span class="tag-name">system.web.webPages.razor</span><span class="tag">&gt;</span>  </li><li>  <span class="tag">&lt;</span><span class="tag-name">host</span> <span class="attribute">factoryType</span>=<span class="attribute-value">"System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"</span> <span class="tag">/&gt;</span>  </li><li class="alt">  <span class="tag">&lt;</span><span class="tag-name">pages</span> <span class="attribute">pageBaseType</span>=<span class="attribute-value">"System.Web.Mvc.WebViewPage"</span><span class="tag">&gt;</span>  </li><li>    <span class="tag">&lt;</span><span class="tag-name">namespaces</span><span class="tag">&gt;</span>  </li><li class="alt">      <span class="tag">&lt;</span><span class="tag-name">add</span> <span class="attribute">namespace</span>=<span class="attribute-value">"System.Web.Mvc"</span> <span class="tag">/&gt;</span>  </li><li>      <span class="tag">&lt;</span><span class="tag-name">add</span> <span class="attribute">namespace</span>=<span class="attribute-value">"System.Web.Mvc.Ajax"</span> <span class="tag">/&gt;</span>  </li><li class="alt">      <span class="tag">&lt;</span><span class="tag-name">add</span> <span class="attribute">namespace</span>=<span class="attribute-value">"System.Web.Mvc.Html"</span> <span class="tag">/&gt;</span>  </li><li>      <span class="tag">&lt;</span><span class="tag-name">add</span> <span class="attribute">namespace</span>=<span class="attribute-value">"System.Web.Optimization"</span><span class="tag">/&gt;</span>  </li><li class="alt">      <span class="tag">&lt;</span><span class="tag-name">add</span> <span class="attribute">namespace</span>=<span class="attribute-value">"System.Web.Routing"</span> <span class="tag">/&gt;</span>  </li><li>    <span class="tag">&lt;/</span><span class="tag-name">namespaces</span><span class="tag">&gt;</span>  </li><li class="alt">  <span class="tag">&lt;/</span><span class="tag-name">pages</span><span class="tag">&gt;</span>  </li><li><span class="tag">&lt;/</span><span class="tag-name">system.web.webPages.razor</span><span class="tag">&gt;</span>  </li></ol> 
</div> 
<pre><code class="language-html">  &lt;system.web.webPages.razor&gt;
    &lt;host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" /&gt;
    &lt;pages pageBaseType="System.Web.Mvc.WebViewPage"&gt;
      &lt;namespaces&gt;
        &lt;add namespace="System.Web.Mvc" /&gt;
        &lt;add namespace="System.Web.Mvc.Ajax" /&gt;
        &lt;add namespace="System.Web.Mvc.Html" /&gt;
        &lt;add namespace="System.Web.Optimization"/&gt;
        &lt;add namespace="System.Web.Routing" /&gt;
      &lt;/namespaces&gt;
    &lt;/pages&gt;
  &lt;/system.web.webPages.razor&gt;</code></pre>我们只要把我们的类所在的命名空间添加进去就可以了。 
<br> 
<br> 
<p></p> 
<p><span style="font-size:14px"><strong>Razor的一些实用功能（极大的灵活性）</strong></span></p> 
<p></p> 
<p style="margin:10px auto!important; color:rgb(57,57,57); line-height:16.79px; padding-top:0px; padding-bottom:0px; font-family:verdana,'ms song',Arial,Helvetica,sans-serif; font-weight:bold; background-color:rgb(250,247,239)"> <span style="margin:0px; padding:0px; color:rgb(243,164,71)"><span style="margin:0px; padding:0px"><span style="white-space:pre"></span>Partial Page Output Caching（部分页输出缓存）</span></span></p> 我们可以使用@Html.Action()来请求一个处理方法，并将放返回的Model或者ViewModel对象渲染到页面。 
<p><img alt="" src="https://images2.imgbox.com/35/54/uZzDiHsY_o.png"><img alt="" src="https://images2.imgbox.com/81/31/abhaclUB_o.png"><br> </p> 
<p><span style="font-size:14px">通过使用OutputCache特性，我们实现了对对象的缓存。<span style="color:rgb(255,0,0); line-height:16.79px; font-family:verdana,'ms song',Arial,Helvetica,sans-serif; font-size:14.39px; background-color:rgb(250,247,239)">因此当发生重复请求时，就可以自动输出缓存信息避免频繁查询数据库，减轻服务器负担和提高响应速度</span></span></p> 
<p><span style="font-size:14px"><a target="_blank" href="http://msdn.microsoft.com/zh-cn/library/bb397909%28v=vs.110%29.aspx" rel="nofollow noopener noreferrer">C#3.0新特性</a><br> </span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df0438ebe6b684d3c8e2755146ced426/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安卓入门：动态输入日期与时间</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0cf5cc66eff653cfb9ee213193b026e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">清除UIWebView的背景色的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>