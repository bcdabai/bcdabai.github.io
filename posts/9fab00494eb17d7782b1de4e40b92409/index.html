<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TensorFlow与pytorch特定版本虚拟环境的安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TensorFlow与pytorch特定版本虚拟环境的安装" />
<meta property="og:description" content="TensorFlow与Python的版本对应，注意，一定要选择对应的版本，否则会让你非常痛苦，折腾很久搞不清楚原因。
建议使用国内镜像源安装
没有GPU后缀的就表示是CPU版本的，不加版本就是最新
pip install tensorflow -i https://pypi.tuna.tsinghua.edu.cn/simple 还可以指定版本
pip install tensorflow==1.8 -i https://pypi.tuna.tsinghua.edu.cn/simple GPU版本
pip install tensorflow-gpu -i https://pypi.tuna.tsinghua.edu.cn/simple pip install tensorflow-gpu==1.8 -i https://pypi.tuna.tsinghua.edu.cn/simple 完成虚拟环境配置以及包的安装就可以运行程序啦
如下，成功了
pytorch也是一样，但是要注意去pytorch官网上进行版本的匹配和选择
https://pytorch.org/get-started/previous-versions/
这里有不同模块的版本对应，一定要看清楚了再安装下载，不然很容易失败。torchvision是专门做视觉的，如果不需要可以不下
cuda和pytorch的对应
安装，用清华源加速
pip install torch===1.7.0 torchvision===0.8.0 -i https://pypi.tuna .tsinghua.edu.cn/simple 然后，出错了，ERROR: torch has an invalid wheel, .dist-info directory not found
巧的是，貌似只有1.7安装会出现这个问题，这个时候就不要再使用清华源了，所以有时候国内镜像源并非全能。
恢复到国外的
pip install torch==1.7.0&#43;cpu torchvision==0.8.1&#43;cpu torchaudio===0.7.0 -f https://download.pytorch.org/whl/torch_stable.html 注意，以上语法均是临时使用清华源加速，若想默认，则使用以下语句设置
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple 另外也可以使用离线下载安装 https://download.pytorch.org/whl/torch_stable.html
选择需要的版本进行下载，cu102 # 表示 CUDA=10." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9fab00494eb17d7782b1de4e40b92409/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T17:32:39+08:00" />
<meta property="article:modified_time" content="2024-01-23T17:32:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TensorFlow与pytorch特定版本虚拟环境的安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>TensorFlow与Python的版本对应，注意，一定要选择对应的版本，否则会让你非常痛苦，折腾很久搞不清楚原因。</p> 
<p><img src="https://images2.imgbox.com/f2/9b/EZtj4s4J_o.png" alt="在这里插入图片描述"><br> 建议使用国内镜像源安装<br> 没有GPU后缀的就表示是CPU版本的，不加版本就是最新</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> tensorflow -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<p>还可以指定版本</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">tensorflow</span><span class="token operator">==</span><span class="token number">1.8</span> -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<p>GPU版本</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> tensorflow-gpu -i https://pypi.tuna.tsinghua.edu.cn/simple
pip <span class="token function">install</span> tensorflow-gpu<span class="token operator">==</span><span class="token number">1.8</span> -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<p>完成虚拟环境配置以及包的安装就可以运行程序啦<br> 如下，成功了<br> <img src="https://images2.imgbox.com/e2/5f/YNR2AnPu_o.png" alt="在这里插入图片描述"><br> pytorch也是一样，但是要注意去pytorch官网上进行版本的匹配和选择<br> <a href="https://pytorch.org/get-started/previous-versions/" rel="nofollow">https://pytorch.org/get-started/previous-versions/</a><br> <img src="https://images2.imgbox.com/b4/e5/KxkHpgZv_o.png" alt="在这里插入图片描述"><br> 这里有不同模块的版本对应，一定要看清楚了再安装下载，不然很容易失败。torchvision是专门做视觉的，如果不需要可以不下<br> <img src="https://images2.imgbox.com/02/c1/DyB1ZyMK_o.png" alt="在这里插入图片描述"><br> cuda和pytorch的对应<br> <img src="https://images2.imgbox.com/fc/21/f9FlvUNG_o.png" alt="在这里插入图片描述"></p> 
<p><strong>安装，用清华源加速</strong></p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">torch</span><span class="token operator">==</span><span class="token operator">=</span><span class="token number">1.7</span>.0 <span class="token assign-left variable">torchvision</span><span class="token operator">==</span><span class="token operator">=</span><span class="token number">0.8</span>.0 -i https://pypi.tuna
.tsinghua.edu.cn/simple
</code></pre> 
<p>然后，出错了，ERROR: torch has an invalid wheel, .dist-info directory not found<br> 巧的是，貌似只有1.7安装会出现这个问题，这个时候就不要再使用清华源了，所以有时候国内镜像源并非全能。<br> 恢复到国外的</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">torch</span><span class="token operator">==</span><span class="token number">1.7</span>.0+cpu <span class="token assign-left variable">torchvision</span><span class="token operator">==</span><span class="token number">0.8</span>.1+cpu <span class="token assign-left variable">torchaudio</span><span class="token operator">==</span><span class="token operator">=</span><span class="token number">0.7</span>.0 -f https://download.pytorch.org/whl/torch_stable.html
</code></pre> 
<p>注意，以上语法均是临时使用清华源加速，若想默认，则使用以下语句设置</p> 
<pre><code class="prism language-bash">pip config <span class="token builtin class-name">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<h3><a id="_54"></a>另外也可以使用离线下载安装</h3> 
<p><a href="https://download.pytorch.org/whl/torch_stable.html" rel="nofollow">https://download.pytorch.org/whl/torch_stable.html</a></p> 
<p><img src="https://images2.imgbox.com/81/3b/gyiJKWcu_o.png" alt="在这里插入图片描述"><br> 选择需要的版本进行下载，cu102 # 表示 CUDA=10.2 ，cp37 # 表示 python=3.7</p> 
<p>下载好 torch 的 .whl 文件后，用 pip 安装，先 cd 到下载的文件夹，然后执行安装命令</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> torch-1.7.0+cu101-cp36-cp36m-win_amd64.whl
</code></pre> 
<p>如果下载了torchvision，则安装也是一样</p> 
<pre><code class="prism language-bash">pip <span class="token function">install</span> torchvision-0.8.0-cp36-cp36m-win_amd64.whl
</code></pre> 
<h3><a id="_72"></a>注意注意注意</h3> 
<p>报错一般情况下都是因为版本不匹配的问题，所以出错了一定要从版本入手检查问题，这样才更容易解决问题<br> <img src="https://images2.imgbox.com/4c/c5/GOB98HQV_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c9800a5c1f48afe9270f688d5307d93c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python学习笔记--容器类型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0dc96cba161d95e525022355596cd51/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">char const char* 类型的实参与LPCWSTR 类型的形参类型不兼容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>