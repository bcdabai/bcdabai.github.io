<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>鸿蒙（HarmonyOS）项目方舟框架（ArkUI）之Swiper容器组件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="鸿蒙（HarmonyOS）项目方舟框架（ArkUI）之Swiper容器组件" />
<meta property="og:description" content="鸿蒙（HarmonyOS）项目方舟框架（ArkUI）之Swiper容器组件
一、操作环境 操作系统: Windows 10 专业版、IDE:DevEco Studio 3.1、SDK:HarmonyOS 3.1
二、Swiper容器组件 滑块视图容器，提供子组件滑动轮播显示的能力。
子组件 可以包含子组件。
接口 Swiper(controller?: SwiperController)
参数 参数名
参数类型
必填
参数描述
controller
SwiperController
否
给组件绑定一个控制器，用来控制组件翻页。
属性 除支持通用属性外，还支持以下属性：
名称
参数类型
描述
index
number
设置当前在容器中显示的子组件的索引值。
默认值：0
说明：
设置小于0或大于等于子组件数量时，按照默认值0处理。
autoPlay
boolean
子组件是否自动播放。
默认值：false
说明：
loop为false时，自动轮播到最后一页时停止轮播。手势切换后不是最后一页时继续播放。
interval
number
使用自动播放时播放的时间间隔，单位为毫秒。
默认值：3000
indicator
boolean
是否启用导航点指示器。
默认值：true
loop
boolean
是否开启循环。
设置为true时表示开启循环，在LazyForEach懒循环加载模式下，加载的组件数量建议大于5个。
默认值：true
duration
number
子组件切换的动画时长，单位为毫秒。
默认值：400
vertical
boolean
是否为纵向滑动。
默认值：false
itemSpace
number | string
设置子组件与子组件之间间隙。
默认值：0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/33d12e2a78bf5a2de2527430ddfa1295/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T10:36:23+08:00" />
<meta property="article:modified_time" content="2024-01-27T10:36:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">鸿蒙（HarmonyOS）项目方舟框架（ArkUI）之Swiper容器组件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> 鸿蒙（HarmonyOS）项目方舟框架（ArkUI）之Swiper容器组件</p> 
<h4>一、操作环境</h4> 
<p>操作系统:  Windows 10 专业版、IDE:DevEco Studio 3.1、SDK:HarmonyOS 3.1</p> 
<h4>二、Swiper容器组件</h4> 
<p>滑块视图容器，提供子组件滑动轮播显示的能力。</p> 
<h5 id="ZH-CN_TOPIC_0000001333641085__子组件">子组件<a name="ZH-CN_TOPIC_0000001333641085__%E5%AD%90%E7%BB%84%E4%BB%B6"></a><a name="%E5%AD%90%E7%BB%84%E4%BB%B6"></a></h5> 
<p>可以包含子组件。</p> 
<h5 id="ZH-CN_TOPIC_0000001333641085__接口">接口</h5> 
<p><a name="ZH-CN_TOPIC_0000001333641085__%E6%8E%A5%E5%8F%A3"></a><a name="%E6%8E%A5%E5%8F%A3"></a>Swiper(controller?: SwiperController)</p> 
<h5><strong>参数</strong></h5> 
<table><thead><tr><th id="mcps1.3.4.4.1.5.1.1"> <p>参数名</p> </th><th id="mcps1.3.4.4.1.5.1.2"> <p>参数类型</p> </th><th id="mcps1.3.4.4.1.5.1.3"> <p>必填</p> </th><th id="mcps1.3.4.4.1.5.1.4"> <p>参数描述</p> </th></tr></thead><tbody><tr><td> <p>controller</p> </td><td> <p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-container-swiper-0000001427744844-V3#ZH-CN_TOPIC_0000001574129001__swipercontroller" rel="nofollow" title="SwiperController">SwiperController</a></p> </td><td> <p>否</p> </td><td> <p>给组件绑定一个控制器，用来控制组件翻页。</p> </td></tr></tbody></table> 
<h5 id="ZH-CN_TOPIC_0000001574088545__属性">属性</h5> 
<p>除支持<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-universal-attributes-size-0000001428061700-V3" rel="nofollow" title="通用属性">通用属性</a>外，还支持以下属性：</p> 
<table><thead><tr><th id="mcps1.3.5.3.1.4.1.1"> <p>名称</p> </th><th id="mcps1.3.5.3.1.4.1.2"> <p>参数类型</p> </th><th id="mcps1.3.5.3.1.4.1.3"> <p>描述</p> </th></tr></thead><tbody><tr><td> <p>index</p> </td><td> <p>number</p> </td><td> <p>设置当前在容器中显示的子组件的索引值。</p> <p>默认值：0</p> <p><strong>说明：</strong></p> <p>设置小于0或大于等于子组件数量时，按照默认值0处理。</p> </td></tr><tr><td> <p>autoPlay</p> </td><td> <p>boolean</p> </td><td> <p>子组件是否自动播放。</p> <p>默认值：false</p> <p><strong>说明：</strong></p> <p>loop为false时，自动轮播到最后一页时停止轮播。手势切换后不是最后一页时继续播放。</p> </td></tr><tr><td> <p>interval</p> </td><td> <p>number</p> </td><td> <p>使用自动播放时播放的时间间隔，单位为毫秒。</p> <p>默认值：3000</p> </td></tr><tr><td> <p>indicator</p> </td><td> <p>boolean</p> </td><td> <p>是否启用导航点指示器。</p> <p>默认值：true</p> </td></tr><tr><td> <p>loop</p> </td><td> <p>boolean</p> </td><td> <p>是否开启循环。</p> <p>设置为true时表示开启循环，在LazyForEach懒循环加载模式下，加载的组件数量建议大于5个。</p> <p>默认值：true</p> </td></tr><tr><td> <p>duration</p> </td><td> <p>number</p> </td><td> <p>子组件切换的动画时长，单位为毫秒。</p> <p>默认值：400</p> </td></tr><tr><td> <p>vertical</p> </td><td> <p>boolean</p> </td><td> <p>是否为纵向滑动。</p> <p>默认值：false</p> </td></tr><tr><td> <p>itemSpace</p> </td><td> <p>number | string</p> </td><td> <p>设置子组件与子组件之间间隙。</p> <p>默认值：0</p> <p><strong>说明：</strong></p> <p>不支持设置百分比。</p> </td></tr><tr><td> <p>displayMode</p> </td><td> <p>SwiperDisplayMode</p> </td><td> <p>主轴方向上元素排列的模式，优先以displayCount设置的个数显示，displayCount未设置时本属性生效。</p> <p>默认值：SwiperDisplayMode.Stretch</p> </td></tr><tr><td> <p>cachedCount8+</p> </td><td> <p>number</p> </td><td> <p>设置预加载子组件个数。</p> <p>默认值：1</p> </td></tr><tr><td> <p>disableSwipe8+</p> </td><td> <p>boolean</p> </td><td> <p>禁用组件滑动切换功能。</p> <p>默认值：false</p> </td></tr><tr><td> <p>curve8+</p> </td><td> <p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3#ZH-CN_TOPIC_0000001574248789__curve" rel="nofollow" title="Curve">Curve</a> | string</p> </td><td> <p>设置Swiper的动画曲线，默认为淡入淡出曲线，常用曲线参考<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3#ZH-CN_TOPIC_0000001574248789__curve" rel="nofollow" title="Curve枚举说明">Curve枚举说明</a>，也可以通过<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/js-apis-curve-0000001427585072-V3" rel="nofollow" title="插值计算">插值计算</a>模块提供的接口创建自定义的插值曲线对象。</p> <p>默认值：Curve.Linear</p> </td></tr><tr><td> <p>indicatorStyle8+</p> </td><td> <p>{<!-- --></p> <p>left?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3#ZH-CN_TOPIC_0000001573928889__length" rel="nofollow" title="Length">Length</a>,</p> <p>top?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3#ZH-CN_TOPIC_0000001573928889__length" rel="nofollow" title="Length">Length</a>,</p> <p>right?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3#ZH-CN_TOPIC_0000001573928889__length" rel="nofollow" title="Length">Length</a>,</p> <p>bottom?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3#ZH-CN_TOPIC_0000001573928889__length" rel="nofollow" title="Length">Length</a>,</p> <p>size?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3#ZH-CN_TOPIC_0000001573928889__length" rel="nofollow" title="Length">Length</a>,</p> <p>mask?: boolean,</p> <p>color?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3" rel="nofollow" title="ResourceColor">ResourceColor</a>,</p> <p>selectedColor?: <a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-types-0000001477981241-V3" rel="nofollow" title="ResourceColor">ResourceColor</a></p> <p>}</p> </td><td> <p>设置导航点样式：</p> <p>- left: 设置导航点距离Swiper组件左边的距离。</p> <p>- top: 设置导航点距离Swiper组件顶部的距离。</p> <p>- right: 设置导航点距离Swiper组件右边的距离。</p> <p>- bottom: 设置导航点距离Swiper组件底部的距离。</p> <p>- size: 设置导航点的直径。不支持设置百分比。默认值：6vp。</p> <p>- mask: 设置是否显示导航点蒙层样式。</p> <p>- color: 设置导航点的颜色。</p> <p>- selectedColor: 设置选中的导航点的颜色。</p> </td></tr><tr><td> <p>displayCount8+</p> </td><td> <p>number|string</p> </td><td> <p>设置一页内元素显示个数。</p> <p>默认值：1</p> <p><strong>说明：</strong></p> <p>字符串类型仅支持设置为'auto'，显示效果同SwiperDisplayMode.AutoLinear。</p> <p>使用number类型且设置小于等于0时，按默认值1显示。</p> <p>使用number类型时，子组件按照主轴均分Swiper宽度（减去displayCount-1的itemSpace）的方式进行主轴拉伸（收缩）布局。</p> </td></tr><tr><td> <p>effectMode8+</p> </td><td> <p><a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-appendix-enums-0000001478061741-V3#ZH-CN_TOPIC_0000001574248789__edgeeffect" rel="nofollow" title="EdgeEffect">EdgeEffect</a></p> </td><td> <p>滑动效果，目前支持的滑动效果参见EdgeEffect的枚举说明。</p> <p>默认值：EdgeEffect.Spring</p> <p><strong>说明：</strong></p> <p>控制器接口调用时不生效回弹。</p> </td></tr></tbody></table> 
<p id="ZH-CN_TOPIC_0000001574129001__swiperdisplaymode枚举说明">SwiperDisplayMode枚举说明</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__swiperdisplaymode%E6%9E%9A%E4%B8%BE%E8%AF%B4%E6%98%8E"></a><a name="swiperdisplaymode%E6%9E%9A%E4%B8%BE%E8%AF%B4%E6%98%8E"></a></p> 
<table><tbody><tr><th id="mcps1.3.6.2.1.3.1.1"> <p>名称</p> </th><th id="mcps1.3.6.2.1.3.1.2"> <p>描述</p> </th></tr><tr><td> <p>Stretch</p> </td><td> <p>Swiper滑动一页的宽度为Swiper组件自身的宽度。</p> </td></tr><tr><td> <p>AutoLinear</p> </td><td> <p>Swiper滑动一页的宽度为子组件宽度中的最大值。</p> </td></tr></tbody></table> 
<p id="ZH-CN_TOPIC_0000001574129001__swipercontroller">SwiperController</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__swipercontroller"></a><a name="swipercontroller"></a></p> 
<p>Swiper容器组件的控制器，可以将此对象绑定至Swiper组件，然后通过它控制翻页。</p> 
<p id="ZH-CN_TOPIC_0000001574129001__shownext">showNext</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__shownext"></a><a name="shownext"></a></p> 
<p>showNext(): void</p> 
<p>翻至下一页。翻页带动效切换过程，时长通过duration指定。</p> 
<p id="ZH-CN_TOPIC_0000001574129001__showprevious">showPrevious</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__showprevious"></a><a name="showprevious"></a></p> 
<p>showPrevious(): void</p> 
<p>翻至上一页。翻页带动效切换过程，时长通过duration指定。</p> 
<p id="ZH-CN_TOPIC_0000001574129001__finishanimation">finishAnimation</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__finishanimation"></a><a name="finishanimation"></a></p> 
<p>finishAnimation(callback?: () =&gt; void): void</p> 
<p>停止播放动画。</p> 
<p><strong>参数：</strong></p> 
<table><thead><tr><th id="mcps1.3.10.5.1.5.1.1"> <p>参数名</p> </th><th id="mcps1.3.10.5.1.5.1.2"> <p>参数类型</p> </th><th id="mcps1.3.10.5.1.5.1.3"> <p>必填项</p> </th><th id="mcps1.3.10.5.1.5.1.4"> <p>参数描述</p> </th></tr></thead><tbody><tr><td> <p>callback</p> </td><td> <p>() =&gt; void</p> </td><td> <p>否</p> </td><td> <p>动画结束的回调。</p> </td></tr></tbody></table> 
<h5 id="ZH-CN_TOPIC_0000001574129001__事件">事件</h5> 
<p><a name="ZH-CN_TOPIC_0000001574129001__%E4%BA%8B%E4%BB%B6"></a><a name="%E4%BA%8B%E4%BB%B6"></a></p> 
<p>除支持<a href="https://developer.harmonyos.com/cn/docs/documentation/doc-references-V3/ts-universal-events-click-0000001477981153-V3" rel="nofollow" title="通用事件">通用事件</a>外，还支持以下事件：</p> 
<table><tbody><tr><th id="mcps1.3.11.3.1.3.1.1"> <p>名称</p> </th><th id="mcps1.3.11.3.1.3.1.2"> <p>功能描述</p> </th></tr><tr><td> <p>onChange(event: (index: number) =&gt; void)</p> </td><td> <p>当前显示的子组件索引变化时触发该事件,返回值为当前显示的子组件的索引值。</p> <p>- index:当前显示元素的索引。</p> <p><strong>说明：</strong></p> <p>Swiper组件结合LazyForEach使用时，不能在onChange事件里触发子页面UI的刷新。</p> </td></tr><tr><td> <p>onAnimationStart9+(event: (index: number) =&gt; void)</p> </td><td> <p>切换动画开始时触发该回调。</p> <p>- index:当前显示元素的索引。</p> <p><strong>说明：</strong></p> <p>参数为动画开始前的index值（不是最终结束动画的index值），多列Swiper时，index为最左侧组件的索引。</p> </td></tr><tr><td> <p>onAnimationEnd9+(event: (index: number) =&gt; void)</p> </td><td> <p>切换动画结束时触发该回调。</p> <p>- index:当前显示元素的索引。</p> <p><strong>说明：</strong></p> <p>当Swiper切换动效结束时触发，包括动画过程中手势中断，通过SwiperController调用finishAnimatio。参数为动画结束后的index值，多列Swiper时，index为最左侧组件的索引。</p> </td></tr></tbody></table> 
<p id="ZH-CN_TOPIC_0000001574129001__onchange">onChange</p> 
<p><a name="ZH-CN_TOPIC_0000001574129001__onchange"></a><a name="onchange"></a></p> 
<p>onChange(event: (index: number) =&gt; void)</p> 
<p>当前显示的子组件索引变化时触发该事件,返回值为当前显示的子组件的索引值。</p> 
<p><strong>说明</strong>：Swiper组件结合LazyForEach使用时，不能在onChange事件里触发子页面UI的刷新。</p> 
<p><strong>返回值：</strong></p> 
<table><thead><tr><th id="mcps1.3.12.6.1.4.1.1"> <p>名称</p> </th><th id="mcps1.3.12.6.1.4.1.2"> <p>类型</p> </th><th id="mcps1.3.12.6.1.4.1.3"> <p>参数描述</p> </th></tr></thead><tbody><tr><td> <p>index</p> </td><td> <p>number</p> </td><td> <p>当前显示元素的索引。</p> </td></tr></tbody></table> 
<h4 id="ZH-CN_TOPIC_0000001333641085__示例">三、示例</h4> 
<h5>代码</h5> 
<pre><code>// xxx.ets
class MyDataSource implements IDataSource {
  private list: number[] = []
  private listener: DataChangeListener

  constructor(list: number[]) {
    this.list = list
  }

  totalCount(): number {
    return this.list.length
  }

  getData(index: number): any {
    return this.list[index]
  }

  registerDataChangeListener(listener: DataChangeListener): void {
    this.listener = listener
  }

  unregisterDataChangeListener() {
  }
}

@Entry
@Component
struct SwiperExample {
  private swiperController: SwiperController = new SwiperController()
  private data: MyDataSource = new MyDataSource([])

  aboutToAppear(): void {
    let list = []
    for (var i = 1; i &lt;= 10; i++) {
      list.push(i.toString());
    }
    this.data = new MyDataSource(list)
  }

  build() {
    Column({ space: 5 }) {
      Swiper(this.swiperController) {
        LazyForEach(this.data, (item: string) =&gt; {
          Text(item).width('90%').height(160).backgroundColor(0xAFEEEE).textAlign(TextAlign.Center).fontSize(30)
        }, item =&gt; item)
      }
      .cachedCount(2)
      .index(1)
      .autoPlay(true)
      .interval(4000)
      .indicator(true)
      .loop(true)
      .duration(1000)
      .itemSpace(0)
      .curve(Curve.Linear)
      .onChange((index: number) =&gt; {
        console.info(index.toString())
      })

      Row({ space: 12 }) {
        Button('showNext')
          .onClick(() =&gt; {
            this.swiperController.showNext()
          })
        Button('showPrevious')
          .onClick(() =&gt; {
            this.swiperController.showPrevious()
          })
      }.margin(5)
    }.width('100%')
    .margin({ top: 5 })
  }
}</code></pre> 
<p></p> 
<h5>图例</h5> 
<p></p> 
<p><img alt="" src="https://images2.imgbox.com/9b/c8/sQZkNVQ4_o.gif"></p> 
<p></p> 
<p>你有时间常去我家看看我在这里谢谢你啦...</p> 
<p></p> 
<p>我家地址:<a href="https://www.yadinghao.com/" rel="nofollow" title="亚丁号">亚丁号</a></p> 
<p>最后送大家一首诗:</p> 
<p>山高路远坑深,<br> 大军纵横驰奔,</p> 
<p>谁敢横刀立马？<br> 惟有点赞加关注大军。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b06918be05a7b3891ab4b7cf1b28e512/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WPF自定义圆形百分比进度条</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c473d6adcaa2f482fa5625df9aedecd8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt环境搭建及基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>