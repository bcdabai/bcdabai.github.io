<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>现代通信技术之软交换技术和IMS技术 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="现代通信技术之软交换技术和IMS技术" />
<meta property="og:description" content="软交换网络技术 IP电话网技术 在 IP 电话基础上逐步发展起来的一个新技术或新概念
IP 电话呼叫过程： Phone to Phone
普通电话通过电话网连接到 IP 电话网关，用电话号码呼叫。发端 IP 网关鉴别主机用户，将被叫电话号码翻译成离被叫最近的收端网关 IP 地址，将呼叫连接到该网关，完成话音编码和打包。收端 IP 网关完成拆包、解码及反向地址翻译功能，并将呼叫连到被叫终端用户。 NGN 泛指不同于目前一代的，大量采用创新技术，以 IP 为中心，支持语声、数据和多媒体业务的融合网络。 ——“虚词”
下一代之后永远还有下一代
狭义的下一代网特指以软交换为核心，光联网为基础的，兼容所有三网技术的开放体系架构。
现阶段的下一代网指狭义的
特征：
采用开放的网络架构体系 按照功能划分模块，彼此间用标准的接口互联。 业务驱动的网络 业务与呼叫控制分离，呼叫与承载分离。 基于统一协议的分组网络 使用 IP 协议 软交换 软交换的概念 广义软交换泛指一种体系结构，即基于软交换的下一代网络框架
狭义软交换指软交换设备，软交换设备是一个市场术语，它还有多个名称，如呼叫服务器、呼叫代理、媒体网关控制器等
广义的软交换就是狭义的 NGN
电路交换与软交换的对比
传统电路交换网是一种垂直集成的、封闭和单厂家专用的系统结构，新业务的开发也是以专用设备和专用软件为载体，导致开发成本高、时间长、无法适应今天快速变化的市场环境和多样化的用户需求。
软交换首先打破了传统的封闭交换结构，采用横向组合模式、开放的接口和通用的协议，构成一个开放的、分布的和多厂家应用的系统结构。
软交换的体系结构 注意， 本课程按照传统电信网具有代表性的网络分层模型的概念和体系来组织的，即按照分成业务与终端、交换与路由、接入与传送三层构成的网络分层模型来描述整个通信网络。
基于软交换的 NGN 体系结构却与之不同，是一个四层模型，实际上二者的主要不同正是将软交换引入现有网络构成 NGN 所造成的。
将原来交换与路由中的呼叫控制功能独立出来就是现在的控制层，即软交换；
原来交换与路由中剩余的对媒体处理和传送功能就是现在核心传输层要完成的功能；
而接入媒体层就是提供各种接入手段，只不过因为软交换要叠加在现有通信网上，还必须提供现有各种传统通信网，如电话网、 ISDN 、智能网的接入。
软交换网络的组成 软交换设备：呼叫处理控制
媒体网关：媒体流转换
中继网关：连接电路交换机的中继线接入网关：连接 ISDN 用户网络接口接入互联网用户驻地网关：连接模拟用户线与 IP 网 信令网关
业务支撑环境：应用服务器等
各种终端" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7253f548262ce7677e9401a6f4f8beff/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-05T10:19:59+08:00" />
<meta property="article:modified_time" content="2020-05-05T10:19:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">现代通信技术之软交换技术和IMS技术</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>软交换网络技术</h2> 
<h3><a id="IP_1"></a>IP电话网技术</h3> 
<p>在 IP 电话基础上逐步发展起来的一个新技术或新概念<br> <img src="https://images2.imgbox.com/d9/af/JdfgSHWk_o.png" width="70%"></p> 
<p>IP 电话呼叫过程： Phone to Phone</p> 
<ul><li>普通电话通过电话网连接到 IP 电话网关，用电话号码呼叫。</li><li>发端 IP 网关鉴别主机用户，将被叫电话号码翻译成离被叫最近的收端网关 IP 地址，将呼叫连接到该网关，完成话音编码和打包。</li><li>收端 IP 网关完成拆包、解码及反向地址翻译功能，并将呼叫连到被叫终端用户。</li></ul> 
<h3><a id="NGN_11"></a>NGN</h3> 
<p>泛指不同于目前一代的，大量采用创新技术，以 IP 为中心，支持语声、数据和多媒体业务的融合网络。 ——“虚词”<br> <strong>下一代之后永远还有下一代</strong></p> 
<p>狭义的下一代网特指以软交换为核心，光联网为基础的，兼容所有三网技术的开放体系架构。<br> <strong>现阶段的下一代网指狭义的</strong></p> 
<p>特征：</p> 
<ul><li>采用开放的网络架构体系 
  <ul><li>按照功能划分模块，彼此间用标准的接口互联。</li></ul> </li><li>业务驱动的网络 
  <ul><li>业务与呼叫控制分离，呼叫与承载分离。</li></ul> </li><li>基于统一协议的分组网络 
  <ul><li>使用 IP 协议</li></ul> </li></ul> 
<h3><a id="_27"></a>软交换</h3> 
<h4><a id="_28"></a>软交换的概念</h4> 
<p><strong>广义软交换</strong>泛指一种体系结构，即基于软交换的下一代网络框架<br> <strong>狭义软交换</strong>指软交换设备，软交换设备是一个市场术语，它还有多个名称，如呼叫服务器、呼叫代理、媒体网关控制器等<br> <strong>广义的软交换就是狭义的 NGN</strong></p> 
<p>电路交换与软交换的对比<br> <img src="https://images2.imgbox.com/78/1c/8STqPObv_o.png" width="70%"><br> <strong>传统电路交换网</strong>是一种垂直集成的、封闭和单厂家专用的系统结构，新业务的开发也是以专用设备和专用软件为载体，导致开发成本高、时间长、无法适应今天快速变化的市场环境和多样化的用户需求。<br> <strong>软交换</strong>首先打破了传统的封闭交换结构，采用横向组合模式、开放的接口和通用的协议，构成一个开放的、分布的和多厂家应用的系统结构。</p> 
<h4><a id="_39"></a>软交换的体系结构</h4> 
<img src="https://images2.imgbox.com/7d/a9/85mD1qse_o.png" width="70%"> 
<p>注意， 本课程按照传统电信网具有代表性的网络分层模型的概念和体系来组织的，即按照分成<strong>业务与终端、交换与路由、接入与传送</strong>三层构成的网络分层模型来描述整个通信网络。<br> <strong>基于软交换的 NGN 体系结构</strong>却与之不同，是一个<code>四层</code>模型，实际上二者的主要不同正是将软交换引入现有网络构成 NGN 所造成的。</p> 
<p>将原来交换与路由中的<strong>呼叫控制功能</strong>独立出来就是现在的<strong>控制层</strong>，即<code>软交换</code>；<br> 原来交换与路由中剩余的<strong>对媒体处理和传送功能</strong>就是现在<strong>核心传输层</strong>要完成的功能；<br> 而<strong>接入媒体层</strong>就是提供<strong>各种接入手段</strong>，只不过因为软交换要叠加在现有通信网上，还必须提供现有各种传统通信网，如电话网、 ISDN 、智能网的接入。</p> 
<h4><a id="_49"></a>软交换网络的组成</h4> 
<p><strong>软交换设备</strong>：呼叫处理控制<br> <strong>媒体网关</strong>：媒体流转换</p> 
<ul><li>中继网关：连接电路交换机的中继线</li><li>接入网关：连接 ISDN 用户网络接口接入互联网</li><li>用户驻地网关：连接模拟用户线与 IP 网</li></ul> 
<p><strong>信令网关</strong><br> <strong>业务支撑环境</strong>：应用服务器等<br> <strong>各种终端</strong></p> 
<ul><li>SIP/H.323</li></ul> 
<h4><a id="_61"></a>软交换的协议</h4> 
<p>H.248/MEGACO</p> 
<ul><li>媒体网关控制协议，应用在媒体网关和MGCP终端与软交换设备之间</li></ul> 
<p>媒体网关控制协议（ MGCP)</p> 
<ul><li>早期由 IETF 提出</li></ul> 
<p>会话初始协议（ SIP)</p> 
<ul><li>主要应用于软交换与SIP终端之间，实现会话的连接、建立和释放，并支持单播、组播和可移动性</li></ul> 
<p>SIGTRAN/SCTP 协议</p> 
<ul><li>由IETF提出的在IP网中使用的信令协议，也称为SS7/IP协议</li></ul> 
<h4><a id="_74"></a>软交换设备</h4> 
<img src="https://images2.imgbox.com/39/11/CFu3C6rK_o.png" width="70%"> 
<p>功能：</p> 
<ul><li>媒体网关适配功能 ：实现对媒体网关的控制、接入和管理 ，直接与终端连接，提供相应业务 。</li><li>业务提供功能 ：提供电路交换系统和智能网的全部业务，还提供 API 接口与外部互通。</li><li>网络管理和计费功能</li><li>地址解析/路由功能</li><li>互通功能 ：与外部实体及其他软交换设备进行交互进行信令转换，并与系统内部各实体协同运作来完成各种复杂业务。</li><li>业务交换功能（ SSF 功能）：与呼叫控制功能结合，提供二者之间的通信功能</li><li><strong>呼叫控制功能</strong> ：为基本呼叫的建立、维持和释放提供控制功能 。 
  <ul><li>识别媒体网关报告的用户摘/挂机、拨号等事件，控制媒体网关向用户送音信号</li><li>呼叫处理、连接控制、智能呼叫触发检出、资源控制等</li><li>接受 SSF 的功能请求，控制呼叫相关功能</li><li>支持两方/多方呼叫控制功能</li><li>利用 SCTP 支持采用 SS7/IP 控制呼叫</li><li>具备本地/长途电话交换设备的呼叫处理功能</li></ul> </li></ul> 
<h4><a id="MG_92"></a>媒体网关（MG）</h4> 
<ul><li>基本功能是将媒体流从某一类型的格式转化为另一种类型的格式</li><li><strong>呼叫处理与控制功能</strong> 
  <ul><li>模拟线用户：识别用户摘 挂机、拨号等事件，检测用户占线 无人应答等状态，向软交换设备报告，并在软交换设备控制下，向用户送音信号</li><li>IP 侧网络接口：分配端口号，在 PCM 中继线和RTP/RTCP 间进行媒体流转换，呼叫控制，播放提示音，检测和生成 DTMF ，检测 Modem 和 fax 音，向软交换报告，并在其控制下进行相关操作。</li></ul> </li><li>资源控制功能、 QoS 管理功能</li></ul> 
<h4><a id="SG_98"></a>信令网关（SG）</h4> 
<ul><li>完成 No.7 信令消息与 IP 网信令消息的互通 。</li><li>协议包含两部分：电路信令侧协议和 IP 网络侧协议。</li><li>信令网关设备应具有配置管理、状态管理、故障管理和性能管理能力。</li><li>信令网关是网络业务融合的关键设备。</li></ul> 
<h4><a id="IAD_104"></a>综合接入设备（IAD）</h4> 
<p>作为小容量的综合接入网关，提供语言和数据的综合接入能力。</p> 
<p>IAD 设备具有呼叫处理功能；具有资源控制和汇报功能、维护和管理功能、 IP 语音的 QoS 管理功能，还能支持以太网、 ADSL 、 HFC 接入。</p> 
<img src="https://images2.imgbox.com/f9/c5/aubfYpTe_o.png" width="40%"> 
<h4><a id="AG_111"></a>接入网关(AG)</h4> 
<p>一般是运营商的局端设备，容量较大。<br> 能够实现用户侧语音和传真等信号到分组网络媒体信息的转换 。</p> 
<h4><a id="_115"></a>业务支撑环境及其他</h4> 
<p>业务支撑环境</p> 
<ul><li>服务器是软交换体系中业务支撑环境的主体，也是业务提供、开发和管理的核心。</li><li>协议主要有 IETF 的 SIP 协议和 Parlay 组织制定的 Parlay API 规范。</li></ul> 
<p>其他支撑设备</p> 
<ul><li>AAA 服务器 (Authority Authentication and Accounting Server) 、大容量分布式数据库、网管服务器等。</li></ul> 
<h4><a id="_123"></a>软交换电话呼叫通信流程举例</h4> 
<p>主叫和被叫均位于 PSTN 网中，并分别与中继网关相连；主被叫间通过两个中继网关在 IP 网中建立媒体通道。</p> 
<p>中继网关和软交换设备之间采用 H.248协议；主叫用户位于 LEX1/ SG1 和 TG1 管辖范围内；被叫用户位于 LEX2/ SG2 和 TG2管辖范围内； No.7 信令使用 ISDN 用户模块 ISUP TG1 和 TG2 属于一个软交换设备的管辖区域内。</p> 
<h2><a id="IMS_128"></a>IMS技术</h2> 
<h3><a id="IMS_129"></a>IMS的特点</h3> 
<ul><li>与接入无关。 IMS 借鉴软交换网络技术，采用基于网关的互通方案 ，支持多种接入方式。</li><li>协议统一。采用 SIP 协议进行控制，能够灵活便捷的支持 IP 多媒体业务，并与现有 IP 网络平滑对接。</li><li>业务与控制分离。</li><li>归属服务控制。</li><li>用户数据与交换控制分离。 可以解决用户移动性、用户的号码携带和智能业务触发等问题 。</li><li>水平体系架构 。</li><li>策略控制和 QoS 保证。</li></ul> 
<h3><a id="IMS_138"></a>软交换与IMS</h3> 
<p><strong>软交换技术与 IMS 技术的相同点</strong>：<br> 软交换与 IMS 都是作为下一代网络技术提出的，实现目标均是构建一个基于分组的、层次分明的、开放的下一代网络，实现控制和承载分离。<br> <strong>软交换</strong>：</p> 
<ul><li>软交换的主要贡献是提出了<strong>分层</strong>思想，利用了分组数据网信息传送的能力，把传统电路交换机的呼叫控制功能、媒体承载功能、业务功能进行了分离。</li><li>软交换设备不再处理媒体流和业务的属性，而是负责基本的呼叫控制及其相关的一些属性。</li><li>软交换对电话语音业务、 IP 接入、非 IP 接入以及与 PSTN/VoIP 互通等方面考虑较多，对移动性管理和多媒体业务的提高考虑较少。</li><li>目前软交换技术比较成熟， 在我国 得到广泛应用。</li></ul> 
<p><strong>IMS</strong> ：</p> 
<ul><li>IMS 在软交换技术控制与承载分离的基础上，更进一步实现了呼叫控制层和业务控制层的分离 。</li><li>IMS 更关注逻辑网络结构和功能，能够提供实际运营所需的各种能力。</li><li>IMS 充分考虑了对移动性的支持，与具体的接入方式无关。</li><li>目前 IMS 已有成熟的产品和市场，业界普遍认为IMS 将融合各种网络成为下一代网络的核心技术。</li></ul> 
<h3><a id="IMS_153"></a>IMS网络结构</h3> 
<p>IMS 网络底层采用基于<strong>IP协议的分组交换网络</strong>进行传输，可以分为三层。<br> <img src="https://images2.imgbox.com/91/0e/K1cQnDKR_o.png" width="70%"></p> 
<p><strong>IP 接入网络层</strong></p> 
<ul><li>发起和终结各类 SIP 会话；</li><li>实现 IP 分组承载与其他各种承载之间的转换；</li><li>根据业务部署和会话层的控制实现各种 QoS策略；</li><li>完成与 PSTN/PLMN 之间的互联互通</li><li>设备包括各类SIP终端、有线接入网关、无线接入网关、互联互通网关等。</li></ul> 
<p><strong>IP 多媒体核心网络层</strong></p> 
<ul><li>全部基于 IP ，提供多媒体业务环境</li><li>完成基本会话的控制，完成用户注册、 SIP会话路由控制，与应用服务器交互执行应用业务中的会话、维护管理用户数据、管理业务 QoS 策略等功能</li><li>IMS 系统的大部分核心功能实体均处于本层 。</li></ul> 
<p><strong>业务网络层</strong></p> 
<ul><li>提供多媒体业务的应用平台，可以向用户提供 多种综合业务。</li></ul> 
<h3><a id="IMS_172"></a>IMS的功能实体</h3> 
<p><strong>P-CSCF （代理呼叫会话控制功能）</strong><br> 是IMS用户的网络接入节点。所有SIP信令，无论来自UE还是发送给UE的，都必须经过它 。<br> 主要功能：</p> 
<ul><li>将 UE 发来的注册请求消息转发给 I-CSCF 。</li><li>将从 UE 收到的 SIP 请求和响应转发给 S-CSCF 。</li><li>将 SIP 请求和响应转发给 UE 。</li><li>发送计费相关信息。</li><li>提供 SIP 信令的完整性和机密性保护。</li><li>和 PDF 交互，授权承载资源并进行 QoS 管理。</li></ul> 
<p><strong>I-CSCF （查询呼叫会话控制功能）</strong><br> 主要功能：</p> 
<ul><li>为一个发起 SIP 注册请求的用户分配一个 S-CSCF 。</li><li>将从其他网络来的 SIP 请求路由到 S-CSCF ；查询归属用户服务器 HSS ，获取为某个用户提供服务的S-CSCF 地址；根据从 HSS 获取的 S-CSCF 地址将 SIP请求和响应转发到 S-CSCF 。</li><li>生成计费记录。</li><li>提供网间拓扑隐藏网关功能。</li></ul> 
<p><strong>S-CSCF （服务呼叫会话控制功能</strong> ）<br> 是 IMS 的核心功能模块，位于归属网络，为 UE 进行会话控制和注<br> 册服务。<br> 在注册和呼叫过程中的主要功能：</p> 
<ul><li>接收注册请求。</li><li>实现用户与归属网络间的相互认证。<br> *处理消息流，包括：为已经注册的会话终端进行会话控制；作为代理服务器，处理或转发收到的请求；作为用户代理，中断或者独立发起 SIP 事务；与服务平台交互来向用户提供服务；提供终端相关的服务信息。</li><li>当代表主叫的终端时，寻找被叫所接入的 I-CSCF并转发 SIP 请求或响应；当呼叫要路由到 PSTN 或CS 域时，把 SIP 请求或响应转发给对应网关。</li><li>当代表被叫的终端时，如果用户在归属网络中，把 SIP 请求或响应转发给 P-CSCF ；如果用户在拜访网络中，把 SIP 请求或响应转发给 I-CSCF 。当呼叫要路由到 PSTN 或 CS 域时，把 SIP 请求或响应转发给对应网关。</li><li>发送计费消息。</li></ul> 
<p><strong>HSS （归属用户服务器 ）</strong>：<br> 存储用户数据。<br> 主要功能</p> 
<ul><li>存储 用户身份信息（用户标识、号码和地址）、用户安全信息（用户网络接入控制的鉴权和授权信息）、用户的位置信息和用户的签约业务信息 。</li><li>对移动性管理、呼叫和会话建立、鉴权、漫游接入授权、用户的多标识处理等功能提供支持。</li></ul> 
<p><strong>BGCF （出口网关控制功能）<br> MGCF （媒体网关控制功能）<br> PDF （策略决策功能）</strong><br> …</p> 
<h2><a id="_213"></a>例题讲解</h2> 
<p>问答题 ：请总结<strong>软交换技术</strong>与<strong>IMS技术</strong>的<strong>异同之处</strong>。<br> 参考答案：<br> <strong>相同之处</strong> ：软交换与IMS技术都是作为<code>下一代网络技术</code>提出的，实现目标均是构建<code>一个基于分组的 、层次分明的、开放的下一代网络</code>，实现<code>控制</code>和<code>承载</code>分离。<br> <strong>不同之处</strong>：<br> <strong>软交换</strong>的主要贡献是提出了<code>分层</code>思想，利用了<code>分组交换网络信息传输的能力</code>，把传统电路交换节点的<strong>呼叫控制功能、媒体承载功能、业务功能</strong>进行了<code>分离</code>。<strong>软交换设备</strong>不再处理媒体流和业务的属性，而是负责<code>基本的呼叫控制及其相关属性</code>。软交换对<strong>电话语音业务、IP接入、非IP接入及与PSTN互通</strong>等方面考虑较多，对<strong>移动性管理和多媒体业务的支持</strong>考虑较少。<br> <strong>IMS</strong>在<code>软交换技术控制与承载分离</code>的基础上，更进一步实现了<code>呼叫控制层</code>和<code>业务控制层</code>的分离。 IMS更关注<code>逻辑网络结构和功能</code>，能够提供实际运营所需的各种能力。 IMS充分考虑了对<code>移动性</code>的支持，与具体的接入方式和地点<code>无关</code>。</p> 
<p>注：现代通信技术_北京邮电大学</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4d522c3b751f304a816ad355eabff13d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MongoDB导出CSV格式数据，并解决乱码问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ef84b519dcd26e287b6dc3b23a3d1c3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">联想电脑进入BIOS并开启虚拟化的两种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>