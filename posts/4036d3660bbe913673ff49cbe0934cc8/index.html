<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>docker安装oracle11g - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="docker安装oracle11g" />
<meta property="og:description" content="1、拉取镜像(6G多)两种方式二选一 在线拉取(快慢取决于网络)、本地拉取(自己有打包好的镜像) 在线拉取
命令: docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g
本地拉取
利用工具把镜像oracle11g.tar.gz上传到linux的root下面(路径根据个人自定义选择,我这里选择是root下面)
个人打包好的镜像: 点击查看 提取码：8888 命令: docker load &lt; /root/oracle11g.tar.gz
2、查看docker 镜像 命令: docker images
3、创建容器 命令: docker run -d --restart=always -v /home/oracle:/data/oracle -p 1521:1521 --name oracle11g registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g
说明: --restart=always 设置docker自动启动oracle
-v /home/oracle:/data/oracle 挂载表空间到自定义路径(/home的路径内存充足),创建表空间路/data/oracle(根据个人自定义)
-p 映射端口
--name 定义容器名
4、进入镜像配置 命令: docker exec -it oracle11g bash
命令: su root
Password: helowin
给予权限挂载的文件夹 chown -R oracle /data
5、编辑profile文件配置oracle环境变量 命令: vi /etc/profile
按 i 键进入编辑,在文件最后添加下面内容, 按Esc键输入 :wq!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4036d3660bbe913673ff49cbe0934cc8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-31T02:10:37+08:00" />
<meta property="article:modified_time" content="2022-12-31T02:10:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">docker安装oracle11g</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F(6G%E5%A4%9A)%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E4%BA%8C%E9%80%89%E4%B8%80%C2%A0%E5%9C%A8%E7%BA%BF%E6%8B%89%E5%8F%96(%E5%BF%AB%E6%85%A2%E5%8F%96%E5%86%B3%E4%BA%8E%E7%BD%91%E7%BB%9C)%E3%80%81%E6%9C%AC%E5%9C%B0%E6%8B%89%E5%8F%96(%E8%87%AA%E5%B7%B1%E6%9C%89%E6%89%93%E5%8C%85%E5%A5%BD%E7%9A%84%E9%95%9C%E5%83%8F)">1、拉取镜像(6G多)两种方式二选一 <u>在线拉取</u>(快慢取决于网络)、<u>本地拉取</u>(自己有打包好的镜像)</h4> 
<p>        在线拉取</p> 
<p>       <strong>命令:</strong> <em><strong><span style="color:#956fe7;">docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</span></strong></em></p> 
<p><em><strong><span style="color:#956fe7;">       </span></strong></em>本地拉取</p> 
<p>         利用工具把镜像oracle11g.tar.gz上传到linux的root下面<span style="color:#fe2c24;">(路径根据个人自定义选择,我这里选择是root下面)</span></p> 
<p><span style="color:#fe2c24;">        </span>个人打包好的镜像: <a href="https://pan.baidu.com/s/1zxHTDxjWW6M9d4uZxutb7g" rel="nofollow" title="点击查看">点击查看</a> 提取码：8888 </p> 
<p>        <strong>命令: <em><span style="color:#956fe7;">docker load &lt; /root/oracle11g.tar.gz</span></em></strong></p> 
<p>        <img alt="" height="196" src="https://images2.imgbox.com/ae/92/ACKhccEf_o.png" width="603"></p> 
<p></p> 
<h4 id="%E6%A3%80%E6%9F%A5docker%C2%A0%E9%95%9C%E5%83%8F">2、查看docker 镜像</h4> 
<p><strong>        命令: <span style="color:#956fe7;"><em>docker images</em></span></strong></p> 
<h4 id="%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8(%E8%AE%BE%E7%BD%AE%E5%90%AF%E5%8A%A8docker%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8oracle%20%3C--restart%3Dalways%3E%C2%A0%E5%A6%82%E6%89%8B%E5%8A%A8%E5%90%AF%E5%8A%A8%E5%8F%AF%E4%BB%A5%E6%8A%8A%E5%8E%BB%E6%8E%89)">3、创建容器</h4> 
<p><strong>        命令:</strong> <span style="color:#956fe7;"><em><strong>docker run -d --restart=always -v /home/oracle:/data/oracle -p 1521:1521 --name oracle11g registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</strong></em></span></p> 
<p>        <strong>说明:</strong> <span style="color:#956fe7;"><em><strong>--restart=always</strong></em></span>  设置docker自动启动oracle</p> 
<p>                <span style="color:#956fe7;"><em><strong>-v /home/oracle:/data/oracle </strong></em></span> 挂载表空间到自定义路径(/home的路径内存充足),创建表空间路/data/oracle(根据个人自定义)</p> 
<p><span style="color:#956fe7;"><em><strong>                -p </strong></em></span> 映射端口</p> 
<p><span style="color:#956fe7;"><em><strong>                --name </strong></em></span>  定义容器名</p> 
<h4>4、进入镜像配置</h4> 
<p>        <strong>命令: <em><span style="color:#956fe7;">docker exec -it oracle11g bash</span></em></strong></p> 
<p>        <strong>命令: </strong><em><strong><span style="color:#956fe7;">su root</span></strong></em></p> 
<p>        <strong>Password: </strong><strong><span style="color:#956fe7;"><em>helowin</em></span></strong></p> 
<p>        <img alt="" height="69" src="https://images2.imgbox.com/e8/03/Sc4pY89M_o.png" width="513"></p> 
<h4>     给予权限挂载的文件夹</h4> 
<p><span style="color:#956fe7;"><strong><em>      chown -R oracle /data</em></strong></span></p> 
<h4>5、编辑profile文件配置oracle环境变量</h4> 
<p>         <strong>命令:</strong> <span style="color:#956fe7;"><strong><em>vi /etc/profile</em></strong></span></p> 
<p>        按 i 键进入编辑,在文件最后添加下面内容, 按Esc键输入 :wq! 保存</p> 
<pre><code>export ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2
export ORACLE_SID=helowin
export PATH=$ORACLE_HOME/bin:$PATH</code></pre> 
<p> <img alt="" height="394" src="https://images2.imgbox.com/82/ae/gxved6fX_o.png" width="679"></p> 
<h4>6、保存后使配置文件生效</h4> 
<p><strong>        命令: </strong><span style="color:#956fe7;"><em><strong>source /etc/profile</strong></em></span></p> 
<h4> 7、创建连接</h4> 
<p>         <strong>命令:<span style="color:#956fe7;"><em> ln -s $ORACLE_HOME/bin/sqlplus /usr/bin</em></span></strong></p> 
<h4>8、切换用户</h4> 
<p><strong>        命令:</strong> <strong><em><span style="color:#956fe7;">su - oracle</span></em></strong></p> 
<h4>9、修改sys system用户的密码<span style="color:#fe2c24;">(密码个人自定义,这里用xxx代表)</span></h4> 
<p>        <strong>命令:</strong> <em><strong><span style="color:#956fe7;">sqlplus /nolog</span></strong></em></p> 
<p>        <strong>SQL&gt;</strong> <em><span style="color:#956fe7;"><strong>conn /as sysdba</strong></span></em></p> 
<p>        <strong>SQL&gt;</strong> <em><span style="color:#956fe7;"><strong>alter user system identified by xxx</strong></span></em><span style="color:#956fe7;"><strong><em>;</em></strong></span><strong><em>  </em></strong>      </p> 
<p><strong>        SQL&gt;</strong> <strong><span style="color:#956fe7;"><em>alter user sys identified by xxx;</em></span></strong></p> 
<p>        <strong>SQL&gt;</strong> <strong><span style="color:#956fe7;"><em>create user admin identified by xxx;        </em></span></strong>--创建一个管理账号,自定义账号和密码</p> 
<p>        <strong>SQL&gt;</strong> <strong><span style="color:#956fe7;"><em>grant connect,resource,dba to admin;     </em></span></strong>--授权给管理账号</p> 
<pre><code class="language-bash">[root@4c54e0e0f076 /]# ln -s $ORACLE_HOME/bin/sqlplus /usr/bin
[root@4c54e0e0f076 /]# su - oracle
[oracle@4c54e0e0f076 ~]$ sqlplus /nolog

SQL*Plus: Release 11.2.0.1.0 Production on Sun Sep 5 12:51:08 2021

Copyright (c) 1982, 2009, Oracle.  All rights reserved.

SQL&gt; conn /as sysdba
Connected.
SQL&gt; alter user system identified by xxx;                    

User altered.

SQL&gt; alter user sys identified by xxx;

User altered.

SQL&gt; create user admin identified by xxx;

User created.

SQL&gt; grant connect,resource,dba to admin;

Grant succeeded.

</code></pre> 
<h4>10、根据个人需求修改密码永不过期(默认180天)和密码输入错误不锁定(默认10次锁定)</h4> 
<p>        <strong>SQL&gt; <span style="color:#956fe7;"><em>alter profile default limit PASSWORD_LIFE_TIME unlimited;</em></span></strong></p> 
<p>      <strong>  SQL&gt;</strong> <strong><span style="color:#956fe7;"><em>alter profile default limit failed_login_attempts unlimited;</em></span></strong></p> 
<h4>11、修改最连接数</h4> 
<p><strong>        SQL&gt; <em><span style="color:#956fe7;">alter system set processes=1000 scope=spfile;</span></em></strong></p> 
<h4>12、根据个人需求修改字符集(默认AL32UTF8) 这里我用到是ZHS16GBK</h4> 
<p>       <strong> SQL&gt; </strong><span style="color:#956fe7;"><strong><em>select userenv('language') from dual;</em></strong> </span>       --查看字符集</p> 
<p>       <strong> SQL&gt; </strong><span style="color:#956fe7;"><strong><em>shutdown immediate;</em></strong></span></p> 
<p>        <strong>SQL&gt; </strong><em><strong><span style="color:#956fe7;">startup mount;</span></strong></em></p> 
<p>       <strong> SQL&gt; </strong><strong><em><span style="color:#956fe7;">ALTER SYSTEM ENABLE RESTRICTED SESSION;</span></em></strong></p> 
<p>        <strong>SQL&gt; </strong><strong><span style="color:#956fe7;"><em>ALTER SYSTEM SET JOB_QUEUE_PROCESSES=0;</em></span></strong></p> 
<p>        <strong>SQL&gt; </strong><strong><em><span style="color:#956fe7;">ALTER SYSTEM SET AQ_TM_PROCESSES=0;</span></em></strong></p> 
<p>        <strong>SQL&gt; </strong><span style="color:#956fe7;"><strong><em>alter database open;</em></strong></span></p> 
<p>        <strong>SQL&gt; </strong><span style="color:#956fe7;"><strong><em>ALTER DATABASE character set INTERNAL_USE ZHS16GBK;</em></strong></span></p> 
<p>        <strong>SQL&gt; </strong><em><strong><span style="color:#956fe7;">shutdown immediate;</span></strong></em></p> 
<p>        <strong>SQL&gt; </strong><strong><span style="color:#956fe7;"><em>startup</em></span></strong></p> 
<p>        <strong>SQL&gt; </strong><strong><span style="color:#956fe7;"><em>select userenv('language') from dual;</em></span></strong>         --AMERICAN_AMERICA.ZHS16GBK</p> 
<pre><code class="language-bash">SQL&gt; select userenv('language') from dual;

USERENV('LANGUAGE')
----------------------------------------------------
AMERICAN_AMERICA.AL32UTF8

SQL&gt; shutdown immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL&gt; startup mount;
ORACLE instance started.

Total System Global Area 1603411968 bytes
Fixed Size                  2213776 bytes
Variable Size             402655344 bytes
Database Buffers         1191182336 bytes
Redo Buffers                7360512 bytes
Database mounted.
SQL&gt; ALTER SYSTEM ENABLE RESTRICTED SESSION;

System altered.

SQL&gt; ALTER SYSTEM SET JOB_QUEUE_PROCESSES=0;

System altered.

SQL&gt; ALTER SYSTEM SET AQ_TM_PROCESSES=0;

System altered.

SQL&gt; alter database open;

Database altered.


SQL&gt; ALTER DATABASE character set INTERNAL_USE ZHS16GBK;

Database altered.


SQL&gt; shutdown immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL&gt; startup
ORACLE instance started.

Total System Global Area 1603411968 bytes
Fixed Size                  2213776 bytes
Variable Size             402655344 bytes
Database Buffers         1191182336 bytes
Redo Buffers                7360512 bytes
Database mounted.
Database opened.
SQL&gt; select userenv('language') from dual;

USERENV('LANGUAGE')
----------------------------------------------------
AMERICAN_AMERICA.ZHS16GBK

SQL&gt; </code></pre> 
<p><strong><span style="background-color:#d7d8d9;">提示: 如使用视图工具连接数据库  ip:1521/helowin</span></strong></p> 
<p><strong>完毕！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/09f10d0bf953ef3fbfc18c6e482d2c45/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Web安全】Ysoserial 简单利用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eebdf6cf361d50f1a1d3575889391f7f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java单元测试对私有方法测试</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>