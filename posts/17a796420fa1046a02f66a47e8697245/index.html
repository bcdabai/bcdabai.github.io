<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>生成假的规则单号？ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="生成假的规则单号？" />
<meta property="og:description" content="平时我们在网上平台购物，每一订单各种单号都有，例如：物流单号，业务单号，等等，
如果在淘宝下单时使用了花呗支付，还要有个花呗单。
这些单号，生成都是有一定规则的，至于规则那是人家公司定的与我们无关，但是这些单号都是唯一的。
目前我在项目实训中，也有生成类似单号的情况；
我是通过获取当前时间的{yyyy}{MM}{DD}{HH}{mm}{ss}年月日时分秒拼接某格式实现的
至于获取的方法和属性就不说了，前面有，CSDN的博客上一搜也有大堆；
注意下面的方法是存在问题的。
//获取日期时间拼接成特定格式
function SetDateNumder() {
var date = new Date();
var strmonth = date.getMonth() &#43; 1;//获取月份
var strDate = date.getDate();//获取日期
var strMinute = date.getMinutes();//获取分
var strSeconde = date.getSeconds();//获取秒
if (strmonth &gt;= 1 &amp;&amp; strmonth &lt;= 9) {
strmonth = “0” &#43; strmonth;
}
if (strDate &gt;= 1 &amp;&amp; strDate &lt;= 9) {
strDate = “0” &#43; strDate;
}
if (strMinute &gt;= 1 &amp;&amp; strMinute &lt;= 9) {" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/17a796420fa1046a02f66a47e8697245/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-17T15:17:21+08:00" />
<meta property="article:modified_time" content="2019-06-17T15:17:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">生成假的规则单号？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>平时我们在网上平台购物，每一订单各种单号都有，例如：物流单号，业务单号，等等，<br> 如果在淘宝下单时使用了花呗支付，还要有个花呗单。<br> 这些单号，生成都是有一定规则的，至于规则那是人家公司定的与我们无关，但是这些单号都是唯一的。<br> 目前我在项目实训中，也有生成类似单号的情况；<br> 我是通过获取当前时间的{yyyy}{MM}{DD}{HH}{mm}{ss}年月日时分秒拼接某格式实现的<br> 至于获取的方法和属性就不说了，前面有，CSDN的博客上一搜也有大堆；<br> 注意下面的方法是存在问题的。<br> <img src="https://images2.imgbox.com/f4/4e/gNfmKKxN_o.png" alt="在这里插入图片描述"><br> //获取日期时间拼接成特定格式<br> function SetDateNumder() {<!-- --><br> var date = new Date();<br> var strmonth = date.getMonth() + 1;//获取月份<br> var strDate = date.getDate();//获取日期<br> var strMinute = date.getMinutes();//获取分<br> var strSeconde = date.getSeconds();//获取秒<br> if (strmonth &gt;= 1 &amp;&amp; strmonth &lt;= 9) {<!-- --><br> strmonth = “0” + strmonth;<br> }<br> if (strDate &gt;= 1 &amp;&amp; strDate &lt;= 9) {<!-- --><br> strDate = “0” + strDate;<br> }<br> if (strMinute &gt;= 1 &amp;&amp; strMinute &lt;= 9) {<!-- --><br> strMinute = “0” + strMinute;<br> }<br> if (strSeconde &gt;= 1 &amp;&amp; strSeconde &lt;= 9) {<!-- --><br> strSeconde = “0” + strSeconde;<br> }<br> //拼接成{yyyy}{MM}{dd}{HH}{mm}{ss}格式<br> var NewDate = date.getFullYear() + strmonth + strDate + date.getHours() +<br> strMinute + strSeconde;<br> //返回拼接的字符串<br> return NewDate;<br> };</p> 
<pre><code> //页面载入事件（赋值文本框显示在页面）
    $(function () {
        console.log(SetDateNumder());
        //销售单编号 
        var DateNumber = "XSD" + SetDateNumder();
        //赋值
        document.getElementById("txbBusiNo").value = DateNumber;
    });
 //页面载入事件（赋值文本框显示在页面）
     $(function () {
        console.log(SetDateNumder());
        //销售单编号 
        var DateNumber = "XSD" + SetDateNumder();
        //赋值
        document.getElementById("txbBusiNo").value = DateNumber;
    });
</code></pre> 
<p>两个页面载入事件，是属于不同页面的，只是页面代码体基本相同。<br> <img src="https://images2.imgbox.com/dc/b1/vJYTrZHy_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/d1/05/nSoybuDZ_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/70/97/2jt6zh66_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/57/81/Gjy1FQAR_o.png" alt="在这里插入图片描述"></p> 
<p>但是这种方法生成的单号，是存在问题的，什么问题呢，为区别不同类型的单号，是我在方法或者在页面载入事件中就给他赋值（定义）了，例如：上面的“XDD”和“XSD”。<br> 那这就是程序员在内部中给其定义的规则，无法进行规则的更改，如要更改则需要程序员在内部进行更改，但是，如果不同商家用的规则不同，则无法对其进行更改了，</p> 
<p>也就是说这个方法生成的是该程序内部自定义的单号生成规则，而且必须要在对应的页面进行方法的引用的，该页面的单号规则进行设置。</p> 
<p>也就是说该方法无法与数据库进行对接，如果是商家使用的话，商家也无法按照自己的规则生成单号。<br> 必须使用程序内部编号，同样你的数据储存的规则也与其无关，因为无法对接。</p> 
<p>还有一个很好解决的问题，也就是这方法生成的单号是可在页面修改的，<br> <img src="https://images2.imgbox.com/dd/0d/egr7m07k_o.png" alt="在这里插入图片描述"><br> 前：<br> <img src="https://images2.imgbox.com/31/2e/YccgyscI_o.png" alt="在这里插入图片描述"><br> 后：<br> <img src="https://images2.imgbox.com/6f/ca/E4sdnmWh_o.png" alt="在这里插入图片描述"><br> 是全部可改。</p> 
<p>那请问要怎样才能使其无法进行修改，那是不是在您存放或单号赋值的元素，把其属性改成只读，让他只能读无法写就可以了呢。不知道，要试验。</p> 
<p>加油…</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef8b8aab264a5f4999773f224c78ca8a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于android中postDelayed方法的讲解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8554e15f67b5440c151b13b32f3a98c0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JDK动态代理UndeclaredThrowableException异常</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>