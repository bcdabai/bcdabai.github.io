<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>服务PLMN、NCGI与SIB1 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="服务PLMN、NCGI与SIB1" />
<meta property="og:description" content="SIB1（38.331） SIB1 contains information relevant when evaluating if a UE is allowed to access a cell and defines the scheduling of other system information. It also contains radio resource configuration information that is common for all UEs and barring information applied to the unified access control.
关键信源： CellAccessRelatedInfo 获取服务PLMN和NCGI：根据MSG5和SIB1::CellAccessRelatedInfo 5G NR SIB1 介绍 消息概述： SIB1携带UE接入小区所需的最关键的信息，例如随机接入参数。SIB1包括关于其他SIB的可用性和调度的信息。SIB1还指示是否仅按需提供一个或多个SIB，在这种情况下，它还可以提供UE所需的PRACH配置，以请求所需的SI 。
SIB1包含在评估UE是否被允许访问小区时定义的信息，并定义其他系统信息的调度。SIB1还包含所有UE共有的无线电资源配置信息和应用于统一接入控制的小区禁止信息。 SIB1是小区特定的SIB，为了使UE解码SIB1,UE从MIB获得所有需要的信息。
5G SIB1在DL-SCH（逻辑信道：BCCH）上以160ms的周期和160ms内的可变传输重复周期来发送SIB1。而4G SIB1发送周期为80ms。5G(NR)中SIB消息有两种，一种是周期性广播，另一种是根据UE请求（ on-Demand）发送；
消息参数： -- ASN1START -- TAG-SIB1-START SIB1 ::= SEQUENCE { cellSelectionInfo SEQUENCE { q-RxLevMin Q-RxLevMin, q-RxLevMinOffset INTEGER (1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/623f5444b599c6a82906e7a2cfd52bb6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-26T22:58:56+08:00" />
<meta property="article:modified_time" content="2022-07-26T22:58:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">服务PLMN、NCGI与SIB1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><em>SIB1（38.331）</em></h2> 
<p style="margin-left:0;"><em>        SIB1</em> contains information relevant when <span style="background-color:#ffd900;">evaluating if a UE is allowed to access a cell</span> and defines the scheduling of other system information.<em> </em>It also contains radio resource configuration information that is common for all UEs and barring information applied to the unified access control.</p> 
<p class="img-center"><img alt="" height="263" src="https://images2.imgbox.com/07/74/pgavXmBt_o.png" width="600"></p> 
<p></p> 
<h3>关键信源：</h3> 
<h4>CellAccessRelatedInfo</h4> 
<p><img alt="" height="466" src="https://images2.imgbox.com/4c/82/4a2uVBLB_o.png" width="1146"></p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/d8/30/QMGDHcos_o.png" width="1021"></p> 
<h4>获取服务PLMN和NCGI：根据MSG5和SIB1::CellAccessRelatedInfo</h4> 
<p class="img-center"><img alt="" height="266" src="https://images2.imgbox.com/34/27/i1l3qKvr_o.png" width="600"></p> 
<h2>5G NR SIB1 介绍</h2> 
<h3><span style="background-color:#ed7976;">消息</span>概述：</h3> 
<p>        SIB1携带UE接入小区所需的最关键的信息，例如随机接入参数。<span style="background-color:#a2e043;">SIB1包括关于其他SIB的可用性和调度的信息。</span>SIB1还指示是否仅按需提供一个或多个SIB，在这种情况下，它还可以提供UE所需的PRACH配置，以请求所需的SI 。</p> 
<p>        SIB1包含在评估UE是否被允许访问小区时定义的信息，并定义其他系统信息的调度。SIB1还包含<span style="background-color:#38d8f0;">所有UE共有的无线电资源配置信息</span>和应用于<span style="background-color:#38d8f0;">统一接入控制的小区禁止信息</span>。    </p> 
<p>        SIB1是小区特定的SIB，为了使UE解码SIB1,UE从MIB获得所有需要的信息。</p> 
<p>        5G SIB1在DL-SCH（逻辑信道：BCCH）上以160ms的周期和160ms内的可变传输重复周期来发送SIB1。而4G SIB1发送周期为80ms。<span style="background-color:#38d8f0;">5G(NR)中SIB消息有两种，一种是周期性广播，另一种是根据UE请求（ on-Demand）发送；</span></p> 
<h3><span style="background-color:#ed7976;">消息</span>参数：</h3> 
<pre><code class="language-cpp">-- ASN1START
-- TAG-SIB1-START
 
SIB1 ::=        SEQUENCE {
    cellSelectionInfo                   SEQUENCE {
        q-RxLevMin                          Q-RxLevMin,
        q-RxLevMinOffset                    INTEGER (1..8)                        OPTIONAL，-- Need S
        q-RxLevMinSUL                       Q-RxLevMin                            OPTIONAL,   -- Need R
        q-QualMin                           Q-QualMin                             OPTIONAL,   -- Need S
        q-QualMinOffset                     INTEGER (1..8)                        OPTIONAL    -- Need S
    }                                                                             OPTIONAL,   -- Cond Standalone
    cellAccessRelatedInfo               CellAccessRelatedInfo,
    connEstFailureControl               ConnEstFailureControl                     OPTIONAL,   -- Need R
    si-SchedulingInfo                   SI-SchedulingInfo                         OPTIONAL,   -- Need R
    servingCellConfigCommon             ServingCellConfigCommonSIB                OPTIONAL,   -- Need R
    ims-EmergencySupport                ENUMERATED {true}                         OPTIONAL,   -- Need R
    eCallOverIMS-Support                ENUMERATED {true}                         OPTIONAL,   -- Cond Absent
    ue-TimersAndConstants               UE-TimersAndConstants                     OPTIONAL,   -- Need R
 
    uac-BarringInfo                     SEQUENCE {
        uac-BarringForCommon                UAC-BarringPerCatList                 OPTIONAL,   -- Need S
        uac-BarringPerPLMN-List             UAC-BarringPerPLMN-List               OPTIONAL,   -- Need S
        uac-BarringInfoSetList              UAC-BarringInfoSetList,
        uac-AccessCategory1-SelectionAssistanceInfo CHOICE {
            plmnCommon                        UAC-AccessCategory1-SelectionAssistanceInfo,
            individualPLMNList                   SEQUENCE (SIZE (2..maxPLMN)) OF UAC-AccessCategory1-SelectionAssistanceInfo
        }                                                                         OPTIONAL    -- Need S
    }                                                                             OPTIONAL,   -- Need R
 
    useFullResumeID                     ENUMERATED {true}                         OPTIONAL,   -- Need N
 
    lateNonCriticalExtension            OCTET STRING                              OPTIONAL,
    nonCriticalExtension                SEQUENCE{}                                OPTIONAL
}
 
UAC-AccessCategory1-SelectionAssistanceInfo ::=    ENUMERATED {a, b, c}
 
-- TAG-SIB1-STOP
-- ASN1STOP</code></pre> 
<h4><span style="background-color:#ffd900;">cellSelectionInfo:小区选择信息</span></h4> 
<ul><li>        q-RxLevMin: 用于指示（NR）小区中用于<span style="background-color:#38d8f0;">小区选择和重选所需的“最低接收RSRP电平”</span>（以dBm为单位）。 实际值Qrxlevmin =字段值* 2 [dBm]。</li><li>        q-RxLevMinOffset:是一个偏移量（以dB为单位），需要添加到Qrxlevmin的信号值（非实际值）中。 在UE正常驻留在VPLMN上时，定期搜索更高优先级的PLMN之后，在Srxlev评估中考虑了这一点。 如果不存在该字段，则UE应用0 dB的（默认）值作为偏移量。</li><li>        q-RxLevMinSUL:如果UE支持该小区的SUL频率，则从该字段获得Qrxlevmin。实际值Qrxlevmin =字段值* 2 [dBm]。</li><li>        q-QualMin:用于指示（NR）小区中用于<span style="background-color:#38d8f0;">小区选择和重新选择所需的“最小接收RSRQ电平”</span>（以dB为单位）。 如果不存在此字段，则UE对Qqualmin应用负无穷大的（默认）值，这意味着质量（RSRQ）检查将始终通过，而与接收信号质量无关。 </li><li>        q-QualMinOffset:是一个偏移量（以dB为单位），需要添加到Qqualmin的信号值中。 在UE正常驻留在VPLMN上时，定期搜索更高优先级的PLMN后，在Squal评估（38.304）中考虑了这一点。 如果不存在该字段，则UE应用0 dB的（默认）值作为偏移量。</li></ul> 
<p><span style="background-color:#fe2c24;">cellAccessRelatedInfo:小区接入相关信息</span></p> 
<ul><li>        cellReservedForOtherUse：指示是否保留该单元格。该字段适用于所有PLMN。<span style="background-color:#e6b223;">如果保留了小区，则除了特定的UE之外，不允许驻留。</span></li><li>        plmn-IdentityList：<span style="background-color:#a2e043;">用于配置一组PLMN-IdentityInfoList元素</span>。这些元素中的每一个都包含一个或多个PLMN身份的列表以及与这些PLMN相关的其他信息，例如TAC，RANAC，cellIdentity等。</li></ul> 
<blockquote> 
 <p><strong><strong>        plmn-Identity</strong></strong></p> 
 <p><strong><strong>                MCC：</strong></strong>国家码</p> 
 <p><strong><strong>                MNC：</strong></strong>移动网络码</p> 
 <p><strong><strong>        trackingAreaCode：</strong></strong>跟踪区域码</p> 
 <p><strong><strong>        cellIdentity：小区识别ID</strong></strong></p> 
</blockquote> 
<ul><li>connEstFailureControl:连接失败重建控制</li><li><span style="background-color:#a2e043;">ims-EmergencySupport:IMS紧急支持指示</span></li><li>eCallOverIMS-Support:IMS对eCall支持指示</li><li>ue-TimersAndConstants:UE计时器和定义</li><li>uac-BarringInfo:UAC禁止信息</li></ul> 
<h4><span style="background-color:#fbd4d0;">si-SchedulingInfo(SI调度信息)</span></h4> 
<p><em><em>SI-SchedulingInfo </em></em>information element</p> 
<pre><code>-- ASN1START
-- TAG–SI-SCHEDULINGINFO-START
 
SI-SchedulingInfo ::=               SEQUENCE {
    schedulingInfoList                  SEQUENCE (SIZE (1..maxSI-Message)) OF SchedulingInfo,
    si-WindowLength                     ENUMERATED {s5, s10, s20, s40, s80, s160, s320, s640, s1280},
    si-RequestConfig                    SI-RequestConfig                         OPTIONAL,  -- Cond MSG-1
    si-RequestConfigSUL                 SI-RequestConfig                         OPTIONAL,  -- Cond SUL-MSG-1
    systemInformationAreaID             BIT STRING (SIZE (24))                   OPTIONAL,   -- Need R
    ...
}
 
SchedulingInfo ::=                  SEQUENCE {
    si-BroadcastStatus                  ENUMERATED {broadcasting, notBroadcasting},
    si-Periodicity                      ENUMERATED {rf8, rf16, rf32, rf64, rf128, rf256, rf512},
    sib-MappingInfo                     SIB-Mapping
}
 
SIB-Mapping ::=                     SEQUENCE (SIZE (1..maxSIB)) OF SIB-TypeInfo
 
SIB-TypeInfo ::=                    SEQUENCE {
    type                                ENUMERATED {sibType2, sibType3, sibType4, sibType5, sibType6, sibType7, sibType8, 						sibType9,spare8, spare7, spare6, spare5, spare4, spare3, spare2, spare1,... },
    valueTag                            INTEGER (0..31)                          OPTIONAL, -- Cond SIB-TYPE
    areaScope                           ENUMERATED {true}                        OPTIONAL -- Need S
}
 
-- Configuration for Msg1 based SI Request
SI-RequestConfig::=                 SEQUENCE {
    rach-OccasionsSI                    SEQUENCE {
        rach-ConfigSI                       RACH-ConfigGeneric,
        ssb-perRACH-Occasion                ENUMERATED {oneEighth, oneFourth, oneHalf, one, two, four, eight, sixteen}
    }                                                                            OPTIONAL,   -- Need R
    si-RequestPeriod            ENUMERATED {one,two,four,six,eight,ten,twelve,sixteen}    OPTIONAL,-- Need R
    si-RequestResources             SEQUENCE (SIZE (1..maxSI-Message)) OF SI-RequestResources
}
 
SI-RequestResources ::=             SEQUENCE {
    ra-PreambleStartIndex               INTEGER (0..63),
    ra-AssociationPeriodIndex           INTEGER (0..15)                          OPTIONAL,   -- Need R
    ra-ssb-OccasionMaskIndex            INTEGER (0..15)                          OPTIONAL    -- Need R
}
 
-- TAG-SI-SCHEDULINGINFO-STOP
-- ASN1STOP</code></pre> 
<ul><li>si-BroadcastStatus:SI发送方式；</li><li>si-Periodicity：SI发送周期</li><li><span style="background-color:#fe2c24;">sib-MappingInfo：SIB到SI的映射</span></li><li>si-WindowLength：SI窗长</li></ul> 
<p>该信元指明了各个SI的调度方式，基本原理为：</p> 
<ul><li><span style="background-color:#a2e043;">基站广播哪些SI消息，由SIB1::schedulingInfoList指定，每个SI消息在该列表中的顺序以n表示（从1开始）。</span><span style="background-color:#ffd7b9;">假如schedulingInfoList中指定了4个SI消息，则会有4个</span><span style="background-color:#fe2c24;">连续</span><span style="background-color:#ffd7b9;">的SI窗口用于发送这4个SI消息，而n表明了SI消息在第几个SI窗口。</span></li><li><span style="background-color:#ff9900;">每个SI消息对应一个SI窗口，窗长由si-WindowLength决定，单位为slot；</span></li><li>每个SI消息的发送周期，由si-Periodicity指定，单位为无线帧；</li><li><span style="background-color:#a2e043;">每个SI消息装载</span><span style="background-color:#fe2c24;">哪些</span><span style="background-color:#a2e043;">SIBx，由SchedulingInfo::sib-MappingInfo字段指定（可以装载多个SIBx）；</span></li><li>对于某个SI消息，对应的SchedulingInfo信元在schedulingInfoList中对应的入口编号为n，可以确定调度位置x = (n-1)*w，其中w是si-Window的长度； <p class="img-center"><img alt="52ca1a7ad18e425a84848a8b5261a0ca.png" height="277" src="https://images2.imgbox.com/19/ba/rEDHND2Z_o.png" width="200"></p> </li></ul> 
<h4><strong>servingCellConfigCommon(服务小区公共配置)</strong></h4> 
<p><em><em>ServingCellConfigCommon </em></em>information element</p> 
<pre><code>-- ASN1START
-- TAG-SERVINGCELLCONFIGCOMMON-START
 
ServingCellConfigCommon ::=         SEQUENCE {
    physCellId                          PhysCellId                                       OPTIONAL,   -- Cond HOAndServCellAdd,
    downlinkConfigCommon                DownlinkConfigCommon                OPTIONAL,   -- Cond HOAndServCellAdd
    uplinkConfigCommon                  UplinkConfigCommon                OPTIONAL,   -- Need M
    supplementaryUplinkConfig           UplinkConfigCommon                OPTIONAL,   -- Need S
    n-TimingAdvanceOffset               ENUMERATED { n0, n25600, n39936 }    OPTIONAL,   -- Need S
    ssb-PositionsInBurst                CHOICE {
        shortBitmap                         BIT STRING (SIZE (4)),
        mediumBitmap                        BIT STRING (SIZE (8)),
        longBitmap                          BIT STRING (SIZE (64))
    }                                                                         OPTIONAL, -- Cond AbsFreqSSB
    ssb-periodicityServingCell          ENUMERATED { ms5, ms10, ms20, ms40, ms80, ms160, spare2, spare1 }   OPTIONAL, -- Need S
    dmrs-TypeA-Position                 ENUMERATED {pos2, pos3},
    lte-CRS-ToMatchAround               SetupRelease { RateMatchPatternLTE-CRS }       OPTIONAL, -- Need M
    rateMatchPatternToAddModList        SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPattern   OPTIONAL, -- Need N
    rateMatchPatternToReleaseList       SEQUENCE (SIZE (1..maxNrofRateMatchPatterns)) OF RateMatchPatternId OPTIONAL, -- Need N
    ssbSubcarrierSpacing                SubcarrierSpacing                                 OPTIONAL, -- Cond HOAndServCellWithSSB
    tdd-UL-DL-ConfigurationCommon       TDD-UL-DL-ConfigCommon           OPTIONAL, -- Cond TDD
    ss-PBCH-BlockPower                  INTEGER (-60..50),
    ...
}
 
 
-- TAG-SERVINGCELLCONFIGCOMMON-STOP
-- ASN1STOP</code></pre> 
<ul><li>downlinkConfigCommon：下行公共参数配置，包括下行频点配置、初始下行BWP，BCCH和PCCH配置</li><li>uplinkConfigCommon：上行公共参数配置，包括上行频点配置、初始上行BWP和TA；</li><li>supplementaryUplinkConfig：SUL小区上行公共参数配置，包括上行频点配置、初始上行BWP和TA；</li><li>ssb-periodicityServingCell：SSB周期；<br>  </li></ul> 
<h3><strong>SIBx与SI的区别</strong></h3> 
<p>        SIBx是SIB消息的功能分类，是按照功能来划分的。</p> 
<p>        SI是SIB消息的调度分类，是按照一次调度来划分的，<strong>一个SI消息</strong>可以包含多个SIBx消息。</p> 
<p>        每个SI消息的发送时机都被限制在一个独立的窗口之内，这个窗口也被叫做SI窗口，如下图所示：</p> 
<p class="img-center"><img alt="" height="95" src="https://images2.imgbox.com/e8/48/Ib8BalRd_o.png" width="500"></p> 
<p>       <span style="background-color:#fe2c24;"> 每个SI消息对应着一个SI窗口</span>，这些不同的SI窗口并不会重叠，<span style="background-color:#fe2c24;">在某个SI窗口内，只有这个SI窗口对应的SI消息才会被传输，其他的SI消息不会发送。</span></p> 
<p>        <span style="background-color:#a2e043;">所有SI消息的窗口长度都是相等的，值可以在SIB1中配置。</span>在一个SI窗口内，该窗口对应的SI消息可以发送多次，且可以在任意子帧中发送，当然这些子帧不包括MBSFN子帧、TDD上行子帧和被SIB1占用的发送子帧。</p> 
<p>        <span style="background-color:#fbd4d0;">从图中可以看到，相邻两个SI窗口之间的距离就是该SI的周期长度，每个SI的周期长度也是在SIB1中配置的。</span>在一个SI窗口内，SI消息可以在多个子帧中连续发送，也可以跳过某个子帧不发送。</p> 
<h3 style="margin-left:0;text-align:justify;">Network Identities（38300/8.2）</h3> 
<blockquote> 
 <p style="margin-left:0;">The following identities are used in NG-RAN for identifying a specific network entity:</p> 
 <p style="margin-left:28.4pt;">-    AMF Name: used to identify an AMF.</p> 
 <p style="margin-left:28.4pt;">-    <span style="background-color:#00ffff;">NR Cell Global Identifier (NCGI)</span>: used to <span style="background-color:#c0c0c0;">identify NR cells globally</span>. The NCGI is constructed from the <span style="background-color:#00ffff;">PLMN identity</span> the cell belongs to and the <span style="background-color:#00ffff;">NR Cell Identity (NCI)</span> of the cell. <span style="background-color:#38d8f0;">The PLMN ID included in the NCGI should be the first PLMN ID within the set of PLMN IDs associated to the NR Cell Identity in SIB1, following the order of broadcast.</span></p> 
 <p style="margin-left:56.75pt;">NOTE 1:   How to manage the scenario where a different PLMN ID has been allocated by the operator for an NCGI is left to OAM and/or implementation.</p> 
 <p style="margin-left:28.4pt;">-    gNB Identifier (gNB ID): used to identify gNBs within a PLMN. The gNB ID is contained within the NCI of its cells.</p> 
 <p style="margin-left:28.4pt;">-    Global gNB ID: used to identify gNBs globally. <span style="background-color:#4da8ee;">The Global gNB ID is constructed from the PLMN identity the gNB belongs to and the gNB ID</span>. The MCC and MNC are the same as included in the NCGI.</p> 
 <p style="margin-left:56.75pt;">NOTE 2:   It is not precluded that a cell served by a gNB does not broadcast the PLMN ID included in the Global gNB ID.</p> 
 <p style="margin-left:28.4pt;">-    Tracking Area identity (TAI): used to identify tracking areas. The TAI is constructed from the <span style="background-color:#a2e043;">PLMN identity</span> the tracking area belongs to and the <span style="background-color:#a2e043;">TAC (Tracking Area Code)</span> of the Tracking Area.</p> 
 <p style="margin-left:28.4pt;">-    Single Network Slice Selection Assistance information (S-NSSAI): identifies a network slice.</p> 
 <p style="margin-left:28.4pt;">-    Network Identifier (NID): identifies an SNPN in combination with a PLMN ID.</p> 
 <p style="margin-left:28.4pt;">-    <span style="background-color:#a2e043;">Closed Access Group Identifier: identifies a CAG within a PLMN.</span></p> 
 <p style="margin-left:28.4pt;">-    Local NG-RAN Node Identifier: used as reference to the NG-RAN node in the I-RNTI.</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6be161ad020dc01c6ff3db8491b47d6a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">汽车ECU完整介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/655e897a2db4622eeeac49b9259dcab7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【区块链实战】如何搭建以太网智能合约私网</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>