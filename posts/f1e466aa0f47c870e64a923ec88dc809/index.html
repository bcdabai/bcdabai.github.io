<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第一章：Linux常用命令&#43;VIM&#43;SSH介绍&#43;SSH密钥登录 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第一章：Linux常用命令&#43;VIM&#43;SSH介绍&#43;SSH密钥登录" />
<meta property="og:description" content="目录
一、Linux常用命令
1）# 与 $ 提示的区别
2）ifconfig
3） su
4） cd
5） 目录查看
6） 查看文件内容
7）创建目录及文件
8）复制和移动
9）其他
10） tar
11） which
12） whereis
13） find
14） chmod
二、vim一般使用
三、SSH介绍
1） 什么是SSH
2）SSH服务端和客户端
3）基本工作机制
四、SSH密钥登录
1） 首先在服务器中创建密钥对
2）在服务器中安装公钥
3） 设置文件权限
5）重启ssh服务
一、Linux常用命令 1）# 与 $ 提示的区别 &#39;#&#39; 表示用户有root权限，一般的以root用户登录提示符为#
&#39;$&#39;提示符表示用户为普通用户
2）ifconfig 查看ip地址
eno1: 代表由主板bios内置的网卡ens1：代表主板bios内置的PCI_E网卡enp2s0： PCI-E独立网卡eth0: 如果以上都不用，则返回默认的网卡名 ens33则属于第二种类型，即说明你的网卡是内置的PCI-E网卡，
这是由网卡特性命名的可以在 /etc/sysconfig/network-scripts/ifcfg-ens33修改名字
如果提示“未找到命令”，则需要安装net-tools工具包。
（centos系统中运行： yum install net-tools）
3） su 命令格式
su 用户名 linux用户切换，切换到root用户需要输入密码。临时使用root权限使用 sudo" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f1e466aa0f47c870e64a923ec88dc809/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-05T09:58:10+08:00" />
<meta property="article:modified_time" content="2023-07-05T09:58:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第一章：Linux常用命令&#43;VIM&#43;SSH介绍&#43;SSH密钥登录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a name="798"></a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" rel="nofollow">一、Linux常用命令</a></p> 
<p id="1%EF%BC%89%23%20%E4%B8%8E%20%24%20%E6%8F%90%E7%A4%BA%E7%9A%84%E5%8C%BA%E5%88%AB-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%23%20%E4%B8%8E%20%24%20%E6%8F%90%E7%A4%BA%E7%9A%84%E5%8C%BA%E5%88%AB" rel="nofollow">1）# 与 $ 提示的区别</a></p> 
<p id="2%EF%BC%89ifconfig-toc" style="margin-left:80px;"><a href="#2%EF%BC%89ifconfig" rel="nofollow">2）ifconfig</a></p> 
<p id="3%EF%BC%89%20su-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%20su" rel="nofollow">3） su</a></p> 
<p id="4%EF%BC%89%20cd-toc" style="margin-left:80px;"><a href="#4%EF%BC%89%20cd" rel="nofollow">4） cd</a></p> 
<p id="5%EF%BC%89%20%E7%9B%AE%E5%BD%95%E6%9F%A5%E7%9C%8B-toc" style="margin-left:80px;"><a href="#5%EF%BC%89%20%E7%9B%AE%E5%BD%95%E6%9F%A5%E7%9C%8B" rel="nofollow">5） 目录查看</a></p> 
<p id="6%EF%BC%89%20%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9-toc" style="margin-left:80px;"><a href="#6%EF%BC%89%20%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9" rel="nofollow">6） 查看文件内容</a></p> 
<p id="7%EF%BC%89%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%8F%8A%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#7%EF%BC%89%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%8F%8A%E6%96%87%E4%BB%B6" rel="nofollow">7）创建目录及文件</a></p> 
<p id="8%EF%BC%89%E5%A4%8D%E5%88%B6%E5%92%8C%E7%A7%BB%E5%8A%A8-toc" style="margin-left:80px;"><a href="#8%EF%BC%89%E5%A4%8D%E5%88%B6%E5%92%8C%E7%A7%BB%E5%8A%A8" rel="nofollow">8）复制和移动</a></p> 
<p id="9%EF%BC%89%E5%85%B6%E4%BB%96-toc" style="margin-left:80px;"><a href="#9%EF%BC%89%E5%85%B6%E4%BB%96" rel="nofollow">9）其他</a></p> 
<p id="10%EF%BC%89%20tar-toc" style="margin-left:80px;"><a href="#10%EF%BC%89%20tar" rel="nofollow">10） tar</a></p> 
<p id="11%EF%BC%89%20which-toc" style="margin-left:80px;"><a href="#11%EF%BC%89%20which" rel="nofollow">11） which</a></p> 
<p id="12%EF%BC%89%20whereis-toc" style="margin-left:80px;"><a href="#12%EF%BC%89%20whereis" rel="nofollow">12） whereis</a></p> 
<p id="13%EF%BC%89%20find-toc" style="margin-left:80px;"><a href="#13%EF%BC%89%20find" rel="nofollow">13） find</a></p> 
<p id="14%EF%BC%89%20chmod-toc" style="margin-left:80px;"><a href="#14%EF%BC%89%20chmod" rel="nofollow">14） chmod</a></p> 
<p id="%E4%BA%8C%E3%80%81vim%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81vim%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8" rel="nofollow">二、vim一般使用</a></p> 
<p id="%E4%B8%89%E3%80%81SSH%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81SSH%E4%BB%8B%E7%BB%8D" rel="nofollow">三、SSH介绍</a></p> 
<p id="1%EF%BC%89%20%E4%BB%80%E4%B9%88%E6%98%AFSSH-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%20%E4%BB%80%E4%B9%88%E6%98%AFSSH" rel="nofollow">1） 什么是SSH</a></p> 
<p id="2%EF%BC%89SSH%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF-toc" style="margin-left:80px;"><a href="#2%EF%BC%89SSH%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF" rel="nofollow">2）SSH服务端和客户端</a></p> 
<p id="3%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6" rel="nofollow">3）基本工作机制</a></p> 
<p id="%E5%9B%9B%E3%80%81SSH%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81SSH%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95" rel="nofollow">四、SSH密钥登录</a></p> 
<p id="1%EF%BC%89%20%E9%A6%96%E5%85%88%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%86%E9%92%A5%E5%AF%B9-toc" style="margin-left:80px;"><a href="#1%EF%BC%89%20%E9%A6%96%E5%85%88%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%86%E9%92%A5%E5%AF%B9" rel="nofollow">1） 首先在服务器中创建密钥对</a></p> 
<p id="2%EF%BC%89%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85%E5%85%AC%E9%92%A5-toc" style="margin-left:80px;"><a href="#2%EF%BC%89%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85%E5%85%AC%E9%92%A5" rel="nofollow">2）在服务器中安装公钥</a></p> 
<p id="3%EF%BC%89%20%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90-toc" style="margin-left:80px;"><a href="#3%EF%BC%89%20%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" rel="nofollow">3） 设置文件权限</a></p> 
<p id="5%EF%BC%89%E9%87%8D%E5%90%AFssh%E6%9C%8D%E5%8A%A1-toc" style="margin-left:80px;"><a href="#5%EF%BC%89%E9%87%8D%E5%90%AFssh%E6%9C%8D%E5%8A%A1" rel="nofollow">5）重启ssh服务</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>一、Linux常用命令</h2> 
<h4 id="1%EF%BC%89%23%20%E4%B8%8E%20%24%20%E6%8F%90%E7%A4%BA%E7%9A%84%E5%8C%BA%E5%88%AB"><span style="color:#4da8ee;">1）# 与 $ 提示的区别</span></h4> 
<blockquote> 
 <p>'#' 表示用户有root权限，一般的以root用户登录提示符为#</p> 
 <p>'$'提示符表示用户为普通用户</p> 
</blockquote> 
<h4 id="2%EF%BC%89ifconfig"><span style="color:#4da8ee;">2）ifconfig</span></h4> 
<blockquote> 
 <p>查看ip地址</p> 
 <ul><li>eno1: 代表由主板bios内置的网卡</li><li>ens1：代表主板bios内置的PCI_E网卡</li><li>enp2s0： PCI-E独立网卡</li><li>eth0: 如果以上都不用，则返回默认的网卡名</li></ul> 
 <p>ens33则属于第二种类型，即说明你的网卡是内置的PCI-E网卡，<br> 这是由网卡特性命名的可以在 <strong> /etc/sysconfig/network-scripts/ifcfg-ens33修改名字</strong></p> 
 <p><span style="color:#fe2c24;">如果提示“未找到命令”，则需要安装net-tools工具包。<br> （centos系统中运行： yum install net-tools）</span></p> 
</blockquote> 
<h4 id="3%EF%BC%89%20su"><span style="color:#4da8ee;">3） su</span></h4> 
<blockquote> 
 <p>命令格式</p> 
</blockquote> 
<pre><code>su 用户名
</code></pre> 
<blockquote> 
 <p>linux用户切换，切换到root用户需要输入密码。临时使用root权限使用 sudo</p> 
</blockquote> 
<h4 id="4%EF%BC%89%20cd"><span style="color:#4da8ee;">4） cd</span></h4> 
<blockquote> 
 <p>cd 目录名 进入目录<br> cd .. 返回上级目录<br> cd ~ 进入当前用户的home目录</p> 
</blockquote> 
<h4 id="5%EF%BC%89%20%E7%9B%AE%E5%BD%95%E6%9F%A5%E7%9C%8B"><span style="color:#4da8ee;">5） 目录查看</span></h4> 
<blockquote> 
 <p>ls 显示当前目录下的所有文件及子目录<br> ll 以详细信息的方式展示当前目录下的文件及子目录<br> dir 显示当前目录下的所有文件<br> pwd 显示当前路径<br> clear 清空屏幕显示</p> 
</blockquote> 
<h4 id="6%EF%BC%89%20%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span style="color:#4da8ee;">6） 查看文件内容</span></h4> 
<blockquote> 
 <p>cat 只可以查看内容不能编辑<br> vi或vim 可查看可编辑</p> 
</blockquote> 
<h4 id="7%EF%BC%89%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%8F%8A%E6%96%87%E4%BB%B6"><span style="color:#4da8ee;">7）创建目录及文件</span></h4> 
<blockquote> 
 <p>mkdir 创建目录，<br> 语法： mkdir -选项 -参数<br> 选项:</p> 
 <ol><li>-m 创建目录时同时设置文件的权限</li><li>-p 如果上级目录没有创建，即创建输入路径上的所有目录</li></ol> 
 <p>touch 创建文件</p> 
</blockquote> 
<h4 id="8%EF%BC%89%E5%A4%8D%E5%88%B6%E5%92%8C%E7%A7%BB%E5%8A%A8"><span style="color:#4da8ee;">8）复制和移动</span></h4> 
<blockquote> 
 <p>cp 复制<br> 示例：</p> 
 <ul><li> <p>将文件cangls复制奥tmp目录下<br> cp cangls /tmp/</p> </li><li> <p>将目录/root/movie下的所有内容， 复制到 tmp目录下（注意：-r 参数有递归复制的意思）<br> cp -r /root/movie/ /tmp/</p> </li></ul> 
 <p>mv 移动或重命名<br> 语法：mv [options] source dest<br> 参数说明：<br> -i 若指定目录已有同名文件， 则先询问是否覆盖旧文件，i有交互的意思<br> -f 在mv操作要覆盖某已有的目标文件时不给任何提示，直接覆盖。</p> 
</blockquote> 
<h4 id="9%EF%BC%89%E5%85%B6%E4%BB%96"><span style="color:#4da8ee;">9）其他</span></h4> 
<blockquote> 
 <p>reboot 重启系统<br> shutdown -r now 重启<br> shutdown -h row 关机<br> cat /etc/issue 查看当前正在运行的ubuntu的版本号</p> 
</blockquote> 
<h4 id="10%EF%BC%89%20tar">10） tar</h4> 
<blockquote> 
 <p>命令格式： tar [参数] 文件<br> 常用参数：<br> x: 从压缩的文件中提取文件 （解压）<br> c: 建立新的压缩文件（加压）<br> t：显示压缩的文件<br> v: 显示操作过程<br> z: 通过gzip指令来处理备份文件</p> 
</blockquote> 
<blockquote> 
 <p><span style="color:#fe2c24;">示例：</span><br> tar -czvf test.tar.gz a.c 作用： 压缩 a.c文件为test.tar.gz</p> 
 <p>tar -tzvf test.tar.gz 作用： 列出test.tar.gz中包含的文件。</p> 
 <p>tar -xzvf test.tar.gz 作用： 解压文件</p> 
 <p>tar --exclude=abc/1.txt -zcvf abc.tgz abc 作用： 将文件 abc 进行压缩时，排除1.txt，压缩后的文件名为 abc.tgz</p> 
</blockquote> 
<h4 id="11%EF%BC%89%20which"><span style="color:#4da8ee;">11） which</span></h4> 
<blockquote> 
 <p>查找可执行文件的位置<br> 示例： which ifconfig</p> 
</blockquote> 
<h4 id="12%EF%BC%89%20whereis"><span style="color:#4da8ee;">12） whereis</span></h4> 
<blockquote> 
 <p>查找文件的位置</p> 
</blockquote> 
<h4 id="13%EF%BC%89%20find"><span style="color:#4da8ee;">13） find</span></h4> 
<blockquote> 
 <p>查找文件或目录<br> 格式： find [位置] [选项] 文件名 -print<br> 示例：</p> 
 <ul><li> <p>查找etc目录中，所有文件名以host开头的文件。<br> find /etc -name 'host*'</p> </li><li> <p>查找当前用户的home目录中所有的log文件<br> find ~ -name "*.log" -print</p> </li><li> <p>查找当前目录及子目录中文件名以一个大写字母开头的文件<br> find . -name "[A-Z]*" -print</p> </li><li> <p>从根目录查找文件名为test开头的所有文件<br> find / -name "test*" -print</p> </li><li> <p>当前目录下查找文件权限位为755的文件，即文件属主可以读、写、执行，其他用户可以读、执行的文件<br> find . -perm 755 -print</p> </li><li> <p>在$HOME目录中查找文件属主为test的文件 <br> find ~ -user test -print</p> </li><li> <p>查找属主帐户已经被删除的文件，可以使用-nouser选项。在/home目录下查找所有的这类文件<br> find /home -nouser -print</p> </li><li> <p>在/apps目录下查找属于gem用户组的文件<br> find /apps -group gem -print</p> </li><li> <p>查找没有有效所属用户组的所有文件<br> find / -nogroup -print</p> </li><li> <p>从根目录开始查找5天内被更改的文件<br> find / -mtime -5 -print</p> </li><li> <p>在目录/etc中查找3日之前更改的文件<br> find /etc -mtime +3 -print</p> </li><li> <p>在/etc目录下查找所有的目录<br> find /etc -type d -print</p> </li><li> <p>在/etc目录下查找所有的符号链接文件<br> find /etc -type l -print</p> </li></ul> 
</blockquote> 
<h4 id="14%EF%BC%89%20chmod"><span style="color:#4da8ee;">14） chmod</span></h4> 
<blockquote> 
 <p>改变文件的存取权限<br> 命令格式：<br> chmod [options] mode files</p> 
 <p>mode：</p> 
 <ul><li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是</li><li> 
   <ul><li>表示增加权限、- 表示取消权限、= 表示唯一设定权限</li></ul></li><li>r 表示可读取，w 表示可写入，x 表示可执行</li></ul> 
 <p>options：</p> 
 <ul><li>-c : 若该文件权限确实已经更改，才显示其更改动作</li><li>-f： 文件权限无法修改，不显示错误信息</li><li>-r： 对当前目录下的所有文件和子目录进行递归修改</li></ul> 
 <p>示例:</p> 
 <ul><li> <p>给file文件的所有者增加可执行权限<br> chmod u+x file</p> </li><li> <p>给file的所有者分配读、写、执行(7)的权限，给file的所在组分配读、执行(5)的权限，给其他用户分配执行(1)的权限<br> 第一种方式： chmod 751 file<br> 第二种方式： chmod u=rwx, g=rx, o=x file</p> </li><li> <p>为所有用户分配读权限<br> chmod =r file<br> chmod a-wx, a+r file<br> 这两种命令作用相同</p> </li><li> <p>递归地给directory目录下所有文件和子目录的所有者分配读的权限<br> chmod -r u+r directory</p> </li></ul> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81vim%E4%B8%80%E8%88%AC%E4%BD%BF%E7%94%A8">二、vim一般使用</h2> 
<blockquote> 
 <p><span style="color:#fe2c24;">i 进入编辑模式，vim打开文件后，默认在命令模式，点击i键方可进入编辑模式<br> esc 点击esc键退出编辑模式，这是可以输入':'输入命令。</span></p> 
</blockquote> 
<table><thead><tr><th>符号</th><th>意义</th></tr></thead><tbody><tr><td>i</td><td>进入编辑模式，vim打开文件后，默认在命令模式，点击i键方可进入编辑模式</td></tr><tr><td>esc</td><td>退出编辑模式，进入命令模式</td></tr><tr><td>:w</td><td>写入</td></tr><tr><td>:q</td><td>退出，如果修改了内容则这种不能退出，如果需要强制退出则使用q!</td></tr><tr><td>:wq</td><td>写入并退出</td></tr><tr><td>:q!</td><td>强制退出，不写入</td></tr><tr><td>dd</td><td>删除当前行（编辑模式下）</td></tr><tr><td>ndd</td><td>删除n行（编辑模式下）</td></tr><tr><td>/string</td><td>搜索字符串（编辑模式下）, 按n查找下一个，N上一个，/str$表示匹配行尾的str， 在查找模式中加入\c表示大小写不敏感查找，\C表示大小写敏感查找，例如：/foo\c将会查找所有的"foo","FOO","Foo"等字符串</td></tr><tr><td>:s</td><td>（substitute）命令用来查找和替换字符串，语法：:{作用范围}s/{目标}/{替换}/{替换标志}； 例如:%s/foo/bar/g会在全局范围(%)查找foo并替换为bar，所有出现都会被替换（g），:s/foo/bar/g 替换当前行，:%s /foo/bar /g 全局替换</td></tr><tr><td>:%d</td><td>%是匹配所有行，d是删除的意思， 该命令将清空打开的文件的内容</td></tr><tr><td>:$</td><td>跳到文件尾部</td></tr><tr><td>:n</td><td>跳到n行</td></tr><tr><td>u</td><td>撤销上一步的操作</td></tr><tr><td>Ctrl+r</td><td>恢复上一步被撤销的操作</td></tr></tbody></table> 
<h2 id="%E4%B8%89%E3%80%81SSH%E4%BB%8B%E7%BB%8D">三、SSH介绍</h2> 
<h4 id="1%EF%BC%89%20%E4%BB%80%E4%B9%88%E6%98%AFSSH"><span style="color:#4da8ee;">1） 什么是SSH</span></h4> 
<blockquote> 
 <p>SSH是一种安全协议，主要用于给远程登录会话数据进行加密，保证数据传输的安全</p> 
</blockquote> 
<h4 id="2%EF%BC%89SSH%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF"><span style="color:#4da8ee;">2）SSH服务端和客户端</span></h4> 
<blockquote> 
 <p>SSH服务端是一个守护进程，一遍为sshd进程，在后端运行并响应来自客户端的请求。<br> SSH客户端常用的有BvSsh，SecureCRT，putty等。</p> 
</blockquote> 
<h4 id="3%EF%BC%89%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6"><span style="color:#4da8ee;">3）基本工作机制</span></h4> 
<blockquote> 
 <ul><li>客户端发送一个请求到服务端</li><li>服务端做数据验证，如包及ip地址等，在发送一个秘钥给ssh客户端</li><li>客户端再将密钥发回服务端，自此建立连接</li></ul> 
</blockquote> 
<h2 id="%E5%9B%9B%E3%80%81SSH%E5%AF%86%E9%92%A5%E7%99%BB%E5%BD%95">四、SSH密钥登录</h2> 
<h4 id="1%EF%BC%89%20%E9%A6%96%E5%85%88%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%86%E9%92%A5%E5%AF%B9"><span style="color:#4da8ee;">1） 首先在服务器中创建密钥对</span></h4> 
<pre><code>[root@localhost .ssh]# ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:+LTzDddLCyrFVb9bHRMnOssHgOGJbffji/NV5/hPAEA root@localhost.localdomain
The key's randomart image is:
+---[RSA 2048]----+
|        .+E      |
|       +....  o..|
|      . = ...o oo|
|       o . .=. o.|
|      . S. oo+. B|
|       o .o.oo.*+|
|        +.. +.= =|
|        .o.* = * |
|         .+o+ o +|
+----[SHA256]-----+
</code></pre> 
<blockquote> 
 <p>在创建的过程中会提示输入密码，在次不用输入，直接回车即可，创建的密钥对默认放当前登录用户的家目录下的.ssh目录中。</p> 
</blockquote> 
<h4 id="2%EF%BC%89%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E5%AE%89%E8%A3%85%E5%85%AC%E9%92%A5"><span style="color:#4da8ee;">2）在服务器中安装公钥</span></h4> 
<pre><code>[root@localhost .ssh]# cat id_rsa.pub &gt;&gt; authorized_keys
[root@localhost .ssh]# ls
authorized_keys  id_rsa  id_rsa.pub
</code></pre> 
<blockquote> 
 <p>注：此处特别要注意文件名称不能错误（包括大小写）, 存放公钥的文件名为: authorized_keys。多个用户多需要登录linux，每个用户都需要密钥，则可以只用上面的追加命令直接将多个用户的公钥直接追加进去即可。</p> 
</blockquote> 
<h4 id="3%EF%BC%89%20%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span style="color:#4da8ee;">3） 设置文件权限</span></h4> 
<pre><code>[root@localhost .ssh]# chmod 600 authorized_keys
[root@localhost .ssh]# chmod 700 ~/.ssh
</code></pre> 
<blockquote> 
 <p>设置ssh的配置文件 </p> 
</blockquote> 
<pre><code>[root@localhost .ssh]# vim /etc/ssh/sshd_config
</code></pre> 
<blockquote> 
 <p>修改如下的配置：</p> 
</blockquote> 
<pre><code># 加密算法
RSAAuthentication yes

# 使用密钥进行认证
PubkeyAuthentication yes
</code></pre> 
<h4 id="5%EF%BC%89%E9%87%8D%E5%90%AFssh%E6%9C%8D%E5%8A%A1"><span style="color:#4da8ee;">5）重启ssh服务</span></h4> 
<pre><code>[root@localhost .ssh]# systemctl restart sshd
</code></pre> 
<blockquote> 
 <p>1、拷贝私钥到PC端（注意：是私钥 id_rsa），使用软件导入秘钥，然后测试登录 </p> 
</blockquote> 
<p><strong>xshell配置如下：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/20/fa/eYM1L0Ib_o.png"></p> 
<p><strong> bitvise配置：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/55/1e/KkvO6asv_o.png"></p> 
<p><strong> 点击出现如下图：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/48/e5/WmMGaDCk_o.png"></p> 
<p> <img alt="" src="https://images2.imgbox.com/49/ea/W0fce5VU_o.png"></p> 
<h2 id="%C2%A0%E7%AC%AC%E4%B8%80%E7%AB%A0%E5%88%B0%E6%AD%A4%E7%BB%93%E6%9D%9F%EF%BC%8C%E5%B8%8C%E6%9C%9B%E5%8F%AF%E4%BB%A5%E6%9C%89%E4%B8%AA%E5%BC%80%E9%97%A8%E7%BA%A2"><span style="color:#fe2c24;"> 第一章到此结束，希望可以有个开门红</span></h2> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c6531d7989a24ebe9b73dd618363a2e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MybatisPlus元数据处理器源码探究：自动写入创建时间、创建人等。(包含反射浅度探究)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b86f996f8ede0bd135e82b0b1e1f471e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机网络基础知识详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>