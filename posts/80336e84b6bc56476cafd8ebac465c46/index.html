<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ios禁止网页放大缩小 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ios禁止网页放大缩小" />
<meta property="og:description" content="移动设备升级到iOS10了，发现了自带的Safari浏览器不再识别meta viewport了。以前我们都是用这个标签来让浏览器禁用缩放的。万恶的Apple~~
在iOS10之前都是通过
&lt; meta name = &#34;viewport&#34; content = &#34;width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no&#34; &gt; 来强制不让手机浏览器缩放的，但是升级到iOS10后Safari不再识别这个meta标签。所以得用js来hack一下：
禁用双指缩放：
document.documentElement.addEventListener( &#39;touchstart&#39;, function (event) { if (event.touches.length &gt; 1) { event.preventDefault(); } }, false); 禁用手指双击缩放：
var lastTouchEnd = 0; document.documentElement.addEventListener( &#39;touchend&#39;, function (event) { var now = Date.now(); if (now - lastTouchEnd &lt;= 300) { event.preventDefault(); } lastTouchEnd = now; }, false); 如果在iOS10的Safari中设置了viewport，其实双击放大也是不生效的，所以个人觉得在iOS10上比较好的解决方案是先设置viewport，然后再用js禁用双指缩放即可，无需再设置禁用双击缩放。
同时给出这个解决方案的作者还提出了一个有情提示，如果任何一个子元素的touch事件设置了stopPropagation阻止事件冒泡的话，可能还是会失效，而且在iOS10中你的输入框字体最好不要小于16px，否则iOS在输入框获得焦点时可能还是会强制放大。
原文地址：http://stackoverflow.com/questions/37808180/disable-viewport-zooming-ios-10-safari" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/80336e84b6bc56476cafd8ebac465c46/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-23T11:40:00+08:00" />
<meta property="article:modified_time" content="2017-08-23T11:40:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ios禁止网页放大缩小</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content-detail markdown-body"> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 移动设备升级到iOS10了，发现了自带的Safari浏览器不再识别meta <code style="font-family:Menlo, Monaco, Consolas, 'Lucida Console', 'Courier New', monospace;font-size:.92857em;color:rgb(185,74,72);">viewport</code>了。以前我们都是用这个标签来让浏览器禁用缩放的。万恶的Apple~~</p> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 在iOS10之前都是通过</p> 
 <div class="d_hl" style="border-top:1px solid rgb(232,233,234);border-right:1px solid rgb(232,233,234);border-left:1px solid rgb(232,233,234);border-bottom:none;line-height:22px;color:rgb(68,68,68);font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:614.656px;"> 
  <span class="d_hl_mk" style="color:rgb(0,0,255);">&lt;</span> 
  <span class="d_hl_lb" style="color:rgb(128,0,0);">meta</span>  
  <span class="d_hl_vn" style="color:rgb(255,0,0);">name</span> 
  <span class="d_hl_mk" style="color:rgb(0,0,255);">=</span> 
  <span class="d_hl_vl" style="color:rgb(0,0,255);">"viewport"</span>  
  <span class="d_hl_vn" style="color:rgb(255,0,0);">content</span> 
  <span class="d_hl_mk" style="color:rgb(0,0,255);">=</span> 
  <span class="d_hl_vl" style="color:rgb(0,0,255);">"width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"</span> 
  <span class="d_hl_mk" style="color:rgb(0,0,255);">&gt;</span> 
 </div> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 来强制不让手机浏览器缩放的，但是升级到iOS10后Safari不再识别这个meta标签。所以得用js来hack一下：<br> 禁用双指缩放：</p> 
 <div class="d_hl" style="border-top:1px solid rgb(232,233,234);border-right:1px solid rgb(232,233,234);border-left:1px solid rgb(232,233,234);border-bottom:none;line-height:22px;color:rgb(68,68,68);font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:614.656px;">
   document.documentElement.addEventListener( 
  <span class="d_hl_st" style="color:rgb(128,0,0);">'touchstart'</span>,  
  <span class="d_hl_kw" style="color:rgb(0,0,255);">function</span> (event) { 
  <br>    
  <span class="d_hl_kw" style="color:rgb(0,0,255);">if</span> (event.touches.length &gt; 1) { 
  <br>     event.preventDefault(); 
  <br>   } 
  <br> },  
  <span class="d_hl_kw" style="color:rgb(0,0,255);">false</span>); 
 </div> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 禁用手指双击缩放：</p> 
 <div class="d_hl" style="border-top:1px solid rgb(232,233,234);border-right:1px solid rgb(232,233,234);border-left:1px solid rgb(232,233,234);border-bottom:none;line-height:22px;color:rgb(68,68,68);font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;width:614.656px;"> 
  <span class="d_hl_kw" style="color:rgb(0,0,255);">var</span> lastTouchEnd = 0; 
  <br> document.documentElement.addEventListener( 
  <span class="d_hl_st" style="color:rgb(128,0,0);">'touchend'</span>,  
  <span class="d_hl_kw" style="color:rgb(0,0,255);">function</span> (event) { 
  <br>    
  <span class="d_hl_kw" style="color:rgb(0,0,255);">var</span> now = Date.now(); 
  <br>    
  <span class="d_hl_kw" style="color:rgb(0,0,255);">if</span> (now - lastTouchEnd &lt;= 300) { 
  <br>     event.preventDefault(); 
  <br>   } 
  <br>   lastTouchEnd = now; 
  <br> },  
  <span class="d_hl_kw" style="color:rgb(0,0,255);">false</span>); 
 </div> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 如果在iOS10的Safari中设置了<code style="font-family:Menlo, Monaco, Consolas, 'Lucida Console', 'Courier New', monospace;font-size:.92857em;color:rgb(185,74,72);">viewport</code>，其实双击放大也是不生效的，所以个人觉得在iOS10上比较好的解决方案是先设置<code style="font-family:Menlo, Monaco, Consolas, 'Lucida Console', 'Courier New', monospace;font-size:.92857em;color:rgb(185,74,72);">viewport</code>，然后再用js禁用双指缩放即可，无需再设置禁用双击缩放。</p> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 同时给出这个解决方案的作者还提出了一个有情提示，如果任何一个子元素的touch事件设置了<code style="font-family:Menlo, Monaco, Consolas, 'Lucida Console', 'Courier New', monospace;font-size:.92857em;color:rgb(185,74,72);">stopPropagation</code>阻止事件冒泡的话，可能还是会失效，而且在iOS10中你的输入框字体最好不要小于16px，否则iOS在输入框获得焦点时可能还是会强制放大。</p> 
 <p style="color:rgb(68,68,68);font-family:'PingFang SC', 'Microsoft YaHei', sans-serif;font-size:14px;"> 原文地址：<a href="http://stackoverflow.com/questions/37808180/disable-viewport-zooming-ios-10-safari" rel="nofollow" style="color:rgb(51,84,170);text-decoration:none;border-bottom:1px solid rgb(221,221,221);">http://stackoverflow.com/questions/37808180/disable-viewport-zooming-ios-10-safari</a></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/faa49de8a0772f684a2f9e9706048230/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">汇编语言入门七：函数调用（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fa1d32c920241aed19793242af976bad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python网络数据采集——正则表达式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>