<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP考勤登录系统 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PHP考勤登录系统" />
<meta property="og:description" content="使用方法更新在PHP考勤登录系统使用方法&amp;演示 – 开发者技术分享，点击即可获取
一、作业要求 电计算机实验室考勤登记系统(三张表,班级信息表,考勤表,请假表)可变动（小于等于三个表）
1 admin管理员用户
1.能对班级人员进增、添、删改、查看
2.请假审批(上课前1小时审批有效)
3.设置上课和下课时间。
2 普通用户
1.查看全部用户迟到、旷课、早退、请假信息，可选择相关主题查询(分页)
2.请假
3.修改用户个人信息
4.上下课签到光控电路
二、实现方法及简单功能介绍
1、建立三张表
1）用户表user，用于记录用户信息，并提前几个信息，用于之后的测试以及DEBUG使用
2）请假审核表qingjia，用于管理请假，其中包含了admin用户信息，同上提前设置
3）时间表shijian，用于设置上下课时间，同上提前设置
2、用户登录
1）区分普通用户和管理员登录，分别连接不一样的数据库
2）普通用户账号密码分别是stuxx和stu，xx是号数（01、02、、、22）
3）管理员登录账号密码都是admin
3、用户操作
1）可退出登录，退出时删除想除session信息
2）上课时间签到，晚签记录迟到，晚签超过15分钟记为旷课，检测重复见到
3）下课时间签离，早签记录早退，检测签到后才能签离
4）可以在上课一个小时前请假，超过时间无效，并可以查询请假进度
5）可以修改个人信息
6）连接用户数据库可查询相关所有用户信息
7）可分主题查询相关信息
4、管理员操作
1）可退出登录，退出时删除想除session信息
2）可修改用户所有信息
3）添加删除普通用户
4）管理请假，连接qianjia表进行相关管理
5）设置上下课时间
6）连接用户数据库可查询相关所有用户信息
7）可分主题查询相关信息
三、登录界面 &lt;? php session_start(); if($_POST[&#39;submit&#39;]) { $con = mysql_connect(&#34;localhost&#34;, &#34;root&#34;, &#34;111&#34;); mysql_query(&#34;set names &#39;utf-8&#39;&#34;); mysql_select_db(&#34;du&#34;, $con); $name = $_POST[&#39;user&#39;]; $password = $_POST[&#39;password&#39;]; if($_POST[&#34;radio&#34;] == &#34;radio1&#34;) { $sql = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e3c1578546038f0c2d14e385e5aa9ec0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-27T21:46:55+08:00" />
<meta property="article:modified_time" content="2018-11-27T21:46:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP考勤登录系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>使用方法更新在<a href="https://www.shaynerain.xyz/explore/kq/" rel="nofollow" title="PHP考勤登录系统使用方法&amp;演示 – 开发者技术分享">PHP考勤登录系统使用方法&amp;演示 – 开发者技术分享</a>，<a class="link-info" href="https://www.shaynerain.xyz/explore/kq/" rel="nofollow">点击即可获取</a></p> 
<p></p> 
<h3><span style="color:#3333ff;">一、作业要求</span></h3> 
<p><span style="color:#333333;">电计算机实验室考勤登记系统(三张表,班级信息表,考勤表,请假表)可变动（小于等于三个表）</span></p> 
<p><span style="color:#333333;"><strong>1 admin管理员用户</strong></span></p> 
<p><span style="color:#333333;">1.能对班级人员进增、添、删改、查看</span></p> 
<p><span style="color:#333333;">2.请假审批(上课前1小时审批有效)</span></p> 
<p><span style="color:#333333;">3.设置上课和下课时间。</span></p> 
<p><span style="color:#333333;"><strong>2 普通用户</strong></span></p> 
<p><span style="color:#333333;"><strong>    </strong>1.查看全部用户迟到、旷课、早退、请假信息，可选择相关主题查询(分页)</span></p> 
<p><span style="color:#333333;">2.请假</span></p> 
<p><span style="color:#333333;">3.修改用户个人信息</span></p> 
<p><span style="color:#333333;">4.上下课签到<span style="color:#4f4f4f;">光控电路</span></span></p> 
<p><span style="color:#3333ff;"><strong>二、实现方法及简单功能介绍</strong></span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">1、建立三张表</span></p> 
<p><span style="color:#4f4f4f;">1）用户表user，用于记录用户信息，并提前几个信息，用于之后的测试以及DEBUG使用</span></p> 
<p><span style="color:#4f4f4f;">2）请假审核表qingjia，用于管理请假，其中包含了admin用户信息，同上提前设置</span></p> 
<p><span style="color:#4f4f4f;">3）时间表shijian，用于设置上下课时间，同上提前设置</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">2、用户登录</span></p> 
<p><span style="color:#4f4f4f;">              1）区分普通用户和管理员登录，分别连接不一样的数据库</span></p> 
<p><span style="color:#4f4f4f;">              2）普通用户账号密码分别是stuxx和stu，xx是号数（01、02、、、22）</span></p> 
<p><span style="color:#4f4f4f;">              3）管理员登录账号密码都是admin</span></p> 
<p><span style="color:#4f4f4f;"><strong>3、用户操作</strong></span></p> 
<p><span style="color:#4f4f4f;">1）可退出登录，退出时删除想除session信息</span></p> 
<p><span style="color:#4f4f4f;">2）上课时间签到，晚签记录迟到，晚签超过15分钟记为旷课，检测重复见到</span></p> 
<p><span style="color:#4f4f4f;">3）下课时间签离，早签记录早退，检测签到后才能签离</span></p> 
<p><span style="color:#4f4f4f;">4）可以在上课一个小时前请假，超过时间无效，并可以查询请假进度</span></p> 
<p><span style="color:#4f4f4f;">5）可以修改个人信息</span></p> 
<p><span style="color:#4f4f4f;">6）连接用户数据库可查询相关所有用户信息</span></p> 
<p><span style="color:#4f4f4f;">7）可分主题查询相关信息</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">4、管理员操作</span></p> 
<p><span style="color:#4f4f4f;">1）可退出登录，退出时删除想除session信息</span></p> 
<p><span style="color:#4f4f4f;"> 2）可修改用户所有信息</span></p> 
<p><span style="color:#4f4f4f;"> 3）添加删除普通用户</span></p> 
<p><span style="color:#4f4f4f;"> 4）管理请假，连接qianjia表进行相关管理</span></p> 
<p><span style="color:#4f4f4f;">5）设置上下课时间</span></p> 
<p><span style="color:#4f4f4f;">6）连接用户数据库可查询相关所有用户信息</span></p> 
<p><span style="color:#4f4f4f;">7）可分主题查询相关信息</span></p> 
<p></p> 
<h3><span style="color:#3333ff;">三、登录界面</span></h3> 
<p><img alt="" class="has" height="339" src="https://images2.imgbox.com/70/1b/ZaCvdtgl_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;? php
    session_start();  
    if($_POST['submit'])  
    {  
        $con = mysql_connect("localhost", "root", "111");  
        mysql_query("set names 'utf-8'");  
        mysql_select_db("du", $con);  
        $name = $_POST['user'];  
        $password = $_POST['password'];  
        if($_POST["radio"] == "radio1")  
        {  
            $sql = "select * from user where name ='$name' and password ='$password'" ;  
            $resultSet = mysql_query($sql);  
            mysql_close($con);  
            if(mysql_num_rows($resultSet)&gt;0)  
            {  
                $_SESSION["user"] =  $name;  
                if(isset($_SESSION['user']))  
                    echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
            }  
            else  
                echo "&lt;script&gt;alert('登录失败！如果忘记密码请联系管理员！')&lt;/script&gt;";  
        }  
        else if($_POST["radio"] == "radio2")  
        {  
            $sql = "select * from qingjia where name ='$name' and shenpi ='$password'" ;  
            $resultSet = mysql_query($sql);  
            mysql_close($con);  
            if(mysql_num_rows($resultSet)&gt;0)  
            {  
                $_SESSION["admin"] =  $name;  
                if(isset($_SESSION['admin']))  
                    echo "&lt;script&gt;location.href='admin.php';&lt;/script&gt;";  
            }  
            else  
                echo "&lt;script&gt;alert('登录失败！如果忘记密码请联系管理员！')&lt;/script&gt;";  
        }  
          
    }  
?&gt;  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;meta charset = "utf-8" &gt;
&lt; title &gt; shaynerain学生考勤系统 &lt;/ title &gt;
&lt;/ head &gt;

&lt;body style = "text-align: center; background-color: rgba(176,235,240,1.00);" &gt;
&lt; form id="form1" name="form1" method="post"&gt;  
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
    &lt;h1 &gt;用户登录&lt;/h1&gt;&lt;br&gt;  
  &lt;p&gt;  
    &lt;label for="user" &gt;  
    用户名:&lt;/label&gt;  
    &lt;input type = "text" name="user" id="user"&gt;  
    &lt;label for="password"&gt;&lt;br&gt;&lt;br&gt;  
      密码:&lt;/label&gt;  
     &lt;input type = "password" name="password" id="password"&gt;&lt;br&gt;&lt;br&gt;  
    &lt;input name = "radio" type="radio" id="radio" value="radio1" checked="checked"&gt;  
    &lt;label for="radio"&gt;普通用户&lt;/label&gt;  
    &lt;input type = "radio" name="radio" id="radio" value="radio2"&gt;  
    &lt;label for="radio"&gt;管理员&lt;/label&gt;&lt;br&gt;&lt;br&gt;  
    &lt;input type = "submit" name="submit" id="submit" value="登录" &gt;  
&lt;/form&gt;  
   
&lt;form&gt;  
  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
&lt;/form&gt;  
   
&lt;/body&gt;  
&lt;/html&gt;  
</code></pre> 
<p></p> 
<h3><span style="color:#3333ff;">四、普通用户相关操作</span></h3> 
<p></p> 
<p><span style="color:#4f4f4f;">1、主界面</span></p> 
<p><img alt="" class="has" height="346" src="https://images2.imgbox.com/2c/81/QBbicqXZ_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;? php
    session_start();  
    //获取上课时间用于判断迟到早退  
    $con = mysql_connect("localhost", "root", "111");  
    mysql_query("set names 'utf-8'");  
    mysql_select_db("du", $con);  
    $stime = mysql_query("select * from shijian where id='1'",$con);  
    $stime=mysql_fetch_assoc($stime);  
    mysql_close($con);  
    //退出登录      flag 1退出    2修改 3签到 4签离 5请假 6查询  
    if($_GET["flag"] == 1){  
        session_unset();  
    }  
    //链接数据库  
    if(isset($_SESSION['user']))  
    {  
        $con = mysql_connect("localhost", "root", "111");  
        mysql_query("set names 'utf-8'");  
        mysql_select_db("du", $con);  
        if(isset($_GET['page']) &amp;&amp; (int)$_GET['page']&gt;0)  
            $Page=$_GET['page'];  
        else      
            $Page=1;  
        $resultSet = mysql_query("select * from user",$con);  
        $RecordCount=mysql_num_rows($resultSet);  
        $PageCount =ceil($RecordCount/10);  
        $sql = "select name,phone,email,chidao,zaotui,kuangke,qingjia from user";  
        $resultSet = mysql_query($sql);  
    }  
    else  
    {  
        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
    }  
    //修改个人信息  
    if($_GET['flag'] == 2)  
    {  
        echo "&lt;script&gt;location.href='xinxi.php';&lt;/script&gt;";  
    }  
    //签到        user中qiandao   1为签到  2为签离    
    if($_GET['flag'] == 3)  
    {  
        $name = $_SESSION['user'];  
        $sql = "select qiandao from user where name='$name'";  
        $result = mysql_query($sql);  
        $row=mysql_fetch_assoc($result);   
        $qiandao = $row['qiandao'];  
        if($qiandao  == '1')  
        {  
            echo "&lt;script&gt;alert('您已经签到过了')&lt;/script&gt;";  
            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
        }  
        mysql_query("UPDATE user SET qiandao=1 WHERE name='$name'");  
        //得到数据库的上下课时间  
        $uptime = $stime['shangke'];  
        $dowmtime = $stime['xiake'];  
        //获取当前时间  
        date_default_timezone_set('Asia/Shanghai');  
        $time = getdate();  
        //以下判断迟到事件,上课十五分钟之内  
        if(($uptime&lt;=($time[hours].$time[minutes].$time[seconds]))&amp;&amp;($uptime&gt;($time[hours].$time[minutes].$time[seconds])-1500))  
        {  
            $sql = "select chidao from user where name='$name'";  
   
            $result = mysql_query($sql);  
            $row=mysql_fetch_assoc($result);  
            $chidao = $row["chidao"];  
            $chidao++;  
            mysql_query("UPDATE user SET chidao='$chidao' WHERE name='$name'");  
            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
        }  
        //以下是判断旷课事件，上课15之后还未到  
        else if(($dowmtime&gt;=($time[hours].$time[minutes].$time[seconds]))&amp;&amp;($uptime&lt;($time[hours].$time[minutes].$time[seconds])-1500))  
        {  
            $sql = "select kuangke from user where name='$name'";  
   
            $result = mysql_query($sql);  
            $row=mysql_fetch_assoc($result);  
            $kuangke = $row["kuangke"];  
            $kuangke++;  
            mysql_query("UPDATE user SET kuangke='$kuangke' WHERE name='$name'");  
            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
        }  
          
    }  
    //签离  
    if($_GET['flag'] == 4)  
    {  
        $name = $_SESSION['user'];  
        $sql = "select qiandao from user where name='$name'";  
        $result = mysql_query($sql);  
        $row=@mysql_fetch_assoc($result);  
        $qiandao = $row['qiandao'];  
        if($qiandao  == '0')  
        {  
            echo "&lt;script&gt;alert('您已经签离过了')&lt;/script&gt;";  
            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
        }  
        mysql_query("UPDATE user SET qiandao=0 WHERE name='$name'");  
        //得到数据库的上下课时间  
	        $uptime = $stime['shangke'];  
	        $dowmtime = $stime['xiake'];  
	        //获取当前时间  
	        date_default_timezone_set('Asia/Shanghai');  
	        $time = getdate();  
	        //判断早退事件  
	        if(($uptime&lt;($time[hours].$time[minutes].$time[seconds]))&amp;&amp;($dowmtime&gt;=($time[hours].$time[minutes].$time[seconds])))  
	        {  
	            $sql = "select zaotui from user where name='$name'";  
	   
	            $result = mysql_query($sql);  
	            $row=mysql_fetch_assoc($result);  
	            $zaotui = $row["zaotui"];  
	            $zaotui++;  
	            mysql_query("UPDATE user SET zaotui='$zaotui' WHERE name='$name'");  
	              
	            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
	        }  
	    }  
	    //请假  
	    if($_GET['flag'] == 5)  
	    {  
	        echo "&lt;script&gt;location.href='qingjia.php';&lt;/script&gt;";  
	    }  
	    //请假进度  
	    if($_GET['flag'] == 6)  
	    {  
	        $name = $_SESSION['user'];  
	        $sql = "select shenpi from qingjia where name='$name'";  
	        $result = mysql_query($sql);  
	        $row=@mysql_fetch_assoc($result);  
	        $jindu = $row['shenpi'];  
	        if($jindu == '')  
	            echo "&lt;script&gt;alert('用户没有请假')&lt;/script&gt;";  
	        else  
	        {  
	            echo "&lt;script&gt;alert('$jindu')&lt;/script&gt;";  
	            echo "&lt;script&gt;location.href='user.php';&lt;/script&gt;";  
	        }  
	          
	    }  
	?&gt;  
	&lt;!doctype html&gt;  
	&lt;html&gt;  
	&lt;head&gt;  
	&lt;meta charset="utf-8"&gt;  
	&lt;title&gt;shaynerain学生考勤系统&lt;/title&gt;  
	&lt;/head&gt;  
	&lt;body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
	&lt;h1&gt;欢迎登陆shaynerain考勤系统&lt;/h1&gt;  
	&lt;p&gt;用户名：&lt;a style="color:rgba(45,5,251,1.00)"&gt;&lt;?= $_SESSION['user'] ?&gt;&lt;/a&gt;  &lt;a  href="user.php?flag=1"&gt;退出登录&lt;/a&gt;&lt;/p&gt;  
	&lt;p&gt;请选择你的操作：   
	&lt;!--flag 1退出 2修改 3签到 4签离 5请假 6查询--&gt;  
	&lt;a href="user.php?flag=3" &gt;签到&lt;/a&gt;    
	&lt;a href="user.php?flag=4" &gt;签离&lt;/a&gt;    
	&lt;a href="user.php?flag=5" &gt;请假&lt;/a&gt;    
	&lt;a href="user.php?flag=6" &gt;查询请假进度&lt;/a&gt;    
	&lt;a href="user.php?flag=2"&gt;修改个人信息&lt;/a&gt;&lt;/p&gt;&lt;br&gt;  
	&lt;form id="form1" name="form1" method="post" action="chaxun.php"&gt;  
	    &lt;tr colspan="10"&gt;  
	    查询:  &lt;input type="text" name="chaxun" id="chaxun " /&gt;  
	    &lt;select name="xuanze" id="选择"&gt;  
	                        &lt;option value="name"&gt;姓名&lt;/option&gt;  
	                        &lt;option value="phone"&gt;电话&lt;/option&gt;  
	                        &lt;option value="email"&gt;email&lt;/option&gt;  
	                        &lt;option value="chidao"&gt;迟到&lt;/option&gt;  
	                        &lt;option value="zaotui"&gt;早退&lt;/option&gt;  
	                        &lt;option value="kuangke"&gt;旷课&lt;/option&gt;  
	                        &lt;option value="qingjia"&gt;请假&lt;/option&gt;  
	                   &lt;/select&gt;  
	        &lt;input type="submit" name="submit" id="submit" value="确认" /&gt;  
	    &lt;tr&gt;  
	&lt;/form&gt;  
	&lt;br&gt;  
	 &lt;table width="100%" border="2"&gt;  
	  &lt;tbody&gt;  
	    &lt;tr&gt;  
	      &lt;th scope="col" width="15%"&gt;姓名&lt;/th&gt;  
	      &lt;th scope="col" width="15%"&gt;电话&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;email&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;迟到&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;早退&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;旷课&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;请假&lt;/th&gt;  
	    &lt;/tr&gt;  
	    &lt;?  
	        @mysql_data_seek($resultSet,($Page-1)*10);//将结果集的指针移动指定的行数  
	        for($i=0;$i&lt;10;$i++)  
	        {  
	            $row=@mysql_fetch_assoc($resultSet);   
	            if($row){  
	    ?&gt;  
	    &lt;tr&gt;  
	      &lt;th scope="col" width="15%"&gt;&lt;?=$row['name'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="15%"&gt;&lt;?=$row['phone'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;&lt;?=$row['email'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;&lt;?=$row['chidao'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;&lt;?=$row['zaotui'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;&lt;?=$row['kuangke'] ?&gt;&lt;/th&gt;  
	      &lt;th scope="col" width="14%"&gt;&lt;?=$row['qingjia'] ?&gt;&lt;/th&gt;  
	    &lt;/tr&gt;  
	    &lt;? }   
	        }   
	  @mysql_free_result($resultSet);  ?&gt;  
	  &lt;/tbody&gt;  
	   
	&lt;/table&gt;  
	   &lt;p&gt;&lt;?   // 显示分页链接的代码  
	if($Page== 1)               //如果是第1页，则不显示第1页的链接  
	        echo  "第一页  上一页 ";    
	else echo " &lt;a href='?page=1'&gt;第一页&lt;/a&gt; &lt;a href='?page=". ($Page-1)."'&gt;上一页&lt;/a&gt; ";  
	for($i=1;$i&lt;= $PageCount;$i++)   {        //设置数字页码的链接  
	        if ($i==$Page) echo "$i  ";     //如果是某页，则不显示某页的链接  
	        else echo " &lt;a href='?page=$i'&gt;$i&lt;/a&gt; ";}   
	if($Page== $PageCount)           // 设置“下一页”链接  
	        echo  " 下一页  末页 ";  
	else echo " &lt;a href='?page=" . ($Page+1) . "'&gt;下一页&lt;/a&gt;   
	 &lt;a href='?page=" . $PageCount . "'&gt;末页&lt;/a&gt; ";  
	echo "   共".$RecordCount. "条记录 ";  //共多少条记录  
	 echo " $Page / $PageCount 页";  //当前页的位置?&gt;  
	&lt;/p&gt;  
	&lt;br&gt;&lt;br&gt;  
	&lt;form&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved  
	&lt;/form&gt;  
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p></p> 
<p><span style="color:#4f4f4f;">2、签到</span></p> 
<p><span style="color:#4f4f4f;">    签到功能已经在主界面中包含</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">3、签离</span></p> 
<p><span style="color:#4f4f4f;">签离功能已经在主界面中包含</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">4、请假</span></p> 
<p><img alt="" class="has" height="480" src="https://images2.imgbox.com/75/13/5Lim6cCr_o.png" width="516"></p> 
<p></p> 
<p><span style="color:#4f4f4f;">5、查询进度</span></p> 
<p><span style="color:#4f4f4f;">         已在主界面中包含</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">6、退出登录</span></p> 
<p><span style="color:#4f4f4f;">         已在主界面中包含</span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">7、主题查询</span></p> 
<p><img alt="" class="has" height="152" src="https://images2.imgbox.com/b1/5c/YoaxFSBh_o.png" width="554"></p> 
<p><img alt="" class="has" height="152" src="https://images2.imgbox.com/14/4a/LgcLVE2G_o.png" width="554"></p> 
<p></p> 
<p></p> 
<div> 
 <pre class="has"><code class="language-php">&lt;?  
    @session_start();  
    if(isset($_SESSION['user'])||isset($_SESSION['admin'])){  
   
    }  
    else{  
        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
    }  
    //连接数据库  
    $con = mysql_connect("localhost", "root", "111");  
        mysql_query("set names 'utf-8'");  
        mysql_select_db("du", $con);  
          
          
    if($_POST["submit"]){  
          
        $chaxun = $_POST["chaxun"];  
        $xuanze = $_POST["xuanze"];  
          
        if(isset($_GET['page']) &amp;&amp; (int)$_GET['page']&gt;0)  
            $Page=$_GET['page'];  
        else      
            $Page=1;  
              
        $sql = "select * from user where $xuanze='$chaxun'";  
        $resultSet = mysql_query($sql);  
        $RecordCount=mysql_num_rows($resultSet);  
        $PageCount =ceil($RecordCount/10);  
        $sql = "select * from user where $xuanze='$chaxun'";  
        $resultSet = mysql_query($sql);  
    }  
   
   
?&gt;  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;meta charset = "utf-8" &gt;
&lt; title &gt; shaynerain学生考勤系统 &lt;/ title &gt;
&lt;/ head &gt;
&lt; body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
&lt;h1&gt;查询结果&lt;/h1&gt;  
&lt;a&lt;? if(isset($_SESSION['admin'])){  
            echo "href=" ; echo "admin.php"; }  
            else {echo "href=" ; echo "user.php";}?&gt;&gt;返回主页&lt;/a&gt;&lt;/p&gt;  
&lt;br&gt;  
 &lt;table width = "100%" border="2"&gt;  
  &lt;tbody&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;姓名&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;电话&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;email&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;迟到&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;早退&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;旷课&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;请假&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;?  
        @mysql_data_seek($resultSet, ($Page-1)*10);//将结果集的指针移动指定的行数  
        for($i=0;$i&lt;10;$i++)  
        {  
            $row=@mysql_fetch_assoc($resultSet);   
            if($row){  
    ?&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['name']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['phone']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['email']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['chidao']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['zaotui']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['kuangke']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['qingjia']?&gt;&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;? }   
        }   
  @mysql_free_result($resultSet);  ?&gt;  
  &lt;/tbody&gt;  
   
&lt;/table&gt;  
   &lt;p&gt;&lt;?   // 显示分页链接的代码  
if($Page== 1)               //如果是第1页，则不显示第1页的链接  
        echo  "第一页  上一页 ";    
else echo " &lt;a href='?page=1'&gt;第一页&lt;/a&gt; &lt;a href='?page=". ($Page-1)."'&gt;上一页&lt;/a&gt; ";  
for($i=1;$i&lt;= $PageCount;$i++)   {        //设置数字页码的链接  
        if ($i==$Page) echo "$i  ";     //如果是某页，则不显示某页的链接  
        else echo " &lt;a href='?page=$i'&gt;$i&lt;/a&gt; ";}   
if($Page== $PageCount)           // 设置“下一页”链接  
        echo  " 下一页  末页 ";  
else echo " &lt;a href='?page=" . ($Page+1) . "'&gt;下一页&lt;/a&gt;   
 &lt;a href = '?page=" . $PageCount . "' &gt; 末页 &lt;/ a &gt; ";  
echo "   共".$RecordCount. "条记录 ";  //共多少条记录  
 echo " $Page / $PageCount 页";      //当前页的位置?&gt;  
&lt;/p&gt;  
&lt;br&gt;&lt;br&gt;  
&lt;form&gt;  
  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
&lt;/form&gt;  
&lt;/body&gt;  
&lt;/html&gt;  </code></pre> 
 <p></p> 
</div> 
<h3><span style="color:#4f4f4f;">五、管理员相关操作</span></h3> 
<p><span style="color:#4f4f4f;">1、主界面</span></p> 
<p><img alt="" class="has" height="228" src="https://images2.imgbox.com/17/84/BoOfPWnY_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;?  
    @session_start();     
    // 1退出      2增加 3删除 4修改 5查看信息   6请假管理   7设置上下课时间  
    if(isset($_SESSION['admin'])){  
        if($_GET["flag"] == 1)  
        {  
            session_unset();  
            echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
        }  
        else if($_GET["flag"] == 2)  
        {  
            echo "&lt;script&gt;location.href='add.php';&lt;/script&gt;";  
        }  
        else if($_GET["flag"] == 3)  
        {  
            echo "&lt;script&gt;location.href='del.php';&lt;/script&gt;";  
        }  
        else if($_GET["flag"] == 4)  
        {  
            echo "&lt;script&gt;location.href='xiugai.php';&lt;/script&gt;";  
        }  
        else if($_GET["flag"] == 6)  
        {  
            echo "&lt;script&gt;location.href='guanli.php';&lt;/script&gt;";  
        }  
        else if($_GET["flag"] == 7)  
        {  
            echo "&lt;script&gt;location.href='shijian.php';&lt;/script&gt;";  
        }  
          
            $con = mysql_connect("localhost", "root", "111");  
            mysql_query("set names 'utf-8'");  
            mysql_select_db("du", $con);  
            if(isset($_GET['page']) &amp;&amp; (int)$_GET['page']&gt;0)  
                $Page=$_GET['page'];  
                  
            else      
                $Page=1;  
            $resultSet = mysql_query("select * from user",$con);  
            $RecordCount=mysql_num_rows($resultSet);  
            $PageCount =ceil($RecordCount/10);  
            $sql = "select name,phone,email,chidao,zaotui,kuangke,qingjia from user";  
            $resultSet = mysql_query($sql);  
          
   
    }  
    else  
    {  
        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
    }  
      
?&gt;  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;meta charset = "utf-8" &gt;
&lt; title &gt; shaynerain学生考勤系统 &lt;/ title &gt;
&lt;/ head &gt;
&lt; body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
&lt;h1&gt;管理员登陆&lt;/h1&gt;  
&lt;p&gt;用户名：&lt;a style = "color:rgba(45,5,251,1.00)" &gt;&lt;?= $_SESSION['admin']?&gt;&lt;/a&gt;  &lt;a href = "admin.php?flag=1" &gt; 退出登录 &lt;/ a &gt;&lt;/ p &gt;

&lt;p&gt;请选择你的操作：   
&lt;!--flag     1退出     2增加 3删除 4修改 5查看信息   6请假管理   7设置上下课时间--&gt;  
&lt;a href = "admin.php?flag=2" &gt; 增加学生信息 &lt;/ a &gt;
&lt; a href="admin.php?flag=3" &gt;删除学生信息&lt;/a&gt;    
&lt;a href = "admin.php?flag=4" &gt; 修改学生信息 &lt;/ a &gt;
&lt; a href="admin.php?flag=6" &gt;管理学生请假&lt;/a&gt;    
&lt;a href = "admin.php?flag=7" &gt; 设置上课时间 &lt;/ a &gt;&lt;/ p &gt;&lt; br &gt;

&lt;form id = "form1" name="form1" method="post" action="chaxun.php"&gt;  
    &lt;tr colspan = "10" &gt;
查询:  &lt;input type = "text" name="chaxun" id="chaxun " /&gt;  
    &lt;select name = "xuanze" id="选择"&gt;  
                        &lt;option value = "name" &gt; 姓名 &lt;/ option &gt;
                        &lt; option value="phone"&gt;电话&lt;/option&gt;  
                        &lt;option value = "email" &gt; email &lt;/ option &gt;
                        &lt; option value="chidao"&gt;迟到&lt;/option&gt;  
                        &lt;option value = "zaotui" &gt; 早退 &lt;/ option &gt;
                        &lt; option value="kuangke"&gt;旷课&lt;/option&gt;  
                        &lt;option value = "qingjia" &gt; 请假 &lt;/ option &gt;
                   &lt;/ select &gt;
        &lt; input type="submit" name="submit" id="submit" value="确认" /&gt;  
    &lt;tr&gt;  
&lt;/form&gt;  
 &lt;table width = "100%" border="2"&gt;  
  &lt;tbody&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;姓名&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;电话&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;email&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;迟到&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;早退&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;旷课&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;请假&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;?  
        @mysql_data_seek($resultSet, ($Page-1)*10);//将结果集的指针移动指定的行数  
        for($i=0;$i&lt;10;$i++)  
	        {  
	            $row=@mysql_fetch_assoc($resultSet);   
	            if($row){  
	    ?&gt;  
	    &lt;tr&gt;  
	      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['name']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['phone']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['email']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['chidao']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['zaotui']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['kuangke']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['qingjia']?&gt;&lt;/th&gt;  
	    &lt;/tr&gt;  
	    &lt;? }   
	        }   
	  @mysql_free_result($resultSet);  ?&gt;  
	  &lt;/tbody&gt;  
	   
	&lt;/table&gt;  
	   &lt;p&gt;&lt;?   // 显示分页链接的代码  
	if($Page== 1)               //如果是第1页，则不显示第1页的链接  
	        echo  "第一页  上一页 ";    
	else echo " &lt;a href='?page=1'&gt;第一页&lt;/a&gt; &lt;a href='?page=". ($Page-1)."'&gt;上一页&lt;/a&gt; ";  
	for($i=1;$i&lt;= $PageCount;$i++)   {        //设置数字页码的链接  
	        if ($i==$Page) echo "$i  ";     //如果是某页，则不显示某页的链接  
	        else echo " &lt;a href='?page=$i'&gt;$i&lt;/a&gt; ";}   
	if($Page== $PageCount)           // 设置“下一页”链接  
	        echo  " 下一页  末页 ";  
	else echo " &lt;a href='?page=" . ($Page+1) . "'&gt;下一页&lt;/a&gt;   
	 &lt;a href = '?page=" . $PageCount . "' &gt; 末页 &lt;/ a &gt; ";  
	echo "   共".$RecordCount. "条记录 ";  //共多少条记录  
	 echo " $Page / $PageCount 页";  //当前页的位置?&gt;  
	&lt;/p&gt;  
	&lt;br&gt;&lt;br&gt;  
	   
	&lt;form&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
	&lt;/form&gt;  
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p><span style="color:#4f4f4f;">2、增加学生信息</span></p> 
<p><img alt="" class="has" height="372" src="https://images2.imgbox.com/a4/49/33cVll4S_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;? php
     $tip = array("","","",);    
    $err = 0;    
    if($_POST['submit'])    
    {    
        $name = $_POST['user'];    
        $password = $_POST['password'];     
        $email = $_POST['email'];    
        $phone = $_POST['phone'];    
	        //检测为空    
	        if($name == "")    
	        {    
	            $err++;   
	        }    
	        if($password == "")    
	        {    
	            $err++;    
	        }  
	        if($err == 0){    
	              
	            $conn=mysql_connect("localhost","root","111");            //连接数据库服务器    
	            mysql_query("set names 'utf-8'");              //设置字符集    
	            mysql_select_db("du",$conn);                 //选择数据库    
	            $resultSet = mysql_query("select * from user where name='$name'");//查找是否有相同的    
	            if(mysql_num_rows($resultSet)&gt;0){    
	                echo "&lt;script&gt;alert('用户名已存在！')&lt;/script&gt;";    
	                echo "&lt;script&gt;location.href='add.php';&lt;/script&gt;";    
	                mysql_close($conn) or die(mysql_error());    
	                exit;    
	            }        
	            $registersql = "INSERT INTO user (name,password,email,phone) VALUES    
	                    ('$name','$password','$email','$phone')";//注意空格敏感，被坑了好久，总是插不进去    
	            $resultSet = mysql_query($registersql,$conn);//插入    
	            echo "&lt;script&gt;alert('用户已经成功注册！')&lt;/script&gt;";    
	            mysql_close($conn) or die(mysql_error());   
	        }   
	        else {  
	         echo "&lt;script&gt;alert('用户名和密码不能为空！')&lt;/script&gt;";}  
	    }  
	?&gt;  
	&lt;!doctype html&gt;  
	&lt;html&gt;  
	&lt;head&gt;  
	&lt;title&gt;shaynerain学生考勤系统&lt;/title&gt;  
	&lt;/head&gt;  
	&lt;meta charset = "utf-8" &gt;
 &lt; body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
	&lt;h1&gt;添加学生信息&lt;/h1&gt;&lt;br&gt;&lt;br&gt;  
	&lt;form id = "form1" name="form1" method="post"&gt;  
	    &lt;label for="user" &gt;  
	    用户名:&lt;/label&gt;  
	    &lt;input type = "text" name="user" id="user"&gt;&lt;br&gt;&lt;br&gt;  
	     
	    &lt;label for="user" &gt;  
	    phone：&lt;/label&gt;  
	    &lt;input type = "text" name="phone" id="phone"&gt;&lt;br&gt;&lt;br&gt;  
	    &lt;label for="user" &gt;  
	    email：&lt;/label&gt;  
	    &lt;input type = "text" name="email" id="email"&gt;&lt;br&gt;&lt;br&gt;  
	      
	     &lt;label for="password"&gt;  
	      密码:&lt;/label&gt;  
	     &lt;input type = "password" name="password" id="password"&gt;&lt;br&gt;&lt;br&gt;  
	     &lt;input type = "submit" name="submit" id="submit" value="添加" &gt;  
	     &lt;a href = "admin.php" &gt;&lt; input type="button" value="返回" &gt;&lt;/a&gt;  
	&lt;/form&gt;  
	   
	&lt;form&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
	&lt;/form&gt;  
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p><span style="color:#4f4f4f;">3、删除学生信息</span></p> 
<p><img alt="" class="has" height="346" src="https://images2.imgbox.com/36/5b/tGMu9HMi_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;?  
    @session_start();  
    if($_POST['submit'])    
    {    
            $name = $_POST['user'];   
            $conn=mysql_connect("localhost","root","111");            //连接数据库服务器    
            mysql_query("set names 'utf-8'");              //设置字符集    
            mysql_select_db("du",$conn);                 //选择数据库    
            $resultSet = mysql_query("select * from user where name='$name'");//查找是否有相同的    
            if(mysql_num_rows($resultSet)&gt;0){    
                  
            }   
            else  
            {  
                echo "&lt;script&gt;alert('没有该用户！')&lt;/script&gt;";    
                echo "&lt;script&gt;location.href='del.php';&lt;/script&gt;";    
                mysql_close($conn) or die(mysql_error());    
                exit;    
                  
            }       
            $registersql = "delete from user where name='$name'";//注意空格敏感，被坑了好久，总是插不进去    
            $del = mysql_query($registersql,$conn);//删除    
            echo "&lt;script&gt;alert('用户已经成功删除！')&lt;/script&gt;";   
           
    }     
    if(isset($_SESSION['admin'])){  
            $con = mysql_connect("localhost", "root", "111");  
            mysql_query("set names 'utf-8'");  
            mysql_select_db("du", $con);  
            if(isset($_GET['page']) &amp;&amp; (int)$_GET['page']&gt;0)  
                $Page=$_GET['page'];  
                  
            else      
                $Page=1;  
            $resultSet = mysql_query("select * from user",$con);  
            $RecordCount=mysql_num_rows($resultSet);  
            $PageCount =ceil($RecordCount/10);  
            $sql = "select name,phone,email,chidao,zaotui,kuangke,qingjia from user";  
            $resultSet = mysql_query($sql);   
          
   
    }  
    else  
    {  
        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
    }  
      
?&gt;  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;title&gt;shaynerain学生考勤系统&lt;/title&gt;  
&lt;/head&gt;  
&lt;meta charset = "utf-8" &gt;
&lt; body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
&lt;h1&gt;删除学生信息&lt;/h1&gt;&lt;br&gt;&lt;br&gt;  
   
&lt;table width = "100%" border="2"&gt;  
  &lt;tbody&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;姓名&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;电话&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;email&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;迟到&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;早退&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;旷课&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;请假&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;?  
        @mysql_data_seek($resultSet, ($Page-1)*10);//将结果集的指针移动指定的行数  
        for($i=0;$i&lt;10;$i++)  
        {  
            $row=@mysql_fetch_assoc($resultSet);   
            if($row){  
    ?&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['name']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['phone']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['email']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['chidao']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['zaotui']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['kuangke']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['qingjia']?&gt;&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;? }   
        }   
  @mysql_free_result($resultSet);  ?&gt;  
  &lt;/tbody&gt;  
   
&lt;/table&gt;  
   &lt;p&gt;&lt;?   // 显示分页链接的代码  
if($Page== 1)               //如果是第1页，则不显示第1页的链接  
        echo  "第一页  上一页 ";    
else echo " &lt;a href='?page=1'&gt;第一页&lt;/a&gt; &lt;a href='?page=". ($Page-1)."'&gt;上一页&lt;/a&gt; ";  
for($i=1;$i&lt;= $PageCount;$i++)   {        //设置数字页码的链接  
        if ($i==$Page) echo "$i  ";     //如果是某页，则不显示某页的链接  
        else echo " &lt;a href='?page=$i'&gt;$i&lt;/a&gt; ";}   
if($Page== $PageCount)           // 设置“下一页”链接  
        echo  " 下一页  末页 ";  
	else echo " &lt;a href='?page=" . ($Page+1) . "'&gt;下一页&lt;/a&gt;   
	 &lt;a href = '?page=" . $PageCount . "' &gt; 末页 &lt;/ a &gt; ";  
	echo "   共".$RecordCount. "条记录 ";  //共多少条记录  
	 echo " $Page / $PageCount 页";  //当前页的位置?&gt;  
	&lt;/p&gt;  
	&lt;br&gt;&lt;br&gt;  
	&lt;form id = "form1" name="form1" method="post"&gt;  
	   
	   
	    &lt;label for="user" &gt;  
	    删除学生姓名:&lt;/label&gt;  
	    &lt;input type = "text" name="user" id="user"&gt;  
	    &lt;input type = "submit" name="submit" id="submit" value="删除" &gt;  
	     &lt;a href = "admin.php" &gt;&lt; input type="button" value="返回" &gt;&lt;/a&gt;  
	&lt;/form&gt;  
	   
	&lt;form&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
	&lt;/form&gt;  
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p><span style="color:#4f4f4f;">4、修改学生信息</span></p> 
<p><img alt="" class="has" height="408" src="https://images2.imgbox.com/c3/bb/FA71F6gC_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;?  
    @session_start();  
    if($_POST['submit'])    
    {    
            $name = $_POST['user'];   
            $conn=mysql_connect("localhost","root","111");            //连接数据库服务器    
            mysql_query("set names 'utf-8'");              //设置字符集    
            mysql_select_db("du",$conn);                 //选择数据库    
            $resultSet = mysql_query("select * from user where name='$name'");//查找是否有相同的    
            if(mysql_num_rows($resultSet)&gt;0){    
                  
            }   
            else  
            {  
                echo "&lt;script&gt;alert('没有该用户！')&lt;/script&gt;";    
                echo "&lt;script&gt;location.href='del.php';&lt;/script&gt;";    
                mysql_close($conn) or die(mysql_error());    
                exit;    
                  
            }  
            $password=$_POST['password'];  
            $email=$_POST['email'];  
        $phone=$_POST['phone'];  
        $chidao=$_POST['chidao'];  
        $kuangke=$_POST['kuangke'];  
        $zaotui=$_POST['zaotui'];  
        $qingjia=$_POST['qingjia'];  
           $sql = "UPDATE user SET name='$name',password='$password',email='$email',   
            phone='$phone',chidao='$chidao',kuangke='$kuangke',zaotui='$zaotui',qingjia='$qingjia' WHERE name = '$name'";  
        mysql_query($sql,$conn);   
            echo "&lt;script&gt;alert('已经成功修改！')&lt;/script&gt;";   
         echo "&lt;script&gt;location.href='xiugai.php';&lt;/script&gt;";  
    }     
    if(isset($_SESSION['admin'])){  
            $con = mysql_connect("localhost", "root", "111");  
            mysql_query("set names 'utf-8'");  
            mysql_select_db("du", $con);  
            if(isset($_GET['page']) &amp;&amp; (int)$_GET['page']&gt;0)  
                $Page=$_GET['page'];  
                  
            else      
                $Page=1;  
            $resultSet = mysql_query("select * from user",$con);  
            $RecordCount=mysql_num_rows($resultSet);  
            $PageCount =ceil($RecordCount/10);  
            $sql = "select name,phone,email,chidao,zaotui,kuangke,qingjia from user";  
            $resultSet = mysql_query($sql);   
          
   
    }  
    else  
    {  
        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
    }  
      
?&gt;  
&lt;!doctype html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;title&gt;shaynerain学生考勤系统&lt;/title&gt;  
&lt;/head&gt;  
&lt;meta charset = "utf-8" &gt;
&lt; body style="text-align: center; background-color: rgba(176,235,240,1.00);"&gt;  
&lt;h1&gt;修改学生信息&lt;/h1&gt;&lt;br&gt;&lt;br&gt;  
   
&lt;table width = "100%" border="2"&gt;  
  &lt;tbody&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;姓名&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;电话&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;email&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;迟到&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;早退&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;旷课&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;请假&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;?  
        @mysql_data_seek($resultSet, ($Page-1)*10);//将结果集的指针移动指定的行数  
        for($i=0;$i&lt;10;$i++)  
        {  
            $row=@mysql_fetch_assoc($resultSet);   
            if($row){  
    ?&gt;  
    &lt;tr&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['name']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="15%"&gt;&lt;?=$row['phone']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['email']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['chidao']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['zaotui']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['kuangke']?&gt;&lt;/th&gt;  
      &lt;th scope = "col" width="14%"&gt;&lt;?=$row['qingjia']?&gt;&lt;/th&gt;  
    &lt;/tr&gt;  
    &lt;? }   
        }   
  @mysql_free_result($resultSet);  ?&gt;  
  &lt;/tbody&gt;  
   
&lt;/table&gt;  
   &lt;p&gt;&lt;?   // 显示分页链接的代码  
	if($Page== 1)               //如果是第1页，则不显示第1页的链接  
	        echo  "第一页  上一页 ";    
	else echo " &lt;a href='?page=1'&gt;第一页&lt;/a&gt; &lt;a href='?page=". ($Page-1)."'&gt;上一页&lt;/a&gt; ";  
	for($i=1;$i&lt;= $PageCount;$i++)   {        //设置数字页码的链接  
	        if ($i==$Page) echo "$i  ";     //如果是某页，则不显示某页的链接  
	        else echo " &lt;a href='?page=$i'&gt;$i&lt;/a&gt; ";}   
	if($Page== $PageCount)           // 设置“下一页”链接  
	        echo  " 下一页  末页 ";  
	else echo " &lt;a href='?page=" . ($Page+1) . "'&gt;下一页&lt;/a&gt;   
	 &lt;a href = '?page=" . $PageCount . "' &gt; 末页 &lt;/ a &gt; ";  
	echo "   共".$RecordCount. "条记录 ";  //共多少条记录  
	 echo " $Page / $PageCount 页";  //当前页的位置?&gt;  
	&lt;/p&gt;  
	&lt;br&gt;&lt;br&gt;  
	&lt;form id = "form1" name="form1" method="post"&gt;  
	   
	   
	    &lt;label for="user" &gt;  
	    姓名:&lt;/label&gt;  
	    &lt;input type = "text" name="user" id="user"&gt;  
	    &lt;label for="password"&gt;&lt;br&gt;&lt;br&gt;  
	      密码:&lt;/label&gt;  
	     &lt;input type = "password" name="password" id="password"&gt;  
	    &lt;label for="phone"&gt;&lt;br&gt;&lt;br&gt;  
	      电话:&lt;/label&gt;  
	     &lt;input type = "text" name="phone" id="phone" &gt;  
	     &lt;label for="email"&gt;&lt;br&gt;&lt;br&gt;  
	      邮箱:&lt;/label&gt;  
	     &lt;input type = "text" name="email" id="email" &gt;  
	     &lt;label for="chidao"&gt;&lt;br&gt;&lt;br&gt;  
	      迟到:&lt;/label&gt;  
	     &lt;input type = "text" name="chidao" id="chidao" &gt;  
	     &lt;label for="zaotui"&gt;&lt;br&gt;&lt;br&gt;  
	      早退:&lt;/label&gt;  
	     &lt;input type = "text" name="zaotui" id="zaotui"&gt;  
	     &lt;label for="kuangke"&gt;&lt;br&gt;&lt;br&gt;  
	      旷课:&lt;/label&gt;  
	     &lt;input type = "text" name="kuangke" id="kuangke"&gt;  
	     &lt;label for="qingjia"&gt;&lt;br&gt;&lt;br&gt;  
	      请假:&lt;/label&gt;  
	     &lt;input type = "text" name="qingjia" id="qingjia"&gt;  
	     &lt;br&gt;&lt;br&gt;  
	       
	    &lt;input type = "submit" name="submit" id="submit" value="修改" &gt;  
	     &lt;a href = "admin.php" &gt;&lt; input type="button" value="返回" &gt;&lt;/a&gt;  
	&lt;/form&gt;  
	   
	&lt;form&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  </code></pre> 
<p><span style="color:#4f4f4f;"><strong>5、管理学生请假</strong></span></p> 
<p><img alt="" class="has" height="157" src="https://images2.imgbox.com/54/a4/qGKb7g6F_o.png" width="554"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;?  
    @session_start();  
    //获取上课时间用于请假审批时间段设置  
    $con = mysql_connect("localhost", "root", "111");  
    mysql_query("set names 'utf-8'");  
    mysql_select_db("du", $con);  
    $stime = mysql_query("select * from shijian where id='1'",$con);  
    $stime=mysql_fetch_assoc($stime);  
    mysql_close($con);  
	    if(isset($_SESSION['admin'])){  
	          
	          
	        $con = mysql_connect("localhost", "root", "111");  
	        mysql_query("set names 'utf-8'");  
	        mysql_select_db("du", $con);  
	        $sql = "select * from qingjia where shenpi ='please wait'";   
	        //$sql = "select * from qingjia";  
	        $resultSet = mysql_query($sql);  
	    }else{  
	        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
	    }  
	    if($_GET['shenpi'])  
	    {         
	        $uptime = $stime['shangke'];  
	        $dowmtime = $stime['xiake'];  
	        //获取当前时间  
	        date_default_timezone_set('Asia/Shanghai');  
	        $time = getdate();  
	        if(($uptime&gt;($time[hours].$time[minutes].$time[seconds])+10000))  
	        {  
	            if($_GET['shenpi'] == 1)  
	            {  
	                $name = $_GET['name'];  
	                mysql_query("UPDATE qingjia SET shenpi='pass' WHERE name='$name'");  
	                $result = mysql_query("select * from user where name='$name'",$con);  
	                $row = @mysql_fetch_assoc($result);  
	                $qingjia = $row['qingjia'];  
	                $qingjia++;  
	                mysql_query("UPDATE user SET qingjia='$qingjia' WHERE name='$name'");  
	                echo "&lt;script&gt;location.href='guanli.php';&lt;/script&gt;";  
	            }else if($_GET['shenpi'] == 2){  
	                $name = $_GET['name'];  
	                mysql_query("UPDATE qingjia SET shenpi='no pass' WHERE name='$name'");  
	                echo "&lt;script&gt;location.href='guanli.php';&lt;/script&gt;";  
	            }  
	        }else  
	        {  
	            echo "&lt;script&gt;alert(\"已经过了审批时间！\");&lt;/script&gt;";  
	        }  
	    }  
	      
	?&gt;  
	   
	&lt;!doctype html&gt;  
	&lt;html&gt;  
	&lt;head&gt;  
	&lt;meta charset = "utf-8" &gt;
 &lt; title &gt; shaynerain学生考勤系 &lt;/ title &gt;
 &lt;/ head &gt;

	&lt;body style = "text-align: center; background-color: rgba(176,235,240,1.00);" &gt;
 &lt; form id="form1" name="form1" method="post"&gt;  
	&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	    &lt;h1 &gt;请假系统&lt;/h1&gt;&lt;br&gt;  
	  &lt;p&gt;  
	     
	 &lt;table width = "100%" border="2"&gt;  
	  &lt;tbody&gt;  
	    &lt;tr&gt;  
	      &lt;th scope = "col" width="10%"&gt;姓名&lt;/th&gt;  
	      &lt;th scope = "col" width="60%"&gt;理由&lt;/th&gt;  
	      &lt;th scope = "col" width="10%"&gt;状态&lt;/th&gt;  
	      &lt;th scope = "col" width="20%"&gt;操作&lt;/th&gt;  
	    &lt;/tr&gt;  
	    &lt;?  
	        while($row = @mysql_fetch_assoc($resultSet)){  
	    ?&gt;  
	    &lt;tr&gt;  
	      &lt;th scope = "col" width="10%"&gt;&lt;?=$row['name']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="60%"&gt;&lt;?=$row['yuanyin']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="10%"&gt;&lt;?=$row['shenpi']?&gt;&lt;/th&gt;  
	      &lt;th scope = "col" width="20%"&gt;&lt;a href = "guanli.php?name=&lt;?=$row['name']?&gt;&amp;shenpi=1" &gt; 通过 &lt;/ a &gt;/&lt; a href="guanli.php?name=&lt;?=$row['name']?&gt;&amp;shenpi=2"&gt;驳回&lt;/a&gt;&lt;/th&gt;  
	    &lt;/tr&gt;  
	    &lt;? }  ?&gt;  
	  &lt;/tbody&gt;  
	   
	&lt;/table&gt;  
	   
	    &lt;br&gt;  
	    &lt;a href = "admin.php" &gt;&lt; input type="button" value="返回" &gt;&lt;/a&gt;  
	&lt;/form&gt;  
	&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	&lt;form&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved;  
	&lt;/form&gt;  
	   
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p><span style="color:#4f4f4f;"><strong>6、设置上课时间</strong></span></p> 
<p><img alt="" class="has" height="383" src="https://images2.imgbox.com/24/f3/CgPit73L_o.png" width="442"></p> 
<p></p> 
<pre class="has"><code class="language-php">&lt;?  
    @session_start();  
    if(isset($_SESSION['admin'])){  
        $con = mysql_connect("localhost", "root", "111");  
        mysql_query("set names 'utf-8'");  
        mysql_select_db("du", $con);  
        if($_POST["submit"])  
        {  
            $shangke = $_POST["shangke"];  
	            $xiake = $_POST["xiake"];  
	            $sql = "UPDATE shijian SET shangke='$shangke',xiake='$xiake' where id='1'";  
	            mysql_query($sql);  
	            echo "&lt;script&gt;alert('上课时间修改成功！');&lt;/script&gt;";  
	        }  
	        $sql = "select shangke,xiake from shijian where id='1'";  
	        $resultSet = mysql_query($sql);  
	        $row=@mysql_fetch_assoc($resultSet);  
	    }else{  
	        echo "&lt;script&gt;location.href='login.php';&lt;/script&gt;";  
	    }  
	   
	?&gt;  
	&lt;!doctype html&gt;  
	&lt;html&gt;  
	&lt;head&gt;  
	&lt;meta charset = "utf-8" &gt;
 &lt; title &gt; shaynerain学生考勤系统 &lt;/ title &gt;
 &lt;/ head &gt;

	&lt;body style = "text-align: center; background-color: rgba(176,235,240,1.00);" &gt;
 &lt; form id="form1" name="form1" method="post"&gt;  
	&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	    &lt;h1 &gt;修改上课时间&lt;/h1&gt;&lt;br&gt;  
	  &lt;p&gt;  
	    &lt;label for="phone" &gt;  
	    上课时间:&lt;/label&gt;  
	    &lt;input type = "text" name="shangke" id="shangke" value="&lt;?= $row["shangke"]?&gt;"&gt;  
	    &lt;label for="email"&gt;&lt;br&gt;&lt;br&gt;  
	      下课时间:&lt;/label&gt;  
	     &lt;input type = "text" name="xiake" id="xiake" value="&lt;?= $row["xiake"]?&gt;"&gt;  
	       
	     &lt;br&gt;&lt;br&gt;  
	      
	    &lt;input type = "submit" name="submit" id="submit" value="修改" &gt;  
	    &lt;a href = "admin.php" &gt;&lt; input type="button" value="返回" &gt;&lt;/a&gt;  
	&lt;/form&gt;  
	&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;  
	&lt;form&gt;  
	  Copyright © 2016-2018, Shaynerain Du, All Rights Reserved
	&lt;/form&gt;  
	   
	&lt;/body&gt;  
	&lt;/html&gt;  </code></pre> 
<p><span style="color:#000000;"><strong>实现功能如代码所示，主要是数据库的操作，还有一些分页，其余的就是跳跳跳</strong></span></p> 
<p><span style="color:#000000;"><strong>源码文件和数据库也就是三个表的下载链接：</strong><strong>http://download.csdn.net/detail/shaynerain/9723667</strong></span></p> 
<p><span style="color:#000000;"><strong>数据库软件APP下载链接：http://download.csdn.net/detail/shaynerain/9707047</strong></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fc8b54b16649d220e3ea285cea55b0d0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">查看项目中的angular版本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ecd3cdf1fe109d508d72bb20fbf0a181/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Jlink&amp;STlink工具烧录读取hex&amp;bin</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>