<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>React 组件点击事件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="React 组件点击事件" />
<meta property="og:description" content="点击事件 点击事件方式1、传统类方法（不推荐）2、传统类方法 16.3.0 - 自动绑定（不推荐）3、箭头函数3.1、类组件3.2、函数组件3.3、内联箭头函数 4、useState Hook 点击事件方式 1、传统类方法（不推荐） 当你需要在React中使用.bind(this)时，通常是在类组件中，以确保在事件处理程序中访问组件的this。以下是.bind(this)的写法示例：
import React, { Component } from &#39;react&#39;; class MyComponent extends Component { constructor(props) { super(props); this.state = { count: 0, }; // 绑定 handleClick 方法的 this this.handleClick = this.handleClick.bind(this); } handleClick() { this.setState({ count: this.state.count &#43; 1 }); } render() { return ( &lt;div&gt; &lt;p&gt;Count: {this.state.count}&lt;/p&gt; &lt;button onClick={this.handleClick}&gt;Click me&lt;/button&gt; &lt;/div&gt; ); } } export default MyComponent; 在这个示例中，我们在类构造函数中使用.bind(this)来绑定this.handleClick，确保在handleClick方法中可以正确访问组件的状态。这是传统的做法。
2、传统类方法 16.3.0 - 自动绑定（不推荐） React 在版本16." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1918610c7115ad2a7871977b4424d07a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-31T14:34:24+08:00" />
<meta property="article:modified_time" content="2023-10-31T14:34:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">React 组件点击事件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>点击事件</h4> 
 <ul><li><a href="#_3" rel="nofollow">点击事件方式</a></li><li><ul><li><a href="#1_6" rel="nofollow">1、传统类方法（不推荐）</a></li><li><a href="#2_1630___44" rel="nofollow">2、传统类方法 16.3.0 - 自动绑定（不推荐）</a></li><li><a href="#3_71" rel="nofollow">3、箭头函数</a></li><li><ul><li><a href="#31_73" rel="nofollow">3.1、类组件</a></li><li><a href="#32_109" rel="nofollow">3.2、函数组件</a></li><li><a href="#33_135" rel="nofollow">3.3、内联箭头函数</a></li></ul> 
   </li><li><a href="#4useState_Hook_150" rel="nofollow">4、useState Hook</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>点击事件方式</h2> 
<h3><a id="1_6"></a>1、传统类方法（不推荐）</h3> 
<p>当你需要在React中使用<code>.bind(this)</code>时，通常是在类组件中，以确保在事件处理程序中访问组件的<code>this</code>。以下是<code>.bind(this)</code>的写法示例：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 绑定 handleClick 方法的 this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Count<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>Click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> MyComponent<span class="token punctuation">;</span>
</code></pre> 
<p>在这个示例中，我们在类构造函数中使用<code>.bind(this)</code>来绑定<code>this.handleClick</code>，确保在<code>handleClick</code>方法中可以正确访问组件的状态。这是传统的做法。</p> 
<h3><a id="2_1630___44"></a>2、传统类方法 16.3.0 - 自动绑定（不推荐）</h3> 
<p>React 在版本16.3.0 中引入了一种新的特性，即支持将事件处理函数定义为类属性，这允许自动绑定 <code>this</code>，从而无需手动使用 <code>.bind(this)</code> 或构造函数中的绑定。</p> 
<p>在React 16.3.0之前，开发者通常需要使用 <code>.bind(this)</code> 或构造函数中的绑定，以确保事件处理函数内的 <code>this</code> 上下文是正确的。这在一定程度上使得代码变得繁琐。</p> 
<p>从React 16.3.0开始，类属性和箭头函数的使用变得更加普遍，因为它们使代码更简洁、易读，并且自动绑定了 <code>this</code>，减少了样板代码。所以，如果你使用React 16.3.0或更新版本，你可以更轻松地使用类属性或箭头函数来处理事件，而不必显式使用 <code>.bind(this)</code>。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClickExample</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Button clicked!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>Click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClickExample<span class="token punctuation">;</span>

</code></pre> 
<h3><a id="3_71"></a>3、箭头函数</h3> 
<h4><a id="31_73"></a>3.1、类组件</h4> 
<p>以下是一个示例，演示了如何在React组件中使用箭头函数定义方法：</p> 
<pre><code class="prism language-jsx">import React, { Component } from 'react';

class ArrowFunctionExample extends Component {
  state = {
    count: 0,
  };

  // 使用箭头函数定义事件处理函数
  handleClick = () =&gt; {
    this.setState((prevState) =&gt; ({
      count: prevState.count + 1,
    }));
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Arrow Function Example&lt;/h1&gt;
        &lt;p&gt;Count: {this.state.count}&lt;/p&gt;
        {/* 使用箭头函数定义的事件处理函数 */}
        &lt;button onClick={this.handleClick}&gt;Click me&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

export default ArrowFunctionExample;
</code></pre> 
<p>在这个示例中，我们使用箭头函数 <code>handleClick</code> 来处理按钮的点击事件。箭头函数自动继承了外部作用域的 <code>this</code>，因此在 <code>handleClick</code> 内部可以轻松地访问组件的状态。这使得代码更加简洁，不需要显式使用 <code>.bind(this)</code> 或在构造函数中进行绑定。</p> 
<h4><a id="32_109"></a>3.2、函数组件</h4> 
<p>函数组件内部的某个函数中使用箭头函数。以下是一个示例：</p> 
<pre><code class="prism language-jsx">import React from 'react';

function ArrowFunctionInFunctionExample() {
  const showMessage = () =&gt; {
    alert('Hello from an arrow function in a function!');
  };

  return (
    &lt;div&gt;
      &lt;h1&gt;Arrow Function in Function Example&lt;/h1&gt;
      &lt;button onClick={showMessage}&gt;Show Message&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default ArrowFunctionInFunctionExample;
</code></pre> 
<p>在这个示例中，我们定义了一个函数组件 <code>ArrowFunctionInFunctionExample</code>，其中有一个名为 <code>showMessage</code> 的箭头函数。这个箭头函数在函数组件内部的某个函数中定义，然后在按钮的点击事件处理程序中调用它以显示消息。箭头函数允许我们在函数内部轻松地定义函数，而不需要处理 <code>this</code> 绑定的问题，因为它们自动捕获外部作用域的 <code>this</code>。</p> 
<h4><a id="33_135"></a>3.3、内联箭头函数</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ClickExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Button clicked'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClickExample<span class="token punctuation">;</span>

</code></pre> 
<h3><a id="4useState_Hook_150"></a>4、useState Hook</h3> 
<p>当使用函数组件内的 useState Hook 创建点击事件时，你可以轻松地管理组件的状态。以下是一个示例，演示如何在函数组件中使用 useState Hook 来创建一个点击事件：</p> 
<pre><code class="prism language-jsx">import React, { useState } from 'react';

function ClickEventExample() {
  // 使用 useState Hook 来管理状态
  const [count, setCount] = useState(0);

  // 定义点击事件处理函数
  const handleClick = () =&gt; {
    setCount(count + 1);
  };

  return (
    &lt;div&gt;
      &lt;h1&gt;Click Event Example&lt;/h1&gt;
      &lt;p&gt;Count: {count}&lt;/p&gt;
      &lt;button onClick={handleClick}&gt;Click me&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default ClickEventExample;
</code></pre> 
<p>在这个示例中，我们首先使用 <code>useState</code> Hook 创建了一个名为 <code>count</code> 的状态变量和一个名为 <code>setCount</code> 的状态更新函数。然后，我们定义了一个箭头函数 <code>handleClick</code>，该函数在按钮被点击时，通过调用 <code>setCount</code> 来更新状态，从而增加计数器的值。最后，我们在 JSX 中将 <code>handleClick</code> 函数绑定到按钮的点击事件，以便在点击时触发计数器的更新。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7a5724308e10a207327de76b6ee88cf3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【GNSS测试技术（一）】GNSS基础原理介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7f9c0ebf73fd4e9311afe1c93e5a7262/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue3 &#43; TS4.8的一些类型标注踩坑记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>