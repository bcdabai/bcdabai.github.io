<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java8新特性之Optional类的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java8新特性之Optional类的使用" />
<meta property="og:description" content=" //1、将可能为空的对象转换为Optional对象 // LiabilityPayEntity liabilityPayEntity1 = null; LiabilityPayEntity liabilityPayEntity1 = LiabilityPayEntityBuilder.builder().setIsChecked(&#34;1&#34;).createLiabilityPayEntity(); Optional&lt;LiabilityPayEntity&gt; optionalLiabilityPayEntity = Optional.ofNullable(liabilityPayEntity1); System.out.println(&#34;是否不为null：&#34;&#43;optionalLiabilityPayEntity.isPresent()); //2、Optional链式操作 String isChecked = optionalLiabilityPayEntity.map(LiabilityPayEntity::getIsChecked).orElse(&#34;0&#34;); System.out.println(&#34;isChecked：&#34;&#43;isChecked); //3、Optional短路 //假设optionalLiabilityPayEntity对象从数据库中查询出来的，如果不存在则新建用户并返回 //(1) 错误用法，orElse是不断路的，如果orElse中的执行是负影响的，会被执行。 //LiabilityPayEntity liabilityPayEntity = optionalLiabilityPayEntity.orElse(newBean()); //(2) 正确写法，如果对象为空，newBean不执行。 LiabilityPayEntity liabilityPayEntity = optionalLiabilityPayEntity.orElseGet(() -&gt; newBean()); System.out.println(&#34;liabilityPayEntity != null：&#34;&#43;(liabilityPayEntity != null)); //4、Optional抛出异常 optionalLiabilityPayEntity.orElseThrow(() -&gt; new RuntimeException(&#34;对象为空！&#34;)); //5、Optional映射等一些其他的操作 optionalLiabilityPayEntity.map(LiabilityPayEntity::getIsChecked) .filter(isChecked1 -&gt; isChecked1.equals(&#34;1&#34;)) .ifPresent(isChecked2 -&gt; System.out.println(isChecked2)); private LiabilityPayEntity newBean(){ System.out.println(&#34;我要创建对象啦！&#34;); return LiabilityPayEntityBuilder.builder().setIsChecked(&#34;9&#34;).createLiabilityPayEntity(); } " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5355a2663fa844de6abc04ed028bba29/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-24T19:32:58+08:00" />
<meta property="article:modified_time" content="2023-10-24T19:32:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java8新特性之Optional类的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="language-java">        //1、将可能为空的对象转换为Optional对象
//        LiabilityPayEntity liabilityPayEntity1 = null;
        LiabilityPayEntity liabilityPayEntity1 = LiabilityPayEntityBuilder.builder().setIsChecked("1").createLiabilityPayEntity();
        Optional&lt;LiabilityPayEntity&gt; optionalLiabilityPayEntity = Optional.ofNullable(liabilityPayEntity1);
        System.out.println("是否不为null："+optionalLiabilityPayEntity.isPresent());

        //2、Optional链式操作
        String isChecked = optionalLiabilityPayEntity.map(LiabilityPayEntity::getIsChecked).orElse("0");
        System.out.println("isChecked："+isChecked);

        //3、Optional短路
        //假设optionalLiabilityPayEntity对象从数据库中查询出来的，如果不存在则新建用户并返回
        //(1) 错误用法，orElse是不断路的，如果orElse中的执行是负影响的，会被执行。
        //LiabilityPayEntity liabilityPayEntity = optionalLiabilityPayEntity.orElse(newBean());
        //(2) 正确写法，如果对象为空，newBean不执行。
        LiabilityPayEntity liabilityPayEntity = optionalLiabilityPayEntity.orElseGet(() -&gt; newBean());
        System.out.println("liabilityPayEntity != null："+(liabilityPayEntity != null));

        //4、Optional抛出异常
        optionalLiabilityPayEntity.orElseThrow(() -&gt; new RuntimeException("对象为空！"));

        //5、Optional映射等一些其他的操作
        optionalLiabilityPayEntity.map(LiabilityPayEntity::getIsChecked)
                .filter(isChecked1 -&gt; isChecked1.equals("1"))
                .ifPresent(isChecked2 -&gt; System.out.println(isChecked2));


        private LiabilityPayEntity newBean(){
            System.out.println("我要创建对象啦！");
            return LiabilityPayEntityBuilder.builder().setIsChecked("9").createLiabilityPayEntity();
        }</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6727335c89c6143ec6c6bd57f6c21534/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTML5语义化标签 header 的详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b07611bf61be26e2c6fbb79bdc59952/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">清理注册表的傻瓜级实用工具——CCleaner !</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>