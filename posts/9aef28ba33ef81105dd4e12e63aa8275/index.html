<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>树莓派的IP地址查找 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="树莓派的IP地址查找" />
<meta property="og:description" content="陈拓 chentuo@ms.xab.ac.cn 2020/10/19-2020/10/21
1. 概述 在《电脑连接树莓派3B&#43;》https://blog.csdn.net/chentuo2000/article/details/103332186
和《树莓派修改HostName》
https://zhuanlan.zhihu.com/p/266689387
两篇文章中我们介绍了电脑用SSH通过主机名Host Name连接树莓派的方法。
用IP地址连接树莓派更快一些，但局域网一般都使用动态IP地址，每次开机启动获取的IP地址不一样，下面分别在Windows系统下和在Linux系统下获取树莓派当前IP地址的方法。
2. Windows系统 记录树莓派的MAC地址 第一次使用树莓派时记录下这个树莓派的MAC地址
ifconfig
树莓派的MAC地址是b8:27:eb:ae:9d:c3
打开COM窗口 按“Win &#43; R”快捷键,在打开的“运行”对话框中,输入“cmd”后按回车键。
查本机IP ipconfig /all
我的PC是通过WiFi接入局域网的，所以查看“无线局域网适配器 WLAN”。
查本网段活跃的IP 知道了本机所在的网段，再将本网段所有IP地址轮询ping一遍。
for /L %i IN (1,1,254) DO ping -w 2 -n 1 192.168.1.%i
等待几分钟，命令处理完成后在cmd命令窗口输入arp -a
这就是当前本网段所有活跃的IP地址。
我的树莓派的MAC地址是b8:27:eb:ae:9d:c3，所对应的IP地址为：192.168.1.37
测试一下：
用PuTTY或Windows 10自带的ssh客户端登录树莓派 我们用Windows自带的ssh登录：
成功！
3. Linux系统 以Ubuntu系统为例。
登录Linux系统 可以用主机名Host Name登录，也可以用IP地址登录。
我的主机名为xxxx，用户名是ct。用主机名登录：
ssh ct@xxxx
查看系统版本 uname -a
查本机IP 如果是用主机名登录的，不知道IP，可以用ifconfig命令查询：
清除网络接口enp1s0的arp sudo ip neigh flush dev enp1s0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9aef28ba33ef81105dd4e12e63aa8275/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-21T17:08:56+08:00" />
<meta property="article:modified_time" content="2020-10-21T17:08:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">树莓派的IP地址查找</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;">陈拓 chentuo@ms.xab.ac.cn 2020/10/19-2020/10/21</p> 
<p style="margin-left:0cm;"> </p> 
<h3>1. 概述</h3> 
<p style="margin-left:0cm;">在《电脑连接树莓派3B+》https://blog.csdn.net/chentuo2000/article/details/103332186</p> 
<p style="margin-left:0cm;">和《树莓派修改HostName》</p> 
<p style="margin-left:0cm;">https://zhuanlan.zhihu.com/p/266689387</p> 
<p style="margin-left:0cm;">两篇文章中我们介绍了电脑用SSH通过主机名Host Name连接树莓派的方法。</p> 
<p style="margin-left:0cm;">用IP地址连接树莓派更快一些，但局域网一般都使用动态IP地址，每次开机启动获取的IP地址不一样，下面分别在Windows系统下和在Linux系统下获取树莓派当前IP地址的方法。</p> 
<h3>2. Windows系统</h3> 
<ul><li>记录树莓派的MAC地址</li></ul> 
<p style="margin-left:0cm;">第一次使用树莓派时记录下这个树莓派的MAC地址</p> 
<p style="margin-left:0cm;">ifconfig</p> 
<p style="margin-left:0cm;"><img alt="" height="273" src="https://images2.imgbox.com/5c/10/D7ZkPpwc_o.png" width="554"></p> 
<p style="margin-left:0cm;">树莓派的MAC地址是b8:27:eb:ae:9d:c3</p> 
<ul><li>打开COM窗口</li></ul> 
<p style="margin-left:0cm;">按“Win + R”快捷键,在打开的“运行”对话框中,输入“cmd”后按回车键。</p> 
<p style="margin-left:0cm;"><img alt="" height="223" src="https://images2.imgbox.com/6d/f1/9YskKFdx_o.png" width="395"></p> 
<ul><li>查本机IP</li></ul> 
<p style="margin-left:0cm;">ipconfig /all</p> 
<p style="margin-left:0cm;"><img alt="" height="23" src="https://images2.imgbox.com/cc/13/ZzpuhVaA_o.png" width="232"></p> 
<p style="margin-left:0cm;">我的PC是通过WiFi接入局域网的，所以查看“无线局域网适配器 WLAN”。</p> 
<p style="margin-left:0cm;"><img alt="" height="255" src="https://images2.imgbox.com/61/d1/gSzmHc0e_o.png" width="554"></p> 
<ul><li>查本网段活跃的IP</li></ul> 
<p style="margin-left:0cm;">知道了本机所在的网段，再将本网段所有IP地址轮询ping一遍。</p> 
<p style="margin-left:0cm;">for /L %i IN (1,1,254) DO ping -w 2 -n 1 192.168.1.%i</p> 
<p style="margin-left:0cm;">等待几分钟，命令处理完成后在cmd命令窗口输入arp -a</p> 
<p style="margin-left:0cm;"><img alt="" height="362" src="https://images2.imgbox.com/97/95/fGSGBQ3V_o.png" width="417"></p> 
<p style="margin-left:0cm;">这就是当前本网段所有活跃的IP地址。</p> 
<p style="margin-left:0cm;">我的树莓派的MAC地址是b8:27:eb:ae:9d:c3，所对应的IP地址为：192.168.1.37</p> 
<p style="margin-left:0cm;">测试一下：</p> 
<p style="margin-left:0cm;"><img alt="" height="120" src="https://images2.imgbox.com/d9/4b/PEngfNzh_o.png" width="424"></p> 
<ul><li>用PuTTY或Windows 10自带的ssh客户端登录树莓派</li></ul> 
<p style="margin-left:0cm;">我们用Windows自带的ssh登录：</p> 
<p style="margin-left:0cm;"><img alt="" height="359" src="https://images2.imgbox.com/6d/1e/NgGFNt4F_o.png" width="554"></p> 
<p style="margin-left:0cm;">成功！</p> 
<h3>3. Linux系统</h3> 
<p style="margin-left:0cm;">以Ubuntu系统为例。</p> 
<ol><li>登录Linux系统</li></ol> 
<p style="margin-left:0cm;">可以用主机名Host Name登录，也可以用IP地址登录。</p> 
<p style="margin-left:0cm;">我的主机名为xxxx，用户名是ct。用主机名登录：</p> 
<p style="margin-left:0cm;">ssh ct@xxxx</p> 
<p style="margin-left:0cm;"><img alt="" height="96" src="https://images2.imgbox.com/d1/54/peMR34xr_o.png" width="364"></p> 
<ul><li>查看系统版本</li></ul> 
<p style="margin-left:0cm;">uname -a</p> 
<p style="margin-left:0cm;"><img alt="" height="24" src="https://images2.imgbox.com/ab/ee/Zrmmjj1t_o.png" width="554"></p> 
<ul><li>查本机IP</li></ul> 
<p style="margin-left:0cm;">如果是用主机名登录的，不知道IP，可以用ifconfig命令查询：</p> 
<p style="margin-left:0cm;"><img alt="" height="144" src="https://images2.imgbox.com/2e/3e/4ZZOAGt1_o.png" width="554"></p> 
<ul><li>清除网络接口enp1s0的arp</li></ul> 
<p style="margin-left:0cm;">sudo ip neigh flush  dev enp1s0</p> 
<ul><li>查本网段活跃的IP</li></ul> 
<p style="margin-left:0cm;">知道了本机所在的网段，再将本网段所有IP地址轮询ping一遍。和Windows的arp缓存只保存当前活跃的IP不同，Linux的arp缓存中也保存了不活跃的IP，这样arp表就太大，会丢失一些缓存值，所以我们分段轮询ping本网段的IP地址。</p> 
<p style="margin-left:0cm;">先ping 1到63：</p> 
<p style="margin-left:0cm;">for i in {1..63}; do ping -c1 -q -i0.3 -w2 -n 192.168.1.$i; done;</p> 
<p style="margin-left:0cm;"><img alt="" height="20" src="https://images2.imgbox.com/5a/21/N2Xu0UGY_o.png" width="554"></p> 
<p style="margin-left:0cm;">等待几分钟，命令处理完成后查看arp缓存表：</p> 
<p style="margin-left:0cm;">cat /proc/net/arp</p> 
<p style="margin-left:0cm;"><img alt="" height="427" src="https://images2.imgbox.com/b1/28/Q2iuxmQ7_o.png" width="554"></p> 
<p style="margin-left:0cm;">可以看到已经有MAC地址b8:27:eb:ae:9d:c3对应的IP地址192.168.1.37。</p> 
<ul><li>用Ubuntu自带的ssh客户端登录树莓派</li></ul> 
<p style="margin-left:0cm;"><img alt="" height="165" src="https://images2.imgbox.com/42/2a/e1y9y4Ms_o.png" width="554"></p> 
<p style="margin-left:0cm;">OK!</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43759ca61ebc477bb2bd95b14220c536/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ubuntu18.04&#43;rviz&#43;键盘任意输入时发生段错误</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/76c0f7a59c2d78964e1a8a5bd586ca43/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">hdfs：不小心删除了NameNode，如何恢复？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>