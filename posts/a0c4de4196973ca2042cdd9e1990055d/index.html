<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JS的 typeof 与 instanceof 的判断范围详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JS的 typeof 与 instanceof 的判断范围详解" />
<meta property="og:description" content="我们都知道JS是一门弱类型语言，变量可以通过var、let或const声明任意类型，在执行程序时，我们可以通过 typeof 与 instanceof用于判断变量数据的类型，便于进一步操作数据，那它们两个判断类型都是有限制的，只能判断某一类，下面我们会明确区分它们的判断类型。
JS有五种基本数据类型：
nullundefinednumberbooleanstring 三种复杂类型：
Object（任意对象）Function（一种可以执行的特殊对象）Array（一种数值类型的下标的特殊对象） 注意：函数和数组也是对象。
1.typeof的判断范围
可判断：undefined、数值、字符串、布尔值、function
不可判断：null与object、array与object
可判断举例：
let name = undefined let age = 18 let sex = &#39;男&#39; let func = function () {} let checked = true console.log(typeof name === &#39;undefined&#39;) console.log(typeof age === &#39;number&#39;) console.log(typeof sex === &#39;string&#39;) console.log(typeof func === &#39;function&#39;) console.log(typeof checked === &#39;boolean&#39;) 上面举例了typeof可以判断的五种类型，除了这五种就超出了 typeof 的能力。
不可判断举例：
举例一：不可判断null与object
var obj = null var obj1 = { name: &#39;鸭绒&#39;, } console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a0c4de4196973ca2042cdd9e1990055d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-10T19:55:01+08:00" />
<meta property="article:modified_time" content="2020-11-10T19:55:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JS的 typeof 与 instanceof 的判断范围详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>我们都知道JS是一门弱类型语言，变量可以通过var、let或const声明任意类型，在执行程序时，我们可以通过 typeof 与 instanceof用于判断变量数据的类型，便于进一步操作数据，那它们两个判断类型都是有限制的，只能判断某一类，下面我们会明确区分它们的判断类型。</p> 
</blockquote> 
<p>JS有五种基本数据类型：</p> 
<ul><li>null</li><li>undefined</li><li>number</li><li>boolean</li><li>string</li></ul> 
<p>三种复杂类型：</p> 
<ul><li>Object（任意对象）</li><li>Function（一种可以执行的特殊对象）</li><li>Array（一种数值类型的下标的特殊对象）</li></ul> 
<p><code>注意</code>：函数和数组也是对象。</p> 
<p><strong>1.typeof的判断范围</strong></p> 
<blockquote> 
 <p>可判断：undefined、数值、字符串、布尔值、function<br> 不可判断：null与object、array与object</p> 
</blockquote> 
<p><code>可判断</code>举例：</p> 
<pre><code class="prism language-js">      <span class="token keyword">let</span> name <span class="token operator">=</span> undefined
      <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">18</span>
      <span class="token keyword">let</span> sex <span class="token operator">=</span> <span class="token string">'男'</span>
      <span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
      <span class="token keyword">let</span> checked <span class="token operator">=</span> <span class="token boolean">true</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sex <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> func <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> checked <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/14/GDszQIan_o.png" alt="在这里插入图片描述"><br> 上面举例了<code>typeof</code>可以判断的五种类型，除了这五种就超出了 typeof 的能力。</p> 
<p><code>不可判断</code>举例：</p> 
<p>举例一：不可判断null与object</p> 
<pre><code class="prism language-js">      <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        name<span class="token punctuation">:</span> <span class="token string">'鸭绒'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj1 <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/df/33/991zadSb_o.png" alt="在这里插入图片描述"><br> null 和 object 两者使用<code>typeof</code>判断的结果都是’object’,那我们就无法区分这变量到底是null还是真的是object。</p> 
<p>举例二：不可判断array与object</p> 
<pre><code class="prism language-js">      <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'鸭绒'</span><span class="token punctuation">]</span>
      <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        name<span class="token punctuation">:</span> <span class="token string">'鸭绒'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/17/58/btuZ9Eyt_o.png" alt="在这里插入图片描述"><br> 数组使用 typeof 返回的也是’object’，所以最终是无法断定到底是数组还是对象。</p> 
<p><code>注意：</code>数组使用typeof不是返回 ‘array’。</p> 
<p><strong>2. instanceof 判断范围</strong></p> 
<p>instanceof用于判断<code>对象</code>的具体类型。</p> 
<p><code>对象</code>只有三种：函数、数组、对象。</p> 
<pre><code class="prism language-js">      <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'鸭绒'</span><span class="token punctuation">]</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>

	  <span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>func <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>func <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>

	  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> name<span class="token punctuation">:</span> <span class="token string">'鸭绒'</span> <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ba/6d/dPvVXNfO_o.png" alt="在这里插入图片描述"></p> 
<p>数组、函数的具体类型是Array、Function，但数组、函数同样是对象，所以同样返回true。</p> 
<p>instanceof的判断原理是<code>原型链</code>,只要能在原型链中最终相遇，便会返回true，这得需深入学习原型链。</p> 
<p>面试易考易错点：</p> 
<pre><code class="prism language-js">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/81/4d/ANd8yhhs_o.png" alt="在这里插入图片描述"><br> 前三种还是好理解的，后四种就让人有点迷惑了。</p> 
<p>下面我画一张关于函数Foo、Function、Object的原型链的关系图：</p> 
<p><img src="https://images2.imgbox.com/88/96/ay07gT7Q_o.png" alt="在这里插入图片描述"><br> 我在图中清晰的标注了注释，如果没看懂的那就要先去学学原型链，作为JS的重要核心点，务必掌握。<br> 通过上面图我们就可以确切的知道：</p> 
<pre><code class="prism language-bash">Object instanceof Function
Function instanceof Object
</code></pre> 
<p>为什么都返回true了。</p> 
<p>instanceof语法：<code>A instanceof B</code> A指的是实例对象，B指的是构造函数,就算A是Function或Object也都一致认为它是实例对象，既然是实例对象，那么它就有__proto__指向它的构造函数中的prototype。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7703f28755eeff21b2e8aae64f1fb742/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue中的响应式处理（源码解读）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2d055594eab4c38f0707c7b0fe031f6b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">idea 的MAVEN Lifecycle 基本用法  包括 install package</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>