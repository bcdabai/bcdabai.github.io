<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>numpy陌生但常用的函数小结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="numpy陌生但常用的函数小结" />
<meta property="og:description" content="目录
返回最小/最大值的下标 输出排序后的下标 返回中位数 返回累加值 返回相邻位上做n次差后的值 返回非零元素的索引值数组 返回非零元素的个数 将超出的部分强置为边界 集合运算 返回最小/最大值的下标 # axis=0 在每一列中找 axis=1 在每一行中寻找 np.argmin(a, axis=None)
np.argmax(a, axis=None)
example: &gt;&gt;&gt; a = np.arange(6).reshape(2,3) &gt;&gt;&gt; a array([[0, 1, 2], [3, 4, 5]]) &gt;&gt;&gt; np.argmin(a) 0 &gt;&gt;&gt; np.argmin(a, axis=0) array([0, 0, 0]) &gt;&gt;&gt; np.argmin(a, axis=1) array([0, 0]) 输出排序后的下标 np.argsort(a, axis=-1, kind=&#39;quicksort&#39;, order=None)
&gt;&gt;&gt; x = np.array([3, 1, 2]) &gt;&gt;&gt; np.argsort(x) array([1, 2, 0]) &gt;&gt;&gt; x = np.array([[1, 5, 7], [3, 2, 4]]) &gt;&gt;&gt; np." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5f78f0fb2f8c5279f1250888e11c8a29/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-20T22:19:55+08:00" />
<meta property="article:modified_time" content="2018-10-20T22:19:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">numpy陌生但常用的函数小结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%C2%A0%E8%BF%94%E5%9B%9E%E6%9C%80%E5%B0%8F%2F%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%BF%94%E5%9B%9E%E6%9C%80%E5%B0%8F%2F%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0" rel="nofollow">返回最小/最大值的下标       </a></p> 
<p id="%E8%BE%93%E5%87%BA%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BE%93%E5%87%BA%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0" rel="nofollow">输出排序后的下标 </a><a href="#%E8%BF%94%E5%9B%9E%E4%B8%AD%E4%BD%8D%E6%95%B0%C2%A0%C2%A0" rel="nofollow">返回中位数  </a></p> 
<p id="%E8%BF%94%E5%9B%9E%E7%B4%AF%E5%8A%A0%E5%80%BC%C2%A0%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BF%94%E5%9B%9E%E7%B4%AF%E5%8A%A0%E5%80%BC%C2%A0%C2%A0" rel="nofollow">返回累加值  </a></p> 
<p id="%C2%A0%E8%BF%94%E5%9B%9E%E7%9B%B8%E9%82%BB%E4%BD%8D%E4%B8%8A%E5%81%9An%E6%AC%A1%E5%B7%AE%E5%90%8E%E7%9A%84%E5%80%BC%C2%A0-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%BF%94%E5%9B%9E%E7%9B%B8%E9%82%BB%E4%BD%8D%E4%B8%8A%E5%81%9An%E6%AC%A1%E5%B7%AE%E5%90%8E%E7%9A%84%E5%80%BC%C2%A0" rel="nofollow">返回相邻位上做n次差后的值 </a></p> 
<p id="%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E7%B4%A2%E5%BC%95%E5%80%BC%E6%95%B0%E7%BB%84%C2%A0%C2%A0%20%C2%A0%20%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E7%B4%A2%E5%BC%95%E5%80%BC%E6%95%B0%E7%BB%84%C2%A0%C2%A0%20%C2%A0%20%C2%A0" rel="nofollow">返回非零元素的索引值数组      </a></p> 
<p id="%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0%C2%A0%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0%C2%A0%C2%A0" rel="nofollow">返回非零元素的个数  </a></p> 
<p id="%E5%B0%86%E8%B6%85%E5%87%BA%E7%9A%84%E9%83%A8%E5%88%86%E5%BC%BA%E7%BD%AE%E4%B8%BA%E8%BE%B9%E7%95%8C%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%B0%86%E8%B6%85%E5%87%BA%E7%9A%84%E9%83%A8%E5%88%86%E5%BC%BA%E7%BD%AE%E4%B8%BA%E8%BE%B9%E7%95%8C%C2%A0" rel="nofollow">将超出的部分强置为边界 </a></p> 
<p id="%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%C2%A0-toc" style="margin-left:80px;"><a href="#%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%C2%A0" rel="nofollow">集合运算 </a></p> 
<hr> 
<h4 id="%C2%A0%E8%BF%94%E5%9B%9E%E6%9C%80%E5%B0%8F%2F%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0"><u>返回最小/最大值的下标  </u>     </h4> 
<p><u>#  axis=0 在每一列中找     axis=1  在每一行中寻找  </u></p> 
<blockquote> 
 <p>np.argmin(a, axis=None)</p> 
 <p>np.argmax(a, axis=None)</p> 
</blockquote> 
<p>example:       </p> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; a = np.arange(6).reshape(2,3)
&gt;&gt;&gt; a
array([[0, 1, 2],
       [3, 4, 5]])
&gt;&gt;&gt; np.argmin(a)
0
&gt;&gt;&gt; np.argmin(a, axis=0)
array([0, 0, 0])
&gt;&gt;&gt; np.argmin(a, axis=1)
array([0, 0])</code></pre> 
<hr> 
<h4 id="%E8%BE%93%E5%87%BA%E6%8E%92%E5%BA%8F%E5%90%8E%E7%9A%84%E4%B8%8B%E6%A0%87%C2%A0"><u>输出排序后的下标 </u></h4> 
<blockquote> 
 <p>np.argsort(a, axis=-1, kind='quicksort', order=None)</p> 
</blockquote> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; x = np.array([3, 1, 2])
&gt;&gt;&gt; np.argsort(x)
array([1, 2, 0])


&gt;&gt;&gt; x = np.array([[1, 5, 7], [3, 2, 4]])
&gt;&gt;&gt; np.argsort(x, axis=0)
array([[0, 1, 1],
       [1, 0, 0]])  #沿着行向下(每列)的元素进行排序
&gt;&gt;&gt; np.argsort(x, axis=1)
array([[0, 1, 2],
       [1, 0, 2]])  #沿着列向右(每行)的元素进行排序
</code></pre> 
<hr> 
<h4 id="%E8%BF%94%E5%9B%9E%E4%B8%AD%E4%BD%8D%E6%95%B0%C2%A0%C2%A0"><u>返回中位数 </u> </h4> 
<blockquote> 
 <p>np.median(a, axis=None)</p> 
</blockquote> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; a = np.array([[10, 7, 4], [3, 2, 1]])
&gt;&gt;&gt; a
array([[10,  7,  4],
       [ 3,  2,  1]])
&gt;&gt;&gt; np.median(a)
3.5
&gt;&gt;&gt; np.median(a, axis=0)
array([ 6.5,  4.5,  2.5])
&gt;&gt;&gt; np.median(a, axis=1)
array([ 7.,  2.])</code></pre> 
<hr> 
<h4 id="%E8%BF%94%E5%9B%9E%E7%B4%AF%E5%8A%A0%E5%80%BC%C2%A0%C2%A0"><u>返回累加值 </u> </h4> 
<blockquote> 
 <p>  np.cumsum(a, axis=None)</p> 
</blockquote> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; a = np.array([[1,2,3], [4,5,6]])
&gt;&gt;&gt; a
array([[1, 2, 3],
       [4, 5, 6]])
&gt;&gt;&gt; np.cumsum(a)
array([ 1,  3,  6, 10, 15, 21])
&gt;&gt;&gt; np.cumsum(a, dtype=float)     # specifies type of output value(s)
array([  1.,   3.,   6.,  10.,  15.,  21.])
&gt;&gt;&gt;
&gt;&gt;&gt; np.cumsum(a,axis=0)      # sum over rows for each of the 3 columns
array([[1, 2, 3],
       [5, 7, 9]])
&gt;&gt;&gt; np.cumsum(a,axis=1)      # sum over columns for each of the 2 rows
array([[ 1,  3,  6],
       [ 4,  9, 15]])</code></pre> 
<hr> 
<h4 id="%C2%A0%E8%BF%94%E5%9B%9E%E7%9B%B8%E9%82%BB%E4%BD%8D%E4%B8%8A%E5%81%9An%E6%AC%A1%E5%B7%AE%E5%90%8E%E7%9A%84%E5%80%BC%C2%A0"><u>返回相邻位上做n次差后的值</u> </h4> 
<blockquote> 
 <p> np.diff(a, axis=None, n=1)</p> 
</blockquote> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; x = np.array([1, 2, 4, 7, 0])
&gt;&gt;&gt; np.diff(x)
array([ 1,  2,  3, -7])
&gt;&gt;&gt; np.diff(x, n=2)
array([  1,   1, -10])
&gt;&gt;&gt;
&gt;&gt;&gt; x = np.array([[1, 3, 6, 10], [0, 5, 6, 8]])
&gt;&gt;&gt; np.diff(x)
array([[2, 3, 4],
       [5, 1, 2]])
&gt;&gt;&gt; np.diff(x, axis=0)
array([[-1,  2,  0, -2]])</code></pre> 
<hr> 
<h4 id="%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E7%B4%A2%E5%BC%95%E5%80%BC%E6%95%B0%E7%BB%84%C2%A0%C2%A0%20%C2%A0%20%C2%A0"><u>返回非零元素的索引值数组 </u>     </h4> 
<blockquote> 
 <p>np.nonzero(a)</p> 
</blockquote> 
<p>可以通过a[nonzero(a)]得到所有a中的非零值，np.transpose(np.nonzero(a))能够描述出每一个非零元素在不同维度的索引值。</p> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; x = np.array([[1,0,0], [0,2,0], [1,1,0]])
&gt;&gt;&gt; x
array([[1, 0, 0],
       [0, 2, 0],
       [1, 1, 0]])
&gt;&gt;&gt; np.nonzero(x)
(array([0, 1, 2, 2]), array([0, 1, 0, 1]))
&gt;&gt;&gt;
&gt;&gt;&gt; x[np.nonzero(x)]
array([1, 2, 1, 1])
&gt;&gt;&gt; np.transpose(np.nonzero(x))
array([[0, 0],
       [1, 1],
       [2, 0],
       [2, 1])</code></pre> 
<p>进阶：A common use for <code>nonzero</code> is to find the indices of an array, where a condition is True. </p> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; a = np.array([[1,2,3],[4,5,6],[7,8,9]])
&gt;&gt;&gt; a &gt; 3
array([[False, False, False],
       [ True,  True,  True],
       [ True,  True,  True]])
&gt;&gt;&gt; np.nonzero(a &gt; 3)
(array([1, 1, 1, 2, 2, 2]), array([0, 1, 2, 0, 1, 2]))</code></pre> 
<p>更简洁：</p> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; (a &gt; 3).nonzero()
(array([1, 1, 1, 2, 2, 2]), array([0, 1, 2, 0, 1, 2]))</code></pre> 
<hr> 
<h4 id="%E8%BF%94%E5%9B%9E%E9%9D%9E%E9%9B%B6%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0%C2%A0%C2%A0"><u>返回非零元素的个数 </u> </h4> 
<blockquote> 
 <p>np.count_nonzero(a, axis=None)</p> 
</blockquote> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; np.count_nonzero(np.eye(4))
4
&gt;&gt;&gt; np.count_nonzero([[0,1,7,0,0],[3,0,0,2,19]])
5
&gt;&gt;&gt; np.count_nonzero([[0,1,7,0,0],[3,0,0,2,19]], axis=0)
array([1, 1, 1, 1, 1])
&gt;&gt;&gt; np.count_nonzero([[0,1,7,0,0],[3,0,0,2,19]], axis=1)
array([2, 3])</code></pre> 
<hr> 
<h4 id="%E5%B0%86%E8%B6%85%E5%87%BA%E7%9A%84%E9%83%A8%E5%88%86%E5%BC%BA%E7%BD%AE%E4%B8%BA%E8%BE%B9%E7%95%8C%C2%A0"><u>将超出的部分强置为边界</u> </h4> 
<blockquote> 
 <p>np.clip(a, a_min, a_max)</p> 
</blockquote> 
<p>(小于a_min的数变成a_min，大于a_max的数变成a_max)</p> 
<pre class="has"><code class="language-python">&gt;&gt;&gt; a = np.arange(10)
&gt;&gt;&gt; np.clip(a, 1, 8)
array([1, 1, 2, 3, 4, 5, 6, 7, 8, 8])
&gt;&gt;&gt; a
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
&gt;&gt;&gt; np.clip(a, 3, 6, out=a)
array([3, 3, 3, 3, 4, 5, 6, 6, 6, 6])
&gt;&gt;&gt; a = np.arange(10)
&gt;&gt;&gt; a
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
&gt;&gt;&gt; np.clip(a, [3, 4, 1, 1, 1, 4, 4, 4, 4, 4], 8)
array([3, 4, 2, 3, 4, 5, 6, 7, 8, 8])</code></pre> 
<hr> 
<h4 id="%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%C2%A0"><u>集合运算 </u></h4> 
<table align="left" border="1" cellpadding="1" cellspacing="1"><thead><tr><th style="width:210px;">功能说明</th><th style="width:141px;">函数名</th><th style="width:423px;">解释</th></tr></thead><tbody><tr><td style="width:210px;">1. 去除重复值</td><td style="width:141px;">unique(x)</td><td style="width:423px;"> 计算x中唯一元素，并返自有序结果</td></tr><tr><td style="width:210px;">2. 交集</td><td style="width:141px;">intersect1d(x,y)</td><td style="width:423px;">计算x和y中公共元素，并返回有序结果</td></tr><tr><td style="width:210px;">3. 并集</td><td style="width:141px;">union1d(x,y) </td><td style="width:423px;"> 计算x和y并集，并返回有序结果</td></tr><tr><td style="width:210px;">4. y元素在x中的存在情况</td><td style="width:141px;">in1d(x,y) </td><td style="width:423px;"> 得到一个表示x的元素是否包含了y的布尔型数组</td></tr><tr><td style="width:210px;">5. 差集</td><td style="width:141px;">setdiff1d(x,y)</td><td style="width:423px;">集合差，即元素在x中且不在y中</td></tr><tr><td style="width:210px;">6. 并集 - 交集</td><td style="width:141px;">setxor1d(x,y)</td><td style="width:423px;">集合对称差，即存在于一个数组中但不同时存在于两个数组中的元素</td></tr></tbody></table> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3edf3402cc4419d2c082a67b4c1869c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Lucene&amp;Solr&amp;ElasticSearch-面试题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b9fd23940bb361db80be1b1d62ce1c4e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Zigbee和WiFi那么好用，LoRa又具有什么优势呢？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>