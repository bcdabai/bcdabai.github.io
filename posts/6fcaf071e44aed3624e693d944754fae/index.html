<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>loguru的基本使用方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="loguru的基本使用方法" />
<meta property="og:description" content="文章目录 logguru安装 常用参数sinkrotationFormatlevelcompression Traceback logguru 选择使用这个库的原因是它使用简洁不复杂不像logging这个库一样需要创建Handle等，一个logger搞定所有12
安装 C:\Users\hzdl&gt; pip install loguru 常用参数 from loguru import logger logger.info(&#39;just test&#39;) logger直接输出内容前，已经提前做了配置，比较友好地输出内容的格式和颜色
2023-05-31 10:06:46.703 | INFO | main::19 - just test
如果要对输出的内容进行其他处理需要使用add方法,下面是python源码对add方法的说明，可以传入很多参数
sink sink可以传递str对象或者Path路径
from loguru import logger logger.add(&#39;test.log&#39;) logger.info(&#34;一个bug&#34;) 这样我们的add会自动判断这个字符串是个路径然后目录写入我们的log信息
rotation 这个可以约束日志的最大范围，exp：
“1 MB” “1 GB” “1 month” “2 weeks” “4 days” … …
from loguru import logger ogger.add(&#39;run_{time}.log&#39;,format=&#39;{time}|{level}|{message}&#39;,rotation=&#34;1 KB&#34;) Format key描述time记录日志生成的时间module日志记录的文件的名称name日志记录的文件的名称level日志的级别function日志出错的方法message记录日志的信息line记录日志的行数…常用的也就这么多，其他不常用了 #demo.py 1 from loguru import logger 2 3 logger.add(&#39;run.log&#39;, 4 format=&#39;{time}|{level}|{message}|{line}|{module}|{name}&#39;,rotation=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6fcaf071e44aed3624e693d944754fae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-20T15:21:43+08:00" />
<meta property="article:modified_time" content="2023-06-20T15:21:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">loguru的基本使用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><ul><li><ul><li><a href="#logguru_1" rel="nofollow">logguru</a></li><li><ul><li><a href="#_5" rel="nofollow">安装</a></li></ul> 
      </li><li><a href="#_11" rel="nofollow">常用参数</a></li><li><ul><li><a href="#sink_25" rel="nofollow">sink</a></li><li><a href="#rotation_37" rel="nofollow">rotation</a></li><li><a href="#Format_48" rel="nofollow">Format</a></li><li><a href="#level_79" rel="nofollow">level</a></li><li><a href="#compression_93" rel="nofollow">compression</a></li></ul> 
      </li><li><a href="#Traceback_101" rel="nofollow">Traceback</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h6><a id="logguru_1"></a>logguru</h6> 
<p>选择使用这个库的原因是它使用简洁不复杂不像logging这个库一样需要创建Handle等，一个logger搞定所有<sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup><sup class="footnote-ref"><a href="#fn2" rel="nofollow" id="fnref2">2</a></sup></p> 
<h6><a id="_5"></a>安装</h6> 
<pre><code class="prism language-cmd">C:\Users\hzdl&gt; pip install loguru
</code></pre> 
<h6><a id="_11"></a>常用参数</h6> 
<pre><code class="prism language-python"><span class="token keyword">from</span> loguru <span class="token keyword">import</span> logger

logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'just test'</span><span class="token punctuation">)</span>
</code></pre> 
<p>logger直接输出内容前，已经提前做了配置，比较友好地输出内容的格式和颜色</p> 
<p><font color="blue">2023-05-31 10:06:46.703</font> | <font color="rede">INFO</font> | <strong>main</strong>::19 - <font size="4">just test</font></p> 
<p>如果要对输出的内容进行其他处理需要使用add方法,下面是python源码对add方法的说明，可以传入很多参数</p> 
<h6><a id="sink_25"></a>sink</h6> 
<p>sink可以传递str对象或者Path路径</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> loguru <span class="token keyword">import</span> logger
logger<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'test.log'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"一个bug"</span><span class="token punctuation">)</span>
</code></pre> 
<p>这样我们的add会自动判断这个字符串是个路径然后目录写入我们的log信息</p> 
<h6><a id="rotation_37"></a>rotation</h6> 
<p>这个可以约束日志的最大范围，exp：</p> 
<p><font size="6" color="blue">“1 MB” “1 GB” “1 month” “2 weeks” “4 days” … …</font></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> loguru <span class="token keyword">import</span> logger
ogger<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'run_{time}.log'</span><span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'{time}|{level}|{message}'</span><span class="token punctuation">,</span>rotation<span class="token operator">=</span><span class="token string">"1 KB"</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="Format_48"></a>Format</h6> 
<table><thead><tr><th>key</th><th>描述</th></tr></thead><tbody><tr><td>time</td><td>记录日志生成的时间</td></tr><tr><td>module</td><td>日志记录的文件的名称</td></tr><tr><td>name</td><td>日志记录的文件的名称</td></tr><tr><td>level</td><td>日志的级别</td></tr><tr><td>function</td><td>日志出错的方法</td></tr><tr><td>message</td><td>记录日志的信息</td></tr><tr><td>line</td><td>记录日志的行数</td></tr><tr><td>…</td><td>常用的也就这么多，其他不常用了</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token comment">#demo.py</span>
<span class="token number">1</span> <span class="token keyword">from</span> loguru <span class="token keyword">import</span> logger
<span class="token number">2</span>
<span class="token number">3</span> logger<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'run.log'</span><span class="token punctuation">,</span>
<span class="token number">4</span>            <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'{time}|{level}|{message}|{line}|{module}|{name}'</span><span class="token punctuation">,</span>rotation<span class="token operator">=</span><span class="token string">"1 KB"</span><span class="token punctuation">)</span>
<span class="token number">5</span> logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"My message error"</span><span class="token punctuation">)</span>
<span class="token number">6</span> logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"My message errorsssssssssssss"</span><span class="token punctuation">)</span>
<span class="token number">7</span> logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"My message error"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-toml">#run.log
2023-06-20T14:32:14.749599+0800|INFO|My message error|5|demo|__main__
2023-06-20T14:32:14.749599+0800|INFO|My message errorsssssssssssss|6|demo|__main__
2023-06-20T14:32:14.749599+0800|INFO|My message error|7|demo|__main__
</code></pre> 
<h6><a id="level_79"></a>level</h6> 
<table><thead><tr><th>Level Name</th><th>Severity value</th><th>Logger method</th></tr></thead><tbody><tr><td>TRACE</td><td>5</td><td>logger.trace()</td></tr><tr><td>DEBUG</td><td>10</td><td>logger.debug()</td></tr><tr><td>INFO</td><td>20</td><td>logger.info()</td></tr><tr><td>SUCCESS</td><td>25</td><td>logger.success()</td></tr><tr><td>WARNING</td><td>30</td><td>logger.warning()</td></tr><tr><td>ERROR</td><td>40</td><td>logger.error()</td></tr><tr><td>CRITICAL</td><td>50</td><td>logger.critical()</td></tr></tbody></table> 
<p>常用的也就info或者debug以及error</p> 
<h6><a id="compression_93"></a>compression</h6> 
<p>loguru 还可以配置文件的压缩格式，比如使用 zip 文件格式保存，示例如下：</p> 
<pre><code>logger.add('runtime.log', compression='zip')
</code></pre> 
<h6><a id="Traceback_101"></a>Traceback</h6> 
<p>有时候调用函数过程中函数调用出现异常无法记录错误可以使用logger的装饰器进行追踪</p> 
<pre><code class="prism language-python"><span class="token decorator annotation punctuation">@logger<span class="token punctuation">.</span>catch</span>
<span class="token keyword">def</span> <span class="token function">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">/</span> y
</code></pre> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>参考文档： https://cuiqingcai.com/7776.html <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn2" class="footnote-item"><p>参考文档：https://loguru.readthedocs.io/en/stable/api/logger.html#sink <a href="#fnref2" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d33556f992648ff85a031fc94d2c6e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">try语句异常处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1616a0c33e7b796ddaeb455b7cac3b73/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一些WEB测试方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>