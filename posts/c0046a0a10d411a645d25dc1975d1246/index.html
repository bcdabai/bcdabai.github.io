<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SkyWalking快速上手（一）——安装单机版SkyWalking、使用SkyWalking - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SkyWalking快速上手（一）——安装单机版SkyWalking、使用SkyWalking" />
<meta property="og:description" content="文章目录 什么是SkyWalking为什么选择SkyWalking安装步骤前置条件环境要求下载 SkyWalking 配置 SkyWalkingSkywalking 使用Agent 配置Collector 配置 启动 SkyWalking配置SkyWalking代理 SkyWalking的监控功能分布式调用链追踪性能指标监控告警和报警 总结 什么是SkyWalking SkyWalking是一个开源的分布式系统跟踪、监测和分析工具。它可以帮助我们实时了解分布式系统的性能指标、追踪调用链以及分析问题根因。SkyWalking支持多种语言和框架，可以与Java、.NET、Node.js等应用程序集成，并提供丰富的监控和分析功能。
为什么选择SkyWalking 分布式追踪：SkyWalking可以跟踪分布式系统中不同服务之间的调用关系，帮助我们定位性能瓶颈和故障根源。性能监测：SkyWalking可以监控关键性能指标，如请求响应时间、吞吐量等，帮助我们评估系统的性能状况。告警和报警：SkyWalking支持设置告警规则，并在达到指定条件时发送报警通知，帮助我们及时发现和解决问题。易于集成：SkyWalking提供了与多种常见技术栈的集成方案，可以快速将其集成到我们的应用程序中。 安装步骤 前置条件 在开始安装 SkyWalking 之前，确保满足以下前置条件：
Java 运行环境已经安装并配置好。确定要监控的应用程序已经部署并运行。 环境要求 ● JDK 版本：JKD8 ~ JDK17 之间
● 端口：
○ 11800：后端监听 gRPC API 的端口
○ 12800：后端监听 HTTP REST API 的端口
○ 8080：web UI 界面端口
# Linux / macOS netstat -an | grep 8080 # windows netstat -ano | findstr 8080 下载 SkyWalking 首先，从 SkyWalking 的官方网站（https://skywalking.apache.org/downloads/ ）下载最新的发布版本。选择适合你系统的压缩包，并解压到你希望安装的目录。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c0046a0a10d411a645d25dc1975d1246/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-17T17:09:41+08:00" />
<meta property="article:modified_time" content="2023-09-17T17:09:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SkyWalking快速上手（一）——安装单机版SkyWalking、使用SkyWalking</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#SkyWalking_2" rel="nofollow">什么是SkyWalking</a></li><li><a href="#SkyWalking_6" rel="nofollow">为什么选择SkyWalking</a></li><li><a href="#_14" rel="nofollow">安装步骤</a></li><li><ul><li><a href="#_16" rel="nofollow">前置条件</a></li><li><a href="#_23" rel="nofollow">环境要求</a></li><li><a href="#_SkyWalking_38" rel="nofollow">下载 SkyWalking</a></li></ul> 
   </li><li><a href="#_SkyWalking_69" rel="nofollow">配置 SkyWalking</a></li><li><a href="#Skywalking__72" rel="nofollow">Skywalking 使用</a></li><li><ul><li><a href="#Agent__74" rel="nofollow">Agent 配置</a></li><li><a href="#Collector__88" rel="nofollow">Collector 配置</a></li></ul> 
   </li><li><a href="#_SkyWalking_105" rel="nofollow">启动 SkyWalking</a></li><li><ul><li><a href="#SkyWalking_112" rel="nofollow">配置SkyWalking代理</a></li></ul> 
   </li><li><a href="#SkyWalking_118" rel="nofollow">SkyWalking的监控功能</a></li><li><ul><li><a href="#_120" rel="nofollow">分布式调用链追踪</a></li><li><a href="#_124" rel="nofollow">性能指标监控</a></li><li><a href="#_128" rel="nofollow">告警和报警</a></li></ul> 
   </li><li><a href="#_133" rel="nofollow">总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="SkyWalking_2"></a>什么是SkyWalking</h3> 
<p>SkyWalking是一个开源的分布式系统跟踪、监测和分析工具。它可以帮助我们实时了解分布式系统的性能指标、追踪调用链以及分析问题根因。SkyWalking支持多种语言和框架，可以与Java、.NET、Node.js等应用程序集成，并提供丰富的监控和分析功能。</p> 
<h3><a id="SkyWalking_6"></a>为什么选择SkyWalking</h3> 
<ul><li><strong>分布式追踪</strong>：SkyWalking可以跟踪分布式系统中不同服务之间的调用关系，帮助我们定位性能瓶颈和故障根源。</li><li><strong>性能监测</strong>：SkyWalking可以监控关键性能指标，如请求响应时间、吞吐量等，帮助我们评估系统的性能状况。</li><li><strong>告警和报警</strong>：SkyWalking支持设置告警规则，并在达到指定条件时发送报警通知，帮助我们及时发现和解决问题。</li><li><strong>易于集成</strong>：SkyWalking提供了与多种常见技术栈的集成方案，可以快速将其集成到我们的应用程序中。</li></ul> 
<h3><a id="_14"></a>安装步骤</h3> 
<h4><a id="_16"></a>前置条件</h4> 
<p>在开始安装 SkyWalking 之前，确保满足以下前置条件：</p> 
<ul><li>Java 运行环境已经安装并配置好。</li><li>确定要监控的应用程序已经部署并运行。</li></ul> 
<h4><a id="_23"></a>环境要求</h4> 
<p>● JDK 版本：JKD8 ~ JDK17 之间<br> ● 端口：<br> ○ 11800：后端监听 gRPC API 的端口<br> ○ 12800：后端监听 HTTP REST API 的端口<br> ○ 8080：web UI 界面端口</p> 
<pre><code># Linux / macOS
netstat -an | grep 8080

# windows 
netstat -ano | findstr 8080
</code></pre> 
<h4><a id="_SkyWalking_38"></a>下载 SkyWalking</h4> 
<p>首先，从 SkyWalking 的官方网站（<a href="https://skywalking.apache.org/downloads/" rel="nofollow">https://skywalking.apache.org/downloads/</a> ）下载最新的发布版本。选择适合你系统的压缩包，并解压到你希望安装的目录。<br> <img src="https://images2.imgbox.com/99/13/6zW6Kj2O_o.png" alt="在这里插入图片描述"><br> 下载一个最新的版本 9.2.0</p> 
<pre><code># 解压
tar -xf apache-skywalking-apm-9.2.0.tar
cd apache-skywalking-apm-bin/

# 进入 bin 目录，启动
[root@localhost apache-skywalking-apm-bin]# cd bin/
[root@localhost bin]# ./startup.sh 
SkyWalking OAP started successfully!
SkyWalking Web Application started successfully!

# 显示启动成功，
# 启动后的日志默认在安装目录下的 logs 目录，里面有日志 oap.log  skywalking-oap-server.log  webapp-console.log
# 启动成功的话，会看到 skywalking-oap-server.log

# 停止服务
[root@localhost bin]# jps
1731 skywalking-webapp.jar
1716 OAPServerStartUp
2127 Jps
[root@localhost bin]# kill 1731 1716

</code></pre> 
<p>然后访问 http://xxx.xxx.xx.xxx:8080/（如果是在你自己电脑上安装的，则是你的本地ip，如果是在linux服务器上安装的，则是你服务器的ip地址） 就进入到了 Skywalking UI 界面。</p> 
<h3><a id="_SkyWalking_69"></a>配置 SkyWalking</h3> 
<p>安装完成后，需要对 SkyWalking 进行一些基本的配置。</p> 
<h3><a id="Skywalking__72"></a>Skywalking 使用</h3> 
<p>也就是如何让服务接入到 Skywalking 上，官方文档的 Agent 章节有介绍（我是看不太明白），反而在 UI 介绍文档中看到了 服务器代理，里面有 「Java代理 了解如何在不影响代码的情况下在您的服务中安装 Java 代理」文章链接。但是最新的文档只有 v8.12.0 的。</p> 
<h4><a id="Agent__74"></a>Agent 配置</h4> 
<p>在被监控的应用程序中，需要添加 SkyWalking Agent 的配置。根据你的应用程序类型，选择合适的 Agent 配置方式，并将其添加到应用程序的启动脚本中。</p> 
<p>示例 Agent 配置：</p> 
<pre><code class="prism language-properties"># SkyWalking Agent 配置
agent.service_name=my-application
agent.sample_n_per_3_secs=100
agent.namespace=default
agent.collector.backend_service=localhost:11800
</code></pre> 
<h4><a id="Collector__88"></a>Collector 配置</h4> 
<p>SkyWalking Collector 是用于接收和处理来自 Agent 的监控数据的组件。在 Collector 的配置文件中，你可以指定数据存储方式、数据存储位置以及其他相关的配置项。</p> 
<p>示例 Collector 配置：</p> 
<pre><code class="prism language-yaml"><span class="token comment"># SkyWalking Collector 配置</span>
<span class="token key atrule">storage</span><span class="token punctuation">:</span>
  <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> default
    <span class="token key atrule">namespace</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>SW_NAMESPACE<span class="token punctuation">:</span>default<span class="token punctuation">}</span>
    <span class="token key atrule">clusterNodes</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>SW_STORAGE_ES_CLUSTER_NODES<span class="token punctuation">:</span>localhost<span class="token punctuation">:</span><span class="token number">9200</span><span class="token punctuation">}</span>
    <span class="token key atrule">indexShardsNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>SW_STORAGE_ES_INDEX_SHARDS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span>
    <span class="token key atrule">indexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>SW_STORAGE_ES_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_SkyWalking_105"></a>启动 SkyWalking</h3> 
<p>完成配置后，你可以启动 SkyWalking，并开始监控你的应用程序了。根据你的安装方式，执行相应的启动命令或脚本。</p> 
<h4><a id="SkyWalking_112"></a>配置SkyWalking代理</h4> 
<ol><li>在应用程序中添加SkyWalking代理的依赖，具体方法取决于应用程序使用的语言和框架。</li><li>根据具体需求修改代理配置文件，如指定SkyWalking服务器地址和端口。</li><li>启动应用程序，代理将自动收集应用程序的性能指标和调用链信息，并发送给SkyWalking服务器。</li></ol> 
<h3><a id="SkyWalking_118"></a>SkyWalking的监控功能</h3> 
<h4><a id="_120"></a>分布式调用链追踪</h4> 
<p>SkyWalking可以追踪分布式系统中各个服务之间的调用链，包括HTTP、RPC、消息队列等不同类型的调用。通过可视化的调用链图，我们可以清晰地了解请求经过哪些服务和组件，以及每个环节的耗时和错误情况。</p> 
<h4><a id="_124"></a>性能指标监控</h4> 
<p>SkyWalking可以监控关键性能指标，如请求响应时间、吞吐量、错误率等。通过设置阈值和告警规则，我们可以在系统出现性能下降或故障时及时得到通知，进行相应的处理和优化。</p> 
<h4><a id="_128"></a>告警和报警</h4> 
<p>SkyWalking支持设置告警规则，并提供多种通知方式，如邮件、短信等。当系统的性能或可用性达到或超出预设阈值时，将触发告警并发送报警通知，帮助我们第一时间响应并解决问题。</p> 
<h3><a id="_133"></a>总结</h3> 
<p>通过本文的介绍，你已经了解了如何安装和配置 SkyWalking，以及如何启动并使用它来监控分布式系统。希望这篇文章对你有所帮助，祝你使用 SkyWalking 能够更好地监控和诊断你的应用程序。如果你有任何问题或疑问，请随时提问。<br> 使用SkyWalking进行分布式系统监控</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/066513955a9a21870a18b3dcd230ac7e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">云计算平台运维与开发（初级）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/83afb91a574bba2383be20fabd0109f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c语言每日一练(15)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>