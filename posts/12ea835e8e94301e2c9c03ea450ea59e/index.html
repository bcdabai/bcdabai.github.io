<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>史上最全linux语法汇总，教你一文掌握linux - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="史上最全linux语法汇总，教你一文掌握linux" />
<meta property="og:description" content="hadoop命令： #登录hadoop：kinit [user] kinit &lt; passwd hadoop fs -ls /user/ # 查看hdfs目录下文件 hadoop fs -put file /user/ # 上传passwd文件到hadoop目录 #调取hadoop日志： alias bhive=beeline -u &#34;hadoop.com&#34; --hivevar user=hongshaofen bhive -f obtain_log_wjwl_0902.sql hadoop fs -getmerge /user/hive/warehouse/tj_tmp.db/hongshaofeng_monitorlog_jryk_20210902 hongshaofeng_monitorlog_jryk_20210902.tsv（大写会变小写） #在Hadoop上下载该日志到本地服务器： hadoop fs -ls /user/hive/warehouse/tj_tmp.db/ |grep hongshaofeng # 查看关于我的进程文件 yarn application -list ：显示当前集群中的任务列表，任务状态包含：SUBMITTED，ACCEPTED，RUNNING yarn application -kill [application ID] ：application ID可以使用list获得，停止指定ID的集群中的任务。KILL后的认为状态为KILLED。 linux 常用语法： 快捷键：ctrl &#43;A 回到行首，ctrl &#43;E 回到行尾，ctrl&#43;u删除所有输入的字符，ctrl&#43;w删除最近一个单词。ctrl&#43;c退出回到终端，ctrl&#43;z 退出python命令。 home，0回到行首，end、$回到行尾，u撤回。 0、文件权限： d表示文件夹，-表示普通文件。rwx表示权限，r可读，w可写，x可执行，---表示不可读不可写不可执行。 1、查看命令 ll | grep name # 列出name字段的文件及文件夹，有序显示出来， ls -a #列出所有文件包括以‘." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/12ea835e8e94301e2c9c03ea450ea59e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-07T18:33:22+08:00" />
<meta property="article:modified_time" content="2022-03-07T18:33:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">史上最全linux语法汇总，教你一文掌握linux</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code class="prism language-python">hadoop命令：
<span class="token comment">#登录hadoop：kinit [user]</span>
kinit <span class="token operator">&lt;</span> passwd
hadoop fs <span class="token operator">-</span>ls  <span class="token operator">/</span>user<span class="token operator">/</span>  <span class="token comment"># 查看hdfs目录下文件</span>
hadoop fs <span class="token operator">-</span>put <span class="token builtin">file</span> <span class="token operator">/</span>user<span class="token operator">/</span>  <span class="token comment"># 上传passwd文件到hadoop目录</span>
<span class="token comment">#调取hadoop日志：</span>
alias bhive<span class="token operator">=</span>beeline <span class="token operator">-</span>u <span class="token string">"hadoop.com"</span> <span class="token operator">-</span><span class="token operator">-</span>hivevar user<span class="token operator">=</span>hongshaofen
bhive <span class="token operator">-</span>f obtain_log_wjwl_0902<span class="token punctuation">.</span>sql
hadoop fs <span class="token operator">-</span>getmerge <span class="token operator">/</span>user<span class="token operator">/</span>hive<span class="token operator">/</span>warehouse<span class="token operator">/</span>tj_tmp<span class="token punctuation">.</span>db<span class="token operator">/</span>hongshaofeng_monitorlog_jryk_20210902 hongshaofeng_monitorlog_jryk_20210902<span class="token punctuation">.</span>tsv（大写会变小写） <span class="token comment">#在Hadoop上下载该日志到本地服务器：</span>
hadoop fs <span class="token operator">-</span>ls <span class="token operator">/</span>user<span class="token operator">/</span>hive<span class="token operator">/</span>warehouse<span class="token operator">/</span>tj_tmp<span class="token punctuation">.</span>db<span class="token operator">/</span> <span class="token operator">|</span>grep hongshaofeng   <span class="token comment"># 查看关于我的进程文件</span>
yarn application <span class="token operator">-</span><span class="token builtin">list</span> ：显示当前集群中的任务列表，任务状态包含：SUBMITTED，ACCEPTED，RUNNING
yarn application <span class="token operator">-</span>kill <span class="token punctuation">[</span>application ID<span class="token punctuation">]</span>  ：application ID可以使用<span class="token builtin">list</span>获得，停止指定ID的集群中的任务。KILL后的认为状态为KILLED。


linux 常用语法： 
快捷键：ctrl <span class="token operator">+</span>A 回到行首，ctrl <span class="token operator">+</span>E 回到行尾，ctrl<span class="token operator">+</span>u删除所有输入的字符，ctrl<span class="token operator">+</span>w删除最近一个单词。ctrl<span class="token operator">+</span>c退出回到终端，ctrl<span class="token operator">+</span>z 退出python命令。
home，<span class="token number">0</span>回到行首，end、$回到行尾，u撤回。
<span class="token number">0</span>、文件权限：
d表示文件夹，<span class="token operator">-</span>表示普通文件。rwx表示权限，r可读，w可写，x可执行，<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>表示不可读不可写不可执行。

<span class="token number">1</span>、查看命令
ll <span class="token operator">|</span> grep name  <span class="token comment"># 列出name字段的文件及文件夹，有序显示出来，</span>
ls <span class="token operator">-</span>a  <span class="token comment">#列出所有文件包括以‘.’开头的隐藏文件。</span>
ls <span class="token operator">-</span>lh  <span class="token comment">#组合选项，以易读方式来显示大小。</span>
du <span class="token operator">-</span>h <span class="token comment"># 查看内存大小5.6g等。</span>

cat log<span class="token punctuation">.</span>txt<span class="token operator">|</span>tail <span class="token operator">-</span>n <span class="token operator">+</span><span class="token number">1000</span><span class="token operator">|</span>head <span class="token operator">-</span>n <span class="token number">20</span> 查看log<span class="token punctuation">.</span>txt的前<span class="token number">20</span>行到<span class="token number">1000</span>
sed <span class="token operator">-</span>n <span class="token number">100</span><span class="token punctuation">,</span>120p log<span class="token punctuation">.</span>txt <span class="token number">100</span>
cat shaofeng02 <span class="token operator">|</span> head <span class="token operator">-</span>n1 <span class="token operator">|</span> awk <span class="token string">'{print NF}'</span> <span class="token comment">#查看第一行列数</span>
cat shaofeng02 <span class="token operator">|</span> awk <span class="token string">'{print NF}'</span>  <span class="token comment">#查看所有行列数</span>

wc <span class="token operator">-</span>l shaofeng02 <span class="token comment">#查看行数</span>
wc <span class="token operator">-</span>c filename 输出 filename 的字节数
wc <span class="token operator">-</span>m filename 输出 filename 的字符数
wc <span class="token operator">-</span>w filename 输出 filename 的单词数
wc <span class="token operator">-</span>L filename 输出 filename 文件里最长的那一行是多少个字符数
awk <span class="token string">'NR==m'</span> filename                        <span class="token operator">//</span>查看filename文件的第m行

<span class="token number">0</span>、cp命令
cp <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token builtin">file</span> <span class="token punctuation">.</span> <span class="token comment"># 复制文件到当前目录</span>
cp <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token builtin">file</span> file_new <span class="token comment"># 复制文件到当前目录并重命名</span>
cp <span class="token operator">-</span>r <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token builtin">file</span> <span class="token punctuation">.</span> <span class="token comment"># 递归复制目录及其子目录内的所有内容,适用于文件夹的复制。</span>

<span class="token number">1</span>、 rm删除命令
rm <span class="token builtin">file</span> <span class="token operator">-</span>fr  <span class="token comment"># 直接删除，不许问</span>
ls <span class="token operator">|</span> grep <span class="token operator">-</span>v tmp <span class="token operator">|</span> xargs rm 删除除了tmp文件外的所有文件！
rm  <span class="token operator">-</span>rf  !<span class="token punctuation">(</span>keep1  <span class="token operator">|</span>  keep2<span class="token punctuation">)</span>  <span class="token comment">#删除keep1和keep2文件之外的所有文件,无提示地强制递归删除文件</span>
精确删除数据：rm <span class="token operator">-</span>rf <span class="token operator">*</span><span class="token punctuation">.</span>txt
rm save<span class="token operator">/</span><span class="token punctuation">{<!-- --></span><span class="token number">1131</span><span class="token punctuation">,</span><span class="token number">1132</span><span class="token punctuation">}</span>  <span class="token comment"># 删除多个文件</span>

<span class="token number">1</span>、cd命令
cd <span class="token operator">-</span>：Linux 命令行下执行该命令，会将当前目录切换到上一次所在目录
cd <span class="token operator">/</span> 切换到根目录
cd <span class="token operator">~</span> 切换到环境
<span class="token number">2</span>、find命令
find <span class="token operator">/</span> <span class="token operator">-</span>name <span class="token string">'ins*'</span> <span class="token comment">#查找/目录下以文件名ins开头的文件</span>
find <span class="token operator">/</span><span class="token operator">-</span>name <span class="token string">'*.txt'</span> <span class="token comment">#查找/目录下文件名以.txt结尾的文件</span>
find <span class="token operator">/</span> <span class="token operator">-</span>name <span class="token string">'*of*'</span> <span class="token comment">#查找/目录下文件名包含of的文件</span>
find <span class="token operator">/</span> <span class="token operator">-</span><span class="token builtin">type</span> f<span class="token operator">-</span>size <span class="token operator">+</span>100M <span class="token comment">#查找/目录下文件大小大于100M的文件</span>
find <span class="token operator">/</span> <span class="token operator">-</span><span class="token builtin">type</span> f<span class="token operator">-</span>size <span class="token operator">+</span>1G <span class="token comment">#查找/目录下文件大小大于100M的文件</span>

<span class="token number">3</span>、grep命令
grep命令一般很少单独使用，都是和管道结合使用
grep 1ang anaconda<span class="token operator">-</span>ks<span class="token punctuation">.</span>cfg <span class="token comment">#在文件中查找lang文本</span>

<span class="token number">4</span>、which命令
which查看可执行文件的位置。
which 1s <span class="token comment">#查找1s命令可执行文件的位置</span>

<span class="token number">5</span>、ps命令
ps <span class="token comment">#查看ps命令本身的进程，当前终端进程</span>
ps<span class="token operator">-</span>ef <span class="token comment">#查看当前inux系统所有的进程</span>
<span class="token number">6</span>、管道命令
将前边命令的输出作为后边命令的输入
ps<span class="token operator">-</span>ef <span class="token operator">|</span> grep mysqld <span class="token comment">#查找mysq1进程是否启动  ，mysql要加d</span>

<span class="token number">7</span>、普通用户hongshaofeng登录$：超级用户root<span class="token comment">#</span>

<span class="token number">8</span>、添加或删除用户 addr<span class="token punctuation">:</span><span class="token number">10.11</span><span class="token number">.4</span><span class="token number">.108</span> <span class="token operator">|</span>Bcast<span class="token punctuation">:</span><span class="token number">10.11</span><span class="token number">.7</span><span class="token number">.255</span> Mask<span class="token punctuation">:</span><span class="token number">255.255</span><span class="token number">.248</span><span class="token number">.0</span>
uesradd <span class="token operator">-</span>r 用户名
userdel <span class="token operator">-</span>r 用户名
passwd hongshaofeng <span class="token comment"># 设置用户密码</span>

<span class="token number">9</span>、用户权限管理<span class="token operator">-</span>chmod命令  rwx 默认是<span class="token number">421</span>
使用方式<span class="token number">1</span>：
chmod <span class="token operator">+</span>x a<span class="token punctuation">.</span>txt<span class="token comment">#给所有用户都加上执行权限！！！！！</span>
chmod u<span class="token operator">+</span>x a<span class="token punctuation">.</span>txt<span class="token comment">#给所属用户添加执行权限，在原来权限的基础上追加（了解）chmod u=x a.txt#给所属用户赋为执行权限，将原来的权限覆盖（了解）使用方式2：</span>
chmod <span class="token number">777</span> a<span class="token punctuation">.</span>txt<span class="token comment">#给所有用户都加上所有权限！！！！！</span>
一个文件刚创建时，默认的权限就是：<span class="token number">644</span>

<span class="token number">9</span>：网络管理命令
 Linux查看IP地址：ifconfig
 Windows查看ip地址：ipconfig

<span class="token number">10</span>、创建软连接，快捷方式
 ln <span class="token operator">-</span>s <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>tj_model_lib<span class="token operator">-</span>master<span class="token operator">/</span>test_model_cp<span class="token punctuation">.</span>py run_model<span class="token punctuation">.</span>py

<span class="token number">11</span>、查看历史命令
 history：查看历史命令，默认可存<span class="token number">1000</span>多条
history <span class="token number">100</span> 查看<span class="token number">100</span>条

<span class="token number">12</span>、查看应用进程列表
 yarn application <span class="token operator">-</span><span class="token builtin">list</span> <span class="token operator">|</span>grep application_1628044774004_270410  

<span class="token number">13</span>、sz下载，rz上传
sz data_save<span class="token operator">/</span><span class="token number">1125</span><span class="token operator">/</span><span class="token punctuation">{<!-- --></span>wjwl_1125<span class="token punctuation">.</span>png<span class="token punctuation">,</span>jryk_1125<span class="token punctuation">.</span>png<span class="token punctuation">}</span> 
<span class="token number">14</span>、随机取样：
 shuf <span class="token operator">-</span>n50000 hongshaofeng_monitorlog_rong360_v2_20210815<span class="token punctuation">.</span>tsv <span class="token operator">&gt;</span>rong360v2_20210815<span class="token punctuation">.</span>txt <span class="token comment">#随机取样，</span>
 head <span class="token operator">-</span>n50000 hongshaofeng_monitorlog_rong360_v2_20210815<span class="token punctuation">.</span>tsv <span class="token operator">&gt;</span>rong360v2_20210815<span class="token punctuation">.</span>txt <span class="token comment">#按行取样</span>
 shuf hongshaofeng_monitorlog_wjwl_20210902<span class="token punctuation">.</span>tsv <span class="token operator">-</span>n <span class="token number">100000</span> <span class="token operator">-</span><span class="token operator">-</span>random<span class="token operator">-</span>source<span class="token operator">=</span><span class="token string">'seed'</span> <span class="token operator">&gt;</span> wjwl_20210902<span class="token punctuation">.</span>txt  <span class="token comment">#按种子随机取样 &gt;&gt;表示追加</span>
 
<span class="token number">15</span>、nohup后台挂起
nohup python3<span class="token punctuation">.</span><span class="token number">6</span> split<span class="token punctuation">.</span>py Yixin_20211013_1<span class="token punctuation">.</span>txt <span class="token operator">&gt;</span> runoob<span class="token punctuation">.</span>log <span class="token number">2</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token number">1</span> <span class="token operator">&amp;</span>       <span class="token comment"># 2&gt;&amp;1表示将标准错误2重定向到标准输出&amp;1，标砖输出&amp;1在被重定向到runoob.log中，</span>
<span class="token comment"># 最后一个&amp;表示后台挂起。0-标准输入，1-标准输出，2-标准错误输出。 2&gt;&amp;1将两个输出绑定在一起， 错误输出和标准输出会到同一个地方。</span>
<span class="token number">16</span>、查看、杀死进程 
top 查看进程
htop可以以规则形式展示
ps <span class="token operator">-</span>aux <span class="token operator">|</span> grep dict_to_df<span class="token punctuation">.</span>py 
kill <span class="token number">57215</span>   <span class="token comment"># 杀掉这个进程，在第二列，第一列是用户id，即pid  </span>
kill <span class="token operator">-</span>STOP <span class="token number">1234</span>    <span class="token operator">//</span> 将该进程暂停  
kill <span class="token operator">-</span>CONT <span class="token number">1234</span>     <span class="token operator">//</span> 它恢复到后台（很多在前台运行的程序这样是不行的）
kill <span class="token operator">-</span><span class="token number">9</span> 强制终止退出<span class="token punctuation">,</span> 例如<span class="token punctuation">:</span> kill <span class="token operator">-</span><span class="token number">9</span> <span class="token number">3781</span>

<span class="token number">17</span>、stat test<span class="token punctuation">.</span><span class="token builtin">file</span> <span class="token comment"># 查看文件创建时间及修改信息</span>
ps显示进程信息，参数可省略 
<span class="token operator">-</span>aux   以BSD风格显示进程 常用 
<span class="token operator">-</span>efH   以System V风格显示进程
<span class="token operator">-</span>e <span class="token punctuation">,</span> <span class="token operator">-</span>A 显示所有进程
a        显示终端上所有用户的进程
x        显示无终端进程
u     显示详细信息
f        树状显示
w     完整显示信息
l      显示长列表

<span class="token number">18</span>、<span class="token operator">|</span>管道符，当前输出作为下一输入
alias mykinit<span class="token operator">=</span><span class="token string">'echo zw503KWd|kinit shiyunping'</span> <span class="token comment"># 将密码作为下一要登陆的命令中。或者直接写入文件：kinit &lt;passwd</span>

<span class="token number">19</span>、alias 给命令起别名 <span class="token operator">=</span>前后不能有空格，value内有空格，要用引号！如果想永久生效<span class="token punctuation">,</span>就把这条写入到 <span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span><span class="token punctuation">.</span>bashrc里面
alias bhive<span class="token operator">=</span><span class="token string">"beeline -u 'jdbc:hive2://bi-hadoop02.b28.rong360.com:10000/mkt;principal=hive/bi-hadoop02.b28.rong360.com@RONG360.COM'"</span>
alias python<span class="token operator">=</span><span class="token string">'/usr/local/bin/python2.7'</span>

<span class="token number">20.</span>crontab 定时任务
定时任务：crontab <span class="token operator">-</span>e进入编辑模式！每天点半执行这个shell，并输出追加到log<span class="token punctuation">.</span>txt。多个就多加一行写在下方即可！
<span class="token punctuation">(</span>base<span class="token punctuation">)</span> <span class="token punctuation">[</span>hongshaofeng@dx<span class="token operator">-</span>tjmodeclient01 hongshaofeng<span class="token punctuation">]</span>$ crontab <span class="token operator">-</span>l  <span class="token comment"># 每天9：30执行</span>
<span class="token number">30</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> cd <span class="token operator">/</span>data<span class="token operator">/</span>hongshaofeng<span class="token operator">/</span>NV_score_monitorLogGenerate <span class="token operator">&amp;</span><span class="token operator">&amp;</span> bash <span class="token operator">/</span>data<span class="token operator">/</span>hongshaofeng<span class="token operator">/</span>NV_score_monitorLogGenerate<span class="token operator">/</span>shell<span class="token punctuation">.</span>sh <span class="token operator">&gt;&gt;</span> <span class="token operator">/</span>data<span class="token operator">/</span>hongshaofeng<span class="token operator">/</span>NV_score_monitorLogGenerate<span class="token operator">/</span>log<span class="token punctuation">.</span>txt <span class="token number">2</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token number">1</span>

touch log_$<span class="token punctuation">(</span>date <span class="token operator">+</span><span class="token operator">%</span>Y<span class="token operator">%</span>m<span class="token operator">%</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span>txt <span class="token comment"># 创建自动化日期文件 $ = ``</span>
<span class="token number">30</span> <span class="token operator">*</span><span class="token operator">/</span><span class="token number">6</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">/</span>home<span class="token operator">/</span>test<span class="token punctuation">.</span>sh  <span class="token comment">##每月每天每隔6小时的每30分钟执行test.sh脚本 </span>
<span class="token number">30</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">12</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">*</span> <span class="token operator">/</span>home<span class="token operator">/</span>test<span class="token punctuation">.</span>sh <span class="token comment">##每月每天凌晨3点30分和中午12点20分执行test.sh脚本</span>

<span class="token number">20</span>、文件写入操作sed  awk  grep
head <span class="token operator">-</span>n <span class="token number">240076</span> p_train<span class="token punctuation">.</span>json <span class="token operator">&gt;</span> p_train2<span class="token punctuation">.</span>json  <span class="token comment">#将文件的前n行写入 2文件中</span>
sed <span class="token operator">-</span>i <span class="token string">'1r a2.txt'</span> a1<span class="token punctuation">.</span>txt   <span class="token comment"># 将a2.txt插入到 a1.txt 第一行后面</span>
sed <span class="token string">'$a helloworld'</span> test<span class="token punctuation">.</span>txt <span class="token comment"># 将helloworld插入到 a1.txt 末尾</span>
sed <span class="token operator">-</span>i <span class="token string">'$r 1.txt'</span> <span class="token number">2.</span>txt  <span class="token comment"># 将1.txt插入到 2.txt末尾   也可以一次性追加进去！ cat 1.txt 2.txt 3.txt &gt;&gt;new.txt</span>
sed <span class="token operator">-</span>i <span class="token string">'1d'</span> Yixin_20211013_3<span class="token punctuation">.</span>txt <span class="token comment"># 直接删除该文件第一行！sed -i 'nd' Yixin_20211013_3.txt # 直接删除该文件第n行！</span>
sed <span class="token operator">-</span>i <span class="token string">'$d'</span> Yixin_20211013_3<span class="token punctuation">.</span>txt <span class="token comment"># 直接删除该文件末尾行！</span>
sed <span class="token operator">-</span>n <span class="token string">"2, 1p"</span> filename <span class="token operator">|</span> awk <span class="token string">'print $1'</span> <span class="token comment">#打印文本第二行第一列 </span>
sed <span class="token string">'s/r/a/g'</span> test<span class="token punctuation">.</span>txt  <span class="token comment">#全局修改某个字符串为XX</span>
sed <span class="token string">'s/r/a/gi'</span> test<span class="token punctuation">.</span>txt  <span class="token comment">#全局修改某个字符串为XX，不区分大小写</span>
sed <span class="token operator">-</span>r <span class="token string">'s/r/a/gi'</span> test<span class="token punctuation">.</span>txt  <span class="token comment">#全局修改某个字符串为XX，-r还适用于扩展。</span>
sed <span class="token string">'2c helloworld'</span> test<span class="token punctuation">.</span>txt <span class="token comment"># 修改指定行号的内容</span>
sed <span class="token string">'s/^r/a/g'</span> test<span class="token punctuation">.</span>txt  <span class="token comment">#修改指定开头的内容</span>
sed <span class="token operator">-</span>n <span class="token string">'2,5p'</span> test<span class="token punctuation">.</span>txt  <span class="token comment"># 查找指定行号间的内容</span>
sed <span class="token string">"s/lyl_zaxd_622_all/$file_name/g"</span> hivesql<span class="token punctuation">.</span>txt<span class="token operator">&gt;</span>current_running2<span class="token punctuation">.</span>txt <span class="token comment">#全局更改模板中的文件名:'hsf_jryk_1123'，不加g只匹配每行开头。</span>
sed <span class="token string">"s/lvm_multi_/zt_multi_plus_feature/g"</span> xiaohua<span class="token punctuation">.</span>txt <span class="token operator">&gt;</span> xiaohua<span class="token punctuation">.</span>txt2<span class="token punctuation">.</span>txt <span class="token comment">#全局更改模板中的文件名:'hsf_jryk_1123'，不加g只匹配每行开头。</span>
sed <span class="token operator">-</span>i <span class="token string">"\$c$sql_parameter"</span> current_running2<span class="token punctuation">.</span>txt <span class="token comment">#替换最后一行.resource_id=1017 and uid=202798;</span>
ps：<span class="token operator">/</span><span class="token operator">^</span> <span class="token operator">*</span><span class="token operator">/</span> 匹配以空格开头的字符
    <span class="token operator">/</span><span class="token operator">^</span>\s<span class="token operator">/</span>  匹配任何空白字符<span class="token punctuation">,</span>包括空格、制表符、换页符等等。等价于<span class="token punctuation">[</span> \f\n\r\t\v<span class="token punctuation">]</span>
    <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">:</span>space<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">/</span> 匹配以空格或者是\t制表符开头的字符
<span class="token comment"># sed 's/\s*//g' 2  </span>
<span class="token operator">+</span>g <span class="token punctuation">:</span>匹配每一行有行首到行尾的所有字符
不加g<span class="token punctuation">:</span>匹配每一行的行首开始匹配，匹配到第一个符合的字段，就会结束，跳到下一行

awk <span class="token string">'BEGIN{OFS="\t";}{$2="";$3="";print $0}'</span> yixin_1<span class="token punctuation">.</span>txt <span class="token operator">&gt;</span>yixin_1_tuomin<span class="token punctuation">.</span>txt  <span class="token comment">#第二列，第三列置空，重定向到一个新的文件中!但是会有多余tab，记得删除</span>
awk <span class="token string">'{print $1,$5,$6,$4,}'</span> yixin_1<span class="token punctuation">.</span>txt <span class="token operator">&gt;</span>yixin_1_key<span class="token punctuation">.</span>txt  <span class="token comment"># 直接把4个主键拿出来！</span>
awk <span class="token string">'NR==1{print}'</span> filename <span class="token comment">#打印文本第一行</span>
awk <span class="token operator">-</span>F <span class="token string">','</span>   <span class="token string">'{print $1}'</span> filename     <span class="token comment">#打印文件中用','分割的第一列</span>
awk <span class="token string">'{print $1 $2}'</span> filename  <span class="token comment">#3、打印完第一列，然后打印第二列 </span>
awk <span class="token string">'END{print NR}'</span> filename  <span class="token comment"># 打印文本文件的总行数 </span>
<span class="token comment"># 可以先将第一行复制一下，再将其插入到第二行，最后再删除第一行即可。</span>

<span class="token number">1</span>、yy 复制第一行，然后用p进行粘贴。（nyy复制n行）
<span class="token number">2</span>、head <span class="token operator">-</span>n <span class="token number">1</span> hbxj_20211011_fea2<span class="token punctuation">.</span>txt <span class="token operator">&gt;</span> <span class="token number">1111.</span>txt  
<span class="token number">3</span>、sed <span class="token operator">-</span>i <span class="token string">'1 r rong360_fq_fea_head.txt'</span> rong360_fq_fea_10w<span class="token punctuation">.</span>txt 
<span class="token number">4</span>、dd删除第一行。

删除文件 text中第一列
方式一：awk <span class="token string">'{$1="";print $0}'</span> text
方式二：sed <span class="token operator">-</span>e <span class="token string">'s/[^ ]* //'</span> text

<span class="token number">21</span>、压缩和解压缩命令
Linux的压缩包后缀一般是：<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
<span class="token operator">-</span>c或<span class="token operator">-</span><span class="token operator">-</span>create 建立新的备份文件。
<span class="token operator">-</span>x或<span class="token operator">-</span><span class="token operator">-</span>extract或<span class="token operator">-</span><span class="token operator">-</span>get 从备份文件中还原文件。
<span class="token operator">-</span>z或<span class="token operator">-</span><span class="token operator">-</span>gzip或<span class="token operator">-</span><span class="token operator">-</span>ungzip 通过gzip指令处理备份文件。
<span class="token operator">-</span>v或<span class="token operator">-</span><span class="token operator">-</span>verbose 显示指令执行过程。
<span class="token operator">-</span>f<span class="token operator">&lt;</span>备份文件<span class="token operator">&gt;</span>或<span class="token operator">-</span><span class="token operator">-</span><span class="token builtin">file</span><span class="token operator">=</span><span class="token operator">&lt;</span>备份文件<span class="token operator">&gt;</span> 指定备份文件。
<span class="token comment">#解压：.tar.gz格式</span>
tar <span class="token operator">-</span>zxvf snappy<span class="token operator">-</span><span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token comment">#默认解压到当前目录tar-xvf snappy-1.1.1.tar.gz 默认解压到当前目录！！！！！</span>
tar <span class="token operator">-</span>xvf snappy<span class="token operator">-</span><span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token operator">-</span>C<span class="token operator">/</span>opt<span class="token comment">#将压缩包解压到/opt目录！！！！！！！</span>
<span class="token comment">#解压：.zip格式</span>
unzip mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.13</span><span class="token punctuation">.</span><span class="token builtin">zip</span> 默认解压到当前目录！！！！！！
unzip <span class="token operator">-</span>d<span class="token operator">/</span>opt mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.13</span><span class="token punctuation">.</span><span class="token builtin">zip</span> 解压到指定目录！！！！！！！
unzip mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.13</span><span class="token punctuation">.</span><span class="token builtin">zip</span> <span class="token operator">-</span>d<span class="token operator">/</span>opt <span class="token comment">#解压到指定目录！！！！！！！</span>
unzip <span class="token operator">-</span>l n30_new<span class="token punctuation">.</span><span class="token builtin">zip</span>  <span class="token comment">#只看一下zip压缩包中包含哪些文件，不进行解压缩</span>
unzip <span class="token operator">-</span>n test<span class="token punctuation">.</span><span class="token builtin">zip</span>  <span class="token comment">#解压的时候，有时候不想覆盖已经存在的文件，那么可以加上-n参数     </span>
unzip <span class="token operator">-</span>d <span class="token operator">/</span>temp test<span class="token punctuation">.</span><span class="token builtin">zip</span>  <span class="token comment">#tmp需要先创建 #如果要把文件解压到指定的目录下，需要用到-d参数。</span>
<span class="token comment">#压缩：.tar.gz</span>
tar <span class="token operator">-</span>czvf wjwl<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz wjwl_20211011_fea<span class="token punctuation">.</span>txt <span class="token comment">#将snappy-1.1.1文件夹进行打包压缩</span>
tar <span class="token operator">-</span>czvf <span class="token operator">/</span>root<span class="token operator">/</span><span class="token builtin">dir</span><span class="token operator">/</span>snappy<span class="token operator">-</span><span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token operator">/</span>opt<span class="token operator">/</span>server<span class="token operator">/</span>snappy<span class="token operator">-</span><span class="token number">1.1</span><span class="token number">.1</span>
tar <span class="token operator">-</span>zcvf <span class="token operator">/</span>home<span class="token operator">/</span>users<span class="token operator">/</span>xiesiya<span class="token operator">/</span>data_cut<span class="token operator">/</span>cy_947_sample_1<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token operator">/</span>home<span class="token operator">/</span>users<span class="token operator">/</span>xiesiya<span class="token operator">/</span>data_cut<span class="token operator">/</span>cy_947_sample_1<span class="token punctuation">.</span>tsv
<span class="token comment">#压缩：.zip格式</span>
<span class="token builtin">zip</span> <span class="token operator">-</span>r mysq1<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.13</span><span class="token punctuation">.</span><span class="token builtin">zip</span> mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.13</span><span class="token operator">/</span>
<span class="token builtin">zip</span> <span class="token operator">-</span>r wjwl<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz wjwl_20211011_fea<span class="token punctuation">.</span>txt

<span class="token number">22</span>、查看内存，占用情况
nvidia<span class="token operator">-</span>smi <span class="token operator">-</span>l  服务器查看GPU使用情况 <span class="token punctuation">,</span> 在命令行输入
top <span class="token operator">-</span>bn <span class="token number">1</span> <span class="token operator">-</span>i <span class="token operator">-</span>c 查看cpu占用，dstas <span class="token operator">-</span>c 也可以 。或者vmstat <span class="token operator">-</span>w<span class="token operator">-</span>w
free <span class="token operator">-</span>m <span class="token comment">#内存占用率：</span>
free <span class="token comment">#查看占用情况（总的）：</span>
vmstat  <span class="token comment">#带宽占用</span>
ps <span class="token operator">-</span>aux <span class="token operator">|</span> sort <span class="token operator">-</span>k4nr <span class="token operator">|</span> head <span class="token operator">-</span>K　　<span class="token comment"># 查看占用内存最多的N个进程：如果是10个进程，K=10，如果是最高的三个，K=3</span>
df <span class="token operator">-</span>lh <span class="token comment">#　查看硬盘空间大小：</span>
cat <span class="token operator">/</span>proc<span class="token operator">/</span>meminfo <span class="token comment">#查看内存信息</span>
查看系统位数：　　getconf LONG_BIT
查看CPU信息：　　查看cpu个数（几核）：cat <span class="token operator">/</span>proc<span class="token operator">/</span>cpuinfo <span class="token operator">|</span>grep <span class="token string">"processor"</span><span class="token operator">|</span>wc <span class="token operator">-</span>l
<span class="token triple-quoted-string string">'''
netstat -tunlp | grep 5560 #查看某一端口的使用情况：
PID：进程的ID USER：进程所有者
PR：进程的优先级别，越小越优先被执行
NInice：值
VIRT：进程占用的虚拟内存
RES：进程占用的物理内存SHR：进程使用的共享内存
S：进程的状态。S表示休眠，R表示正在运行，乙表示僵死状态，N表示该进程优先值为负数
%CPU：进程占用CPU的使用率
%MEM：进程使用的物理内存和总内存的百分比TIME+：该进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值。
COMMAND：进程启动命令名称
'''</span>
python下quit（）退出python！
hostname查看主机名，用ip地址太麻烦。每个电脑都有唯一的ip地址，便于区分，路由器寻找对方主机的参数，子网掩码也可以区分电脑是哪一类地址，abc类，a类国家级的。

<span class="token number">23</span>、文件切分与合并
split <span class="token operator">-</span>l <span class="token number">500000</span> splitTest<span class="token punctuation">.</span>txt 按行切分

<span class="token number">24</span>、删除乱码文件
ls <span class="token operator">-</span>i <span class="token comment">#按文件的节点号：</span>
find <span class="token operator">-</span>inum 节点号 <span class="token operator">-</span>delete

<span class="token number">25</span>、vi全局替换方法
语法为 <span class="token punctuation">:</span><span class="token punctuation">[</span>addr<span class="token punctuation">]</span>s<span class="token operator">/</span>源字符串<span class="token operator">/</span>目的字符串<span class="token operator">/</span><span class="token punctuation">[</span>option<span class="token punctuation">]</span>

全局替换命令为：<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">/</span>源字符串<span class="token operator">/</span>目的字符串<span class="token operator">/</span>g

<span class="token punctuation">[</span>addr<span class="token punctuation">]</span>： 表示检索范围，省略时表示当前行。
如：“<span class="token number">1</span>，<span class="token number">20</span>” ：表示从第<span class="token number">1</span>行到<span class="token number">20</span>行；
“<span class="token operator">%</span>” ：表示整个文件，同“<span class="token number">1</span><span class="token punctuation">,</span>$”；
“<span class="token punctuation">.</span> <span class="token punctuation">,</span>$” ：从当前行到文件尾；
s ：表示替换操作
<span class="token punctuation">[</span>option<span class="token punctuation">]</span> ：表示操作类型
如：g 表示全局替换<span class="token punctuation">;</span>
c 表示进行确认
p 表示替代结果逐行显示（Ctrl <span class="token operator">+</span> L恢复屏幕）；
省略option时仅对每行第一个匹配串进行替换；
如果在源字符串和目的字符串中出现特殊字符，需要用”\”转义

<span class="token number">26</span><span class="token punctuation">.</span> join方法
join <span class="token number">1.</span>txt <span class="token number">2.</span>txt  <span class="token comment"># 内连接，相当于inner merge</span>
join <span class="token operator">-</span>a1 <span class="token number">1.</span>txt <span class="token number">2.</span>txt <span class="token comment"># 左连接，相当于inner merge</span>
join <span class="token operator">-</span>a2 <span class="token number">1.</span>txt <span class="token number">2.</span>txt <span class="token comment"># 右连接，相当于inner merge</span>
join <span class="token operator">-</span>a1 <span class="token operator">-</span>a2 <span class="token number">1.</span>txt <span class="token number">2.</span>txt <span class="token comment"># 全连接，相当于outer merge</span>
join <span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token number">3</span> file1<span class="token punctuation">.</span>txt file2<span class="token punctuation">.</span>txt <span class="token comment">#以第一个文件的第二列和第二个文件的第三列做匹配字段。</span>
<span class="token comment">#-o 指定 将file1的1,2,3列，file2的1,2,3 列都输出。-a指定将file1中不匹配的行也输出</span>
join <span class="token operator">-</span>o <span class="token number">1.1</span> <span class="token operator">-</span>o <span class="token number">1.2</span> <span class="token operator">-</span>o <span class="token number">1.3</span> <span class="token operator">-</span>o <span class="token number">2.1</span> <span class="token operator">-</span>o <span class="token number">2.2</span> <span class="token operator">-</span>o <span class="token number">2.3</span> <span class="token operator">-</span>e <span class="token string">'empty'</span> <span class="token operator">-</span>a <span class="token number">1</span> file1<span class="token punctuation">.</span>txt file2<span class="token punctuation">.</span>txt 
join <span class="token operator">-</span>v1 file1<span class="token punctuation">.</span>txt file2<span class="token punctuation">.</span>txt  <span class="token comment"># -v 1 将file1中不匹配的行输出</span>
join <span class="token operator">-</span>v1 <span class="token operator">-</span><span class="token number">1</span> <span class="token number">2</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token number">5</span> <span class="token number">1.</span>txt <span class="token number">2.</span>txt <span class="token operator">&gt;</span> <span class="token number">3.</span>txt

<span class="token punctuation">:</span>s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span> 替换当前行第一个 vivian 为 sky
<span class="token punctuation">:</span>s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span>g 替换当前行所有 vivian 为 sky
<span class="token punctuation">:</span>n<span class="token punctuation">,</span>$s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span> 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky
<span class="token punctuation">:</span>n<span class="token punctuation">,</span>$s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span>g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky
（n 为数字，若 n 为 <span class="token punctuation">.</span>，表示从当前行开始到最后一行）
<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span>（等同于 <span class="token punctuation">:</span>g<span class="token operator">/</span>vivian<span class="token operator">/</span>s<span class="token operator">//</span>sky<span class="token operator">/</span>）替换每一行的第一个 vivian 为 sky
<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">/</span>vivian<span class="token operator">/</span>sky<span class="token operator">/</span>g（等同于 <span class="token punctuation">:</span>g<span class="token operator">/</span>vivian<span class="token operator">/</span>s<span class="token operator">//</span>sky<span class="token operator">/</span>g） 替换每一行中所有 vivian 为 sky

可以使用 <span class="token comment"># 作为分隔符，此时中间出现的 / 不会作为分隔符</span>
<span class="token punctuation">:</span>s<span class="token comment">#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/</span>
<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">+</span><span class="token operator">/</span>oradata<span class="token operator">/</span>apras<span class="token operator">/</span><span class="token operator">+</span><span class="token operator">/</span>user01<span class="token operator">/</span>apras1<span class="token operator">+</span> （使用<span class="token operator">+</span> 来替换 <span class="token operator">/</span> ）： <span class="token operator">/</span>oradata<span class="token operator">/</span>apras<span class="token operator">/</span>替换成<span class="token operator">/</span>user01<span class="token operator">/</span>apras1<span class="token operator">/</span>

删除文本中的<span class="token operator">^</span>M
问题描述：对于换行，window下用回车换行（<span class="token number">0A0D</span>）来表示，linux下是回车（<span class="token number">0A</span>）来表示。这样，将window上的文件拷到unix上用时，总会有个<span class="token operator">^</span>M，
请写个用在unix下的过滤windows文件的换行符（<span class="token number">0D</span>）的shell或c程序。

使用命令：cat filename1 <span class="token operator">|</span> tr <span class="token operator">-</span>d “<span class="token operator">^</span>V<span class="token operator">^</span>M” <span class="token operator">&gt;</span> newfile<span class="token punctuation">;</span>
使用命令：sed <span class="token operator">-</span>e “s<span class="token operator">/</span><span class="token operator">^</span>V<span class="token operator">^</span>M<span class="token operator">//</span>” filename <span class="token operator">&gt;</span> outputfilename

需要注意的是在<span class="token number">1</span>、<span class="token number">2</span>两种方法中，<span class="token operator">^</span>V和<span class="token operator">^</span>M指的是Ctrl<span class="token operator">+</span>V和Ctrl<span class="token operator">+</span>M。你必须要手工进行输入，而不是粘贴。
在vi中处理：首先使用vi打开文件，然后按ESC键，接着输入命令：
<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">/</span><span class="token operator">^</span>V<span class="token operator">^</span>M<span class="token operator">//</span> 
<span class="token punctuation">:</span><span class="token operator">%</span>s<span class="token operator">/</span><span class="token operator">^</span>M$<span class="token operator">//</span>g

如果上述方法无用，则正确的解决办法是：
tr <span class="token operator">-</span>d “\r” <span class="token operator">&lt;</span> src <span class="token operator">&gt;</span>dest
tr <span class="token operator">-</span>d “\<span class="token number">015</span>〃 dest
strings A<span class="token operator">&gt;</span>B

其它用法
利用 <span class="token punctuation">:</span>s 命令可以实现字符串的替换。具体的用法包括：
<span class="token punctuation">:</span>s<span class="token operator">/</span>str1<span class="token operator">/</span>str2<span class="token operator">/</span> 用字符串 str2 替换行中首次出现的字符串 str1
<span class="token punctuation">:</span>s<span class="token operator">/</span>str1<span class="token operator">/</span>str2<span class="token operator">/</span>g 用字符串 str2 替换行中所有出现的字符串 str1
<span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token punctuation">,</span>$ s<span class="token operator">/</span>str1<span class="token operator">/</span>str2<span class="token operator">/</span>g 用字符串 str2 替换正文当前行到末尾所有出现的字符串 str1
<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>$ s<span class="token operator">/</span>str1<span class="token operator">/</span>str2<span class="token operator">/</span>g 用字符串 str2 替换正文中所有出现的字符串 str1
<span class="token punctuation">:</span>g<span class="token operator">/</span>str1<span class="token operator">/</span>s<span class="token operator">//</span>str2<span class="token operator">/</span>g 功能同上

<span class="token number">27</span>、 tee命令：cat <span class="token number">1.</span>txt <span class="token operator">|</span> tee <span class="token number">3.</span>txt 查看<span class="token number">1</span>文件并写入到<span class="token number">3</span>文件，
ls <span class="token operator">&gt;</span>a<span class="token punctuation">.</span>txt，这时我们就不能看到输出了，如果我们既想把输出保存到文件中，又想在屏幕上看到输出内容，就可以使用tee命令了。
tee <span class="token builtin">file</span> 输出到标准输出的同时，保存到文件<span class="token builtin">file</span>中。如果文件不存在，则创建；如果已经存在，则覆盖之。
tee <span class="token operator">-</span>a <span class="token builtin">file</span>  输出到标准输出的同时，追加到文件<span class="token builtin">file</span>中。如果文件不存在，则创建；如果已经存在，就在末尾追加内容，而不是覆盖。
tee <span class="token operator">-</span>输出到标准输出两次。
tee file1 file2 <span class="token operator">-</span>  输出到标准输出两次，同时保存到file1和file2中。
<span class="token number">28</span>、wget命令：下载
wget https<span class="token punctuation">:</span><span class="token operator">//</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">-</span>releases<span class="token operator">/</span><span class="token number">20.10</span><span class="token operator">/</span>ubuntu<span class="token operator">-</span><span class="token number">20.10</span><span class="token operator">-</span>desktop<span class="token operator">-</span>amd64<span class="token punctuation">.</span>iso 
wget <span class="token operator">-</span>d http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.168</span>  <span class="token comment">#下载192.168.1.168首页并且显示下载信息</span>
wget <span class="token operator">-</span>O https<span class="token punctuation">:</span><span class="token operator">//</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">-</span>releases<span class="token operator">/</span><span class="token number">20.10</span><span class="token operator">/</span>ubuntu<span class="token operator">-</span><span class="token number">20.10</span><span class="token operator">-</span>desktop<span class="token operator">-</span>amd64<span class="token punctuation">.</span>iso <span class="token comment">#使用wget -O下载并以自定义文件名保存</span>


vi <span class="token punctuation">.</span>git<span class="token operator">/</span>arc<span class="token operator">/</span>default<span class="token operator">-</span>relative<span class="token operator">-</span>commit
vim：
<span class="token number">1</span><span class="token punctuation">.</span>删除所有内容命令：ggdG
其中，gg为跳转到文件首行；dG为删除光标所在行以及其下所有行的内容；
再细讲，d为删除，G为跳转到文件末尾行；
编辑模式下，大写的O上方加一行，o下方加一行。全部替换<span class="token operator">%</span>s<span class="token operator">/</span>hello<span class="token operator">/</span>haha<span class="token operator">/</span>g
按【<span class="token operator">/</span>】全局搜索
yy复制  5yy复制<span class="token number">5</span>行
p粘贴<span class="token punctuation">:</span><span class="token operator">-</span> p<span class="token punctuation">(</span>小写<span class="token punctuation">)</span> 在光标位置之后粘贴  <span class="token operator">-</span> P<span class="token punctuation">(</span>大写<span class="token punctuation">)</span> 在光标位置之前粘贴
u撤销
dd 删除  <span class="token number">5dd</span>删除<span class="token number">5</span>行
gg回到文件开头
G回到文件未尾
<span class="token operator">/</span>Hello 在文件中查找字符串Hello
home行首，end回行尾。
：wq 保存退出
：wq！强制保存退出
：x 保存退出
shift<span class="token operator">+</span>z<span class="token operator">+</span>Z 保存退出
：q查看文件内容之后退出
：q！修改内容不想保存退出
：w只保存，不退出
：w b<span class="token punctuation">.</span>txt 将当前文件另存为b<span class="token punctuation">.</span>txt
：<span class="token number">123</span>将光标定位到<span class="token number">123</span>行
：<span class="token operator">%</span>s<span class="token operator">/</span>Haha<span class="token operator">/</span>Hello<span class="token operator">/</span>g 替换
<span class="token punctuation">:</span>wq 保存并退出
<span class="token punctuation">:</span><span class="token builtin">set</span> number     显示行号
<span class="token punctuation">:</span><span class="token builtin">set</span> nonumber  隐藏行号
<span class="token operator">/</span>apache  在文档中查找apache 按n跳到下一个，shift<span class="token operator">+</span>n上一个
h<span class="token punctuation">(</span>左移一个字符←<span class="token punctuation">)</span>、j<span class="token punctuation">(</span>下一行↓<span class="token punctuation">)</span>、k<span class="token punctuation">(</span>上一行↑<span class="token punctuation">)</span>、l<span class="token punctuation">(</span>右移一个字符→<span class="token punctuation">)</span>

grep <span class="token string">'2b5fe08c9b856b9bf17787fe3ae0d3b5'</span> jiufu_meta02 <span class="token comment">#或者</span>
cat jiufu_meta02<span class="token operator">|</span>grep <span class="token number">9b75a13bad8b9574fac20cc9f3be234a</span> 

$ grep –e “正则表达式” 文件名  <span class="token comment">#从文件内容查找与正则表达式匹配的行</span>
$ grep –i <span class="token string">"被查找的字符串"</span> 文件名  <span class="token comment">#查找时不区分大小写：</span>
$ grep <span class="token operator">-</span>l <span class="token string">"被查找的字符串"</span> 文件名  <span class="token comment">#查找匹配的行数：</span>
拷贝<span class="token operator">/</span>粘贴 （陈皓注：p<span class="token operator">/</span>P都可以，p是表示在当前位置之后，P表示在当前位置之前）
P → 粘贴
yy → 拷贝当前行当行于 ddP
yyp 复制光标所在行，并粘贴
<span class="token number">2dd</span> → 删除<span class="token number">2</span>行
3p → 粘贴文本<span class="token number">3</span>次
NG → 到第 N 行 
w → 到下一个单词的开头。
e → 到下一个单词的结尾。
<span class="token operator">%</span> <span class="token punctuation">:</span> 匹配括号移动，包括 <span class="token punctuation">(</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">.</span> （陈皓注：你需要把光标先移到括号上）
<span class="token operator">*</span> 和 <span class="token comment">#:  匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）</span>
<span class="token operator">^</span> 到行头
<span class="token operator">^</span> → 到行头
<span class="token operator">&lt;</span>Ctrl<span class="token operator">-</span>v<span class="token operator">&gt;</span> → 开始块操作
<span class="token operator">&lt;</span>Ctrl<span class="token operator">-</span>d<span class="token operator">&gt;</span> → 向下移动 <span class="token punctuation">(</span>你也可以使用hjkl来移动光标，或是使用<span class="token operator">%</span>，或是别的<span class="token punctuation">)</span>
I<span class="token operator">-</span><span class="token operator">-</span> <span class="token punctuation">[</span>ESC<span class="token punctuation">]</span> → I是插入，插入“<span class="token operator">-</span><span class="token operator">-</span>”，按ESC键来为每一行生效。
自动提示： <span class="token operator">&lt;</span>C<span class="token operator">-</span>n<span class="token operator">&gt;</span> 和 <span class="token operator">&lt;</span>C<span class="token operator">-</span>p<span class="token operator">&gt;</span>
在 Insert 模式下，你可以输入一个词的开头，然后按 <span class="token operator">&lt;</span>C<span class="token operator">-</span>p<span class="token operator">&gt;</span>或是<span class="token operator">&lt;</span>C<span class="token operator">-</span>n<span class="token operator">&gt;</span>，自动补齐功能就出现了……



系统管理命令
stat              显示指定文件的详细信息，比ls更详细
who               显示在线登陆用户
whoami          显示当前操作用户
hostname      显示主机名
uname           显示系统信息
top                动态显示当前耗费资源最多进程信息
ps                  显示瞬间进程状态 ps <span class="token operator">-</span>aux
du                  查看目录大小 du <span class="token operator">-</span>h <span class="token operator">/</span>home带有单位显示目录信息
df                  查看磁盘大小 df <span class="token operator">-</span>h 带有单位显示磁盘信息
ifconfig          查看网络情况
ping                测试网络连通
netstat          显示网络状态信息
man                命令不会用了，找男人  如：man ls
clear              清屏
alias               对命令重命名 如：alias showmeit<span class="token operator">=</span><span class="token string">"ps -aux"</span> ，另外解除使用unaliax showmeit
kill                 杀死进程，可以先用ps 或 top命令查看进程的<span class="token builtin">id</span>，然后再用kill命令杀死进程。

打包压缩相关命令
gzip：
bzip2：
tar<span class="token punctuation">:</span>                打包压缩
     <span class="token operator">-</span>c              归档文件
     <span class="token operator">-</span>x              压缩文件
     <span class="token operator">-</span>z              gzip压缩文件
     <span class="token operator">-</span>j              bzip2压缩文件
     <span class="token operator">-</span>v              显示压缩或解压缩过程 v<span class="token punctuation">(</span>view<span class="token punctuation">)</span>
     <span class="token operator">-</span>f              使用档名

例：
tar <span class="token operator">-</span>cvf <span class="token operator">/</span>home<span class="token operator">/</span>abc<span class="token punctuation">.</span>tar <span class="token operator">/</span>home<span class="token operator">/</span>abc              只打包，不压缩
tar <span class="token operator">-</span>czvf <span class="token operator">/</span>home<span class="token operator">/</span>abc<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span class="token operator">/</span>home<span class="token operator">/</span>abc        打包，并用gzip压缩
tar <span class="token operator">-</span>jcvf <span class="token operator">/</span>home<span class="token operator">/</span>abc<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>bz2 <span class="token operator">/</span>home<span class="token operator">/</span>abc      打包，并用bzip2压缩
当然，如果想解压缩，就直接替换上面的命令  tar <span class="token operator">-</span>cvf  <span class="token operator">/</span> tar <span class="token operator">-</span>zcvf  <span class="token operator">/</span> tar <span class="token operator">-</span>jcvf 中的“c” 换成“x” 就可以了。

关机<span class="token operator">/</span>重启机器
shutdown
     <span class="token operator">-</span>r             关机重启
     <span class="token operator">-</span>h             关机不重启
     now          立刻关机
halt               关机
reboot          重启

用户及用户组管理
<span class="token operator">/</span>etc<span class="token operator">/</span>passwd    存储用户账号
<span class="token operator">/</span>etc<span class="token operator">/</span>group       存储组账号
<span class="token operator">/</span>etc<span class="token operator">/</span>shadow    存储用户账号的密码
<span class="token operator">/</span>etc<span class="token operator">/</span>gshadow  存储用户组账号的密码
useradd 用户名
userdel 用户名
adduser 用户名
groupadd 组名
groupdel 组名
passwd root     给root设置密码
su root
su <span class="token operator">-</span> root  
<span class="token operator">/</span>etc<span class="token operator">/</span>profile     系统环境变量  win<span class="token operator">+</span>r <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>sysdm<span class="token punctuation">.</span>cpl
bash_profile     用户环境变量  
<span class="token punctuation">.</span>bashrc              用户环境变量
su user              切换用户，加载配置文件<span class="token punctuation">.</span>bashrc
su <span class="token operator">-</span> user            切换用户，加载配置文件<span class="token operator">/</span>etc<span class="token operator">/</span>profile ，加载bash_profile

更改文件的用户及用户组
sudo chown <span class="token punctuation">[</span><span class="token operator">-</span>R<span class="token punctuation">]</span> owner<span class="token punctuation">[</span><span class="token punctuation">:</span>group<span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span>File<span class="token operator">|</span>Directory<span class="token punctuation">}</span>

例如：还以jdk<span class="token operator">-</span>7u21<span class="token operator">-</span>linux<span class="token operator">-</span>i586<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz为例。属于用户hadoop，组hadoop
要想切换此文件所属的用户及组。可以使用命令。
sudo chown root<span class="token punctuation">:</span>root jdk<span class="token operator">-</span>7u21<span class="token operator">-</span>linux<span class="token operator">-</span>i586<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz

更改权限
sudo chmod <span class="token punctuation">[</span>u所属用户  g所属组  o其他用户  a所有用户<span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token operator">+</span>增加权限  <span class="token operator">-</span>减少权限<span class="token punctuation">]</span>  <span class="token punctuation">[</span>r  w  x<span class="token punctuation">]</span>   目录名 
例如有一个文件filename，权限为“<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>x” <span class="token punctuation">,</span>将权限值改为<span class="token string">"-rwxrw-r-x"</span>，用数值表示为<span class="token number">765</span>
sudo chmod u<span class="token operator">+</span>x g<span class="token operator">+</span>w o<span class="token operator">+</span>r  filename
上面的例子可以用数值表示
sudo chmod <span class="token number">765</span> filename



cur_dateTime<span class="token operator">=</span><span class="token string">"`date +%Y-%m-%d,%H:%m:%s`"</span> 


shell脚本：chmod <span class="token operator">+</span>x test<span class="token punctuation">.</span>sh   <span class="token comment">#如果在开头加入bash解释器#!/bin/uesr/bash 则不用添加权限也可以执行，与python类似。</span>
date_info<span class="token operator">=</span>$<span class="token punctuation">(</span>date <span class="token operator">-</span>d <span class="token string">"yesterday"</span> <span class="token operator">+</span><span class="token operator">%</span>Y<span class="token operator">%</span>m<span class="token operator">%</span>d<span class="token punctuation">)</span> <span class="token comment"># 当前日期的前一天，输入到变量要加$</span>
date <span class="token operator">+</span><span class="token string">"%Y-%m-%d"</span> <span class="token comment"># 获取当前日期。</span>
date <span class="token operator">+</span><span class="token string">'%Y%m%d'</span>  <span class="token comment"># 20211201</span>
date <span class="token operator">+</span><span class="token string">'%m%d'</span> <span class="token comment"># 1201</span>
date <span class="token operator">+</span><span class="token string">'%F'</span> <span class="token comment">#2021-12-01</span>
date <span class="token operator">-</span>d <span class="token string">"10 day ago"</span> <span class="token operator">+</span><span class="token operator">%</span>Y<span class="token operator">%</span>m<span class="token operator">%</span>d <span class="token comment">#计算当前日期的前几天（例如计算当前日期的前10天）,如果是负数的话，则会往前数</span>
date <span class="token operator">-</span>d <span class="token string">"yesterday 20150401 "</span> <span class="token operator">+</span><span class="token operator">%</span>Y<span class="token operator">%</span>m<span class="token operator">%</span>d <span class="token comment">#计算指定日期的前一天的日期</span>
<span class="token builtin">file</span><span class="token operator">=</span><span class="token operator">/</span>dir1<span class="token operator">/</span>dir2<span class="token operator">/</span>dir3<span class="token operator">/</span>my<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">.</span>txt

可以用$<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>分别替换得到不同的值：
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token comment">#*/}：删掉第一个 / 及其左边的字符串：dir1/dir2/dir3/my.file.txt</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token comment">##*/}：删掉最后一个 / 及其左边的字符串：my.file.txt</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token comment">#*.}：删掉第一个 . 及其左边的字符串：file.txt</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token comment">##*.}：删掉最后一个 . 及其左边的字符串：txt</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">%</span><span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">}</span>：删掉最后一个 <span class="token operator">/</span> 及其右边的字符串：<span class="token operator">/</span>dir1<span class="token operator">/</span>dir2<span class="token operator">/</span>dir3
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">%</span><span class="token operator">%</span><span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">}</span>：删掉第一个 <span class="token operator">/</span> 及其右边的字符串：<span class="token punctuation">(</span>空值<span class="token punctuation">)</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">%</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">}</span>：删掉最后一个 <span class="token punctuation">.</span> 及其右边的字符串：<span class="token operator">/</span>dir1<span class="token operator">/</span>dir2<span class="token operator">/</span>dir3<span class="token operator">/</span>my<span class="token punctuation">.</span><span class="token builtin">file</span>
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">%</span><span class="token operator">%</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">}</span>：删掉第一个 <span class="token punctuation">.</span> 及其右边的字符串：<span class="token operator">/</span>dir1<span class="token operator">/</span>dir2<span class="token operator">/</span>dir3<span class="token operator">/</span>my
记忆的方法为：
<span class="token comment"># 是 去掉左边（键盘上#在 $ 的左边）</span>
<span class="token operator">%</span>是去掉右边（键盘上<span class="token operator">%</span> 在$ 的右边）
单一符号是最小匹配；两个符号是最大匹配
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span>：提取最左边的 <span class="token number">5</span> 个字节：<span class="token operator">/</span>dir1
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span>：提取第 <span class="token number">5</span> 个字节右边的连续<span class="token number">5</span>个字节：<span class="token operator">/</span>dir2
也可以对变量值里的字符串作替换：
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">/</span><span class="token builtin">dir</span><span class="token operator">/</span>path<span class="token punctuation">}</span>：将第一个<span class="token builtin">dir</span> 替换为path：<span class="token operator">/</span>path1<span class="token operator">/</span>dir2<span class="token operator">/</span>dir3<span class="token operator">/</span>my<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">.</span>txt
$<span class="token punctuation">{<!-- --></span><span class="token builtin">file</span><span class="token operator">//</span><span class="token builtin">dir</span><span class="token operator">/</span>path<span class="token punctuation">}</span>：将全部<span class="token builtin">dir</span> 替换为 path：<span class="token operator">/</span>path1<span class="token operator">/</span>path2<span class="token operator">/</span>path3<span class="token operator">/</span>my<span class="token punctuation">.</span><span class="token builtin">file</span><span class="token punctuation">.</span>txt

<span class="token comment">#!/bin/bash</span>
export CDH_HOME<span class="token operator">=</span><span class="token string">"/opt/cloudera/parcels/CDH"</span>
export HADOOP_HOME<span class="token operator">=</span><span class="token string">"/opt/cloudera/parcels/CDH/lib/hadoop"</span>
export HIVE_HOME<span class="token operator">=</span><span class="token string">"/opt/cloudera/parcels/CDH/lib/hive"</span>
export HADOOP_CONF_DIR<span class="token operator">=</span><span class="token string">"/etc/hadoop/conf"</span>
export HIVE_CONF_DIR<span class="token operator">=</span><span class="token string">"/etc/hive/conf"</span>
export HADOOP_VERSION<span class="token operator">=</span><span class="token number">2.6</span><span class="token number">.0</span><span class="token operator">-</span>cdh5<span class="token punctuation">.</span><span class="token number">13.3</span>
export JAVA_HOME<span class="token operator">=</span><span class="token string">"/opt/jdk1.8.0_51"</span>
PATH<span class="token operator">=</span><span class="token string">"$PATH:$JAVA_HOME/bin"</span>
export PATH

source <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>bashrc
echo $<span class="token punctuation">(</span>which python<span class="token punctuation">)</span>

kinit<span class="token operator">&lt;</span> passwd
date_info<span class="token operator">=</span>$<span class="token punctuation">(</span>date <span class="token operator">+</span><span class="token operator">%</span>m<span class="token operator">%</span>d<span class="token punctuation">)</span> <span class="token comment">#日期</span>
dir_res<span class="token operator">=</span><span class="token string">"./save/"</span>$date_info <span class="token comment">#创建当天的文件夹</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> ! <span class="token operator">-</span>e $dir_res <span class="token punctuation">]</span><span class="token punctuation">;</span>then <span class="token comment">#如果路径不存在，则创造路径</span>
 mkdir <span class="token operator">-</span>p $dir_res
fi

date_save<span class="token operator">=</span><span class="token string">"./date_save"</span> <span class="token comment">#创建date_save文件夹，之后从hadoop拉取的tsv文件都存放在里面</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> ! <span class="token operator">-</span>e $date_save <span class="token punctuation">]</span><span class="token punctuation">;</span>then <span class="token comment">#如果路径不存在，则创造路径</span>
 mkdir <span class="token operator">-</span>p $date_save
fi

<span class="token keyword">while</span> read <span class="token operator">-</span>r line
do
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"${line:0:3}"</span> <span class="token operator">!=</span> <span class="token string">"END"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>then  <span class="token comment">#line第0-2不为end就继续执行！</span>
 echo $line <span class="token comment">#输出当前命令</span>
 org_parameter<span class="token operator">=</span>$<span class="token punctuation">{<!-- --></span>line<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">//</span><span class="token operator">*</span><span class="token punctuation">}</span> <span class="token comment">#机构名删掉第一个 // 及其右边的字符串:xmqy2</span>
 file_name<span class="token operator">=</span><span class="token string">"hsf_"</span>$org_parameter<span class="token string">"_"</span>$date_info  <span class="token comment"># 'hsf_jryk_1123'</span>
 file_name_with_format<span class="token operator">=</span>$date_save<span class="token string">"/"</span>$file_name<span class="token string">".tsv"</span> <span class="token comment">#tsv文件的路径，hsf_jryk_1123.tsv</span>

 temp<span class="token operator">=</span>$<span class="token punctuation">{<!-- --></span>line<span class="token operator">%</span><span class="token operator">//</span><span class="token operator">*</span><span class="token punctuation">}</span>  <span class="token comment">#${file%/*}：删掉最后一个 // 及其右边的字符串:xmqy2//resource_id=1017 and uid=202798;</span>
 sql_parameter<span class="token operator">=</span>$<span class="token punctuation">{<!-- --></span>temp<span class="token comment">#*//} #hivesql中的选择条件：${file#*/}：删掉第一个 // 及其左边的字符串:  resource_id=1017 and uid=202798;</span>

<span class="token comment"># temp=${line##*//} #python的参数输入,${file##*/}：删掉最后一个 // 及其左边的字符串: -name 厦门强云v2 -mode 300-850</span>
<span class="token comment"># python_parameter="-path "$file_name_with_format" "$temp #xmqy2//resource_id=1017 and uid=202798;//-name 厦门强云v2 -mode 300-850</span>

 sed <span class="token string">"s/lyl_zaxd_622_all/$file_name/g"</span> hivesql<span class="token punctuation">.</span>txt<span class="token operator">&gt;</span>current_running<span class="token punctuation">.</span>txt <span class="token comment">#更改模板中的文件名:'hsf_jryk_1123'</span>
 sed <span class="token operator">-</span>i <span class="token string">"\$c$sql_parameter"</span> current_running<span class="token punctuation">.</span>txt <span class="token comment">#修改当前的文件指令：最后一行追加了resource_id=1017 and uid=202798;</span>
 $<span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>beeline <span class="token operator">-</span>u <span class="token string">"jdbc:hive2://bi-hadoop02.b28.rong360.com:10000/mkt;principal=hive/bi-hadoop02.b28.rong360.com@RONG360.COM"</span> <span class="token operator">-</span>f current_running<span class="token punctuation">.</span>txt<span class="token punctuation">)</span>
 $<span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>hdfs dfs <span class="token operator">-</span>getmerge hdfs<span class="token punctuation">:</span><span class="token operator">//</span>nameservice1<span class="token operator">/</span>user<span class="token operator">/</span>hive<span class="token operator">/</span>warehouse<span class="token operator">/</span>tj_tmp<span class="token punctuation">.</span>db<span class="token operator">/</span>$file_name $file_name_with_format<span class="token punctuation">)</span>

 sed <span class="token string">"s/lyl_zaxd_622_all/$file_name/g"</span> hivesql<span class="token punctuation">.</span>txt<span class="token operator">&gt;</span>current_running2<span class="token punctuation">.</span>txt <span class="token comment">#更改模板中的文件名:'hsf_jryk_1123'</span>
 sed <span class="token operator">-</span>i <span class="token string">"\$c$sql_parameter"</span> current_running2<span class="token punctuation">.</span>txt <span class="token comment">#修改当前的文件指令：替换最后一行resource_id=1017 and uid=202798;</span>
 $<span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>beeline <span class="token operator">-</span>u <span class="token string">"jdbc:hive2://bi-hadoop02.b28.rong360.com:10000/mkt;principal=hive/bi-hadoop02.b28.rong360.com@RONG360.COM"</span> <span class="token operator">-</span>f current_running2<span class="token punctuation">.</span>txt<span class="token punctuation">)</span>
 $<span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>hdfs dfs <span class="token operator">-</span>getmerge hdfs<span class="token punctuation">:</span><span class="token operator">//</span>nameservice1<span class="token operator">/</span>user<span class="token operator">/</span>hive<span class="token operator">/</span>warehouse<span class="token operator">/</span>tj_tmp<span class="token punctuation">.</span>db<span class="token operator">/</span>$file_name $file_name_with_format<span class="token punctuation">)</span>
 <span class="token comment">#下载文件</span>
 python <span class="token punctuation">.</span><span class="token operator">/</span>report_generate<span class="token punctuation">.</span>py $python_parameter <span class="token comment">#传入参数:"-path "$date_save"/"$file_name".tsv"" "-name 厦门强云v2 -mode 300-850</span>
 fi
done <span class="token operator">&lt;</span> <span class="token punctuation">.</span><span class="token operator">/</span>parameter<span class="token punctuation">.</span>txt  <span class="token comment">#xmqy2//resource_id=1017 and uid=202798;//-name 厦门强云v2 -mode 300-850   \n END</span>

cd <span class="token punctuation">.</span><span class="token operator">/</span>save <span class="token comment">#进入save路径中</span>
tar_name<span class="token operator">=</span>$date_info<span class="token string">".tar.gz"</span>
tar <span class="token operator">-</span>czvf $tar_name $date_info
<span class="token builtin">set</span> mapreduce<span class="token punctuation">.</span>job<span class="token punctuation">.</span>queuename<span class="token operator">=</span>tj<span class="token punctuation">;</span>



</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/306c9c488efe599c899ea0be14897c11/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux下查看显卡和驱动版本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/983f96cc676679cf2330ae8094603609/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用 Canvas 手画不规则多边形，并限制相交线和凹多边形</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>