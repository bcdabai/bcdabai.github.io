<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>批处理系列(5) - 根据文件名自动创建目录存放文件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="批处理系列(5) - 根据文件名自动创建目录存放文件" />
<meta property="og:description" content="结合本系列文章第一篇，看本文。
应用场景：
一个目录下有若干文件，但是，有一定规则，如有按年份命名，
1998-001.jpg ~ 1998-xxx.jpg 1999-001.jpg ~ 19998-xxx.jpg ... 这样，根据&#34;tokens=1,* delims=-&#34;切分字符串，并创建年份的目录，保存对应的所有文件。
@echo off @REM @Author: xianghongai@gmail.com title 根据文件名自动创建目录存放文件 by：小可(xianghongai@gmail.com) @echo 根据文件名自动创建目录存放文件 @echo ------------------------------------- :GTBegin @echo 默认处理目录下所有格式文件，确定继续？(y/n) set /p GTConfirm= if &#34;%GTConfirm%&#34;==&#34;y&#34; goto GTYES if &#34;%GTConfirm%&#34;==&#34;Y&#34; goto GTYES if &#34;%GTConfirm%&#34;==&#34;n&#34; goto GTNO if &#34;%GTConfirm%&#34;==&#34;N&#34; goto GTNO echo 请输入正确的指令 pause &gt;nul goto GTBegin :GTYES @echo ------------------------------------- set /p FilePath=需要处理的目录: cd /d %FilePath% for /f &#34;tokens=1,* delims=-&#34; %%J in (&#39;dir /b *." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/956fc7cd79cc2258f0b84bf3a962d33f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-15T11:38:00+08:00" />
<meta property="article:modified_time" content="2018-03-15T11:38:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">批处理系列(5) - 根据文件名自动创建目录存放文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown"> 
 <p>结合本系列文章<a href="http://www.cnblogs.com/daxiang/p/8572643.html" rel="nofollow">第一篇</a>，看本文。</p> 
 <p>应用场景：<br> 一个目录下有若干文件，但是，有一定规则，如有按年份命名，</p> 
 <pre><code>1998-001.jpg ~ 1998-xxx.jpg
1999-001.jpg ~ 19998-xxx.jpg
...</code></pre> 
 <p>这样，根据<code>"tokens=1,* delims=-"</code>切分字符串，并创建年份的目录，保存对应的所有文件。</p> 
 <pre><code>@echo off
@REM @Author: xianghongai@gmail.com
title   根据文件名自动创建目录存放文件  by：小可(xianghongai@gmail.com)
@echo 根据文件名自动创建目录存放文件
@echo -------------------------------------

:GTBegin
@echo 默认处理目录下所有格式文件，确定继续？(y/n)
set /p GTConfirm=
if "%GTConfirm%"=="y" goto GTYES
if "%GTConfirm%"=="Y" goto GTYES
if "%GTConfirm%"=="n" goto GTNO
if "%GTConfirm%"=="N" goto GTNO
echo 请输入正确的指令
pause &gt;nul
goto GTBegin

:GTYES
@echo -------------------------------------
set /p FilePath=需要处理的目录:
cd /d %FilePath%
for /f "tokens=1,* delims=-" %%J in ('dir /b *.*') do (
    if not exist "%%J\" md "%%J"
    move /-y "%%J-%%K" "%%J"
    )
echo. :) 搞定
pause &gt;nul
exit

:GTNO
exit
</code></pre> 
 <hr> 
 <p>转载保留原文地址和作者名，只为错误勘正和信息补充。<br> 版权声明：自由转载-非商用-非衍生-保持署名（创意共享3.0许可证）</p> 
</div> 
<p>转载于:https://www.cnblogs.com/daxiang/p/8572666.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d76d9acef9729a2b3cbf281267e38043/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">论文笔记：Neural Factorization Machines for Sparse Predictive Analytics</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2884b00924fa546c1e7c749288e6590e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring Boot之JPA杂记Inner Join</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>