<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter 环境搭建异常记录 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flutter 环境搭建异常记录" />
<meta property="og:description" content="flutter 环境搭建异常记录
1.执行flutter doctor自检报错
排查Android studio里配置的sdk是哪个
SDK Platforms选中 8.0
SDkTools也只勾选8.0
2.bash_profile 文件配置
没有的话 在根目录新建
export PUB_HOSTED_URL=https://pub.flutter-io.cn export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn export PATH=~/development/flutter/bin:$PATH
export PATH=~/development/flutter/bin/cache/dart-sdk/bin:$PATH
export ANDROID_HOME=~/Library/Android/sdk
export PATH=${PATH}:${ANDROID_HOME}/emulator
export PATH=${PATH}:${ANDROID_HOME}/tools
export PATH=${PATH}:${ANDROID_HOME}/platform-tools
3.全局命令行配置及生效
source ~/.bash_profile
source ~/.zshrc
open ~/.bash_profile
open ~/.zshrc
4.安卓本地的gradle版本存放位置
/Users/zhaoguangliang/.gradle/wrapper/dists
若自动下载太慢 可以使用迅雷手动下载之后放在这里
5.配置 firebase的时候 提示找不到成员变量 需在添加的firebase_core之外 在yaml文件里新增加一个依赖
firebase_core_platform_interface: 4.5.1
然后在android的工程中进行编译 就可以通过了
6.在新电脑上配置Android studio jdk路径位置
/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home
从Mac 复制jdk文件夹到对应的文件夹下
7.在安卓项目出现gradle sync faile的时候 在android sdk 里 第一个列表里的sdk都拉下来，在第二个列表里的commond Line里将第一个最新的编译工具也拉下来
8.报错 Cannot operate on packages inside the cache." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/65aef3f5e4742daed7b29e7dbae68615/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-18T15:23:30+08:00" />
<meta property="article:modified_time" content="2024-01-18T15:23:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter 环境搭建异常记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>flutter 环境搭建异常记录</strong></p> 
<p><strong>1.执行flutter doctor自检报错</strong><img alt="" height="167" src="https://images2.imgbox.com/a1/9c/8fAdZJOl_o.png" width="885"></p> 
<p><strong>排查Android studio里配置的sdk是哪个</strong></p> 
<p><strong>SDK Platforms选中 8.0</strong></p> 
<p><img alt="" height="653" src="https://images2.imgbox.com/c2/b3/6v6vHuId_o.png" width="1200"></p> 
<p><strong>SDkTools也只勾选8.0</strong><img alt="" height="742" src="https://images2.imgbox.com/a7/bb/tGxeEJl5_o.png" width="1200"></p> 
<p><strong>2.bash_profile 文件配置</strong></p> 
<p><strong>没有的话 在根目录新建</strong></p> 
<p><strong>export PUB_HOSTED_URL=https://pub.flutter-io.cn </strong></p> 
<p><strong>export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn </strong></p> 
<p><strong>export PATH=~/development/flutter/bin:$PATH</strong></p> 
<p><strong>export PATH=~/development/flutter/bin/cache/dart-sdk/bin:$PATH</strong></p> 
<p><strong>export  ANDROID_HOME=~/Library/Android/sdk</strong></p> 
<p><strong>export  PATH=${PATH}:${ANDROID_HOME}/emulator</strong></p> 
<p><strong>export  PATH=${PATH}:${ANDROID_HOME}/tools</strong></p> 
<p><strong>export  PATH=${PATH}:${ANDROID_HOME}/platform-tools</strong></p> 
<p></p> 
<p><strong>3.全局命令行配置及生效</strong><img alt="" height="801" src="https://images2.imgbox.com/af/8f/ZrH0s4v1_o.png" width="1200"></p> 
<p><strong>source ~/.bash_profile</strong></p> 
<p><strong>source ~/.zshrc</strong></p> 
<p><strong>open ~/.bash_profile</strong></p> 
<p><strong>open ~/.zshrc</strong></p> 
<p></p> 
<p><strong>4.安卓本地的gradle版本存放位置</strong></p> 
<p><strong>/Users/zhaoguangliang/.gradle/wrapper/dists</strong></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/69/33/GAHyGADE_o.png" width="1200"></p> 
<p><strong>若自动下载太慢 可以使用迅雷手动下载之后放在这里</strong></p> 
<p></p> 
<p><strong>5.配置 firebase的时候  提示找不到成员变量 </strong></p> 
<p><strong>需在添加的firebase_core之外 在yaml文件里新增加一个依赖</strong></p> 
<p><strong>firebase_core_platform_interface: 4.5.1</strong></p> 
<p></p> 
<p><strong>然后在android的工程中进行编译  就可以通过了</strong></p> 
<p></p> 
<p><strong>6.在新电脑上配置Android studio jdk路径位置</strong></p> 
<p><strong>/Library/Java/JavaVirtualMachines/jdk1.8.0_251.jdk/Contents/Home</strong></p> 
<p></p> 
<p><strong>从Mac 复制jdk文件夹到对应的文件夹下</strong></p> 
<p></p> 
<p><strong>7.在安卓项目出现gradle sync faile的时候  在android sdk 里 第一个列表里的sdk都拉下来，在第二个列表里的commond Line里将第一个最新的编译工具也拉下来</strong></p> 
<p><img alt="" height="653" src="https://images2.imgbox.com/f6/7d/HRQ2iIfr_o.png" width="1200"></p> 
<p><strong>8.报错 Cannot operate on packages inside the cache.</strong></p> 
<p><strong>执行 flutter pub cache repair</strong></p> 
<p></p> 
<p><strong>9.Pod 更新本地仓库</strong></p> 
<p><em>pod</em><strong> </strong><em>install</em><strong>  </strong>换成<em>pod</em><strong> </strong><em>install</em><strong> --</strong><em>verbose</em><strong> --</strong><em>no</em><strong>-</strong><em>repo</em><strong>-</strong><em>update</em>这个命令，前面的命令被墙了<strong> ,</strong></p> 
<p><em>pod</em><strong> </strong><em>update</em><strong> </strong>同理</p> 
<p><strong>该命令只安装新添加的库，已更新的库忽略</strong></p> 
<p></p> 
<p><strong>10.上传谷歌商店，打包禁用debug模式，</strong></p> 
<p><strong>将</strong></p> 
<p><strong>&lt;!--        android:debuggable="false"--&gt;</strong></p> 
<p><strong>放在这里 mainfest文件里</strong></p> 
<p><strong>&lt;application</strong></p> 
<p><strong>     android:label="jetsenshot"</strong></p> 
<p><strong>     android:name="${applicationName}"</strong></p> 
<p><strong>     android:icon="@mipmap/ic_launcher"</strong></p> 
<p><strong>&lt;!--        android:debuggable="false"--&gt;</strong></p> 
<p><strong>    &gt;</strong></p> 
<p></p> 
<p></p> 
<p><strong>11.将flutter 项目从电脑A复制到电脑B,后行flutter 清理一下缓存，或者不复制项目文件夹下的build文件夹，只复制其余代码，然后在flutter项目中全局替换</strong></p> 
<p><strong>  /A用户名/ -&gt; /B用户名/</strong></p> 
<p></p> 
<p><strong>12.自动配置firebase cli太慢 手动下载</strong></p> 
<p></p> 
<p><strong>然后执行 chmod +x 文件名  将文件改为可执行的二进制文件</strong></p> 
<p><strong>然后将文件放在</strong></p> 
<p><strong>/usr/local/bin </strong></p> 
<p><strong>路径下  文件名改为firebase</strong></p> 
<p><strong>然后在.bash_profile 和 .zshrc文件里增加</strong></p> 
<p><strong>export PATH=$PATH:~/opt/bin</strong></p> 
<p><strong>然后</strong></p> 
<p><strong>执行 </strong></p> 
<p><strong>source ~/.bash_profile</strong></p> 
<p><strong>source ~/.zshrc</strong></p> 
<p><strong>然后就可以使用了</strong></p> 
<p></p> 
<p><strong>13验证app是否签名</strong></p> 
<p><strong>Cd /Users/zhao/Library/Android/sdk/build-tools/33.0.0</strong></p> 
<p><strong>验证签名 执行jarsigner -verify -verbose -certs &lt;你的APK文件路径&gt;</strong></p> 
<p><strong>查看签名信息 keytool -printcert -jarfile &lt;你的APK文件路径&gt;</strong></p> 
<p></p> 
<p><strong>14.集成Facebook登录 提示</strong></p> 
<p><strong>错误提示：</strong></p> 
<p><strong>Invalid key hash. The key hash xxxxxxxx does not match any stored key hashes. Configure your app key hashes at </strong><a href="https://developers.facebook.com/apps/xxxxx" rel="nofollow" title="https://developers.facebook.com/apps/xxxxx">https://developers.facebook.com/apps/xxxxx</a></p> 
<p><strong>原因是签名不对，进行如下操作</strong></p> 
<p><strong>生成发布密钥散列</strong></p> 
<p><strong>Android 应用必须先使用发布密钥进行电子签名，然后才能上传到商店中。如要生成发布密钥散列，请在 Mac 或 Windows 内运行以下命令，并替换您的发布密钥别名和密钥库路径</strong></p> 
<p><strong>YOUR_RELEASE_KEY_ALIAS 替换为当前别名</strong></p> 
<p><strong>YOUR_RELEASE_KEY_PATH 替换为当前key的路径</strong></p> 
<p><strong>keytool -exportcert -alias YOUR_RELEASE_KEY_ALIAS -keystore YOUR_RELEASE_KEY_PATH | openssl sha1 -binary | openssl base64</strong></p> 
<p><strong>然后替换掉Facebook里的</strong><img alt="" height="1100" src="https://images2.imgbox.com/90/6a/lrgPAMev_o.png" width="1200"></p> 
<p><strong>集成Facebook登录可以参考的博客</strong></p> 
<p><a href="https://blog.csdn.net/oZhuiMeng123/article/details/124544783" title="flutter 集成facebook第三方登录完整流程_flutter face登录-CSDN博客">flutter 集成facebook第三方登录完整流程_flutter face登录-CSDN博客</a></p> 
<p></p> 
<p><strong>15.授权登录提示 invalid scop:email 添加下面的东西 </strong></p> 
<p><strong>针对应用程序Android API 30+（Android 11+）不能调用Facebook原生应用程序。请按照https://developers.facebook.com/docs/android/troubleshooting/#faq_267321845055988调整。要解决这个问题，必须在AndroidManifest.xml文件中添加：</strong></p> 
<p></p> 
<p><strong>&lt;meta-data android:name="com.facebook.sdk.ApplicationId" android:value="@string/facebook_app_id"/&gt;</strong></p> 
<p><strong>&lt;meta-data android:name="com.facebook.sdk.ClientToken" android:value="@string/facebook_client_token"/&gt;</strong></p> 
<p></p> 
<p><strong>原文链接：</strong><a href="https://blog.csdn.net/oZhuiMeng123/article/details/124544783" title="flutter 集成facebook第三方登录完整流程_flutter face登录-CSDN博客">flutter 集成facebook第三方登录完整流程_flutter face登录-CSDN博客</a></p> 
<p></p> 
<p><strong>16 flutter 配置apple账号登录</strong></p> 
<p><a href="https://frontend.devrank.cn/traffic-information/7301721066840475674" rel="nofollow" title="Flutter如何集成apple、google登陆---超级完整步骤_前端知识库">Flutter如何集成apple、google登陆---超级完整步骤_前端知识库</a></p> 
<p></p> 
<p><strong>17.xcode 15 运行模拟器异常</strong></p> 
<p><strong>报错</strong></p> 
<p><strong>Sandbox: rsync(80361) deny(1) file-write-create</strong></p> 
<p><strong>检查：</strong></p> 
<p><strong>Check that ENABLE_USER_SCRIPT_SANDBOXING is disabled in the project's build settings.</strong></p> 
<p><img alt="" height="477" src="https://images2.imgbox.com/2d/a3/qR0ysOiQ_o.png" width="1200"></p> 
<p><strong>18 flutter打出来的包在debug 和release模式下 部分结构不显示  经排查是</strong></p> 
<p><strong>screenutil 没有在当前页面使用前执行初始化，</strong></p> 
<p><strong>执行</strong></p> 
<p><strong>ScreenUtil.</strong><em>init</em><strong>(context, designSize: Size(393, 862), allowFontScaling: false);</strong></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1a0ab5935abe408873078727bf99695d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">《数据结构》第七章：树和森林</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5b9297fc32c69c07552d5b4bc10ca4c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis三种缓存读写策略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>