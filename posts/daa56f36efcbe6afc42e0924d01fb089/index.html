<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pythonæ¯•è®¾é€‰é¢˜ - æœºå™¨å­¦ä¹ è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æä¸é¢„æµ‹ç³»ç»Ÿ - python æ¯•ä¸šè®¾è®¡ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pythonæ¯•è®¾é€‰é¢˜ - æœºå™¨å­¦ä¹ è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æä¸é¢„æµ‹ç³»ç»Ÿ - python æ¯•ä¸šè®¾è®¡" />
<meta property="og:description" content="æ–‡ç« ç›®å½• 0 å‰è¨€1 è¯¾é¢˜èƒŒæ™¯2 å®ç°æ•ˆæœUIç•Œé¢è®¾è®¡webé¢„æµ‹ç•Œé¢RSRSé€‰è‚¡ç•Œé¢ 3 è½¯ä»¶æ¶æ„4 å·¥å…·ä»‹ç»Flaskæ¡†æ¶MySQLæ•°æ®åº“LSTM 5 æœ€å 0 å‰è¨€ ğŸ”¥ è¿™ä¸¤å¹´å¼€å§‹æ¯•ä¸šè®¾è®¡å’Œæ¯•ä¸šç­”è¾©çš„è¦æ±‚å’Œéš¾åº¦ä¸æ–­æå‡ï¼Œä¼ ç»Ÿçš„æ¯•è®¾é¢˜ç›®ç¼ºå°‘åˆ›æ–°å’Œäº®ç‚¹ï¼Œå¾€å¾€è¾¾ä¸åˆ°æ¯•ä¸šç­”è¾©çš„è¦æ±‚ï¼Œè¿™ä¸¤å¹´ä¸æ–­æœ‰å­¦å¼Ÿå­¦å¦¹å‘Šè¯‰å­¦é•¿è‡ªå·±åšçš„é¡¹ç›®ç³»ç»Ÿè¾¾ä¸åˆ°è€å¸ˆçš„è¦æ±‚ã€‚
ä¸ºäº†å¤§å®¶èƒ½å¤Ÿé¡ºåˆ©ä»¥åŠæœ€å°‘çš„ç²¾åŠ›é€šè¿‡æ¯•è®¾ï¼Œå­¦é•¿åˆ†äº«ä¼˜è´¨æ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯
ğŸš© æœºå™¨å­¦ä¹ è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æä¸é¢„æµ‹ç³»ç»Ÿ
ğŸ¥‡å­¦é•¿è¿™é‡Œç»™ä¸€ä¸ªé¢˜ç›®ç»¼åˆè¯„åˆ†(æ¯é¡¹æ»¡åˆ†5åˆ†)
éš¾åº¦ç³»æ•°ï¼š3åˆ†å·¥ä½œé‡ï¼š3åˆ†åˆ›æ–°ç‚¹ï¼š3åˆ† 1 è¯¾é¢˜èƒŒæ™¯ åŸºäºæœºå™¨å­¦ä¹ çš„è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š
é‡‡é›†ä¿å­˜æ•°æ®ï¼›åˆ†ææ•°æ®ï¼›å¯è§†åŒ–ï¼›æ·±åº¦å­¦ä¹ è‚¡ç¥¨é¢„æµ‹ 2 å®ç°æ•ˆæœ UIç•Œé¢è®¾è®¡ åŠŸèƒ½ç®€è¿°
æ—¥å¸¸æ•°æ®è·å–æ›´æ–°
äº¤æ˜“åŠŸèƒ½
webé¢„æµ‹ç•Œé¢ LSTMé•¿æ—¶é—´åºåˆ—é¢„æµ‹RNNé¢„æµ‹æœºå™¨å­¦ä¹ é¢„æµ‹è‚¡ç¥¨æŒ‡æ ‡åˆ†æ é¢„æµ‹æ•ˆæœå¦‚ä¸‹ï¼š
RSRSé€‰è‚¡ç•Œé¢ 3 è½¯ä»¶æ¶æ„ æ•´ä½“çš„è½¯ä»¶åŠŸèƒ½ç»“æ„å¦‚ä¸‹å›¾
4 å·¥å…·ä»‹ç» Flaskæ¡†æ¶ ç®€ä»‹
Flaskæ˜¯ä¸€ä¸ªåŸºäºWerkzeugå’ŒJinja2çš„è½»é‡çº§Webåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚ä¸å…¶ä»–åŒç±»å‹æ¡†æ¶ç›¸æ¯”ï¼ŒFlaskçš„çµæ´»æ€§ã€è½»ä¾¿æ€§å’Œå®‰å…¨æ€§æ›´é«˜ï¼Œè€Œä¸”å®¹æ˜“ä¸Šæ‰‹ï¼Œå®ƒå¯ä»¥ä¸MVCæ¨¡å¼å¾ˆå¥½åœ°ç»“åˆè¿›è¡Œå¼€å‘ã€‚Flaskä¹Ÿæœ‰å¼ºå¤§çš„å®šåˆ¶æ€§ï¼Œå¼€å‘è€…å¯ä»¥ä¾æ®å®é™…éœ€è¦å¢åŠ ç›¸åº”çš„åŠŸèƒ½ï¼Œåœ¨å®ç°ä¸°å¯Œçš„åŠŸèƒ½å’Œæ‰©å±•çš„åŒæ—¶èƒ½å¤Ÿä¿è¯æ ¸å¿ƒåŠŸèƒ½çš„ç®€å•ã€‚Flaskä¸°å¯Œçš„æ’ä»¶åº“èƒ½å¤Ÿè®©ç”¨æˆ·å®ç°ç½‘ç«™å®šåˆ¶çš„ä¸ªæ€§åŒ–ï¼Œä»è€Œå¼€å‘å‡ºåŠŸèƒ½å¼ºå¤§çš„ç½‘ç«™ã€‚
æœ¬é¡¹ç›®åœ¨Flaskå¼€å‘åç«¯æ—¶ï¼Œå‰ç«¯è¯·æ±‚ä¼šé‡åˆ°è·¨åŸŸçš„é—®é¢˜ï¼Œè§£å†³è¯¥é—®é¢˜æœ‰ä¿®æ”¹æ•°æ®ç±»å‹ä¸ºjsonpï¼Œé‡‡ç”¨GETæ–¹æ³•ï¼Œæˆ–è€…åœ¨Flaskç«¯åŠ ä¸Šå“åº”å¤´ç­‰æ–¹å¼ï¼Œåœ¨æ­¤ä½¿ç”¨å®‰è£…Flask-CORSåº“çš„æ–¹å¼è§£å†³è·¨åŸŸé—®é¢˜ã€‚æ­¤å¤–éœ€è¦å®‰è£…è¯·æ±‚åº“axiosã€‚
Flaskæ¡†æ¶å›¾
ä»£ç å®ä¾‹
from flask import Flask, render_template, jsonify import requests from bs4 import BeautifulSoup from snownlp import SnowNLP import jieba import numpy as np app = Flask(__name__) app." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/daa56f36efcbe6afc42e0924d01fb089/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T14:53:14+08:00" />
<meta property="article:modified_time" content="2024-01-27T14:53:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pythonæ¯•è®¾é€‰é¢˜ - æœºå™¨å­¦ä¹ è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æä¸é¢„æµ‹ç³»ç»Ÿ - python æ¯•ä¸šè®¾è®¡</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#0__4" rel="nofollow">0 å‰è¨€</a></li><li><a href="#1__22" rel="nofollow">1 è¯¾é¢˜èƒŒæ™¯</a></li><li><a href="#2__31" rel="nofollow">2 å®ç°æ•ˆæœ</a></li><li><ul><li><a href="#UI_33" rel="nofollow">UIç•Œé¢è®¾è®¡</a></li><li><a href="#web_45" rel="nofollow">webé¢„æµ‹ç•Œé¢</a></li><li><a href="#RSRS_66" rel="nofollow">RSRSé€‰è‚¡ç•Œé¢</a></li></ul> 
  </li><li><a href="#3__70" rel="nofollow">3 è½¯ä»¶æ¶æ„</a></li><li><a href="#4__76" rel="nofollow">4 å·¥å…·ä»‹ç»</a></li><li><ul><li><a href="#Flask_78" rel="nofollow">Flaskæ¡†æ¶</a></li><li><a href="#MySQL_138" rel="nofollow">MySQLæ•°æ®åº“</a></li><li><a href="#LSTM_206" rel="nofollow">LSTM</a></li></ul> 
  </li><li><a href="#5__253" rel="nofollow">5 æœ€å</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="0__4"></a>0 å‰è¨€</h2> 
<p>ğŸ”¥ è¿™ä¸¤å¹´å¼€å§‹æ¯•ä¸šè®¾è®¡å’Œæ¯•ä¸šç­”è¾©çš„è¦æ±‚å’Œéš¾åº¦ä¸æ–­æå‡ï¼Œä¼ ç»Ÿçš„æ¯•è®¾é¢˜ç›®ç¼ºå°‘åˆ›æ–°å’Œäº®ç‚¹ï¼Œå¾€å¾€è¾¾ä¸åˆ°æ¯•ä¸šç­”è¾©çš„è¦æ±‚ï¼Œè¿™ä¸¤å¹´ä¸æ–­æœ‰å­¦å¼Ÿå­¦å¦¹å‘Šè¯‰å­¦é•¿è‡ªå·±åšçš„é¡¹ç›®ç³»ç»Ÿè¾¾ä¸åˆ°è€å¸ˆçš„è¦æ±‚ã€‚</p> 
<p>ä¸ºäº†å¤§å®¶èƒ½å¤Ÿé¡ºåˆ©ä»¥åŠæœ€å°‘çš„ç²¾åŠ›é€šè¿‡æ¯•è®¾ï¼Œå­¦é•¿åˆ†äº«ä¼˜è´¨æ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯</p> 
<p>ğŸš© <strong>æœºå™¨å­¦ä¹ è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æä¸é¢„æµ‹ç³»ç»Ÿ</strong></p> 
<p>ğŸ¥‡å­¦é•¿è¿™é‡Œç»™ä¸€ä¸ªé¢˜ç›®ç»¼åˆè¯„åˆ†(æ¯é¡¹æ»¡åˆ†5åˆ†)</p> 
<ul><li>éš¾åº¦ç³»æ•°ï¼š3åˆ†</li><li>å·¥ä½œé‡ï¼š3åˆ†</li><li>åˆ›æ–°ç‚¹ï¼š3åˆ†</li></ul> 
<h2><a id="1__22"></a>1 è¯¾é¢˜èƒŒæ™¯</h2> 
<p>åŸºäºæœºå™¨å­¦ä¹ çš„è‚¡ç¥¨å¤§æ•°æ®é‡åŒ–åˆ†æç³»ç»Ÿï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p> 
<ul><li>é‡‡é›†ä¿å­˜æ•°æ®ï¼›</li><li>åˆ†ææ•°æ®ï¼›</li><li>å¯è§†åŒ–ï¼›</li><li>æ·±åº¦å­¦ä¹ è‚¡ç¥¨é¢„æµ‹</li></ul> 
<h2><a id="2__31"></a>2 å®ç°æ•ˆæœ</h2> 
<h3><a id="UI_33"></a>UIç•Œé¢è®¾è®¡</h3> 
<p><strong>åŠŸèƒ½ç®€è¿°</strong></p> 
<p><img src="https://images2.imgbox.com/c8/38/Aj6dHRT2_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>æ—¥å¸¸æ•°æ®è·å–æ›´æ–°</strong></p> 
<p><img src="https://images2.imgbox.com/16/6e/wWYxPsvC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>äº¤æ˜“åŠŸèƒ½</strong><br> <img src="https://images2.imgbox.com/a3/62/nXf9Vunz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="web_45"></a>webé¢„æµ‹ç•Œé¢</h3> 
<ul><li>LSTMé•¿æ—¶é—´åºåˆ—é¢„æµ‹</li><li>RNNé¢„æµ‹</li><li>æœºå™¨å­¦ä¹ é¢„æµ‹</li><li>è‚¡ç¥¨æŒ‡æ ‡åˆ†æ</li></ul> 
<p><img src="https://images2.imgbox.com/1d/62/RfoWHgLB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>é¢„æµ‹æ•ˆæœå¦‚ä¸‹ï¼š</strong></p> 
<p><img src="https://images2.imgbox.com/d8/a8/gUjbRt07_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/fd/90/abibqKRS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/01/8e/1BltB6pH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/ea/40/f2HmNfZL_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="RSRS_66"></a>RSRSé€‰è‚¡ç•Œé¢</h3> 
<p><img src="https://images2.imgbox.com/df/a2/CrnQDgla_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="3__70"></a>3 è½¯ä»¶æ¶æ„</h2> 
<p>æ•´ä½“çš„è½¯ä»¶åŠŸèƒ½ç»“æ„å¦‚ä¸‹å›¾</p> 
<p><img src="https://images2.imgbox.com/35/c6/EnpMdp4I_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="4__76"></a>4 å·¥å…·ä»‹ç»</h2> 
<h3><a id="Flask_78"></a>Flaskæ¡†æ¶</h3> 
<p><strong>ç®€ä»‹</strong></p> 
<p>Flaskæ˜¯ä¸€ä¸ªåŸºäºWerkzeugå’ŒJinja2çš„è½»é‡çº§Webåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚ä¸å…¶ä»–åŒç±»å‹æ¡†æ¶ç›¸æ¯”ï¼ŒFlaskçš„çµæ´»æ€§ã€è½»ä¾¿æ€§å’Œå®‰å…¨æ€§æ›´é«˜ï¼Œè€Œä¸”å®¹æ˜“ä¸Šæ‰‹ï¼Œå®ƒå¯ä»¥ä¸MVCæ¨¡å¼å¾ˆå¥½åœ°ç»“åˆè¿›è¡Œå¼€å‘ã€‚Flaskä¹Ÿæœ‰å¼ºå¤§çš„å®šåˆ¶æ€§ï¼Œå¼€å‘è€…å¯ä»¥ä¾æ®å®é™…éœ€è¦å¢åŠ ç›¸åº”çš„åŠŸèƒ½ï¼Œåœ¨å®ç°ä¸°å¯Œçš„åŠŸèƒ½å’Œæ‰©å±•çš„åŒæ—¶èƒ½å¤Ÿä¿è¯æ ¸å¿ƒåŠŸèƒ½çš„ç®€å•ã€‚Flaskä¸°å¯Œçš„æ’ä»¶åº“èƒ½å¤Ÿè®©ç”¨æˆ·å®ç°ç½‘ç«™å®šåˆ¶çš„ä¸ªæ€§åŒ–ï¼Œä»è€Œå¼€å‘å‡ºåŠŸèƒ½å¼ºå¤§çš„ç½‘ç«™ã€‚</p> 
<p>æœ¬é¡¹ç›®åœ¨Flaskå¼€å‘åç«¯æ—¶ï¼Œå‰ç«¯è¯·æ±‚ä¼šé‡åˆ°è·¨åŸŸçš„é—®é¢˜ï¼Œè§£å†³è¯¥é—®é¢˜æœ‰ä¿®æ”¹æ•°æ®ç±»å‹ä¸ºjsonpï¼Œé‡‡ç”¨GETæ–¹æ³•ï¼Œæˆ–è€…åœ¨Flaskç«¯åŠ ä¸Šå“åº”å¤´ç­‰æ–¹å¼ï¼Œåœ¨æ­¤ä½¿ç”¨å®‰è£…Flask-CORSåº“çš„æ–¹å¼è§£å†³è·¨åŸŸé—®é¢˜ã€‚æ­¤å¤–éœ€è¦å®‰è£…è¯·æ±‚åº“axiosã€‚</p> 
<p><strong>Flaskæ¡†æ¶å›¾</strong></p> 
<p><img src="https://images2.imgbox.com/8c/f5/zOdSWwfA_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ä»£ç å®ä¾‹</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> jsonify
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">from</span> snownlp <span class="token keyword">import</span> SnowNLP
<span class="token keyword">import</span> jieba
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>from_object<span class="token punctuation">(</span><span class="token string">'config'</span><span class="token punctuation">)</span>

<span class="token comment"># ä¸­æ–‡åœç”¨è¯</span>
STOPWORDS <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r'./stopwords.txt'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'accept'</span><span class="token punctuation">:</span> <span class="token string">"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"</span><span class="token punctuation">,</span>
    <span class="token string">'accept-language'</span><span class="token punctuation">:</span> <span class="token string">"en-US,en;q=0.9,zh-CN;q=0.8,zh-TW;q=0.7,zh;q=0.6"</span><span class="token punctuation">,</span>
    <span class="token string">'cookie'</span><span class="token punctuation">:</span> <span class="token string">'ll="108296"; bid=ieDyF9S_Pvo; __utma=30149280.1219785301.1576592769.1576592769.1576592769.1; __utmc=30149280; __utmz=30149280.1576592769.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); _vwo_uuid_v2=DF618B52A6E9245858190AA370A98D7E4|0b4d39fcf413bf2c3e364ddad81e6a76; ct=y; dbcl2="40219042:K/CjqllYI3Y"; ck=FsDX; push_noty_num=0; push_doumail_num=0; douban-fav-remind=1; ap_v=0,6.0'</span><span class="token punctuation">,</span>
    <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">"search.douban.com"</span><span class="token punctuation">,</span>
    <span class="token string">'referer'</span><span class="token punctuation">:</span> <span class="token string">"https://movie.douban.com/"</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-mode'</span><span class="token punctuation">:</span> <span class="token string">"navigate"</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-site'</span><span class="token punctuation">:</span> <span class="token string">"same-site"</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-user'</span><span class="token punctuation">:</span> <span class="token string">"?1"</span><span class="token punctuation">,</span>
    <span class="token string">'upgrade-insecure-requests'</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
    <span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36 Edg/79.0.309.56"</span>
<span class="token punctuation">}</span>

login_name <span class="token operator">=</span> <span class="token boolean">None</span>


<span class="token comment"># --------------------- html render ---------------------</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'search.html'</span><span class="token punctuation">)</span>


<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/search/&lt;movie_name&gt;'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">search2</span><span class="token punctuation">(</span>movie_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'search.html'</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="MySQL_138"></a>MySQLæ•°æ®åº“</h3> 
<p><strong>ç®€ä»‹</strong></p> 
<p>MySQLæ˜¯ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼Œç”±ç‘å…¸MySQL ABå…¬å¸å¼€å‘ï¼Œç›®å‰å·²ç»è¢«Oracleæ”¶è´­ã€‚</p> 
<p>Mysqlæ˜¯ä¸€ä¸ªçœŸæ­£çš„å¤šç”¨æˆ·ã€å¤šçº¿ç¨‹çš„SQLæ•°æ®åº“ã€‚å…¶ä½¿ç”¨çš„SQLï¼ˆç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰æ˜¯ä¸–ç•Œä¸Šæœ€æµè¡Œçš„å’Œæ ‡å‡†åŒ–çš„æ•°æ®åº“è¯­è¨€ï¼Œæ¯ä¸ªå…³ç³»å‹æ•°æ®åº“éƒ½å¯ä»¥ä½¿ç”¨MySQLæ˜¯ä»¥å®¢æˆ·æœº/æœåŠ¡å™¨ç»“æ„å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯ä¿—ç§°çš„C/Sç»“æ„ï¼Œå®ƒç”±ä¸€ä¸ªæœåŠ¡å™¨å®ˆæŠ¤ç¨‹åºmysqldå’Œå¾ˆå¤šä¸åŒçš„å®¢æˆ·ç¨‹åºå’Œåº“ç»„æˆã€‚</p> 
<p><strong>Pythonæ“ä½œmysqlæ•°æ®åº“</strong></p> 
<p>æœ¬é¡¹ç›®ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨pythonæ¥æ“ä½œmysqlæ•°æ®åº“ï¼Œå› æ­¤éœ€è¦ç”¨åˆ°<strong>pymysql</strong>è¿™ä¸ªåº“</p> 
<p>å®‰è£…ï¼š</p> 
<pre><code>pip install pymysql
</code></pre> 
<p>æ•°æ®åº“è¿æ¥å®ä¾‹ï¼š</p> 
<pre><code class="prism language-python"><span class="token comment"># å¯¼å…¥pymysql</span>
<span class="token keyword">import</span> pymysql

<span class="token comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span>
<span class="token comment"># è¿™ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºè¿æ¥(è¿æ¥æ•°æ®åº“ç”¨ï¼‰</span>
<span class="token keyword">def</span> <span class="token function">mysql_db</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># è¿æ¥æ•°æ®åº“è‚¯å®šéœ€è¦ä¸€äº›å‚æ•°</span>
    conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>
        host<span class="token operator">=</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
        port<span class="token operator">=</span><span class="token number">3307</span><span class="token punctuation">,</span>
        database<span class="token operator">=</span><span class="token string">"ksh"</span><span class="token punctuation">,</span>
        charset<span class="token operator">=</span><span class="token string">"utf8"</span><span class="token punctuation">,</span>
        user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">,</span>
        passwd<span class="token operator">=</span><span class="token string">"123456"</span>
    <span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    mysql_db<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p>æ•°æ®åº“è¿æ¥å®ä¾‹ï¼š</p> 
<pre><code class="prism language-python"><span class="token comment"># å¯¼å…¥pymysql</span>
<span class="token keyword">import</span> pymysql

<span class="token comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span>
<span class="token comment"># è¿™ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºè¿æ¥(è¿æ¥æ•°æ®åº“ç”¨ï¼‰</span>
<span class="token keyword">def</span> <span class="token function">mysql_db</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># è¿æ¥æ•°æ®åº“è‚¯å®šéœ€è¦ä¸€äº›å‚æ•°</span>
    conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>
        host<span class="token operator">=</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>
        port<span class="token operator">=</span><span class="token number">3307</span><span class="token punctuation">,</span>
        database<span class="token operator">=</span><span class="token string">"ksh"</span><span class="token punctuation">,</span>
        charset<span class="token operator">=</span><span class="token string">"utf8"</span><span class="token punctuation">,</span>
        user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">,</span>
        passwd<span class="token operator">=</span><span class="token string">"123456"</span>
    <span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    mysql_db<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="LSTM_206"></a>LSTM</h3> 
<p><strong>ç®€ä»‹</strong></p> 
<p>é•¿çŸ­æœŸè®°å¿†ï¼ˆLong short-term memory, LSTMï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„RNNï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³é•¿åºåˆ—è®­ç»ƒè¿‡ç¨‹ä¸­çš„æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç›¸æ¯”æ™®é€šçš„RNNï¼ŒLSTMèƒ½å¤Ÿåœ¨æ›´é•¿çš„åºåˆ—ä¸­æœ‰æ›´å¥½çš„è¡¨ç°ã€‚</p> 
<p>LSTMç»“æ„ï¼ˆå›¾å³ï¼‰å’Œæ™®é€šRNNçš„ä¸»è¦è¾“å…¥è¾“å‡ºåŒºåˆ«å¦‚ä¸‹æ‰€ç¤ºã€‚<br> <img src="https://images2.imgbox.com/55/68/EbK4kLqF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/bc/fd/MZcJLDkq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <strong>Torchä»£ç å®ç°</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> torch
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> accuracy_score
 
<span class="token comment">#å®šä¹‰éœ€è¦çš„æ¨¡å‹ç»“æ„ï¼Œç»§æ‰¿è‡ªtorch.nn.Module</span>
<span class="token comment">#å¿…é¡»åŒ…å«__init__å’Œforwardä¸¤ä¸ªåŠŸèƒ½</span>
<span class="token keyword">class</span> <span class="token class-name">mylstm</span><span class="token punctuation">(</span>torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Module<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> lstm_input_size<span class="token punctuation">,</span> lstm_hidden_size<span class="token punctuation">,</span> lstm_batch<span class="token punctuation">,</span> lstm_layers<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># å£°æ˜ç»§æ‰¿å…³ç³»</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>mylstm<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
        self<span class="token punctuation">.</span>lstm_input_size<span class="token punctuation">,</span> self<span class="token punctuation">.</span>lstm_hidden_size <span class="token operator">=</span> lstm_input_size<span class="token punctuation">,</span> lstm_hidden_size
        self<span class="token punctuation">.</span>lstm_layers<span class="token punctuation">,</span> self<span class="token punctuation">.</span>lstm_batch <span class="token operator">=</span> lstm_layers<span class="token punctuation">,</span> lstm_batch
 
        <span class="token comment"># å®šä¹‰lstmå±‚</span>
        self<span class="token punctuation">.</span>lstm_layer <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>LSTM<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lstm_input_size<span class="token punctuation">,</span> self<span class="token punctuation">.</span>lstm_hidden_size<span class="token punctuation">,</span> num_layers<span class="token operator">=</span>self<span class="token punctuation">.</span>lstm_layers<span class="token punctuation">,</span> batch_first<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token comment"># å®šä¹‰å…¨è¿æ¥å±‚ äºŒåˆ†ç±»</span>
        self<span class="token punctuation">.</span>out <span class="token operator">=</span> torch<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>Linear<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lstm_hidden_size<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
 
    <span class="token keyword">def</span> <span class="token function">forward</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># æ¿€æ´»</span>
        x <span class="token operator">=</span> torch<span class="token punctuation">.</span>sigmoid<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token comment"># LSTM</span>
        x<span class="token punctuation">,</span> _ <span class="token operator">=</span> self<span class="token punctuation">.</span>lstm_layer<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token comment"># ä¿ç•™æœ€åä¸€æ­¥çš„è¾“å‡º</span>
        x <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>
        <span class="token comment"># å…¨è¿æ¥</span>
        x <span class="token operator">=</span> self<span class="token punctuation">.</span>out<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
        <span class="token keyword">return</span> x
 
    <span class="token keyword">def</span> <span class="token function">init_hidden</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#åˆå§‹åŒ–éšè—å±‚å‚æ•°å…¨0</span>
        <span class="token keyword">return</span> torch<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lstm_batch<span class="token punctuation">,</span> self<span class="token punctuation">.</span>lstm_hidden_size<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="5__253"></a>5 æœ€å</h2>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b8a4d6e8b602cba368452e0af2411530/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€Šå¾®ä¿¡å°ç¨‹åºå¼€å‘ä»å…¥é—¨åˆ°å®æˆ˜ã€‹å­¦ä¹ ä¹åäº”</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4ede3c82b35d612db304e203bddc35ee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€SLGå‰¯ç©æ³•èåˆä¹‹å˜ï¼šè½»åº¦åŒ–è®¾è®¡å¼€å¯ä¸­å°å‚å•†æ–°æœºé‡ã€‘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>