<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python之文件的读写 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python之文件的读写" />
<meta property="og:description" content="文章目录 前言 一、打开和关闭文件（open和close） 1.打开文件 2.关闭文件 mode的方式 几种读取文件的函数 写入文件的函数 二、with…open…as操作文件 1、with…open…as与open......close的区别 总结 前言 本篇文章讲解，平时读写文件的基本用法 一、打开和关闭文件（open和close） 语法：
open(file, mode, encoding=None) 讲解字段含义： file：文件（其实是一个具体文件的路径） 例如： 在D盘我创建了一个名为：qhj.txt的文件，那么file就应该是：D:\study\qhj.txt mode：打开文件的方式（以什么样的方式打开这个文件） encoding：编码（以什么样的方式来编码） 1.打开文件 字段讲解：
r&#34;D:\study\qhj.txt&#34; ：也就是file
&#34;r&#34; ：也就是mode
encoding=&#34;utf-8&#34; ：也就是encoding=None，只不过这个传了具体值&#34;utf-8&#34;，所以不再是默认的None
注意：其实上面这种方式是一种省略的方式写法，可能对于初学者有点疑惑，为什么r&#34;D:\study\qhj.txt&#34;的前面，&#34;r&#34;的前面没有一个参数，而&#34;utf-8&#34;前面就有encoding呢？
其实我们还原最基本的(标准的)写法就明白了。
2.关闭文件 语法：file.close() #注意：这里的file是一个对象，使用对象调出函数，来操作关闭。 举例： mode的方式： 以读为主 r 以只读方式打开文件。指针将会放在文件的开头(这是默认模式)； read 只能读不能写，文件不存在的时候会报错 rb 以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。 r&#43; 打开一个文件用于读写。文件指针将会放在文件的开头。 读写模式 文件不存在的时候会报错 可读可写，但是写的有问题（在最前方写，因为指针在0处） rb&#43; 以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。 以写为主 w 打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。（也就是写入的内容把原有的内容的覆盖了）; write 文件不存在的话，给创建，不能读，写之前会清空原来的文件内容 wb 以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 w&#43; 打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件； 写读模式 文件不存在的时候给创建 清空文件内容，然后在写 wb&#43; 以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。 以追加为主 a 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 追加模式 不会清空原来的内容 追加写，但是不能读 ab 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。 a&#43; 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。 追加模式 文件不存在的时候给创建 可读可写 ，追加写，但是读不到内容（因为指针在末尾，所以读不到） ab&#43; 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。 注意：这些字母可能有些不好记，那么可以还原成英语单词来记忆： r 的单词意思是：read w 的单词意思是：write a 的单词意思是：append b 的单词意思是：binary(二进制) 几种读取文章的函数： readlines() ：读取所有行，以列表的形式返回读取内容，列表的每一个元素对应文件的一行 readline()：按行读取文件的内容，换行符号 ‘\n’ read([size])：默认读取全部文件内容，如果有size参数，则读取前size个字节数 举例： （1）读取文件的全部数据" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8d503092649e24f7241964f2244d322d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-04T13:58:59+08:00" />
<meta property="article:modified_time" content="2023-07-04T13:58:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python之文件的读写</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="_0"></a></h2> 
<div> 
 <h4><span style="color:#ad720d;">文章目录</span></h4> 
 <ul><li> <h4><a href="#_12" rel="nofollow"><span style="color:#ad720d;">前言</span></a></h4> </li><li> <h4><a href="#pandas_22" rel="nofollow"><span style="color:#ad720d;">一、</span></a><span style="color:#ad720d;">打开和关闭文件（open和close）</span></h4> 
   <ul><li> <h4><span style="color:#ad720d;">1.打开文件</span></h4> </li><li> <h4><span style="color:#ad720d;">2.关闭文件</span></h4> </li><li> <h4><span style="color:#ad720d;">mode的方式</span></h4> </li><li> <h4><span style="color:#ad720d;">几种读取文件的函数</span></h4> </li><li> <h4><span style="color:#ad720d;">写入文件的函数</span></h4> </li></ul></li><li> <h4><span style="color:#ad720d;">二、with…open…as操作文件</span></h4> 
   <ul><li> <h4><span style="color:#ad720d;">1、with…open…as与open......close的区别</span></h4> </li></ul></li><li> <h3><a href="#_55" rel="nofollow"><span style="color:#ad720d;">总结</span></a></h3> </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_12"></a>前言</h2> 
<h4><span style="color:#1a439c;">本篇文章讲解，平时读写文件的基本用法</span></h4> 
<hr> 
<h2><a id="pandas_22"></a>一、打开和关闭文件（open和close）</h2> 
<h4>语法：<br><span style="color:#b95514;">open(file, mode, encoding=None)</span></h4> 
<h4>讲解字段含义：</h4> 
<h4><span style="color:#1c7331;">file</span>：文件（其实是一个具体文件的路径）</h4> 
<h4>例如：</h4> 
<h4>在D盘我创建了一个名为：qhj.txt的文件，那么file就应该是：D:\study\qhj.txt</h4> 
<p><img alt="" height="155" src="https://images2.imgbox.com/60/40/faj8UztQ_o.png" width="825"></p> 
<p></p> 
<h4><span style="color:#1c7331;">mode</span>：打开文件的方式（以什么样的方式打开这个文件）</h4> 
<h4><span style="color:#1c7331;">encoding</span>：编码（以什么样的方式来编码）</h4> 
<h3><a id="1_27"></a>1.<strong>打开文</strong>件</h3> 
<p><img alt="" height="81" src="https://images2.imgbox.com/8f/e5/x4fzY4CQ_o.png" width="757"></p> 
<p><strong> 字段讲解：</strong></p> 
<p><strong><span style="color:#1c7331;">r"D:\study\qhj.txt"</span><span style="color:#4da8ee;"> </span>：也就是file</strong></p> 
<p><strong><span style="color:#1c7331;">"r" </span>：也就是mode</strong></p> 
<p><strong><span style="color:#1c7331;">encoding="utf-8"</span> ：也就是encoding=None，只不过这个传了具体值"utf-8"，所以不再是默认的None</strong></p> 
<p></p> 
<p><span style="color:#fe2c24;">注意：</span>其实上面这种方式是一种省略的方式写法，可能对于初学者有点疑惑，为什么r"D:\study\qhj.txt"的前面，"r"的前面没有一个参数，而"utf-8"前面就有encoding呢？</p> 
<p>其实我们还原最基本的(标准的)写法就明白了。</p> 
<p><img alt="" height="112" src="https://images2.imgbox.com/04/e6/6ItadMuE_o.png" width="749"></p> 
<p></p> 
<h3>2.关闭文件</h3> 
<h4><code class="language-c">语法：<span style="color:#b95514;">file.close()</span><strong> #注意</strong></code><strong><code class="language-c">：这里的file是一个对象，使用对象调出函数，来操作关闭。</code></strong></h4> 
<h4>举例：</h4> 
<p><img alt="" height="424" src="https://images2.imgbox.com/06/28/o1Nc9qub_o.png" width="778"></p> 
<hr> 
<h3>mode的方式：</h3> 
<table align="left" border="1" cellpadding="1" cellspacing="1"><tbody><tr><td colspan="1" rowspan="4" style="width:133.5px;"> <h4>以读为主</h4> </td><td style="width:41px;"> <h4><span style="color:#1c7331;">r</span></h4> </td><td> <h4><span style="color:#1c7331;">以只读方式打开文件。指针将会放在文件的开头(这是默认模式)；</span></h4> <h4><span style="color:#1c7331;">read  只能读不能写，文件不存在的时候会报错</span></h4> </td></tr><tr><td style="width:41px;"> <h4>rb</h4> </td><td> <h4>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。</h4> </td></tr><tr><td style="width:41px;"> <h4>r+</h4> </td><td> <h4>打开一个文件用于读写。文件指针将会放在文件的开头。</h4> <h4>读写模式  文件不存在的时候会报错   可读可写，但是写的有问题（在最前方写，因为指针在0处）</h4> </td></tr><tr><td style="width:41px;"> <h4>rb+</h4> </td><td> <h4>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</h4> </td></tr><tr><td colspan="1" rowspan="4" style="width:133.5px;"> <h4><br><br><strong>以写为主</strong></h4> </td><td style="width:41px;"> <h4><span style="color:#1c7331;">w</span></h4> </td><td> <h4><span style="color:#1c7331;">打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。（也就是写入的内容把原有的内容的覆盖了）;</span></h4> <h4><span style="color:#1c7331;">write 文件不存在的话，给创建，不能读，写之前会清空原来的文件内容</span></h4> </td></tr><tr><td style="width:41px;"> <h4>wb</h4> </td><td> <h4>以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</h4> </td></tr><tr><td style="width:41px;"> <h4>w+</h4> </td><td> <h4>打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件；</h4> <h4>写读模式   文件不存在的时候给创建  清空文件内容，然后在写</h4> </td></tr><tr><td style="width:41px;"> <h4>wb+</h4> </td><td> <h4>以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</h4> </td></tr><tr><td colspan="1" rowspan="4" style="width:133.5px;"> <h4>以追加为主</h4> </td><td style="width:41px;"> <h4><span style="color:#1c7331;">a</span></h4> </td><td> <h4><span style="color:#1c7331;">打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</span></h4> <h4><span style="color:#1c7331;">追加模式  不会清空原来的内容 追加写，但是不能读</span></h4> </td></tr><tr><td style="width:41px;"> <h4>ab</h4> </td><td> <h4>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</h4> </td></tr><tr><td style="width:41px;"> <h4>a+</h4> </td><td> <h4>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</h4> <h4>追加模式   文件不存在的时候给创建  可读可写  ，追加写，但是读不到内容（因为指针在末尾，所以读不到）</h4> </td></tr><tr><td style="width:41px;"> <h4>ab+</h4> </td><td> <h4>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</h4> </td></tr></tbody></table> 
<p></p> 
<p></p> 
<p></p> 
<h2><a id="_55"></a></h2> 
<p></p> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<h2></h2> 
<p></p> 
<h4><strong>注意：这些字母可能有些不好记，那么可以还原成英语单词来记忆：</strong></h4> 
<h4><strong>r 的单词意思是：read  </strong></h4> 
<h4><strong>w 的单词意思是：write</strong></h4> 
<h4><strong>a 的单词意思是：append</strong></h4> 
<h4><strong>b 的单词意思是：binary(二进制)</strong></h4> 
<hr> 
<h3>几种读取文章的函数：</h3> 
<h4>readlines() ：读取所有行，以列表的形式返回读取内容，列表的每一个元素对应文件的一行</h4> 
<h4>readline()：按行读取文件的内容，换行符号 ‘\n’</h4> 
<h4>read([size])：默认读取全部文件内容，如果有size参数，则读取前size个字节数</h4> 
<h4><span style="color:#1a439c;">举例：</span></h4> 
<p><img alt="" height="213" src="https://images2.imgbox.com/5f/e7/AoCakml7_o.png" width="724"></p> 
<p><span style="color:#1c7331;"><strong>（1）读取文件的全部数据</strong></span></p> 
<p><img alt="" height="569" src="https://images2.imgbox.com/01/5c/KqmURno1_o.png" width="1087"></p> 
<p><strong><span style="color:#1c7331;">（2）只读取单行的数据</span></strong></p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/3a/0a/pWfVYOeR_o.png" width="860"></p> 
<p><span style="color:#1c7331;"><strong>（3）如果我们要读取几行数据，那么就要多调几次readline()函数</strong></span></p> 
<p><img alt="" height="518" src="https://images2.imgbox.com/aa/68/bKxILplY_o.png" width="1182"></p> 
<p><span style="color:#1c7331;"><strong> （4）按照每一行读取（默认放入列表中）</strong></span></p> 
<p><img alt="" height="427" src="https://images2.imgbox.com/6e/61/ccZPX8YN_o.png" width="1200"></p> 
<p><strong><span style="color:#1c7331;">（5）读取前4个字符</span></strong></p> 
<p><img alt="" height="434" src="https://images2.imgbox.com/95/00/w7E2E2jx_o.png" width="1200"></p> 
<hr> 
<h3> 写入文件的函数：</h3> 
<h4>write("写入文件的内容")</h4> 
<p></p> 
<h4>（1）j.txt为新建的空文件</h4> 
<p><img alt="" height="480" src="https://images2.imgbox.com/e0/fe/EYAhM9hz_o.png" width="1200"></p> 
<p></p> 
<h4>（2）j.txt不为空文件时。（这个时候的写入就要把里面的原来有的数据覆盖----相当于清空之前的数据）</h4> 
<p><img alt="" height="407" src="https://images2.imgbox.com/4c/f1/baIwEMFZ_o.png" width="1054"></p> 
<p></p> 
<h4>（3）以追加的方式写入。</h4> 
<h4>当原来的文件里面没有数据的时候（相当于一般的写入）：</h4> 
<p><img alt="" height="416" src="https://images2.imgbox.com/bf/d2/JajcG201_o.png" width="1200"></p> 
<h4>当原来的文件里面有数据的时候（追加的写入）：</h4> 
<p> <img alt="" height="419" src="https://images2.imgbox.com/42/dc/xDiYVFRr_o.png" width="1200"></p> 
<h3>二、with…open…as操作文件</h3> 
<h4>1、with…open…as与open......close的区别： </h4> 
<h4>1）open......close 这种结构，在打开文件后，经过数据的一系列操作后，需要调函数close()来关闭文件</h4> 
<h4>2）with…open…as 不需要调close()函数来关闭文件</h4> 
<h4><span style="color:#1c7331;"><strong>语法：</strong></span></h4> 
<h4><span style="color:#ad720d;"><strong>with  open(file,mode,encoding) as file:</strong></span></h4> 
<h4><span style="color:#ad720d;"><strong>        这里面是要操作的东西</strong></span></h4> 
<p></p> 
<h4><span style="color:#1c7331;"><strong>另外一个区别：</strong></span></h4> 
<h4>open......close：这是因为文件操作是一个I/O操作，当我们写文件时，操作系统往往不会立即把数据写入到磁盘，而是先放到内存缓存起来，等空闲的时候再慢慢写入。只有调用close()方法时，操作系统才保证把没有写入的数据全部写入磁盘同时释放资源。如果不这样做的话，可能造成数据丢失和资源浪费。</h4> 
<p></p> 
<h4>我们知道代码的执行是从上到下按行执行，但是如果open以下close之上的代码某一行出错了呢，那是不是不能执行close()这个函数了。为了防止这个问题发生，所以就有了with…open…as。不管中间的代码是否有错，最后都会关闭文件。</h4> 
<h4>举例：</h4> 
<p><img alt="" height="504" src="https://images2.imgbox.com/29/15/e3v4cZDE_o.png" width="1191"></p> 
<p></p> 
<p></p> 
<h4><strong>可以参考一位优秀的博主文章：</strong></h4> 
<p><a href="http://www.manongjc.com/article/102241.html" rel="nofollow" title="python中的文件读写操作open和with的用法 - 码农教程">python中的文件读写操作open和with的用法 - 码农教程</a></p> 
<p><a href="https://blog.csdn.net/qq_44690947/article/details/114979873" title="python之文件操作（open与with...open...as）_搬砖，赞路费的博客-CSDN博客">python之文件操作（open与with...open...as）_搬砖，赞路费的博客-CSDN博客</a></p> 
<h4><strong>               </strong></h4> 
<h2>总结</h2> 
<p>以上就是今天要讲的内容，本文仅仅简单介绍了open...close和with....open....as的基本使用和区别。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c48975cc9d5f2ed8d4d3dc9693b94c7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js垃圾回收机制大概介绍：</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/812d3a6bde8448e7b875a9a151c0ab83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySql悲观锁（行锁）和乐观锁</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>