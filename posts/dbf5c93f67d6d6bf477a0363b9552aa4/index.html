<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【shell】运维必须掌握的shell命令（持续更新） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【shell】运维必须掌握的shell命令（持续更新）" />
<meta property="og:description" content="文章目录 特殊变量管道`例子1：find出一个文件后打开（假设find结果只有一个且是文件）``例子2：批量杀死进程` 后台启动脚本查看端口查看磁盘占用压缩解压文件匹配首行以某个字符串开头的统计显示结果有多少行 特殊变量 shell编程中有一些特殊的变量可以使用。这些变量在脚本中可以作为全局变量来使用。
名称说明$0脚本名称$1-9脚本执行时的参数1到参数9$?脚本的返回值$#脚本执行时，输入的参数的个数$@输入的参数的具体内容（将输入的参数作为一个多个对象，即是所有参数的一个列表）$*输入的参数的具体内容（将输入的参数作为一个单词） @ 与 @与 @与*的区别：
@ 与 @与 @与*都可以使用一个变量来来表示所有的参数内容，但这两个变量之间有一些不同之处。
$@：将输入的参数作为一个列表对象
$*：将输入的参数作为一个单词
管道 例子1：find出一个文件后打开（假设find结果只有一个且是文件） 管道&#43;awk 方式
find / -name &lt;filename&gt; | awk &#39;{print &#34;cat &#34; $0}&#39;| sh 当然也可以用变量的方式
cat $(find / -name &lt;filename&gt;) 例子2：批量杀死进程 ps -ef | grep &lt;process_keywords&gt; | awk &#39;{print &#34;kill -9 &#34; $2}&#39; |sh 后台启动脚本 nohup ./start.sh &gt; /dev/null 2&gt;&amp;1 &amp; dev/null代表linux的空设备文件，所有往这个文件里面写入的内容都会丢失，俗称“黑洞”
2&gt;&amp;1错误输出2重定向到标准输出1，意思是标准输出和错误输出都进了“黑洞”（错误输出通常是进程号）
这句命令就是，后台执行start.sh，屏幕不打印任何信息。
查看端口 netstat -anp | grep 80 查看磁盘占用 总的占用：df -lh" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/dbf5c93f67d6d6bf477a0363b9552aa4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-24T17:37:16+08:00" />
<meta property="article:modified_time" content="2019-08-24T17:37:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【shell】运维必须掌握的shell命令（持续更新）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">特殊变量</a></li><li><a href="#_20" rel="nofollow">管道</a></li><li><ul><li><a href="#1findfind_21" rel="nofollow">`例子1：find出一个文件后打开（假设find结果只有一个且是文件）`</a></li><li><a href="#2_32" rel="nofollow">`例子2：批量杀死进程`</a></li></ul> 
   </li><li><a href="#_37" rel="nofollow">后台启动脚本</a></li><li><a href="#_45" rel="nofollow">查看端口</a></li><li><a href="#_50" rel="nofollow">查看磁盘占用</a></li><li><a href="#_57" rel="nofollow">压缩解压文件</a></li><li><a href="#_65" rel="nofollow">匹配首行以某个字符串开头的</a></li><li><a href="#_68" rel="nofollow">统计显示结果有多少行</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>特殊变量</h3> 
<p>shell编程中有一些特殊的变量可以使用。这些变量在脚本中可以作为全局变量来使用。</p> 
<table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>$0</td><td>脚本名称</td></tr><tr><td>$1-9</td><td>脚本执行时的参数1到参数9</td></tr><tr><td>$?</td><td>脚本的返回值</td></tr><tr><td>$#</td><td>脚本执行时，输入的参数的个数</td></tr><tr><td>$@</td><td>输入的参数的具体内容（将输入的参数作为一个多个对象，即是所有参数的一个列表）</td></tr><tr><td>$*</td><td>输入的参数的具体内容（将输入的参数作为一个单词）</td></tr></tbody></table> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         @ 
        
       
         与 
        
       
      
        @与 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord">@</span><span class="mord cjk_fallback">与</span></span></span></span></span>*的区别：</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         @ 
        
       
         与 
        
       
      
        @与 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord">@</span><span class="mord cjk_fallback">与</span></span></span></span></span>*都可以使用一个变量来来表示所有的参数内容，但这两个变量之间有一些不同之处。</p> 
<p>$@：将输入的参数作为一个列表对象</p> 
<p>$*：将输入的参数作为一个单词</p> 
<h3><a id="_20"></a>管道</h3> 
<h4><a id="1findfind_21"></a><code>例子1：find出一个文件后打开（假设find结果只有一个且是文件）</code></h4> 
<p>管道+awk 方式</p> 
<pre><code>find / -name &lt;filename&gt; | awk '{print "cat " $0}'| sh
</code></pre> 
<p>当然也可以用变量的方式</p> 
<pre><code>cat $(find / -name &lt;filename&gt;)
</code></pre> 
<h4><a id="2_32"></a><code>例子2：批量杀死进程</code></h4> 
<pre><code>ps -ef | grep &lt;process_keywords&gt; | awk  '{print "kill -9 " $2}' |sh
</code></pre> 
<h3><a id="_37"></a>后台启动脚本</h3> 
<pre><code>nohup ./start.sh &gt; /dev/null 2&gt;&amp;1 &amp;
</code></pre> 
<p>dev/null代表linux的空设备文件，所有往这个文件里面写入的内容都会丢失，俗称“黑洞”<br> 2&gt;&amp;1错误输出2重定向到标准输出1，意思是标准输出和错误输出都进了“黑洞”（错误输出通常是进程号）<br> 这句命令就是，后台执行start.sh，屏幕不打印任何信息。</p> 
<h3><a id="_45"></a>查看端口</h3> 
<pre><code>netstat -anp | grep 80
</code></pre> 
<h3><a id="_50"></a>查看磁盘占用</h3> 
<p>总的占用：df -lh<br> 某一个目录的占用：df -hl /dir<br> 某一个目录下查看几层的占用：<br> du -lh --max-depth=2 /dir<br> 简单说下df和du的区别，df只会统计目录总的使用情况，而du会统计目录下每一个文件的使用情况</p> 
<h3><a id="_57"></a>压缩解压文件</h3> 
<p>压缩：tar -vzcf 2018-12-19.tar.gz target/<br> 解压：tar -vzxf 2018-12-19.tar.gz</p> 
<p>一类非常好用的命令–将上一个命令的输出作为下一个命令的输入<br> 前一个命令和后一个命令用“|”隔开，“|”就是管道。<br> 最常见的是grep，如 ls -l | grep a，显示带有字符”a“的所有结果。以grep为基础可以衍生很多命令</p> 
<h3><a id="_65"></a>匹配首行以某个字符串开头的</h3> 
<p>ls -l | grep ^drw</p> 
<h3><a id="_68"></a>统计显示结果有多少行</h3> 
<p>ls -l | wc -l</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/39928aab64391df3563220e744308d32/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringBoot 配置 yaml，properties 配置文件值获取（数组，对象，Map）以及 properties 配置文件打印中文乱码问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5cdbbeb68a323821fe5b95757528396d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ajax框架封装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>