<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JSON使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JSON使用" />
<meta property="og:description" content="1.JSON的概述 JSON在线解析及格式化验证 - JSON.cn 这是json在线解析 网站 好使！！
1.什么是JSON JSON(JavaScript Object Notation) 是一种轻量级的数据交换格式。
JSON采用完全独立于语言的文本格式，就是说不同的编程语言JSON数据是一致的。JS原生支持JSON.
2.为什么会有JSON 在JSON出现之前，大家一直用XML来传递数据。因为XML是一种纯文本格式，所以它适合在网络上交换数据。
XML本身不算复杂，但是，加上DTD、XSD、XPath、XSLT等一大堆复杂的规范以后，
任何正常的软件开发人员碰到XML都会感觉头大了，最后大家发现，即使你努力钻研几个月，
也未必搞得清楚XML的规范。于是更简洁清晰的JSON格式应运而生。风靡全球。
3.JSON这种格式的特点 1:纯文本形式并具备简洁和清晰的层次结构。
2: JSON 具有“自我描述性”,易于人阅读和编写。
3:具有层级结构，易于机器解析和生成，可以有效地提升网络传输效率。
4:可以在js中直接解析。 2.前端中的JSON 前端js 自动可以解析 JSON 这里就不挨个写了！
JSON有几种存储格式？
两种，一种是对象形式存储数据，一种是数组形式存储数据。
1.对象格式：
对象格式: { &#34;k1&#34;:obj,&#34;k2&#34;:obj }
举例: { &#34;name&#34;:&#34;jack&#34;, &#34;age&#34;:18, &#34;wife&#34;:null }
语法：
1.对象可以包含多个 key/value（键/值）对。
2.key 必须是字符串，value可以是合法的 JSON 数据类型（字符串, 数字, 对象, 数组, 布尔值或 null）。
3.key 和 value 中使用冒号(:)分割。
4.每个 key/value 对使用逗号(,)分割。
2.JSON数组格式：
数组格式：[obj,obj,obj...]
举例: [ &#34;tjtc&#34;, &#34;it&#34;, &#34;czzxxy&#34; ]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/22862929aac1e15ba579d86516828da1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-06T18:55:51+08:00" />
<meta property="article:modified_time" content="2022-11-06T18:55:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JSON使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.JSON的概述</h2> 
<blockquote> 
 <p><a href="https://www.json.cn/" rel="nofollow" title="JSON在线解析及格式化验证 - JSON.cn">JSON在线解析及格式化验证 - JSON.cn</a> </p> 
 <p>这是json在线解析  网站  好使！！</p> 
</blockquote> 
<h3>1.什么是JSON</h3> 
<p> JSON(JavaScript Object Notation) 是一种<span style="color:#fe2c24;"><strong>轻量级的数据交换格式</strong></span>。<br>     JSON采用完全独立于语言的文本格式，就是说<strong>不同的编程语言JSON数据是一致</strong>的。JS原生支持JSON.</p> 
<h3>2.为什么会有JSON</h3> 
<p>在JSON出现之前，大家一直用XML来传递数据。因为XML是一种纯文本格式，所以它适合在网络上交换数据。<br>     XML本身不算复杂，但是，加上DTD、XSD、XPath、XSLT等一大堆复杂的规范以后，<br>     任何正常的软件开发人员碰到XML都会感觉头大了，最后大家发现，即使你努力钻研几个月，<br>     也未必搞得清楚XML的规范。于是<strong>更简洁清晰的JSON格式</strong>应运而生。风靡全球。</p> 
<h3>3.JSON这种格式的特点</h3> 
<p>    1:纯文本形式并具备简洁和清晰的层次结构。<br>     2: JSON 具有“自我描述性”,易于人阅读和编写。<br>     3:具有层级结构，易于机器解析和生成，可以有效地提升网络传输效率。<br>     4:<strong>可以在js中直接解析。 </strong></p> 
<p><img alt="" height="326" src="https://images2.imgbox.com/a5/83/sxmhzwPU_o.png" width="873"></p> 
<h2> 2.前端中的JSON</h2> 
<blockquote> 
 <p>前端js 自动可以解析  JSON  这里就不挨个写了！</p> 
</blockquote> 
<blockquote> 
 <p>JSON有几种存储格式？<br>     两种，一种是<strong>对象形式存储数据</strong>，一种是数组形式存储数据。</p> 
 <p>1.对象格式：</p> 
 <p>        对象格式: {  "k1":obj,"k2":obj  }<br>         举例: { "name":"jack", "age":18, "wife":null }</p> 
 <p>        语法：</p> 
 <p>           <span style="color:#fe2c24;"> 1.对象可以包含多个 key/value（键/值）对。<br>             2.key 必须是字符串，value可以是合法的 JSON 数据类型（字符串, 数字, 对象, 数组, 布尔值或 null）。<br>             3.key 和 value 中使用冒号(:)分割。<br>             4.每个 key/value 对使用逗号(,)分割。</span></p> 
 <p><span style="color:#0d0016;">2.JSON数组格式：</span></p> 
 <p><span style="color:#0d0016;">        数组格式：[obj,obj,obj...]<br>         举例: [ "tjtc", "it", "czzxxy" ]<br>         语法规则: <br>            </span><span style="color:#fe2c24;"> 1.JSON 数组在中括号中书写。<br>             2.JSON 中数组value值必须是合法的 JSON 数据类型（字符串, 数字, 对象, 数组, 布尔值或 null）。。<br>             3.JSON数组可以使用jQuery语法完成遍历。</span></p> 
</blockquote> 
<blockquote> 
 <p>注意：</p> 
 <p> 学习前面两个基本格式，对应的值用value来表示，那么value可以是哪些具体的类型呢？<br>     string,number,object,array,true,false,null<br> 举例:<br>     {"name":"红楼梦","alias":"石头记","author":[ "曹雪芹", "程伟元", "高鹗" ]}</p> 
</blockquote> 
<h3> 3.后端如何封装JSON数据的</h3> 
<blockquote> 
 <p>注意：</p> 
 <p>   1.java本身没有json对象及数组格式。但是支持字符串，而JSON本质就是一串特殊的字符串。<br>     2.所以我们只需把JAVA 对象或集合转换成 JSON 格式的字符串，传递给前端，前端就可以解析了。<br>     3同样如果前端传递json字符串给Java，我们只需把JSON格式字符串转换成相应Java对象即可。</p> 
 <p>如何完成Java中的对象和JSON字符串的相互转换呢？<br>     我们可以采用JSON 的转换工具来完成。<br>         <br> JSON转换工具是什么，有何作用？<br>     json的转换工具是通过java封装好的一些jar工具包，完成java对象与json格式的字符串的相互转换。</p> 
 <p>目前企业中最为流行的是FastJson，我们选择<strong><span style="color:#fe2c24;">FastJson</span></strong>来完成解析。</p> 
</blockquote> 
<h4> 1.把对象装换成JSON字符串</h4> 
<pre><code class="language-java">
import com.alibaba.fastjson.JSON;
import com.itheima.pojo.User;
import org.junit.Test;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

/*
  ！json个java对象的相互转换！

    java对象--json
    json--java对象
      要求咱们的java对象 必须有setget方法
    还需要导入jar包--json转换包
      导入依赖之后

      学习api
         java对象--json

             JSON.toJSONString(对象) 返回json文本

         json--java对象

        对象的类型   parseObject(json字符串,对象的类型)
         User                                User.class
         List&lt;对象类型&gt;  parseArray(json字符串,集合中对象的类型)
         List&lt;User&gt;                            User.class

 */

public class Object2Json {

    // javabean--json
    @Test
    public void javaObject2Json(){
        User user = new User("张三",19,"男");
        //在java是一个对象
        // 如果前端需要这个对象 我们需要把它变成json格式
        //手动转换吗？借助工具包 完成 对象与json的转换
        // {"name":"张三","age",19,"sex":"男"}
        String jsonString = JSON.toJSONString(user);
        System.out.println(jsonString);
        // {"age":19,"name":"张三","sex":"男"}
    }


    // list--json
    @Test
    public void list2Json(){
        ArrayList&lt;User&gt; list = new ArrayList&lt;&gt;();

        list.add(new User("张三",19,"男"));
        list.add(new User("李四",18,"女"));

        //把list--json
        String jsonString = JSON.toJSONString(list);
        System.out.println(jsonString);
        // [{"age":19,"name":"张三","sex":"男"},{"age":18,"name":"李四","sex":"女"}]
    }

    // map--json
    @Test
    public void map2Json(){
        Map&lt;String,String&gt; map = new HashMap&lt;&gt;();

        map.put("王宝强","贾乃亮");
        map.put("马金莲","李小鹿");

        // map转换成json格式
        String jsonString = JSON.toJSONString(map);
        System.out.println(jsonString);
        // {"王宝强":"贾乃亮","马金莲":"李小鹿"}
    }

    @Test
    public void map3Json(){
        Map&lt;String,User&gt; map = new HashMap&lt;&gt;();
       User user1 =  new User("张三",19,"男");
       User user2 =  new User("李四",18,"女");

       map.put("u001",user1);
       map.put("u002",user2);

        // map转换成json格式
        String jsonString = JSON.toJSONString(map);
        System.out.println(jsonString);
     // {"u002":{"age":18,"name":"李四","sex":"女"},"u001":{"age":19,"name":"张三","sex":"男"}}
    }
}
</code></pre> 
<blockquote> 
 <p>JSON.toJSONString（对象）  //返回 json 字符串</p> 
</blockquote> 
<p>2.JSON字符串  转 对象</p> 
<pre><code class="language-java">package com.itheima.test;

import com.alibaba.fastjson.JSON;
import com.itheima.pojo.User;
import org.junit.Test;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/*
  ！json个java对象的相互转换！

    java对象--json
    json--java对象
      要求咱们的java对象 必须有setget方法
    还需要导入jar包--json转换包
      导入依赖之后

      学习api
         java对象--json

             JSON.toJSONString(对象) 返回json文本

         json--java对象

        对象的类型   parseObject(json字符串,对象的类型)
         User                                User.class
         List&lt;对象类型&gt;  parseArray(json字符串,集合中对象的类型)
         List&lt;User&gt;                            User.class

 */

public class Json2Object {

    // json--javabean
    @Test
    public void javaObject2Json(){

        // {"age":19,"name":"张三","sex":"男"}
        String jsons = "{\"age\":19,\"name\":\"张三\",\"sex\":\"男\"}";
        //json变成 user类型对象
        //通过 解析方法 把一个json串解析成javabean对象
        User user = JSON.parseObject(jsons, User.class);
        System.out.println(user);

    }


    // json--list
    @Test
    public void list2Json(){

        //把json--list
       String json =  "[{\"age\":19,\"name\":\"张三\",\"sex\":\"男\"},{\"age\":18,\"name\":\"李四\",\"sex\":\"女\"}]";
        // [{"age":19,"name":"张三","sex":"男"},{"age":18,"name":"李四","sex":"女"}]

//        List list = JSON.parseObject(json, List.class);
//        //注意 没有泛型说明 里面的对象按照object对象接受的
//        for (Object o : list) {
//            System.out.println((User)o);
//        }

        List&lt;User&gt; userList = JSON.parseArray(json, User.class);
        for (User user : userList) {
            System.out.println(user);
        }
    }

    // json--map
    @Test
    public void map2Json(){
       String json = "{\"王宝强\":\"贾乃亮\",\"马金莲\":\"李小鹿\"}";
        // {"王宝强":"贾乃亮","马金莲":"李小鹿"}
        Map map = JSON.parseObject(json, Map.class);
        System.out.println(map);
    }

    @Test
    public void map3Json(){
      String json = "{\"u002\":{\"age\":18,\"name\":\"李四\",\"sex\":\"女\"},\"u001\":{\"age\":19,\"name\":\"张三\",\"sex\":\"男\"}}";
     // {"u002":{"age":18,"name":"李四","sex":"女"},"u001":{"age":19,"name":"张三","sex":"男"}}

        Map map = JSON.parseObject(json, Map.class);
        Object u002 = map.get("u002");

        System.out.println(map);
    }
}
</code></pre> 
<blockquote> 
 <p>java对象---json格式数据怎么转换<br>      String <span style="color:#fe2c24;"><strong>JSON.toJSONString(对象)</strong></span>方法 完成转换。<br>       只不过我们对象 转换之后 是{} 单列集合数组转换之后[]  map集合转换之后{}<br> json对象---java对象 <br>      <strong><span style="color:#fe2c24;">JSON.parseObject(json文本,你要转成对象类型)</span></strong><br>      我们的基本javabean以及map集合适合这个转换，单列集合也可以使用<br>      如果是单列集合 想转换成对应的元素javabean<br>      需要使用<br>      JSON.parseArray(json文本，集合中类型)</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/abfa8442a6e39a353a1f3d963b4b36b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">编译报错：undefined reference to `TIFFReadDirectory@LIBTIFF_4.0‘解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62454d130f5a9cad26f32e7f099531c3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">方法精讲---数量关系</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>