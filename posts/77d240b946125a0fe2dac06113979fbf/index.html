<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据结构 】哈夫曼编译码器 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【数据结构 】哈夫曼编译码器" />
<meta property="og:description" content="数据结构-----哈夫曼编译码器 题目题目描述基本要求算法分析 代码实现初始化编码解码打印代码打印哈夫曼树 总结 题目 题目描述 利用哈夫曼编码进行信息通信可大大提高信道利用率，缩短信息传输时间，降低传输成本。
要求：在发送端通过一个编码系统对待传数据预先编码；在接收端将传入的数据进行译码（复原）。对于双工信道(即可以双向传输信息的信道)，每端都需要个完整的编/译码系统。试为这样的信息收发站写一个哈夫曼的编/译码系统。 基本要求 基本要求
系统应具有以下功能：
① I:初始化.从终端读入字符集大小n及n个字符和n个权值，建立哈夫曼树，井将它存于文件HuffmanTree中。
② C:编码。利用已建立好的哈夫曼树（如不在内存，则从文件HuffmanTree中读入）。对文件tobetrans中的正文进行编码，然后将结果存入文件codefile中。
③ D:解码。利用已建立好的哈夫曼树将文件codefile中的代码进行译码，结果存入testfile中。
④ P：打印代码文件。将文件codefile以紧凑格式显示在终端上，每行50个代码。同时将此字符形式的编码文件写入文件codeprint中。
⑤ T：打印哈夫曼树。将已在内存中的哈夫曼树直观的方式（树或凹入表形式）显示在终端上，同时将此字符形式的哈夫曼树写入文件treeprint中。 算法分析 本题例主要用到3个算法如下：
① 哈夫曼编码。在初始化(I)的过程中，要用输入的字符和权值建立哈夫曼树并求得哈夫曼编码。先将输入的字符和权值放到一个结构体数据中，建立哈夫曼树，将计算所得的哈夫曼编码存储到另一个结构体数组中。
② 串的匹配。在解码(D)的过程中，要对已经编码过的代码进行译码，可利用循环，将代码中与哈夫曼编码长度相同的串与这个哈夫曼编码进行比较，如果相等就回显并存入文件。
③二叉树的遍历。在打印哈夫曼树(T)的过程中，因为哈夫曼树也是二叉树，所以就要利用二叉树的前序遍历将哈夫曼树输出。 代码实现 代码部分参考了《数据结构-C语言版第2版》这本书中代码以及C&#43;&#43;风格进行书写，测试文件tobetrans中的内容为&#34;ABCABC&#34;
初始化 题目要求从终端读入字符集大小n及n个字符和n个权值，建立哈夫曼树，并将它存于文件HuffmanTree中，可以先将哈夫曼树构建起来，得到哈夫曼树及其对应叶子节点的编码，再通过文件的输入输出将这些编码写入文件HuffmanTree中即可
构造哈夫曼树 /*找出森林集合中根权值最小的两个*/ void Select(HuffmanTree HT,int len,int &amp;s1,int &amp;s2) { int i,min1=0x3f3f3f3f,min2=0x3f3f3f3f;//先赋予最大值 for(i=1;i&lt;=len;i&#43;&#43;) { if(HT[i].weight&lt;min1&amp;&amp;HT[i].parent==0) { min1=HT[i].weight; s1=i; }	} int temp=HT[s1].weight;//将原值存放起来，然后先赋予最大值，防止s1被重复选择 HT[s1].weight=0x3f3f3f3f; for(i=1;i&lt;=len;i&#43;&#43;) { if(HT[i].weight&lt;min2&amp;&amp;HT[i].parent==0) { min2=HT[i].weight; s2=i; } } HT[s1].weight=temp;//恢复原来的值 } /*构建哈夫曼树*/ void CreatHuffmanTree(HuffmanTree &amp;HT,int n) { //构造赫夫曼树HT int m,s1,s2,i; if(n&lt;=1) return; m=2*n-1; HT=new HTNode[m&#43;1]; //0号单元未用，所以需要动态分配m&#43;1个单元，HT[m]表示根结点 for(i=1;i&lt;=m;&#43;&#43;i) //将1~m号单元中的双亲、左孩子，右孩子的下标都初始化为0 { HT[i]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/77d240b946125a0fe2dac06113979fbf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-15T10:43:02+08:00" />
<meta property="article:modified_time" content="2024-01-15T10:43:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据结构 】哈夫曼编译码器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>数据结构-----哈夫曼编译码器 </h4> 
 <ul><li><a href="#_2" rel="nofollow">题目</a></li><li><ul><li><a href="#_3" rel="nofollow">题目描述</a></li><li><a href="#_7" rel="nofollow">基本要求</a></li><li><a href="#_15" rel="nofollow">算法分析</a></li></ul> 
  </li><li><a href="#_21" rel="nofollow">代码实现</a></li><li><ul><li><a href="#_23" rel="nofollow">初始化</a></li><li><a href="#_146" rel="nofollow">编码</a></li><li><a href="#_194" rel="nofollow">解码</a></li><li><a href="#_243" rel="nofollow">打印代码</a></li><li><a href="#_288" rel="nofollow">打印哈夫曼树</a></li></ul> 
  </li><li><a href="#_324" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>题目</h2> 
<h3><a id="_3"></a>题目描述</h3> 
<ul><li>利用哈夫曼编码进行信息通信可大大提高信道利用率，缩短信息传输时间，降低传输成本。<br> 要求：在发送端通过一个编码系统对待传数据预先编码；在接收端将传入的数据进行译码（复原）。对于双工信道(即可以双向传输信息的信道)，每端都需要个完整的编/译码系统。试为这样的信息收发站写一个哈夫曼的编/译码系统。</li></ul> 
<h3><a id="_7"></a>基本要求</h3> 
<ul><li>基本要求<br> 系统应具有以下功能：<br> ① I:初始化.从终端读入字符集大小n及n个字符和n个权值，建立哈夫曼树，井将它存于文件HuffmanTree中。<br> ② C:编码。利用已建立好的哈夫曼树（如不在内存，则从文件HuffmanTree中读入）。对文件tobetrans中的正文进行编码，然后将结果存入文件codefile中。<br> ③ D:解码。利用已建立好的哈夫曼树将文件codefile中的代码进行译码，结果存入testfile中。<br> ④ P：打印代码文件。将文件codefile以紧凑格式显示在终端上，每行50个代码。同时将此字符形式的编码文件写入文件codeprint中。<br> ⑤ T：打印哈夫曼树。将已在内存中的哈夫曼树直观的方式（树或凹入表形式）显示在终端上，同时将此字符形式的哈夫曼树写入文件treeprint中。</li></ul> 
<h3><a id="_15"></a>算法分析</h3> 
<ul><li>本题例主要用到3个算法如下：<br> ① 哈夫曼编码。在初始化(I)的过程中，要用输入的字符和权值建立哈夫曼树并求得哈夫曼编码。先将输入的字符和权值放到一个结构体数据中，建立哈夫曼树，将计算所得的哈夫曼编码存储到另一个结构体数组中。<br> ② 串的匹配。在解码(D)的过程中，要对已经编码过的代码进行译码，可利用循环，将代码中与哈夫曼编码长度相同的串与这个哈夫曼编码进行比较，如果相等就回显并存入文件。<br> ③二叉树的遍历。在打印哈夫曼树(T)的过程中，因为哈夫曼树也是二叉树，所以就要利用二叉树的前序遍历将哈夫曼树输出。</li></ul> 
<h2><a id="_21"></a>代码实现</h2> 
<p>代码部分参考了《数据结构-C语言版第2版》这本书中代码以及C++风格进行书写，测试文件tobetrans中的内容为"ABCABC"</p> 
<h3><a id="_23"></a>初始化</h3> 
<p>题目要求从终端读入字符集大小n及n个字符和n个权值，建立哈夫曼树，并将它存于文件HuffmanTree中，可以先将哈夫曼树构建起来，得到哈夫曼树及其对应叶子节点的编码，再通过文件的输入输出将这些编码写入文件HuffmanTree中即可</p> 
<ul><li>构造哈夫曼树</li></ul> 
<pre><code class="prism language-cpp"><span class="token comment">/*找出森林集合中根权值最小的两个*/</span>
<span class="token keyword">void</span> <span class="token function">Select</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span><span class="token keyword">int</span> len<span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>s2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">,</span>min1<span class="token operator">=</span><span class="token number">0x3f3f3f3f</span><span class="token punctuation">,</span>min2<span class="token operator">=</span><span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span><span class="token comment">//先赋予最大值</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">&lt;</span>min1<span class="token operator">&amp;&amp;</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			min1<span class="token operator">=</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
			s1<span class="token operator">=</span>i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>	
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> temp<span class="token operator">=</span>HT<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span><span class="token comment">//将原值存放起来，然后先赋予最大值，防止s1被重复选择</span>
	HT<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">=</span><span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">&lt;</span>min2<span class="token operator">&amp;&amp;</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			min2<span class="token operator">=</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
			s2<span class="token operator">=</span>i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	HT<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token comment">//恢复原来的值</span>
<span class="token punctuation">}</span>

<span class="token comment">/*构建哈夫曼树*/</span>
<span class="token keyword">void</span> <span class="token function">CreatHuffmanTree</span><span class="token punctuation">(</span>HuffmanTree <span class="token operator">&amp;</span>HT<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//构造赫夫曼树HT</span>
	<span class="token keyword">int</span> m<span class="token punctuation">,</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>i<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	m<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	HT<span class="token operator">=</span><span class="token keyword">new</span> HTNode<span class="token punctuation">[</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  		<span class="token comment">//0号单元未用，所以需要动态分配m+1个单元，HT[m]表示根结点   </span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>        	<span class="token comment">//将1~m号单元中的双亲、左孩子，右孩子的下标都初始化为0   </span>
	   <span class="token punctuation">{<!-- --></span> HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>  HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>  HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rchild<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入叶子结点的字符和权值：\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>        	<span class="token comment">//输入前n个单元中叶子结点的权值  </span>
		cin<span class="token operator">&gt;&gt;</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token operator">&gt;&gt;</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>  
	<span class="token comment">/*――――――――――初始化工作结束，下面开始创建赫夫曼树――――――――――*/</span> 
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>  	<span class="token comment">//通过n-1次的选择、删除、合并来创建赫夫曼树</span>
		<span class="token function">Select</span><span class="token punctuation">(</span>HT<span class="token punctuation">,</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//在HT[k](1≤k≤i-1)中选择两个其双亲域为0且权值最小的结点,</span>
		<span class="token comment">// 并返回它们在HT中的序号s1和s2</span>
		HT<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token operator">=</span>i<span class="token punctuation">;</span> 	
		HT<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token operator">=</span>i<span class="token punctuation">;</span>   
		<span class="token comment">//得到新结点i，从森林中删除s1，s2，将s1和s2的双亲域由0改为i</span>
		HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild<span class="token operator">=</span>s1<span class="token punctuation">;</span>   
		HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rchild<span class="token operator">=</span>s2<span class="token punctuation">;</span>							<span class="token comment">//s1,s2分别作为i的左右孩子</span>
		HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">=</span>HT<span class="token punctuation">[</span>s1<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token operator">+</span>HT<span class="token punctuation">[</span>s2<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span> 	<span class="token comment">//i 的权值为左右孩子权值之和</span>
	<span class="token punctuation">}</span>											
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>哈夫曼编码</li></ul> 
<pre><code class="prism language-cpp"><span class="token comment">/*哈夫曼树编码*/</span>
<span class="token keyword">void</span> <span class="token function">CreatHuffmanCode</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span>HuffmanCode <span class="token operator">&amp;</span>HC<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//从叶子到根逆向求每个字符的赫夫曼编码，存储在编码表HC中</span>
	<span class="token keyword">int</span> i<span class="token punctuation">,</span>start<span class="token punctuation">,</span>c<span class="token punctuation">,</span>f<span class="token punctuation">;</span>
	HC<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">[</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>         						<span class="token comment">//分配n个字符编码的头指针矢量</span>
	<span class="token keyword">char</span> <span class="token operator">*</span>cd<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>							<span class="token comment">//分配临时存放编码的动态数组空间</span>
	cd<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'\0'</span><span class="token punctuation">;</span>                            		<span class="token comment">//编码结束符</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>                      							<span class="token comment">//逐个字符求赫夫曼编码</span>
		start<span class="token operator">=</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                          		<span class="token comment">//start开始时指向最后，即编码结束符位置</span>
		c<span class="token operator">=</span>i<span class="token punctuation">;</span> 
		f<span class="token operator">=</span>HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>                 			<span class="token comment">//f指向结点c的双亲结点</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>f<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>                          					<span class="token comment">//从叶子结点开始向上回溯，直到根结点</span>
			<span class="token operator">--</span>start<span class="token punctuation">;</span>                          		<span class="token comment">//回溯一次start向前指一个位置</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>HT<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild<span class="token operator">==</span>c<span class="token punctuation">)</span>  
				cd<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'0'</span><span class="token punctuation">;</span>						<span class="token comment">//结点c是f的左孩子，则生成代码0</span>
			<span class="token keyword">else</span> 
				cd<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token operator">=</span><span class="token char">'1'</span><span class="token punctuation">;</span>                 		<span class="token comment">//结点c是f的右孩子，则生成代码1</span>
			c<span class="token operator">=</span>f<span class="token punctuation">;</span> 
			f<span class="token operator">=</span>HT<span class="token punctuation">[</span>f<span class="token punctuation">]</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>             			<span class="token comment">//继续向上回溯</span>
		<span class="token punctuation">}</span>                                  			<span class="token comment">//求出第i个字符的编码      </span>
		HC<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>n<span class="token operator">-</span>start<span class="token punctuation">]</span><span class="token punctuation">;</span>         			<span class="token comment">// 为第i 个字符编码分配空间</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>HC<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>cd<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        			<span class="token comment">//将求得的编码从临时空间cd复制到HC的当前行中</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">delete</span> cd<span class="token punctuation">;</span>                            			<span class="token comment">//释放临时空间</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>将编码写入到文件HuffmanTree<br> 这里通过循环将构造好的哈夫曼编码直接写入到文件</li></ul> 
<pre><code class="prism language-cpp"><span class="token comment">//编码写入文件HuffmanTree.txt</span>
<span class="token keyword">void</span> <span class="token function">printCreatHuffmanCode</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span> HuffmanCode HC<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    ofstream <span class="token function">hFile</span><span class="token punctuation">(</span><span class="token string">"HuffmanTree.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件HuffmanTree.txt打开失败."</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"各字符对应的编码如下："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s <span class="token operator">&lt;&lt;</span> HC<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        hFile <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s <span class="token operator">&lt;&lt;</span> HC<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>

	hFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"成功写入文件HuffmanTree.txt"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>初始化部分运行截图如下：<br> <img src="https://images2.imgbox.com/78/6f/ElMIOep1_o.png" alt="哈夫曼树及其编码初始化"></p> 
<h3><a id="_146"></a>编码</h3> 
<p>思路：通过文件逐行读出字符，并将其存放到数组，通过遍历该数组以及哈夫曼树，从而将对应的编码写入到文件codefile.txt中</p> 
<pre><code class="prism language-cpp"><span class="token comment">//编码部分 </span>
<span class="token keyword">void</span> <span class="token function">Huffmancode</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span>HuffmanCode HC<span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 函数用于对 "tobetrans.txt" 文件中的内容进行编码，并将结果存储在 "codefile.txt" 文件中</span>
    <span class="token comment">// 假设 "tobetrans.txt" 包含要编码的内容，每一行表示一个要编码的字符串。</span>
	ifstream <span class="token function">tFile</span><span class="token punctuation">(</span><span class="token string">"tobetrans.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读 </span>
	ofstream <span class="token function">cFile</span><span class="token punctuation">(</span><span class="token string">"codefile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写 </span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>tFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件tobetrans.txt打开失败.\n"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件codefile.txt打开失败.\n"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">char</span> tobetrans<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//临时存放文件中每一行的字符 </span>
	
	<span class="token comment">// 逐行读取内容</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>tFile<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>tobetrans<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>tobetrans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//行不空 </span>
	   
	    <span class="token keyword">int</span> m<span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>tobetrans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//数组长度，即每一行字符个数</span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"tobetrans内容："</span><span class="token operator">&lt;&lt;</span>tobetrans<span class="token punctuation">;</span> 
		cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//遍历数组 </span>
	    	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">//遍历树节点（0号单元为根节点未启用） </span>
	    	<span class="token punctuation">{<!-- --></span>
	    		<span class="token keyword">if</span> <span class="token punctuation">(</span>HT<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>s <span class="token operator">==</span> tobetrans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//相等则将其对应的编码写入文件 </span>
	        	cFile <span class="token operator">&lt;&lt;</span> HC<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
	        <span class="token punctuation">}</span>
	    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	 
	tFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"成功写入文件codefile.txt"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>编码部分运行截图如下：<br> <img src="https://images2.imgbox.com/d5/a1/C5MFysC1_o.png" alt="将文件中的内容进行编码"></p> 
<h3><a id="_194"></a>解码</h3> 
<p>思路：和编码部分一样，先从文件逐行读出存入数组，接着再遍历该数组和树的节点，从而将对应的字符写入到testfile.txt中</p> 
<pre><code class="prism language-cpp"><span class="token comment">//译码部分 </span>
<span class="token keyword">void</span> <span class="token function">HuffmanDecode</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//函数用于利用已建立好的哈夫曼树将文件"codefile.txt"中的代码进行译码，结果存入"testfile.txt"中</span>

	ifstream <span class="token function">codeFile</span><span class="token punctuation">(</span><span class="token string">"codefile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读 </span>
	ofstream <span class="token function">testFile</span><span class="token punctuation">(</span><span class="token string">"testfile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写 </span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>codeFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件codefile.txt打开失败.\n"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>testFile<span class="token punctuation">.</span><span class="token function">is_open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件testfile.txt打开失败.\n"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">char</span> pwd<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	codeFile<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>pwd<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//每次读取一行放入数组pwd中进行译码 </span>
	
	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> node <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//从根节点开始 </span>
	
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 循环遍历读取数组中的每个字符</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>HT<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> HT<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>rchild <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 当当前节点不是叶子节点时循环</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pwd<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 如果当前读取的字符是 '0'</span>
                node <span class="token operator">=</span> HT<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild<span class="token punctuation">;</span>  <span class="token comment">// 移动到当前节点的左孩子节点</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pwd<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 如果当前读取的字符是 '1'</span>
                node <span class="token operator">=</span> HT<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>rchild<span class="token punctuation">;</span>  <span class="token comment">// 移动到当前节点的右孩子节点</span>
            <span class="token punctuation">}</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">// 移动到下一个字符</span>
        <span class="token punctuation">}</span>
        testFile <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>node<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">;</span>  <span class="token comment">// 将叶子节点对应的字符写入到输出文件中</span>
        node <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// 将节点移动回到根节点</span>
    <span class="token punctuation">}</span>

	
	codeFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	testFile<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"成功写入文件testfile.txt"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>解码部分运行截图如下：<br> <img src="https://images2.imgbox.com/44/db/F7hoSmsr_o.png" alt="将已经编译好的字符码进行解码"></p> 
<h3><a id="_243"></a>打印代码</h3> 
<p>思路：通过文件逐行读出二进制码，在根据题目要求将对应的格式输出到终端输入到文件（我这里以每5行为例）</p> 
<pre><code class="prism language-cpp"><span class="token comment">//打印代码文件 </span>
<span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//函数用于将文件codefile.txt以紧凑格式显示在终端上，每行5个代码。</span>
	<span class="token comment">//同时将此字符形式的编码文件写入文件codeprint.txt中。 </span>
	<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存储codefile.txt的0-1编码 </span>
	<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	ifstream <span class="token function">file1</span><span class="token punctuation">(</span><span class="token string">"codefile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读出 </span>
	ofstream <span class="token function">file2</span><span class="token punctuation">(</span><span class="token string">"codeprint.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//写入 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>file1<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"文件codefile.txt打开失败"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>file2<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"文件codeprint.txt打开失败"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	file1<span class="token punctuation">.</span><span class="token function">getline</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//读取每一行</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"str内容"</span><span class="token operator">&lt;&lt;</span>str<span class="token punctuation">;</span> 
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"文件codefile.txt内容显示如下："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	<span class="token keyword">while</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">%</span><span class="token number">5</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>num<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//每输出5个字符换行，由于数组下标从0开始所以要忽略num==0这个情况 </span>
		<span class="token punctuation">{<!-- --></span>
			cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
			file2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token comment">//文件里也是每5个字符换行 </span>
		<span class="token punctuation">}</span>
		cout<span class="token operator">&lt;&lt;</span>str<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span>
		file2<span class="token operator">&lt;&lt;</span>str<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//写入文件 </span>
		num<span class="token operator">++</span><span class="token punctuation">;</span> 				
	<span class="token punctuation">}</span>
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	file1<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	file2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"成功写入文件codeprint.txt"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>	
	
<span class="token punctuation">}</span>
</code></pre> 
<p>打印代码部分运行截图如下：<br> <img src="https://images2.imgbox.com/d0/00/4rKsQUC7_o.png" alt="打印代码文件"></p> 
<h3><a id="_288"></a>打印哈夫曼树</h3> 
<p>这里结合树的前序遍历，并以凹入表的形式进行输出</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">PrintHuffmanTree</span><span class="token punctuation">(</span>HuffmanTree HT<span class="token punctuation">,</span> <span class="token keyword">int</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> level<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 递归打印哈夫曼树的结构（凹入表形式）</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 打开文件 treeprint.txt</span>
        ofstream <span class="token function">treeFile</span><span class="token punctuation">(</span><span class="token string">"treeprint.txt"</span><span class="token punctuation">,</span> ios<span class="token double-colon punctuation">::</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 使用 ios::app 追加模式</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>treeFile<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"文件 treeprint.txt 打开失败"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 输出当前节点信息（以凹入表形式）</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> level<span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 控制缩进</span>
        cout <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span><span class="token comment">//输出节点权值 </span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            cout <span class="token operator">&lt;&lt;</span> <span class="token string">" ("</span> <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>s <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span><span class="token punctuation">;</span><span class="token comment">//节点字符 </span>
        <span class="token punctuation">}</span>
        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        
        treeFile <span class="token operator">&lt;&lt;</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> level<span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeFile <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            treeFile <span class="token operator">&lt;&lt;</span> <span class="token string">" ("</span> <span class="token operator">&lt;&lt;</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>s <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        treeFile <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

        <span class="token comment">// 递归打印左右子树</span>
        <span class="token function">PrintHuffmanTree</span><span class="token punctuation">(</span>HT<span class="token punctuation">,</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>lchild<span class="token punctuation">,</span> level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">PrintHuffmanTree</span><span class="token punctuation">(</span>HT<span class="token punctuation">,</span> HT<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>rchild<span class="token punctuation">,</span> level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>打印哈夫曼树运行截图如下：<br> <img src="https://images2.imgbox.com/7e/d5/W9NNrT9A_o.png" alt="打印哈夫曼树"></p> 
<h2><a id="_324"></a>总结</h2> 
<p>关于如何书写一个哈夫曼编译码器，以上代码大家可以参考，仅供参考！！！毕竟我写的也不是很优秀，只能做到题目的要求，代码中还有许多可以优化的地方，介于自己能力有限，就先分享这么多，大家如果在参考以上代码存在问题时，需要我自己书写的完整代码可以私信我哦，在此感谢各位大佬的支持！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/790e3117142b8a1ae1003653971815f2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Centos下，使用NFS实现目录共享/网络驱动器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/51c080fe9d22fb8528998f36294191ef/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">3D模型格式转换工具HOOPS Exchange如何获取模型的特征树？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>