<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Impala 安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Impala 安装" />
<meta property="og:description" content="1、集群准备 1.1、安装Hadoop,Hive Impala的安装需要提前装好Hadoop，Hive这两个框架hive需要在所有的Impala安装的节点上面都要有，因为Impala需要引用Hive的依赖包hadoop的框架需要支持C程序访问接口，查看下图，如果有该路径有.so结尾文件，就证明支持C接口。 HDFS：impala数据存储在hdfs
Hive：impala直接使用Hive元数据管理数据
1.2、准备Impala的所有依赖包 Cloudera公司对于Impala的安装只提供了rpm包没有提供tar包；所以我们选择使用Cloudera的rpm包进行Impala的安装，但是另外一个问题，Impala的rpm包依赖非常多的其他的rpm包，我们可以一个个的将依赖找出来，但是这种方式实在是浪费时间。
Linux系统中对于rpm包的依赖管理提供了一个非常好的管理工具叫做Yum,类似于Java工程中的包管理工具Maven,Maven可以自动搜寻指定Jar所需的其它依赖并自动下载来。Yum同理可以非常方便的让我们进行rpm包的安装无需关系当前rpm所需的依赖。但是与Maven下载其它依赖需要到中央仓库一样 Yum下载依赖所需的源也是在放置在国外服务器并且其中没有安装Impala所需要的rpm包，所以默认的这种Yum源可能下载依赖失败。所以我们可以自己指定Yum去哪里下载所需依赖。
rpm方式安装:需要自己管理rpm包的依赖关系；非常麻烦；解决依赖关系使用yum；默认Yum源是没有 Impala的rpm安装包，所以我们自己准备好所有的Impala安装所需的rpm包，制作Yum本地源，配置 Yum命令去到我们准备的Yun源中下载Impala的rpm包进行安装。
Yum命令默认源
本地Yum源方式 具体制作步骤 Yum源是Centos当中下载软件rpm包的地址，因此通过制作本地Yum源并指定Yum命令使用本地Yum 源，为了使Yum命令(本机，跨网络节点)可以通过网络访问到本地源，我们使用Httpd这种静态资源服务器来开放我们下载所有的rpm包。
（1）Linux121安装Httpd服务器
#yum方式安装httpd服务器
yum install httpd -y
#启动httpd服务器
systemctl start httpd
#验证httpd工作是否正常,默认端口是80，可以省略
http://linux121
（2） 新建一个测试页面
httpd默认存放页面路径
/var/www/html/
新建一个页面test.html
&lt;html&gt; &lt;div style=&#34;font-size:100px&#34;&gt; this is a new page!! &lt;/div&gt; &lt;/html&gt; 访问
http://linux121/test.html
注：后续可以把下载的rpm包解压放置到此处便可以供yum访问
（3）下载Impala安装所需rpm包
Impala所需安装包需要到Cloudera提供地址下载
http://archive.cloudera.com/cdh5/repo-as-tarball/5.7.6/cdh5.7.6- centos7.tar.gz
注意：该tar.gz包是包含了Cloudera所提供的几乎所有rpm包，但是为了方便我们不再去梳理其中 依赖关系，全部下载来，整个文件件比较大，有3.8G。选择一个磁盘空间够的节点，后续还要把压缩包解压所以磁盘空间要剩余10G以上。
相关资料：链接：https://pan.baidu.com/s/1Uz2hr61Zodhs9TH79W7-uA?pwd=af0k
移动该安装包到/opt/lagou/software # 解压缩
tar -zxvf cdh5.7.6-centos7.tar.gz
（4）使用Httpd盛放依赖包
# 创建软链接到/var/www/html下
ln -s /opt/lagou/software/cdh/5.7.6 /var/www/html/cdh57
# 验证" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/97125f791bd784cbf63ac17fb46b6f69/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-25T19:39:39+08:00" />
<meta property="article:modified_time" content="2022-10-25T19:39:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Impala 安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1、集群准备</h3> 
<h4>1.1、安装Hadoop,Hive</h4> 
<ul><li>Impala的安装需要提前装好Hadoop，Hive这两个框架</li><li>hive需要在所有的Impala安装的节点上面都要有，因为Impala需要引用Hive的依赖包</li><li>hadoop的框架需要支持C程序访问接口，查看下图，如果有该路径有.so结尾文件，就证明支持C接口。</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/62/e6/BMoBBUmw_o.jpg"></p> 
<p>HDFS：impala数据存储在hdfs</p> 
<p>Hive：impala直接使用Hive元数据管理数据</p> 
<p></p> 
<h4>1.2、准备Impala的所有依赖包</h4> 
<p>        Cloudera公司对于Impala的安装只提供了rpm包没有提供tar包；所以我们选择使用Cloudera的rpm包进行Impala的安装，但是另外一个问题，Impala的rpm包依赖非常多的其他的rpm包，我们可以一个个的将依赖找出来，但是这种方式实在是浪费时间。</p> 
<p>        Linux系统中对于rpm包的依赖管理提供了一个非常好的管理工具叫做Yum,类似于Java工程中的包管理工具Maven,Maven可以自动搜寻指定Jar所需的其它依赖并自动下载来。Yum同理可以非常方便的让我们进行rpm包的安装无需关系当前rpm所需的依赖。但是与Maven下载其它依赖需要到中央仓库一样 Yum下载依赖所需的源也是在放置在国外服务器并且其中没有安装Impala所需要的rpm包，所以默认的这种Yum源可能下载依赖失败。所以我们可以自己指定Yum去哪里下载所需依赖。</p> 
<p>        rpm方式安装:需要自己管理rpm包的依赖关系；非常麻烦；解决依赖关系使用yum；默认Yum源是没有 Impala的rpm安装包，所以我们自己准备好所有的Impala安装所需的rpm包，制作Yum本地源，配置 Yum命令去到我们准备的Yun源中下载Impala的rpm包进行安装。</p> 
<p><span style="color:#956fe7;"><strong>Yum命令默认源</strong></span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4e/6b/31Ea9Ozm_o.jpg"></p> 
<p><span style="color:#956fe7;"><strong>本地Yum源方式 </strong></span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f3/be/XQjg3THU_o.jpg"></p> 
<p><span style="color:#be191c;"><strong>具体制作步骤 </strong></span></p> 
<p>        Yum源是Centos当中下载软件rpm包的地址，因此通过制作本地Yum源并指定Yum命令使用本地Yum 源，为了使Yum命令(本机，跨网络节点)可以通过网络访问到本地源，我们使用Httpd这种静态资源服务器来开放我们下载所有的rpm包。</p> 
<p>（1）Linux121安装Httpd服务器</p> 
<blockquote> 
 <p><span style="color:#7b7f82;">#yum方式安装httpd服务器</span></p> 
 <p><span style="color:#be191c;"><strong>yum install httpd -y</strong></span></p> 
 <p></p> 
 <p><span style="color:#7b7f82;">#启动httpd服务器</span></p> 
 <p><span style="color:#b95514;"><strong>systemctl start httpd</strong></span></p> 
 <p></p> 
 <p><span style="color:#1c7892;">#验证httpd工作是否正常,默认端口是80，可以省略</span></p> 
 <p><a href="http://linux121" rel="nofollow" title="http://linux121">http://linux121</a></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cb/42/eJTAc866_o.jpg"></p> 
<p>（2） 新建一个测试页面</p> 
<blockquote> 
 <p>httpd默认存放页面路径</p> 
 <p><span style="color:#1a439c;"><strong>/var/www/html/</strong></span></p> 
</blockquote> 
<p>新建一个页面test.html</p> 
<pre><code class="language-html">&lt;html&gt;
    &lt;div style="font-size:100px"&gt;
        this is a new page!!
    &lt;/div&gt;
&lt;/html&gt;</code></pre> 
<p>访问</p> 
<blockquote> 
 <p><a href="http://linux121/test.html" rel="nofollow" title="http://linux121/test.html">http://linux121/test.html</a></p> 
</blockquote> 
<p>注：后续可以把下载的rpm包解压放置到此处便可以供yum访问</p> 
<p>（3）下载Impala安装所需rpm包</p> 
<p>Impala所需安装包需要到Cloudera提供地址下载</p> 
<blockquote> 
 <p>http://archive.cloudera.com/cdh5/repo-as-tarball/5.7.6/cdh5.7.6- centos7.tar.gz</p> 
</blockquote> 
<p>注意：该tar.gz包是包含了Cloudera所提供的几乎所有rpm包，但是为了方便我们不再去梳理其中 依赖关系，全部下载来，整个文件件比较大，有3.8G。选择一个磁盘空间够的节点，后续还要把压缩包解压所以磁盘空间要剩余10G以上。</p> 
<p>相关资料：链接：<a class="link-info" href="https://pan.baidu.com/s/1Uz2hr61Zodhs9TH79W7-uA?pwd=af0k" rel="nofollow" title="https://pan.baidu.com/s/1Uz2hr61Zodhs9TH79W7-uA?pwd=af0k">https://pan.baidu.com/s/1Uz2hr61Zodhs9TH79W7-uA?pwd=af0k</a></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/34/dd/gZQjEQWB_o.jpg"></p> 
<p>移动该安装包到/opt/lagou/software </p> 
<blockquote> 
 <p># 解压缩</p> 
 <p><span style="color:#956fe7;"><strong>tar -zxvf cdh5.7.6-centos7.tar.gz</strong></span></p> 
</blockquote> 
<p>（4）使用Httpd盛放依赖包</p> 
<blockquote> 
 <p># 创建软链接到/var/www/html下</p> 
 <p><span style="color:#956fe7;"><strong>ln -s /opt/lagou/software/cdh/5.7.6 /var/www/html/cdh57</strong></span></p> 
</blockquote> 
<blockquote> 
 <p># 验证</p> 
 <p><a href="http://linux121/cdh57/" rel="nofollow" title="http://linux121/cdh57/">http://linux121/cdh57/</a></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/23/23/EH0LjVg8_o.jpg"></p> 
<p>如果提示403 forbidden </p> 
<blockquote> 
 <p><span style="color:#956fe7;"><strong>vim /etc/selinux/config</strong></span></p> 
</blockquote> 
<p><span style="color:#be191c;">将SELINUX=enforcing改为SELINUX=disabled</span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a0/5d/hSfOxMX8_o.jpg"></p> 
<p>修改之后要记得重启机器！！之前修改过可以不用修改！！ </p> 
<p>（5）修改Yum源配置文件</p> 
<pre><code class="language-html">cd /etc/yum.repos.d
#创建一个新的配置⽂件
vim local.repo
#添加如下内容
[local]
name=local
baseurl=http://linux121/cdh57/
gpgcheck=0
enabled=1</code></pre> 
<ul><li>name:对于当前源的描述</li><li>baseurl:访问当前源的地址信息</li><li>gpgcheck: 1 0,gpg校验</li><li>enabled:1/0,是否使用当前源</li></ul> 
<p>（6）分发local.repo文件到其它节点（三台机器都要修改）</p> 
<p></p> 
<h3>2、安装Impala</h3> 
<h4>2.1、集群规划</h4> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td style="text-align:center;">服务名称</td><td style="text-align:center;">linux121</td><td style="text-align:center;">linux122</td><td style="text-align:center;">linux123</td></tr><tr><td style="text-align:center;">impala-catalogd</td><td style="text-align:center;">不安装</td><td style="text-align:center;">不安装</td><td style="text-align:center;">安装</td></tr><tr><td style="text-align:center;">impala-statestored</td><td style="text-align:center;">不安装</td><td style="text-align:center;">不安装</td><td style="text-align:center;">安装</td></tr><tr><td style="text-align:center;">impala-server</td><td style="text-align:center;">安装</td><td style="text-align:center;">安装</td><td style="text-align:center;">安装</td></tr></tbody></table> 
<p><span style="color:#7b7f82;"><strong>Impala角色</strong></span></p> 
<ul><li>impala-server:这个进程是Impala真正工作的进程，官方建议把impala-server安装在datanode节点， 更靠近数据（短路读取）,进程名impalad</li><li>impala-statestored:健康监控角色，主要监控impala-server,impala-server出现异常时告知给其它 impala-server;进程名叫做statestored</li><li>impala-catalogd :管理和维护元数据(Hive),impala更新操作；把impala-server更新的元数据通知给其它impala-server,进程名catalogd</li></ul> 
<p>官方建议statestore与catalog安装在同一节点上！！</p> 
<h4>2.2、具体安装步骤</h4> 
<p><span style="color:#be191c;"><strong>Linux123</strong></span></p> 
<blockquote> 
 <p><span style="color:#1c7892;"><strong>yum install impala -y </strong></span></p> 
 <p><span style="color:#1c7892;"><strong>yum install impala-server -y</strong></span></p> 
 <p><span style="color:#1c7892;"><strong>yum install impala-state-store -y </strong></span></p> 
 <p><span style="color:#1c7892;"><strong>yum install impala-catalog -y </strong></span></p> 
 <p><span style="color:#1c7892;"><strong>yum install impala-shell -y</strong></span></p> 
</blockquote> 
<p><span style="color:#be191c;"><strong>Linux121与Linux122</strong></span></p> 
<blockquote> 
 <p><span style="color:#511b78;"><strong>yum install impala-server -y</strong></span></p> 
 <p><span style="color:#511b78;"><strong>yum install impala-shell -y</strong></span></p> 
</blockquote> 
<p><span style="color:#7b7f82;"><strong>配置Impala</strong></span></p> 
<p>（1）修改hive-site.xml</p> 
<blockquote> 
 <p><span style="color:#1c7892;"><strong>vim hive-site.xml</strong></span></p> 
</blockquote> 
<pre><code class="language-XML">&lt;!--指定metastore地址，之前添加过可以不用添加 --&gt;
&lt;property&gt;
    &lt;name&gt;hive.metastore.uris&lt;/name&gt;
    &lt;value&gt;thrift://linux121:9083,thrift://linux123:9083&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
    &lt;name&gt;hive.metastore.client.socket.timeout&lt;/name&gt;
    &lt;value&gt;3600&lt;/value&gt;
&lt;/property&gt;</code></pre> 
<p>（2）分发Hive安装包到集群节点</p> 
<blockquote> 
 <p>rsync -r /opt/lagou/servers/hive-2.3.7/ linux122:/opt/lagou/servers/</p> 
 <p>rsync -r /opt/lagou/servers/hive-2.3.7/ linux121:/opt/lagou/servers/</p> 
</blockquote> 
<p>（3）Linux123启动metastore服务</p> 
<blockquote> 
 <p><span style="color:#1c7892;">nohup hive --service metastore &amp;</span></p> 
</blockquote> 
<p>（4）启动hiveserver2服务</p> 
<blockquote> 
 <p><span style="color:#1a439c;">nohup hive --service hiveserver2 &amp;</span></p> 
</blockquote> 
<p>（5）修改HDFS集群hdfs-site.xml</p> 
<p>配置HDFS集群的短路读取</p> 
<p><strong>什么是短路读取？</strong></p> 
<p>        在HDFS中通过DataNode来读取数据。但是，当客户端向DataNode请求读取文件时，DataNode 就会从磁盘读取该文件并通过TCP socket将数据发送到客户端。所谓“短路”是指Client客户端直接读取文件。很明显，这种情况只在客户端与数据放在同一地点（译者注：同一主机）时才有可能发生。短路读对于许多应用程序会带来重大的性能提升。</p> 
<p>短路读取：就是Client与DataNode属于同⼀节点，⽆需再经过⽹络传输数据，直接本地读取。</p> 
<p>要配置短路本地读，需要验证本机Hadoop是否有libhadoop.so;</p> 
<blockquote> 
 <p># 进入下目录：</p> 
 <p><span style="color:#1c7892;"><strong>/opt/lagou/servers/hadoop-2.9.2/lib/native</strong></span></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/3c/9d/6nyNIQFt_o.jpg"></p> 
<p><span style="color:#7b7f82;"><strong>短路读取配置步骤 </strong></span></p> 
<p>（1）创建短路读取本地中转站</p> 
<blockquote> 
 <p># 所有节点创建一下目录</p> 
 <p><span style="color:#1c7892;"><strong>mkdir -p /var/lib/hadoop-hdfs</strong></span></p> 
</blockquote> 
<p>（2）修改hdfs-site.xml</p> 
<pre><code class="language-XML">&lt;!--添加如下内容 --&gt;
&lt;!--打开短路读取开关 --&gt;
&lt;!-- 打开短路读取配置--&gt;
&lt;property&gt;
    &lt;name&gt;dfs.client.read.shortcircuit&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;!--这是⼀个UNIX域套接字的路径，将⽤于DataNode和本地HDFS客户机之间的通信 --&gt;
&lt;property&gt;
    &lt;name&gt;dfs.domain.socket.path&lt;/name&gt;
    &lt;value&gt;/var/lib/hadoop-hdfs/dn_socket&lt;/value&gt;
&lt;/property&gt;
&lt;!--block存储元数据信息开发开关 --&gt;
&lt;property&gt;
    &lt;name&gt;dfs.datanode.hdfs-blocks-metadata.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
    &lt;name&gt;dfs.client.file-block-storage-locations.timeout&lt;/name&gt;
    &lt;value&gt;30000&lt;/value&gt;
&lt;/property&gt;</code></pre> 
<p>注：分发到集群其它节点。重启Hadoop集群。</p> 
<blockquote> 
 <p><span style="color:#7b7f82;">#停止集群</span></p> 
 <p><span style="color:#956fe7;"><strong>stop-dfs.sh </strong></span></p> 
 <p><span style="color:#956fe7;"><strong>start-dfs.sh</strong></span></p> 
 <p></p> 
 <p><span style="color:#7b7f82;">#启动集群</span></p> 
 <p><span style="color:#956fe7;"><strong>start-dfs.sh </strong></span></p> 
 <p><span style="color:#956fe7;"><strong>start-yarn.sh</strong></span></p> 
</blockquote> 
<p>（5）Impala具体配置</p> 
<p><span style="color:#1c7892;"><strong>引用HDFS，Hive配置</strong></span></p> 
<p>        使用Yum方式安装impala默认的Impala配置文件目录为 /etc/impala/conf，Impala的使用要依赖 Hadoop，Hive框架，所以需要把Hdfs,Hive的配置文件告知Impala。</p> 
<p>执行以下命令把Hdfs，Hive的配置文件软链接到/etc/impala/conf下</p> 
<pre><code class="language-XML">ln -s /opt/lagou/servers/hadoop-2.9.2/etc/hadoop/core-site.xml /etc/impala/conf/core-site.xml

ln -s /opt/lagou/servers/hadoop-2.9.2/etc/hadoop/hdfs-site.xml /etc/impala/conf/hdfs-site.xml

ln -s /opt/lagou/servers/hive-2.3.7/conf/hive-site.xml /etc/impala/conf/hive-site.xml</code></pre> 
<p>注：所有节点都要执行此命令！</p> 
<p><span style="color:#1c7892;"><strong>Impala自身配置</strong></span></p> 
<p>所有节点更改Impala默认配置⽂件以及添加mysql的驱动包</p> 
<blockquote> 
 <p><span style="color:#956fe7;"><strong>vim /etc/default/impala</strong></span></p> 
 <pre><code class="language-XML">&lt;!--更新如下内容 --&gt;
IMPALA_CATALOG_SERVICE_HOST=linux123
IMPALA_STATE_STORE_HOST=linux123</code></pre> 
</blockquote> 
<p>所有节点创建mysql的驱动包的软链接</p> 
<blockquote> 
 <p>#创建节点</p> 
 <p><span style="color:#be191c;"><strong>mkdir -p /usr/share/java</strong></span></p> 
 <p><span style="color:#9c8ec1;"><strong>ln -s /opt/lagou/servers/hive-2.3.7/lib/mysql-connector-java-5.1.46.jar  /usr/share/java/mysql-connector-java.jar</strong></span></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e2/99/BAY0nEcL_o.jpg"></p> 
<p><span style="color:#7b7f82;"><strong>修改bigtop的java_home路径 </strong></span></p> 
<blockquote> 
 <p><span style="color:#1c7331;"><strong>vim /etc/default/bigtop-utils</strong></span></p> 
 <p><span style="color:#7b7f82;"># 添加下面内容</span></p> 
 <p><span style="color:#956fe7;"><strong>export JAVA_HOME=/opt/lagou/servers/jdk1.8.0_231</strong></span></p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d0/c7/Dry45huS_o.jpg"></p> 
<p>注意：Apache Bigtop 是一个针对基础设施工程师和数据科学家的开源项目，旨在全面打包、测试 和配置领先的开源大数据组件/项目。Impala项目中使用到了此软件。 </p> 
<p><span style="color:#7b7f82;"><strong>启动Impala</strong></span></p> 
<blockquote> 
 <p># linux123启动如下角色</p> 
 <p><span style="color:#956fe7;"><strong>service impala-state-store start </strong></span></p> 
 <p><span style="color:#956fe7;"><strong>service impala-catalog start</strong></span></p> 
 <p><span style="color:#956fe7;"><strong>service impala-server start</strong></span></p> 
 <p></p> 
 <p># 其余节点启动如下角色</p> 
 <p><span style="color:#1a439c;"><strong>service impala-server start</strong></span></p> 
</blockquote> 
<p>验证Impala启动结果</p> 
<blockquote> 
 <p><span style="color:#9c8ec1;"><strong>ps -ef | grep impala</strong></span></p> 
</blockquote> 
<p>浏览器Web界面验证</p> 
<blockquote> 
 <p><span style="color:#1c7331;">访问impalad的管理界面</span></p> 
 <p><span style="color:#98c091;"><strong>http://linux123:25000/</strong></span></p> 
 <p><span style="color:#7b7f82;">访问statestored的管理界面</span></p> 
 <p><strong><span style="color:#4da8ee;">http://linux123:25010/</span></strong></p> 
</blockquote> 
<p><span style="background-color:#ffd900;">Impalad管理界面</span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/04/a9/Ocl5gj8D_o.jpg"></p> 
<p><span style="background-color:#a2e043;">Statestore管理界面</span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ed/10/sGhegobD_o.jpg"></p> 
<p><span style="color:#fe2c24;"><strong>注意：</strong></span>启动之后所有关于Impala的日志默认都在<span style="color:#1c7331;"><strong>/var/log/impala </strong></span>这个路径下，Linux123机器上面应该有三个进程，Linux121与Linux122机器上面只有一个进程，如果进程个数不对，去对应目录下查看报错日志。</p> 
<p><span style="color:#7b7f82;"><strong>消除Impala影响</strong></span></p> 
<p>        由于使用Yum命令安装Impala，我们选择使用yum自动进行Impala依赖的安装和处理，所以本次安装默认会把Impala依赖的所有框架都会安装，比如Hadoop,Hive,Mysql等，为了保证我们自己安装的Hadoop等使用正常我们需要删除掉Impala默认安装的其它框架。</p> 
<pre><code class="language-XML">[root@linux122 conf]# which hadoop
/usr/bin/hadoop
[root@linux122 conf]# which hive
/usr/bin/hive
#使⽤which命令 查找hadoop,hive等会发现，命令⽂件是/usr/bin/hadoop ⽽⾮我们⾃⼰安装的路径，需要把这些删除掉,所有节点都要执⾏
rm -rf /usr/bin/hadoop
rm -rf /usr/bin/hdfs
rm -rf /usr/bin/hive
rm -rf /usr/bin/beeline
rm -rf /usr/bin/hiveserver2

#重新⽣效环境变量
source /etc/profile</code></pre> 
<p><span style="background-color:#fefcd8;">jps 时出现没有名字的进程或者process information unavailable</span></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/35/7f/1R6jRFuk_o.jpg"></p> 
<p><span style="color:#1c7892;"><strong>解决方式 </strong></span></p> 
<blockquote> 
 <p><span style="color:#956fe7;"><strong>rm -rf /tmp/hsperfdata_*</strong></span></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bff798f5eb2b1a91520e2ce588714a1b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【FPGA】SCCB通信协议</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0ca8cf2f88bd0388d9ecdb8a473a3930/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IDEA2021.3.1版本配置lombok全过程（maven版本）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>