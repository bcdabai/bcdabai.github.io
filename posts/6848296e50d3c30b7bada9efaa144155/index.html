<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python】提取文本文件中某个位置的数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Python】提取文本文件中某个位置的数据" />
<meta property="og:description" content=" 目录
问题背景：
问题分析：
问题解决：
问题背景： 1.提取文本文件中，某一行某一列的一个数据；
2.一个文件夹下有n个这样的文件，都需要提取同样位置的数据；
3.只从这n个文件中筛选出想要的文件进行数据提取；
4.每个文本文件中提取出来的m个不同位置的数，然后算出这些书中最大值或者最小值和该值对应的索引值。
问题分析： 这本身是我工作中一个做的一个小工具脚本，可以拆分成一些小问题来分别处理，这里为了便于理解，会将解决这些问题对应的每个小知识点都做一个概要解释，具体分析如下：
1.Python提取文本文件中某个位置的数据
先找到文本文件具体某一行的数据，然后再把该行数据存到列表中，通过索引的方式取该行具体对应某一列的数据。
Python取文件中某一行数据方法：
import linecache str=linecache.getline(filename,linenumber) 该方法返回一个&lt;str&gt;类型数据
2.Python获取某个路径文件夹下的所有文件
import os files=os.listdir(dirpath) dirpath是需要处理的文件夹路径，files是一个存着所有该路径下的文件名列表，之后通过循环处理每一个文件。
3.筛选问题其实相对好处理，在循环读取文件时加一个判断条件即可
4.Python取列表最大最小值与其对应的索引值
这里使用heapq来取最大值，使用map方法去匹配对应的索引值。
import heapq max_value=heapq.nlargest(1,value_lists) 问题解决： 具体代码如下：
1.Python获取指定路径文件夹下的所有文件
如果需要筛选的话也在这里加判断条件
def getFiles(dirpath): files=os.listdir(dirpath) for file in files: print(file) return files 调用：
filelist=getFiles(&#34;C:/Desktop/test.txt&#34;) 2.Python提取文本文件中某个位置的数据
def handleText(filelist): value_list=[] flie_index=[] for file in filelist: value=linecache.getline(file,20) value=value.strip().split(&#34; &#34;)[10] value_list.append(value) max_value=heapq.nlargest(1,value_list) max_value_index=list(map(value_list.index,max_value)) max_value_index=int(max_value[0]) filename=file_index[max_value_index] " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6848296e50d3c30b7bada9efaa144155/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-11T22:46:54+08:00" />
<meta property="article:modified_time" content="2023-07-11T22:46:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python】提取文本文件中某个位置的数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>目录</strong></p> 
<p><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF%EF%BC%9A" rel="nofollow">问题背景：</a></p> 
<p><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%EF%BC%9A" rel="nofollow">问题分析：</a></p> 
<p><a href="#%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%EF%BC%9A" rel="nofollow">问题解决：</a></p> 
<hr> 
<h3>问题背景：</h3> 
<p>1.提取文本文件中，某一行某一列的一个数据；</p> 
<p>2.一个文件夹下有n个这样的文件，都需要提取同样位置的数据；</p> 
<p>3.只从这n个文件中筛选出想要的文件进行数据提取；</p> 
<p>4.每个文本文件中提取出来的m个不同位置的数，然后算出这些书中最大值或者最小值和该值对应的索引值。</p> 
<h3>问题分析：</h3> 
<p>这本身是我工作中一个做的一个小工具脚本，可以拆分成一些小问题来分别处理，这里为了便于理解，会将解决这些问题对应的每个小知识点都做一个概要解释，具体分析如下：</p> 
<p><strong>1.Python提取文本文件中某个位置的数据</strong></p> 
<p>先找到文本文件具体某一行的数据，然后再把该行数据存到列表中，通过索引的方式取该行具体对应某一列的数据。</p> 
<p>Python取文件中某一行数据方法：</p> 
<pre><code class="language-python">import linecache

str=linecache.getline(filename,linenumber)</code></pre> 
<p>该方法返回一个&lt;str&gt;类型数据</p> 
<p><strong>2.Python获取某个路径文件夹下的所有文件</strong></p> 
<pre><code class="language-python">import os

files=os.listdir(dirpath)</code></pre> 
<p>dirpath是需要处理的文件夹路径，files是一个存着所有该路径下的文件名列表，之后通过循环处理每一个文件。</p> 
<p>3.筛选问题其实相对好处理，在循环读取文件时加一个判断条件即可</p> 
<p><strong>4.Python取列表最大最小值与其对应的索引值</strong></p> 
<p>这里使用heapq来取最大值，使用map方法去匹配对应的索引值。</p> 
<pre><code class="language-python">import heapq

max_value=heapq.nlargest(1,value_lists)</code></pre> 
<h3>问题解决：</h3> 
<p>具体代码如下：</p> 
<p><strong>1.Python获取指定路径文件夹下的所有文件</strong></p> 
<p>如果需要筛选的话也在这里加判断条件</p> 
<pre><code class="language-python">def getFiles(dirpath):

    files=os.listdir(dirpath)

    for file in files:

        print(file)

    return files</code></pre> 
<p>调用：</p> 
<pre><code class="language-python">filelist=getFiles("C:/Desktop/test.txt")</code></pre> 
<p><strong>2.Python提取文本文件中某个位置的数据</strong></p> 
<pre><code class="language-python">def handleText(filelist):

    value_list=[]

    flie_index=[]

    for file in filelist:

        value=linecache.getline(file,20)

        value=value.strip().split("  ")[10]

        value_list.append(value)

    max_value=heapq.nlargest(1,value_list)

    max_value_index=list(map(value_list.index,max_value))

    max_value_index=int(max_value[0])

    filename=file_index[max_value_index]</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/72d597da087c7c42de28be298bb48dff/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">强引用和弱引用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4645195326713ffa5662c7e97cb8bcb7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Maltab与线性规划</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>