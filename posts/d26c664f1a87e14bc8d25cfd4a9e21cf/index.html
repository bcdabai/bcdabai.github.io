<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Charles设置代理&amp;手机和浏览器抓包 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Charles设置代理&amp;手机和浏览器抓包" />
<meta property="og:description" content="1.在Charles官网https://www.charlesproxy.com/download/下载，我这边下载的是免费体验版的，如果你英文看着费劲，网上有汉化包。
2.安装好以后打开，配置Charles证书；选择
help——SSL Proxying——install Charles Root Certificate
会出现证书安装的信息，我这边已经安装成功，第一次可能需要安装
将证书安装在“受信任的根证书颁发机构”，这步很重要
最后提示导入成功，出现如上述证书信息显示说明证书安装成功，也可在证书路径中查看证书安装结果
3.勾选Proxy——Windows Proxy
4.选择Proxy——SSL Proxy Setting，添加Location
Host和Port均设为*，
注:这个地方我设置的是*:443
5、想要对浏览器请求进行抓包，还要对浏览器的证书进行设置，如下图操作
出现如下提示信息，提示你去路径 chls.pro/ssl 下载证书,访问路径可自动下载
6、导入浏览器证书，这里以Chrome浏览器为例，打开设置 – 隐私设置和安全性 – 安全 – 管理证书
7、按如下步骤进行选择证书导入，记得第3步文件类型要选择所有，不然匹配不到pem格式的文件
8、和工具端一样，将证书存储到“受信任的根证书颁发机构”下，后面直接下一步即可
9、现在打开www.baidu.com里搜索Charles进行进行抓包测试，可以看到抓包成功
注意第5步,一定要操作,不然会unknown错误！！！，且会出现百度随便搜个啥都显示 【xxx不受信任】
注意，如果证书安装了，也添加了信任，Chrome浏览器抓包数据还是上图的unknown或者不受信任，那就是证书没装好或者装了没生效 ，重启Chrome浏览器就好了。 iPhone/ipad 代理设置 开启方法：
老版iPhone 设置”—&gt; “Wlan”—&gt; 查看WiFi详情 —&gt; “HTTp代理”改为手动—&gt; 点击保存（ios11以前貌似没有保存按钮，点击返回即保存）
iPhone11 设置 – 无线局域网 --你连的wifi，点蓝色圆圈图标 – HTTp代理 – 选 手动，填服务器和端口 – 点 存储
数据：主机名设置为代理主机的IP，端口默认是8888
安卓机 代理设置（以小米5为例） 开启方法：“设置”—&gt; “Wlan”—&gt; 查看WiFi详情 （部分手机是叫高级设置）—&gt; “代理”改为手动
数据：主机名设置为代理主机的IP，端口默认是8888
然后手机浏览器去访问 http://chls.pro/ssl 下载证书，安装并添加信任 一、iOS客户端安装证书" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d26c664f1a87e14bc8d25cfd4a9e21cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-10T18:26:33+08:00" />
<meta property="article:modified_time" content="2022-08-10T18:26:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Charles设置代理&amp;手机和浏览器抓包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1.在Charles官网https://www.charlesproxy.com/download/下载，我这边下载的是免费体验版的，如果你英文看着费劲，网上有汉化包。<br> <img src="https://images2.imgbox.com/81/78/D2LIghPO_o.png" alt="在这里插入图片描述"></p> 
<p>2.安装好以后打开，配置Charles证书；选择<br> help——SSL Proxying——install Charles Root Certificate<br> <img src="https://images2.imgbox.com/81/52/ylZEJeq0_o.png" alt="在这里插入图片描述"></p> 
<p>会出现证书安装的信息，我这边已经安装成功，第一次可能需要安装</p> 
<p><img src="https://images2.imgbox.com/06/49/xwE9e7Is_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2c/bd/9wXNMDpI_o.png" alt="在这里插入图片描述"></p> 
<p>将证书安装在“受信任的根证书颁发机构”，这步很重要</p> 
<p><img src="https://images2.imgbox.com/bc/67/hADHPDQt_o.png" alt="在这里插入图片描述"></p> 
<p>最后提示导入成功，出现如上述证书信息显示说明证书安装成功，也可在证书路径中查看证书安装结果</p> 
<p><img src="https://images2.imgbox.com/68/12/KGERJUbj_o.png" alt="在这里插入图片描述"></p> 
<p>3.勾选Proxy——Windows Proxy</p> 
<p><img src="https://images2.imgbox.com/b4/85/98GHuEjj_o.png" alt="在这里插入图片描述"></p> 
<p>4.选择Proxy——SSL Proxy Setting，添加Location</p> 
<p><img src="https://images2.imgbox.com/9e/12/NLcM5Lhp_o.png" alt="在这里插入图片描述"></p> 
<p>Host和Port均设为*，</p> 
<p><img src="https://images2.imgbox.com/8c/4b/CTMd9NrH_o.png" alt="在这里插入图片描述"></p> 
<p>注:这个地方我设置的是*:443</p> 
<p><img src="https://images2.imgbox.com/80/50/90RSDokL_o.png" alt="在这里插入图片描述"></p> 
<p>5、想要对浏览器请求进行抓包，还要对浏览器的证书进行设置，如下图操作</p> 
<p><img src="https://images2.imgbox.com/3f/4e/ojslMPnK_o.png" alt="在这里插入图片描述"></p> 
<p>出现如下提示信息，提示你去路径 chls.pro/ssl 下载证书,访问路径可自动下载<br> <img src="https://images2.imgbox.com/60/5f/M8VjTPmD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/de/19/xm44GsOR_o.png" alt="在这里插入图片描述"></p> 
<p>6、导入浏览器证书，这里以Chrome浏览器为例，打开设置 – 隐私设置和安全性 – 安全 – 管理证书<br> <img src="https://images2.imgbox.com/ed/8e/cPk8jobg_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/dd/bd/7yCF9e0n_o.png" alt="在这里插入图片描述"></p> 
<p>7、按如下步骤进行选择证书导入，记得第3步文件类型要选择所有，不然匹配不到pem格式的文件</p> 
<p><img src="https://images2.imgbox.com/b5/8f/aNNHIMwQ_o.png" alt="在这里插入图片描述"></p> 
<p>8、和工具端一样，将证书存储到“受信任的根证书颁发机构”下，后面直接下一步即可</p> 
<p><img src="https://images2.imgbox.com/17/ee/5dtmojIl_o.png" alt="在这里插入图片描述"></p> 
<p>9、现在打开www.baidu.com里搜索Charles进行进行抓包测试，可以看到抓包成功<br> <img src="https://images2.imgbox.com/eb/fe/bK5qc2QW_o.png" alt="在这里插入图片描述"></p> 
<p>注意第5步,一定要操作,不然会unknown错误！！！，且会出现百度随便搜个啥都显示 【xxx不受信任】</p> 
<p><img src="https://images2.imgbox.com/cc/b4/kH6ZAGGi_o.png" alt="在这里插入图片描述"> <img src="https://images2.imgbox.com/95/22/sUN4Kw7m_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="Chromeunknown_Chrome_109"></a>注意，如果证书安装了，也添加了信任，Chrome浏览器抓包数据还是上图的unknown或者不受信任，那就是证书没装好或者装了没生效 ，重启Chrome浏览器就好了。</h5> 
<br> 
<br> 
<h4><a id="iPhoneipad__114"></a>iPhone/ipad 代理设置</h4> 
<p>开启方法：<br> 老版iPhone 设置”—&gt; “Wlan”—&gt; 查看WiFi详情 —&gt; “HTTp代理”改为手动—&gt; 点击保存（ios11以前貌似没有保存按钮，点击返回即保存）</p> 
<p>iPhone11 设置 – 无线局域网 --你连的wifi，点蓝色圆圈图标 – HTTp代理 – 选 手动，填服务器和端口 – 点 存储</p> 
<p>数据：主机名设置为代理主机的IP，端口默认是8888<br> <img src="https://images2.imgbox.com/2e/a7/JMQHTp16_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_5_124"></a>安卓机 代理设置（以小米5为例）</h5> 
<p>开启方法：“设置”—&gt; “Wlan”—&gt; 查看WiFi详情 （部分手机是叫高级设置）—&gt; “代理”改为手动</p> 
<p>数据：主机名设置为代理主机的IP，端口默认是8888<br> <img src="https://images2.imgbox.com/79/f8/rjGIltGl_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_httpchlsprossl__131"></a>然后手机浏览器去访问 <code>http://chls.pro/ssl</code> 下载证书，安装并添加信任</h5> 
<p>一、iOS客户端安装证书</p> 
<p>1、打开Charles，选择help→SSL Proxying→Install Charles Root Certificate on a Mobile Device or Remote Browser</p> 
<p>2、手机连接电脑代理，打开safari，输入网址：chls.pro/ssl</p> 
<p>3、手机弹出提示：此网站正尝试打开“设置”已向您显示一个配置描述文件。您要允许吗？忽略|允许，选择允许，安装描述文件，并信任</p> 
<p>4、iOS10.3以上的手机需要在：设置→ 通用 → 关于本机 → 证书信任设置→ 找到charles proxy CA证书，打开信任即可</p> 
<p>二、android（安卓）客户端安装证书</p> 
<p>安卓手机类型众多，所以有些不太一样，</p> 
<p>方法一：</p> 
<p>1、打开Charles，选择help→SSL Proxying→Install Charles Root Certificate on a Mobile Device or Remote Browser</p> 
<p>2、手机连接电脑代理，打开浏览器，输入网址：chls.pro/ssl</p> 
<p>3、手机弹出提示：安装配置描述文件。您要允许吗？忽略|允许，选择允许，即可</p> 
<p>方法二：</p> 
<p>1、打开Charles，选择help→SSL Proxying→Save Charles Certificate，将证书导入到手机中</p> 
<p>2、导入后直接点击安装证书即可</p> 
<p>方法三：</p> 
<p>1、打开Charles，选择help→SSL Proxying→Save Charles Certificate，将证书导入到手机中</p> 
<p>2、导入后直接点击安装证书，提示无法打开</p> 
<p>3、进入手机设置 → 更多设置 → 系统安全 → 从存储设备安装 → 选择charles.pem，点击高级，安装证书即可</p> 
<p>常见手机：小米手机，华为手机，需要设置手机锁屏密码</p> 
<p><br><br></p> 
<p>————————————————</p> 
<p>本文参考一下资料,略加修改并汇总<br> 资料出处的原文链接：<br> https://blog.csdn.net/weixin_43291944/article/details/90675879<br> https://www.cnblogs.com/xiashang/p/9465708.html<br> https://www.jianshu.com/p/59c0dc71fb6c?utm_campaign</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d0b8462740ebd620f3db8b373ba59820/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win10下在虚拟机中下载安装ubuntu16、下载安装Anaconda以及apt/pip/conda换源等系列操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d521cb046c3faa9cbdc0e678d69feb05/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot - WebMvcConfigurer的作用是什么？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>