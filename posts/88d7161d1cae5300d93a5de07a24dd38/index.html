<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python-PyEchart绘制地图(Map) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python-PyEchart绘制地图(Map)" />
<meta property="og:description" content="Python-PyEchart绘制地图Map
一、简介
参考官网地址：
https://pyecharts.org/#/zh-cn/intro 相关数据准备：
关注上面公众号，回复“地图”即可获取相关数据。
图对象具体配置参考：
全局配置参考：
JSON数据参考：
1、全国疫情可视化地图案例参考：
绘制地图工具模块：
#绘制地图通用模块from pyecharts.charts import Mapfrom pyecharts.options import VisualMapOpts def fun_map(title,maptype,data): &#34;&#34;&#34; :fun_map：绘制地图函数 :param title: 添加数据 series_name系列名称 :param data: 地图相关数据 :param maptype: 地图类型 :return: &#34;&#34;&#34; #1、开始绘制地图 print(&#34;开始绘制地图&#34;) # 2.准备地图对象 map = Map() # 3.准备数据，所用数据都是列表嵌套元组 data已经传 # 4.添加数据 series_name系列名称，用于 tooltip 的显示，legend 的图例筛选 # data_pair 数据项 (坐标点名称，坐标点值) # 地图类型，具体参考 pyecharts.datasets.map_filenames.json 文件 map.add(series_name=title,maptype=maptype,data_pair=data) # 5.设置全局选项 map.set_global_opts( # 视图功能 visualmap_opts=VisualMapOpts( # 该参数设置视图开启 is_show=True, # 该参数改变视图模式 是否为分段型 is_piecewise=True, # 颜色和表签的设置 自定义的每一段的范围，以及每一段的文字，以及每一段的特别的样式 pieces=[ {&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/88d7161d1cae5300d93a5de07a24dd38/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-18T08:50:32+08:00" />
<meta property="article:modified_time" content="2023-05-18T08:50:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python-PyEchart绘制地图(Map)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg5MDk2MDI5OA==&amp;mid=2247484431&amp;idx=2&amp;sn=bdda36f4922fb6b55b9dfbfc7bc3510b&amp;chksm=cfd5e4caf8a26ddce071da5a866e73ab28bd6f49f5c4e12e71d0194f5246088f394288beaea4#rd" rel="nofollow" title="Python-PyEchart绘制地图Map">Python-PyEchart绘制地图Map</a></p> 
<p><strong>一、简介</strong></p> 
<p><strong>参考官网地址：</strong></p> 
<pre><code>https://pyecharts.org/#/zh-cn/intro</code></pre> 
<p></p> 
<p><strong>相关数据准备：</strong></p> 
<p><strong>    关注上面公众号，回复“地图”即可获取相关数据。</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/59/83/Hprmnn7Q_o.png"></p> 
<p></p> 
<p><strong>图对象具体配置参考：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/09/a0/B19RNWTJ_o.png"></p> 
<p><strong>全局配置参考：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/67/1e/ja1FgvTT_o.png"></p> 
<p><strong>JSON数据参考：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a7/4d/CMD2Sqvp_o.png"></p> 
<p>1、<strong>全国疫情可视化地图</strong><strong>案例参考：</strong></p> 
<p><strong>绘制地图工具模块：</strong></p> 
<pre><code>#绘制地图通用模块</code><code>from pyecharts.charts import Map</code><code>from pyecharts.options import VisualMapOpts</code>
<code>def fun_map(title,maptype,data):</code><code>    """</code><code>    :fun_map：绘制地图函数</code><code>    :param title: 添加数据 series_name系列名称</code><code>    :param data: 地图相关数据  </code><code>    :param maptype: 地图类型</code><code>    :return:</code><code>    """</code><code>    #1、开始绘制地图</code><code>    print("开始绘制地图")</code><code>    # 2.准备地图对象</code><code>    map = Map()</code><code>    # 3.准备数据，所用数据都是列表嵌套元组 data已经传</code><code>    # 4.添加数据 series_name系列名称，用于 tooltip 的显示，legend 的图例筛选</code><code>    # data_pair 数据项 (坐标点名称，坐标点值)</code><code>    # 地图类型，具体参考 pyecharts.datasets.map_filenames.json 文件</code><code>    map.add(series_name=title,maptype=maptype,data_pair=data)</code><code>    # 5.设置全局选项</code><code>    map.set_global_opts(</code><code>        # 视图功能</code><code>        visualmap_opts=VisualMapOpts(</code><code>            # 该参数设置视图开启</code><code>            is_show=True,</code><code>            # 该参数改变视图模式 是否为分段型</code><code>            is_piecewise=True,</code><code>            # 颜色和表签的设置 自定义的每一段的范围，以及每一段的文字，以及每一段的特别的样式</code><code>            pieces=[</code><code>                {"min": 1, "max": 499, "label": "1-499", "color": "##DCDCDC"},</code><code>                {"min": 500, "max": 999, "label": "500-999", "color": "#FFFACD"},</code><code>                {"min": 1000, "max": 1499, "label": "1000-1499", "color": "#FFFFFF"},</code><code>                {"min": 1500, "max": 1999, "label": "1000-1999", "color": "#BBFFFF"},</code><code>                {"min": 2000, "max": 4999, "label": "2000-4999", "color": "#7FFFD4"},</code><code>                {"min": 5000, "max": 9999, "label": "5000-9999", "color": "#FF3030"},</code><code>                {"min": 10000, "label": "600以上", "color": "#8B1A1A"}</code><code>            ]</code><code>        )</code><code>    )</code><code>    # 6.绘图</code><code>    map.render(f"{title}.html")</code>
<code>#对各省份数据进行处理</code><code>city_01=[]</code><code>def fun_city(city_name):</code><code>    return city_name+"省"</code></pre> 
<p><strong>调用地图工具模块中的函数：</strong></p> 
<pre><code>##绘制全国疫情可视化地图</code><code># 1.导包</code><code>import json</code><code>import map_tools</code>
<code>#2、导入数据</code><code>try:</code><code>    #打开文件</code><code>    file_data=open("D:\疫情.txt", "r", encoding="UTF-8")</code><code>    #读取文件内容</code><code>    #对JSON字符串的file_data转换为字典dict</code><code>    file_data_dict=json.loads(file_data.read())</code><code>    #关闭文件</code><code>    file_data.close()</code><code>    #获取指定层级的数据</code><code>    city_list=file_data_dict["areaTree"][0]["children"]</code><code>    # print(f"获取各城市的数据：{city_list}")</code><code>    data_list=[]</code><code>    # for循环组装数据列表</code><code>    for city_data in city_list:</code><code>        city_name=city_data["name"]</code><code>        #处理各省份名称问题</code><code>        city_name=map_tools.fun_city(city_name)</code><code>        city_confirm_nums=city_data["total"]["confirm"]</code><code>        #组成元组tuple</code><code>        city_tuple_data=(city_name,city_confirm_nums)</code><code>        #元组添加到data_list中</code><code>        data_list.append(city_tuple_data)</code><code>    #调用绘制地图函数</code><code>    map_tools.fun_map("全国疫情可视化地图","china",data_list)</code><code>except Exception as e:</code><code>    print(f"打开文件异常e:{e}")</code></pre> 
<p></p> 
<p><strong>效果图：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ea/74/MZmbPeCB_o.png"></p> 
<p><strong>2、湖北省疫情情况地图绘制：</strong></p> 
<p><strong>JSON数据层级：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c9/ed/6w32tbjD_o.png"></p> 
<p><strong>使用地图工具绘制：</strong></p> 
<pre><code>##绘制湖北疫情情况分布图</code><code>import json</code><code>from pyecharts_pack import map_tools</code>
<code>try:</code><code>    #打开文件</code><code>    file_data=open("D:\疫情.txt", "r", encoding="UTF-8")</code><code>    #读取文件内容</code><code>    #对JSON字符串的file_data转换为字典dict</code><code>    file_data_dict=json.loads(file_data.read())</code><code>    #关闭文件</code><code>    file_data.close()</code><code>    #获取指定层级的数据 6:代表湖北省</code><code>    city_list=file_data_dict["areaTree"][0]["children"][6]["children"]</code><code>    print(f"获取湖北省各城市的数据：{city_list}")</code><code>    data_list=[]</code><code>    # for循环组装数据列表</code><code>    for city_data in city_list:</code><code>        city_name=city_data["name"]+"市"</code><code>        city_confirm_nums=city_data["total"]["confirm"]</code><code>        #组成元组tuple</code><code>        city_tuple_data=(city_name,city_confirm_nums)</code><code>        #元组添加到data_list中</code><code>        data_list.append(city_tuple_data)</code><code>    #调用绘制地图函数</code><code>    map_tools.fun_map("湖北省疫情可视化地图","湖北",data_list)</code><code>except Exception as e:</code><code>    print(f"打开文件异常e:{e}")</code>
</pre> 
<p><strong>绘制效果图：</strong></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f5/66/raQfZoSs_o.png"></p> 
<p><strong>更多优秀文章，请扫码关注个人微信公众号或搜索“<a href="http://mp.weixin.qq.com/s?__biz=Mzg5MDk2MDI5OA==&amp;mid=2247483994&amp;idx=1&amp;sn=7e688984b12afe5843344dd433a094cf&amp;chksm=cfd5e29ff8a26b892048518c48fa0fda446623a5dc8a77f0b06645d8426c1932d9093c727ec2&amp;scene=21#wechat_redirect" rel="nofollow" title="程序猿小杨">程序猿小杨</a>”添加。</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f65728ca7b5f909ad2e3fd22a3d44861/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ENSP:端口隔离技术和镜像端口技术配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a8500d78bd662710c74637e9cf228992/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">货币桥架构图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>