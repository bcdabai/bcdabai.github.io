<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>正则表达式浅谈（regex without tears） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="正则表达式浅谈（regex without tears）" />
<meta property="og:description" content="正则表达式（Regular Expression），在计算机科学中，是指一个用来描述或者匹配一系列符合某个句法规则的字符串的单个字符串。它功能强大，是“通用的模式语言”，描述能力很强。
完整的正则表达式有两种字符组成：元字符和字符。其实正则表达式对字符串的操作就相当于SQL语句对数据库的操作一样，将其进行类比可以更加形象的理解正则表达式。元字符其实相当于SQL语句中的SELECT、WHERE之类，而字符就相当于表Student、No 之类。如例 ^cat$ 表示将匹配“某行以cat为全部内容的字符串”。
不同的语言以不同的方式来实现和使用这种语言。例如，在Perl中就内建了一个功能强大的正则表达式引擎。Perl正则表达式源自于Henry Spencer写的regex，它已经演化成了PCRE。以下是在PCRE中元字符及其在正则表达式上下文中的行为的一个列表：
字符
描述
/
将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“n”匹配字符“n”。“/n”匹配一个换行符。序列“//”匹配“/”而“/(”则匹配“(”。
^ 匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“/n”或“/r”之后的位置。
$ 匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“/n”或“/r”之前的位置。
* 匹配前面的子表达式零次或多次。例如，zo*能匹配“z”以及“zoo”。*等价于{0,}。
&#43; 匹配前面的子表达式一次或多次。例如，“zo&#43;”能匹配“zo”以及“zoo”，但不能匹配“z”。&#43;等价于{1,}。
? 匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“do”或“does”中的“do”。?等价于{0,1}。
{n} n是一个非负整数。匹配确定的n次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。
{n,} n是一个非负整数。至少匹配n次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o&#43;”。“o{0,}”则等价于“o*”。
{n,m} m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次。例如，“o{1,3}”将匹配“fooooood”中的前三个o。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。
? 当该字符紧跟在任何一个其他限制符(*,&#43;,?,{n},{n,},{n,m})后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o&#43;?”将匹配单个“o”，而“o&#43;”将匹配所有“o”。匹配除“/n”之外的任何单个字符。要匹配包括“/n”在内的任何字符，请使用像“[./n]”的模式。
(pattern) 匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“/(”或“/)”。
(?:pattern) 匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用“或”字符(|)来组合一个模式的各个部分是很有用。例如，“industr(?:y|ies)就是一个比”industry|industries&#39;更简略的表达式。
(?=pattern) 正向预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?=95|98|NT|2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。
(?!pattern) 负向预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“Windows(?!95|98|NT|2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始
x|y 匹配x或y。例如，“z|food”能匹配“z”或“food”。“(z|f)ood”则匹配“zood”或“food”。
[xyz] 字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。
[^xyz] 负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“p”。
[a-z] 字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。
[^a-z] 负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符。
/b 匹配一个单词边界，也就是指单词和空格间的位置。例如，“er/b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。
/B 匹配非单词边界。“er/B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。
/cx 匹配由x指明的控制字符。例如，/cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。
/d 匹配一个数字字符。等价于[0-9]。
/D 匹配一个非数字字符。等价于[^0-9]。
/f 匹配一个换页符。等价于/x0c和/cL。
/n 匹配一个换行符。等价于/x0a和/cJ。
/r 匹配一个回车符。等价于/x0d和/cM。
/s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于[/f/n/r/t/v]。
/S 匹配任何非空白字符。等价于[^/f/n/r/t/v]。
/t 匹配一个制表符。等价于/x09和/cI。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e508c173236c3db8042e3c2f40fedd91/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-11-17T17:38:00+08:00" />
<meta property="article:modified_time" content="2008-11-17T17:38:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">正则表达式浅谈（regex without tears）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>    正则表达式（Regular Expression），在计算机科学中，是指一个用来描述或者匹配一系列符合某个句法规则的字符串的单个字符串。它功能强大，是“通用的模式语言”，描述能力很强。</p> 
<p>    完整的正则表达式有两种字符组成：元字符和字符。其实正则表达式对字符串的操作就相当于SQL语句对数据库的操作一样，将其进行类比可以更加形象的理解正则表达式。元字符其实相当于SQL语句中的SELECT、WHERE之类，而字符就相当于表Student、No 之类。如例 ^cat$ 表示将匹配“某行以cat为全部内容的字符串”。</p> 
<p>    不同的语言以不同的方式来实现和使用这种语言。例如，在Perl中就内建了一个功能强大的正则表达式引擎。Perl正则表达式源自于Henry Spencer写的regex，它已经演化成了PCRE。以下是在PCRE中元字符及其在正则表达式上下文中的行为的一个列表：</p> 
<p>字符</p> 
<p>描述</p> 
<p>/</p> 
<p>将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“n”匹配字符“n”。“/n”匹配一个换行符。序列“//”匹配“/”而“/(”则匹配“(”。</p> 
<p>^    匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“/n”或“/r”之后的位置。</p> 
<p>$    匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“/n”或“/r”之前的位置。</p> 
<p>*    匹配前面的子表达式零次或多次。例如，zo*能匹配“z”以及“zoo”。*等价于{0,}。</p> 
<p>+    匹配前面的子表达式一次或多次。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。</p> 
<p>?    匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“do”或“does”中的“do”。?等价于{0,1}。</p> 
<p>{n}    n是一个非负整数。匹配确定的n次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</p> 
<p>{n,}    n是一个非负整数。至少匹配n次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o*”。</p> 
<p>{n,m}    m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次。例如，“o{1,3}”将匹配“fooooood”中的前三个o。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。</p> 
<p>?    当该字符紧跟在任何一个其他限制符(*,+,?,{n},{n,},{n,m})后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。匹配除“/n”之外的任何单个字符。要匹配包括“/n”在内的任何字符，请使用像“[./n]”的模式。</p> 
<p>(pattern)     匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“/(”或“/)”。</p> 
<p>(?:pattern)     匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用“或”字符(|)来组合一个模式的各个部分是很有用。例如，“industr(?:y|ies)就是一个比”industry|industries'更简略的表达式。</p> 
<p>(?=pattern)     正向预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?=95|98|NT|2000)”能匹配“Windows2000”中的“Windows”，但不能匹配“Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</p> 
<p>(?!pattern)     负向预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“Windows(?!95|98|NT|2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始</p> 
<p>x|y     匹配x或y。例如，“z|food”能匹配“z”或“food”。“(z|f)ood”则匹配“zood”或“food”。</p> 
<p>[xyz]     字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。</p> 
<p>[^xyz]     负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“p”。</p> 
<p>[a-z]      字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</p> 
<p>[^a-z]     负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符。</p> 
<p>/b     匹配一个单词边界，也就是指单词和空格间的位置。例如，“er/b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。</p> 
<p>/B     匹配非单词边界。“er/B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。</p> 
<p>/cx     匹配由x指明的控制字符。例如，/cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。</p> 
<p>/d     匹配一个数字字符。等价于[0-9]。</p> 
<p>/D     匹配一个非数字字符。等价于[^0-9]。</p> 
<p>/f     匹配一个换页符。等价于/x0c和/cL。</p> 
<p>/n     匹配一个换行符。等价于/x0a和/cJ。</p> 
<p>/r     匹配一个回车符。等价于/x0d和/cM。</p> 
<p>/s     匹配任何空白字符，包括空格、制表符、换页符等等。等价于[/f/n/r/t/v]。</p> 
<p>/S     匹配任何非空白字符。等价于[^/f/n/r/t/v]。</p> 
<p>/t     匹配一个制表符。等价于/x09和/cI。</p> 
<p>/v     匹配一个垂直制表符。等价于/x0b和/cK。</p> 
<p>/w    匹配包括下划线的任何单词字符。等价于“[A-Za-z0-9_]”。</p> 
<p>/W    匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。</p> 
<p>/xn    匹配n，其中n为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“/x41”匹配“A”。“/x041”则等价于“/x04”&amp;“1”。正则表达式中可以使用ASCII编码。.</p> 
<p>/num     匹配num，其中num是一个正整数。对所获取的匹配的引用。例如，“(.)/1”匹配两个连续的相同字符。</p> 
<p>/n      标识一个八进制转义值或一个向后引用。如果/n之前至少n个获取的子表达式，则n为向后引用。否则，如果n为八进制数字(0-7)，则n为一个八进制转义值。</p> 
<p>/nm      标识一个八进制转义值或一个向后引用。如果/nm之前至少有nm个获得子表达式，则nm为向后引用。如果/nm之前至少有n个获取，则n为一个后跟文字m的向后引用。如果前面的条件都不满足，若n和m均为八进制数字(0-7)，则/nm将匹配八进制转义值nm。</p> 
<p>/nml     如果n为八进制数字(0-3)，且m和l均为八进制数字(0-7)，则匹配八进制转义值nml。</p> 
<p>/un        匹配n，其中n是一个用四个十六进制数字表示的Unicode字符。例如，/u00A9匹配版权符号（?）。</p> 
<p>    就正则表达式的匹配工作原理而言，较为深奥、繁杂，但是有两条普适的原则：1.优先选择最左端（最靠开头）的匹配结果；2.标准的匹配量词（* + ? {}）是匹配优先的。</p> 
<p>    正则表达式也有自己的术语集合：</p> 
<p>        正则：其本身简称。</p> 
<p>        匹配：一个正则表达式匹配一个字符串，其实是指这个正则表达式能在字符串中找到匹配文本。</p> 
<p>        元字符：如上解释。</p> 
<p>        版本：不同的工具使用不同的正则表达式完成不同的任务，每样工具支持的元字符和其他特性都不相同，这就形成了差异。</p> 
<p>        字表达式：指的是整个正则表达式的一部分，通常是括号内的表达式，或是由“|”分隔的多个分支。</p> 
<p>字符：如上解释。</p> 
<p>    Perl、Java、.NET等语言都提供了对正则表达式的支持，但支持的粒度和细节各不相同。就Java而言，自2002年发布的Java 1.4以后，Java就内建了正则表达式包，即 java.util.regex ，其所提供的API简单而有用，提供了强大的功能，运行速度快。通过 java.tuil.reges 使用正则表达式非常简单，功能由两个类，一个接口和一个 unchecked exception 组成。如下</p> 
<p>java.util.regex.Interface.Pattern</p> 
<p>java.util.regex.Interface.Matcher</p> 
<p>java.util.regex.Interface.MatchResult</p> 
<p>java.util.regex.Interface.PatternSyntaxException</p> 
<p>    Pattern对象就是编译好的正则表达式，可以应用到任意多个字符串，Matcher对象则对应单独的实例，表示将正则表达式应用到某个具体的目标字符串上。MatchResult封装了成功匹配的数据。匹配数据可以在下一次匹配尝试之前从Matcher本身获得，也可以提取出来作为MatchReslut保存。如果尝试匹配所使用的正则表达式格式不正确，就会抛出PatternSyntaxException异常，这是一个unchecked exception。操作细节可以参阅JDK的文档。</p> 
<p>    更多学习正则表达式的资料如形式语言自动机理论、精通正则表达式等等书籍，当然，网上还有更多的资料。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/24f58879200371c16a00d60674766ff4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">DirectUI相关文章(二)－从配置中动态产生界面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4237aafd679d84412b76d18cb732e850/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">图像处理杂记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>