<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Charles的基础使用教程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Charles的基础使用教程" />
<meta property="og:description" content="一、安装步骤
安装步骤非常简单，这边就大致概述一下：
官网下载：https://www.charlesproxy.com/download/，依照自己的电脑系统，下载安装。
官网下载的版本需要进行破解，破解包根据自己下载的版本下载一个对应版本的破解包，这边提供一个windows版本的破解安装包。
二、证书安装
charles安装完成后，就可以抓取电脑上http的请求。但抓取https的时候还需要进行一些设置。windows的设置于mac不太相同，但基本操作都是一样。这边以windows为例。
1.电脑安装证书
a.选择：Help—SSL Proxying—Install Charles Root Certificate
b.证书安装完成后，设置SSL Proxying Settings。选择：Proxy—SSL Proxying Settings…
添加相应的host以及端口，如下图所示。
c.以上设置完成后，重启charles和浏览器就可以使用charles抓取电脑中的https请求了。
但有时会出现部分网页打开时，提示“隐私设置”问题。这是可能是由于SSL Proxying Settings中的设置没有覆盖全面，可以将无法打开网页的host以及port添加进去。
2.手机安装证书
a.选择：Help—SSL Proxying—Install Charles Root Certificate on a Mobile Devices or Remote Browser
b.打开了如下的窗口
c.手机端打开无线网的设置—代理设置。设置代理服务器、端口为上图中的主机和端口
d.配置代理信息后，Charles会出现如下窗口，点击Allow
e.允许链接后，在浏览器中输入：chls.pro.ssl下载证书，下载后，直接安装。安装后确认证书是否是被信任的证书，打开：通用—关于本机—证书信任设置，将下载的charles证书设置为信任。
f.设置完成后可以使用charles抓取手机发出的https请求
三、快捷菜单栏操作
·清除按钮：点击该按钮将清除当前会话中的所有内容
停止按钮：点击后Charles将停止抓包
节流按钮：点击后将限制请求上传和下载的速度
断点按钮：点击后将指定的请求打上断点
撰写按钮：可以新建一个请求或者在原有的请求基础上修改请求
重复请求按钮：选中请求后点击按钮，将所有请求重复请求一次
验证按钮：验证返回的Html信息。将这些返回发送到W3C HTML验证器、W3C CSS验证器和W3C Feed验证器来验证记录的相应。
四、常用功能操作
1.模拟慢速网络：Proxy—Throttle Settings(快捷菜单中的节流按钮)
适用场景：模拟慢速网络或者高延迟的网络。
勾选：Enable Throttling按钮就可以打开限速。
在Throttle Preset中可以直接选择已经预设的模式，也可以根据自己需要调整参数。
可以对指定的请求进行单独的限速，勾选：Only for selected hosts—Add—添加指定的请求地址。
2.断点功能：Proxy—Breakpoints Settings（快捷菜单中的断点按钮）
适用场景：需要修改一次网络请求或返回结果。一般用于临时性的修改。当指定的网络请求发生时，Charles会接获该请求。
（1）两种设置的方式：
a.勾选：Enable Breakpoints按钮，点击Add按钮，添加需要打断点的请求信息" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2db7ba57108e71dabb081919505e5ecd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-22T14:09:44+08:00" />
<meta property="article:modified_time" content="2022-08-22T14:09:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Charles的基础使用教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、安装步骤<br> 安装步骤非常简单，这边就大致概述一下：<br> 官网下载：https://www.charlesproxy.com/download/，依照自己的电脑系统，下载安装。<br> 官网下载的版本需要进行破解，破解包根据自己下载的版本下载一个对应版本的破解包，这边提供一个windows版本的破解安装包。<br> 二、证书安装<br> charles安装完成后，就可以抓取电脑上http的请求。但抓取https的时候还需要进行一些设置。windows的设置于mac不太相同，但基本操作都是一样。这边以windows为例。<br> 1.电脑安装证书<br> a.选择：Help—SSL Proxying—Install Charles Root Certificate</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/ab/ea/gZWsXctI_o.png"></p> 
<p><img alt="image.png" src="https://images2.imgbox.com/97/0e/1xA7qKkt_o.png"></p> 
<p><img alt="image.png" src="https://images2.imgbox.com/a6/b8/nnivX51F_o.png"></p> 
<p><img alt="image.png" src="https://images2.imgbox.com/f3/d0/Sw3A08LW_o.png"><br> b.证书安装完成后，设置SSL Proxying Settings。选择：Proxy—SSL Proxying Settings…<br> 添加相应的host以及端口，如下图所示。</p> 
<p> <img alt="image.png" src="https://images2.imgbox.com/d8/62/Nmcj0O4e_o.png"></p> 
<p></p> 
<p>c.以上设置完成后，重启charles和浏览器就可以使用charles抓取电脑中的https请求了。<br> 但有时会出现部分网页打开时，提示“隐私设置”问题。这是可能是由于SSL Proxying Settings中的设置没有覆盖全面，可以将无法打开网页的host以及port添加进去。<br> 2.手机安装证书<br> a.选择：Help—SSL Proxying—Install Charles Root Certificate on a Mobile Devices or Remote Browser</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/ae/75/DGuQLjGH_o.png"></p> 
<p>b.打开了如下的窗口</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/f3/36/dMRVCtbP_o.png"></p> 
<p>c.手机端打开无线网的设置—代理设置。设置代理服务器、端口为上图中的主机和端口<br>  <img alt="image.png" src="https://images2.imgbox.com/c3/c4/KemATISB_o.png"><br> d.配置代理信息后，Charles会出现如下窗口，点击Allow</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/b9/65/1AKtRse0_o.png"></p> 
<p>e.允许链接后，在浏览器中输入：chls.pro.ssl下载证书，下载后，直接安装。安装后确认证书是否是被信任的证书，打开：通用—关于本机—证书信任设置，将下载的charles证书设置为信任。<br> f.设置完成后可以使用charles抓取手机发出的https请求<br> 三、快捷菜单栏操作</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/96/8b/RS95N2LT_o.png"></p> 
<p></p> 
<p>·清除按钮：点击该按钮将清除当前会话中的所有内容<br>  停止按钮：点击后Charles将停止抓包<br>  节流按钮：点击后将限制请求上传和下载的速度<br>  断点按钮：点击后将指定的请求打上断点</p> 
<p> 撰写按钮：可以新建一个请求或者在原有的请求基础上修改请求<br>  重复请求按钮：选中请求后点击按钮，将所有请求重复请求一次<br>  验证按钮：验证返回的Html信息。将这些返回发送到W3C HTML验证器、W3C CSS验证器和W3C Feed验证器来验证记录的相应。</p> 
<p>四、常用功能操作</p> 
<p>1.模拟慢速网络：Proxy—Throttle Settings(快捷菜单中的节流按钮)<br> 适用场景：模拟慢速网络或者高延迟的网络。<br> 勾选：Enable Throttling按钮就可以打开限速。<br> 在Throttle Preset中可以直接选择已经预设的模式，也可以根据自己需要调整参数。<br> 可以对指定的请求进行单独的限速，勾选：Only for selected hosts—Add—添加指定的请求地址。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/09/b2/0B2rYkNe_o.png"><br> 2.断点功能：Proxy—Breakpoints Settings（快捷菜单中的断点按钮）<br> 适用场景：需要修改一次网络请求或返回结果。一般用于临时性的修改。当指定的网络请求发生时，Charles会接获该请求。<br> （1）两种设置的方式：<br> a.勾选：Enable Breakpoints按钮，点击Add按钮，添加需要打断点的请求信息</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/d3/75/ikWKQnFO_o.png"></p> 
<p></p> 
<p>b.选中需要打断点的请求，右击—选择Breakpoints，即可将该请求打上断点。默认请求和返回都被打断点，可以通过a的方式进行修改。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/44/76/NLaI1lSY_o.png"></p> 
<p></p> 
<p>（2）指定请求打上断点后，再次请求，根据设置会拦截相应的请求或者返回，此时修改相应的内容后，点击Execute按钮。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/14/4b/u3G8L2X1_o.png"><br> 3.重写：Tools—Rewrite<br> 适用场景：需要对请求和相应进行修改时，如添加或更改头信息、替换响应内容等。该功能跟断点功能类似，更适用于一个请求需要多次重新的情况。<br> a.添加指定的请求</p> 
<p> <img alt="image.png" src="https://images2.imgbox.com/d5/dc/rGgk0agj_o.png"></p> 
<p></p> 
<p>b.选择重写请求或者返回，然后添加需要重写的信息</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/94/d4/zuCnLqrY_o.png"></p> 
<p></p> 
<p>4.代理设置：Proxy—Proxy Settings<br> HTTP Proxy中设置端口，默认为8888。</p> 
<p><br> 5.SSL代理设置：Proxy—SSL Proxying Settings<br> 抓取HTTPS时需要设置访问的网址，设置如下图一般可以抓取大部分</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/fd/2b/MaM4woH3_o.png"></p> 
<p></p> 
<p>6.访问控制设置：Proxy—Access Control Settings<br> 在抓取手机网络请求的设置中，会出现是否允许链接的提示框，如下</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/40/e3/5WyavT0U_o.png"></p> 
<p></p> 
<p>如果选择了“Allow”按钮，会自动将手机IP地址填写到Access Control Settings的窗口中。<br> 如果不小心选择了“Deny"按钮，没有关系，可以自己将IP地址配置到以下窗口中。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/42/f9/fQqJzmKY_o.png"></p> 
<p></p> 
<p>7.重复请求：Tools—Repeat<br> 适用场景：后端修改后，需要前段重复请求时，选中指定请求，点击Tools—Repeat按钮或者右键—Repeat。<br> 8.高级重复请求：Tools—Advanced Repeat<br> 适用场景：可以用于服务器的压力测试<br> 下图红框中输入循环请求的次数和并发数量</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/b5/11/KmMmhTYi_o.png"></p> 
<p><img alt="image.png" src="https://images2.imgbox.com/88/08/V39eUGjb_o.png"><br> 五、其他操作<br> **1.记录设置：**Proxy—Recording Settings<br> Options：设置记录请求的限制<br> Include：当只需要抓取指定网站的请求，可以在该页面中添加指定的请求方式和地址<br> Exclude：不抓取该列表中填写的网络请求</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/05/ae/JsfXyMfN_o.png"></p> 
<p>2.反向代理：Proxy—Reverse Proxies Settings。<br> 适用场景：对于本地开发需要使用域名的情况下非常适用。<br> 勾选：Enable Reverse Proxie。点击Add按钮，添加相应的信息<br> 如下图，将本地端口61087端口映射到www.baidu.com域名的80端口</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/4b/ca/teWwV80T_o.png"></p> 
<p></p> 
<p>3.转发端口：Proxy—Port Forwarding<br> 适用场景：监控TCP数据时，对端口进行转发<br> 勾选：Enable Port Forwarding。点击Add按钮，添加相应的信息</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/c6/0f/8tCw5wOK_o.png"></p> 
<p></p> 
<p>4.抓取电脑请求设置：Proxy—Windows Proxy。勾选上该选项后可抓取电脑上的请求</p> 
<p><br> 5.外部代理：Proxy—External Proxy<br> 适用场景：把经过Charles的请求转到其他代理服务器，适用于特殊情况下需要用到两个软件的特点进行开发。<br> 填写代理服务器的IP和端口后，可以在Charles和代理服务器中同时捕捉到相同的http请求。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/c2/b7/nvaWnMtq_o.png"></p> 
<p></p> 
<p>6.网络页面设置：Proxy—Web Interface Settings<br> 适用场景：清除Session操作，开启后需要指定匿名可以访问或者账号密码访问</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/7a/c5/dAmy3dse_o.png"></p> 
<p></p> 
<p>7.禁用缓存：Tools—No Caching<br> 适用场景：防止客户端应用程序缓存任何资源。禁用后会始终向远程网站发出请求，始终获得最新版本<br> 可以对所有请求禁用缓存，也可以对指定的请求禁用。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/0f/41/GwlMP1yC_o.png"></p> 
<p></p> 
<p>8.禁用Cookies：Tools—Block Cookies<br> 适用场景：阻止Cookies的发送和接收，可用于模拟网络爬虫网站的视图。<br> 可以对所有请求禁用，也可以对指定的请求禁用。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/9c/71/hoWheMlE_o.png"></p> 
<p></p> 
<p>9.远程映射：Tools—Map Remote Settings<br> 将from的站点映射到to的站点，从新站点提供响应。</p> 
<p><br> 10.本地映射：Tools—Map Local Settings<br> 适用场景：开发调试时，可以将远程网站映射到本地文件。本地文件的内容返回给客户端，跟正常的远程相应一样。</p> 
<p><br> 11.黑名单设置：Tools—Black List<br> 列入黑名单的域名请求任何页面时，该请求都将被阻止。</p> 
<p><br> 12.白名单设置：Tools—Write List<br> 仅仅允许被输入的域名。如果一个请求同时存在黑名单和白名单时，该请求会被阻止。</p> 
<p><br> 13.DNS欺骗：Tools—DNS Spoofing Settings<br> 将自己的主机名指定给远程地址映射来欺骗DNS查找。<br> 适用场景：上线前需要在测试环境中验证，手机客户端请求的域名不太容易更改，可以通过设置dns方式把域名转发到测试机上进行测试。</p> 
<p>14.镜像：Tools—Mirror<br> 适用场景：浏览指定站点时，把接收的相应内容克隆一份，保存在指定路径下。如果收到同一个URL的两次请求，最后一次的请求将覆盖已经存在的同名文件。</p> 
<p><br> 15.自动保存：Tools—Auto Save<br> 按照设置的时间间隔自动保存和清除记录会话。</p> 
<p><br> 16.客户端进程：Tools—Client Process<br> 可以查看到原始进程的请求，适用于抓取PC端的请求</p> 
<p><br> 17.编辑修改请求：Tools—Compose、Tools—Compose New。对应快捷菜单：撰写按钮。<br> a.选中指定的请求，勾选：Tools—Compose；或者右键—选择Compose<br> b.复制了选中请求的信息，在右边的框中可以对所有信息进行修改。点击Execute按钮执行。</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/19/2b/JNNcsI1I_o.png"></p> 
<p></p> 
<p>新建一个请求，选择Compose New：添加请求信息于上图操作一致</p> 
<p><img alt="image.png" src="https://images2.imgbox.com/ee/b4/YlEWaEle_o.png"></p> 
<p> <img alt="image.png" src="https://images2.imgbox.com/e2/fd/MjpxX6ab_o.png"></p> 
<p></p> 
<p>18.验证：Tools—Validate：与快捷菜单中验证按钮功能相同</p> 
<p><br> 19.发布要点：Tools—Publish Gist<br> 将选择的请求和响应作为要点发布，可以授权Charles适用GitHub账号进行发布。<br> ————————————————<br> 版权声明：本文为CSDN博主「Jessie_Tian」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br> 原文链接：https://blog.csdn.net/tianjing222/article/details/88139318</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0669435a161177f34cad931d7436f681/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">支付宝周期扣款(支付后签约)业务功能总结(php&#43;golang)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/147cc5943d641390b22fbf6c1dfc0148/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用matlab进行xlsx表格的提取和操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>