<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Strapi 的使用 以及接口api 数据的正常获取 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Strapi 的使用 以及接口api 数据的正常获取" />
<meta property="og:description" content="Strapi(后台)安装与使用 通用的cms(内容管理系统)后台
· 后台面板，方便建表
· 提供RESTful API 或者GraphQL endpoint 给前端获取数据
· 角色与权限管理
· 插件系统，有丰富插件
· 可以自定义源代码
官方文档：https://getstrapi.cn/developer-docs/latest/getting-started/introduction.html
安装 注意 nodejs 版本需要 &gt;=14.19.1 &lt;=18.x.x
npx create-strapi-app my-project
yarn create-strapi-app my-project
? Choose your installation type Quickstart (recommended) 安装使用SQLite Custom (manual settings) 选择其他数据库 新手入坑：strapi官网教程的简单示例学习:
https://blog.csdn.net/qq_36812165/article/details/115533628
接口访问(postman) 通过我们设置好对应的接口 保存并将 其发布后
图片操作提示
然后在在setting 里面的public 里将对应设置好的Content-Type 设置puble 权限 保存后
即可访问 访问的方式 可以直接/api/xxx (对应的content-type 名称 比如图一中有的/api/posts)
当然 strpai 的版本不同 也会导致访问的路径可能会有些变化
我的版本为 strpai v.5.6 node v16.17.0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fbc69b7146ceeae8070334da0b6f6f9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-27T18:13:13+08:00" />
<meta property="article:modified_time" content="2023-01-27T18:13:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Strapi 的使用 以及接口api 数据的正常获取</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h2 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">Strapi(后台)安装与使用</span></h2> 
 <p style="text-align:left;">通用的cms(内容管理系统)后台</p> 
 <p style="text-align:left;">· 后台面板，方便建表</p> 
 <p style="text-align:left;">· 提供RESTful API 或者GraphQL endpoint 给前端获取数据</p> 
 <p style="text-align:left;">· 角色与权限管理</p> 
 <p style="text-align:left;">· 插件系统，有丰富插件</p> 
 <p style="text-align:left;">· 可以自定义源代码</p> 
 <p style="text-align:left;">官方文档：<a class="kdocs-link" style="color:#0A6CFF;" href="https://getstrapi.cn/developer-docs/latest/getting-started/introduction.html" rel="nofollow noopener noreferrer" target="_blank">https://getstrapi.cn/developer-docs/latest/getting-started/introduction.html</a></p> 
 <p style="text-align:null;"></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">安装</span></h3> 
 <p style="text-align:null;">注意 nodejs 版本需要 &gt;=14.19.1 &lt;=18.x.x</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>npx create-strapi-app my-project</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>yarn create-strapi-app my-project</p></li></ul> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   ? Choose your installation type 
  <br>Quickstart (recommended) 安装使用SQLite 
  <br>Custom (manual settings) 选择其他数据库 
 </blockquote> 
 <p style="text-align:null;">新手入坑：strapi官网教程的简单示例学习:</p> 
 <p style="text-align:null;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/qq_36812165/article/details/115533628" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_36812165/article/details/115533628</a></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">接口访问(postman)</span></h3> 
 <p style="text-align:null;">通过我们设置好对应的接口 保存并将 其发布后</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">图片操作提示</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1426px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.075733%;height:0;"> 
    <img src="https://images2.imgbox.com/2c/4a/RPI08crT_o.png" style="margin-left:;display:block;width:1426px;margin-top:-42.075733%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">然后在在setting 里面的public 里将对应设置好的Content-Type 设置puble 权限 保存后</p> 
 <p style=""></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1190px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:50.420166%;height:0;"> 
    <img src="https://images2.imgbox.com/2c/2a/4jccVewL_o.png" style="margin-left:;display:block;width:1190px;margin-top:-50.420166%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">即可访问 访问的方式 可以直接/api/xxx (对应的content-type 名称 比如图一中有的/api/posts)</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">当然 strpai 的版本不同 也会导致访问的路径可能会有些变化</span></p> 
 <p style="text-align:null;"></p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:842px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:71.25891%;height:0;"> 
    <img src="https://images2.imgbox.com/84/6a/R4X8CpAw_o.png" style="margin-left:;display:block;width:842px;margin-top:-71.25891%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">我的版本为 strpai v.5.6 node v16.17.0</span></p> 
 <p style=""></p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:859px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:38.649593%;height:0;"> 
    <img src="https://images2.imgbox.com/bf/93/sLQym0N5_o.png" style="margin-left:;display:block;width:859px;margin-top:-38.649593%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style=""></p> 
 <p style=""></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">接口访问填充</span></h4> 
 <p style="text-align:null;">那么有些时候 你会发现 你添加的图片 或者是其他的一些内容并没有一次性在postman 里面输出显示</p> 
 <p style="text-align:null;">或者是访问的内容 有残缺 这是因为性能存在的问题，为了解决有些图片或者添加的字段 很大很大而设计的解决方式</p> 
 <p style="text-align:null;">这时候我们就要修改对应的url 访问的路径从而获取到我们所需要的被隐藏的接口内容</p> 
 <p style="text-align:null;">路径修改的方式 ： 原路径+populate= xxx (对应的字段 比如我这有一个cover 封面字段 用于存放图片)</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:928px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:64.655174%;height:0;"> 
    <img src="https://images2.imgbox.com/27/b3/dP2gPd3t_o.png" style="margin-left:;display:block;width:928px;margin-top:-64.655174%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">访问后 在原来的基础上增加了 图片的数据</span></p> 
 <p style="text-align:null;"></p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:903px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:66.44518%;height:0;"> 
    <img src="https://images2.imgbox.com/32/be/QYOmSUmw_o.png" style="margin-left:;display:block;width:903px;margin-top:-66.44518%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">当然 你也可以用这个方法去访问 其他的你所需要的 被隐藏(或者说是残缺) 的数据</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">如果你发现的访问到的数据为null 空！？ 注意一定要将你设置好的结点 state设置为 Published 发布 而不是 Draft 草稿</span></p> 
 <p style="text-align:null;">如果你需要多个被隐藏的数据 则是直接用, 分隔后 继续添加对应的变量名称 such as</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   populate=cover,tags 
 </blockquote> 
 <p style=""></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:706px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:84.98584%;height:0;"> 
    <img src="https://images2.imgbox.com/02/97/vb55jcBf_o.png" style="margin-left:;display:block;width:706px;margin-top:-84.98584%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">当然 我们有一个最方便的方法 那就是直接添加* 即可恢复获取所有的数据</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;"> 
  <span class="kdocs-bold" style="font-weight:bold;">简单实用的小技巧</span> 
  <br>?populate=* 
 </blockquote> 
 <p style=""></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:610px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:98.36066%;height:0;"> 
    <img src="https://images2.imgbox.com/72/27/BLa0t4Xz_o.png" style="margin-left:;display:block;width:610px;margin-top:-98.36066%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">接口访问隐藏</span></h4> 
 <p style="text-align:null;">那么有填充显示 被隐藏的数据 也就一定可以对应的 隐藏我们不希望显示的默认数据</p> 
 <p style="text-align:null;">看看如何操作吧~</p> 
 <p style="text-align:null;">在接口地址后面添加 fileds=* 显示所有的默认数据(跟没用差不多)</p> 
 <p style="text-align:left;">?fields= xxx (attributes 内部的内容 也就是你设置的属性值 例如我设置的title ?fields=title)</p> 
 <p style=""></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:810px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:74.07407%;height:0;"> 
    <img src="https://images2.imgbox.com/a8/fc/BBWggrqx_o.png" style="margin-left:;display:block;width:810px;margin-top:-74.07407%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">这时候 我们就只能够返回到我们的title 数据 其他的数据 将会被隐藏</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">那么 如果我们希望 隐藏且显示我们需要的单个数据呢？</span></p> 
 <p style="text-align:null;">也就是 我们只希望显示title 数据 且还需要 cover 封面的图片</p> 
 <p style="text-align:null;">很简单 我们通过 &amp; 来进行合并即可</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   ?fields=title&amp;populate=cover 
 </blockquote> 
 <p style="text-align:null;">去进行获取 如下图所示</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:676px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:88.75739%;height:0;"> 
    <img src="https://images2.imgbox.com/d6/2a/5INzS98e_o.png" style="margin-left:;display:block;width:676px;margin-top:-88.75739%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style=""></p> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1413ef50f26d6d58783fb70f40934036/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;使用小教程01--CMakeList</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/16a19352f164fac4d4218fc34fca3574/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">NetCDF(nc)读写与格式转换介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>