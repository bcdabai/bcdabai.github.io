<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>文件重定向 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="文件重定向" />
<meta property="og:description" content="函数名：freopen 声明：FILE *freopen( const char *path, const char *mode, FILE *stream ); 所在文件： stdio.h 参数说明： path: 文件名，用于存储输入输出的自定义文件名。 mode: 文件打开的模式。和fopen中的模式（如r-只读, w-写）相同。 stream: 一个文件，通常使用标准流文件。 返回值：成功，则返回一个path所指定文件的指针；失败，返回NULL。（一般可以不使用它的返回值） 功能：实现重定向，把预定义的标准流文件定向到由path指定的文件中。标准流文件具体是指stdin、stdout和stderr。其中stdin是标准输入流，默认为键盘；stdout是标准输出流，默认为屏幕；stderr是标准错误流，一般把屏幕设为默认。通过调用freopen，就可以修改标准流文件的默认值，实现重定向。
#include &lt;iostream&gt;#include &lt;cstdio&gt; using namespace std; int main() { int a,b; freopen(&#34;d:\\in.txt&#34;,&#34;r&#34;,stdin); //输入重定向，输入数据将从in.txt文件中读取 freopen(&#34;d:\\out.txt&#34;,&#34;w&#34;,stdout); //输出重定向，输出数据将保存在out.txt文件中 while(cin&gt;&gt; a &gt;&gt; b) { cout&lt;&lt; a&#43;b &lt;&lt;endl; // 注意使用 endl } fclose(stdin); //关闭文件 fclose(stdout); //关闭文件 return 0; } freopen(&#34;in.txt&#34;,&#34;r&#34;,stdin) 的作用就是把标准输入流 stdin 重定向到 in.txt 文件中，这样在用 scanf 或是用 cin 输入时便不会从标准输入流读取数据 , 而是从 in." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4dad48e371ebe70820fb5c2e83aab7b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-05-04T22:22:56+08:00" />
<meta property="article:modified_time" content="2013-05-04T22:22:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">文件重定向</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-family:宋体; color:#333333">函数名：</span>freopen  
<br> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; line-height:19px; font-size:13px; text-indent:21pt"> <span style="font-family:宋体; color:#333333">声明：</span><span style="font-family:Arial; color:#333333">FILE *freopen( const char *path, const char *mode, FILE *stream ); <br> </span><span style="font-family:宋体; color:#333333">所在文件：</span><span style="font-family:Arial; color:#333333"> stdio.h <br> </span><span style="font-family:宋体; color:#333333">参数说明：</span><span style="font-family:Arial; color:#333333"> <br> path: </span><span style="font-family:宋体; color:#333333">文件名，用于存储输入输出的自定义文件名。</span><span style="font-family:Arial; color:#333333"> <br> mode: </span><span style="font-family:宋体; color:#333333">文件打开的模式。和</span><span style="font-family:Arial; color:#333333">fopen</span><span style="font-family:宋体; color:#333333">中的模式（如</span><span style="font-family:Arial; color:#333333">r-</span><span style="font-family:宋体; color:#333333">只读</span><span style="font-family:Arial; color:#333333">, w-</span><span style="font-family:宋体; color:#333333">写）相同。</span><span style="font-family:Arial; color:#333333"> <br> stream: </span><span style="font-family:宋体; color:#333333">一个文件，通常使用标准流文件。</span><span style="font-family:Arial; color:#333333"> <br> </span><span style="font-family:宋体; color:#333333">返回值：成功，则返回一个</span><span style="font-family:Arial; color:#333333">path</span><span style="font-family:宋体; color:#333333">所指定文件的指针；失败，返回</span><span style="font-family:Arial; color:#333333">NULL</span><span style="font-family:宋体; color:#333333">。（一般可以不使用它的返回值）</span><span style="font-family:Arial; color:#333333"> <br> </span><span style="font-family:宋体; color:red">功能：实现重定向，把预定义的标准流文件定向到由</span><span style="font-family:Arial; color:red">path</span><span style="font-family:宋体; color:red">指定的文件中。标准流文件具体是指</span><span style="font-family:Arial; color:red">stdin</span><span style="font-family:宋体; color:red">、</span><span style="font-family:Arial; color:red">stdout</span><span style="font-family:宋体; color:red">和</span><span style="font-family:Arial; color:red">stderr</span><span style="font-family:宋体; color:red">。</span><span style="font-family:宋体; color:navy">其中</span><span style="font-family:Arial; color:navy">stdin</span><span style="font-family:宋体; color:navy">是标准输入流，默认为键盘；</span><span style="font-family:Arial; color:navy">stdout</span><span style="font-family:宋体; color:navy">是标准输出流，默认为屏幕；</span><span style="font-family:Arial; color:navy">stderr</span><span style="font-family:宋体; color:navy">是标准错误流，一般把屏幕设为默认。</span><span style="font-family:宋体; color:red">通过调用</span><span style="font-family:Arial; color:red">freopen</span><span style="font-family:宋体; color:red">，就可以修改标准流文件的默认值，实现重定向。</span><br> </p> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; line-height:19px; font-size:13px; text-indent:21pt"> </p> 
<pre><code class="language-cpp"> #include &lt;iostream&gt;
 #include &lt;cstdio&gt;

using namespace std;

int main()
{
    int a,b;
    freopen("d:\\in.txt","r",stdin); //输入重定向，输入数据将从in.txt文件中读取
    freopen("d:\\out.txt","w",stdout); //输出重定向，输出数据将保存在out.txt文件中
    while(cin&gt;&gt; a &gt;&gt; b) {
        cout&lt;&lt; a+b &lt;&lt;endl; // 注意使用 endl
    }
    fclose(stdin);  //关闭文件
    fclose(stdout); //关闭文件

    return 0;
}
</code></pre> 
<span style="font-family:Arial; color:#333333">freopen("in.txt","r",stdin)</span> 
<span style="font-family:宋体; color:#333333">的作用就是把标准输入流</span> 
<span style="font-family:Arial; color:#333333">stdin</span> 
<span style="font-family:宋体; color:#333333">重定向到</span> 
<span style="font-family:Arial; color:#333333">in.txt</span> 
<span style="font-family:宋体; color:#333333">文件中，这样在用</span> 
<span style="font-family:Arial; color:#333333">scanf</span> 
<span style="font-family:宋体; color:#333333">或是用</span> 
<span style="font-family:Arial; color:#333333">cin</span> 
<span style="font-family:宋体; color:#333333">输入时便不会从标准输入流读取数据</span> 
<span style="font-family:Arial; color:#333333">,</span> 
<span style="font-family:宋体; color:#333333">而是从</span> 
<span style="font-family:Arial; color:#333333">in.txt</span> 
<span style="font-family:宋体; color:#333333">文件中获取输入。只要把输入数据事先粘贴到</span> 
<span style="font-family:Arial; color:#333333">in.txt</span> 
<span style="font-family:宋体; color:#333333">，调试时就方便多了。</span> 
<span style="font-family:宋体; color:#333333">类似的，</span> 
<span style="font-family:Arial; color:#333333">freopen("out.txt","w",stdout)</span> 
<span style="font-family:宋体; color:#333333">的作用就是把</span> 
<span style="font-family:Arial; color:#333333">stdout</span> 
<span style="font-family:宋体; color:#333333">重定向到</span> 
<span style="font-family:Arial; color:#333333">out.txt</span> 
<span style="font-family:宋体; color:#333333">文件中，这样输出结果需要打开</span> 
<span style="font-family:Arial; color:#333333">out.txt</span> 
<span style="font-family:宋体; color:#333333">文件查看。</span>  
<br> 
<p></p> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; line-height:19px; font-size:13px; text-indent:21pt"> <span style="font-family:Arial; color:#333333">  </span><span style="font-family:宋体; color:#333333">需要说明的是：</span><span style="font-family:Arial; color:#333333"> <br>         1.  </span><span style="font-family:宋体; color:#333333">在调用</span><span style="font-family:Arial; color:#333333">freopen</span><span style="font-family:宋体; color:#333333">函数实现重定向时，路径名字一定要写正确。</span><span style="font-family:Arial; color:#333333"> <br>         2. </span><span style="font-family:宋体; color:#333333">可以不使用输入重定向，仍然通过键盘输入，也可以不使用输出重定向，仍然在控制台查看输出，这都是可以的，看自己需求来定。</span><span style="font-family:Arial; color:#333333"><br>         3. </span><span style="font-family:宋体; color:#333333">这种方法适合在本地机器上调试用，程序调试成功后，提交到</span><span style="font-family:Arial; color:#333333">oj</span><span style="font-family:宋体; color:#333333">时不要忘记把与重定向有关的语句删除</span></p> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; line-height:19px; font-size:13px; text-indent:21pt"> <span style="font-family:宋体; color:#333333"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:12px; color:#000000; line-height:18px"></span></span></p> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> setbuf <br> 语法: <br> #include &lt;stdio.h&gt;<br> void setbuf( FILE *stream, char *buffer );</p> 
<p style="margin-top:5px; margin-right:auto; margin-bottom:5px; margin-left:auto; text-indent:0px"> setbuf()函数设置stream(流)使用buffer(缓冲区),如果buffer(缓冲区)是null,关闭缓冲. 如果使用非标准缓冲尺寸, 它应该由BUFSIZ字符决定长度.</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a98616586a84b847a5d4a472dd125fb4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java Servlet 获取服务器各种路径信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5dc16c42624b15dd597d669d032ef69f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">android自定义相机若干问题解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>