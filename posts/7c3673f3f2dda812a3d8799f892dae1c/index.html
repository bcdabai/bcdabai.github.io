<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu下安装Redis - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu下安装Redis" />
<meta property="og:description" content="1.1.安装Redis依赖 Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：
sudo apt install gcc tcl 1.2.上传安装包并解压 利用xftp传输工具将redis安装包上传到linux上，最好是放在/usr/local/src下
解压缩：
tar -zxvf redis-6.2.6.tar.gz 解压后，进入redis目录下
cd redis-6.2.6 安装make：
sudo make install 安装完成后，进入/usr/local/bin 使用&#34;ll&#34;命令得到如下结果即是安装成功
常见查看命令： redis-server ：是redis的服务端启动脚本 redis-cli: redis命令行客户端 redis-benchmark: redis性能测试工具 redis-check-aof: AOF文件修复工具 redis-check-rdb: RDB文件检索工具 redis-sentinel: 是redis的哨兵启动脚本 1.3.启动 redis的启动方式有很多种，例如： 默认启动
指定配置启动
开机自启
1.3.1.默认启动 安装完成后，在任意目录输入redis-server命令即可启动Redis：
redis-server 如图：
这种启动属于前台启动，会阻塞整个会话窗口，窗口关闭或者按下CTRL &#43; C,则Redis停止。不推荐使用。
1.3.2.指定配置启动 如果要让Redis以后台方式启动，则必须修改Redis配置文件，就在我们之前解压的redis安装包下（/usr/local/src/redis-6.2.6），名字叫redis.conf：
注意：修改配置文件的时候最好先备份一份，以防止修改错了还可以恢复。
cp redis.conf redis.conf.bck 然后修改redis.conf文件中的一些配置：
可以在末行模式下使用/&#43;要查找的单词 去查找，n是查找下一个
# 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0 bind 0.0.0.0 # 守护进程，修改为yes后即可后台运行 daemonize yes # 密码，设置后访问Redis必须输入密码 requirepass lyy05236 Redis的其它常见配置： # 监听的端口 port 6379 # 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录 dir ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7c3673f3f2dda812a3d8799f892dae1c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-25T15:52:09+08:00" />
<meta property="article:modified_time" content="2023-03-25T15:52:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu下安装Redis</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.1.安装Redis依赖</span></h3> 
 <hr> 
 <p style="text-align:null;">Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo apt install  gcc tcl</code></pre> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2.上传安装包并解压</span></h3> 
 <hr> 
 <p style="text-align:null;">利用xftp传输工具将redis安装包上传到linux上，最好是放在/usr/local/src下</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1137px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:77.83641%;height:0;"> 
    <img src="https://images2.imgbox.com/70/4c/knYb7Ra3_o.png" style="margin-left:;display:block;width:1137px;margin-top:-77.83641%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">解压缩：</p> 
 <pre class="kdocs-shell"><code class="language-shell">tar -zxvf redis-6.2.6.tar.gz</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">解压后，进入redis目录下</p> 
 <pre class="kdocs-shell"><code class="language-shell">cd redis-6.2.6</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">安装make：</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo make install</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">安装完成后，进入/usr/local/bin 使用"ll"命令得到如下结果即是安装成功</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1215px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:53.744858%;height:0;"> 
    <img src="https://images2.imgbox.com/2a/6a/q3zfGkNv_o.png" style="margin-left:;display:block;width:1215px;margin-top:-53.744858%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">常见查看命令：</span></h5> 
 <pre class="kdocs-shell"><code class="language-shell"> redis-server ：是redis的服务端启动脚本
 redis-cli: redis命令行客户端
 redis-benchmark: redis性能测试工具
 redis-check-aof: AOF文件修复工具
 redis-check-rdb: RDB文件检索工具
 redis-sentinel: 是redis的哨兵启动脚本</code></pre> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3.启动</span></h3> 
 <hr> 
 <h4 style="text-align:null;">redis的启动方式有很多种，例如：</h4> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>默认启动</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>指定配置启动</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>开机自启</p></li></ul> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3.1.默认启动</span></h4> 
 <p style="text-align:null;">安装完成后，在任意目录输入redis-server命令即可启动Redis：</p> 
 <pre class="kdocs-shell"><code class="language-shell">redis-server</code></pre> 
 <p style="text-align:null;">如图：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1265px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.288536%;height:0;"> 
    <img src="https://images2.imgbox.com/21/14/T8cIfN4M_o.png" style="margin-left:;display:block;width:1265px;margin-top:-39.288536%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"><span class="kdocs-color" style="color:#C21C13;">这种启动属于前台启动，会阻塞整个会话窗口，窗口关闭或者按下CTRL + C,则Redis停止。不推荐使用。</span></p> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3.2.指定配置启动</span></h4> 
 <p style="text-align:null;">如果要让Redis以后台方式启动，则必须修改Redis配置文件，就在我们之前解压的redis安装包下（<span class="kdocs-color" style="background-color:#FBF5B3;">/usr/local/src/redis-6.2.6</span>），名字叫redis.conf：</p> 
 <p style="text-align:null;">注意：修改配置文件的时候最好先备份一份，以防止修改错了还可以恢复。</p> 
 <pre class="kdocs-shell"><code class="language-shell">cp redis.conf redis.conf.bck</code></pre> 
 <p style="text-align:null;">然后修改redis.conf文件中的一些配置：</p> 
 <p style="text-indent:1.4em;text-align:null;"><span class="kdocs-color" style="color:#58A401;">可以在末行模式下使用/+要查找的单词 去查找，n是查找下一个</span></p> 
 <pre class="kdocs-shell"><code class="language-shell"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0
bind 0.0.0.0
# 守护进程，修改为yes后即可后台运行
daemonize yes 
# 密码，设置后访问Redis必须输入密码
requirepass lyy05236</code></pre> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:null;">Redis的其它常见配置：</h4> 
 <pre class="kdocs-shell"><code class="language-shell"># 监听的端口
port 6379
# 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录
dir .
# 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15
databases 1
# 设置redis能够使用的最大内存
maxmemory 512mb
# 日志文件，默认为空，不记录日志，可以指定日志文件名
logfile "redis.log"</code></pre> 
 <h5 style="text-align:null;">启动Redis：</h5> 
 <pre class="kdocs-shell"><code class="language-shell"># 进入redis安装目录 
cd /usr/local/src/redis-6.2.6
# 启动
redis-server redis.conf</code></pre> 
 <p style="text-align:null;">不确定redis是否在后来运行了，可以用</p> 
 <pre class="kdocs-shell"><code class="language-shell">ps -ef | grep redis</code></pre> 
 <p style="text-align:null;">说明redis已经在后台运行了！！！</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1093px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:6.495883%;height:0;"> 
    <img src="https://images2.imgbox.com/a3/9c/qggqXk1D_o.png" style="margin-left:;display:block;width:1093px;margin-top:-6.495883%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h5 style="text-align:null;">停止服务：</h5> 
 <p style="text-align:left;"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</p> 
 <p style="text-align:left;"># 因为之前配置了密码，因此需要通过 -u 来指定密码</p> 
 <pre class="kdocs-shell"><code class="language-shell">redis-cli -u 123321 shutdown</code></pre> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3.3.开机自启</span></h4> 
 <p style="text-align:null;">我们也可以通过配置来实现开机自启。</p> 
 <p style="text-align:null;">首先，新建一个系统服务文件：</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo vim /etc/systemd/system/redis.service</code></pre> 
 <p style="text-align:null;">内容如下：</p> 
 <pre class="kdocs-shell"><code class="language-shell">[Unit]
Description=redis-server
After=network.target

[Service]
Type=forking
ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf
PrivateTmp=true

[Install]
WantedBy=multi-user.target</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">然后重载系统服务：</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo systemctl daemon-reload</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">现在，我们可以用下面这组命令来操作redis了：</p> 
 <p style="text-align:left;"># 启动</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo systemctl start redis</code></pre> 
 <p style="text-align:left;"># 停止</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo systemctl stop redis</code></pre> 
 <p style="text-align:left;"># 重启</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo systemctl restart redis</code></pre> 
 <p style="text-align:left;"># 查看状态</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo systemctl status redis</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">如果在查看redis的状态时，出现了如下错误：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1342px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:23.77049%;height:0;"> 
    <img src="https://images2.imgbox.com/7f/cb/BGzSxOw7_o.png" style="margin-left:;display:block;width:1342px;margin-top:-23.77049%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">说明了端口被占用了,所以要去杀掉这个端口，让他重新启动</p> 
 <pre class="kdocs-shell"><code class="language-shell">ps -ef | grep redis</code></pre> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1084px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:6.7343173%;height:0;"> 
    <img src="https://images2.imgbox.com/6a/59/od7pF4GZ_o.png" style="margin-left:;display:block;width:1084px;margin-top:-6.7343173%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">使用命令：</p> 
 <pre class="kdocs-shell"><code class="language-shell">sudo kill -9 42835</code></pre> 
 <p style="text-align:null;">这样就可以把占用的端口杀死掉了。</p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">执行下面的命令，可以让redis开机自启：</p> 
 <pre class="kdocs-shell"><code class="language-shell">systemctl enable redis</code></pre> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"></p> 
 <h2 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.Redis客户端</span></h2> 
 <hr> 
 <p style="text-align:null;">安装完成Redis，我们就可以操作Redis，实现数据的CRUD了。这需要用到Redis客户端，包括：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>命令行客户端</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>图形化桌面客户端</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>编程客户端</p></li></ul> 
 <p style="text-align:null;"></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.Redis命令行客户端</span></h3> 
 <hr> 
 <p style="text-align:null;">Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：</p> 
 <pre class="kdocs-shell"><code class="language-shell">redis-cli [options] [commonds]</code></pre> 
 <p style="text-align:null;">其中常见的options有：</p> 
 <pre class="kdocs-shell"><code class="language-shell"> -h 127.0.0.1：指定要连接的redis节点的IP地址，默认是127.0.0.1
 -p 6379：指定要连接的redis节点的端口，默认是6379
 -a 123321：指定redis的访问密码 </code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="color:#078654;">使用-a选项时，会警告不是很安全，所以我们可以直接不用-a选项，进入到里面的时候在用AUTH加上用户名、密码，但是我们没有设置用户名，所以可以直接在AUTH后面加上密码即可。</span></p> 
 <p style="text-align:null;">其中的commonds就是Redis的操作命令，例如：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ping：与redis服务端做心跳测试，服务端正常会返回pong</p></li></ul> 
 <p style="text-align:null;">不指定commond时，会进入redis-cli的交互控制台：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1422px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:24.61322%;height:0;"> 
    <img src="https://images2.imgbox.com/64/2a/B8ei8Wha_o.png" style="margin-left:;display:block;width:1422px;margin-top:-24.61322%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">可以使用set、get设置一些值，并获取</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:531px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:36.911488%;height:0;"> 
    <img src="https://images2.imgbox.com/6b/2f/exNb42sE_o.png" style="margin-left:;display:block;width:531px;margin-top:-36.911488%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.图形化桌面客户端</span></h3> 
 <hr> 
 <p style="text-align:null;">GitHub上的大神编写了Redis的图形化桌面客户端，地址：<a class="kdocs-link" style="color:#0A6CFF;" href="https://github.com/uglide/RedisDesktopManager" target="_blank" rel="noopener noreferrer">https://github.com/uglide/RedisDesktopManager</a>不过该仓库提供的是RedisDesktopManager的源码，并未提供windows安装包。</p> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.1.安装</span></h4> 
 <p style="text-align:null;"> 这里就不详细介绍了，就是傻瓜式的安装，一直下一步就好了</p> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.2.建立连接</span></h4> 
 <h5 style="text-align:null;">点击左上角的连接到Redis服务器按钮：</h5> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:653px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:110.10719%;height:0;"> 
    <img src="https://images2.imgbox.com/44/93/H60F9k2p_o.png" style="margin-left:;display:block;width:653px;margin-top:-110.10719%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style=""></p> 
 <h5 style="text-align:null;">在弹出的窗口中点击连接设置Redis服务信息： </h5> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:651px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:107.83411%;height:0;"> 
    <img src="https://images2.imgbox.com/76/fd/eLCZ5I9H_o.png" style="margin-left:;display:block;width:651px;margin-top:-107.83411%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h6 style="text-indent:1.4em;text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">名字可以随意的取，但是地址和密码要填写真实的，也就是你的虚拟机的ip地址和你所设置的redis的登陆密码。</span></h6> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">点击即可建立连接了：</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1174px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:71.294716%;height:0;"> 
    <img src="https://images2.imgbox.com/f5/1d/iKRLLBWW_o.png" style="margin-left:;display:block;width:1174px;margin-top:-71.294716%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-indent:1.4em;padding-left:1.4em;text-align:null;">Redis默认有16个仓库，编号从0至15. 通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名称。</p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;">如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库：</p> 
 <pre class="kdocs-shell"><code class="language-shell"># 选择 0号库
select 0</code></pre> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5f66c79c930a314d0e3536adeac96a06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据库之MHA高可用集群部署及故障切换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7afde65db26db6e8e097e862b3724c37/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">WSL安装桌面环境xfce4</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>