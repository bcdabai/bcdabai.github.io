<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>day4 QT主窗口 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="day4 QT主窗口" />
<meta property="og:description" content="QMainWindow QMainWindow是用于创建应用程序的主窗口的类，通常用于创建具有复杂布局和多个功能区域的应用程序窗口。与QWidget和QDialog不同，QMainWindow提供了一个主要的菜单栏、工具栏、状态栏和中央部件，使得创建复杂的多文档界面（MDI）应用程序更加方便。它通常用于创建大型的桌面应用程序。 示例 #include &#34;mainwindow.h&#34; #include &lt;QMenu&gt; #include &lt;QMenuBar&gt; #include &lt;QToolBar&gt; #include &lt;QStatusBar&gt; MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent) { // 创建动作 openfileact = new QAction(QIcon(&#34;open.png&#34;), &#34;Open&#34;); // 打开文件动作 openfileact-&gt;setShortcut(QKeySequence(tr(&#34;Ctrl&#43;O&#34;))); // 设置快捷键 Ctrl&#43;O copyfileact = new QAction(QIcon(&#34;copy.png&#34;), &#34;Copy&#34;); // 复制动作 pastfileact = new QAction(QIcon(&#34;paste.png&#34;), &#34;Paste&#34;); // 粘贴动作 setcoloract = new QAction(QIcon(&#34;color.png&#34;), &#34;Set Color&#34;); // 设置颜色动作 // 创建菜单 QMenu *fileMenu = menuBar()-&gt;addMenu(tr(&#34;&amp;File&#34;)); // 文件菜单 fileMenu-&gt;addAction(openfileact); // 将打开文件动作添加到文件菜单中 QMenu *editMenu = menuBar()-&gt;addMenu(tr(&#34;&amp;Edit&#34;)); // 编辑菜单 editMenu-&gt;addAction(copyfileact); // 将复制动作添加到编辑菜单中 editMenu-&gt;addAction(pastfileact); // 将粘贴动作添加到编辑菜单中 QMenu *setMenu = menuBar()-&gt;addMenu(tr(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2670316e710696ca505b93618679ce9c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-03T22:37:46+08:00" />
<meta property="article:modified_time" content="2023-07-03T22:37:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">day4 QT主窗口</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="3%E3%80%81QMainWindow">QMainWindow</h4> 
<ul><li>QMainWindow是用于创建应用程序的主窗口的类，通常用于创建具有复杂布局和多个功能区域的应用程序窗口。</li><li>与QWidget和QDialog不同，QMainWindow提供了一个主要的菜单栏、工具栏、状态栏和中央部件，使得创建复杂的多文档界面（MDI）应用程序更加方便。</li><li>它通常用于创建大型的桌面应用程序。</li></ul> 
<p></p> 
<h2>示例</h2> 
<pre><code class="language-cpp">#include "mainwindow.h"
#include &lt;QMenu&gt;
#include &lt;QMenuBar&gt;
#include &lt;QToolBar&gt;
#include &lt;QStatusBar&gt;

MainWindow::MainWindow(QWidget *parent)
    : QMainWindow(parent)
{
    // 创建动作
    openfileact = new QAction(QIcon("open.png"), "Open"); // 打开文件动作
    openfileact-&gt;setShortcut(QKeySequence(tr("Ctrl+O"))); // 设置快捷键 Ctrl+O

    copyfileact = new QAction(QIcon("copy.png"), "Copy"); // 复制动作
    pastfileact = new QAction(QIcon("paste.png"), "Paste"); // 粘贴动作

    setcoloract = new QAction(QIcon("color.png"), "Set Color"); // 设置颜色动作

    // 创建菜单
    QMenu *fileMenu = menuBar()-&gt;addMenu(tr("&amp;File")); // 文件菜单
    fileMenu-&gt;addAction(openfileact); // 将打开文件动作添加到文件菜单中

    QMenu *editMenu = menuBar()-&gt;addMenu(tr("&amp;Edit")); // 编辑菜单
    editMenu-&gt;addAction(copyfileact); // 将复制动作添加到编辑菜单中
    editMenu-&gt;addAction(pastfileact); // 将粘贴动作添加到编辑菜单中

    QMenu *setMenu = menuBar()-&gt;addMenu(tr("&amp;Set")); // 设置菜单
    setMenu-&gt;addAction(setcoloract); // 将设置颜色动作添加到设置菜单中

    // 创建工具栏
    QToolBar *tfile = addToolBar("File"); // 文件工具栏
    tfile-&gt;addAction(openfileact); // 将打开文件动作添加到文件工具栏中

    QToolBar *tedit = addToolBar("Edit"); // 编辑工具栏
    tedit-&gt;addAction(copyfileact); // 将复制动作添加到编辑工具栏中
    tedit-&gt;addAction(pastfileact); // 将粘贴动作添加到编辑工具栏中

    QToolBar *tset = addToolBar("Set"); // 设置工具栏
    tset-&gt;addAction(setcoloract); // 将设置颜色动作添加到设置工具栏中

    // 中央部件
    te = new QTextEdit("hello"); // 创建文本编辑器，并设置默认文本为 "hello"
    te-&gt;setMinimumSize(640, 480); // 设置文本编辑器的最小尺寸为 640x480
    setCentralWidget(te); // 将文本编辑器设置为主窗口的中央部件

    // 状态栏部件
    slb = new QLabel("1.txt*"); // 创建状态栏标签，并显示默认文本为 "1.txt*"
    QStatusBar *stb = statusBar(); // 获取主窗口的状态栏
    stb-&gt;addWidget(slb); // 将状态栏标签添加到状态栏中

    // 连接信号和槽函数
    connect(openfileact, SIGNAL(triggered(bool)), this, SLOT(openf())); // 打开文件动作与槽函数 openf() 连接
    connect(copyfileact, SIGNAL(triggered(bool)), this, SLOT(copyf())); // 复制动作与槽函数 copyf() 连接
    connect(pastfileact, SIGNAL(triggered(bool)), this, SLOT(pastf())); // 粘贴动作与槽函数 pastf() 连接
    connect(setcoloract, SIGNAL(triggered(bool)), this, SLOT(setcf())); // 设置颜色动作与槽函数 setcf() 连接
}

MainWindow::~MainWindow()
{

}</code></pre> 
<pre><code class="language-cpp">#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include &lt;QMainWindow&gt;
#include &lt;QAction&gt;
#include &lt;QTextEdit&gt;
#include &lt;QLabel&gt;
#include &lt;QFileDialog&gt;
#include &lt;QColorDialog&gt;

class MainWindow : public QMainWindow
{
    Q_OBJECT

public:
    MainWindow(QWidget *parent = 0);
    ~MainWindow();

public slots:
    // 打开文件槽函数
    void openf()
    {
        // 弹出文件对话框，获取选中的文件名
        QString filename = QFileDialog::getOpenFileName();
        // 在文本编辑器中显示选中的文件名
        te-&gt;setText(filename);
    }

    // 复制文件槽函数
    void copyf()
    {
        // 复制文本编辑器中的选中文本
        te-&gt;copy();
    }

    // 粘贴文件槽函数
    void pastf()
    {
        // 粘贴剪贴板中的文本到文本编辑器
        te-&gt;paste();
    }

    // 设置颜色槽函数
    void setcf()
    {
        // 弹出颜色选择对话框，获取选中的颜色
        QColor ccc = QColorDialog::getColor();
        // 设置文本编辑器的文本颜色为选中的颜色
        te-&gt;setTextColor(ccc);
    }

private:
    QAction *openfileact;
    QAction *copyfileact, *pastfileact;
    QAction *setcoloract;

    // 中央部件
    QTextEdit *te;

    // 状态栏部件
    QLabel *slb;
};

#endif // MAINWINDOW_H</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/61c0490798a186f365758e1e161ea9f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入探索Angular：构建现代化的Web应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a236817d84db0137de223f94e86a31cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">设计模式：工厂模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>