<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python实现员工管理系统（Django页面版 ) 一 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python实现员工管理系统（Django页面版 ) 一" />
<meta property="og:description" content="本系统需要实现的板块比较多，为了方便各位能够更加轻松的学习，因为我们分多篇博客来将系统完善，希望能对各位的学习有帮助。作者文化水平有限，如果出现绕口的话请原谅。
本篇博客需要实现的需求：
1. 确定项目整体逻辑结构 2. 创建Django项目
3. 对Djiango项目中的各组件进行配置
4. 对部门表进行创建以及构建部门信息的页面
需求实现： 1. 确定项目整体逻辑结构 在本次项目中，我们需要做一个网页帮助我们进行员工管理的实现，包括部门管理，员工信息管理，账号管理。在初步实现中我会依次实现这四个板块，后续对于整个系统的完善也会在后面的博文中给出。
2. 创建Django项目 1 确认项目启动路径
2 创建Django项目 输入命令django-admin startproject 项目名
3 cd 项目名
4 创建app 输入命令 python manage.py startapp APP名
5 输入命令 python manage.py runserver 即可启动Django项目
通过默认URL我们可以在浏览器打开我们创建的Django页面（不能将我们上面的启动界面关闭） 出现以上界面就代表你的Django项目成功创建
我们通过我们的Pycharm打开我们刚才创建的项目，请注意我下面的打开操作，不然后续对于代码的运行可能会存在问题。
我们需要从你创建的地址下面的项目名进行打开，这样的好处就是你在运行整个Django项目时并不需要每次都输入python manage.py runserver。
基本上是这个界面就代表你项目成功按照我的方式进行打开
点击右上角的运行后即可出现下面的运行效果
我们可以发现里面有一个URL就是我们刚刚在上面进入网页的地址，这样我们可以直接通过点击这个地址即可进入我们的Django网页界面。
3. 对Djiango项目中的各组件进行配置 接下来我们需要对我们的项目对各个组件进行一个基本的配置，后续我们根据需要会不断的进行配置。
APP的配置：打开setting.py进行app的配置
找到INSTALLED_APPS,在里面添加 &#39;project_manage.apps.ProjectManageConfig&#39;，这个其实就是我们的app类的路径
这样我们就可以将我们的app配置成功，app如果配置不成功对于后续的数据库的迁移等操作就会产生影响，因此我们在进行配置项目组件时一定要注意对app的配置。
下面我们需要在app项目名所在的文件下创建两个文件夹，用于我们后续存放我们的html代码以及js代码
static : 用于存放js，css，img的内容
templates：用于存放html代码
4 对部门表进行创建以及构建部门信息的页面 下面是我们对部门表作的一个基本的框架
1. 需要给一个URL地址用于展示部门信息 2. 需要有一个导航栏用于用户对各个内容进行操作
3. 需要有一个部门列表用于存放我们所有的部门信息并展示" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3a0f5a9db4f29af3f608e7cb9f6059a1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-20T18:12:01+08:00" />
<meta property="article:modified_time" content="2023-12-20T18:12:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python实现员工管理系统（Django页面版 ) 一</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        本系统需要实现的板块比较多，为了方便各位能够更加轻松的学习，因为我们分多篇博客来将系统完善，希望能对各位的学习有帮助。作者文化水平有限，如果出现绕口的话请原谅。</p> 
<p>本篇博客需要实现的需求：</p> 
<blockquote> 
 <p>1. 确定项目整体逻辑结构 </p> 
 <p>2. 创建Django项目</p> 
 <p>3. 对Djiango项目中的各组件进行配置</p> 
 <p>4. 对部门表进行创建以及构建部门信息的页面</p> 
</blockquote> 
<p></p> 
<h3>需求实现：</h3> 
<h4>1. 确定项目整体逻辑结构 </h4> 
<p>在本次项目中，我们需要做一个网页帮助我们进行员工管理的实现，包括<strong>部门管理，员工信息管理，账号管理。</strong>在初步实现中我会依次实现这四个板块，后续对于整个系统的完善也会在后面的博文中给出。</p> 
<h4>2. 创建Django项目</h4> 
<blockquote> 
 <p>1 确认项目启动路径</p> 
 <p>2 创建Django项目 输入命令django-admin startproject 项目名</p> 
 <p>3 cd 项目名</p> 
 <p>4 创建app 输入命令 python manage.py startapp APP名</p> 
 <p>5 输入命令 python manage.py runserver 即可启动Django项目</p> 
</blockquote> 
<p><img alt="" height="402" src="https://images2.imgbox.com/f3/a1/pSYhhkye_o.png" width="1200"></p> 
<p>通过默认URL我们可以在浏览器打开我们创建的Django页面（不能将我们上面的启动界面关闭） </p> 
<p><img alt="" height="544" src="https://images2.imgbox.com/d4/2a/D21wWSfi_o.png" width="1000"></p> 
<p> 出现以上界面就代表你的Django项目成功创建</p> 
<p>我们通过我们的Pycharm打开我们刚才创建的项目，请注意我下面的打开操作，不然后续对于代码的运行可能会存在问题。</p> 
<p><img alt="" height="133" src="https://images2.imgbox.com/54/58/VSL0FzTO_o.png" width="412"></p> 
<p>我们需要从你创建的地址下面的项目名进行打开，这样的好处就是你在运行整个Django项目时并不需要每次都输入python manage.py runserver。</p> 
<p><img alt="" height="643" src="https://images2.imgbox.com/38/fb/TjQO4wdR_o.png" width="1200"></p> 
<p>基本上是这个界面就代表你项目成功按照我的方式进行打开</p> 
<p>点击右上角的运行后即可出现下面的运行效果</p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/6b/44/mJshCEQU_o.png" width="1200"></p> 
<p>我们可以发现里面有一个URL就是我们刚刚在上面进入网页的地址，这样我们可以直接通过点击这个地址即可进入我们的Django网页界面。</p> 
<h4>3. 对Djiango项目中的各组件进行配置</h4> 
<p>接下来我们需要对我们的项目对各个组件进行一个基本的配置，后续我们根据需要会不断的进行配置。</p> 
<p>APP的配置：打开setting.py进行app的配置</p> 
<p></p> 
<p>找到INSTALLED_APPS,在里面添加 'project_manage.apps.ProjectManageConfig'，这个其实就是我们的app类的路径</p> 
<p><img alt="" height="388" src="https://images2.imgbox.com/b8/eb/y6jA6frG_o.png" width="737"></p> 
<p><img alt="" height="221" src="https://images2.imgbox.com/13/50/ZWMsRAR3_o.png" width="1200"></p> 
<p>这样我们就可以将我们的app配置成功，app如果配置不成功对于后续的数据库的迁移等操作就会产生影响，因此我们在进行配置项目组件时一定要注意对app的配置。</p> 
<p>下面我们需要在app项目名所在的文件下创建两个文件夹，用于我们后续存放我们的html代码以及js代码</p> 
<p><img alt="" height="51" src="https://images2.imgbox.com/49/61/2EzPkIHu_o.png" width="473"></p> 
<blockquote> 
 <p><strong>static : 用于存放js，css，img的内容</strong></p> 
 <p><strong>templates：用于存放html代码</strong></p> 
</blockquote> 
<h4> 4 对部门表进行创建以及构建部门信息的页面</h4> 
<p>下面是我们对部门表作的一个基本的框架</p> 
<p><img alt="" height="433" src="https://images2.imgbox.com/87/97/ySy4JOWw_o.png" width="1200"></p> 
<blockquote> 
 <p>1. 需要给一个URL地址用于展示部门信息 </p> 
 <p>2. 需要有一个导航栏用于用户对各个内容进行操作</p> 
 <p>3. 需要有一个部门列表用于存放我们所有的部门信息并展示</p> 
 <p>4. 需要有一个新建部门用于创建一个新的部门</p> 
 <p>5. 能够对部门信息进行直接修改或删除操作</p> 
</blockquote> 
<h5>4.1 为部门信息创建一个URL</h5> 
<p><img alt="" height="224" src="https://images2.imgbox.com/8b/02/uwO8LIni_o.png" width="1135"></p> 
<p>找到url.py ，我们可以发现里面有一个path，这个里面存放的内容其实就是我们开始打开Django项目时的那个火箭，我们可以在这个urlpatterns列表下添加我们各个实现内容的url。</p> 
<p><img alt="" height="363" src="https://images2.imgbox.com/10/44/4FsTFVyE_o.png" width="681"></p> 
<p>这样我们即可成功添加员工列表的url地址，接下来我们需要为实现这个内容构建方法，我们的方法构建都是在views.py里面进行的，因此我们需要导入views进来。</p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/96/3d/1yjbuMmW_o.png" width="784"></p> 
<p>我们在views.py中创建这个方法，它会在用户跳转到对应的地址时自动运行。</p> 
<p>我们的部门列表存放的是我们的部门信息数据，那这些数据都是从哪里来的？因此我们需要创建一个数据库用于存放我们数据。（在这里我们用的Mysql）</p> 
<h5>4.2 数据展示操作</h5> 
<blockquote> 
 <p>1. 在mysql里面创建一个数据库用于存放数据</p> 
 <p>2. 在setting.py 下对你的MySQL的数据库进行一个导入配置</p> 
 <p>3. 利用model.py 完成对数据库迁移到Django项目中</p> 
 <p>4. 最后将我们得到的数据渲染到我们的部门界面中去</p> 
 <p>5 补充：数据的删除和修改操作</p> 
</blockquote> 
<h6>4.21 使用mysql 创建数据库用于存放员工信息</h6> 
<p><img alt="" height="49" src="https://images2.imgbox.com/80/5b/ML8qVDUw_o.png" width="308"></p> 
<h6>4.22 在setting.py 下对你的MySQL的数据库进行一个导入配置</h6> 
<p>首先在setting里面找到DATABASES</p> 
<p><img alt="" height="205" src="https://images2.imgbox.com/ab/d0/jJ0vYoS6_o.png" width="1040"></p> 
<p>然后按照下面进行MySQL配置</p> 
<p><img alt="" height="389" src="https://images2.imgbox.com/ce/83/wJ4dgBdr_o.png" width="1013"></p> 
<h6> 4.23 利用model.py 完成对数据库迁移到Django项目中</h6> 
<p><img alt="" height="385" src="https://images2.imgbox.com/7b/b2/Qac4lHBy_o.png" width="968"></p> 
<p> 编写一个员工列表类用于存放员工数据</p> 
<p><img alt="" height="318" src="https://images2.imgbox.com/50/36/6oXr3YMt_o.png" width="1200"></p> 
<p> 编写完成后开始进行数据的迁移</p> 
<p><img alt="" height="505" src="https://images2.imgbox.com/14/76/yaNh74Lb_o.png" width="693"></p> 
<p> 依次输入 makemigrations 以及  migrate 即可完成数据的迁移</p> 
<p><img alt="" height="219" src="https://images2.imgbox.com/2c/f4/DKNWyPSh_o.png" width="765"></p> 
<p> 通过pycharm连接数据库后我们可发现里面多出来了很多表，其中有一个表就是我们刚刚创建的Department 这个类所构成的表</p> 
<p><img alt="" height="390" src="https://images2.imgbox.com/95/c4/ziNN1DU0_o.png" width="1200"> <img alt="" height="373" src="https://images2.imgbox.com/20/e4/wckZu9CV_o.png" width="1200"></p> 
<p>其中的id是Django自动生成的一个id字段，是每一条数据的主键，后续我们进行数据的删除修改时经常会用到。</p> 
<p>由此我们对数据库的迁移以及全部完成。</p> 
<h6>4.24 渲染数据到页面中</h6> 
<p>首先我们先人为的创建一些数据到数据库中去，方便后续查看。</p> 
<p><img alt="" height="890" src="https://images2.imgbox.com/b9/5f/t4Tf55FX_o.png" width="1200"></p> 
<p><img alt="" height="339" src="https://images2.imgbox.com/ad/d7/tOyANJlG_o.png" width="350"></p> 
<p>接下来我们需要创建一个html文件用于我们页面的展示</p> 
<p>在这里推荐大家一个非常实用的html样式大全，非常实用，我的HTML代码基本上都是以这里面的做一个框架，然后再修改。</p> 
<p><a class="has-card" href="https://v3.bootcss.com/" rel="nofollow" title="Bootstrap v3 中文文档 · Bootstrap 是最受欢迎的 HTML、CSS 和 JavaScript 框架，用于开发响应式布局、移动设备优先的 WEB 项目。 | Bootstrap 中文网 (bootcss.com)"><span class="link-card-box"><span class="link-title">Bootstrap v3 中文文档 · Bootstrap 是最受欢迎的 HTML、CSS 和 JavaScript 框架，用于开发响应式布局、移动设备优先的 WEB 项目。 | Bootstrap 中文网 (bootcss.com)</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/00/6f/2WEwfRIp_o.png" alt="icon-default.png?t=N7T8">https://v3.bootcss.com/</span></span></a></p> 
<p><img alt="" height="612" src="https://images2.imgbox.com/55/d4/dlRZFeGz_o.png" width="1200"></p> 
<p>使用步骤：</p> 
<blockquote> 
 <p>1. 下载Bootstrap的压缩包</p> 
 <p>2. 将下载 压缩包解压后将解压的文件放入到static文件下</p> 
 <p>3. 下载jquery将jquery文件夹放入到static文件下，用于html代码运行js代码</p> 
 <p>        <a href="https://www.jq22.com/jquery-info122" rel="nofollow" title="jquery下载所有版本（实时更新） (jq22.com)">jquery下载所有版本（实时更新） (jq22.com)</a></p> 
 <p>3. 将里面的js样式进行导入到html文件中</p> 
</blockquote> 
<p><img alt="" height="54" src="https://images2.imgbox.com/58/d5/aWxLPZs8_o.png" width="348"></p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/94/99/HjERVciH_o.png" width="285"></p> 
<p>我们通过我渲染出来的界面进行讲解</p> 
<p><img alt="" height="433" src="https://images2.imgbox.com/77/9c/DYcRiudS_o.png" width="1200"></p> 
<p>导航栏的创建</p> 
<p>由于我们的导航栏是贯彻到每一个实现模块中去的，那我们干脆就将导航栏单独拿出来放入一个html文件中，其他的html文件使用时直接继承即可。</p> 
<p><img alt="" height="569" src="https://images2.imgbox.com/ec/58/bjgx8X29_o.png" width="1144"></p> 
<p>点击组件后选择导航条</p> 
<p><img alt="" height="293" src="https://images2.imgbox.com/82/45/jFktvp9k_o.png" width="1200"></p> 
<p>复制其outerHTML即可获取它的html代码</p> 
<p><img alt="" height="465" src="https://images2.imgbox.com/3e/a1/NegTda7B_o.png" width="623"></p> 
<p> layout.html(导航栏代码)</p> 
<pre><code class="language-html">{# 导入static文件夹 #}
{% load static %}
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Title&lt;/title&gt;
    &lt;link rel="stylesheet" href="{% static 'bootstrap-3.4.1-dist/css/bootstrap.min.css' %}"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class="navbar navbar-default"&gt;
    &lt;div class="container"&gt;
        &lt;!-- Brand and toggle get grouped for better mobile display --&gt;
        &lt;div class="navbar-header"&gt;
            &lt;button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false"&gt;
                &lt;span class="sr-only"&gt;Toggle navigation&lt;/span&gt;
                &lt;span class="icon-bar"&gt;&lt;/span&gt;
                &lt;span class="icon-bar"&gt;&lt;/span&gt;
                &lt;span class="icon-bar"&gt;&lt;/span&gt;
            &lt;/button&gt;
            &lt;a class="navbar-brand" href="http://127.0.0.1:8000/"&gt;管理系统&lt;/a&gt;
        &lt;/div&gt;

        &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;
        &lt;div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"&gt;
            &lt;ul class="nav navbar-nav"&gt;
                &lt;li&gt;&lt;a href="/depart/list"&gt;部门列表&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/user/list/"&gt;员工列表&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="/pretty/list/"&gt;账号管理&lt;/a&gt;&lt;/li&gt;


            &lt;/ul&gt;

            &lt;ul class="nav navbar-nav navbar-right"&gt;
                &lt;li&gt;&lt;a href="#"&gt;登录&lt;/a&gt;&lt;/li&gt;
                &lt;li class="dropdown"&gt;
                    &lt;a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false"&gt;用户 &lt;span class="caret"&gt;&lt;/span&gt;&lt;/a&gt;
                    &lt;ul class="dropdown-menu"&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Action&lt;/a&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Another action&lt;/a&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Something else here&lt;/a&gt;&lt;/li&gt;
                        &lt;li role="separator" class="divider"&gt;&lt;/li&gt;
                        &lt;li&gt;&lt;a href="#"&gt;Separated link&lt;/a&gt;&lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;
    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;
&lt;/div&gt;

&lt;div&gt;
    {#用于其他html代码进行代码复写#}
    {% block content %}
    {% endblock %}
&lt;/div&gt;

{# 引入js代码 #}
&lt;script src="{% static 'js/jquery-3.7.1.js' %}"&gt;&lt;/script&gt;
&lt;script src="{% static 'bootstrap-3.4.1-dist/js/bootstrap.min.js' %}"&gt;&lt;/script&gt;

{% block js %}

{% endblock %}
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>我们只需要对其中的内容进行部分修改，我们就可以直接拿来用。我们将layout.html渲染出来的效果作为首页查看一些渲染情况。</p> 
<p>url.py</p> 
<pre><code class="language-python">from django.contrib import admin
from django.urls import path
from project_manage import views

urlpatterns = [
    # 这个没什么用我们直接注释
    # path('admin/', admin.site.urls),
    # 首页URL,路径为空表示初始界面
    path('', views.index),

    path('depart/list', views.depart_list),

]
</code></pre> 
<p>views.py</p> 
<pre><code class="language-python">from django.shortcuts import render

# Create your views here.
def index(request):
    render(request,'layout.html')


def depart_list(request):
    pass


</code></pre> 
<p>最后运行打开即可出现下面的效果</p> 
<p><img alt="" height="234" src="https://images2.imgbox.com/52/03/RC4O4Msk_o.png" width="1200"></p> 
<p> 接下来我们完成部门列表的显示，我们在点击“部门列表”的时候它就会把所有部门信息都显示到界面上</p> 
<p> <img alt="" height="433" src="https://images2.imgbox.com/39/7b/IGhNE4BI_o.png" width="1200"></p> 
<p>views.py</p> 
<pre><code class="language-python">from django.shortcuts import render
# 导入model模块
from project_manage import models

# Create your views here.
def index(request):
    render(request,'layout.html')


def depart_list(request):
    # 获取Department下的所有数据
    data_list = models.Department.objects.all()
    render(request,'depart_list.html',{'data_list':data_list})


</code></pre> 
<p> depart_list.html</p> 
<pre><code class="language-html">{% extends 'layout.html' %}
{% block content %}
    &lt;div class="container"&gt;
        &lt;div style="margin-bottom: 10px"&gt;
            {# target="_blank" 重新打开一个页面 #}
            &lt;a href="/depart/add/" class="btn btn-success"&gt;
                &lt;span class="glyphicon glyphicon-plus" aria-hidden="true"&gt;&lt;/span&gt; 新建部门&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class="panel panel-success"&gt;
            &lt;div class="panel-heading"&gt;
                &lt;h3 class="panel-title"&gt;&lt;span class="glyphicon glyphicon-th-list" aria-hidden="true"&gt;&lt;/span&gt; 部门列表&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;table class="table"&gt;
                    &lt;thead&gt;
                    &lt;tr&gt;
                        &lt;th&gt;部门ID&lt;/th&gt;
                        &lt;th&gt;部门名称&lt;/th&gt;
                        &lt;th&gt;部门操作&lt;/th&gt;
                    &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                    {% for data in data_list %}
                        &lt;tr&gt;
                            &lt;td&gt;{<!-- -->{ data.id }}&lt;/td&gt;
                            &lt;td&gt;{<!-- -->{ data.title }}&lt;/td&gt;
                            &lt;td&gt;
                                &lt;a href="/depart/delete/?nid={<!-- -->{ data.id }}"&gt;&lt;span
                                        class="glyphicon glyphicon-trash" aria-hidden="true" style="color: red"&gt;&lt;/span&gt;&lt;/a&gt;
                                &lt;span&gt; &lt;/span&gt;
                                &lt;a href="/depart/{<!-- -->{ data.id }}/modify"&gt;&lt;span
                                        class="glyphicon glyphicon-new-window" aria-hidden="true"
                                        style="color: #2aabd2"&gt;&lt;/span&gt;&lt;/a&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    {% endfor %}

                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
{% endblock %}</code></pre> 
<h6>4.25 数据的删除和修改</h6> 
<p>数据展示完毕，接下来就是对数据的操作（删除和修改）</p> 
<p>上面我们提到每一条数据的id值都是它对应的主键，那么我们就可以通过id值找到对应的数据并进行相对于的操作。</p> 
<p>删除：</p> 
<p>构造url，我们可以构造一个url为   ‘http://127.0.0.1:8000/depart/delete/?nid=1’ 表示id值为1的数据，其中的nid表示对应数据的id值，在这里面的nid是该url的参数，我们在对该url发起请求时可获取到对应的nid的值。</p> 
<p>首先先为其创建一个url地址</p> 
<p>urls.py</p> 
<pre><code class="language-python">from django.contrib import admin
from django.urls import path
from project_manage import views

urlpatterns = [
    # 这个没什么用我们直接注释
    # path('admin/', admin.site.urls),
    # 首页URL,路径为空表示初始界面
    path('', views.index),

    path('depart/list', views.depart_list),

    path('depart/delete/', views.depart_delete),

]
</code></pre> 
<p>views.py</p> 
<pre><code class="language-python"># 删除部门
def depart_delete(request):
    # 从get请求中得到参数nid值
    nid = request.GET.get("nid")
    # 从数据库中筛选出id值为nid并删除
    models.Department.objects.filter(id=nid).delete()
    # 删除后重定向到部门列表
    return redirect("/depart/list")</code></pre> 
<p>由于删除操作并不需要重新做一个页面来进行展示，因此我们直接返回到原界面即可。</p> 
<p>修改：</p> 
<p>修改操作和删除会有一点区别，删除操作仅仅只是一个get请求方法，因为它并不涉及到数据库的操作，因此调用方法就可完成。而修改操作在用户进行修改操作的时候是get请求方法，再另外一个页面做提交数据修改时则为post请求方法。</p> 
<p>修改操作同样是根据数据的id值进行操作的，因此我们也需要构建出一个url地址，url地址并不唯一，只要保证整个操作的逻辑一致即可。为了展示效果，下面作者用了一个不同的url表示方法来进行修改操作</p> 
<p>构造url：‘http://127.0.0.1:8000//depart/1/modify’  在这里的1就不像刚刚那个是作为参数传递，而是以路径的形式放入。</p> 
<p>urls.py：</p> 
<pre><code class="language-python">    # 修改部门
    path('depart/&lt;int:nid&gt;/modify/', views.depart_modify),</code></pre> 
<p>views.py:</p> 
<pre><code class="language-python"># 修改部门
def depart_modify(request, nid):
    # 如果是get请求
    if request.method == "GET":
        # 获取该id值对应的部门名
        title = models.Department.objects.filter(id=nid).first()
        return render(request, "depart_modify.html", {"title": title})
    
    # 如果是post请求
    title = request.POST.get("title")
    # 找到对应的id值更新
    models.Department.objects.filter(id=nid).update(title=title)
    return redirect("/depart/list")</code></pre> 
<p>depart_modify.html</p> 
<pre><code class="language-html">{% extends 'layout.html' %}

{% block content %}
    &lt;div class="container"&gt;
        &lt;div class="panel panel-info"&gt;
            &lt;div style="margin-bottom: 10px"&gt;
                {# target="_blank" 重新打开一个页面 #}
                &lt;a href="/depart/list/" class="btn btn-success"&gt;
                    &lt;span class="glyphicon glyphicon-log-out" aria-hidden="true"&gt;&lt;/span&gt; 退出修改&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class="panel-heading"&gt;
                &lt;h3 class="panel-title"&gt;修改部门&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;form method="post"&gt;
                    {% csrf_token %}
                    &lt;div class="form-group"&gt;
                        &lt;label for="inputEmail3" class="col-sm-2 control-label"&gt;部门名称&lt;/label&gt;
                        &lt;input type="text" class="form-control" id="inputEmail3" placeholder="{<!-- -->{ title.title }}"
                               name="title"&gt;
                    &lt;/div&gt;

                    &lt;button type="submit" class="btn btn-success"&gt;提交&lt;/button&gt;


                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
{% endblock %}</code></pre> 
<h5 style="background-color:transparent;">4.3 新增部门</h5> 
<p><img alt="" height="433" src="https://images2.imgbox.com/ac/4d/oSVZmzqE_o.png" width="1200"></p> 
<p>我们需要在部门列表上面弄一个新建部门的按钮，在用户进行添加操作时可以由这个按钮进入，并在里面弄一个超链接，在用户点击后即可跳转到部门添加页面。</p> 
<p>新增部门与修改部门信息的操作其实是差不多的，都是有get请求和post请求两种请求方式。用户在点击新增部门的按钮是一个get请求方式，在提交数据时是一个post请求方式，因为提交数据涉及到数据库的操作 。</p> 
<p>urls.py</p> 
<pre><code class="language-python">    # 增加部门
    path('depart/add/', views.depart_add),</code></pre> 
<p>views.py:</p> 
<pre><code class="language-python"># 增加部门
def depart_add(request):
    if request.method == "GET":
        return render(request, "depart_add.html")

    title = request.POST.get("title")
    models.Department.objects.create(title=title)
    return redirect("/depart/list")</code></pre> 
<p>depart_add.html</p> 
<pre><code class="language-html">{% extends 'layout.html' %}
{% block content %}
        &lt;div class="container"&gt;
        &lt;div class="panel panel-info"&gt;
            &lt;div class="panel-heading"&gt;
                &lt;h3 class="panel-title"&gt;增加部门&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="panel-body"&gt;
                &lt;form method="post"&gt;
                    {% csrf_token %}
                    &lt;div class="form-group"&gt;
                        &lt;label for="inputEmail3" class="col-sm-2 control-label"&gt;部门名称&lt;/label&gt;
                        &lt;input type="text" class="form-control" id="inputEmail3" placeholder="添加部门" name="title"&gt;
                    &lt;/div&gt;

                    &lt;button type="submit" class="btn btn-success"&gt;提交&lt;/button&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
{% endblock %}</code></pre> 
<p><img alt="" height="339" src="https://images2.imgbox.com/1e/38/lbaUFjjF_o.png" width="1200"></p> 
<p> 以上就是部门列表的整个操作流程。</p> 
<h4></h4> 
<p>由于代码内容过多，不太好全部展示，等后续我会在GitHub上将所有代码都放入的哈。本文中如果存在问题或者读友有模糊的地方可以评论留言或者私信。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/12371899159319639f06113c8e1964e2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">阿里云 E-MapReduce 全面开启 Serverless 时代</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c7e975feb3e423a90dcd01cb3731b96e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于html&#43;css&#43;js的图书管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>