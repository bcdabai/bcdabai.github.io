<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot配置Swagger增强工具 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot配置Swagger增强工具" />
<meta property="og:description" content="参考knife4j官方网站：1.6 快速开始 | knife4j
一、话不多说，先看效果 1.Swagger页面这样，这里就不多做介绍 2.增强后的首页 3.API列表 4.API请求参数 5.API响应参数 个人觉得增强后看着很清晰，比原来的要好很多。
二、开始配置 1.pom.xml 配置 &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.10.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.9.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt; &lt;artifactId&gt;knife4j-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.7&lt;/version&gt; &lt;/dependency&gt; 配置中遇到的问题： springfox-swagger2这个的版本号不同会导致无法导入@EnableSwagger2WebMvc这个注解 2.配置Swagger2Config import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import springfox.documentation.builders.ApiInfoBuilder; import springfox.documentation.builders.PathSelectors; import springfox.documentation.builders.RequestHandlerSelectors; import springfox.documentation.service.ApiInfo; import springfox.documentation.service.Contact; import springfox.documentation.spi.DocumentationType; import springfox.documentation.spring.web.plugins.Docket; import springfox.documentation.swagger2.annotations.EnableSwagger2WebMvc; /** *@类名 Swagger2Config *@描述 配置Swagger2 *@版本 1.0 *@创建人 XuKang *@创建时间 2021/7/16 13:29 **/ @Configuration @EnableSwagger2WebMvc public class Swagger2Config { /** * @method createRestApi * @desc 配置SWAGGER参数 * @version V1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8b922f495ebb1614d115186eff1dd7ad/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-19T10:40:48+08:00" />
<meta property="article:modified_time" content="2022-01-19T10:40:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot配置Swagger增强工具</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>参考knife4j官方网站：<a href="https://doc.xiaominfo.com/knife4j/documentation/get_start.html" rel="nofollow" title="1.6 快速开始 | knife4j">1.6 快速开始 | knife4j</a></p> 
</blockquote> 
<h2>一、话不多说，先看效果</h2> 
<h3>1.Swagger页面这样，这里就不多做介绍</h3> 
<p><img alt="" height="937" src="https://images2.imgbox.com/5d/2b/q4aBnH2f_o.png" width="1200"></p> 
<h3>2.增强后的首页</h3> 
<p><img alt="" height="937" src="https://images2.imgbox.com/f6/dc/Kymbu7uj_o.png" width="1200"></p> 
<h3> 3.API列表</h3> 
<p><img alt="" height="534" src="https://images2.imgbox.com/12/a0/kDNi6cCt_o.png" width="343"></p> 
<h3>4.API请求参数</h3> 
<p><img alt="" height="937" src="https://images2.imgbox.com/38/cb/dNMyqEsO_o.png" width="1200"></p> 
<h3>5.API响应参数</h3> 
<p><img alt="" height="937" src="https://images2.imgbox.com/73/d1/Cje2r5G8_o.png" width="1200"></p> 
<p>个人觉得增强后看着很清晰，比原来的要好很多。</p> 
<h2>二、开始配置 </h2> 
<h3>1.pom.xml 配置</h3> 
<pre><code class="language-XML">        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
            &lt;version&gt;2.10.5&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;
            &lt;artifactId&gt;knife4j-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;2.0.7&lt;/version&gt;
        &lt;/dependency&gt;</code></pre> 
<pre><strong>配置中遇到的问题：</strong>
<strong><span style="color:#1c7331;">springfox-swagger2</span></strong>这个的版本号不同会导致无法导入<span style="color:#1c7892;"><strong>@EnableSwagger2WebMvc</strong></span>这个注解</pre> 
<h3>2.配置Swagger2Config</h3> 
<pre><code class="language-java">
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.service.Contact;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
import springfox.documentation.swagger2.annotations.EnableSwagger2WebMvc;

/**
  *@类名 Swagger2Config
  *@描述 配置Swagger2
  *@版本 1.0
  *@创建人 XuKang
  *@创建时间 2021/7/16 13:29
  **/
@Configuration
@EnableSwagger2WebMvc
public class Swagger2Config {

    /**
     * @method createRestApi
     * @desc 配置SWAGGER参数
     * @version V1.0.0
     * @author xukang
     * @date 2021/7/16 13:30
     * @return
     */
    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .groupName("test")//分组名
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.demo.controller"))//定位到自己的接口所在包的路径
                .paths(PathSelectors.any())
                .build();
    }

    /**
     * @method apiInfo
     * @desc 配置ApiInfo
     * @version V1.0.0
     * @author xukang
     * @date 2021/7/16 13:30
     * @return ApiInfo
     */
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                //.title("Spring Boot中使用Swagger2构建RESTful APIs")
                .title("标题")
                .description("简介")
                .termsOfServiceUrl("http://localhost:8080")
                .contact(new Contact("作者名称","http://localhost:8080","123@163.com"))
                .version("1.0")
                .build();
    }

}
</code></pre> 
<h3> 3.配置WebMvcConfig</h3> 
<pre><code class="language-java">import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
import springfox.documentation.spring.web.SpringfoxWebMvcConfiguration;

/**
  *@类名 WebMvcConfig
  *@描述 文件配置
  *@版本 1.0
  *@创建人 XuKang
  *@创建时间 2021/12/28 14:22
  **/
@SpringBootApplication
@ConditionalOnClass(SpringfoxWebMvcConfiguration.class)
public class WebMvcConfig  implements WebMvcConfigurer {

   @Override
   public void addResourceHandlers(ResourceHandlerRegistry registry) {
      registry.addResourceHandler("doc.html").addResourceLocations("classpath:/META-INF/resources/");
      registry.addResourceHandler("/webjars/**").addResourceLocations("classpath:/META-INF/resources/webjars/");
   }
}</code></pre> 
<h3>4.开发环境yml文件可以打开增强配置</h3> 
<p>打开之后可以根据官网自定义一下组件，例如排序等</p> 
<pre><code class="language-java">knife4j:
  enable: true #开启配置增强
  setting:
    enableVersion: true</code></pre> 
<h3>5.生产环境yml文件可以屏蔽</h3> 
<pre><code>knife4j:
  enable: true #开启配置增强
  # 开启Swagger的Basic认证功能,默认是false
  # 开启生产环境屏蔽
  production: true</code></pre> 
<h3>6.controller注解配置</h3> 
<pre><code>@RestController
@RequestMapping("wechat/bank/")
@Api(value = "微信银行所用工具相关组件", tags = "3.微信微信银行相关组件")
public class LkWeChatBankController{
}</code></pre> 
<p>对应的效果如下</p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/6a/2f/3LOeWMR1_o.png" width="340"></p> 
<h3>7.entity实体类配置</h3> 
<p></p> 
<pre><code class="language-java">import com.alibaba.fastjson.annotation.JSONField;
import com.jingmai.video.live.pay.providers.model.vo.entity.LkWeChatBanksBranchesData;
import com.jingmai.video.live.pay.providers.model.vo.entity.LkWeChatLinksVO;
import io.swagger.annotations.ApiModel;
import io.swagger.annotations.ApiModelProperty;
import lombok.Data;

import java.io.Serializable;
import java.util.List;

/**
 * @类名 LkWeChatBanksBranchesResponseVO
 * @描述 查询支行列表响应实体
 * @版本 1.0
 * @创建人 XuKang
 * @创建时间 2022/1/12 14:00
 **/
@Data
@ApiModel(value="LkWeChatBanksBranchesResponseVO",description="查询支行列表响应实体")
public class LkWeChatBanksBranchesResponseVO implements Serializable {

    private static final long serialVersionUID = -7098096518017171297L;

    @JSONField(name = "total_count")
    @ApiModelProperty(value = "查询数据总条数",name = "totalCount",example = "10",required=true,position = 1)
    private int totalCount;

    @ApiModelProperty(value = "本次查询数据条数",name = "count",example = "10",required=true,position = 2)
    private int count;

    @ApiModelProperty(value = "-支行列表",name = "data",required=false,position = 3)
    private List&lt;LkWeChatBanksBranchesData&gt; data;

    @ApiModelProperty(value = "本次查询偏移量",name = "offset",example = "0",required=true,position = 4)
    private String offset;

    @ApiModelProperty(value = "分页链接",name = "links",required=true,position = 5)
    private LkWeChatLinksVO links;

    @JSONField(name = "account_bank")
    @ApiModelProperty(value = "开户银行",name = "accountBank",example = "招商银行其他银行",required=true, position = 6)
    private String accountBank;

    @JSONField(name = "account_bank_code")
    @ApiModelProperty(value = "开户银行编码",name = "accountBankCode",example = "1001",required=true, position = 7)
    private int accountBankCode;

    @JSONField(name = "bank_alias")
    @ApiModelProperty(value = "银行别名",name = "bankAlias",example = "工商银行深圳前海微众银行",required=true, position = 8)
    private String bankAlias;

    @JSONField(name = "bank_alias_code")
    @ApiModelProperty(value = "银行别名编码",name = "bankAliasCode",example = "1000006247",required=true, position = 9)
    private String bankAliasCode;

}
</code></pre> 
<blockquote> 
 <pre>@ApiModel注解：</pre> 
 <pre>value：实体value，在写接口的和@ApiImplicitParam(dataType={})对应</pre> 
 <pre>description：实体简介</pre> 
</blockquote> 
<p></p> 
<blockquote> 
 <pre>@ApiModelProperty注解：</pre> 
 <p>value：字段说明</p> 
 <p>name：对应的字段</p> 
 <p>example：示例值</p> 
 <p>required：是否必填</p> 
 <p>position：排序</p> 
</blockquote> 
<h3>8.Controller方法配置</h3> 
<pre><code class="language-java">    @PostMapping("getBankingBranches/{bankAliasCode}")
    @ApiOperationSupport(order = 5)
    @ApiOperation(value="查询支行列表", notes="本接口可以用于根据银行别名编码（仅支持需要填写支行的银行别名编码）和城市编码过滤查询支行列表数据")
    @ApiImplicitParams({
            @ApiImplicitParam(name = "weChatBanksBranchesRequestVO", value = "查询支行列表请求实体", required = true, dataType = "LkWeChatBanksBranchesRequestVO"),
            @ApiImplicitParam(name = "bankAliasCode", value = "银行别名编码", required = true,dataType = "String",example = "1000006247",paramType = "path")
    })
    public Result&lt;LkWeChatBanksBranchesResponseVO&gt; getBankingBranches(@RequestBody LkWeChatBanksBranchesRequestVO weChatBanksBranchesRequestVO,
                                                                      @PathVariable(value = "bankAliasCode") String bankAliasCode){
        return null;</code></pre> 
<blockquote> 
 <pre>@ApiOperationSupport：排序</pre> 
</blockquote> 
<p>别的注解应该可以看懂，自己看吧</p> 
<h2>三、总结</h2> 
<p>总结个棒棒锤，自己去官网看，<a href="https://doc.xiaominfo.com/knife4j/documentation/get_start.html" rel="nofollow" title="1.6 快速开始 | knife4j">1.6 快速开始 | knife4j</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4dcc7c6bfe8108d64fa4435fae77c6ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决 深度学习docker 端口连接被对方重设</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/621bfb0ad3b1a36a416ef50a0ecdd64c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hive如何删除、添加、修改表中的字段</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>