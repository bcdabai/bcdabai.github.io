<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Thymeleaf简介 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Thymeleaf简介" />
<meta property="og:description" content="Thymeleaf简介 Thymeleaf是一个流行的模板引擎，该模板引擎采用Java语言开发，模板引擎是一个技术名词，是跨领域跨平台的概念，在Java语言体系下有模板引擎除了thymeleaf之外还有Velocity、FreeMarker等模板引擎，功能类似。
结合Spring Boot 添加依赖 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 修改spring boot配置文件 # 开发阶段，建议关闭thymeleaf的缓存 spring.thymeleaf.cache=false #使用遗留的html5以去掉对html标签的校验 spring.thymeleaf.mode=LEGACYHTML5 thymeleaf会对html中的标签进行严格校验，如果html标签缺少结束标签的话，thymeleaf会报错，我们可以通过下面方式去除thymeleaf的校验，添加依赖:
&lt;dependency&gt; &lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt; &lt;artifactId&gt;nekohtml&lt;/artifactId&gt; &lt;version&gt;1.9.22&lt;/version&gt; &lt;/dependency&gt; 第一个thymeleaf程序 编写html页面：在resources/templates里面创建一个index.html，填写下面内容，注意添加这个xmlns:th=“http://www.thymeleaf.org”：
&lt;!DOCTYPE html&gt; &lt;html xmlns:th=&#34;http://www.thymeleaf.org&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;thymeleaf&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 th:text=&#34;${name}&#34;&gt;Spring boot集成 Thymeleaf&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt; 编写controller控制器：
@Controller public class ThymeleafCtrl { @GetMapping(&#34;/&#34;) public String hello(Model model){ model.addAttribute(&#34;name&#34;,&#34;jack&#34;); return &#34;index&#34;; } } 注意：这里的return使用的默认前缀和后缀，使用thymeleaf模板，默认前缀是resources下的templates目录，后缀是html；其他情况前缀是resources下的static目录，后缀是html。maven构建工具的就是webapp，jsp了。
== Springboot使用thymeleaf作为视图展示的时候，我们将模板文件放置在resource/templates目录下，静态资源放置在resource/static目录下。==
thymeleaf表达式 标准变量表达式${}，th:text用来获取controller中返回的数据。 //定义接口 @GetMapping(&#34;/thymeleaf/one&#34;) public String one(Model model){ User user=new User(); user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/bdc1bb379bd7aa6c3648e47ab9514f81/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-15T11:36:30+08:00" />
<meta property="article:modified_time" content="2022-03-15T11:36:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Thymeleaf简介</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Thymeleaf_0"></a>Thymeleaf简介</h3> 
<p>Thymeleaf是一个流行的模板引擎，该模板引擎采用Java语言开发，模板引擎是一个技术名词，是跨领域跨平台的概念，在Java语言体系下有模板引擎除了thymeleaf之外还有Velocity、FreeMarker等模板引擎，功能类似。</p> 
<h3><a id="Spring_Boot_6"></a>结合Spring Boot</h3> 
<ul><li>添加依赖</li></ul> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<ul><li>修改spring boot配置文件</li></ul> 
<pre><code class="prism language-properti"># 开发阶段，建议关闭thymeleaf的缓存
spring.thymeleaf.cache=false
#使用遗留的html5以去掉对html标签的校验
spring.thymeleaf.mode=LEGACYHTML5
</code></pre> 
<p>thymeleaf会对html中的标签进行严格校验，如果html标签缺少结束标签的话，thymeleaf会报错，我们可以通过下面方式去除thymeleaf的校验，添加依赖:</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.sourceforge.nekohtml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>nekohtml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span> 
</code></pre> 
<ul><li>第一个thymeleaf程序</li></ul> 
<p>编写html页面：在resources/templates里面创建一个index.html，填写下面内容，注意添加这个xmlns:th=“<a href="http://www.thymeleaf.org/" rel="nofollow">http://www.thymeleaf.org</a>”：</p> 
<pre><code class="prism language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Spring boot集成 Thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>编写controller控制器：</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThymeleafCtrl</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"jack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"index"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意：这里的return使用的默认前缀和后缀，使用thymeleaf模板，默认前缀是resources下的templates目录，后缀是html；其他情况前缀是resources下的static目录，后缀是html。maven构建工具的就是webapp，jsp了。</p> 
<p>== Springboot使用thymeleaf作为视图展示的时候，我们将模板文件放置在resource/templates目录下，静态资源放置在resource/static目录下。==</p> 
<h3><a id="thymeleaf_75"></a>thymeleaf表达式</h3> 
<ol><li>标准变量表达式<code>${}</code>，th:text用来获取controller中返回的数据。</li></ol> 
<pre><code class="prism language-java"><span class="token comment">//定义接口</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/thymeleaf/one"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">one</span><span class="token punctuation">(</span>Model model<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        User user<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"zhansan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"this is a message"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"one"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--前端获取数据的的方法，通过getter，或者 Object.property --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.getUsername()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.getPassword()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.username}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.password}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>password<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--如果这里直接接收user，就相当于toString，是一段字符串，拿不到具体数据--&gt;</span>
</code></pre> 
<p>2.选择变量表达式<code>*{}</code>,单独用和标准量一样，结合用相当于是先使用th:object将user对象取出，然后在里面的th:text中获取user对象中的属性值。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{user.password}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{user.username}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="3"><li>url表达式<code>@{...}</code>：将后台传入的数据拼接到url中</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--引用绝对 URL--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{http://localhost:8080/hello.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--等价于：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://localhost:8080/hello.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-----------------分割------------------&gt;</span>

<span class="token comment">&lt;!--上下文相关的 URL--&gt;</span>
	<span class="token comment">&lt;!--application.properties 中配置 Spring Boot 的上下文，以便于测试：
		server.servlet.context-path=/app引用路径：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/hello.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--等价于：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/app/hello.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!------------------分割-----------------&gt;</span>
<span class="token comment">&lt;!--相对 URL--&gt;</span>
	<span class="token comment">&lt;!--自动补上上下文--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{~/hello.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!------------------分割------------------&gt;</span>

<span class="token comment">&lt;!--带参数的 URL--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/hello.js(name=<span class="token punctuation">'</span>javaboy<span class="token punctuation">'</span>,age=99)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--等价于：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/hello.js?name=javaboy&amp;age=99<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--动态参数用标准表达式替换即可--&gt;</span>
</code></pre> 
<ol start="4"><li>国际通用表达式，通常的国际化属性：#{…} 用于获取国际化语言翻译值。即properties等文件的信息</li></ol> 
<pre><code class="prism language-properties"># 在 resources 目录下新建两个文件：messages.properties
message = thymeleaf 中引用 message，系统会根据浏览器的语言环境显示不同的值：

&lt;div th:text="#{message}"&gt;&lt;/div&gt;
</code></pre> 
<ol start="5"><li>表达式的变量</li></ol> 
<blockquote> 
 <p>文本字面量：‘one text’, ‘Another one!’,…<br> 数字字面量：0, 34, 3.0, 12.3,…<br> 布尔字面量：true, false<br> Null字面量：null<br> 字面量标记：one, sometext, main</p> 
</blockquote> 
<p>文本可以使用 + 进行拼接。如果字符串中包含变量，也可以使用另一种简单的方式，叫做字面量置换，用 | 代替 ‘…’ + ‘…’，如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>recived message is<span class="token punctuation">'</span>+${message}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>|recived message is ${message}|<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<blockquote> 
 <p>算术运算有：+, -, *, / 和 %。</p> 
 <p>布尔运算：二元运算符：and, or布尔非（一元运算符）：!, not</p> 
 <p>比较运算：表达式里的值可以使用 &gt;, &lt;, &gt;= 和 &lt;= 符号比较。==和 != 运算符用于检查相等。</p> 
 <p>​ 它们也有符号表示：gt (&gt;)；lt (&lt;)；ge (&gt;=)；le (&lt;=)；not (!)。还有 eq (==), neq/ne (!=)。</p> 
 <p>三目运算：th:text="(username eq ‘zhansan’ ) ? true : false "</p> 
</blockquote> 
<ol start="6"><li>内置对象</li></ol> 
<pre><code class="prism language-yaml">// 注意： 下面的一个<span class="token comment">#是thymeleaf的语法，多个#是注释</span>
<span class="token comment">#ctx：上下文对象。</span>
<span class="token comment">#vars: 上下文变量。</span>
<span class="token comment">#locale：上下文区域设置。</span>
<span class="token comment">#request：（仅在 Web 上下文中）HttpServletRequest 对象。</span>
<span class="token comment">#response：（仅在 Web 上下文中）HttpServletResponse 对象。</span>
<span class="token comment">#session：（仅在 Web 上下文中）HttpSession 对象。</span>
<span class="token comment">#servletContext：（仅在 Web 上下文中）ServletContext 对象。</span>

<span class="token comment">##########</span>

<span class="token comment">###### 在页面可以访问到上面这些内置对象:</span>
&lt;div th<span class="token punctuation">:</span>text='$<span class="token punctuation">{<!-- --></span><span class="token comment">#session.getAttribute("name")}'&gt;&lt;/div&gt;</span>
<span class="token comment">###### 和在java中用法一致，通过.调用属性或方法。</span>
	
<span class="token comment">##########</span>

<span class="token comment">###### 还有以下内置对象</span>

<span class="token comment">#execInfo：有关正在处理的模板的信息。</span>
<span class="token comment">#messages：在变量表达式中获取外部化消息的方法，与使用＃{...}语法获得的方式相同。</span>
<span class="token comment">#uris：转义URL / URI部分的方法</span>
<span class="token comment">#conversions：执行配置的转换服务（如果有）的方法。</span>
<span class="token comment">#dates：java.util.Date对象的方法：格式化，组件提取等</span>
<span class="token comment">#calendars：类似于#dates但是java.util.Calendar对象。</span>
<span class="token comment">#numbers：用于格式化数字对象的方法。</span>
<span class="token comment">#strings：String对象的方法：contains，startsWith，prepending / appending等</span>
<span class="token comment">#objects：一般对象的方法。</span>
<span class="token comment">#bools：布尔评估的方法。</span>
<span class="token comment">#arrays：数组方法。</span>
<span class="token comment">#lists：列表的方法。</span>
<span class="token comment">#sets：集合的方法。</span>
<span class="token comment">#maps：地图方法。</span>
<span class="token comment">#aggregates：在数组或集合上创建聚合的方法。</span>
<span class="token comment">#ids：处理可能重复的id属性的方法</span>
</code></pre> 
<ol start="7"><li>遍历</li></ol> 
<p>数组/集合/Map/Enumeration/Iterator 等的遍历也算是一个非常常见的需求，Thymeleaf 中通过 th:each 来实现遍历.</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u : ${users}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.username}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.address}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--users 是要遍历的集合/数组，u 则是集合中的单个元素。--&gt;</span>
</code></pre> 
<p>遍历的时候，我们可能需要获取遍历的状态，Thymeleaf 也对此提供了支持：</p> 
<pre><code class="prism language-yaml">index：当前的遍历索引，从0开始。
count：当前的遍历索引，从1开始。
size：被遍历变量里的元素数量。
current：每次遍历的遍历变量。
even/odd：当前的遍历是偶数次还是奇数次。
first：当前是否为首次遍历。
last：当前是否为最后一次遍历。
</code></pre> 
<ol start="8"><li>分支语句</li></ol> 
<p>条件分支使用<code>th:if</code>，除了布尔类型，非0数字，字符都为true，其他状态为false。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u : ${users}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.status}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.username}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.address}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><code>th:unless</code>和<code>th:if</code>完全相反。</p> 
<p>选择分支使用<code>th:swith</code>和<code>th:case</code>联合使用。</p> 
<ol start="9"><li>本地变量</li></ol> 
<p>在thymeleaf也可以定义局部变量，使用 <code>th:with</code>可以定义一个本地变量.</p> 
<ol start="10"><li>内联文本</li></ol> 
<p>除了使用<code>th:text</code>等，在属性中接收数据外，也可以将数据内联```[[…]]``：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>hello [[${user.username}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><code>[[...]]</code>对应于 <code>th:text</code>（结果会是转义的 HTML），<code>[(...)]</code>对应于 <code>th:utext</code>，它不会执行任何的 HTML 转义。</p> 
<blockquote> 
 <p>内联方式有一个问题,我们使用 Thymeleaf 的一大优势在于不用动态渲染就可以直接在浏览器中看到显示效果，当我们使用属性配置的时候确实是这样，但是如果我们使用内联的方式，各种表达式就会直接展示在静态网页中。</p> 
</blockquote> 
<p>也可以在 js 或者 css 中使用内联<code>th:inline="javascript"</code>:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script th<span class="token punctuation">:</span>inline<span class="token operator">=</span><span class="token string">"javascript"</span><span class="token operator">&gt;</span> <span class="token keyword">var</span> username<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">{<!-- --></span>user<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<ol start="10"><li>引用静态资源</li></ol> 
<p>引用静态资源文件，CSS使用<code>th:href</code>，js使用使用<code>th:src</code>，链接URL使用<code>th:href</code>。</p> 
<ol start="11"><li>thymeleaf布局</li></ol> 
<p>通过<code>th:fragrent</code>定义代码片段</p> 
<p>通过<code>th:include</code>或<code>th：replace</code>引用代码片段</p> 
<ol start="12"><li>常用关键字</li></ol> 
<table><thead><tr><th align="left">关键字</th><th align="left">功能</th><th align="left">案例</th></tr></thead><tbody><tr><td align="left">th:id</td><td align="left">替换id</td><td align="left"><code>&lt;input th:id="'xxx' + ${collect.id}"/&gt;</code></td></tr><tr><td align="left">th:text</td><td align="left">文本替换</td><td align="left"><code>&lt;p th:text="${collect.description}"&gt;description&lt;/p&gt;</code></td></tr><tr><td align="left">th:utext</td><td align="left">支持html的文本替换</td><td align="left"><code>&lt;p th:utext="${htmlcontent}"&gt;conten&lt;/p&gt;</code></td></tr><tr><td align="left">th:object</td><td align="left">替换对象</td><td align="left"><code>&lt;div th:object="${session.user}"&gt;</code></td></tr><tr><td align="left">th:value</td><td align="left">属性赋值</td><td align="left"><code>&lt;input th:value="${user.name}" /&gt;</code></td></tr><tr><td align="left">th:with</td><td align="left">变量赋值运算</td><td align="left"><code>&lt;div th:with="isEven=${prodStat.count}%2==0"&gt;&lt;/div&gt;</code></td></tr><tr><td align="left">th:style</td><td align="left">设置样式</td><td align="left"><code>th:style="'display:' + @{(${sitrue} ? 'none' : 'inline-block')} + ''"</code></td></tr><tr><td align="left">th:onclick</td><td align="left">点击事件</td><td align="left"><code>th:onclick="'getCollect()'"</code></td></tr><tr><td align="left">th:each</td><td align="left">属性赋值</td><td align="left"><code>tr th:each="user,userStat:${users}"&gt;</code></td></tr><tr><td align="left">th:if</td><td align="left">判断条件</td><td align="left"><code>&lt;a th:if="${userId == collect.userId}" &gt;</code></td></tr><tr><td align="left">th:unless</td><td align="left">和th:if判断相反</td><td align="left"><code>&lt;a th:href="@{/login}" th:unless=${session.user != null}&gt;Login&lt;/a&gt;</code></td></tr><tr><td align="left">th:href</td><td align="left">链接地址</td><td align="left"><code>&lt;a th:href="@{/login}" th:unless=${session.user != null}&gt;Login&lt;/a&gt; /&gt;</code></td></tr><tr><td align="left">th:switch</td><td align="left">多路选择 配合th:case 使用</td><td align="left"><code>&lt;div th:switch="${user.role}"&gt;</code></td></tr><tr><td align="left">th:case</td><td align="left">th:switch的一个分支</td><td align="left"><code>&lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt;</code></td></tr><tr><td align="left">th:fragment</td><td align="left">布局标签，定义一个代码片段，方便其它地方引用</td><td align="left"><code>&lt;div th:fragment="alert"&gt;</code></td></tr><tr><td align="left">th:include</td><td align="left">布局标签，替换内容到引入的文件</td><td align="left"><code>&lt;head th:include="layout :: htmlhead" th:with="title='xx'"&gt;&lt;/head&gt; /&gt;</code></td></tr><tr><td align="left">th:replace</td><td align="left">布局标签，替换整个标签到引入的文件</td><td align="left"><code>&lt;div th:replace="fragments/header :: title"&gt;&lt;/div&gt;</code></td></tr><tr><td align="left">th:selected</td><td align="left">selected选择框 选中</td><td align="left"><code>th:selected="(${xxx.id} == ${configObj.dd})"</code></td></tr><tr><td align="left">th:src</td><td align="left">图片类地址引入</td><td align="left"><code>&lt;img class="img-responsive" alt="App Logo" th:src="@{/img/logo.png}" /&gt;</code></td></tr><tr><td align="left">th:inline</td><td align="left">定义js脚本可以使用变量</td><td align="left"><code>&lt;script type="text/javascript" th:inline="javascript"&gt;</code></td></tr><tr><td align="left">th:action</td><td align="left">表单提交的地址</td><td align="left"><code>&lt;form action="subscribe.html" th:action="@{/subscribe}"&gt;</code></td></tr><tr><td align="left">th:remove</td><td align="left">删除某个属性</td><td align="left"><code>&lt;tr th:remove="all"&gt;</code>1.all:删除包含标签和所有的孩子。2.body:不包含标记删除,但删除其所有的孩子。3.tag:包含标记的删除,但不删除它的孩子。4.all-but-first:删除所有包含标签的孩子,除了第一个。5.none:什么也不做。这个值是有用的动态评估。</td></tr><tr><td align="left">ction</td><td align="left">表单提交的地址</td><td align="left"><code>&lt;form action="subscribe.html" th:action="@{/subscribe}"&gt;</code></td></tr><tr><td align="left">th:remove</td><td align="left">删除某个属性</td><td align="left"><code>&lt;tr th:remove="all"&gt;</code>1.all:删除包含标签和所有的孩子。2.body:不包含标记删除,但删除其所有的孩子。3.tag:包含标记的删除,但不删除它的孩子。4.all-but-first:删除所有包含标签的孩子,除了第一个。5.none:什么也不做。这个值是有用的动态评估。</td></tr><tr><td align="left">th:attr</td><td align="left">设置标签属性，多个属性可以用逗号分隔</td><td align="left">比如<code>th:attr="src=@{/image/aa.jpg},title=#{logo}"</code>，此标签不太优雅，一般用的比较少。</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a1bb6e3cf2dbaa92227db877efa58c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">僵尸进程与孤儿进程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1c3f3ddc54d5329395d8dd7f8ecd0309/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IDEA中右侧的maven窗口怎么调出来，和解决导不进maven包的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>