<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43; replace,replace_if和replace_copy函数用法详解(深入了解,一文学会) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43; replace,replace_if和replace_copy函数用法详解(深入了解,一文学会)" />
<meta property="og:description" content="C&#43;&#43; replace,replace_if和replace_copy函数用法详解目录
1 replace() 算法
2 replace_if()
3 replace_copy()
1 replace() 算法 会用新的值来替换和给定值相匹配的元素。它的前两个参数是被处理序列的正向迭代器，第 3 个参数是被替换的值，第 4 个参数是新的值。下面展示了它的用法:
#include &lt;iostream&gt; #include &lt;deque&gt; #include &lt;vector&gt; #include &lt;algorithm&gt; #include &lt;list&gt; #include &lt;set&gt; #include &lt;functional&gt; #include &lt;iterator&gt; using namespace std; int main() { std::deque&lt;int&gt; data{ 10, -5, 12, -6, 10, 8, -7, 10, 11 }; std::replace(std::begin(data), std::end(data), 10, 99); // Result: 99 -5 12 -6 99 8 -7 99 11 for (int i = 0; i &lt; data." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a90d867ad030ecb33f091517e90c6d9c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-08T01:31:05+08:00" />
<meta property="article:modified_time" content="2022-08-08T01:31:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43; replace,replace_if和replace_copy函数用法详解(深入了解,一文学会)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/f5/21/FFabm5H8_o.png" width="1174"></p> 
<p> </p> 
<p id="main-toc"><strong>C++ replace,replace_if和replace_copy函数用法详解目录</strong></p> 
<p id="1%20replace()%20%E7%AE%97%E6%B3%95-toc" style="margin-left:0px;"><a href="#1%20replace%28%29%20%E7%AE%97%E6%B3%95" rel="nofollow">1 replace() 算法</a></p> 
<p id="2%20replace_if()-toc" style="margin-left:0px;"><a href="#2%20replace_if%28%29" rel="nofollow">2 replace_if()</a></p> 
<p id="3%20replace_copy()-toc" style="margin-left:0px;"><a href="#3%20replace_copy%28%29" rel="nofollow">3 replace_copy()</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1%20replace()%20%E7%AE%97%E6%B3%95">1 replace() 算法</h2> 
<p>会用新的值来替换和给定值相匹配的元素。它的前两个参数是被处理序列的正向迭代器，第 3 个参数是被替换的值，第 4 个参数是新的值。下面展示了它的用法:</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;deque&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

using namespace std;



int main()
{
    std::deque&lt;int&gt; data{ 10, -5, 12, -6, 10, 8, -7, 10, 11 };
    std::replace(std::begin(data), std::end(data), 10, 99);
    // Result: 99 -5 12 -6 99 8 -7 99 11

    for (int i = 0; i &lt; data.size(); i++)
    {
        cout &lt;&lt; data[i] &lt;&lt; " ";
    }
}</code></pre> 
<p>data 容器中和 10 匹配的全部元素都会被 99 替代。</p> 
<p><img alt="" height="86" src="https://images2.imgbox.com/46/2f/pmJdEkL3_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<h2 id="2%20replace_if()">2 replace_if()</h2> 
<p>会将使谓词返回 true 的元素替换为新的值。它的第 3 个参数是一个谓词，第 4 个参数是新的值。参数的类型一般是元素类型的 const 引用；const 不是强制性的，但谓词不应该改变元素。下面是一个使用 replace_if() 的示例：</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;deque&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

using namespace std;



int main()
{
    string password{ "This is a good choice !" };
    std::replace_if(std::begin(password), std::end(password), [](char ch) {return std::isspace(ch); }, '_');
    //Result:This_is_a_good_choice!

    for (int i = 0; i &lt; password.size(); i++)
    {
        cout &lt;&lt; password[i] &lt;&lt; " ";
    }
}
</code></pre> 
<p><img alt="" height="77" src="https://images2.imgbox.com/43/1a/gSA0XtV6_o.png" width="1200"></p> 
<p>这个谓词会为任何是空格字符的元素返回 true，因此这里的空格都会被下划线代替。</p> 
<p></p> 
<h2 id="3%20replace_copy()">3 replace_copy()</h2> 
<p>算法和 replace() 做的事是一样的，但它的结果会被保存到另一个序列中，而不会改变原始序列。它的前两个参数是输入序列的正向迭代器，第 3 个参数是输入序列的开始迭代器，最后两个参数分别是要被替换的值和替换值。例如：</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;deque&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

using namespace std;



int main()
{
    std::vector&lt;string&gt; words{ "one","none", "two", "three", "none", "four" };
    std::vector&lt;string&gt; new_words;
    std::replace_copy(std::begin(words), std::end(words), std::back_inserter(new_words), string{ "none" }, string{ "0" });
    // Result:"one", "0", "two","three","0","four"

    for (int i = 0; i &lt; new_words.size(); i++)
    {
        cout &lt;&lt; new_words[i] &lt;&lt; " ";
    }
}</code></pre> 
<p> <img alt="" height="81" src="https://images2.imgbox.com/cf/08/6KnzNbHc_o.png" width="1200"></p> 
<p>在执行这段代码后，new_words 会包含注释中的 string 元素。 </p> 
<p></p> 
<p>可以在序列中有选择地替换元素的最后一个算法是 replace_copy_if()，它和 replace_if() 算法是相同的，但它的结果会被保存到另一个序列中。它的前两个参数是输入序列的迭代器，第 3 个参数是输出序列的开始迭代器，最后两个参数分别是谓词和替换值。例如：</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;deque&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;functional&gt;
#include &lt;iterator&gt;

using namespace std;



int main()
{
    std::deque&lt;int&gt; data{ 10, -5, 12, -6, 10, 8, -7, 10, 11 }; 
    std::vector&lt;int&gt; data_copy;
    std::replace_copy_if(std::begin(data), std::end(data), std::back_inserter(data_copy), [](int value) {return value == 10; }, 99);
    // Result:99 -5 12 -6 99 8 -7 99 11

    for (int i = 0; i &lt; data_copy.size(); i++)
    {
        cout &lt;&lt; data_copy[i] &lt;&lt; " ";
    }
}
</code></pre> 
<p><img alt="" height="81" src="https://images2.imgbox.com/4b/7b/zkpSIRiT_o.png" width="1200"></p> 
<p>data_copy 是一个 vector 容器，这里使用它只是为了说明输出容器可以和输入容器不同。这段代码执行后，它会包含注释中所示的元素。 </p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/289919584b956f47b6e9f36d4911fb79/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win10 下 acdsee7 在普通账户下无法运行并崩溃的 BUG</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17ec3b8f001dc1b82090ad812cf7ed13/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java Thread.yield()方法具有什么功能呢？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>