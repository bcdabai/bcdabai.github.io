<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>windows ffmpeg mysys2 编译 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="windows ffmpeg mysys2 编译" />
<meta property="og:description" content="安装 mysys2 (msys2-x86_64-20230127.exe 我用的是这个版本)安装好后运行
pacman -S git pacman -S make pacman -S mingw-w64-i686-gcc pacman -S mingw-w64-i686-yasm pacman -S mingw-w64-i686-nasm pacman -S mingw-w64-i686-pkg-config pacman -S mingw-w64-i686-diffutils 运行：
git clone https://git.videolan.org/git/x264.git cd x264
./configure --enable-strip --enable-static --host=i686-w64-mingw32- --prefix=/usr/local make -j8 &amp;&amp; make install cd ..
下载
# lame 3.98.4 版本，3100版本编译会有错误
# download https://sourceforge.net/projects/lame/files/lame/
cd lame
./configure --host=i686-w64-mingw32 --enable-static=yes --enable-shared=no --prefix=/usr/local make -j8 &amp;&amp; make install cd -
git clone -b ffplayer https://github." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/add07d414335f4cb7649ffd4b7ff33b1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-02T11:25:34+08:00" />
<meta property="article:modified_time" content="2023-03-02T11:25:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">windows ffmpeg mysys2 编译</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>安装 mysys2 (msys2-x86_64-20230127.exe 我用的是这个版本)安装好后运行</p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">   pacman -S git
   pacman -S make
   pacman -S mingw-w64-i686-gcc
   pacman -S mingw-w64-i686-yasm
   pacman -S mingw-w64-i686-nasm
   pacman -S mingw-w64-i686-pkg-config
   pacman -S mingw-w64-i686-diffutils</code></pre> 
 <p style=""></p> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>运行：</p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">git clone https://git.videolan.org/git/x264.git</code></pre> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>cd x264</p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">./configure --enable-strip --enable-static --host=i686-w64-mingw32- --prefix=/usr/local
make -j8 &amp;&amp; make install</code></pre> 
 <p style=""></p> 
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>cd ..</p></li></ol> 
 <ol start="5"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>下载</p></li></ol> 
 <p style=""># lame 3.98.4 版本，3100版本编译会有错误</p> 
 <p style=""># download <a class="kdocs-link" style="color:#0A6CFF;" href="https://sourceforge.net/projects/lame/files/lame/" rel="nofollow noopener noreferrer" target="_blank">https://sourceforge.net/projects/lame/files/lame/</a></p> 
 <ol start="6"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>cd lame</p></li></ol> 
 <ol start="7"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p></p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">./configure --host=i686-w64-mingw32 --enable-static=yes --enable-shared=no --prefix=/usr/local</code></pre> 
 <p style=""></p> 
 <ol start="8"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p></p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">make -j8 &amp;&amp; make install</code></pre> 
 <ol start="9"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>cd -</p></li></ol> 
 <ol start="10"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p></p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">git clone -b ffplayer https://github.com/rockcarry/ffmpeg</code></pre> 
 <ol start="11"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>cd ffmpeg</p></li></ol> 
 <ol start="12"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>mkdir ffmpeg-win32-sdk</p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">./configure \
--prefix=./ffmpeg-win32-sdk \
--extra-cflags=-I/usr/local/include \
--extra-ldflags=-L/usr/local/lib \
--disable-debug \
--disable-doc \
--disable-ffplay \
--disable-ffprobe \
--disable-asm \
--enable-static \
--enable-shared \
--disable-network \
--enable-gpl \
--enable-libmp3lame \
--enable-libx264 \
--enable-dxva2 \
--enable-d3d11va \
--enable-gpl \</code></pre> 
 <ol start="13"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p></p></li></ol> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">make -j8 &amp;&amp; make install</code></pre> 
 <p style="">好了编译好了。</p> 
 <p style="">参考：<a class="kdocs-link" style="color:#0A6CFF;" href="https://ffmpeg.xianwaizhiyin.net/compile-ffmpeg/x264.html" rel="nofollow noopener noreferrer" target="_blank">https://ffmpeg.xianwaizhiyin.net/compile-ffmpeg/x264.html</a></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d58d25cd599f3a4a2fc4c407431570a7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决win10无法安装.Net framework3.5的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a363b5e3a4f34d761da2963d1874a683/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VS2022找不到 .NETFramework,Version=v4.0 的引用程序集</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>