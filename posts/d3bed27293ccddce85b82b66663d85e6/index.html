<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于mineMap的地图台风灾害预警轨迹可视化方案 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于mineMap的地图台风灾害预警轨迹可视化方案" />
<meta property="og:description" content="1.需求概要
可视化界面显示气象云图及台风中心运动变化，实时数据显示；
2.效果预览
方案实施
1.&gt;图层构成分析：
可视范围内构成的应该包含基础图层和动态移动图层，运动线路，运动风标，及运动信息框；
2.&gt;结构拆分：
//：基于单图层创建多个根据风力大小为半径的风面圆图层；
数据组装：
/** * @Description:圆心处理 * @Author: ShiWei * @Date: 2020-09-07 */ makeWindGeo(fea,i) { const cen = turf.point(fea[i].geometry.coordinates) // 圆形展示 return turf.sector(cen, fea[i].properties.r10, 0, 360) }, if( winData.length!==0){ let dataObj=winData.data; let r7=Math.floor(Math.random() * 200 &#43; 20); let r10= Math.floor(Math.random() * 300 &#43; 50); dataObj.map((item,index) =&gt;{ let properties={wl:parseFloat(item.mws),r10:r10,r7:r7,startTime:item.startTime, endTime:item.endTime, centerPres:item.centerPres, mws:item.mws, mwsMax:item.mws}; let point=[]; //单点信息 point.push(parseFloat(item.lon),parseFloat(item.lat)) stp.push(this.mapController.makeFeature(&#34;Point&#34;,point,properties)) features.push(this.makeWindGeo(stp,index)) }) let source = this.mapController.makeFeatureCollection(features) this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d3bed27293ccddce85b82b66663d85e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-08T17:09:55+08:00" />
<meta property="article:modified_time" content="2020-09-08T17:09:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于mineMap的地图台风灾害预警轨迹可视化方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>1.需求概要</strong><br> 可视化界面显示气象云图及台风中心运动变化，实时数据显示；<br> <strong>2.效果预览</strong><br> <img src="https://images2.imgbox.com/bd/ac/7pYyGcCr_o.png" alt="在这里插入图片描述"><br> <em><strong>方案实施</strong></em><br> 1.&gt;图层构成分析：<br> 可视范围内构成的应该包含基础图层和动态移动图层，运动线路，运动风标，及运动信息框；<br> 2.&gt;结构拆分：<br> //：基于单图层创建多个根据风力大小为半径的风面圆图层；<br> 数据组装：</p> 
<pre><code class="prism language-javascript">      <span class="token comment">/**
       * @Description:圆心处理

       * @Author: ShiWei

       * @Date: 2020-09-07
       */</span>
      <span class="token function">makeWindGeo</span><span class="token punctuation">(</span>fea<span class="token punctuation">,</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> cen <span class="token operator">=</span> turf<span class="token punctuation">.</span><span class="token function">point</span><span class="token punctuation">(</span>fea<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">)</span>
        <span class="token comment">// 圆形展示</span>
        <span class="token keyword">return</span> turf<span class="token punctuation">.</span><span class="token function">sector</span><span class="token punctuation">(</span>cen<span class="token punctuation">,</span> fea<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>r10<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      
  <span class="token keyword">if</span><span class="token punctuation">(</span> winData<span class="token punctuation">.</span>length<span class="token operator">!==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> dataObj<span class="token operator">=</span>winData<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
           <span class="token keyword">let</span> r7<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">let</span> r10<span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataObj<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> properties<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>wl<span class="token punctuation">:</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">)</span><span class="token punctuation">,</span>r10<span class="token punctuation">:</span>r10<span class="token punctuation">,</span>r7<span class="token punctuation">:</span>r7<span class="token punctuation">,</span>startTime<span class="token punctuation">:</span>item<span class="token punctuation">.</span>startTime<span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span>item<span class="token punctuation">.</span>endTime<span class="token punctuation">,</span>
              centerPres<span class="token punctuation">:</span>item<span class="token punctuation">.</span>centerPres<span class="token punctuation">,</span>
              mws<span class="token punctuation">:</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">,</span>
              mwsMax<span class="token punctuation">:</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> point<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//单点信息</span>
            point<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>lon<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">)</span>
            stp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeature</span><span class="token punctuation">(</span><span class="token string">"Point"</span><span class="token punctuation">,</span>point<span class="token punctuation">,</span>properties<span class="token punctuation">)</span><span class="token punctuation">)</span>
            features<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeWindGeo</span><span class="token punctuation">(</span>stp<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">let</span> source <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeatureCollection</span><span class="token punctuation">(</span>features<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">,</span> <span class="token string">"circle-source-1"</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drwWinCircle</span><span class="token punctuation">(</span><span class="token string">'win-circle'</span><span class="token punctuation">,</span><span class="token string">'circle-source-1'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-javascript">      <span class="token comment">/**
       * @Description: 绘制圆形风力面 采用单图层绘制多个同类面

       * @Author: ShiWei

       * @Date: 2020-09-07
       */</span>
      <span class="token function">drwWinCircle</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>source<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          <span class="token string">"id"</span><span class="token punctuation">:</span> id<span class="token punctuation">,</span>
          <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"fill"</span><span class="token punctuation">,</span>
          <span class="token string">"source"</span><span class="token punctuation">:</span> source<span class="token punctuation">,</span>
          <span class="token string">"paint"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"fill-color"</span><span class="token punctuation">:</span> <span class="token string">"#35e2ce"</span><span class="token punctuation">,</span>
            <span class="token string">"fill-opacity"</span><span class="token punctuation">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>2.同操作拆分出风面中心点point,及轨迹线路</p> 
<pre><code class="prism language-javascript">      <span class="token keyword">if</span><span class="token punctuation">(</span> winData<span class="token punctuation">.</span>length<span class="token operator">!==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> dataObj<span class="token operator">=</span>winData<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
           <span class="token keyword">let</span> r7<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">let</span> r10<span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dataObj<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>index<span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">let</span> properties<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>wl<span class="token punctuation">:</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">)</span><span class="token punctuation">,</span>r10<span class="token punctuation">:</span>r10<span class="token punctuation">,</span>r7<span class="token punctuation">:</span>r7<span class="token punctuation">,</span>startTime<span class="token punctuation">:</span>item<span class="token punctuation">.</span>startTime<span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span>item<span class="token punctuation">.</span>endTime<span class="token punctuation">,</span>
              centerPres<span class="token punctuation">:</span>item<span class="token punctuation">.</span>centerPres<span class="token punctuation">,</span>
              mws<span class="token punctuation">:</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">,</span>
              mwsMax<span class="token punctuation">:</span>item<span class="token punctuation">.</span>mws<span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> point<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//单点信息</span>
            point<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>lon<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token comment">//风力轨迹坐标</span>
            line<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeature</span><span class="token punctuation">(</span><span class="token string">"Point"</span><span class="token punctuation">,</span>point<span class="token punctuation">,</span>properties<span class="token punctuation">)</span><span class="token punctuation">)</span>
            infos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>point<span class="token punctuation">:</span>point<span class="token punctuation">,</span>properties<span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">//中心点</span>
            winCenter<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeature</span><span class="token punctuation">(</span><span class="token string">"Point"</span><span class="token punctuation">,</span>point<span class="token punctuation">,</span>properties<span class="token punctuation">)</span><span class="token punctuation">)</span>
            features<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">makeWindGeo</span><span class="token punctuation">(</span>stp<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          features<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ite<span class="token punctuation">,</span>idx<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            markerList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ite<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">let</span> source <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeatureCollection</span><span class="token punctuation">(</span>features<span class="token punctuation">)</span>
          <span class="token keyword">let</span> winCenterSource <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">makeFeatureCollection</span><span class="token punctuation">(</span>winCenter<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">,</span> <span class="token string">"center-source-1"</span><span class="token punctuation">,</span> winCenterSource<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drwWinCenter</span><span class="token punctuation">(</span><span class="token string">'win-center'</span><span class="token punctuation">,</span><span class="token string">'center-source-1'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span>
          <span class="token keyword">let</span> geo <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            type<span class="token punctuation">:</span> <span class="token string">"FeatureCollection"</span><span class="token punctuation">,</span>
            features<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
              type<span class="token punctuation">:</span> <span class="token string">"Feature"</span><span class="token punctuation">,</span>
              geometry<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"LineString"</span><span class="token punctuation">,</span> <span class="token string">"coordinates"</span><span class="token punctuation">:</span> line<span class="token punctuation">}</span><span class="token punctuation">,</span>
              properties<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
          <span class="token comment">//运动数装倒序组装</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>infoList<span class="token operator">=</span>infos<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>mapController<span class="token punctuation">.</span><span class="token function">addSource</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">,</span> <span class="token string">"line-source-1"</span><span class="token punctuation">,</span> geo<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">drwWinLine</span><span class="token punctuation">(</span><span class="token string">'line-win'</span><span class="token punctuation">,</span><span class="token string">"line-source-1"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">,</span>line<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token operator">=</span>line<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          minemaputil<span class="token punctuation">.</span><span class="token function">fitBounds</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">,</span> source<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> padding<span class="token punctuation">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
</code></pre> 
<p>3.绘制中心点及轨迹路线</p> 
<pre><code class="prism language-javascript">  <span class="token comment">/**
       * @Description:风圈中心位置标识

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">drwWinCenter</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>source<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          <span class="token string">"id"</span><span class="token punctuation">:</span> id<span class="token punctuation">,</span>
          <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"circle"</span><span class="token punctuation">,</span>
          <span class="token string">"source"</span><span class="token punctuation">:</span> source<span class="token punctuation">,</span>
          <span class="token string">"paint"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"circle-color"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token string">"property"</span><span class="token punctuation">:</span> <span class="token string">"wl"</span><span class="token punctuation">,</span>
              <span class="token string">"stops"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"rgba(255,255,255,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"rgba(230,230,230,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"rgba(204,204,204,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"rgba(179,179,179,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"rgba(154,154,154,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"rgba(62,217,230,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"rgba(79,214,203,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">"rgba(85,207,137,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"rgba(109,214,106,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"rgba(160,230,69,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"rgba(213,230,69,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">"rgba(255,232,79,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"rgba(245,188,56,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"rgba(245,144,56,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">"rgba(235,103,47,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">"rgba(218,73,43,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">"rgba(190,46,45,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">"rgba(129,56,184,0.60)"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">"rgba(67,2,116,0.60)"</span><span class="token punctuation">]</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">"circle-radius"</span><span class="token punctuation">:</span> <span class="token number">10</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">/**
       * @Description:绘制风力轨迹线路

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">drwWinLine</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>source<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          <span class="token string">"id"</span><span class="token punctuation">:</span> id<span class="token punctuation">,</span>
          <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"line"</span><span class="token punctuation">,</span>
          <span class="token string">"source"</span><span class="token punctuation">:</span> source<span class="token punctuation">,</span>
          <span class="token string">"layout"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"line-join"</span><span class="token punctuation">:</span> <span class="token string">"round"</span><span class="token punctuation">,</span>
            <span class="token string">"line-cap"</span><span class="token punctuation">:</span> <span class="token string">"round"</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"paint"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"line-color"</span><span class="token punctuation">:</span> <span class="token string">"#64a7c2"</span><span class="token punctuation">,</span>
            <span class="token string">"line-width"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">"line-opacity"</span><span class="token punctuation">:</span> <span class="token number">0.6</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>4.风标</p> 
<pre><code class="prism language-javascript"><span class="token comment">/**
       * @Description:风圈引导标记

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">addMarker</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">let</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>
          el<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'pin-wheel-marker'</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          p<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'pin-wheel-inner'</span><span class="token punctuation">;</span>
          el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">minemap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>offset<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">17</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>data<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>5.动态信息窗</p> 
<pre><code class="prism language-javascript"> <span class="token comment">/**
       * @Description:动态信息窗体

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>

       <span class="token function">addInfoMarker</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">let</span> data<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>infoList<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>infoMarker<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>infoMarker<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> el<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            el<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">"info-content"</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> line<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
            line<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">'info-line'</span>
        el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
        <span class="token keyword">let</span> infoM<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            infoM<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">'info-cls'</span>
        <span class="token keyword">let</span> info<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">'info-menu'</span>
        <span class="token keyword">let</span> tt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            tt<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">'持续时间'</span><span class="token operator">+</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>startTime<span class="token operator">+</span><span class="token string">'--'</span><span class="token operator">+</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>startTime<span class="token punctuation">;</span>
            info<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> qy<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            qy<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">'中心气压'</span><span class="token operator">+</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>centerPres<span class="token operator">+</span><span class="token string">'百帕'</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>qy<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> fsMin <span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fsMin<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">'最小风速'</span><span class="token operator">+</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>mws<span class="token operator">+</span><span class="token string">'米/秒'</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fsMin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        infoM<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
        el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>infoM<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>infoMarker<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">minemap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>offset<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p><strong>实时播放，暂停，重置</strong></p> 
<pre><code class="prism language-javascript"><span class="token comment">/**
       * @Description:播放风力轨迹

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">winStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">.</span>length<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token keyword">let</span> count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token operator">!==</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
           count<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
           count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token operator">=</span>count<span class="token punctuation">;</span>
           count<span class="token operator">++</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">===</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
             <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
             <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">/**
       * @Description:暂停

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">winStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> count<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token operator">=</span>count<span class="token punctuation">;</span>
          count<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">===</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">/**
       * @Description:重置

       * @Author: ShiWei

       * @Date: 2020-09-08
       */</span>
      <span class="token function">rest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tep<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>moveTimer<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>markerLister<span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>moveList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addInfoMarker</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p><strong>注意:利用turf将坐标转换成多边形；利用reverse()将数据顺序倒序达到预期效果<br> <code>1 const cen = turf.point(fea[i].geometry.coordinates) // 圆形展示 return turf.sector(cen, fea[i].properties.r10, 0, 360) 2. reverse（）</code></strong><br> <img src="https://images2.imgbox.com/5a/96/EpPzYcUW_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef9956759018bc4ff4acadd8f6497b82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue props 属性值接受多个类型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7adb6590313accc20678510acbe3dd98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Maven】IDEA中Maven生命周期</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>