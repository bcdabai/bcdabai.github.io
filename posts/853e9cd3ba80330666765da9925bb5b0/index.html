<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Javascript（六）：Web Apis、DOM、事件高级 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Javascript（六）：Web Apis、DOM、事件高级" />
<meta property="og:description" content="文章目录 Web Apis1.Web Apis和Js基础关联性1.1 JS的组成1.2 JS基础阶段以及WebAPls阶段 2.Api和Web Api2.1 Api2.2Web Api2.3Api和Web Api小结 DOM1.DOM简介1.1什么是DOM1.2 DOM树 2.获取元素2.1如何获取页面元素2.2根据ID获取2.3根据标签名获取2.4通过HTML5新增的方法获取2.5获取特殊元素（body,html) 3.事件基础3.1 事件概述3.3执行事件的步骤 4.操作元素4.1改变元素内容4.2常用元素的属性操作4.3表单属性操作4.4样式属性操作4.5操作元素小结4.6排他思想4.7自定义属性元素4.8 H5自定义属性 5.节点操作5.1为什么学节点操作5.2节点概述5.3节点层级5.4创建节点5.4添加节点5.5删除节点5.6复制节点（克隆节点）5.7三种动态创建元素区别 6.DOM重点核心 事件高级1.注册事件（绑定事件）1.1注册事件概述1.2 addEventListener 事件监听方式1.3 attachEvent 事件监听方式 （了解）1.4注册事件兼容性解决方案 （了解） 2.删除事件（解绑事件）2.1删除事件的方式2.2删除事件兼容性解决方案 3.DOM事件流4.事件对象4.1什么是事件对象4.2事件对象的使用语法4.3事件对象的兼容性方案4.4事件对象的常见属性和方法 5.阻止事件冒泡5.1阻止事件冒泡的两种方式5.2阻止事件冒泡的兼容性解决方案 6.事件委托（代理、委派）7.常用的鼠标事件7.1常用的鼠标事件7.2鼠标事件对象 8.常用的键盘事件8.1常用键盘事件8.2键盘事件对象 Web Apis 1.Web Apis和Js基础关联性 1.1 JS的组成 1.2 JS基础阶段以及WebAPls阶段 JS基础阶段
我们学习的是ECMAScript标准规定的基本语法
要求同学们掌握JS基础语法
只学习基本语法，做不了常用的网页交互效果
目的是为了 JS 后面的课程打基础、做铺垫
Web APls阶段
Web APIs是W3C组织的标准
Web APIs 我们主要学习 DOM 和 BOM
Web APIs 是我们 JS 所独有的部分
我们主要学习页面交互功能
需要使用Js基础的课程内容做基础
JS基础学习ECMAScript基础语法为后面作铺垫，webAPIs是Js的应用，大量使用Js基础语法做交互效果
2.Api和Web Api 2.1 Api API(Application Programming Interface,应用程序编程接口是一些预先定义的函数，目的是提供应用程序" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/853e9cd3ba80330666765da9925bb5b0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-29T13:19:29+08:00" />
<meta property="article:modified_time" content="2024-01-29T13:19:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Javascript（六）：Web Apis、DOM、事件高级</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Web_Apis_3" rel="nofollow">Web Apis</a></li><li><ul><li><a href="#1Web_ApisJs_5" rel="nofollow">1.Web Apis和Js基础关联性</a></li><li><ul><li><a href="#11_JS_7" rel="nofollow">1.1 JS的组成</a></li><li><a href="#12_JSWebAPls_12" rel="nofollow">1.2 JS基础阶段以及WebAPls阶段</a></li></ul> 
   </li><li><a href="#2ApiWeb_Api_44" rel="nofollow">2.Api和Web Api</a></li><li><ul><li><a href="#21_Api_46" rel="nofollow">2.1 Api</a></li><li><a href="#22Web_Api_55" rel="nofollow">2.2Web Api</a></li><li><a href="#23ApiWeb_Api_69" rel="nofollow">2.3Api和Web Api小结</a></li></ul> 
  </li></ul> 
  </li><li><a href="#DOM_78" rel="nofollow">DOM</a></li><li><ul><li><a href="#1DOM_80" rel="nofollow">1.DOM简介</a></li><li><ul><li><a href="#11DOM_82" rel="nofollow">1.1什么是DOM</a></li><li><a href="#12_DOM_90" rel="nofollow">1.2 DOM树</a></li></ul> 
   </li><li><a href="#2_103" rel="nofollow">2.获取元素</a></li><li><ul><li><a href="#21_105" rel="nofollow">2.1如何获取页面元素</a></li><li><a href="#22ID_116" rel="nofollow">2.2根据ID获取</a></li><li><a href="#23_137" rel="nofollow">2.3根据标签名获取</a></li><li><a href="#24HTML5_179" rel="nofollow">2.4通过HTML5新增的方法获取</a></li><li><a href="#25bodyhtml_213" rel="nofollow">2.5获取特殊元素（body,html)</a></li></ul> 
   </li><li><a href="#3_229" rel="nofollow">3.事件基础</a></li><li><ul><li><a href="#31__231" rel="nofollow">3.1 事件概述</a></li><li><a href="#33_257" rel="nofollow">3.3执行事件的步骤</a></li></ul> 
   </li><li><a href="#4_265" rel="nofollow">4.操作元素</a></li><li><ul><li><a href="#41_267" rel="nofollow">4.1改变元素内容</a></li><li><a href="#42_306" rel="nofollow">4.2常用元素的属性操作</a></li><li><a href="#43_332" rel="nofollow">4.3表单属性操作</a></li><li><a href="#44_363" rel="nofollow">4.4样式属性操作</a></li><li><a href="#45_385" rel="nofollow">4.5操作元素小结</a></li><li><a href="#46_391" rel="nofollow">4.6排他思想</a></li><li><a href="#47_403" rel="nofollow">4.7自定义属性元素</a></li><li><a href="#48_H5_462" rel="nofollow">4.8 H5自定义属性</a></li></ul> 
   </li><li><a href="#5_510" rel="nofollow">5.节点操作</a></li><li><ul><li><a href="#51_512" rel="nofollow">5.1为什么学节点操作</a></li><li><a href="#52_530" rel="nofollow">5.2节点概述</a></li><li><a href="#53_546" rel="nofollow">5.3节点层级</a></li><li><a href="#54_694" rel="nofollow">5.4创建节点</a></li><li><a href="#54_705" rel="nofollow">5.4添加节点</a></li><li><a href="#55_723" rel="nofollow">5.5删除节点</a></li><li><a href="#56_733" rel="nofollow">5.6复制节点（克隆节点）</a></li><li><a href="#57_748" rel="nofollow">5.7三种动态创建元素区别</a></li></ul> 
   </li><li><a href="#6DOM_763" rel="nofollow">6.DOM重点核心</a></li></ul> 
  </li><li><a href="#_776" rel="nofollow">事件高级</a></li><li><a href="#1_778" rel="nofollow">1.注册事件（绑定事件）</a></li><li><ul><li><ul><li><a href="#11_780" rel="nofollow">1.1注册事件概述</a></li><li><a href="#12_addEventListener__808" rel="nofollow">1.2 addEventListener 事件监听方式</a></li><li><a href="#13_attachEvent_%09_836" rel="nofollow">1.3 attachEvent 事件监听方式 （了解）</a></li><li><a href="#14%09_853" rel="nofollow">1.4注册事件兼容性解决方案 （了解）</a></li></ul> 
   </li><li><a href="#2_873" rel="nofollow">2.删除事件（解绑事件）</a></li><li><ul><li><a href="#21_875" rel="nofollow">2.1删除事件的方式</a></li><li><a href="#22_918" rel="nofollow">2.2删除事件兼容性解决方案</a></li></ul> 
   </li><li><a href="#3DOM_934" rel="nofollow">3.DOM事件流</a></li><li><a href="#4_975" rel="nofollow">4.事件对象</a></li><li><ul><li><a href="#41_977" rel="nofollow">4.1什么是事件对象</a></li><li><a href="#42_1000" rel="nofollow">4.2事件对象的使用语法</a></li><li><a href="#43_1016" rel="nofollow">4.3事件对象的兼容性方案</a></li><li><a href="#44_1029" rel="nofollow">4.4事件对象的常见属性和方法</a></li></ul> 
   </li><li><a href="#5_1075" rel="nofollow">5.阻止事件冒泡</a></li><li><ul><li><a href="#51_1077" rel="nofollow">5.1阻止事件冒泡的两种方式</a></li><li><a href="#52_1118" rel="nofollow">5.2阻止事件冒泡的兼容性解决方案</a></li></ul> 
   </li><li><a href="#6_1130" rel="nofollow">6.事件委托（代理、委派）</a></li><li><a href="#7_1148" rel="nofollow">7.常用的鼠标事件</a></li><li><ul><li><a href="#71_1150" rel="nofollow">7.1常用的鼠标事件</a></li><li><a href="#72_1176" rel="nofollow">7.2鼠标事件对象</a></li></ul> 
   </li><li><a href="#8_1186" rel="nofollow">8.常用的键盘事件</a></li><li><ul><li><a href="#81_1188" rel="nofollow">8.1常用键盘事件</a></li><li><a href="#82_1202" rel="nofollow">8.2键盘事件对象</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Web_Apis_3"></a>Web Apis</h2> 
<h3><a id="1Web_ApisJs_5"></a>1.Web Apis和Js基础关联性</h3> 
<h4><a id="11_JS_7"></a>1.1 JS的组成</h4> 
<p><img src="https://images2.imgbox.com/22/2b/CBNuoHcC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="12_JSWebAPls_12"></a>1.2 JS基础阶段以及WebAPls阶段</h4> 
<p><strong>JS基础阶段</strong></p> 
<p>我们学习的是ECMAScript标准规定的基本语法</p> 
<p>要求同学们掌握JS基础语法</p> 
<p>只学习基本语法，做不了常用的网页交互效果</p> 
<p>目的是为了 JS 后面的课程打基础、做铺垫</p> 
<p><strong>Web APls阶段</strong></p> 
<p>Web APIs是W3C组织的标准</p> 
<p>Web APIs 我们主要学习 DOM 和 BOM</p> 
<p>Web APIs 是我们 JS 所独有的部分</p> 
<p>我们主要学习页面交互功能</p> 
<p>需要使用Js基础的课程内容做基础</p> 
<p>JS基础学习ECMAScript基础语法为后面作铺垫，webAPIs是Js的应用，大量使用Js基础语法做交互效果</p> 
<h3><a id="2ApiWeb_Api_44"></a>2.Api和Web Api</h3> 
<h4><a id="21_Api_46"></a>2.1 Api</h4> 
<p><strong>API(Application Programming Interface,应用程序编程接口</strong>是一些预先定义的函数，目的是提供应用程序<br> 与开发人员基于某软件或硬件得以访问一组例程的能力，而又无需访问源码，或理解内部工作机制的细节。</p> 
<p>简单理解：<strong>API是给程序员提供的一种工具，以便能更轻松的实现想要完成的功能。</strong></p> 
<h4><a id="22Web_Api_55"></a>2.2Web Api</h4> 
<p><strong>Web AP</strong>I是浏览器提供的一套操作<strong>浏览器功能</strong>和<strong>页面元素</strong>的<strong>API</strong>(BOM和DOM)。</p> 
<p>现阶段我们主要针对于浏览器讲解常用的API,主要针对浏览器做交互效果。</p> 
<p>比如我们想要浏览器弹出一个警示框，直接使用alert(弹出’)</p> 
<p>MDN详细API:<a href="https://developer.mozilla.org/zh-CN/docs/Web/API" rel="nofollow">https://developer.mozilla.org/zh-CN/docs/Web/API</a></p> 
<p>因为WebAPI很多，所以我们将这个阶段称为<strong>Web APls</strong></p> 
<h4><a id="23ApiWeb_Api_69"></a>2.3Api和Web Api小结</h4> 
<p><strong>1.API是为我们程序员提供的一个接口，帮助我们实现某种功能，我们会使用就可以了，不必纠结内部如何实现</strong><br> 2.WebAPI主要是针对于浏览器提供的接口，主要针对于浏览器做交互效果。<br> 3.WebAPI一般都有输入和输出（函数的传参和返回值）,WebAPI很多都是方法（函数）<br> 4.学习WebAPI可以结合前面学习内置对象方法的思路学习</p> 
<h2><a id="DOM_78"></a>DOM</h2> 
<h3><a id="1DOM_80"></a>1.DOM简介</h3> 
<h4><a id="11DOM_82"></a>1.1什么是DOM</h4> 
<p>文档对象模型（DocumentObjectModel,简称<strong>DOM</strong>),是W3C组织推荐的处理可扩展标记语言（HTML<br> 或者XML)的<strong>标准编程接口</strong>。<br> W3C已经定义了一系列的DOM接口，通过这些DOM接口可以改变网页的内容、结构和样式。</p> 
<h4><a id="12_DOM_90"></a>1.2 DOM树</h4> 
<p><img src="https://images2.imgbox.com/79/64/K0v820CY_o.png" alt="在这里插入图片描述"></p> 
<p>·文档：一个页面就是一个文档，DOM中使用document表示<br> ·元素：页面中的所有标签都是元素，DOM中使用element表示<br> ·节点：网页中的所有内容都是节点（标签、属性、文本、注释等）,DOM中使用node表示</p> 
<p><strong>DOM 把以上内容都看做是对象</strong></p> 
<h3><a id="2_103"></a>2.获取元素</h3> 
<h4><a id="21_105"></a>2.1如何获取页面元素</h4> 
<p>DOM在我们实际开发中主要用来操作元素。<br> 我们如何来获取页面中的元素呢？<br> 获取页面中的元素可以使用以下几种方式：</p> 
<ul><li>·根据ID获取</li><li>·根据标签名获取</li><li>·通过HTML5新增的方法获取</li><li>·特殊元素获取</li></ul> 
<h4><a id="22ID_116"></a>2.2根据ID获取</h4> 
<p>使用getElementByld()方法可以获取带有ID的元素对象。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"time"</span><span class="token operator">&gt;</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">//1.因为我们文档页面从上往下加载，所以先得有标签所以我们script写到标签的下面</span>
    <span class="token comment">//2.get获得element元素by通过驼峰命名法</span>
    <span class="token comment">//3.参数id是大小写敏感的字符串</span>
    <span class="token comment">//4.返回的是一个元素对象</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//5.console.dir打印我们返回的元素对象更好的查看里面的属性和方法</span>
    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="23_137"></a>2.3根据标签名获取</h4> 
<p>使用getElementsByTagName()方法可以返回带有指定标签名的<strong>对象的集合</strong></p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'标签名'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>注意：</strong><br> <strong>1.因为得到的是一个对象的集合，所以我们想要操作里面的元素就需要遍历。</strong><br> <strong>2.得到元素对象是动态的</strong></p> 
<p>还可以获取某个元素（父元素）内部所有指定标签名的子元素.</p> 
<pre><code class="prism language-js">element<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span>标签名'<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>注意：父元素必须是<strong>单个对象（必须指明是哪一个元素对象）</strong>.获取的时候不包括父元素自己。</p> 
<pre><code class="prism language-js"><span class="token comment">//1.返回的是获取过来元素对象的集合以伪数组的形式存储的</span>
<span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTpgName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.我们想要依次打印里面的元素对象我们可以采取遍历的方式</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//3.如果页面中只有一个1i返回的还是伪数组的形式</span>
<span class="token comment">//4.如果页面中没有这个元素返回的是空的伪数组的形式</span>
<span class="token comment">//5.element.getElementsByTagName('标签名');</span>
<span class="token comment">// var ol=document.getElementsByTagName('ol');//[o1]</span>
<span class="token comment">// console.log(ol[0].getElementsByTagName('li'));</span>
<span class="token keyword">var</span> ol <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="24HTML5_179"></a>2.4通过HTML5新增的方法获取</h4> 
<pre><code class="prism language-js"><span class="token number">1.</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>类名）<span class="token punctuation">;</span><span class="token comment">//根据类名返回元素对象集合</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">2.</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'选择器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//根据指定选择器返回第一个元素对象</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">3.</span>document<span class="token punctuation">.</span><span class="token function">querySelectorA11</span><span class="token punctuation">(</span><span class="token string">'选择器'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//根据指定选择器返回</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//1.getElementsByClassName根据类名获得某些元素集合</span>
<span class="token keyword">var</span> boxs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>boxs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.querySelector返回指定选择器的第一个元素对象切记里面的选择器需要加符号.box #nav</span>
<span class="token keyword">var</span> firstBox<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstBox<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nav <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#nav'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nav<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> li<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3.querySelectorA11()返回指定选择器的所有元素对象集合</span>
<span class="token keyword">var</span> allBox<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allBox<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="25bodyhtml_213"></a>2.5获取特殊元素（body,html)</h4> 
<p>获取body元素</p> 
<pre><code class="prism language-js"><span class="token number">1.</span>doucumnet<span class="token punctuation">.</span>body<span class="token comment">//返回body元素对象</span>
</code></pre> 
<p>获取html元素</p> 
<pre><code class="prism language-js"><span class="token number">1.</span>document<span class="token punctuation">.</span>documentElement<span class="token comment">//返回html元素对象</span>
</code></pre> 
<h3><a id="3_229"></a>3.事件基础</h3> 
<h4><a id="31__231"></a>3.1 事件概述</h4> 
<p>JavaScript使我们有能力创建动态页面，而事件是可以被JavaScript侦测到的行为。</p> 
<p>简单理解：触发—响应机制。</p> 
<p>网页中的每个元素都可以产生某些可以触发JavaScript的事件，例如，我们可以在用户点击某按钮时产生一个<br> 事件，然后去执行某些操作。</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"btn"</span><span class="token operator">&gt;</span>唐伯虎<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">//点击一个按钮，弹出对话框</span>
<span class="token comment">//1.事件是有三部分组成 事件源 事件类型 事件处理程序 我们也称为事件三要素</span>
<span class="token comment">//(1)事件源 事件被触发的对象 谁 按钮</span>
<span class="token keyword">var</span> btn<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//(2)事件类型如何触发什么事件比如鼠标点击（onclick) 还是鼠标经过 还是键盘按下</span>
<span class="token comment">//(3)事件处理程序 通过一个函数赋值的方式 完成</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点秋香'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="33_257"></a>3.3执行事件的步骤</h4> 
<p>1.获取事件源<br> 2.注册事件（绑定事件）<br> 3.添加事件处理程序（采取函数赋值形式）</p> 
<h3><a id="4_265"></a>4.操作元素</h3> 
<h4><a id="41_267"></a>4.1改变元素内容</h4> 
<p>JavaScript的DOM操作可以改变网页内容、结构和样式，我们可以利用DOM操作元素来改变元素里面的内<br> 容、属性等。注意以下都是属性<br> 4.1改变元素内容</p> 
<pre><code class="prism language-js">element<span class="token punctuation">.</span>innerText
</code></pre> 
<p>从起始位置到终止位置的内容，但它去除html标签，同时空格和换行也会去掉</p> 
<pre><code class="prism language-js">element<span class="token punctuation">.</span>innerHTML
</code></pre> 
<p>起始位置到终止位置的全部内容，包括html标签，同时保留空格和换行</p> 
<p>innerText 和 innerHTML的区别</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// innerText 和 innerHTML的区别</span>
<span class="token comment">//1.innerText 不识别html标签 非标准 去除空格和换行</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// div.innerText ='&lt;strong&gt;今天是：&lt;/strong&gt; 2019';</span>
<span class="token comment">//2.innerHTML识别html标签W3C标准保留空格和换行的</span>
div<span class="token punctuation">.</span>innerHTML<span class="token operator">=</span><span class="token string">'&lt;strong&gt;今天是：&lt;/strong&gt;2019'</span><span class="token punctuation">;</span>
<span class="token comment">//这两个属性是可读写的可以获取元素里面的内容</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>innerText<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="42_306"></a>4.2常用元素的属性操作</h4> 
<pre><code>1.innerText、innerHTML改变元素内容
2.src、href
3.id、alt、title
</code></pre> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">//修改元素属性 src</span>
    <span class="token comment">//1.获取元素</span>
    <span class="token keyword">var</span> <span class="token number">1</span>dh<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ldh'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> zxy <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'zxy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2.注册事件处理程序</span>
    zxy<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    img<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">'images/zxy.jpg'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>title <span class="token operator">=</span><span class="token string">'张学友思密达'</span><span class="token punctuation">;</span>
    <span class="token number">1</span>dh<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    img<span class="token punctuation">.</span>src<span class="token operator">=</span><span class="token string">'images/1dh.jpg'</span><span class="token punctuation">;</span><span class="token constant">I</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="43_332"></a>4.3表单属性操作</h4> 
<p>利用DOM可以操作如下表单元素的属性：</p> 
<pre><code class="prism language-js">type、value、checked、selected、disabled
</code></pre> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span>value<span class="token operator">=</span><span class="token string">"输入内容"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">//1.获取元素</span>
<span class="token keyword">var</span> btn<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.注册事件处理程序</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token comment">// input.innerHTML='点击了';这个是普通盒子比如div标签里面的内容</span>
<span class="token comment">//表单里面的值文字内容是通过value来修改的I</span>
input<span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token string">'被点击了'</span><span class="token punctuation">;</span>
<span class="token comment">// 如果想要某个表单被禁用 不能再点击 disabled 我们想要这个按钮 button禁用</span>
<span class="token comment">// btn.disabled=true;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>disabled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// this 指向的是事件函数的调用者 btn</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="44_363"></a>4.4样式属性操作</h4> 
<p>我们可以通过JS修改元素的大小、颜色、位置等样式。</p> 
<pre><code class="prism language-js"><span class="token number">1.</span>element<span class="token punctuation">.</span>style行内样式操作
<span class="token number">2.</span>element<span class="token punctuation">.</span>className类名样式操作
</code></pre> 
<p><strong>注意：</strong><br> <strong>1.Js里面的样式采取驼峰命名法比如fontSize、backgroundColor</strong><br> <strong>2.Js修改style样式操作，产生的是行内样式，css权重比较高</strong></p> 
<p><strong>注意：</strong><br> <strong>1.如果样式修改较多，可以采取操作类名方式更改元素样式。</strong><br> <strong>2.class因为是个保留字，因此使用className来操作元素类名属性</strong><br> <strong>3.className会直接更改元素的类名，会覆盖原先的类名。</strong></p> 
<h4><a id="45_385"></a>4.5操作元素小结</h4> 
<p>操作元素是DOM的核心内容</p> 
<p><img src="https://images2.imgbox.com/04/20/qRMgEZhC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="46_391"></a>4.6排他思想</h4> 
<p>如果有同一组元素，我们想要某一个元素实现某种样式，需要用到循环的排他思想算法：</p> 
<p>1.所有元素全部清除样式（干掉其他人）</p> 
<p>2.给当前元素设置样式（留下我自己）</p> 
<p>3.注意顺序不能颠倒，首先干掉其他人，再设置自己</p> 
<h4><a id="47_403"></a>4.7自定义属性元素</h4> 
<p>1.获取属性值<br> <strong>element.属性</strong> 获取属性值。</p> 
<p>element.getAttribute(‘属性’);</p> 
<p>区别：<br> <strong>element.属性</strong> 获取内置属性值（元素本身自带的属性）</p> 
<p>element.getAttribute(属性）;主要获得自定义的属性（标准）我们程序员自定义的属性</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"demo"</span> index<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> div<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1.获取元素的属性值</span>
<span class="token comment">//(1)element.属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//(2)element.getAttribute('属性')get得到获取attribute属性的意思我们程序员自己添加的属性我</span>
们称为自定义属性 index
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token constant">I</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>2.设置属性值<br> <strong>element.属性</strong>=‘值’ 设置内置属性值。</p> 
<p>element.setAttribute(‘属性’,‘值’);</p> 
<p>区别：<br> <strong>element.属性</strong> 设置内置属性值</p> 
<p>element.setAttribute(属性’); 主要设置自定义的属性（标准）</p> 
<pre><code class="prism language-js"><span class="token comment">//2.设置元素属性值</span>
<span class="token comment">//(1)element.属性='值'</span>
div<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>className <span class="token operator">=</span><span class="token string">'navs'</span><span class="token punctuation">;</span>
<span class="token comment">//(2)element.setAttribute('属性','值');主要针对于自定义属性</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'footer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//class特殊这里面写的就是class不是className</span>
</code></pre> 
<p>3.移除属性</p> 
<p>·element.removeAttribute(‘属性’);</p> 
<pre><code class="prism language-js"><span class="token comment">//3移除属性 removeAttribute(属性）</span>
div<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="48_H5_462"></a>4.8 H5自定义属性</h4> 
<p><strong>自定义属性目的：是为了保存并使用数据。有些数据可以保存到页面中而不用保存到数据库中。</strong></p> 
<p>自定义属性获取是通过getAttribute(’属性’)获取。</p> 
<p>但是有些自定义属性很容易引起歧义，不容易判断是元素的内置属性还是自定义属性。</p> 
<p>H5给我们新增了自定义属性：</p> 
<p><strong>1.设置H5自定义属性</strong></p> 
<p>H5规定自定义属性data-开头做为属性名并且赋值。</p> 
<p><strong>比如&lt;div data-index=“1”&gt;&lt;/div&gt;</strong><br> <strong>或者使用JS设置</strong><br> <strong>element.setAttribute(‘data-index’,2)</strong></p> 
<p><strong>2.获取H5自定义属性</strong></p> 
<p>1.兼容性获取 element.getAttribute(‘data-index’);</p> 
<p>2.H5新增 element.dataset.index或者element.dataset[‘index’]ie11才开始支持</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>div getTime<span class="token operator">=</span><span class="token string">"20"</span> data<span class="token operator">-</span>index<span class="token operator">=</span><span class="token string">"2"</span> data<span class="token operator">-</span>list<span class="token operator">-</span>name<span class="token operator">=</span><span class="token string">"andy"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(div.getTime);</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'getTime'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-time'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-list-name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// h5新增的获取自定义属性的方法 它只能后去data-开头的</span>
<span class="token comment">// dataset是一个集合里面存放了所有以data开头的自定义属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//如果自定义属性里面有多个-链接的单词，我们获取的时候采取 驼峰命名法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>listName<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">[</span><span class="token string">'listName'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="5_510"></a>5.节点操作</h3> 
<h4><a id="51_512"></a>5.1为什么学节点操作</h4> 
<p>获取元素通常使用两种方式：</p> 
<p><strong>1.利用DOM提供的方法获取元素</strong><br> ①document.getElementByld()<br> ②document.getElementsByTagName()<br> ③document.querySelector等<br> ④逻辑性不强、繁琐</p> 
<p><strong>2.利用节点层级关系获取元素</strong><br> ①利用父子兄节点关系获取元素<br> ②逻辑性强，但是兼容性稍差</p> 
<p>这两种方式都可以获取元素节点，我们后面都会使用，但是节点操作更简单</p> 
<h4><a id="52_530"></a>5.2节点概述</h4> 
<p>网页中的所有内容都是节点（标签、属性、文本、注释等）,在DOM中，节点使用node来表示。</p> 
<p>HTML DOM树中的所有节点均可通过JavaScript进行访问，所有HTML元素（节点）均可被修改，也可以<br> 创建或删除</p> 
<p>一般地，节点至少拥有nodeType(节点类型）、nodeName(节点名称）和nodeValue(节点值）这三个<br> 基本属性。<br> ·元素节点 nodeType为1<br> ·属性节点nodeType为2<br> ·文本节点nodeType为3 (文本节点包含文字、空格、换行等）<br> <strong>我们在实际开发中，节点操作主要操作的是元素节点</strong></p> 
<h4><a id="53_546"></a>5.3节点层级</h4> 
<p>利用DOM树可以把节点划分为不同的层级关系，常见的是<strong>父子兄层级</strong>关系。</p> 
<p><strong>1.父级节点</strong></p> 
<pre><code class="prism language-js">node<span class="token punctuation">.</span>parentNode
</code></pre> 
<p>·parentNode属性可返回某节点的父节点，注意是<strong>最近的一个父节点</strong><br> ·如果指定的节点没有父节点则返回null</p> 
<p><strong>2.子节点</strong></p> 
<pre><code class="prism language-js"><span class="token number">1.</span>parentNode<span class="token punctuation">.</span><span class="token function">childNodes</span><span class="token punctuation">(</span>标准）
</code></pre> 
<p>parentNode.childNodes返回包含指定节点的子节点的集合，该集合为即时更新的集合。</p> 
<p><strong>注意：返回值里面包含了所有的子节点，包括元素节点，文本节点等。</strong></p> 
<p><strong>如果只想要获得里面的元素节点，则需要专门处理。所以我们一般不提倡使用childNodes</strong></p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> ul<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">queryselector</span><span class="token punctuation">(</span>"ul'<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> ul<span class="token punctuation">.</span> childNodes<span class="token punctuation">.</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//u1.childNodes[i]是元素节点</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">2.</span>parentNode<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>非标准）
</code></pre> 
<p><strong>parentNode.children</strong>是一个只读属性，返回所有的子元素节点。它只返回子元素节点，其余节点不返<br> 回（<strong>这个是我们重点掌握的</strong>）。<br> 虽然children是一个非标准，但是得到了各个浏览器的支持，因此我们可以放心使用</p> 
<pre><code>3.parentNode.firstchild
</code></pre> 
<p>firstChild返回第一个子节点（<em>不管是文本节点还是元素节点</em>），找不到则返回null。同样，也是包含所有的节点。</p> 
<pre><code>4.parentNode.lastChild
</code></pre> 
<p>lastChild返回最后一个子节点（<em>不管是文本节点还是元素节点</em>），找不到则返回null。同样，也是包含所有的节点。</p> 
<pre><code>5.parentNode.firstElementChild
</code></pre> 
<p>firstElementchild返回第一个子元素节点，找不到则返回null。</p> 
<pre><code>6.parentNode. lastElementChild
</code></pre> 
<p>lastElementchild返回最后一个子元素节点，找不到则返回null。<br> <strong>注意：这两个方法有兼容性问题，IE9以上才支持。</strong></p> 
<p>实际开发中，firstchild和lastchild包含其他节点，操作不方便，而firstElementchild和<br> lastElementchild又有兼容性问题，那么我们如何获取第一个子元素节点或最后一个子元素节点呢？<br> <strong>解决方案：</strong><br> <strong>1.如果想要第一个子元素节点，可以使用parentNode.chilren[0]</strong></p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> ol <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ol'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1.firstchild第一个子节点不管是文本节点还是元素节点</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>firstchild<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.firstElementChild返回第一个子元素节点</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3.实际开发的写法既没有兼容性问题又返回第一个子元素</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ol<span class="token punctuation">.</span>children<span class="token punctuation">[</span>ol<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>3.兄弟节点</strong></p> 
<pre><code>1.node.nextsibling
</code></pre> 
<p>nextsibling返回当前元素的下一个兄弟节点，找不到则返回nu11。同样，也是包含所有的节点。</p> 
<pre><code>2.node.previousSibling
</code></pre> 
<p>previoussibling返回当前元素上一个兄弟节点，找不到则返回nu11。同样，也是包含所有的节点。</p> 
<pre><code>3.node.nextElementSibling
</code></pre> 
<p>nextElementsibling返回当前元素下一个兄弟元素节点，找不到则返回null。</p> 
<pre><code>4.node.previousElementSibling
</code></pre> 
<p>previousElementsibling返回当前元素上一个兄弟节点，找不到则返回null。<br> <strong>注意：这两个方法有兼容性问题，IE9以上才支持。</strong></p> 
<p><strong>问：如何解决兼容性问题？</strong><br> 答：自己封装一个兼容性的函数</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">getNextElementSibling</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> el<span class="token operator">=</span>element<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>el<span class="token operator">=</span>el<span class="token punctuation">.</span>nextsibling<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>nodeType <span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> el<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token keyword">null</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="54_694"></a>5.4创建节点</h4> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function">createElement</span> <span class="token punctuation">(</span><span class="token string">'tagName'</span><span class="token punctuation">)</span>
</code></pre> 
<p>document.createElement()方法创建由tagName指定的HTML元素。因为这些元素原先不存在，<br> 是根据我们的需求动态生成的，所以我们也称为动态创建元素节点。</p> 
<h4><a id="54_705"></a>5.4添加节点</h4> 
<pre><code>1.node.appendchild(child)
</code></pre> 
<p>node.appendchild()方法将一个节点添加到指定父节点的子节点列表<strong>末尾</strong>。类似于css里面的<br> after伪元素。</p> 
<pre><code>2.node.insertBefore(child,指定元素）
</code></pre> 
<p>node.insertBefore()方法将一个节点添加到父节点的指定子节点<strong>前面</strong>。类似于css里面的before<br> 伪元素。</p> 
<h4><a id="55_723"></a>5.5删除节点</h4> 
<pre><code>node.removechild(child)
</code></pre> 
<p>node.removechild()方法从DOM中删除一个子节点，返回删除的节点。</p> 
<h4><a id="56_733"></a>5.6复制节点（克隆节点）</h4> 
<pre><code>node.cloneNode()
</code></pre> 
<p>node.cloneNode()方法返回调用该方法的节点的一个副本。也称为克隆节点/拷贝节点</p> 
<p><strong>注意：</strong><br> 1.如果括号参数为<strong>空</strong>或者为<strong>false,<strong>则是</strong>浅拷贝</strong>，即只克隆复制节点本身，不克隆里面的子节点。</p> 
<p>2.如果括号参数为<strong>true</strong>,则是<strong>深度拷贝</strong>，会复制节点本身以及里面所有的子节点。</p> 
<h4><a id="57_748"></a>5.7三种动态创建元素区别</h4> 
<p>·①document.write() （了解）<br> ②element.innerHTML<br> ③document. createElement()</p> 
<p>区别<br> 1.document.write是直接将内容写入页面的内容流，<strong>但是文档流执行完毕，则它会导致页面全部重绘</strong><br> 2.innerHTML是将内容写入某个DOM节点，不会导致页面全部重绘<br> 3.innerHTML创建多个元素效率更高（不要拼接字符串，采取数组形式拼接）,结构稍微复杂<br> 4.createElement()创建多个元素效率稍低一点点，但是结构更清晰<br> <strong>总结：不同浏览器下，innerHTML效率要比creatElement高</strong></p> 
<h3><a id="6DOM_763"></a>6.DOM重点核心</h3> 
<p>文档对象模型（DocumentObjectModel,简称<strong>DOM</strong>),是W3C组织推荐的处理可扩展标记语言<br> (HTML或者XML)的<strong>标准编程接口</strong>。</p> 
<p>W3C已经定义了一系列的DOM接口，通过这些DOM接口可以改变网页的内容、结构和样式。</p> 
<p>1.对于JavaScript,为了能够使JavaScript操作HTML,JavaScript就有了一套自己的dom编程接口。</p> 
<p>2.对于HTML,dom使得html形成一棵dom树.包含文档、元素、节点</p> 
<h2><a id="_776"></a>事件高级</h2> 
<h2><a id="1_778"></a>1.注册事件（绑定事件）</h2> 
<h4><a id="11_780"></a>1.1注册事件概述</h4> 
<p>给元素添加事件，称为<strong>注册事件</strong>或者<strong>绑定事件。</strong><br> 注册事件有两种方式：<strong>传统方式和方法监听注册方式</strong></p> 
<p><strong>传统注册方式</strong><br> 利用on开头的事件onclick</p> 
<pre><code>&lt;button onclick= "alert('hi~)" &gt;&lt;/button&gt;
</code></pre> 
<pre><code>btn.onclick=function()
</code></pre> 
<p>​ 特点：注册事件的<strong>唯一性</strong>,同一个元素同一个事件只能设置一个处理函数，<strong>最后注册的处理函数将会覆盖前面注册的处理函数</strong></p> 
<p><strong>方法监听注册方式</strong><br> W3c标准推荐方式<br> addEventListener()它是一个方法<br> IE9之前的IE不支持此方法，可使用attachEvent()代替<br> 特点：同一个元素同一个事件可以注册多个监听器按注册顺序依次执行</p> 
<h4><a id="12_addEventListener__808"></a>1.2 addEventListener 事件监听方式</h4> 
<pre><code>eventTarget.addEventListener(type,listener[,useCapture])
</code></pre> 
<p>eventTarget.addEventListener()方法将指定的监听器注册到eventTarget(目标对象）上，当该<br> 象触发指定的事件时，就会执行事件处理函数。</p> 
<p>该方法接收三个参数：<br> ①<strong>type</strong>:事件类型字符串，比如click、mouseover,注意这里不要带on<br> ②<strong>listener:<strong>事件处理函数，事件发生时，会调用该监听函数<br> ③</strong>useCapture</strong>:可选参数，是一个布尔值，默认是false。学完DOM事件流后，我们再进一步学习</p> 
<pre><code class="prism language-js"><span class="token comment">//2.事件侦听注册事件 addEventListener</span>
<span class="token comment">//(1)里面的事件类型是字符串 必定加引号 而且不带on</span>
<span class="token comment">//(2)同一个元素同一个事件可以添加多个侦听器（事件处理程序）</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="13_attachEvent_%09_836"></a>1.3 attachEvent 事件监听方式 （了解）</h4> 
<pre><code class="prism language-js">eventTarget<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span>eventNameWithOn<span class="token punctuation">,</span>callback<span class="token punctuation">)</span>
</code></pre> 
<p>eventTarget.attachEvent()方法将指定的监听器注册到eventTarget(目标对象）上，当该对象触发指定的事件时，指定的回调函数就会被执行。</p> 
<p>该方法接收两个参数：</p> 
<p>①<strong>eventNameWithOn</strong>:事件类型字符串，比如onclick、onmouseover, 这里要带on<br> ②<strong>callback</strong>:事件处理函数，当目标触发事件时回调函数被调用</p> 
<p><strong>注意：IE8及早期版本支持</strong></p> 
<h4><a id="14%09_853"></a>1.4注册事件兼容性解决方案 （了解）</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">addeventListener</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>eventName<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//判断当前浏览器是否支持 addEventListener 方法</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第三个参数默认是false</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		element<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span><span class="token operator">+</span>eventName<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//相当于element.οnclick=fn;</span>
		element<span class="token punctuation">[</span><span class="token string">'on'</span><span class="token operator">+</span>eventName<span class="token punctuation">]</span><span class="token operator">=</span>fn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>兼容性处理的原则：首先照顾大多数浏览器，再处理特殊浏览器</strong></p> 
<h3><a id="2_873"></a>2.删除事件（解绑事件）</h3> 
<h4><a id="21_875"></a>2.1删除事件的方式</h4> 
<p><strong>1.传统注册方式</strong></p> 
<pre><code>eventTarget.onclick=null;
</code></pre> 
<p><strong>2.方法监听注册方式</strong></p> 
<pre><code>① eventTarget.removeEventListener(type,listener[,useCapture]);

② eventTarget.detachEvent(eventNameWithon,callback);
</code></pre> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token comment">//1.传统方式删除事件</span>
   	 	divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onclick<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//2.removeEventListener删除事件</span>
    <span class="token comment">//divs[1].addEventListener('click',fn)//里面的fn不需要调用加小括号</span>
    
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
   	 	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//3.</span>
    divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span>fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span>fn1）<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="22_918"></a>2.2删除事件兼容性解决方案</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>eventName<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//判断当前浏览器是否支持removeEventListener方法</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第三个参数默认是false</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token punctuation">.</span> detachEvent <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		element<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span><span class="token operator">+</span>eventName<span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		element<span class="token punctuation">[</span><span class="token string">'on'</span><span class="token operator">+</span>eventName<span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3DOM_934"></a>3.DOM事件流</h3> 
<p><strong>事件流</strong>描述的是从页面中接收事件的顺序。</p> 
<p><strong>事件</strong>发生时会在元素节点之间按照特定<strong>的</strong>顺序传播，这个<strong>传播过程</strong>即<strong>DOM事件流。</strong></p> 
<p>比如我们给一个div注册了点击事件：</p> 
<p>DOM事件流分为3个阶段：</p> 
<p>1.捕获阶段</p> 
<p>2.当前目标阶段</p> 
<p>3.冒泡阶段</p> 
<p><img src="https://images2.imgbox.com/3a/59/eiFrdxQL_o.png" alt="在这里插入图片描述"></p> 
<p>事件冒泡：IE最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到到DOM最顶层节点的过程</p> 
<p>事件捕获：网景最早提出，由DOM最顶层节点开始，然后逐级向下传播到到最具体的元素接收的过程。</p> 
<p><strong>注意</strong></p> 
<p>1.JS代码中只能执行捕获或者冒泡其中的一个阶段。</p> 
<p>2.onclick和attachEvent只能得到冒泡阶段。</p> 
<p>3.addEventListener(type,listener[,useCapture])第三个参数如果是true,表示在事件捕获阶段调用事件处理程序；如果是false(不写默认就是false),表示在事件冒泡阶段调用事件处理程序。</p> 
<p><strong>4.实际开发中我们很少使用事件捕获，我们更关注事件冒泡。</strong></p> 
<p><strong>5.有些事件是没有冒泡的，比如onblur、onfocus、onmouseenter、onmouseleave</strong></p> 
<p><strong>6.事件冒泡有时候会带来麻烦，有时候又会帮助很巧妙的做某些事件，我们后面讲解。</strong></p> 
<h3><a id="4_975"></a>4.事件对象</h3> 
<h4><a id="41_977"></a>4.1什么是事件对象</h4> 
<pre><code class="prism language-js">eventTarget<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
eventTarget<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//这个event就是事件对象，我们还喜欢的写成e或者evt</span>
</code></pre> 
<p>官方解释：event对象代表事件的状态，比如键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p> 
<p>简单理解：事件发生后，<strong>跟事件相关的一系列信息数据的集合</strong>都放到这个对象里面，这个对象就<strong>是事件对象</strong><br> <strong>event</strong>,它有很多属性和方法。</p> 
<p>比如：</p> 
<p>1.谁绑定了这个事件。</p> 
<p>2.鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置。</p> 
<p>3.键盘触发事件的话，会得到键盘的相关信息，如按了哪个键。</p> 
<h4><a id="42_1000"></a>4.2事件对象的使用语法</h4> 
<pre><code class="prism language-JS">eventTarget.οnclick=function(event){
	//这个event就是事件对象，我们还喜欢的写成e或者evt
eventTarget.addEventListener('click',function(event){
	//这个event就是事件对象，我们还喜欢的写成e或者evt
})
</code></pre> 
<p>这个event是个形参，系统帮我们设定为事件对象，不需要传递实参过去。</p> 
<p>当我们注册事件时，event对象就会被系统自动创建，并依次传递给事件监听器（事件处理函数）。</p> 
<h4><a id="43_1016"></a>4.3事件对象的兼容性方案</h4> 
<p>事件对象本身的获取存在兼容问题：</p> 
<p>1.标准浏览器中是浏览器给方法传递的参数，只需要定义形参e就可以获取到。</p> 
<p>2.在IE6~8中，浏览器不会给方法传递参数，如果需要的话，需要到window.event中获取查找。</p> 
<p>解决：<br> <strong>e = e II window . event ;</strong></p> 
<h4><a id="44_1029"></a>4.4事件对象的常见属性和方法</h4> 
<p><img src="https://images2.imgbox.com/41/d7/sE97x8TL_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-js"><span class="token comment">//常见事件对象的属性和方法</span>
<span class="token comment">//1.e.target I返回的是触发事件的对象（元素）this返回的是绑定事件的对象（元素）</span>
<span class="token comment">// 区别:e.target 点击了那个元素，就返回那个元素 this 那个元素绑定了这个点击事件，那么就返回谁</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//1.返回事件类型</span>
<span class="token keyword">var</span> div<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token comment">//2.阻止默认行为（事件）让链接不跳转或者让提交按钮不提交</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//dom标准写法</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//3.传统的注册方式</span>
a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//普通浏览器 e.preventDefault();方法</span>
    <span class="token comment">//e.preventDefault();</span>
    <span class="token comment">//低版本浏览器 ie678 returnValue 属性</span>
    <span class="token comment">//e.returnValue;</span>
    <span class="token comment">//我们可以利用return false 也能阻止默认行为 没有兼容性问题 特点： return 后面的代码不执行了，而且只限于传统的注册方式</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="5_1075"></a>5.阻止事件冒泡</h3> 
<h4><a id="51_1077"></a>5.1阻止事件冒泡的两种方式</h4> 
<p>事件冒泡：开始时由最具体的元素接收，然后逐级向上传播到到DOM最顶层节点。</p> 
<p>事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。</p> 
<p><strong>阻止事件冒泡</strong></p> 
<p>·标准写法：利用事件对象里面的stopPropagation()方法</p> 
<pre><code class="prism language-js">e<span class="token punctuation">.</span><span class="token function">stopPropagation</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>
</code></pre> 
<p>·非标准写法：IE6-8利用事件对象cancelBubble属性</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">//常见事件对象的属性和方法</span>
    <span class="token comment">//阻止冒泡 dom 推荐的标准 stopPropagation()</span>
    <span class="token keyword">var</span> son<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    son<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//stop停止Propagation传播</span>
        e<span class="token punctuation">.</span>cancelBubble<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//非标准cancel取消bubble泡泡</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> father<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    father<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'document'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="52_1118"></a>5.2阻止事件冒泡的兼容性解决方案</h4> 
<pre><code class="prism language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token operator">&amp;&amp;</span>e<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
	window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="6_1130"></a>6.事件委托（代理、委派）</h3> 
<p><strong>事件委托</strong></p> 
<p>事件委托也称为事件代理，在jQuery里面称为事件委派。</p> 
<p><strong>事件委托的原理</strong></p> 
<p><strong>不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点。</strong></p> 
<p>以上案例：给ul注册点击事件，然后利用事件对象的target来找到当前点击的li,因为点击li,事件会冒泡到山上，ul有注册事件，就会触发事件监听器。</p> 
<p><strong>事件委托的作用</strong></p> 
<p>我们只操作了一次DOM,提高了程序的性能。</p> 
<h3><a id="7_1148"></a>7.常用的鼠标事件</h3> 
<h4><a id="71_1150"></a>7.1常用的鼠标事件</h4> 
<p><img src="https://images2.imgbox.com/b4/9c/rV4TEAz0_o.png" alt="在这里插入图片描述"></p> 
<p>1.禁止鼠标右键菜单<br> contextmenu主要控制应该何时显示上下文菜单，主要用于程序员取消默认的上下文菜单</p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	e<span class="token punctuation">.</span><span class="token function">preventDefault</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>2.禁止鼠标选中（selectstart开始选中）</p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="72_1176"></a>7.2鼠标事件对象</h4> 
<p><strong>event</strong>对象代表事件的状态，跟事件相关的一系列信息的集合。现阶段我们主要是用鼠标事件对象<br> <strong>MouseEvent</strong>和键盘事件对象<strong>KeyboardEvent。</strong></p> 
<p><img src="https://images2.imgbox.com/33/e9/lhBcfcep_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8_1186"></a>8.常用的键盘事件</h3> 
<h4><a id="81_1188"></a>8.1常用键盘事件</h4> 
<p>事件除了使用鼠标触发，还可以使用键盘触发。</p> 
<p><img src="https://images2.imgbox.com/00/0e/k3tlAaCd_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意：</strong><br> <strong>1.如果使用addEventListener不需要加on</strong><br> <strong>2.onkeypress和前面2个的区别是，它不识别功能键，比如左右箭头，shift等。</strong><br> <strong>3.三个事件的执行顺序是：keydown–keypress–keyup</strong></p> 
<h4><a id="82_1202"></a>8.2键盘事件对象</h4> 
<p><img src="https://images2.imgbox.com/f7/f9/wOhwfp05_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意：onkeydown和onkeyup不区分字母大小写，onkeypress区分字母大小写。</strong><br> <strong>在我们实际开发中，我们更多的使用keydown和keyup,它能识别所有的键（包括功能键）</strong><br> <strong>Keypress 不识别功能键，但是keyCode属性能区分大小写，返回不同的ASCII值</strong><br> 件代理，在jQuery里面称为事件委派。</p> 
<p><strong>事件委托的原理</strong></p> 
<p><strong>不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点。</strong></p> 
<p>以上案例：给ul注册点击事件，然后利用事件对象的target来找到当前点击的li,因为点击li,事件会冒泡到山上，ul有注册事件，就会触发事件监听器。</p> 
<p><strong>事件委托的作用</strong></p> 
<p>我们只操作了一次DOM,提高了程序的性能。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/619ac4a3cbe37cb19f136b377dd81181/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ES6笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/40adefcb128c73a9e8fce1dd1a22a963/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【嵌入式外设电路通讯原理】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>