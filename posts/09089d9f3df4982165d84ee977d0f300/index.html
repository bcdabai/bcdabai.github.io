<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go语言日期时间处理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="go语言日期时间处理" />
<meta property="og:description" content="在go语言的标准库里，可以通过time来处理日期和时间。我们需要引用标准库
import &#34;time&#34; 1. 获取当前时间 now := time.Now() fmt.Println(now) // 当前时间戳,1970年1月1日到现在的秒数 fmt.Println(&#34; 秒&#34;, now.Unix()) fmt.Println(&#34;豪秒&#34;, now.UnixMilli()) fmt.Println(&#34;微秒&#34;, now.UnixMicro()) fmt.Println(&#34;纳秒&#34;, now.UnixNano()) 输出
2023-04-13 13:10:17.8577739 &#43;0800 CST m=&#43;0.004403301 秒 1681362617 豪秒 1681362617857 微秒 1681362617857773 纳秒 1681362617857773900 time.Now 返回的结构是 time.Time
type Time struct { wall uint64 ext int64 loc *Location } 按go的约定，这个结构里的数据都是私有变量，对于我们使用来说没有价值。
2. 日期时间格式化 特别注意：go的格式化字符串不是常见的 yy-MM-dd HH:mm:ss，而是2006-01-02 15:04:05 Go的成立日期。
fmt.Println(now.Format(&#34;2006-01-02 15:04:05&#34;)) fmt.Println(now.Format(&#34;06-1-2 3:4:5&#34;)) 输出
2023-04-13 14:21:21 23-4-13 2:21:21 格式化字符说明：
字符说明1月份01月份，保证两位数字，1月会输出012日期02日期，保证两位数字，2日会输出023小时，12小时制03小时，保证两位数字，3时会输出0315小时，24小时制，保证两位数字，3时会输出034分钟04分钟，保证两位数字，4分会输出045秒05秒，保证两位数字，5秒会输出0506年，输出最后两位2006年，输出4位.000毫秒 可以快速记忆： 1月2日3时4分5秒6年" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/09089d9f3df4982165d84ee977d0f300/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-23T20:30:56+08:00" />
<meta property="article:modified_time" content="2023-04-23T20:30:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go语言日期时间处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在go语言的标准库里，可以通过time来处理日期和时间。我们需要引用标准库</p> 
<pre><code>import "time"
</code></pre> 
<h3><a id="1__6"></a>1. 获取当前时间</h3> 
<pre><code>now := time.Now()
fmt.Println(now)
// 当前时间戳,1970年1月1日到现在的秒数
fmt.Println("  秒", now.Unix())
fmt.Println("豪秒", now.UnixMilli())
fmt.Println("微秒", now.UnixMicro())
fmt.Println("纳秒", now.UnixNano())
</code></pre> 
<p>输出</p> 
<pre><code>2023-04-13 13:10:17.8577739 +0800 CST m=+0.004403301
  秒 1681362617
豪秒 1681362617857
微秒 1681362617857773
纳秒 1681362617857773900
</code></pre> 
<p>time.Now 返回的结构是 time.Time</p> 
<pre><code>type Time struct {
	wall uint64
	ext  int64
	loc *Location
}
</code></pre> 
<p>按go的约定，这个结构里的数据都是私有变量，对于我们使用来说没有价值。</p> 
<h3><a id="2__34"></a>2. 日期时间格式化</h3> 
<p>特别注意：go的格式化字符串不是常见的 yy-MM-dd HH:mm:ss，而是2006-01-02 15:04:05 Go的成立日期。</p> 
<pre><code>fmt.Println(now.Format("2006-01-02 15:04:05"))
fmt.Println(now.Format("06-1-2 3:4:5"))
</code></pre> 
<p>输出</p> 
<pre><code>2023-04-13 14:21:21
23-4-13 2:21:21
</code></pre> 
<p>格式化字符说明：</p> 
<table><thead><tr><th>字符</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>月份</td></tr><tr><td>01</td><td>月份，保证两位数字，1月会输出01</td></tr><tr><td>2</td><td>日期</td></tr><tr><td>02</td><td>日期，保证两位数字，2日会输出02</td></tr><tr><td>3</td><td>小时，12小时制</td></tr><tr><td>03</td><td>小时，保证两位数字，3时会输出03</td></tr><tr><td>15</td><td>小时，24小时制，保证两位数字，3时会输出03</td></tr><tr><td>4</td><td>分钟</td></tr><tr><td>04</td><td>分钟，保证两位数字，4分会输出04</td></tr><tr><td>5</td><td>秒</td></tr><tr><td>05</td><td>秒，保证两位数字，5秒会输出05</td></tr><tr><td>06</td><td>年，输出最后两位</td></tr><tr><td>2006</td><td>年，输出4位</td></tr><tr><td>.000</td><td>毫秒</td></tr></tbody></table> 
<p>可以快速记忆： 1月2日3时4分5秒6年</p> 
<h3><a id="3_time_67"></a>3. 字符串日期时间转time</h3> 
<p>通过time.Parse来把字符串转为 Time 时间对象</p> 
<pre><code>t, err := time.Parse("2006-01-02 15:04:05", "2023-04-14 07:03:04")
if err == nil {
    fmt.Print(t.Year())
} else {
    fmt.Print(err)
}
</code></pre> 
<p>输出： 2023</p> 
<p>如果出错了，会在返回的err 里有说明。比如：</p> 
<pre><code>t, err := time.Parse("2006-01-02 15:04:05", "04-14 07:03:04")
if err == nil {
    fmt.Print(t.Year())
} else {
    fmt.Print(err)
}
</code></pre> 
<p>就会输出</p> 
<pre><code>parsing time "04-14 07:03:04" as "2006-01-02 15:04:05": cannot parse "04-14 07:03:04" as "2006"
</code></pre> 
<h3><a id="4__93"></a>4. 获取年/月/周/日/时/分/秒</h3> 
<pre><code>t, err := time.Parse("2006-01-02 15:04:05", "04-14 07:03:04")

fmt.Println("年", t.Year())
fmt.Println("月", t.Month())
fmt.Println("月", t.Month() == 4)
fmt.Println("日", t.Day())
fmt.Println("时", t.Hour())
fmt.Println("分", t.Minute())
fmt.Println("秒", t.Second())
fmt.Println("星期几", t.Weekday())
year, week := t.ISOWeek()
fmt.Println("某年第几周", year, week)
fmt.Println("当年第几天", t.YearDay())
</code></pre> 
<p>输出</p> 
<pre><code>年 2023
月 April
月 true
日 14
时 7
分 3
秒 4
星期几 Friday
某年第几周 2023 15
当年第几天 104
</code></pre> 
<p>更多go相关文章，请前往 <strong><a href="https://www.liangjunfeng.cn/docs/go/datetime" rel="nofollow">go教程</a></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ebe93dbe4b7c22f56836d46c0c26018/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">每个都能让你欲罢不能！私藏的「网络安全/渗透测试实用工具」</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/06c0356fb2c2c482dfa2ed6de24a7598/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;网络编程select函数原理详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>