<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java实现贪吃蛇（代码逐行注释） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java实现贪吃蛇（代码逐行注释）" />
<meta property="og:description" content="写在最前 作为本人学习Java的第二篇博客，也是自己练手的第一个小项目。耗费了大量的时间和精力，遇到的问题分享给大家，希望大家可以有所收获。
视频展示 Java贪吃蛇
整体思路 因为所有的游戏都要有一个帧的概念，也就是看似动态的画面实则是由多个静态的、变化的画面组成的，当这样的画面足够多的时候，就有了一个动态的观感。这就是我理解的帧的概念。
有了这个思路，我们只要设计好贪吃蛇每一个静态画面，把它的变化连续起来就可以。
那么他们的变化有什么规律呢？
答案就是，我们把蛇在画面中的运动看做是坐标的不断变化，蛇的每一节与前一节的值都是相等的。
比如说，最开始蛇头的坐标是（1,1），蛇身的坐标是（0,1）当蛇运动的时候，蛇头的坐标变成了（2,1），那么蛇身变成（1,1），蛇的每一节一直等于他的前一节，我们利用这样的规律来制作一个贪吃蛇的小游戏。
贪吃蛇主界面（Startgame类） 首先我们要启动一个窗口，在这个窗口里面不断的进行操作，我用的是Java自带的swing写的。
import javax.swing.*; public class Startgame { public static void main(String[] args) { /* 绘制一个静态窗口 */ JFrame frame = new JFrame(&#34;贪吃蛇by宋阳&#34;);//创建一个窗口，参数是窗口标题显示的文字 frame.setBounds(430, 180, 900, 720);//设置一个窗口的大小 frame.setResizable(false);//窗口大小不可以改变 frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//设置窗口可以关闭，此处填写参数3可以 frame.add(new GamePanel());//添加组件 frame.setVisible(true);//打开窗口 } } 对于 frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)这行代码可以进行扩展一下; ** setDefaultCloseOperation(int operation)是设置用户在此窗体上发起 “close” 时默认执行的操作。方法中的参数解释如下： 为“0”或DO_NOTHING_ON_CLOSE：
不执行任何操作；要求程序在已注册的WindowListener 对象的 windowClosing 方法中处理该操作。
为“1”或HIDE_ON_CLOSE
调用任意已注册的 WindowListener 对象后自动隐藏该窗体。此时没有关闭程序，只是将程序界面隐藏了.
为“2”或DISPOSE_ON_CLOSE
调用任意已注册 WindowListener 的对象后自动隐藏并释放该窗体。但继续运行应用程序，释放了窗体中占用的资源。
为“3”EXIT_ON_CLOSE（在 JFrame 中定义）：使用 System exit 方法退出应用程序。仅在应用程序中使用。结束了应用程序。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/87413e0099c41f70e3739290ab02e406/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-04T22:30:45+08:00" />
<meta property="article:modified_time" content="2020-04-04T22:30:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java实现贪吃蛇（代码逐行注释）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>写在最前</h3> 
<p>作为本人学习Java的第二篇博客，也是自己练手的第一个小项目。耗费了大量的时间和精力，遇到的问题分享给大家，希望大家可以有所收获。</p> 
<h3><a id="_2"></a>视频展示</h3> 
<p></p> 
<div class="csdn-video-box"> 
 <iframe id="Az8tag3y-1586052087659" frameborder="0" src="https://player.bilibili.com/player.html?aid=967555037" allowfullscreen="true" data-mediaembed="bilibili"></iframe> 
 <p>Java贪吃蛇</p> 
</div> 
<p></p> 
<h3><a id="_9"></a>整体思路</h3> 
<p>因为所有的游戏都要有一个帧的概念，也就是看似动态的画面实则是由多个静态的、变化的画面组成的，当这样的画面足够多的时候，就有了一个动态的观感。这就是我理解的帧的概念。<br><br> 有了这个思路，我们只要设计好贪吃蛇每一个静态画面，把它的变化连续起来就可以。<br><br> 那么他们的变化有什么规律呢？<br><br> 答案就是，我们把蛇在画面中的运动看做是坐标的不断变化，蛇的每一节与前一节的值都是相等的。<br><br> 比如说，最开始蛇头的坐标是（1,1），蛇身的坐标是（0,1）当蛇运动的时候，蛇头的坐标变成了（2,1），那么蛇身变成（1,1），蛇的每一节一直等于他的前一节，我们利用这样的规律来制作一个贪吃蛇的小游戏。<br></p> 
<h3><a id="Startgame_15"></a>贪吃蛇主界面（Startgame类）</h3> 
<p>首先我们要启动一个窗口，在这个窗口里面不断的进行操作，我用的是Java自带的swing写的。<br></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Startgame</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">/*
        绘制一个静态窗口
         */</span>
        JFrame frame <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JFrame</span><span class="token punctuation">(</span><span class="token string">"贪吃蛇by宋阳"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建一个窗口，参数是窗口标题显示的文字</span>
        frame<span class="token punctuation">.</span><span class="token function">setBounds</span><span class="token punctuation">(</span><span class="token number">430</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置一个窗口的大小</span>
        frame<span class="token punctuation">.</span><span class="token function">setResizable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//窗口大小不可以改变</span>
        frame<span class="token punctuation">.</span><span class="token function">setDefaultCloseOperation</span><span class="token punctuation">(</span>JFrame<span class="token punctuation">.</span>EXIT_ON_CLOSE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置窗口可以关闭，此处填写参数3可以</span>
   
        frame<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GamePanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加组件</span>
        frame<span class="token punctuation">.</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打开窗口</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>对于 frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)这行代码可以进行扩展一下; ** <br><br> setDefaultCloseOperation(int operation)是设置用户在此窗体上发起 “close” 时默认执行的操作。方法中的参数解释如下：</strong> <br><br> <strong>为“0”或DO_NOTHING_ON_CLOSE：<br> 不执行任何操作；要求程序在已注册的WindowListener 对象的 windowClosing 方法中处理该操作。<br></strong><br> <strong>为“1”或HIDE_ON_CLOSE<br> 调用任意已注册的 WindowListener 对象后自动隐藏该窗体。此时没有关闭程序，只是将程序界面隐藏了.</strong><br><br> <strong>为“2”或DISPOSE_ON_CLOSE<br> 调用任意已注册 WindowListener 的对象后自动隐藏并释放该窗体。但继续运行应用程序，释放了窗体中占用的资源。</strong><br><br> <strong>为“3”EXIT_ON_CLOSE（在 JFrame 中定义）：使用 System exit 方法退出应用程序。仅在应用程序中使用。结束了应用程序。<br><br> 默认情况下，该值被设置为 HIDE_ON_CLOSE。</strong><br></p> 
<p>至于JFrame类，就把他理解为Java自带的创建窗口的类，只要通过JFrame下的方法就可以创建一个窗口。<br></p> 
<h3><a id="data_51"></a>项目相关素材的储存（data类）</h3> 
<p>我们这个小项目，会相应的使用一些素材，比如身体的小绿方块，四个方向的蛇头。这些素材我单独的放在一个类进行储存，方便后面的使用。</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">date</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/*
    此类用于存储图片信息
    image和src是同一个级别的文件夹，可以用image/header.png
     */</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/right.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon body <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/body.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon down <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/down.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon food <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/food.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon up <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/up.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> ImageIcon left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token string">"image/left.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">}</span>

</code></pre> 
<p>我的相应图片放在了项目文件夹的image文件夹，使用ImageIcon​这个类与图片建立联系。</p> 
<h3><a id="GamePanel_77"></a>贪吃蛇实现类（GamePanel类）</h3> 
<p>前面说过，我们想要让蛇运动起来，需要作出一个静态的、变化的画面，并且把他们连续起来。所以在这门我们采用了继承JPanel类，JPanel 是 Java图形用户界面(GUI)工具包swing中的面板容器类，包含在javax.swing 包中，是一种轻量级容器，可以加入到JFrame窗体中。之后在这个画板里面对蛇的被一个变化不断的绘制。<br><br> <strong>继承JPanel之后，需要对paintComponent方法进行重写，paintComponent()是swing的一个方法，相当于图形版的main()，是会自执行的。如果一个class中有构造函数，则执行顺序是先执行构造函数，再执行这个。我们想要唉主窗体显示的所有画面都要在这个函数里面完成。<br></strong><br> 此外，我们也要对小蛇默认的一些参数进行设置（例如：长度，开始的坐标等）<br><br> 相关代码及代码注释如下：</p> 
<pre><code class="prism language-java"> <span class="token keyword">public</span> <span class="token function">GamePanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化参数     </span>
    <span class="token punctuation">}</span>

   
    <span class="token keyword">int</span> lenth<span class="token punctuation">;</span>
    <span class="token keyword">int</span> foodx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置食物的横坐标</span>
    <span class="token keyword">int</span> foody <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置食物的纵坐标</span>
    <span class="token keyword">boolean</span> isfood <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//设置当前是否有食物变量，默认为假</span>
    <span class="token keyword">boolean</span> start <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//设置当前游戏是否开始变量，默认为假</span>
    <span class="token keyword">boolean</span> iskilled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    String fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span><span class="token comment">//R 向右 L向左 U向上 D向下</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> snakex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> snakey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    Random Ran <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建随机数对象，给食物的坐标生成随机数并且赋值</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//初始化方法，当本类被构造的时候被执行一次</span>
        fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span>
        lenth <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span><span class="token comment">//设置蛇的输出长度</span>
        snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//头部坐标</span>
        snakex<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        snakex<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">179</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//第一节坐标</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/*
            其他节坐标以此赋值，因为第一节身体坐标与头部一样，
            所以从第二节开始输出
             */</span>
            snakex<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">19</span><span class="token punctuation">;</span>
            snakey<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>这样我们就绘制了一个静态的小蛇，那么怎么让他动起来呢？<br><br> 如果我们不断的改变蛇的坐标，并且不断地执行这个代码，小蛇不就动起来了？<br><br> <strong>前面说过，小蛇改变坐标的方法就是蛇的后一节一直等于前一节，我们改变蛇的方向和行走的距离，只需要改变蛇头方向就可以完成了。<br></strong><br> 所以，改变蛇坐标的代码如下：</p> 
<pre><code class="prism language-java">snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//snakex[0]是蛇头的横坐标。</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> lenth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//计算蛇的身子的坐标</span>
                    snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
</code></pre> 
<p>因为我小蛇的坐标是不断的变化，我们需要让小蛇坐标变化的代码不断的运行就利用到了定时器timer的概念。<br><br> 什么是定时器timer？<br><br> <strong>在java.swing包中有一个timer类，可以使用它在到达给定的时间间隔时发出通告或者说警告。在构造定时器时，需要设置一个时间间隔，并告知当达到时间间隔时需要做些什么。<br></strong><br> 如何告知呢？ java的类库采用的是面向对象方法，可以将某个类的对象传递给定时器，然后定时器调用这个对象的方法。由于对象可以携带一些附加信息，所以传递一个对象比传递一个函数要灵活的多。<br><br> 不过定时器需要知道调用哪个方法，那么我们可以使用接口给它提供一个规范。timer类会固定调用ActionListener接口的actionPerformed()方法。 那么我们确定功能类的时候，可以让它实现ActionListener接口。<br><br> 需要注意的是actionPerformed()方法的ActionEvent参数，这个参数提供了事件的相关信息。<br></p> 
<h3><a id="_139"></a>画面刷新</h3> 
<p>先上代码，看不懂不要紧</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">paintComponent</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//重写这个方法</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"22222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paintComponent</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏的作用，Graphics g 画笔</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>lightGray<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画板背景颜色</span>
        g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">884</span><span class="token punctuation">,</span> <span class="token number">681</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加组件，绘制游戏区域</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"R"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断方向是哪个，输出对应的方向图标</span>
            date<span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"L"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"U"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>up<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>down<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//循环输出多少个身体</span>
            date<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        date<span class="token punctuation">.</span>food<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> foodx<span class="token punctuation">,</span> foody<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出食物</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画笔的颜色</span>
        g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"宋体"</span><span class="token punctuation">,</span> Font<span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画笔的大小，字体，</span>
        g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token string">"当前得分："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>lenth <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">750</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画笔输出对应的分数</span>
</code></pre> 
<p>怎么实现画面的不断刷新呢？<br><br> 这个问题困扰了我很久，这个方法是重写paintComponent方法，这个方法是给画面输出新的布局。但是我从来没有调用过他，但是他却可以在窗口里面不断地刷新画面。<br><br> 首先paintComponent方法，并不仅是JPanel的方法，而是继承自JComponent的方法。<br><br> 这个方法是被swing调用来画组件的，应用不应该直接调用paint，而应该调用repaint。paint这个方法实际上代表了三个protected的方法。 *paintComponent,paintBorder,paintChildren. *里面一次调用者三种方法来确保…（略）<br></p> 
<p>重要的是子类通常要重写这个方法，来定制special特殊的图形组件<br></p> 
<p>其次，那么为什么不应该直接调用paintComponent而应该调用repaint呢？查了很多资料，有一个说的很简单，直接。<br><br> repaint()是重要概念，它是在图形线程后追加一段重绘操作，是安全的！是系统真正调用的重绘！所以如果你需要某个部件刷新一下界面，记得调用repaint()，千万不要直接调用paint()！<br><br> Graphics是一个抽象类，其实现大都是平台相关的，所以不容易自己创建一个graphics实例。一般graphics的实例会由依照你所在的桌面环境给出。<br><br> <strong>简答的说， repaint方法先清空了画面的内容，然后间接调用了paint方法，paint方法调用了paintComponent方法，完成了画面的刷新。</strong><br><br> 所以只要在定时器里面调用了这个方法，就会实时输出当前的画面。</p> 
<pre><code class="prism language-java"><span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
        那么为什么不应该直接调用paint而应该调用repaint呢？查了很多资料，有一个说的很简单，直接。
repaint()是重要概念，它是在图形线程后追加一段重绘操作，是安全的！是系统真正调用的重绘！所以如果你需要某个部件刷新一下界面，记得调用repaint()，
千万不要直接调用paint()！
Graphics是一个抽象类，其实现大都是平台相关的，所以不容易自己创建一个graphics实例。一般graphics的实例会由依照你所在的桌面环境给出。
最后， repaint里面间接调用了paint方法,然后paint方法再调用paintComponent方法，就实现了画面的不断刷新
         */</span>
</code></pre> 
<p>此外，我们需要对小蛇的位置进行控制，这个比较好解决，设置对键盘的监听，如果键盘的输入时“↑”，与之作出蛇头向上的操作就可以了。<br><br> 对键盘监听要实现KeyListener接口，重写三个方法，分别是：</p> 
<pre><code class="prism language-java">   <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//键盘按下，未释放操作}</span>
    <span class="token punctuation">}</span>
   <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyReleased</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//释放某个键操作</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyTyped</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//键盘按下弹起操作</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>在相应的方法内写自己要执行的操作就可以了。<br><br> 本项目用的是keyPressed设置的是按空格键和方向键。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//键盘按下，未释放操作</span>
        <span class="token keyword">int</span> keycode <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getKeyCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定义一个变量用来接收键盘的数据</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">32</span><span class="token punctuation">)</span>  <span class="token comment">//如果按下空格键(数字32)，用来启动或者暂停</span>
      
            iskilled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            start <span class="token operator">=</span> <span class="token operator">!</span>start<span class="token punctuation">;</span>
            <span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//刷新界面</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/*
        为了防止向左运动的时候，方向键给予一个向右的命令造成死亡，所以设置了在向一个方向运动的时候，
        相反方向的命令不能够被运行。
        方法是当键盘接收到一个方向指令以后，判断是不是当前方向与获取的指令是否相反，相反则不允许更改
        当前方向
         */</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">38</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"D"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"U"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">40</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"U"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"D"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">37</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"R"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"L"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">39</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"L"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre> 
<p>小蛇吃食物设置与吃食物的判断怎么处理？<br><br> 首先食物的这是，可以利用随机数创建类，给食物的x，y坐标赋予随机数。<br><br> 那么吃到食物怎么判断呢？<br><br> 上面的代码写到小蛇是20个坐标进行行走，那么我们认为小蛇的x坐标和y的坐标分别都要食物的坐标相差19个绝对值，我们就可以认为他是最接近小蛇的位置，我们认定他被吃掉。<br><br> 我也给出了其他的解法，请仔细阅读最后完整代码注释内容。<br><br> 至于游戏的结束，小蛇到达边界值的判定，分数显示的设置等小功能的编写，这些内容比较简单，如果前面代码有所理解，这些都可以很好的解决。所以这里不单独给出实现代码，只说思路。<br><br> 游戏的结束：当蛇头的坐标，与其中的一个蛇身的x，y坐标完全相等，我们认为他撞到了自己，游戏结束。<br><br> 小蛇到达边界值：我们只需要判断蛇头的坐标到达了我们规定的坐标以外，我们给蛇头赋值窗口最开始的坐标。<br><br> 分数的设置：画笔设置好参数，选择好位置，直接写就行。<br><br> 避免蛇身向相反运动造成的死亡：小蛇正在向右运动，如果给予一个向左的指令，那么蛇头与蛇身坐标必然相等，则判定游戏结束。所以避免这样的操作，我们在给方向赋值的时候先判断他是不是我们不想要的操作，如果是这次给予指令不成立，等待下一次给予指令。<br></p> 
<h3><a id="_249"></a>写在最后</h3> 
<p>这个程序还有一个bug没有解决，就是每次成功吃掉一个食物，左上角都会显示一个身体的小方块，并且会很快消失，当它消失以后，新的食物才会出现。所以向各位大佬请教！<br></p> 
<h3><a id="GamePanel_251"></a>GamePanel完整代码</h3> 
<pre><code class="prism language-java"><span class="token keyword">import</span> javax<span class="token punctuation">.</span>swing<span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>ActionEvent<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>ActionListener<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>KeyEvent<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>event<span class="token punctuation">.</span>KeyListener<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Random<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GamePanel</span> <span class="token keyword">extends</span> <span class="token class-name">JPanel</span> <span class="token keyword">implements</span> <span class="token class-name">KeyListener</span><span class="token punctuation">,</span> ActionListener <span class="token punctuation">{<!-- --></span><span class="token comment">//集成画板类，实现键盘监听方法</span>

    <span class="token keyword">public</span> <span class="token function">GamePanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFocusable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//让这个组件获取到焦点</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addKeyListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
       用于接收键盘事件（击键）的侦听器接口。
                使用组件的 addKeyListener 方法将从该类所创建的侦听器对象向该组件注册。按下、释放或键入键时生成键盘事件。
            然后调用侦听器对象中的相关方法并将该 KeyEvent 传递给它。
         */</span>
        timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//计时器打开</span>
    <span class="token punctuation">}</span>

    Timer timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//每160毫秒刷新一次，保证动画动起来</span>
    <span class="token keyword">int</span> lenth<span class="token punctuation">;</span>
    <span class="token keyword">int</span> foodx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置食物的横坐标</span>
    <span class="token keyword">int</span> foody <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//设置食物的纵坐标</span>
    <span class="token keyword">boolean</span> isfood <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//设置当前是否有食物变量，默认为假</span>
    <span class="token keyword">boolean</span> start <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//设置当前游戏是否开始变量，默认为假</span>
    <span class="token keyword">boolean</span> iskilled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    String fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span><span class="token comment">//R 向右 L向左 U向上 D向下</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> snakex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> snakey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">999</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    Random Ran <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建随机数对象，给食物的坐标生成随机数并且赋值</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//初始化方法，当本类被构造的时候被执行一次</span>
        fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span>
        lenth <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span><span class="token comment">//设置蛇的输出长度</span>
        snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//头部坐标</span>
        snakex<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
        snakex<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">179</span><span class="token punctuation">;</span>
        snakey<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment">//第一节坐标</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">/*
            其他节坐标以此赋值，因为第一节身体坐标与头部一样，
            所以从第二节开始输出
             */</span>
            snakex<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">19</span><span class="token punctuation">;</span>
            snakey<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">paintComponent</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//重写这个方法</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">paintComponent</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏的作用，Graphics g 画笔</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setBackground</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>lightGray<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画板背景颜色</span>
        g<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">884</span><span class="token punctuation">,</span> <span class="token number">681</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加组件，绘制游戏区域</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"R"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断方向是哪个，输出对应的方向图标</span>
            date<span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"L"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"U"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>up<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            date<span class="token punctuation">.</span>down<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//循环输出多少个身体</span>
            date<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        date<span class="token punctuation">.</span>food<span class="token punctuation">.</span><span class="token function">paintIcon</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> g<span class="token punctuation">,</span> foodx<span class="token punctuation">,</span> foody<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出食物</span>
        g<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画笔的颜色</span>
        g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"宋体"</span><span class="token punctuation">,</span> Font<span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置画笔的大小，字体，</span>
        g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token string">"当前得分："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>lenth <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">750</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//画笔输出对应的分数</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//游戏是否开始，如果没有开始利用画笔在画板内写一句话</span>
            g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"宋体"</span><span class="token punctuation">,</span> Font<span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token string">"按下空格键进行游戏！"</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/*
        用循环不断检查蛇头坐标与身体坐标是否相等，如果相等，定时器终止，则提示游戏结束
         */</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lenth<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"游戏结束！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                timer<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//游戏画面暂停</span>
                iskilled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//死亡 状态变为真</span>
                g<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token string">"宋体"</span><span class="token punctuation">,</span> Font<span class="token punctuation">.</span>BOLD<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                g<span class="token punctuation">.</span><span class="token function">drawString</span><span class="token punctuation">(</span><span class="token string">"游戏结束！按空格键重新开始游戏"</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyPressed</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//键盘按下，未释放操作</span>
        <span class="token keyword">int</span> keycode <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getKeyCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定义一个变量用来接收键盘的数据</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">32</span><span class="token punctuation">)</span>  <span class="token comment">//如果按下空格键(数字32)，用来启动或者暂停</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>iskilled<span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//如果死亡状态为真，初始化全部参数，进行下一次游戏</span>
                <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
            iskilled<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            start <span class="token operator">=</span> <span class="token operator">!</span>start<span class="token punctuation">;</span>
            <span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//刷新界面</span>
        <span class="token punctuation">}</span>
        <span class="token comment">/*
        为了防止向左运动的时候，方向键给予一个向右的命令造成死亡，所以设置了在向一个方向运动的时候，
        相反方向的命令不能够被运行。
        方法是当键盘接收到一个方向指令以后，判断是不是当前方向与获取的指令是否相反，相反则不允许更改
        当前方向
         */</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">38</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"D"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"U"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">40</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"U"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"D"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">37</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"R"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"L"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>keycode <span class="token operator">==</span> <span class="token number">39</span> <span class="token operator">&amp;&amp;</span> fx <span class="token operator">!=</span> <span class="token string">"L"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fx <span class="token operator">=</span> <span class="token string">"R"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span>ActionEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//执行定时操作</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//游戏开始以后，让小蛇动起来</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"R"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">884</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//超出边界就把坐标变成初始值</span>
                    snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> lenth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//输出右移时候的身子</span>
                    snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"L"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">885</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> lenth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//输出左移时候的身子</span>
                    snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"U"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">680</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> lenth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//输出上移时候的身子</span>
                    snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>fx<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment">//每次行走的单位</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">685</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//判断边界值</span>
                    snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> lenth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//输出下移时候的身子</span>
                    snakex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakex<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                    snakey<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snakey<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isfood<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//判断地图是否存在食物，如果没有，就会进行一次绘图，把食物绘图在地图上</span>
<span class="token comment">//                      食物的坐标通过Random置随机种子完成</span>

            foodx <span class="token operator">=</span> Ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            foody <span class="token operator">=</span> Ran<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foodx<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出食物的横坐标</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foody<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出食物的纵坐标</span>
            isfood <span class="token operator">=</span> <span class="token operator">!</span>isfood<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
           <span class="token comment">/*
        判断食物是否被吃,因为蛇的单位是每20个单位进行行走，如果判断头的坐标和食物坐标完全相等时不现实的，所以就利用蛇与食物的
        绝对值相差19（蛇每走一步是20单位）以下认为吃到了食物！
        也可以在1-20置随机数，得到的随机数乘以20，保证是20的倍数，这样就存在与小蛇坐标相等的情况
         */</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>snakex<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> foodx<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">19</span> <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>snakey<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> foody<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            isfood <span class="token operator">=</span> <span class="token operator">!</span>isfood<span class="token punctuation">;</span><span class="token comment">//把状态取反</span>
            lenth<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//蛇的长度自加</span>
        <span class="token punctuation">}</span>
        <span class="token function">repaint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏</span>
        timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定时器开始</span>

    <span class="token punctuation">}</span>
    <span class="token comment">/*
    一下两个重写方法对于本项目没有太的用处，所以不再赘述
     */</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyReleased</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//释放某个键操作</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">keyTyped</span><span class="token punctuation">(</span>KeyEvent e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//键盘按下弹起操作</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_456"></a>完整素材及全部代码</h3> 
<p>代码已上传csdn，一积分下载，觉得这片博文有用请支持一下老弟。<br> <a href="https://download.csdn.net/download/qicaixiao/12307658">完整素材及代码下载地址</a><br> 如果没有积分baidu云自提<br> 链接：https://pan.baidu.com/s/1iVrUI1NzDbu315-AAq1zVQ<br> 提取码：r35o</p> 
<p>最后更新：<br> 修复了小蛇和食物重叠显示问题<br> 修正为小蛇和食物在同一运动路线<br> 加快小蛇运动速度<br> 链接：https://pan.baidu.com/s/1c8zvQH9RLRIoE57z88BZpA<br> 提取码：75ce</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a0bb43b28e41b66de6a2f0173425ee8a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">docker 创建tomcat成功却访问404</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c318d99822038527e5a081843e8cb9e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据资产管理概要</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>