<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据库命令集 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据库命令集" />
<meta property="og:description" content="数据库必用命令合集1 1、创建数据库
语法格式：
CREATE DATABASE 数据库名;
1.1、创建数据库，并指定字符集和校对规则
语法格式：
CREATE DATABASE 数据库名
DEFAULT CHAARACTER 字符集
COLLATE 校对规则;
1.2、进入到指定数据库中
语法格式：
USE 数据库名;
1.3、修改数据库默认字符集和校对规则
语法格式：
ALTER DATABASE 数据库名
DEFAULT CHARACTER SET 字符集
DEFAULT COLLATE 校对规则;
1.4、删除数据库
语法格式：
DROP DATABASE 数据库名;
1.5、显示数据库
语法格式：
SHOW DATABASES;
2、表
2.1、创建表
语法格式：
CREATE TABLE 表名
(列名 数据类型 是否允许为空,
列名 数据类型 是否允许为空);
2.2、向表中增加列
语法格式：
ALTER TABLE 表名 ADD COLUMN 列名 数据类型 是否允许为空;
2.3、修改列的名称
语法格式：
ALTER TABLE 表名 CHANGE 旧列名 新列名 数据类型 是否允许为空;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/99b9b8dff5f4fbc9fa4730512af13f73/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-22T09:35:58+08:00" />
<meta property="article:modified_time" content="2024-01-22T09:35:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据库命令集</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_0"></a>数据库必用命令合集<sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup></h2> 
<p>1、创建数据库<br> 语法格式：</p> 
<p>CREATE DATABASE 数据库名;<br> 1.1、创建数据库，并指定字符集和校对规则<br> 语法格式：</p> 
<p>CREATE DATABASE 数据库名<br> DEFAULT CHAARACTER 字符集<br> COLLATE 校对规则;<br> 1.2、进入到指定数据库中<br> 语法格式：</p> 
<p>USE 数据库名;<br> 1.3、修改数据库默认字符集和校对规则<br> 语法格式：</p> 
<p>ALTER DATABASE 数据库名<br> DEFAULT CHARACTER SET 字符集<br> DEFAULT COLLATE 校对规则;<br> 1.4、删除数据库<br> 语法格式：</p> 
<p>DROP DATABASE 数据库名;<br> 1.5、显示数据库<br> 语法格式：</p> 
<p>SHOW DATABASES;<br> 2、表<br> 2.1、创建表<br> 语法格式：</p> 
<p>CREATE TABLE 表名<br> (列名 数据类型 是否允许为空,<br> 列名 数据类型 是否允许为空);<br> 2.2、向表中增加列<br> 语法格式：</p> 
<p>ALTER TABLE 表名 ADD COLUMN 列名 数据类型 是否允许为空;<br> 2.3、修改列的名称<br> 语法格式：</p> 
<p>ALTER TABLE 表名 CHANGE 旧列名 新列名 数据类型 是否允许为空;<br> 2.4、修改指定列的类型<br> 语法格式：</p> 
<p>ALTER TABLE 表名 MODIFY 列名 数据类型 是否允许为空;<br> 2.5、修改表名<br> 语法格式：</p> 
<p>ALTER TABLE 旧表名 (RENAME TO)/TO 新表名;<br> 2.6、复制表结构<br> 语法格式：</p> 
<p>CREATE TABLE 新表名 LIKE 参照表名;<br> 2.7、复制表结构和数据<br> 语法格式：</p> 
<p>CREATE TABLE 新表名 AS (SELECT * FROM 目标表名);<br> 2.8、删除表<br> 语法格式：</p> 
<p>DROP TABLE 表名;<br> 2.9、显示表文件名<br> 语法格式：</p> 
<p>SHOW TABLES;<br> 2.10、显示数据表结构<br> 语法格式：</p> 
<p>DESC/DESCRIBE 表名;<br> 2.11、显示指定列的结构<br> 语法格式：</p> 
<p>DESC/DESCRIBE 表名 列名;<br> 3、数据操纵<br> 3.1、插入表数据<br> 语法格式：</p> 
<p>INSERT INTO 表名 VALUES(列名,列值),(列名,列值…);<br> 3.2、修改表数据<br> 语法格式：</p> 
<p>UPDATE 表名 SET 列名=表达式;<br> 3.3、符合判断条件的修改数据<br> 语法格式：</p> 
<p>UPDATE 表名 SET 列名=表达式 WHERE 条件;<br> 3.4、删除某行的数据值<br> 语法格式：</p> 
<p>DELETE FROM 表名 WHERE 条件;<br> 3.5、从多个表中删除行<br> 语法格式：</p> 
<p>DELETE FROM 表名列表 WHERE 条件;<br> 4、数据查询<br> 4.1、查询指定列的信息<br> 语法格式：</p> 
<p>SELECT 列名 FROM 表名;<br> 4.2、定义列别名<br> 语法格式：</p> 
<p>SELECT 列名 AS 别名;<br> 4.3、替换查询结果中的数据<br> 语法格式：</p> 
<p>SELECT 列名<br> CASE<br> WHEN 条件 THEN 表达式<br> …<br> ELSE 表达式n<br> END AS 查询结果的列名<br> FROM 表名;<br> 4.4、消除查询中的重复行<br> 语法格式：</p> 
<p>SELECT DISTINCT 列名 FROM 表名;<br> 4.5、统计某列的总数<br> 语法格式：</p> 
<p>SELECT COUNT(值) AS 别名 FROM 表名;<br> 4.6、求某列中最大的值<br> 语法格式:</p> 
<p>SELECT MAX(列名) FROM 表名;<br> 4.7、求某列中最小的值<br> 语法格式：</p> 
<p>SELECT MIN(列名) FROM 表名;<br> 4.8、求某列的总和<br> SELECT SUM(列名) FROM 表名;<br> 4.9、求平均值<br> 语法格式：</p> 
<p>SELECT AVG(值) FROM 表名;<br> 4.10、条件判断查询<br> 语法格式:</p> 
<p>SELECT * FROM 表名 WHERE 条件;<br> 4.11、模式匹配查询<br> 语法格式：</p> 
<p>SELECT 要显示的列名 FROM 表名 WHERE 条件 LIKE ‘张%’; 说明：这是匹配字段为姓张的名称<br> 或<br> SELECT 要显示的列名 FROM 表名 WHERE 条件 LIKE ‘高启_’; 说明：查找名称前两个字为“高启”最后一位字的名称<br> 4.12、转义字符<br> 语法格式：</p> 
<p>SELECT 要显示的列名 FROM 表名 WHERE 条件 LIKE '%#<em>%’ ESCAPE’#‘; 说明：’%#</em>%‘匹配下划线 使用ESCAPE’#'转义字符原本的意义，使其变成原始字符<br> 4.13、范围比较<br> 语法格式;</p> 
<p>SELECT * FROM 表名 WHERE 表达式 BETWEEN 表达式1 AND 表达式2;<br> 4.14、IN子查询<br> 语法格式：</p> 
<p>SELECT * FROM 表名 WHERE IN(表达式1，表达式…);<br> 4.15、空值判断<br> 语法格式：</p> 
<p>SELECT * FROM 表名 WHERE 字段 IS NULL;<br> 4.16、内连接<br> 语法格式 ：</p> 
<p>SEECT * FROM 表1 INNER JOIN 表2 ON(连接条件); 说明：连接条件就是两个表相同字段相同时连接，例如：(表1.图书编号=表2.图书编号)<br> 4.17、内连接的多表连接<br> 语法格式：</p> 
<p>SEECT * FROM 表1 JOIN 表2 ON(连接条件) JOIN 表2 ON(连接条件);<br> 4.18、USING连接<br> 语法格式：</p> 
<p>SELECT 显示列 FROM 表1 JOIN 表2 USING(字段); 说明：字段必须是连接的两表共有的字段值<br> 4.19、左外连接<br> 语法格式：</p> 
<p>SELECT * FROM 表1 LEFT OUTER JOIN 表2 ON 连接条件;<br> 4.20、右外连接<br> 语法格式：</p> 
<p>SELECT * FROM 表1 RIGHT JOIN 表2 ON 连接条件;<br> 4.21、比较子查询<br> 语法格式：</p> 
<p>SELECT * FROM 表名 WHERE 字段 = ANY(SELECT 显示列 FROM 表名 WHERE 条件); ANY 匹配字段 有一个相同就为true<br> SELECT * FROM 表名 字段&gt;ALL(SELECT 显示列 FROM 表名 WHERE 条件); ALL 匹配字段 所有相同就为true<br> 4.22、EXISTS 子查询<br> 语法格式：</p> 
<p>SELECT * FROM 表名 WHERE EXISTS (表达式);<br> 4.23、GROUP BY 子查询<br> 语法格式：</p> 
<p>SELECT * FROM 表名 GROUP BY 分组字段值;<br> 4.24、对统计数据进行分类小计<br> 语法格式：</p> 
<p>SELECT * FROM 表名 GROUP BY 分组字段值 WITH ROLLUP;<br> 4.25、HAVING 子句<br> 语法格式：</p> 
<p>SELECT * FROM 表名 GROUP BY 分组字段值 HAVING 判断条件;<br> 4.26、ORDER BY 子句（排序）<br> 语法格式：</p> 
<p>SELECT * FROM 表名 ORDER BY 排序字段值 ASC/DESC; 说明：ASC升序 DESC 降序<br> 4.27、LIMIT 子句（限制语句返回的行数）<br> 语法格式：</p> 
<p>SELECT * FROM 表名 ORDER BY 排序字段值 LIMIT 显示行数; 说明：显示行数，也可以写成3,5表示从第四条开始记录的5条数据</p> 
<h2><a id="2_219"></a>数据库命令大全<sup class="footnote-ref"><a href="#fn2" rel="nofollow" id="fnref2">2</a></sup></h2> 
<p>1.对数据库常用命令<br> 1.连接数据库<br> mysql -u用户名 -p密码<br> 2.显示已有数据库<br> show databases;<br> 3.创建数据库<br> create database sqlname;<br> 4.选择数据库<br> use database sqlname;<br> 5.显示数据库中的表（先选择数据库）<br> show tables;<br> 6.显示当前数据库的版本信息以及连接用户名<br> select version(),user();<br> 7.删除数据库(删除时没有提示直接删除)<br> drop database sqlname;</p> 
<p>2.数据库中对表的命令<br> 1.创建表<br> (1)语法：<br> create table tablename(<br> 字段1 数据类型 字段属性<br> …<br> 字段n<br> );<br> (2)注意：<br> 1.创建表时为了防止与保留字冲突，用’'括起来<br> 2.单行注释：#…<br> 多行注释：/…/<br> 3.创建表时多字段中间用英文逗号隔开，最后一行不用逗号。<br> (3) 字段约束和属性<br> 1.非空约束 not null(字段不允许为空)<br> 2.默认约束 default(设置默认值)<br> 3.唯一约束 unique key(uk)(设置字段的值是唯一的，可为空，但只能有一个空值)<br> 4.主键约束 primary key(pk)(作为表记录的唯一标识)<br> 5.外键约束 foreign key(fk)(用于两个表之间建立关系，需要指定引用主表的哪一字段。在数据库的存储引擎中InnoDB支持外键，MyISAM不支持外键。<br> 作为外键的字段要求是主表中的主键（单字段主键）)</p> 
<p>添加外键约束：<br> CONSTRAINT FK_外键名 FOREIGN KEY(字表中外键字段)REFERENCES 关联表名 (关联字段)。<br> grandid作为字表的外键<br> 1.设置自增auto_increment=n,从n开始。<br> 2.设置自增set @@ auto_increment_increment=m,步长为m。</p> 
<p>3.多字段设置主键：primary key(字段1，字段2…字段n)<br> 4.表中的注释/说明性文字：)comment=“说明文字”;<br> 5.设置字符集：)charset=“字符集”;<br> 6.查看表的结构:describe’表名’/desc 表名<br> 7.查看数据库定义：show create database sqlname;<br> 8.查看数据表定义：show create table tablename;<br> 9.查看默认存储引擎：show variables like’storage_engine%’;<br> 11.指定表的存储引擎：)engine=存储引擎;<br> 10.删除表：drop table ‘tablename’;<br> 11.获取当前日期：now();<br> 12.修改表:<br> (1)修改表名：alter table 旧表名 rename 新表名；<br> (2)添加字段：alter table 表名 add 字段名 数据类型…;(添加新的字段)<br> (3)修改字段：alter table 表名 change 原字段名 新字段名 数据类型…;<br> (4)删除字段：alter table 表名 drop 字段名;<br> (5)在创建完表以后添加主键约束：<br> alter table 表名 add constraint 主键名 primary key 表名(主键字段);<br> (6)创建完表以后添加外键约束(作为外键的字段要求是主表中的主键（单字段主键)）:<br> alter table 表名 add constraint 外键名 foreign key(外键字段) references 关联表名 (关联字段);</p> 
<p>插入数据<br> 1.插入单行数据：<br> insert into 表名 (字段名列表(逗号隔开)) values(值列表(逗号隔开));<br> 2.插入多行数据 ：<br> insert into 表名(字段名列表) values (值列表1), … ,(值列表n);<br> 3.将查询结果插入到新表中：<br> create table 新表(select 字段1, … ,from 原表);<br> 3.更新数据（修改数据）：<br> update 表名 set 列名=更新值 where 更新条件;<br> 4.删除数据<br> (1)delete from 表名 where 删除条件;<br> delete 删除的是整条数据，不会只删除单个列。<br> (2)truncate table 删除数据：<br> truncate table 删除的是表中所有的行，但表的结构，列，约束，索引等不会改变。不能用于有外键约束的表。删除数据不能恢复。<br> truncate table 表名 where 删除条件;</p> 
<p>数据查询<br> 1.使用select查询<br> select 列名/表达式/函数/常量 from 表名 where 查询条件 order by 排序的列名asc/desc;<br> (1)查询所有的数据行和列：<br> select * from 表名；<br> (2)查询部分行和列：<br> select 列名… from 表名 where 查询条件；<br> (3)在查询中使用列的别名：<br> select 列名 AS 新列名 form 表名 where 查询条件；<br> 计算，合并得到新的列名：<br> select 列名1+’.’+列名2 AS 新列名 from 表名；<br> (4)查询空值：<br> 通过is null 或者 is not null 判断列值是否为空<br> 2.分组查询<br> #查询不同课程的平均分，最低分，最高分,并查询出平均分大于80分的课程<br> SELECT r.subjectno,sub.<code>SubjectName</code> 课程名称,AVG(StudentResult) 平均分,<br> MAX(StudentResult) 最高分,MIN(StudentResult) 最低分<br> FROM result r INNER JOIN <code>subject</code> sub<br> ON r.<code>SubjectNo</code>=sub.<code>SubjectNo</code><br> GROUP BY r.subjectno<br> #where AVG(StudentResult)&gt;=80出现错误，<br> #分组查询group by 在where语句后，<br> #group by 约束条件使用having语句<br> HAVING AVG(StudentResult)&gt;=80<br> 常用函数<br> 1.聚合函数：<br> (1）AVG (平均值):select avg(列名)from 表名<br> 假设列名为成绩 则查询到的是表中所有成绩的平均值。<br> （2）count 返回某字段的行数<br> （3）max 返回某字段的最大数<br> （4）min 返回某字段的最小值<br> （5）sum 返回某字段的和。<br> 2.字符串函数：<br> （1）concat() 连接字符串s1,s2…sn为一个完整的字符串。<br> （2）insert(s1,p1,n,news)将字符串s1从p1位置开始，n个字符长的字串替换为字符串news。<br> （3）lower(s)将字符串s中的所有字符改为小写。<br> （4）upper(s)将字符串s中的所有字符改为大写。<br> （5）substring(s,num,len)返回字符串s的第num个位置开始长度为len的子字符串。<br> 3.时间日期函数：<br> （1）获取当前日期：curdate();<br> （2）获取当前时间：curtime();<br> （3）获取当前日期和时间：now();<br> （4）返回日期date为一年中的第几周：week(date);<br> （5）返回日期date的年份：year(date);<br> （6）返回时间time的小时值：hour(time);<br> （7）返回时间time的分钟值：minute(time);<br> （8）返回日期参数（date1和date2之间相隔的天数）:datediff(date1,date2);<br> （9）计算日期参数date加上n天后的日期：adddate(date,n);<br> 4.数学函数<br> （1）返回大于或等于数值x的最小整数：ceil(x);<br> （2）返回小于或等于数值x的最大整数：floor(x)；<br> （3）返回0~1之间的随机数：rand();<br> order by 子句<br> order by子句按照一定的顺序排列查询结果，asc升序排列，desc降序排列。<br> limit子句<br> 显示指定位置指定行数的记录。<br> select 字段名列表 form 表名 where 约束条件 group by分组的字段名 order by 排序列名 limit 位置偏移量,行数;<br> #查询学生信息里gid=1按学号升序排列前四条记录（步长）<br> SELECT id,<code>name</code> FROM <code>student1</code> WHERE gid=1 ORDER BY id LIMIT 4;<br> （查询表里全部信息中gid=1的前四个学生）</p> 
<p>#查询学生信息里gid=1按学号升序排列前四条记录（位置偏移量，步长）<br> SELECT id,<code>name</code> FROM <code>student1</code> WHERE gid=1 ORDER BY id LIMIT 4,4;<br> （查询表中全部信息gid=1前四条以后的全部信息中的前四条学生信息）<br> 模糊查询<br> in子查询******not in 子查询<br> 使用in关键字可以使父查询匹配子查询返回的多个单字段值。<br> 解决使用比较运算符（=,&gt;等），子查询返回值不唯一错误信息。<br> like模糊查询<br> LIKE语句语法格式：select * from 表名 where 字段名 like 对应值（子串）。</p> 
<p>它主要是针对字符型字段的，它的作用是在一个字符型字段列中检索包含对应子串的。</p> 
<p>A:% 包含零个或多个字符的任意字符串： 1、LIKE’Mc%’ 将搜索以字母 Mc 开头的所有字符串（如 McBadden）。<br> 　　2、LIKE’%inger’ 将搜索以字母 inger 结尾的所有字符串（如 Ringer、Stringer）。<br> 　　3、LIKE’%en%’ 将搜索在任何位置包含字母 en 的所有字符串（如 Bennet、Green、McBadden）。<br> 　　B:_（下划线） 任何单个字符：LIKE’_heryl’ 将搜索以字母 heryl 结尾的所有六个字母的名称（如 Cheryl、Sheryl）。<br> 　　C：[ ] 指定范围 ([a-f]) 或集合 ([abcdef]) 中的任何单个字符：、<br> 　　1，LIKE’[CK]ars[eo]n’ 将搜索下列字符串：Carsen、Karsen、Carson 和 Karson（如 Carson）。<br> 　　2、LIKE’[M-Z]inger’ 将搜索以字符串 inger 结尾、以从 M 到 Z 的任何单个字母开头的所有名称（如 Ringer）<br> 　　**<em>D：[^] 不属于指定范围 ([a-f]) 或集合 ([abcdef]) 的任何单个字符：LIKE’M[^c]%’ 将搜索以字母 M 开头，并且第二个字母不是 c 的所有名称（如MacFeather）。<br> 　　E： 它同于DOS命令中的通配符，代表多个字符：cc代表cc,cBc,cbc,cabdfec等多个字符。<br> 　　F：？同于DOS命令中的？通配符，代表单个字符 :b?b代表brb,bFb等<br> 　　G：# 大致同上，不同的是代只能代表单个数字。k#k代表k1k,k8k,k0k 。<br> 　　F：[!] 排除 它只代表单个字符<br> 　　下面我们来举例说明一下：<br> 　　例1，查询name字段中包含有“明”字的。<br> 　　select * from table1 where name like ‘%明%’<br> 　　例2，查询name字段中以“李”字开头。<br> 　　select * from table1 where name like '李’<br> 　　例3，查询name字段中含有数字的。<br> 　　select * from table1 where name like ‘%[0-9]%’<br> 　　例4，查询name字段中含有小写字母的。<br> 　　select * from table1 where name like ‘%[a-z]%’<br> 　　例5，查询name字段中不含有数字的。<br> 　　select * from table1 where name like ‘%[!0-9]%’<br> 　　可以自定义转移符----》escape’自定义转移符’<br> 　　distinct------》去除重复项<br> 　　<br> 　　between</em>and模糊查询<br> 　操作符 BETWEEN … AND 会选取介于两个值之间的数据范围。这些值可以是数值、文本或者日期。<br> 　null ，not null查询</p> 
<p>– 查询手机号不为null的用户数据<br> SELECT * from user where phone is not null;</p> 
<p>– 查询手机号为null的用户数据<br> SELECT * from user where phone is null;<br> exists 子查询 not exists子查询<br> exists子查询用来确认后边的查询是否继续进行<br> drop table if exists test—&gt;判断是否存在表test，如果存在就删除。<br> not exists实现取反操作。对不存在对应查询条件的记录。</p> 
<p>多表连接查询<br> 多表连接查询是通过各个表之间共同列的关联性来查询数据。<br> 1.内连接查询<br> 内连接查询根据表中共同的列进行匹配。取两个的表的交集。两个表存在主外键关系是通常使用内连接查询。<br> 内连接使用inner join…on 关键字或者where子句来进行表之间的关联。<br> inner 可省略 on 用来设置条件。<br> （1）在where子句中指定连接条件<br> （2）在from中使用inner join…on关键字</p> 
<p>#查询学生姓名和成绩<br> SELECT studentname,studentresult FROM student s,result r<br> WHERE s.<code>StudentNo</code>=r.<code>StudentNo</code></p> 
<p>#在from中使用inner join…on关键字<br> SELECT s.<code>StudentName</code>,r.<code>StudentResult</code> ,r.<code>SubjectNo</code>FROM student s<br> INNER JOIN result r ON s.<code>StudentNo</code>=r.<code>StudentNo</code></p> 
<p>两种方法查询结果相同。<br> 2.外连接查询<br> 外连接查询中参与连接的表有主从之分，已主表的每行数据匹配从表的数据列，将符合连接条件的数据直接返回到结果集中，对不符合连接条件的列，将被填上null值再返回到结果集中。<br> （1）左外连接查询<br> left join…on 或者left outer join…on关键字进行表之间的关联。</p> 
<p>SELECT s.<code>StudentName</code>,r.<code>StudentResult</code> ,r.<code>SubjectNo</code>FROM student s<br> LEFT JOIN result r ON s.<code>StudentNo</code>=r.<code>StudentNo</code><br> 1<br> 2<br> 将没有成绩的学生成绩查出。<br> （2）右外连接查询<br> 右外连接包含右表中所有的匹配行，右表中有的项在左表中没有对应的项将以null值填充。<br> right join…on 或right outer join…on关键字进行表之间的关联。<br> （3）自连接<br> 把一个表作为两个表使用。</p> 
<p>#创建一个表<br> CREATE TABLE book(<br> id INT(10),<br> sort INT(10),<br> books VARCHAR(10) NOT NULL<br> );<br> #插入数据<br> INSERT INTO book VALUES (2,1,‘古文书’),<br> (3,1,‘现代书’),<br> (4,2,‘《三字经》’),<br> (5,2,‘《唐诗三百首》’),<br> (6,3,‘《我与地坛》’),<br> (7,2,‘《游大林寺》’),<br> (8,2,‘《王右军年减十岁时》’),<br> (9,3,‘《致橡树》’);</p> 
<p>#查询结果为：<br> #书籍类型 书籍名<br> #古文书 三字经…<br> #现代书 我与地坛…</p> 
<p>SELECT a.books 书籍类型, b.books 书籍名<br> FROM book a,book b<br> WHERE a.id=b.sort;<br> MySQL的事务，视图，索引，备份和恢复<br> 1.事务<br> 事务是指将一系列数据操作捆绑成为一个整体进行统一管理。<br> 把所有的命令作为一个整体一起向系统提交或者撤销造组偶请求。<br> 事务属性：原子性，一致性，隔离性，持久性。<br> myISA存储引擎不支持事务。</p> 
<p>关闭事务自动提交：set autocommit=0；<br> （1）开始事务：begin/start transaction；<br> （2）提交事务：commit；<br> （3）回滚/撤销事务：rollback；<br> 恢复自动提交：set autocommit=1；<br> 设置结果集以？？编码格式显示：set names ？？；<br> 2.视图<br> 视图是一种查看数据库中一个或多个表中数据的方法。视图是一种虚拟表，作为来自一个或多个表的行或列的子集创建的。视图充当查询中的表筛选器的角色。<br> （1）创建视图：create view 视图名 as &lt;select语句&gt;<br> （2）删除视图：drop view 视图名；<br> （3）查看视图数据：select 。。。。。from 视图名；<br> 3.索引<br> 索引类似于书的目录，使用索引可以将数据库程序无须对整个表扫描就可以在其中找到所需数据。<br> （1）普通数据：允许重复和空值。<br> （2）唯一索引：不允许出现重复。可以有多个唯一索引。<br> （3）主键索引：非空，唯一。删除时drop primary key；<br> （4）复合索引：将多个列组合作为索引。？<br> （5）全文索引：可重复和空值，在char，varchar，text创建。<br> where match（列名）against （‘查找内容’）；<br> （6）空间索引：对空间数据类型的列建立的索引。</p> 
<p>创建索引：<br> create 【索引类型】index 索引名 on 表名 （创建索引的列）；<br> 或者创建表时之间在列后面加上索引类型。<br> 或者修改表alter table 表名 add index 索引名 （索引列）；<br> 删除索引：drop index 索引名；<br> 查看索引：show index from 表名；<br> 4.数据库备份和恢复<br> 1.使用mysqldump命令备份数据库<br> mysqldump -u -p 数据库名&gt;备份数据库位置及名字；<br> 表数据导出到文本文件<br> select *from 表名 where 查询条件 into outfile 备份数据库位置及名字；</p> 
<p>2.使用mysql命令恢复数据库（先创建新的数据库）<br> mysql -u -p 新创建数据库名&lt;所要恢复数据库位置及文件名；<br> source命令恢复数据库<br> source 数据库备份文件；</p> 
<p>新建用户</p> 
<p>#创建本地用户<br> CREATE USER <code>user</code>@<code>localhost</code> IDENTIFIED BY ‘123123’;<br> #用户可登陆任何远程主机，使用通配符%<br> CREATE USER <code>user2</code>@<code>123%</code> IDENTIFIED BY ‘123123’;<br> #对用户进行全部权限授权<br> GRANT ALL ON mysql.<code>user</code> TO <code>user2</code>@<code>123%</code>;<br> #对已创建的用户授权<br> GRANT SELECT,INSERT ON mysql.<code>user</code> TO <code>user2</code>@<code>123%</code>;<br> #创建用户时授权<br> GRANT SELECT,INSERT ON mysql.<code>user</code> TO <code>user_2</code>@<code>123%</code> IDENTIFIED BY ‘123123’;<br> #删除用户user2(使用删除语句时必须拥有数据库全局权限或select权限)<br> DROP USER <code>user2</code>@<code>123%</code>;<br> DROP USER <code>user_2</code>@<code>123%</code>;<br> DROP USER <code>user</code>@<code>localhost</code>;<br> #mysqladmin修改超级用户user2账户密码(mysqladmin命令在cmd中使用，只能修改超级用户密码)<br> mysqladmin -u root -p PASSWORD “123456”;<br> #修改当前登录用户密码<br> SET PASSWORD =PASSWORD(“123456”);<br> #修改其他用户密码<br> SET PASSWORD FOR <code>user2</code>@<code>123%</code>=PASSWORD(“123456”);</p> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>原文链接：https://blog.csdn.net/Withadream/article/details/129087482 <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn2" class="footnote-item"><p>原文链接：https://blog.csdn.net/jgjgkj/article/details/128902763 <a href="#fnref2" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb33f27a6147fe36fe3f57105126975b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网络安全-防御保护01</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/94a57c9cea1bc105f94703a6bca3d899/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【开源】基于JAVA的智慧社区业务综合平台</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>