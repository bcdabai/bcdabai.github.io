<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux同时安装多个版本的JDK&amp;linux多版本JDK切换配置- [Centos 安装JDK] - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux同时安装多个版本的JDK&amp;linux多版本JDK切换配置- [Centos 安装JDK]" />
<meta property="og:description" content="Linux同时安装多个版本的JDK&amp;linux多版本JDK切换配置- [Centos 安装JDK] 一、查询系统是否已经安装jdk rpm -qa|grep java
或 rpm -qa|grep jdk
或 rpm -qa|grep gcj 二、卸载已安装的jdk Centos7存在已安装的JDK1.7时，可以使用以下方式删除1.7的openJDK
rpm -e --nodeps java-1.7.0-openjdk-1.7.0.51-2.4.5.5.el7.x86_64
rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.51-2.4.5.5.el7.x86_64
三、下载安装配置JAVA环境变量 JDK下载地址:
[JDK下载地址](Java Downloads | Oracle)
JDK21
JDK1.8
解压到安装目录
个人喜欢将jdk安装到: /opt/java/目录下
安装准备 ------------------------------------------------------------------- cd /opt/ 切换到opt目录 mkdir java 创建java目录 ------------------------------------------------------------------ 使用wget下载JDK的tar安装包或复制下载好的安装包到/opt/java/目录 cd /opt/java/ 切换java目录 tar -zxvf jdk-8u391-linux-x64.tar.gz ---解压jdk1.8 编辑JDK环境配置参数
vim /etc/profile vim /etc/profile --- 编辑参数配置 配置如下: ---------------------------------------------------------------------- export JAVA_HOME=/opt/java/jdk1.8.0_391 export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar ---------------------------------------------------------------------- source /etc/profile --- 刷新参数配置 java -version --- 查看Java版本，看是否配置成功 四、java多版本安装配置和切换 在/opt/java/目录下安装多个版本的JDK" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/885fc6ed70aa74974f6beb340e383780/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-19T07:57:32+08:00" />
<meta property="article:modified_time" content="2023-10-19T07:57:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux同时安装多个版本的JDK&amp;linux多版本JDK切换配置- [Centos 安装JDK]</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="LinuxJDKlinuxJDK_Centos_JDK_0"></a>Linux同时安装多个版本的JDK&amp;linux多版本JDK切换配置- [Centos 安装JDK]</h2> 
<h6><a id="jdk_2"></a>一、查询系统是否已经安装jdk</h6> 
<p><code>rpm -qa|grep java</code><br> 或 <code>rpm -qa|grep jdk</code><br> 或 <code>rpm -qa|grep gcj </code></p> 
<h6><a id="jdk_8"></a>二、卸载已安装的jdk</h6> 
<blockquote> 
 <p>Centos7存在已安装的JDK1.7时，可以使用以下方式删除1.7的openJDK</p> 
</blockquote> 
<p><code>rpm -e --nodeps java-1.7.0-openjdk-1.7.0.51-2.4.5.5.el7.x86_64</code></p> 
<p><code>rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.51-2.4.5.5.el7.x86_64</code></p> 
<h6><a id="JAVA_16"></a>三、下载安装配置JAVA环境变量</h6> 
<blockquote> 
 <p>JDK下载地址:</p> 
 <p>[JDK下载地址](<a href="https://www.oracle.com/java/technologies/downloads/" rel="nofollow">Java Downloads | Oracle</a>)</p> 
 <p><a href="https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.rpm" rel="nofollow">JDK21</a></p> 
 <p><a href="https://download.oracle.com/otn/java/jdk/8u391-b13/b291ca3e0c8548b5a51d5a5f50063037/jdk-8u391-linux-x64.tar.gz?AuthParam=1697555367_a8799fb554a97c61e6af047a80206555" rel="nofollow">JDK1.8</a></p> 
</blockquote> 
<ul><li> <p>解压到安装目录</p> 
  <blockquote> 
   <p>个人喜欢将jdk安装到: /opt/java/目录下</p> 
  </blockquote> <pre><code> 安装准备
 -------------------------------------------------------------------
 cd /opt/  切换到opt目录
 mkdir java 创建java目录
 ------------------------------------------------------------------
 使用wget下载JDK的tar安装包或复制下载好的安装包到/opt/java/目录
 cd /opt/java/ 切换java目录
 tar -zxvf  jdk-8u391-linux-x64.tar.gz ---解压jdk1.8 
</code></pre> <p><img src="https://images2.imgbox.com/06/38/nFaYNcrp_o.png" alt="JAVA目录"></p> </li><li> <p>编辑JDK环境配置参数</p> </li></ul> 
<ol><li>vim /etc/profile</li></ol> 
<pre><code>vim /etc/profile  --- 编辑参数配置
配置如下:
----------------------------------------------------------------------
export JAVA_HOME=/opt/java/jdk1.8.0_391
export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
----------------------------------------------------------------------
source /etc/profile --- 刷新参数配置
java -version --- 查看Java版本，看是否配置成功
</code></pre> 
<h6><a id="java_62"></a>四、java多版本安装配置和切换</h6> 
<blockquote> 
 <p>在/opt/java/目录下安装多个版本的JDK</p> 
</blockquote> 
<ul><li>解压安装</li></ul> 
<pre><code>安装准备
 -------------------------------------------------------------------
 cd /opt/  切换到opt目录
 mkdir java 创建java目录
 ------------------------------------------------------------------
 使用wget下载JDK的tar安装包或复制下载好的安装包到/opt/java/目录
 cd /opt/java/ 切换java目录
 tar -zxvf  jdk-8u391-linux-x64.tar.gz ---解压jdk1.8 
 tar -zxvf  jdk-21_linux-x64_bin.tar.gz ---解压jdk21 
 ------------------------------------------------------------------
</code></pre> 
<ul><li> <p>在/etc/profile.d/目录配置JDK启动环境参数配置脚本文件jdkconf.sh</p> 
  <blockquote> 
   <p>/etc/profile.d/下的jdkconf.sh会在系统启动时加载配置</p> 
  </blockquote> <p>配置脚本默认为JDK1.8的配置:</p> <pre><code>#JDK1.8配置
export JAVA_HOME=/opt/java/jdk1.8.0_391
export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre> </li><li> <p>在/opt/java/目录下创建conf目录，分别创建的jdk1.8和jdk21的参数配置文件</p> <p><code>cd /opt/java</code></p> <p><code>mkdir conf</code></p> <p><code>vi jdk1.8.conf.sh</code> 创建jdk1.8的环境参数配置文件,内容如下:</p> <pre><code>export JAVA_HOME=/opt/java/jdk1.8.0_391
export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre> <p><code>vi jdk21.conf.sh</code> 创建jdk1.8的环境参数配置文件,内容如下:</p> <pre><code>export JAVA_HOME=/opt/java/jdk-21.0.1
export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre> 
  <ul><li> <p>在~/.bashrc中添加用于切换指定配置文件的命令别名</p> 
    <blockquote> 
     <p>切换方式是将/opt/java/conf下相应版本的配置文件复制覆盖/etc/profile.d/jdkconf.sh</p> 
    </blockquote> <pre><code> 覆盖指定版本的配置文件：
 cp -f /opt/java/conf/jdk1.8.conf.sh /etc/profile.d/jdkconf.sh
 编辑~/.bashrc添加JDK切换的自定义命令别名
 vi ~/.bashrc 添加以下命令别名
 alias jdk8='cp -f /opt/java/conf/jdk1.8.conf.sh /etc/profile.d/jdkconf.sh'
 alias jdk21='cp -f /opt/java/conf/jdk21.conf.sh /etc/profile.d/jdkconf.sh'
 保存后执行source命令使配置生效
 source ~/.bashrc
</code></pre> </li></ul> </li><li> <p>配置JDK切换脚本</p> <p><code>vi /usr/ubin/chjdk.sh</code> 编辑JKD切换脚本</p> 
  <ul><li>脚本文件内容:</li></ul> <pre><code>#声明jdk7和jdk路径变量
JAVA_8_HOME=/opt/java/jdk1.8.0_391
JAVA_21_HOME=/opt/java/jdk-21.0.1

#执行脚本传入的值进行判断。默认是jdk1.88
case $1 in
    8)
        export JAVA_HOME=$JAVA_8_HOME
        ;;
    21)
        export JAVA_HOME=$JAVA_21_HOME
        ;;
    *)
        export JAVA_HOME=$JAVA_8_HOME
        ;;
esac

export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/jre/bin
export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
</code></pre> 
  <ul><li> <p>将/usr/ubin/自定义脚本目录加入PATH</p> <pre><code>mkdir /usr/ubin
vi /etc/profile  编辑将自定义脚本目录添加到PATH环境参数：
export PATH=$PATH:/usr/ubin
soucre /etc/profile   使配置生效
</code></pre> </li><li> <p>加入自定义切换命令</p> <pre><code> vi ~/.bashrc 添加以下命令别名:
 alias jdk8='cp -f /opt/java/conf/jdk1.8.conf.sh /etc/profile.d/jdkconf.sh &amp;&amp; source chjdk.sh 8'
 alias jdk21='cp -f /opt/java/conf/jdk21.conf.sh /etc/profile.d/jdkconf.sh &amp;&amp; source chjdk.sh 21'
 source ~/.bashrc 执行source命令使配置生效
</code></pre> </li></ul> 
  <blockquote> 
   <p>生效后就可以通过命令别名jdk8和jdk21来切换jdk环境，切换后需要重启系统才可生效</p> 
  </blockquote> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/977ee24cd83909ebe236e2fe61d57699/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">@Scheduled 注解的基本介绍、使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1709f3062d37105f8cfa65c0942f4457/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">嵌入式软件工程师笔试题-1（含答案讲解）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>