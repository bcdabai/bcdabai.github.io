<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于抖音抓包的一些分析和抖音视频批量下载 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于抖音抓包的一些分析和抖音视频批量下载" />
<meta property="og:description" content="上一篇介绍了抓包软件的使用：
Fiddler&#43;夜神模拟器&#43;xposed&#43;justTrustMe手机抓包
这一篇介绍下对抖音里**“喜欢”**的视频批量下载，和一些分析。
1.根据上一篇的抓包软件介绍，我们先模拟器上登录抖音开始抓包。 1.1 经过分析发现“喜欢”的视频列表接口是: https://aweme.snssdk.com/aweme/v1/aweme/favorite/
1.2 过滤下url:
1.3 headers参数：
X-Gorgon：请求所需的加密参数
X-Tt-Token：在搜索接口用于用户身份的标示。
有的接口会有X-SS-STUB用于post请求时body部分的md5值，但是在为空的情况下，有时候不参与加密，有时候参与加密，具体接口需要具体分析。
经过测试，搜索接口的 xgorgon 一个大概可以用2分钟。1秒请求1次，请求130条数据需要重新获取xgorgon。
当然也可以每次请求都重新生成xgorgon。
每个账号每天请求搜索接口有次数限制，大概在300左右。
超过限制需要更换账号，另外params也要改变。
1.4 params参数：
总的有37个参数包括设备信息等。
比如： sec_user_id:加密后的你的抖音id
longitude：经度
latitude：纬度
device_type：设备型号
manifest_version_code：抖音代码版本
其他的有两个参数需要注意，max_cursor 和 count 这两个参数
max_cursor : 根据这个参数来返回用户的视频列表 , 第一次访问时 , 本参数为0 , 会返回最新的20个视频 (count为20时) count : 返回视频的数量 第一次请求是20 , 后面每次是10。 我修改了count后得到的请求是这样的
估计是headers部分的参数有对params进行了md5校验，所以修改了参数校验不通过导致没有数据返回。
1.4 请求响应如下： ......省略 &#34;aweme_list&#34;: [ { &#34;aweme_id&#34;: &#34;6908554513959898376&#34;, &#34;desc&#34;: &#34;奖励你 在下雨天还愿意送我回家#送你一朵小红花 #送一朵小红花告别2020&#34;, &#34;create_time&#34;: 1608523210, &#34;author&#34;: { &#34;uid&#34;: &#34;85837556756&#34;, &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f1a08fec7afbccb01a8c2c934334e17f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-25T18:11:26+08:00" />
<meta property="article:modified_time" content="2020-12-25T18:11:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于抖音抓包的一些分析和抖音视频批量下载</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>上一篇介绍了抓包软件的使用：<br> <a href="https://blog.csdn.net/qq_33697094/article/details/111596004">Fiddler+夜神模拟器+xposed+justTrustMe手机抓包</a></p> 
<p>这一篇介绍下对抖音里**“喜欢”**的视频批量下载，和一些分析。<br> <img src="https://images2.imgbox.com/99/a1/GUtngaeS_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="1_6"></a>1.根据上一篇的抓包软件介绍，我们先模拟器上登录抖音开始抓包。</h4> 
<p><img src="https://images2.imgbox.com/94/c5/wpsqisz9_o.png" alt="在这里插入图片描述"></p> 
<ul><li><strong>1.1 经过分析发现“喜欢”的视频列表接口是:</strong></li></ul> 
<blockquote> 
 <p>https://aweme.snssdk.com/aweme/v1/aweme/favorite/</p> 
</blockquote> 
<ul><li> <p><strong>1.2 过滤下url:</strong><br> <img src="https://images2.imgbox.com/86/4b/Cz4XeCbE_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>1.3 headers参数：</strong></p> <p>X-Gorgon：请求所需的加密参数</p> <p>X-Tt-Token：在搜索接口用于用户身份的标示。</p> </li></ul> 
<p>有的接口会有X-SS-STUB用于post请求时body部分的md5值，但是在为空的情况下，有时候不参与加密，有时候参与加密，具体接口需要具体分析。</p> 
<p>经过测试，搜索接口的 xgorgon 一个大概可以用2分钟。1秒请求1次，请求130条数据需要重新获取xgorgon。<br> 当然也可以每次请求都重新生成xgorgon。<br> 每个账号每天请求搜索接口有次数限制，大概在300左右。<br> 超过限制需要更换账号，另外params也要改变。</p> 
<ul><li><strong>1.4 params参数：</strong><br> 总的有37个参数包括设备信息等。<br> 比如：</li></ul> 
<blockquote> 
 <p>sec_user_id:加密后的你的抖音id<br> longitude：经度<br> latitude：纬度<br> device_type：设备型号<br> manifest_version_code：抖音代码版本</p> 
</blockquote> 
<p>其他的有两个参数需要注意，max_cursor 和 count 这两个参数</p> 
<pre><code>max_cursor :  根据这个参数来返回用户的视频列表 , 第一次访问时 , 本参数为0 , 会返回最新的20个视频 (count为20时)

count : 返回视频的数量 第一次请求是20 , 后面每次是10。
</code></pre> 
<p>我修改了count后得到的请求是这样的<br> <img src="https://images2.imgbox.com/89/f3/weDnv1wh_o.png" alt="在这里插入图片描述"><br> 估计是headers部分的参数有对params进行了md5校验，所以修改了参数校验不通过导致没有数据返回。</p> 
<ul><li><strong>1.4 请求响应如下</strong>：</li></ul> 
<pre><code class="prism language-javascript">   <span class="token operator">...</span><span class="token operator">...</span>省略
<span class="token string">"aweme_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token string">"aweme_id"</span><span class="token punctuation">:</span> <span class="token string">"6908554513959898376"</span><span class="token punctuation">,</span>
      <span class="token string">"desc"</span><span class="token punctuation">:</span> <span class="token string">"奖励你 在下雨天还愿意送我回家#送你一朵小红花 #送一朵小红花告别2020"</span><span class="token punctuation">,</span>
      <span class="token string">"create_time"</span><span class="token punctuation">:</span> <span class="token number">1608523210</span><span class="token punctuation">,</span>
      <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"uid"</span><span class="token punctuation">:</span> <span class="token string">"85837556756"</span><span class="token punctuation">,</span>
        <span class="token string">"short_id"</span><span class="token punctuation">:</span> <span class="token string">"331226453"</span><span class="token punctuation">,</span>
        <span class="token string">"nickname"</span><span class="token punctuation">:</span> <span class="token string">"袁小葳"</span><span class="token punctuation">,</span>
        <span class="token string">"signature"</span><span class="token punctuation">:</span> <span class="token string">"酷狗/网易云音乐搜索：袁小葳（最后一个字念微）\n网易☁️电台搜索：阿袁的歌单\n全民k歌：457700932\n🐧群：596919261\n合作vx：hz-flow16\n咨询🎸vx：jitavvvvv\n更新时间是中午12点哦\nQQ音乐：袁小葳（最后一个字念微）\n🧣：袁小葳（最后一个字念微）"</span><span class="token punctuation">,</span>
        <span class="token string">"avatar_larger"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string">"uri"</span><span class="token punctuation">:</span> <span class="token string">"1080x1080/2ec9c0004e65964c250c2"</span><span class="token punctuation">,</span>
          <span class="token string">"url_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">"https://p5-dy-ipv6.byteimg.com/aweme/1080x1080/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p3-dy-ipv6.byteimg.com/aweme/1080x1080/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p9-dy.byteimg.com/aweme/1080x1080/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p5-dy-ipv6.byteimg.com/aweme/1080x1080/2ec9c0004e65964c250c2.jpeg?from=2563711402"</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token string">"width"</span><span class="token punctuation">:</span> <span class="token number">720</span><span class="token punctuation">,</span>
          <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">720</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"avatar_thumb"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string">"uri"</span><span class="token punctuation">:</span> <span class="token string">"100x100/2ec9c0004e65964c250c2"</span><span class="token punctuation">,</span>
          <span class="token string">"url_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">"https://p6-dy-ipv6.byteimg.com/aweme/100x100/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p26-dy.byteimg.com/aweme/100x100/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p29-dy.byteimg.com/aweme/100x100/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p6-dy-ipv6.byteimg.com/aweme/100x100/2ec9c0004e65964c250c2.jpeg?from=2563711402"</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token string">"width"</span><span class="token punctuation">:</span> <span class="token number">720</span><span class="token punctuation">,</span>
          <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">720</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"avatar_medium"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string">"uri"</span><span class="token punctuation">:</span> <span class="token string">"720x720/2ec9c0004e65964c250c2"</span><span class="token punctuation">,</span>
          <span class="token string">"url_list"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">"https://p5-dy-ipv6.byteimg.com/aweme/720x720/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p6-dy-ipv6.byteimg.com/aweme/720x720/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p9-dy.byteimg.com/aweme/720x720/2ec9c0004e65964c250c2.webp?from=2563711402"</span><span class="token punctuation">,</span>
            <span class="token string">"https://p5-dy-ipv6.byteimg.com/aweme/720x720/2ec9c0004e65964c250c2.jpeg?from=2563711402"</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token string">"width"</span><span class="token punctuation">:</span> <span class="token number">720</span><span class="token punctuation">,</span>
          <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">720</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"is_verified"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">"follow_status"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"is_block"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">"location"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string">"hide_location"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">"custom_verify"</span><span class="token punctuation">:</span> <span class="token string">"抖音音乐人"</span><span class="token punctuation">,</span>
        <span class="token string">"unique_id"</span><span class="token punctuation">:</span> <span class="token string">"vivian020322"</span><span class="token punctuation">,</span>
        <span class="token string">"story_count"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"room_id"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"authority_status"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"verify_info"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token string">"share_info"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token string">"share_url"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>省略
</code></pre> 
<ul><li><strong>1.5 请求响应分析：</strong></li></ul> 
<pre><code class="prism language-yaml">aweme_list列表中每次会返回20条喜欢的内容每一条包括：
       desc：视频下的文字描述
       author：视频创作者的信息：
	        nickname：抖音里的昵称
			signature：抖音里的主页描述
			avatar_larger、avatar_thumb、avatar_medium：不同尺寸的抖音头像
			is_verified：是否认证
			custom_verify：认证的描述
			unique_id：抖音号
	   share_info：分享的信息：
	        share_url：有水印的视频地址url（长期有效）
	        share_qrcode_url：分享的二维码
	   music：视频的音乐信息
	        play_url：音乐地址url
	   <span class="token key atrule">video</span><span class="token punctuation">:</span> 视频信息
	        uri<span class="token punctuation">:</span>视频的唯一id（重要）
	        play_addr：无水印的视频播放地址url（短时间有效，超时无法打开）
			<span class="token key atrule">cover</span><span class="token punctuation">:</span> 视频封面地址
			download_addr：带水印的视频地址
</code></pre> 
<p>其中</p> 
<ul><li><strong>play_addr是无水印的视频链接</strong>，该链接接做了时间限制，把链接复制出来在浏览器内打开短时间内可以观看和下载，但是超出时间限制则无法访问，那怎么搞？看下面的uri。</li><li><strong>share_url有水印的视频地址url</strong>（长期有效）</li><li><strong>uri</strong>视频的唯一id，把uri复制替换下面的uri，浏览器打开，你会发现一片空白，但是发送到手机或者电脑浏览器用手机模式打开就可以看到原视频了</li></ul> 
<pre><code class="prism language-java">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>aweme<span class="token punctuation">.</span>snssdk<span class="token punctuation">.</span>com<span class="token operator">/</span>aweme<span class="token operator">/</span>v1<span class="token operator">/</span>play<span class="token operator">/</span><span class="token operator">?</span>video_id<span class="token operator">=</span>uri<span class="token operator">&amp;</span>ratio<span class="token operator">=</span><span class="token number">720</span>p<span class="token operator">&amp;</span>line<span class="token operator">=</span><span class="token number">0</span>
</code></pre> 
<p>或者：</p> 
<pre><code class="prism language-java">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>aweme<span class="token punctuation">.</span>snssdk<span class="token punctuation">.</span>com<span class="token operator">/</span>aweme<span class="token operator">/</span>v1<span class="token operator">/</span>play<span class="token operator">/</span><span class="token operator">?</span>video_id<span class="token operator">=</span>uri
</code></pre> 
<p><strong>比如：</strong></p> 
<blockquote> 
 <p>https://aweme.snssdk.com/aweme/v1/play/?video_id=v0d00ffa0000bvq6d47clnok9ciqf3jg&amp;ratio=720p&amp;line=0</p> 
</blockquote> 
<p>手机模式打开就可以看到无水印视频了，然后复制地址栏的地址就是视频的真实地址了，这个地址手机电脑都能打开播放下载。<br> <img src="https://images2.imgbox.com/8c/b6/kvfhaN8r_o.png" alt="在这里插入图片描述"></p> 
<p>抖音apk使用jadx逆向后发现包名、变量、函数名很多都经过了混淆：</p> 
<p><img src="https://images2.imgbox.com/0a/6f/cdQbtz0d_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/11/18/OTaYILyR_o.png" alt="在这里插入图片描述"><br> 太难顶了。</p> 
<p>Fiddler和模拟器的使用请参考我另一篇文章<br> <a href="https://blog.csdn.net/qq_33697094/article/details/111596004">Fiddler+夜神模拟器+xposed+justTrustMe手机抓包</a></p> 
<h4><a id="_164"></a>二、批量下载抖音里的点了红心的视频思路：</h4> 
<p>1.参照上面的文章，配置好fiddler和模拟器，打开fiddler开始抓包，模拟器打开抖音登录自己的账号，点击喜欢的视频列表开始滑动。（因为没有使用脚本或其他工具去模拟滑动屏幕操作，所以这里需要手动滑动，我喜欢的视频只有600多个，慢慢的滑的估计只要两分钟可以滑完）。<br> <img src="https://images2.imgbox.com/bc/03/lvnJqq8G_o.png" alt="在这里插入图片描述"></p> 
<p>2.滑完之后fiddler关闭抓包，然后过滤下url，获取所有喜欢列表的请求。<br> <img src="https://images2.imgbox.com/06/14/mU33OYlM_o.png" alt="在这里插入图片描述"><br> 过滤出的请求就是所有喜欢列表的的请求，每个请求里的响应就包含了视频url、封面、描述等信息。</p> 
<p>3.选择save保存所有的请求为会话，给本次会话起个名字，然后在左侧会看到本次保存的会话。<br> <img src="https://images2.imgbox.com/0b/2d/9CfERcJs_o.png" alt="在这里插入图片描述"></p> 
<p>4.选择保存的会话右键Export导出，导出格式选择Raw File。Raw File格式可以将所有响应保存为json文件。<br> <img src="https://images2.imgbox.com/01/3e/zR2jNMhs_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/16/b5/P7nRD8Lg_o.png" alt="在这里插入图片描述"><br> 5.写代码解析上面获得的响应文件，从响应文件中获取url和视频信息，然后通过url下载视频。</p> 
<p>代码主要用到的jar包：</p> 
<blockquote> 
 <p>fastjson-1.2.70.jar<br> httpclient-4.5.12.jar<br> httpcore-4.4.13.jar<br> commons-lang3-3.3.9.jar</p> 
</blockquote> 
<p>jar包已上传<a href="https://pan.baidu.com/s/1nj062TwzDqZrAJVQdEU6hQ" rel="nofollow">百度云</a>，提取码：di81</p> 
<h4><a id="_190"></a>三、主要的代码：</h4> 
<p><strong>响应文件解析获取url类：</strong><br> path 改成上面导出的文件夹里的favorite文件夹地址</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> utils<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span>JSONArray<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span>JSONObject<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ConcurrentHashMap<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Douyin</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 存放所有的响应文件名
     */</span>
    <span class="token keyword">private</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> files <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * 存放所有视频名称和url，&lt;视频信息，url&gt;
     */</span>
    <span class="token keyword">private</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> videoMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/**
     * 要解析的响应文件存放路径
     */</span>
    <span class="token keyword">private</span> String path <span class="token operator">=</span> <span class="token string">"D:\\fiddlerSaveFile\\2021-1-14\\aweme.snssdk.com\\aweme\\v1\\aweme\\favorite\\"</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> number<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>


    <span class="token keyword">public</span> String <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPath</span><span class="token punctuation">(</span>String path<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 获取响应文件中的视频url地址（aweme_list中的play_addr到videoMap）
     *
     * @param filePath
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getVideoUrl</span><span class="token punctuation">(</span>String filePath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        StringBuilder jaonstr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span>
                <span class="token comment">//读取文件为字节流</span>
                FileInputStream file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//字节流转化为字符流，以UTF-8读取防止中文乱码</span>
                InputStreamReader in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//加入到缓存</span>
                BufferedReader buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            String str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//按行读取，到达最后一行返回null</span>
                jaonstr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        JSONObject json <span class="token operator">=</span> JSONObject<span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jaonstr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//字符串转json对象</span>
        JSONArray jsonArray <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">getJSONArray</span><span class="token punctuation">(</span><span class="token string">"aweme_list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> jsonArray<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            String videoInfo <span class="token operator">=</span> jsonArray<span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"desc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            JSONObject videoJson <span class="token operator">=</span> jsonArray<span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span><span class="token string">"video"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            JSONObject playAddrJson <span class="token operator">=</span> videoJson<span class="token punctuation">.</span><span class="token function">getJSONObject</span><span class="token punctuation">(</span><span class="token string">"play_addr"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String videoUrl <span class="token operator">=</span> playAddrJson<span class="token punctuation">.</span><span class="token function">getJSONArray</span><span class="token punctuation">(</span><span class="token string">"url_list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>number<span class="token operator">+</span><span class="token string">".标题:"</span><span class="token operator">+</span>videoInfo<span class="token operator">+</span><span class="token string">",url:"</span><span class="token operator">+</span>videoUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
            number<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>
            videoMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>videoInfo<span class="token punctuation">,</span> videoUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * 获取所有的视频url返回
     *
     * @param
     * @return videoMap
     */</span>
    <span class="token keyword">public</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> <span class="token function">getAllVideoUrlToMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//获取path路径下的所有文件绝对路径到files</span>
        File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
        File<span class="token punctuation">[</span><span class="token punctuation">]</span> tempList <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tempList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tempList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                files<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tempList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//遍历files解析每个文件获取url到videoMap</span>
        files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>v <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token function">getVideoUrl</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>videoMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>视频下载类：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> utils<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span>StringUtils<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpEntity<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpResponse<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpStatus<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>HttpClient<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>config<span class="token punctuation">.</span>RequestConfig<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>CloseableHttpResponse<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>HttpGet<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>client<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>HttpPost<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>ContentType<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>StringEntity<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>client<span class="token punctuation">.</span>CloseableHttpClient<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>client<span class="token punctuation">.</span>HttpClients<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span>util<span class="token punctuation">.</span>EntityUtils<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>*<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpUtil</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> RequestConfig requestConfig <span class="token operator">=</span> RequestConfig<span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setSocketTimeout</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setConnectTimeout</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> String chaset <span class="token operator">=</span> <span class="token string">"UTF-8"</span><span class="token punctuation">;</span>    <span class="token comment">// 默认编码</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> String videoDownLoadPath <span class="token operator">=</span> <span class="token string">"D:\\video\\"</span><span class="token punctuation">;</span>    <span class="token comment">// 默认视频下载的位置</span>

    <span class="token comment">/**
     * 发送 GET 请求（HTTP），无参数
     *
     * @param url
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">doGet</span><span class="token punctuation">(</span>String url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token string">"url不能为空"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 创建http GET请求</span>
        <span class="token comment">//logger.info("url:{}", url);</span>
        HttpGet httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置请求和传输超时时间</span>
        httpGet<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span>requestConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        String result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span>CloseableHttpClient httpclient <span class="token operator">=</span> HttpClients<span class="token punctuation">.</span><span class="token function">createDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建Httpclient对象</span>
             CloseableHttpResponse response <span class="token operator">=</span> httpclient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 执行请求</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> statusCode <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>statusCode <span class="token operator">==</span> HttpStatus<span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                result <span class="token operator">=</span> EntityUtils<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> chaset<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//logger.info("HttpGet方式请求成功！返回结果：{}", result);</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// logger.info("HttpGet方式请求失败！状态码:" + statusCode);</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 发送 GET 请求（HTTP），有参数
     *
     * @param url
     * @param params
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">doGet</span><span class="token punctuation">(</span>String url<span class="token punctuation">,</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>null <span class="token operator">!=</span> params<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            StringBuffer extraUrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>String key <span class="token operator">:</span> params<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    extraUrl<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    extraUrl<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                extraUrl<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                temp<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            url <span class="token operator">+=</span> extraUrl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">doGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 发送 POST 请求（HTTP），无参数
     *
     * @param url
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">doPost</span><span class="token punctuation">(</span>String url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">doPost</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 发送 POST 请求（HTTP），有参数
     *
     * @param url
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">doPost</span><span class="token punctuation">(</span>String url<span class="token punctuation">,</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建http POST请求</span>
        HttpPost httpPost <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpPost</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpPost<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span>requestConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        httpPost<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            httpPost<span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringEntity</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">,</span> ContentType<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"application/json"</span><span class="token punctuation">,</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        String result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span>CloseableHttpClient httpclient <span class="token operator">=</span> HttpClients<span class="token punctuation">.</span><span class="token function">createDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 创建Httpclient对象</span>
             CloseableHttpResponse response <span class="token operator">=</span> httpclient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpPost<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 执行请求</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//logger.info("httpPost:{}", httpPost);</span>
            <span class="token keyword">int</span> statusCode <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getStatusLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>statusCode <span class="token operator">==</span> HttpStatus<span class="token punctuation">.</span>SC_OK<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                result <span class="token operator">=</span> EntityUtils<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> chaset<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//logger.info("HttpPost方式请求成功！返回结果：{}", result);</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//logger.info("HttpPost方式请求失败！状态码:" + statusCode);</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * 发通过url下载视频，下载到默认目录D:\video\,下载的文件名是数字
     *
     * @param url
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">downloadVideo</span><span class="token punctuation">(</span>String url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">downloadVideo</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> null<span class="token punctuation">,</span> videoDownLoadPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 发通过url下载视频,默认下载到D:\video\，文件名是传入的fileName
     *
     * @param url
     * @param fileName 下载到本地的文件名
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">downloadVideo</span><span class="token punctuation">(</span>String url<span class="token punctuation">,</span> String fileName<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">downloadVideo</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> fileName<span class="token punctuation">,</span> videoDownLoadPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/**
     * 发通过url下载视频，下载的视频文件名是数字
     *
     * @param url
     * @param fileName 保存的视频名，为空则保存为数字
     * @param filepath 下载到本地的路径，为空则保存到默认路径D:\video\
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">downloadVideo</span><span class="token punctuation">(</span>String url<span class="token punctuation">,</span> String fileName<span class="token punctuation">,</span> String filepath<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        String filename <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token string">"url不能为空"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//获取视频流</span>
            HttpClient client <span class="token operator">=</span> HttpClients<span class="token punctuation">.</span><span class="token function">createDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            HttpGet httpget <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
            HttpResponse response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpget<span class="token punctuation">)</span><span class="token punctuation">;</span>
            HttpEntity entity <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            InputStream is <span class="token operator">=</span> entity<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//文件保存路径为空则使用默认路径</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                filepath <span class="token operator">=</span> videoDownLoadPath<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//filepath不是斜杠结束的在末尾添加斜杠</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>filepath<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">!=</span> filepath<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"\\"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                filepath <span class="token operator">+=</span> <span class="token string">"\\"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//如果没有文件夹，则创建</span>
            File file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>StringUtils<span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//获取文件夹下的文件数量，文件数量加一作为要下载的文件名</span>
                <span class="token keyword">int</span> fileCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                File<span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        fileCount<span class="token operator">++</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                fileCount <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                filename <span class="token operator">=</span> filepath <span class="token operator">+</span> fileCount <span class="token operator">+</span> <span class="token string">".mp4"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//windows里文件名不能有特殊符号，fileName里去除\/:*?"&lt;&gt;|</span>
                fileName <span class="token operator">=</span> fileName<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\?"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\|"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\\\"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\*"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\&lt;"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"\\&gt;"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//fileName作为要下载的文件名</span>
                filename <span class="token operator">=</span> filepath <span class="token operator">+</span> fileName <span class="token operator">+</span> <span class="token string">".mp4"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//如果文件不存在则创建文件</span>
            File file_name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file_name<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//创建文件</span>
                file_name<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//视频流写入文件</span>
            FileOutputStream fileout <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            BufferedInputStream buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> ch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ch <span class="token operator">=</span> buf<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                fileout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fileout<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            fileout<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">"下载成功！文件名："</span> <span class="token operator">+</span> filename <span class="token operator">+</span> <span class="token string">",url:"</span> <span class="token operator">+</span> url<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>下载测试：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> utils<span class="token punctuation">.</span>Douyin<span class="token punctuation">;</span>
<span class="token keyword">import</span> utils<span class="token punctuation">.</span>HttpUtil<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException <span class="token punctuation">{<!-- --></span>
        Douyin douyin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Douyin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> douyin<span class="token punctuation">.</span><span class="token function">getAllVideoUrlToMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-------------------------------------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"共"</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"个视频,开始下载"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-------------------------------------------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> m <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"开始下载第"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"个视频，视频信息："</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">",url:"</span><span class="token operator">+</span>m<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String a<span class="token operator">=</span> HttpUtil<span class="token punctuation">.</span><span class="token function">downloadVideo</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"第"</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">"个视频下载完成！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/48/dd/wPDk0PQm_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/2c/f3/xf7NshxM_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/09/20/EaO5cCUQ_o.png" alt="在这里插入图片描述"><br> 至此，完结！<br> <img src="https://images2.imgbox.com/72/06/uozRgSRO_o.png" alt="在这里插入图片描述"></p> 
<p>参考：<br> <a href="https://www.jianshu.com/p/54f12e6c1d7e" rel="nofollow">抖音平台分析</a><br> <a href="https://www.jianshu.com/p/3b7a9980c837" rel="nofollow">抖音X-GorgonXgorgon等参数算法在线生成算法</a><br> <a href="https://blog.csdn.net/weixin_43582101/article/details/105996989">抖音APP接口分析</a><br> <a href="https://blog.csdn.net/q690080900/article/details/83748488">抖音爬虫解决方案 获取用户视频/信息 java+appium1.7.2+夜神模拟器+fiddler4</a><br> <a href="https://cloud.tencent.com/developer/article/1131879" rel="nofollow">抖音APP的视频数据采集方法（简书首发）</a><br> <a href="http://www.yxfzedu.com/rs_show/253" rel="nofollow">抖音短视频x-gorgon算法入口定位查找过程笔记</a><br> <a href="https://www.jianshu.com/p/e5b021df2170" rel="nofollow">Android 反编译利器，jadx 的高级技巧</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3dadea72ad8c32fd8afbcf0ae0b858d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">提供HTTP、HTTPS都可访问的API</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33082f6b9f7747dbee647836771dfabf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">网页被劫持怎么修复？主页被劫持修复方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>