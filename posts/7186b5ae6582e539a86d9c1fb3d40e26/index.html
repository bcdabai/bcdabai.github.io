<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>操作系统---简单页式管理「Java」 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="操作系统---简单页式管理「Java」" />
<meta property="og:description" content="题目描述： 设计一个内存分配模拟程序。假定在计算机系统作业后备队列中有六个等待调度运行的作业，参与分配的内存大小为32KB，采用简单页式管理，每个页帧的大小为1KB。根据要求进行内存的分配和回收。要求打印内存分配表。有关作业的组织和作业有关参数的设置请自行设计，要大致符合实际情况。 效果演示图：
1.测试数据
作业信息 作业序号作业大小作业完成所需时间使用何种颜色表示该作业 1154 黄色
213 红色 322 绿色
4181 橙色
5102 蓝色
6113红色 2.效果图：(传不了.mp4，暴风哭泣)
代码： Block类：
一共有32个页帧，一个格子代表一个页帧 package PageStorageManagement3; import java.awt.Color; import javax.swing.Spring; public class Block { //格子编号 public int number; //初始颜色。白色 public Color c=Color.white; //初始状态。空闲 public String stateblock=&#34;free&#34;; } JobMessage类：
每个作业的信息
package PageStorageManagement3; import java.awt.Color; import javax.swing.Spring; public class JobMessage { public JobMessage(int id2, int saneed, int i,int coc) { this.id=id2; size=saneed; this.needtime=i; if(coc==1) color=Color." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7186b5ae6582e539a86d9c1fb3d40e26/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-08T02:35:17+08:00" />
<meta property="article:modified_time" content="2019-05-08T02:35:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">操作系统---简单页式管理「Java」</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3> </h3> 
<blockquote> 
 <h3><span style="color:#86ca5e;">题目描述：</span></h3> 
 <h4>设计一个内存分配模拟程序。假定在计算机系统作业后备队列中有六个等待调度运行的作业，参与分配的内存大小为32KB，采用简单页式管理，每个页帧的大小为1KB。根据要求进行内存的分配和回收。要求打印内存分配表。有关作业的组织和作业有关参数的设置请自行设计，要大致符合实际情况。</h4> 
</blockquote> 
<p>效果演示图：</p> 
<p>1.测试数据</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:378px;"><caption>
   作业信息 
 </caption><tbody><tr><td style="width:75px;">作业序号</td><td style="width:84px;">作业大小</td><td style="width:99px;">作业完成所需时间</td><td style="width:113px;">使用何种颜色表示该作业</td></tr><tr><td style="width:75px;">         1</td><td style="width:84px;">15</td><td style="width:99px;">4</td><td style="width:113px;"> <p>黄色</p> </td></tr><tr><td style="width:75px;">         2</td><td style="width:84px;">1</td><td style="width:99px;">3</td><td style="width:113px;"> <p>红色 </p> </td></tr><tr><td style="width:75px;">         3</td><td style="width:84px;">2</td><td style="width:99px;">2</td><td style="width:113px;"> <p>绿色</p> </td></tr><tr><td style="width:75px;">         4</td><td style="width:84px;">18</td><td style="width:99px;">1</td><td style="width:113px;"> <p>橙色</p> </td></tr><tr><td style="width:75px;">         5</td><td style="width:84px;">10</td><td style="width:99px;">2</td><td style="width:113px;"> <p>蓝色</p> </td></tr><tr><td style="width:75px;">         6</td><td style="width:84px;">11</td><td style="width:99px;">3</td><td style="width:113px;">红色</td></tr></tbody></table> 
<p>                                                             <img alt="" class="has" height="189" src="https://images2.imgbox.com/cf/75/NNerXoAq_o.png" width="385"></p> 
<p>2.效果图：(传不了.mp4，暴风哭泣)</p> 
<p style="text-align:center;"><img alt="" class="has" height="308" src="https://images2.imgbox.com/bf/4b/fhFA1Eyo_o.png" width="600"></p> 
<h3><span style="color:#7c79e5;"><strong> 代码：</strong></span></h3> 
<p><span style="color:#7c79e5;"><strong>Block类：</strong></span></p> 
<p><span style="color:#7c79e5;"><strong>       一共有32个页帧，一个格子代表一个页帧  </strong></span></p> 
<pre class="has"><code>package PageStorageManagement3;

import java.awt.Color;

import javax.swing.Spring;

public class Block {
//格子编号
public int number;
//初始颜色。白色
public Color  c=Color.white;
//初始状态。空闲
public String stateblock="free";
}
</code></pre> 
<p> <strong><span style="color:#7c79e5;">JobMessage类：</span></strong></p> 
<p><strong><span style="color:#7c79e5;">            每个作业的信息</span></strong></p> 
<pre class="has"><code>package PageStorageManagement3;

import java.awt.Color;

import javax.swing.Spring;

public class JobMessage {
public JobMessage(int id2, int saneed, int i,int coc) {
		this.id=id2;
		size=saneed;
		this.needtime=i;
			if(coc==1)  color=Color.YELLOW;
			if(coc==2)  color=Color.red;
			if(coc==3)  color=Color.green;
			if(coc==4)  color=Color.orange;
			if(coc==5)  color=Color.BLUE;
			if(coc==6)  color=Color.decode("#9370DB");
	}
public  int id;
public int needtime;//所需时间
public int  size;//大小，同时包括被划分多少块
public String state="wait";
public Color color;

}
</code></pre> 
<p> </p> 
<p><strong> <span style="color:#7c79e5;">PageStorageManagement类：</span></strong></p> 
<p><span style="color:#7c79e5;">            界面显示</span></p> 
<pre class="has"><code>package PageStorageManagement3;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

import javax.swing.JFrame;
import javax.swing.JPanel;

public class PageStorageManagement extends JFrame {
	public static void main(String[] args) {
		PageStorageManagement p = new PageStorageManagement();
		p.show();
	}
	private int num;
	private ArrayList&lt;JobMessage&gt; list = new ArrayList&lt;JobMessage&gt;();
	private Graphics gr;
	private int size;
	private Color c=Color.white;
	private Color color;
    private int x1, y1, x2, y2;
//画最初32格子
	public void paint(Graphics gr,int start,int end) {
		super.paint(gr);
		x1 = 0;
		y1 = 0;
		x2 = 0;
		y2 = 0;
		size=100;
		gr.setColor(Color.BLACK);
		gr.drawRect(0, 0, 800, 400);
		// 4*8=32个格子 四行8列 一个格子100*100， 长100*8=800 宽4*100=400 行line
		for (int l = 1; l &lt;= 3; ++l) {
			gr.drawLine(x1, y1 + 100 * l, 800, y2 + 100 * l);
		}
		for(int i=0;i&lt;8;++i) {
			for(int j=0;j&lt;4;++j) {
				gr.setColor(Color.white);
				gr.fillRect(size*i, size*j,size, size);
			}
		}
	}
	
//界面
	public void show() {
		list.add(new JobMessage(1, 15,4,1));
		list.add(new JobMessage(2, 1,3,2));
		list.add(new JobMessage(3, 2,2,3));
		list.add(new JobMessage(4, 18,1,4));
		list.add(new JobMessage(5, 10,2,5));
		list.add(new JobMessage(6, 11,3,6));
		JFrame jf = new JFrame();
		jf.setTitle(" 页式存储管理 ");
		jf.setSize(800, 410);
		jf.setDefaultCloseOperation(3);
		jf.setLocationRelativeTo(null);
		jf.getContentPane().setBackground(Color.gray);
		this.setPreferredSize(new Dimension(800,400));
		JPanel jp=new JPanel();
		jp.setPreferredSize(new Dimension(800,400));
		jp.setBackground(Color.gray);
		jf.add(jp, BorderLayout.CENTER);
		jf.setVisible(true);
		gr = jp.getGraphics();
		paint(gr,1,32);
		ProcessSchedul pro=new ProcessSchedul(this,gr,list,num,this);
	}
}</code></pre> 
<p> </p> 
<pre class="has"><code>package PageStorageManagement3;

import java.awt.Color;
import java.awt.Container;
import java.awt.Graphics;
import java.util.ArrayList;

import javax.swing.JOptionPane;

public class ProcessSchedul extends Thread {

	private PageStorageManagement page;
	private Graphics gr;
	private ArrayList&lt;JobMessage&gt; list;
	private ArrayList&lt;JobMessage&gt; use;
	private int count;
	private boolean flag = true;
	private ArrayList&lt;JobMessage&gt; finish = new ArrayList&lt;JobMessage&gt;();
	public ArrayList&lt;Block&gt; block = new ArrayList&lt;Block&gt;();
	private int num=6;
	private int size = 100;
	public int i;
	public Block j;
	private int a = 0;
	private int busy;
	private PageStorageManagement jf;
    //构造函数传参
	public ProcessSchedul(PageStorageManagement pageStorageManagement, Graphics gr, ArrayList&lt;JobMessage&gt; list,
			int num, PageStorageManagement pageStorageManagement2) {
		this.jf = pageStorageManagement;
		this.gr = gr;
		this.list = list;
		use = list;
		this.num = num;
		num=6;
        //页帧初始化
		for (i = 0; i &lt; 32; i++) {
			Block b = new Block();
			b.stateblock = "free";
			block.add(b);
		}
        //线程启动
		run();
	}

	public int g = 0;
	public void run() {
		while (flag) {
			for(int h=0;h&lt;finish.size();++h) {
				for(int tt=0;tt&lt;block.size();++tt) {
					if(block.get(tt).number==finish.get(h).id) {
					block.get(tt).stateblock="free";
					block.get(tt).c=Color.white;
					block.get(tt).number=0;
			}
				}
				}
			System.out.println("finish  大小"+finish.size());
					for( g=0;g&lt;use.size();++g) {
						if(!use.get(g).state.equals("finish")&amp;&amp;use.get(g).needtime&gt;0) {
							if (use.get(g).size&lt;=free()&amp;&amp;use.get(g).state.equals("wait")) {
								use.get(g).needtime--;
								draw(use.get(g).size, use.get(g).color, use.get(g).id);
								use.get(g).state="run";
							}
							else if(use.get(g).state.equals("run"))
							{
								use.get(g).needtime--;
							}
							else if(use.get(g).size&gt;free()&amp;&amp;use.get(g).state.equals("wait"))
							{
								break;
							}
							}
							else if(!use.get(g).state.equals("finish")&amp;&amp;use.get(g).needtime&lt;=0) {
							finish.add(use.get(g));
							use.get(g).state = "finish";
						}
							
					
					}
						
				if (finish.size() ==6) {
					flag = false;
					System.out.println("进程全部执行");
					JOptionPane.showMessageDialog(jf,"进程全部执行");
				}
				for(int h=0;h&lt;use.size();++h) {
					System.out.println("use"+(h+1)+"的时间为"+use.get(h).needtime);
				}
		
				for(int k=0;k&lt;use.size();++k) {
					System.out.println(use.get(k).id+"状态"+use.get(k).state);
					}
	

			try {
				Thread.sleep(1000);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		}

	}
    //返回空闲页帧数
	public int free() {
		
		int free = 0;
		for (int h = 0; h &lt; 32; h++) {
			if (block.get(h).stateblock.equals("free")) {
				free++;
			}
		}
		System.out.println("free=="+free);
		return free;
	}

	private void draw(int size, Color color, int n) {
		System.out.println("draw big color ");
		System.out.println("大小=="+size);
		for (int l = 1; l &lt;= 3; ++l) {
			gr.drawLine(0,  100 * l, 800, 100 * l);
		}
		int finishgezi=0;
		for (int h = 0; h &lt; 32; h++) {
			if(finishgezi&lt;size) {
			if (block.get(h).stateblock.equals("free")) {
				block.get(h).stateblock = "busy";
				block.get(h).c = color;
				block.get(h).number = n;
			finishgezi++;
			}
			}
		}
		for (i = 0; i &lt; block.size(); i++) {
			System.out.println("block"+i+"状态"+block.get(i).stateblock+"      bianhuan"+block.get(i).number);
			j = block.get(i);
			gr.setColor(j.c);
				gr.fillRect((int)(100 * (i - 8 *((int) (i / 8)))), (int)(100 *((int) (i / 8))), 100, 100);
				gr.setColor(color.black);
				gr.drawRect((int)(100 * (i - 8 *(int) (i / 8))), (int)(100 *(int) (i / 8)), 100, 100);
				}
		    //画格子的规律
			// 0-7 x=i*size y=0
			// s8-15 x=(i-8)*size y=100*1=100*(i/8)
			// 16-23 x=size*(i-8*(i/8)) y=100*(i/8)
		}
}
</code></pre> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/836c5c850fda38f80cf6fdcca9da9dbe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux系统设置中文</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/75395972eefbeda7ec3fab33c43755b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机网络：第四章网络层课后习题及答案（精细版）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>