<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Token请求数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Token请求数据" />
<meta property="og:description" content="1.什么是Token?原文 token的意思是“令牌”，是服务端生成的一串字符串，作为客户端进行请求的一个标识。当用户第一次登录后，服务器生成一个token并将此token返回给客户端，以后客户端只需带上这个token前来请求数据即可，无需再次带上用户名和密码。简单token的组成：uid(用户唯一的身份标识)、time(当前时间的时间戳)、sign（签名，token的前几位以哈希算法压缩成的一定长度的十六进制字符串。为防止token泄露）。 2.为什么要用Token? Token 完全由应用管理，所以它可以避开同源策略Token 可以避免 CSRF攻击（跨站请求伪造）
1.验证 HTTP Referer 字段（记录了 HTTP 请求的来源地址，存在被黑客篡改的可能）
2.在请求地址中添加 token 并验证（所有请求中加入token的字段，麻烦）
3.在 HTTP 头中自定义属性并验证（在请求头中加入token）
axios.defaults.headers.common[‘Token’] = tokenMessage;Token 可以是无状态的，可以在多个服务间共享 3.基于token机制的身份认证（流程） 客户端使用用户名和密码请求登录。服务端收到请求，验证用户名和密码。验证成功后，服务端会生成一个token，然后把这个token发送给客户端。客户端收到token后把它存储起来，可以放在cookie或者Local Storage（本地存储）里。客户端每次向服务端发送请求的时候都需要带上服务端发给的token。服务端收到请求，然后去验证客户端请求里面带着token，如果验证成功，就向客户端返回请求的数据。(如果这个 Token 在服务端持久化（比如存入数据库），那它就是一个永久的身份令牌。) 4. cookie 和session的区别原文 1、cookie数据存放在客户的浏览器上，session数据放在服务器上。
2、cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗
考虑到安全应当使用session。
3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能
考虑到减轻服务器性能方面，应当使用COOKIE。
4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。
5、所以个人建议：
将登陆信息等重要信息存放为SESSION
其他信息如果需要保留，可以放在COOKIE中
5.token和cookie 1.在安全性方面，token 能防止 csrf 攻击。
2.在扩展性方面，token 可以处理多端的身份验证，不仅仅局限于浏览器，只要客户端能对 token 进行储存就行。
3.token 在跨域共享资源上表现惊艳，只要不同域的服务器之间约定好签名规则，大家都是一家人！
4.token 可以携带丰富的用户信息，只要不怕别人知道，你想传什么随你便！
5.Cookie 大小4KB，Cookie过期时间一般为1个月。
6.关于token，session，cookie的概念和区别 1.token是 服务经过计算发给客户端的，服务不保存，每次客户端来请求，经过解密等计算来验证是否是自己下发的
2.session是服务本地保存，发给客户端，客户端每次访问都带着，直接和服务的session比对
3.cookie是保存在客户端上的一些基本信息，服务不保存，每次请求时客户端带上cookie，里面有一些账户密码，浏览记录什么的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c98fff00f27c3def2032bed71c8e51a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-15T19:04:38+08:00" />
<meta property="article:modified_time" content="2020-12-15T19:04:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Token请求数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1TokenhttpswwwcnblogscomahaMOMOp12373287html_0"></a>1.什么是Token?<a href="https://www.cnblogs.com/ahaMOMO/p/12373287.html" rel="nofollow">原文</a></h3> 
<ul><li>token的意思是“令牌”，是服务端生成的一串字符串，作为客户端进行请求的一个标识。</li><li>当用户第一次登录后，服务器生成一个token并将此token返回给客户端，以后客户端只需带上这个token前来请求数据即可，无需再次带上用户名和密码。</li><li>简单token的组成：uid(用户唯一的身份标识)、time(当前时间的时间戳)、sign（签名，token的前几位以哈希算法压缩成的一定长度的十六进制字符串。为防止token泄露）。</li></ul> 
<h3><a id="2Token_6"></a>2.为什么要用Token?</h3> 
<ul><li>Token 完全由应用管理，所以它可以避开同源策略</li><li>Token 可以避免 <a href="https://www.cnblogs.com/shanyou/p/5038794.html" rel="nofollow">CSRF攻击</a>（跨站请求伪造）<br> 1.验证 HTTP Referer 字段（记录了 HTTP 请求的来源地址，存在被黑客篡改的可能）<br> 2.在请求地址中添加 token 并验证（所有请求中加入token的字段，麻烦）<br> 3.在 HTTP 头中自定义属性并验证（在请求头中加入token）<br> <strong>axios.defaults.headers.common[‘Token’] = tokenMessage;</strong></li><li>Token 可以是无状态的，可以在多个服务间共享</li></ul> 
<h3><a id="3token_15"></a>3.基于token机制的身份认证（流程）</h3> 
<ol><li>客户端使用用户名和密码请求登录。</li><li>服务端收到请求，验证用户名和密码。</li><li>验证成功后，服务端会生成一个token，然后把这个token发送给客户端。</li><li>客户端收到token后把它存储起来，可以放在cookie或者Local Storage（本地存储）里。</li><li>客户端每次向服务端发送请求的时候都需要带上服务端发给的token。</li><li>服务端收到请求，然后去验证客户端请求里面带着token，如果验证成功，就向客户端返回请求的数据。(如果这个 Token 在服务端持久化（比如存入数据库），那它就是一个永久的身份令牌。)</li></ol> 
<h3><a id="4_cookie_sessionhttpswwwcnblogscomwxinyup9154178html_24"></a>4. cookie 和session的区别<a href="https://www.cnblogs.com/wxinyu/p/9154178.html" rel="nofollow">原文</a></h3> 
<p>1、cookie数据存放在客户的浏览器上，session数据放在服务器上。</p> 
<p>2、cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗<br> 考虑到安全应当使用session。</p> 
<p>3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能<br> 考虑到减轻服务器性能方面，应当使用COOKIE。</p> 
<p>4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</p> 
<p>5、所以个人建议：<br> 将登陆信息等重要信息存放为SESSION<br> 其他信息如果需要保留，可以放在COOKIE中</p> 
<h3><a id="5tokencookie_40"></a>5.token和cookie</h3> 
<p>1.在安全性方面，token 能防止 csrf 攻击。</p> 
<p>2.在扩展性方面，token 可以处理多端的身份验证，不仅仅局限于浏览器，只要客户端能对 token 进行储存就行。</p> 
<p>3.token 在跨域共享资源上表现惊艳，只要不同域的服务器之间约定好签名规则，大家都是一家人！</p> 
<p>4.token 可以携带丰富的用户信息，只要不怕别人知道，你想传什么随你便！</p> 
<p>5.Cookie 大小4KB，Cookie过期时间一般为1个月。</p> 
<h3><a id="6tokensessioncookie_51"></a>6.关于token，session，cookie的概念和区别</h3> 
<p>1.token是 服务经过计算发给客户端的，服务不保存，每次客户端来请求，经过解密等计算来验证是否是自己下发的</p> 
<p>2.session是服务本地保存，发给客户端，客户端每次访问都带着，直接和服务的session比对</p> 
<p>3.cookie是保存在客户端上的一些基本信息，服务不保存，每次请求时客户端带上cookie，里面有一些账户密码，浏览记录什么的</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b31ec35d339104912f49b3431bb6d05b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pintos实验三文档_《计算机网络:自顶向下方法》Wireshark实验二：HTTP</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bb92518e7cd3b74e98804d8fb30df9f8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一、ubuntu16.04下无法连接wifi（试遍所有方法及解决方案）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>