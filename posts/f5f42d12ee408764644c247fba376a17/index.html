<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot中引入Jpa和Thymeleaf - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot中引入Jpa和Thymeleaf" />
<meta property="og:description" content="JPA是Java Persistence API的简称，中文名Java持久层API，是JDK 5.0注解或XML描述对象－关系表的映射关系，并将运行期的实体对象持久化到数据库中。
JPA展示如何将Plain Oriented Java Object(POJO)定义为entity，以及如何管理entity之间的关系。
Thymeleaf is a Java library. It is an XML/XHTML/HTML5 template engine able to apply a set of transformations to template files in order to display data and/or text produced by your applications.
简单说， Thymeleaf 是一个跟 Velocity、FreeMarker 类似的模板引擎，它可以完全替代 JSP
1、配置 pom.xml
&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; application.properties
spring.datasource.driverClassName=oracle.jdbc.driver.OracleDriver
spring.datasource.url=jdbc:oracle:thin:@10.xx.xx.37:1521:xe
spring.datasource.username=orcl
spring.datasource.password=orcl
#模板编码 spring.thymeleaf.mode=LEGACYHTML5 #关闭thymeleaf缓存 开发时使用 否则没有实时画面 spring.thymeleaf.cache=false 如果配置LEGACYHTML5，则需要引入nekohtml
本次代码没有application.properties配置" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f5f42d12ee408764644c247fba376a17/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-15T11:49:08+08:00" />
<meta property="article:modified_time" content="2019-01-15T11:49:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot中引入Jpa和Thymeleaf</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>JPA是Java Persistence API的简称，中文名Java持久层API，是JDK 5.0注解或XML描述对象－关系表的映射关系，并将运行期的实体对象持久化到数据库中。<br> JPA展示如何将Plain Oriented Java Object(POJO)定义为entity，以及如何管理entity之间的关系。<br> <strong>Thymeleaf</strong> is a Java library. It is an XML/XHTML/HTML5 template engine able to apply a set of transformations to template files in order to display data and/or text produced by your applications.<br> 简单说， Thymeleaf 是一个跟 Velocity、FreeMarker 类似的模板引擎，它可以完全替代 JSP</p> 
<h3><a id="1_4"></a>1、配置</h3> 
<p><strong>pom.xml</strong></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>data<span class="token operator">-</span>jpa<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>thymeleaf<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>application.properties</strong><br> spring.datasource.driverClassName=oracle.jdbc.driver.OracleDriver<br> spring.datasource.url=jdbc:oracle:thin:@10.xx.xx.37:1521:xe<br> spring.datasource.username=orcl<br> spring.datasource.password=orcl</p> 
<pre><code class="prism language-javascript">#模板编码 
spring<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>mode<span class="token operator">=</span><span class="token constant">LEGACYHTML5</span>
#关闭thymeleaf缓存 开发时使用 否则没有实时画面
spring<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>cache<span class="token operator">=</span><span class="token boolean">false</span>
</code></pre> 
<p>如果配置<em>LEGACYHTML5</em>，则需要引入nekohtml<br> 本次代码没有application.properties配置</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>net<span class="token punctuation">.</span>sourceforge<span class="token punctuation">.</span>nekohtml<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>nekohtml<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>MvcConfig.java</strong>定义CSS资源映射</p> 
<pre><code class="prism language-javascript">@Configuration
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MvcConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 自定义资源映射
     * addResoureHandler指的是对外暴露的访问路径
     * addResourceLocations指的是文件放置的目录
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span>ResourceHandlerRegistry registry<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    	registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token string">"/css/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token string">"classpath:/css/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
	<span class="token comment">/**
     * 解决ie responsebody返回json的时候提示下载问题
     * 
     * @return
     */</span>
    <span class="token keyword">public</span> MappingJackson2HttpMessageConverter <span class="token function">customJackson2HttpMessageConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        MappingJackson2HttpMessageConverter jsonConverter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MappingJackson2HttpMessageConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span>MediaType<span class="token operator">&gt;</span> supportedMediaTypes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>MediaType<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        MediaType media <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaType</span><span class="token punctuation">(</span>MediaType<span class="token punctuation">.</span><span class="token constant">TEXT_HTML</span><span class="token punctuation">,</span> Charset<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        supportedMediaTypes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>media<span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonConverter<span class="token punctuation">.</span><span class="token function">setSupportedMediaTypes</span><span class="token punctuation">(</span>supportedMediaTypes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> jsonConverter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">//    @Override</span>
<span class="token comment">//    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {<!-- --></span>
<span class="token comment">//        converters.add(customJackson2HttpMessageConverter());</span>
<span class="token comment">//    }</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_68"></a>2、业务模拟</h3> 
<p><strong>JpaUser.java</strong></p> 
<pre><code class="prism language-javascript"><span class="token comment">//实体类，利用对象关系映射生成数据库表</span>
@Entity
@<span class="token function">Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"user_info"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JpaUser</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//javax.persistence.Id</span>
	@Id<span class="token comment">//如果引入org.springframework.data.annotation.Id，则启动报错</span>
    @<span class="token function">GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span>GenerationType<span class="token punctuation">.</span><span class="token constant">SEQUENCE</span><span class="token punctuation">,</span>generator<span class="token operator">=</span><span class="token string">"userid"</span><span class="token punctuation">)</span>
    @<span class="token function">SequenceGenerator</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"userid"</span><span class="token punctuation">,</span> sequenceName<span class="token operator">=</span><span class="token string">"SEQ_USER_INFO"</span><span class="token punctuation">,</span>allocationSize<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">//sequenceName 是在oracle中创建的序列。allocationSize要指定为1，否则它会按照默认50个数字增长。</span>
    <span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>

    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> String password<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String salt<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String state<span class="token punctuation">;</span>

    <span class="token keyword">set</span><span class="token punctuation">,</span><span class="token keyword">get</span><span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>JpaUserRepository.java</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">package</span> com<span class="token punctuation">.</span>test<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>jpa<span class="token punctuation">;</span>

<span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>CrudRepository<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>test<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>model<span class="token punctuation">.</span>JpaUser<span class="token punctuation">;</span>

<span class="token comment">/**
 * 该接口会自动被实现，springdata默认实现了基本的增删改查 CRUD --&gt; Create, Read, Update, Delete
 *
 * 1：Repository：最顶层的接口，是一个空的接口，目的是为了统一所有Repository的类型，且能让组件扫描的时候自动识别。
 * 2：CrudRepository ：是Repository的子接口，提供CRUD的功能
 * 3：PagingAndSortingRepository：是CrudRepository的子接口，添加分页和排序的功能
 * 4：JpaRepository：是PagingAndSortingRepository的子接口，增加了一些实用的功能，比如：批量操作等。
 * 5：JpaSpecificationExecutor：用来做负责查询的接口 
 * 6：Specification：是Spring Data JPA提供的查询规范，要做复杂的查询，只需围绕这个规范来设置查询条件即可
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">JpaUserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">CrudRepository</span><span class="token operator">&lt;</span>JpaUser<span class="token punctuation">,</span> Long<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>JpaController.java</strong></p> 
<pre><code class="prism language-javascript">@Controller
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JpaController</span> <span class="token punctuation">{<!-- --></span>
	@Autowired
	<span class="token comment">// 自动从spring容器中加载userRepository</span>
	<span class="token keyword">private</span> JpaUserRepository userRepository<span class="token punctuation">;</span>
	@Resource
	<span class="token keyword">private</span> PageModel pagemodel<span class="token punctuation">;</span>

	<span class="token comment">//@GetMapping是组合注解，是@RequestMapping(method = RequestMethod.GET)的缩写</span>
	@<span class="token function">GetMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/jpa/add"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> String <span class="token function">addNewUser</span><span class="token punctuation">(</span>@RequestParam String name<span class="token punctuation">,</span>
			@RequestParam String username<span class="token punctuation">,</span> @RequestParam String password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// @RequestParam 表示接收的参数可以是get或post</span>
		JpaUser user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JpaUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
		user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
		userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">//重定向到 根目录index</span>
		<span class="token keyword">return</span> <span class="token string">"redirect:/index"</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	@<span class="token function">GetMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"/jpa/all"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> @ResponseBody Iterable<span class="token operator">&lt;</span>JpaUser<span class="token operator">&gt;</span> <span class="token function">getAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// @ResponseBody 表示返回的string是一个回应（response），不是一个视图</span>
		<span class="token comment">// 返回一个json类型的user</span>
		<span class="token keyword">return</span> userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	@<span class="token function">RequestMapping</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token string">"/index"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">index</span><span class="token punctuation">(</span>Model model<span class="token punctuation">,</span> @<span class="token function">RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"pageNum"</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> String pageNum<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>pageNum<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            pageNum<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        int pagenum<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pagemodel<span class="token punctuation">.</span><span class="token function">setPageNum</span><span class="token punctuation">(</span>pagenum<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pagemodel<span class="token punctuation">.</span><span class="token function">setTotalPages</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		Iterable<span class="token operator">&lt;</span>JpaUser<span class="token operator">&gt;</span> users<span class="token operator">=</span>userRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	
    	model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"pagemodel"</span><span class="token punctuation">,</span>pagemodel<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span><span class="token string">"/index"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>PageModel.java</strong></p> 
<pre><code class="prism language-javascript">@Component
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageModel</span> <span class="token punctuation">{<!-- --></span>
	int pageNum<span class="token punctuation">;</span>
	int totalPages<span class="token punctuation">;</span>	
	
	<span class="token keyword">set</span><span class="token punctuation">,</span><span class="token keyword">get</span><span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3_171"></a>3、测试</h3> 
<p><strong>add</strong>执行后跳转index网页，add录入内容http://cos6743:8081/jpa/add?name=test&amp;username=test001&amp;password=test123<br> <strong>all</strong>录入内容http://cos6743:8081/jpa/all<br> <img src="https://images2.imgbox.com/a7/27/J5r5n7o8_o.jpg" alt="all"><br> <img src="https://images2.imgbox.com/07/78/luqUwv0p_o.jpg" alt="index"><br> <strong>静态文件路径</strong><br> <img src="https://images2.imgbox.com/75/dc/4VyJHaoD_o.jpg" alt="resources"><br> <strong>index.html</strong></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span> xmlns<span class="token punctuation">:</span>th<span class="token operator">=</span><span class="token string">"http://www.thymeleaf.org"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>用户列表<span class="token operator">-</span>userList<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">"stylesheet"</span> th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{css/bootstrap.css}"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>用户列表<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"with:80%"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>table <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"table table-hover"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>thead<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>#<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>账号<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>昵称<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>状态<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>密码<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>Edit<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>Delete<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>从controler层model <span class="token keyword">set</span>的对象<span class="token punctuation">,</span>获取相关的内容；<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>如果没有显示设置状态变量，thymeleaf会默认给个“变量名<span class="token operator">+</span>Stat"的状态变量<span class="token operator">--</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>userStat是状态变量，有 index<span class="token punctuation">,</span>count<span class="token punctuation">,</span>size<span class="token punctuation">,</span>current<span class="token punctuation">,</span>even<span class="token punctuation">,</span>odd<span class="token punctuation">,</span>first<span class="token punctuation">,</span>last等属性<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tr th<span class="token punctuation">:</span>each<span class="token operator">=</span><span class="token string">"user,itemStat:${users}"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>th scope<span class="token operator">=</span><span class="token string">"row"</span> th<span class="token punctuation">:</span>text<span class="token operator">=</span><span class="token string">"${itemStat.count}"</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span>text<span class="token operator">=</span><span class="token string">"${user.username}"</span><span class="token operator">&gt;</span>neo<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span>text<span class="token operator">=</span><span class="token string">"${user.name}"</span><span class="token operator">&gt;</span>neo<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span>text<span class="token operator">=</span><span class="token string">"${user.state}"</span><span class="token operator">&gt;</span><span class="token number">6</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span>text<span class="token operator">=</span><span class="token string">"${user.password}"</span><span class="token operator">&gt;</span>Otto<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/edit(id=${user.id})}"</span><span class="token operator">&gt;</span>edit<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/delete(id=${user.id})}"</span><span class="token operator">&gt;</span><span class="token keyword">delete</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>    
  <span class="token operator">&lt;</span>table <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"table table-hover;with:50%"</span> <span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page?pageNum=0}"</span><span class="token operator">&gt;</span>首页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span><span class="token keyword">switch</span><span class="token operator">=</span><span class="token string">"${pagemodel.pageNum}"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p th<span class="token punctuation">:</span><span class="token keyword">case</span><span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page?pageNum=1}"</span><span class="token operator">&gt;</span>上一页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p th<span class="token punctuation">:</span><span class="token keyword">case</span><span class="token operator">=</span><span class="token string">"*"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page(pageNum=${pagemodel.pageNum-1})}"</span><span class="token operator">&gt;</span>上一页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>td th<span class="token punctuation">:</span><span class="token keyword">switch</span><span class="token operator">=</span><span class="token string">"${pagemodel.pageNum}"</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>p th<span class="token punctuation">:</span><span class="token keyword">case</span><span class="token operator">=</span><span class="token string">"${pagemodel.totalPages}"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page(pageNum=${pagemodel.totalPages})}"</span><span class="token operator">&gt;</span>下一页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>p th<span class="token punctuation">:</span><span class="token keyword">case</span><span class="token operator">=</span><span class="token string">"*"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page(pageNum=${pagemodel.pageNum+1})}"</span><span class="token operator">&gt;</span>下一页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/page(pageNum=${pagemodel.totalPages})}"</span><span class="token operator">&gt;</span>尾页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"form-group"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"col-sm-2 control-label"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/userInfo/userAdd"</span> th<span class="token punctuation">:</span>href<span class="token operator">=</span><span class="token string">"@{/userInfo/userAdd}"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"btn btn-info"</span><span class="token operator">&gt;</span>add<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> 
<p>备注：<strong>thymeleaf模板</strong><br> 在spring-boot下，默认约定Controller跳转thymeleaf模板文件的前缀prefix是"classpath:/templates/"，后缀suffix是".html"<br> 也可以在application.properties配置文件修改，如下：</p> 
<pre><code class="prism language-javascript">spring<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>prefix<span class="token punctuation">:</span> <span class="token regex">/templates/</span>  
spring<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>suffix<span class="token punctuation">:</span> <span class="token punctuation">.</span>html 
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/88684b6c617d001e184ffeeb1d3109f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python中 pickle 模块的 dump() 和 load() 方法详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b946e88618a12c1e01f4f15dc1e1df47/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PyQt入门项目(一)：车票信息查询</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>