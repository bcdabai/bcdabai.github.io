<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DataFrame增删改 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DataFrame增删改" />
<meta property="og:description" content="01.DataFrame行操作
1.添加行
基本格式：
方法：df.append(other) 说明：向 DataFrame 末尾添加 other 新行数据，返回新的 DataFrame
示例：
（1）加载 scientists.csv 数据集
import pandas as pd scientists = pd.read_csv(&#39;./data/scientists.csv&#39;) scientists （2）在 scientists 数据末尾添加一行新数据
# 准备新行数据 new_series = pd.Series([&#39;LuoGeng Hua&#39;, &#39;1910-11-12&#39;, &#39;1985-06-12&#39;, 75, &#39;Mathematician&#39;], index=[&#39;Name&#39;, &#39;Born&#39;, &#39;Died&#39;, &#39;Age&#39;, &#39;Occupation&#39;]) new_series （3）在 scientists 数据末尾添加一行新数据 # 返回新的 DataFrame scientists.append(new_series, ignore_index=True) 2.修改行
基本格式：
方法1：df.loc[[&#39;行标签&#39;, ...],[&#39;列标签&#39;, ...]] 说明：修改行标签对应行的对应列的数据
方法2：df.iloc[[&#39;行位置&#39;, ...],[&#39;列位置&#39;, ...]] 说明：修改行位置对应行的对应列的数据
示例1：修改行标签为 4 的行的所有数据 修改之后：
scientists.loc[4] = [&#39;Rachel Carson&#39;, &#39;1907-5-27&#39;, &#39;1965-4-14&#39;, 57, &#39;Biologist&#39;] scientists 示例2：修改行标签为 4 的行的 Born 和 Age 列的数据" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/55b7e85b7a9c8368b3fa2d06d3d6f42c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-26T16:46:29+08:00" />
<meta property="article:modified_time" content="2022-12-26T16:46:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DataFrame增删改</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>01.DataFrame行操作</p> 
<p>1.添加行</p> 
<p>基本格式：</p> 
<p>方法：df.append(other)    说明：向 DataFrame 末尾添加 other 新行数据，返回新的 DataFrame</p> 
<p>示例：</p> 
<p>（1）加载 scientists.csv 数据集</p> 
<pre><code class="language-python">import pandas as pd
scientists = pd.read_csv('./data/scientists.csv')
scientists </code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/93/54/CsuTXAMZ_o.png"></p> 
<p>（2）在 scientists 数据末尾添加一行新数据</p> 
<pre><code class="language-python"># 准备新行数据 
new_series = pd.Series(['LuoGeng Hua', '1910-11-12', '1985-06-12', 75, 'Mathematician'],  index=['Name', 'Born', 'Died', 'Age', 'Occupation']) 
new_series

 </code></pre> 
<p>（3）在 scientists 数据末尾添加一行新数据 </p> 
<pre><code class="language-python"># 返回新的 DataFrame
scientists.append(new_series, ignore_index=True)
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/db/8b/hk6ITtmF_o.png"></p> 
<p> 2.修改行</p> 
<p>基本格式：</p> 
<p>方法1：df.loc[['行标签', ...],['列标签', ...]]        说明：修改行标签对应行的对应列的数据</p> 
<p>方法2：df.iloc[['行位置', ...],['列位置', ...]]        说明：修改行位置对应行的对应列的数据</p> 
<p>示例1：修改行标签为 4 的行的所有数据  修改之后：</p> 
<pre><code class="language-python">scientists.loc[4] = ['Rachel Carson', '1907-5-27', '1965-4-14', 57, 'Biologist']
scientists</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f9/88/Oay5jfMs_o.png"></p> 
<p>示例2：修改行标签为 4 的行的 Born 和 Age 列的数据</p> 
<pre><code class="language-python">scientists.loc[4, ['Born', 'Age']] = ['1906-5-27', 58]
scientists
</code></pre> 
<p>示例3：修改行标签为 6 的行的 Born 列的数据为 1912-06-23</p> 
<pre><code class="language-python">scientists.loc[6, 'Born'] = '1912-06-23'
scientists
</code></pre> 
<p>3.删除行</p> 
<p>基本格式：</p> 
<p>方法：df.drop(['行标签', ...])     说明：删除行标签对应行的数据，返回新的 DataFrame</p> 
<p>示例：删除行标签为 1 和 3 的行</p> 
<pre><code class="language-python">scientists.drop([1, 3])
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/23/aa/SENDgCud_o.png"></p> 
<p> 02 DataFrame列操作</p> 
<p>1.新增列/修改列</p> 
<p>基本格式：</p> 
<p>方式1：df['列标签']=新列  说明：1）如果 DataFrame 中不存在对应的列，则在 DataFrame 最右侧增加新列2）如果 DataFrame 中存在对应的列，则修改 DataFrame 中该列的数据</p> 
<p>方式2：df.loc[:, 列标签]=新列   说明：1）如果 DataFrame 中不存在对应的列，则在 DataFrame 最右侧增加新列2）如果 DataFrame 中存在对应的列，则修改 DataFrame 中该列的数据</p> 
<p>示例1：给 scientists 数据增加一个 Country 列</p> 
<pre><code class="language-python">scientists

</code></pre> 
<p>  </p> 
<pre><code class="language-python">scientists['Country'] = ['England', 'England', 'England', 'French', 
                         'America', 'England', 'England', 'Germany']
或
scientists.loc[:, 'Country'] = ['England', 'England', 'England', 'French', 
                                'America', 'England', 'England', 'Germany']
scientists
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/9d/7b/76eyP5ZD_o.png"></p> 
<p>示例2：修改 scientists 数据中 Country 列的数据</p> 
<pre><code class="language-python">#国家首字母变成小写
scientists['Country'] = ['england', 'england', 'england', 'french', 
                         'america', 'england', 'england', 'germany']
或scientists.loc[:, 'Country'] = ['england', 'england', 'england', 'french', 
                                'america', 'england', 'england', 'germany']
scientists
</code></pre> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/86/76/VG8RkcvW_o.png"></p> 
<p>2.删除列</p> 
<p>基本格式：</p> 
<p>方式：df.drop(['列标签', ...], axis=1)     说明： 删除列标签对应的列数据，返回新的 DataFrame</p> 
<p>示例：删除 scientists 数据中 Country 列的数据</p> 
<pre><code class="language-python">scientists.drop(['Country'], axis=1)</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e7/4f/m5OAEj1h_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0ea9f32bc70bcd8e058ae6b3a5f10133/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java中的new BufferedReader(new InputStreamReader(System.in))</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d82584a04bc40b13db327538db7ce1e2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pip install 安装指定版本的包</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>