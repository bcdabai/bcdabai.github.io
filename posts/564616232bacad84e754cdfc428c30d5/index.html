<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>lua的table库中的常用函数总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="lua的table库中的常用函数总结" />
<meta property="og:description" content="table是Lua语言中的一种重要的数据类型， table 的一些特性简单列举如下： (1).table 是一个“关联数组”，数组的索引可以是数字或者是字符串; (2).table 的默认初始索引一般以 1 开始; (3).table 的变量只是一个地址引用，对 table 的操作不会产生数据影响; (4).table 不会固定长度大小，有新数据插入时长度会自动增长; (5).table 所有索引值都需要用 “[“和”]” 括起来；如果是字符串，还可以去掉引号和中括号； 即如果没有[]括起，则认为是字符串索引; (6).table 所有元素之间，总是用逗号 “，” 隔开；
lua提供了一些辅助函数来操作table，例如insert、remove等。 %———————————————————————————————————-% １、table.insert and　table.remove table.insert将一个元素插入到指定位置：。 举例１：
t = {1, 2, 3} table.insert(t, 1, 4} t的结果将是{4, 1, 2, 3} 举例２：
t={}; table.insert(t,&#34;a&#34;); table.insert(t,&#34;b&#34;); table.insert(t,&#34;c&#34;); 结果是： { 1 : a 2 : b 3 : c } insert的第二个参数是可以省略的，这样就会插入到数组的最后，从而不必移动其他元素。 同样地，table.remove是从数组中移除（并返回）一个元素，table.remove(t,1)将移除t中下标是1的元素，如果不指定移除位置，则移除最后一个。 %———————————————————————————————————-%
２、table.sort() 另一个有用的函数是sort，对数组进行排序,如果没有提供排序函数，默认是&lt;操作。这里不仅仅是数，对字符串也有效。 举例１:
a = {1,3,2,6,4,8,7,5} print(&#39;排序前:&#39;,a) table." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/564616232bacad84e754cdfc428c30d5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-11-03T18:38:13+08:00" />
<meta property="article:modified_time" content="2015-11-03T18:38:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">lua的table库中的常用函数总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>table</strong>是Lua语言中的一种重要的数据类型， table 的一些特性简单列举如下： <br> (1).table 是一个“关联数组”，数组的索引可以是数字或者是字符串; <br> (2).table 的默认初始索引一般以 1 开始; <br> (3).table 的变量只是一个地址引用，对 table 的操作不会产生数据影响; <br> (4).table 不会固定长度大小，有新数据插入时长度会自动增长; <br> (5).table 所有索引值都需要用 “[“和”]” 括起来；如果是字符串，还可以去掉引号和中括号； 即如果没有[]括起，则认为是字符串索引; <br> (6).table 所有元素之间，总是用逗号 “，” 隔开；</p> 
<p>lua提供了一些辅助函数来操作table，例如insert、remove等。 <br> %———————————————————————————————————-% <br> １、<strong>table.insert 　and　table.remove</strong> <br> table.insert将一个元素插入到指定位置：。 <br> 举例１：</p> 
<pre class="prettyprint"><code class=" hljs fix"><span class="hljs-attribute">t </span>=<span class="hljs-string"> {1, 2, 3}
table.insert(t, 1, 4}</span></code></pre> 
<p>t的结果将是{4, 1, 2, 3} <br> 举例２：</p> 
<pre class="prettyprint"><code class=" hljs sql">t={};
table.<span class="hljs-operator"><span class="hljs-keyword">insert</span>(t,<span class="hljs-string">"a"</span>);</span>
table.<span class="hljs-operator"><span class="hljs-keyword">insert</span>(t,<span class="hljs-string">"b"</span>);</span>
table.<span class="hljs-operator"><span class="hljs-keyword">insert</span>(t,<span class="hljs-string">"c"</span>);</span></code></pre> 
<p>结果是： <br> { <br> 1 : a <br> 2 : b <br> 3 : c <br> } <br> insert的第二个参数是可以省略的，这样就会插入到数组的最后，从而不必移动其他元素。 <br> 同样地，table.remove是从数组中移除（并返回）一个元素，table.remove(t,1)将移除t中下标是1的元素，如果不指定移除位置，则移除最后一个。 <br> %———————————————————————————————————-%</p> 
<p>２、<strong>table.sort()</strong> <br> 另一个有用的函数是sort，对数组进行排序,如果没有提供排序函数，默认是&lt;操作。这里不仅仅是数，对字符串也有效。 <br> <strong>举例１</strong>:</p> 
<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-operator">a</span> = {<!-- --><span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>,<span class="hljs-number">8</span>,<span class="hljs-number">7</span>,<span class="hljs-number">5</span>}  print(<span class="hljs-string">'排序前:'</span>,<span class="hljs-operator">a</span>)
table.<span class="hljs-built_in">sort</span>(<span class="hljs-operator">a</span>)     print(<span class="hljs-string">'排序后:'</span>,<span class="hljs-operator">a</span>)</code></pre> 
<p>结果： <br> 排序前: <br> { <br> 1 : 1 <br> 2 : 3 <br> 3 : 2 <br> 4 : 6 <br> 5 : 4 <br> 6 : 8 <br> 7 : 7 <br> 8 : 5 <br> } <br> 排序后: <br> { <br> 1 : 1 <br> 2 : 2 <br> 3 : 3 <br> 4 : 4 <br> 5 : 5 <br> 6 : 6 <br> 7 : 7 <br> 8 : 8 <br> } <br> 举例２：</p> 
<pre class="prettyprint"><code class=" hljs lua">name = {<!-- --><span class="hljs-string">"you"</span> ,<span class="hljs-string">"me"</span>, <span class="hljs-string">"him"</span>,<span class="hljs-string">"bill"</span> }
<span class="hljs-comment">--table.sort - only works with arrays!</span>
<span class="hljs-built_in">table</span>.sort(name)
<span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">ipairs</span>( name) <span class="hljs-keyword">do</span>
     <span class="hljs-built_in">print</span>( k,v)
<span class="hljs-keyword">end</span></code></pre> 
<p>结果如下： <br> 1 bill <br> 2 him <br> 3 me <br> 4 you <br> %———————————————————————————————————-%</p> 
<p>３、<strong>table.concat()</strong> <br> 格式：table.concat(table, sep, start, end) <br> concat()函数列出参数中指定table的数组部分从start位置到end位置的所有元素, 元素间以指定的分隔符(sep)隔开。除了table外, 其他的参数都不是必须的, 分隔符的默认值是空字符, start的默认值是1, end的默认值是数组部分的总长。 <br> 举例:</p> 
<pre class="prettyprint"><code class=" hljs lua">spring = {<!-- --><span class="hljs-string">"众里寻他千百度"</span>, <span class="hljs-string">"蓦然回首"</span>, <span class="hljs-string">"那人却在灯火阑珊处"</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-string">'一:'</span>,<span class="hljs-built_in">table</span>.concat(spring, <span class="hljs-string">","</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">'二:'</span>,<span class="hljs-built_in">table</span>.concat(spring, <span class="hljs-string">","</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">'三:\n'</span>,<span class="hljs-built_in">table</span>.concat(spring, <span class="hljs-string">"\n"</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>))
num = {<!-- --><span class="hljs-number">1</span> ,<span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span> ,<span class="hljs-number">6</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-string">'大小比较：'</span>,<span class="hljs-built_in">table</span>.concat (num ,<span class="hljs-string">"&lt;"</span>))</code></pre> 
<p>结果如下: <br> 一: 众里寻他千百度,蓦然回首,那人却在灯火阑珊处 <br> 二: 众里寻他千百度,蓦然回首 <br> 三: <br> 众里寻他千百度 <br> 蓦然回首 <br> 那人却在灯火阑珊处 <br> 大小比较： 1&lt;2&lt;3&lt;4&lt;5&lt;6 <br> %———————————————————————————————————-%</p> 
<p>4、<strong>table.maxn()</strong> <br> 含义：table.maxn()函数返回指定table中所有正数key值中最大的key值。 如果不存在key值为正数的元素, 则返回0。 此函数不限于table的数组部分。 <br> 举例1：</p> 
<pre class="prettyprint"><code class=" hljs lua">cc = { <span class="hljs-number">0.2654</span>,<span class="hljs-number">0.0109</span>,  <span class="hljs-number">0.3575</span>,  <span class="hljs-number">0.8749</span>,  <span class="hljs-number">0.4324</span>,<span class="hljs-number">0.1932</span>}
<span class="hljs-built_in">print</span>(cc)
key = <span class="hljs-built_in">table</span>.maxn(cc) 
<span class="hljs-built_in">print</span>(<span class="hljs-string">'最大的key值为:'</span>,key)</code></pre> 
<p>结果: <br> { <br> 1 : 0.2654 <br> 2 : 0.0109 <br> 3 : 0.3575 <br> 4 : 0.8749 <br> 5 : 0.4324 <br> 6 : 0.1932 <br> } <br> 最大的key值为: 6 <br> 举例２：</p> 
<pre class="prettyprint"><code class=" hljs lua">apple = {<!-- --><span class="hljs-string">"a"</span> ,<span class="hljs-string">"p"</span>,[<span class="hljs-number">5</span>]=<span class="hljs-string">"e"</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">table</span>.maxn(apple)) 
duck = {[-<span class="hljs-number">2</span>]=<span class="hljs-number">3</span>,[-<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">table</span>.maxn(duck)) </code></pre> 
<p>结果如下： <br> 5 <br> 0 <br> %———————————————————————————————————-%</p> 
<p>５、<strong>table.getn()</strong> <br> 含义：返回table中元素的个数 <br> 举例:</p> 
<pre class="prettyprint"><code class=" hljs fix"><span class="hljs-attribute">t1 </span>=<span class="hljs-string"> {1, 2, 3, 5}
print(getn(t1))</span></code></pre> 
<p>结果:4 <br> %———————————————————————————————————-%</p> 
<p>6、<strong>table.pack()和table.unpack()</strong> <br> table.pack函数是获取一个索引从 1 开始的参数表 table，并会对这个 table 预定义一个字段 n，表示该表的长度。 <br> 举例:</p> 
<pre class="prettyprint"><code class=" hljs lua">t = <span class="hljs-built_in">table</span>.pack(<span class="hljs-string">"test"</span>, <span class="hljs-string">"param1"</span>, <span class="hljs-string">"param2"</span>, <span class="hljs-string">"param3"</span>)
<span class="hljs-built_in">print</span>(t)</code></pre> 
<p>结果： <br> { <br> 1 : test <br> 2 : param1 <br> 3 : param2 <br> 4 : param3 <br> n : 4 <br> } <br> table.unpack函数用于返回 table 里的元素，用法：table.unpack(table, start, end)，其中参数 start 是开始返回的元素位置，默认是 1，参数 end 是返回最后一个元素的位置，默认是 table 最后一个元素的位置，参数 start、end 都是可选 <br> 举例：</p> 
<pre class="prettyprint"><code class=" hljs lua">t = {<!-- --><span class="hljs-string">"Lua"</span>, <span class="hljs-string">"Ｃ++"</span>, <span class="hljs-string">"Python"</span>, <span class="hljs-string">"Java"</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(1):\n'</span>,t)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(2):'</span>,<span class="hljs-built_in">table</span>.<span class="hljs-built_in">unpack</span>(t))
a, b, c, d = <span class="hljs-built_in">table</span>.<span class="hljs-built_in">unpack</span>(t)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(3):'</span>,b)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(4):'</span>,a, b, c, d)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(5):'</span>,<span class="hljs-built_in">table</span>.<span class="hljs-built_in">unpack</span>(t, <span class="hljs-number">2</span>))
<span class="hljs-built_in">print</span>(<span class="hljs-string">'(6):'</span>,<span class="hljs-built_in">table</span>.<span class="hljs-built_in">unpack</span>(t, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))</code></pre> 
<p>结果如下： <br> (1): <br> { <br> 1 : Lua <br> 2 : Ｃ++ <br> 3 : Python <br> 4 : Java <br> } <br> (2): Lua Ｃ++ Python Java <br> (3): Ｃ++ <br> (4): Lua Ｃ++ Python Java <br> (5): Ｃ++ Python Java <br> (6): Ｃ++ Python </p> 
<p>参考资料： <br> <a href="http://www.lua.org/manual/5.2/manual.html#pdf-table.pack" rel="nofollow">http://www.lua.org/manual/5.2/manual.html#pdf-table.pack</a> <br> <a href="http://www.jb51.net/article/58478.htm" rel="nofollow">http://www.jb51.net/article/58478.htm</a> <br> <a href="http://blog.csdn.net/booirror/article/details/7881820">http://blog.csdn.net/booirror/article/details/7881820</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b677e5f68776cfbfaaa3244c3f299168/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win7打印机共享问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7675ce6cae66c14bed49bc3d81c736cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">乐曲识别（版本检测）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>