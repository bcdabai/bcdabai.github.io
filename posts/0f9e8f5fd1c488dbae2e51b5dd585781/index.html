<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ENSP常用命令_HCIA/HCIP - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ENSP常用命令_HCIA/HCIP" />
<meta property="og:description" content="ENSP常用命令_HCIA/HCIP 基本操作命令进入系统视图模式&lt;&gt;system-view(sys)退出当前模式quit（qu）设备名称更改sysname x查看当前正在执行的所有配置display current-configuration(cu)查看接口ip地址display ip int brief查看接口的简要信息display interface brief( int b)查看MAC表display mac-address查看路由表display ip routing-table查看ospf邻居关系display ospf peer查看链路聚合状态display int Eth-Trunk进入回环接口int loopback1（loo1）查看当前模式下的配置display this查看ospf邻居表display ospf peer brief保存&lt;&gt;save查看硬盘&lt;&gt;dir查看系统和内存以及硬盘dis version查看内存dis memory-usage查看CPUdisplay cpu-usage回退用户模式ctrl&#43;z日志提示语言为中文language-mode chinese回车符&lt; CR&gt;TAB键支持补全显示当前条件下配置dis this查看邻居表dis ospf peer brief重置ospf 进程&lt; &gt;reset ospf process以1.1.1.1 为源地址ping 2.2.2.2ping -a 1.1.1.1 2.2.2.2追踪tracert -a 1.1.1.1 2.2.2.2指定次数，源地址，目标地址ping -c 1000 -a 1.1.1.1 2.2.2.2 ping查看静态相同目的不通路径优先级dis ip routing-table protocol static查看bfd简易内容dis bfd session all查看bfd全部内容dis bfd session all verbose undo命令恢复缺省状态undo sysname禁用某个功能undo ftp server删除某项设置undo ip address关闭系统提示undo info-center enable (un in en) 配置系统下次启动文件命令保存x文件save x下次启动x文件startup saved-configuration x 添加路由条目命令静态ip route-static 10." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0f9e8f5fd1c488dbae2e51b5dd585781/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-29T09:08:11+08:00" />
<meta property="article:modified_time" content="2023-08-29T09:08:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ENSP常用命令_HCIA/HCIP</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="ENSP_HCIAHCIP_0"></a>ENSP常用命令_HCIA/HCIP</h2> 
<table><thead><tr><th>基本操作</th><th>命令</th></tr></thead><tbody><tr><td>进入系统视图模式</td><td>&lt;&gt;system-view(sys)</td></tr><tr><td>退出当前模式</td><td>quit（qu）</td></tr><tr><td>设备名称更改</td><td>sysname x</td></tr><tr><td>查看当前正在执行的所有配置</td><td>display current-configuration(cu)</td></tr><tr><td>查看接口ip地址</td><td>display ip int brief</td></tr><tr><td>查看接口的简要信息</td><td>display interface brief( int b)</td></tr><tr><td>查看MAC表</td><td>display mac-address</td></tr><tr><td>查看路由表</td><td>display ip routing-table</td></tr><tr><td>查看ospf邻居关系</td><td>display ospf peer</td></tr><tr><td>查看链路聚合状态</td><td>display int Eth-Trunk</td></tr><tr><td>进入回环接口</td><td>int loopback1（loo1）</td></tr><tr><td>查看当前模式下的配置</td><td>display this</td></tr><tr><td>查看ospf邻居表</td><td>display ospf peer brief</td></tr><tr><td>保存</td><td>&lt;&gt;save</td></tr><tr><td>查看硬盘</td><td>&lt;&gt;dir</td></tr><tr><td>查看系统和内存以及硬盘</td><td>dis version</td></tr><tr><td>查看内存</td><td>dis memory-usage</td></tr><tr><td>查看CPU</td><td>display cpu-usage</td></tr><tr><td>回退用户模式</td><td>ctrl+z</td></tr><tr><td>日志提示语言为中文</td><td>language-mode chinese</td></tr><tr><td>回车符</td><td>&lt; CR&gt;</td></tr><tr><td>TAB键</td><td>支持补全</td></tr><tr><td>显示当前条件下配置</td><td>dis this</td></tr><tr><td>查看邻居表</td><td>dis ospf peer brief</td></tr><tr><td>重置ospf 进程</td><td>&lt; &gt;reset ospf process</td></tr><tr><td>以1.1.1.1 为源地址ping 2.2.2.2</td><td>ping -a 1.1.1.1 2.2.2.2</td></tr><tr><td>追踪</td><td>tracert -a 1.1.1.1 2.2.2.2</td></tr><tr><td>指定次数，源地址，目标地址</td><td>ping -c 1000 -a 1.1.1.1 2.2.2.2 ping</td></tr><tr><td>查看静态相同目的不通路径优先级</td><td>dis ip routing-table protocol static</td></tr><tr><td>查看bfd简易内容</td><td>dis bfd session all</td></tr><tr><td>查看bfd全部内容</td><td>dis bfd session all verbose</td></tr></tbody></table> 
<table><thead><tr><th>undo</th><th>命令</th></tr></thead><tbody><tr><td>恢复缺省状态</td><td>undo sysname</td></tr><tr><td>禁用某个功能</td><td>undo ftp server</td></tr><tr><td>删除某项设置</td><td>undo ip address</td></tr><tr><td>关闭系统提示</td><td>undo info-center enable (un in en)</td></tr></tbody></table> 
<table><thead><tr><th>配置系统下次启动文件</th><th>命令</th></tr></thead><tbody><tr><td>保存x文件</td><td>save x</td></tr><tr><td>下次启动x文件</td><td>startup saved-configuration x</td></tr></tbody></table> 
<table><thead><tr><th>添加路由条目</th><th>命令</th></tr></thead><tbody><tr><td>静态</td><td>ip route-static 10.1.1.0 24 10.1.4.3</td></tr><tr><td>默认</td><td>ip route-static 0.0.0.0 0.0.0.0 10.1.4.3</td></tr></tbody></table> 
<p><strong>FTP</strong></p> 
<pre><code class="prism language-c">服务端<span class="token operator">:</span>
ftp server enable
set <span class="token keyword">default</span> ftp<span class="token operator">-</span>directory flash<span class="token operator">:</span> 设置ftp主目录
<span class="token function">aaa</span> <span class="token punctuation">(</span>认证 授权 审计）
local<span class="token operator">-</span>user lisi privilege level <span class="token number">3</span> password cipher <span class="token number">123</span>
local<span class="token operator">-</span>user lisi service<span class="token operator">-</span>type ftp
客户端<span class="token operator">:</span>
<span class="token operator">&lt;</span> <span class="token operator">&gt;</span>ftp <span class="token number">12.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token punctuation">[</span>FTP<span class="token punctuation">]</span>get xxxx 取文件
<span class="token punctuation">[</span>FTP<span class="token punctuation">]</span>put xxx 上传文件
</code></pre> 
<hr> 
<p><strong>VLAN</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>SW1<span class="token punctuation">]</span>vlan batch <span class="token number">10</span> <span class="token number">20</span><span class="token comment">//创建多VLAN</span>
<span class="token punctuation">[</span>SW1<span class="token punctuation">]</span>interface GigabitEthernet <span class="token number">0</span><span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span>
<span class="token punctuation">[</span>SW1<span class="token operator">-</span>GigabitEthernet0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">]</span>port link<span class="token operator">-</span>type access 
<span class="token punctuation">[</span>SW1<span class="token operator">-</span>GigabitEthernet0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">]</span>port <span class="token keyword">default</span> vlan <span class="token number">10</span>
<span class="token punctuation">[</span>SW1<span class="token operator">-</span>Ethernet0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">]</span>port link<span class="token operator">-</span>type trunk
<span class="token punctuation">[</span>SW1<span class="token operator">-</span>Ethernet0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">]</span>port trunk allow<span class="token operator">-</span>pass vlan <span class="token number">10</span> <span class="token number">20</span>
<span class="token operator">&lt;</span>SW1<span class="token operator">&gt;</span>display vlan
</code></pre> 
<hr> 
<p><strong>单臂路由</strong></p> 
<pre><code class="prism language-php">交换机配置
sys <span class="token comment">#进入系统模式</span>
sysname sw1 <span class="token comment">#修改名称</span>
vlan bat <span class="token number">10</span> <span class="token number">20</span>  <span class="token comment">#批量创建vlan10 20</span>
<span class="token keyword type-declaration">int</span> e0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">1</span>	<span class="token comment">#进入端口</span>
port link<span class="token operator">-</span>type access  <span class="token comment">#指定端口类型 </span>
port <span class="token keyword">default</span> vlan <span class="token number">10</span> <span class="token comment">#加入vlan10</span>
undo shutdown <span class="token comment">#开启端口</span>
<span class="token keyword type-declaration">int</span> e0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">3</span> <span class="token comment">#进入端口</span>
port link<span class="token operator">-</span>type trunk <span class="token comment">#定义trunk类型端口 </span>
port trunk allow<span class="token operator">-</span>pass vlan all	<span class="token comment">#允许所有vlan通过</span>
undo sh <span class="token comment">#打开端口</span>

路由器配置
undo t m <span class="token comment">#关闭提示信息</span>
sys <span class="token comment">#进入系统视图</span>
sysname <span class="token constant">R1</span> <span class="token comment">#修改名称</span>
<span class="token keyword type-declaration">int</span> g0<span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">0.10</span> <span class="token comment">#进入端口  范围0-4095</span>
dot1q termination vid <span class="token number">10</span> <span class="token comment">#开启单臂路由</span>
ip add <span class="token number">192.168</span><span class="token number">.10</span><span class="token number">.1</span> <span class="token number">24</span> <span class="token comment">#配置IP地址</span>
arp broadcast enable <span class="token comment">#开启ARP协议</span>
undo sh <span class="token comment">#打开端口</span>
</code></pre> 
<hr> 
<p><strong>STP生成树</strong></p> 
<pre><code class="prism language-php">stp mode <span class="token function">stp</span><span class="token punctuation">(</span><span class="token operator">/</span>rstp<span class="token operator">/</span>mstp<span class="token punctuation">)</span>
stp enable
stp priority <span class="token number">4096</span>
display stp breif<span class="token comment">#查看stp接口状态摘要</span>
</code></pre> 
<hr> 
<p><strong>TELNET</strong></p> 
<pre><code class="prism language-php"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>aaa
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>aaa<span class="token punctuation">]</span>local<span class="token operator">-</span>user adimn privilege level <span class="token number">3</span> password cipher <span class="token number">123</span><span class="token comment">#授予用户三级权限 </span>
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>aaa<span class="token punctuation">]</span>local<span class="token operator">-</span>user admin service<span class="token operator">-</span>type telnet <span class="token comment">#授权telnet服务</span>
<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user<span class="token operator">-</span><span class="token keyword">interface</span> <span class="token class-name-definition class-name">vty</span> <span class="token number">0</span> <span class="token number">4</span><span class="token comment">#5个接口访问</span>
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>ui<span class="token operator">-</span>vty0<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>authentication<span class="token operator">-</span>mode aaa<span class="token comment">#3a认证模式</span>
</code></pre> 
<hr> 
<p><strong>SSH</strong></p> 
<pre><code class="prism language-php"><span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>stelnet server enable<span class="token comment">#开启ssh功能</span>
<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>aaa
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>aaa<span class="token punctuation">]</span>local<span class="token operator">-</span>user adimn privilege level <span class="token number">3</span> password cipher <span class="token number">123</span><span class="token comment">#授予用户三级权限 </span>
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>aaa<span class="token punctuation">]</span>local<span class="token operator">-</span>user admin service<span class="token operator">-</span>type ssh <span class="token comment"># 允许用户ssh访问权限</span>
<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>user<span class="token operator">-</span><span class="token keyword">interface</span> <span class="token class-name-definition class-name">vty</span> <span class="token number">0</span> <span class="token number">4</span><span class="token comment">#    5个接口访问</span>
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>ui<span class="token operator">-</span>vty0<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>authentication<span class="token operator">-</span>mode aaa<span class="token comment">#   3a认证模式</span>
<span class="token punctuation">[</span>Huawei<span class="token operator">-</span>ui<span class="token operator">-</span>vty0<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>protocol inbound ssh <span class="token comment">//登录协议为ssh登入</span>
</code></pre> 
<hr> 
<p><strong>ACL</strong></p> 
<pre><code class="prism language-php">acl <span class="token number">2000</span> <span class="token comment">#基本acl编号：2000-2999</span>
rule deny source <span class="token number">192.168</span><span class="token number">.10</span><span class="token number">.1</span> <span class="token number">0</span><span class="token comment">//拒绝源地址，0表示反掩码0.0.0.0，精确匹配</span>

acl <span class="token number">3005</span> <span class="token comment">#高级acl编号：3000-3999</span>
rule deny tcp source <span class="token number">192.168</span><span class="token number">.10</span><span class="token number">.2</span> <span class="token number">0</span> destination <span class="token number">12.0</span><span class="token number">.0</span><span class="token number">.2</span> <span class="token number">0</span> destination<span class="token operator">-</span>port eq <span class="token number">23</span><span class="token comment">#拒绝源地址192.168.10.2 telnet 访问 12.0.0.2</span>
</code></pre> 
<hr> 
<p><strong>OSPF</strong></p> 
<pre><code class="prism language-php">ospf <span class="token number">1</span> router<span class="token operator">-</span>id <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span><span class="token comment">#创建并运行ospf进程 </span>
area <span class="token number">0</span><span class="token comment">#创建并进入ospf区域</span>
network <span class="token number">10.1</span><span class="token number">.12</span><span class="token number">.0</span> <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.3</span><span class="token comment">#添加该区域网段 </span>
</code></pre> 
<hr> 
<hr> 
<p><strong>GRE vpn</strong></p> 
<pre><code class="prism language-php"><span class="token keyword">interface</span> <span class="token class-name-definition class-name">Tunnel0</span><span class="token operator">/</span><span class="token number">0</span><span class="token operator">/</span><span class="token number">0</span>
tunnel<span class="token operator">-</span>protocol gre
source <span class="token number">23.1</span><span class="token number">.1</span><span class="token number">.3</span> <span class="token comment">#隧道源地址</span>
destination <span class="token number">12.1</span><span class="token number">.1</span><span class="token number">.1</span> <span class="token comment">#隧道目标地址</span>
ip add <span class="token number">192.168</span><span class="token number">.13</span><span class="token number">.3</span> <span class="token number">24</span> <span class="token comment">#隧道接口地址（逻辑接口）</span>
</code></pre> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/88f38664335f035b61ca345a94a64514/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">双指针（详细解释）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b753ae7e503af5f04c09e4f26a1a6a4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2.GaussDB分布式数据库部署</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>