<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt QWidget窗口基类 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt QWidget窗口基类" />
<meta property="og:description" content="文章目录 1 QWidget介绍2 如何显示 QWidget窗口2.1 新建基于QWidget的窗口类2.2 再添加一个QWidget窗口类2.3 显示新添加的 QWidget窗口 3 常用的属性和方法3.1 窗口位置3.2 窗口大小3.3 窗口标题3.4 窗口图标3.5 资源文件 4 实例 1 QWidget介绍 Qt 中的常用控件，比如按钮、文本框、下拉框、树形控件等都是控件，QWidget类是所有控件类的父类。
所有窗口类的基类 Qt中有3个窗口的基类：QWidget、QMainWindow、QDialog其中，QMainWindow、QDialog都是继承自QWidge 所有控件类的基类 Qt中的控件类（按钮、输入框、单选框等）也属于窗口类它们的基类也是QWidget 可以内嵌到其他窗口的内部，此时需要给其指定父窗口可以作为独立的窗口显示，此时不能给其指定父窗口 2 如何显示 QWidget窗口 零新建一个基于QWidget的主窗口，并且再添加一个基于QWidget的窗口
2.1 新建基于QWidget的窗口类 新建一个工程Demo，只是这里让主窗口继承自QWidget
2.2 再添加一个QWidget窗口类 首先，右键单击【Demo】，点击【添加新文件…】
选择【Qt】-&gt;【Qt设计师界面类】
选择【Widget】，然后下一步
输入类名，然后点击下一步
2.3 显示新添加的 QWidget窗口 为了便于显示，打开subwidget.ui设计师界面，拖放一个按钮，如下：
然后来到widget.cpp文件中，添加如下代码，来显示SubWidget窗口：
// 在widget.cpp文件中 // 未指定父窗口， 这个窗口就是独立的窗口 // 需要调用其show方法 来将其显示 SubWidget *subWidget = new SubWidget(); subWidget-&gt;setWindowTitle(&#34;SubWidget&#34;); subWidget-&gt;show(); 如果指定了父窗口， 这个窗口就是内嵌窗口 就不需要调用其show方法 因为其父窗口显示时，会自动显示子窗口 SubWidget *subWidget = new SubWidget(this); subWidget-&gt;setWindowTitle(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7c63cb08170bc53ae66a46b29b741ed4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T14:16:31+08:00" />
<meta property="article:modified_time" content="2024-01-08T14:16:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt QWidget窗口基类</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1_QWidget_1" rel="nofollow">1 QWidget介绍</a></li><li><a href="#2__QWidget_14" rel="nofollow">2 如何显示 QWidget窗口</a></li><li><ul><li><a href="#21_QWidget_20" rel="nofollow">2.1 新建基于QWidget的窗口类</a></li><li><a href="#22_QWidget_31" rel="nofollow">2.2 再添加一个QWidget窗口类</a></li><li><a href="#23__QWidget_59" rel="nofollow">2.3 显示新添加的 QWidget窗口</a></li></ul> 
  </li><li><a href="#3__85" rel="nofollow">3 常用的属性和方法</a></li><li><ul><li><a href="#31__101" rel="nofollow">3.1 窗口位置</a></li><li><a href="#32__118" rel="nofollow">3.2 窗口大小</a></li><li><a href="#33__167" rel="nofollow">3.3 窗口标题</a></li><li><a href="#34__181" rel="nofollow">3.4 窗口图标</a></li><li><a href="#35__201" rel="nofollow">3.5 资源文件</a></li></ul> 
  </li><li><a href="#4__239" rel="nofollow">4 实例</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_QWidget_1"></a>1 QWidget介绍</h2> 
<p>Qt 中的常用控件，比如按钮、文本框、下拉框、树形控件等都是控件，QWidget类是所有控件类的父类。</p> 
<ul><li>所有窗口类的基类 
  <ul><li>Qt中有3个窗口的基类：<code>QWidget</code>、<code>QMainWindow</code>、<code>QDialog</code></li><li>其中，<code>QMainWindow</code>、<code>QDialog</code>都是继承自<code>QWidge</code></li></ul> </li><li>所有控件类的基类 
  <ul><li>Qt中的控件类（按钮、输入框、单选框等）也属于窗口类</li><li>它们的基类也是<code>QWidget</code></li></ul> </li><li>可以内嵌到其他窗口的内部，此时需要给其指定父窗口</li><li>可以作为独立的窗口显示，此时不能给其指定父窗口</li></ul> 
<h2><a id="2__QWidget_14"></a>2 如何显示 QWidget窗口</h2> 
<p>零新建一个基于<code>QWidget</code>的主窗口，并且再添加一个基于<code>QWidget</code>的窗口</p> 
<h3><a id="21_QWidget_20"></a>2.1 新建基于QWidget的窗口类</h3> 
<p>新建一个工程Demo，只是这里让主窗口继承自QWidget</p> 
<p><img src="https://images2.imgbox.com/11/ec/BCYVEZ3o_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="22_QWidget_31"></a>2.2 再添加一个QWidget窗口类</h3> 
<p>首先，右键单击【Demo】，点击【添加新文件…】</p> 
<p><img src="https://images2.imgbox.com/22/b1/Ct6qlabm_o.png" alt="在这里插入图片描述"></p> 
<p>选择【Qt】-&gt;【Qt设计师界面类】</p> 
<p><img src="https://images2.imgbox.com/69/ce/s3xHkVpp_o.png" alt="在这里插入图片描述"></p> 
<p>选择【Widget】，然后下一步</p> 
<p><img src="https://images2.imgbox.com/76/84/pCAcPHb9_o.png" alt="在这里插入图片描述"></p> 
<p>输入类名，然后点击下一步</p> 
<p><img src="https://images2.imgbox.com/91/9e/TyvhS6k2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="23__QWidget_59"></a>2.3 显示新添加的 QWidget窗口</h3> 
<p>为了便于显示，打开<code>subwidget.ui</code>设计师界面，拖放一个按钮，如下：</p> 
<p><img src="https://images2.imgbox.com/97/b2/srTxMERt_o.png" alt="在这里插入图片描述"></p> 
<p>然后来到widget.cpp文件中，添加如下代码，来显示SubWidget窗口：</p> 
<pre><code class="prism language-c++">// 在widget.cpp文件中

// 未指定父窗口， 这个窗口就是独立的窗口
// 需要调用其show方法 来将其显示
SubWidget *subWidget = new SubWidget();
subWidget-&gt;setWindowTitle("SubWidget");
subWidget-&gt;show();

如果指定了父窗口， 这个窗口就是内嵌窗口
就不需要调用其show方法 因为其父窗口显示时，会自动显示子窗口
SubWidget *subWidget = new SubWidget(this);
subWidget-&gt;setWindowTitle("SubWidget");
</code></pre> 
<h2><a id="3__85"></a>3 常用的属性和方法</h2> 
<p>可以去开始菜单栏寻找<strong>帮助文档</strong></p> 
<p><img src="https://images2.imgbox.com/71/51/qPTT0bft_o.png" alt="在这里插入图片描述"></p> 
<p>切换到<strong>索引</strong>，输入<code>QWidget </code>，就可以查看<code>QWidget</code>的详细帮助文档</p> 
<p><img src="https://images2.imgbox.com/e4/8f/7UeWetQI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="31__101"></a>3.1 窗口位置</h3> 
<pre><code class="prism language-c++">// 1. 设置窗体的几何信息 
// 获取相对于当前窗口父窗口的几何信息，宽高，坐标点信息 
const QRect &amp;geometry() const;
void setGetmetry(int x, int y, int w, int h);
void setGetmetry(const QRect &amp;);

// 2. 移动窗口
// 重新设置窗口的位置  
void move(int x, int y);
void move(const QPoint &amp;);
</code></pre> 
<h3><a id="32__118"></a>3.2 窗口大小</h3> 
<p>通常，窗口可以拖动其右下角，进行放大和缩小。我们可以设置窗口的最小大小和最大大小。</p> 
<p>另外，窗口可以设置为固定大小，这样窗口就不能放大和缩小。</p> 
<p>常用的设置大小的函数如下：</p> 
<pre><code class="prism language-c++">// 1. 设置窗口尺寸
QSize size() const;
void resize(int w, int h);
void resize(const QSize &amp;);

// 2. 设置最大尺寸
QSize maximunSize() const;
void setMaximumSize(const QSize &amp;);
void setMaximumSize(int maxw, int maxh);

// 3. 设置最小尺寸
QSize minimumSize() const;
void setMinimumSize(const QSize &amp;);
void setMinimumSize(int w, int h);

// 4. 设置固定尺寸
void setFixedSize(const QSize &amp;);
void setFixedSize(int w, int h);

// 5. 单独设置窗口的高度
int height() const;
int minimumHeight() const;
int maximumHeight() const;

void setFixedHeight(int h);
void setMaximumHeight(int maxh);
void setMinimumHeight(int minh);

// 6. 单独设置窗口的宽度
int width() const;
int minimumWidth() const;
int maximumWidth() const;

void setFixedWidth(int w);
void setMaximumWidth(int maxw);
void setMinimumWidth(int minw);
</code></pre> 
<h3><a id="33__167"></a>3.3 窗口标题</h3> 
<p>设置和获取窗口的标题，直接使用如下两个函数即可：</p> 
<pre><code class="prism language-c++">// 获取和设置窗口的标题
QString windowsTitle() const;
void setWindowTitle(const QString &amp;);
</code></pre> 
<h3><a id="34__181"></a>3.4 窗口图标</h3> 
<p>设置窗口的图标，需要一个<code>Qlcon</code>对象，如下：</p> 
<pre><code class="prism language-c++">// 获取和设置窗口的图标
QIcon windowIcon() const;
void setWindowIcon(const QIcon &amp;);

// 构造 QIcon图标对象
// 有6个重载的构造的方法，通常我们使用最后一个
QIcon::QIcon(const QString &amp;fileName);
</code></pre> 
<h3><a id="35__201"></a>3.5 资源文件</h3> 
<p>首先将图标文件<code>pages.ico</code>，复制到项目目录<code>Demo</code>下的目录中，如下：</p> 
<p><img src="https://images2.imgbox.com/2f/d8/lAy7T81d_o.png" alt="在这里插入图片描述"></p> 
<p>选择<code>QtResourceFile</code>，这样就会在项目中，添加一个<code>.qrc</code>的文件</p> 
<p><img src="https://images2.imgbox.com/ed/f9/aoMJndk2_o.png" alt="在这里插入图片描述"></p> 
<p>资源文件命名为<code>res</code></p> 
<p><img src="https://images2.imgbox.com/e5/c5/qRGwVl96_o.png" alt="在这里插入图片描述"></p> 
<p>接下来打开“资源文件编辑器”， <strong>注意：如果没有打开，直接右键res.qrc，然后选择“OpeninEditor”即可</strong></p> 
<p>如下：</p> 
<p><img src="https://images2.imgbox.com/70/ab/OAhoNX3K_o.png" alt="在这里插入图片描述"></p> 
<p>然后，点击添加前缀,</p> 
<p>再点击“添加文件"，定位到拷贝到项目目录下的图标文件<code>pages.ico</code>，最终效果如下：</p> 
<p><img src="https://images2.imgbox.com/85/e0/YiLJCMuE_o.png" alt="在这里插入图片描述"></p> 
<p>接下来就可以拷贝这个<code>pages.ico</code>的资源路径，在程序中使用了</p> 
<p><img src="https://images2.imgbox.com/23/12/WmVTZwEM_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4__239"></a>4 实例</h2> 
<p>来演示<code>QWidget</code>中常用的方法<br> <img src="https://images2.imgbox.com/72/5c/877GQ7qz_o.png" alt=""><br> 主要代码</p> 
<pre><code class="prism language-c++">void Widget::on_btnGetSize_clicked() {
    qDebug() &lt;&lt; "------------------------\n";
    QRect rect = this-&gt;geometry();
    qDebug() &lt;&lt; "左上:" &lt;&lt; rect.topLeft() &lt;&lt; "\n右上" &lt;&lt; rect.topRight()
             &lt;&lt; "\n左下" &lt;&lt; rect.bottomLeft() &lt;&lt; "\n右下" &lt;&lt; rect.bottomRight()
             &lt;&lt; "\n宽" &lt;&lt; rect.width() &lt;&lt; "\n高" &lt;&lt; rect.height();
}

void Widget::on_btnSetSize_clicked() {
    this-&gt;resize(400, 400);
}

void Widget::on_btnSetFixedSize_clicked() {
    this-&gt;setFixedSize(500, 500);
}

void Widget::on_btnSetMinSize_clicked() {
    this-&gt;setMinimumSize(300, 300);
}

void Widget::on_btnSetMaxSize_clicked() {
    this-&gt;setMaximumSize(600, 600);
}

void Widget::on_btnMove_clicked() {
    this-&gt;move(100, 100);
}

void Widget::on_btnSetTitle_clicked() {
    this-&gt;setWindowTitle("修改后的标题");
}

void Widget::on_btnSetIcon_clicked() {
    this-&gt;setWindowIcon(QIcon(":/res/pages.ico"));
}


</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/80abd51d4ad1a8ec587f4ca155a2d294/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">树状 _ 层次 结构数据的数据库表设计对比及使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/95ac82968b86eb98a927b9aa8a3518a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【嵌入式——C语言】文件操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>