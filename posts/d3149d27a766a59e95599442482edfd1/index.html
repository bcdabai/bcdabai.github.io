<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux命令行读取本地文件路径,Windows shell命令获取当前目录的完整path？ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux命令行读取本地文件路径,Windows shell命令获取当前目录的完整path？" />
<meta property="og:description" content="如果直接使用shell，请使用cd ，如果要在batch file中使用它，则使用%cd% (行为与environment var类似)。
您可以如下设置批处理/环境variables：
SET var=%cd% ECHO %var%
来自Windows 7 x64 cmd.exe的示例屏幕截图。
更新：如果您执行SET var = %cd%而不是SET var=%cd% ，则会发生以下情况。 感谢jeb。
从batch file中捕获当前目录
引用set命令( set /? )的Windows帮助：
如果启用了命令扩展，那么有几个dynamic的
可以扩展但不显示的环境variables
SET显示的variables列表。 这些variables值是
每次扩大variables的值时dynamic计算。
如果用户用这些名字中的一个显式地定义一个variables，那么
该定义将覆盖下面描述的dynamic定义：
％CD％ - 展开为当前目录string。
％DATE％ - 使用与DATE命令相同的格式展开到当前date。
％TIME％ - 使用与TIME命令相同的格式展开到当前时间。
％RANDOM％ - 扩展为0到32767之间的随机十进制数。
％ERRORLEVEL％ - 展开为当前的ERRORLEVEL值
％CMDEXTVERSION％ - 扩展到当前的命令处理器扩展
版本号。
％CMDCMDLINE％ - 展开到调用的原始命令行
命令处理器。
注意%CD% - expands to the current directory string. 部分。
在Unix上？
PWD
对于Windows我们可以使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d3149d27a766a59e95599442482edfd1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-03T20:52:50+08:00" />
<meta property="article:modified_time" content="2021-05-03T20:52:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux命令行读取本地文件路径,Windows shell命令获取当前目录的完整path？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>如果直接使用shell，请使用cd ，如果要在batch file中使用它，则使用%cd% (行为与environment var类似)。</p> 
 <p>您可以如下设置批处理/环境variables：</p> 
 <p>SET var=%cd% ECHO %var%</p> 
 <p>来自Windows 7 x64 cmd.exe的示例屏幕截图。</p> 
 <p align="center"><img src="https://images2.imgbox.com/01/3e/JHt0tcKI_o.jpg" alt="6s6Xi.jpg"></p> 
 <p>更新：如果您执行SET var = %cd%而不是SET var=%cd% ，则会发生以下情况。 感谢jeb。</p> 
 <p align="center"><img src="https://images2.imgbox.com/55/69/WLGf1WhO_o.jpg" alt="S2Kmp.jpg"></p> 
 <p>从batch file中捕获当前目录</p> 
 <p>引用set命令( set /? )的Windows帮助：</p> 
 <p>如果启用了命令扩展，那么有几个dynamic的</p> 
 <p>可以扩展但不显示的环境variables</p> 
 <p>SET显示的variables列表。 这些variables值是</p> 
 <p>每次扩大variables的值时dynamic计算。</p> 
 <p>如果用户用这些名字中的一个显式地定义一个variables，那么</p> 
 <p>该定义将覆盖下面描述的dynamic定义：</p> 
 <p>％CD％ - 展开为当前目录string。</p> 
 <p>％DATE％ - 使用与DATE命令相同的格式展开到当前date。</p> 
 <p>％TIME％ - 使用与TIME命令相同的格式展开到当前时间。</p> 
 <p>％RANDOM％ - 扩展为0到32767之间的随机十进制数。</p> 
 <p>％ERRORLEVEL％ - 展开为当前的ERRORLEVEL值</p> 
 <p>％CMDEXTVERSION％ - 扩展到当前的命令处理器扩展</p> 
 <p>版本号。</p> 
 <p>％CMDCMDLINE％ - 展开到调用的原始命令行</p> 
 <p>命令处理器。</p> 
 <p>注意%CD% - expands to the current directory string. 部分。</p> 
 <p>在Unix上？</p> 
 <p>PWD</p> 
 <p>对于Windows我们可以使用</p> 
 <p>cd</p> 
 <p>和Linux</p> 
 <p>pwd</p> 
 <p>命令在那里。</p> 
 <p>对于Windows， cd本身会显示当前的工作目录。</p> 
 <p>对于UNIX和workalike系统， pwd将执行相同的任务。 你也可以在一些shell下使用$PWD shellvariables。 我不确定Windows是否支持通过shellvariables获取当前工作目录。</p> 
 <p>这一直为我工作：</p> 
 <p>SET CurrentDir="%~dp0" ECHO The current file path this bat file is executing in is the following: ECHO %CurrentDir% Pause</p> 
 <p>基于后续问题(将数据存储在一个variables中)在chdir文章的评论中，我打赌他希望存储当前path以在更改目录后恢复它。</p> 
 <p>原来的用户应该看看“pushd”，这会改变目录，并把当前的目录压入一个可以用“popd”恢复的堆栈。 在任何现代的Windows cmd shell上，这是制作batch file的方法。</p> 
 <p>如果你真的需要抓取当前的path，那么现代的CMD shell也有一个％CD％variables，你可以很容易地将其放在另一个variables中作为参考。</p> 
 <p>在Windows中：</p> 
 <p>CHDIR显示当前目录的名称或更改当前目录。</p> 
 <p>在Linux中：</p> 
 <p>PWD显示当前目录的名称。</p> 
 <p>@for /f "usebackq" %%x in (`chdir`) do set var=%%x @echo "The currenct directory is: %var%"</p> 
 <p>但是， 当然 ，gmaran23的答案是更容易的答案。</p> 
 <p>在Windows命令提示符下， chdir或cd将在控制台中打印当前工作目录的完整path。 如果我们要复制path，那么我们可以使用： cd | clip cd | clip 。</p> 
 <p>谢谢。</p> 
 <p>在Windows中inputcd为工作当前path在Linux pwd为当前工作path</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/85fa47bb94fbc13f844533160381f1d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">正则表达式之提取数字</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/451b8bbea92bcc45ff09b914e240122b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">波束宽度与波达方向及阵元数的关系</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>