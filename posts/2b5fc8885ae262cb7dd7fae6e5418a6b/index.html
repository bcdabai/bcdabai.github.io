<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《算法笔记》区间查询问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《算法笔记》区间查询问题" />
<meta property="og:description" content="题目描述：
食堂有N个打饭窗口，现在正到了午饭时间，每个窗口都排了很多的学生，而且每个窗口排队的人数在不断的变化。
现在问你第i个窗口到第j个窗口一共有多少人在排队？
输入：
输入的第一行是一个整数T，表示有T组测试数据。
每组输入的第一行是一个正整数N（N&lt;=30000），表示食堂有N个窗口。
接下来一行输入N个正整数，第i个正整数ai表示第i个窗口最开始有ai个人排队。（1&lt;=ai&lt;=50）
接下来每行有一条命令，命令有四种形式：
(1)Add i j，i和j为正整数，表示第i个窗口增加j个人（j不超过30）；
(2)Sub i j，i和j为正整数，表示第i个窗口减少j个人（j不超过30）；
(3)Query i j，i和j为正整数，i&lt;=j，表示询问第i到第j个窗口的总人数；
(4)End 表示结束，这条命令在每组数据最后出现；
每组数据最多有40000条命令。
输出：
对于每组输入，首先输出样例号，占一行。
然后对于每个Query询问，输出一个整数，占一行，表示询问的段中的总人数，这个数保持在int以内。
样例输入：
1
10
1 2 3 4 5 6 7 8 9 10
Query 1 3
Add 3 6
Query 2 7
Sub 10 2
Add 6 3
Query 3 10
End
样例输出：
Case 1:
6
33
59
题解：
本题作为区间查询的练习题，实际上题目已经做好了分化区间，即分窗口统计人数，只需要在此基础上做各窗口人数的统计即可。
#include&lt;iostream&gt; #include&lt;cstdio&gt; #include&lt;string&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; using namespace std; const int MAXN=3*1e4&#43;10; void act(string str,int a[]){ if(str==&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2b5fc8885ae262cb7dd7fae6e5418a6b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-31T09:02:01+08:00" />
<meta property="article:modified_time" content="2021-05-31T09:02:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《算法笔记》区间查询问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>题目描述：<br> 食堂有N个打饭窗口，现在正到了午饭时间，每个窗口都排了很多的学生，而且每个窗口排队的人数在不断的变化。<br> 现在问你第i个窗口到第j个窗口一共有多少人在排队？<br> <br> 输入：<br> 输入的第一行是一个整数T，表示有T组测试数据。<br> 每组输入的第一行是一个正整数N（N&lt;=30000），表示食堂有N个窗口。<br> 接下来一行输入N个正整数，第i个正整数ai表示第i个窗口最开始有ai个人排队。（1&lt;=ai&lt;=50）<br> 接下来每行有一条命令，命令有四种形式：<br> (1)Add i j，i和j为正整数，表示第i个窗口增加j个人（j不超过30）；<br> (2)Sub i j，i和j为正整数，表示第i个窗口减少j个人（j不超过30）；<br> (3)Query i j，i和j为正整数，i&lt;=j，表示询问第i到第j个窗口的总人数；<br> (4)End 表示结束，这条命令在每组数据最后出现；<br> 每组数据最多有40000条命令。<br> <br> 输出：<br> 对于每组输入，首先输出样例号，占一行。<br> 然后对于每个Query询问，输出一个整数，占一行，表示询问的段中的总人数，这个数保持在int以内。<br> <br> 样例输入：<br> 1<br> 10<br> 1 2 3 4 5 6 7 8 9 10<br> Query 1 3<br> Add 3 6<br> Query 2 7<br> Sub 10 2<br> Add 6 3<br> Query 3 10<br> End<br> <br> 样例输出：<br> Case 1:<br> 6<br> 33<br> 59</p> 
</blockquote> 
<blockquote> 
 <p>题解：<br> <br> 本题作为区间查询的练习题，实际上题目已经做好了分化区间，即分窗口统计人数，只需要在此基础上做各窗口人数的统计即可。</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;cstring&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;algorithm&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> MAXN<span class="token operator">=</span><span class="token number">3</span><span class="token operator">*</span><span class="token number">1e4</span><span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">act</span><span class="token punctuation">(</span>string str<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">==</span><span class="token string">"End"</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span><span class="token operator">&amp;</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">==</span><span class="token string">"Add"</span><span class="token punctuation">)</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">=</span>j<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">==</span><span class="token string">"Sub"</span><span class="token punctuation">)</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">=</span>j<span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">==</span><span class="token string">"Query"</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>j<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">// cout&lt;&lt;a[i]&lt;&lt;endl;</span>
			sum<span class="token operator">+</span><span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> T<span class="token punctuation">;</span> <span class="token comment">// T组数据</span>
	<span class="token keyword">int</span> N<span class="token punctuation">;</span> <span class="token comment">// N个窗口</span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 每个窗口人数数组</span>
	string str<span class="token punctuation">;</span> <span class="token comment">// 每次输入的指令 </span>
	
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> n<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 样例号 </span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case %d:\n"</span><span class="token punctuation">,</span><span class="token operator">++</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">memset</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>a<span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">do</span><span class="token punctuation">{<!-- --></span>
			cin<span class="token operator">&gt;&gt;</span>str<span class="token punctuation">;</span>
			<span class="token function">act</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>str<span class="token operator">!=</span><span class="token string">"End"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37411dea7278fc2cd4ebf37ba655b7fe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">android日期可输入,android中动态输入日期与时间</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ff33dd8b3509444b1d4951ae0f86753d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL数据库设置表中指定字段的值唯一性(unique index)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>