<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>算法基础——DFS与BFS模板总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="算法基础——DFS与BFS模板总结" />
<meta property="og:description" content="文章目录 前言一、DFS1.数字排列2.n皇后问题 二、BFS1.走迷宫2. 八数码 总结 前言 今天，利用周末时间对先前算法基础课的学习进行回顾，在挑战模式中我还是卡住了，有的模板题感能写出来，有印象但就是不能完整的实现。自己惩罚自己每题敲十遍！
本篇文章是针对搜索与图论章节中的DFS与BFS模板题的再回顾与精简的总结！
一、DFS 注意搜索的顺序；当搜到叶子节点（递归结束）时就回溯，回退一步看一步
1.数字排列 【题目链接】842. 排列数字 - AcWing题库
经典全排列问题，搜索与回溯！
【核心代码如下】：
int a[N]; bool st[N]; void dfs(int u) { if(u &gt; n)//递归出口 { display(); return ; } for(int i = 1; i &lt;= n; i &#43;&#43;)//搜索顺序（枚举所有可能） { if(!st[i]) { a[u] = i; st[i] = true; dfs(u &#43; 1); st[i] = false;//恢复现场 } } } dfs(1); 2.n皇后问题 【题目链接】845. 八数码 - AcWing题库
直线方程y=x&#43;b由截距得出对角线：y-x&#43;n防止负数出现，反对角线：y&#43;x。从每一行开始搜索，看看哪一列上的位置合适。
【核心代码如下】：
char g[N][N]; bool col[N], ug[N], ung[N];// 列、对角线、反对角线 void dfs(int u) { if(u &gt; n)// 递归出口 { display(); return ; } for(int j = 1; j &lt;= n; j &#43;&#43;) { if(!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d46bbfd2c8997958781fa28c101442fd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-23T11:08:23+08:00" />
<meta property="article:modified_time" content="2022-01-23T11:08:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法基础——DFS与BFS模板总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">前言</a></li><li><a href="#DFS_14" rel="nofollow">一、DFS</a></li><li><ul><li><a href="#1_18" rel="nofollow">1.数字排列</a></li><li><a href="#2n_52" rel="nofollow">2.n皇后问题</a></li></ul> 
  </li><li><a href="#BFS_84" rel="nofollow">二、BFS</a></li><li><ul><li><a href="#1_98" rel="nofollow">1.走迷宫</a></li><li><a href="#2__146" rel="nofollow">2. 八数码</a></li></ul> 
  </li><li><a href="#_224" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_6"></a>前言</h2> 
<p><font color="#999AAA">今天，利用周末时间对先前算法基础课的学习进行回顾，在挑战模式中我还是卡住了，有的模板题感能写出来，有印象但就是不能完整的实现。自己惩罚自己每题敲十遍！</font></p> 
<hr color="#000000" size='1"'> 
<p><font color="#999AAA">本篇文章是针对搜索与图论章节中的DFS与BFS模板题的再回顾与精简的总结！</font></p> 
<h2><a id="DFS_14"></a>一、DFS</h2> 
<p>注意搜索的顺序；当搜到叶子节点（递归结束）时就回溯，回退一步看一步</p> 
<h3><a id="1_18"></a>1.数字排列</h3> 
<p>【题目链接】<a href="https://www.acwing.com/problem/content/844/" rel="nofollow">842. 排列数字 - AcWing题库</a></p> 
<p>经典全排列问题，搜索与回溯！</p> 
<p><font color="#999AAA">【核心代码如下】：</font></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> a<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
bool st<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>u <span class="token operator">&gt;</span> n<span class="token punctuation">)</span><span class="token comment">//递归出口</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//搜索顺序（枚举所有可能）</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			a<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
			st<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>
			<span class="token function">dfs</span><span class="token punctuation">(</span>u <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			st<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> false<span class="token punctuation">;</span><span class="token comment">//恢复现场</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

	<span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="2n_52"></a>2.n皇后问题</h3> 
<p>【题目链接】<a href="https://www.acwing.com/problem/content/847/" rel="nofollow">845. 八数码 - AcWing题库</a></p> 
<p>直线方程<code>y=x+b</code>由截距得出对角线：<code>y-x+n</code>防止负数出现，反对角线：<code>y+x</code>。从每一行开始搜索，看看哪一列上的位置合适。</p> 
<p><font color="#999AAA">【核心代码如下】：</font></p> 
<pre><code class="prism language-c"><span class="token keyword">char</span> g<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
bool col<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> ug<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> ung<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 列、对角线、反对角线</span>

<span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>u <span class="token operator">&gt;</span> n<span class="token punctuation">)</span><span class="token comment">// 递归出口</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>col<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>dg<span class="token punctuation">[</span>j <span class="token operator">-</span> u <span class="token operator">+</span> n<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>udg<span class="token punctuation">[</span>j <span class="token operator">+</span> u<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Q'</span><span class="token punctuation">;</span>
			col<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dg<span class="token punctuation">[</span>j <span class="token operator">-</span> u <span class="token operator">+</span> n<span class="token punctuation">]</span> <span class="token operator">=</span> udg<span class="token punctuation">[</span>j <span class="token operator">+</span> u<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>
			<span class="token function">dfs</span><span class="token punctuation">(</span>u <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//回溯 恢复现场</span>
			g<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
			col<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dg<span class="token punctuation">[</span>j <span class="token operator">-</span> u <span class="token operator">+</span> n<span class="token punctuation">]</span> <span class="token operator">=</span> udg<span class="token punctuation">[</span>j <span class="token operator">+</span> u<span class="token punctuation">]</span> <span class="token operator">=</span> false<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="BFS_84"></a>二、BFS</h2> 
<p>宽度优先搜索，一层一层的搜索。如果所有边权都一样，满足最短路性质！</p> 
<p>BFS一般框架</p> 
<pre><code class="prism language-c">	<span class="token number">1.</span>起始点（初始状态）入队（队头）
	<span class="token number">2.</span><span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 队列不为空</span>
		拿出队头元素
		扩展队头元素
	<span class="token number">3.</span>队列为空，结束	
</code></pre> 
<h3><a id="1_98"></a>1.走迷宫</h3> 
<p>【题目链接】<a href="https://www.acwing.com/problem/content/846/" rel="nofollow">844. 走迷宫 - AcWing题库</a></p> 
<p>最短路模型，对标记数组<code>st</code>进行扩展，维护一个<code>d[N][N]</code>数组，起到记录最短作用的同时也起到标记作用！</p> 
<p><font color="#999AAA">【核心代码如下】：</font></p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> PII<span class="token punctuation">;</span>
queue<span class="token operator">&lt;</span>PII<span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">110</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> g<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> d<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//存放各个点到起点的距离（最短）</span>

<span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> dy<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">memset</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始距离全部设置为-1 表示该点未被访问过（记录距离的同时，起到了st数组的作用）</span>
    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span> t <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span>first <span class="token operator">+</span> dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> b <span class="token operator">=</span> t<span class="token punctuation">.</span>second <span class="token operator">+</span> dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> a <span class="token operator">&gt;=</span> n <span class="token operator">||</span> b <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> b <span class="token operator">&gt;=</span> m<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//越界</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>g<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//撞墙</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//该点被访问过</span>
            
            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            d<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>t<span class="token punctuation">.</span>first<span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">.</span>second<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//更新距离</span>
            
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//返回到终点的最短距离</span>
    <span class="token keyword">return</span> d<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2__146"></a>2. 八数码</h3> 
<p>【题目链接】<a href="https://www.acwing.com/problem/content/847/" rel="nofollow">845. 八数码 - AcWing题库</a></p> 
<p>最小步数模型：难点在于状态的切换和状态的存储，怎么将状态和最小步数关联起来等！</p> 
<p>技巧：通常用<code>map、unordered_map</code>来存储记录状态，存在着<code>key-value</code>的对应关系，一个状态对应着它的最短距离！</p> 
<p>坐标转换技巧：一维与二维坐标的相互转换！</p> 
<pre><code class="prism language-c">假设二维坐标系有n列
一维 到 二维 ：下标：x 
	xi <span class="token operator">=</span> x <span class="token operator">/</span> n， yi <span class="token operator">=</span> x <span class="token operator">%</span> n<span class="token punctuation">;</span>
二维 到 一维：<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
	xi <span class="token operator">=</span> x <span class="token operator">*</span> n <span class="token operator">+</span> y<span class="token punctuation">;</span>
	
</code></pre> 
<p><font color="#999AAA">【核心代码如下】：</font></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">bfs</span><span class="token punctuation">(</span>string start<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//定义目标状态</span>
    string end <span class="token operator">=</span> <span class="token string">"12345678x"</span><span class="token punctuation">;</span>
    <span class="token comment">//定义队列和dist数组</span>
    queue<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> q<span class="token punctuation">;</span>
    unordered_map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> d<span class="token punctuation">;</span>
    <span class="token comment">//初始化队列和dist数组</span>
    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//转移方式</span>
    <span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> dy<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span> t <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//记录当前状态的距离，如果是最终状态则返回距离</span>
        <span class="token keyword">int</span> distance <span class="token operator">=</span> d<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">==</span> end<span class="token punctuation">)</span> <span class="token keyword">return</span> distance<span class="token punctuation">;</span>
        <span class="token comment">//查询x在字符串中的下标，然后转换为在矩阵中的坐标</span>
        <span class="token keyword">int</span> k <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> k <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span> y <span class="token operator">=</span> k <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//求转移后x的坐标</span>
            <span class="token keyword">int</span> a <span class="token operator">=</span> x <span class="token operator">+</span> dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> b <span class="token operator">=</span> y <span class="token operator">+</span> dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//当前坐标没有越界</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> b <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> b <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//转移x</span>
                <span class="token function">swap</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> t<span class="token punctuation">[</span>a <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//如果当前状态是第一次遍历，记录距离，入队</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>d<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    d<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> distance <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//还原状态，为下一种转换情况做准备</span>
                <span class="token function">swap</span><span class="token punctuation">(</span>t<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> t<span class="token punctuation">[</span>a <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//无法转换到目标状态，返回-1</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr color="#000000" size='1"'> 
<h2><a id="_224"></a>总结</h2> 
<font color="#999AAA"> 以上就是今天要讲的内容，本文仅仅简单介绍了常规DFS与BFS的使用与技巧，是为了训练能够快速的根据思路写出核心代码模板。 </font> 
<hr> 
<blockquote> 
 <p>学习内容参考：<br> acwing算法基础课</p> 
</blockquote> 
<blockquote> 
 <p>注：如果文章有任何错误或不足，请各位大佬尽情指出，评论留言留下您宝贵的建议！如果这篇文章对你有些许帮助，希望可爱亲切的您点个赞推荐一手，非常感谢啦</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/64/cb/PtZYAXuX_o.png" alt=""><br> <strong>欢迎访问：</strong><a href="https://www.cnblogs.com/lwtyyds/" rel="nofollow">本人博客园地址</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7020aafe86c1e42e53b75f709a45e892/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Matlab的double函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c9771473d2cc5f9e97ec0bfee335699c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记一次pip安装部分依赖报错</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>