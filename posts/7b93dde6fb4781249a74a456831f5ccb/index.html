<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue-grid-layout组件的改装--暴露布局方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue-grid-layout组件的改装--暴露布局方法" />
<meta property="og:description" content="vue-grid-layout是一个非常优秀的vue栅格拖动布局的组件,使用方法请参考官网
属性 GridLayout参数:
layout 类型：Array 必需：true 这是网格的初始布局。 值必须是 Object 项的Array。 每个项目必须有 i，x，y，w 和 h proprties。 有关详细信息，请参阅 GridItem 文档 below。 colNum 类型：Number 必需：false 默认值：12 表示网格有多少列。 这个值应该是一个的自然数。 rowHeight 类型：Number 必需：false 默认值：150 表示单个行的高度以像素为单位。 maxRows 类型：Number 必需：false 默认值：Infinity 表示网格中的最大行数。 margin 类型：Array 必需：false 默认值：[10, 10] 表示网格的元素的边距是多少。 值必须是 Number的两个元素 Array。 每个值都用像素表示。 第一个元素是水平的margin，第二个元素是垂直边。 isDraggable 类型：Boolean 必需：false 默认值：true 表示网格的项是否可以拖动。 isResizable 类型：Boolean 必需：false 默认值：true 表示网格的项是否可以调整大小。 isMirrored 类型：Boolean 必需：false 默认值：false 表示是否应该反转 rtl/ltr。 autoSize 类型：Boolean 必需：false 默认值：true 表示容器高度是否应增大并收缩以适应内容。 verticalCompact 类型：Boolean 必需：false 默认值：true 表示布局是否应垂直为 compact。 useCssTransforms 类型：Boolean 必需：false 默认值：true 表示是否应使用 CSS transition-property: transform,否则是postion定位;。 属性GridItem参数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7b93dde6fb4781249a74a456831f5ccb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-28T23:17:47+08:00" />
<meta property="article:modified_time" content="2019-03-28T23:17:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue-grid-layout组件的改装--暴露布局方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>vue-grid-layout是一个非常优秀的vue栅格拖动布局的组件,使用方法请参考<a href="https://github.com/jbaysolutions/vue-grid-layout">官网</a></p> 
<p><strong>属性 GridLayout参数:</strong></p> 
<pre><code>layout
类型：Array
必需：true
这是网格的初始布局。
值必须是 Object 项的Array。 每个项目必须有 i，x，y，w 和 h proprties。 有关详细信息，请参阅 GridItem 文档 below。

colNum
类型：Number
必需：false
默认值：12
表示网格有多少列。
这个值应该是一个的自然数。

rowHeight
类型：Number
必需：false
默认值：150
表示单个行的高度以像素为单位。

maxRows
类型：Number
必需：false
默认值：Infinity
表示网格中的最大行数。

margin
类型：Array
必需：false
默认值：[10, 10]
表示网格的元素的边距是多少。
值必须是 Number的两个元素 Array。 每个值都用像素表示。 第一个元素是水平的margin，第二个元素是垂直边。

isDraggable
类型：Boolean
必需：false
默认值：true
表示网格的项是否可以拖动。

isResizable
类型：Boolean
必需：false
默认值：true
表示网格的项是否可以调整大小。

isMirrored
类型：Boolean
必需：false
默认值：false
表示是否应该反转 rtl/ltr。

autoSize
类型：Boolean
必需：false
默认值：true
表示容器高度是否应增大并收缩以适应内容。

verticalCompact
类型：Boolean
必需：false
默认值：true
表示布局是否应垂直为 compact。

useCssTransforms
类型：Boolean
必需：false
默认值：true
表示是否应使用 CSS transition-property: transform,否则是postion定位;。
</code></pre> 
<p><strong>属性GridItem参数</strong></p> 
<pre><code>i
类型：String
必需：true
这是项的唯一标识符。

x
类型：Number
必需：true
表示项( 在哪个列中放置它)的初始水平位置。
值必须是一个整数。

y
类型：Number
必需：true
表示项( 应放置在哪一行)的初始垂直位置。
值必须是一个整数。

w
类型：Number
必需：true
表示项的初始宽度。
值是一个与 colWidth 相乘的数字。

h
类型：Number
必需：true
表示项的初始高度。
值是一个与 rowHeight 相乘的数字。

minW
类型：Number
必需：false
默认值：1
表示项的最小宽度。 如果 w 将小于 minW，那么 w 将被设置为 minW。
值是一个与 colWidth 相乘的数字。

minH
类型：Number
必需：false
默认值：1
表示什么是项的最小 hieght。 如果 h 将小于 minH，那么 h 将被设置为 minH。
值是一个与 rowHeight 相乘的数字。

maxW
类型：Number
必需：false
默认值：Infinity
表示项的最大宽度。 如果 w 大于 maxW，那么 w 将被设置为 maxW。
值是一个与 colWidth 相乘的数字。

maxH
类型：Number
必需：false
默认值：Infinity
表示什么是项的最大高度。 如果 h 大于 maxH，那么 h 将被设置为 maxH。
值是一个与 rowHeight 相乘的数字

isDraggable
类型：Boolean
必需：false
默认值：null
表示项是否可以拖动。
如果默认值为 null，则从父值继承。

isResizable
类型：Boolean
必需：false
默认值：null
表示项是否可以调整大小。
如果默认值为 null，则从父值继承。

dragIgnoreFrom
类型：String
必需：false
默认值：'a, button'
表示项的哪些元素不应触发项的拖动事件。
值为 css-like 选择器字符串。

dragAllowFrom
类型：String
必需：false
默认值：null
表示项的哪些元素应触发项的拖动事件。
值为 css-like 选择器字符串。
如果 null 可以拖动，则可以拖动项的任何( 排除 dragIgnoreFrom ) 元素。

resizeIgnoreFrom
类型：String
必需：false
默认值：'a, button'
表示项的哪些元素不应触发项的大小调整事件。
值为 css-like 选择器字符串。

</code></pre> 
<p>上面的属性需要注意的是:</p> 
<ol><li>w宽度时表示占据栅格的数比如: 1/12 2/12 3/12 (12是colNum)</li><li>在gridItem里w+x的最大和不应该超过colNum,否则会不生效</li><li>verticalCompact表示的是垂直紧凑型布局,意思是当每一个gridItem上方没有其他栅格时,总会向上靠拢</li><li>useCssTransforms为true时使用c3属性translate3D实现平移,为false是采用的定位实现平移</li></ol> 
<p>好了,总结上面的内容:</p> 
<p>现在有一个需求,当点击按钮的时候,重新布局页面上的栅格系统:</p> 
<p><img src="https://images2.imgbox.com/8b/a9/iJAQw6UE_o.gif" alt="在这里插入图片描述"><br> 具体实现思路无非就是重新给gridItem赋值,参数可以自定义,但是要注意到校验参数,w与x的值是不能为小数的,因为他们代表的是栅格数,表现到页面上:</p> 
<p>栅格数 * 每一个栅格的宽度</p> 
<pre><code class="prism language-js"><span class="token function">layoutGridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//出入的是对象</span>
            <span class="token comment">// let config = {<!-- --></span>
            <span class="token comment">//     i: 0,</span>
            <span class="token comment">//     sizeObj: {<!-- --></span>
            <span class="token comment">//         w: 2,</span>
            <span class="token comment">//         h: 5</span>
            <span class="token comment">//     },</span>
            <span class="token comment">//     positionObj: {<!-- --></span>
            <span class="token comment">//         x: 2,</span>
            <span class="token comment">//         y: 4</span>
            <span class="token comment">//     }</span>
            <span class="token comment">// }</span>

            <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
                i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                sizeObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    w<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    h<span class="token punctuation">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                positionObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    y<span class="token punctuation">:</span> <span class="token number">4</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>
                i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                sizeObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    w<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    h<span class="token punctuation">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                positionObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    y<span class="token punctuation">:</span> <span class="token number">4</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>

            <span class="token comment">//判断传入的参数是对象,还是数组</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"[object Object]"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//校验参数</span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                   <span class="token keyword">let</span> xString <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">""</span>
                   <span class="token keyword">let</span> wString <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">+</span> <span class="token string">""</span>

                   <span class="token comment">//判断传入的参数是否是小数 </span>
                   <span class="token keyword">if</span><span class="token punctuation">(</span>xString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">||</span> wString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w参数不能是小数"</span><span class="token punctuation">)</span>
                   <span class="token punctuation">}</span>

                   <span class="token comment">//判断x与w的和是否大于栅格数</span>
                   <span class="token keyword">if</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                       <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w之和不能大于栅格数"</span><span class="token punctuation">)</span>
                   <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> 
                <span class="token punctuation">}</span>

                <span class="token comment">//设置新的布局格式</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>verticalCompact <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>i <span class="token operator">==</span> config<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        item<span class="token punctuation">.</span>h <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>h
                        item<span class="token punctuation">.</span>w <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w
                        item<span class="token punctuation">.</span>x <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x
                        item<span class="token punctuation">.</span>y <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>y
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>item<span class="token punctuation">.</span>h<span class="token punctuation">,</span>item<span class="token punctuation">.</span>w<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"[object Array]"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//校验参数</span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                   config<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">let</span> xString <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">""</span>
                        <span class="token keyword">let</span> wString <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">+</span> <span class="token string">""</span>

                        <span class="token comment">//判断传入的参数是否是小数 </span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>xString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">||</span> wString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w参数不能是小数"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment">//判断x与w的和是否大于栅格数</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w之和不能大于栅格数"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                   <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> 
                <span class="token punctuation">}</span>

                <span class="token keyword">this</span><span class="token punctuation">.</span>verticalCompact <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    config<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>i <span class="token operator">==</span> _<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            item<span class="token punctuation">.</span>h <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>h
                            item<span class="token punctuation">.</span>w <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w
                            item<span class="token punctuation">.</span>x <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x
                            item<span class="token punctuation">.</span>y <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>y
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>item<span class="token punctuation">.</span>h<span class="token punctuation">,</span>item<span class="token punctuation">.</span>w<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>完整源码:</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"layout"</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>grid<span class="token operator">-</span>layout
            <span class="token punctuation">:</span>layout<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"layout"</span>
            <span class="token punctuation">:</span>col<span class="token operator">-</span>num<span class="token operator">=</span><span class="token string">"colNum"</span>
            <span class="token punctuation">:</span>row<span class="token operator">-</span>height<span class="token operator">=</span><span class="token string">"30"</span>
            <span class="token punctuation">:</span>is<span class="token operator">-</span>draggable<span class="token operator">=</span><span class="token string">"true"</span>
            <span class="token punctuation">:</span>is<span class="token operator">-</span>resizable<span class="token operator">=</span><span class="token string">"true"</span>
            <span class="token punctuation">:</span>vertical<span class="token operator">-</span>compact<span class="token operator">=</span><span class="token string">"verticalCompact"</span>
            <span class="token punctuation">:</span>margin<span class="token operator">=</span><span class="token string">"[10, 10]"</span>
            <span class="token punctuation">:</span>use<span class="token operator">-</span>css<span class="token operator">-</span>transforms<span class="token operator">=</span><span class="token string">"false"</span>
            <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hoverStyle"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>grid<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in layout"</span> <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"item.i"</span>
                    <span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">"item.x"</span>
                    <span class="token punctuation">:</span>y<span class="token operator">=</span><span class="token string">"item.y"</span>
                    <span class="token punctuation">:</span>w<span class="token operator">=</span><span class="token string">"item.w"</span>
                    <span class="token punctuation">:</span>h<span class="token operator">=</span><span class="token string">"item.h"</span>
                    <span class="token punctuation">:</span>i<span class="token operator">=</span><span class="token string">"item.i"</span>
                    style<span class="token operator">=</span><span class="token string">"border: 1px solid #fff"</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">.</span>i<span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>grid<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>grid<span class="token operator">-</span>layout<span class="token operator">&gt;</span> 

        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"layoutGridItem"</span><span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> VueGridLayout <span class="token keyword">from</span> <span class="token string">'vue-grid-layout'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        GridLayout<span class="token punctuation">:</span> VueGridLayout<span class="token punctuation">.</span>GridLayout<span class="token punctuation">,</span>
        GridItem<span class="token punctuation">:</span> VueGridLayout<span class="token punctuation">.</span>GridItem
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
            layout<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"i"</span><span class="token punctuation">:</span><span class="token string">"0"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"i"</span><span class="token punctuation">:</span><span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{<!-- --></span><span class="token string">"x"</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"y"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"h"</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">"i"</span><span class="token punctuation">:</span><span class="token string">"2"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            verticalCompact<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            colNum<span class="token punctuation">:</span> <span class="token number">12</span> <span class="token comment">//栅格数</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        
        <span class="token function">layoutGridItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">//出入的是对象</span>
            <span class="token comment">// let config = {<!-- --></span>
            <span class="token comment">//     i: 0,</span>
            <span class="token comment">//     sizeObj: {<!-- --></span>
            <span class="token comment">//         w: 2,</span>
            <span class="token comment">//         h: 5</span>
            <span class="token comment">//     },</span>
            <span class="token comment">//     positionObj: {<!-- --></span>
            <span class="token comment">//         x: 2,</span>
            <span class="token comment">//         y: 4</span>
            <span class="token comment">//     }</span>
            <span class="token comment">// }</span>

            <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
                i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                sizeObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    w<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    h<span class="token punctuation">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                positionObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    y<span class="token punctuation">:</span> <span class="token number">4</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>
                i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                sizeObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    w<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    h<span class="token punctuation">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                positionObj<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                    x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    y<span class="token punctuation">:</span> <span class="token number">4</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>

            <span class="token comment">//判断传入的参数是对象,还是数组</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"[object Object]"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//校验参数</span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                   <span class="token keyword">let</span> xString <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">""</span>
                   <span class="token keyword">let</span> wString <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">+</span> <span class="token string">""</span>

                   <span class="token comment">//判断传入的参数是否是小数 </span>
                   <span class="token keyword">if</span><span class="token punctuation">(</span>xString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">||</span> wString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w参数不能是小数"</span><span class="token punctuation">)</span>
                   <span class="token punctuation">}</span>

                   <span class="token comment">//判断x与w的和是否大于栅格数</span>
                   <span class="token keyword">if</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                       <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w之和不能大于栅格数"</span><span class="token punctuation">)</span>
                   <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> 
                <span class="token punctuation">}</span>

                <span class="token comment">//设置新的布局格式</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>verticalCompact <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>i <span class="token operator">==</span> config<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        item<span class="token punctuation">.</span>h <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>h
                        item<span class="token punctuation">.</span>w <span class="token operator">=</span> config<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w
                        item<span class="token punctuation">.</span>x <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x
                        item<span class="token punctuation">.</span>y <span class="token operator">=</span> config<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>y
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>item<span class="token punctuation">.</span>h<span class="token punctuation">,</span>item<span class="token punctuation">.</span>w<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"[object Array]"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//校验参数</span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                   config<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">let</span> xString <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">""</span>
                        <span class="token keyword">let</span> wString <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">+</span> <span class="token string">""</span>

                        <span class="token comment">//判断传入的参数是否是小数 </span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>xString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span> <span class="token operator">||</span> wString<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w参数不能是小数"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>

                        <span class="token comment">//判断x与w的和是否大于栅格数</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x <span class="token operator">+</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>colNum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"x 与 w之和不能大于栅格数"</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                   <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> 
                <span class="token punctuation">}</span>

                <span class="token keyword">this</span><span class="token punctuation">.</span>verticalCompact <span class="token operator">=</span> <span class="token boolean">false</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    config<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>i <span class="token operator">==</span> _<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                            item<span class="token punctuation">.</span>h <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>h
                            item<span class="token punctuation">.</span>w <span class="token operator">=</span> _<span class="token punctuation">.</span>sizeObj<span class="token punctuation">.</span>w
                            item<span class="token punctuation">.</span>x <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>x
                            item<span class="token punctuation">.</span>y <span class="token operator">=</span> _<span class="token punctuation">.</span>positionObj<span class="token punctuation">.</span>y
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>x<span class="token punctuation">,</span>item<span class="token punctuation">.</span>y<span class="token punctuation">,</span>item<span class="token punctuation">.</span>h<span class="token punctuation">,</span>item<span class="token punctuation">.</span>w<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"scss"</span><span class="token operator">&gt;</span>
    <span class="token punctuation">.</span>layout <span class="token punctuation">{<!-- --></span>
        background<span class="token punctuation">:</span> #<span class="token number">999</span><span class="token punctuation">;</span>
        height<span class="token punctuation">:</span> <span class="token number">500</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>hoverStyle <span class="token punctuation">{<!-- --></span>
        border<span class="token punctuation">:</span> <span class="token number">1</span>px solid #<span class="token number">999</span><span class="token punctuation">;</span>
        <span class="token comment">// &amp;:hover {<!-- --></span>
        <span class="token comment">//     border: 1px solid blue;</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>    
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13e63202ff5b7cb34408ea84a45d9bd6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring Security前置知识3--Cookie与Web Storage</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10215dadd860604056b77181972af534/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">路的尽头 ...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>