<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信开发者工具-project.config.json配置详情 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信开发者工具-project.config.json配置详情" />
<meta property="og:description" content="项目配置文件 项目根目录中的 project.config.json 和 project.private.config.json 文件可以对项目进行配置，project.private.config.json 中的相同设置优先级高于 project.config.json可以在 project.config.json 文件中配置公共的配置，在 project.private.config.json 配置个人的配置，可以将 project.private.config.json 写到 .gitignore 避免版本管理的冲突。project.private.config.json 中有的字段，开发者工具内的设置修改会优先覆盖 project.private.config.json 的内容。如在 project.private.config.json 有 appid 字段，那么在 详情-基本信息 中修改了 appid，会写到 project.private.config.json 中，不会覆盖掉 project.config.json 的 appid 字段的内容开发阶段相关的设置修改优先同步到 project.private.config.json 中，与最终编译产物有关的设置无法在 project.private.config.json 中生效 一级字段 字段名类型说明miniprogramRootPath String指定小程序源码的目录(需为相对路径)qcloudRootPath String指定腾讯云项目的目录(需为相对路径)pluginRootPath String指定插件项目的目录(需为相对路径)cloudbaseRootPath String云开发代码根目录(需为相对路径)cloudfunctionRootPath String云函数代码根目录(需为相对路径)cloudfunctionTemplateRootPath String云函数本地调试请求模板的根目录(需为相对路径)cloudcontainerRootPath String云托管代码根目录(需为相对路径)compileTypeString编译类型settingObject项目设置libVersionString基础库版本appidString项目的 appid，只在新建项目时读取projectnameString项目名字，只在新建项目时读取packOptionsObject打包配置选项debugOptionsObject调试配置选项watchOptionsObject文件监听配置设置scriptsObject自定义预处理staticServerOptionsObject仅在小游戏项目中有效 compileType 编译类型作用于开发工具的以下设置
名字说明miniprogram当前为普通小程序项目plugin当前为小程序插件项目 setting 项目的编译设置，可以指定以下设置。部分设置无法在 project.private.config.json 中生效
以下字段可以开发者工具-详情-本地设置可以对应上
字段名类型允许私有设置[1]说明es6Boolean否是否启用 es6 转 es5[2]enhanceBoolean否是否打开增强编译[2]postcssBoolean否上传代码时样式是否自动补全minifiedBoolean否上传代码时是否自动压缩脚本文件minifyWXSSBoolean否上传代码时是否自动压缩样式文件minifyWXMLBoolean否上传代码时是否自动压缩 WXML 文件uglifyFileNameBoolean否上传时进行代码保护ignoreUploadUnusedFilesBoolean否上传时是否过滤无依赖文件autoAuditsBoolean是是否自动运行体验评分urlCheckBoolean是是否检查安全域名和 TLS 版本compileHotReLoadBoolean是是否开启文件保存后自动热重载preloadBackgroundDataBoolean是小程序加载时是否数据预拉取lazyloadPlaceholderEnableBoolean是是否启用懒注入占位组件调试[3]useStaticServerBoolean是仅在小游戏项目有效，是否开启静态资源服务器[4] 以下字段是开发者工具的隐式设置
字段名类型允许私有设置[1]说明babelSettingObject否增强编译下Babel的配置项useCompilerPluginsString[] 或 false否编译插件配置disableUseStrictBoolean否将 JS 编译成 ES5 时，是否禁用严格模式uploadWithSourceMapBoolean否上传时是否带上 sourcemap（默认为true）localPluginsBoolean否在小游戏插件项目中，是否启用 “以本地目录为插件资源来源”[5] 特性packNpmManuallyBoolean否是否手动配置构建 npm 的路径packNpmRelationListArray否仅 packNpmManually 为 true 时生效，详细参考构建 npm 文档coverViewBoolean是是否使用工具渲染 CoverViewignoreDevUnusedFilesBoolean是预览、真机调试和本地模拟器等开发阶段是否过滤无依赖文件（默认为true）checkInvalidKeyBoolean是是否展示 JSON 文件校验错误信息showShadowRootInWxmlPanelBoolean是是否开启调试器 WXML 面板展示 shadow-rootuseIsolateContextBoolean是是否开启小程序独立域调试特性[6]useMultiFrameRuntimeBoolean是是否开启模拟器预先载入小程序的某些资源[7]。此设定为 false 时会导致 useIsolateContext 失效useApiHookBoolean是是否启用 API Hook 功能[8]useApiHostProcessBoolean是是否在额外的进程处理一些小程序 API[9]useLanDebugBoolean是仅在小游戏有效，是否开启局域网调试服务器enableEngineNativeBoolean是是否在游戏引擎项目中开启支持引用 node 原生模块的底层加速特性showES6CompileOptionBoolean是是否在本地设置中展示传统的 ES6 转 ES5 开关（对应 es6），增强编译开关 （对应 enhance） 注 1: 开发阶段相关的设置修改优先同步到 project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b92b9bfeb24307a9f9bd5f1755db68ed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-05T10:50:00+08:00" />
<meta property="article:modified_time" content="2022-05-05T10:50:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信开发者工具-project.config.json配置详情</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="项目配置文件">项目配置文件</h3> 
<ol><li>项目根目录中的 <code>project.config.json</code> 和 <code>project.private.config.json</code> 文件可以对项目进行配置，</li><li><code>project.private.config.json</code> 中的相同设置优先级高于 <code>project.config.json</code></li><li>可以在 <code>project.config.json</code> 文件中配置公共的配置，在 <code>project.private.config.json</code> 配置个人的配置，可以将 <code>project.private.config.json</code> 写到 <code>.gitignore</code> 避免版本管理的冲突。</li><li><code>project.private.config.json</code> 中有的字段，开发者工具内的设置修改会优先覆盖 <code>project.private.config.json</code> 的内容。如在 <code>project.private.config.json</code> 有 <code>appid</code> 字段，那么在 详情-基本信息 中修改了 appid，会写到 <code>project.private.config.json</code> 中，不会覆盖掉 <code>project.config.json</code> 的 <code>appid</code> 字段的内容</li><li>开发阶段相关的设置修改优先同步到 <code>project.private.config.json</code> 中，与最终编译产物有关的设置无法在 <code>project.private.config.json</code> 中生效</li></ol> 
<h3 id="一级字段">一级字段</h3> 
<table><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>miniprogramRoot</td><td>Path String</td><td>指定小程序源码的目录(需为相对路径)</td></tr><tr><td>qcloudRoot</td><td>Path String</td><td>指定腾讯云项目的目录(需为相对路径)</td></tr><tr><td>pluginRoot</td><td>Path String</td><td>指定插件项目的目录(需为相对路径)</td></tr><tr><td>cloudbaseRoot</td><td>Path String</td><td>云开发代码根目录(需为相对路径)</td></tr><tr><td>cloudfunctionRoot</td><td>Path String</td><td>云函数代码根目录(需为相对路径)</td></tr><tr><td>cloudfunctionTemplateRoot</td><td>Path String</td><td>云函数本地调试请求模板的根目录(需为相对路径)</td></tr><tr><td>cloudcontainerRoot</td><td>Path String</td><td>云托管代码根目录(需为相对路径)</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#compileType" rel="nofollow" title="compileType">compileType</a></td><td>String</td><td>编译类型</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#setting" rel="nofollow" title="setting">setting</a></td><td>Object</td><td>项目设置</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#libVersion" rel="nofollow" title="libVersion">libVersion</a></td><td>String</td><td>基础库版本</td></tr><tr><td>appid</td><td>String</td><td>项目的 appid，<strong>只在新建项目时读取</strong></td></tr><tr><td>projectname</td><td>String</td><td>项目名字，<strong>只在新建项目时读取</strong></td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#packOptions" rel="nofollow" title="packOptions">packOptions</a></td><td>Object</td><td>打包配置选项</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#debugOptions" rel="nofollow" title="debugOptions">debugOptions</a></td><td>Object</td><td>调试配置选项</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#watchOptions" rel="nofollow" title="watchOptions">watchOptions</a></td><td>Object</td><td>文件监听配置设置</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#scripts" rel="nofollow" title="scripts">scripts</a></td><td>Object</td><td>自定义预处理</td></tr><tr><td><a href="https://developers.weixin.qq.com/minigame/dev/devtools/projectconfig#staticServerOptions" rel="nofollow" title="staticServerOptions">staticServerOptions</a></td><td>Object</td><td>仅在小游戏项目中有效</td></tr></tbody></table> 
<h3 id="compileType">compileType</h3> 
<p>编译类型作用于开发工具的以下设置</p> 
<p><img alt="" height="73" src="https://images2.imgbox.com/cc/d6/zl8r6FZv_o.png" width="425"></p> 
<table><thead><tr><th>名字</th><th>说明</th></tr></thead><tbody><tr><td>miniprogram</td><td>当前为普通小程序项目</td></tr><tr><td>plugin</td><td>当前为小程序插件项目</td></tr></tbody></table> 
<h3 id="setting">setting</h3> 
<p>项目的编译设置，可以指定以下设置。部分设置无法在 <code>project.private.config.json</code> 中生效</p> 
<p>以下字段可以开发者工具-详情-本地设置可以对应上</p> 
<table><thead><tr><th>字段名</th><th>类型</th><th>允许私有设置[1]</th><th>说明</th></tr></thead><tbody><tr><td>es6</td><td>Boolean</td><td>否</td><td>是否启用 es6 转 es5[2]</td></tr><tr><td>enhance</td><td>Boolean</td><td>否</td><td>是否打开增强编译[2]</td></tr><tr><td>postcss</td><td>Boolean</td><td>否</td><td>上传代码时样式是否自动补全</td></tr><tr><td>minified</td><td>Boolean</td><td>否</td><td>上传代码时是否自动压缩脚本文件</td></tr><tr><td>minifyWXSS</td><td>Boolean</td><td>否</td><td>上传代码时是否自动压缩样式文件</td></tr><tr><td>minifyWXML</td><td>Boolean</td><td>否</td><td>上传代码时是否自动压缩 WXML 文件</td></tr><tr><td>uglifyFileName</td><td>Boolean</td><td>否</td><td>上传时进行代码保护</td></tr><tr><td>ignoreUploadUnusedFiles</td><td>Boolean</td><td>否</td><td>上传时是否过滤无依赖文件</td></tr><tr><td>autoAudits</td><td>Boolean</td><td>是</td><td>是否自动运行体验评分</td></tr><tr><td>urlCheck</td><td>Boolean</td><td>是</td><td>是否检查安全域名和 TLS 版本</td></tr><tr><td>compileHotReLoad</td><td>Boolean</td><td>是</td><td>是否开启文件保存后自动热重载</td></tr><tr><td>preloadBackgroundData</td><td>Boolean</td><td>是</td><td>小程序加载时是否数据预拉取</td></tr><tr><td>lazyloadPlaceholderEnable</td><td>Boolean</td><td>是</td><td>是否启用懒注入占位组件调试[3]</td></tr><tr><td>useStaticServer</td><td>Boolean</td><td>是</td><td>仅在小游戏项目有效，是否开启静态资源服务器[4]</td></tr></tbody></table> 
<p>以下字段是开发者工具的隐式设置</p> 
<table><thead><tr><th>字段名</th><th>类型</th><th>允许私有设置[1]</th><th>说明</th></tr></thead><tbody><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#babelSetting" rel="nofollow" title="babelSetting">babelSetting</a></td><td>Object</td><td>否</td><td>增强编译下Babel的配置项</td></tr><tr><td><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html#useCompilerPlugins" rel="nofollow" title="useCompilerPlugins">useCompilerPlugins</a></td><td>String[] 或 false</td><td>否</td><td>编译插件配置</td></tr><tr><td>disableUseStrict</td><td>Boolean</td><td>否</td><td>将 JS 编译成 ES5 时，是否禁用严格模式</td></tr><tr><td>uploadWithSourceMap</td><td>Boolean</td><td>否</td><td>上传时是否带上 sourcemap（默认为true）</td></tr><tr><td>localPlugins</td><td>Boolean</td><td>否</td><td>在小游戏插件项目中，是否启用 “以本地目录为插件资源来源”[5] 特性</td></tr><tr><td>packNpmManually</td><td>Boolean</td><td>否</td><td>是否手动配置构建 npm 的路径</td></tr><tr><td>packNpmRelationList</td><td>Array</td><td>否</td><td>仅 <code>packNpmManually</code> 为 true 时生效，详细参考<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html" rel="nofollow" title="构建 npm 文档">构建 npm 文档</a></td></tr><tr><td>coverView</td><td>Boolean</td><td>是</td><td>是否使用工具渲染 CoverView</td></tr><tr><td>ignoreDevUnusedFiles</td><td>Boolean</td><td>是</td><td>预览、真机调试和本地模拟器等开发阶段是否过滤无依赖文件（默认为true）</td></tr><tr><td>checkInvalidKey</td><td>Boolean</td><td>是</td><td>是否展示 JSON 文件校验错误信息</td></tr><tr><td>showShadowRootInWxmlPanel</td><td>Boolean</td><td>是</td><td>是否开启调试器 WXML 面板展示 shadow-root</td></tr><tr><td>useIsolateContext</td><td>Boolean</td><td>是</td><td>是否开启小程序独立域调试特性[6]</td></tr><tr><td>useMultiFrameRuntime</td><td>Boolean</td><td>是</td><td>是否开启模拟器预先载入小程序的某些资源[7]。此设定为 false 时会导致 <code>useIsolateContext</code> 失效</td></tr><tr><td>useApiHook</td><td>Boolean</td><td>是</td><td>是否启用 API Hook 功能[8]</td></tr><tr><td>useApiHostProcess</td><td>Boolean</td><td>是</td><td>是否在额外的进程处理一些小程序 API[9]</td></tr><tr><td>useLanDebug</td><td>Boolean</td><td>是</td><td>仅在小游戏有效，是否开启局域网调试服务器</td></tr><tr><td>enableEngineNative</td><td>Boolean</td><td>是</td><td>是否在游戏引擎项目中开启支持引用 node 原生模块的底层加速特性</td></tr><tr><td>showES6CompileOption</td><td>Boolean</td><td>是</td><td>是否在本地设置中展示传统的 ES6 转 ES5 开关（对应 es6），增强编译开关 （对应 enhance）</td></tr></tbody></table> 
<p><strong>注 1</strong>: 开发阶段相关的设置修改优先同步到 <code>project.private.config.json</code> 中，与最终编译产物有关的设置无法在 <code>project.private.config.json</code> 中生效</p> 
<p><strong>注 2</strong>: <code>es6</code> 和 <code>enhance</code> 需同时为 true/false，对应于 <code>将 JS 编译成 ES5</code></p> 
<p><strong>注 3</strong>: (<strong>懒注入占位组件调试</strong>) 开启<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload" rel="nofollow" title="按需注入">按需注入</a>后在项目设置面板中会出现对应的勾选项，开启之后，按需注入的组件将会停止注入，页面停止在占位组件状态，便于调试自定义占位组件。</p> 
<p><strong>注 4</strong>: (<strong>静态资源服务器</strong>) 可以托管项目本地的静态资源，主要用于在预览时测试小游戏真机资源加载的效果。</p> 
<p><strong>注 5</strong>: (<strong>以本地目录为插件资源来源</strong>) 启用此特性后，工具将停止从线上获取小游戏插件包内容，并将检验本地相应目录的文件完整性。仅对小游戏插件项目有效。要以本地磁盘目录作为插件的资源来源，需要同时在小游戏插件项目的 game.json 中配置相关的属性。</p> 
<p><strong>注 6</strong>: (<strong>小程序独立域调试</strong>) 一种新的小程序内部代码的执行方式，仅影响工具侧的调试过程。未来将取代传统的执行方式并成为默认选择。仅在 2.11.1 及以上基础库有效。关闭此特性可能有助于规避一些调试中遇到的未知报错。</p> 
<p><strong>注 7</strong>: (<strong>预先载入小程序的某些资源</strong>) 开启此内部特性后，调试时小程序的重新载入可能会更快一些。此设定不影响真机和实际运行效果。</p> 
<p><strong>注 8</strong>: (<strong>API Hook 功能</strong>) 关闭此内部特性可能导致工具的某些调试功能（例如 mock）失效。此设定不影响真机运行效果。</p> 
<p><strong>注 9</strong>: (<strong>额外进程</strong>) 开启此内部特性后，部分 API 的调用会被移到单独的进程以减轻工具主进程的负担。此设定不影响真机运行效果。</p> 
<h3>useCompilerPlugins</h3> 
<p>编译插件配置，目前支持编译插件有 typescript、less、sass</p> 
<p>如</p> 
<pre><code>{
  "setting": {
    "useCompilerPlugins": [
      "typescript",
      "less"
    ]
  }
}
</code></pre> 
<p>表示项目支持直接使用 typescript 和 less</p> 
<h3>babelSetting</h3> 
<p><code>将 JS 编译为 ES5</code> 时 Babel 的配置项，其中可以指定以下设置</p> 
<table><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>outputPath</td><td>String</td><td>Babel 辅助函数的输出目录，默认为 <code>@babel/runtime</code></td></tr><tr><td>ignore</td><td>Array<code>&lt;String&gt;</code></td><td>配置需要跳过Babel编译(包括代码压缩)处理的文件或目录</td></tr></tbody></table> 
<p><strong>注 1</strong>: 指定文件路径外，还可以指定目录，详见下面项目配置示例</p> 
<h3 id="libVersion">libVersion</h3> 
<p>可以指定项目运行的基础库具体的版本号 也可以 <code>project.config.json</code> 的 <code>libVersion</code> 指定以下值</p> 
<table><thead><tr><th>值</th><th>说明</th></tr></thead><tbody><tr><td>latest</td><td>最新的非灰度中的基础库</td></tr><tr><td>trial</td><td>最新的基础库</td></tr><tr><td>widelyUsed</td><td>使用比例最高的基础库</td></tr></tbody></table> 
<p>以上值在 <code>project.private.config.json</code> 文件中无效，因为手动在开发者工具-详情-本地设置中改变基础库的版本，会覆盖掉 <code>project.private.config.json</code> 的 <code>libVersion</code> 字段</p> 
<h3 id="scripts">scripts</h3> 
<p>指定自定义预处理的命令</p> 
<table><thead><tr><th>名字</th><th>说明</th></tr></thead><tbody><tr><td>beforeCompile</td><td>编译前预处理命令</td></tr><tr><td>beforePreview</td><td>预览前预处理命令</td></tr><tr><td>beforeUpload</td><td>上传前预处理命令</td></tr></tbody></table> 
<h3 id="packOptions">packOptions</h3> 
<p><code>packOptions</code> 用以配置项目在打包过程中的选项。打包是预览、上传时对项目进行的必须步骤。</p> 
<p>目前可以指定 <code>packOptions.include</code> 字段，用以配置打包时需要强制带上的文件（<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/structure.html#%E5%85%81%E8%AE%B8%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6" rel="nofollow" title="仅限后缀名白名单内">仅限后缀名白名单内</a>）或者文件夹，匹配的这些文件或文件夹将一定会出现在预览或上传的结果内。（该字段的优先级高于 <code>packOptions.ignore</code>）</p> 
<p>同时可以指定 <code>packOptions.ignore</code> 字段，用以配置打包时对符合指定规则的文件或文件夹进行忽略，以跳过打包的过程，这些文件或文件夹将不会出现在预览或上传的结果内。</p> 
<p><code>packOptions.ignore</code> 和 <code>packOptions.include</code> 为一对象数组，对象元素类型如下：</p> 
<table><thead><tr><th>字段名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>string</td><td>路径1或取值</td></tr><tr><td>type</td><td>string</td><td>类型</td></tr></tbody></table> 
<p>其中，<code>type</code> 可以取的值为 <code>folder</code>、<code>file</code>、<code>suffix</code>、<code>prefix</code>、<code>regexp</code>2、<code>glob</code>2，分别对应文件夹、文件、后缀、前缀、正则表达式、Glob 规则。所有规则值都会自动忽略大小写。</p> 
<p><strong>注 1</strong>: <code>value</code> 字段的值若表示文件或文件夹路径，以小程序目录 (<code>miniprogramRoot</code>) 为根目录。</p> 
<p><strong>注 2</strong>: <code>regexp</code>、<code>glob</code> 仅 1.02.1809260 及以上版本工具支持。</p> 
<p>示例配置如下。</p> 
<pre><code>{
  "packOptions": {
    "ignore": [{
      "type": "file",
      "value": "test/test.js"
    }, {
      "type": "folder",
      "value": "test"
    }, {
      "type": "suffix",
      "value": ".webp"
    }, {
      "type": "prefix",
      "value": "test-"
    }, {
      "type": "glob",
      "value": "test/**/*.js"
    }, {
      "type": "regexp",
      "value": "\\.jsx$"
    }]
  }
}
</code></pre> 
<p><strong>注</strong>: 这部分设置的更改可能需要重新打开项目才能生效。</p> 
<h3 id="debugOptions">debugOptions</h3> 
<p><code>debugOptions</code> 用以配置在对项目代码进行调试时的选项。</p> 
<p>目前可以指定 <code>debugOptions.hidedInDevtools</code> 字段，用以配置调试时于调试器 Sources 面板隐藏源代码的文件。</p> 
<p><code>hidedInDevtools</code> 的配置规则和 <code>packOptions.ignore</code> 是一致的。</p> 
<p>当某个 js 文件符合此规则时，调试器 Sources 面板中此文件源代码正文内容将被隐藏，显示为：</p> 
<pre><code>// xxx.js has been hided by project.config.json
</code></pre> 
<blockquote> 
 <p>注：配置此规则后，可能需要关闭并重新打开项目才能看到效果。</p> 
</blockquote> 
<p><strong>项目配置示例：</strong></p> 
<pre><code>{
  "miniprogramRoot": "./src",
  "qcloudRoot": "./svr",
  "setting": {
    "postcss": true,
    "es6": true,
    "minified": true,
    "urlCheck": false,
    "checkSiteMap": true,
    "enhance": true,
    "babelSetting": {
      "ignore": [
        "utils/something_not_to_process.js",
        "miniprogram_npm/*",
        "utils/already_handle/*"
      ]
    }
  },
  "packOptions": {
    "ignore": []
  },
  "debugOptions": {}
}
</code></pre> 
<h3 id="watchOptions">watchOptions</h3> 
<p><code>watchOptions</code> 用以配置项目中可以被忽略展示和监听文件变化的文件匹配规则。 部分项目（如游戏项目）其项目文件可能成千上万，其中大部分可能是资源文件，并不是小程序和小游戏代码中关心展示的文件，这些文件在工具开发时可以不需要被开发者关注，因此工具可以增加一个配置去忽略指定的文件和目录，从而不对这些文件进行文件遍历获取和文件内容变更的监听（watch），从而提高开启工具的速度以及减少工具打开占用的内存。</p> 
<p>目前可以指定 <code>watchOptions.ignore</code> 字段，用以配置工具时对符合指定规则的文件或文件夹进行忽略(<code>忽略的文件将不展示在编辑器文件列表和对该文件进行监听</code>），以避免展示和监听项目中不必要的文件内容（这些文件或文件夹不需要去关心文件变化）</p> 
<p><code>watchOptions.ignore</code> 为 <code>glob pattern</code> 字符串数组,具体支持如下：</p> 
<ul><li> 
  <ul><li>匹配0到多个字符</li></ul></li><li>? 匹配一个字符</li><li>[...] 匹配一个字符列表，类似正则表达式的字符列表</li><li>!(pattern|pattern|pattern) 反向匹配括号内的模式</li><li>?(pattern|pattern|pattern) 匹配0或1个括号内的模式</li><li>+(pattern|pattern|pattern) 匹配至少1个括号内的模式</li><li>*(pattern|pattern|pattern) 匹配0到多个括号内的模式</li><li>@(pattern|pat*|pat?erN) 精确匹配括号内的模式</li><li>** 匹配0到多个子目录，递归匹配子目录</li></ul> 
<p>示例配置如下。</p> 
<p>如下所示</p> 
<pre><code>{
  "description": "项目配置文件",
  "watchOptions": {
     "ignore": [
        "utils/util.js",
        "libs/**/**"
     ]
  }
}
</code></pre> 
<p><strong>注 1</strong> : watchOptions.ignore 数组中的值若表示文件或文件夹路径，以项目根目录为基准目录。 </p> 
<p><strong>注 2</strong> : 由于文件遍历和 watch 都是在项目启动时执行，因此如果修改了 watchOptions 需要重新打开项目 </p> 
<p><strong>注 3</strong>: 该配置仅 1.02.1910220 及以上版本工具支持。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/acfb61c6db9fa1962489f2589fccb793/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Gitea：私有部署Git托管服务(私有Git仓)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf5496a476fb93560a1fd64b3f5770d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; 高效的遍历opencv Mat像素</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>