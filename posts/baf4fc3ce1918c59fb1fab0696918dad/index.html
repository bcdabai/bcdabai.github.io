<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gradle系列——常用指令，修改gradle源，Wrapper包装器（源于文档7.5版本，SpringBoot使用）day1-2 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gradle系列——常用指令，修改gradle源，Wrapper包装器（源于文档7.5版本，SpringBoot使用）day1-2" />
<meta property="og:description" content="Gradle系列——常用指令，修改gradle源，Wrapper包装器（源于文档7.5版本，SpringBoot使用）day1-2 Gradle常用指令注意点 修改Gradle源1.打开gradle目录下的init.d文件夹2.添加一个init.gradle文件3.修改init.gradle阿里云官网错误 了解一下init.gradle文件init.gradle文件启用方法配置仓库说明 Wrapper包装器Gradle Wrapper的工作流程添加Gradle Wrapper(若你下载的是all就不需要)使用Gradle WrapperGradle Wrapper的目录结构下载和用自己以前写的用Gradle Wrapper！ Gradle常用指令 指令说明gradle clean清空build目录gradle classes编译业务代码和配置文件gradle test编译测试代码，生成测试报告gradle build构建项目gradle build -x test跳过测试构建 如上的指令需要在有build.gradle文件目录下执行
注意点 使用gradle test命令生成测试报告后，存放在\build\reports\tests\test
使用gradle build相当于clean&#43;classes&#43;test&#43;build整体流程
修改Gradle源 阿里巴巴镜像源地址
1.打开gradle目录下的init.d文件夹 2.添加一个init.gradle文件 3.修改init.gradle 参照提供的实例我们修改一下，我在下面提供了基本上可能用到的所有配置
allprojects { repositories { maven { url &#39;https://maven.aliyun.com/repository/public/&#39; } maven { url &#39;https://maven.aliyun.com/repository/spring/&#39; } maven { url &#39;https://maven.aliyun.com/repository/central/&#39; } maven { url &#39;https://maven.aliyun.com/repository/google/&#39; } maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin/&#39; } maven { url &#39;https://maven.aliyun.com/repository/spring-plugin/&#39; } mavenLocal() mavenCentral() } } 阿里云官网错误 这个地方使用的是allprojectsP是小写的，不然后面构建会报错" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/baf4fc3ce1918c59fb1fab0696918dad/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-01T05:26:06+08:00" />
<meta property="article:modified_time" content="2022-08-01T05:26:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gradle系列——常用指令，修改gradle源，Wrapper包装器（源于文档7.5版本，SpringBoot使用）day1-2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Gradle系列——常用指令，修改gradle源，Wrapper包装器（源于文档7.5版本，SpringBoot使用）day1-2</h4> 
 <ul><li><a href="#Gradle_1" rel="nofollow">Gradle常用指令</a></li><li><ul><li><a href="#_12" rel="nofollow">注意点</a></li></ul> 
  </li><li><a href="#Gradle_18" rel="nofollow">修改Gradle源</a></li><li><ul><li><a href="#1gradleinitd_20" rel="nofollow">1.打开gradle目录下的init.d文件夹</a></li><li><a href="#2initgradle_22" rel="nofollow">2.添加一个init.gradle文件</a></li><li><a href="#3initgradle_24" rel="nofollow">3.修改init.gradle</a></li><li><ul><li><a href="#_55" rel="nofollow">阿里云官网错误</a></li></ul> 
  </li></ul> 
  </li><li><a href="#initgradle_59" rel="nofollow">了解一下init.gradle文件</a></li><li><ul><li><a href="#initgradle_60" rel="nofollow">init.gradle文件启用方法</a></li><li><a href="#_67" rel="nofollow">配置仓库说明</a></li></ul> 
  </li><li><a href="#Wrapper_78" rel="nofollow">Wrapper包装器</a></li><li><ul><li><a href="#Gradle_Wrapper_86" rel="nofollow">Gradle Wrapper的工作流程</a></li><li><a href="#Gradle_Wrapperall_98" rel="nofollow">添加Gradle Wrapper(若你下载的是all就不需要)</a></li><li><a href="#Gradle_Wrapper_107" rel="nofollow">使用Gradle Wrapper</a></li><li><a href="#Gradle_Wrapper_125" rel="nofollow">Gradle Wrapper的目录结构</a></li><li><a href="#Gradle_Wrapper_143" rel="nofollow">下载和用自己以前写的用Gradle Wrapper！</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Gradle_1"></a>Gradle常用指令</h2> 
<table><thead><tr><th>指令</th><th>说明</th></tr></thead><tbody><tr><td>gradle clean</td><td>清空build目录</td></tr><tr><td>gradle classes</td><td>编译业务代码和配置文件</td></tr><tr><td>gradle test</td><td>编译测试代码，生成测试报告</td></tr><tr><td>gradle build</td><td>构建项目</td></tr><tr><td>gradle build -x test</td><td>跳过测试构建</td></tr></tbody></table> 
<p>如上的指令需要在有<code>build.gradle文件</code>目录下执行</p> 
<h3><a id="_12"></a>注意点</h3> 
<p>使用<code>gradle test</code>命令生成测试报告后，存放在<code>\build\reports\tests\test</code><br> <img src="https://images2.imgbox.com/0e/57/10qsgnLi_o.png" alt="在这里插入图片描述"><br> 使用<code>gradle build</code>相当于<code>clean+classes+test+build</code>整体流程</p> 
<h2><a id="Gradle_18"></a>修改Gradle源</h2> 
<p><a href="https://developer.aliyun.com/mvn/guide" rel="nofollow">阿里巴巴镜像源地址</a></p> 
<h3><a id="1gradleinitd_20"></a>1.打开gradle目录下的init.d文件夹</h3> 
<p><img src="https://images2.imgbox.com/f9/f0/M17wsbog_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2initgradle_22"></a>2.添加一个init.gradle文件</h3> 
<p><img src="https://images2.imgbox.com/25/9e/zPhmGROK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3initgradle_24"></a>3.修改init.gradle</h3> 
<p><img src="https://images2.imgbox.com/91/a3/NqC3KZft_o.png" alt="在这里插入图片描述"></p> 
<p>参照提供的实例我们修改一下，我在下面提供了基本上可能用到的所有配置</p> 
<pre><code class="prism language-java">allprojects <span class="token punctuation">{<!-- --></span>
  repositories <span class="token punctuation">{<!-- --></span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span><span class="token keyword">public</span><span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>spring<span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>central<span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>google<span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>gradle<span class="token operator">-</span>plugin<span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    maven <span class="token punctuation">{<!-- --></span>
      url 'https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>repository<span class="token operator">/</span>spring<span class="token operator">-</span>plugin<span class="token operator">/</span>'
    <span class="token punctuation">}</span>
    <span class="token function">mavenLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_55"></a>阿里云官网错误</h4> 
<p>这个地方使用的是<code>allprojects</code>P是小写的，不然后面构建会报错<br> <img src="https://images2.imgbox.com/25/63/64CA8Lcu_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="initgradle_59"></a>了解一下init.gradle文件</h2> 
<h3><a id="initgradle_60"></a>init.gradle文件启用方法</h3> 
<ol><li>在命令行指定文件,例如:gradle -inmit.soript goudir/init.gmadle -q taskName·你可以多次输入此命令来指定多个init文件</li><li>把init.guadle文件放到USER_HOME/ .gxadle/目录下</li><li>把以.gradle结尾的文件放到USER_HOME/ .gxadle/ init.d/目录下</li><li>把以.gradle结尾的文件放到 GRADLE_HOME/init.d/目录下<br> 如果存在上面的4种方式的e种以上﹐ gradle会按上面的1-4序号依吹执行这些文件﹐如果给定目录下存在多个init脚本﹐会按拼音a-z顺序执行这些脚本，每个init脚本都存在一个对应的gradle实例,你在这个文件中调用的所有方法和属性，都会委托给这个gradle实例，每个init脚本都实现了Script接口。</li></ol> 
<h3><a id="_67"></a>配置仓库说明</h3> 
<p>maxenLocal()：指定使用maven本地仓库，而本地仓库在配置maven时settings文件指定的仓库位置·如E:/repository， gnadle查找jar包顺序如下:USER_HOME/.m2 / settings.xml &gt;&gt; Mg_HOME/conf/ settings.xml &gt;&gt; USER_HOME/.m2/repository</p> 
<p>maven { url地址}，指定maven仓库，一般用私有仓库地址或其它的第三方库【比如阿里镜像仓库地址】</p> 
<p>mavenCentral()：这是Maven的中央仓库，无需配置﹐直接声明就可以使用</p> 
<p>jcenter()：JCente;中央仓库﹐实际也是是用的maven搭建的﹐但相比Maven仓库更友好，通过CDN分发，并且支持https访问,在新版本中已经废弃了，替换为mavenCentral()</p> 
<p>使用本地仓库地址和远程地址相结合方式避免每次下载都要调取远程仓库</p> 
<h2><a id="Wrapper_78"></a>Wrapper包装器</h2> 
<p><a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:adding_wrapper" rel="nofollow">官方文档</a></p> 
<p>Gradle Wrapper实际上就是对Gradle的一层包装,用于解决实际开发中可能会遇到的不同的项目需要不同版本的Gradle问题。例如:把自己的代码共享给其他人使用，可能出现如下情况:</p> 
<ol><li>对方电脑没有安装 gxadle.</li><li>对方电脑安装过gradle﹐但是版本太旧了</li></ol> 
<p>这时候，我们就可以考虑使用Gradle Wrapper了。这也是官方建议使用Gradle Wrapper的原因。实际上有了GradleWrapper之后，我们本地是可以不配置Gradile，下载 Gradlle.项目后，使用gradle,项目自带的wrapper操作也是可以的。那如何使用Gradle Wrapper呢?</p> 
<h3><a id="Gradle_Wrapper_86"></a>Gradle Wrapper的工作流程</h3> 
<p><img src="https://images2.imgbox.com/ad/19/Kki1Vte8_o.png" alt="在这里插入图片描述"></p> 
<ol><li>从服务器上下载分发</li><li>存储和解包分发</li><li>使用分发</li></ol> 
<p>详细说明：</p> 
<ol><li>当我们第一次执行 ./ gradlew build命令的时候，gradlew会读取 gradle-wrapper.properties文件的配置信息</li><li>准确的将指定版本的 gradle下载并解压到指定的位置(GRADLE_USER_HOME目录下的wrapper/dists目录中)</li><li>并构建本地缓存(GRADLE_USER_HOME目录下的caches目录中)，下载再使用相同版本的gradle就不用下载了</li><li>之后执行的 ./ gradlew所有命令都是使用指定的 gradle版本</li></ol> 
<h3><a id="Gradle_Wrapperall_98"></a>添加Gradle Wrapper(若你下载的是all就不需要)</h3> 
<pre><code class="prism language-java">gradle wrapper
</code></pre> 
<p>生成 Wrapper 文件需要在您的机器上安装 Gradle 运行时版本，生成初始 Wrapper 文件是一次性的过程。</p> 
<p>每个 vanilla Gradle 构建都带有一个名为 wrapper 的内置任务。 列出任务时，您将能够在“构建设置任务”组下找到列出的任务。 执行 wrapper 任务会在项目目录中生成必要的 Wrapper 文件</p> 
<h3><a id="Gradle_Wrapper_107"></a>使用Gradle Wrapper</h3> 
<p>使用语法格式：<code>gradlew.bat + 指令</code><br> 如：<code>gradlew.bat clean</code></p> 
<blockquote> 
 <p>项目中的gradlew 、gradlew.cmd脚本用的就是wrapper中规定的gradle版本<br> 而我们上面提到的gradle指令用的是本地gradle,所以gradle指令和gradlew指令所使用的gradlle版本有可能是不一样的·gadlew、gadlew.cmd的使用方式与gradle使用方式完全一致﹐只不过把gmadle指令换成了gradlew指令</p> 
</blockquote> 
<p>当然我们也可在终端执行gradlew指令时，指定指定一些参数来控制Wrapper的生成，比如依赖的版本等，如下:</p> 
<table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>–gradle-version</td><td>指定使用的Gradle版本</td></tr><tr><td>–gradle-distribution-url</td><td>指定下载Gradle发行版的url地址</td></tr><tr><td>–distribution-type</td><td>用于 Wrapper 的 Gradle 分发类型。 可用选项是 bin和 all. 默认值为 bin.</td></tr><tr><td>–gradle-distribution-sha256-sum</td><td>用于 验证下载的 Gradle 分发</td></tr></tbody></table> 
<p>语法格式：<code>gradle wrapper + 指令</code><br> 如：<code>gradle wrapper --gradle-version=7.4.5 </code></p> 
<h3><a id="Gradle_Wrapper_125"></a>Gradle Wrapper的目录结构</h3> 
<p><img src="https://images2.imgbox.com/71/dc/C5uv1xxT_o.png" alt="在这里插入图片描述"></p> 
<p>Gradle 项目通常提供一个 settings.gradle(.kts)文件和一个 build.gradle(.kts)每个子项目的文件。 Wrapper 文件同时存在于 gradle目录和项目的根目录。 下面的列表解释了它们的目的。</p> 
<ol><li>gradle-wrapper.jar</li></ol> 
<blockquote> 
 <p>包含用于下载 Gradle 分发的代码的 Wrapper JAR 文件。</p> 
</blockquote> 
<ol start="2"><li>gradle-wrapper.properties</li></ol> 
<blockquote> 
 <p>负责配置 Wrapper 运行时行为的属性文件，例如与此版本兼容的 Gradle 版本。 请注意，更通用的设置，例如 将 Wrapper 配置为使用代理 ，需要进入 不同的文件 。</p> 
</blockquote> 
<ol start="3"><li>gradlew, gradlew.bat</li></ol> 
<blockquote> 
 <p>用于使用 Wrapper 执行构建的 shell 脚本和 Windows 批处理脚本。</p> 
</blockquote> 
<h3><a id="Gradle_Wrapper_143"></a>下载和用自己以前写的用Gradle Wrapper！</h3>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9e8555b2f254a8e79a396bb8a6cc3109/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">信息收集之cms指纹识别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c2e70bfeacc184713f0d2e2ca344c812/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">递归算法题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>