<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lua_table表_表的构造_表的操作（12） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Lua_table表_表的构造_表的操作（12）" />
<meta property="og:description" content="目录 一、表的构造二、表的操作1、连接 concat2、插入和移除 insert/remove3、排序 sort4、最大值 码云代码链接 https://gitee.com/wenwenc9/lua_pro.git table 是 Lua 的一种数据结构用来帮助我们创建不同的数据类型，如：数字、字典等。
Lua table 使用关联型数组，你可以用任意类型的值来作数组的索引，但这个值不能是 nil。
Lua table 是不固定大小的，你可以根据自己需要进行扩容。
Lua也是通过table来解决模块（module）、包（package）和对象（Object）的。
例如string.format表示使用&#34;format&#34;来索引table string。
#table 获取表的长度 一、表的构造 构造器是创建和初始化表的表达式。表是Lua特有的功能强大的东西。最简单的构造函数是{}，用来创建一个空表。可以直接初始化数组:
-- 初始化表 mytable = {} -- 指定值 mytable[1]= &#34;Lua&#34; -- 移除引用 mytable = nil -- lua 垃圾回收会释放内存 构造函数可以使用任何表达式初始化
tab = {math.max(5,2),math.max(4,7)} 如果想初始化一个表作为 record 使用可以这样：
a = {x=0, y=0} &lt;–&gt; a = {}; a.x=0; a.y=0
不管用何种方式创建 table，我们都可以向表中添加或者删除任何类型的域，构造函
数仅仅影响表的初始化。
复杂构造，表中嵌套表调用
w = {x=0, y=0, label=&#34;console&#34;} x = {math." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/978541ea0b1462f4120631b859416471/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-03T11:39:40+08:00" />
<meta property="article:modified_time" content="2021-07-03T11:39:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Lua_table表_表的构造_表的操作（12）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_14" rel="nofollow">一、表的构造</a></li><li><a href="#_175" rel="nofollow">二、表的操作</a></li><li><ul><li><a href="#1_concat_183" rel="nofollow">1、连接 concat</a></li><li><a href="#2_insertremove_197" rel="nofollow">2、插入和移除 insert/remove</a></li><li><a href="#3_sort_215" rel="nofollow">3、排序 sort</a></li><li><a href="#4_231" rel="nofollow">4、最大值</a></li></ul> 
 </li></ul> 
</div> 
<br> 码云代码链接 
<br> 
<a href="https://gitee.com/wenwenc9/lua_pro.git" rel="nofollow">https://gitee.com/wenwenc9/lua_pro.git</a> 
<p></p> 
<p>table 是 Lua 的一种数据结构用来帮助我们创建不同的数据类型，如：数字、字典等。<br> Lua table 使用关联型数组，你可以用任意类型的值来作数组的索引，但这个值不能是 nil。<br> Lua table 是不固定大小的，你可以根据自己需要进行扩容。<br> Lua也是通过table来解决模块（module）、包（package）和对象（Object）的。<br> 例如string.format表示使用"format"来索引table string。</p> 
<pre><code class="prism language-lua"><span class="token operator">#</span>table 获取表的长度
</code></pre> 
<h2><a id="_14"></a>一、表的构造</h2> 
<p>构造器是创建和初始化表的表达式。表是Lua特有的功能强大的东西。最简单的构造函数是{}，用来创建一个空表。可以直接初始化数组:</p> 
<pre><code class="prism language-lua"><span class="token comment">-- 初始化表</span>
mytable <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">-- 指定值</span>
mytable<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span> <span class="token string">"Lua"</span>

<span class="token comment">-- 移除引用</span>
mytable <span class="token operator">=</span> <span class="token keyword">nil</span>
<span class="token comment">-- lua 垃圾回收会释放内存</span>
</code></pre> 
<p>构造函数可以使用任何表达式初始化</p> 
<pre><code class="prism language-lua">tab <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre> 
<p>如果想初始化一个表作为 record 使用可以这样：<br> a = {x=0, y=0} &lt;–&gt; a = {}; a.x=0; a.y=0</p> 
<p>不管用何种方式创建 table，我们都可以向表中添加或者删除任何类型的域，构造函<br> 数仅仅影响表的初始化。<br> 复杂构造，表中嵌套表调用</p> 
<pre><code class="prism language-lua">w <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">"console"</span><span class="token punctuation">}</span>
x <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"another field"</span>
x<span class="token punctuation">.</span>f <span class="token operator">=</span> w
<span class="token function">print</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- 0</span>
<span class="token function">print</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">-- another field</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>f<span class="token punctuation">)</span>    <span class="token comment">-- table: 00AE9E50</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- another field</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- nil</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>f<span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- console</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">-- 0</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">-- 0.8414709848079</span>
<span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">-- 0.90929742682568</span>
w<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">nil</span> <span class="token comment">-- remove field "x"</span>
</code></pre> 
<p>每次调用构造函数，Lua 都会创建一个新的 table，可以使用 table 构造一个 list：</p> 
<pre><code class="prism language-lua">list <span class="token operator">=</span> <span class="token keyword">nil</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> io<span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span>
    list <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>next<span class="token operator">=</span>list<span class="token punctuation">,</span> value<span class="token operator">=</span>line<span class="token punctuation">}</span>
<span class="token keyword">end</span>
</code></pre> 
<p>这段代码从标准输入读进每行，然后反序形成链表。下面的代码打印链表的内容</p> 
<pre><code class="prism language-lua">l <span class="token operator">=</span> list
<span class="token keyword">while</span> l <span class="token keyword">do</span>
    <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    l <span class="token operator">=</span> l<span class="token punctuation">.</span>next
<span class="token keyword">end</span>
</code></pre> 
<p>在同一个构造函数中可以混合列表风格和 record 风格进行初始化，如：</p> 
<pre><code class="prism language-lua">polyline <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> color <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> thickness <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> npoints <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
             <span class="token punctuation">{<!-- --></span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">{<!-- --></span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">{<!-- --></span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">{<!-- --></span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>polyline<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">':'</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'----------------------------------------------'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> next<span class="token punctuation">,</span>polyline <span class="token keyword">do</span>
    <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">':'</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'----------------------------------------------'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>polyline<span class="token punctuation">)</span> <span class="token keyword">do</span>
    <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span><span class="token string">':'</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token function">print</span><span class="token punctuation">(</span>polyline<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token comment">-- -10</span>
</code></pre> 
<pre><code class="prism language-lua"><span class="token number">1</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19CE8
<span class="token number">2</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D38
<span class="token number">3</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19C20
<span class="token number">4</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D60
<span class="token comment">----------------------------------------------</span>
<span class="token number">1</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19CE8
<span class="token number">2</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D38
<span class="token number">3</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19C20
<span class="token number">4</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D60
color	<span class="token punctuation">:</span>	blue
npoints	<span class="token punctuation">:</span>	<span class="token number">4</span>
thickness	<span class="token punctuation">:</span>	<span class="token number">2</span>
<span class="token comment">----------------------------------------------</span>
<span class="token number">1</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19CE8
<span class="token number">2</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D38
<span class="token number">3</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19C20
<span class="token number">4</span>	<span class="token punctuation">:</span>	table<span class="token punctuation">:</span> 00C19D60
color	<span class="token punctuation">:</span>	blue
npoints	<span class="token punctuation">:</span>	<span class="token number">4</span>
thickness	<span class="token punctuation">:</span>	<span class="token number">2</span>
</code></pre> 
<p>上面两种构造函数的初始化方式还有限制，比如你不能使用负索引初始化一个表中<br> 元素，字符串索引也不能被恰当的表示。下面介绍一种更一般的初始化方式，我们用<br> [expression]显示的表示将被初始化的索引：</p> 
<pre><code class="prism language-lua">opnames <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token string">"+"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"add"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"-"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"sub"</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span><span class="token string">"*"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"mul"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"/"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"div"</span><span class="token punctuation">}</span>
</code></pre> 
<p><code>list 风格初始化和 record 风格初始</code>化是这种一般初始化的特例:</p> 
<pre><code class="prism language-lua"><span class="token punctuation">{<!-- --></span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token comment">--&gt; {["x"]=0, ["y"]=0}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token comment">--&gt;</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">}</span>
</code></pre> 
<p>如果真的想要数组下标从 0 开始：</p> 
<pre><code class="prism language-lua">days <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"Sunday"</span><span class="token punctuation">,</span> <span class="token string">"Monday"</span><span class="token punctuation">,</span> <span class="token string">"Tuesday"</span><span class="token punctuation">,</span> <span class="token string">"Wednesday"</span><span class="token punctuation">,</span>
<span class="token string">"Thursday"</span><span class="token punctuation">,</span> <span class="token string">"Friday"</span><span class="token punctuation">,</span> <span class="token string">"Saturday"</span><span class="token punctuation">}</span>
</code></pre> 
<p>注意：不推荐数组下标从 0 开始，否则很多标准库不能使用。<br> 在构造函数的最后的","是可选的，可以方便以后的扩展。</p> 
<pre><code class="prism language-lua">a <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span><span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- red</span>
</code></pre> 
<p>在构造函数中域分隔符逗号（","）可以用分号（";"）替代，通常我们使用分号用来<br> 分割不同类型的表元素。</p> 
<pre><code class="prism language-lua"><span class="token punctuation">{<!-- --></span>x<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">;</span> <span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">}</span>
</code></pre> 
<p>当我们为 table a 并设置元素，然后将 a 赋值给 b，<code>则 a 与 b 都指向同一个内存</code>。<br> 如果 a 设置为 nil ，则 b 同样能访问 table 的元素。<br> 如果没有指定的变量指向a，Lua的垃圾回收机制会清理相对应的内存。</p> 
<h2><a id="_175"></a>二、表的操作</h2> 
<ul><li>table.concat() 表连接</li><li>table.insert() 表插入</li><li>table.maxn() 表最大值 5.2版本后移除</li><li>table.remove() 表的删除</li><li>table.sort() 排序</li></ul> 
<h3><a id="1_concat_183"></a>1、连接 concat</h3> 
<pre><code class="prism language-lua">tab1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'apple'</span><span class="token punctuation">,</span><span class="token string">'orange'</span><span class="token punctuation">,</span><span class="token string">'abc'</span><span class="token punctuation">}</span>

<span class="token comment">-- 全连接</span>
<span class="token function">print</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tab1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- appleorangeabc</span>

<span class="token comment">-- 指定字符连接</span>
<span class="token function">print</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tab1<span class="token punctuation">,</span><span class="token string">';'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- apple;orange;abc</span>

<span class="token comment">-- 指定索引连接 开始截止位</span>
<span class="token function">print</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>tab1<span class="token punctuation">,</span><span class="token string">';'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- apple;orange;abc</span>
</code></pre> 
<h3><a id="2_insertremove_197"></a>2、插入和移除 insert/remove</h3> 
<p>插入和移除 默认都是 末尾</p> 
<pre><code class="prism language-lua">fruits <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"banana"</span><span class="token punctuation">,</span><span class="token string">"orange"</span><span class="token punctuation">,</span><span class="token string">"apple"</span><span class="token punctuation">}</span>

<span class="token comment">-- 末尾插入</span>
table<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>fruits<span class="token punctuation">,</span><span class="token string">"mango"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- mongo</span>

<span class="token comment">-- 在索引为2的键处插入</span>
table<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>fruits<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"grapes"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- grapes</span>
<span class="token function">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">-- mongo</span>

<span class="token comment">-- 移除</span>
table<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3_sort_215"></a>3、排序 sort</h3> 
<pre><code class="prism language-lua">fruits <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"banana"</span><span class="token punctuation">,</span><span class="token string">"orange"</span><span class="token punctuation">,</span><span class="token string">"apple"</span><span class="token punctuation">,</span><span class="token string">"grapes"</span><span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"排序前"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span> <span class="token keyword">do</span>
  <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>

table<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"排序后"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">in</span> <span class="token function">ipairs</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span> <span class="token keyword">do</span>
   <span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre> 
<h3><a id="4_231"></a>4、最大值</h3> 
<p>table.maxn 在 Lua5.2 之后该方法已经不存在了，我们定义了 table_maxn 方法来实现。</p> 
<pre><code class="prism language-lua"><span class="token keyword">function</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
    <span class="token keyword">local</span> mn <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token keyword">do</span>
        <span class="token keyword">if</span> mn <span class="token operator">&lt;</span> k <span class="token keyword">then</span>
            mn <span class="token operator">=</span> k
        <span class="token keyword">end</span>
    <span class="token keyword">end</span>
    <span class="token keyword">return</span> mn
<span class="token keyword">end</span>
tbl <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"z"</span><span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"tbl 长度 "</span><span class="token punctuation">,</span> <span class="token operator">#</span>tbl<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"tbl 最大值 "</span><span class="token punctuation">,</span> <span class="token function">table_maxn</span><span class="token punctuation">(</span>tbl<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3ecaafc2a22994adf2e765ee3ddb5d4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机上应用锁,电脑应用锁</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8dab0cf502a635012917026ac64e3bcb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">UE4实时渲染——渲染前和遮挡</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>