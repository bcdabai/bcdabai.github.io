<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>日志工具logAPI 及 logback的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="日志工具logAPI 及 logback的使用" />
<meta property="og:description" content="日志工具logAPI 及 logback的使用 一、logAPI的使用 1、代码 import java.io.IOException; import java.util.logging.FileHandler; import java.util.logging.SimpleFormatter; public class MyTestLogAPI{ private final static java.util.logging.Logger loggerAPI = java.util.logging.Logger.getLogger(&#34;MyTestLogBack&#34;); public static void main(String[] args) { System.out.println(&#34;hello,world!&#34;); try { FileHandler fileHandler = new FileHandler(&#34;d:/logapitest.txt&#34;); //为处理器设置日志格式：Formatter SimpleFormatter sf = new SimpleFormatter(); fileHandler.setFormatter(sf); loggerAPI.addHandler(fileHandler); } catch (SecurityException e) { // TODO Auto-generated catch block e.printStackTrace(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } loggerAPI.info(&#34;loggerapi hello&#34;); } } 二、logback的使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8db8f77508e1fe2a7eeaf84db9a018de/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-13T09:12:32+08:00" />
<meta property="article:modified_time" content="2018-11-13T09:12:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">日志工具logAPI 及 logback的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>日志工具logAPI 及 logback的使用</h4> 
 <br> 一、logAPI的使用 
 <br> 1、代码 
</div> 
<p></p> 
<pre><code>import java.io.IOException;
import java.util.logging.FileHandler;
import java.util.logging.SimpleFormatter;

public class MyTestLogAPI{
	private final static java.util.logging.Logger loggerAPI = java.util.logging.Logger.getLogger("MyTestLogBack");
	
	public static void main(String[] args) {
		System.out.println("hello,world!");
		try {
			FileHandler fileHandler = new FileHandler("d:/logapitest.txt");
			//为处理器设置日志格式：Formatter

			SimpleFormatter sf = new SimpleFormatter();

			fileHandler.setFormatter(sf);
			loggerAPI.addHandler(fileHandler);
			
		} catch (SecurityException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		loggerAPI.info("loggerapi hello");
	}
}
</code></pre> 
<p>二、logback的使用<br> 1、导入相关包</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>logback<span class="token operator">-</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>ch<span class="token punctuation">.</span>qos<span class="token punctuation">.</span>logback<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>logback<span class="token operator">-</span>classic<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span>test<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre> 
<p>2、写代码</p> 
<pre><code>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class MyTestLogBack {
	private final static Logger logger = LoggerFactory.getLogger(MyTestLogBack.class);
	public static void main(String[] args) {
		System.out.println("hello,world!");
		logger.info("hello");
		logger.debug("hellel");
		logger.error("error");
		logger.error("kkk","dddd");
	}
}
</code></pre> 
<p>注意：引入的架包是slf4j下的<br> 3、配置文件logback.xml</p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; 
&lt;configuration debug="false"&gt; 
    &lt;!--&lt;property name="log.base" value="${log_dir}/" /&gt;--&gt; 
    &lt;property name="log.base" value="d:/home/" /&gt;
    &lt;!--配置日志输出路径（测试配置）--&gt; 
    &lt;!-- 控制台输出 --&gt; 
    &lt;appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"&gt; 
        &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt; 
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n &lt;/pattern&gt; 
        &lt;/encoder&gt; 
    &lt;/appender&gt; 
    &lt;!-- 按照每天生成错误日志文件 --&gt; 
    &lt;appender name="ERRORFILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
        &lt;Prudent&gt;true&lt;/Prudent&gt; 
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
            &lt;!--日志文件输出的文件名 --&gt; 
	        &lt;FileNamePattern&gt;${log.base}TEST_ERROR-%d{yyyy-MM-dd}.log&lt;/FileNamePattern&gt; 
	        &lt;!--日志文件保留天数 --&gt; 
	        &lt;MaxHistory&gt;5&lt;/MaxHistory&gt; 
        &lt;/rollingPolicy&gt; 
        &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt; 
            &lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符 --&gt; 
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n &lt;/pattern&gt; 
        &lt;/encoder&gt; 
        &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;
	        &lt;!-- 只打印错误日志 --&gt; 
	        &lt;level&gt;ERROR&lt;/level&gt; 
	        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; 
	        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
        &lt;/filter&gt; 
    &lt;/appender&gt; 
    &lt;!-- 按照每天生成警告日志文件 --&gt; 
    &lt;appender name="WARNFILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
        &lt;Prudent&gt;true&lt;/Prudent&gt; 
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
            &lt;!--日志文件输出的文件名 --&gt; 
            &lt;FileNamePattern&gt;${log.base}TEST_WARN-%d{yyyy-MM-dd}.log&lt;/FileNamePattern&gt; 
            &lt;!--日志文件保留天数 --&gt; 
            &lt;MaxHistory&gt;5&lt;/MaxHistory&gt; 
        &lt;/rollingPolicy&gt; 
        &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt; 
            &lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符 --&gt; 
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n &lt;/pattern&gt; 
        &lt;/encoder&gt; 
        &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;
            &lt;!-- 只打印警告日志 --&gt; 
            &lt;level&gt;WARN&lt;/level&gt; 
            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; 
            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
        &lt;/filter&gt; 
    &lt;/appender&gt; 
    &lt;!-- 按照每天生成INFO日志文件 --&gt; 
    &lt;appender name="INFOFILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
        &lt;Prudent&gt;true&lt;/Prudent&gt; 
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
            &lt;!--日志文件输出的文件名 --&gt; 
            &lt;FileNamePattern&gt;${log.base}TEST_INFO-%d{yyyy-MM-dd}.log&lt;/FileNamePattern&gt; 
            &lt;!--日志文件保留天数 --&gt; 
            &lt;MaxHistory&gt;5&lt;/MaxHistory&gt; 
        &lt;/rollingPolicy&gt; 
        &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt; 
            &lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符 --&gt; 
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n &lt;/pattern&gt; 
        &lt;/encoder&gt; 
        &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;
            &lt;!-- 只打印INFO日志 --&gt; 
            &lt;level&gt;INFO&lt;/level&gt; 
            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; 
            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
        &lt;/filter&gt; 
     &lt;/appender&gt; 
     &lt;!-- 按照每天生成DEBUG日志文件 --&gt; 
     &lt;appender name="DEBUGFILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
         &lt;Prudent&gt;true&lt;/Prudent&gt; 
         &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
             &lt;!--日志文件输出的文件名 --&gt; 
             &lt;FileNamePattern&gt;${log.base}TEST_DEBUG-%d{yyyy-MM-dd}.log&lt;/FileNamePattern&gt; 
             &lt;!--日志文件保留天数 --&gt; 
             &lt;MaxHistory&gt;5&lt;/MaxHistory&gt; 
         &lt;/rollingPolicy&gt; 
         &lt;encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"&gt; 
             &lt;!--格式化输出：%d表示日期，%thread表示线程名，%-5level：级别从左显示5个字符宽度%msg：日志消息，%n是换行符 --&gt; 
             &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n &lt;/pattern&gt; 
             &lt;/encoder&gt; 
             &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;
                 &lt;!-- 只打印DEBUG日志 --&gt; 
                 &lt;level&gt;DEBUG&lt;/level&gt; 
                 &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; 
                 &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
             &lt;/filter&gt; 
     &lt;/appender&gt; 
     &lt;!-- 日志输出级别 --&gt; 
     &lt;root level="DEBUG"&gt; 
         &lt;appender-ref ref="STDOUT" /&gt; 
         &lt;appender-ref ref="ERRORFILE" /&gt; 
         &lt;appender-ref ref="WARNFILE" /&gt; 
         &lt;appender-ref ref="INFOFILE" /&gt; 
         &lt;appender-ref ref="DEBUGFILE" /&gt; 
         &lt;/root&gt; 
   &lt;/configuration&gt;
</code></pre> 
<p>注意：<br> （1）文件名为logback.xml<br> （2）文件放在资源目录下<br> <img src="https://images2.imgbox.com/7b/3e/vBRcnjWv_o.png" alt="在这里插入图片描述"><br> （3）日志的输入位置放在D:\home目录下，可以修改<br> <img src="https://images2.imgbox.com/b6/0d/uL8goPgK_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91fe91eab3384608b194501012e4d8a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python android 多国翻译提取整合工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/009eb543acdcf1055f05735f47852a13/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在 vscode 中使用 Git ：拉取、提交、克隆</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>