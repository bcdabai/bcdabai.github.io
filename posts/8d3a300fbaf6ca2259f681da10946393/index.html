<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WebApi参数接收参考 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="WebApi参数接收参考" />
<meta property="og:description" content=".Net中使用WebApi参数接收一直是个问题，不同的传参方式后台接收的方式也不一样。之后.Net Core出来后WebApi也发生了变化，在.Net Framework时WebApi是有单独的ApiController的，在.Net Core时没有独立的ApiController了，这样接收参数上也会有一定的区别。传参有两种Get和Post方式，通过使用发现Get方式接受参数主要是Url传递其实还是比较简单的，Post方式就比较特殊了，内容是放在Body中的，因此不同时形式的传递方式接收就不一样了，为此做了个Demo测试了不同的传参方式对应的不同的接收方式，做了Post参数接收方式表格仅供参考。日后在使用WebApi开发时可以参考下。
.Net Core下的WebApi接口 参数
调用方式字符串多个字符参数[FromBody]特性字符串实体类[FromBody]特性实体类动态类型[FromBody]特性动态类型[FromForm]特性实体类[FromForm]特性字符串[FromForm]特性多个字符串[FromForm]特性动态类型示例string useridstring userid ,string name[FromBody]string useridUserDto dto[FromBody]UserDto dtodynamic dto[FromBody]dynamic dto[FromForm]UserDto dto[FromForm]string userid[FromForm]string userid, [FromForm] string name[FromForm]dynamic dto(PostMan)通过url传参YYNNNNNNNNN(PostMan)form-dataNNNNNYNYYYN(PostMan)x-www-from-urlencodedNNNNNYNYYYN(PostMan)Json application/jsonNNNNYNYNNNN.NetCore HttpClient 通过HttpContent内容为Dictionary键值对形式NNNNNNNYYYN.NetCore HttpClient 通过HttpContent内容为Json格式NNNYYYYNNNN.Net HttpWebRequest Dictionary键值对形式NNNNNNNYYYN.Net HttpWebRequest 内容为Json格式NNNYYYYNNNN.Net HttpClient Dictionary键值对形式NNNNNNNYYYN.Net HttpClient 内容为Json格式NNNYYYYNNNN .Net Framework下的WebApi接口 参数
调用方式字符串多个字符参数[FromBody]特性字符串实体类[FromBody]特性实体类动态类型[FromBody]特性动态类型示例string useridstring userid ,string name[FromBody]string useridUserDto dto[FromBody]UserDto dtodynamic dto[FromBody]dynamic dto(PostMan)通过url传参YYNNNNN(PostMan)form-dataNNNNNYN(PostMan)x-www-from-urlencodedNNNYYNN(PostMan)Json application/jsonNNNYYYY.NetCore HttpClient 通过HttpContent内容为Dictionary键值对形式NNNYYNN.NetCore HttpClient 通过HttpContent内容为Json格式NNNYYYY.Net HttpWebRequest Dictionary键值对形式NNNYYNN.Net HttpWebRequest 内容为Json格式NNNYYYY.Net HttpClient Dictionary键值对形式NNNYYNN.Net HttpClient 内容为Json格式NNNYYYY TIP:Y表示可以接收此类型参数,N表示不能接收此类型参数
以上测试我有通过PostMan工具的各种方式测试，其中通过程序后台调用的是自己封装的HttpClient和HttpWebRequest类库来调用测试，分.Net Framework和.Net Core版本来测试的,下次把测试代码也附上。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8d3a300fbaf6ca2259f681da10946393/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-16T11:36:22+08:00" />
<meta property="article:modified_time" content="2020-05-16T11:36:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">WebApi参数接收参考</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>.Net中使用WebApi参数接收一直是个问题，不同的传参方式后台接收的方式也不一样。之后.Net Core出来后WebApi也发生了变化，在.Net Framework时WebApi是有单独的ApiController的，在.Net Core时没有独立的ApiController了，这样接收参数上也会有一定的区别。传参有两种Get和Post方式，通过使用发现Get方式接受参数主要是Url传递其实还是比较简单的，Post方式就比较特殊了，内容是放在Body中的，因此不同时形式的传递方式接收就不一样了，为此做了个Demo测试了不同的传参方式对应的不同的接收方式，做了Post参数接收方式表格仅供参考。日后在使用WebApi开发时可以参考下。</p> 
<table cellspacing="0"><tbody><tr><td colspan="3" style="vertical-align:middle;width:216pt;"><strong>.Net Core下的WebApi接口</strong></td><td style="vertical-align:middle;width:60pt;"> </td><td style="vertical-align:middle;width:57pt;"> </td><td style="vertical-align:middle;width:59pt;"> </td><td style="vertical-align:middle;width:57pt;"> </td><td style="vertical-align:middle;width:64pt;"> </td><td style="vertical-align:middle;width:61pt;"> </td><td style="vertical-align:middle;width:61pt;"> </td><td style="vertical-align:middle;width:61pt;"> </td><td style="vertical-align:middle;width:63pt;"> </td></tr><tr><td style="vertical-align:middle;width:107pt;"><strong>          参数<br> 调用方式</strong></td><td style="vertical-align:middle;width:52pt;"><strong>字符串</strong></td><td style="vertical-align:middle;width:57pt;"><strong>多个字符参数</strong></td><td style="vertical-align:middle;width:60pt;"><strong>[FromBody]特性字符串</strong></td><td style="vertical-align:middle;width:57pt;"><strong>实体类</strong></td><td style="vertical-align:middle;width:59pt;"><strong>[FromBody]特性实体类</strong></td><td style="vertical-align:middle;width:57pt;"><strong>动态类型</strong></td><td style="vertical-align:middle;width:64pt;"><strong>[FromBody]特性动态类型</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]特性实体类</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]特性字符串</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]特性多个字符串</strong></td><td style="vertical-align:middle;width:63pt;"><strong>[FromForm]特性动态类型</strong></td></tr><tr><td style="vertical-align:middle;"><strong>示例</strong></td><td style="vertical-align:middle;width:52pt;"><strong>string userid</strong></td><td style="vertical-align:middle;width:57pt;"><strong>string userid ,string name</strong></td><td style="vertical-align:middle;width:60pt;"><strong>[FromBody]string userid</strong></td><td style="vertical-align:middle;width:57pt;"><strong>UserDto dto</strong></td><td style="vertical-align:middle;width:59pt;"><strong>[FromBody]UserDto dto</strong></td><td style="vertical-align:middle;width:57pt;"><strong>dynamic dto</strong></td><td style="vertical-align:middle;width:64pt;"><strong>[FromBody]dynamic dto</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]UserDto dto</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]string userid</strong></td><td style="vertical-align:middle;width:61pt;"><strong>[FromForm]string userid, [FromForm] string name</strong></td><td style="vertical-align:middle;width:63pt;"><strong>[FromForm]dynamic dto</strong></td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)通过url传参</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)form-data</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)x-www-from-urlencoded</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)Json application/json</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.NetCore HttpClient 通过HttpContent内容为Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.NetCore HttpClient 通过HttpContent内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpWebRequest  Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpWebRequest  内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpClient Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpClient  内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr></tbody></table> 
<table cellspacing="0" style="width:513pt;"><tbody><tr><td colspan="3" style="text-align:left;vertical-align:middle;width:216pt;"><strong>.Net Framework下的WebApi接口</strong></td><td style="vertical-align:middle;width:60pt;"> </td><td style="vertical-align:middle;width:57pt;"> </td><td style="vertical-align:middle;width:59pt;"> </td><td style="vertical-align:middle;width:57pt;"> </td><td style="vertical-align:middle;width:64pt;"> </td></tr><tr><td style="vertical-align:middle;width:107pt;"><strong>          参数<br> 调用方式</strong></td><td style="vertical-align:middle;width:52pt;"><strong>字符串</strong></td><td style="vertical-align:middle;width:57pt;"><strong>多个字符参数</strong></td><td style="vertical-align:middle;width:60pt;"><strong>[FromBody]特性字符串</strong></td><td style="vertical-align:middle;width:57pt;"><strong>实体类</strong></td><td style="vertical-align:middle;width:59pt;"><strong>[FromBody]特性实体类</strong></td><td style="vertical-align:middle;width:57pt;"><strong>动态类型</strong></td><td style="vertical-align:middle;width:64pt;"><strong>[FromBody]特性动态类型</strong></td></tr><tr><td style="vertical-align:middle;width:107pt;"><strong>示例</strong></td><td style="vertical-align:middle;width:52pt;"><strong>string userid</strong></td><td style="vertical-align:middle;width:57pt;"><strong>string userid ,string name</strong></td><td style="vertical-align:middle;width:60pt;"><strong>[FromBody]string userid</strong></td><td style="vertical-align:middle;width:57pt;"><strong>UserDto dto</strong></td><td style="vertical-align:middle;width:59pt;"><strong>[FromBody]UserDto dto</strong></td><td style="vertical-align:middle;width:57pt;"><strong>dynamic dto</strong></td><td style="vertical-align:middle;width:64pt;"><strong>[FromBody]dynamic dto</strong></td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)通过url传参</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)form-data</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)x-www-from-urlencoded</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">(PostMan)Json application/json</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td></tr><tr><td style="vertical-align:middle;width:107pt;">.NetCore HttpClient 通过HttpContent内容为Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.NetCore HttpClient 通过HttpContent内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpWebRequest  Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpWebRequest  内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpClient Dictionary键值对形式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td></tr><tr><td style="vertical-align:middle;width:107pt;">.Net HttpClient  内容为Json格式</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">N</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td><td style="vertical-align:middle;">Y</td></tr></tbody></table> 
<p> TIP:Y表示可以接收此类型参数,N表示不能接收此类型参数</p> 
<p>以上测试我有通过PostMan工具的各种方式测试，其中通过程序后台调用的是自己封装的HttpClient和HttpWebRequest类库来调用测试，分.Net Framework和.Net Core版本来测试的,下次把测试代码也附上。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f972add520fa65cafe22a7deb3a0717f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">opencv-python包（cv2）中我经常用到的处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/167a17ac4f9cb9682d24043de9dc7209/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Google benchmark（C&#43;&#43;性能测试）hmh_1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>