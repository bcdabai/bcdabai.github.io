<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android 项目 引用了第三方aar 同步成功 但是编译时报错 跟这个aar 相关的类全部飘红 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android 项目 引用了第三方aar 同步成功 但是编译时报错 跟这个aar 相关的类全部飘红" />
<meta property="og:description" content="遇到个奇怪的问题 记录一下：
以下开始废话，解决办法在最后面：
有个项目能正常编译运行 ，几天没有打开过，今天一打开那个aar相关的类找不到了 aar还在，然后我做了一下无用工作：
把项目下的.idea、.gradle、还有各个模块的build目录全部删除 再编译 还是报错把代码commit一下，结果发现没有改动过任何文件,然后我又把每个模块删了 再重新往svn拉代码，还是报错创建另外一个目录把代码checkout进去 编译 正常运行，把原来报错的目录名字更改，重新打开项目编译 正常运行把步骤3更改的目录名恢复成没改之前的名字 打开项目编译 报错 居然只跟项目目录名字有关，奇了怪了，虽然可以通过更换目录解决问题，这nm是啥破问题 ，太气人了，必须要解决它，找到问题根源：
根据上面推断，这已经不是项目级别得问题了，一定是每个项目都会共用的缓存之类的文件有问题 ，很明显 ，可以想到Idea 、gradle这两个东西的缓存目录是公用（全局）的，至于Idea ,如果出错不可leng单单是一个库出错 ，所有的aar都会报错，那么就可以找到gradle的全局目录了，一搬在系统的用户目录下有个.gradle目录 这里面包含有各种包的缓存数据，最终经过我精确推断分析，相关的文件夹大概两个分别在以下位置：
user\xxx\.gradle\caches\transforms-1
user\xxx\.gradle\caches\transforms-1
在这里发现有那个aar的缓存文件夹，直接删掉,再打开项目同步--&gt;编译 ,正常运行 ，nm、解决了
好了，废话说完了，解决办法是：
把
user\xxx\.gradle\caches\transforms-1
user\xxx\.gradle\caches\transforms-1
这两个目录删掉就ok了，其他目录不建议删，删了的话需要重新下载很多东西" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1f90d357a7a1d91ff19de99d9244bcee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-10T14:30:18+08:00" />
<meta property="article:modified_time" content="2020-04-10T14:30:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android 项目 引用了第三方aar 同步成功 但是编译时报错 跟这个aar 相关的类全部飘红</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>遇到个奇怪的问题 记录一下：</p> 
<p>以下开始<span style="color:#ffbb66;">废话</span>，<span style="color:#86ca5e;"><strong>解决办法</strong></span>在最后面：</p> 
<p style="text-indent:33px;">有个项目能正常编译运行 ，几天没有打开过，今天一打开那个aar相关的类找不到了 aar还在，然后我做了一下无用工作：</p> 
<ol><li>把项目下的.idea、.gradle、还有各个模块的build目录全部删除 再编译<span style="color:#f33b45;"> 还是报错</span></li><li>把代码commit一下，结果发现<span style="color:#86ca5e;">没有改动过任何文件,</span>然后我又把每个模块删了 再重新往svn拉代码，<span style="color:#f33b45;">还是报错</span></li><li>创建另外一个目录把代码checkout进去 编译 <span style="color:#86ca5e;">正常运行，</span>把原来报错的目录名字更改，重新打开项目编译 <span style="color:#86ca5e;">正常运行</span></li><li>把步骤3更改的目录名恢复成没改之前的名字 打开项目编译 <span style="color:#f33b45;">报错</span></li></ol> 
<p style="text-indent:33px;">居然只跟项目目录名字有关，奇了怪了，虽然可以通过更换目录解决问题，这nm是啥破问题 ，太气人了，必须要解决它，找到问题根源：</p> 
<p style="text-indent:33px;">根据上面推断，这已经不是项目级别得问题了，一定是每个项目都会共用的缓存之类的文件有问题 ，很明显 ，可以想到Idea 、gradle这两个东西的缓存目录是公用（全局）的，至于Idea ,如果出错不可leng单单是一个库出错 ，所有的aar都会报错，那么就可以找到gradle的全局目录了，一搬在系统的用户目录下有个.gradle目录 这里面包含有各种包的缓存数据，最终经过我精确推断分析，相关的文件夹大概两个分别在以下位置：</p> 
<p style="text-indent:33px;">user\xxx\.gradle\caches\transforms-1</p> 
<p style="text-indent:33px;">user\xxx\.gradle\caches\transforms-1</p> 
<p style="text-indent:33px;">在这里发现有那个aar的缓存文件夹，直接删掉,再打开项目同步--&gt;编译 ,<span style="color:#86ca5e;">正常运行</span> ，nm、解决了</p> 
<p style="text-indent:33px;"><strong><span style="color:#86ca5e;">好了，废话说完了，解决办法是：</span></strong></p> 
<p style="text-indent:33px;">把</p> 
<p style="text-indent:33px;">user\xxx\.gradle\caches\transforms-1</p> 
<p style="text-indent:33px;">user\xxx\.gradle\caches\transforms-1</p> 
<p style="text-indent:33px;">这两个目录删掉就ok了，其他目录不建议删，删了的话需要重新下载很多东西</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a62379247b46117405b266effafcc777/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">postgresql中的substr()函数使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9b7fda65fc649a6c4166a2b1f1afb56d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pycharm 快速导包/导包快捷键</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>