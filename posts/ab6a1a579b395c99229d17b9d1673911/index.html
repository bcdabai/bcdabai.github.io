<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一篇文带你从0到1了解建站及完成CMS系统编写 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一篇文带你从0到1了解建站及完成CMS系统编写" />
<meta property="og:description" content="学习目标 了解搭建一般网站的简便方式了解最原始一般站点搭建了解内容管理站点搭建了解权限设计及完成了解使用设计模式减少代码冗余了解前端拖拽页面生成及生成了解自定义数据的创建了解动态生成的前端页如何绑定自定义数据 开发环境 Windows7 *64 SP1php5.6apache/nginxthinkphp5.1mysqlphpstudy2018sqlyoglayoutit 声明 文章为从0到1了解内容管理系统搭建与编写，由于一篇文章内容篇幅过长，文章内容经过压缩，该项目中相同逻辑的实现只以一个实例作为描述，主要以核心关键功能的开发作为主要的讲解步骤。如有想学习完整内容系统编写可在留言区留言，我会尽快完成完整版的实战教程发布。谢谢。本篇不涉及vue、nodejs的前端框架。
知识门槛 以下内容有过一些了解即可：
htmlsqlphptp框架 面向人群 刚学了php不懂怎么用的同学会一点点建站但是又不清楚流程的同学学习完了一些框架不懂怎么使用的同学有过一些web开发经验的同学等希望本篇文章对每一个阅读完的同学都有帮助 注意：本篇文章部分细节由于篇幅关系并不会去深入完善，并且相同逻辑的实现只以一个实例作为描述，主要以核心功能的开发作为主要的讲解步骤。本篇不涉及vue、nodejs的前端框架。
一、 了解一些专业术语及概念 在了解搭建网站前，需要普及一些基本的知识概念，防止某些同学在一方面有概念性的错误，并且我个人认为在学习一方面知识前需要对这一方面的知识有一个广度的了解，这里所指的广度为这东西是用来干什么的、作用是什么、为什么要这样写；所以在正式开始介绍如何编写CMS前将会介绍这一部分内容。为了方便阅读第一点内容引入我另外一篇原创文章。
1.1了解浏览一个网页的基本流程方式 在学习一门技术的时候，往往是了解整体体系架构才能更好的学习，不然在学习的过程中会出现不知道为什么这样做，做出这一部分是该整体部分的哪个区域，只会跟着做，但是并不了解这是在干啥。可能一些萌新体会颇深，就照着打，老师教怎么写，我就怎么写，反正做出来了。
本篇博文，就来用最接地气的方式对基本的web开发做一个整体的讲解，带各个萌新过一遍web开发的流程，好让各位萌新知道学习的时候学习了什么知识点，这个知识点能够干哈。
最开始，我们就以个人浏览网站的方式给大家说一下这一个过程是如何运作的。
我们访问网站，一般先打开浏览器（不要杠），输入一个网址，随后浏览器打开一个网页。在你在请求这一个网址数据的时候，已经发生了一系列的操作。
1.2了解IP地址 假设你输入的是“csdn.net”，浏览器想要去访问你这个网站，首先需要的是获得你这个网站的IP地址。可能就有萌新问了**“什么是IP地址？”。IP地址就是“指互联网协议地址，或者说网际协议地址”。又有萌新说了“你这么说我怎么懂？”**，好了现在容我慢慢道来。
IP地址就是在网络中，定位你这台电脑，或者说是设备的一个标记，这个标记是人们指定好的标准协议而产生的（协议就是你和我说好了一件事，拉钩了，以后要这样做）。就像你家的门牌号例如叫做“CSDN市，CSDN区，CSDN街道的CSDN小区第CSDN栋的第CSDN号”…这是由有关机构制定的一套规范名称，不允许随意更改；我们换个例子，例如你家是“深圳市南山区深南大道某某小区第八栋808”，你写快递的收件地址肯定是写这个，难道你写“宇宙第一星球第一市第一栋第一号”？地址是由专门组织规范且制定的一套定位规范，遵循这个规范可以使遵循该规范的设备或者人之间相互通信，这个通信指可以传达交互，能够定位、找到。综上所述，IP地址就不要纠结为什么要这样写，只要知道这个IP地址是你要用的就行。
1.3了解DNS 现在IP地址知道是什么了，那么怎么获得IP地址？这个时候就需要用到DNS了，啥是DNS？？！！
DNS的英文全称是 Domain Name System，翻译过来就是域名系统。好了，这个时候问题又来了。
1.4了解域名 啥是域名？域名就是用来标识IP地址的一个标记，或者说是昵称。“为什么不直接用IP地址？”这个问题问得好，如果我们人不用名称，就用身份证号，我叫你的时候就会叫“450333333333333333…”。。。我觉得这样不是很好。。。当人们觉得使用IP地址不方便记忆后，就产生了域名地址，就像CSDN，我们就知道是CSDN就好了，难道还要去记她的IP地址吗？例如CSDN的地址是192.168.1.1，难不难受…以后可能你记网站名称就在记数字了，又不方便又崩溃。好了，回归正题，我们输入了网址后，按下Enter键后，浏览器将会去DNS请求这个域名对应的IP是什么，如果找到了，就返回一个IP地址。可能又有萌新问了，“浏览器会自动去找DNS？”，会是会，但是我们也会给它一个目标，在我们的网络连接里面，本地连接右键属性，里面有个IPV4，双击进去就可以查看自己配置的DNS了，一般别乱改，不然很难过的，有时候浏览器打不开网址，就是这个原因。
记住，网络IP冲突可能会导致上不了网，这种情况在学校的机房里很常见，只要改成自动获取IP就ok了，会自动分配闲置的IP地址。
1.5 了解数据请求 当找到了IP地址，这个时候就会向该IP地址的设备去请求数据，请求数据的意思就是，这个设备或者说服务器就像一个大型的分发机构，就是送情报的一个部门，一共有65535个窗口，每个窗口送不同的情报；例如我们需要请求网站之类的数据，就通过第80个窗口请求，这个时候浏览器派来的小弟来到这个80号窗口，可能会排一下队，拿到数据后，回到浏览器，浏览器把拿到的数据显示给你看。
1.6 了解“ 渲染” 其实在这个时候，浏览器显示的数据会根据一些标记，进行排版，这些标记就称是HTML，HTML是 Hyper Text Markup Language 的缩写，中文名是超级文本标记语言，其实说那么深奥还不方便理解；简单来说就是通过特定的标签，把一段文本信息标记起来，表示这段文本信息要怎么样去进行显示，或者是这个文本信息是啥东西；例如 &lt;title&gt;CSDN-专业IT技术社区&lt;/title&gt;是CSDN官网首页的标题，用了title这个标签把文本信息标记，标记好后，浏览器就知道这个文本要显示在哪里，要怎么进行显示，最终浏览器把这一段信息显示在了浏览器标题头位置：
我们再看看另外的一个例子：
这一段HTML语言所标记了一个博客的文本，整个标记的情况为了清晰的看清楚，我在这里列出：&lt;a href=&#34;//blog.csdn.net/&#34; class=&#34;toolbar_to_feed&#34; title=&#34;博客&#34;&gt;博客&lt;/a&gt;，标记语言HTML那一些标记并不会进行显示，只显示了博客这个这个文本在网页上：
那是因为浏览器是通过标记语言的内容去进行显示，标记语言的作用就是告诉浏览器这里你要怎么显示这个内容，或者说这个内容有什么功能。这里是博客的一个跳转，使用的是a标签，a标签是什么？a标签就是&lt;a&gt;这里是要显示的文本&lt;/a&gt;，在a标签里面可以添加一些固定的操作，例如a标签的作用是跳转到指定的页面，那么这个页面肯定是有一个链接的，那么这个链接需要什么来指定呢？
答案就很简单了，使用href来指定，这个href呢就需要把要跳转到的页面的地址给加上，在我们查看到的HTML代码中是href=&#34;//blog.csdn.net/&#34;，这就表示会跳转到blog.csdn.net这个地址，有人点击就会跳转到博客了。
那 class=&#34;toolbar_to_feed&#34; 是什么东西？在这里我们可以把它当做给定了一个样式，给定了一个style，要怎么样显示，你要显示的样子是什么？可能红色的底，绿色的字，俗话说，红配绿。。。这个样式的名称就叫做 toolbar_to_feed 。在这里并不会深入的讲解这个样式要让博客这个文本显示成啥样，大家只要通过例子知道这个html是用来告诉浏览器怎么样显示这个文本，或者这个文本有什么用就ok了。其实还有些动态的数据，但是在这里并不会讲解，基本的理解这样就没问题了。专业点的说法就是构件编排用户界面。
1.7 了解前端 通过以上描述就很清楚的知道，如果我们做web开发的话，做html相关的就是给页面制作布局，怎么样好看，甚至可以做特效，让页面显示多姿多彩；一般我们称做HTML这种，是为了数据的显示的排版工作，或者说是为了包装数据工作的这类职位叫做前端；不过前端是个相对概念，在web上可以这样理解是没问题的，不过现在的前端，如果不去大厂，基本上要做的不止是包装数据的排版那么简单，可能还会做得更多。如果我们去做前端工作的话，还要掌握跟服务器交互的一些操作，打个比方，用户点击了一个按钮，这个按钮的功能是获取到你们的用户人数，这个时候你需要编写一个逻辑，去服务器获取到这个用户想要的数据。不过这点只是作为一个提醒，当真正接触前端的话会了解的。
1.8 了解后端 有很多小问号的朋友可能会记得刚刚说的，前端可能要向服务器请求数据，那么这个数据，是不是就是传说中的后端做的？（听没听过后端某问题，反正就是后端）
后端可以理解为一些业务逻辑的代码编写实现，就是需要后端，什么是业务逻辑？简单的举个例子，就像你淘宝买东西，你点了这个物品，下单了，我要在代码上怎么实现这个下单这个背后的操作；因为下单后你还需要交易，交易要收钱，收钱你还要把这个记录记载到你存放数据的地方，我们可以叫做数据库，存进去后，用户查看自己的下单记录，你还需要把这个记录取出来，用代码实现这个取出来这个过程给用户看到，不然没有记录那就很尴尬了，只收钱不卖货！流批！所以一般是指的是数据库（因为要存储数据，例如你网站的用户数据，肯定要用东西来存储，这个东西就是数据库）进行交互以处理相应的业务逻辑。虽然后端要考虑很多东西，但是一般来说这样举例子就比较方便理解，就不过多的谈论其它东西了。
现在整个逻辑基本上就通了，简单的理解，后端就是实现一些数据操作，业务逻辑的实现（其实可能会运维），前端呢就是负责用户的页面数据的展示排版；嗯，大体这样理解问题不大。
1.9 了解建站 既然理解通了，我们就来说说一个网站搭建的流程是什么吧！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ab6a1a579b395c99229d17b9d1673911/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-24T00:48:06+08:00" />
<meta property="article:modified_time" content="2020-10-24T00:48:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一篇文带你从0到1了解建站及完成CMS系统编写</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>学习目标</h3> 
<ol><li>了解搭建一般网站的简便方式</li><li>了解最原始一般站点搭建</li><li>了解内容管理站点搭建</li><li>了解权限设计及完成</li><li>了解使用设计模式减少代码冗余</li><li>了解前端拖拽页面生成及生成</li><li>了解自定义数据的创建</li><li>了解动态生成的前端页如何绑定自定义数据</li></ol> 
<h3><a id="_11"></a>开发环境</h3> 
<ul><li>Windows7 *64 SP1</li><li>php5.6</li><li>apache/nginx</li><li>thinkphp5.1</li><li>mysql</li><li>phpstudy2018</li><li>sqlyog</li><li>layoutit</li></ul> 
<h3><a id="_21"></a>声明</h3> 
<p>文章为从0到1了解内容管理系统搭建与编写，由于一篇文章内容篇幅过长，文章内容经过压缩，该项目中相同逻辑的实现只以一个实例作为描述，主要以核心关键功能的开发作为主要的讲解步骤。如有想学习完整内容系统编写可在留言区留言，我会尽快完成完整版的实战教程发布。谢谢。本篇不涉及vue、nodejs的前端框架。</p> 
<h3><a id="_25"></a>知识门槛</h3> 
<p>以下内容有过一些了解即可：</p> 
<ul><li>html</li><li>sql</li><li>php</li><li>tp框架</li></ul> 
<h3><a id="_33"></a>面向人群</h3> 
<ul><li>刚学了php不懂怎么用的同学</li><li>会一点点建站但是又不清楚流程的同学</li><li>学习完了一些框架不懂怎么使用的同学</li><li>有过一些web开发经验的同学等</li><li>希望本篇文章对每一个阅读完的同学都有帮助</li></ul> 
<p>注意：本篇文章部分细节由于篇幅关系并不会去深入完善，并且相同逻辑的实现只以一个实例作为描述，主要以核心功能的开发作为主要的讲解步骤。本篇不涉及vue、nodejs的前端框架。</p> 
<h3><a id="__43"></a>一、 了解一些专业术语及概念</h3> 
<p>在了解搭建网站前，需要普及一些基本的知识概念，防止某些同学在一方面有概念性的错误，并且我个人认为在学习一方面知识前需要对这一方面的知识有一个广度的了解，这里所指的广度为这东西是用来干什么的、作用是什么、为什么要这样写；所以在正式开始介绍如何编写CMS前将会介绍这一部分内容。为了方便阅读第一点内容引入我另外一篇原创文章。</p> 
<h3><a id="11_45"></a>1.1了解浏览一个网页的基本流程方式</h3> 
<p>在学习一门技术的时候，往往是了解整体体系架构才能更好的学习，不然在学习的过程中会出现不知道为什么这样做，做出这一部分是该整体部分的哪个区域，只会跟着做，但是并不了解这是在干啥。可能一些萌新体会颇深，就照着打，老师教怎么写，我就怎么写，反正做出来了。</p> 
<p>本篇博文，就来用最接地气的方式对基本的web开发做一个整体的讲解，带各个萌新过一遍web开发的流程，好让各位萌新知道学习的时候学习了什么知识点，这个知识点能够干哈。</p> 
<p>最开始，我们就以个人浏览网站的方式给大家说一下这一个过程是如何运作的。<br> <img src="https://images2.imgbox.com/a8/42/ZAwg5IcW_o.png" alt="在这里插入图片描述"></p> 
<p>我们访问网站，一般先打开浏览器（不要杠），输入一个网址，随后浏览器打开一个网页。在你在请求这一个网址数据的时候，已经发生了一系列的操作。</p> 
<h3><a id="12IP_57"></a>1.2了解IP地址</h3> 
<p>假设你输入的是“csdn.net”，浏览器想要去访问你这个网站，首先需要的是获得你这个网站的IP地址。可能就有萌新问了**“什么是IP地址？”<strong>。IP地址就是“指互联网协议地址，或者说网际协议地址”。又有萌新说了</strong>“你这么说我怎么懂？”**，好了现在容我慢慢道来。</p> 
<p>IP地址就是在网络中，定位你这台电脑，或者说是设备的一个标记，这个标记是人们指定好的标准协议而产生的（协议就是你和我说好了一件事，拉钩了，以后要这样做）。就像你家的门牌号例如叫做“<strong>CSDN市，CSDN区，CSDN街道的CSDN小区第CSDN栋的第CSDN号</strong>”…这是由有关机构制定的一套规范名称，不允许随意更改；我们换个例子，例如你家是“深圳市南山区深南大道某某小区第八栋808”，你写快递的收件地址肯定是写这个，难道你写“宇宙第一星球第一市第一栋第一号”？地址是由专门组织规范且制定的一套定位规范，遵循这个规范可以使遵循该规范的设备或者人之间相互通信，这个通信指可以传达交互，能够定位、找到。综上所述，IP地址就不要纠结为什么要这样写，只要知道这个IP地址是你要用的就行。</p> 
<h3><a id="13DNS_63"></a>1.3了解DNS</h3> 
<p>现在IP地址知道是什么了，那么怎么获得IP地址？这个时候就需要用到DNS了，<strong>啥是DNS？？！！</strong><br> <img src="https://images2.imgbox.com/47/2e/pZ8s5SlE_o.png" alt="在这里插入图片描述"></p> 
<p>DNS的英文全称是 <strong>Domain Name System</strong>，翻译过来就是域名系统。好了，这个时候问题又来了。</p> 
<h3><a id="14_70"></a>1.4了解域名</h3> 
<p><strong>啥是域名？<strong>域名就是用来标识IP地址的一个标记，或者说是昵称。</strong>“为什么不直接用IP地址？”<strong>这个问题问得好，如果我们人不用名称，就用身份证号，我叫你的时候就会叫“450333333333333333…”。。。我觉得这样不是很好。。。当人们觉得使用IP地址不方便记忆后，就产生了域名地址，就像CSDN，我们就知道是CSDN就好了，难道还要去记她的IP地址吗？例如CSDN的地址是192.168.1.1，难不难受…以后可能你记网站名称就在记数字了，又不方便又崩溃。好了，回归正题，我们输入了网址后，按下Enter键后，浏览器将会去DNS请求这个域名对应的IP是什么，如果找到了，就返回一个IP地址。可能又有萌新问了，</strong>“浏览器会自动去找DNS？”</strong>，会是会，但是我们也会给它一个目标，在我们的网络连接里面，本地连接右键属性，里面有个IPV4，双击进去就可以查看自己配置的DNS了，一般别乱改，不然很难过的，有时候浏览器打不开网址，就是这个原因。<br> <img src="https://images2.imgbox.com/b5/c1/YQbrC6PY_o.png" alt="在这里插入图片描述"><br> 记住，网络IP冲突可能会导致上不了网，这种情况在学校的机房里很常见，只要改成自动获取IP就ok了，会自动分配闲置的IP地址。</p> 
<h3><a id="15__76"></a>1.5 了解数据请求</h3> 
<p><img src="https://images2.imgbox.com/be/35/B7e8o9l8_o.png" alt="在这里插入图片描述"></p> 
<p>当找到了IP地址，这个时候就会向该IP地址的设备去请求数据，请求数据的意思就是，这个设备或者说服务器就像一个大型的分发机构，就是送情报的一个部门，一共有65535个窗口，每个窗口送不同的情报；例如我们需要请求网站之类的数据，就通过第80个窗口请求，这个时候浏览器派来的小弟来到这个80号窗口，可能会排一下队，拿到数据后，回到浏览器，浏览器把拿到的数据显示给你看。</p> 
<h3><a id="16___81"></a>1.6 了解“ 渲染”</h3> 
<p><img src="https://images2.imgbox.com/c6/7c/ILqkV07x_o.png" alt="在这里插入图片描述"></p> 
<p>其实在这个时候，浏览器显示的数据会根据一些标记，进行排版，这些标记就称是HTML，HTML是 Hyper Text Markup Language 的缩写，中文名是超级文本标记语言，其实说那么深奥还不方便理解；简单来说就是通过特定的标签，把一段文本信息标记起来，表示这段文本信息要怎么样去进行显示，或者是这个文本信息是啥东西；例如 <code>&lt;title&gt;CSDN-专业IT技术社区&lt;/title&gt;</code>是CSDN官网首页的标题，用了title这个标签把文本信息标记，标记好后，浏览器就知道这个文本要显示在哪里，要怎么进行显示，最终浏览器把这一段信息显示在了浏览器标题头位置：<br> <img src="https://images2.imgbox.com/1b/c4/nadqX4Uf_o.png" alt="在这里插入图片描述"><br> 我们再看看另外的一个例子：<br> <img src="https://images2.imgbox.com/9c/01/R2cCQS9e_o.png" alt="在这里插入图片描述"><br> 这一段HTML语言所标记了一个博客的文本，整个标记的情况为了清晰的看清楚，我在这里列出：<code>&lt;a href="//blog.csdn.net/" class="toolbar_to_feed" title="博客"&gt;博客&lt;/a&gt;</code>，标记语言HTML那一些标记并不会进行显示，只显示了博客这个这个文本在网页上：<br> <img src="https://images2.imgbox.com/4d/d4/uje8JpqO_o.png" alt="在这里插入图片描述"><br> 那是因为浏览器是通过标记语言的内容去进行显示，标记语言的作用就是告诉浏览器这里你要怎么显示这个内容，或者说这个内容有什么功能。这里是博客的一个跳转，使用的是a标签，a标签是什么？a标签就是<code>&lt;a&gt;这里是要显示的文本&lt;/a&gt;</code>，在a标签里面可以添加一些固定的操作，例如a标签的作用是跳转到指定的页面，那么这个页面肯定是有一个链接的，<strong>那么这个链接需要什么来指定呢？</strong></p> 
<p>答案就很简单了，使用href来指定，这个href呢就需要把要跳转到的页面的地址给加上，在我们查看到的HTML代码中是<code>href="//blog.csdn.net/"</code>，这就表示会跳转到<code>blog.csdn.net</code>这个地址，有人点击就会跳转到博客了。</p> 
<p>那 <code>class="toolbar_to_feed"</code> 是什么东西？在这里我们可以把它当做给定了一个样式，给定了一个style，要怎么样显示，你要显示的样子是什么？可能红色的底，绿色的字，俗话说，红配绿。。。这个样式的名称就叫做 toolbar_to_feed 。在这里并不会深入的讲解这个样式要让博客这个文本显示成啥样，大家只要通过例子知道这个html是用来告诉浏览器怎么样显示这个文本，或者这个文本有什么用就ok了。其实还有些动态的数据，但是在这里并不会讲解，基本的理解这样就没问题了。专业点的说法就是构件编排用户界面。</p> 
<h3><a id="17__97"></a>1.7 了解前端</h3> 
<p><img src="https://images2.imgbox.com/3b/f1/Go1zIdHA_o.png" alt="在这里插入图片描述"></p> 
<p>通过以上描述就很清楚的知道，如果我们做web开发的话，做html相关的就是给页面制作布局，怎么样好看，甚至可以做特效，让页面显示多姿多彩；一般我们称做HTML这种，是为了数据的显示的排版工作，或者说是为了包装数据工作的这类职位叫做前端；不过前端是个相对概念，在web上可以这样理解是没问题的，不过现在的前端，如果不去大厂，基本上要做的不止是包装数据的排版那么简单，可能还会做得更多。如果我们去做前端工作的话，还要掌握跟服务器交互的一些操作，打个比方，用户点击了一个按钮，这个按钮的功能是获取到你们的用户人数，这个时候你需要编写一个逻辑，去服务器获取到这个用户想要的数据。不过这点只是作为一个提醒，当真正接触前端的话会了解的。</p> 
<h3><a id="18__102"></a>1.8 了解后端</h3> 
<p><img src="https://images2.imgbox.com/67/12/fnvNROsr_o.png" alt="在这里插入图片描述"></p> 
<p>有很多小问号的朋友可能会记得刚刚说的，前端可能要向服务器请求数据，那么这个数据，是不是就是传说中的后端做的？（听没听过后端某问题，反正就是后端）</p> 
<p>后端可以理解为一些业务逻辑的代码编写实现，就是需要后端，什么是业务逻辑？简单的举个例子，就像你淘宝买东西，你点了这个物品，下单了，我要在代码上怎么实现这个下单这个背后的操作；因为下单后你还需要交易，交易要收钱，收钱你还要把这个记录记载到你存放数据的地方，我们可以叫做数据库，存进去后，用户查看自己的下单记录，你还需要把这个记录取出来，用代码实现这个取出来这个过程给用户看到，不然没有记录那就很尴尬了，只收钱不卖货！流批！所以一般是指的是数据库（因为要存储数据，例如你网站的用户数据，肯定要用东西来存储，这个东西就是数据库）进行交互以处理相应的业务逻辑。虽然后端要考虑很多东西，但是一般来说这样举例子就比较方便理解，就不过多的谈论其它东西了。</p> 
<p>现在整个逻辑基本上就通了，简单的理解，后端就是实现一些数据操作，业务逻辑的实现（其实可能会运维），前端呢就是负责用户的页面数据的展示排版；嗯，大体这样理解问题不大。</p> 
<h3><a id="19__111"></a>1.9 了解建站</h3> 
<p><img src="https://images2.imgbox.com/90/0f/U4A0xTVt_o.png" alt="在这里插入图片描述"></p> 
<p>既然理解通了，我们就来说说一个网站搭建的流程是什么吧！<br> 首先我们需要租一个服务器，嗯…这个萌新不理解，那我们降一个档次，那就是我们在我们自己的本地电脑进行试验，这样就问题不大了，方便快捷。</p> 
<p>搭建一个简单企业门户网站其实贼简单，不吹不黑，几年前的时候，做这个还是挺得钱的，接接外包，舒舒服服，现在就不行了，毕竟技术在更新，过时的技术也变得更加廉价了，但是依旧是基本。</p> 
<p>以下我使用一个静态网站作为例子演示一个网站的搭建；“啥是静态网站？”。静态网站就是没有后端，好吧，简单来说就是这样，由于后端需要一些其它语言，本篇博文针对于普遍人群，为了方便理解就不用后端了，直接静态网站作为演示，列出html的代码，到时候萌新们可以直接复制代码拿去自己试验，舒舒服服，美滋滋。</p> 
<h3><a id="110__122"></a>1.10 了解集成环境</h3> 
<p><img src="https://images2.imgbox.com/af/c8/w8lO5dRK_o.png" alt="在这里插入图片描述"></p> 
<p>首先我们下载一个集成环境。<strong>“啥是集成环境？”</strong>。</p> 
<p>集成环境打个比方，就像你做菜、需要火源、锅、锅铲，这种就是环境；我做网站也要一个环境，这个环境有人给你做好了，你直接拿过来用就好，就不需要自己搭建，有些初学者就喜欢自己搭建，然后发现一堆问题，搞着搞着发现太难就不学了，简直嘤嘤嘤！初学者我个人建议先别增加自己的难度，先学，不然没搞懂就上会一脸懵圈的。现在我们下载一个叫做phpstudy的软件，下载<a href="https://www.xp.cn/download.html" rel="nofollow">点这里</a><br> 去官网。然后进行傻瓜式安装。<br> <img src="https://images2.imgbox.com/a5/53/tW2s6nfn_o.png" alt="在这里插入图片描述"><br> 安装完后打开服务：<br> <img src="https://images2.imgbox.com/d4/81/D0PpYUYB_o.png" alt="在这里插入图片描述"><br> Apache可能会有人问是什么，Apache是服务器软件，它就是你做菜需要的必要工具之一，开启了就对了，可能你只开启Apache只能做汤，那也没事，毕竟我现在演示的是静态网站。</p> 
<p>首先我们把我们的资源文件带到网站根目录下：<br> <img src="https://images2.imgbox.com/67/61/5NUNOv9T_o.png" alt="在这里插入图片描述"><br> 根目录不会找？没关系，我们打开网站，点击管理找到根目录就ok：<br> <img src="https://images2.imgbox.com/bf/30/bTWdzDf2_o.png" alt="在这里插入图片描述"><br> 找到后把资源文件放到根目录下，删除以前的根目录下的内容即可。<br> 然后在浏览器输入：<strong>http://127.0.0.1/</strong> 或者输入 <strong>http://localhost/</strong> 就可以访问我们本地电脑上的网站了！</p> 
<h3><a id="_142"></a>二、给所搭建的静态网站添加后端</h3> 
<p>在以上第一节内容中，我们已经做好了一个静态的网站，但该网站并没有一些后台功能。例如后台设置网页的所展示的内容，那为什么要后台设置网页展示的内容呢？当我们的网站成功架设后，假设该网站是双十一的推广网站，图片这些全部都是标有双十一字样，当双十一过后该网站难道就不能继续使用了吗？答案当然是不，只需要编写一管理后台，用户在后台中可自由设置图片要显示哪一张。该功能完成后，用户可根据自己的需要更改对应的图片；既然图片都可以更改了，那么文章也同样可以更改，这时网站的自由度将会更高。</p> 
<p>更改网站图片的显示与更改文字内容的显示都需要使用数据库，当然其它方式也可以，但我们在这里使用一种较为常规与成熟的数据库方式进行存储，并且使用一个php的开发框架thinkphp来方便我们的搭建。thinkphp的版本是5.1版本。可能有些小伙伴们问为什么要使用框架？这不是增加学习成本吗？其实使用框架并不会增加你的开发时长，并且会增加你的开发效率；框架就像搭建房子时的地基，直接使用一个地基比你自己再去做一个地基更加简单方便，而且更为标准；如果你是一个新手，自己去搭建一个地基，往往会做到一半就“塌”了，这种情况也不是不可能。</p> 
<h3><a id="21_thinkphp51__147"></a>2.1 了解thinkphp5.1 的使用</h3> 
<p>首先我们下载thinkphp5.1，解压后目录如下：<br> <img src="https://images2.imgbox.com/4d/67/NhZPCtE9_o.png" alt="在这里插入图片描述"><br> 目录参考可以根据<a href="https://www.kancloud.cn/manual/thinkphp5_1/353950" rel="nofollow">thinkpp5.1手册</a>：<br> <img src="https://images2.imgbox.com/d0/08/Ksqg5urp_o.png" alt="在这里插入图片描述"><br> thinkphp5.1的目录结构在本文并不需要了解过多，本文将会说明需要了解的目录。<br> 我们复制解压出来的文件至网站根目录下，并且删除原有网站根目录下的内容：</p> 
<p><img src="https://images2.imgbox.com/7f/58/FpIO4ObI_o.png" alt="在这里插入图片描述">由于thinkphp框架的入口在public目录下，我们打开public目录进行查看：</p> 
<p><img src="https://images2.imgbox.com/65/9d/7o5pXkss_o.png" alt="在这里插入图片描述"><br> 在public目录下找到了index.php文件。由于该框架的入口文件是index.php，需要更改网站的根目录为public。打开phpstudy，依次点击其它菜单选项-&gt;软件设置-&gt;端口常规设置：<br> <img src="https://images2.imgbox.com/55/19/9G8HSpSi_o.png" alt="在这里插入图片描述"><br> 在弹出来的根目录设置中，选择public作为根目录：<br> <img src="https://images2.imgbox.com/d7/cf/rHj6HCzT_o.png" alt="在这里插入图片描述">此时输入localhost进行访问：<br> <img src="https://images2.imgbox.com/9d/98/4msoUXxS_o.png" alt="在这里插入图片描述"><br> 出现如上示例则表示当前thinkphp部署成功。接下来就可以进行相应的代码编写了。</p> 
<h3><a id="22__165"></a>2.2 完成第一节静态网站的移植部署</h3> 
<p>在第一节中，我们实现了一个静态网站的搭建，现在将第一节编写好的静态网站index.html文件复制到如下路径中：<br> <img src="https://images2.imgbox.com/e6/f8/fpjORheI_o.png" alt="在这里插入图片描述"></p> 
<p>我的目录是 E:\devlop\phpstuy\PHPTutorial\WWW\application\index\view\index，如果没有该目录可以自己创建。我们浏览器再次输入localhost查看，发现依旧出现之前的web页提示，这是什么回事呢？因为我们需要在thinkphp的控制器中，添加一行跳转到该html文件的代码。控制器文件在 E:\devlop\phpstuy\PHPTutorial\WWW\application\index\controller 下：<br> <img src="https://images2.imgbox.com/50/bc/plmmRa3g_o.png" alt="在这里插入图片描述"></p> 
<p>该目录是存放当前模块下所有控制器的地方（当然你可以不这样），控制器在thinkphp框架中用于对用户访问进行控制，例如用户需要访问首页则需要访问首页的控制器，默认是index控制器；index控制器可以对index这个页面进行逻辑控制，可以传值、权限控制等一些列操作。换句话说则是控制用户访问指定资源的逻辑（不理解也没关系）。我们打开index.php这个控制器：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'&lt;style type="text/css"&gt;*{ padding: 0; margin: 0; } .think_default_text{ padding: 4px 48px;} a{color:#2E5CD5;cursor: pointer;text-decoration: none} a:hover{text-decoration:underline; } body{ background: #fff; font-family: "Century Gothic","Microsoft yahei"; color: #333;font-size:18px} h1{ font-size: 100px; font-weight: normal; margin-bottom: 12px; } p{ line-height: 1.6em; font-size: 42px }&lt;/style&gt;&lt;div style="padding: 24px 48px;"&gt; &lt;h1&gt;:)&lt;/h1&gt;&lt;p&gt; ThinkPHP V5.1&lt;br/&gt;&lt;span style="font-size:30px"&gt;十年磨一剑 - 为API开发设计的高性能框架&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;script type="text/javascript" src="http://tajs.qq.com/stats?sId=9347272" charset="UTF-8"&gt;&lt;/script&gt;&lt;script type="text/javascript" src="http://ad.topthink.com/Public/static/client.js"&gt;&lt;/script&gt;&lt;thinkad id="ad_bd568ce7058a1091"&gt;&lt;/thinkad&gt;'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ThinkPHP5'</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'hello,'</span> <span class="token punctuation">.</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>改php控制器默认index为访问方法，index方法将会返回一条html的字符串，改字符串通过渲染将会显示成我们之前所看到的部署成功的欢迎界面。在这里需要将该代码删除。换成：</p> 
<pre><code class="prism language-php"><span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>整个php文件则为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'ThinkPHP5'</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'hello,'</span> <span class="token punctuation">.</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>return $this-&gt;view-&gt;fetch(); 我们可以查看thinkphp5.1手册：<br> <img src="https://images2.imgbox.com/c4/0c/vp2Gnzko_o.png" alt="在这里插入图片描述"></p> 
<p>使用 fetch 方法将会自动定位到模板文件。thinkphp已经帮我们写好了一定的规则，自动定位到默认view目录下对应控制器名下的index文件。在此注意，是自动定位到view目录下与控制器同名的目录下的文件，不加参数自动定位到index.html，也就是view/控制器名/index.html，由于控制器名是index,则是view/index/index.html；view目录下的index目录则是之前复制静态网站html文件的目录。</p> 
<p>保存php文件，访问localhost：</p> 
<p><img src="https://images2.imgbox.com/6a/83/yYniSxW2_o.png" alt="在这里插入图片描述"></p> 
<p>这时发现整个web页错乱，这时因为所有css文件、js文件、img文件的路径都有所改变，这时需要更改到正确的资源加载目录。为了方便加载，在网站根目录public目录下新建一个home目录，复制该页面所需的资源文件到该目录下：<br> <img src="https://images2.imgbox.com/2e/6d/cG4Jt3yp_o.png" alt="在这里插入图片描述"></p> 
<p>网站根目录资源的访问路径是“/”表示网站根目录下，由于在根目录下创建了一个home目录，则进一步可以写为“/home/”，在home目录下有一个asset，则可以写为“/home/assets/”，assets下的文件访问则可以根据目录进行具体访问，例如asset下的目录img有一个图片叫做1.png，那么访问则可以写成“/home/assets/img/1.png”。</p> 
<p>了解了访问的规则后，修改index.html文件，将所有 assets/ 都更换为 /home/assets/，我使用的编辑器是 vscode，快捷键 ctrl+h 即可调出一键替换：<br> <img src="https://images2.imgbox.com/34/ee/wWhqdzcF_o.png" alt="在这里插入图片描述"></p> 
<p>点击如上图中的一键替换即可完成资源内容的目录修改，随后保存，再次访问：<br> <img src="https://images2.imgbox.com/3b/62/v5kkSCmf_o.png" alt="在这里插入图片描述">完美呈现，是不是贼爽？那么接下来就实现这些图片资源的可后台更换。</p> 
<h3><a id="_238"></a>三、完成后台模块的编写</h3> 
<h3><a id="31__240"></a>3.1 完成管理后台模块搭建</h3> 
<p>首先复制application目录下的index目录：</p> 
<p><img src="https://images2.imgbox.com/16/1f/74JJChj2_o.png" alt="在这里插入图片描述"><br> 更改index-副本名为admin：<br> <img src="https://images2.imgbox.com/8e/c6/k1vWhEFD_o.png" alt="在这里插入图片描述"><br> 随后更改admin目录下controller目录中的index.php文件内容，原文件内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>更改为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以上的内容主要更改在命名空间，从 namespace app\index\controller;更改为了 namespace app\admin\controller;。命名空间主要是为了区分不同区域或空间内的不同“东西”。例如学校中A班的小明与B班的小明，这两者有着班别的区别，命名空间也是如此，表示不同区域不同空间内的值。</p> 
<p>更改完成后访问 http://localhost/index.php/admin/index，这行url地址表示该网站中admin模块下的index方法，其中index.php在访问首页的时候是默认隐藏，即http://localhost/index.php等于localhost，由于当下访问其他模块在此需要写全（当然可以配置隐藏，但不是本节内容则不过多增加难度）。访问后发现该页面与访问localhost出现的内容一致，这是因为admin模块中的index方法也用了return $this-&gt;view-&gt;fetch();这一行代码输出了html文件的代码，这个html文件并不是index模块下的view/index下的index.html，而是admin模块下的view/index下的index.html，因为刚刚整个模块我们都进行了复制。这时该html不符合我们的需求，需要更换html内容，在此我使用了一模板（该模板编写是前端内容，在此并不过多赘述，实现逻辑与index.html类型，均是修改页面的资源路径即可），访问效果如下：<br> <img src="https://images2.imgbox.com/4b/f9/oYedeY61_o.png" alt="在这里插入图片描述"></p> 
<p>注：本节项目代码将会打包分享给大家。</p> 
<h3><a id="32__284"></a>3.2 完成数据库的导入</h3> 
<p>完成后台管理页的搭建后，发现该后台所有用户均可访问，这对于一个网站是不好的权限行为；必须实现可控的权限管理，使得网站内容不得随意更改。</p> 
<p>首先打开sqlyog，输入数据库的帐号密码，一般帐号为root密码为root或空：<br> <img src="https://images2.imgbox.com/b0/05/h6Q5AOOO_o.png" alt="在这里插入图片描述"><br> 连接成功后，邮件你本地数据库点击创建数据：<br> <img src="https://images2.imgbox.com/a2/60/Is0Z1mDH_o.png" alt="在这里插入图片描述"><br> 输入数据库名，我创建数据库名为minimalism_cms，并且选择字符集，字符集为utf8即可，点击创建：<br> <img src="https://images2.imgbox.com/76/99/4HUCbFna_o.png" alt="在这里插入图片描述">在出现的新建数据库中，选择创建表：<br> <img src="https://images2.imgbox.com/10/06/8Y7buYGv_o.png" alt="在这里插入图片描述"><br> 输入表信息如以下：<br> <img src="https://images2.imgbox.com/9d/d2/aGKfRgBh_o.png" alt="在这里插入图片描述"><br> 以上所有所需的数据库表我将会导出sql文件，同学们使用时在数据库导入即可，导入步骤如下：<br> <img src="https://images2.imgbox.com/64/bd/qobx1js8_o.png" alt="在这里插入图片描述"><br> 在对应数据库中右键选择导入点击执行sql脚本即可。</p> 
<p>导入完将会出现如下的数据库表：<br> <img src="https://images2.imgbox.com/b4/28/tRQ5lCui_o.png" alt="在这里插入图片描述"><br> 以上数据库表考虑排错等操作并没有过多约束。</p> 
<h3><a id="33__304"></a>3.3 完成权限内容添加功能编写</h3> 
<p>权限管理首先需要有账户，账户属于什么角色，该角色又有什么权限，这是实现权限管理的思想。例如有个账户名为admin，admin属于超级管理员这个角色，该角色拥有所有的权限。接下来首先创建管理员用户。<br> 在权限管理下拉列表中选择管理员管理进入页面：<br> <img src="https://images2.imgbox.com/06/7b/DZVuh48A_o.png" alt="在这里插入图片描述">我们查看url连接：http://localhost/index.php/admin/auth/adminauth.html<br> 以上链接中，admin表示admin这个模块，auth表示控制器，adminauth表示方法名；auth控制器我们还未创建，在admin模块下的index控制器同目录创建一个名为Auth.php文件，内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 页面跳转
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Auth</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>

    <span class="token comment">//Auth 管理首页</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">adminAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>通过以上控制器，可以使url连接访问到该控制器并且访问adminAuth所对应的html文件，该html对应的文件在view目录下的auth目录中。在thinkphp中，对应的view目录根据控制器名分配，Auth控制器需要一个名为auth的目录存放该控制器下的html文件；在auth目录下创建一个名为admin_auth的html文件，为什么要名为admin_auth？thinkphp会访问方法名默认控制器对应的目录中一同方法名的html文件，如方法名有大写，则表示在该名称前有一下划线，则adminAuth则为admin_auth。该html代码将会打包下载即用。</p> 
<p>点击添加，添加管理员进入页面：<br> <img src="https://images2.imgbox.com/e3/3a/dMD3Evne_o.png" alt="在这里插入图片描述">该url为：http://localhost/index.php/admin/auth/adminadd.html<br> 在控制器中添加方法：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 页面跳转
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Auth</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>

    <span class="token comment">//Auth 管理首页</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">adminAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//管理员添加页</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">adminAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
	
</code></pre> 
<p>该页面拥有管理员账户、管理员密码、名称及角色组内容。暂时我们并没有角色组，首先创建一个管理员账户。查看html中的关键代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-horizontal<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-2 control-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>管理员账户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>帐号<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-2 control-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>管理员密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>密码<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-group<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-2 control-label<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>realname<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>输入名称或代号<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>通过以上html得知，id为user是账户，id为password为密码，id为realname为真实姓名。在此使用ajax进行数据提交到php后台实现内容访问。查看ajax代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
            <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">var</span> user<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> password<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">var</span> realname<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#realname'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                    type<span class="token punctuation">:</span><span class="token string">'post'</span><span class="token punctuation">,</span>
                    url<span class="token punctuation">:</span><span class="token string">'/index.php?s=/admin/Authpost/adminAdd/'</span><span class="token punctuation">,</span>
                    data<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span><span class="token string">"user"</span><span class="token punctuation">:</span>user<span class="token punctuation">,</span><span class="token string">"password"</span><span class="token punctuation">:</span><span class="token function">md5</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"realname"</span><span class="token punctuation">:</span>realname<span class="token punctuation">,</span><span class="token string">"group"</span><span class="token punctuation">:</span>group<span class="token punctuation">}</span><span class="token punctuation">,</span>
                    dataType<span class="token punctuation">:</span><span class="token string">"json"</span><span class="token punctuation">,</span> 
                    success<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>success<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                            <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                            <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>error<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>jqXHR<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span> 
            <span class="token punctuation">}</span>
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>从以上ajax代码中，使用jq获取了id为user、password、realname元素的值，在此并没有做检查是否合规，希望小伙伴们在使用该代码的时候注意。在获取密码时使用了md5加密，md5我是在线引入的，引入如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>获取值后使用ajax传递给 /index.php?s=/admin/Authpost/adminAdd/ 这个url地址。该地址使用了兼容模式，因为担心一些同学本地环境有问题，所以特地在此使用该模式进行传值。该模式的格式为：http://serverName/index.php（或者其它应用入口文件）?s=/模块/控制器/操作/[参数名/参数值…]。则admin为模块名，Authpost表示控制器名，adminAdd表示控制器中的方法。我们在admin的控制器目录创建一个名为Authpost的控制器，并且编写adminAdd方法，代码如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 对数据库操作
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>facade<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>model<span class="token punctuation">\</span>Admin</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>code<span class="token punctuation">\</span>ReturnCodeInfo</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Authpost</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>

    <span class="token comment">//administartor add </span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">adminadd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'realname'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'realname'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'group'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'group'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'logintime'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'create_time'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'loginip'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

        <span class="token variable">$res</span> <span class="token operator">=</span> Admin<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>先不看以上代码，我们查看需要存储值的数据库字段有哪些：<br> <img src="https://images2.imgbox.com/89/1d/WdE543Zd_o.png" alt="在这里插入图片描述"><br> 通过表得知，数据库字段包括 username、password、logintime、loginip、realname、create_time。我们接收值需要设定这几个初始字段，Authpost 控制器adminadd方法中这部分代码为：</p> 
<pre><code class="prism language-php"><span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'realname'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'realname'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'group'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'group'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'create_time'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'loginip'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">ip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'status'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p>以上代码使用了 Request::post();接收post值，在使用Request时必须引用use think\facade\Request;；随后将值赋给$request_data变量。随后使用 $data 变量存储即将要存储到数据库的值。在存储password密码时使用了md5加密，提高安全性。最后使用模型的create方法将数据库的值存储：</p> 
<pre><code class="prism language-php"><span class="token variable">$res</span> <span class="token operator">=</span> Admin<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>模型方法可以方便的使值进行存储。模型对应的是一个数据库，例如我数据库名为tp_admin，设置前缀为tp_后可以直接创建一个名为Admin的模型，其实也就是名为Admin的php文件，文件中类名也为Admin，该类集成model基类故此有模型特性。创建模型的方法如下，在admin下的controller同目录，注意是同目录创建一个model文件夹，在该文件夹下创建一个Admin的php文件，内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>model</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{<!-- --></span>
    
<span class="token punctuation">}</span>
</code></pre> 
<p>创建完成后，在需要使用到该模型的文件中引入，我们在Authpost头部引入 ，添加代码：</p> 
<pre><code class="prism language-php"><span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>model<span class="token punctuation">\</span>Admin</span><span class="token punctuation">;</span>
</code></pre> 
<p>其实以上代码是通过模型所在目录进行引入，app表示根目录，根目录下的admin模块中model目录下的Admin模型。<br> 在引入后还差很关键的一步，需要配置数据的连接。<br> 在application目录下config文件夹中找到database.php文件，打开修改hostname为127.0.0.1或者是localhost、修改database为我们创建的数据库的名称例如minimalism_cms、修改username帐号为root、修改password密码为root。配置内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | ThinkPHP [ WE CAN DO IT JUST THINK ]</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Copyright (c) 2006~2018 http://thinkphp.cn All rights reserved.</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Author: liu21st &lt;liu21st@gmail.com&gt;</span>
<span class="token comment">// +----------------------------------------------------------------------</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token comment">// 数据库类型</span>
    <span class="token single-quoted-string string">'type'</span>            <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'mysql'</span><span class="token punctuation">,</span>
    <span class="token comment">// 服务器地址</span>
    <span class="token single-quoted-string string">'hostname'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'127.0.0.1'</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库名</span>
    <span class="token single-quoted-string string">'database'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'minimalism_cms'</span><span class="token punctuation">,</span>
    <span class="token comment">// 用户名</span>
    <span class="token single-quoted-string string">'username'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'root'</span><span class="token punctuation">,</span>
    <span class="token comment">// 密码</span>
    <span class="token single-quoted-string string">'password'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'root'</span><span class="token punctuation">,</span>
    <span class="token comment">// 端口</span>
    <span class="token single-quoted-string string">'hostport'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// 连接dsn</span>
    <span class="token single-quoted-string string">'dsn'</span>             <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库连接参数</span>
    <span class="token single-quoted-string string">'params'</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库编码默认采用utf8</span>
    <span class="token single-quoted-string string">'charset'</span>         <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'utf8'</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库表前缀</span>
    <span class="token single-quoted-string string">'prefix'</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'tp_'</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库调试模式</span>
    <span class="token single-quoted-string string">'debug'</span>           <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库部署方式:0 集中式(单一服务器),1 分布式(主从服务器)</span>
    <span class="token single-quoted-string string">'deploy'</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据库读写是否分离 主从式有效</span>
    <span class="token single-quoted-string string">'rw_separate'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 读写分离后 主服务器数量</span>
    <span class="token single-quoted-string string">'master_num'</span>      <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token comment">// 指定从服务器序号</span>
    <span class="token single-quoted-string string">'slave_no'</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// 自动读取主库数据</span>
    <span class="token single-quoted-string string">'read_master'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 是否严格检查字段是否存在</span>
    <span class="token single-quoted-string string">'fields_strict'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 数据集返回类型</span>
    <span class="token single-quoted-string string">'resultset_type'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'array'</span><span class="token punctuation">,</span>
    <span class="token comment">// 自动写入时间戳字段</span>
    <span class="token single-quoted-string string">'auto_timestamp'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 时间字段取出后的默认时间格式</span>
    <span class="token single-quoted-string string">'datetime_format'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Y-m-d H:i:s'</span><span class="token punctuation">,</span>
    <span class="token comment">// 是否需要进行SQL性能分析</span>
    <span class="token single-quoted-string string">'sql_explain'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// Builder类</span>
    <span class="token single-quoted-string string">'builder'</span>         <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span>
    <span class="token comment">// Query类</span>
    <span class="token single-quoted-string string">'query'</span>           <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'\\think\\db\\Query'</span><span class="token punctuation">,</span>
    <span class="token comment">// 是否需要断线重连</span>
    <span class="token single-quoted-string string">'break_reconnect'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// 断线标识字符串</span>
    <span class="token single-quoted-string string">'break_match_str'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>修改完成后保存。<br> 修改完成后查看 adminadd 方法中：</p> 
<pre><code class="prism language-php"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>以上代码为返回通用的操作返回值码，减少代码冗余。使用 json返回json值，该值为new ReturnCodeInfo中的actionSuccess方法返回值，代码内容为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>code</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//验证器成功代码 10001,错误 10002</span>
    <span class="token keyword">private</span> <span class="token variable">$validate_success</span><span class="token operator">=</span><span class="token number">10001</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$validate_error</span><span class="token operator">=</span><span class="token number">10002</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$validate_info</span><span class="token operator">=</span><span class="token single-quoted-string string">'验证成功'</span><span class="token punctuation">;</span>
    
    <span class="token comment">//数据库存</span>
    <span class="token keyword">private</span> <span class="token variable">$action_success</span><span class="token operator">=</span><span class="token number">10003</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$action_error</span><span class="token operator">=</span><span class="token number">10004</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$action_sinfo</span><span class="token operator">=</span><span class="token single-quoted-string string">'操作成功'</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token variable">$action_einfo</span><span class="token operator">=</span><span class="token single-quoted-string string">'操作失败'</span><span class="token punctuation">;</span>

    <span class="token comment">//验证器 Code</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">validataSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'code'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">validate_success</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'msg'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">validate_info</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">validataError</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'code'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">validate_error</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'msg'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$msg</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//规则 Code</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'code'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">action_success</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'msg'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">action_sinfo</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'code'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">action_error</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'msg'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">action_einfo</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>以上类定义了操作失败或成功的返回状态，方便之后的操作调用该状态码。该php文件我写在controller同目录下的code目录中，名为ReturnCodeInfo的php文件。则在Authpost代码中使用了如下代码引入：</p> 
<pre><code class="prism language-php"><span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>code<span class="token punctuation">\</span>ReturnCodeInfo</span><span class="token punctuation">;</span>
</code></pre> 
<p>接着我们返回到html中，在提交按钮上绑定onclick事件，当然你使用别的方式也行，代码如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>add()<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-success btn-bordered waves-effect w-md waves-light m-b-5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>随后在页面中填入内容：<br> <img src="https://images2.imgbox.com/29/48/USSqxbKx_o.png" alt="在这里插入图片描述"><br> 点击提交：<br> <img src="https://images2.imgbox.com/02/5e/rkORvkqp_o.png" alt="在这里插入图片描述"><br> 操作成功。<br> 我们按照如上方式创建角色组的创建，点击角色组管理：<br> <img src="https://images2.imgbox.com/52/db/4dlCrh3R_o.png" alt="在这里插入图片描述">角色组实现逻辑与管理员实现逻辑类似，不再赘述。点击添加进入添加页：<br> <img src="https://images2.imgbox.com/2b/78/Uu7ietC7_o.png" alt="在这里插入图片描述">填入组名后点击提交，操作成功：<br> <img src="https://images2.imgbox.com/e0/99/2x2HtI4n_o.png" alt="在这里插入图片描述">该逻辑实现一致，均是创建模型后进行数据插入。<br> 随后开始添加规则，进入规则添加页：<br> <img src="https://images2.imgbox.com/26/ad/jjnuL9jv_o.png" alt="在这里插入图片描述">点击提交进行添加。</p> 
<p>上述相同过程完成后开始实现权限认证的逻辑。<br> 接下来完全用户对角色组的绑定，进入管理员管理页，点击编辑：<br> <img src="https://images2.imgbox.com/58/f8/TkIcoS0E_o.png" alt="在这里插入图片描述">进入编辑页后选择超级管理员：<br> <img src="https://images2.imgbox.com/2f/ac/auhg3OKT_o.png" alt="在这里插入图片描述"><br> 点击提交，完成绑定：<br> <img src="https://images2.imgbox.com/75/fc/ECVI5vrT_o.png" alt="在这里插入图片描述"><br> 提交方法使用ajax，所访问的接口为Authpost下的groupBindUser方法：</p> 
<pre><code class="prism language-php"><span class="token comment">//组绑定用户</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">groupBindUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'uid'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'uid'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'group_id'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'gid'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'create_time'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'update_time'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//存储</span>
        <span class="token variable">$res</span> <span class="token operator">=</span> AuthGroupAccess<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>该方法主要使用AuthGroupAccess模型调用create方法进行数据插入。数据库存储如下：<br> <img src="https://images2.imgbox.com/33/d7/EDwwmaCb_o.png" alt="在这里插入图片描述"><br> 为用户id对应的组id。<br> 随后进入组页面，进行组绑定规则的操作，点击编辑进入超级管理员编辑页：<br> <img src="https://images2.imgbox.com/09/0d/3WxZZKBM_o.png" alt="在这里插入图片描述"><br> 选择需要的规则，点击提交完成规则与组的绑定：<br> <img src="https://images2.imgbox.com/a4/1a/IGMu5q17_o.png" alt="在这里插入图片描述">数据库存储如下：<br> <img src="https://images2.imgbox.com/71/d2/GjeBdcXP_o.png" alt="在这里插入图片描述"><br> 以上表中，id为组id，rules则为规则的id。</p> 
<h3><a id="34__675"></a>3.4 完成权限管理逻辑编写</h3> 
<p>为了使验证层能够灵活的使用，在admin目录下创建一个AuthRuleValidate目录，新建一php文件名为AuthRuleValidateBase，内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>AuthRuleValidate</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AuthRuleValidateBase</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//传入uid 与当前 路由验证是否有此权限</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$uid</span><span class="token punctuation">,</span><span class="token variable">$access</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_admin'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rules'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_auth_group_access agc'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'a.id = '</span><span class="token punctuation">.</span><span class="token variable">$uid</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_auth_group ag'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'ag.id = agc.group_id'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token variable">$rules</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'auth_rule'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rule'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'in'</span><span class="token punctuation">,</span><span class="token variable">$res</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'rules'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$rules</span><span class="token operator">=</span><span class="token function">array_column</span><span class="token punctuation">(</span><span class="token variable">$rules</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'rule'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$access</span><span class="token punctuation">,</span><span class="token variable">$rules</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'权限不足'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>逻辑很简单，该方法接受当前的uid用于查询用户所属组，改组拥有的规则，再通过规则与当前规则进行匹配，如含有则表示拥有该权限。<br> 首先查询tp_admin管理员表所在的组：</p> 
<pre><code class="prism language-php"><span class="token variable">$res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_admin'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'rules'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_auth_group_access agc'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'a.id = '</span><span class="token punctuation">.</span><span class="token variable">$uid</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_auth_group ag'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'ag.id = agc.group_id'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<p>得到结果后，查询与改组id匹配的规则，最后判断该权限是否在当前的规则内，是的话不做任何操作，否则提示权限不足。<br> 随后在controller控制器目录下创建一基类php文件，名为Base。内容为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>facade<span class="token punctuation">\</span>Session</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>AuthRuleValidate<span class="token punctuation">\</span>AuthRuleValidateBase</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token variable">$beforeActionList</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'ruleCheck'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'except'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">ruleCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">session</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'?admin'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'未登录或已失效'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'Index/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$AuthRuleValidate</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AuthRuleValidateBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$s</span><span class="token operator">=</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*echo request()-&gt;module().'/'.request()-&gt;controller().'/'.request()-&gt;action(); */</span>
        
        <span class="token variable">$AuthRuleValidate</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">.</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>该文件引入了刚刚创建的权限判断类，在此基础上并且判断了该用户是否登录。<br> 查看代码：</p> 
<pre><code class="prism language-php"><span class="token keyword">protected</span> <span class="token variable">$beforeActionList</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'ruleCheck'</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'except'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'login'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>该代码为设置前置曹祖，其中except表示除什么方法之外，在这里设置除login登录方法外，因为所有用户都必须登录后才能判断权限，登录方法则不受此影响。随后查看ruleCheck方法，该方法首先判断用户是否登录：</p> 
<pre><code class="prism language-php"><span class="token function">session</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'?admin'</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">:</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'未登录或已失效'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'Index/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>随后新建权限判断类：</p> 
<pre><code class="prism language-php"><span class="token variable">$AuthRuleValidate</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">AuthRuleValidateBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>接着使用seesion获取uid：</p> 
<pre><code class="prism language-php"><span class="token variable">$s</span><span class="token operator">=</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>最后调用权限判断方法传入当前控制器方法与uid进行权限判断：</p> 
<pre><code class="prism language-php"> <span class="token variable">$AuthRuleValidate</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">.</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>完全权限判断基类后，使所有管理后台的控制器继承与该方法，例Auth控制器（该操作可以等待登录页编写后再进行）：</p> 
<pre><code class="prism language-php"><span class="token keyword">class</span> <span class="token class-name">Auth</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span><span class="token punctuation">{<!-- --></span>
</code></pre> 
<h3><a id="35__773"></a>3.5 完成登录功能编写</h3> 
<p>在admin模块中，index控制器添加方法login，内容为：</p> 
<pre><code class="prism language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>前端代码使用ajax传值，前端页显示如下：<br> <img src="https://images2.imgbox.com/a3/9f/fO78yyuP_o.png" alt="在这里插入图片描述"><br> 随后填入帐号及密码通过ajax传值到admin模块下的Authpost控制器中login方法中，内容如下：</p> 
<pre><code class="prism language-php"><span class="token comment">//登录</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'username'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$res</span><span class="token operator">=</span><span class="token function">db</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$res</span><span class="token operator">?</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'admin'</span><span class="token punctuation">,</span> <span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'帐号或密码错误'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>使用find方法对传入值进行对比，密码正确则将值传入到seesion否则将提示帐号密码错误。</p> 
<h3><a id="36__798"></a>3.6 完成传入值的判断</h3> 
<p>在基本权限实现完成后，使用验证器对传入值进行判断，毕竟外部值都是不可靠的值。<br> 在controller同级下创建一目录validate，创建目录后在该目录下创建一php文件名为BaseValidate作为对数据进行判断类的基类，代码内容如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>validate</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Validate</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>code<span class="token punctuation">\</span>ReturnCodeInfo</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">BaseValidate</span> <span class="token keyword">extends</span> <span class="token class-name">Validate</span><span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">gocheck</span><span class="token punctuation">(</span><span class="token variable">$validata</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token variable">$validata</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validataError</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">validataSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>该类继承验证器类，具有验证器特性。验证器的使用查看<a href="https://www.kancloud.cn/manual/thinkphp5_1/354102" rel="nofollow">tp5.1文档</a>。<br> 查看gocheck方法，gocheck方法调用了验证器本身的check方法，其接收的参数$validata为需要验证的数据。check判断错误则调用 ReturnCodeInfo类中的报错数据返回，否则则返回正确。<br> 假设在管理员添加时需要验证数据是否合规，那么在validate目录中创建一名为AdminValidate的php文件，内容为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>validate</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>validate<span class="token punctuation">\</span>BaseValidate</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AdminValidate</span> <span class="token keyword">extends</span> <span class="token class-name">BaseValidate</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token variable">$rule</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'password'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token single-quoted-string string">'require|max:50'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'username'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token single-quoted-string string">'require|max:30'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'realname'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token single-quoted-string string">'require|max:30'</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'group'</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token single-quoted-string string">'require|max:30'</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>在管理员添加方法中（Authpost控制器中的adminadd方法）添加：</p> 
<pre><code class="prism language-php"><span class="token comment">//验证器</span>
        <span class="token variable">$valires</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AdminValidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">gocheck</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$valires</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'code'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">10002</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$valires</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>即可完成，但一定要注意，需要引入该验证器：</p> 
<pre><code class="prism language-php"><span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>validate<span class="token punctuation">\</span>AdminValidate</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_856"></a>四、完成内容管理功能的编写</h3> 
<h3><a id="41__858"></a>4.1 完成管理后台模块搭建</h3> 
<p>我们首先实现查看轮播图区域元素：<br> <img src="https://images2.imgbox.com/44/4c/yOrcOmNI_o.png" alt="在这里插入图片描述"></p> 
<p>发现元素包含轮播图标题、简介，以及轮播图标题1、简介1以及背景图。数据库设计如下：</p> 
<p><img src="https://images2.imgbox.com/af/c5/aVDHxr2A_o.png" alt="在这里插入图片描述"></p> 
<p>我们通过sqlyog的可视化操作添加轮播图所需要资源的数据，可以通过邮件检查直接获取资源路径及内容：<br> <img src="https://images2.imgbox.com/dd/1e/A8Q8J59u_o.png" alt="在这里插入图片描述"></p> 
<p>首先得到轮播图第一张图片的数据：<br> <img src="https://images2.imgbox.com/16/94/mJHz1Zau_o.png" alt="在这里插入图片描述"><br> 复制内容填入sqlyog表中：<br> <img src="https://images2.imgbox.com/87/e7/U4Fwynp2_o.png" alt="在这里插入图片描述"><br> 同理获取所有的内容填入至表：<br> <img src="https://images2.imgbox.com/fe/7d/LUrmngNV_o.png" alt="在这里插入图片描述"><br> 所有内容填入数据库：<br> <img src="https://images2.imgbox.com/08/17/GsLYZqS9_o.png" alt="在这里插入图片描述"></p> 
<p>回到index模块下的index控制器中，在index方法中添加获取轮播图数据表中数据：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$banner_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$banner_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">die</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>在以上代码中，使用select方法查询轮播图数据表中的数据，查询方式是id的降序，这样使轮播图将会以最新添加的作为显示依据，并且每次只查询前4条；查询结构复制给变量banner_res，使用print_r对该变量进行输出，随后在输出模板前使用die终止，查看输出。<br> 访问localhost成功获得数据：<br> <img src="https://images2.imgbox.com/d5/3e/nzHxzXV8_o.png" alt="在这里插入图片描述"><br> 在index方法中添加代码，像前端传递banner_res变量，并且删除die代码：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$banner_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'banner'</span><span class="token punctuation">,</span><span class="token variable">$banner_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>接下来我们将在html代码中使用tp的前端模板语法对一些html元素进行控制。我们通过元素查询得知轮播图元素id为homev1：<br> <img src="https://images2.imgbox.com/f5/4f/cFxhxLNW_o.png" alt="在这里插入图片描述">在代码中找到id为homev1的元素，查看代码，每个轮播图标签类似，只有默认选项多了个class修饰：<br> <img src="https://images2.imgbox.com/db/e2/M4tP1uvc_o.png" alt="在这里插入图片描述"><br> 但是有些小伙伴觉得很麻烦，那我们换一种方式，使用tp框架前端的模板语法，类似if判断，从而输出内容：<br> <img src="https://images2.imgbox.com/6b/5a/4sU3sCHb_o.png" alt="在这里插入图片描述"></p> 
<p>首先使用volist标签进行循环，在标签中设置循环变量key，该key循环第一次的值为1，当为1使用eq标签判断，是1则输出第一个轮播图的html代码：</p> 
<pre><code class="prism language-php"><span class="token punctuation">{<!-- --></span>eq name<span class="token operator">=</span><span class="token double-quoted-string string">"k"</span> value<span class="token operator">=</span><span class="token double-quoted-string string">"1"</span><span class="token punctuation">}</span>
</code></pre> 
<p>需要输出的html代码需要使用成对的eq标签包含，结束的eq标签为 {/eq}。<br> 代码如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>carousel-inner<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>listbox<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token comment">&lt;!-- Third Slide --&gt;</span>
                        {volist name="banner" id="vo" key="k" }
                        {eq name="k" value="1"}
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item active<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token comment">&lt;!-- Slide Background --&gt;</span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SeoPress Slider<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-slider-overlay<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-8 col-md-offset-2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slide-text slide_style_center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated zoomInRight<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white m-top-10<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        {/eq}
                        <span class="token comment">&lt;!-- End of Slide --&gt;</span>
                        {eq name="k" value="2"}
                        <span class="token comment">&lt;!-- Second Slide --&gt;</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SeoPress Slider<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-slider-overlay<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token comment">&lt;!-- Slide Text Layer --&gt;</span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slide-text slide_style_left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white m-top-10<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated zoomInLeft<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token comment">&lt;!-- End of Slide --&gt;</span>
                        {/eq}
                        {eq name="k" value="3"}
                        <span class="token comment">&lt;!-- Third Slide --&gt;</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SeoPress Slider<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-slider-overlay<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token comment">&lt;!-- Slide Text Layer --&gt;</span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slide-text slide_style_left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInDown<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white m-top-10<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        {/eq}
                        {eq name="k" value="4"}
                        <span class="token comment">&lt;!-- Fourth Slide --&gt;</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>SeoPress Slider<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bs-slider-overlay<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token comment">&lt;!-- Slide Text Layer --&gt;</span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>slide-text slide_style_left<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
                                                Online Marketing Needs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white m-top-10<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInLeft<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default btn-round m-top-30<span class="token punctuation">"</span></span> <span class="token attr-name">data-animation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>animated fadeInRight<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Read More<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        {/eq}
                        {/volist}
                        <span class="token comment">&lt;!-- End of Slide --&gt;</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End of Wrapper For Slides --&gt;</span>
</code></pre> 
<p>接着我们往下查看首页内容：<br> <img src="https://images2.imgbox.com/39/03/qJcA45NQ_o.png" alt="在这里插入图片描述"></p> 
<p>个人觉得该区域可以放一个“有利于”之类的宣传语，那么建一表存放标题、图片、内容信息：<br> <img src="https://images2.imgbox.com/fd/05/Po8rSsT1_o.png" alt="在这里插入图片描述"><br> 在该表中填入网页中原有的数据：<br> <img src="https://images2.imgbox.com/86/49/O37vlRe8_o.png" alt="在这里插入图片描述"><br> 在index控制器中添加查询tp_home_advantageous表数据的代码并将结果传至前端：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$banner_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$advantageous_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_advantageous'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'advantageous'</span><span class="token punctuation">,</span><span class="token variable">$advantageous_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'banner'</span><span class="token punctuation">,</span><span class="token variable">$banner_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>修改前端代码，发现该区域代码的html几乎一致，前3个的class=“service-item sm-m-top-65”，后3个的class=“service-item m-top-65”：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main-service-area text-center m-top-80<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item sm-m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service1.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Search Engine Optimization<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>With our 17+ years of experience, our SEO services will get your site ranking.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item sm-m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service3.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Content Marketing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>From blogs and social posts to 
                                        infographics videos we create and promote quality.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item sm-m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service2.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Social Media Marketing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Boost brand awareness and reach your 
                                        customers on a human level.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service4.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Web Design &amp; Development<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Our designers and developers will create an attractive, SEO-friendly &amp; fully functional.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service5.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>eCommerce Solutions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>With our 17+ years of experience, 
                                        our SEO services will get your site ranking.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-item m-top-65<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/service6.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Inbound Marketing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>With our ecommerce solutions, 
                                        you'll provide an enjoyable, seamless.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这是把其它div删除，留下1个div，使用volist标签进行遍历输出值，并且设置循环变量key，使用tp框架的前端判断标签，判断小于4时输出class为col-sm-6：</p> 
<pre><code class="prism language-html">{lt name="k" value="4"}col-sm-6{/eq}
</code></pre> 
<p>当循环后3三位，则是k值大于3，大于3输出col-sm-6，使用gt标签：</p> 
<pre><code class="prism language-html">{gt name="k" value="3"}col-sm-6{/eq}
</code></pre> 
<p>将两个前端代码编写与div中，完整代码如下：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main-service-area text-center m-top-80<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {volist name="advantageous" id="vo" key="k" }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>service-item {lt name=<span class="token punctuation">"</span>k<span class="token punctuation">"</span> value=<span class="token punctuation">"</span>4<span class="token punctuation">"</span>}col-sm-6{/eq} {gt name=<span class="token punctuation">"</span>k<span class="token punctuation">"</span> value=<span class="token punctuation">"</span>3<span class="token punctuation">"</span>}col-sm-6{/eq}<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>service-icon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-info m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    {/volist}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>运行结果：<br> <img src="https://images2.imgbox.com/91/c7/8xedWMJ7_o.png" alt="在这里插入图片描述"><br> 接着往下，查看页面区域：<br> <img src="https://images2.imgbox.com/bb/7b/lwBc6jsr_o.png" alt="在这里插入图片描述"></p> 
<p>我们将该页面编写成产品展示区域。新建一数据库表：<br> <img src="https://images2.imgbox.com/cb/4f/O7lzNHfT_o.png" alt="在这里插入图片描述"><br> 填入内容：<br> <img src="https://images2.imgbox.com/59/fb/7WKKHw1F_o.png" alt="在这里插入图片描述">在index控制器index方法中添加product数据库查询代码并传至前端：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$banner_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$advantageous_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_advantageous'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$product_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_product'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">,</span><span class="token variable">$product_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'advantageous'</span><span class="token punctuation">,</span><span class="token variable">$advantageous_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'banner'</span><span class="token punctuation">,</span><span class="token variable">$banner_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>随后在html代码中输出内容即可：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leading<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leading bg-primary sections2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main-leading<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leading-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>head-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-white<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$product[0]['title']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-30 text-white<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$product[0]['specs']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>separator2 hv2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-40<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$product[0]['content']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-default btn-round m-top-20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Our Team<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>leading-img sm-m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$product[0][<span class="token punctuation">'</span>img<span class="token punctuation">'</span>]}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End off row--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End off container --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End off leading section--&gt;</span>
            <span class="token comment">&lt;!--Allies Section--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>allies<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>allies sections<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main-allies<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>allies-img<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$product[1][<span class="token punctuation">'</span>img<span class="token punctuation">'</span>]}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-7<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>allies-content sm-m-top-50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>head-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>O{$product[1]['title']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text-black m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$product[1]['content']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>separator2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-40<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$product[1]['specs']}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary btn-round m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Portfolio<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End off row --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--End off container --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- End off Allies Section--&gt;</span>
</code></pre> 
<p>接着往下看：<br> <img src="https://images2.imgbox.com/4a/ab/UJtyB3yT_o.png" alt="在这里插入图片描述"></p> 
<p>该区域可以更改成文章的展示，创建已数据库表：<br> <img src="https://images2.imgbox.com/dc/b2/o2V1QVo2_o.png" alt="在这里插入图片描述"><br> 添加内容：<br> <img src="https://images2.imgbox.com/5e/d9/pN3jhUCu_o.png" alt="在这里插入图片描述"></p> 
<p>查看html代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-01.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>custom-hover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Acme Corporation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Build a larger twitter community<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item xs-m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-02.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Soylent Corp <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Make tone &amp; branding consistency<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item sm-m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-03.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Umbrella Corporation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Eliminate the residue of black-hat methods<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-04.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Initech<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Improve site load speed &amp; functionality<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-05.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Vehement Capital Partners <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Increase nationwide sales<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home/assets/images/studies-img-06.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Massive Dynamic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
                                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Objective: Increase qualified traffic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
                                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>发现该html代码中前3个div的class有所变化，后3个div布局内容则无变化。我们使用eq标签使前3个div照原样输出，后3个div遍历输出：</p> 
<pre><code class="prism language-html">{volist name="article" id="vo" key="k" }
{eq name="k" value="1"}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>custom-hover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {/eq}
 {eq name="k" value="2"}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item xs-m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {/eq}
 {eq name="k" value="3"}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item sm-m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {/eq}
 {gt name="k" value="3"}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col-md-4 col-sm-6<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-item m-top-35<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-feature border<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img-rounded<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{$vo.img}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-overlay img-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon icon-arrows-2 hvr-hang<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>studies-conten m-top-30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m-top-10<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{$vo.content}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 {/gt}
 {/volist}
</code></pre> 
<p>在index控制器的首页方法index中添加对article表数据的查询：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>index<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$banner_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$advantageous_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_advantageous'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$product_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_product'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$article_res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_article'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'article'</span><span class="token punctuation">,</span><span class="token variable">$article_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'product'</span><span class="token punctuation">,</span><span class="token variable">$product_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'advantageous'</span><span class="token punctuation">,</span><span class="token variable">$advantageous_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'banner'</span><span class="token punctuation">,</span><span class="token variable">$banner_res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>其它的前端内容通过数据库更改不再赘述。</p> 
<h3><a id="42__1468"></a>4.2 完成通过后台设置更改与添加前端内容</h3> 
<p>创建控制器Contentmanger，添加方法bannerManger，bannerManger方法跳转到一页面用于显示banner数据，点击每条数据可进行编辑：<br> <img src="https://images2.imgbox.com/2f/6f/8RvT71I7_o.png" alt="在这里插入图片描述"></p> 
<p>由于有数据的查询，在控制器中需要查询banner表数据，代码为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 页面跳转
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>facade<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Contentmanger</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span><span class="token punctuation">{<!-- --></span>

    <span class="token comment">//官网首页内容管理</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">bannerManger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token variable">$list</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'tp_home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'list'</span><span class="token punctuation">,</span><span class="token variable">$list</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>此处可添加验证器检测传入值是否正确，为了节省篇幅接下来的代码中不再过多的添加其它内容。<br> html代码前端的编辑修改按钮，使用了url方法传参，传参后获取该id的内容，方便进行修改：<br> <img src="https://images2.imgbox.com/a4/32/ipOyyo5j_o.png" alt="在这里插入图片描述"><br> 点击编辑后将会可以随意修改banner的值：<br> <img src="https://images2.imgbox.com/f6/43/df8Fj4lG_o.png" alt="在这里插入图片描述"><br> 点击choosefile可选择img文件，修改banner图片。</p> 
<p>创建一控制器用来管理内容修改操作的逻辑，创建一php文件名为 Contentmangerpost ，添加 bannerEdit 方法：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 页面跳转
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>facade<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package"><span class="token punctuation">\</span>think<span class="token punctuation">\</span>File</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>model<span class="token punctuation">\</span>Goods</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>validate<span class="token punctuation">\</span>IdValidate</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>code<span class="token punctuation">\</span>ReturnCodeInfo</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Contentmangerpost</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//轮播图编辑</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">bannerEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$save_path</span><span class="token operator">=</span><span class="token single-quoted-string string">'/public'</span><span class="token punctuation">;</span>
        <span class="token variable">$save_path_</span><span class="token operator">=</span><span class="token single-quoted-string string">'/uploads/imgs/'</span><span class="token punctuation">;</span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$con</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title_2'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title_2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content_2'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content_2'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


        <span class="token comment">// 获取表单上传文件 例如上传了001.jpg</span>
        <span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'file'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 移动到框架应用根目录/uploads/ 目录下</span>
            <span class="token variable">$info</span> <span class="token operator">=</span> <span class="token variable">$file</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'..'</span><span class="token punctuation">.</span><span class="token variable">$save_path</span><span class="token punctuation">.</span><span class="token variable">$save_path_</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$info</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 成功上传后 获取上传信息</span>
                <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'img'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$save_path_</span><span class="token punctuation">.</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'\\'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span><span class="token variable">$info</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSaveName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 上传失败获取错误信息</span>
                <span class="token keyword">echo</span> <span class="token variable">$file</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'img'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token single-quoted-string string">'/home/assets/images/slide-bg-01.jpg'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token variable">$res</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'home_banner'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以上代码使用request()-&gt;file(‘file’);判断是否接收到file值，如接收到说明用户选择了新图片，那么使用move方法保存图片，通过getSaveName方法获取保存图片名。最终更新至数据库中。其它数据的更新方法与该步骤类似，不再赘述。接下来通过拖拽实现web并且绑定数据。</p> 
<h3><a id="_1570"></a>五、完成页面拖拽生成并绑定数据功能的编写</h3> 
<p>拖拽页面在此提供一个思想，通过bootstrap的layoutit可视化布局可以完成简单页面拖拽生成，需要完成更多复杂的界面需要对layoutit进行二次开发。本篇内容为一个demo，通过可视化layoutit生成界面且进行代码替换完成对于thinkphp模板的制作，最后通过可视化数据绑定生成php代码。</p> 
<h3><a id="51__1572"></a>5.1 完成拖拽界面的前端搭建</h3> 
<p>首先为layoutit添加一个控制器并更改资源路径，此操作不再赘述。部署完成后打开界面：<br> <img src="https://images2.imgbox.com/35/70/C7pwxukD_o.png" alt="在这里插入图片描述"></p> 
<p>可拖拽布局实现界面编辑：<br> <img src="https://images2.imgbox.com/5b/51/tSeV3SNN_o.png" alt="在这里插入图片描述"></p> 
<p>拖拽成如下界面：<br> <img src="https://images2.imgbox.com/5d/bc/Vd0Xxhhi_o.png" alt="在这里插入图片描述"><br> 点击下载可查看生成的html代码：<br> <img src="https://images2.imgbox.com/8d/ee/2s2zWZyY_o.png" alt="在这里插入图片描述"></p> 
<p>在点击下载时，我通过js保存了生成的代码：</p> 
<pre><code class="prism language-javascript">	  <span class="token keyword">var</span> template<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span> 
	  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"[data-target=#downloadModal]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">downloadLayoutSrc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	  <span class="token keyword">function</span> <span class="token function">downloadLayoutSrc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	    <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">".demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".preview, .configuration, .drag, .remove"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".box-element"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">"removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow .lyrow .lyrow .lyrow .lyrow .removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow .lyrow .lyrow .lyrow .removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow .lyrow .lyrow .removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow .lyrow .removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".lyrow .removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">cleanHtml</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    t<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">".removeClean"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout .column"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"ui-sortable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout .row-fluid"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"clearfix"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token string">"column"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout .container"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	      <span class="token function">changeStructure</span><span class="token punctuation">(</span><span class="token string">"row-fluid"</span><span class="token punctuation">,</span> <span class="token string">"row"</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	    formatSrc <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">htmlClean</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
	      format<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	      allowedAttributes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
	        <span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"class"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-toggle"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-target"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-parent"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"role"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-dismiss"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"aria-labelledby"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"aria-hidden"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-slide-to"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	        <span class="token punctuation">[</span><span class="token string">"data-slide"</span><span class="token punctuation">]</span>
	      <span class="token punctuation">]</span>
	    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#download-layout"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>formatSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#downloadModal textarea"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#downloadModal textarea"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>formatSrc<span class="token punctuation">)</span>
	    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formatSrc<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    template<span class="token operator">=</span>formatSrc<span class="token punctuation">;</span>
	  <span class="token punctuation">}</span>
</code></pre> 
<p>此代码为layoutit的js代码，在此基础上我新建了已js全局变量保存数据，变量为template，在js代码清洗完成后把清洗后的值赋值给全局变量template。<br> 随后点击保存：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bc()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>保存<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>保存按钮点击后对应的js代码为：</p> 
<pre><code class="prism language-html">function bc(){
                {literal} 
                template='{$head|raw}'+'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">min-height</span><span class="token punctuation">:</span> 816px<span class="token punctuation">;</span> <span class="token property">cursor</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>devpreview sourcepreview<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>'+template+'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>';
                {/literal} 
                $.ajax({
                    type:'post',
                    url:'/index.php?s=/admin/Autoviewpost/test/',
                    data:{"template":template},
                    dataType:"json", 
                    success:function(data){
    
                    },error:function(jqXHR){
    
                    }
                })  
              }
</code></pre> 
<p>在因为生成的代码需要一定的js文件引入，在此我添加了{$head|raw}为前端的模板代码，使用了{literal} 标签对thinkphp的模板代码进行修饰，表示不解析其中内容。head变量的内容为：</p> 
<pre><code class="prism language-php"><span class="token variable">$head</span><span class="token operator">=</span><span class="token single-quoted-string string">'&lt;link href="/autoview/css/bootstrap-combined.min.css" rel="stylesheet"&gt;
        &lt;link href="/autoview/css/layoutit.css" rel="stylesheet"&gt;
        &lt;!-- Le styles --&gt;
        &lt;link href="/autoview/css/bootstrap-combined.min.css" rel="stylesheet"&gt;
        &lt;link href="/autoview/css/layoutit.css" rel="stylesheet"&gt;
        
        &lt;!-- HTML5 shim, for IE6-8 support of HTML5 elements --&gt;
        &lt;!--[if lt IE 9]&gt;
                &lt;script src="/autoview/js/html5shiv.js"&gt;&lt;/script&gt;
            &lt;![endif]--&gt;
        
            &lt;!-- Fav and touch icons --&gt;
            &lt;link rel="shortcut icon" href="/autoview/img/favicon.png"&gt;
            
            &lt;script type="text/javascript" src="/autoview/js/jquery-2.0.0.min.js"&gt;&lt;/script&gt;
            &lt;!--[if lt IE 9]&gt;
            &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
            &lt;![endif]--&gt;
            &lt;script type="text/javascript" src="/autoview/js/bootstrap.min.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="/autoview/js/jquery-ui.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="/autoview/js/jquery.ui.touch-punch.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/js/jquery.htmlClean.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/ckeditor/ckeditor.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/ckeditor/config.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/js/scripts.js"&gt;&lt;/script&gt;'</span><span class="token punctuation">;</span>
</code></pre> 
<p>点击保存后，生成的html代码文本将会传到Autoviewpost控制器下的test方法中，test方法代码如下：</p> 
<pre><code class="prism language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$template</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'template'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">/* $regex4="/&lt;div class=\"media\".*?&gt;.*?&lt;\/div&gt;.*?&lt;\/div&gt;/ism";   */</span>
        <span class="token variable">$template</span><span class="token operator">=</span><span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token function">getMediaReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getMediaHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//media 替换</span>
        <span class="token variable">$template</span><span class="token operator">=</span><span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token function">getCarouselReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getCarouselHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//轮播图 替换</span>
        <span class="token variable">$template</span><span class="token operator">=</span><span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token function">getThumbnailsReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getThumbnailsHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//缩略图 替换</span>
        <span class="token variable">$template</span><span class="token operator">=</span><span class="token function">preg_replace</span><span class="token punctuation">(</span><span class="token function">getUnitReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getUnitHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//概述 替换</span>

        <span class="token variable">$template</span><span class="token operator">=</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"{eq name=&amp;quot;key&amp;quot; value=&amp;quot;1&amp;quot;}active{/eq}"</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'{eq name="key" value="1"}active{/eq}'</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'\view\templates\t1.html'</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* print_r($request_data['template']);  */</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>该方法在接收值后对一部分进行替换。使用preg_replace对文本进行替换，在该对比中我使用了正则对数据进行匹配，该方法我编写在common公共函数的php文件中，地址为application\common.php，内容为：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | ThinkPHP [ WE CAN DO IT JUST THINK ]</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Copyright (c) 2006-2016 http://thinkphp.cn All rights reserved.</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Licensed ( http://www.apache.org/licenses/LICENSE-2.0 )</span>
<span class="token comment">// +----------------------------------------------------------------------</span>
<span class="token comment">// | Author: 流年 &lt;liu21st@gmail.com&gt;</span>
<span class="token comment">// +----------------------------------------------------------------------</span>

<span class="token comment">// 应用公共文件</span>
<span class="token keyword">function</span> <span class="token function">arrunset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$arr</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">array_splice</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Media php code</span>
<span class="token keyword">function</span> <span class="token function">getMediaHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$str</span><span class="token operator">=</span><span class="token single-quoted-string string">'{volist name="media" id="data" }'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="media"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;a href="{$data.src}" class="pull-left"&gt;&lt;img src="{$data.img}" class="media-object" alt=\'\' /&gt;&lt;/a&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="media-body"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;h4 class="media-heading"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{$data.title}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/h4&gt; {$data.content}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{:arrunset($media)}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{/volist}'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//Media regex str</span>
<span class="token keyword">function</span> <span class="token function">getMediaReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$re</span><span class="token operator">=</span><span class="token double-quoted-string string">"/&lt;div class=\"media\".*?&gt;.*?&lt;\/div&gt;.*?&lt;\/div&gt;/ism"</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token variable">$re</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//轮播图 php code</span>
<span class="token keyword">function</span> <span class="token function">getCarouselHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$str</span><span class="token operator">=</span><span class="token single-quoted-string string">'&lt;div class="carousel slide" id="carousel-998124"&gt;&lt;div class="carousel-inner"&gt; '</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{volist name="banner" id="data"}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class=\'item {eq name="key" value="1"}active{/eq} \'&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;img alt="" src="{$data.img}" /&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="carousel-caption"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;h4&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{$data.title}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/h4&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{$data.content}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{/volist} '</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt; '</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;a data-slide="prev" href="#carousel-998124" class="left carousel-control"&gt;‹&lt;/a&gt;&lt;a data-slide="next" href="#carousel-998124" class="right carousel-control"&gt;›&lt;/a&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//轮播图 regex str</span>
<span class="token keyword">function</span> <span class="token function">getCarouselReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$re</span><span class="token operator">=</span><span class="token double-quoted-string string">"/&lt;div class=\"carousel slide\".*?&gt;.*?class=\"right carousel-control\"&gt;.*?&lt;\/div&gt;/ism"</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token variable">$re</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//缩略图 php code</span>
<span class="token keyword">function</span> <span class="token function">getThumbnailsHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$str</span><span class="token operator">=</span><span class="token single-quoted-string string">'&lt;ul class="thumbnails"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{volist name="article" id="data"}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;li class="span4"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="thumbnail"&gt; &lt;img alt="300x200" src="{$data.faceimg}"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="caption" contenteditable="true"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;h3&gt;{$data.title}&lt;/h3&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;p&gt;{$data.content}&lt;/p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;p&gt;&lt;a class="btn btn-primary" href="#"&gt;浏览&lt;/a&gt; &lt;a class="btn" href="#"&gt;分享&lt;/a&gt;&lt;/p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/li&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{/volist}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/ul&gt;'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//缩略图 regex str</span>
<span class="token keyword">function</span> <span class="token function">getThumbnailsReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$re</span><span class="token operator">=</span><span class="token double-quoted-string string">"/&lt;ul class=\"thumbnails\".*?&gt;.*?&lt;\/ul&gt;/ism"</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token variable">$re</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//概述 php code</span>
<span class="token keyword">function</span> <span class="token function">getUnitHtmlStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$str</span><span class="token operator">=</span><span class="token single-quoted-string string">'{volist name="ad" id="data" offset="0" length=\'1\'}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;div class="hero-unit" contenteditable="true"&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;h1&gt;{$data.title}&lt;/h1&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;p&gt;{$data.content} &lt;/p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;p&gt;&lt;a class="btn btn-primary btn-large" href="#"&gt;参看更多 »&lt;/a&gt;&lt;/p&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'&lt;/div&gt;'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{:arrunset($ad)}'</span><span class="token punctuation">.</span>
    <span class="token single-quoted-string string">'{/volist}'</span> <span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token variable">$str</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//概述 regex str</span>
<span class="token keyword">function</span> <span class="token function">getUnitReStr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token variable">$re</span><span class="token operator">=</span><span class="token double-quoted-string string">"/&lt;div class=\"hero-unit\".*?&gt;.*?&lt;\/div&gt;/ism"</span><span class="token punctuation">;</span> 
    <span class="token keyword">return</span> <span class="token variable">$re</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>使用不同的方法返回不同组件、html代码的正则匹配，替换成所需的带有thinkphp框架语法的html代码，这些代码同样在common文件中。完成替换后由于发现某些字符需要进行替换，编写代码：</p> 
<pre><code class="prism language-php"><span class="token variable">$template</span><span class="token operator">=</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"{eq name=&amp;quot;key&amp;quot; value=&amp;quot;1&amp;quot;}active{/eq}"</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'{eq name="key" value="1"}active{/eq}'</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>完成清洗替换后生成html模板生成危机：</p> 
<pre><code class="prism language-php"><span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'\view\templates\t1.html'</span><span class="token punctuation">,</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>由于是demo，所以位置写死了。<br> 随后访问Autoview控制器下的createcontrol方法（页面没写）：<br> <img src="https://images2.imgbox.com/e2/bd/54TUB4Ns_o.png" alt="在这里插入图片描述"><br> 输入你想要生成的控制器名、方法名，该方法需要绑定数据表中哪些元素，以及绑定的页面路径：<br> <img src="https://images2.imgbox.com/d9/98/2yBbgcNo_o.png" alt="在这里插入图片描述"><br> 输入完成后点击提交，数据将会传到Autoview控制器中的buildcontrol方法中，方法代码如下：</p> 
<pre><code class="prism language-php"><span class="token comment">//控制器生成 方法名及数据库</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">buildcontrol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$request_data</span> <span class="token operator">=</span> Request<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'function'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'function'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'templatepath'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$request_data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'templatepath'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token variable">$controlcode</span><span class="token operator">=</span><span class="token single-quoted-string string">'&lt;?php

        namespace app\admin\controller;
        use think\Controller;
        use think\Db;
        
        class '</span><span class="token punctuation">.</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token single-quoted-string string">' extends AutoviewBase{
        
            public function '</span><span class="token punctuation">.</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'function'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'(){
        
                return $this-&gt;view-&gt;fetch(dirname(dirname(__FILE__)).'</span><span class="token punctuation">.</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'templatepath'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token single-quoted-string string">');
            }
        }'</span><span class="token punctuation">;</span>

        <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'\controller\\'</span><span class="token punctuation">.</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'.php'</span><span class="token punctuation">,</span><span class="token variable">$controlcode</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$res</span> <span class="token operator">=</span> Url_datas<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ReturnCodeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">actionError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>该方法controlcode变量为控制器模板变量，该模板文本可以得知该控制器名称为自定义名称，继承于AutoviewBase基类，方法名也是自定义，模板位置根据指定路径进行输出渲染。最后使用 file_put_contents 进行控制器生成。最后将数据存入到Url_datas模型中，也是Url_datas表中，数据表结构数据如下：<br> <img src="https://images2.imgbox.com/a6/d3/wBQZ2qB9_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b3/59/BNwoaJ0Z_o.png" alt="在这里插入图片描述">我们从控制器生成路径中可以得知，是admin内的控制器，我们访问生成的控制器方法查看效果：</p> 
<p><img src="https://images2.imgbox.com/2b/94/Z6G0TJl0_o.png" alt="在这里插入图片描述"></p> 
<p>数据页面得到显示，这些数据都是数据库中的数据。在创建控制器时，我们在指定数据表及字段时使用的格式内容为如下：</p> 
<pre><code class="prism language-php"><span class="token punctuation">{<!-- --></span>             
<span class="token double-quoted-string string">"banner"</span><span class="token punctuation">:</span><span class="token double-quoted-string string">"id,title,img,content"</span><span class="token punctuation">,</span>            
 <span class="token double-quoted-string string">"article"</span><span class="token punctuation">:</span><span class="token double-quoted-string string">"id,title,content,faceimg"</span><span class="token punctuation">,</span>             
 <span class="token double-quoted-string string">"media"</span><span class="token punctuation">:</span><span class="token double-quoted-string string">"id,src,img,title,content"</span><span class="token punctuation">,</span>             
 <span class="token double-quoted-string string">"ad"</span><span class="token punctuation">:</span><span class="token double-quoted-string string">"id,title,content,img"</span>        
  <span class="token punctuation">}</span>
</code></pre> 
<p>数据指定格式为“数据表”：“字段1,字段2…”，通过在AutoviewBase的前置方法中对该json数据进行解析，AutoviewBase基类如下：</p> 
<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * |-----------------------
 * | 前端页面自定义
 * |-----------------------
 */</span>
<span class="token keyword">namespace</span> <span class="token package">app<span class="token punctuation">\</span>admin<span class="token punctuation">\</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">think<span class="token punctuation">\</span>Db</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AutoviewBase</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token variable">$beforeActionList</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'toview'</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toview</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$head</span><span class="token operator">=</span><span class="token single-quoted-string string">'&lt;link href="/autoview/css/bootstrap-combined.min.css" rel="stylesheet"&gt;
        &lt;link href="/autoview/css/layoutit.css" rel="stylesheet"&gt;
        &lt;!-- Le styles --&gt;
        &lt;link href="/autoview/css/bootstrap-combined.min.css" rel="stylesheet"&gt;
        &lt;link href="/autoview/css/layoutit.css" rel="stylesheet"&gt;
        
        &lt;!-- HTML5 shim, for IE6-8 support of HTML5 elements --&gt;
        &lt;!--[if lt IE 9]&gt;
                &lt;script src="/autoview/js/html5shiv.js"&gt;&lt;/script&gt;
            &lt;![endif]--&gt;
        
            &lt;!-- Fav and touch icons --&gt;
            &lt;link rel="shortcut icon" href="/autoview/img/favicon.png"&gt;
            
            &lt;script type="text/javascript" src="/autoview/js/jquery-2.0.0.min.js"&gt;&lt;/script&gt;
            &lt;!--[if lt IE 9]&gt;
            &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
            &lt;![endif]--&gt;
            &lt;script type="text/javascript" src="/autoview/js/bootstrap.min.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="/autoview/js/jquery-ui.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="/autoview/js/jquery.ui.touch-punch.min.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/js/jquery.htmlClean.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/ckeditor/ckeditor.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/ckeditor/config.js"&gt;&lt;/script&gt;
        &lt;script type="text/javascript" src="/autoview/js/scripts.js"&gt;&lt;/script&gt;'</span><span class="token punctuation">;</span>
        
        <span class="token variable">$con</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$con</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'function'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//by controll and action select rules</span>
        <span class="token variable">$data_rules</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'url_datas'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//get datas</span>
        <span class="token variable">$datas</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$tables</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$data_rules</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$tables</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token variable">$datas</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>
                        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//输出到前端</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$datas</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'head'</span><span class="token punctuation">,</span><span class="token variable">$head</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'\view\templates\t1.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>以上代码中定义了前置操作toview方法，在toview方法中定义了head为头部资源文件，之后使用如下代码获取当前控制器及方法名：</p> 
<pre><code class="prism language-php"><span class="token variable">$con</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'controll'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$con</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'function'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">strtolower</span><span class="token punctuation">(</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>把控制器及方法名当作条件至url_datas数据表中查询所需的数据要求及格式：</p> 
<pre><code class="prism language-php"><span class="token comment">//by controll and action select rules</span>
        <span class="token variable">$data_rules</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'url_datas'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$con</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'desc'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">)</span>
        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>得到了所需数据后，对该数据进行json解析，解析后遍历该数据作为对指定表与数据的查询：</p> 
<pre><code class="prism language-php">		<span class="token variable">$datas</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token variable">$tables</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$data_rules</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'datas'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$tables</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token variable">$datas</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span><span class="token operator">=</span>Db<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span>
                        <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">column</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre> 
<p>之后使用遍历把得到的数据结果输出到前端：</p> 
<pre><code class="prism language-php"> <span class="token comment">//输出到前端</span>
    <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$datas</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">,</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>最后把head传递值前端代码，渲染输出：</p> 
<pre><code class="prism language-php"> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'head'</span><span class="token punctuation">,</span><span class="token variable">$head</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">view</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'\view\templates\t1.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>以上内容准备过于匆忙，只讲解了实现中较为重要的地方，很多优化及细节没有说明，希望下次将会编写一份完全的教程给大家！如有错误欢迎指出，想要深入学习可以关注博主,点赞博主、收藏博文，谢谢~<br> <strong>原创作品@CSDN 1_bit https://blog.csdn.net/A757291228</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba0455ea6b1caac9f2a8a5c7d31d763f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">04-文件IO和标准IO</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d38dec203fc0ce3d556e33a1c3c2ab1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HDU 1024 Max Sum Plus Plus【#1024程序员节#&#43;动态规划】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>