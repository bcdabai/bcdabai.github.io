<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【剑指offer专项突破版】数组篇——“C“ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【剑指offer专项突破版】数组篇——“C“" />
<meta property="og:description" content="文章目录 前言一 . 排序数组中两个数字的和题目分析思路分析法①代码——双指针法②代码——二分查找 二. 数组中和为 0 的三个数题目分析问题转换代码 三. 和大于等于 target 的最短子数组题目分析思路分析代码 四. 乘积小于 K 的子数组题目分析思路分析代码 五. 和为 k 的子数组题目分析思路分析代码 六. 0 和 1 个数相同的子数组题目分析思路分析代码 七. 左右两边子数组的和相等题目分析思路分析代码 八. 二维子矩阵的和题目分析思路分析代码 总结 前言 剑指offer专项突破版（力扣官网）——&gt; 点击进入
本文所属专栏——&gt;点击进入
一 . 排序数组中两个数字的和 题目分析 思路分析 关键：利用好升序数组的特性
思路1：可以利用双指针，一个左下边标，一个右下标，这样比目标数大，就让右下标右移，调小。比目标数小，就让左下标左移，调大。
思路2：固定一个值（可以从左边也可以从右边），那么要找的数就是目标值-这个固定的值，这个固定的值就可以利用二分法进行查找。
法①代码——双指针 int* twoSum(int* numbers, int numbersSize, int target, int* returnSize) { //开辟空间并初始化数组 int *arr = (int*)malloc(sizeof(int)*2); *returnSize = 2; memset(arr,0,sizeof(int)*2); //双指针查找思路 int left = 0; int right = numbersSize - 1; while(left &lt; right) { int sum = numbers[left]&#43;numbers[right]; if(sum &gt; target) { right--; } else if(sum &lt; target) { left&#43;&#43;; } else { arr[0] = left; arr[1] = right; break; } } return arr; } 法②代码——二分查找 int* twoSum(int* numbers, int numbersSize, int target, int* returnSize) { //开辟空间并初始化数组 int *arr = (int*)malloc(sizeof(int)*2); *returnSize = 2; memset(arr,0,sizeof(int)*2); //二分查找思路 for(int i = 0; i &lt; numbersSize; i&#43;&#43;) { //从左边开始 int left = i&#43;1; int right = numbersSize - 1; int mid = (left&#43;right)/2; int Target = target - numbers[i]; int flag = 0; while(left&lt;=right)//这里是可以相等的，因为我要找的是一个数 { if(numbers[mid]&gt;Target) { right = mid - 1; } else if(numbers[mid]&lt;Target) { left = mid &#43; 1; } else { flag = 1; break; } //更新mid mid = (left&#43;right)/2; } if(flag) { arr[0] = i; arr[1] = mid; break; } } return arr; } 二." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b4d7914668de783a1a7f69cf82cd288d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-08T17:33:12+08:00" />
<meta property="article:modified_time" content="2023-06-08T17:33:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【剑指offer专项突破版】数组篇——“C“</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_font_face_colorred_size5_font_5" rel="nofollow">一 .<font face="楷体" color="red" size="5"> 排序数组中两个数字的和</font></a></li><li><ul><li><a href="#_6" rel="nofollow">题目分析</a></li><li><a href="#_8" rel="nofollow">思路分析</a></li><li><ul><li><a href="#_15" rel="nofollow">法①代码——双指针</a></li><li><a href="#_48" rel="nofollow">法②代码——二分查找</a></li></ul> 
  </li></ul> 
  </li><li><a href="#font_face_colorred_size5__0_font_95" rel="nofollow">二.<font face="楷体" color="red" size="5"> 数组中和为 0 的三个数</font></a></li><li><ul><li><a href="#_96" rel="nofollow">题目分析</a></li><li><a href="#_104" rel="nofollow">问题转换</a></li><li><a href="#_116" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#font_face_colorred_size5__target_font_205" rel="nofollow">三.<font face="楷体" color="red" size="5"> 和大于等于 target 的最短子数组</font></a></li><li><ul><li><a href="#_207" rel="nofollow">题目分析</a></li><li><a href="#_213" rel="nofollow">思路分析</a></li><li><a href="#_222" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#font_face_colorred_size5__K_font_247" rel="nofollow">四.<font face="楷体" color="red" size="5"> 乘积小于 K 的子数组</font></a></li><li><ul><li><a href="#_248" rel="nofollow">题目分析</a></li><li><a href="#_257" rel="nofollow">思路分析</a></li><li><a href="#_273" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#font_face_colorred_size5__k_font_300" rel="nofollow">五.<font face="楷体" color="red" size="5"> 和为 k 的子数组</font></a></li><li><ul><li><a href="#_301" rel="nofollow">题目分析</a></li><li><a href="#_308" rel="nofollow">思路分析</a></li><li><a href="#_313" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#font_face_colorred_size5_0__1_font_383" rel="nofollow">六.<font face="楷体" color="red" size="5"> 0 和 1 个数相同的子数组</font></a></li><li><ul><li><a href="#_384" rel="nofollow">题目分析</a></li><li><a href="#_391" rel="nofollow">思路分析</a></li><li><a href="#_395" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#font_face_colorred_size5_font_481" rel="nofollow">七.<font face="楷体" color="red" size="5"> 左右两边子数组的和相等</font></a></li><li><ul><li><a href="#_482" rel="nofollow">题目分析</a></li><li><a href="#_493" rel="nofollow">思路分析</a></li><li><a href="#_501" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#_font_face_colorred_size5_font_532" rel="nofollow">八. <font face="楷体" color="red" size="5"> 二维子矩阵的和</font></a></li><li><ul><li><a href="#_533" rel="nofollow">题目分析</a></li><li><a href="#_542" rel="nofollow">思路分析</a></li><li><a href="#_553" rel="nofollow">代码</a></li></ul> 
  </li><li><a href="#_626" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>前言</h2> 
<blockquote> 
 <p><strong>剑指offer专项突破版（力扣官网）</strong>——&gt; <a href="https://leetcode.cn/studyplan/coding-interviews-special/" rel="nofollow">点击进入</a><br> <strong>本文所属专栏</strong>——&gt;<a href="https://blog.csdn.net/shun_hua/category_12338032.html?spm=1001.2014.3001.5482">点击进入</a></p> 
</blockquote> 
<h2><a id="_font_face_colorred_size5_font_5"></a>一 .<font face="楷体" color="red" size="5"> 排序数组中两个数字的和</font></h2> 
<h3><a id="_6"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/97/33/yi4mVMOa_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_8"></a>思路分析</h3> 
<blockquote> 
 <p>关键：利用好升序数组的特性<br> 思路1：可以利用双指针，一个左下边标，一个右下标，这样比目标数大，就让右下标右移，调小。比目标数小，就让左下标左移，调大。<br> 思路2：固定一个值（可以从左边也可以从右边），那么要找的数就是目标值-这个固定的值，这个固定的值就可以利用二分法进行查找。</p> 
</blockquote> 
<h4><a id="_15"></a>法①代码——双指针</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> numbers<span class="token punctuation">,</span> <span class="token keyword">int</span> numbersSize<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//开辟空间并初始化数组</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//双指针查找思路</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> right <span class="token operator">=</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>numbers<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">&gt;</span> target<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            right<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sum <span class="token operator">&lt;</span> target<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> right<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_48"></a>法②代码——二分查找</h4> 
<pre><code class="prism language-c"><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> numbers<span class="token punctuation">,</span> <span class="token keyword">int</span> numbersSize<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//开辟空间并初始化数组</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//二分查找思路</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numbersSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//从左边开始</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> Target <span class="token operator">=</span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span><span class="token comment">//这里是可以相等的，因为我要找的是一个数</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&gt;</span>Target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token operator">&lt;</span>Target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
                flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//更新mid</span>
            mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> mid<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5__0_font_95"></a>二.<font face="楷体" color="red" size="5"> 数组中和为 0 的三个数</font></h2> 
<h3><a id="_96"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/c0/bf/vlWQsBN9_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>1.返回值——<mark>二维数组——元素为三个元素的数组</mark><br> 2.要求——<mark>找到三个不一样(下标)的数，使之相加等于0</mark>。<br> 3.关键——<mark>返回的二维数组中的元素不能重复。</mark></p> 
</blockquote> 
<h3><a id="_104"></a>问题转换</h3> 
<p> 要求是<strong>nums[i] + nums[j] + nums[k] == 0</strong>,那我们转换一下求满足 <strong>nums[j] + nums[k] == -nums[i]</strong> ，这样眼熟吗？不就是<strong>升序数组中两个数字和等于target</strong>吗？但是这个target也在数组中，于是我们要固定taget，然后再求这两个数，如何求呢？因为是升序数组，所以我们要<strong>先对数组进行排序</strong>。然后<strong>遍历数组依次取target</strong>，target固定一个边界，那么剩余的另一边的元素，就是我们用双指针的进行找两个元素的范围了。<br>  剩下有两个细节，第一个——开空间直接开够，这里的的空间开够指的就是所有的可能性之和——从一个数组中选3个元素，不按顺序，有多少种排法？设数组的元素是size，利用高中知识，<strong>(size)*(size-1)/(3*2)就为所有可能性，因此我们至少要开这么大的空间</strong>;第二个——如何避免重复的三元组，那我们就要想到，为啥会产生重复的三元组？因为有重复的元素，那答案就是跳过重复的元素即可。</p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>第一步：<mark>对数组进行排序——qsort的使用</mark><br> 第二步: <mark>开辟一个二维数组——空间足够</mark><br> 第三步：<mark>进行遍历取target并确定边界</mark>。<br> 第四步：找值，找到存储——在一个三个元素的一维数组中。<br> 第五步：调整值。<br> 第六步：返回的一维数组初始化。</p> 
</blockquote> 
<h3><a id="_116"></a>代码</h3> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> e1<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">*</span> e2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">*</span>e1 <span class="token operator">-</span> <span class="token operator">*</span>e2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">threeSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> returnColumnSizes<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//首先说明的是：returnColumnSizes是指向一维数组的指针的指针，</span>
	<span class="token comment">//因为要修改指针的指向，所以要传进去二级指针！</span>
	
    <span class="token comment">//第一步——将数组进行排序——升序</span>
    <span class="token function">qsort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span>numsSize<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span>my_cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//第二步——将开辟一个二维数组</span>

    <span class="token comment">//分析:</span>
    <span class="token comment">//一次一次开的效耗比较大——realloc</span>
    <span class="token comment">//因此可以一下子把空间开够——那么数组中三个成组的所有可能性就为</span>
    <span class="token comment">//——从numsSize中选3个不排序</span>
    <span class="token comment">//因此为——numsSize*(numsSize-1)/(3*2*1)</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> numsSize<span class="token operator">*</span><span class="token punctuation">(</span>numsSize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>arr <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//*returnSize表示有多少行</span>
    <span class="token keyword">int</span> cur_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//第三步——查找指定的数字</span>
    
    <span class="token comment">//分析:</span>
    <span class="token comment">//根据nums[i]+nums[j]+nums[k]==0——&gt;-nums[i] = nums[j]+nums[k]</span>
    <span class="token comment">//-nums[i]为固定的值，那么我们找的就是 nums[j]+nums[k] = -nums[i]</span>
    <span class="token comment">//说明：这里的numsize-2说的是最后剩下两个元素就不用进去了，没必要。</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>numsSize<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//这是要找的条件</span>
        <span class="token keyword">int</span>  target <span class="token operator">=</span> <span class="token operator">-</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">//双指针进行查找</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> numsSize<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token comment">//printf("hehe");</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token operator">+</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&gt;</span>target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                right<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//调小</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">&lt;</span>target<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                left<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//调大</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//找到了</span>
                <span class="token keyword">int</span> va_l <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> va_r <span class="token operator">=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">//开辟一个一维数组进行存储</span>
                <span class="token keyword">int</span> <span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
                tmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token comment">//printf("%d",tmp[0]);</span>
                arr<span class="token punctuation">[</span>cur_size<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
                <span class="token operator">*</span>returnSize <span class="token operator">=</span> cur_size<span class="token punctuation">;</span>
                <span class="token comment">//调整部分</span>
                <span class="token comment">//因为可能有重复多个，原因是存在相等的值，所以如果有要跳过</span>
                <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token operator">&amp;&amp;</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token operator">==</span>va_r<span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    right<span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//这里的left可以不用动，因为只要一个动了，就会导致最后的sum</span>
                <span class="token comment">//也会变，之后的循环就会导致left也跟着变。</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> va_i <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//跳过target的相等的元素。</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>numsSize<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>va_i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            i<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//至少进一次循环。</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>returnColumnSizes<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">(</span><span class="token operator">*</span>returnColumnSizes<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5__target_font_205"></a>三.<font face="楷体" color="red" size="5"> 和大于等于 target 的最短子数组</font></h2> 
<p><img src="https://images2.imgbox.com/53/9b/vXH47ZkB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_207"></a>题目分析</h3> 
<blockquote> 
 <p>1.数据格式——正整数，<mark>累加必定递增</mark><br> 2.要求——找到最小长度的连续子数组<br> 3.返回——如果最小长度不存在，返回0，存在，则将最小长度返回。</p> 
</blockquote> 
<h3><a id="_213"></a>思路分析</h3> 
<p> 既然是累加递增，那就先累加，让其保持增长的趋势，如果大于target，那么就要判断这时的长度是否为<strong>当前</strong>最小的长度，如果是更新最小长度，然后继续找，怎么继续？那就让数组的左边元素不断的减，直到小于target即可。然后再进行上面的这一个动作，加直到大于target，然后再判断，再减。这样直到遍历完即可。</p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>第一步：确定两个边界，左边界和右边界。<br> 第二步：让右边界一直增，直到大于判断，再更新左边界。<br> 第三步：返回最小的长度即可。</p> 
</blockquote> 
<h3><a id="_222"></a>代码</h3> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">minSubArrayLen</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> min_len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        sum<span class="token operator">+=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//这里的left==right时，是当right与left之间只有一个数字时的情况判断。</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>sum<span class="token operator">&gt;=</span>target<span class="token operator">&amp;&amp;</span>left<span class="token operator">&lt;=</span>right<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> len <span class="token operator">=</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token comment">//这需要注意的是当min_len == 0时也得进去。</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>min_len <span class="token operator">&gt;</span> len <span class="token operator">||</span> min_len <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                min_len <span class="token operator">=</span> len<span class="token punctuation">;</span> 
            <span class="token punctuation">}</span>
            sum<span class="token operator">-=</span>nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> min_len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5__K_font_247"></a>四.<font face="楷体" color="red" size="5"> 乘积小于 K 的子数组</font></h2> 
<h3><a id="_248"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/8d/c4/mF7MY3jY_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结：</li></ul> 
<blockquote> 
 <p>1.数据格式——正整数数组——<mark>累乘的趋势是递增的</mark>。<br> 2.要求——求出<mark>小于k</mark>的<mark>连续</mark>子数组的个数。<br> 3.返回值——连续的的<mark>子数组的个数</mark>。</p> 
</blockquote> 
<h3><a id="_257"></a>思路分析</h3> 
<p> 既然是累乘的趋势也是递增的，那我们当小于k时，求出连续的子数组的个数不就行了，当大于k时，就当乘积除以左边的边界，直到小于就跳出循环，但是<strong>怎么求连续的子数组的个数呢</strong>？我们可以这样想，假如有数组中有前n个数的乘积都小于k，再增加1个数的之后的乘积还小于k，这时新增的连续的子数组的个数怎么求呢，不就是n+1或者说数组的长度吗？怎么算的呢？<br> 举个简单的例子：</p> 
<table><thead><tr><th>当前数组</th><th>新增数组</th><th>新增的连续子数组</th></tr></thead><tbody><tr><td>[1 , 2]</td><td>[1,2,3]</td><td>[3],  [2,3], [1, 2,3]</td></tr></tbody></table> 
<p>看懂了吗？<font face="楷体" color="red" size="4"> <strong>从最后一个数往前数有几个数就新增了几个子数组</strong>。</font><br> 于是我们<strong>只需求每次新增了几个子数组即可</strong>。</p> 
<hr> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>第一步：求乘积，定义左边界与右边界——都从0下标开始<br> 第二步：当大于k时，就调整到小于k<br> 第三步: 当小于k时，就计算<mark>新增</mark>的子数组。<br> 第四步：循环结束，返回子数组的个数。</p> 
</blockquote> 
<h3><a id="_273"></a>代码</h3> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">numSubarrayProductLessThanK</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//乘积</span>
    <span class="token keyword">int</span> sum_product <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">//子数组的个数</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//左边界</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        sum_product<span class="token operator">*=</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//判断是否大于k,并且需注意前提left&lt;=right</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token operator">&lt;=</span>right<span class="token operator">&amp;&amp;</span>sum_product<span class="token operator">&gt;=</span>k<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            sum_product<span class="token operator">/=</span>nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//这里sum_product必定小于target，因此只需计算新增的个数即可</span>
        count<span class="token operator">+=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//注意：当left -1 == right-&gt; right-left +1 ==0 时，</span>
        <span class="token comment">//——刚好新增的个数为0。</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5__k_font_300"></a>五.<font face="楷体" color="red" size="5"> 和为 k 的子数组</font></h2> 
<h3><a id="_301"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/06/c6/7xK6dKxq_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>1.数据格式——整数——<mark>累加的趋势不确定</mark>，因此<mark>无法用双指针</mark>进行解题。<br> 2.要求——找到<mark>和为k</mark>的<mark>连续</mark>的子数组。<br> 3.返回——符合要求的子数组的<mark>个数</mark>。</p> 
</blockquote> 
<h3><a id="_308"></a>思路分析</h3> 
<p> 既然无法用双指针，就只能暴力求解了吗？很显然暴力求解是行不通的，如果，有这样一种方法，如果直到前n个数字的和——sum，那么如果前n个数中的第1到j个数相加满足sum-k，那么从第j+1个数到第n个数就是我们要求的k了，那么sum-k出现的次数就是我们要求得的子数组的个数。<br> 图解：<br> <img src="https://images2.imgbox.com/ba/67/alcBMeJ8_o.png" alt="在这里插入图片描述"><br> 如果我们有这样的一个数组，可以存储sum-k出现的次数，然后通过sun-k找到次数，再加上就可以了，当我们边找边存的时候，就可以忽略一个条件，下标的比较。因此我们需要一个哈希表，键值(下标)是sum-k,找的是sum-k出现的次数。</p> 
<h3><a id="_313"></a>代码</h3> 
<p>~这里手搓了一个简单的哈希表，虽然能过，但是效率很低。这里以后会补充其它解法的。</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">HashNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> count<span class="token punctuation">;</span><span class="token comment">//次数</span>
	<span class="token keyword">struct</span> <span class="token class-name">HashNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>HN<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">Hash_Key</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x<span class="token operator">+</span><span class="token number">200000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">find_key</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">Hash_Key</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    HN <span class="token operator">*</span> judge <span class="token operator">=</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>judge<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>judge<span class="token punctuation">)</span><span class="token operator">-&gt;</span>count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PushBack</span><span class="token punctuation">(</span>HN <span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    HN<span class="token operator">*</span> NewNode <span class="token operator">=</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    NewNode<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    NewNode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        NewNode<span class="token operator">-&gt;</span>count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>NewNode<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        HN<span class="token operator">*</span> cur <span class="token operator">=</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">(</span>cur<span class="token operator">-&gt;</span>count<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">free</span><span class="token punctuation">(</span>NewNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//最后销毁一下,偷个懒，知道就行</span>
<span class="token keyword">void</span> <span class="token function">Destory</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">subarraySum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    HN <span class="token operator">*</span><span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">30000001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">30000001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//首先计算和并存入表中</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        sum<span class="token operator">+=</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        target <span class="token operator">=</span> sum<span class="token operator">-</span>k<span class="token punctuation">;</span>
        <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">find_key</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>target<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>k<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        count<span class="token operator">+=</span>ret<span class="token punctuation">;</span>
        <span class="token function">PushBack</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token function">Hash_Key</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里要最后再插入，避免影响</span>
    <span class="token punctuation">}</span>
    <span class="token function">Destory</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5_0__1_font_383"></a>六.<font face="楷体" color="red" size="5"> 0 和 1 个数相同的子数组</font></h2> 
<h3><a id="_384"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/e4/15/rDiP1YIJ_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>1.数据格式——0 1<br> 2.要求——找到相同数量的0和1的最长连续的子数组<br> 3.返回要求——返回符合要求的子数组的长度。</p> 
</blockquote> 
<h3><a id="_391"></a>思路分析</h3> 
<p> 将题目转换为，数组相加等于0的子数组的最长的长度。也就是将第五题的思路移到下面，不过需要注意的是，键值虽然还是和，但是里面的值可是<strong>最小的下标</strong>。</p> 
<h3><a id="_395"></a>代码</h3> 
<p>~这里也是手搓的一个简单的哈希表，不过跟上面不同的是，这里只需有一个下标即可，如果原来的位置有就看是不是最小的，如果不是最小的，那就更新下标值。</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">HashNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token comment">//下标位置</span>
	<span class="token keyword">struct</span> <span class="token class-name">HashNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
<span class="token punctuation">}</span>HN<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">Hash_Key</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x<span class="token operator">+</span><span class="token number">100000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">find_key</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">,</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token function">Hash_Key</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    HN <span class="token operator">*</span> judge <span class="token operator">=</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>judge<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> smaller <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    HN<span class="token operator">*</span> cur <span class="token operator">=</span> arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>i<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        smaller <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> smaller<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">PushBack</span><span class="token punctuation">(</span>HN <span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">,</span><span class="token keyword">int</span> key<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    HN<span class="token operator">*</span> NewNode <span class="token operator">=</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    NewNode<span class="token operator">-&gt;</span>i <span class="token operator">=</span> index<span class="token punctuation">;</span>
    NewNode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        arr<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>NewNode<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//因为是index是递增的，所以不需要再进行判断了，直接free即可</span>
    <span class="token comment">// else</span>
    <span class="token comment">// {<!-- --></span>
    <span class="token comment">//     HN* cur = arr[key];</span>
    <span class="token comment">//     if(index&lt;cur-&gt;i)</span>
    <span class="token comment">//     {<!-- --></span>
    <span class="token comment">//         cur-&gt;i = index;</span>
    <span class="token comment">//     }</span>
    <span class="token comment">// }</span>
    <span class="token function">free</span><span class="token punctuation">(</span>NewNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//最后销毁一下</span>
<span class="token keyword">void</span> <span class="token function">Destory</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">findMaxLength</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    HN <span class="token operator">*</span><span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">200001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HN<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">200001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> max_len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        target <span class="token operator">=</span> sum<span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token function">find_key</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>target<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> len <span class="token operator">=</span> i<span class="token operator">-</span>left<span class="token punctuation">;</span><span class="token comment">//左开右闭</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">&gt;</span>max_len<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                max_len <span class="token operator">=</span> len<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            max_len <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//这里要最后再插入，避免影响</span>
        <span class="token function">PushBack</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token function">Hash_Key</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">Destory</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> max_len<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="font_face_colorred_size5_font_481"></a>七.<font face="楷体" color="red" size="5"> 左右两边子数组的和相等</font></h2> 
<h3><a id="_482"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/66/a5/2rL3fgBi_o.png" alt="在这里插入图片描述"><br> 中心下标示例：<br> <img src="https://images2.imgbox.com/d2/a2/nQkBvH3h_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>1.数据格式——整数<br> 2.要求——求最左边的的中心下标<br> 3.返回值——如果不存在返回-1，否则返回符合要求的中心下标<br> 4.特殊情况：如果在最左边，那么其左边元素之和视为0。右边同理。</p> 
</blockquote> 
<h3><a id="_493"></a>思路分析</h3> 
<p> 首先暴力求解不可取，那么如何求解呢？根据中心下标左边之和等于右边之和，很显然<strong>右边之和</strong>又<strong>等于</strong> <strong>整体之和</strong>减去<strong>左边之和</strong>与<strong>中心下标元素之和</strong>。那么我们只需要遍历一遍数组求出前n个数字的和，再运用前n个数字的和遍历数组利用上面的条件即可求解。</p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>第一步：求出前n个数字的和。<br> 第二步：定义sum（左边之和加上中心下标元素）变量，循环遍历数组。<br> 第三步：利用条件判断是否相等，相等则跳出循环，否则继续遍历。<br> 第四步：返回中心下标。</p> 
</blockquote> 
<h3><a id="_501"></a>代码</h3> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">pivotIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> tar_index <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">//求前n个数字之和</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    
    <span class="token keyword">int</span> cur_sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//就等于左边的和 + 中心下标</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cur_sum <span class="token operator">+=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//左边的和</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> cur_sum <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//右边的和</span>
        <span class="token keyword">int</span> right <span class="token operator">=</span> sum <span class="token operator">-</span> cur_sum<span class="token punctuation">;</span> 
        <span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">==</span> left<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
             tar_index <span class="token operator">=</span> i<span class="token punctuation">;</span>
             <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tar_index<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_font_face_colorred_size5_font_532"></a>八. <font face="楷体" color="red" size="5"> 二维子矩阵的和</font></h2> 
<h3><a id="_533"></a>题目分析</h3> 
<p><img src="https://images2.imgbox.com/3f/26/hyZ8CT1r_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结</li></ul> 
<blockquote> 
 <p>要求：<br> 1.完成对二维数组——存放在结构体中的初始化<br> 2.完成图中的求和工作<br> 3.对结构体的空间进行释放</p> 
</blockquote> 
<h3><a id="_542"></a>思路分析</h3> 
<p> 首先开门见山，关键在于求和工作，其它的没那么难，不用想了暴力求解肯定不行，那咋求？<br> 图解：<br> <img src="https://images2.imgbox.com/3b/05/5V7uEXoM_o.png" alt="在这里插入图片描述"><br> 补充：如何求(0,0)到(i,j)的长度，比如一个数组是这样的。<br> <img src="https://images2.imgbox.com/a6/09/PvmbTBLz_o.png" alt="在这里插入图片描述"></p> 
<ul><li>总结：</li></ul> 
<blockquote> 
 <p>1.开辟一个求和数组（存放求和结果）——比原来的要求和的数组多上1行1列<br> 2.利用求和公式求解即可。</p> 
</blockquote> 
<h3><a id="_553"></a>代码</h3> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>arr<span class="token punctuation">;</span>
    <span class="token keyword">int</span> matrix<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>matrixColSize<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>sum<span class="token punctuation">;</span>

<span class="token punctuation">}</span> NumMatrix<span class="token punctuation">;</span>


NumMatrix<span class="token operator">*</span> <span class="token function">numMatrixCreate</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> matrix<span class="token punctuation">,</span> <span class="token keyword">int</span> matrixSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> matrixColSize<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//一行含有多少个元素</span>
    <span class="token keyword">int</span> colsize <span class="token operator">=</span> matrixColSize<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    NumMatrix<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>NumMatrix<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>NumMatrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    tmp<span class="token operator">-&gt;</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span>matrixSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tmp<span class="token operator">-&gt;</span>matrix <span class="token operator">=</span> matrixSize<span class="token punctuation">;</span>
    tmp<span class="token operator">-&gt;</span>matrixColSize <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>matrixSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

    tmp<span class="token operator">-&gt;</span>sum <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>matrixSize<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//首先要开辟一行</span>
    <span class="token keyword">int</span> <span class="token operator">*</span> col <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>colsize<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>colsize<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>sum<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> col<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matrixSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>matrixColSize<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> colsize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//进行初始化，并完成求和工作</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matrixSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">int</span> <span class="token operator">*</span> col_sum <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>colsize<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">memset</span><span class="token punctuation">(</span>col_sum<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>colsize<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> <span class="token operator">*</span> col <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span>colsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//定义求和变量</span>
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> colsize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//完成累加操作</span>
            sum<span class="token operator">+=</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//完成赋值操作</span>
            col<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">//完成求和操作</span>
            col_sum<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> sum <span class="token operator">+</span> <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>sum<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
        <span class="token comment">//完成赋值</span>
        <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> col<span class="token punctuation">;</span>
        <span class="token punctuation">(</span>tmp<span class="token operator">-&gt;</span>sum<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> col_sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">numMatrixSumRegion</span><span class="token punctuation">(</span>NumMatrix<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> row1<span class="token punctuation">,</span> <span class="token keyword">int</span> col1<span class="token punctuation">,</span> <span class="token keyword">int</span> row2<span class="token punctuation">,</span> <span class="token keyword">int</span> col2<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>arr <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>sum<span class="token punctuation">;</span>
    <span class="token comment">//arr[row2][col2]-arr[row1-1][col2]-arr[row2][col1-1]+arr[row1-1][col1-1]-在此基础上加一即可</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> arr<span class="token punctuation">[</span>row2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>\
    <span class="token operator">-</span>arr<span class="token punctuation">[</span>row1<span class="token punctuation">]</span><span class="token punctuation">[</span>col2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>arr<span class="token punctuation">[</span>row2<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col1<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>row1<span class="token punctuation">]</span><span class="token punctuation">[</span>col1<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">numMatrixFree</span><span class="token punctuation">(</span>NumMatrix<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>arr <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>arr<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>sum <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>sum<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span> col <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>matrixColSize<span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_626"></a>总结</h2> 
<ul><li>前四道题，可以说是将双指针的用法展现的淋漓尽致。</li><li>第五道和第六道大同小异，不过都是得用哈希表存储，这样的效率会高一些。</li><li>第七道和第八道的思路雷同，不过是一维到二维而已。</li><li>第五道到第八道的解题思路很相似，可以说都跟求和有关，但是对求和的使用场景却不一样。</li><li>有些题看起来不一样，但是可以奇妙的转换成相同的思路，这就是灵活运用！</li></ul> 
<p><mark>最后希望这篇文章对您有所帮助！</mark></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/06ee7f3afde66542aebce087254e7545/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">POSTGRESQL远程连接报错： FATAL: no pg_hba.conf entry for host</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b703b870196e6228e8f6408f11dc72b8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker篇-生成MYSQL和REDIS容器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>