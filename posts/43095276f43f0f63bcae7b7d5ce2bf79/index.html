<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【计算机网络】中小型校园网构建与配置 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【计算机网络】中小型校园网构建与配置" />
<meta property="og:description" content="拓扑图配置文件传送门 Packet Tracer-中小型校园网配置布局文件文件
相关文章 【计算机网络】IP协议及动态路由算法
【计算机网络】Socket通信编程与传输协议分析
【计算机网络】网络应用通信基本原理
原理 1. Network 广域网，WAN Wide Area Network；城域网，Metroplitan Area Network；局域网，LAN Local Area Network。 Public IP，直接连入 Internet；Private IP，不连入 Internet，只能使用 NAT 网络地址转换 访问互联网。Private IP 要被互联网访问，可使用端口转换(NAT)技术。NAT 转换示意图如图 1 所示。
2. VLAN VLAN(Virtual Local Area Network)虚拟局域网是由一些局域网网段构成的与物理位置无 关的逻辑组。每一个 VLAN 的帧都有一个明确的标识符，指明发送这个帧的工作站是属于 哪一个 VLAN。可流量隔离(traffic isolation)，并减少广播数量。
3. 无线和蜂窝网络 WLAN/WiFi，IEEE 802.11 WirelessLAN，也称 WiFi，是一种较小范围的接入网技术， 802.11 基本构建模块为基本服务集（Basic Service Set, BSS），一个 BSS 包括多个无线站点和 一个接入点（Access Point, AP, 中央基站）。
过程与结果 1. 拓扑设计 设计一个由 NAT 网关连接内外网的简单的网络拓扑图。NAT 网关用一台 2911 路由器充当。内网用一台交换机连接多台主机构成一个 LAN，内设一台 Web 服务器和一台 DHCP服务器（两台服务器可以在同一主机上实现），有一台无线 AP，多台主机（包括使用 Wi-Fi连接的平板电脑和智能手机）。外网上至少有一台 Web 服务器和一台主机。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/43095276f43f0f63bcae7b7d5ce2bf79/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T15:54:39+08:00" />
<meta property="article:modified_time" content="2024-01-24T15:54:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【计算机网络】中小型校园网构建与配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="margin-left:0px;text-align:justify;">拓扑图配置文件传送门</h4> 
<p><a class="link-info" href="https://download.csdn.net/download/linghyu/88778205" title="Packet Tracer-中小型校园网配置布局文件文件">Packet Tracer-中小型校园网配置布局文件文件</a></p> 
<h4 style="margin-left:0px;text-align:justify;">相关文章</h4> 
<p><a class="link-info" href="https://blog.csdn.net/linghyu/article/details/135819115?spm=1001.2014.3001.5501" title="【计算机网络】IP协议及动态路由算法">【计算机网络】IP协议及动态路由算法</a></p> 
<p><a class="link-info" href="https://blog.csdn.net/linghyu/article/details/135766454?spm=1001.2014.3001.5501" title="【计算机网络】Socket通信编程与传输协议分析">【计算机网络】Socket通信编程与传输协议分析</a></p> 
<p><a class="link-info" href="https://blog.csdn.net/linghyu/article/details/135765681?spm=1001.2014.3001.5501" title="【计算机网络】网络应用通信基本原理">【计算机网络】网络应用通信基本原理</a></p> 
<p></p> 
<p></p> 
<h4 style="margin-left:0px;text-align:justify;"><strong>原理</strong></h4> 
<p style="margin-left:0;text-align:justify;">1. Network 广域网，WAN Wide Area Network；城域网，Metroplitan Area Network；局域网，LAN Local Area Network。 Public IP，直接连入 Internet；Private IP，不连入 Internet，只能使用 NAT 网络地址转换 访问互联网。Private IP 要被互联网访问，可使用端口转换(NAT)技术。NAT 转换示意图如图 1 所示。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="599" src="https://images2.imgbox.com/c6/52/Osdktqvc_o.png" width="1200"></p> 
<p style="margin-left:0;text-align:justify;">2. VLAN VLAN(Virtual Local Area Network)虚拟局域网是由一些局域网网段构成的与物理位置无 关的逻辑组。每一个 VLAN 的帧都有一个明确的标识符，指明发送这个帧的工作站是属于 哪一个 VLAN。可流量隔离(traffic isolation)，并减少广播数量。</p> 
<p style="margin-left:0;text-align:justify;">3. 无线和蜂窝网络 WLAN/WiFi，IEEE 802.11 WirelessLAN，也称 WiFi，是一种较小范围的接入网技术， 802.11 基本构建模块为基本服务集（Basic Service Set, BSS），一个 BSS 包括多个无线站点和 一个接入点（Access Point, AP, 中央基站）。</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h4 style="margin-left:0px;text-align:justify;"><strong>过程与结果</strong></h4> 
<h5 style="margin-left:0px;text-align:justify;"><strong>1. </strong><strong>拓扑设计</strong></h5> 
<p style="margin-left:0;text-align:justify;">设计一个由 NAT 网关连接内外网的简单的网络拓扑图。NAT 网关用一台 2911 路由器充当。内网用一台交换机连接多台主机构成一个 LAN，内设一台 Web 服务器和一台 DHCP服务器（两台服务器可以在同一主机上实现），有一台无线 AP，多台主机（包括使用 Wi-Fi连接的平板电脑和智能手机）。外网上至少有一台 Web 服务器和一台主机。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="1200" src="https://images2.imgbox.com/77/2b/GiI0t3Zy_o.png" width="1200"></p> 
<h5 style="margin-left:0px;text-align:justify;"><strong>2. IP </strong><strong>地址规划与设计</strong></h5> 
<p style="margin-left:0;text-align:justify;">内网地址采用 192.168.1.0/24，外网采用公网地址 202.118.1.0/24</p> 
<p style="margin-left:0;text-align:justify;">内外网路由器之间的连接用 IP 地址 202.118.0.1 和 202.118.0.2，其中 202.118.0.1 是 NAT网关的公（外）网口地址。</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="322" src="https://images2.imgbox.com/f7/91/p8yKA2Cd_o.png" width="468"></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="317" src="https://images2.imgbox.com/df/4e/j0WT2nI6_o.png" width="462"></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="367" src="https://images2.imgbox.com/b2/e0/nACQXvAT_o.png" width="465"></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="366" src="https://images2.imgbox.com/da/9a/uc7PSk7N_o.png" width="464"></p> 
<h5 style="margin-left:0px;text-align:justify;"><strong>3. </strong><strong>主机及服务器配置 </strong></h5> 
<p style="margin-left:0;text-align:justify;">(1) 内网上的服务器使用固定 IP 地址，其他主机使用自动获取。</p> 
<p style="margin-left:0;text-align:justify;">Server1 的 IP 地址配置(静态分配)：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="374" src="https://images2.imgbox.com/09/ed/kgAhLYg2_o.png" width="432"></p> 
<p style="margin-left:0;text-align:justify;">PC0 上的 IP 地址配置(自动获取)：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="292" src="https://images2.imgbox.com/b3/a7/wfXsqBCl_o.png" width="439"></p> 
<p style="margin-left:0;text-align:justify;">内网上的无线 AP 和无线终端设置访问密码</p> 
<p style="margin-left:0;text-align:justify;">对无线 AP 进行访问密码配置：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="400" src="https://images2.imgbox.com/e3/af/p5v9qcgk_o.png" width="408"></p> 
<p style="margin-left:0;text-align:justify;">对平板电脑进行访问密码配置：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="308" src="https://images2.imgbox.com/6b/3f/j9uXAiW9_o.png" width="460"></p> 
<p style="margin-left:0;text-align:justify;">对手机进行访问密码配置：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="311" src="https://images2.imgbox.com/26/81/fFESJZcO_o.png" width="486"></p> 
<p style="margin-left:0;text-align:justify;">外网上的服务器和主机使用固定 IP 地址，配置方法与内网类似。</p> 
<p style="margin-left:0;text-align:justify;">对内网上的服务器进行 Web 和 DHCP 服务进行配置；对外网上的服务器进行 Web 服务进行配置。</p> 
<p style="margin-left:0;text-align:justify;">配置 WWW 服务器，内外网页面修改成自己的相关信息：</p> 
<p class="img-center"><img alt="" height="338" src="https://images2.imgbox.com/d9/18/bLZNZh8C_o.png" width="493"></p> 
<p class="img-center"><img alt="" height="346" src="https://images2.imgbox.com/9c/6d/55CH3rhJ_o.png" width="537"></p> 
<p style="margin-left:0;text-align:justify;">配置 DHCP 服务器：</p> 
<p class="img-center"><img alt="" height="348" src="https://images2.imgbox.com/b9/bd/WjRZgmqj_o.png" width="544"></p> 
<p class="img-center"><img alt="" height="355" src="https://images2.imgbox.com/7b/4c/J8lFP7Ur_o.png" width="555"></p> 
<h5 style="margin-left:0px;text-align:justify;"></h5> 
<h5 style="margin-left:0px;text-align:justify;"><strong>4. </strong><strong>对路由器及主机进行相关配置</strong></h5> 
<p style="margin-left:0;text-align:justify;">将路由器 R0 配置成 NAT 网关（使用 NAPT 模式，使内网共享一个公网地址，允许内网上的所有主机均可访问外网，路由器配置成 NAT 网关（使用 NAPT 模式）</p> 
<pre><code>Router&gt;en ;进入特权模式
Router#conf t ;进入全局配置模式
Enter configuration commands, one per line. End with CNTL/Z.
Router(config)#int g0/0 ;准备配置 G0/0
Router(config-if)#ip addr 192.168.1.1 255.255.255.0 ;分配 IP 地址
Router(config-if)#no shutdown ;启用接口
Router(config-if)#exit
Router(config)#int g0/1 ;准备配置 G0/1
Router(config-if)#ip addr 202.118.0.1 255.255.255.0 ;分配 IP 地址
Router(config-if)#no shutdown ;启用接口
Router(config-if)#exit
Router(config)#ip route 202.118.1.0 255.255.255.0 202.118.0.2 ;配置静态路由
Router(config)#exit
Router#wr
Router#conf t ;进入全局配置模式
Enter configuration commands, one per line. End with CNTL/Z.
Router(config)#access-list 1 permit 192.168.1.0 0.0.0.255 ;允许所有 IP 都进行转换
Router(config)#ip nat inside source list 1 interface G0/1 overload ;配置 NAPT
Router(config)#int G0/0 ; 配置 G0/0 为内网口
Router(config-if)#ip nat inside
Router(config-if)#exit
Router(config)#int G0/1 ; 配置 G0/1 为外网口
Router(config-if)#ip nat outside
Router(config-if)#end
Router#
Router#wr
</code></pre> 
<p style="margin-left:0;text-align:justify;">配置过程如下：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="457" src="https://images2.imgbox.com/34/b6/fhDoW6HL_o.png" width="526"></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="501" src="https://images2.imgbox.com/33/51/DfYgs8Uk_o.png" width="536"></p> 
<h5 style="margin-left:0px;text-align:justify;"></h5> 
<h5 style="margin-left:0px;text-align:justify;"><strong>5. </strong><strong>用 ping 命令进行连通性测试</strong></h5> 
<p style="margin-left:0;text-align:justify;">先在各主机上查看自己的 IP 地址，以确认已从 DHCP 获取正确的 IP 地址和默认网关地址或正确手动配置正确的 IP 地址和默认网关地址。</p> 
<p style="margin-left:0;text-align:justify;">在内网的各主机上完成互相 ping，应该都能 ping 通。</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="334" src="https://images2.imgbox.com/7d/25/E95Qkpcz_o.png" width="476"></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="342" src="https://images2.imgbox.com/2d/c4/XsGArQJq_o.png" width="480"></p> 
<p style="margin-left:0;text-align:justify;">在外网的各主机及路由器上完成互相 ping，应该都能 ping 通。</p> 
<p class="img-center"><img alt="" height="365" src="https://images2.imgbox.com/06/51/AQaaNZ6K_o.png" width="507"></p> 
<p style="margin-left:0;text-align:justify;">内网上的任意主机可以 ping 通过外网上的任意主机。</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="979" src="https://images2.imgbox.com/74/94/DpbJm0YD_o.png" width="1200"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h5 style="margin-left:0px;text-align:justify;"><strong>6. 用浏览器进行 Web 服务器访问</strong></h5> 
<p style="margin-left:0;text-align:justify;">内网上的主机可以通过浏览器访问外网的 Web 服务器。在对路由器完成 NAPT 配置之后，在内网PC1 上访问外网 Web 服务器 Server1 (主页)：</p> 
<p class="img-center"><img alt="" height="338" src="https://images2.imgbox.com/6e/72/SQ4cPm2O_o.png" width="546"></p> 
<p style="margin-left:0;text-align:justify;">在内网 PC1 上访问外网 Web 服务器 Server1 (A small page 页面)</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p class="img-center"><img alt="" height="350" src="https://images2.imgbox.com/a4/a8/lJIAJkNH_o.png" width="568"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h5 style="margin-left:0px;text-align:justify;"><strong>7. </strong><strong>在路由器 R0 上配置静态 NAT，并通过外网上的主机访问内网上的 Web 服务器，以测试其可访问性</strong></h5> 
<p style="margin-left:0;text-align:justify;">(1) 在对路由器完成静态 NAT 配置之前，用外网上的主机的浏览器访问内网上的内网的 Web 服务器（使用路由器的外网口地址），应该不可访问。</p> 
<p style="margin-left:0;text-align:justify;">外网上的 PC1 无法通过路由器 R0 的外网口访问内网 Web 服务器：</p> 
<p class="img-center"><img alt="" height="451" src="https://images2.imgbox.com/89/3d/NUllHO73_o.png" width="523"></p> 
<p style="margin-left:0;text-align:justify;">(2) 在路由器 R0 上进行静态 NAT 配置，使得外网上的主机可以访问内网上的 Web 服务器，配置过程见图 。</p> 
<pre><code>Router#conf t
Enter configuration commands, one per line. End with CNTL/Z.
Router(config)#ip nat inside source static 192.168.1.2 202.118.0.1 ;配置静态 NAT
Router(config)#end
Router#wr</code></pre> 
<p style="margin-left:0;text-align:justify;">路由器配置静态 NAT，使外网可以访问到内网的 Web 服务器：</p> 
<p class="img-center"><img alt="" height="415" src="https://images2.imgbox.com/0f/99/rHfC85ZD_o.png" width="590"></p> 
<p style="margin-left:0;text-align:justify;">(3) 在对路由器完成静态 NAT 配置之后，再用外网上的主机的浏览器访问内网上的 Web 服务器（使用路由器 R0 的外网口地址），应该可以访问了</p> 
<p style="margin-left:0;text-align:justify;">在外网 PC1 上访问内网 Web 服务器 Server1 (主页)：</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="787" src="https://images2.imgbox.com/55/08/BUfDPnxI_o.png" width="1200"></p> 
<p style="margin-left:0;text-align:justify;">在外网 PC1 上访问内网 Web 服务器 Server1 (A small page 页面)</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="779" src="https://images2.imgbox.com/e8/15/G5ocuHbQ_o.png" width="1200"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h5 style="margin-left:0px;text-align:justify;"><strong>8. VLAN </strong><strong>划分与配置</strong></h5> 
<p style="margin-left:0;text-align:justify;">将内网上的交换机 S0 的接口 G0/1、G0/2、Fa0/1 配置属于 VLAN 10，接口 Fa0/2、Fa0/3 配置属于 VLAN 20，这样将交换机连接的主机分成了分别属于 VLAN 10 和 VLAN 20 的两 组。配置完成后，各 VLAN 内的主机可以互相 ping 通，但是不同 VALN 上的主机不能互相 ping 通。另外由于交换机 S0 与路由器 R0 相连接的接口 G0/1 配置属于 VALN 10, 这使得只 有 VLAN 10 内的主机可以访问外网。交换机的 VLAN 配置过程如下所示：</p> 
<pre><code>Switch #conf t 
Enter configuration commands, one per line. End with CNTL/Z. 
Switch(config)#vlan 10 ;创建 VLAN 10 
Switch(config-vlan)#exit 
Switch(config)#vlan 20 ;创建 VLAN 20 Switch(config-vlan)#exit 
Switch(config)#int Fa0/1 
Switch(config-if)#switchport access vlan 10 ; 
Switch(config-if)#int G0/2 
Switch(config-if)#switchport access vlan 10 ; 
Switch(config-if)#int G0/1 
Switch(config-if)#switchport access vlan 10 ; 
Switch(config-if)#int Fa0/2 
Switch(config-if)#switchport access vlan 20 ; 
Switch(config-if)#int Fa0/3 
Switch(config-if)#switchport access vlan 20 ; 
Switch(config-if)#end Router#wr
</code></pre> 
<p style="margin-left:0;text-align:justify;">交换机的 VLAN 配置过程：</p> 
<p class="img-center"><img alt="" height="396" src="https://images2.imgbox.com/c5/24/e6JlzICH_o.png" width="476"></p> 
<p style="margin-left:0;text-align:justify;">划分了 VLAN，DHCP 服务器及默认网关被划分到了 VLAN 10，因此 VLAN 20 中的主机就不能访问 DHCP 服务器了，其 IP 地址应该修改为手机配置。由于不能访问默认网关，也就不能访问外网了。</p> 
<p class="img-center"><img alt="" height="486" src="https://images2.imgbox.com/6f/e6/gYH6AXFY_o.png" width="450"></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;">VLAN20 内可以互相ping通：</p> 
<p class="img-center"><img alt="" height="397" src="https://images2.imgbox.com/cb/e3/HWpUYeCY_o.png" width="544"></p> 
<p style="margin-left:0;text-align:justify;">VLAN20无法ping通VLAN10 设备：</p> 
<p class="img-center"><img alt="" height="374" src="https://images2.imgbox.com/ef/51/XO4XQQCY_o.png" width="519"></p> 
<p style="margin-left:0;text-align:justify;">VLAN20 设备无法访问外网web：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="367" src="https://images2.imgbox.com/d7/8b/PmbLUMh5_o.png" width="527"></p> 
<p style="margin-left:0;text-align:justify;">VLAN10 设备可以访问外网web：</p> 
<p class="img-center"><img alt="" height="326" src="https://images2.imgbox.com/1f/26/v3H7dmxp_o.png" width="482"></p> 
<p style="margin-left:0;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5165b116b43dcee0c6b07f0bc661e616/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Tween.js 使用文档 --- Three.js</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6308a9ec7bdc0d98d84e159ca834cef7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Google浏览器-下载提示保留文件问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>