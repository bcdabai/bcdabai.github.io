<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络基础架构 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络基础架构" />
<meta property="og:description" content="一、网络基础架构 1.电脑 （一个单独的计算机所拥有的层：应用层 表示层 介质访问控制层 物理层）
世界上第一台通用计算机“ENIAC”于1946年2月14日在美国宾夕法尼亚大学诞生。
2.OSI七层参考模型（开放式系统互连）---核心思想：分层 （1）应用层 （人机交互---抽象语言的键入和输出） 抽象语言---&gt;编码
（2）表示层 （表示层之下一定是二进制） 编码---&gt;二进制
（3）会话层 应用程序内部地址，区分程序内的各个终端（会话）
上三层和应用程序有关，应用程序处理层面----&gt;统称为应用层
（4）传输层 提供端口号，对数据进行分段（受MTU控制） ，实现端到端，应用到应用之间的传输。由TCP/UDP实现。
（端口号由16位二进制构成，0-65535.---一般不用0作为传输层的端口号，1-1023为注明端口号）
&lt;1&gt; MTU：最大传输单元---默认1500字节
&lt;2&gt; 端口号：0-65535
0-1023---注明端口 1024-65535---高端口（动态端口）
注明端口默认用于固定对应服务器的服务端口；高端口用于随机对应终端上的各个进程
&lt;3&gt; TCP：传输控制协议---面向连接的可靠传输协议 （完成传输层的基本工作之上，还需进一步保障传输的可靠性。）
面向连接：通过TCP三次握手建立端到端的虚链路
可靠传输：4种可靠机制---确认、重传、排序、流控（滑动窗口）
TCP报头：
优点：可靠缺点：占带宽，为达成机制，传输速率会变慢 &lt;4&gt; UDP：用户数据报文协议---非面向连接的不可靠传输协议
仅完成传输层的基本工作---分段和端口号
UDP报头：
UDP传输的过程就类似于寄信，其特点如下：
无连接：知道对端的IP和端口号就直接进行数据传输，不需要建立连接。不可靠：没有确认机制，没有重传机制；如果因为网络故障该段无法发到对方，UDP协议层也不会给应用层返回任何错误信息。 checksum：校验和就是抽样值，检验数据是否完整、正确。
延时要求高用UDP，可靠性要求高用TCP
附：生活中常见服务和对应的端口号以及选择的协议：
例：HTTP（超文本传输协议）端口号是80
（5）网络层 网络层主要应用协议----Internet协议---IP（为路由器服务，与洪泛范围有关）
根据IP地址进行编制寻址：SIP（源IP）；DIP（目标IP）
我们应如何获取目标IP地址？
直接知道服务器的IP地址通过域名访问服务器通过应用程序访问通过广播获取 （6）数据链路层 = LLC &#43; MAC 逻辑访问控制层（LLC） 保障了二层传输的可靠性
介质访问控制层（MAC） 本质：二进制---&gt;电流 （长波为1，短波为0。控制CPU的设备）
MAC：48位二进制构成。
全球唯一格式统一 --- SMAC（源MAC） DMAC（目标MAC） 如何获取MAC地址：ARP协议（地址解析协议）---通过一种地址获取另一种地址
（7）物理层 ---相当于CPU（定义电器电压、光学特性、接口规范）
下四层用来传输数据，负责数据的传递和转发---&gt;统称为数据流层" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/77eb1e860ccf7de6220bab9671bfb41d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-17T11:42:59+08:00" />
<meta property="article:modified_time" content="2023-04-17T11:42:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络基础架构</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、网络基础架构</h2> 
<h3>1.电脑</h3> 
<p>（一个单独的计算机所拥有的层：应用层  表示层  介质访问控制层  物理层）</p> 
<p>世界上第一台通用计算机“ENIAC”于1946年2月14日在美国宾夕法尼亚大学诞生。</p> 
<h3>2.OSI七层参考模型（开放式系统互连）---核心思想：分层</h3> 
<h4>（1）应用层</h4> 
<p>（人机交互---抽象语言的键入和输出）   抽象语言---&gt;编码</p> 
<h4>（2）表示层</h4> 
<p>（表示层之下一定是二进制）   编码---&gt;二进制</p> 
<h4>（3）会话层</h4> 
<p>应用程序内部地址，区分程序内的各个终端（会话）</p> 
<blockquote> 
 <p><span style="color:#fe2c24;"><strong>上三层和应用程序有关，应用程序处理层面----&gt;统称为应用层</strong></span></p> 
</blockquote> 
<h4>（4）传输层</h4> 
<p>提供端口号，对数据进行分段（受MTU控制） ，实现端到端，应用到应用之间的传输。由TCP/UDP实现。</p> 
<p>（端口号由16位二进制构成，0-65535.---一般不用0作为传输层的端口号，1-1023为注明端口号）</p> 
<p>&lt;1&gt; MTU：最大传输单元---默认1500字节</p> 
<p>&lt;2&gt; 端口号：0-65535</p> 
<p>0-1023---注明端口                1024-65535---高端口（动态端口）</p> 
<p>注明端口默认用于固定对应服务器的服务端口；高端口用于随机对应终端上的各个进程</p> 
<p>&lt;3&gt; TCP：传输控制协议---面向连接的可靠传输协议        （完成传输层的基本工作之上，还需进一步保障传输的可靠性。）</p> 
<p>面向连接：通过TCP三次握手建立端到端的虚链路<br> 可靠传输：4种可靠机制---确认、重传、排序、流控（滑动窗口）</p> 
<p>TCP报头：<br><img alt="" height="420" src="https://images2.imgbox.com/10/14/KS611WqL_o.png" width="482"></p> 
<ul><li>优点：可靠</li><li>缺点：占带宽，为达成机制，传输速率会变慢</li></ul> 
<p>&lt;4&gt; UDP：用户数据报文协议---非面向连接的不可靠传输协议</p> 
<p>仅完成传输层的基本工作---分段和端口号</p> 
<p>UDP报头：<br><img alt="" height="133" src="https://images2.imgbox.com/9b/02/zA7kwJgg_o.png" width="361"><br><img alt="" height="131" src="https://images2.imgbox.com/ba/3e/Yuxmmk2U_o.png" width="365"></p> 
<p>UDP传输的过程就类似于寄信，其特点如下：</p> 
<ul><li>无连接：知道对端的IP和端口号就直接进行数据传输，不需要建立连接。</li><li>不可靠：没有确认机制，没有重传机制；如果因为网络故障该段无法发到对方，UDP协议层也不会给应用层返回任何错误信息。</li></ul> 
<p>checksum：校验和就是抽样值，检验数据是否完整、正确。</p> 
<blockquote> 
 <p>延时要求高用UDP，可靠性要求高用TCP</p> 
</blockquote> 
<p>附：生活中常见服务和对应的端口号以及选择的协议：</p> 
<p><img alt="" height="214" src="https://images2.imgbox.com/3b/fd/2nDNT5a3_o.png" width="366"></p> 
<p>例：HTTP（超文本传输协议）端口号是80</p> 
<h4>（5）网络层</h4> 
<p>网络层主要应用协议----Internet协议---IP（为路由器服务，与洪泛范围有关）</p> 
<p>根据IP地址进行编制寻址：SIP（源IP）；DIP（目标IP）</p> 
<p>我们应如何获取目标IP地址？</p> 
<ul><li>直接知道服务器的IP地址</li><li>通过域名访问服务器</li><li>通过应用程序访问</li><li>通过广播获取</li></ul> 
<h4>（6）数据链路层 = LLC + MAC</h4> 
<p><span style="color:#a2e043;">逻辑访问控制层（LLC）        保障了二层传输的可靠性</span></p> 
<p><span style="color:#a2e043;">介质访问控制层（MAC）       本质：二进制---&gt;电流      （长波为1，短波为0。控制CPU的设备）</span></p> 
<p>MAC：48位二进制构成。</p> 
<ul><li>全球唯一</li><li>格式统一 --- SMAC（源MAC）    DMAC（目标MAC）</li></ul> 
<p>如何获取MAC地址：ARP协议（地址解析协议）---通过一种地址获取另一种地址</p> 
<h4>（7）物理层</h4> 
<p>---相当于CPU（定义电器电压、光学特性、接口规范）</p> 
<blockquote> 
 <p><span style="color:#fe2c24;"><strong>下四层用来传输数据，负责数据的传递和转发---&gt;统称为数据流层</strong></span></p> 
</blockquote> 
<blockquote> 
 <p style="margin-left:0;text-align:justify;"><span style="color:#fe2c24;"><strong>PDU—协议数据单元 </strong></span></p> 
 <p style="margin-left:0;text-align:justify;">应用层 --- 数据报文</p> 
 <p style="margin-left:0;text-align:justify;">传输层 --- 数据段</p> 
 <p style="margin-left:0;text-align:justify;">网络层 --- 数据包</p> 
 <p style="margin-left:0;text-align:justify;">数据链路层 ---数据帧</p> 
 <p style="margin-left:0;text-align:justify;">物理层 --- 比特流</p> 
</blockquote> 
<h3>3.如何将网络变大？</h3> 
<h4>（1）节点（终端）增加---HUB集线器</h4> 
<p>&lt;1&gt; 连接方式</p> 
<ul><li>直线型——总线型</li><li>环型——增多了一次容错机会</li><li>星型——中心到站点（轴辐状）--性价比最好</li><li>网状——多环（优点：容错高；距离短；带宽好）（缺点：费用高）</li></ul> 
<p>&lt;2&gt; 集线器环境下的问题：</p> 
<ul><li>安全问题</li><li>传输效率低（延时）</li><li>唯一标识（地址）</li><li>冲突（电流和电流的直接相遇）</li></ul> 
<p>解决问题：</p> 
<p>地址：MAC（介质访问控制）地址。（全球唯一，烧录到网卡）---48位二进制--16进制表示9（属于介质层）<br> 冲突：（早期冲突检测）---CSMA/CD载波侦听多路访问/冲突检测--相当于排队</p> 
<h4>（2）传输距离延长</h4> 
<p>距离限制：最佳距离为100米</p> 
<p>如何延长：由于电信号在网线上传输属于弱电，需要中继器来延长距离（有限延长）</p> 
<h4>（3）网络变大核心要求：网桥---&gt;交换机</h4> 
<ul><li>无线传输距离</li><li>没有冲突---所有节点可以同时收发自己的数据</li><li>一对一单播</li></ul> 
<h4>（4）交换机：交换机是二层设备，只能识别MAC地址</h4> 
<p>&lt;1&gt; <span style="color:#fe2c24;"><strong>交换机的作用</strong></span>：</p> 
<ul><li>提供端口密度（继承了HUB集线器的作用）</li><li>基于数据识别再转发，实现了理论上的无限传输距离</li><li>基于数据识别，存储在转发，解决了冲突问题</li><li>基于MAC地址识别、记录、查询，实现了单播通讯</li></ul> 
<p>&lt;2&gt; 交换机在介质访问控制层的作用：将电流与二进制之间进行识别转换</p> 
<p>&lt;3&gt; 交换机的工作过程：</p> 
<p>数据电流进入交换机，交换机将其识别为二层的二进制，然后识别数据帧中的源MAC地址，将其记录到本地的MAC地址表中（MAC地址表：记录各个MAC对应的接口），之后关注目标数据帧中的目标MAC地址，查询本地MAC地址表中是否有记录。存在记录将基于记录的接口唯一转发（单播）；无记录，进行洪泛。</p> 
<p>附：洪泛：除流量进入的接口外，其他所有接口复制转出。</p> 
<h4>（5）IPV4地址：32位二进制构成  点分十进制标识---IPV4地址处于网络层（第三层）</h4> 
<p>&lt;1&gt; IP地址由网络位和主机位共同组成。（IP地址基于广播域进行网段划分）</p> 
<ul><li>网络位：对应洪泛范围</li><li>主机位：表示范围内唯一</li></ul> 
<p>例：192.168.1.1--11000000 10101000 00000001 00000001   （每八位分一段）</p> 
<p>&lt;2&gt; 子网掩码：每个IP地址均配一个子网掩码，区分IP地址中的网络位和主机位</p> 
<p>附：IPV4报头</p> 
<p><img alt="" height="209" src="https://images2.imgbox.com/df/79/qG2wzG8n_o.png" width="495"><br> Time to Live（TTL）：生存时间。默认为255 128 64</p> 
<h4>（6）ARP（地址解析协议）</h4> 
<ul><li>通过对对端的一种地址来获取对端的另一种地址</li><li>通过对端IP地址获取对端MAC地址的行为需要用到广播机制</li></ul> 
<p>附：广播：迫使交换机进行洪泛行为（目标MAC全F，该MAC在网络中不存在）</p> 
<h4>（7）网络变大的流程：</h4> 
<p><strong><span style="color:#fe2c24;">网络变大--&gt;要求：无限距离，无冲突，一对一单播--&gt;交换机来实现--&gt;识别MAV地址，存在记录则单播；不存在记录则洪泛--&gt;洪泛--&gt;洪泛范围（接收到同一个洪泛流量的范围，在多个交换机下）（洪泛范围过大，网络必然变卡）--&gt;路由器--&gt;IP地址--&gt;ARP--&gt;广播--&gt;广播域（相当于洪泛范围）</span></strong><br><span style="color:#fe2c24;">（ARP使用广播进行MAC查询）</span></p> 
<p><span style="color:#be191c;"><strong>附：</strong></span></p> 
<p>路由器的每一个接口，都是洪泛范围的边界（洪泛流量不能通过，单播流量可以通过）。路由器的作用是用来隔离广播域的。网关：挡住广播，转出单播。</p> 
<p>两个电脑进行通讯，在一个洪泛范围和不在一个洪泛范围的通讯方式不同。判断其在不在同一个洪泛范围，可以直接使用IP地址进行判断。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2aa3dfc803a8c14b917ec5afe15e4d04/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">芯片验证之后仿真</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/76fbe46401898beb543eaecce9e8411d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">eBPF动手实践系列一：解构内核源码eBPF样例编译过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>