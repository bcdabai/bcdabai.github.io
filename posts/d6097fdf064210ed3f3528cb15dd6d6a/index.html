<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>直播App测试重点问题 - 服务器压力 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="直播App测试重点问题 - 服务器压力" />
<meta property="og:description" content="直播的火爆带来了海量的用户，也带来了海量的服务器并发。全国在线直播平台数量接近200家，网络直播平台用户数量已经达到2亿，大型直播平台每日高峰时段同时在线人数接近400万，这一数据还在以极快的速度向上攀升。直播火没火，看用户就知道，但是直播有没有前景，就要看科技巨头们对它的态度了。
如此大的用户体量下，直播类的应用对于服务器的要求要高过一般的应用，我们来看看直播类的应用对服务器有哪些更多的挑战？
更大的数据量
视频数据和文本数据完全是两个量级的概念，假设一个直播房间有5000人，视频1s的数据60K，那么就需要5000*60=300000KB=292.97MB，基本已经达到了2-3三个手游的大小了，而这只是一个房间产生的流量。当前某著名网络直播APP日活跃用户超过了800W，服务器将承受458Gbps的带宽压力。
更高的并发量
不同于普通应用和游戏，直播类应用的使用时间段非常的集中，一般来说，社交类的直播app时间集中在晚饭后时间至睡前20点~23点，游戏类App活跃时间集中在下班后18~20点间，秀场类App集中在13点和18(午休及下班时间)，因此在这短短几小时之间，会涌入大量的用户，一次大V的直播通常就会造成百万级的用户登录，APP需要有详尽的限流、分流和负载均衡策略，保证服务器不会被冲垮。
更真实的用户登录场景
直播应用与普通应用相比，交互的功能异常多，除了直播视频流的服务器压力之外，还要包括用户消息推送、聊天、礼物、支付以及统计系统带来的数据交互压力，服务器进行需要识别不同的业务字段，才能精确判定用户的行为是否成功完成，从交互频率的角度上来说，直播类的应用，与其说更像应用，不如说更像游戏。
更低的延迟
直播需要一个很强的即时性，如果主播的行为和用户的评论无法同步的时候，会给用户非常不好的体验，如果一个用户发现其他用户在欢呼鼓掌，但是屏幕中的主播什么动静都没有的时候，这个直播应用基本可以不要再用了，因此直播类应用不仅需要面对更大的数据量和更高的并发，还要保证更低的延迟。通常可以要保证服务器的处理数据速度要快，要有足够强大的带宽；另外则是通过P2P算法保证数据分享的合理性，保证服务器的数据和P2P的数据可以达到平衡。
不同于一般app测试，更倾向兼容性或功能测试，对于直播应用来说，服务器的测试需求就越来越大。而服务器最难处理的环节就是视频流量和用户交互等高频率高带宽的场景，用户的行为是难以预测的，经常会出现突发性的暴涨，一般在进行活动的时候，流量可能是平时的几十倍。多场景的压测，要完全模拟真实用户行为，测试结果才能更接近现实。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d6097fdf064210ed3f3528cb15dd6d6a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-02-06T14:00:57+08:00" />
<meta property="article:modified_time" content="2017-02-06T14:00:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">直播App测试重点问题 - 服务器压力</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="article fmt article__content"> 
 <p>直播的火爆带来了海量的用户，也带来了海量的服务器并发。全国在线直播平台数量接近200家，网络直播平台用户数量已经达到2亿，大型直播平台每日高峰时段同时在线人数接近400万，这一数据还在以极快的速度向上攀升。直播火没火，看用户就知道，但是直播有没有前景，就要看科技巨头们对它的态度了。</p> 
 <p>如此大的用户体量下，直播类的应用对于服务器的要求要高过一般的应用，我们来看看直播类的应用对服务器有哪些更多的挑战？</p> 
 <p>更大的数据量</p> 
 <p>视频数据和文本数据完全是两个量级的概念，假设一个直播房间有5000人，视频1s的数据60K，那么就需要5000*60=300000KB=292.97MB，基本已经达到了2-3三个手游的大小了，而这只是一个房间产生的流量。当前某著名网络直播APP日活跃用户超过了800W，服务器将承受458Gbps的带宽压力。</p> 
 <p>更高的并发量</p> 
 <p>不同于普通应用和游戏，直播类应用的使用时间段非常的集中，一般来说，社交类的直播app时间集中在晚饭后时间至睡前20点~23点，游戏类App活跃时间集中在下班后18~20点间，秀场类App集中在13点和18(午休及下班时间)，因此在这短短几小时之间，会涌入大量的用户，一次大V的直播通常就会造成百万级的用户登录，APP需要有详尽的限流、分流和负载均衡策略，保证服务器不会被冲垮。</p> 
 <p>更真实的用户登录场景</p> 
 <p>直播应用与普通应用相比，交互的功能异常多，除了直播视频流的服务器压力之外，还要包括用户消息推送、聊天、礼物、支付以及统计系统带来的数据交互压力，服务器进行需要识别不同的业务字段，才能精确判定用户的行为是否成功完成，从交互频率的角度上来说，直播类的应用，与其说更像应用，不如说更像游戏。</p> 
 <p>更低的延迟</p> 
 <p>直播需要一个很强的即时性，如果主播的行为和用户的评论无法同步的时候，会给用户非常不好的体验，如果一个用户发现其他用户在欢呼鼓掌，但是屏幕中的主播什么动静都没有的时候，这个直播应用基本可以不要再用了，因此直播类应用不仅需要面对更大的数据量和更高的并发，还要保证更低的延迟。通常可以要保证服务器的处理数据速度要快，要有足够强大的带宽；另外则是通过P2P算法保证数据分享的合理性，保证服务器的数据和P2P的数据可以达到平衡。</p> 
 <p>不同于一般<a href="https://www.testbird.com/" rel="nofollow">app测试</a>，更倾向兼容性或功能测试，对于直播应用来说，服务器的测试需求就越来越大。而服务器最难处理的环节就是视频流量和用户交互等高频率高带宽的场景，用户的行为是难以预测的，经常会出现突发性的暴涨，一般在进行活动的时候，流量可能是平时的几十倍。多场景的压测，要完全模拟真实用户行为，测试结果才能更接近现实。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6b29f2637b38c632e0ca42e019484a52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mapreduce中IntWritable(1)的含义</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b9679b0cd558bf5826aa698cc9fe308e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用OpenSSL编写SSL,TLS程序（2）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>