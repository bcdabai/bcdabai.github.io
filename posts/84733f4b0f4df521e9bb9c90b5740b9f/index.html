<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ClassLoader.getResourceAsStream(name);获取配置文件的方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ClassLoader.getResourceAsStream(name);获取配置文件的方法" />
<meta property="og:description" content="ClassLoader.getResourceAsStream(name);路径问题 InputStream in = getClass().getResourceAsStream(&#39;/&#39;&#43;&#34;spring-beans.dtd&#34;);表示从classs目录下面的找文件,文件放在src下面就可以了. InputStream in = getClass(). getResourceAsStream(&#34;spring-beans.dtd&#34;);表示从当前classs下面的路径找文件 如果是在com.a.b.c.d.Test这个class就表示spring-beans.dtd要放在目录src\com\a\b\c\d下. SAXBuilder builder = new SAXBuilder(); EntityResolver resolver = new EntityResolver() { public InputSource resolveEntity(String publicId, String systemId) { if (publicId.equals(&#34;-//SPRING//DTD BEAN//EN&#34;)) { InputStream in = getClass().getResourceAsStream( &#39;/&#39;&#43;&#34;spring-beans.dtd&#34;); return new InputSource(in); } else { return null; } } }; builder.setEntityResolver(resolver); （2） 例子 package ccutse.DB; import java.util.*; import java.net.*; import java.io.*; public class ReadProp { private String user,psw,url,driver; private int maxCon,minCon; public ReadProp() { } public static void main(String[] args) { ReadProp readprop = new ReadProp(); InputStream in=null; try{ in=readprop." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/84733f4b0f4df521e9bb9c90b5740b9f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-12-12T19:56:10+08:00" />
<meta property="article:modified_time" content="2012-12-12T19:56:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ClassLoader.getResourceAsStream(name);获取配置文件的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <strong><a href="http://www.blogjava.net/sdyjmc/archive/2007/04/26/113766.html" rel="nofollow" name="viewpost1_TitleUrl">ClassLoader.getResourceAsStream(name);路径问题</a></strong> 
</div> 
<div>
  InputStream in = 
 <span style="color:#EB0000">getClass().getResourceAsStream</span>('/'+"spring-beans.dtd");表示从classs目录下面的找文件,文件放在src下面就可以了. 
 <br> InputStream in = getClass(). 
 <span style="color:#EB0000">getResourceAsStream</span>("spring-beans.dtd");表示从当前classs下面的路径找文件 
 <br> 如果是在com.a.b.c.d.Test这个class就表示spring-beans.dtd要放在目录src\com\a\b\c\d下. 
 <br> 
 <br> SAXBuilder builder = new SAXBuilder(); 
 <br> EntityResolver resolver = new EntityResolver() { 
 <br> 
 <br> public InputSource resolveEntity(String publicId, 
 <br> String systemId) { 
 <br> if (publicId.equals("-//SPRING//DTD BEAN//EN")) { 
 <br> InputStream in = getClass().getResourceAsStream( 
 <br> '/'+"spring-beans.dtd"); 
 <br> return new InputSource(in); 
 <br> } else { 
 <br> return null; 
 <br> } 
 <br> } 
 <br> 
 <br> }; 
 <br> builder.setEntityResolver(resolver); 
</div> 
<div>
    
 <wbr></wbr> 
</div> 
<div>
    
 <wbr></wbr> 
</div> 
<div>
    
 <wbr></wbr> 
</div> 
<div>
  （2） 例子 
</div> 
<div>
    
 <wbr></wbr> 
</div> 
<div>
  package ccutse.DB; 
 <br> import java.util.*; 
 <br> import java.net.*; 
 <br> import java.io.*; 
 <br> 
 <br> public class ReadProp { 
 <br> private String user,psw,url,driver; 
 <br> private int maxCon,minCon; 
 <br> public ReadProp() { 
 <br> 
 <br> } 
 <br> 
 <br> 
 <br> public static void main(String[] args) { 
 <br> ReadProp readprop = new ReadProp(); 
 <br> InputStream in=null; 
 <br> try{ 
 <br> 
 <span style="color:#EB0000">in=readprop.getClass().getResourceAsStream("c:\\db.properties ");路径应放在classpath下<br> </span>if(in==null) 
 <br> System.out.println( "in is null "); 
 <br> } 
 <br> 
 <span style="color:#EB0000">Properties prop=new Properties();<br> try{<!-- --><br> prop.load(in);</span> 
 <br> } 
 <br> catch(Exception e){ 
 <br> System.out.println( "装载失败 "); 
 <br> 
 <br> } 
 <br> 
 <br> 
 <br> } 
 <br> } 
 <br> 
</div> 
<div>
    
 <wbr></wbr> 
</div> 
<div> 
 <h4><a href="http://blog.csdn.net/lost_guy_in_scut/article/details/6333404">class.getResourceAsStream用法</a></h4> 
 <div>
     
  <wbr></wbr> 
 </div> 
 <div> 
  <p>　首先，Java中的getResourceAsStream有以下几种Class.getResourceAsStream(String path) ： path不以’/‘开头时默认是从此类所在的包下取资源，以’/‘开头则是从<br> 　　ClassPath根下获取。其只是通过path构造一个绝对路径，最终还是由ClassLoader获取资源。<br> 　　2. Class.getClassLoader.getResourceAsStream(String path)：默认则是从ClassPath根下获取，path不能以’/‘开头，最终是由<br> 　　ClassLoader获取资源。<br> 　　3. ServletContext. getResourceAsStream(Stringpath)：默认从WebAPP根目录下取资源，Tomcat下path是否以’/‘开头无所谓，<br> 　　当然这和具体的容器实现有关。<br> 　　4. Jsp下的application内置对象就是上面的ServletContext的一种实现。<br> 　　其次，getResourceAsStream 用法大致有以下几种<br> 　　第一： 要加载的文件和.class文件在同一目录下，例如：com.x.y 下有类me.class,同时有资源文件myfile.xml<br> 　　那么，应该有如下代码<br> 　　me.class.getResourceAsStream("myfile.xml");<br> 　　第二：在me.class目录的子目录下，例如：com.x.y 下有类me.class ,同时在 com.x.y.file目录下有资源文件myfile.xml<br> 　　那么，应该有如下代码<br> 　　me.class.getResourceAsStream("file/myfile.xml");<br> 　　第三：不在me.class目录下，也不在子目录下，例如：com.x.y 下有类me.class ,同时在 com.x.file目录下有资源文件myfile.xml<br> 　　那么，应该有如下代码<br> 　　me.class.getResourceAsStream("/com/x/file/myfile.xml");<br> 　　总结一下，可能只是两种写法<br> 　　第一：前面有 “ / ”<br> 　　“ / ”代表了工程的根目录，例如工程名叫做myproject，“ / ”代表了myproject<br> 　　me.class.getResourceAsStream("/com/x/file/myfile.xml");<br> 　　第二：前面没有 “ / ”<br> 　　代表当前类的目录<br> 　　me.class.getResourceAsStream("myfile.xml");<br> 　　me.class.getResourceAsStream("file/myfile.xml");</p> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/11702ff7a39030da1a204a48ee65a3c4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;入门经典习题集【一】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/98b57a1dfd63b36abc3239ec90f2a819/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">detours3.0文档翻译</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>