<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>popen python_Python子进程和Popen（）及其示例 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="popen python_Python子进程和Popen（）及其示例" />
<meta property="og:description" content="popen python
Python provides a lot of functionalities with different modules and libraries. When we need to open a new process inside a Python application we can use subprocess library and related functions.
Python提供了许多具有不同模块和库的功能。 当我们需要在Python应用程序中打开新进程时，可以使用subprocess进程库和相关函数。
导入子流程模块 (Import subprocess Module) In order to use related functions and libraries, we should import the subprocess library.
为了使用相关的功能和库，我们应该导入subprocess库。
import subprocess 使用call()函数启动子流程 (Start Sub-Process with call() Function) The simples use case to create a subprocess is using call() function." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/96865f1bd420612e14cd5004bde55c55/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-08T06:50:23+08:00" />
<meta property="article:modified_time" content="2020-10-08T06:50:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">popen python_Python子进程和Popen（）及其示例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <div style="text-align: center;"> 
  <img src="https://images2.imgbox.com/f2/eb/cL3FPBby_o.png" alt="popen python" width="403px" height="256px" style="outline: none;"> 
 </div> 
 <p>popen python</p> 
 <p>Python provides a lot of functionalities with different modules and libraries. When we need to open a new process inside a Python application we can use <code>subprocess</code> library and related functions.</p> 
 <p>Python提供了许多具有不同模块和库的功能。 当我们需要在Python应用程序中打开新进程时，可以使用<code>subprocess</code>进程库和相关函数。</p> 
 <h3> 导入子流程模块 <span style="font-weight: bold;">(</span>Import subprocess Module<span style="font-weight: bold;">)</span></h3> 
 <p>In order to use related functions and libraries, we should import the <code>subprocess</code> library.</p> 
 <p>为了使用相关的功能和库，我们应该导入<code>subprocess</code>库。</p> 
 <pre class="has"><code>import subprocess</code></pre> 
 <h3> 使用call()函数启动子流程 <span style="font-weight: bold;">(</span>Start Sub-Process with call() Function<span style="font-weight: bold;">)</span></h3> 
 <p>The simples use case to create a subprocess is using <code>call()</code> function. <code>call()</code> function accepts related binary or executable name and parameters as Python list. In this example, we will call Linux <code>ls</code> command with <code>-l</code> and <code>-a</code> parameters.</p> 
 <p>创建子流程的简单用例是使用<code>call()</code>函数。 <code>call()</code>函数接受相关的二进制或可执行文件名称和参数作为Python列表。 在此示例中，我们将使用<code>-l</code>和<code>-a</code>参数调用Linux <code>ls</code>命令。</p> 
 <pre class="has"><code>subprocess.call(['ls','-l','-a'])</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="555" height="186" src="https://images2.imgbox.com/2c/4b/EHMlnoDD_o.png" alt="Start with call Function" class="wp-image-7214" style="outline: none;"> 
   <figcaption>
     Start with call Function 
   </figcaption> 
   <figcaption>
     从通话功能开始 
   </figcaption> 
  </figure> 
 </div> 
 <h3>创建自己的外壳程序<span style="font-weight: bold;">(</span>Create Own Shell For Process<span style="font-weight: bold;">)</span></h3> 
 <p>While creating a new process the newly created process will use current python shell and associated variables. We can specify the to create a new shell with the <code>shell=True</code> like below.</p> 
 <p>在创建新进程时，新创建的进程将使用当前的python shell和关联的变量。 我们可以指定来使用<code>shell=True</code>创建一个新的shell，如下所示。</p> 
 <pre class="has"><code>subprocess.call(['ls','-l','-a'],shell=True)</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="669" height="141" src="https://images2.imgbox.com/0d/c4/B1v8boPS_o.png" alt="Create Own Shell For Process" class="wp-image-7215" style="outline: none;"> 
   <figcaption>
     Create Own Shell For Process 
   </figcaption> 
   <figcaption>
     创建自己的外壳程序 
   </figcaption> 
  </figure> 
 </div> 
 <h3>保存过程输出(标准输出)<span style="font-weight: bold;">(</span>Save Process Output (stdout)<span style="font-weight: bold;">)</span></h3> 
 <p>After running a given command or binary some output may be created. By default, this output is printed to the stdout which is a Python shell for our examples. We can save the process output to a Python variable by calling <code>check_output</code> command like below. In this example, we will save.</p> 
 <p> 运行给定命令或二进制文件后，可能会创建一些输出。 默认情况下，此输出被打印到标准输出，该输出是我们示例的Python shell。 我们可以通过调用如下的<code>check_output</code>命令将过程输出保存到Python变量中。 在此示例中，我们将保存。</p> 
 <pre class="has"><code>output=subprocess.check_output(['ls','-l','-a'])</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="590" height="272" src="https://images2.imgbox.com/52/20/vMqlGyjn_o.png" alt="Save Process Output (stdout) " class="wp-image-7216" style="outline: none;"> 
   <figcaption>
     Save Process Output (stdout) 
   </figcaption> 
   <figcaption>
     保存过程输出(标准输出) 
   </figcaption> 
  </figure> 
 </div> 
 <p>We can see that all created output is saved into the variable named <code>output</code>. When we try to print this variable content to the terminal we will see the exact run command output which is the file list with a user, owner, and access time information.</p> 
 <p> 我们可以看到所有创建的输出都保存到名为<code>output</code>的变量中。 当我们尝试将变量内容打印到终端时，我们将看到确切的运行命令输出，即包含用户，所有者和访问时间信息的文件列表。</p> 
 <h3> 将输出转换为字符串而不是字节数组 <span style="font-weight: bold;">(</span>Convert Output To A String Instead of Byte Array<span style="font-weight: bold;">)</span></h3> 
 <p>In the previous example, we have seen that the output is not a formatted state because the output is saved as a byte array into the <code>output</code> variable. We will provide the output as a string by using <code>universal_newlines</code> option as true for <code>check_output()</code> function.</p> 
 <p>在前面的示例中，我们已经看到输出不是格式化状态，因为输出已作为字节数组保存到<code>output</code>变量中。 我们将对<code>check_output()</code>函数使用<code>universal_newlines</code>选项设置为true，以字符串形式提供输出。</p> 
 <pre class="has"><code>output=subprocess.check_output(['ls','-l','-a'],universal_newlines=True)</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="751" height="446" src="https://images2.imgbox.com/1d/b2/yBn47kr2_o.png" alt="Convert Output To A String Instead of Byte Array" class="wp-image-12138" style="outline: none;"> 
   <figcaption>
     Convert Output To A String Instead of Byte Array 
   </figcaption> 
   <figcaption>
     将输出转换为字符串而不是字节数组 
   </figcaption> 
  </figure> 
 </div> 
 <h3>从流程中获取数据<span style="font-weight: bold;">(</span>Get Data From Process<span style="font-weight: bold;">)</span></h3> 
 <p>We can communicate with the process by opening the process with <code>Popen()</code> function. We will set the created process instance into a variable and then use <code>communicate()</code> function which will read the process pipe. In this example, we will put <code>hello poftut</code> with the <code>echo</code> command into a pipe and then read with <code>communicate()</code></p> 
 <p>我们可以通过使用<code>Popen()</code>函数打开流程来与流程进行通信。 我们将创建的流程实例设置为变量，然后使用<code>communicate()</code>函数读取流程管道。 在此示例中，我们将把带有<code>echo</code>命令的<code>hello poftut</code>放入管道中，然后使用<code>communicate()</code>进行读取</p> 
 <pre class="has"><code>p = subprocess.Popen(["echo", "hello poftut"], stdout=subprocess.PIPE)
print(p.communicate())</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="603" height="54" src="https://images2.imgbox.com/a2/d8/xkDaekUy_o.png" alt="Get Data From Process" class="wp-image-7217" style="outline: none;"> 
   <figcaption>
     Get Data From Process 
   </figcaption> 
   <figcaption>
     从流程中获取数据 
   </figcaption> 
  </figure> 
 </div> 
 <h3>如果启动的进程有错误，则引发异常<span style="font-weight: bold;">(</span>Throw Exception If Started Process Has An Error<span style="font-weight: bold;">)</span></h3> 
 <p>While running commands with the <code>call()</code> function we may get some error related with the provided command. The error will be printed to the screen like a regular output for the Python.</p> 
 <p>使用<code>call()</code>函数运行命令时，我们可能会遇到一些与提供的命令有关的错误。 错误会像Python的常规输出一样显示在屏幕上。</p> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="749" height="53" src="https://images2.imgbox.com/e6/c7/7iG2p62a_o.png" alt="Throw Exception If Run Command Has Error" class="wp-image-12140" style="outline: none;"> 
   <figcaption>
     Throw Exception If Run Command Has Error 
   </figcaption> 
   <figcaption>
     如果运行命令有错误，则引发异常 
   </figcaption> 
  </figure> 
 </div> 
 <p>This may be misinterpreted like the command is completed successfully and without error, so the output is printed to the screen. If we want to create some watchdog about command errors we can use <code>check</code> option which will raise an exception if the command has errors.</p> 
 <p>就像命令成功完成并且没有错误一样，这可能会被误解，因此输出会输出到屏幕上。 如果要创建有关命令错误的监视程序，可以使用<code>check</code>选项，如果命令有错误，它将引发异常。</p> 
 <pre class="has"><code>subprocess.call(["ls","foo bar"],check=True)</code></pre> 
 <div> 
  <figure style="display:block;text-align:center;"> 
   <img width="748" height="103" src="https://images2.imgbox.com/fe/6a/sPVdG7tp_o.png" alt="Throw Exception If Run Command Has Error" class="wp-image-12139" style="outline: none;"> 
   <figcaption>
     Throw Exception If Run Command Has Error 
   </figcaption> 
   <figcaption>
     如果运行命令有错误，则引发异常 
   </figcaption> 
  </figure> 
 </div> 
 <div> 
  <a href="https://www.poftut.com/linux-echo-bash-variables-accordingly-with-special-characters/" rel="nofollow noopener noreferrer" target="_blank" class="u2a4616b72ddbbf636de1303bace8cb44"><style> .u2a4616b72ddbbf636de1303bace8cb44 , .u2a4616b72ddbbf636de1303bace8cb44 .postImageUrl , .u2a4616b72ddbbf636de1303bace8cb44 .centered-text-area { min-height: 80px; position: relative; } .u2a4616b72ddbbf636de1303bace8cb44 , .u2a4616b72ddbbf636de1303bace8cb44:hover , .u2a4616b72ddbbf636de1303bace8cb44:visited , .u2a4616b72ddbbf636de1303bace8cb44:active { border:0!important; } .u2a4616b72ddbbf636de1303bace8cb44 .clearfix:after { content: ""; display: table; clear: both; } .u2a4616b72ddbbf636de1303bace8cb44 { display: block; transition: background-color 250ms; webkit-transition: background-color 250ms; width: 100%; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; background-color: #ECF0F1; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); } .u2a4616b72ddbbf636de1303bace8cb44:active , .u2a4616b72ddbbf636de1303bace8cb44:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; background-color: #D35400; } .u2a4616b72ddbbf636de1303bace8cb44 .centered-text-area { width: 100%; position: relative; } .u2a4616b72ddbbf636de1303bace8cb44 .ctaText { border-bottom: 0 solid #fff; color: #3498DB; font-size: 16px; font-weight: bold; margin: 0; padding: 0; text-decoration: underline; } .u2a4616b72ddbbf636de1303bace8cb44 .postTitle { color: #27AE60; font-size: 16px; font-weight: 600; margin: 0; padding: 0; width: 100%; } .u2a4616b72ddbbf636de1303bace8cb44 .ctaButton { background-color: #e6e6e6!important; color: #3498DB; border: none; border-radius: 3px; box-shadow: none; font-size: 14px; font-weight: bold; line-height: 26px; moz-border-radius: 3px; text-align: center; text-decoration: none; text-shadow: none; width: 80px; min-height: 80px; background: url(https://www.poftut.com/wp-content/plugins/intelly-related-posts/assets/images/simple-arrow.png)no-repeat; position: absolute; right: 0; top: 0; } .u2a4616b72ddbbf636de1303bace8cb44:hover .ctaButton { background-color: #E67E22!important; } .u2a4616b72ddbbf636de1303bace8cb44 .centered-text { display: table; height: 80px; padding-left: 18px; top: 0; } .u2a4616b72ddbbf636de1303bace8cb44 .u2a4616b72ddbbf636de1303bace8cb44-content { display: table-cell; margin: 0; padding: 0; padding-right: 108px; position: relative; vertical-align: middle; width: 100%; } .u2a4616b72ddbbf636de1303bace8cb44:after { content: ""; display: block; clear: both; } </style> 
   <div class="centered-text-area"> 
    <div class="centered-text"> 
     <div class="u2a4616b72ddbbf636de1303bace8cb44-content">
       LEARN MORE  Linux Echo Bash Variables Accordingly with Special Characters 
     </div> 
    </div> 
   </div></a> 
 </div> 
 <div> 
  <style> .u2a4616b72ddbbf636de1303bace8cb44 , .u2a4616b72ddbbf636de1303bace8cb44 .postImageUrl , .u2a4616b72ddbbf636de1303bace8cb44 .centered-text-area { min-height: 80px; position: relative; } .u2a4616b72ddbbf636de1303bace8cb44 , .u2a4616b72ddbbf636de1303bace8cb44:hover , .u2a4616b72ddbbf636de1303bace8cb44:visited , .u2a4616b72ddbbf636de1303bace8cb44:active { border:0!important; } .u2a4616b72ddbbf636de1303bace8cb44 .clearfix:after { content: ""; display: table; clear: both; } .u2a4616b72ddbbf636de1303bace8cb44 { display: block; transition: background-color 250ms; webkit-transition: background-color 250ms; width: 100%; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; background-color: #ECF0F1; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); } .u2a4616b72ddbbf636de1303bace8cb44:active , .u2a4616b72ddbbf636de1303bace8cb44:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; background-color: #D35400; } .u2a4616b72ddbbf636de1303bace8cb44 .centered-text-area { width: 100%; position: relative; } .u2a4616b72ddbbf636de1303bace8cb44 .ctaText { border-bottom: 0 solid #fff; color: #3498DB; font-size: 16px; font-weight: bold; margin: 0; padding: 0; text-decoration: underline; } .u2a4616b72ddbbf636de1303bace8cb44 .postTitle { color: #27AE60; font-size: 16px; font-weight: 600; margin: 0; padding: 0; width: 100%; } .u2a4616b72ddbbf636de1303bace8cb44 .ctaButton { background-color: #e6e6e6!important; color: #3498DB; border: none; border-radius: 3px; box-shadow: none; font-size: 14px; font-weight: bold; line-height: 26px; moz-border-radius: 3px; text-align: center; text-decoration: none; text-shadow: none; width: 80px; min-height: 80px; background: url(https://www.poftut.com/wp-content/plugins/intelly-related-posts/assets/images/simple-arrow.png)no-repeat; position: absolute; right: 0; top: 0; } .u2a4616b72ddbbf636de1303bace8cb44:hover .ctaButton { background-color: #E67E22!important; } .u2a4616b72ddbbf636de1303bace8cb44 .centered-text { display: table; height: 80px; padding-left: 18px; top: 0; } .u2a4616b72ddbbf636de1303bace8cb44 .u2a4616b72ddbbf636de1303bace8cb44-content { display: table-cell; margin: 0; padding: 0; padding-right: 108px; position: relative; vertical-align: middle; width: 100%; } .u2a4616b72ddbbf636de1303bace8cb44:after { content: ""; display: block; clear: both; } </style> 
  <div class="centered-text-area"> 
   <div class="centered-text"> 
    <div class="u2a4616b72ddbbf636de1303bace8cb44-content">
      了解更多Linux Echo Bash变量并带有特殊字符 
    </div> 
   </div> 
  </div> 
 </div> 
 <blockquote> 
  <p>翻译自: <a href="https://www.poftut.com/python-subprocess-popen-examples/" rel="nofollow">https://www.poftut.com/python-subprocess-popen-examples/</a></p> 
 </blockquote> 
 <p>popen python</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c72a641a98d79fec2c87c970142d6e51/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">FDTD_1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/15f75dba08db6f49903fc9cb7a781dc1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue 项目使用iview如何做到table嵌套table</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>