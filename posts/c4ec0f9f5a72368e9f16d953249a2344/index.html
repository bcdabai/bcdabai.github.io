<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;知识点4——vector与string简述 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;知识点4——vector与string简述" />
<meta property="og:description" content="string
使用string类必须包含头文件#include&lt;string&gt;
string对象的初始化
1.默认初始化
string s1; 2.拷贝初始化
string s4=s1; string s5=&#34;qwer&#34;; 3.直接初始化
string s3(&#34;qwer&#34;); string s5=&#34;qwer&#34;; string s6(10,&#39;c&#39;); 上述代码的运行结果
void stringinit() { string s1; string s2(s1); string s3(&#34;qwer&#34;); string s4=s1; string s5=&#34;qwer&#34;; string s6(10,&#39;c&#39;); cout&lt;&lt;s1&lt;&lt;&#34;,&#34;&lt;&lt;s2&lt;&lt;&#34;,&#34; &lt;&lt;s3&lt;&lt;&#34;,&#34;&lt;&lt;s4&lt;&lt;&#34;,&#34;&lt;&lt;s5 &lt;&lt;&#34;,&#34;&lt;&lt;s6&lt;&lt;endl; } 从上述结果可以看出，如果等号右边的值或者括号内的值相同，那么拷贝初始化和直接初始化是没有区别的
但实际上，二者调用的函数不同，拷贝初始化调用的是拷贝构造函数，而直接初始化调用的是对应的构造函数
string对象如果执行默认初始化（事实上调用的是无参构造函数），那么对象的默认值是空串
string size函数的返回值
string的size函数返回的是string::size_type，并不是int，string::size_type是一个无符号的数据类型，可以存储下任何大小的string对象
string对象与字符串字面值
string对象（如string tmp=&#34;qwer&#34;;）与字符串字面值（如&#34;qwer&#34;）看起来相似，但是类型完全不同。因为C&#43;&#43;中的字符串字面值不存在加法运算，所以无法对两个字符串字面值进行相加操作（下面代码中第二个res5）
string类将operator&#43;运算符函数定义为非成员函数，而该函数的参数的类型是const string &amp;，又因为const变量的引用可以绑定常量，也可以绑定string对象，所以 string对象可以与字符串字面值相加，也可以与string对象相加。
所以，下面代码中res1等价于operator&#43;(&#34;abc&#34;, tmp)；res2等价于operator&#43;(tmp，&#34;abc&#34;)。res3等价于operator&#43;(operator&#43;(res1，&#34;,&#34;), res2)，res4同理
void stringandlitreal() {	string tmp=&#34;qwer&#34;; string res1=&#34;abc&#34;&#43;tmp; string res2=tmp&#43;&#34;abc&#34;; string res3=res1&#43;&#34;, &#34;&#43;res2; string res4=res3&#43;&#34;qwer&#34;&#43;&#34;abc&#34;; string res5=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c4ec0f9f5a72368e9f16d953249a2344/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-26T20:02:17+08:00" />
<meta property="article:modified_time" content="2020-05-26T20:02:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;知识点4——vector与string简述</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0pt;">string</p> 
<p style="margin-left:0pt;">使用string类必须包含头文件#include&lt;string&gt;</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">string对象的初始化</p> 
<p style="margin-left:0pt;">1.默认初始化</p> 
<pre><code class="language-cpp">string s1;</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">2.拷贝初始化</p> 
<pre><code class="language-cpp">string s4=s1;
string s5="qwer";</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">3.直接初始化</p> 
<pre><code class="language-cpp">string s3("qwer"); 
string s5="qwer"; 
string s6(10,'c');</code></pre> 
<p> </p> 
<p style="margin-left:0pt;">上述代码的运行结果</p> 
<pre><code class="language-cpp">void stringinit()
{
	string s1;
	string s2(s1);
	string s3("qwer");
	string s4=s1;
	string s5="qwer";
	string s6(10,'c');
	cout&lt;&lt;s1&lt;&lt;","&lt;&lt;s2&lt;&lt;","
	&lt;&lt;s3&lt;&lt;","&lt;&lt;s4&lt;&lt;","&lt;&lt;s5
	&lt;&lt;","&lt;&lt;s6&lt;&lt;endl;
}</code></pre> 
<p style="margin-left:0pt;"><img alt="" height="77" src="https://images2.imgbox.com/60/83/n6BXSHuI_o.png" width="368"></p> 
<p style="margin-left:0pt;">从上述结果可以看出，如果等号右边的值或者括号内的值相同，那么拷贝初始化和直接初始化是没有区别的</p> 
<p style="margin-left:0pt;">但实际上，<strong><strong>二者调用的函数不同，拷贝初始化调用的是拷贝构造函数，而直接初始化调用的是对应的构造函数</strong></strong></p> 
<p style="margin-left:0pt;">string对象如果执行默认初始化（事实上调用的是无参构造函数），那么对象的默认值是空串</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">string  size函数的返回值</p> 
<p style="margin-left:0pt;">string的size函数返回的是string::size_type，并不是int，string::size_type是一个无符号的数据类型，可以存储下任何大小的string对象</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">string对象与字符串字面值</p> 
<p style="margin-left:0pt;">string对象（如string tmp="qwer";）与字符串字面值（如"qwer"）看起来相似，但是类型完全不同。因为C++中的字符串字面值不存在加法运算，所以无法对两个字符串字面值进行相加操作（下面代码中第二个res5）</p> 
<p style="margin-left:0pt;">string类将operator+运算符函数定义<strong>为非成员函数</strong>，而该函数的参数的类型是const string &amp;，又因为const变量的引用可以绑定常量，也可以绑定string对象，所以 string对象可以与字符串字面值相加，也可以与string对象相加。</p> 
<p style="margin-left:0pt;">所以，下面代码中res1等价于operator+("abc", tmp)；res2等价于operator+(tmp，"abc")。res3等价于operator+(operator+(res1，","), res2)，res4同理</p> 
<pre><code class="language-cpp">void stringandlitreal()
{	
    string tmp="qwer";
	string res1="abc"+tmp;
	string res2=tmp+"abc";
	string res3=res1+", "+res2;
	string res4=res3+"qwer"+"abc";
	string res5="qwer"+res3+"abc";
	string res5="abc"+"qwer";//加上这句代码，编译无法通过
}</code></pre> 
<p style="margin-left:0pt;"><img alt="" height="126" src="https://images2.imgbox.com/8b/1e/7T1YbPqa_o.png" width="553"></p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">vector</p> 
<p style="margin-left:0pt;">vector类似C语言中的数组，是C++标准库中的模板类，使用vector时，需要包含头文件 #include&lt;vector&gt;</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">vector的初始化（以int为例）</p> 
<p style="margin-left:0pt;">1.默认初始化</p> 
<pre><code class="language-cpp">vector&lt;int&gt; v;</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">2.列表初始化</p> 
<pre><code class="language-cpp">vector&lt;int&gt; v2={1,2,3,4}; 
vector&lt;int&gt; v3{1,2,3,4};</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">3.拷贝初始化</p> 
<pre><code class="language-cpp">vector&lt;int&gt; v4=v2;</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">4.直接初始化</p> 
<pre><code class="language-cpp">vector&lt;int&gt; v5(v2); 
vector&lt;int&gt; v6(10,1);</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">5.用数组初始化vector，也是直接初始化的一种</p> 
<pre><code class="language-cpp">int a[5]={1,2,3}; 
vector&lt;int&gt; v9(a, a+sizeof(a)/sizeof(int));</code></pre> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">代码</p> 
<pre><code class="language-cpp">void vectorinit()
{
	vector&lt;int&gt; v1;//默认初始化，无任何元素
	vector&lt;int&gt; v2={1,2,3,4};
	vector&lt;int&gt; v3{1,2,3,4};
	vector&lt;int&gt; v4=v2;
	vector&lt;int&gt; v5(v2);
	vector&lt;int&gt; v6(10,1);//初始化十个元素，每个都是1
	vector&lt;int&gt; v7(10);//初始化10个元素，都是0
	
	cout&lt;&lt; v1.size()&lt;&lt;endl;

	for (vector&lt;int&gt;::size_type i=0;i&lt;v6.size();++i) {
		cout&lt;&lt;v6[i];
	}
	for (vector&lt;int&gt;::size_type i=0;i&lt;v7.size();++i) {
		cout&lt;&lt;v7[i];
	}

	int *p=&amp;v2[0];
	int &amp;r=v2[0];
	vector&lt;int *&gt; v8(10, p);//可以定义指针的vector
	//vector&lt;int &amp;&gt; v9(10,r);//不能定义引用的vector
	int a[5]={1,2,3};
	vector&lt;int&gt; v9(a, a+sizeof(a)/sizeof(int));
	for (std::vector&lt;int&gt;::size_type i=0;i&lt;v9.size();++i) {
		cout&lt;&lt;v9[i]&lt;&lt;endl;
	}
}</code></pre> 
<p style="margin-left:0pt;">运行结果</p> 
<p style="margin-left:0pt;"><img alt="" height="163" src="https://images2.imgbox.com/4f/ee/KvJzdMCP_o.png" width="519"></p> 
<p style="margin-left:0pt;">默认初始化的vector无任何元素，vector&lt;int&gt; v6(10,1)调用构造函数初始化10个元素，每个元素都是1，vector&lt;int&gt; v7(10)调用构造函数初始化10个元素，都是0。</p> 
<p style="margin-left:0pt;">因为vector中存储的是变量或对象，而引用只是个别名，不是对象，所以不能定义引用的vector</p> 
<p style="margin-left:0pt;">也可以向vector对象传入数组的任意两个元素的地址，用来初始化vector</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">vector中存储string与列表初始化</p> 
<pre><code class="language-cpp">void stringinvector()
{
	vector&lt;string&gt; v1{10, "hi"};//等价于vector&lt;string&gt; v1(10, "hi")
	vector&lt;string&gt; v3{10};//等价于vector&lt;string&gt; v3(10)
	vector&lt;string&gt; v4{"hi"};
	cout&lt;&lt;v1.size()&lt;&lt;","&lt;&lt;v3.size()&lt;&lt;","&lt;&lt;v4.size()&lt;&lt;endl;

	for (vector&lt;string&gt;::size_type i=0;i&lt;v1.size();++i) {
		cout&lt;&lt;v1[i];
	}
	cout&lt;&lt;endl;

	for (vector&lt;string&gt;::size_type i=0;i&lt;v3.size();++i) {
		cout&lt;&lt;v3[i];
	}
	cout&lt;&lt;endl;

	for (vector&lt;string&gt;::size_type i=0;i&lt;v4.size();++i) {
		cout&lt;&lt;v4[i];
	}
}</code></pre> 
<p style="margin-left:0pt;"><img alt="" height="122" src="https://images2.imgbox.com/a5/65/SCO7Lk5c_o.png" width="418"></p> 
<p style="margin-left:0pt;">代码的执行结果显示v1的大小为10，元素都是hi，v3的大小为10，元素都是空串，v4的大小为1，元素是hi</p> 
<p style="margin-left:0pt;">当使用列表初始化的方法初始化存储string的vector时，vector&lt;string&gt; v1{10, "hi"}的初始化结果和vector&lt;string&gt; v1(10, "hi")相同，vector&lt;string&gt; v3{10}的初始化结果和vector&lt;string&gt; v3(10)相同</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">vector元素的添加和访问</p> 
<p style="margin-left:0pt;">当向vector中添加元素时，可以使用函数push_back()，该方法将元素添加到vector的尾部，如果想要访问vector中的某个元素，可以使用下表访问，类似于数组，也可以使用迭代器</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">string，char数组，char指针</p> 
<p style="margin-left:0pt;">可以用char数组或者char指针初始化string，但是反之不行</p> 
<pre><code class="language-cpp">void stringandchar()
{
	char chararray[10]={'a','b',97};
	string str=chararray;
      //char chararray1[10]=str;
	cout&lt;&lt;str&lt;&lt;str.size()&lt;&lt;endl;
}</code></pre> 
<p><img alt="" height="81" src="https://images2.imgbox.com/86/46/rDyqYJyw_o.png" width="519"></p> 
<p style="margin-left:0pt;">上述代码用char数组初始化string，反之则不可以</p> 
<p style="margin-left:0pt;"><img alt="" height="107" src="https://images2.imgbox.com/e3/40/MiwXsSoM_o.png" width="553"></p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">如果想用string对象初始化char指针，需要调用string对象的c_str()函数，c_str的返回值是const char *，需要将左值用const修饰，否则会报错</p> 
<p style="margin-left:0pt;"><img alt="" height="111" src="https://images2.imgbox.com/03/73/n7L24uv6_o.png" width="553"></p> 
<p style="margin-left:0pt;">正确做法如下：</p> 
<pre><code class="language-cpp">void stringandchar()
{
	char chararray[10]={'a','b',97};
	string str=chararray;
	//char chararray1[10]=str.c_str();
	cout&lt;&lt;str&lt;&lt;str.size()&lt;&lt;endl;
	const char *charp=str.c_str();
	cout&lt;&lt;charp&lt;&lt;endl;
}</code></pre> 
<p><img alt="" height="95" src="https://images2.imgbox.com/eb/e0/Dkt1bOgt_o.png" width="551"></p> 
<p> </p> 
<p>参考：</p> 
<p>《C++ Primer》</p> 
<p> </p> 
<p>欢迎大家评论交流，作者水平有限，如有错误，欢迎指出</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e26f31818b3332df6cced1fc31cd5564/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue使用原生canvas绘制海报</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a805e4fd8c8a15b7099ffbf372c0126e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【博客260】RESTFUL API--REpresentational State Transfer</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>