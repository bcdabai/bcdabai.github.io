<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《CMU15-445/645》fall2018 HOMEWORK #1 - SQL - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《CMU15-445/645》fall2018 HOMEWORK #1 - SQL" />
<meta property="og:description" content="目录 课程介绍HOMEWORK #1 - SQLQ1 [0 POINTS] (Q1_SAMPLE)Q2 [5 POINTS] (Q2_WARMUP)Q3 [10 POINTS] (Q3_POPULAR_CITY)Q4 [15 POINTS] (Q4_MOST_POPULAR_STATION)Q5 [15 POINTS] (Q5_DAYS_MOST_BIKE_UTILIZATION):Q6 [10 POINTS] (Q6_OVERLAPPING_TRIPS)Q7 [10 POINTS] (Q7_MULTI_CITY_BIKES)Q8 [10 POINTS] (Q8_BIKE_POPULARITY_BY_WEATHER)Q9 [10 POINTS] (Q9_TEMPERATURE_SHORTER_TRIPS)Q10 [15 POINTS] (Q10_RIDING_IN_STORM) 课程介绍 cmu15-445是一门关于数据库的课程，看到该课程的homeworks和project就觉得十分有挑战性。目前该课程已经更新到2020fall，为了方便学习，同时之前版本也在官网上公布了homeworks的参考答案，参考资料相对较多，因此选择2018秋季学期课程来学习。课程首页，youtube课程视频
homework1对应的作业文档为HOMEWORK #1 - SQL
HOMEWORK #1 - SQL 配置sqlite以及下载数据库省略，作业给出的数据库关系图如下。
如下题目在官网有参考答案，我还是记录一下我的解决过程。参考答案
Q1 [0 POINTS] (Q1_SAMPLE) Count the number of cities. The purpose of this query is to make sure that the formatting of your output matches exactly the formatting of our auto- grading script." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f3b6e596ef8be73f200bfee097e1f020/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-17T17:41:37+08:00" />
<meta property="article:modified_time" content="2020-12-17T17:41:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《CMU15-445/645》fall2018 HOMEWORK #1 - SQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">课程介绍</a></li><li><a href="#HOMEWORK_1__SQL_4" rel="nofollow">HOMEWORK #1 - SQL</a></li><li><ul><li><a href="#Q1_0_POINTS_Q1_SAMPLE_8" rel="nofollow">Q1 [0 POINTS] (Q1_SAMPLE)</a></li><li><a href="#Q2_5_POINTS_Q2_WARMUP_17" rel="nofollow">Q2 [5 POINTS] (Q2_WARMUP)</a></li><li><a href="#Q3_10_POINTS_Q3_POPULAR_CITY_28" rel="nofollow">Q3 [10 POINTS] (Q3_POPULAR_CITY)</a></li><li><a href="#Q4_15_POINTS_Q4_MOST_POPULAR_STATION_61" rel="nofollow">Q4 [15 POINTS] (Q4_MOST_POPULAR_STATION)</a></li><li><a href="#Q5_15_POINTS_Q5_DAYS_MOST_BIKE_UTILIZATION_112" rel="nofollow">Q5 [15 POINTS] (Q5_DAYS_MOST_BIKE_UTILIZATION):</a></li><li><a href="#Q6_10_POINTS_Q6_OVERLAPPING_TRIPS_134" rel="nofollow">Q6 [10 POINTS] (Q6_OVERLAPPING_TRIPS)</a></li><li><a href="#Q7_10_POINTS_Q7_MULTI_CITY_BIKES_147" rel="nofollow">Q7 [10 POINTS] (Q7_MULTI_CITY_BIKES)</a></li><li><a href="#Q8_10_POINTS_Q8_BIKE_POPULARITY_BY_WEATHER_162" rel="nofollow">Q8 [10 POINTS] (Q8_BIKE_POPULARITY_BY_WEATHER)</a></li><li><a href="#Q9_10_POINTS_Q9_TEMPERATURE_SHORTER_TRIPS_180" rel="nofollow">Q9 [10 POINTS] (Q9_TEMPERATURE_SHORTER_TRIPS)</a></li><li><a href="#Q10_15_POINTS_Q10_RIDING_IN_STORM_215" rel="nofollow">Q10 [15 POINTS] (Q10_RIDING_IN_STORM)</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>课程介绍</h2> 
<p>cmu15-445是一门关于数据库的课程，看到该课程的homeworks和project就觉得十分有挑战性。目前该课程已经更新到2020fall，为了方便学习，同时之前版本也在官网上公布了homeworks的参考答案，参考资料相对较多，因此选择2018秋季学期课程来学习。<a href="https://15445.courses.cs.cmu.edu/fall2018/" rel="nofollow">课程首页</a>，youtube<a href="https://www.youtube.com/watch?v=vyVGm_2iFwU&amp;list=PLSE8ODhjZXja3hgmuwhf89qboV1kOxMx7" rel="nofollow">课程视频</a><br> homework1对应的作业文档为<a href="https://15445.courses.cs.cmu.edu/fall2018/homework1/" rel="nofollow">HOMEWORK #1 - SQL</a></p> 
<h2><a id="HOMEWORK_1__SQL_4"></a>HOMEWORK #1 - SQL</h2> 
<p>配置sqlite以及下载数据库省略，作业给出的数据库关系图如下。<br> <img src="https://images2.imgbox.com/03/1a/3K6jgOig_o.png" alt="在这里插入图片描述"><br> 如下题目在官网有参考答案，我还是记录一下我的解决过程。<a href="https://15445.courses.cs.cmu.edu/fall2018/assignments.html" rel="nofollow">参考答案</a></p> 
<h3><a id="Q1_0_POINTS_Q1_SAMPLE_8"></a>Q1 [0 POINTS] (Q1_SAMPLE)</h3> 
<blockquote> 
 <p>Count the number of cities. The purpose of this query is to make sure that the formatting of your output matches exactly the formatting of our auto- grading script.<br> Details: Print the number of cities (eliminating duplicates).</p> 
</blockquote> 
<p>查询名字唯一的城市的数量</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> city<span class="token punctuation">)</span> 
<span class="token keyword">from</span> station<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q2_5_POINTS_Q2_WARMUP_17"></a>Q2 [5 POINTS] (Q2_WARMUP)</h3> 
<blockquote> 
 <p>Count the number of stations in each city.<br> Details: Print city name and number of stations. Sort by number of stations (increasing), and break ties by city name (increasing).</p> 
</blockquote> 
<p>需要查询每个城市的火车站的数量，并且先按照每个城市的火车站的数量排序，再按照城市名排序（都是升序）。此题并不难。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> city<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>station_id<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt 
<span class="token keyword">from</span> station 
<span class="token keyword">group</span> <span class="token keyword">by</span> city 
<span class="token keyword">order</span> <span class="token keyword">by</span> cnt <span class="token keyword">asc</span><span class="token punctuation">,</span> city <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q3_10_POINTS_Q3_POPULAR_CITY_28"></a>Q3 [10 POINTS] (Q3_POPULAR_CITY)</h3> 
<blockquote> 
 <p>Find the percentage of trips in each city. A trip belongs to a city as long as its start station or end station is in the city. For example, if a trip started from station A in city P and ended in station B in city Q, then the trip belongs to both city P and city Q. If P equals to Q, the trip is only counted once.<br> Details: Print city name and ratio between the number of trips that belong to that city against the total number of trips (a decimal between 0-1, round to four decimal places using ROUND()). Sort by ratio (decreasing), and break ties by city name (increasing).</p> 
</blockquote> 
<p>此题需要查询每个城市名，以及其所占trip总数的比例（当其作为trip的起点或终点时候，起点终点不重复计数）。<br> 按照如下步骤，将sql语句分解。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> city<span class="token punctuation">,</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token keyword">as</span> ratio
<span class="token keyword">from</span> <span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token keyword">as</span> city_trip_cnt<span class="token punctuation">,</span> <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token keyword">as</span> trip_cnt
<span class="token keyword">order</span> <span class="token keyword">by</span> ratio <span class="token keyword">DESC</span><span class="token punctuation">,</span> city <span class="token keyword">ASC</span><span class="token punctuation">;</span>

A: 
<span class="token function">round</span><span class="token punctuation">(</span>city_trip_cnt<span class="token punctuation">.</span>cnt <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> trip_cnt<span class="token punctuation">.</span>cnt<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

B:
<span class="token keyword">select</span> city<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
<span class="token keyword">where</span> station_id  <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id
<span class="token keyword">group</span> <span class="token keyword">by</span> city

C:
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt <span class="token keyword">from</span> trip<span class="token punctuation">;</span>
</code></pre> 
<p>最终结果为：</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> city<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span>city_trip_cnt<span class="token punctuation">.</span>cnt <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> all_trip_cnt<span class="token punctuation">.</span>cnt<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> ratio
<span class="token keyword">from</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> city<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
		<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
		<span class="token keyword">where</span> station_id <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id
		<span class="token keyword">group</span> <span class="token keyword">by</span> city<span class="token punctuation">)</span> <span class="token keyword">as</span> city_trip_cnt<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt <span class="token keyword">from</span> trip<span class="token punctuation">)</span> <span class="token keyword">as</span> all_trip_cnt
<span class="token keyword">order</span> <span class="token keyword">by</span> ratio <span class="token keyword">desc</span><span class="token punctuation">,</span> city <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q4_15_POINTS_Q4_MOST_POPULAR_STATION_61"></a>Q4 [15 POINTS] (Q4_MOST_POPULAR_STATION)</h3> 
<blockquote> 
 <p>For each city, find the most popular station in that city. “Popular” means that the station has the highest count of visits. As above, either starting a trip or finishing a trip at a station, the trip is counted as one “visit” to that station. The trip is only counted once if the start station and the end station are the same.<br> Details: For each station, print city name, most popular station name and its visit count. Sort by city name, ascending.</p> 
</blockquote> 
<p>此题有一定难度，需要找到每个城市最收欢迎的车站，输出访问次数。官方给出的参考答案如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">with</span> visit<span class="token punctuation">(</span>station_id<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> city<span class="token punctuation">,</span> cnt<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> station_id<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> city<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt 
	<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station 
	<span class="token keyword">where</span> station_id <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id 
	<span class="token keyword">group</span> <span class="token keyword">by</span> station_id<span class="token punctuation">)</span>

<span class="token keyword">select</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>station_name<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>cnt 
<span class="token keyword">from</span> visit 
<span class="token keyword">where</span> visit<span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span> 
					<span class="token keyword">from</span> visit <span class="token keyword">as</span> max_visit 
					<span class="token keyword">where</span> max_visit<span class="token punctuation">.</span>city <span class="token operator">=</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">)</span> 
<span class="token keyword">order</span> <span class="token keyword">by</span> city<span class="token punctuation">;</span>
</code></pre> 
<p>我按照参考答案的思路不用<code>with as</code>语法实现了一遍，发现<code>with as</code>相比来说清晰了很多。代码如下</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>station_name<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>cnt
<span class="token keyword">from</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token keyword">as</span> visit
<span class="token keyword">where</span> visit<span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>max_visit<span class="token punctuation">.</span>cnt<span class="token punctuation">)</span>
					<span class="token keyword">from</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token keyword">as</span> max_visit
					<span class="token keyword">where</span> max_visit<span class="token punctuation">.</span>city <span class="token operator">=</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">)</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> city <span class="token keyword">asc</span><span class="token punctuation">;</span>

A: 
<span class="token keyword">select</span> city<span class="token punctuation">,</span> station_id<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
<span class="token keyword">where</span> station_id <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id
<span class="token keyword">group</span> <span class="token keyword">by</span> station_id<span class="token punctuation">;</span>
</code></pre> 
<p>最终代码为</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>station_name<span class="token punctuation">,</span> visit<span class="token punctuation">.</span>cnt
<span class="token keyword">from</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> city<span class="token punctuation">,</span> station_id<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
		<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
		<span class="token keyword">where</span> station_id <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id
		<span class="token keyword">group</span> <span class="token keyword">by</span> station_id<span class="token punctuation">)</span> <span class="token keyword">as</span> visit
<span class="token keyword">where</span> visit<span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>max_visit<span class="token punctuation">.</span>cnt<span class="token punctuation">)</span>
					<span class="token keyword">from</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> city<span class="token punctuation">,</span> station_id<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
							<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
							<span class="token keyword">where</span> station_id <span class="token operator">=</span> start_station_id <span class="token operator">or</span> station_id <span class="token operator">=</span> end_station_id
							<span class="token keyword">group</span> <span class="token keyword">by</span> station_id<span class="token punctuation">)</span> <span class="token keyword">as</span> max_visit
					<span class="token keyword">where</span> max_visit<span class="token punctuation">.</span>city <span class="token operator">=</span> visit<span class="token punctuation">.</span>city<span class="token punctuation">)</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> city <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre> 
<p>可以看到使用<code>with as</code>语法降低了代码的复杂度。关于参考代码给出的group by而在select 中又出现了不是group by中的字段，感觉这样写不是很合适。（这里可能是因为group by的是pk 所以不会出现问题吧?）。</p> 
<h3><a id="Q5_15_POINTS_Q5_DAYS_MOST_BIKE_UTILIZATION_112"></a>Q5 [15 POINTS] (Q5_DAYS_MOST_BIKE_UTILIZATION):</h3> 
<blockquote> 
 <p>Find the top 10 days that have the highest average bike utilization. For simplicity, we only consider trips that use bikes with id &lt;= 100. The average bike utilization on date D is calculated as the sum of the durations of all the trips that happened on date D divided by the total number of bikes with id &lt;= 100, which is a constant. If a trip overlaps with date D, but starts before date D or ends after date D, then only the interval that overlaps with date D (from 0:00 to 24:00) will be counted when calculating the average bike utilization of date D. And we only calculate the average bike utilization for the date that has been either a start or an end date of a trip. You can assume that no trip has negative time (i.e., for all trips, start time &lt;= end time).<br> Details: For the dates with the top 10 average duration, print the date and the average bike duration on that date (in seconds, round to four decimal places using the ROUND() function). Sort by the average duration, decreasing. Please refer to the updated note before Q1 when calculating the duration of a trip.<br> <strong>Hint</strong>: All timestamps are stored as text after loaded from csv in sqlite. You can use datetime(timestamp string) to get the timestamp out of the string and date(timestamp string) to get the date out of the string. You may also find the funtion strftime() helpful in computing the duration between two timestamps.</p> 
</blockquote> 
<p>日期函数参考<a href="https://www.runoob.com/sqlite/sqlite-date-time.html" rel="nofollow">SQLite 日期 &amp; 时间</a><br> with dates as中的unoin对date()取得的日期进行去重。最终的tdate即有trip的每一天。有一个容易误解的点是，最后的select中排序输出的天数只包含那些出现在start_time和end_time中的天数。</p> 
<pre><code class="prism language-sql"><span class="token keyword">with</span> dates <span class="token keyword">as</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> <span class="token keyword">date</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token keyword">as</span> tdate 
	<span class="token keyword">from</span> trip 
	<span class="token keyword">union</span>
	<span class="token keyword">select</span> <span class="token keyword">date</span><span class="token punctuation">(</span>end_time<span class="token punctuation">)</span> <span class="token keyword">as</span> tdate
	<span class="token keyword">from</span> trip<span class="token punctuation">)</span>
<span class="token keyword">select</span> tdate<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>strftime<span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">datetime</span><span class="token punctuation">(</span>end_time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>tdate<span class="token punctuation">,</span> <span class="token string">'+1 day'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">datetime</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>tdate<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span><span class="token punctuation">(</span>bike_id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> trip <span class="token keyword">where</span> bike_id <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg_duration 
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> dates 
<span class="token keyword">where</span> bike_id <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">and</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>tdate<span class="token punctuation">,</span> <span class="token string">'+1 day'</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>end_time<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token keyword">datetime</span><span class="token punctuation">(</span>tdate<span class="token punctuation">)</span> 
<span class="token keyword">group</span> <span class="token keyword">by</span> tdate 
<span class="token keyword">order</span> <span class="token keyword">by</span> avg_duration <span class="token keyword">desc</span> 
<span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> 
<p>通过该问题，了解了日期的函数究竟是怎么一回事。date：年月日，time：时分秒，datetime：年月日+时分秒。</p> 
<h3><a id="Q6_10_POINTS_Q6_OVERLAPPING_TRIPS_134"></a>Q6 [10 POINTS] (Q6_OVERLAPPING_TRIPS)</h3> 
<blockquote> 
 <p>One of the possible data-entry errors is to record a bike as being used in two different trips, at the same time. Thus, we want to spot pairs of overlapping intervals (start time, end time). To keep the output manageable, we ask you to do this check for bikes with id between 100 and 200 (both inclusive). Note: Assume that no trip has negative time, i.e., for all trips, start time &lt;= end time.<br> Details: For each conflict (a pair of conflict trips), print the bike id, former trip id, former start time, former end time, latter trip id, latter start time, latter end time. Sort by bike id (increasing), break ties with former trip id (increasing) and then latter trip id (increasing).<br> <strong>Hint</strong>: (1) Report each conflict pair only once, so that former trip id &lt; latter trip id. (2) We give you the (otherwise tricky) condition for conflicts: start1 &lt; end2 AND end1 &gt; start2</p> 
</blockquote> 
<p>这题需要严格按照hint来写，并且非常简单。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> f_trip<span class="token punctuation">.</span>bike_id<span class="token punctuation">,</span> f_trip<span class="token punctuation">.</span>id<span class="token punctuation">,</span> f_trip<span class="token punctuation">.</span>start_time<span class="token punctuation">,</span> f_trip<span class="token punctuation">.</span>end_time<span class="token punctuation">,</span> l_trip<span class="token punctuation">.</span>id<span class="token punctuation">,</span> l_trip<span class="token punctuation">.</span>start_time<span class="token punctuation">,</span> l_trip<span class="token punctuation">.</span>end_time
<span class="token keyword">from</span> trip <span class="token keyword">as</span> f_trip<span class="token punctuation">,</span> trip <span class="token keyword">as</span> l_trip
<span class="token keyword">where</span> f_trip<span class="token punctuation">.</span>bike_id <span class="token operator">&gt;=</span> <span class="token number">100</span> <span class="token operator">and</span> f_trip<span class="token punctuation">.</span>bike_id <span class="token operator">&lt;=</span> <span class="token number">200</span> <span class="token operator">and</span> f_trip<span class="token punctuation">.</span>bike_id <span class="token operator">=</span> l_trip<span class="token punctuation">.</span>bike_id <span class="token operator">and</span> f_trip<span class="token punctuation">.</span>id <span class="token operator">&lt;</span> l_trip<span class="token punctuation">.</span>id
	<span class="token operator">and</span> f_trip<span class="token punctuation">.</span>start_time <span class="token operator">&lt;</span> l_trip<span class="token punctuation">.</span>end_time <span class="token operator">and</span> f_trip<span class="token punctuation">.</span>end_time <span class="token operator">&gt;</span> l_trip<span class="token punctuation">.</span>start_time
<span class="token keyword">order</span> <span class="token keyword">by</span> f_trip<span class="token punctuation">.</span>bike_id <span class="token keyword">ASC</span><span class="token punctuation">,</span> f_trip<span class="token punctuation">.</span>id <span class="token keyword">ASC</span><span class="token punctuation">,</span> l_trip<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q7_10_POINTS_Q7_MULTI_CITY_BIKES_147"></a>Q7 [10 POINTS] (Q7_MULTI_CITY_BIKES)</h3> 
<blockquote> 
 <p>Find all the bikes that have been to more than one city. A bike has been to a city as long as the start station or end station in one of its trips is in that city.<br> Details: For each bike that has been to more than one city, print the bike id and the number of cities it has been to. Sort by the number of cities (decreasing), then bike id (increasing).</p> 
</blockquote> 
<p>根据题意，直接将trip和station连接然后用<code>count(distinct city)</code>去重即可。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> bike_id<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> city<span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station
<span class="token keyword">where</span> start_station_id <span class="token operator">=</span> station_id <span class="token operator">or</span> end_station_id <span class="token operator">=</span> station_id
<span class="token keyword">group</span> <span class="token keyword">by</span> bike_id
<span class="token keyword">having</span> cnt <span class="token operator">&gt;</span> <span class="token number">1</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> cnt <span class="token keyword">desc</span><span class="token punctuation">,</span> bike_id <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q8_10_POINTS_Q8_BIKE_POPULARITY_BY_WEATHER_162"></a>Q8 [10 POINTS] (Q8_BIKE_POPULARITY_BY_WEATHER)</h3> 
<blockquote> 
 <p>Find what is the average number of trips made per day on each type of weather day. The type of weather on a day is specified by weather.events, such as ‘Rain’, ‘Fog’ and so on. For simplicity, we consider all days that does not have a weather event (weather.events = ‘\N’) as a single type of weather. Here a trip belongs to a date only if its start time is on that date. We use the weather at the starting position of that trip as its weather type as well. There are also ‘Rain’ and ‘rain’ in weather.events. For simplicity, we consider them as different types of weathers. When counting the total number of days for a weather, we consider a weather happened on a date as long as it happened in at least one region on that date.<br> <strong>Details</strong>: Print the name of the weather and the average number of trips made per day on that type of weather (round to four decimal places using ROUND()). Sort by the average number of trips (decreasing), then weather name (increasing).</p> 
</blockquote> 
<p>这题读题目读的很迷惑，根据代码倒是很简单，直接求所有天气，该天气共有多少天，以及该天气中有多少天是出行(start_time)天，求个比例即可。</p> 
<pre><code class="prism language-sql"><span class="token keyword">with</span> event_cnt <span class="token punctuation">(</span>events<span class="token punctuation">,</span> cnt<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> events<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> <span class="token keyword">date</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt 
	<span class="token keyword">from</span> weather 
	<span class="token keyword">group</span> <span class="token keyword">by</span> events
<span class="token punctuation">)</span>
<span class="token keyword">select</span> w<span class="token punctuation">.</span>events<span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> t<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token operator">/</span> event_cnt<span class="token punctuation">.</span>cnt<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> avg_num
<span class="token keyword">from</span> trip <span class="token keyword">as</span> t<span class="token punctuation">,</span> station <span class="token keyword">as</span> s<span class="token punctuation">,</span> weather <span class="token keyword">as</span> w<span class="token punctuation">,</span> event_cnt
<span class="token keyword">where</span> t<span class="token punctuation">.</span>start_station_id <span class="token operator">=</span> s<span class="token punctuation">.</span>station_id <span class="token operator">and</span> <span class="token keyword">date</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> w<span class="token punctuation">.</span><span class="token keyword">date</span> <span class="token operator">and</span> s<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> w<span class="token punctuation">.</span>zip_code <span class="token operator">and</span> w<span class="token punctuation">.</span>events <span class="token operator">=</span> event_cnt<span class="token punctuation">.</span>events
<span class="token keyword">group</span> <span class="token keyword">by</span> w<span class="token punctuation">.</span>events
<span class="token keyword">order</span> <span class="token keyword">by</span> avg_num <span class="token keyword">desc</span><span class="token punctuation">,</span> w<span class="token punctuation">.</span>events <span class="token keyword">asc</span>
</code></pre> 
<h3><a id="Q9_10_POINTS_Q9_TEMPERATURE_SHORTER_TRIPS_180"></a>Q9 [10 POINTS] (Q9_TEMPERATURE_SHORTER_TRIPS)</h3> 
<blockquote> 
 <p>A short trip is a trip whose duration is &lt;= 60 seconds. Compute the average temperature that a short trip starts versus the average temperature that a non-short trip starts. We use weather.mean_temp on the date of the start time as the Temperature measurement.<br> <strong>Details</strong>: Print the average temperature that a short trip starts and the average temperature that a non-short trip starts. (on the same row, and both round to four decimal places using ROUND()) Please refer to the updated note before Q1 when calculating the duration of a trip.</p> 
</blockquote> 
<p>这题有个坑点就是连接trip、station、weater表的时候要使用date 和 zip_code 和station这几个字段来连接。其他没什么难点了。<br> 查询short_trip</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span>mean_temp<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">temp</span>
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station<span class="token punctuation">,</span> weather
<span class="token keyword">where</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> end_time<span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> start_time<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">60</span> <span class="token operator">and</span> start_station_id <span class="token operator">=</span> station_id 
	<span class="token operator">and</span> station<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> weather<span class="token punctuation">.</span>zip_code <span class="token operator">and</span> <span class="token keyword">date</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">date</span>
</code></pre> 
<p>查询long_trip</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span>mean_temp<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">temp</span>
<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station<span class="token punctuation">,</span> weather
<span class="token keyword">where</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> end_time<span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> start_time<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">60</span> <span class="token operator">and</span> start_station_id <span class="token operator">=</span> station_id 
	<span class="token operator">and</span> station<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> weather<span class="token punctuation">.</span>zip_code <span class="token operator">and</span> <span class="token keyword">date</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">date</span>
</code></pre> 
<p>合并上述两个结果，最终结果如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> short_trip<span class="token punctuation">.</span><span class="token keyword">temp</span><span class="token punctuation">,</span> long_trip<span class="token punctuation">.</span><span class="token keyword">temp</span>
<span class="token keyword">from</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span>mean_temp<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">temp</span>
	<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station<span class="token punctuation">,</span> weather
	<span class="token keyword">where</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> end_time<span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> start_time<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">60</span> <span class="token operator">and</span> start_station_id <span class="token operator">=</span> station_id 
			<span class="token operator">and</span> station<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> weather<span class="token punctuation">.</span>zip_code <span class="token operator">and</span> <span class="token keyword">date</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">date</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> short_trip<span class="token punctuation">,</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span>mean_temp<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">temp</span>
	<span class="token keyword">from</span> trip<span class="token punctuation">,</span> station<span class="token punctuation">,</span> weather
	<span class="token keyword">where</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> end_time<span class="token punctuation">)</span> <span class="token operator">-</span> strftime<span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> start_time<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">60</span> <span class="token operator">and</span> start_station_id <span class="token operator">=</span> station_id 
		<span class="token operator">and</span> station<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> weather<span class="token punctuation">.</span>zip_code <span class="token operator">and</span> <span class="token keyword">date</span><span class="token punctuation">(</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">date</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> long_trip<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Q10_15_POINTS_Q10_RIDING_IN_STORM_215"></a>Q10 [15 POINTS] (Q10_RIDING_IN_STORM)</h3> 
<blockquote> 
 <p>For each zip code that has experienced ‘Rain-Thunderstorm’ weather, find the station that has the most number of trips in that zip code under the storm weather. For simplicity, we only consider the start time of a trip when deciding the station and the weather for that trip.<br> <strong>Details</strong>: Print the zip code that has experienced the ‘Rain-Thunderstorm’ weather, the name of the station that has the most number of trips under the strom weather in that zip code, and the total number of trips that station has under the storm weather. Sort by the zip code (increasing). You do not need to print the zip code that has experienced ‘Rain-Thunderstorm’ weather but no trip happens on any storm day in that zip code.</p> 
</blockquote> 
<p>这题有点难，由于要找最大的，同时要考虑并列的，因此where中也需要重复查询<code>storm_count</code>，因此抽出来一个<code>storm_count</code>。</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> zip_code<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> cnt
<span class="token keyword">from</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span>
<span class="token keyword">where</span> cnt <span class="token operator">=</span> <span class="token punctuation">(</span>B<span class="token punctuation">)</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> zip_code <span class="token keyword">asc</span><span class="token punctuation">;</span>

A:
<span class="token keyword">with</span> storm_count <span class="token keyword">as</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> s<span class="token punctuation">.</span>zip_code<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_id<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
	<span class="token keyword">from</span> weather <span class="token keyword">as</span> w<span class="token punctuation">,</span> station <span class="token keyword">as</span> s<span class="token punctuation">,</span> trip <span class="token keyword">as</span> t
	<span class="token keyword">where</span> <span class="token keyword">date</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> w<span class="token punctuation">.</span><span class="token keyword">date</span> <span class="token operator">and</span> t<span class="token punctuation">.</span>start_station_id <span class="token operator">=</span> s<span class="token punctuation">.</span>station_id <span class="token operator">and</span> s<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> w<span class="token punctuation">.</span>zip_code
	<span class="token keyword">group</span> <span class="token keyword">by</span> s<span class="token punctuation">.</span>zip_code<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_id
<span class="token punctuation">)</span>

B:
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>max_s_c<span class="token punctuation">.</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">from</span> <span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token keyword">as</span> max_s_c
<span class="token keyword">where</span> storm_count<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> max_s_c<span class="token punctuation">.</span>zip_code
</code></pre> 
<p>整合以后的最终结果为</p> 
<pre><code class="prism language-sql"><span class="token keyword">with</span> storm_count <span class="token keyword">as</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> s<span class="token punctuation">.</span>zip_code<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_id<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_name<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cnt
	<span class="token keyword">from</span> weather <span class="token keyword">as</span> w<span class="token punctuation">,</span> station <span class="token keyword">as</span> s<span class="token punctuation">,</span> trip <span class="token keyword">as</span> t
	<span class="token keyword">where</span> <span class="token keyword">date</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>start_time<span class="token punctuation">)</span> <span class="token operator">=</span> w<span class="token punctuation">.</span><span class="token keyword">date</span> <span class="token operator">and</span> t<span class="token punctuation">.</span>start_station_id <span class="token operator">=</span> s<span class="token punctuation">.</span>station_id <span class="token operator">and</span> s<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> w<span class="token punctuation">.</span>zip_code
			<span class="token operator">and</span> events <span class="token operator">=</span> <span class="token string">'Rain-Thunderstorm'</span>
	<span class="token keyword">group</span> <span class="token keyword">by</span> s<span class="token punctuation">.</span>zip_code<span class="token punctuation">,</span> s<span class="token punctuation">.</span>station_id
<span class="token punctuation">)</span>
<span class="token keyword">select</span> zip_code<span class="token punctuation">,</span> station_name<span class="token punctuation">,</span> cnt
<span class="token keyword">from</span> storm_count
<span class="token keyword">where</span> cnt <span class="token operator">=</span> <span class="token punctuation">(</span>	<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>max_s_c<span class="token punctuation">.</span>cnt<span class="token punctuation">)</span>
				<span class="token keyword">from</span> storm_count <span class="token keyword">as</span> max_s_c
				<span class="token keyword">where</span> storm_count<span class="token punctuation">.</span>zip_code <span class="token operator">=</span> max_s_c<span class="token punctuation">.</span>zip_code<span class="token punctuation">)</span>
<span class="token keyword">order</span> <span class="token keyword">by</span> zip_code <span class="token keyword">asc</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79887d4964f0c22a1f893ca54f278848/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Centos7/8 kdevtmpfsi病毒处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a9964b90cb1e44253f2e3e546c4a093/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VMware安装虚拟机提示您的主机不满足在启用 Hyper-V 或 Device/Credential Guard 的情况下运行 VMware Workstation 的最低要求</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>