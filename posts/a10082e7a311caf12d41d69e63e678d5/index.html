<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>exynos 4412 mfc 介绍 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="exynos 4412 mfc 介绍" />
<meta property="og:description" content="exynos 系列处理器的多媒体编解码依靠的是mfc硬件模块
目前对MFC的介绍较少。
这里粗略的总结一下
MFC 有个RISC的小核，有8K的Icache，4K的Dcache，这个RISC可以对ES流每一帧的头数据进行分析或者合成 MFC由以下部分构成：RISC， MFC core（各种加速器），寄存器组，总线接口，内存接口 RISC和HOST都可以访问寄存器组，通过寄存器组互相通信，RISC通过产生一个中断，告诉HOST有消息，HOST收到消息后处理，
然后写MFC_RISC_HOST_INT 寄存器清掉中断位
MFC有两个AXI 总线接口。构成两个通道，可以同时全速运行。从而同时进行两路的编解码。 上图中的Search SRAM用来防止参考image, 这个主要是在运动估计和运动补偿的时候用到 Share SRAM的作用主要是保存共享当前视频帧。供前后帧在编码的时候使用。 Pixel cache， 这个位于MFC core内部，用来减少对参考帧的访问次数。对亮度数据有2K的缓存，对色度数据有1K的缓存 Host 和MFC之间通过共享内存来交换要解码的数据和解码完毕的数据 MFC的固件版本会更新，很多编解码的内部的状态设置，参数设置会变化，所以不能用寄存器这种固定的东西来实现，要用共享内存来实现主机和MFC的互联 S5PV210 mfc寄存器分为以下几类 1，buffer地址设置类 2，R2H,H2R设置类 3，一些相对固定的编解码器状态设置/读取类 R2H H2R是什么东西？
R2H，主要用在了中断，H2R主要用在告诉MFC的一些状态，例如wake up，sleep等，似乎和解码的具体细节无关" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a10082e7a311caf12d41d69e63e678d5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-21T22:29:57+08:00" />
<meta property="article:modified_time" content="2016-06-21T22:29:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">exynos 4412 mfc 介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>exynos 系列处理器的多媒体编解码依靠的是mfc硬件模块</p> 
<p>目前对MFC的介绍较少。</p> 
<p>这里粗略的总结一下</p> 
<p><br> </p> 
<img src="https://images2.imgbox.com/1e/8a/DTWC0B0d_o.jpg" alt=""> 
<br> 
<br> MFC  有个RISC的小核，有8K的Icache，4K的Dcache，这个RISC可以对ES流每一帧的头数据进行分析或者合成 
<br> 
<br> 
<br> MFC由以下部分构成：RISC， MFC core（各种加速器），寄存器组，总线接口，内存接口 
<br> 
<p>RISC和HOST都可以访问寄存器组，通过寄存器组互相通信，RISC通过产生一个中断，告诉HOST有消息，HOST收到消息后处理，</p> 
<p>然后写MFC_RISC_HOST_INT 寄存器清掉中断位</p> 
<br> MFC有两个AXI 总线接口。构成两个通道，可以同时全速运行。从而同时进行两路的编解码。 
<br> 上图中的Search SRAM用来防止参考image,  这个主要是在运动估计和运动补偿的时候用到 
<br> 
<br> Share SRAM的作用主要是保存共享当前视频帧。供前后帧在编码的时候使用。 
<br> 
<br> Pixel cache， 这个位于MFC core内部，用来减少对参考帧的访问次数。对亮度数据有2K的缓存，对色度数据有1K的缓存 
<br> 
<br> Host 和MFC之间通过共享内存来交换要解码的数据和解码完毕的数据 
<br> 
<br> 
<br> MFC的固件版本会更新，很多编解码的内部的状态设置，参数设置会变化，所以不能用寄存器这种固定的东西来实现，要用共享内存来实现主机和MFC的互联 
<br> 
<br> 
<br> 
<span style="font-size:13.3333px">S5PV210 mfc寄存器分为以下几类</span> 
<br style="font-size:13.3333px"> 
<span style="font-size:13.3333px">1，buffer地址设置类</span> 
<br style="font-size:13.3333px"> 
<span style="font-size:13.3333px">2，R2H,H2R设置类</span> 
<br style="font-size:13.3333px"> 
<span style="font-size:13.3333px">3，一些相对固定的编解码器状态设置/读取类</span> 
<br style="font-size:13.3333px"> 
<br> 
<br> 
<p><span style="white-space:pre"></span>R2H H2R是什么东西？</p> 
<p>  R2H，主要用在了中断，H2R主要用在告诉MFC的一些状态，例如wake up，sleep等，似乎和解码的具体细节无关</p> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4b250ad1271bb07fdd022dc133a4afb3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用video.js播放视频</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67baed4c9a266536214555173de7d8e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">结合芯片exynos 4412介绍V4L2用来视频编解码的驱动</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>