<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Win10&#43;TensorRT 8.5安装&#43;VS2022配置 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Win10&#43;TensorRT 8.5安装&#43;VS2022配置" />
<meta property="og:description" content="环境 Anaconda3 [python 3.8]Visual Studio 2022CUDA 11.8cuDNN 8.6.0TensorRT 8.5.2.2 TensorRT 下载并 配置 下载 TensorRT 8.x # 如下载8.5.2.2版本 TensorRT-8.5.2.2.Windows10.x86_64.cuda-11.8.cudnn8.6.zip 加压后，添加环境变量PATH中(根据自己路径) # 将lib路径添加到环境变量 D:\AI_SoftEnv\TensorRT\TensorRT-8.5.2.2\lib 将TensorRT-8.5.2.2\lib下的lib文件和dll文件分别拷贝到CUDA的lib/x64路径和bin路径下 C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8\bin C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8\lib\x64 安装pytho版本tensorrt # 到TensorRT-8.5.2.2\python下，根据自己的python版本安装tensorrt pip install tensorrt-8.5.2.2-cp38-none-win_amd64.whl # 测试 import tensorrt as trt trt.__version__ VS2022配置TensorRT并测试 使用VS2022打开TensorRT-8.5.2.2\samples\sampleOnnxMNIST\sample_onnx_mnist.sln
进行如下环境配置
注：对于VS2022，其已经默认添加了这几个库（前4个是tensorrt的，后3个是cuda的）。为了说明，还是按照上面方式配置即可。
nvinfer.lib
nvinfer_plugin.lib
nvonnxparser.lib
nvparsers.lib
cudnn.lib
cublas.lib
cudart.lib
到此为止，TensorRT在VS中就配置好了（实际上面也展示了CUDA的配置），下面就可以直接测试案例程序了。
为了防止后面执行exe操作闪退，添加getchar();到main函数下
之后编译build即可。
编译成功后，会在 TensorRT-8.5.2.2\bin 路径下生成可执行文件sample_onnx_mnist.exe
双击运行即可
以上就是TensorRT安装和VS配置以及官方Demo运行过程，到此就说明一切都OK了。
备注 以上过程可能存在找不到zlibwapi.dll的问题，解决办法：
官网下载 ZLIB DLL 库，解压后将zlibwapi." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f7648313bda174c5e7a0f925afbd0403/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-05T15:02:10+08:00" />
<meta property="article:modified_time" content="2023-04-05T15:02:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Win10&#43;TensorRT 8.5安装&#43;VS2022配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="_0"></a>环境</h5> 
<ul><li>Anaconda3 [python 3.8]</li><li>Visual Studio 2022</li><li>CUDA 11.8</li><li>cuDNN 8.6.0</li><li>TensorRT 8.5.2.2</li></ul> 
<hr> 
<h5><a id="TensorRT___8"></a>TensorRT 下载并 配置</h5> 
<ul><li>下载 <a href="https://developer.nvidia.com/nvidia-tensorrt-8x-download" rel="nofollow">TensorRT 8.x</a></li></ul> 
<pre><code class="prism language-powershell"><span class="token comment"># 如下载8.5.2.2版本</span>
TensorRT-8<span class="token punctuation">.</span>5<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2<span class="token punctuation">.</span>Windows10<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>cuda-11<span class="token punctuation">.</span>8<span class="token punctuation">.</span>cudnn8<span class="token punctuation">.</span>6<span class="token punctuation">.</span>zip
</code></pre> 
<ul><li>加压后，添加环境变量PATH中(根据自己路径)</li></ul> 
<pre><code class="prism language-powershell"><span class="token comment"># 将lib路径添加到环境变量</span>
D:\AI_SoftEnv\TensorRT\TensorRT-8<span class="token punctuation">.</span>5<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2\lib
</code></pre> 
<ul><li>将TensorRT-8.5.2.2\lib下的lib文件和dll文件分别拷贝到CUDA的lib/x64路径和bin路径下</li></ul> 
<pre><code class="prism language-powershell"> C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11<span class="token punctuation">.</span>8\bin
 C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11<span class="token punctuation">.</span>8\lib\x64
</code></pre> 
<p><img src="https://images2.imgbox.com/5e/23/4Ik8t1gi_o.png" alt="在这里插入图片描述"></p> 
<ul><li>安装pytho版本tensorrt</li></ul> 
<pre><code class="prism language-powershell"> <span class="token comment"># 到TensorRT-8.5.2.2\python下，根据自己的python版本安装tensorrt</span>
 pip install tensorrt-8<span class="token punctuation">.</span>5<span class="token punctuation">.</span>2<span class="token punctuation">.</span>2-cp38-none-win_amd64<span class="token punctuation">.</span>whl
 
 <span class="token comment"># 测试</span>
 import tensorrt as trt
 trt<span class="token punctuation">.</span>__version__
</code></pre> 
<hr> 
<h5><a id="VS2022TensorRT_45"></a>VS2022配置TensorRT并测试</h5> 
<p>使用VS2022打开<code>TensorRT-8.5.2.2\samples\sampleOnnxMNIST\sample_onnx_mnist.sln</code><br> <img src="https://images2.imgbox.com/db/f0/PPe4nj1v_o.png" alt="在这里插入图片描述"></p> 
<p>进行如下环境配置<br> <img src="https://images2.imgbox.com/36/cc/b0PitSys_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/d5/35/n5DPH01W_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c5/43/9EZceYhp_o.png" alt="在这里插入图片描述"><br> 注：对于VS2022，其已经默认添加了这几个库（前4个是tensorrt的，后3个是cuda的）。为了说明，还是按照上面方式配置即可。</p> 
<blockquote> 
 <p>nvinfer.lib<br>nvinfer_plugin.lib<br> nvonnxparser.lib<br> nvparsers.lib<br> cudnn.lib<br> cublas.lib<br> cudart.lib<br></p> 
</blockquote> 
<p>到此为止，TensorRT在VS中就配置好了（实际上面也展示了CUDA的配置），下面就可以直接测试案例程序了。</p> 
<p>为了防止后面执行exe操作闪退，添加<code>getchar();</code>到main函数下<br> <img src="https://images2.imgbox.com/b8/e6/gY6rkzKG_o.png" alt="在这里插入图片描述"></p> 
<p>之后编译<code>build</code>即可。<br> 编译成功后，会在 <code>TensorRT-8.5.2.2\bin</code> 路径下生成可执行文件<code>sample_onnx_mnist.exe</code><br> <img src="https://images2.imgbox.com/1a/49/gLS1PoZd_o.png" alt="在这里插入图片描述"><br> 双击运行即可<br> <img src="https://images2.imgbox.com/3b/d8/UaJ37fpf_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>以上就是TensorRT安装和VS配置以及官方Demo运行过程，到此就说明一切都OK了。</p> 
<hr> 
<h6><a id="_75"></a>备注</h6> 
<p>以上过程可能存在找不到<code>zlibwapi.dll</code>的问题，解决办法：</p> 
<ul><li>官网下载 <a href="https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html#install-zlib-windows" rel="nofollow">ZLIB DLL</a> 库，解压后将<code>zlibwapi.dll</code> 拷贝到<code>C:\Windows\System32</code>下即可。<br>也可分别将<code>zlibwapi.dll</code>和<code>zlibwapi.lib</code>放于CUDA的bin和lib文件夹下，两种方法都行。</li></ul> 
<pre><code class="prism language-powershell"><span class="token comment"># zlibwapi.dll放于其中</span>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11<span class="token punctuation">.</span>8\bin 
<span class="token comment"># zlibwapi.lib放于其中</span>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11<span class="token punctuation">.</span>8\lib
</code></pre> 
<br> 还有一个关于懒加载问题，来源和配置办法如下 
<ul><li>来源</li></ul> 
<p><img src="https://images2.imgbox.com/34/af/H8kTiNIA_o.png" alt="在这里插入图片描述"><br> 根据官方说明，需要配置环境变量<br> <img src="https://images2.imgbox.com/5f/66/UXbFxpt6_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="_96"></a>参考</h5> 
<p>https://blog.csdn.net/qq_44224801/article/details/125525721<br> https://blog.csdn.net/Chaos_Happy/article/details/124064428<br> https://www.cnblogs.com/xixixing/p/16140973.html<br> https://www.iotword.com/5928.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac18f6f2bb3b73268f33a49105916f57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GitHub Action 使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7bc017677a88ab0faeb0470d4cd8709c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">西安交通大学XJTU计算机专硕912专业课复习经验分享</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>