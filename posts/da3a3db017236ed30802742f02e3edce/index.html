<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【深度学习】Faster R-CNN 网络 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【深度学习】Faster R-CNN 网络" />
<meta property="og:description" content="Structure 看不清的可以右键，在新tab中查看该图片：
其中，“方框”代表“操作”，“菱框”代表“输出结果”。
以下是我画的Faster R-CNN结构图：
前部 Faster R-CNN 头部 负责对输入图像进行 特征提取 ：
网络结构有两种，一种是将ZFNet（扔掉了尾端的全连接层）拿来用，另一种则是将VGG拿来用（扔掉了尾端的全连接层）。论文中给出的是第一种（绿框内为拿来用的那部分）：
中部 Faster R-CNN 中部 负责对 特征图 (即前部所提取到的特征) 进行 生成anchor并从中筛选出proposal ：
双分支：
绿框内：【RPN（生成anchor --&gt; 洗涤anchor成proposal）】。红框内：【特征图的无损传递】。 最后统一交付给 黄框内：【RoIPooling】 去输出相同size的RoI。
后部 交给 分类任务 和 边框回归任务 来 进一步提升location精度和class精度，并输出检测结果：
Loss Computation 多任务：
Faster R-CNN论文笔记——FR
Fast R-CNN网络有两个同级输出层（cls score和bbox_prdict层），都是全连接层，称为multi-task。
① clsscore层：用于分类，输出k&#43;1维数组p，表示属于k类和背景的概率。对每个RoI（Region of Interesting）输出离散型概率分布
通常，p由k&#43;1类的全连接层利用softmax计算得出。
② bbox_prdict层：用于调整候选区域位置，输出bounding box回归的位移，输出4*K维数组t，表示分别属于k类时，应该平移缩放的参数。
k表示类别的索引，是指相对于objectproposal尺度不变的平移，是指对数空间中相对于objectproposal的高与宽。
loss_cls层评估分类损失函数。由真实分类u对应的概率决定：
loss_bbox评估检测框定位的损失函数。比较真实分类对应的预测平移缩放参数和真实平移缩放参数为
的差别：
其中，smooth L1损失函数为：
smooth L1损失函数曲线如下图9所示，作者这样设置的目的是想让loss对于离群点更加鲁棒，相比于L2损失函数，其对离群点、异常值（outlier）不敏感，可控制梯度的量级使训练时不容易跑飞。
最后总损失为（两者加权和，如果分类为背景则不考虑定位损失）：
规定u=0为背景类（也就是负标签），那么艾弗森括号指数函数[u≥1]表示背景候选区域即负样本不参与回归损失，不需要对候选区域进行回归操作。λ控制分类损失和回归损失的平衡。Fast R-CNN论文中，所有实验λ=1。
艾弗森括号指数函数为：
源码中bbox_loss_weights用于标记每一个bbox是否属于某一个类。
Code 附上作者的源码 rbgirshick/py-faster-rcnn/models/pascal_voc/ZF/faster_rcnn_end2end/train.prototxt ：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/da3a3db017236ed30802742f02e3edce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-26T16:05:35+08:00" />
<meta property="article:modified_time" content="2023-01-26T16:05:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【深度学习】Faster R-CNN 网络</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Structure_0"></a>Structure</h3> 
<p>看不清的可以右键，在新tab中查看该图片：<br> <img src="https://images2.imgbox.com/69/8f/OTtEOMWu_o.png" alt="这里写图片描述"></p> 
<p>其中，“方框”代表“操作”，“菱框”代表“输出结果”。</p> 
<p>以下是我画的Faster R-CNN结构图：<br> <img src="https://images2.imgbox.com/11/ca/6jbpf40R_o.png" alt="这里写图片描述"></p> 
<h3><a id="_9"></a>前部</h3> 
<p>Faster R-CNN 头部 负责对输入图像进行 <strong>特征提取</strong> ：<br> <img src="https://images2.imgbox.com/31/7f/KksymmK3_o.png" alt="这里写图片描述"></p> 
<p>网络结构有两种，一种是将ZFNet（扔掉了尾端的全连接层）拿来用，另一种则是将VGG拿来用（扔掉了尾端的全连接层）。论文中给出的是第一种（绿框内为拿来用的那部分）：<br> <img src="https://images2.imgbox.com/e0/60/O7LgTip8_o.png" alt="这里写图片描述"></p> 
<h3><a id="_16"></a>中部</h3> 
<p>Faster R-CNN 中部 负责对 <strong>特征图</strong> (即前部所提取到的特征) 进行 <strong>生成anchor并从中筛选出proposal</strong> ：<br> <img src="https://images2.imgbox.com/74/0a/dy8rOBUq_o.png" alt="这里写图片描述"></p> 
<p><img src="https://images2.imgbox.com/0d/f6/jUWCIaRZ_o.jpg" alt="这里写图片描述"></p> 
<p>双分支：</p> 
<ol><li><code>绿框内</code>：【RPN（生成anchor --&gt; 洗涤anchor成proposal）】。</li><li><code>红框内</code>：【特征图的无损传递】。</li></ol> 
<p>最后统一交付给 <code>黄框内</code>：【RoIPooling】 去输出相同size的RoI。</p> 
<h3><a id="_28"></a>后部</h3> 
<p>交给 <strong>分类任务</strong> 和 <strong>边框回归任务</strong> 来 进一步提升location精度和class精度，并输出检测结果：<br> <img src="https://images2.imgbox.com/6d/9f/3682leps_o.png" alt="这里写图片描述"></p> 
<h3><a id="Loss_Computation_32"></a>Loss Computation</h3> 
<p>多任务：<br> <a href="http://blog.csdn.net/qq_17448289/article/details/52871461">Faster R-CNN论文笔记——FR</a><br> <img src="https://images2.imgbox.com/b3/32/NIv4RQWS_o.png" alt="这里写图片描述"></p> 
<p>Fast R-CNN网络有两个同级输出层（cls score和bbox_prdict层），都是全连接层，称为multi-task。<br> ① clsscore层：用于分类，输出k+1维数组p，表示属于k类和背景的概率。对每个RoI（Region of Interesting）输出离散型概率分布<br> <img src="https://images2.imgbox.com/8d/4d/OeKI7JTj_o.png" alt="这里写图片描述"><br> 通常，p由k+1类的全连接层利用softmax计算得出。</p> 
<p>② bbox_prdict层：用于调整候选区域位置，输出bounding box回归的位移，输出4*K维数组t，表示分别属于k类时，应该平移缩放的参数。<br> <img src="https://images2.imgbox.com/22/c6/9qox0MZ1_o.png" alt="这里写图片描述"><br> k表示类别的索引，<img src="https://images2.imgbox.com/4f/5b/DpDT60RD_o.png" alt="这里写图片描述">是指相对于objectproposal尺度不变的平移，<img src="https://images2.imgbox.com/5b/ad/G935e5yd_o.png" alt="这里写图片描述">是指对数空间中相对于objectproposal的高与宽。<br> loss_cls层评估分类损失函数。由真实分类u对应的概率决定：<br> <img src="https://images2.imgbox.com/16/e9/KREKnWl2_o.png" alt="这里写图片描述"><br> loss_bbox评估检测框定位的损失函数。比较真实分类对应的预测平移缩放参数<img src="https://images2.imgbox.com/ce/f2/w5wgq1XR_o.png" alt="这里写图片描述">和真实平移缩放参数为<img src="https://images2.imgbox.com/d5/e1/lmEethln_o.png" alt="这里写图片描述"><br> 的差别：<br> <img src="https://images2.imgbox.com/f6/7b/I6z9aqKU_o.png" alt="这里写图片描述"><br> 其中，smooth L1损失函数为：<br> <img src="https://images2.imgbox.com/eb/40/DCJdJxJv_o.png" alt="这里写图片描述"><br> smooth L1损失函数曲线如下图9所示，作者这样设置的目的是想让loss对于离群点更加鲁棒，相比于L2损失函数，其对离群点、异常值（outlier）不敏感，可控制梯度的量级使训练时不容易跑飞。<br> <img src="https://images2.imgbox.com/a4/1a/5HL8tVuV_o.png" alt="这里写图片描述"></p> 
<p>最后总损失为（两者加权和，如果分类为背景则不考虑定位损失）：<br> <img src="https://images2.imgbox.com/39/7c/H5xcPL2g_o.png" alt="这里写图片描述"><br> 规定u=0为背景类（也就是负标签），那么艾弗森括号指数函数[u≥1]表示背景候选区域即负样本不参与回归损失，不需要对候选区域进行回归操作。λ控制分类损失和回归损失的平衡。Fast R-CNN论文中，所有实验λ=1。<br> 艾弗森括号指数函数为：<br> <img src="https://images2.imgbox.com/b0/11/oQTcR0wB_o.png" alt="这里写图片描述"><br> 源码中bbox_loss_weights用于标记每一个bbox是否属于某一个类。</p> 
<h3><a id="Code_65"></a>Code</h3> 
<p>附上作者的源码 <a href="https://github.com/rbgirshick/py-faster-rcnn/blob/master/models/pascal_voc/ZF/faster_rcnn_end2end/train.prototxt">rbgirshick/py-faster-rcnn/models/pascal_voc/ZF/faster_rcnn_end2end/train.prototxt</a> ：</p> 
<pre><code class="prism language-python">name<span class="token punctuation">:</span> <span class="token string">"ZF"</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'input-data'</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">'Python'</span>
  top<span class="token punctuation">:</span> <span class="token string">'data'</span>
  top<span class="token punctuation">:</span> <span class="token string">'im_info'</span>
  top<span class="token punctuation">:</span> <span class="token string">'gt_boxes'</span>
  python_param <span class="token punctuation">{<!-- --></span>
    module<span class="token punctuation">:</span> <span class="token string">'roi_data_layer.layer'</span>
    layer<span class="token punctuation">:</span> <span class="token string">'RoIDataLayer'</span>
    param_str<span class="token punctuation">:</span> <span class="token string">"'num_classes': 21"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">#========= conv1-conv5 ============</span>

layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"conv1"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"data"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv1"</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
	convolution_param <span class="token punctuation">{<!-- --></span>
		num_output<span class="token punctuation">:</span> <span class="token number">96</span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">7</span>
		pad<span class="token punctuation">:</span> <span class="token number">3</span>
		stride<span class="token punctuation">:</span> <span class="token number">2</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"relu1"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv1"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv1"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"norm1"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"LRN"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv1"</span>
	top<span class="token punctuation">:</span> <span class="token string">"norm1"</span>
	lrn_param <span class="token punctuation">{<!-- --></span>
		local_size<span class="token punctuation">:</span> <span class="token number">3</span>
		alpha<span class="token punctuation">:</span> <span class="token number">0.00005</span>
		beta<span class="token punctuation">:</span> <span class="token number">0.75</span>
		norm_region<span class="token punctuation">:</span> WITHIN_CHANNEL
    engine<span class="token punctuation">:</span> CAFFE
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"pool1"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Pooling"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"norm1"</span>
	top<span class="token punctuation">:</span> <span class="token string">"pool1"</span>
	pooling_param <span class="token punctuation">{<!-- --></span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">3</span>
		stride<span class="token punctuation">:</span> <span class="token number">2</span>
		pad<span class="token punctuation">:</span> <span class="token number">1</span>
		pool<span class="token punctuation">:</span> MAX
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"conv2"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"pool1"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv2"</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
	convolution_param <span class="token punctuation">{<!-- --></span>
		num_output<span class="token punctuation">:</span> <span class="token number">256</span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">5</span>
		pad<span class="token punctuation">:</span> <span class="token number">2</span>
		stride<span class="token punctuation">:</span> <span class="token number">2</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"relu2"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv2"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv2"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"norm2"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"LRN"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv2"</span>
	top<span class="token punctuation">:</span> <span class="token string">"norm2"</span>
	lrn_param <span class="token punctuation">{<!-- --></span>
		local_size<span class="token punctuation">:</span> <span class="token number">3</span>
		alpha<span class="token punctuation">:</span> <span class="token number">0.00005</span>
		beta<span class="token punctuation">:</span> <span class="token number">0.75</span>
		norm_region<span class="token punctuation">:</span> WITHIN_CHANNEL
    engine<span class="token punctuation">:</span> CAFFE
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"pool2"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Pooling"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"norm2"</span>
	top<span class="token punctuation">:</span> <span class="token string">"pool2"</span>
	pooling_param <span class="token punctuation">{<!-- --></span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">3</span>
		stride<span class="token punctuation">:</span> <span class="token number">2</span>
		pad<span class="token punctuation">:</span> <span class="token number">1</span>
		pool<span class="token punctuation">:</span> MAX
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"conv3"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"pool2"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv3"</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
	convolution_param <span class="token punctuation">{<!-- --></span>
		num_output<span class="token punctuation">:</span> <span class="token number">384</span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">3</span>
		pad<span class="token punctuation">:</span> <span class="token number">1</span>
		stride<span class="token punctuation">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"relu3"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv3"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv3"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"conv4"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv3"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv4"</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
	convolution_param <span class="token punctuation">{<!-- --></span>
		num_output<span class="token punctuation">:</span> <span class="token number">384</span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">3</span>
		pad<span class="token punctuation">:</span> <span class="token number">1</span>
		stride<span class="token punctuation">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"relu4"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv4"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv4"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv4"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
	param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
	convolution_param <span class="token punctuation">{<!-- --></span>
		num_output<span class="token punctuation">:</span> <span class="token number">256</span>
		kernel_size<span class="token punctuation">:</span> <span class="token number">3</span>
		pad<span class="token punctuation">:</span> <span class="token number">1</span>
		stride<span class="token punctuation">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
	name<span class="token punctuation">:</span> <span class="token string">"relu5"</span>
	<span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
	bottom<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
	top<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
<span class="token punctuation">}</span>

<span class="token comment">#========= RPN ============</span>

layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_conv/3x3"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn/output"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  convolution_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">256</span>
    kernel_size<span class="token punctuation">:</span> <span class="token number">3</span> pad<span class="token punctuation">:</span> <span class="token number">1</span> stride<span class="token punctuation">:</span> <span class="token number">1</span>
    weight_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"gaussian"</span> std<span class="token punctuation">:</span> <span class="token number">0.01</span> <span class="token punctuation">}</span>
    bias_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"constant"</span> value<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_relu/3x3"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn/output"</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn/output"</span>
<span class="token punctuation">}</span>

<span class="token comment">#layer {<!-- --></span>
<span class="token comment">#  name: "rpn_conv/3x3"</span>
<span class="token comment">#  type: "Convolution"</span>
<span class="token comment">#  bottom: "conv5"</span>
<span class="token comment">#  top: "rpn_conv/3x3"</span>
<span class="token comment">#  param { lr_mult: 1.0 }</span>
<span class="token comment">#  param { lr_mult: 2.0 }</span>
<span class="token comment">#  convolution_param {<!-- --></span>
<span class="token comment">#    num_output: 192</span>
<span class="token comment">#    kernel_size: 3 pad: 1 stride: 1</span>
<span class="token comment">#    weight_filler { type: "gaussian" std: 0.01 }</span>
<span class="token comment">#    bias_filler { type: "constant" value: 0 }</span>
<span class="token comment">#  }</span>
<span class="token comment">#}</span>
<span class="token comment">#layer {<!-- --></span>
<span class="token comment">#  name: "rpn_conv/5x5"</span>
<span class="token comment">#  type: "Convolution"</span>
<span class="token comment">#  bottom: "conv5"</span>
<span class="token comment">#  top: "rpn_conv/5x5"</span>
<span class="token comment">#  param { lr_mult: 1.0 }</span>
<span class="token comment">#  param { lr_mult: 2.0 }</span>
<span class="token comment">#  convolution_param {<!-- --></span>
<span class="token comment">#    num_output: 64</span>
<span class="token comment">#    kernel_size: 5 pad: 2 stride: 1</span>
<span class="token comment">#    weight_filler { type: "gaussian" std: 0.0036 }</span>
<span class="token comment">#    bias_filler { type: "constant" value: 0 }</span>
<span class="token comment">#  }</span>
<span class="token comment">#}</span>
<span class="token comment">#layer {<!-- --></span>
<span class="token comment">#  name: "rpn/output"</span>
<span class="token comment">#  type: "Concat"</span>
<span class="token comment">#  bottom: "rpn_conv/3x3"</span>
<span class="token comment">#  bottom: "rpn_conv/5x5"</span>
<span class="token comment">#  top: "rpn/output"</span>
<span class="token comment">#}</span>
<span class="token comment">#layer {<!-- --></span>
<span class="token comment">#  name: "rpn_relu/output"</span>
<span class="token comment">#  type: "ReLU"</span>
<span class="token comment">#  bottom: "rpn/output"</span>
<span class="token comment">#  top: "rpn/output"</span>
<span class="token comment">#}</span>

layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn/output"</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  convolution_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">18</span>   <span class="token comment"># 2(bg/fg) * 9(anchors)</span>
    kernel_size<span class="token punctuation">:</span> <span class="token number">1</span> pad<span class="token punctuation">:</span> <span class="token number">0</span> stride<span class="token punctuation">:</span> <span class="token number">1</span>
    weight_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"gaussian"</span> std<span class="token punctuation">:</span> <span class="token number">0.01</span> <span class="token punctuation">}</span>
    bias_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"constant"</span> value<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_bbox_pred"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Convolution"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn/output"</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn_bbox_pred"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  convolution_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">36</span>   <span class="token comment"># 4 * 9(anchors)</span>
    kernel_size<span class="token punctuation">:</span> <span class="token number">1</span> pad<span class="token punctuation">:</span> <span class="token number">0</span> stride<span class="token punctuation">:</span> <span class="token number">1</span>
    weight_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"gaussian"</span> std<span class="token punctuation">:</span> <span class="token number">0.01</span> <span class="token punctuation">}</span>
    bias_filler <span class="token punctuation">{<!-- --></span> <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"constant"</span> value<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
   bottom<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score"</span>
   top<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score_reshape"</span>
   name<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score_reshape"</span>
   <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Reshape"</span>
   reshape_param <span class="token punctuation">{<!-- --></span> shape <span class="token punctuation">{<!-- --></span> dim<span class="token punctuation">:</span> <span class="token number">0</span> dim<span class="token punctuation">:</span> <span class="token number">2</span> dim<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> dim<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'rpn-data'</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">'Python'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_cls_score'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'gt_boxes'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'im_info'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'data'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_labels'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_targets'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_inside_weights'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_outside_weights'</span>
  python_param <span class="token punctuation">{<!-- --></span>
    module<span class="token punctuation">:</span> <span class="token string">'rpn.anchor_target_layer'</span>
    layer<span class="token punctuation">:</span> <span class="token string">'AnchorTargetLayer'</span>
    param_str<span class="token punctuation">:</span> <span class="token string">"'feat_stride': 16"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_loss_cls"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"SoftmaxWithLoss"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score_reshape"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn_labels"</span>
  propagate_down<span class="token punctuation">:</span> <span class="token number">1</span>
  propagate_down<span class="token punctuation">:</span> <span class="token number">0</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn_cls_loss"</span>
  loss_weight<span class="token punctuation">:</span> <span class="token number">1</span>
  loss_param <span class="token punctuation">{<!-- --></span>
    ignore_label<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span>
    normalize<span class="token punctuation">:</span> true
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_loss_bbox"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"SmoothL1Loss"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn_bbox_pred"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn_bbox_targets"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_inside_weights'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_outside_weights'</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn_loss_bbox"</span>
  loss_weight<span class="token punctuation">:</span> <span class="token number">1</span>
  smooth_l1_loss_param <span class="token punctuation">{<!-- --></span> sigma<span class="token punctuation">:</span> <span class="token number">3.0</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">#========= RoI Proposal ============</span>

layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"rpn_cls_prob"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Softmax"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rpn_cls_score_reshape"</span>
  top<span class="token punctuation">:</span> <span class="token string">"rpn_cls_prob"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'rpn_cls_prob_reshape'</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">'Reshape'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_cls_prob'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_cls_prob_reshape'</span>
  reshape_param <span class="token punctuation">{<!-- --></span> shape <span class="token punctuation">{<!-- --></span> dim<span class="token punctuation">:</span> <span class="token number">0</span> dim<span class="token punctuation">:</span> <span class="token number">18</span> dim<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> dim<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'proposal'</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">'Python'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_cls_prob_reshape'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_bbox_pred'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'im_info'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rpn_rois'</span>
<span class="token comment">#  top: 'rpn_scores'</span>
  python_param <span class="token punctuation">{<!-- --></span>
    module<span class="token punctuation">:</span> <span class="token string">'rpn.proposal_layer'</span>
    layer<span class="token punctuation">:</span> <span class="token string">'ProposalLayer'</span>
    param_str<span class="token punctuation">:</span> <span class="token string">"'feat_stride': 16"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">#layer {<!-- --></span>
<span class="token comment">#  name: 'debug-data'</span>
<span class="token comment">#  type: 'Python'</span>
<span class="token comment">#  bottom: 'data'</span>
<span class="token comment">#  bottom: 'rpn_rois'</span>
<span class="token comment">#  bottom: 'rpn_scores'</span>
<span class="token comment">#  python_param {<!-- --></span>
<span class="token comment">#    module: 'rpn.debug_layer'</span>
<span class="token comment">#    layer: 'RPNDebugLayer'</span>
<span class="token comment">#  }</span>
<span class="token comment">#}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">'roi-data'</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">'Python'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'rpn_rois'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'gt_boxes'</span>
  top<span class="token punctuation">:</span> <span class="token string">'rois'</span>
  top<span class="token punctuation">:</span> <span class="token string">'labels'</span>
  top<span class="token punctuation">:</span> <span class="token string">'bbox_targets'</span>
  top<span class="token punctuation">:</span> <span class="token string">'bbox_inside_weights'</span>
  top<span class="token punctuation">:</span> <span class="token string">'bbox_outside_weights'</span>
  python_param <span class="token punctuation">{<!-- --></span>
    module<span class="token punctuation">:</span> <span class="token string">'rpn.proposal_target_layer'</span>
    layer<span class="token punctuation">:</span> <span class="token string">'ProposalTargetLayer'</span>
    param_str<span class="token punctuation">:</span> <span class="token string">"'num_classes': 21"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">#========= RCNN ============</span>

layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"roi_pool_conv5"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ROIPooling"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"conv5"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"rois"</span>
  top<span class="token punctuation">:</span> <span class="token string">"roi_pool_conv5"</span>
  roi_pooling_param <span class="token punctuation">{<!-- --></span>
    pooled_w<span class="token punctuation">:</span> <span class="token number">6</span>
    pooled_h<span class="token punctuation">:</span> <span class="token number">6</span>
    spatial_scale<span class="token punctuation">:</span> <span class="token number">0.0625</span> <span class="token comment"># 1/16</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"InnerProduct"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"roi_pool_conv5"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  inner_product_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">4096</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"relu6"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"drop6"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Dropout"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  dropout_param <span class="token punctuation">{<!-- --></span>
    dropout_ratio<span class="token punctuation">:</span> <span class="token number">0.5</span>
    scale_train<span class="token punctuation">:</span> false
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"InnerProduct"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc6"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  inner_product_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">4096</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"relu7"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"ReLU"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"drop7"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"Dropout"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  top<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  dropout_param <span class="token punctuation">{<!-- --></span>
    dropout_ratio<span class="token punctuation">:</span> <span class="token number">0.5</span>
    scale_train<span class="token punctuation">:</span> false
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"cls_score"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"InnerProduct"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  top<span class="token punctuation">:</span> <span class="token string">"cls_score"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  inner_product_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">21</span>
    weight_filler <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"gaussian"</span>
      std<span class="token punctuation">:</span> <span class="token number">0.01</span>
    <span class="token punctuation">}</span>
    bias_filler <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"constant"</span>
      value<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"bbox_pred"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"InnerProduct"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"fc7"</span>
  top<span class="token punctuation">:</span> <span class="token string">"bbox_pred"</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">1.0</span> <span class="token punctuation">}</span>
  param <span class="token punctuation">{<!-- --></span> lr_mult<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span>
  inner_product_param <span class="token punctuation">{<!-- --></span>
    num_output<span class="token punctuation">:</span> <span class="token number">84</span>
    weight_filler <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"gaussian"</span>
      std<span class="token punctuation">:</span> <span class="token number">0.001</span>
    <span class="token punctuation">}</span>
    bias_filler <span class="token punctuation">{<!-- --></span>
      <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"constant"</span>
      value<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"loss_cls"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"SoftmaxWithLoss"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"cls_score"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"labels"</span>
  propagate_down<span class="token punctuation">:</span> <span class="token number">1</span>
  propagate_down<span class="token punctuation">:</span> <span class="token number">0</span>
  top<span class="token punctuation">:</span> <span class="token string">"cls_loss"</span>
  loss_weight<span class="token punctuation">:</span> <span class="token number">1</span>
  loss_param <span class="token punctuation">{<!-- --></span>
    ignore_label<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span>
    normalize<span class="token punctuation">:</span> true
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
layer <span class="token punctuation">{<!-- --></span>
  name<span class="token punctuation">:</span> <span class="token string">"loss_bbox"</span>
  <span class="token builtin">type</span><span class="token punctuation">:</span> <span class="token string">"SmoothL1Loss"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"bbox_pred"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">"bbox_targets"</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'bbox_inside_weights'</span>
  bottom<span class="token punctuation">:</span> <span class="token string">'bbox_outside_weights'</span>
  top<span class="token punctuation">:</span> <span class="token string">"bbox_loss"</span>
  loss_weight<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8042dab6dc5af6e0cec7cbc34cc9b8e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Thymeleaf介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c144f781e4fe78e54d6f53f4f0c68b7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于word文档的客户端渗透（简单易懂，小白可学）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>