<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java web工程web.xml配置详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java web工程web.xml配置详解" />
<meta property="og:description" content="转载自：http://blog.csdn.net/believejava/article/details/43229361
这篇文章主要是综合网上关于web.xml的一些介绍，希望对大家有所帮助，也欢迎大家一起讨论。 ---题记
Web.xml详解： 1.web.xml加载过程（步骤） 首先简单讲一下，web.xml的加载过程。当启动一个WEB项目时，容器包括（JBoss、Tomcat等）首先会读取项目web.xml配置文件里的配置，当这一步骤没有出错并且完成之后，项目才能正常地被启动起来。
1. 启动WEB项目的时候，容器首先会去它的配置文件web.xml读取两个节点: &lt;listener&gt;&lt;/listener&gt;和&lt;context-param&gt;&lt;/context-param&gt;。
2. 紧接着，容器创建一个ServletContext（application），这个WEB项目所有部分都将共享这个上下文。
3. 容器以&lt;context-param&gt;&lt;/context-param&gt;的name作为键，value作为值，将其转化为键值对，存入ServletContext。
4. 容器创建&lt;listener&gt;&lt;/listener&gt;中的类实例，根据配置的class类路径&lt;listener-class&gt;来创建监听，在监听中会有contextInitialized(ServletContextEvent args)初始化方法，启动Web应用时，系统调用Listener的该方法，在这个方法中获得：
[html] view plain copy &lt;span style=&#34;font-family:Times New Roman;&#34;&gt;ServletContextapplication=ServletContextEvent.getServletContext();&lt;/span&gt; context-param的值就是application.getInitParameter(&#34;context-param的键&#34;);得到这个context-param的值之后，你就可以做一些操作了。
5. 举例：你可能想在项目启动之前就打开数据库，那么这里就可以在&lt;context-param&gt;中设置数据库的连接方式（驱动、url、user、password），在监听类中初始化数据库的连接。这个监听是自己写的一个类，除了初始化方法，它还有销毁方法，用于关闭应用前释放资源。比如:说数据库连接的关闭，此时，调用contextDestroyed(ServletContextEvent args)，关闭Web应用时，系统调用Listener的该方法。
6. 接着，容器会读取&lt;filter&gt;&lt;/filter&gt;，根据指定的类路径来实例化过滤器。
7. 以上都是在WEB项目还没有完全启动起来的时候就已经完成了的工作。如果系统中有Servlet，则Servlet是在第一次发起请求的时候被实例化的，而且一般不会被容器销毁，它可以服务于多个用户的请求。所以，Servlet的初始化都要比上面提到的那几个要迟。
8. 总的来说，web.xml的加载顺序是:&lt;context-param&gt;-&gt;&lt;listener&gt;-&gt;&lt;filter&gt;-&gt;&lt;servlet&gt;。其中，如果web.xml中出现了相同的元素，则按照在配置文件中出现的先后顺序来加载。
9. 对于某类元素而言，与它们出现的顺序是有关的。以&lt;filter&gt;为例，web.xml中当然可以定义多个&lt;filter&gt;，与&lt;filter&gt;相关的一个元素是&lt;filter-mapping&gt;，注意，对于拥有相同&lt;filter-name&gt;的&lt;filter&gt;和&lt;filter-mapping&gt;元素而言，&lt;filter-mapping&gt;必须出现在&lt;filter&gt;之后，否则当解析到&lt;filter-mapping&gt;时，它所对应的&lt;filter-name&gt;还未定义。web容器启动初始化每个&lt;filter&gt;时，按照&lt;filter&gt;出现的顺序来初始化的，当请求资源匹配多个&lt;filter-mapping&gt;时，&lt;filter&gt;拦截资源是按照&lt;filter-mapping&gt;元素出现的顺序来依次调用doFilter()方法的。&lt;servlet&gt;同&lt;filter&gt;类似，此处不再赘述。
2.web.xml标签详解 1. XML文档有效性检查 [html] view plain copy &lt;span style=&#34;font-family:Times New Roman;&#34;&gt;&lt;!DOCTYPE web-app PUBLIC&#34;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&#34;&#34;http://java.sun.com/dtd/web-app_2_3.dtd&#34; &gt;&lt;/span&gt; 这段代码指定文件类型定义(DTD)，可以通过它检查XML文档的有效性。下面显示的&lt;!DOCTYPE&gt;元素有几个特性，这些特性告诉我们关于DTD的信息： web-app定义该文档(部署描述符，不是DTD文件)的根元素 PUBLIC意味着DTD文件可以被公开使用 -//Sun Microsystems, Inc.//DTD Web Application 2.3//EN”意味着DTD由Sun Microsystems, Inc.维护。该信息也表示它描述的文档类型是DTD Web Application 2.3，而且DTD是用英文书写的。 URL&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ca54b18b9bb1bde796d340131141d27e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-09T17:19:57+08:00" />
<meta property="article:modified_time" content="2018-01-09T17:19:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java web工程web.xml配置详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); text-align:start"> <span style="font-family:Microsoft YaHei"><span style="font-size:14px">转载自：http://blog.csdn.net/believejava/article/details/43229361</span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">这篇文章主要是综合网上关于web.xml的一些介绍，希望对大家有所帮助，也欢迎大家一起讨论。 ---题记</span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<h2 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t0" style="color:rgb(12,137,207)"></a><strong><span style="font-size:32px"><span style='font-family:"Times New Roman"'>Web.xml</span><span style="font-family:SimHei">详解：</span></span></strong></h2> 
<h3 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t1" style="color:rgb(12,137,207)"></a><strong><span style="font-size:24px"><span style='font-family:"Times New Roman"'>1.</span><span style='font-family:"Times New Roman"'>web.xml</span><span style="font-family:SimHei">加载过程（步骤）</span></span></strong></h3> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start; white-space:pre-wrap; line-height:1.75'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">首先简单讲一下，web.xml的加载过程。当启动一个WEB项目时，容器包括（JBoss、Tomcat等）首先会读取项目web.xml配置文件里的配置，当这一步骤没有出错并且完成之后，项目才能正常地被启动起来。</span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style="color:rgb(0,0,0)"><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">1. 启动WEB项目的时候，容器首先会去它的配置文件web.xml读取两个节点:  &lt;listener&gt;&lt;/listener&gt;和&lt;context-param&gt;&lt;/context-param&gt;。</span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"><span style="color:rgb(0,0,0)">2. 紧接着，容器</span><span style="color:rgb(223,64,42)">创建一个ServletContext（application）</span><span style="color:rgb(0,0,0)">，这个WEB项目所有部分都将共享这个上下文。<br> </span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style="color:rgb(0,0,0)"><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">3. 容器以&lt;context-param&gt;&lt;/context-param&gt;的name作为键，value作为值，将其转化为键值对，存入ServletContext。</span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="color:rgb(0,0,0)"><span style="font-size:14px">4. 容器创建&lt;listener&gt;&lt;/listener&gt;中的类实例，根据配置的class类路径&lt;listener-class&gt;来创建监听，在监听中会有contextInitialized(ServletContextEvent args)初始化方法，启动Web应用时，系统调用Listener的该方法，在这个方法中获得：</span></span></span></p> 
<div class="dp-highlighter bg_html" style='font-family:Consolas,"Courier New",Courier,mono,serif; font-size:12px; background-color:rgb(231,229,220); width:924.656px; overflow:hidden; padding-top:1px; position:relative; border-color:rgb(204,204,204); color:rgb(85,85,85); margin:18px 0px!important'> 
 <div class="bar" style="padding-left:45px"> 
  <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left:3px solid rgb(108,226,108); border-right:1px solid rgb(231,229,220)"> 
   <strong>[html]</strong>  
   <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="ViewSource" title="view plain" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
    <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="CopyToClipboard" title="copy" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
   <div style="position:absolute; left:483px; top:931px; width:18px; height:18px; z-index:99"> 
   </div> 
    
  </div> 
 </div> 
 <ol start="1" class="dp-xml" style="padding-left:0px; border-top:none; border-right:1px solid rgb(231,229,220); border-bottom:none; border-left:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin-bottom:1px!important; margin-left:45px!important"><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="attribute" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">style</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">=</span><span class="attribute-value" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"font-family:Times New Roman;"</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span class="attribute" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">ServletContextapplication</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">=</span><span class="attribute-value" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">ServletContextEvent</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">.getServletContext();</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;/</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li></ol> 
</div> 
<span style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:14px'><span style="color:rgb(0,0,0)">context-param的值就是</span><span style="text-indent:28px">application</span><span style="text-indent:28px; color:rgb(255,0,0)">.getInitParameter("context-param的键");</span><span style="color:rgb(0,0,0)">得到这个context-param的值之后，你就可以做一些操作了。<br> </span></span> 
<span style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'></span> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style="color:rgb(0,0,0)"><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">5. 举例：你可能想在项目启动之前就打开数据库，那么这里就可以在&lt;context-param&gt;中设置数据库的连接方式（驱动、url、user、password），在监听类中初始化数据库的连接。这个监听是自己写的一个类，除了初始化方法，它还有销毁方法，用于关闭应用前释放资源。比如:说数据库连接的关闭，此时，调用contextDestroyed(ServletContextEvent args)，关闭Web应用时，系统调用Listener的该方法。</span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style="color:rgb(0,0,0)"><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">6. 接着，容器会读取&lt;filter&gt;&lt;/filter&gt;，根据指定的类路径来实例化过滤器。</span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"><span style="color:rgb(0,0,0)">7. </span><span style="color:rgb(255,0,0)">以上都是在WEB项目还没有完全启动起来的时候就已经完成了的工作。</span><span style="color:rgb(0,0,0)">如果系统中有Servlet，则Servlet是在第一次发起请求的时候被实例化的，而且一般不会被容器销毁，它可以服务于多个用户的请求。所以，Servlet的初始化都要比上面提到的那几个要迟。</span><br> </span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"><span style="color:rgb(0,0,0)">8. </span><span style="color:rgb(0,0,0)">总的来说，web.xml的加载顺序是:</span><span style="color:rgb(255,0,0)">&lt;context-param&gt;</span><span style="color:rgb(24,78,135)"><strong>-&gt;</strong></span><span style="color:rgb(24,78,135)"></span><span style="color:rgb(255,0,0)">&lt;listener&gt;</span><span style="color:rgb(24,78,135)"></span><span style="color:rgb(24,78,135)"><strong>-&gt;</strong></span><span style="color:rgb(24,78,135)"></span><span style="color:rgb(255,0,0)">&lt;filter&gt;</span><span style="color:rgb(24,78,135)"><strong>-&gt;</strong></span><span style="color:rgb(255,0,0)">&lt;servlet&gt;。</span><span style="color:rgb(0,0,0)">其中，如果web.xml中出现了相同的元素，则按照在配置文件中出现的先后顺序来加载。<br> </span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"><span style="color:rgb(0,0,0)">9. 对于某类元素而言，与它们出现的顺序是有关的。以&lt;filter&gt;为例，web.xml中当然可以定义多个&lt;filter&gt;，与&lt;filter&gt;相关的一个元素是&lt;filter-mapping&gt;，</span><span style="color:rgb(0,0,0)"><strong>注意</strong></span><span style="color:rgb(0,0,0)">，对于拥有相同&lt;filter-name&gt;的&lt;filter&gt;和&lt;filter-mapping&gt;元素而言，&lt;filter-mapping&gt;必须出现在&lt;filter&gt;之后，否则当解析到&lt;filter-mapping&gt;时，它所对应的&lt;filter-name&gt;还未定义。web容器启动初始化每个&lt;filter&gt;时，按照&lt;filter&gt;出现的顺序来初始化的，当请求资源匹配多个&lt;filter-mapping&gt;时，&lt;filter&gt;拦截资源是按照&lt;filter-mapping&gt;元素出现的顺序来依次调用doFilter()方法的。&lt;servlet&gt;同&lt;filter&gt;类似，此处不再赘述。</span></span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<h3 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t2" style="color:rgb(12,137,207)"></a><span style="color:rgb(0,0,0)"><span style="font-size:24px"><span style='font-family:"Times New Roman"'>2.</span><span style='font-family:"Times New Roman"'>web</span><span style='font-family:"Times New Roman"'>.xml</span><span style="font-family:SimHei">标签详解</span></span></span></h3> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; font-family:"microsoft yahei"; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t3" style="color:rgb(12,137,207)"></a><span style="font-size:18px"><strong><span style='font-family:"Times New Roman"'>1. XML</span></strong><span style="font-family:SimHei"><strong>文档有效性检查</strong></span></span></h4> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; font-family:"microsoft yahei"; font-size:15px; text-align:start; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> </p> 
<div class="dp-highlighter bg_html" style='font-family:Consolas,"Courier New",Courier,mono,serif; font-size:12px; background-color:rgb(231,229,220); width:924.656px; overflow:hidden; padding-top:1px; position:relative; border-color:rgb(204,204,204); color:rgb(85,85,85); margin:18px 0px!important'> 
 <div class="bar" style="padding-left:45px"> 
  <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left:3px solid rgb(108,226,108); border-right:1px solid rgb(231,229,220)"> 
   <strong>[html]</strong>  
   <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="ViewSource" title="view plain" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
    <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="CopyToClipboard" title="copy" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
   <div style="position:absolute; left:483px; top:1582px; width:18px; height:18px; z-index:99"> 
   </div> 
    
  </div> 
 </div> 
 <ol start="1" class="dp-xml" style="padding-left:0px; border-top:none; border-right:1px solid rgb(231,229,220); border-bottom:none; border-left:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin-bottom:1px!important; margin-left:45px!important"><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="attribute" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">style</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">=</span><span class="attribute-value" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"font-family:Times New Roman;"</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&lt;!DOCTYPE web-app PUBLIC"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN""http://java.sun.com/dtd/web-app_2_3.dtd" </span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;/</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li></ol> 
</div> 
<span style='color:rgb(85,85,85); font-size:15px; font-family:"Microsoft YaHei"'><span style="font-size:14px">这段代码指定文件类型定义(DTD)，可以通过它检查XML文档的有效性。下面显示的&lt;!DOCTYPE&gt;元素有几个特性，这些特性告诉我们关于DTD的信息： </span></span> 
<span style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'></span> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<ol style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'><li><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"> web-app定义该文档(部署描述符，不是DTD文件)的根元素 </span></span></li><li><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"> PUBLIC意味着DTD文件可以被公开使用 </span></span></li><li><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"> -//Sun Microsystems, Inc.//DTD Web Application 2.3//EN”意味着DTD由Sun Microsystems, Inc.维护。该信息也表示它描述的文档类型是DTD Web Application 2.3，而且DTD是用英文书写的。 </span></span></li><li><span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"> URL"<a target="_blank" href="http://java.sun.com/dtd/web-app_2_3.dtd" rel="nofollow noopener noreferrer" style="color:rgb(12,137,207)"><span style="color:rgb(0,56,132)">http://java.sun.com/dtd/web-app_2_3.dtd</span></a>"表示D文件的位置。</span></span></li></ol> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; font-family:"microsoft yahei"; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t4" style="color:rgb(12,137,207)"></a><span style='font-family:"Times New Roman"'><span style="font-size:18px">2. &lt;web-app&gt;&lt;/web-app&gt;</span></span></h4> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; font-family:"microsoft yahei"; font-size:15px; text-align:start; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">部署描述符的根元素是&lt;web-app&gt;。DTD文件规定&lt;web-app&gt;元素的子元素的语法如下：</span></span></p> 
<div class="dp-highlighter bg_html" style='font-family:Consolas,"Courier New",Courier,mono,serif; font-size:12px; background-color:rgb(231,229,220); width:924.656px; overflow:hidden; padding-top:1px; position:relative; border-color:rgb(204,204,204); color:rgb(85,85,85); margin:18px 0px!important'> 
 <div class="bar" style="padding-left:45px"> 
  <div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left:3px solid rgb(108,226,108); border-right:1px solid rgb(231,229,220)"> 
   <strong>[html]</strong>  
   <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="ViewSource" title="view plain" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">view plain</a> 
    <a target="_blank" href="http://blog.csdn.net/believejava/article/details/43229361#" class="CopyToClipboard" title="copy" style="background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; color:rgb(12,137,207); display:inline-block; width:16px; height:16px; text-indent:-2000px" rel="noopener noreferrer">copy</a> 
   <div style="position:absolute; left:483px; top:2019px; width:18px; height:18px; z-index:99"> 
   </div> 
    
  </div> 
 </div> 
 <ol start="1" class="dp-xml" style="padding-left:0px; border-top:none; border-right:1px solid rgb(231,229,220); border-bottom:none; border-left:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin-bottom:1px!important; margin-left:45px!important"><li class="alt" style="border-top:none; border-right:none; border-bottom:none; border-left:3px solid rgb(108,226,108); list-style-type:decimal-leading-zero; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important; list-style-position:outside!important"> <span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="attribute" style="margin:0px; padding:0px; border:none; color:red; background-color:inherit">style</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">=</span><span class="attribute-value" style="margin:0px; padding:0px; border:none; color:blue; background-color:inherit">"font-family:Times New Roman;"</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&lt;!ELEMENT web-app (icon?, display-name?, description?,distributable?, context-param*, filter*, filter-mapping*,listener*, servlet*, servlet-mapping*, session-config?,mime-mapping*, welcome-file-list?,error-page*, taglib*, resource-env-ref*, resource-ref*,security-constraint*, login-config?, security-role*,env-entry*,ejb-ref*, ejb-local-ref*)</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit"> </span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&lt;/</span><span class="tag-name" style="margin:0px; padding:0px; border:none; color:rgb(153,51,0); background-color:inherit; font-weight:bold">span</span><span class="tag" style="color:rgb(153,51,0); margin:0px; padding:0px; border:none; background-color:inherit; font-weight:bold">&gt;</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">  </span></span></li></ol> 
</div> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; font-family:"microsoft yahei"; font-size:15px; text-align:start; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">正如您所看到的，这个元素含有23个子元素，而且子元素都是可选的。问号(？)表示子元素是可选的，而且只能出现一次。星号(*)表示子元素可在部署描述符中出现零次或多次。有些子元素还可以有它们自己的子元素。web.xml文件中&lt;web-app&gt;元素声明的是下面每个子元素的声明。下面讲述部署描述符中可能包含的所有子元素。</span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; font-family:"microsoft yahei"; font-size:15px; text-align:start; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px"><span style="color:rgb(255,0,0)"><strong>注意：</strong></span>在Servlet 2.3中，子元素必须按照DTD文件语法描述中指定的顺序出现。比如：如果部署描述符中的&lt;web-app&gt;元素有&lt;servlet&gt;和&lt;servlet-mapping&gt;两个子元素，则&lt;servlet&gt;子元素必须出现在&lt;servlet-mapping&gt;子元素之前。在Servlet2.4中，顺序并不重要。</span></span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start; white-space:pre-wrap; line-height:1.75'> </p> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; font-family:"microsoft yahei"; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t5" style="color:rgb(12,137,207)"></a><strong><span style='font-family:"Times New Roman"; font-size:18px'>3. &lt;display-name&gt;&lt;/display-name&gt;</span></strong></h4> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start; white-space:pre-wrap; line-height:1.75'> <span style="color:rgb(0,0,0)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>&lt;display-name&gt;test-hwp-web-application&lt;/display-name&gt;定义了web应用的名称，可以在<a target="_blank" href="http://localhost:8080/manager/html" rel="nofollow noopener noreferrer" style="color:rgb(12,137,207)">http://localhost:8080/manager/html</a>中显示。如下所示：</span></span></p> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'><img src="https://images2.imgbox.com/10/18/urjtdBrD_o.png" alt="" style="border:none; max-width:100%; max-height:100%"><br> </span> 
</div> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; font-family:"microsoft yahei"; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t6" style="color:rgb(12,137,207)"></a><strong><span style="font-size:18px"><span style='font-family:"Times New Roman"'>4. &lt;distributable/&gt;</span></span></strong></h4> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; font-family:"microsoft yahei"; font-size:15px; text-align:start; color:rgb(0,0,0); white-space:pre-wrap; line-height:1.75'> <span style='font-family:"Microsoft YaHei"; font-size:14px'>&lt;distributable/&gt;可以使用distributable元素来告诉servlet/JSP容器，Web容器中部署的应用程序适合在分布式环境下运行。</span></p> 
<span style='font-family:"microsoft yahei"; font-size:15px; color:rgb(0,0,0)'></span> 
<span style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'></span> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t7" style="color:rgb(12,137,207)"></a><span style='font-family:"Times New Roman"; color:rgb(0,0,0)'><span style="font-size:18px">5. &lt;context-param&gt;&lt;/context-param&gt;</span></span></h4> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'> 
 <span style='font-family:"Times New Roman"; color:rgb(0,0,0)'><span style="font-size:18px"><span style='font-family:"Microsoft YaHei"; font-size:14px; text-align:justify; white-space:pre-wrap'>使用上下文初始化参数</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px'> 
 <span style='font-family:"Times New Roman"; color:rgb(0,0,0)'><span style="font-size:18px"><span style='font-family:"Microsoft YaHei"; font-size:14px; text-align:justify; white-space:pre-wrap'></span></span></span> 
 <pre><code class="language-html">&lt;!--****************************上下文初始化参数***************************--&gt;  
&lt;context-param&gt;  
    &lt;param-name&gt;webAppRootKey&lt;/param-name&gt;  
    &lt;param-value&gt;business.root&lt;/param-value&gt;  
&lt;/context-param&gt;  
&lt;!-- spring config --&gt;  
&lt;context-param&gt;  
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  
    &lt;param-value&gt;/WEB-INF/spring-configuration/*.xml&lt;/param-value&gt;  
&lt;/context-param&gt; </code></pre> 
 <br> 
 <br> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t8" style="color:rgb(12,137,207)"></a><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'><strong>5.1<span style="font-size:14px">&lt;context-param&gt;解释：</span></strong></span></span></h5> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>&lt;context-param&gt;元素含有一对参数名和参数值，用作应用的Servlet上下文初始化参数，参数名在整个Web应用中必须是惟一的，<span style="color:rgb(51,51,51)">在</span><span style="color:rgb(51,51,51)">web</span><span style="color:rgb(51,51,51)">应用的整个生命周期中上下文初始化参数都存在，任意的</span><span style="color:rgb(51,51,51)">Servlet</span><span style="color:rgb(51,51,51)">和</span><span style="color:rgb(51,51,51)">jsp</span><span style="color:rgb(51,51,51)">都可以随时随地访问它。</span><span style="color:rgb(51,51,51)">&lt;</span>param-name&gt;子元素包含有参数名，而&lt;param-value&gt;子元素包含的是参数值。作为选择，可用&lt;description&gt;子元素来描述参数。</span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t9" style="color:rgb(12,137,207)"></a><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>5.2 什么情况下使用，为什么使用&lt;context-param&gt;：</span></span></h5> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>比如：定义一个管理员email地址用来从程序发送错误，或者与你整个应用程序有关的其他设置。使用自己定义的设置文件需要额外的代码和管理；直接在你的程序中使用硬编码（<span style="color:rgb(51,51,51)">Hard-coding</span><span style="color:rgb(51,51,51)">）参数值会给你之后修改程序带来麻烦，更困难的是，要根据不同的部署使用不同的设置；通过这种办法，可以让其他开发人员更容易找到相关的参数，因为它是一个用于设置这种参数的标准位置。</span></span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t10" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'><span style="color:rgb(51,51,51)"><strong>5.3 Spring配置文件：</strong></span></span></h5> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>配置Spring，<span style="color:rgb(255,0,0)">必须需要</span><span style="color:rgb(255,0,0)">&lt;listener&gt;</span><span style="color:rgb(255,0,0)">，而</span><span style="color:rgb(255,0,0)">&lt;context-param&gt;</span><span style="color:rgb(255,0,0)">可有可无</span>，如果在web.xml中不写&lt;context-param&gt;配置信息，默认的路径是/WEB-INF/applicationontext.xml，在WEB-INF目录下创建的xml文件的名称必须是applicationContext.xml。如果是要自定义文件名可以在web.xml里加入contextConfigLocation这个context参数：在&lt;param-value&gt;</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>&lt;/param-value&gt;里指定相应的xml文件名，如果有多个xml文件，可以写在一起并以“,”号分隔，比如在business-client工程中，我们采用了自定义配置方式，&lt;context-param&gt;配置如下：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
 <pre><code class="language-html">&lt;!-- spring config --&gt;  
&lt;context-param&gt;  
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  
    &lt;param-value&gt;/WEB-INF/spring-configuration/*.xml&lt;/param-value&gt;  
&lt;/context-param&gt;  
&lt;listener&gt;  
     &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  
 &lt;/listener&gt;</code></pre> 
 <br> 
 <br> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>对应工程目录结构如下所示：</span> 
</div> 
<div style='color:rgb(85,85,85); font-size:14px; font-family:"Microsoft YaHei"; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-family:SimSun,STSong; font-size:18px"><img src="https://images2.imgbox.com/c1/be/QoStJq7N_o.png" alt="" style="border:none; max-width:100%; max-height:100%"><br> </span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>部署在同一容器中的多个Web项目，要配置不同的webAppRootKey，web.xml文件中最好定义webAppRootKey参数，如果不定义，将会缺省为“webapp.root”，如下：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
 <pre><code class="language-html">&lt;!-- 应用路径  --&gt;    
 &lt;context-param&gt;    
        &lt;param-name&gt;webAppRootKey&lt;/param-name&gt;    
        &lt;param-value&gt;webapp.root&lt;/param-value&gt;    
 &lt;/context-param&gt;</code></pre> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>当然也不能重复，否则报类似下面的错误：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(255,0,0)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>Web app root system property already set to different value: 'webapp.root' = [/home/user/tomcat/webapps/project1/] instead of [/home/user/tomcat/webapps/project2/] - Choose unique values for the 'webAppRootKey' context-param in your web.xml files!  </span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>意思是“webapp.root”这个key已经指向了项目1，不可以再指向项目2。多个项目要对webAppRootKey进行配置，我们工程主要是让log4j能将日志写到对应项目根目录下，比如：我们的项目的webAppRootKey为</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
 <pre><code class="language-html">&lt;!—business-client应用路径  --&gt;    
    &lt;context-param&gt;    
        &lt;param-name&gt;webAppRootKey&lt;/param-name&gt;    
        &lt;param-value&gt; business.root &lt;/param-value&gt;    
    &lt;/context-param&gt;    
&lt;!—public-base应用路径  --&gt;    
    &lt;context-param&gt;    
        &lt;param-name&gt;webAppRootKey&lt;/param-name&gt;    
        &lt;param-value&gt; pubbase.root&lt;/param-value&gt;    
    &lt;/context-param&gt;</code></pre> 
 <br> 
 <br> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>这样就不会出现冲突了。就可以在运行时动态地找到项目路径，在log4j.properties配置文件中可以按下面的方式使用${webapp.root}：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>log4j.appender.file.File=${webapp.root}/WEB-INF/logs/sample.log </span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>就可以在运行时动态地找出项目的路径。</span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t11" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>5.4 多个配置文件交叉引用处理：</strong></span></h5> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>如果web.xml中有contextConfigLocation参数指定的Spring配置文件<strong>，</strong>则会去加载相应的配置文件，而不会去加载/WEB-INF/下的applicationContext.xml。但是如果没有指定的话，默认会去/WEB-INF/下加载applicationContext.xml。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>在一个团队使用Spring的实际项目中，应该需要多个Spring的配置文件，如何使用和交叉引用的问题：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>多个配置文件可以在web.xml里用空格分隔写入，如：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
 <pre><code class="language-html">&lt;context-param&gt;  
   &lt;param-name&gt;contextConfigLocation &lt;/param-name&gt;  
   &lt;param-value&gt; applicationContext-database.xml,applicationContext.xml&lt;/param-value&gt;    
&lt;context-param&gt;</code></pre> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>多个配置文件里的交叉引用可以用ref的external或bean解决，例如：</span> 
 <span style="font-size:14px; font-family:Arial">applicationContext.xml</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px; font-family:Arial"></span> 
 <pre><code class="language-html">&lt;bean id="userService" class="domain.user.service.impl.UserServiceImpl"&gt;   
   &lt;property name="dbbean"&gt;  
      &lt;ref bean="dbBean"/&gt;  
   &lt;/property&gt;   
&lt;/bean&gt;</code></pre> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>dbBean在applicationContext-database.xml中。</span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t12" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'>5.5 在不同环境下如何获取：</span><span style="font-size:14px">范例:</span></h5> 
<div> 
 <span style="font-size:14px"></span> 
 <pre><code class="language-html">&lt;context-param&gt;  
   &lt;param-name&gt;param_name&lt;/param-name&gt;  
   &lt;param-value&gt;param_value&lt;/param-value&gt;  
&lt;/context-param&gt;</code></pre> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>此所设定的参数，在JSP网页中可以使用下列方法来取得：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(255,0,0)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>${initParam.param_name}</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>若在Servlet可以使用下列方法来获得：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(255,0,0)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>String param_name=getServletContext().getInitParamter("param_name");</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><span style="color:rgb(51,51,51)">Servlet</span><span style="color:rgb(51,51,51)">的</span><span style="color:rgb(51,51,51)">ServletConfig</span><span style="color:rgb(51,51,51)">对象拥有该</span><span style="color:rgb(51,51,51)">Servlet</span><span style="color:rgb(51,51,51)">的</span><span style="color:rgb(51,51,51)">ServletContext</span><span style="color:rgb(51,51,51)">的一个引用，所以可这样取得上下文初始化参数：</span><span style="color:rgb(51,51,51)">getServletConfig().getServletContext().getInitParameter()</span><span style="color:rgb(51,51,51)">也可以在</span><span style="color:rgb(51,51,51)">Servlet</span><span style="color:rgb(51,51,51)">中直接调用</span><span style="color:rgb(51,51,51)">getServletContext().getInitParameter()</span><span style="color:rgb(51,51,51)">，两者是等价的。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <div style="line-height:1.75"> 
  <h4 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t13" style="color:rgb(12,137,207)"></a><strong><span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'>6. &lt;session-config&gt;&lt;/session-config&gt;</span></strong></h4> 
  <div> 
   <strong><span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'></span></strong> 
   <pre><code class="language-html">&lt;!-- Set timeout to 120 minutes --&gt;  
&lt;session-config&gt;   
   &lt;session-timeout&gt;120&lt;/session-timeout&gt;   
&lt;/session-config&gt;</code></pre> 
  </div> 
 </div> 
 <div style="line-height:1.75; color:rgb(51,51,51)"> 
  <span style='font-family:"Microsoft YaHei"'><span style="font-size:14px">&lt;session-config&gt; 用于设置容器的session参数，比如：&lt;session-timeout&gt; 用于指定http session的失效时间。默认时间设置在&lt;jakarta&gt;/conf/web.xml (30 minutes)。&lt;session-timeout&gt;用来指定默认的会话超时时间间隔，以分钟为单位。该元素值必须为整数。如果 session-timeout元素的值为零或负数，则表示会话将永远不会超时。</span></span> 
 </div> 
 <h4 style="margin-top:0px; margin-bottom:0px; padding:0px; line-height:1.75"><a target="_blank" name="t14" style="color:rgb(12,137,207)"></a><span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'>7. &lt;listener&gt;&lt;/listener&gt;</span></h4> 
 <div> 
  <span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'></span> 
  <pre><code class="language-html">&lt;!--****************************监听器配置*********************************--&gt;  
&lt;!-- Spring的log4j监听器 --&gt;  
&lt;listener&gt;  
    &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;  
&lt;/listener&gt;  
&lt;listener&gt;  
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  
&lt;/listener&gt;  
&lt;!-- 与CAS Single Sign Out Filter配合，注销登录信息  --&gt;   
&lt;listener&gt;  
&lt;listener-class&gt;com.yonyou.mcloud.cas.client.session.SingleSignOutHttpSessionListener&lt;/listener-class&gt;  
&lt;/listener&gt;</code></pre> 
 </div> 
 <h5 style="margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(51,51,51); line-height:1.75"> <a target="_blank" name="t15" style="color:rgb(12,137,207)"></a><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>7.1 Listener介绍：</span></span></h5> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>&lt;listener&gt;为web应用程序定义监听器，监听器用来监听各种事件，比如：application和session事件，所有的监听器按照相同的方式定义，功能取决去它们各自实现的接口，常用的Web事件接口有如下几个：<br> (1). ServletContextListener：用于监听Web应用的启动和关闭；<br> (2). ServletContextAttributeListener：用于监听ServletContext范围（application）内属性的改变；<br> (3). ServletRequestListener：用于监听用户的请求；<br> (4). ServletRequestAttributeListener：用于监听ServletRequest范围（request）内属性的改变；<br> (5). HttpSessionListener：用于监听用户session的开始和结束；<br> (6). HttpSessionAttributeListener：用于监听HttpSession范围（session）内属性的改变。<br> &lt;listener&gt;主要用于监听Web应用事件，其中有两个比较重要的WEB应用事件：</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'><strong>应用的启动和停止（</strong></span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>starting up or shutting down</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'><strong>）</strong></span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>和</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'><strong>Session</strong></span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'><strong>的创建和失效（</strong></span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>created or destroyed</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'><strong>）</strong></span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>。</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>应用启动事件发生在应用第一次被</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>Servlet</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>容器装载和启动的时候；停止事件发生在</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>Web</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>应用停止的时候。</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>Session创建事件发生在每次一个新的session创建的时候，类似地Session失效事件发生在每次一个Session失效的时候。为了使用这些Web应用事件做些有用的事情，我们必须创建和使用一些特殊的“监听类”。它们是实现了以下两个接口中任何一个接口的简单java类：</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>javax.servlet.ServletContextListener</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>或</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>javax.servlet.http.HttpSessionListener</span> 
  <span style='text-align:justify; font-family:"Microsoft YaHei"; font-size:14px'>，如果想让你的类监听应用的启动和停止事件，你就得实现ServletContextListener接口；想让你的类去监听Session的创建和失效事件，那你就得实现HttpSessionListener接口。</span> 
 </div> 
 <h5 style="margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(51,51,51); line-height:1.75"> <a target="_blank" name="t16" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>7.2 Listener配置：</strong></span></h5> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>配置Listener只要向Web应用注册Listener实现类即可，无序配置参数之类的东西，因为</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>Listener</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>获取的是</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>Web</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>应用</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>ServletContext</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>（</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>application</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>）的配置参数</span> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>。为Web应用配置Listener的两种方式：</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1). 使用@WebListener修饰Listener实现类即可。</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2). 在web.xml文档中使用&lt;listener&gt;进行配置。</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>我们选择web.xml这种配置方式，只有一个元素&lt;listener-class&gt;指定Listener的实现类，如下所示：</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
  <pre><code class="language-html">&lt;listener&gt;  
   &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  
&lt;/listener&gt;</code></pre> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>这里的&lt;listener&gt;用于Spring的加载，Spring加载可以利用<span style="color:rgb(255,0,0)"><strong>ServletContextListener</strong></span>实现，也可以采用<span style="color:rgb(255,0,0)"><strong>load-on-startup Servlet </strong></span>实现，但是当&lt;filter&gt;需要用到bean时，但加载顺序是：先加载&lt;filter&gt;后加载&lt;servlet&gt;，则&lt;filter&gt;中初始化操作中的bean为null；所以，如果过滤器中要使用到bean，此时就可以根据加载顺序&lt;listener&gt; -&gt; &lt;filter&gt; -&gt; &lt;servlet&gt;，将spring的加载改成Listener的方式。</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1). 利用ServletContextListener实现：</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
  <pre><code class="language-html">&lt;servlet&gt;    
   &lt;servlet-name&gt;context&lt;/servlet-narne&gt;   
   &lt;servlet-class&gt;org.springframework.web.context.ContextLoaderServlet&lt;/servlet-class&gt;    
   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    
&lt;/servlet&gt;</code></pre> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2).采用load-on-startup Servlet 实现：</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
  <pre><code class="language-html">&lt;listener&gt;  
   &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;  
&lt;/listener&gt;</code></pre> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>我们选择了第二种方式，在J2EE工程中web服务器启动的时候最先调用web.xml，上面这段配置的意思是加载spring的监听器，其中ContextLoaderListener的作用就是启动Web容器时，自动装配applicationContext.xml的配置信息，执行它所实现的方法。</span> 
 </div> 
 <h4 style="margin-top:0px; margin-bottom:0px; padding:0px; line-height:1.75"><a target="_blank" name="t17" style="color:rgb(12,137,207)"></a><span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'>8. &lt;filter&gt;&lt;/filter&gt;</span></h4> 
 <div> 
  <span style='font-family:"Times New Roman"; font-size:18px; color:rgb(0,0,0)'></span> 
  <pre><code class="language-html">&lt;!--****************************过滤器配置*********************************--&gt;  
  &lt;!-- 字符集过滤器 --&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;encoding&lt;/param-name&gt;  
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;forceEncoding&lt;/param-name&gt;  
      &lt;param-value&gt;true&lt;/param-value&gt;  
    &lt;/init-param&gt;  
  &lt;/filter&gt;  
  &lt;!-- 单点登出过滤器 --&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS Single Sign Out Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;com.yonyou.mcloud.cas.client.session.SingleSignOutFilter&lt;/filter-class&gt;  
  &lt;/filter&gt;  
  &lt;!-- 认证过滤器 --&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS Authentication Filter&lt;/filter-name&gt;  
&lt;filter-class&gt;com.yonyou.mcloud.cas.client.authentication.ExpandAuthenticationFilter&lt;/filter-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;casServerLoginUrl&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/sso-server/login&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;!--这里的server是服务端的IP --&gt;  
      &lt;param-name&gt;serverName&lt;/param-name&gt;  
      &lt;param-value&gt;http://10.1.215.40:80&lt;/param-value&gt;  
    &lt;/init-param&gt;  
  &lt;/filter&gt;  
  &lt;!-- 验证ST/PT过滤器 --&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
&lt;filter-class&gt;org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter&lt;/filter-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;casServerUrlPrefix&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/sso-server&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;serverName&lt;/param-name&gt;  
      &lt;param-value&gt;http://10.1.215.40:80&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;proxyCallbackUrl&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/business/proxyCallback&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;proxyReceptorUrl&lt;/param-name&gt;  
      &lt;param-value&gt;/proxyCallback&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;proxyGrantingTicketStorageClass&lt;/param-name&gt;  
&lt;param-value&gt;com.yonyou.mcloud.cas.client.proxy.MemcachedBackedProxyGrantingTicketStorageImpl&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;!-- 解决中文问题 --&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;encoding&lt;/param-name&gt;  
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;  
    &lt;/init-param&gt;  
  &lt;/filter&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS HttpServletRequest Wrapper Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.jasig.cas.client.util.HttpServletRequestWrapperFilter&lt;/filter-class&gt;  
  &lt;/filter&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS Assertion Thread Local Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.jasig.cas.client.util.AssertionThreadLocalFilter&lt;/filter-class&gt;  
  &lt;/filter&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;com.yonyou.mcloud.cas.client.authentication.NoCacheFilter&lt;/filter-class&gt;  
  &lt;/filter&gt;  
  &lt;!--****************************映射关系配置********************************--&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Single Sign Out Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/proxyCallback&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Authentication Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS HttpServletRequest Wrapper Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;  
  &lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Assertion Thread Local Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;</code></pre> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <h5 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t18" style="color:rgb(12,137,207)"></a><span style="font-size:18px"><span style="color:rgb(51,51,51)"><span style='font-family:"Times New Roman"'>8.1 Filter</span></span><span style="font-family:SimHei; color:rgb(51,51,51)">介绍：</span></span></h5> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>Filter可认为是Servle的一种“加强版”，主要用于对用户请求request进行预处理，也可以对Response进行后处理，是个典型的处理链。<span style="color:rgb(255,0,0)">使用</span><span style="color:rgb(255,0,0)">Filter</span><span style="color:rgb(255,0,0)">的完整流程是：</span><span style="color:rgb(255,0,0)">Filter</span><span style="color:rgb(255,0,0)">对用户请求进行预处理，接着将请求</span><span style="color:rgb(255,0,0)">HttpServletRequest</span><span style="color:rgb(255,0,0)">交给</span><span style="color:rgb(255,0,0)">Servlet</span><span style="color:rgb(255,0,0)">进行处理并生成响应，最后</span><span style="color:rgb(255,0,0)">Filter</span><span style="color:rgb(255,0,0)">再对服务器响应</span><span style="color:rgb(255,0,0)">HttpServletResponse</span><span style="color:rgb(255,0,0)">进行后处理。</span>Filter与Servlet具有完全相同的生命周期，且Filter也可以通过&lt;init-param&gt;来配置初始化参数，获取Filter的初始化参数则使用FilterConfig的getInitParameter()。</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>换种说法，Servlet里有request和response两个对象，Filter能够在一个request到达Servlet之前预处理request，也可以在离开Servlet时处理response，Filter其实是一个Servlet链。以下是Filter的一些常见应用场合，</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1)认证Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2)日志和审核Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(3)图片转换Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(4)数据压缩Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(5)密码Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(6)令牌Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(7)触发资源访问事件的Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(8)XSLT Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>(9)媒体类型链Filter</span> 
 </div> 
 <div style="color:rgb(51,51,51); line-height:1.75"> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'>Filter可负责拦截多个请求或响应；一个请求或响应也可被多个Filter拦截。创建一个Filter只需两步:<br> (1) 创建Filter处理类<br> (2) Web.xml文件中配置Filter<br> Filter必须实现javax.servlet.Filter接口，在该接口中定义了三个方法：<br> (1) void init(FilterConfig config)：用于完成Filter的初始化。FilteConfig用于访问Filter的配置信息。<br> (2) void destroy()：用于Filter销毁前，完成某些资源的回收。<br> (3) void doFilter(ServletRequest request,ServletResponse response,FilterChain chain)：实现过滤功能的核心方法，该方法就是对每个请求及响应增加额外的处理。该方法实现对用户请求request进行预处理，也可以实现对服务器响应response进行后处理---它们的分界线为是否调用了chain.doFilter(request，response)，执行该方法之前，即对用户请求request进行预处理，执行该方法之后，即对服务器响应response进行后处理。<br> </span> 
 </div> 
 <h5 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t19" style="color:rgb(12,137,207)"></a><span style="color:rgb(51,51,51)"><span style='font-family:"Times New Roman"; font-size:18px'>8.2 Filter</span><span style="font-family:SimHei; font-size:18px">配置：</span></span></h5> 
 <span style="color:rgb(51,51,51)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>Filter可认为是Servlet的“增强版”，因此Filter配置与Servlet的配置非常相似，需要配置两部分：配置Filter名称和Filter拦截器URL模式。区别在于Servlet通常只配置一个URL，而Filter可以同时配置多个请求的URL。配置Filter有两种方式：<br> (1). 在Filter类中通过Annotation进行配置。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>(2). 在web.xml文件中通过配置文件进行配置。<br> 我们使用的是web.xml这种配置方式，下面重点介绍&lt;filter&gt;内包含的一些元素。<br> &lt;filter&gt;用于指定Web容器中的过滤器，可包含&lt;filter-name&gt;、&lt;filter-class&gt;、&lt;init-param&gt;、&lt;icon&gt;、&lt;display-name&gt;、&lt;description&gt;。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>(1).&lt;filter-name&gt;用来定义过滤器的名称，该名称在整个程序中都必须唯一。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>(2).&lt;filter-class&gt;元素指定过滤器类的完全限定的名称，即Filter的实现类。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style='font-family:"Microsoft YaHei"; font-size:14px'>(3). &lt;init-param&gt;为Filter配置参数，与&lt;context-param&gt;具有相同的元素描述符&lt;param-name&gt;和&lt;param-value&gt;。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'>(4). &lt;filter-mapping&gt;元素用来声明Web应用中的过滤器映射，过滤器被映射到一个servlet或一个URL 模式。这个过滤器的&lt;filter&gt;和&lt;filter-mapping&gt;必须具有相同的&lt;filter-name&gt;，指定该Filter所拦截的URL。过滤是按照部署描述符的&lt;filter-mapping&gt;出现的顺序执行的。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t20" style="color:rgb(12,137,207)"></a><span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>8.21 字符集过滤器</span></span></span></h6> 
 <div> 
  <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'></span></span></span> 
  <pre><code class="language-html">&lt;filter&gt;  
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;encoding&lt;/param-name&gt;  
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;forceEncoding&lt;/param-name&gt;  
      &lt;param-value&gt;true&lt;/param-value&gt;  
    &lt;/init-param&gt;  
  &lt;/filter&gt;  
&lt;filter-mapping&gt;  
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;</code></pre> 
 </div> CharacterEncodingFilter类可以通过简单配置来帮我们实现字符集转换的功能，参数encoding用于指定编码类型，参数forceEncoding设为true时，强制执行request.setCharacterEncoding(this.encoding)和reponse.setCharacterEncoding(this.encoding)中的方法。 
 <br> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t21" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'>8.22 缓存控制</span></h6> 
 <div> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
  <pre><code class="language-html">&lt;filter&gt;  
    &lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;com.yonyou.mcloud.cas.client.authentication.NoCacheFilter&lt;/filter-class&gt;  
&lt;/filter&gt;  
  &lt;filter-mapping&gt;  
&lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
&lt;!—表示对URL全部过滤--&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;</code></pre> 
 </div> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t22" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'>8.23 登录认证</span></h6> 
 <div> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px'></span> 
  <pre><code class="language-html">&lt;!-- 认证过滤器 --&gt;  
  &lt;filter&gt;  
    &lt;filter-name&gt;CAS Authentication Filter&lt;/filter-name&gt;  
&lt;filter-class&gt;com.yonyou.mcloud.cas.client.authentication.ExpandAuthenticationFilter&lt;/filter-class&gt;  
&lt;init-param&gt;  
      &lt;param-name&gt;casServerLoginUrl&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/sso-server/login&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;!--这里的server是服务端的IP --&gt;  
      &lt;param-name&gt;serverName&lt;/param-name&gt;  
      &lt;param-value&gt;http://10.1.215.40:80&lt;/param-value&gt;  
    &lt;/init-param&gt;  
  &lt;/filter&gt;  
  &lt;filter-mapping&gt;  
     &lt;filter-name&gt;CAS Authentication Filter&lt;/filter-name&gt;  
     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
  &lt;/filter-mapping&gt;</code></pre> 
 </div> 登录认证，未登录用户导向CAS Server进行认证。 
 <br> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t23" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'>8.24 单点登出</span></h6> 
 <div> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'></span> 
  <pre><code class="language-html">&lt;filter&gt;  
      &lt;filter-name&gt;CAS Single Sign Out Filter&lt;/filter-name&gt;  
      &lt;filter-class&gt;org.jasig.cas.client.session.SingleSignOutFilter&lt;/filter-class&gt;  
&lt;/filter&gt;  
&lt;filter-mapping&gt;  
      &lt;filter-name&gt;CAS Single Sign Out Filter&lt;/filter-name&gt;  
       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;  
&lt;listener&gt;  
      &lt;listener-class&gt;org.jasig.cas.client.session.SingleSignOutHttpSessionListener&lt;/listener-class&gt;  
&lt;/listener&gt;</code></pre> 
 </div> CAS Server通知CAS Client，删除session，注销登录信息。 
 <br> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t24" style="color:rgb(12,137,207)"></a><strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'>8.25 封装request</span></strong></h6> 
 <div> 
  <strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'></span></strong> 
  <pre><code class="language-html">&lt;filter&gt;  
    &lt;filter-name&gt;CAS HttpServletRequest Wrapper Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.jasig.cas.client.util.HttpServletRequestWrapperFilter&lt;/filter-class&gt;  
&lt;/filter&gt;  
&lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS HttpServletRequest Wrapper Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;</code></pre> 
 </div> 封装request, 支持getUserPrincipal等方法。 
 <br> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t25" style="color:rgb(12,137,207)"></a><strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'>8.26 存放Assertion到ThreadLocal中</span></strong></h6> 
 <div> 
  <strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'></span></strong> 
  <pre><code class="language-html">&lt;filter&gt;  
    &lt;filter-name&gt;CAS Assertion Thread Local Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.jasig.cas.client.util.AssertionThreadLocalFilter&lt;/filter-class&gt;  
&lt;/filter&gt;  
&lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Assertion Thread Local Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;</code></pre> 
 </div> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t26" style="color:rgb(12,137,207)"></a><strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'>8.27 禁用浏览器缓存</span></strong></h6> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><pre><code class="language-html">&lt;filter&gt;  
    &lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;com.yonyou.mcloud.cas.client.authentication.NoCacheFilter&lt;/filter-class&gt;  
 &lt;/filter&gt;  
 &lt;filter-mapping&gt;  
    &lt;filter-name&gt;NoCache Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
 &lt;/filter-mapping&gt;</code></pre></h6> 
 <h6 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t27" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'>8.28 CAS Client向CAS Server进行ticket验证</span></h6> 
 <div> 
  <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(0,0,0)'></span> 
  <pre><code class="language-html">&lt;!-- 验证ST/PT过滤器 --&gt;  
&lt;filter&gt;  
   &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
    &lt;filter-class&gt;org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter&lt;/filter-class&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;casServerUrlPrefix&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/sso-server&lt;/param-value&gt;  
   &lt;/init-param&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;serverName&lt;/param-name&gt;  
      &lt;param-value&gt;http://10.1.215.40:80&lt;/param-value&gt;  
   &lt;/init-param&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;proxyCallbackUrl&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/business/proxyCallback&lt;/param-value&gt;  
   &lt;/init-param&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;proxyReceptorUrl&lt;/param-name&gt;  
      &lt;param-value&gt;/proxyCallback&lt;/param-value&gt;  
   &lt;/init-param&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;proxyGrantingTicketStorageClass&lt;/param-name&gt;  
&lt;param-value&gt;com.yonyou.mcloud.cas.client.proxy.MemcachedBackedProxyGrantingTicketStorageImpl&lt;/param-value&gt;  
   &lt;/init-param&gt;  
   &lt;!-- 解决中文问题 --&gt;  
   &lt;init-param&gt;  
      &lt;param-name&gt;encoding&lt;/param-name&gt;  
      &lt;param-value&gt;UTF-8&lt;/param-value&gt;  
   &lt;/init-param&gt;  
&lt;/filter&gt;  
&lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/proxyCallback&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;  
&lt;filter-mapping&gt;  
    &lt;filter-name&gt;CAS Validation Filter&lt;/filter-name&gt;  
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;  
&lt;/filter-mapping&gt;</code></pre> 
 </div> 
 <h4 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t28" style="color:rgb(12,137,207)"></a><span style="font-size:18px"><span style='font-family:"Times New Roman"'>9. &lt;servlet&gt;&lt;/servlet&gt;</span></span></h4> 
 <div> 
  <span style="font-size:18px"><span style='font-family:"Times New Roman"'></span></span> 
  <pre><code class="language-html">&lt;!--****************************servlet&lt;/span&gt;&lt;span style="font-family:SimSun;"&gt;配置&lt;/span&gt;&lt;span style="font-family:Times New Roman;"&gt;******************************--&gt;  
&lt;!-- Spring view&lt;/span&gt;&lt;span style="font-family:SimSun;"&gt;分发器  对所有的请求都由business对应的类来控制转发&lt;/span&gt;&lt;span style="font-family:Times New Roman;"&gt; --&gt;  
&lt;servlet&gt;  
    &lt;servlet-name&gt;business&lt;/servlet-name&gt;  
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;publishContext&lt;/param-name&gt;  
      &lt;param-value&gt;false&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  
&lt;/servlet&gt;  
&lt;!-- &lt;/span&gt;&lt;span style="font-family:SimSun;"&gt;用户登出&lt;/span&gt;&lt;span style="font-family:Times New Roman;"&gt; --&gt;  
&lt;servlet&gt;  
    &lt;servlet-name&gt;LogOutServlet&lt;/servlet-name&gt;  
    &lt;servlet-class&gt;com.yonyou.mcloud.cas.web.servlet.LogOutServlet&lt;/servlet-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;serverLogoutUrl&lt;/param-name&gt;  
      &lt;param-value&gt;https://dev.yonyou.com:443/sso-server/logout&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;serverName&lt;/param-name&gt;  
      &lt;param-value&gt;http://10.1.215.40:80/business/&lt;/param-value&gt;  
    &lt;/init-param&gt;  
&lt;/servlet&gt;  
&lt;!--****************************servlet&lt;/span&gt;&lt;span style="font-family:SimSun;"&gt;映射关系配置&lt;/span&gt;&lt;span style="font-family:Times New Roman;"&gt;*************************--&gt;  
&lt;servlet-mapping&gt;  
    &lt;servlet-name&gt;LogOutServlet&lt;/servlet-name&gt;  
    &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;  
&lt;/servlet-mapping&gt;  
&lt;servlet-mapping&gt;  
    &lt;servlet-name&gt;business&lt;/servlet-name&gt;  
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;  
&lt;/servlet-mapping&gt;</code></pre> 
 </div> 
 <h5 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t29" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>9.1 Servlet介绍：</strong></span></h5> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>Servlet通常称为服务器端小程序，是运行在服务器端的程序，用于处理及响应客户的请求。Servlet是个特殊的java类，继承于<span style="color:rgb(255,0,0)"><strong>HttpServlet</strong></span>。客户端通常只有GET和POST两种请求方式，Servlet为了响应则两种请求，必须重写doGet()和doPost()方法。大部分时候，Servlet对于所有的请求响应都是完全一样的，此时<span style="color:rgb(255,0,0)">只需要重写service()方法即可响应客户端的所有请求。</span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><span style="color:rgb(255,0,0)">另外，</span>HttpServlet有两个方法：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1). init(ServletConfig config)：创建Servlet实例时，调用该方法的<span style="color:rgb(255,0,0)">初始化Servlet资源</span>。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2). destroy()：销毁Servlet实例时，自动调用该方法的回收资源。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>通常无需重写init()和destroy()两个方法，除非需要在初始化Servlet时，完成某些资源初始化的方法，才考虑重写init()方法，<span style="color:rgb(255,0,0)">如果重写了init()方法，应在重写该方法的第一行调用super.init(config)，该方法将调用HttpServlet的init()方法</span>。如果需要在销毁Servlet之前，先完成某些资源的回收，比如关闭数据库连接，才需要重写destory方法()。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>Servlet的生命周期：</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>创建Servlet实例有两个时机：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1). 客户端第一次请求某个Servlet时，系统创建该Servlet的实例，大部分Servlet都是这种Servlet。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2). Web应用启动时立即创建Servlet实例，即load-on-start Servlet。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>每个Servlet的运行都遵循如下生命周期：</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(1).<span style="color:rgb(255,0,0)"> 创</span></span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><span style="color:rgb(255,0,0)">建Ser</span></span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(255,0,0)'>vlet实例</span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(2). Web容器<span style="color:rgb(255,0,0)">调用Servlet的init()</span>方法，对Servlet进行初始化。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(3). Servlet初始化后，将一直存在于容器中，用于<span style="color:rgb(255,0,0)">响应客户端请求</span>，如果客户端发送GET请求，容器调用Servlet的doGet()方法处理并响应请求；如果客户端发送POST请求，容器调用Servlet的doPost()方法处理并响应请求。或者统一使用service()方法处理来响应用户请求。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>(4). Web容器决定销毁Servlet时，先<span style="color:rgb(255,0,0)">调用Servlet的destory()</span>方法，通常在关闭Web应用时<span style="color:rgb(255,0,0)">销毁Servlet实例</span>。</span> 
 <br> 
 <h5 style="margin-top:0px; margin-bottom:0px; padding:0px"><a target="_blank" name="t30" style="color:rgb(12,137,207)"></a><span style="font-size:14px">9.2 Servlet配置：</span></h5> 
 <span style="font-size:14px"><span style="color:rgb(255,0,0)">为了让Servlet能响应用户请求，还必须将Servlet配置在web应用中</span>，<span style="color:rgb(255,0,0)">配置Servlet需要修改web.xml文件。</span>从Servlet3.0开始，配置Servlet有两种方式：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">(1). 在Servlet类中使用@WebServlet Annotation进行配置。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">(2). 在web.xml文件中进行配置。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">我们用web.xml文件来配置Servlet，需要配置&lt;servlet&gt;和&lt;servlet-mapping&gt;。&lt;servlet&gt;用来声明一个Servlet。&lt;icon&gt;、&lt;display-name&gt;和&lt;description&gt;元素的用法和&lt;filter&gt;的用法相同。&lt;init-param&gt;元素与&lt;context-param&gt;元素具有相同的元素描述符，可以使用&lt;init-param&gt;子元素将初始化参数名和参数值传递给Servlet，访问Servlet配置参数通过ServletConfig对象来完成，ServletConfig提供如下方法：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px; color:rgb(255,0,0)">java.lang.String.getInitParameter(java.lang.String name)：用于获取初始化参数</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">ServletConfig获取配置参数的方法和ServletContext获取配置参数的方法完全一样，只是ServletConfig是取得当前Servlet的配置参数，而ServletContext是获取整个Web应用的配置参数。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px"><strong>(1). &lt;description&gt;、&lt;display-name&gt;和&lt;icon&gt;</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">1). &lt;description&gt;：为Servlet指定一个文本描述。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">2). &lt;display-name&gt;：为Servlet提供一个简短的名字被某些工具显示。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">3). &lt;icon&gt;：为Servlet指定一个图标，在图形管理工具中表示该Servlet。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px"><strong><span style="font-size:14px">(2). &lt;</span>servlet-name&gt;、&lt;servlet-class&gt;和&lt;jsp-file&gt;元素</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">&lt;servlet&gt;必须含有&lt;servlet-name&gt;和&lt;servlet-class&gt;，或者&lt;servlet-name&gt;和&lt;jsp-file&gt;。 描述如下：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">1). &lt;servlet-name&gt;用来定义servlet的名称，该名称在整个应用中必须是惟一的。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">2). &lt;servlet-class&gt;用来指定servlet的完全限定的名称。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">3). &lt;jsp-file&gt;用来指定应用中JSP文件的完整路径。这个完整路径必须由/开始。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px"><strong>(3). &lt;load-on-startup&gt;</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">如果load-on-startup元素存在，而且也指定了jsp-file元素，则JSP文件会被重新编译成Servlet，同时产生的Servlet也被载入内存。&lt;load-on-startup&gt;的内容可以为空，或者是一个整数。这个值表示由Web容器载入内存的顺序。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">举个例子：如果有两个Servlet元素都含有&lt;load-on-startup&gt;子元素，则&lt;load-on-startup&gt;子元素值较小的Servlet将先被加载。如果&lt;load-on-startup&gt;子元素值为空或负值，则由Web容器决定什么时候加载Servlet。如果两个Servlet的&lt;load-on-startup&gt;子元素值相同，则由Web容器决定先加载哪一个Servlet。</span> 
 <span style="font-size:14px">&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;表示启动容器时，初始化Servlet。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px"><strong>(4). &lt;servlet-mapping&gt;</strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">&lt;servlet-mapping&gt;含有&lt;servlet-name&gt;和&lt;url-pattern&gt;</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">1). &lt;servlet-name&gt;：Servlet的名字，唯一性和一致性，与&lt;servlet&gt;元素中声明的名字一致。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">2). &lt;url-pattern&gt;：指定相对于Servlet的URL的路径。该路径相对于web应用程序上下文的根路径。&lt;servlet-mapping&gt;将URL模式映射到某个Servlet，即该Servlet处理的URL。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px"><strong>(5). 加载Servlet的过程 </strong></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="font-size:14px">容器的Context对象对请求路径(URL)做出处理，去掉请求URL的上下文路径后，按路径映射规则和Servlet映射路径（&lt;url- pattern&gt;）做匹配，如果匹配成功，则调用这个Servlet处理请求。 </span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t31" style="color:rgb(12,137,207)"></a><strong><span style="font-size:14px">9.3</span><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'>DispatcherServlet在web.xml中的配置：</span></strong></h5> 
<div> 
 <strong><span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'></span></strong> 
 <pre><code class="language-html">&lt;!-- Spring view分发器  对所有的请求都由business对应的类来控制转发 --&gt;  
&lt;servlet&gt;  
    &lt;servlet-name&gt;business&lt;/servlet-name&gt;  
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  
    &lt;init-param&gt;  
      &lt;param-name&gt;publishContext&lt;/param-name&gt;  
      &lt;param-value&gt;false&lt;/param-value&gt;  
    &lt;/init-param&gt;  
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  
&lt;/servlet&gt;</code></pre> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"'>配置Spring MVC，指定处理请求的Servlet，有两种方式：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>(1). 默认查找MVC配置文件的地址是：/WEB-INF/${servletName}-servlet.xml</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>(2). 可以通过配置修改MVC配置文件的位置，需要在配置DispatcherServlet时指定MVC配置文件的位置。</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>我们在平台项目两个工程中分别使用了不同的配置方式，介绍如下：</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>(1). 在business-client工程中按照默认方式查找MVC的配置文件，配置文件目录为： /WEB-INF/business-servlet.xml。工程目录结构如下所示：<br>  <img src="https://images2.imgbox.com/fc/81/NAMNfbo3_o.png" alt="" style="border:none; max-width:100%; max-height:100%"><br> (2).在public-base-server工程中，通过第2种方式进行配置，把spring-servlet.xml放到src/main/resources/config/spring-servlet.xml，则需要在配置DispatcherServlet时指定&lt;init-param&gt;标签。具体代码如下：</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'></span></span></span> 
 <pre><code class="language-html">&lt;servlet&gt;  
    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;  
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  
      &lt;init-param&gt;  
        &lt;param-name&gt;publishContext&lt;/param-name&gt;  
        &lt;param-value&gt;false&lt;/param-value&gt;  
&lt;/init-param&gt;  
 &lt;init-param&gt;    
         &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;    
            &lt;param-value&gt;classpath:config/spring-servlet.xml&lt;/param-value&gt;    
        &lt;/init-param&gt;   
     &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  
&lt;/servlet&gt;</code></pre> 
 <span style='font-family:"Microsoft YaHei"'>工程目录结构如下：</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'><img src="https://images2.imgbox.com/f3/8b/UIjh2AHj_o.png" alt="" style="border:none; max-width:100%; max-height:100%"><img src="https://images2.imgbox.com/d9/db/dv9lwt61_o.png" alt="" style="border:none; max-width:100%; max-height:100%"></span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'>其中，</span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><span style="color:rgb(255,0,0)">classpath</span></span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'>是web项目的类路径，可以理解为classes下面。因为无论这些配置文件放在哪，编译之后如果没有特殊情况的话都直接在classes下面。jar包的话虽然放在lib文件夹里，但实际上那些类可以直接引用，比如：com.test.ABC，仿佛也在classes下面一样。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'>在我们的工程里，经过验证，maven工程这两个<img src="https://images2.imgbox.com/ef/8b/iWHu6kw1_o.png" alt="" style="border:none; max-width:100%; max-height:100%">路径经过编译后生成的文件都位于classes目录下，即这两个路径相当于类路径，在下面创建config文件夹（folder），然后创建自定义的xml配置文件即可。</span></span></span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style="color:rgb(51,51,51)"><span style="font-size:14px"><span style='font-family:"Microsoft YaHei"'><strong>classpath和classpath*区别：</strong></span></span></span> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px; color:rgb(51,51,51)'>同名资源存在时，classpath只从第一个符合条件的classpath中加载资源，而classpath*会从所有的classpath中加载符合条件的资源。classpath*，需要遍历所有的classpath，效率肯定比不上classpath，因此在项目设计的初期就尽量规划好资源文件所在的路径，避免使用classpath*来加载。</span> 
</div> 
<h5 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t32" style="color:rgb(12,137,207)"></a><span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>9.4 ContextLoaderListener和DispatcherServlet初始化上下文关系和区别：</strong></span></h5> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><img src="https://images2.imgbox.com/40/bc/9ixWzTMs_o.png" alt="" style="border:none; max-width:100%; max-height:100%"><br> </span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'>从上图可以看出，ContextLoaderListener初始化的上下文加载的Bean是对于整个应用程序共享的，一般如：DAO层、Service层Bean；DispatcherServlet初始化的上下文加载的Bean是只对Spring MVC有效的Bean，如：Controller、HandlerMapping、HandlerAdapter等，该初始化上下文只加载Web相关组件。</span> 
</div> 
<div style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; white-space:pre-wrap; line-height:1.75'> 
 <span style='font-family:"Microsoft YaHei"; font-size:14px'><strong>注意：</strong>用户可以配置多个DispatcherServlet来分别处理不同的url请求，每个DispatcherServlet上下文都对应一个自己的子Spring容器，他们都拥有相同的父Spring容器（业务层，持久（dao）bean所在的容器）。</span> 
</div> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"; white-space:pre-wrap; line-height:1.75'> <a target="_blank" name="t33" style="color:rgb(12,137,207)"></a><span style="font-size:18px"><span style='font-family:"Times New Roman"'>10. &lt;welcome-file-list&gt;&lt;/welcome-file-list&gt;</span></span></h4> 
<div> 
 <span style="font-size:18px"><span style='font-family:"Times New Roman"'></span></span> 
 <pre><code class="language-html">&lt;!-- welcome page --&gt;  
&lt;welcome-file-list&gt;  
    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;  
&lt;/welcome-file-list&gt;</code></pre> 
</div> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> <span style='font-family:"Microsoft YaHei"; font-size:14px'>&lt;welcome-file-list&gt;包含一个子元素&lt;welcome-file&gt;，&lt;welcome-file&gt;用来指定首页文件名称。&lt;welcome-file-list&gt;元素可以包含一个或多个&lt;welcome-file&gt;子元素。如果在第一个&lt;welcome-file&gt;元素中没有找到指定的文件，Web容器就会尝试显示第二个，以此类推。</span></p> 
<p style='margin-bottom:0px; padding-top:0px; padding-bottom:0px; word-wrap:break-word; word-break:normal; color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:15px; text-align:start'> </p> 
<h4 style='margin-top:0px; margin-bottom:0px; padding:0px; color:rgb(85,85,85); font-family:"microsoft yahei"'> <a target="_blank" name="t34" style="color:rgb(12,137,207)"></a><span style="font-size:14px"><span style='font-family:"Times New Roman"'>11. </span><span style="font-family:SimHei">参考文献：</span></span></h4> 
<span style='color:rgb(85,85,85); font-family:"microsoft yahei"; font-size:14px'><span style='font-family:"Microsoft YaHei"'>http://wiki.metawerx.net/wiki/Web.xml</span><br> <span style='font-family:"Microsoft YaHei"'>http://www.cnblogs.com/konbluesky/articles/1925295.html</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/sapphire_aling/article/details/6069764</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/zndxlxm/article/details/8711626</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/zhangliao613/article/details/6289114</span><br> <span style='font-family:"Microsoft YaHei"'>http://www.cnblogs.com/bukudekong/archive/2011/12/26/2302081.html</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.sina.com.cn/s/blog_92b93d6f0100ypp9.html</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/heidan2006/article/details/3075730</span><br> <span style='font-family:"Microsoft YaHei"'>http://zhidao.baidu.com/link?url=vBOBj5f2D1Zx3wSUJo-XphWrG6f7QPmfzk0UtS9Xk7p1SG_OdeCkiH6dT6eyHO-Pa6p4hLTEfvY7O9d_OM0Gua</span><br> <span style='font-family:"Microsoft YaHei"'>http://www.blogjava.net/dashi99/archive/2008/12/30/249207.html</span><br> <span style='font-family:"Microsoft YaHei"'>http://uule.iteye.com/blog/2051817</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/javaer617/article/details/6432654</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/seng3018/article/details/6758860</span><br> <span style='font-family:"Microsoft YaHei"'>http://groups.tianya.cn/tribe/showArticle.jsp?groupId=185385&amp;articleId=2704257273118260804105385</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/qfs_v/article/details/2557128</span><br> <span style='font-family:"Microsoft YaHei"'>http://www.blogjava.net/fancydeepin/archive/2013/03/30/java-ee_web-xml.html</span><br> <span style='font-family:"Microsoft YaHei"'>http://wenku.baidu.com/link?url=P30DokIynD5zzRU2dtdkQhEwsHi-REKuBiHa_dK60bA6pQwggvX2mo9y9Mbb1tkYcsiRCaHBf-c</span><br> <span style='font-family:"Microsoft YaHei"'>4ZgIG5POmbbcRO_OxDJUaW15n300xJrq </span><br> <span style='font-family:"Microsoft YaHei"'>http://fyq891014.blog.163.com/blog/static/200740191201233052531278/ </span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.163.com/sir_876/blog/static/11705223201111544523333/ </span><br> <span style='font-family:"Microsoft YaHei"'>http://www.guoweiwei.com/archives/797 </span><br> <span style='font-family:"Microsoft YaHei"'>http://www.open-open.com/lib/view/open1402751642806.html </span><br> <span style='font-family:"Microsoft YaHei"'>http://sishuok.com/forum/blogPost/list/5188.html;jsessionid=EBC2151611BEB99BDF390C5CADBA693A</span><br> <span style='font-family:"Microsoft YaHei"'>http://www.micmiu.com/j2ee/spring/spring-classpath-start/</span><br> <span style='font-family:"Microsoft YaHei"'>http://elf8848.iteye.com/blog/2008595</span><br> <span style='font-family:"Microsoft YaHei"'>http://blog.csdn.net/arvin_qx/article/details/6829873</span><br> <span style='font-family:"Microsoft YaHei"'>轻量级javaEE企业应用实战（第3版） ---李刚</span></span>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e8a46c32018a0c487ae9cd2ed2fb7f90/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Drools执行报错 The Eclipse JDT Core jar is not in the classpath .</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e65c9d999191779d9733afb473c8089/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python语法学习—打印九九乘法表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>