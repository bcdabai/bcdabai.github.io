<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>codeforces round#420 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="codeforces round#420" />
<meta property="og:description" content="a题：
time limit per test 2 seconds memory limit per test 256 megabytes input standard input output standard output Okabe needs to renovate the Future Gadget Laboratory after he tried doing some crazy experiments! The lab is represented as an n by n square grid of integers. A good lab is defined as a lab in which every number not equal to 1 can be expressed as the sum of a number in the same row and a number in the same column." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/429bfb4f056e66dfb2ebbe2931bf8166/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-26T16:45:25+08:00" />
<meta property="article:modified_time" content="2017-06-26T16:45:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">codeforces round#420</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>a题：</p> 
<p></p> 
<div class="time-limit"> 
 <div class="property-title">
   time limit per test 
 </div> 2 seconds 
</div> 
<div class="memory-limit"> 
 <div class="property-title">
   memory limit per test 
 </div> 256 megabytes 
</div> 
<div class="input-file"> 
 <div class="property-title">
   input 
 </div> standard input 
</div> 
<div class="output-file"> 
 <div class="property-title">
   output 
 </div> standard output 
</div> 
<div> 
 <p>Okabe needs to renovate the <span class="tex-font-style-it">Future Gadget Laboratory</span> after he tried doing some crazy experiments! The lab is represented as an <span class="tex-span"><em>n</em></span> by <span class="tex-span"><em>n</em></span> square grid of integers. A <span class="tex-font-style-it">good</span> lab is defined as a lab in which every number not equal to <span class="tex-span">1</span> can be expressed as the sum of a number in the same row and a number in the same column. In other words, for every <span class="tex-span"><em>x</em>, <em>y</em></span> such that <span class="tex-span"> 1 ≤ <em>x</em>, <em>y</em> ≤ <em>n</em></span> and <span class="tex-span"><em>a</em><sub class="lower-index"><em>x</em>, <em>y</em></sub> ≠ 1</span>, there should exist two indices <span class="tex-span"><em>s</em></span> and <span class="tex-span"><em>t</em></span> so that <span class="tex-span"><em>a</em><sub class="lower-index"><em>x</em>, <em>y</em></sub> = <em>a</em><sub class="lower-index"><em>x</em>, <em>s</em></sub> + <em>a</em><sub class="lower-index"><em>t</em>, <em>y</em></sub></span>, where <span class="tex-span"><em>a</em><sub class="lower-index"><em>i</em>, <em>j</em></sub></span> denotes the integer in <span class="tex-span"><em>i</em></span>-th row and <span class="tex-span"><em>j</em></span>-th column.</p> 
 <p>Help Okabe determine whether a given lab is <span class="tex-font-style-it">good</span>!</p> 
</div> 
<div class="input-specification"> 
 <div class="section-title">
   Input 
 </div> 
 <p>The first line of input contains the integer <span class="tex-span"><em>n</em></span> (<span class="tex-span">1 ≤ <em>n</em> ≤ 50</span>) — the size of the lab. </p> 
 <p>The next <span class="tex-span"><em>n</em></span> lines contain <span class="tex-span"> <em>n</em></span> space-separated integers denoting a row of the grid. The <span class="tex-span"> <em>j</em></span>-th integer in the <span class="tex-span"><em>i</em></span>-th row is <span class="tex-span"><em>a</em><sub class="lower-index"><em>i</em>, <em>j</em></sub></span> (<span class="tex-span">1 ≤ <em>a</em><sub class="lower-index"><em>i</em>, <em>j</em></sub> ≤ 10<sup class="upper-index">5</sup></span>).</p> 
</div> 
<div class="output-specification"> 
 <div class="section-title">
   Output 
 </div> 
 <p>Print "<span class="tex-font-style-tt">Yes</span>" if the given lab is <span class="tex-font-style-it"> good</span> and "<span class="tex-font-style-tt">No</span>" otherwise.</p> 
 <p>You can output each letter in upper or lower case.</p> 
</div> 
<div class="sample-tests"> 
 <div class="section-title">
   Examples 
 </div> 
 <div class="sample-test"> 
  <div class="input"> 
   <div class="title">
     Input 
   </div> 
   <pre>3
1 1 2
2 3 1
6 4 1
</pre> 
  </div> 
  <div class="output"> 
   <div class="title">
     Output 
   </div> 
   <pre>Yes
</pre> 
  </div> 
  <div class="input"> 
   <div class="title">
     Input 
   </div> 
   <pre>3
1 5 2
1 1 1
1 2 3
</pre> 
  </div> 
  <div class="output"> 
   <div class="title">
     Output 
   </div> 
   <pre>No
</pre> 
  </div> 
 </div> 
</div> 
<div class="note"> 
 <div class="section-title">
   Note 
 </div> 
 <p>In the first sample test, the <span class="tex-span">6</span> in the bottom left corner is valid because it is the sum of the <span class="tex-span">2</span> above it and the <span class="tex-span">4</span> on the right. The same holds for every number not equal to <span class="tex-span">1</span> in this table, so the answer is "<span class="tex-font-style-tt">Yes</span>".</p> 
 <p>In the second sample test, the <span class="tex-span">5</span> cannot be formed as the sum of an integer in the same row and an integer in the same column. Thus the answer is "<span class="tex-font-style-tt">No</span>".</p> 
 <p></p> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;stack&gt;
#include &lt;map&gt;
#include &lt;set&gt;
#include &lt;cstdio&gt;

using namespace std;
const int maxn = 55;

set&lt;int&gt; row[55];
set&lt;int&gt; col[55];
int n, mat[55][55];

bool check(int x, int r, int c) {
    for(auto it = row[r].begin(); it != row[r].end(); ++it)
        if(*it != x &amp;&amp; col[c].find(x - *it) != col[c].end())
            return true;
    return false;
}

bool judge() {
    for(int i = 0; i &lt; n; i++) {
        for(int j = 0; j &lt; n; j++) {
            if(mat[i][j] != 1 &amp;&amp; !check(mat[i][j], i, j))
                return false;
        }
    }
    return true;
}

int main() {
    //freopen("in.txt", "r", stdin);
    while(~scanf("%d", &amp;n)) {
        for(int i = 0; i &lt; 55; i++) {
            row[i].clear();
            col[i].clear();
        }

        for(int i = 0; i &lt; n; i++) {
            for(int j = 0; j &lt; n; j++) {
                scanf("%d", &amp;mat[i][j]);
                row[i].insert(mat[i][j]);
                col[j].insert(mat[i][j]);
            }
        }

        if(judge()) printf("Yes\n");
        else        printf("No\n");
    }
    return 0;
}
</code></pre> 
 <p></p> 
 <p>b题</p> 
 <p></p> 
 <div class="time-limit"> 
  <div class="property-title">
    time limit per test 
  </div> 2 seconds 
 </div> 
 <div class="memory-limit"> 
  <div class="property-title">
    memory limit per test 
  </div> 256 megabytes 
 </div> 
 <div class="input-file"> 
  <div class="property-title">
    input 
  </div> standard input 
 </div> 
 <div class="output-file"> 
  <div class="property-title">
    output 
  </div> standard output 
 </div> 
 <div> 
  <p>Okabe needs bananas for one of his experiments for some strange reason. So he decides to go to the forest and cut banana trees.</p> 
  <p>Consider the point <span class="tex-span">(<em>x</em>, <em>y</em>)</span> in the 2D plane such that <span class="tex-span"><em>x</em></span> and <span class="tex-span"><em>y</em></span> are integers and <span class="tex-span">0 ≤ <em>x</em>, <em>y</em></span>. There is a tree in such a point, and it has <span class="tex-span"><em>x</em> + <em>y</em></span> bananas. There are no trees nor bananas in other points. Now, Okabe draws a line with equation <img class="tex-formula" src="https://images2.imgbox.com/32/6e/XmxsHtU8_o.png" align="middle" alt="" style="max-width:100.0%; max-height:100.0%">. Okabe can select a single rectangle with axis aligned sides with all points on or under the line and cut all the trees in all points that are inside or on the border of this rectangle and take their bananas. Okabe's rectangle can be degenerate; that is, it can be a line segment or even a point.</p> 
  <p>Help Okabe and find the maximum number of bananas he can get if he chooses the rectangle wisely.</p> 
  <p>Okabe is sure that the answer does not exceed <span class="tex-span">10<sup class="upper-index">18</sup></span>. You can trust him.</p> 
 </div> 
 <div class="input-specification"> 
  <div class="section-title">
    Input 
  </div> 
  <p>The first line of input contains two space-separated integers <span class="tex-span"> <em>m</em></span> and <span class="tex-span"><em>b</em></span> (<span class="tex-span">1 ≤ <em>m</em> ≤ 1000</span>, <span class="tex-span">1 ≤ <em>b</em> ≤ 10000</span>).</p> 
 </div> 
 <div class="output-specification"> 
  <div class="section-title">
    Output 
  </div> 
  <p>Print the maximum number of bananas Okabe can get from the trees he cuts.</p> 
 </div> 
 <div class="section-title">
   Examples 
 </div> 
 <div class="input"> 
  <div class="title">
    Input 
  </div> 
  <pre>1 5
</pre> 
 </div> 
 <div class="output"> 
  <div class="title">
    Output 
  </div> 
  <pre>30
</pre> 
 </div> 
 <div class="input"> 
  <div class="title">
    Input 
  </div> 
  <pre>2 3
</pre> 
 </div> 
 <div class="title">
   Output 
 </div> 
 <pre>25</pre> 
 <pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cmath&gt;

typedef long long ll;

using namespace std;
ll b, m;

int main() {
    cin &gt;&gt; m &gt;&gt; b;
    ll ans = -1;
    for(ll x = 0; x &lt;= b*m; x++) {
        ll y = (b*m - x) / m;
        ll a1 = (x + 1) * x / 2;
        ll n = y + 1, d = x + 1;

        ans = max(ans, (n*a1 + n*(n-1)/2*d));
    }
    cout &lt;&lt; ans &lt;&lt; endl;
    return 0;
}
</code></pre> 
 <br> 
 <p></p> 
 <p>c题</p> 
 <p></p> 
 <div class="time-limit"> 
  <div class="property-title">
    time limit per test 
  </div> 3 seconds 
 </div> 
 <div class="memory-limit"> 
  <div class="property-title">
    memory limit per test 
  </div> 256 megabytes 
 </div> 
 <div class="input-file"> 
  <div class="property-title">
    input 
  </div> standard input 
 </div> 
 <div class="output-file"> 
  <div class="property-title">
    output 
  </div> standard output 
 </div> 
 <div> 
  <p>Okabe and Super Hacker Daru are stacking and removing boxes. There are <span class="tex-span"> <em>n</em></span> boxes numbered from <span class="tex-span">1</span> to <span class="tex-span"> <em>n</em></span>. Initially there are no boxes on the stack.</p> 
  <p>Okabe, being a control freak, gives Daru <span class="tex-span">2<em>n</em></span> commands: <span class="tex-span"><em>n</em></span> of which are to add a box to the top of the stack, and <span class="tex-span"><em>n</em></span> of which are to remove a box from the top of the stack and throw it in the trash. Okabe wants Daru to throw away the boxes in the order from <span class="tex-span">1</span> to <span class="tex-span"><em>n</em></span>. Of course, this means that it might be impossible for Daru to perform some of Okabe's <span class="tex-font-style-it">remove</span> commands, because the required box is not on the top of the stack.</p> 
  <p>That's why Daru can decide to wait until Okabe looks away and then reorder the boxes in the stack in any way he wants. He can do it at any point of time between Okabe's commands, but he can't add or remove boxes while he does it.</p> 
  <p>Tell Daru the minimum number of times he needs to reorder the boxes so that he can successfully complete all of Okabe's commands. It is guaranteed that every box is added before it is required to be removed.</p> 
 </div> 
 <div class="input-specification"> 
  <div class="section-title">
    Input 
  </div> 
  <p>The first line of input contains the integer <span class="tex-span"><em>n</em></span> (<span class="tex-span">1 ≤ <em>n</em> ≤ 3·10<sup class="upper-index">5</sup></span>) — the number of boxes.</p> 
  <p>Each of the next <span class="tex-span">2<em>n</em></span> lines of input starts with a string "<span class="tex-font-style-tt">add</span>" or "<span class="tex-font-style-tt">remove</span>". If the line starts with the "<span class="tex-font-style-tt">add</span>", an integer <span class="tex-span"><em>x</em></span> (<span class="tex-span">1 ≤ <em>x</em> ≤ <em>n</em></span>) follows, indicating that Daru should add the box with number <span class="tex-span"><em>x</em></span> to the top of the stack. </p> 
  <p>It is guaranteed that exactly <span class="tex-span"><em>n</em></span> lines contain "<span class="tex-font-style-tt">add</span>" operations, all the boxes added are distinct, and <span class="tex-span"><em>n</em></span> lines contain "<span class="tex-font-style-tt">remove</span>" operations. It is also guaranteed that a box is always added before it is required to be removed.</p> 
 </div> 
 <div class="output-specification"> 
  <div class="section-title">
    Output 
  </div> 
  <p>Print the minimum number of times Daru needs to reorder the boxes to successfully complete all of Okabe's commands.</p> 
 </div> 
 <div class="sample-tests"> 
  <div class="section-title">
    Examples 
  </div> 
  <div class="sample-test"> 
   <div class="input"> 
    <div class="title">
      Input 
    </div> 
    <pre>3
add 1
remove
add 2
add 3
remove
remove
</pre> 
   </div> 
   <div class="output"> 
    <div class="title">
      Output 
    </div> 
    <pre>1
</pre> 
   </div> 
   <div class="input"> 
    <div class="title">
      Input 
    </div> 
    <pre>7
add 3
add 2
add 1
remove
add 4
remove
remove
remove
add 6
add 7
add 5
remove
remove
remove
</pre> 
   </div> 
   <div class="output"> 
    <div class="title">
      Output 
    </div> 
    <pre>2
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="note"> 
  <div class="section-title">
    Note 
  </div> 
  <p>In the first sample, Daru should reorder the boxes after adding box <span class="tex-span"> 3</span> to the stack.</p> 
  <p>In the second sample, Daru should reorder the boxes after adding box <span class="tex-span"> 4</span> and box <span class="tex-span">7</span> to the stack.</p> 
 </div> 
 <pre><code class="language-cpp">/*
add操作简单。
对于remove操作，当栈顶元素正好是要移除的时候，直接移除即可。当栈顶元素并非要移除的元素的时候，说明要进行排序，
将答案加上一，此时要移除的目标元素肯定在栈中，将栈全都移入一个堆。然后弹出堆顶的元素，这样肯定是目标移除元素。
*/
#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;queue&gt;
#include &lt;stack&gt;

using namespace std;

stack&lt;int&gt; st;
priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; pq;
int n;

int main() {
    //freopen("in.txt", "r", stdin);
    while(~scanf("%d", &amp;n)) {
        while(!st.empty())  st.pop();
        while(!pq.empty())  pq.pop();

        string cmd;
        int id, lastbox = 0, ans = 0;
        for(int i = 0; i &lt; 2*n; i++) {
            cin &gt;&gt; cmd;
            if(cmd == "add") {
                cin &gt;&gt; id;
                st.push(id);
            }
            if(cmd == "remove") {
                ++lastbox;
                if(!st.empty() &amp;&amp; st.top() != lastbox) {
                    ans++;
                    while(!st.empty()) {
                        pq.push(st.top());
                        st.pop();
                    }
                    pq.pop();
                }
                else if(!st.empty() &amp;&amp; st.top() == lastbox)
                    st.pop();
                else if(st.empty() &amp;&amp; !pq.empty())
                    pq.pop();
            }
        }
        cout &lt;&lt; ans &lt;&lt; endl;
    }
}

</code></pre> 
 <br> 
 <br> 
 <p></p> 
</div> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/89a9449b6e53395dec2be89ecd1947a4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">处理死锁和预防死锁的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f85d93fbfbc3189a8e1ae929a48a0ee9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">文本情感分类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>