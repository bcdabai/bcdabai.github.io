<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pinctrl 和 gpio 子系统点灯下 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pinctrl 和 gpio 子系统点灯下" />
<meta property="og:description" content="目录
一、添加设备节点和GPIO编号结构体
二、函数入口
1、获取设备节点
2、获取led所对应的gpio​编辑
of_get_named_gpio 函数
3、申请GPIO
gpio_request 函数
4、使用IO，设置为输出
gpio_direction_output 函数
5、输出低电平，点亮LED ​编辑
gpio_set_value 函数
函数入口代码如下
三、函数出口
1、要添加关灯和释放GPIO
gpio_free 函数
出口代码如下
四、修改dts
1、检查复用 2、gpio使用
五、编译验证
六、使用ledAPP测试
一、添加设备节点和GPIO编号结构体 二、函数入口 1、获取设备节点 2、获取led所对应的gpio of_get_named_gpio 函数 此函数获取 GPIO 编号，因为 Linux 内核中关于 GPIO 的 API 函数都要使用 GPIO 编号，此函数会将设备树中&lt;&amp;gpio1 3 GPIO_ACTIVE_LOW&gt;的属性信息转换为对应的 GPIO 编号，此函数在驱动中使用很频繁！函数原型如下
int of_get_named_gpio(struct device_node *np,
const char *propname,
int index）
np：设备节点，propname：包含要获取 GPIO 信息的属性名
index： GPIO 索引，因为一个属性里面可能包含多个 GPIO，此参数指定要获取哪个 GPIO的编号，如果只有一个 GPIO 信息的话此参数为 0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/34a49eea00124ac29011ece339e22286/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-06T16:55:58+08:00" />
<meta property="article:modified_time" content="2023-02-06T16:55:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pinctrl 和 gpio 子系统点灯下</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%B7%BB%E5%8A%A0%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9%E5%92%8CGPIO%E7%BC%96%E5%8F%B7%E7%BB%93%E6%9E%84%E4%BD%93-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E6%B7%BB%E5%8A%A0%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9%E5%92%8CGPIO%E7%BC%96%E5%8F%B7%E7%BB%93%E6%9E%84%E4%BD%93" rel="nofollow">一、添加设备节点和GPIO编号结构体</a></p> 
<p id="%C2%A0%E4%BA%8C%E3%80%81%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C%E3%80%81%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3" rel="nofollow"> 二、函数入口</a></p> 
<p id="1%E3%80%81%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9" rel="nofollow">1、获取设备节点</a></p> 
<p id="2%E3%80%81%E8%8E%B7%E5%8F%96led%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84gpio%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E8%8E%B7%E5%8F%96led%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84gpio%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">2、获取led所对应的gpio​编辑</a></p> 
<p id="of_get_named_gpio%C2%A0%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#of_get_named_gpio%C2%A0%E5%87%BD%E6%95%B0" rel="nofollow">        </a><a href="#of_get_named_gpio%C2%A0%E5%87%BD%E6%95%B0" rel="nofollow">of_get_named_gpio 函数</a></p> 
<p id="%C2%A03%E3%80%81%E7%94%B3%E8%AF%B7GPIO-toc" style="margin-left:40px;"><a href="#%C2%A03%E3%80%81%E7%94%B3%E8%AF%B7GPIO" rel="nofollow"> 3、申请GPIO</a></p> 
<p id="%C2%A0gpio_request%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0gpio_request%20%E5%87%BD%E6%95%B0" rel="nofollow">       </a><a href="#%C2%A0gpio_request%20%E5%87%BD%E6%95%B0" rel="nofollow">gpio_request 函数</a></p> 
<p id="%C2%A04%E3%80%81%E4%BD%BF%E7%94%A8IO%EF%BC%8C%E8%AE%BE%E7%BD%AE%E4%B8%BA%E8%BE%93%E5%87%BA-toc" style="margin-left:40px;"><a href="#%C2%A04%E3%80%81%E4%BD%BF%E7%94%A8IO%EF%BC%8C%E8%AE%BE%E7%BD%AE%E4%B8%BA%E8%BE%93%E5%87%BA" rel="nofollow"> 4、使用IO，设置为输出</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:40px;">                <a href="#gpio_direction_output%20%E5%87%BD%E6%95%B0" rel="nofollow">gpio_direction_output 函数</a></p> 
<p id="%C2%A05%E3%80%81%E8%BE%93%E5%87%BA%E4%BD%8E%E7%94%B5%E5%B9%B3%EF%BC%8C%E7%82%B9%E4%BA%AELED%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:40px;"><a href="#%C2%A05%E3%80%81%E8%BE%93%E5%87%BA%E4%BD%8E%E7%94%B5%E5%B9%B3%EF%BC%8C%E7%82%B9%E4%BA%AELED%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow"> 5、输出低电平，点亮LED ​编辑</a></p> 
<p id="%C2%A0gpio_set_value%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0gpio_set_value%20%E5%87%BD%E6%95%B0" rel="nofollow"> </a><a href="#%C2%A0gpio_set_value%20%E5%87%BD%E6%95%B0" rel="nofollow">        </a><a href="#%C2%A0gpio_set_value%20%E5%87%BD%E6%95%B0" rel="nofollow">gpio_set_value 函数</a></p> 
<p id="%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B-toc" style="margin-left:80px;"><a href="#%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B" rel="nofollow">函数入口代码如下</a></p> 
<p id="%C2%A0%E4%B8%89%E3%80%81%E5%87%BD%E6%95%B0%E5%87%BA%E5%8F%A3-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%B8%89%E3%80%81%E5%87%BD%E6%95%B0%E5%87%BA%E5%8F%A3" rel="nofollow"> 三、函数出口</a></p> 
<p id="1%E3%80%81%E8%A6%81%E6%B7%BB%E5%8A%A0%E5%85%B3%E7%81%AF%E5%92%8C%E9%87%8A%E6%94%BEGPIO-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E8%A6%81%E6%B7%BB%E5%8A%A0%E5%85%B3%E7%81%AF%E5%92%8C%E9%87%8A%E6%94%BEGPIO" rel="nofollow">1、要添加关灯和释放GPIO</a></p> 
<p id="%C2%A0gpio_free%20%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#%C2%A0gpio_free%20%E5%87%BD%E6%95%B0" rel="nofollow">        </a><a href="#%C2%A0gpio_free%20%E5%87%BD%E6%95%B0" rel="nofollow"> gpio_free 函数</a></p> 
<p id="%C2%A0%E5%87%BA%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B-toc" style="margin-left:80px;"><a href="#%C2%A0%E5%87%BA%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B" rel="nofollow"> 出口代码如下</a></p> 
<p id="%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9dtb-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9dtb" rel="nofollow">四、修改dt</a>s</p> 
<p id="1%E3%80%81%E6%A3%80%E6%9F%A5%E5%A4%8D%E7%94%A8%C2%A0-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%A3%80%E6%9F%A5%E5%A4%8D%E7%94%A8%C2%A0" rel="nofollow">1、检查复用 </a></p> 
<p id="%C2%A02%E3%80%81gpio%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#%C2%A02%E3%80%81gpio%E4%BD%BF%E7%94%A8" rel="nofollow"> 2、gpio使用</a></p> 
<p id="%E4%BA%94%E3%80%81%E7%BC%96%E8%AF%91%E9%AA%8C%E8%AF%81-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E7%BC%96%E8%AF%91%E9%AA%8C%E8%AF%81" rel="nofollow">五、编译验证</a></p> 
<p id="%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8ledAPP%E6%B5%8B%E8%AF%95-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8ledAPP%E6%B5%8B%E8%AF%95" rel="nofollow">六、使用ledAPP测试</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E6%B7%BB%E5%8A%A0%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9%E5%92%8CGPIO%E7%BC%96%E5%8F%B7%E7%BB%93%E6%9E%84%E4%BD%93">一、添加设备节点和GPIO编号结构体</h2> 
<p><img alt="" height="264" src="https://images2.imgbox.com/e3/19/EanjsBFh_o.png" width="564"></p> 
<h2 id="%C2%A0%E4%BA%8C%E3%80%81%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3"> 二、函数入口</h2> 
<h3 id="1%E3%80%81%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9">1、获取设备节点</h3> 
<p><img alt="" height="147" src="https://images2.imgbox.com/fe/b0/TYOFys7s_o.png" width="612"></p> 
<h3 id="2%E3%80%81%E8%8E%B7%E5%8F%96led%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84gpio%E2%80%8B%E7%BC%96%E8%BE%91">2、获取led所对应的gpio<img alt="" height="200" src="https://images2.imgbox.com/2a/e4/NTDlSzJU_o.png" width="799"></h3> 
<h4 id="of_get_named_gpio%C2%A0%E5%87%BD%E6%95%B0">of_get_named_gpio 函数</h4> 
<p>此函数获取 GPIO 编号，因为 Linux 内核中关于 GPIO 的 API 函数都要使用 GPIO 编号，此函数会将设备树中&lt;&amp;gpio1 3 GPIO_ACTIVE_LOW&gt;的属性信息转换为对应的 GPIO 编号，此函数在驱动中使用很频繁！函数原型如下</p> 
<blockquote> 
 <p>int of_get_named_gpio(struct device_node *np,</p> 
 <p>                                        const char *propname,</p> 
 <p>                                        int index）</p> 
</blockquote> 
<p> np：设备节点，propname：包含要获取 GPIO 信息的属性名</p> 
<p>index： GPIO 索引，因为一个属性里面可能包含多个 GPIO，此参数指定要获取哪个 GPIO的编号，如果只有一个 GPIO 信息的话此参数为 0</p> 
<p>返回值： 正值，获取到的 GPIO 编号；负值，失败</p> 
<h3 id="%C2%A03%E3%80%81%E7%94%B3%E8%AF%B7GPIO"> 3、申请GPIO</h3> 
<p><img alt="" height="174" src="https://images2.imgbox.com/65/3e/yBeB71pT_o.png" width="663"></p> 
<h4 id="%C2%A0gpio_request%20%E5%87%BD%E6%95%B0"> gpio_request 函数</h4> 
<p>gpio_request 函数用于申请一个 GPIO 管脚，在使用一个 GPIO 之前一定要使用 gpio_request进行申请，函数原型如下：</p> 
<blockquote> 
 <p>int gpio_request(unsigned gpio, const char *label)</p> 
</blockquote> 
<p>gpio：要申请的 gpio 标号，使用 of_get_named_gpio 函数从设备树获取指定 GPIO 属性信息，此函数会返回这个 GPIO 的标号<br> label：给 gpio 设置个名字<br> 返回值： 0，申请成功；其他值，申请失败</p> 
<h3 id="%C2%A04%E3%80%81%E4%BD%BF%E7%94%A8IO%EF%BC%8C%E8%AE%BE%E7%BD%AE%E4%B8%BA%E8%BE%93%E5%87%BA"> 4、使用IO，设置为输出</h3> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="123" src="https://images2.imgbox.com/c2/26/chdEAmkm_o.png" width="741"></h3> 
<h4 id="gpio_direction_output%20%E5%87%BD%E6%95%B0">gpio_direction_output 函数</h4> 
<p>此函数用于设置某个 GPIO 为输出，并且设置默认输出值，函数原型如下：</p> 
<blockquote> 
 <p>int gpio_direction_output(unsigned gpio, int value)</p> 
</blockquote> 
<p> gpio：要设置为输出的 GPIO 标号。value： GPIO 默认输出值。<br> 返回值： 0，设置成功；负值，设置失败</p> 
<h3 id="%C2%A05%E3%80%81%E8%BE%93%E5%87%BA%E4%BD%8E%E7%94%B5%E5%B9%B3%EF%BC%8C%E7%82%B9%E4%BA%AELED%C2%A0%E2%80%8B%E7%BC%96%E8%BE%91"> 5、输出低电平，点亮LED <img alt="" height="57" src="https://images2.imgbox.com/25/8b/8gMojzNX_o.png" width="608"></h3> 
<h4 id="%C2%A0gpio_set_value%20%E5%87%BD%E6%95%B0"> gpio_set_value 函数</h4> 
<p>此函数用于设置某个 GPIO 的值，此函数是个宏，定义如下</p> 
<blockquote> 
 <p>#define gpio_set_value __gpio_set_value<br> void __gpio_set_value(unsigned gpio, int value)</p> 
</blockquote> 
<p> gpio：要设置的 GPIO 标号。value： 要设置的值。返回值： 无</p> 
<h4 id="%E5%87%BD%E6%95%B0%E5%85%A5%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B">函数入口代码如下</h4> 
<pre><code>/*驱动入口函数*/
static int __init gpioled_init(void){
    int ret = 0;
    /*注册字符设备驱动*/
    gpioled.major = 0;
    if(gpioled.major){/*给定主设备号*/
        gpioled.devid = MKDEV(gpioled.major,0); /*构建设备号*/
        register_chrdev_region(gpioled.devid,GPIOLED_CNT,GPIOLED_NAME); /*注册设备号*/
    }else{/*没给定设备号*/
        alloc_chrdev_region(&amp;gpioled.devid,0,GPIOLED_CNT,GPIOLED_NAME); /* 申请设备号 */
        gpioled.major = MAJOR(gpioled.devid);   /* 获取分配号的主设备号 */
        gpioled.minor = MINOR(gpioled.devid);   /* 获取分配号的次设备号 */
    }
    printk("gpioled major=%d ,gpioled minor =%d\r\n",gpioled.major,gpioled.minor);
    /*初始化cdev*/
    gpioled.cdev.owner = THIS_MODULE;
    cdev_init(&amp;gpioled.cdev,&amp;gpioled_fops);/*初始化的 cdev 结构体变量*/
    cdev_add(&amp;gpioled.cdev,gpioled.devid,GPIOLED_CNT);/*添加字符设备*/

    /*创建类*/
    gpioled.class = class_create(THIS_MODULE,GPIOLED_NAME);
    if(IS_ERR(gpioled.class)){
        return PTR_ERR(gpioled.class);
    }
    /*创建设备*/
    gpioled.device = device_create(gpioled.class,NULL,
                                    gpioled.devid,NULL,GPIOLED_NAME);
    if(IS_ERR(gpioled.device)){
        return PTR_ERR(gpioled.device);
    }
    /*获取设备节点*/
    gpioled.nd = of_find_node_by_path("/gpioled");
    if(gpioled.nd == NULL){
        ret = -EINVAL;
        goto fail_findnode;
    }
    /*获取led所对应的gpio*/
    gpioled.led_gpio = of_get_named_gpio(gpioled.nd,"led-gpios",0);
    if(gpioled.led_gpio&lt;0){
        printk("can't find led gpio\r\n");
        ret = -EINVAL;
        goto fail_findnode;
    }
    printk("led gpio num =%d\r\n",gpioled.led_gpio);
    /*申请GPIO*/
    ret = gpio_request(gpioled.led_gpio,"led-gpio");
    if(ret){
        printk("led gpio request failed\r\n");
        ret = EINVAL;
        goto fail_findnode;
    }
    /*使用IO，设置为输出*/
    ret = gpio_direction_output(gpioled.led_gpio,1);/*设置默认高电平*/
    if(ret){
        goto fail_setoutput;
    }
    /*输出低电平，点亮LED*/
    gpio_set_value(gpioled.led_gpio,0);

    return 0;
fail_setoutput:
    gpio_free(gpioled.led_gpio);
fail_findnode:
    return ret;
}</code></pre> 
<h2 id="%C2%A0%E4%B8%89%E3%80%81%E5%87%BD%E6%95%B0%E5%87%BA%E5%8F%A3"> 三、函数出口</h2> 
<h3 id="1%E3%80%81%E8%A6%81%E6%B7%BB%E5%8A%A0%E5%85%B3%E7%81%AF%E5%92%8C%E9%87%8A%E6%94%BEGPIO">1、要添加关灯和释放GPIO</h3> 
<p><img alt="" height="150" src="https://images2.imgbox.com/ca/39/wORzcfA1_o.png" width="558"></p> 
<h4 id="%C2%A0gpio_free%20%E5%87%BD%E6%95%B0"> gpio_free 函数</h4> 
<p>如果不使用某个 GPIO 了，那么就可以调用 gpio_free 函数进行释放。函数原型如下：</p> 
<blockquote> 
 <p>void gpio_free(unsigned gpio)</p> 
</blockquote> 
<p>gpio：要释放的 gpio 标号。返回值： 无 </p> 
<h4 id="%C2%A0%E5%87%BA%E5%8F%A3%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B"> 出口代码如下</h4> 
<pre><code>/*驱动出口函数*/
static void __exit gpioled_exit(void){
    /*关灯*/
    gpio_set_value(gpioled.led_gpio,1);
    /*释放GPIO*/
    gpio_free(gpioled.led_gpio);
    /*摧毁设备*/
    device_destroy(gpioled.class,gpioled.devid);
    /*删除类*/
    class_destroy(gpioled.class);
    /*注销字符设备驱动*/
    cdev_del(&amp;gpioled.cdev);
    /*释放设备号*/
    unregister_chrdev_region(gpioled.devid,GPIOLED_CNT);
}</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E4%BF%AE%E6%94%B9dtb">四、修改dts</h2> 
<p>目录arch/arm/boot/dts/imx6ull-my-emmc.dts </p> 
<p>因为有别的设备也会使用GPIO1_IO03，所以要先屏蔽别的设备，避免占用</p> 
<h3 id="1%E3%80%81%E6%A3%80%E6%9F%A5%E5%A4%8D%E7%94%A8%C2%A0">1、检查复用 </h3> 
<p>在pinctl设置里面设置的电气属性使用GPIO1_IO03__GPIO1_IO03</p> 
<p><img alt="" height="166" src="https://images2.imgbox.com/cf/e4/OcT8Tz95_o.png" width="535"></p> 
<p> 搜索是否有别的设备使用GPIO1_IO03__GPIO1_IO03</p> 
<p><img alt="" height="214" src="https://images2.imgbox.com/ba/68/eTxP2Ch4_o.png" width="614"></p> 
<p>在这里可以看到有一个设备也是使用，这里先把它屏蔽 </p> 
<h3 id="%C2%A02%E3%80%81gpio%E4%BD%BF%E7%94%A8"> 2、gpio使用</h3> 
<p><img alt="" height="174" src="https://images2.imgbox.com/98/21/QEyqZQeb_o.png" width="575"></p> 
<p> 在设备gpioled时，166行会用到”&amp;gpio1 3“,搜索看是否有别的设备使用</p> 
<p><img alt="" height="220" src="https://images2.imgbox.com/28/2c/LmlBjFzp_o.png" width="598"></p> 
<p> 在这里可以看到有一个设备也是使用，这里先把它屏蔽 </p> 
<h2 id="%E4%BA%94%E3%80%81%E7%BC%96%E8%AF%91%E9%AA%8C%E8%AF%81">五、编译验证</h2> 
<p>重新编译设备树，复制到tftpboot启动目录下</p> 
<p><img alt="" height="393" src="https://images2.imgbox.com/e3/0a/atIrUU5a_o.png" width="1175"></p> 
<p> 编译驱动模块，复制到rootfs/lib/modules/4.1.15/</p> 
<p><img alt="" height="211" src="https://images2.imgbox.com/88/5c/wTwhVv3A_o.png" width="1200"></p> 
<p> 加载模块成功就是开灯</p> 
<p><img alt="" height="105" src="https://images2.imgbox.com/a9/87/r3NWCasJ_o.png" width="778"></p> 
<p> <img alt="" height="102" src="https://images2.imgbox.com/9a/32/oEqx9zOa_o.png" width="151"></p> 
<p> 卸载模块就会关灯</p> 
<p><img alt="" height="80" src="https://images2.imgbox.com/c1/63/nVCFpD6G_o.png" width="156"></p> 
<h2 id="%E5%85%AD%E3%80%81%E4%BD%BF%E7%94%A8ledAPP%E6%B5%8B%E8%AF%95">六、使用ledAPP测试</h2> 
<p>先宏定义开关</p> 
<p><img alt="" height="113" src="https://images2.imgbox.com/e1/76/XOIdRZsO_o.png" width="419"></p> 
<p>  完善写函数</p> 
<p><img alt="" height="364" src="https://images2.imgbox.com/4e/19/FZA2OHZC_o.png" width="1113"></p> 
<p> 编译复制到开发板</p> 
<p>验证</p> 
<p><img alt="" height="69" src="https://images2.imgbox.com/00/37/hz8xRZxx_o.png" width="778"></p> 
<p> <img alt="" height="81" src="https://images2.imgbox.com/cd/b9/kglCZdfo_o.png" width="125"></p> 
<p><img alt="" height="57" src="https://images2.imgbox.com/32/28/wOCxrgU9_o.png" width="429">  </p> 
<p><img alt="" height="67" src="https://images2.imgbox.com/4c/94/9Zww7LZW_o.png" width="122"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/af81e4d1f20fc396aaa62df1e1dc5abe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PyQt5入门教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/49cbc544a1639f1df5bffb69329b0d31/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C&#43;&#43;】Cmake使用教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>