<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LSD-SLAM 编译过程（Ubuntu 14.04 &#43; ROS Indigo） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LSD-SLAM 编译过程（Ubuntu 14.04 &#43; ROS Indigo）" />
<meta property="og:description" content="环境：Ubuntu 14.04 &#43; ROS Indigo
LSD-SLAM 安装网址：https://github.com/tum-vision/lsd_slam
数据集：http://vision.in.tum.de/research/vslam/lsdslam?redirect=1
ROS Indigo 安装请参照：http://wiki.ros.org/cn/indigo/Installation/Ubuntu
前言：如果是初次安装Ubuntu并准备作为长期编程平台
建议安装顺序为 OpenCV依赖包-》Nvidia驱动（可选）-》OpenCV-》ROS
否则容易出现libqt4相关软件包的依赖问题
一. 安装并配置好 ROS Indigo（建议使用ROS官网推荐安装教程）
二. 安装uvc_camera （可选，适用于需要USB摄像头且没有安装过ROS摄像驱动的情况）
此节来自http://blog.csdn.net/sonictl/article/details/48053597，感谢sonictl
$ sudo apt-get install ros-indigo-uvc-camera 或者使用catkin，工作空间构建请参考ROS官网相关教程
$ cd ~/catkin_ws/src $ git clone https://github.com/ktossell/camera_umd $ cd ~/catkin_ws $ catkin_make $ source ~/catkin_ws/devel/setup.bash 测试是否安装成功： 开启三个终端：
第一个启动ROS服务：
$ roscore第二个启动驱动： $ rosrun uvc_camera uvc_camera_node device:=/dev/video0第三个启动视频窗口： $ rosrun image_view image_view image:=/image_raw如果正常显示摄像头视频即成功 三. 安装并运行LSD-SLAM
1. 如果没有rosbuild并且打算使用rosbuild空间的话，执行下列代码
sudo apt-get install python-rosinstall mkdir ~/rosbuild_ws cd ~/rosbuild_ws rosws init ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ff621296119d8829476fb75f9b6ee4ad/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-09-16T21:16:37+08:00" />
<meta property="article:modified_time" content="2015-09-16T21:16:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LSD-SLAM 编译过程（Ubuntu 14.04 &#43; ROS Indigo）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>环境：Ubuntu 14.04 + ROS Indigo</p> 
<p><br> </p> 
<p>LSD-SLAM 安装网址：<a target="_blank" href="https://github.com/tum-vision/lsd_slam" rel="noopener noreferrer">https://github.com/tum-vision/lsd_slam</a></p> 
<p>数据集：<a target="_blank" href="http://vision.in.tum.de/research/vslam/lsdslam?redirect=1" rel="nofollow noopener noreferrer">http://vision.in.tum.de/research/vslam/lsdslam?redirect=1</a></p> 
<p>ROS Indigo 安装请参照：<a target="_blank" href="http://wiki.ros.org/cn/indigo/Installation/Ubuntu" rel="nofollow noopener noreferrer">http://wiki.ros.org/cn/indigo/Installation/Ubuntu</a></p> 
<p><br> </p> 
<p>前言：如果是初次安装Ubuntu并准备作为长期编程平台</p> 
<p>            建议安装顺序为 OpenCV依赖包-》Nvidia驱动（可选）-》OpenCV-》ROS</p> 
<p>            否则容易出现libqt4相关软件包的依赖问题</p> 
<p><br> </p> 
<p>一. 安装并配置好 ROS Indigo（建议使用ROS官网推荐安装教程）</p> 
<p><br> </p> 
<p>二. 安装uvc_camera （可选，适用于需要USB摄像头且没有安装过ROS摄像驱动的情况）</p> 
<p>此节来自<a target="_blank" href="http://blog.csdn.net/sonictl/article/details/48053597" rel="noopener noreferrer">http://blog.csdn.net/sonictl/article/details/48053597</a>，感谢sonictl</p> 
<p></p> 
<pre><code class="language-plain">  $ sudo apt-get install ros-indigo-uvc-camera</code></pre> 
<br> 
<p></p> 
<p>或者使用catkin，工作空间构建请参考ROS官网相关教程</p> 
<p></p> 
<p></p> 
<pre><code class="language-plain">  $ cd ~/catkin_ws/src
  $ git clone https://github.com/ktossell/camera_umd
  $ cd ~/catkin_ws
  $ catkin_make
  $ source ~/catkin_ws/devel/setup.bash</code></pre> 
<p></p> 
<p><br> </p> 测试是否安装成功： 
<p>开启三个终端：</p> 
<p>第一个启动ROS服务：</p> 
<pre><code class="language-plain">$ roscore</code></pre>第二个启动驱动： 
<pre><code class="language-plain">$ rosrun uvc_camera uvc_camera_node device:=/dev/video0</code></pre>第三个启动视频窗口： 
<pre><code class="language-plain">$ rosrun image_view image_view image:=/image_raw</code></pre>如果正常显示摄像头视频即成功 
<p></p> 
<p><br> </p> 
<p>三. 安装并运行LSD-SLAM</p> 
<p><br> </p> 
<p>1. 如果没有rosbuild并且打算使用rosbuild空间的话，执行下列代码</p> 
<p></p> 
<pre><code class="language-plain">sudo apt-get install python-rosinstall
mkdir ~/rosbuild_ws
cd ~/rosbuild_ws
rosws init . /opt/ros/indigo
mkdir package_dir
rosws set ~/rosbuild_ws/package_dir -t .
echo "source ~/rosbuild_ws/setup.bash" &gt;&gt; ~/.bashrc
bash
cd package_dir</code></pre> 
<br> 2. 安装依赖包 
<p></p> 
<p></p> 
<pre><code class="language-plain">sudo apt-get install ros-indigo-libg2o ros-indigo-cv-bridge liblapack-dev libblas-dev freeglut3-dev libqglviewer-dev libsuitesparse-dev libx11-dev</code></pre> 
<br> 3. 在你的ROS package path，git clone或者下载LSD-SLAM，LSD-SLAM 安装网址： 
<a target="_blank" href="https://github.com/tum-vision/lsd_slam" rel="noopener noreferrer">https://github.com/tum-vision/lsd_slam</a> 
<br> 
<pre><code class="language-plain">git clone https://github.com/tum-vision/lsd_slam.git lsd_slam</code></pre> 
<p></p> 
<p><br> </p> 
<p>4. 如果你需要openFabMap去闭环检测的话（可选）</p> 
<p>在</p> 
<pre><code class="language-plain">lsd_slam_core/CMakeLists.txt</code></pre>中去掉下列四行注释即可 
<br> 
<pre><code class="language-plain">#add_subdirectory(${PROJECT_SOURCE_DIR}/thirdparty/openFabMap)
#include_directories(${PROJECT_SOURCE_DIR}/thirdparty/openFabMap/include)
#add_definitions("-DHAVE_FABMAP")
#set(FABMAP_LIB openFABMAP )</code></pre> 
<p>需要注意openFabMap需要OpenCv nonfree模块支持，OpenCV3.0以上已经不包含，作者推荐2.4.8版本</p> 
<p>其中nonfree模块可以由以下方式安装</p> 
<p></p> 
<pre><code class="language-plain">$ sudo add-apt-repository --yes ppa:xqms/opencv-nonfree
$ sudo apt-get update
$ sudo apt-get install libopencv-nonfree-dev</code></pre> 
<p></p> 
<pre></pre> 
<pre></pre> 
<pre></pre> 
<p></p> 
<p>5. 编译LSD-SLAM</p> 
<p></p> 
<pre><code class="language-plain">$ rosmake lsd_slam
</code></pre> 
<pre></pre> 
<p></p> 
<p>6. 运行LSD-SLAM</p> 
<p></p> 
<p>开启四个终端窗口</p> 
<p>第一个启动ROS服务：</p> 
<p></p> 
<pre><code class="language-plain">$ roscore</code></pre> 
<p></p> 
<p>第二个启动摄像服务（USB摄像模式）：</p> 
<p></p> 
<pre><code class="language-plain">$ rosrun uvc_camera uvc_camera_node device:=/dev/video0</code></pre>第三个启动LSD-viewer查看点云： 
<p></p> 
<p></p> 
<pre><code class="language-plain">$ rosrun lsd_slam_viewer viewer</code></pre>第四个启动LSD-core： 
<p></p> 
<p>（1）数据集模式</p> 
<p></p> 
<pre><code class="language-plain">$ rosrun lsd_slam_core dataset_slam _files:=&lt;files&gt; _hz:=&lt;hz&gt; _calib:=&lt;calibration_file&gt;</code></pre>_files填数据集png包的路径，_hz表示帧率，填0代表默认值，_calib填标定文件地址 
<p></p> 
<p>如：</p> 
<p></p> 
<pre><code class="language-plain">$ rosrun lsd_slam_core dataset_slam _files:=&lt;your path&gt;/LSD_room/images _hz:=0 _calib:=&lt;your path&gt;/LSD_room/cameraCalibration.cfg
</code></pre> 
<p></p> 
<p>（2）USB摄像模式<br> </p> 
<pre><code class="language-plain">$ rosrun lsd_slam_core live_slam /image:=&lt;yourstreamtopic&gt; _calib:=&lt;calibration_file&gt;</code></pre>_calib同上，/image选择视频流 
<p></p> 
<p>如：</p> 
<p></p> 
<pre><code class="language-plain">$ rosrun lsd_slam_core live_slam /image:=image_raw _calib:=&lt;your path&gt;/LSD_room/cameraCalibration.cfg</code></pre> 
<br> 运行成功图如下： 
<p></p> 
<h3 style="margin-top:1em; margin-bottom:16px; line-height:1.225; font-size:1.75em; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif"> <br> </h3> 
<br> 
<br> 
<p><img src="https://images2.imgbox.com/13/e3/8Okm3o2x_o.png" alt=""><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9499427fe3d5c1ffc98d4d67577e9d75/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android list 泛型 用Gson 转json字符串 出现 java.lang.StackOverflowError异常解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/312620e34dd3ba262fef8b3f5dcd5801/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">php中::是什么意思？关于php中::的说明及应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>