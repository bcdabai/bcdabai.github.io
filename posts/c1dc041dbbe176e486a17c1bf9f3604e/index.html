<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【力扣每日一题】力扣2707字符串中的额外字符 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【力扣每日一题】力扣2707字符串中的额外字符" />
<meta property="og:description" content="题目来源 力扣2707字符串中的额外字符
题目描述 给你一个下标从 0 开始的字符串 s 和一个单词字典 dictionary 。你需要将 s 分割成若干个 互不重叠 的子字符串，每个子字符串都在 dictionary 中出现过。s 中可能会有一些 额外的字符 不在任何子字符串中。 请你采取最优策略分割 s ，使剩下的字符 最少 。
示例 示例 1：
输入：s = &#34;leetscode&#34;, dictionary = [&#34;leet&#34;,&#34;code&#34;,&#34;leetcode&#34;]
输出：1
解释：将 s 分成两个子字符串：下标从 0 到 3 的 &#34;leet&#34; 和下标从 5 到 8 的 &#34;code&#34; 。只有 1 个字符没有使用（下标为 4），所以我们返回 1 。
示例 2：
输入：s = &#34;sayhelloworld&#34;, dictionary = [&#34;hello&#34;,&#34;world&#34;]
输出：3
解释：将 s 分成两个子字符串：下标从 3 到 7 的 &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c1dc041dbbe176e486a17c1bf9f3604e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T10:47:36+08:00" />
<meta property="article:modified_time" content="2024-01-09T10:47:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【力扣每日一题】力扣2707字符串中的额外字符</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="题目来源">题目来源</h2> 
<p><a href="https://leetcode.cn/problems/extra-characters-in-a-string/" rel="nofollow" title="力扣2707字符串中的额外字符">力扣2707字符串中的额外字符</a></p> 
<h2 id="题目描述">题目描述</h2> 
<p>给你一个下标从<span style="background-color:#edf6e8;"> </span><strong><span style="background-color:#d4e9d5;">0</span></strong> 开始的字符串 <strong><span style="background-color:#d4e9d5;">s</span></strong> 和一个单词字典 <strong><span style="background-color:#d4e9d5;">dictionary</span></strong> 。你需要将 <strong><span style="background-color:#d4e9d5;">s</span></strong> 分割成若干个 <strong><span style="background-color:#c7e6ea;">互不重叠</span></strong> 的子字符串，每个子字符串都在 <strong><span style="background-color:#d4e9d5;">dictionary</span></strong> 中出现过。<strong><span style="background-color:#d4e9d5;">s</span></strong> 中可能会有一些 <strong><span style="background-color:#d4e9d5;">额外的字符</span></strong> 不在任何子字符串中。 请你采取最优策略分割 <strong><span style="background-color:#d4e9d5;">s</span></strong> ，使剩下的字符 <strong>最少</strong> 。</p> 
<h3 id="示例">示例</h3> 
<p><strong>示例 1：</strong></p> 
<blockquote> 
 <p>输入：s = "leetscode", dictionary = ["leet","code","leetcode"]</p> 
 <p>输出：1</p> 
 <p>解释：将 s 分成两个子字符串：下标从 0 到 3 的 "leet" 和下标从 5 到 8 的 "code" 。只有 1 个字符没有使用（下标为 4），所以我们返回 1 。</p> 
</blockquote> 
<p><strong>示例 2：</strong></p> 
<blockquote> 
 <p>输入：s = "sayhelloworld", dictionary = ["hello","world"]</p> 
 <p>输出：3</p> 
 <p>解释：将 s 分成两个子字符串：下标从 3 到 7 的 "hello" 和下标从 8 到 12 的 "world" 。下标为 0 ，1 和 2 的字符没有使用，所以我们返回 3 。</p> 
</blockquote> 
<h3 id="提示">提示</h3> 
<blockquote> 
 <ul><li>1 &lt;= <strong>s.length</strong> &lt;= 50</li><li>1 &lt;= <strong>dictionary.length</strong> &lt;= 50</li><li>1 &lt;= <strong>dictionary[i].length</strong> &lt;= 50</li><li><strong>dictionary[i]</strong> 和 <strong>s</strong> 只包含小写英文字母。</li><li>dictionary 中的单词互不相同。</li></ul> 
</blockquote> 
<h2 id="解题思路">解题思路</h2> 
<ol><li>先将从s中找最小剩余字符数转化为从s从0到length-1的子串中找最小剩余字符数；</li><li>最终化简为比较s从0开始到length截取出的各个子串中最小剩余字符数的最小数量；</li><li>我们使用一个数组prefix来保存每个前缀的剩余字符数。</li></ol> 
<h2 id="代码实现">代码实现</h2> 
<h3 id="java实现">Java实现</h3> 
<pre><code class="language-java">public class Solution {
    public int minExtraChar(String s, String[] dictionary) {
        int length = s.length();
        // 前缀数组，记录到该前缀位置为止，剩余了几个字符
        int[] prefix  = new int[length + 1];
        prefix[0] = 0;
        // 字典中的最大长度
        int dicStrMaxLength = 0;
        Set&lt;String&gt; set = new HashSet&lt;&gt;();
        // 将字典存入哈希集合，方便快速查找
        for (String dicStr : dictionary) {
            dicStrMaxLength = Math.max(dicStrMaxLength, dicStr.length());
            set.add(dicStr);
        }
        for (int i = 1; i &lt; length + 1; i++) {
            // 默认当前前缀位置会比上一个前缀位置多剩余一个字符串
            prefix[i] = prefix[i - 1] + 1;
            // 查找前面的字符串
            for (int j = i - 1; j &gt;= 0; j--) {
                // 子串太长没必要比较
                if (i - j &gt; dicStrMaxLength){
                    continue;
                }
                // 在某个位置到当前前缀位置发现了一个子串，后面的字符串全部被匹配，这个位置上的剩余字符数可能是当前剩余字符数
                // 在默认剩余数和可能剩余数之间取较小值
                // 如字典中存在"aab"与”baaa“   对于被匹配串"aabbaaab"明显使用"baaa"来匹配剩余字符串会比较少
                if(set.contains(s.substring(j, i))) {
                    prefix[i] = Math.min(prefix[j], prefix[i]);
                }
            }
        }
        return prefix[length];
    }
}
</code></pre> 
<h3 id="c实现">c++实现</h3> 
<pre><code class="language-cpp">class Solution {
public:
    int minExtraChar(string s, vector&lt;string&gt;&amp; dictionary) {
        int length = s.length();
        // 前缀数组，表示到该前缀位置，剩余了多少字符
        vector&lt;int&gt; prefix = vector&lt;int&gt;(length + 1);
        int dicStrMaxLength = 0;
        // 哈希集合存储数组，查找高效
        unordered_set&lt;string&gt; set;
        for(string dicStr: dictionary) {
            set.insert(dicStr);
            dicStrMaxLength = dicStrMaxLength &gt; dicStr.length() ? dicStrMaxLength : dicStr.length();
        }
        for (int i = 1; i &lt; length + 1; i++) {
            // 默认当前位置的剩余字符会比前一个位置的剩余字符多一个
            prefix[i] = prefix[i - 1] + 1;
            for (int j = i - 1; j &gt;= 0; j--) {
                // 子串太长没必要比较
                if (i - j &gt; dicStrMaxLength) continue;
                // 在某个位置到当前前缀位置发现了一个子串，后面的字符串全部被匹配，这个位置上的剩余字符数可能是当前剩余字符数
                // 在默认剩余数和可能剩余数之间取较小值
                // 如字典中存在"aab"与”baaa“   对于被匹配串"aabbaaab"明显使用"baaa"来匹配剩余字符串会比较少
                if (set.find(s.substr(j, i - j)) != set.end()) {
                    prefix[i] = prefix[i] &lt; prefix[j] ? prefix[i] : prefix[j];
                }
            }
        }
        return prefix[length];
    }
};
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/15c723baec8abc373fea2407c104742f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在React和Vue中实现锚点定位功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71c25eee2580fbad78bea279c9808419/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">debugger失效</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>