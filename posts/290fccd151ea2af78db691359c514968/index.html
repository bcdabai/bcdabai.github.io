<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android5.0之NavigationView的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android5.0之NavigationView的使用" />
<meta property="og:description" content="导航菜单的制作方式多种多样，网上也有各种炫酷效果的具体实现方式，那么今天我主要是想来说说Google在Android5.0之后推出的NavigationView的具体使用方式。
NavigationView在很多App上都已经可以看到其效果图，国内的比如知乎（侧拉菜单滑出来的那一部分属于NavigationView），如下图：
还有Google自己的那些app，也基本全都采用了NavigationView，如下图，分别是Gmail、Google Map以及Google Play：
OK，看完了图，接下来我们就来说说这个NavigationView吧。
1.NavigationView是什么 long long ago，我们做抽屉菜单的时候，左边滑出来的那一部分的布局都是由我们自己来定义的，自己写的话，花点时间也能做出来好看的侧拉菜单，但总是要耗费时间，于是Google在5.0之后推出了NavitationView，就是我们左边滑出来的那个菜单。这个菜单整体上分为两部分，上面一部分叫做HeaderLayout，下面的那些点击项都是menu，这样的效果如果我们要自己写肯定也能写出来，但是没有必要，既然Google提供了这个控件，那我们就来看看这个控件要怎么用吧。
2.NavigationView怎么用 和普通的侧拉菜单制作方式一样，首先所有的东西还是都放在一个DrawerLayout中（如果你对DrawerLayout的使用还不熟悉，请参考这篇文章使用DrawerLayout实现侧拉菜单），只不过这次我们把左边滑出菜单的布局用一个NavigationView来代替，代码如下：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;android.support.v4.widget.DrawerLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; tools:context=&#34;org.mobiletrain.drawerlayout.MainActivity&#34;&gt; &lt;LinearLayout android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:orientation=&#34;vertical&#34;&gt; &lt;TextView android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; android:text=&#34;主页面&#34;/&gt; &lt;/LinearLayout&gt; &lt;android.support.design.widget.NavigationView android:id=&#34;@&#43;id/navigation_view&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;match_parent&#34; android:layout_gravity=&#34;left&#34; android:fitsSystemWindows=&#34;true&#34; app:headerLayout=&#34;@layout/header_layout&#34; app:menu=&#34;@menu/main&#34;&gt;&lt;/android.support.design.widget.NavigationView&gt; &lt;/android.support.v4.widget.DrawerLayout&gt;OK，下面我来分别解释一下这里边几个属性的含义： 1.android:layout_gravity=&#34;left&#34;属性表示该View是左边的滑出菜单，这个属性的含义不用多说，这是DrawerLayout使用方式中的知识点。
2.app:headerLayout=&#34;@layout/header_layout&#34;表示引用一个头布局文件，这个头就是我们在上面看到的那个背景图片，包括背景图片上面的显示用户名的控件等等。
3.app:menu=&#34;@menu/main&#34;表示引用一个menu作为下面的点击项
OK，那我们再来看看头布局文件：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;200dp&#34; android:orientation=&#34;vertical&#34;&gt; &lt;ImageView android:id=&#34;@&#43;id/iv&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:scaleType=&#34;centerCrop&#34; android:src=&#34;@drawable/p1&#34;/&gt; &lt;/LinearLayout&gt; 再来看看menu文件： &lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&gt; &lt;item android:id=&#34;@&#43;id/favorite&#34; android:icon=&#34;@mipmap/ic_launcher&#34; android:title=&#34;收藏&#34;/&gt; &lt;item android:id=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/290fccd151ea2af78db691359c514968/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-04-26T20:46:00+08:00" />
<meta property="article:modified_time" content="2016-04-26T20:46:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android5.0之NavigationView的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>导航菜单的制作方式多种多样，网上也有各种炫酷效果的具体实现方式，那么今天我主要是想来说说Google在Android5.0之后推出的NavigationView的具体使用方式。</p> 
 <p>NavigationView在很多App上都已经可以看到其效果图，国内的比如知乎（侧拉菜单滑出来的那一部分属于NavigationView），如下图：</p> 
 <p><img src="https://images2.imgbox.com/fb/df/k8PpsRt0_o.png" alt=""><br></p> 
 <p>还有Google自己的那些app，也基本全都采用了NavigationView，如下图，分别是Gmail、Google Map以及Google Play：</p> 
 <p><img src="https://images2.imgbox.com/68/52/fPlwxeQ8_o.png" alt=""><img src="https://images2.imgbox.com/1a/ef/h3zzawUO_o.png" alt=""><img src="https://images2.imgbox.com/1f/4e/3xS33HSU_o.png" alt=""><br></p> 
 <p>OK，看完了图，接下来我们就来说说这个NavigationView吧。</p> 
 <h2>1.NavigationView是什么</h2> 
 <p>long long ago，我们做抽屉菜单的时候，左边滑出来的那一部分的布局都是由我们自己来定义的，自己写的话，花点时间也能做出来好看的侧拉菜单，但总是要耗费时间，于是Google在5.0之后推出了NavitationView，就是我们左边滑出来的那个菜单。这个菜单整体上分为两部分，上面一部分叫做HeaderLayout，下面的那些点击项都是menu，这样的效果如果我们要自己写肯定也能写出来，但是没有必要，既然Google提供了这个控件，那我们就来看看这个控件要怎么用吧。<br></p> 
 <h2>2.NavigationView怎么用</h2> 
 <p>和普通的侧拉菜单制作方式一样，首先所有的东西还是都放在一个DrawerLayout中（如果你对DrawerLayout的使用还不熟悉，请参考这篇文章<a href="http://blog.csdn.net/u012702547/article/details/49562747">使用DrawerLayout实现侧拉菜单</a>），只不过这次我们把左边滑出菜单的布局用一个NavigationView来代替，代码如下：</p> 
 <p></p> 
 <pre><code class="language-java">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;android.support.v4.widget.DrawerLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context="org.mobiletrain.drawerlayout.MainActivity"&gt;

    &lt;LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"&gt;

        &lt;TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="主页面"/&gt;
    &lt;/LinearLayout&gt;

    &lt;android.support.design.widget.NavigationView
        android:id="@+id/navigation_view"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:layout_gravity="left"
        android:fitsSystemWindows="true"
        app:headerLayout="@layout/header_layout"
        app:menu="@menu/main"&gt;&lt;/android.support.design.widget.NavigationView&gt;
&lt;/android.support.v4.widget.DrawerLayout&gt;</code></pre>OK，下面我来分别解释一下这里边几个属性的含义： 
 <br> 
 <p>1.android:layout_gravity="left"属性表示该View是左边的滑出菜单，这个属性的含义不用多说，这是DrawerLayout使用方式中的知识点。</p> 
 <p>2.app:headerLayout="@layout/header_layout"表示引用一个头布局文件，这个头就是我们在上面看到的那个背景图片，包括背景图片上面的显示用户名的控件等等。</p> 
 <p>3.app:menu="@menu/main"表示引用一个menu作为下面的点击项</p> 
 <p>OK，那我们再来看看头布局文件：</p> 
 <p></p> 
 <pre><code class="language-java">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
              android:layout_width="match_parent"
              android:layout_height="200dp"
              android:orientation="vertical"&gt;

    &lt;ImageView
        android:id="@+id/iv"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scaleType="centerCrop"
        android:src="@drawable/p1"/&gt;
&lt;/LinearLayout&gt;</code></pre> 
 <br>再来看看menu文件： 
 <p></p> 
 <pre><code class="language-java">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item
        android:id="@+id/favorite"
        android:icon="@mipmap/ic_launcher"
        android:title="收藏"/&gt;
    &lt;item
        android:id="@+id/wallet"
        android:icon="@mipmap/ic_launcher"
        android:title="钱包"/&gt;
    &lt;item
        android:id="@+id/photo"
        android:icon="@mipmap/ic_launcher"
        android:title="相册"/&gt;
    &lt;item
        android:id="@+id/file"
        android:icon="@mipmap/ic_launcher"
        android:title="文件"/&gt;
&lt;/menu&gt;</code></pre> 
 <br>OK，运行来看看效果： 
 <p><img src="https://images2.imgbox.com/ae/1a/YuAnj56u_o.png" alt=""></p> 
 <p>OK，已经显示出来了，但是有一个问题，图片都变为灰色了，怎么破？有两种方式：</p> 
 <p>1.在布局文件中添加app:itemIconTint="@color/blue"属性，表示设置图片的颜色全都为蓝色，效果如下：</p> 
 <p><img src="https://images2.imgbox.com/5e/bb/65H3J0GE_o.png" alt=""></p> 
 <p>2.第一种解决方案会让所有的图片以一种颜色来显示，如果我想让图片就是显示他本身的颜色该怎么办呢？在Java代码中调用如下方法：</p> 
 <p></p> 
 <pre><code class="language-java">NavigationView navigationView = (NavigationView) findViewById(R.id.navigation_view);
        navigationView.setItemIconTintList(null);</code></pre> 
 <br>显示效果如下： 
 <p><img src="https://images2.imgbox.com/34/33/18sebuET_o.png" alt=""></p> 
 <p>这下正常了。</p> 
 <p>还有下面两个常用的API：</p> 
 <p>1.app:itemBackground="@color/colorAccent"设置每一个item的背景颜色</p> 
 <p>2.app:itemTextColor=""设置item的背景颜色</p> 
 <p><br></p> 
 <p>OK，如果我想在NavigationView的item之间添加上一条分隔线呢？很简单，只需要在menu中将相应的item放到一个group中，并给该group取一个id即可，代码如下：</p> 
 <p></p> 
 <pre><code class="language-java">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;group android:id="@+id/g1"&gt;
        &lt;item
            android:id="@+id/favorite"
            android:icon="@mipmap/ic_launcher"
            android:title="收藏"/&gt;
        &lt;item
            android:id="@+id/wallet"
            android:icon="@mipmap/ic_launcher"
            android:title="钱包"/&gt;
    &lt;/group&gt;
    &lt;group android:id="@+id/g2"&gt;
        &lt;item
            android:id="@+id/photo"
            android:icon="@mipmap/ic_launcher"
            android:title="相册"/&gt;
    &lt;/group&gt;
    &lt;item
        android:id="@+id/file"
        android:icon="@mipmap/ic_launcher"
        android:title="文件"/&gt;
&lt;/menu&gt;</code></pre> 
 <br>显示效果如下： 
 <p><img src="https://images2.imgbox.com/a4/d9/XlA9F8S5_o.png" alt=""></p> 
 <p>OK，分割线添加成功了。</p> 
 <p>接下来我们来看看怎么处理NavigationView中的事件监听。</p> 
 <p>NavigationView中的事件处理主要是两个方面，一个头部的点击事件，还有一个是itemView的点击事件，下面我们分别来看看：</p> 
 <h3>1.头部点击事件</h3> 
 <p>处理头部点击事件，我们需要先获得到头部控件，在Java代码中我们可以通过下面的方式获得头部控件，<br></p> 
 <p></p> 
 <pre><code class="language-java">//获取头布局文件
        View headerView = navigationView.getHeaderView(0);</code></pre> 
 <br>然后通过调用headerView中的findViewById方法来查找到头部的控件，设置点击事件即可。 
 <h3>2.item点击事件</h3> 
 <p></p> 
 <pre><code class="language-java">        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {
            @Override
            public boolean onNavigationItemSelected(MenuItem item) {
                //在这里处理item的点击事件
                return true;
            }
        });</code></pre> 
 <br>OK，基本NavigationView的使用就这些。有问题欢迎交流。 
 <p>以上。<br></p> 
 <p><br></p> 
</div> 
<p>转载于:https://www.cnblogs.com/lenve/p/5865900.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fdd98d0f7a42d9907675380602392eda/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python 读取中文文件名/中文路径</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/16792a40e09abe3828b14fc34bddb1cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【重点推荐】iOS开发之芝麻信用SDK的超详细使用教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>