<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>4x2矩阵按键的短按和长按 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="4x2矩阵按键的短按和长按" />
<meta property="og:description" content="4x2矩阵按键的短按和长按 前言一、识别矩阵按键的具体按键二、识别具体按键的短按和长按总结 前言 最近在项目中遇到一个4x2矩阵按键的问题，各种百度了好久，都是在说4x4的矩阵按键（当然，通过4x4来推4x2的矩阵按键也没毛病），但是我现在的需求是识别出具体某个按键被按下后，是短按还是长按。
于是，我又找了好久，终于在阿B上找到了能满足我的需求的视频，按照上面所讲的结合我自己写的矩阵按键，终于实现了这个功能，在这里做个笔记。下面这个是阿B上的视频标题，通过搜索这个就能找到。
一、识别矩阵按键的具体按键 这里我用的是行列扫描法，由于我的6个IO口不是同一P引脚，所以我这里写了一个函数，方便对IO口赋值和对按键状态编码。
1、首先初始化6个IO引脚的工作模式为准双向模式
下面依次这样接了KEY_SET和BT_KEY]
void Key_Init(void) { /*********************** | * 说明 * | 0,0准双向口 | 0,1推挽输出 | 1,0高阻输入 | 1,1开漏 ************************/ P6M1&amp;=~(1&lt;&lt;0);P6M0&amp;=~(1&lt;&lt;0);	/* KEY_SET P00*/ P6M1&amp;=~(1&lt;&lt;1);P6M0&amp;=~(1&lt;&lt;1);	/* BT_KEY P02*/ P6M1&amp;=~(1&lt;&lt;2);P6M0&amp;=~(1&lt;&lt;2);	/* KEY0or1 P24*/ P6M1&amp;=~(1&lt;&lt;3);P6M0&amp;=~(1&lt;&lt;3);	/* KEY_MOD P27*/ P6M1&amp;=~(1&lt;&lt;4);P6M0|=1&lt;&lt;4;	/* NetInto1 P37*/ P6M1&amp;=~(1&lt;&lt;5);P6M0|=1&lt;&lt;5;	/* NetInto2 P36*/	} 2、写一个方便给6个IO口引脚赋值的函数
/************************************************************************* * 函 数 名: Key_Pin * 函数功能: 给按键引脚赋值0 or 1 * 输 入: p1-p4为高四位赋值，n2,n1为低四位的3,4为赋值 * 返 回 值: Key_Value的高四位为行按键的引脚值，低四位中的3,4位为列按键的引脚值 *************************************************************************/ uchar Key_Pin(uchar p1,uchar p2,uchar p3,uchar p4,uchar n1,uchar n2) { uchar Key_Value=0x00,Key_PinValue[8]={0x00}; KEY0or1=p1; KEY_MOD=p2; KEY_SET=p3; BT_KEY=p4; NetInto1=n1; NetInto2=n2; Key_PinValue[7]=KEY0or1; Key_PinValue[6]=KEY_MOD; Key_PinValue[5]=KEY_SET; Key_PinValue[4]=BT_KEY; Key_PinValue[3]=NetInto1; Key_PinValue[2]=NetInto2; Key_Value |= Key_PinValue[7]&lt;&lt;7; Key_Value |= Key_PinValue[6]&lt;&lt;6; Key_Value |= Key_PinValue[5]&lt;&lt;5; Key_Value |= Key_PinValue[4]&lt;&lt;4; Key_Value |= Key_PinValue[3]&lt;&lt;3; Key_Value |= Key_PinValue[2]&lt;&lt;2; Key_Value |= Key_PinValue[1]&lt;&lt;1; Key_Value |= Key_PinValue[0]&lt;&lt;0; return Key_Value; } 3、按键扫描函数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5268d91d3b988caa198f74586f896807/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-29T23:42:14+08:00" />
<meta property="article:modified_time" content="2023-08-29T23:42:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">4x2矩阵按键的短按和长按</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>4x2矩阵按键的短按和长按</h4> 
 <ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_9" rel="nofollow">一、识别矩阵按键的具体按键</a></li><li><a href="#_97" rel="nofollow">二、识别具体按键的短按和长按</a></li><li><a href="#_255" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_3"></a>前言</h2> 
<p>最近在项目中遇到一个4x2矩阵按键的问题，各种百度了好久，都是在说4x4的矩阵按键（当然，通过4x4来推4x2的矩阵按键也没毛病），但是我现在的需求是识别出具体某个按键被按下后，是短按还是长按。<br> 于是，我又找了好久，终于在阿B上找到了能满足我的需求的视频，按照上面所讲的结合我自己写的矩阵按键，终于实现了这个功能，在这里做个笔记。下面这个是阿B上的视频标题，通过搜索这个就能找到。<br> <img src="https://images2.imgbox.com/d2/7d/5dMa9KUQ_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_9"></a>一、识别矩阵按键的具体按键</h2> 
<p>这里我用的是行列扫描法，由于我的6个IO口不是同一P引脚，所以我这里写了一个函数，方便对IO口赋值和对按键状态编码。<br> 1、首先初始化6个IO引脚的工作模式为准双向模式<br> <img src="https://images2.imgbox.com/5c/02/kGfGoAyD_o.png" alt="下面依次这样接了KEY_SET和BT_KEY"><br> 下面依次这样接了KEY_SET和BT_KEY]</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Key_Init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">/***********************
	|  * 说明 *
	|  0,0准双向口
	|  0,1推挽输出
	|  1,0高阻输入
	|  1,1开漏
	************************/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">/* KEY_SET P00*/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">/* BT_KEY  P02*/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">/* KEY0or1 P24*/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">/* KEY_MOD P27*/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">|=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>			<span class="token comment">/* NetInto1 P37*/</span>
	P6M1<span class="token operator">&amp;=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>P6M0<span class="token operator">|=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>			<span class="token comment">/* NetInto2 P36*/</span>	
<span class="token punctuation">}</span>
</code></pre> 
<p>2、写一个方便给6个IO口引脚赋值的函数</p> 
<pre><code class="prism language-c"><span class="token comment">/*************************************************************************
* 函 数 名: Key_Pin
* 函数功能: 给按键引脚赋值0 or 1
* 输    入: p1-p4为高四位赋值，n2,n1为低四位的3,4为赋值
* 返 回 值: Key_Value的高四位为行按键的引脚值，低四位中的3,4位为列按键的引脚值
*************************************************************************/</span>
uchar <span class="token function">Key_Pin</span><span class="token punctuation">(</span>uchar p1<span class="token punctuation">,</span>uchar p2<span class="token punctuation">,</span>uchar p3<span class="token punctuation">,</span>uchar p4<span class="token punctuation">,</span>uchar n1<span class="token punctuation">,</span>uchar n2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	uchar Key_Value<span class="token operator">=</span><span class="token number">0x00</span><span class="token punctuation">,</span>Key_PinValue<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0x00</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	KEY0or1<span class="token operator">=</span>p1<span class="token punctuation">;</span> KEY_MOD<span class="token operator">=</span>p2<span class="token punctuation">;</span> KEY_SET<span class="token operator">=</span>p3<span class="token punctuation">;</span> BT_KEY<span class="token operator">=</span>p4<span class="token punctuation">;</span> NetInto1<span class="token operator">=</span>n1<span class="token punctuation">;</span> NetInto2<span class="token operator">=</span>n2<span class="token punctuation">;</span>
	Key_PinValue<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">=</span>KEY0or1<span class="token punctuation">;</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">=</span>KEY_MOD<span class="token punctuation">;</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span>KEY_SET<span class="token punctuation">;</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span>BT_KEY<span class="token punctuation">;</span>
	Key_PinValue<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>NetInto1<span class="token punctuation">;</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>NetInto2<span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">6</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token punctuation">;</span>
	Key_Value <span class="token operator">|=</span> Key_PinValue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> Key_Value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>3、按键扫描函数</p> 
<pre><code class="prism language-c"><span class="token comment">/*************************************************************************
* 函 数 名: Key_Scan
* 函数功能: 检测有按键按下并读取键值
* 输    入: 无
* 返 回 值: KeyValue分别返回1~8
*************************************************************************/</span>
uchar <span class="token function">Key_Scan</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	uchar Key_PinSet<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> Key_PinSet_H<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> Key_PinSet_L<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> KeyValue<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	Key_PinSet <span class="token operator">=</span> <span class="token function">Key_Pin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//0x0c</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>Key_PinSet <span class="token operator">!=</span> <span class="token number">0x0c</span><span class="token punctuation">)</span>    <span class="token comment">//读取按键是否按下</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>Key_PinSet <span class="token operator">!=</span> <span class="token number">0x0c</span><span class="token punctuation">)</span>  <span class="token comment">//再次检测键盘是否按下</span>
		<span class="token punctuation">{<!-- --></span>
			Key_PinSet_H <span class="token operator">=</span> <span class="token function">Key_Pin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//0x0c 行输入0，检测列值，先判断列</span>
			<span class="token keyword">switch</span><span class="token punctuation">(</span>Key_PinSet_H<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0X04</span><span class="token punctuation">)</span><span class="token operator">:</span>	KeyValue<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>		<span class="token comment">//4:0100</span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0X08</span><span class="token punctuation">)</span><span class="token operator">:</span>	KeyValue<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>		<span class="token comment">//8:1000</span>
			<span class="token punctuation">}</span>
			
			Key_PinSet_L <span class="token operator">=</span> <span class="token function">Key_Pin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//0xf0 列输入0，检测行值，判断行</span>
			<span class="token keyword">switch</span><span class="token punctuation">(</span>Key_PinSet_L<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0X70</span><span class="token punctuation">)</span><span class="token operator">:</span>	KeyValue<span class="token operator">=</span>KeyValue<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0Xb0</span><span class="token punctuation">)</span><span class="token operator">:</span>	KeyValue<span class="token operator">=</span>KeyValue<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0Xd0</span><span class="token punctuation">)</span><span class="token operator">:</span> KeyValue<span class="token operator">=</span>KeyValue<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">0Xe0</span><span class="token punctuation">)</span><span class="token operator">:</span>	KeyValue<span class="token operator">=</span>KeyValue<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>			
			
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> KeyValue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_97"></a>二、识别具体按键的短按和长按</h2> 
<p>具体原理我也不太说的明白，直接上代码，不明白的话去看上面那个视频</p> 
<pre><code class="prism language-c"><span class="token comment">//0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F,</span>
uint seg_num<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">0xfc</span><span class="token punctuation">,</span><span class="token number">0x60</span><span class="token punctuation">,</span><span class="token number">0xda</span><span class="token punctuation">,</span><span class="token number">0xf2</span><span class="token punctuation">,</span><span class="token number">0x66</span><span class="token punctuation">,</span><span class="token number">0xb6</span><span class="token punctuation">,</span><span class="token number">0xbe</span><span class="token punctuation">,</span><span class="token number">0xe0</span><span class="token punctuation">,</span><span class="token number">0xfe</span><span class="token punctuation">,</span><span class="token number">0xf6</span><span class="token punctuation">,</span><span class="token number">0xee</span><span class="token punctuation">,</span><span class="token number">0x3e</span><span class="token punctuation">,</span><span class="token number">0x9c</span><span class="token punctuation">,</span><span class="token number">0x7a</span><span class="token punctuation">,</span><span class="token number">0x9e</span><span class="token punctuation">,</span><span class="token number">0x8e</span><span class="token punctuation">,</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
uint ums<span class="token punctuation">,</span>keytime<span class="token punctuation">;</span>
uchar usec<span class="token punctuation">,</span>keydly<span class="token punctuation">,</span> keyold<span class="token punctuation">;</span>
bit KEY_UP_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_MODE_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_RESET_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
bit KEY_LANGUAGE_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_CUSTOM_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_TIME_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_DISANCE_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_RACESET_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
bit KEY_UP_1S_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>KEY_RESET_1S_Flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">//按键判断函数</span>
<span class="token keyword">void</span> <span class="token function">Key_Judgment</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	uchar keyval<span class="token punctuation">,</span> keydown<span class="token punctuation">,</span> keyup<span class="token punctuation">;</span>			<span class="token comment">//keydown：按下标志, keyup：抬起标志</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>keydly<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>		<span class="token comment">//按键判断函数10ms判断一次</span>
	keydly <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	keyval <span class="token operator">=</span> <span class="token function">Key_Scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
	keydown <span class="token operator">=</span> keyval <span class="token operator">&amp;</span> <span class="token punctuation">(</span>keyval<span class="token operator">^</span>keyold<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按下的瞬间，keydown 有值</span>
	keyup <span class="token operator">=</span> <span class="token operator">~</span>keyval <span class="token operator">&amp;</span> <span class="token punctuation">(</span>keyval<span class="token operator">^</span>keyold<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//抬起的瞬间，keyup 有值</span>
	keyold <span class="token operator">=</span> keyval<span class="token punctuation">;</span>	<span class="token comment">//一直按着，keyold 有值</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>keydown <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>	<span class="token comment">//按下后对长按开始计时</span>
	<span class="token punctuation">{<!-- --></span>
		keytime<span class="token operator">=</span>ums<span class="token punctuation">;</span>
		key_flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>keyup <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//短按及抬起判断，按下后在300ms内若抬起，则视为短按</span>
	<span class="token punctuation">{<!-- --></span>
		key_id <span class="token operator">=</span> keyup<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>key_flag<span class="token operator">==</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> keyup <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>			<span class="token comment">//长按抬起判断，若长按完后还一直按着，则没反应，直到抬起，时间更新，进入下一次长按识别</span>
	<span class="token punctuation">{<!-- --></span>	
		key_flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		keytime<span class="token operator">=</span>ums<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">switch</span><span class="token punctuation">(</span>keyold<span class="token punctuation">)</span>							<span class="token comment">//长按标志，按下后一直到750-1000ms内不放手，则视为长按</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> 
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">750</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				key_flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				key_id <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>	
			<span class="token punctuation">}</span>			
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">:</span> 
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">750</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				key_flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				key_id <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">750</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>ums<span class="token operator">-</span>keytime<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				key_flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				key_id <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	
	<span class="token keyword">switch</span><span class="token punctuation">(</span>key_id<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_LANGUAGE_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//1</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_UP_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>		<span class="token comment">//8</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_CUSTOM_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//2</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_MODE_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>		<span class="token comment">//7</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_TIME_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>		<span class="token comment">//3</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_RESET_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//6</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_DISANCE_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//4</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_RACESET_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//5</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_UP_1S_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>	<span class="token comment">//up_1s</span>
		<span class="token keyword">case</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">:</span> KEY_RESET_1S_Flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//reset_1s</span>
		<span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">break</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	key_id <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_LANGUAGE_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">//1</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_LANGUAGE_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   				<span class="token comment">//用户指示灯D3闪烁1次</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_CUSTOM_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">//2</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_CUSTOM_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_TIME_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>				<span class="token comment">//3</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_TIME_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_DISANCE_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">//4</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_DISANCE_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_RACESET_Flag<span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">//5</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_RACESET_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">//用户指示灯D4闪烁1次</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_RESET_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>				<span class="token comment">//6</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_RESET_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_MODE_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>				<span class="token comment">//7</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_MODE_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_UP_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>				<span class="token comment">//8</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_UP_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_UP_1S_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>				<span class="token comment">//9</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_UP_1S_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D4</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>KEY_RESET_1S_Flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>			<span class="token comment">//10</span>
	<span class="token punctuation">{<!-- --></span>
		KEY_RESET_1S_Flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">LED_FLI_D4</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">SEG_Write_Data</span><span class="token punctuation">(</span>seg_num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//数码管显示</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>开定时器1，定时1ms</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">Timer1_Init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>		<span class="token comment">//1毫秒@11.0592MHz</span>
<span class="token punctuation">{<!-- --></span>
	AUXR <span class="token operator">&amp;=</span> <span class="token number">0xBF</span><span class="token punctuation">;</span>			<span class="token comment">//定时器时钟12T模式</span>
	TMOD <span class="token operator">&amp;=</span> <span class="token number">0x0F</span><span class="token punctuation">;</span>			<span class="token comment">//设置定时器模式</span>
	TL1 <span class="token operator">=</span> <span class="token number">0x66</span><span class="token punctuation">;</span>				<span class="token comment">//设置定时初始值</span>
	TH1 <span class="token operator">=</span> <span class="token number">0xFC</span><span class="token punctuation">;</span>				<span class="token comment">//设置定时初始值</span>
	TF1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>				<span class="token comment">//清除TF1标志</span>
	TR1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>				<span class="token comment">//定时器1开始计时</span>
	ET1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">tml_isr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> interrupt <span class="token number">3</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>ums <span class="token operator">&lt;</span> <span class="token number">65536</span><span class="token punctuation">)</span>
		ums<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		ums<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">++</span>keydly<span class="token operator">==</span><span class="token number">10</span><span class="token punctuation">)</span>keydly<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_255"></a>总结</h2> 
<p>后面应该还能判断是双击、三击等多击事件，但我的项目上暂时没这个需求，所以先就不写了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/34c445f14c6c3270625769223ed267ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Docker 容器的DNS</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/445ee3de806e2d5e71be99bf61f8eda2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用Java实现Huffman编码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>