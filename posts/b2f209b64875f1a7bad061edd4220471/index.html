<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter学习-day20-使用SafeArea组件处理各机型的安全距离 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flutter学习-day20-使用SafeArea组件处理各机型的安全距离" />
<meta property="og:description" content="文章目录 1. 介绍2. 解析3. 示例和效果图4. 特殊情况 1. 介绍 安全区域，指的是移动端设备的可视窗口范围。处于安全区域的内容不受圆角、刘海屏、iPhone 小黑条、状态栏等的影响，也就是说，我们要做好适配，必须保证页面可视、可操作区域是在安全区域内，而 SafeArea 组件会自动进行屏幕适配，帮你空出所占高度。如下图所示：
2. 解析 实际上 SafeArea 也是一个 StatelessWidget，它本身不用主动去更新 ui，它仅仅是包裹了一层 Padding 和 MediaQuery.removePadding 的容器。它外层的 Padding 填充了被异形屏所遮挡的部分，而内部的 MediaQuery.removePadding 则是把这部分的填充距离给去掉，这样就保证了 SafeArea 包裹的子元素不会被异形屏所遮挡，且后续其 child 获取外部 Padding 的时候就不会再重复获取多余的 Padding 了。
SafeArea 的属性如下：
属性说明默认值top左侧是否需要有安全距离falseleft左侧是否需要有安全距离falseright左侧是否需要有安全距离falsebottom左侧是否需要有安全距离falseminimum最小填充距离EdgeInsets.zeromaintainBottomViewPadding是否需要底部视图填充falsechild子元素Widget const SafeArea({ super.key, this.left = true, this.top = true, this.right = true, this.bottom = true, this.minimum = EdgeInsets.zero, this.maintainBottomViewPadding = false, required this.child, }); 3. 示例和效果图 如下，是一个没有设置安全距离的页面，可以看到，由于没有设置安全区域，所以页面顶部的一部分文字被状态栏给遮挡了：
Widget build(BuildContext context) { return Scaffold( body: Container( alignment: Alignment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b2f209b64875f1a7bad061edd4220471/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T10:49:56+08:00" />
<meta property="article:modified_time" content="2023-12-28T10:49:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter学习-day20-使用SafeArea组件处理各机型的安全距离</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1__1" rel="nofollow">1. 介绍</a></li><li><a href="#2__7" rel="nofollow">2. 解析</a></li><li><a href="#3__36" rel="nofollow">3. 示例和效果图</a></li><li><a href="#4__100" rel="nofollow">4. 特殊情况</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1__1"></a>1. 介绍</h2> 
<p>安全区域，指的是移动端设备的可视窗口范围。处于安全区域的内容不受圆角、刘海屏、iPhone 小黑条、状态栏等的影响，也就是说，我们要做好适配，必须保证页面可视、可操作区域是在安全区域内，而 <a href="https://api.flutter-io.cn/flutter/widgets/SafeArea-class.html" rel="nofollow">SafeArea</a> 组件会自动进行屏幕适配，帮你空出所占高度。如下图所示：<br> <img src="https://images2.imgbox.com/c4/35/ecfW4KSe_o.png" alt="移动端设备安全距离"></p> 
<h2><a id="2__7"></a>2. 解析</h2> 
<p>实际上 SafeArea 也是一个 StatelessWidget，它本身不用主动去更新 ui，它仅仅是包裹了一层 Padding 和 MediaQuery.removePadding 的容器。它外层的 Padding 填充了被异形屏所遮挡的部分，而内部的 MediaQuery.removePadding 则是把这部分的填充距离给去掉，这样就保证了 SafeArea 包裹的子元素不会被异形屏所遮挡，且后续其 child 获取外部 Padding 的时候就不会再重复获取多余的 Padding 了。</p> 
<p>SafeArea 的属性如下：</p> 
<table><thead><tr><th>属性</th><th>说明</th><th>默认值</th></tr></thead><tbody><tr><td>top</td><td>左侧是否需要有安全距离</td><td>false</td></tr><tr><td>left</td><td>左侧是否需要有安全距离</td><td>false</td></tr><tr><td>right</td><td>左侧是否需要有安全距离</td><td>false</td></tr><tr><td>bottom</td><td>左侧是否需要有安全距离</td><td>false</td></tr><tr><td>minimum</td><td>最小填充距离</td><td>EdgeInsets.zero</td></tr><tr><td>maintainBottomViewPadding</td><td>是否需要底部视图填充</td><td>false</td></tr><tr><td>child</td><td>子元素</td><td>Widget</td></tr></tbody></table> 
<pre><code class="prism language-dart"><span class="token keyword">const</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>minimum <span class="token operator">=</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>maintainBottomViewPadding <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="3__36"></a>3. 示例和效果图</h2> 
<p>如下，是一个没有设置安全距离的页面，可以看到，由于没有设置安全区域，所以页面顶部的一部分文字被状态栏给遮挡了：</p> 
<p><img src="https://images2.imgbox.com/ba/23/x6iPd8vf_o.png" alt="被遮挡了"></p> 
<pre><code class="prism language-dart"><span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
    body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
      alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>maxFinite<span class="token punctuation">,</span>
            height<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'我是一段文字'</span></span><span class="token punctuation">,</span>
                style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Expanded</span><span class="token punctuation">(</span>
              child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
                  constraints<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BoxConstraints</span><span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>如下，是设置了 SafeArea 的，可以看到，顶部页面内容没有被遮挡：</p> 
<p><img src="https://images2.imgbox.com/f5/e7/btdGozru_o.png" alt="没有被遮挡"></p> 
<pre><code class="prism language-dart"><span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
    body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">Container</span><span class="token punctuation">(</span>
              width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>maxFinite<span class="token punctuation">,</span>
              height<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'我是一段文字'</span></span><span class="token punctuation">,</span>
                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">Expanded</span><span class="token punctuation">(</span>
                child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
                    constraints<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BoxConstraints</span><span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="4__100"></a>4. 特殊情况</h2> 
<p>有的时候，我们的老手机等设备是没有底部栏的，这时获取的安全距离为 0。这种情况我们需要使用minimum属性定一个默认高度，来保证我们的内容不被遮挡。当设备有安全距离的时候，会从默认高度和安全距离中，取最大的那个。</p> 
<pre><code class="prism language-dart"><span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
    body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>
      <span class="token comment">// 当有底部安全距离的时候，会从默认高度和安全距离里取最大的那个</span>
      minimum<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
        alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">Container</span><span class="token punctuation">(</span>
              width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>maxFinite<span class="token punctuation">,</span>
              height<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'我是一段文字'</span></span><span class="token punctuation">,</span>
                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">Expanded</span><span class="token punctuation">(</span>
                child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
                    constraints<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">BoxConstraints</span><span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><mark>往期文章</mark></p> 
<ul><li><a href="https://blog.csdn.net/pdd11997110103/article/details/134660449">flutter学习-day1-环境搭建和启动第一个项目</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/134660585">flutter学习-day6-路由和传参和守卫</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/121667524">Vue2全家桶+Element搭建的PC端在线音乐网站</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/122440666">vue3+element-plus配置cdn</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/121035412">助你上手Vue3全家桶之Vue3教程</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/121036145">助你上手Vue3全家桶之VueX4教程</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/121036684">助你上手Vue3全家桶之Vue-Router4教程</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/113563786">超详细！Vue的九种通信方式</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/118677514">超详细！Vuex手把手教程</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/115981856">使用nvm管理node.js版本以及更换npm淘宝镜像源</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/116002824">vue中利用.env文件存储全局环境变量，以及配置vue启动和打包命令</a></li><li><a href="https://blog.csdn.net/pdd11997110103/article/details/119386246">超详细！Vue-Router手把手教程</a></li></ul> 
<p><mark>个人主页</mark></p> 
<ul><li><a href="https://blog.csdn.net/pdd11997110103?spm=1010.2135.3001.5421">CSDN</a></li><li><a href="https://github.com/wp993080086">GitHub</a></li><li><a href="https://www.jianshu.com/u/b7a8536bff06" rel="nofollow">简书</a></li><li><a href="https://www.cnblogs.com/-pdd/" rel="nofollow">博客园</a></li><li><a href="https://juejin.cn/user/747323639737191" rel="nofollow">掘金</a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/87e1a0cb56e6b5be36c6dca08aa5fd0e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">flutter学习-day21-使用permission_handler进行系统权限的申请和操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f35c7bc8030e7be307b1d80a1100574/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">递归删除文件夹及目录下所有文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>