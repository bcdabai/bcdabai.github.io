<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vi的使用与基本命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vi的使用与基本命令" />
<meta property="og:description" content="vi的使用
一、初识vi
1、什么是vi
vi，即终端中一款编辑器。
2、vi的应用场景
当我们要通过远程连接到服务器时，此时没有图形界面，当我们要对服务器上的文件进行编辑时，便可以使用vi进行快速地处理。其核心设计思想便是让程序员的手指始终保持在键盘的核心区域便能够完成所有的编辑操作。
3、vi的特点
vi没有图形界面，只能编辑文本内容，不支持鼠标操作，没有菜单，只有命令。
4、vi与vim
在很多Linux发行版中，直接把vi做成vim的软链接。vim(vim = vi improved)是从vi发展来的一个文本编辑器，支持代码补全、编译、错误跳转等多项功能，被称之为&#34;编辑器之神&#34;。
二、使用vi
通过人如下命令可以使用vi打开文件：
vi 文件名 提示：若文件已经存在，则直接打开，否则会创建一个新文件。
使用如下命令可以打开文件并将光标定位到指定行：
vi 文件名 &#43;行数 提示：若只有&#34;&#43;“而不指定行号，会直接定位到文件末尾。
注：若vi异常退出，在磁盘上会保存交换文件，下次使用vi编辑该文件时，会看到如下提示信息，这时需按下字母&#34;d&#34;删除交换文件才能继续进行编辑。
三、vi三种工作模式
1、命令模式
使用vi打开一个文件首先进入命令模式，是使用vi的入口，通过命令对文件进行常规的编辑操作，如：定位、复制、粘贴、翻页、删除等。
2、末行模式
用于执行保存、退出等操作。要退出vi，需要在末行模式下输入命令，末行模式是vi的出口。(在命令模式下按”:&#34;便进入末行模式，可通过相应命令执行相应的结果，按&#34;esc&#34;便可退回到命令模式)
末行模式命令如下：
命令英文功能wwrite保存qquit退出，若没有保存不允许退出q!quit强行退出，不保存直接退出wqwrite&amp;quit保存并退出x保存并退出 3、编辑模式
用于正常的文字编辑。(在命令模式下按&#34;i&#34;便可进入编辑模式，按&#34;esc&#34;便可退回到命令模式)
三种模式关系如下所示：
四、vi常用命令
注：使用vi时，一定要将输入法切换至英文状态，否则无法正常使用。
1、重复命令
在命令模式下，可以在要执行的命令前加一个数字，就可以使该命令执行的结果重复指定次数。
2、移动和选择命令
①在命令模式下，可以通过&#34;h&#34;,“j”,“k”,&#34;l&#34;四个按键来控制光标的移动，其四个按键的移动方位如下图所示：
②vi在行内移动
命令英文功能wword向后移动一个单词bback向前移动一个单词0行首^行首，即不是空白字符的位置$行尾 ③行数移动
命令英文功能gggo文件顶部Ggo文件末尾数字gggo移动到指定数字的行数数字Ggo移动到指定数字的行数数字移动到指定数字的行数 ④屏幕移动
命令英文功能ctrl &#43; bback向上翻页ctrl &#43; fforward向下翻页HHead屏幕顶部MMiddle屏幕中部LLow屏幕底部 ⑤段落移动
在vi中会使用空行来区分一个段落，使用如下命令可以在段落间移动。
命令功能{上一段}下一段 ⑥括号匹配
在我们开发中，经常会出现&#34;()&#34;,&#34;{}&#34;,&#34;[]&#34;括号，并且均成对出现，使用如下命令便可以方便找到当前行中与之匹配的另一个括号的位置。
命令功能%括号匹配与切换 ⑦标记
在编辑时，也许需要先查看别的位置，之后再回到当前位置继续进行编辑，只是可以在当前位置添加标记，以便在需要编辑该位置时可以快速跳转回来。
在需要的行使用m增加标记，m后加上标记名称，若其他行添加了相同名称的标记，之前添加的标记会被替换掉。
使用（&#39;标记名）便可以定位到标记所在位置。
注：若标记所在行被删除，标记也会被同时删除。
命令英文功能mxmark添加标记x，x是a-z或A-Z之间的任意一个字母&#39;x直接定位到标记x所在位置 3、编辑命令
①选中文本
在vi中要选中文本需要使用Visual命令切换到可视模式，vi中提供了三种可视模式以便选中文本，按&#34;esc&#34;可以放弃选中，返回到命令模式。
命令英文功能v可视模式从光标位置开始按照正常模式选择文本V可视行模式选中光标经过的完整行ctrl &#43; v可视块模式垂直方向选中文本 注：在可视模式可以和移动命令连用，如ggVG会选中全部内容。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b64239398c03b2e96fefe959525b52d7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-27T22:18:44+08:00" />
<meta property="article:modified_time" content="2018-01-27T22:18:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vi的使用与基本命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>vi的使用</strong></p> 
<p>一、初识vi<br> 1、什么是vi<br> vi，即终端中一款编辑器。<br> 2、vi的应用场景<br> 当我们要通过远程连接到服务器时，此时没有图形界面，当我们要对服务器上的文件进行编辑时，便可以使用vi进行快速地处理。其核心设计思想便是让程序员的手指始终保持在键盘的核心区域便能够完成所有的编辑操作。<br> 3、vi的特点<br> vi没有图形界面，只能编辑文本内容，不支持鼠标操作，没有菜单，只有命令。<br> 4、vi与vim<br> 在很多Linux发行版中，直接把vi做成vim的软链接。vim(vim = vi improved)是从vi发展来的一个文本编辑器，支持代码补全、编译、错误跳转等多项功能，被称之为"编辑器之神"。<br> 二、使用vi<br> 通过人如下命令可以使用vi打开文件：</p> 
<pre><code>vi 文件名
</code></pre> 
<p>提示：若文件已经存在，则直接打开，否则会创建一个新文件。<br> 使用如下命令可以打开文件并将光标定位到指定行：</p> 
<pre><code>vi 文件名 +行数
</code></pre> 
<p>提示：若只有"+“而不指定行号，会直接定位到文件末尾。<br> 注：若vi异常退出，在磁盘上会保存交换文件，下次使用vi编辑该文件时，会看到如下提示信息，这时需按下字母"d"删除交换文件才能继续进行编辑。<br> <img src="https://images2.imgbox.com/fe/4e/opTmUcch_o.png" alt="这里写图片描述"><br> 三、vi三种工作模式<br> 1、命令模式<br> 使用vi打开一个文件首先进入命令模式，是使用vi的入口，通过命令对文件进行常规的编辑操作，如：定位、复制、粘贴、翻页、删除等。<br> 2、末行模式<br> 用于执行保存、退出等操作。要退出vi，需要在末行模式下输入命令，末行模式是vi的出口。(在命令模式下按”:"便进入末行模式，可通过相应命令执行相应的结果，按"esc"便可退回到命令模式)<br> 末行模式命令如下：</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">w</td><td align="center">write</td><td align="left">保存</td></tr><tr><td align="center">q</td><td align="center">quit</td><td align="left">退出，若没有保存不允许退出</td></tr><tr><td align="center">q!</td><td align="center">quit</td><td align="left">强行退出，不保存直接退出</td></tr><tr><td align="center">wq</td><td align="center">write&amp;quit</td><td align="left">保存并退出</td></tr><tr><td align="center">x</td><td align="center"></td><td align="left">保存并退出</td></tr></tbody></table> 
<p>3、编辑模式<br> 用于正常的文字编辑。(在命令模式下按"i"便可进入编辑模式，按"esc"便可退回到命令模式)<br> 三种模式关系如下所示：<br> <img src="https://images2.imgbox.com/ea/5f/0qc4b856_o.png" alt="这里写图片描述"></p> 
<p>四、vi常用命令<br> 注：使用vi时，一定要将输入法切换至英文状态，否则无法正常使用。<br> 1、重复命令<br> 在命令模式下，可以在要执行的命令前加一个数字，就可以使该命令执行的结果重复指定次数。<br> 2、移动和选择命令<br> ①在命令模式下，可以通过"h",“j”,“k”,"l"四个按键来控制光标的移动，其四个按键的移动方位如下图所示：<br> <img src="https://images2.imgbox.com/31/f5/4E9Vnvw2_o.png" alt="这里写图片描述"><br> ②vi在行内移动</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">w</td><td align="center">word</td><td align="left">向后移动一个单词</td></tr><tr><td align="center">b</td><td align="center">back</td><td align="left">向前移动一个单词</td></tr><tr><td align="center">0</td><td align="center"></td><td align="left">行首</td></tr><tr><td align="center">^</td><td align="center"></td><td align="left">行首，即不是空白字符的位置</td></tr><tr><td align="center">$</td><td align="center"></td><td align="left">行尾</td></tr></tbody></table> 
<p>③行数移动</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">gg</td><td align="center">go</td><td align="left">文件顶部</td></tr><tr><td align="center">G</td><td align="center">go</td><td align="left">文件末尾</td></tr><tr><td align="center">数字gg</td><td align="center">go</td><td align="left">移动到指定数字的行数</td></tr><tr><td align="center">数字G</td><td align="center">go</td><td align="left">移动到指定数字的行数</td></tr><tr><td align="center">数字</td><td align="center"></td><td align="left">移动到指定数字的行数</td></tr></tbody></table> 
<p>④屏幕移动</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">ctrl + b</td><td align="center">back</td><td align="left">向上翻页</td></tr><tr><td align="center">ctrl + f</td><td align="center">forward</td><td align="left">向下翻页</td></tr><tr><td align="center">H</td><td align="center">Head</td><td align="left">屏幕顶部</td></tr><tr><td align="center">M</td><td align="center">Middle</td><td align="left">屏幕中部</td></tr><tr><td align="center">L</td><td align="center">Low</td><td align="left">屏幕底部</td></tr></tbody></table> 
<p>⑤段落移动<br> 在vi中会使用空行来区分一个段落，使用如下命令可以在段落间移动。</p> 
<table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">{<!-- --></td><td align="center">上一段</td></tr><tr><td align="center">}</td><td align="center">下一段</td></tr></tbody></table> 
<p>⑥括号匹配<br> 在我们开发中，经常会出现"()","{}","[]"括号，并且均成对出现，使用如下命令便可以方便找到当前行中与之匹配的另一个括号的位置。</p> 
<table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">%</td><td align="center">括号匹配与切换</td></tr></tbody></table> 
<p>⑦标记<br> 在编辑时，也许需要先查看别的位置，之后再回到当前位置继续进行编辑，只是可以在当前位置添加标记，以便在需要编辑该位置时可以快速跳转回来。<br> 在需要的行使用m增加标记，m后加上标记名称，若其他行添加了相同名称的标记，之前添加的标记会被替换掉。<br> 使用（'标记名）便可以定位到标记所在位置。<br> 注：若标记所在行被删除，标记也会被同时删除。</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">mx</td><td align="center">mark</td><td align="left">添加标记x，x是a-z或A-Z之间的任意一个字母</td></tr><tr><td align="center">'x</td><td align="center"></td><td align="left">直接定位到标记x所在位置</td></tr></tbody></table> 
<p>3、编辑命令<br> ①选中文本<br> 在vi中要选中文本需要使用Visual命令切换到可视模式，vi中提供了三种可视模式以便选中文本，按"esc"可以放弃选中，返回到命令模式。</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">v</td><td align="center">可视模式</td><td align="left">从光标位置开始按照正常模式选择文本</td></tr><tr><td align="center">V</td><td align="center">可视行模式</td><td align="left">选中光标经过的完整行</td></tr><tr><td align="center">ctrl + v</td><td align="center">可视块模式</td><td align="left">垂直方向选中文本</td></tr></tbody></table> 
<p>注：在可视模式可以和移动命令连用，如ggVG会选中全部内容。<br> ②删除文本</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">x</td><td align="center">cut</td><td align="left">删除光标所在字符或选中的字符</td></tr><tr><td align="center">d(移动命令)</td><td align="center">delete</td><td align="left">删除移动命令对应的内容</td></tr><tr><td align="center">dd</td><td align="center">delete</td><td align="left">删除光标所在行(数字dd即删除多行)</td></tr><tr><td align="center">D</td><td align="center">delete</td><td align="left">删除至行尾</td></tr></tbody></table> 
<p>提示：可视模式下选中的文本，使用d和x都可以删除选中的文本。<br> 删除命令可以与移动命令连用，以下是常见组合：</p> 
<pre><code>dw        从光标位置删除到单词末尾
d0        从光标位置删除到一行的起始位置
d}        从光标位置删除到段落结尾
ndd       从光标位置向下连续删除n行
d行数G     从光标所在行删除到指定行之间的内容
d'a       从光标所在行删除到标记a之间的所有内容
</code></pre> 
<p>③复制粘贴文本<br> vi提供有一个被复制文本的缓冲区，复制和删除命令都会讲选中的文字保存在缓冲区，在需要的位置使用粘贴便可以将缓冲区的文本插入到光标所在位置。</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">y(移动命令)</td><td align="center">copy</td><td align="left">复制</td></tr><tr><td align="center">yy</td><td align="center">copy</td><td align="left">复制一行，可以nyy复制多行</td></tr><tr><td align="center">p</td><td align="center">paste</td><td align="left">粘贴</td></tr></tbody></table> 
<p>提示：要想实现剪切效果，可以对文本先删除，再粘贴。<br> vi中文本缓冲区只有一个，若后续做过复制，剪切操作，之前的缓冲区内容会被替换。</p> 
<p>注意：vi中的文本缓冲区和系统中的剪切板不是同一个东西，所以使用在别的地方使用ctrl + c复制的内容无法在vi中通过p命令进行粘贴，可在编辑模式下使用鼠标右键粘贴。<br> ④替换</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th><th align="left">工作模式</th></tr></thead><tbody><tr><td align="center">r</td><td align="center">replace</td><td align="left">替换当前字符</td><td align="left">命令模式</td></tr><tr><td align="center">R</td><td align="center">replace</td><td align="left">替换当前行光标后的字符</td><td align="left">替换模式</td></tr></tbody></table> 
<p>注：R命令进入替换模式，替换完成后按下"esc"可以回到命令模式。<br> ⑤缩排和重复执行</p> 
<table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">&gt;&gt;</td><td align="center">向右增加缩进</td></tr><tr><td align="center">&lt;&lt;</td><td align="center">向左减少缩进</td></tr><tr><td align="center">.</td><td align="center">重复上传命令</td></tr></tbody></table> 
<p>注：每次缩进量为4个空格。在可视模式下，缩排命令只需要一个"&gt;“或”&lt;"。<br> 4、撤销命令</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">u</td><td align="center">undo</td><td align="left">撤销上次命令</td></tr><tr><td align="center">ctrl + r</td><td align="center">redo</td><td align="left">恢复撤销的命令</td></tr></tbody></table> 
<p>5、查找和替换命令<br> ①常规查找</p> 
<table><thead><tr><th align="center">命令</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">/str</td><td align="left">查找str</td></tr></tbody></table> 
<p>查找到之后可以使用如下命令查看下一个：<br> n：查找下一个<br> N：查找上一个<br> ②单词快速匹配</p> 
<table><thead><tr><th align="center">命令</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">*</td><td align="left">向后查找当前光标所在单词</td></tr><tr><td align="center">#</td><td align="left">向前查找当前光标所在单词</td></tr></tbody></table> 
<p>③查找并替换<br> vi中查找和替换需要在末行模式下执行，命令格式如下：</p> 
<pre><code>:%s///g
</code></pre> 
<p>a：全局替换<br> 一次性替换文件中所有出现的旧文本：</p> 
<pre><code>:%s/旧文本/新文本/g
</code></pre> 
<p>b：可视区域替换<br> 先选中要替换文字的范围，然后执行命令：</p> 
<pre><code>:s/旧文本/新文本/g
</code></pre> 
<p>c：确认替换<br> 在命令后添加"c"，替换时会有提示，推荐使用该方式进行替换：</p> 
<pre><code>:%s/旧文本/新文本/gc
</code></pre> 
<p>提示如下：</p> 
<pre><code>y   -yes   替换
n   -no    不替换
a   -all   替换所有
q   -quit  退出替换
l   -last  最后一个，并把光标移动到行首
^E  向下滚屏
^Y  向上滚屏
</code></pre> 
<p>6、插入命令<br> 在vi中除了"i"进行编辑模式外，使用如下命令同样可以进入编辑模式：<br> |命令 |英文 |功能 |<br> |: ------------- 😐:-----|:-----|<br> |i|insert|在当前字符前插入文本|<br> |I|insert|在行首插入文本|<br> |a|append|在当前字符后添加文本|<br> |A|append|在行末添加文本|<br> |o||在当前行后面插入一空行|<br> |O||在当前行前面插入一空行|<br> 7、分屏命令<br> vi中的高级命令，可以同时编辑和查看多个文件。<br> ①末行命令扩展</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">:e.</td><td align="center">edit</td><td align="left">会打开内置的文件浏览器，浏览当前目录下的文件</td></tr><tr><td align="center">:n 文件名</td><td align="center">new</td><td align="left">新建文件</td></tr><tr><td align="center">:w 文件名</td><td align="center">write</td><td align="left">另存为，但是仍然编辑当前文件，不会切换文件</td></tr></tbody></table> 
<p>注：切换文件前一定要保证当前文件已被保存。<br> ②分屏命令<br> 使用分屏可以同时编辑和查看多个文件</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">:sp [文件名]</td><td align="center">split</td><td align="left">横向增加分屏</td></tr><tr><td align="center">:vsp [文件名]</td><td align="center">vertical split</td><td align="left">纵向增加分屏</td></tr></tbody></table> 
<p>切换分屏窗口，分屏窗口都是基于ctrl + w的：</p> 
<table><thead><tr><th align="center">命令</th><th align="center">英文</th><th align="left">功能</th></tr></thead><tbody><tr><td align="center">w</td><td align="center">window</td><td align="left">切换到下一个窗口</td></tr><tr><td align="center">r</td><td align="center">reverse</td><td align="left">互换窗口</td></tr><tr><td align="center">c</td><td align="center">close</td><td align="left">关闭当前窗口，但不关闭最后一个窗口</td></tr><tr><td align="center">q</td><td align="center">quit</td><td align="left">退出当前窗口，若是最后一个窗口则关闭vi</td></tr><tr><td align="center">o</td><td align="center">other</td><td align="left">关闭其他窗口</td></tr></tbody></table> 
<p>下面附上两张大神总结的vim命令大全：<br> <img src="https://images2.imgbox.com/be/30/VWFUENk6_o.png" alt="这里写图片描述"></p> 
<p><img src="https://images2.imgbox.com/e0/0d/rqohVNIv_o.gif" alt="这里写图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14fc5b10f1dd56b53bc74c2a76d1fc7b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">错误	MSB3644	未找到框架“.NETFramework,Version=v4.6.2”的引用程序集 的解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f69ef65900bc2ada7df242ecbb97cf5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SMOTE过采样算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>