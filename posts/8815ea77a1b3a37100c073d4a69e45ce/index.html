<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>route命令详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="route命令详解" />
<meta property="og:description" content="route命令简介
route命令是Linux系统中的一个网络管理工具，用于显示和操作IP路由表。它可以用来查看当前系统的路由表信息，添加、删除或修改路由表项，以及显示路由表中的详细信息。route命令可以帮助用户诊断和解决网络连接问题，以及进行网络规划和优化。
查看route版本
route命令也属于net-tools工具集中的命令，如果linux系统没有此命令，我们可以通过安装net-tools软件包来安装此命令。
[root@s152 ~]# yum install -y net-tools [root@s152 ~]# route --version net-tools 2.10-alpha &#43;NEW_ADDRT &#43;RTF_IRTT &#43;RTF_REJECT &#43;I18N &#43;SELINUX AF: (inet) &#43;UNIX &#43;INET &#43;INET6 &#43;IPX &#43;AX25 &#43;NETROM &#43;X25 &#43;ATALK &#43;ECONET &#43;ROSE -BLUETOOTH HW: &#43;ETHER &#43;ARC &#43;SLIP &#43;PPP &#43;TUNNEL -TR &#43;AX25 &#43;NETROM &#43;X25 &#43;FR &#43;ROSE &#43;ASH &#43;SIT &#43;FDDI &#43;HIPPI &#43;HDLC/LAPB &#43;EUI64 yum install -y net-tools
route --version
route-n 使用-n参数查看路由明细，当然不用参数也可以查看，-n表示不解析主机名。
使用add参数添加路由，可以添加一个网段也可以添加一个主机路由。
route add -net 192.168.122.0/24 gw 192.168.0.166
route add -net 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8815ea77a1b3a37100c073d4a69e45ce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T19:19:11+08:00" />
<meta property="article:modified_time" content="2024-01-11T19:19:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">route命令详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>route命令简介</p> 
<p>route命令是Linux系统中的一个网络管理工具，用于显示和操作IP路由表。它可以用来查看当前系统的路由表信息，添加、删除或修改路由表项，以及显示路由表中的详细信息。route命令可以帮助用户诊断和解决网络连接问题，以及进行网络规划和优化。</p> 
<p>查看route版本</p> 
<p>route命令也属于net-tools工具集中的命令，如果linux系统没有此命令，我们可以通过安装net-tools软件包来安装此命令。</p> 
<pre><code class="language-bash">[root@s152 ~]# yum install -y net-tools
[root@s152 ~]# route --version
net-tools 2.10-alpha
+NEW_ADDRT +RTF_IRTT +RTF_REJECT +I18N +SELINUX
AF: (inet) +UNIX +INET +INET6 +IPX +AX25 +NETROM +X25 +ATALK +ECONET +ROSE -BLUETOOTH
HW: +ETHER +ARC +SLIP +PPP +TUNNEL -TR +AX25 +NETROM +X25 +FR +ROSE +ASH +SIT +FDDI +HIPPI +HDLC/LAPB +EUI64</code></pre> 
<p>yum install -y net-tools<br> route --version</p> 
<p>route-n 使用-n参数查看路由明细，当然不用参数也可以查看，-n表示不解析主机名。</p> 
<p>使用add参数添加路由，可以添加一个网段也可以添加一个主机路由。</p> 
<p>route add -net 192.168.122.0/24 gw 192.168.0.166</p> 
<p>route add -net 192.168.122.0/24 dev eth0</p> 
<p>使用del参数删除一段或者一个主机路由。</p> 
<p>route del -net 192.168.122.0/24</p> 
<h4 id="heading-7">添加一个主机路由</h4> 
<p>route add -host 192.168.122.1 gw 192.168.0.166</p> 
<p>使用reject参数表示拒绝路由，用于访问安全控制，禁止主机访问明确不安全或者无权访问的主机。添加后查看路由表，状态为叹号，表示禁止访问，优先普通路由策略。</p> 
<p>route add -host 192.168.122.1 reject</p> 
<p>使用del default gw删除默认网关。</p> 
<p>route del default gw 192.168.0.1</p> 
<p>使用add default gw添加默认网关。</p> 
<p>route add default gw 192.168.0.1</p> 
<h4 id="heading-13">参数说明</h4> 
<table><thead><tr><th>参数选项</th><th>参数说明</th></tr></thead><tbody><tr><td>-n</td><td>直接使用 IP 地址，不进行 DNS 解析主机</td></tr><tr><td>-ee</td><td>显示更详细的路由信息</td></tr><tr><td>add</td><td>添加路由信息</td></tr><tr><td>del</td><td>删除路由信息</td></tr><tr><td>target</td><td>指定目标网络或主机。可以用 IP 地址或主机/网络名</td></tr><tr><td>-net</td><td>到一个网络的路由，后面接的是一个网络号地址</td></tr><tr><td>-host</td><td>到一个主机的路由，后面接的是一个主机地址</td></tr><tr><td>netmask NM</td><td>为添加的路由指定网络掩码，NM表示掩码地址，如255.255.255.0</td></tr><tr><td>gw GW</td><td>为发往目标网络/主机的任何分组指定网关</td></tr><tr><td>dev lf</td><td>指定由哪个网络设备出去，后面接网络设备名，如 etho 等</td></tr></tbody></table> 
<h4 id="heading-14">Flags路由标记信息</h4> 
<table><thead><tr><th>Flags标记</th><th>标记说明</th></tr></thead><tbody><tr><td>U(route is up)</td><td>表示此路由当前为启动状态</td></tr><tr><td>H(target is a host)</td><td>目标路由是一个主机(IP)而非网络</td></tr><tr><td>R(reinstate route for dynamic routing):</td><td>使用动态路由时，恢复路由信息标识</td></tr><tr><td>G(use gateway)</td><td>表示需要通过外部的主机(gateway)来转接传递数据</td></tr><tr><td>M(modified from routing daemon or redirect)</td><td>表示路由已经被修改了</td></tr><tr><td>D(dynamically installed by daemon or redirect)</td><td>已经服务设定为动态路由</td></tr><tr><td>!(reject route )</td><td>这个路由将不会被接受( 用来抵挡不安全的网络)</td></tr></tbody></table> 
<p><a name="_label3"></a></p> 
<h3 id="heading-15">静态路由永久配置方式</h3> 
<p>我们使用route命令配置的路由都是临时生效，在网卡重启或者系统重启后配置失效，如果我们需要配置永久静态路由可以使用如下几种方式。</p> 
<p>方式一：</p> 
<pre><code class="language-bash">vi /etc/sysconfig/network-scripts/route-eth0 #&lt;==默认不存在此文件
加入如下内容
192.168.1.0/24 via 10.0.0.254</code></pre> 
<p>方式二：</p> 
<pre><code class="language-bash">vi /etc/sysconfig/static-routes #&lt;==默认不存在此文件

加入如下内容

any net 192.168.1.0/24 gw 10.0.0.254</code></pre> 
<p></p> 
<p>方式三：</p> 
<pre><code class="language-bash">vi /etc/rc.local

加入如下内容

route add -net 192.168.1.0/24 gw 10.0.0.254</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p>参考：<a href="https://www.jb51.net/jiaoben/303329ip9.htm" rel="nofollow" title="Linux命令之网络命令route详解_linux shell_脚本之家">Linux命令之网络命令route详解_linux shell_脚本之家</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3bedc332c123e3883728cf2e9e661e3b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件测评中心▏性能测试之压力测试、负载测试的区别和联系简析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c09e720177e8fafeda1c4c6611a78a15/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">青铜到王者，9本最好的Python从入门到进阶的书！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>