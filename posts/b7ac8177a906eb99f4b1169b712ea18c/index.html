<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C语言】一些库函数的介绍 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【C语言】一些库函数的介绍" />
<meta property="og:description" content="一些较为常见的库函数 0.前言1.求字符串长度strlen 2. 长度不受限制的字符串函数strcpystrcatstrcmp 3. 长度受限制的字符串函数介绍strncpystrncatstrncmp 4. 字符串查找strstr 5. 字符串截断strtok 6. 错误信息报告strerror 字符操作is****7. 内存操作函数7.1 memcpy7.2 memmove7.3 memcmp7.4 memset 0.前言 如果觉得这篇博客不错的话，点个赞再走吧😊
这篇博客主要讲的是一些较为常见且实用的字符串函数。
C语言中对字符和字符串的处理很是频繁，但是C语言本身是没有字符串类型的，字符串通常放在常量字符串中或者字符数组中。
字符串常量 适用于那些对它不做修改的字符串函数.
int main() { //字符数组 char arr[] = &#34;asdfghh&#34;; //常量字符串 char* p = &#34;asdfghh&#34;; return 0; } 1.求字符串长度 strlen 1.1 函数介绍
strlen
size_t strlen ( const char * str ); 这个函数非常常见，就是求一下字符串的长度。
从第一个字符开始计数，只要找到’\0’就停止计数。
int main() { char arr[] = &#34;abcd&#34;; printf(&#34;%d\n&#34;, strlen(arr));//结果为4 return 0; } 1.2 注意事项" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b7ac8177a906eb99f4b1169b712ea18c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-04T11:58:33+08:00" />
<meta property="article:modified_time" content="2023-04-04T11:58:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C语言】一些库函数的介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>一些较为常见的库函数</h4> 
 <ul><li><ul><li><a href="#0_1" rel="nofollow">0.前言</a></li><li><a href="#1_21" rel="nofollow">1.求字符串长度</a></li><li><ul><li><a href="#strlen_22" rel="nofollow">strlen</a></li></ul> 
   </li><li><a href="#2__114" rel="nofollow">2. 长度不受限制的字符串函数</a></li><li><ul><li><a href="#strcpy_115" rel="nofollow">strcpy</a></li><li><a href="#strcat_174" rel="nofollow">strcat</a></li><li><a href="#strcmp_239" rel="nofollow">strcmp</a></li></ul> 
   </li><li><a href="#3__301" rel="nofollow">3. 长度受限制的字符串函数介绍</a></li><li><ul><li><a href="#strncpy_302" rel="nofollow">strncpy</a></li><li><a href="#strncat_323" rel="nofollow">strncat</a></li><li><a href="#strncmp_346" rel="nofollow">strncmp</a></li></ul> 
   </li><li><a href="#4__360" rel="nofollow">4. 字符串查找</a></li><li><ul><li><a href="#strstr_361" rel="nofollow">strstr</a></li></ul> 
   </li><li><a href="#5__422" rel="nofollow">5. 字符串截断</a></li><li><ul><li><a href="#strtok_423" rel="nofollow">strtok</a></li></ul> 
   </li><li><a href="#6__446" rel="nofollow">6. 错误信息报告</a></li><li><ul><li><a href="#strerror_447" rel="nofollow">strerror</a></li></ul> 
   </li><li><a href="#_465" rel="nofollow">字符操作</a></li><li><a href="#is_466" rel="nofollow">is****</a></li><li><a href="#7__486" rel="nofollow">7. 内存操作函数</a></li><li><ul><li><a href="#71_memcpy_487" rel="nofollow">7.1 memcpy</a></li><li><a href="#72_memmove_538" rel="nofollow">7.2 memmove</a></li><li><a href="#73_memcmp_588" rel="nofollow">7.3 memcmp</a></li><li><a href="#74_memset_603" rel="nofollow">7.4 memset</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="0_1"></a>0.前言</h3> 
<p>如果觉得这篇博客不错的话，点个赞再走吧😊</p> 
<p>这篇博客主要讲的是一些较为常见且实用的字符串函数。</p> 
<p>C语言中对字符和字符串的处理很是频繁，但是C语言本身是没有字符串类型的，字符串通常放在<strong>常量字符串</strong>中或者<strong>字符数组</strong>中。</p> 
<p>字符串常量 适用于那些对它不做修改的字符串函数.</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//字符数组</span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asdfghh"</span><span class="token punctuation">;</span>
	<span class="token comment">//常量字符串</span>
	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token string">"asdfghh"</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="1_21"></a>1.求字符串长度</h3> 
<h4><a id="strlen_22"></a>strlen</h4> 
<p>1.1 函数介绍</p> 
<blockquote> 
 <p><strong>strlen</strong></p> 
</blockquote> 
<pre><code class="prism language-c">size_t strlen <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数非常常见，就是求一下字符串的长度。<br> 从第一个字符开始计数，只要找到’\0’就停止计数。</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcd"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果为4</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>1.2 注意事项</p> 
<ol><li>字符串已经 ‘\0’ 作为结束标志，strlen函数返回的是在字符串中 ‘\0’ 前面出现的字符个数（不包含 ‘\0’ )</li><li>参数指向的字符串必须要以 ‘\0’ 结束</li><li>注意函数的返回值为size_t，是无符号的（ 易错 )</li></ol> 
<p>1.3 经典例子<br> <strong>例一: 注意函数的返回值为size_t，是无符号的（ 易错 )</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str1 <span class="token operator">=</span> <span class="token string">"abcdef"</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span>str2 <span class="token operator">=</span> <span class="token string">"bbb"</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">strlen</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"str2&gt;str1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"srt1&gt;str2\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这里打印出来的是str2 &gt; str1,因为虽然str1的长度为6,str2的长度为3,但是strlen函数返回值为size_t类型的,也就是无符号数,所以在比较的时候补码转换出来的数是3 &gt; 6的,结果也就跟我们平常相像中的不一样。</p> 
<p><strong>例二：参数指向的字符串必须要以 ‘\0’ 结束</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印一个未知数</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打印3</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上面arr1的字符串数组没有’\0’，所以strlen当找到字符c之后找不到’\0’，就会在内存中继续寻找，直到在内存中找到了’\0’。这时候结果就是一个未知数。</p> 
<p><strong>例三：字符串已经 ‘\0’ 作为结束标志，strlen函数返回的是在字符串中 ‘\0’ 前面出现的字符个数（不包含 ‘\0’ )</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"qwert \0awer"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果是6而不是11</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>1.4 模拟实现</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这是断言str不为空指针</span>

	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"awedf"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2__114"></a>2. 长度不受限制的字符串函数</h3> 
<h4><a id="strcpy_115"></a>strcpy</h4> 
<p>2.1.1 函数介绍<br> 字符串拷贝函数</p> 
<blockquote> 
 <p>strcpy</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> source <span class="token punctuation">)</span>
</code></pre> 
<p>字符串是不能用等号直接赋值的，所以得要用strcpy这个函数。</p> 
<p>这个函数将source这个字符串拷贝到了destination这个字符串中。并且会将’\0’拷到其中。</p> 
<p>2.2.1 注意事项</p> 
<ol><li>源字符串必须以 ‘\0’ 结束。</li><li>会将源字符串中的 ‘\0’ 拷贝到目标空间。</li><li>目标空间必须足够大，以确保能存放源字符串。</li><li>目标空间必须可变</li></ol> 
<p>2.3.1 经典例子<br> <strong>例一：会将源字符串中的 ‘\0’ 拷贝到目标空间。</strong><br> <img src="https://images2.imgbox.com/11/df/0Hd6ZG8R_o.png" alt="在这里插入图片描述"><br> <strong>例二：源字符串必须以 ‘\0’ 结束。</strong><br> <img src="https://images2.imgbox.com/5f/49/i59zd7Cf_o.png" alt="在这里插入图片描述"><br> <strong>例三：目标空间必须足够大，以确保能存放源字符串。</strong><br> <img src="https://images2.imgbox.com/83/83/5A6unjZU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/85/84/c0ugMQRI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/44/ff/aPtv1PVp_o.png" alt="在这里插入图片描述"><br> 这样的代码运行起来会直接崩掉。但是编译器还是会将长的字符串拷贝到短的字符串中。</p> 
<p><strong>例四：destination必须可变</strong><br> <img src="https://images2.imgbox.com/08/18/Q7deAoWf_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fd/60/58KCcYmn_o.png" alt="在这里插入图片描述"><br> 这样也会崩掉，因为常量字符串是无法被修改的。</p> 
<p>2.4.1 模拟实现</p> 
<pre><code class="prism language-c"><span class="token comment">//函数的返回值为目标空间的起始地址</span>
<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> source<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>destination <span class="token operator">&amp;&amp;</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">char</span><span class="token operator">*</span> res <span class="token operator">=</span> destination<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>destination<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>source<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asqwerref"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asdf"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这里可以将返回值给void，如果这样的话打印的时候就不能跟上面一样了，就只能打印arr1。</p> 
<h4><a id="strcat_174"></a>strcat</h4> 
<p>2.1.2 函数介绍<br> 字符串追加函数</p> 
<blockquote> 
 <p>strcat</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strcat <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> source <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数将source字符串的内容追加到了destination的后面。也会将’\0’放到最后。<br> <img src="https://images2.imgbox.com/25/72/pdy3A8Wf_o.png" alt="在这里插入图片描述"></p> 
<p>2.2.2 注意事项</p> 
<ol><li>源字符串必须以 ‘\0’ 结束。</li><li>目标空间必须有足够的大，能容纳下源字符串的内容。</li><li>目标空间必须可修改。</li><li>自己给自己追加字符串</li></ol> 
<p>2.3.2 经典例子<br> <strong>例一：源字符串必须以 ‘\0’ 结束。</strong><br> <img src="https://images2.imgbox.com/34/52/sByx5KVb_o.png" alt="在这里插入图片描述"></p> 
<p><strong>例二：目标空间必须有足够的大，能容纳下源字符串的内容。</strong><br> <img src="https://images2.imgbox.com/40/5f/7iY9GeIk_o.png" alt="在这里插入图片描述"><br> 跟上面的strcpy一样，也会崩掉。</p> 
<p>例三：目标空间必须可修改。<br> <img src="https://images2.imgbox.com/05/6b/GpyZNKkK_o.png" alt="在这里插入图片描述"><br> 也跟strcpy一样。</p> 
<p>例四：自己给自己追加字符串<br> <img src="https://images2.imgbox.com/cd/1c/zESkBwFE_o.png" alt="在这里插入图片描述"><br> 程序会崩掉，原因如下：<br> <img src="https://images2.imgbox.com/65/3c/v7EtcN77_o.png" alt="在这里插入图片描述"></p> 
<p>2.4.2 模拟实现</p> 
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> source<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>destination <span class="token operator">&amp;&amp;</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//返回目标空间的地址</span>
	<span class="token keyword">char</span><span class="token operator">*</span> res <span class="token operator">=</span> destination<span class="token punctuation">;</span>
	<span class="token comment">//找到目标空间中的\0</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>destination<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		destination<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//追加</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>destination<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>source<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"bad"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"asdf"</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">my_strcat</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="strcmp_239"></a>strcmp</h4> 
<p>2.1.3 函数介绍<br> 字符串对比函数</p> 
<blockquote> 
 <p>strcmp</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">int</span> strcmp <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str2 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/3f/Bz6MxDcf_o.png" alt="在这里插入图片描述"><br> 这里二者对比的时候比的是每一个的字符的大小，如果第一个字符相等，则继续往后比，直到不相等或者同时到了\0为止。如果前一个字符比后一个字符大，返回大于零的数，小则返回小于零的数。</p> 
<p>2.2.3 注意事项</p> 
<ol><li>第一个字符串大于第二个字符串，则返回大于0的数字</li><li>第一个字符串等于第二个字符串，则返回0</li><li>第一个字符串小于第二个字符串，则返回小于0的数字</li></ol> 
<p>2.3.3 经典例子<br> 小于<br> <img src="https://images2.imgbox.com/4d/b0/GVTrhK8q_o.png" alt="在这里插入图片描述"><br> 这里a和b先比，直接出结果，a的ASCII比b小就返回小于0的数。</p> 
<p>相等<br> <img src="https://images2.imgbox.com/ba/4c/kbDjDN3Z_o.png" alt="在这里插入图片描述"></p> 
<p>2.4.3 模拟实现</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>str1 <span class="token operator">&amp;&amp;</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token operator">*</span>str2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//二者是否同时到达\0</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str1 <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		str1<span class="token operator">++</span><span class="token punctuation">;</span>
		str2<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//这里标准规定是返回大于或小于0的数，没有说一定要返回-1或者1</span>
	<span class="token keyword">return</span> <span class="token operator">*</span>str1 <span class="token operator">-</span> <span class="token operator">*</span>str2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcedf"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"cbcedf"</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="3__301"></a>3. 长度受限制的字符串函数介绍</h3> 
<h4><a id="strncpy_302"></a>strncpy</h4> 
<p>3.1.1 函数介绍</p> 
<blockquote> 
 <p>strncpy</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strncpy <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3.2.1 注意事项</p> 
<ol><li>拷贝num个字符从源字符串到目标空间。</li><li>如果源字符串的长度小于num，则拷贝完源字符串之后，在目标的后边追加0，直到num个。</li></ol> 
<p>3.3.1 经典例子<br> <strong>例一：拷贝num个字符从源字符串到目标空间。</strong></p> 
<p><img src="https://images2.imgbox.com/e5/98/P8QVEZUl_o.png" alt="在这里插入图片描述"></p> 
<p><strong>例二：如果源字符串的长度小于num，则拷贝完源字符串之后，在目标的后边追加0，直到num个。</strong><br> <img src="https://images2.imgbox.com/dd/06/rzjluQLW_o.png" alt="在这里插入图片描述"><br> 这里拷贝6个字符，因为arr2只有bnm\0,所以拷贝时会再加两个\0。</p> 
<h4><a id="strncat_323"></a>strncat</h4> 
<p>3.1.2 函数介绍</p> 
<blockquote> 
 <p>strncat</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strncat <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3.2.2 注意事项</p> 
<ol><li>追加的时候先找destination的\0，然后再追加</li><li>追加n个字符，并且会在最后加上\0</li><li>n若大于source长度，则追加时只会加一个\0，然后就不再追加。</li></ol> 
<p>3.3.2 经典例子<br> <strong>例一：追加的时候先找destination的\0，然后再追加</strong><br> <img src="https://images2.imgbox.com/86/6b/I1p7vxhR_o.png" alt="在这里插入图片描述"><br> <strong>例二：追加n个字符，并且会在最后加上\0</strong><br> <img src="https://images2.imgbox.com/20/59/Ru4EoOhY_o.png" alt="在这里插入图片描述"><br> <strong>例三：n若大于source长度，则追加时只会加一个\0，然后就不再追加。</strong><br> <img src="https://images2.imgbox.com/17/d4/nAaasUFz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="strncmp_346"></a>strncmp</h4> 
<p>3.1.3 函数介绍</p> 
<blockquote> 
 <p>strncmp</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">int</span> strncmp <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str2<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>3.2.3 注意事项<br> 于strcmp一样，只不过比较的长度规定了<br> 3.3.3 经典例子<br> <img src="https://images2.imgbox.com/ad/a3/yVGWkV9T_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/00/96/fbIfBUwn_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4__360"></a>4. 字符串查找</h3> 
<h4><a id="strstr_361"></a>strstr</h4> 
<p>4.1 函数介绍</p> 
<blockquote> 
 <p>strstr</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strstr <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数是用来找str1中str2第一次出现的位置，并返回出现位置的首字符的地址。如果没找到，则返回NULL。</p> 
<p><img src="https://images2.imgbox.com/7b/ae/3V1Xj5Xx_o.png" alt="在这里插入图片描述"></p> 
<p>4.2 模拟实现</p> 
<pre><code class="prism language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strstr</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span><span class="token operator">*</span> s1 <span class="token operator">=</span> str1<span class="token punctuation">;</span>
	<span class="token keyword">char</span><span class="token operator">*</span> s2 <span class="token operator">=</span> str2<span class="token punctuation">;</span>

	<span class="token keyword">char</span><span class="token operator">*</span> src <span class="token operator">=</span> str1<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//每次记住str1内部找的首元素</span>
		s1 <span class="token operator">=</span> src<span class="token punctuation">;</span>
		<span class="token comment">//如果首字符相等了</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s1 <span class="token operator">==</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			s1<span class="token operator">++</span><span class="token punctuation">;</span>
			s2<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token comment">//每个字符都判断一次</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>s1 <span class="token operator">==</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				s1<span class="token operator">++</span><span class="token punctuation">;</span>
				s2<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//除了循环之后无非两种情况</span>
			<span class="token comment">//第一种就是匹配成功就返回了字符串中的首位置</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>s2 <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span> src<span class="token punctuation">;</span>
			<span class="token comment">//第二种就是匹配失败</span>
			<span class="token keyword">else</span>
				s2 <span class="token operator">=</span> str2<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//到这里就是某一趟没找到，就要将str1回溯到匹配的首字符的下一个位置</span>
		src<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//到这就是str1都走完了还没找到</span>
	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcdefgh"</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> arr2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"bcd"</span><span class="token punctuation">;</span>

	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">my_strstr</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="5__422"></a>5. 字符串截断</h3> 
<h4><a id="strtok_423"></a>strtok</h4> 
<p>5.1 函数介绍</p> 
<blockquote> 
 <p>strtok</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strtok <span class="token punctuation">(</span> <span class="token keyword">char</span> <span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> sep <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol><li>sep参数是个字符串，定义了用作分隔符的字符集合</li><li>str指定一个字符串，它包含了0个或者多个由sep字符串中一个或者多个分隔符分割的标记。</li><li>strtok函数找到str中的下一个标记，并将其用 \0 结尾，返回一个指向这个标记的指针。（注：strtok函数会改变被操作的字符串，所以在使用strtok函数切分的字符串一般都是临时拷贝的内容并且可修改。）</li><li>strtok函数的第一个参数不为 NULL ，函数将找到str中第一个标记，strtok函数将保存它在字符串中的位置。</li><li>strtok函数的第一个参数为 NULL ，函数将在同一个字符串中被保存的位置开始，查找下一个标记。</li><li>如果字符串中不存在更多的标记，则返回 NULL 指针。</li></ol> 
<p>5.2 使用示例</p> 
<p><img src="https://images2.imgbox.com/f2/3e/V0JuD42T_o.png" alt="在这里插入图片描述"><br> 但是一般不这么用，这样用起来太麻烦了。<br> 方便一点的是下面这种方式。<br> <img src="https://images2.imgbox.com/b4/93/djsNT0ao_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6__446"></a>6. 错误信息报告</h3> 
<h4><a id="strerror_447"></a>strerror</h4> 
<p>6.1 函数介绍</p> 
<blockquote> 
 <p>strerror</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token operator">*</span> strerror <span class="token punctuation">(</span> <span class="token keyword">int</span> errnum <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数会返回错误码(errnum)所对应的错误信息的首字符的地址。</p> 
<p>每一个数字对应一个错误信息。<br> 看例子：<br> <img src="https://images2.imgbox.com/99/db/3G4yGCFU_o.png" alt="在这里插入图片描述"><br> C语言库函数调用失败的时候，会将失败的错误码放在errno这个变量中。<br> 当我们想要知道调用库函数的时候发生了什么错误，就可以将errno中的错误码转换为错误信息。<br> errno的头文件就是errno.h<br> 比如说：<br> <img src="https://images2.imgbox.com/15/88/zYT8YnML_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_465"></a>字符操作</h3> 
<h3><a id="is_466"></a>is****</h3> 
<p>下面的这些函数都是判断某一个字符是什么的函数</p> 
<blockquote> 
 <p>iscntrl 任何控制字符<br> isspace 空白字符：空格‘ ’，换页‘\f’，换行’\n’，回车‘\r’，制表符’\t’或者垂直制表符’\v’<br> isdigit 十进制数字 0~9<br> isxdigit 十六进制数字，包括所有十进制数字，小写字母a<sub>f，大写字母A</sub>F<br> islower 小写字母a~z<br> isupper 大写字母A~Z<br> isalpha 字母a<sub>z或A</sub>Z<br> isalnum 字母或者数字，a<sub>z,A</sub>Z,0~9<br> ispunct 标点符号，任何不属于数字或者字母的图形字符（可打印）<br> isgraph 任何图形字符<br> isprint 任何可打印字符，包括图形字符和空白字符</p> 
</blockquote> 
<p>这些函数有什么用呢？<br> 就拿大写字母转小写来说吧：<br> <img src="https://images2.imgbox.com/eb/4d/mjemCPFN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7__486"></a>7. 内存操作函数</h3> 
<h4><a id="71_memcpy_487"></a>7.1 memcpy</h4> 
<p>1.1 函数介绍</p> 
<blockquote> 
 <p>memcpy</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> memcpy <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol><li>函数memcpy从source的位置开始向后复制num个字节的数据到destination的内存位置。</li><li>这个函数在遇到 ‘\0’ 的时候并不会停下来。</li><li>如果source和destination有任何的重叠，复制的结果都是未定义的。</li></ol> 
<p>1.2 函数示例<br> 普通示例：<br> <img src="https://images2.imgbox.com/42/d3/wzneYNxn_o.png" alt="在这里插入图片描述"></p> 
<p>1.3 模拟实现<br> 我们再来看一下这个函数的参数：</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> memcpy <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这两个参数的类型都是void*的，为什么这么设计呢？<br> 因为void*可以接收任何类型的指针，所以当你想使用这个函数的时候，就不需要纠结传参的类型了。但是void*的指针也有一个缺点，就是不能直接解引用。那么如何解决这个问题呢？<br> 我们还可以看到，第三个参数是需要拷贝的字节大小，num个字节挨个复制，结合前面所学，我们就可以知道，只需要将两个指针强制类型转换为char*类型即可。</p> 
<p>下面我们就来模拟实现一下。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> src<span class="token punctuation">,</span> size_t count<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//返回目标空间的首地址</span>
	<span class="token keyword">void</span><span class="token operator">*</span> ret <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token comment">//count个字节要复制</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//拷贝</span>
		<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
		<span class="token comment">//拷贝一次就往后挪</span>
		dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//返回目标空间首地址</span>
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>但是如果我们想要自己拷贝自己的话，就不能这样用了，因为有内存重叠的部分。<img src="https://images2.imgbox.com/7e/2d/mytK97q9_o.png" alt="在这里插入图片描述"></p> 
<p>那么这时候就要用到memmove了。</p> 
<h4><a id="72_memmove_538"></a>7.2 memmove</h4> 
<p>2.1 函数介绍</p> 
<blockquote> 
 <p>memmove</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token operator">*</span> memmove <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol><li>和memcpy的差别就是memmove函数处理的源内存块和目标内存块是可以重叠的。</li><li>如果源空间和目标空间出现重叠，就得使用memmove函数处理。</li></ol> 
<p><img src="https://images2.imgbox.com/2e/7d/x5ujfOHf_o.png" alt="在这里插入图片描述"></p> 
<p>这样的话就不会出现循环的情况。</p> 
<p>2.2 模拟实现</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">my_memmove</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> src<span class="token punctuation">,</span> size_t count<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>dest <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span><span class="token operator">*</span> ret <span class="token operator">=</span> dest<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>dest <span class="token operator">&gt;</span> src<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//如果dest&gt;src就得从后往前拷贝</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> count<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">//dest&gt;src就得从前往后拷贝</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token punctuation">;</span>
			dest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dest <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
			src <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>结果就是这样的：<br> 从后往前拷贝：<br> <img src="https://images2.imgbox.com/10/30/WBJ9L8Ha_o.png" alt="在这里插入图片描述"><br> 从前往后拷贝：<br> <img src="https://images2.imgbox.com/86/0a/q3r9jlNX_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="73_memcmp_588"></a>7.3 memcmp</h4> 
<p>3.1 函数介绍</p> 
<blockquote> 
 <p>memcmp</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">int</span> memcmp <span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr2<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数和strncmp对比的方式是一样的，只不过是可以用别的类型来进行对比，num就是比较的字节数。<br> 这里就直接上例子了：<br> 相同的情况：<br> <img src="https://images2.imgbox.com/d6/75/OsZqxljB_o.png" alt="在这里插入图片描述"><br> 小的情况：<br> <img src="https://images2.imgbox.com/18/96/3SDpYLfZ_o.png" alt="在这里插入图片描述"><br> 大的情况：<br> <img src="https://images2.imgbox.com/20/76/7DC5oxOt_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="74_memset_603"></a>7.4 memset</h4> 
<blockquote> 
 <p>memset</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memset</span><span class="token punctuation">(</span> <span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">,</span> size_t count <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个函数就是你给定字节大小(count), 然后从dest开始的地址往后到count的空间的内容改为c。<br> <img src="https://images2.imgbox.com/08/38/DJ85fAt4_o.png" alt="在这里插入图片描述"><br> 这里要注意当我们count可不是元素个数，而是字节数，若记错了会导致意想不到的后果，像这样：</p> 
<p><img src="https://images2.imgbox.com/b9/6f/OZmr1Ieu_o.png" alt="在这里插入图片描述"></p> 
<p>到此结束。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/497f04aabf1fe4398311234a102a7e62/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mysql-binlog的查看</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/00320c13cdcde5ab339e53cb91a1c822/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring Cloud子项目和版本选择</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>