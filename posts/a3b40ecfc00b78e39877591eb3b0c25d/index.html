<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux awk命令的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux awk命令的使用" />
<meta property="og:description" content="awk介绍
1、概述
（1）awk是一种编程语言，主要用于在linux/unix下对文本和数据进行处理，是linux/unix下的一个工具。数据可以来自标准输入、一个或多个文件，或其它命令的输出。
（2）awk的处理文本和数据的方式：逐行扫描文件，默认从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的操作。
（3）awk分别代表其作者姓氏的第一个字母。因为它的作者是三个人，分别是Alfred Aho、Brian Kernighan、Peter Weinberger。
gawk是awk的GNU版本，它提供了Bell实验室和GNU的一些扩展。
（4）下面介绍的awk是以GNU的gawk为例的，在linux系统中已把awk链接到gawk，所以下面全部以awk进行介绍。
2、awk的作用
（1）awk用来处理文件和数据的，是类unix下的一个工具，也是一种编程语言
（2）可以用来统计数据，比如网站的访问量，访问的IP量等等
（3）支持条件判断，支持for和while循环
awk使用方式
1、命令行模式使用
（1）语法结构
awk 选项 &#39;命令部分&#39; 文件名 特别说明：引用shell变量需用双引号引起 （2）常用选项介绍
-F 定义字段分割符号，默认的分隔符是空格 cut -d: -f1 -v 定义变量并赋值 （3）‘命令部分说明’
① 正则表达式，地址定位
&#39;/root/{awk语句}&#39; sed中： &#39;/root/p&#39; &#39;NR==1,NR==5{awk语句}&#39; sed中： &#39;1,5p&#39; &#39;/^root/,/^ftp/{awk语句}&#39; sed中：&#39;/^root/,/^ftp/p&#39; ② {awk语句1;awk语句2;…}
&#39;{print $0;print $1}&#39; sed中：&#39;p&#39; &#39;NR==5{print $0}&#39; sed中：&#39;5p&#39; 注：awk命令语句间用分号间隔 ③ BEGIN…END…
&#39;BEGIN{awk语句};{处理中};END{awk语句}&#39; &#39;BEGIN{awk语句};{处理中}&#39; &#39;{处理中};END{awk语句}&#39; 2、脚本模式使用
（1）脚本编写
#!/bin/awk -f 定义魔法字符 以下是awk引号里的命令清单，不要用引号保护命令，多个命令用分号间隔 BEGIN{FS=&#34;:&#34;} NR==1,NR==3{print $1&#34;\t&#34;$NF} ... （2）脚本执行
方法1： awk 选项 -f awk的脚本文件 要处理的文本文件 awk -f awk." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a3b40ecfc00b78e39877591eb3b0c25d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-04T15:18:45+08:00" />
<meta property="article:modified_time" content="2022-09-04T15:18:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux awk命令的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>awk介绍</strong><br> 1、概述<br> （1）awk是一种编程语言，主要用于在linux/unix下对文本和数据进行处理，是linux/unix下的一个工具。数据可以来自标准输入、一个或多个文件，或其它命令的输出。<br> （2）awk的处理文本和数据的方式：逐行扫描文件，默认从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的操作。<br> （3）awk分别代表其作者姓氏的第一个字母。因为它的作者是三个人，分别是Alfred Aho、Brian Kernighan、Peter Weinberger。<br> gawk是awk的GNU版本，它提供了Bell实验室和GNU的一些扩展。<br> （4）下面介绍的awk是以GNU的gawk为例的，在linux系统中已把awk链接到gawk，所以下面全部以awk进行介绍。<br> 2、awk的作用<br> （1）awk用来处理文件和数据的，是类unix下的一个工具，也是一种编程语言<br> （2）可以用来统计数据，比如网站的访问量，访问的IP量等等<br> （3）支持条件判断，支持for和while循环<br> <strong>awk使用方式</strong><br> 1、命令行模式使用<br> （1）语法结构</p> 
<pre><code class="prism language-bash"><span class="token function">awk</span> 选项 <span class="token string">'命令部分'</span> 文件名
特别说明：引用shell变量需用双引号引起
</code></pre> 
<p>（2）常用选项介绍</p> 
<pre><code class="prism language-bash">-F 定义字段分割符号，默认的分隔符是空格    <span class="token function">cut</span> -d: -f1
-v 定义变量并赋值
</code></pre> 
<p>（3）‘命令部分说明’<br> ① 正则表达式，地址定位</p> 
<pre><code class="prism language-bash"><span class="token string">'/root/{awk语句}'</span>                sed中： <span class="token string">'/root/p'</span>
<span class="token string">'NR==1,NR==5{awk语句}'</span>           sed中： <span class="token string">'1,5p'</span>
<span class="token string">'/^root/,/^ftp/{awk语句}'</span>        sed中：<span class="token string">'/^root/,/^ftp/p'</span>
</code></pre> 
<p>② {awk语句1;awk语句2;…}</p> 
<pre><code class="prism language-bash"><span class="token string">'{print $0;print $1}'</span>            sed中：<span class="token string">'p'</span>
<span class="token string">'NR==5{print $0}'</span>                sed中：<span class="token string">'5p'</span>
注：awk命令语句间用分号间隔
</code></pre> 
<p>③ BEGIN…END…</p> 
<pre><code class="prism language-bash"><span class="token string">'BEGIN{awk语句};{处理中};END{awk语句}'</span>
<span class="token string">'BEGIN{awk语句};{处理中}'</span>
<span class="token string">'{处理中};END{awk语句}'</span>
</code></pre> 
<p>2、脚本模式使用<br> （1）脚本编写</p> 
<pre><code class="prism language-bash"><span class="token shebang important">#!/bin/awk -f         定义魔法字符</span>
以下是awk引号里的命令清单，不要用引号保护命令，多个命令用分号间隔
BEGIN<span class="token punctuation">{<!-- --></span>FS<span class="token operator">=</span><span class="token string">":"</span><span class="token punctuation">}</span>
<span class="token assign-left variable">NR</span><span class="token operator">==</span><span class="token number">1</span>,NR<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">{<!-- --></span>print <span class="token variable">$1</span><span class="token string">"<span class="token entity" title="\t">\t</span>"</span><span class="token variable">$NF</span><span class="token punctuation">}</span>
<span class="token punctuation">..</span>.
</code></pre> 
<p>（2）脚本执行</p> 
<pre><code class="prism language-bash">方法1：
<span class="token function">awk</span> 选项 -f awk的脚本文件  要处理的文本文件
<span class="token function">awk</span> -f awk.sh filename

<span class="token function">sed</span> -f sed.sh -i filename

方法2：
./awk的脚本文件<span class="token punctuation">(</span>或者绝对路径<span class="token punctuation">)</span>    要处理的文本文件
./awk.sh filename

./sed.sh filename
</code></pre> 
<p><strong>awk内部相关变量</strong></p> 
<table><thead><tr><th>变量</th><th>变量说明</th><th>备注</th></tr></thead><tbody><tr><td>$0</td><td>当前处理行的所有记录</td><td></td></tr><tr><td>$1,$2,$3… $n</td><td>文件中每行以间隔符号分割的不同字段</td><td>awk -F:‘{print $1,$3}’</td></tr><tr><td>NF</td><td>当前记录的字段数（段数）</td><td>awk -F:‘print NF’</td></tr><tr><td>$NF</td><td>最后一列</td><td>$(NF-1)表示倒数第二例</td></tr><tr><td>FNR/NR</td><td>行号</td><td></td></tr><tr><td>FS</td><td>定义间隔符，默认空格</td><td>‘BEGIN{FS=“:”};{print$1,$3}’</td></tr><tr><td>OFS</td><td>定义输出字段分隔符，默认空格</td><td>‘BEGIN{OFS=“\t”};{print $1,$3}’</td></tr><tr><td>RS</td><td>输入记录分割符，默认换行（行结束判断标志）</td><td>‘BEGIN{RS=“\T”};{print $0}’</td></tr><tr><td>ORS</td><td>输出记录分割符，默认换行</td><td>‘BEGIN{ORS=“\n\n”};{print $1,$3}’</td></tr><tr><td>FILENAME</td><td>当前输入的文件名</td><td></td></tr></tbody></table> 
<p>1、常用内置变量举例</p> 
<pre><code class="prism language-bash"><span class="token function">awk</span> -F: <span class="token string">'{print $1,$(NF-1)}'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> -F: <span class="token string">'{print $1,$(NF-1),$NF,NF}'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> <span class="token string">'/root/{print $0}'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> <span class="token string">'/root/'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> -F: <span class="token string">'/root/{print $1,$NF}'</span> <span class="token number">1</span>.txt 
<span class="token function">awk</span> <span class="token string">'NR==1,NR==5'</span> <span class="token number">1</span>.txt 
<span class="token function">awk</span> <span class="token string">'NR==1,NR==5{print $0}'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> <span class="token string">'NR==1,NR==5;/^root/{print $0}'</span> <span class="token number">1</span>.txt 
</code></pre> 
<p>2、内置变量分隔符举例</p> 
<pre><code class="prism language-bash">FS和OFS:
<span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"};/^root/,/^lp/{print $1,$NF}'</span> <span class="token number">1</span>.txt
<span class="token function">awk</span> -F: <span class="token string">'BEGIN{OFS="\t\t"};/^root/,/^lp/{print $1,$NF}'</span> <span class="token number">1</span>.txt        
root            /bin/bash
bin             /sbin/nologin
daemon          /sbin/nologin
adm             /sbin/nologin
lp              /sbin/nologin
<span class="token function">awk</span> -F: <span class="token string">'BEGIN{OFS="@@@"};/^root/,/^lp/{print $1,$NF}'</span> <span class="token number">1</span>.txt     
root@@@/bin/bash
bin@@@/sbin/nologin
daemon@@@/sbin/nologin
adm@@@/sbin/nologin
lp@@@/sbin/nologin
<span class="token punctuation">[</span>root@server shell07<span class="token punctuation">]</span><span class="token comment"># </span>

RS和ORS：
修改源文件前2行增加制表符和内容：
<span class="token function">vim</span> <span class="token number">1</span>.txt
root:x:0:0:root:/root:/bin/bash hello   world
bin:x:1:1:bin:/bin:/sbin/nologin        test1   test2

<span class="token comment"># awk 'BEGIN{RS="\t"};{print $0}' 1.txt</span>
<span class="token comment"># awk 'BEGIN{ORS="\t"};{print $0}' 1.txt</span>
</code></pre> 
<p><strong>awk工作原理</strong></p> 
<pre><code class="prism language-bash"><span class="token function">awk</span> -F: <span class="token string">'{print $1,$3}'</span> /etc/passwd
</code></pre> 
<p>1、awk使用一行作为输入，并将这一行赋给内部变量$0，每一行也可称为一个记录，以换行符(RS)结束<br> 2、每行被间隔符:(默认为空格或制表符)分解成字段(或域)，每个字段存储在已编号的变量中，从$1开始<br> 问：awk如何知道用空格来分隔字段的呢？</p> 
<p>答：因为有一个内部变量FS来确定字段分隔符。初始时，FS赋为空格<br> 3、awk使用print函数打印字段，打印出来的字段会以空格分隔，因为$1,$3之间有一个逗号。逗号比较特殊，它映射为另一个内部变量，称为输出字段分隔符OFS，OFS默认为空格<br> 4、awk处理完一行后，将从文件中获取另一行，并将其存储在$0中，覆盖原来的内容，然后将新的字符串分隔成字段并进行处理。该过程将持续到所有行处理完毕<br> <strong>awk使用进阶</strong><br> 1、格式化输出print和printf</p> 
<pre><code class="prism language-bash">print函数        类似echo <span class="token string">"hello world"</span>
<span class="token comment"># date |awk '{print "Month: "$2 "\nYear: "$NF}'</span>
<span class="token comment"># awk -F: '{print "username is: " $1 "\t uid is: "$3}' /etc/passwd</span>


printf函数        类似echo -n
<span class="token comment"># awk -F: '{printf "%-15s %-10s %-15s\n", $1,$2,$3}'  /etc/passwd</span>
<span class="token comment"># awk -F: '{printf "|%15s| %10s| %15s|\n", $1,$2,$3}' /etc/passwd</span>
<span class="token comment"># awk -F: '{printf "|%-15s| %-10s| %-15s|\n", $1,$2,$3}' /etc/passwd</span>

<span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"};{printf "%-15s %-15s %-15s\n",$1,$6,$NF}'</span> a.txt

%s 字符类型  strings            %-20s
%d 数值类型    
占15字符
- 表示左对齐，默认是右对齐
printf默认不会在行尾自动换行，加<span class="token punctuation">\</span>n
</code></pre> 
<p>2、awk变量定义</p> 
<pre><code class="prism language-bash"><span class="token comment"># awk -v NUM=3 -F: '{ print $NUM }' /etc/passwd</span>
<span class="token comment"># awk -v NUM=3 -F: '{ print NUM }' /etc/passwd</span>
<span class="token comment"># awk -v num=1 'BEGIN{print num}' </span>
<span class="token number">1</span>
<span class="token comment"># awk -v num=1 'BEGIN{print $num}' </span>
注意：
awk中调用定义的变量不需要加$
</code></pre> 
<p>3、awk中BEGIN…END使用<br> ①BEGIN：表示在程序开始前执行<br> ②END ：表示所有文件处理完后执行<br> ③用法：‘BEGIN{开始处理之前};{处理中};END{处理结束后}’<br> 4、awk和正则的综合运用</p> 
<table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td>==</td><td>等于</td></tr><tr><td>!=</td><td>不等于</td></tr><tr><td>&gt;</td><td>大于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>~</td><td>匹配</td></tr><tr><td>!~</td><td>不匹配</td></tr><tr><td>!</td><td>逻辑非</td></tr><tr><td>&amp;&amp;</td><td>逻辑与</td></tr><tr><td>\</td><td>逻辑或</td></tr></tbody></table> 
<p>5、awk的脚本编程<br> （1）流程控制语句<br> ① if结构</p> 
<pre><code class="prism language-bash">if语句：

<span class="token keyword">if</span> <span class="token punctuation">[</span> xxx <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
xxx
<span class="token keyword">fi</span>

格式：
<span class="token function">awk</span> 选项 <span class="token string">'正则，地址定位{awk语句}'</span>  文件名

<span class="token punctuation">{<!-- --></span> if<span class="token punctuation">(</span>表达式<span class="token punctuation">)</span>｛语句1<span class="token punctuation">;</span>语句2<span class="token punctuation">;</span><span class="token punctuation">..</span>.｝<span class="token punctuation">}</span>

<span class="token function">awk</span> -F: <span class="token string">'{if($3&gt;=500 &amp;&amp; $3&lt;=60000) {print $1,$3} }'</span> <span class="token function">passwd</span>

<span class="token comment"># awk -F: '{if($3==0) {print $1"是管理员"} }' passwd </span>
root是管理员

<span class="token comment"># awk 'BEGIN{if('$(id -u)'==0) {print "admin"} }'</span>
admin
</code></pre> 
<p>② if…else结构</p> 
<pre><code class="prism language-bash">if<span class="token punctuation">..</span>.else语句:
<span class="token keyword">if</span> <span class="token punctuation">[</span> xxx <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    xxxxx

<span class="token keyword">else</span>
    xxx
<span class="token keyword">fi</span>

格式：
<span class="token punctuation">{<!-- --></span>if<span class="token punctuation">(</span>表达式<span class="token punctuation">)</span>｛语句<span class="token punctuation">;</span>语句<span class="token punctuation">;</span><span class="token punctuation">..</span>.｝else｛语句<span class="token punctuation">;</span>语句<span class="token punctuation">;</span><span class="token punctuation">..</span>.<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token function">awk</span> -F: <span class="token string">'{ if($3&gt;=500 &amp;&amp; $3 != 65534) {print $1"是普通用户"} else {print $1,"不是普通用户"}}'</span> <span class="token function">passwd</span> 

<span class="token function">awk</span> <span class="token string">'BEGIN{if( '</span><span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> -u<span class="token variable">)</span></span><span class="token string">'&gt;=500 &amp;&amp; '</span><span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> -u<span class="token variable">)</span></span><span class="token string">' !=65534 ) {print "是普通用户"} else {print "不是普通用户"}}'</span>
</code></pre> 
<p>③ if…elif…else结构</p> 
<pre><code class="prism language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span>xxxx<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    xxxx
<span class="token keyword">elif</span> <span class="token punctuation">[</span>xxx<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    xxx
<span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token keyword">else</span>
<span class="token punctuation">..</span>.
<span class="token keyword">fi</span>


if<span class="token punctuation">..</span>.else if<span class="token punctuation">..</span>.else语句：

格式：
<span class="token punctuation">{<!-- --></span> if<span class="token punctuation">(</span>表达式1<span class="token punctuation">)</span>｛语句<span class="token punctuation">;</span>语句；<span class="token punctuation">..</span>.｝else if<span class="token punctuation">(</span>表达式2<span class="token punctuation">)</span>｛语句<span class="token punctuation">;</span>语句；<span class="token punctuation">..</span>.｝else if<span class="token punctuation">(</span>表达式3<span class="token punctuation">)</span>｛语句<span class="token punctuation">;</span>语句；<span class="token punctuation">..</span>.｝else｛语句<span class="token punctuation">;</span>语句；<span class="token punctuation">..</span>.｝<span class="token punctuation">}</span>
</code></pre> 
<p>（2）循环语句<br> ① for循环</p> 
<pre><code class="prism language-bash">打印1~5
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span><span class="token keyword">done</span>

<span class="token comment"># awk 'BEGIN { for(i=1;i&lt;=5;i++) {print i} }'</span>
打印1~10中的奇数
<span class="token comment"># for ((i=1;i&lt;=10;i+=2));do echo $i;done|awk '{sum+=$0};END{print sum}'</span>
<span class="token comment"># awk 'BEGIN{ for(i=1;i&lt;=10;i+=2) {print i} }'</span>
<span class="token comment"># awk 'BEGIN{ for(i=1;i&lt;=10;i+=2) print i }'</span>

计算1-5的和
<span class="token comment"># awk 'BEGIN{sum=0;for(i=1;i&lt;=5;i++) sum+=i;print sum}'</span>
<span class="token comment"># awk 'BEGIN{for(i=1;i&lt;=5;i++) (sum+=i);{print sum}}'</span>
<span class="token comment"># awk 'BEGIN{for(i=1;i&lt;=5;i++) (sum+=i);print sum}'</span>
</code></pre> 
<p>② while循环</p> 
<pre><code class="prism language-bash">打印1-5
<span class="token comment"># i=1;while (($i&lt;=5));do echo $i;let i++;done</span>

<span class="token comment"># awk 'BEGIN { i=1;while(i&lt;=5) {print i;i++} }'</span>
打印1~10中的奇数
<span class="token comment"># awk 'BEGIN{i=1;while(i&lt;=10) {print i;i+=2} }'</span>
计算1-5的和
<span class="token comment"># awk 'BEGIN{i=1;sum=0;while(i&lt;=5) {sum+=i;i++}; print sum }'</span>
<span class="token comment"># awk 'BEGIN {i=1;while(i&lt;=5) {(sum+=i) i++};print sum }'</span>
</code></pre> 
<p>③ 嵌套循环</p> 
<pre><code class="prism language-bash">嵌套循环：
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>y<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>y<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>y<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>x<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>x<span class="token operator">&lt;=</span>$y<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">))</span></span>
    <span class="token keyword">do</span>
        <span class="token builtin class-name">echo</span> -n <span class="token variable">$x</span>    
    <span class="token keyword">done</span>
<span class="token builtin class-name">echo</span>
<span class="token keyword">done</span>

<span class="token function">awk</span> <span class="token string">'BEGIN{ for(y=1;y&lt;=5;y++) {for(x=1;x&lt;=y;x++) {printf x} ;print } }'</span>
尝试用三种方法打印99口诀表：
<span class="token comment">#awk 'BEGIN{for(y=1;y&lt;=9;y++) { for(x=1;x&lt;=y;x++) {printf x"*"y"="x*y"\t"};print} }'</span>

<span class="token comment">#awk 'BEGIN{for(y=1;y&lt;=9;y++) { for(x=1;x&lt;=y;x++) printf x"*"y"="x*y"\t";print} }'</span>
<span class="token comment">#awk 'BEGIN{i=1;while(i&lt;=9){for(j=1;j&lt;=i;j++) {printf j"*"i"="j*i"\t"};print;i++ }}'</span>

<span class="token comment">#awk 'BEGIN{for(i=1;i&lt;=9;i++){j=1;while(j&lt;=i) {printf j"*"i"="i*j"\t";j++};print}}'</span>

循环的控制：
<span class="token builtin class-name">break</span>        条件满足的时候中断循环
<span class="token builtin class-name">continue</span>    条件满足的时候跳过循环
</code></pre> 
<p>（3）awk算数运算</p> 
<pre><code class="prism language-bash">+ - * / %<span class="token punctuation">(</span>模<span class="token punctuation">)</span> ^<span class="token punctuation">(</span>幂2^3<span class="token punctuation">)</span>
可以在模式中执行计算，awk都将按浮点数方式执行算术运算
<span class="token comment"># awk 'BEGIN{print 1+1}'</span>
<span class="token comment"># awk 'BEGIN{print 1**1}'</span>
<span class="token comment"># awk 'BEGIN{print 2**3}'</span>
<span class="token comment"># awk 'BEGIN{print 2/3}'</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2034af3967abd2c07b2ddc565d742d95/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TCP滑动窗口、流量控制及拥塞控制详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ad6f60045697ee5f2ed00845cb17a7c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Timm】搭建Vision Transformer系列实践，终于见面了，Timm库！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>