<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>闭包 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="闭包" />
<meta property="og:description" content="1，什么是闭包
闭包就是能够读取其他函数内部变量的函数。
2，闭包的原理：
就是作用域访问原则，上级作用域无法直接访问下级作用域中的变量。
3，实现闭包要解决什么问题：
闭包内的数据不允许外界访问，要解决的问题就是间接访问该数据。函数内部的函数中可以访问该函数中的变量，但是我们需要在函数外部来访问函数中的变量。
4，怎么解决：
函数内部的方法可以访问该函数中的变量，我们可以把这个方法return 出去，函数外部就可以调用这个函数内部的方法来访问函数内部的变量了。
function foo(){ var num =123; return function(a){ if(a !== undefined){ //如果传参了，就用来设置值 num =a; }else{ //不传参，用来获取值 return num; } console.log(num); } } var fun1=foo(); fun1(456); var num=fun1(); console.log(num); 5，使用对象返回多个方法，来获取和设置值
function fun (){ var name =&#34;jack&#34; var age =18 return { getName:function(){ return name; }, setName:function(value){ name = value; }, getAge:function(){ return age; }, setAge:function(value){ age = value; } } } var obj = fun(); obj." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0edb4c85035584e93bb32a3c516c29b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-01-16T19:45:31+08:00" />
<meta property="article:modified_time" content="2019-01-16T19:45:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">闭包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1，什么是闭包</p> 
<p>闭包就是能够读取其他函数内部变量的函数。</p> 
<p>2，闭包的原理：</p> 
<p>就是作用域访问原则，上级作用域无法直接访问下级作用域中的变量。</p> 
<p>3，实现闭包要解决什么问题：</p> 
<p>  闭包内的数据不允许外界访问，要解决的问题就是间接访问该数据。函数内部的函数中可以访问该函数中的变量，但是我们需要在函数外部来访问函数中的变量。</p> 
<p>4，怎么解决：</p> 
<p>函数内部的方法可以访问该函数中的变量，我们可以把这个方法return 出去，函数外部就可以调用这个函数内部的方法来访问函数内部的变量了。</p> 
<pre class="has"><code class="language-javascript">   function foo(){
        var num =123;
        return function(a){
            if(a !== undefined){
                //如果传参了，就用来设置值
                num =a;
            }else{
                //不传参，用来获取值
                return num;
            }
          
          console.log(num);
        }
    }
   
   var fun1=foo();
   fun1(456);
   var num=fun1();
   console.log(num);</code></pre> 
<p>5，使用对象返回多个方法，来获取和设置值</p> 
<pre class="has"><code class="language-javascript">  function fun (){
        var name ="jack"
        var age =18 
        return {
            getName:function(){
              return name;
            },
            setName:function(value){
              name = value;
            },
            getAge:function(){
              return age;
            },
            setAge:function(value){
              age = value;
            }
        }
    }
    var obj = fun();
    obj.setName("rose");
    console.log(obj.getName())</code></pre> 
<p>6，闭包的作用</p> 
<p>基本作用：可以通过闭包返回的函数或者方法，来修改函数内部的数据。</p> 
<p>保护作用: 创建一个私有的空间，保护数据，外部想要访问内部的数据，只能通过函数提供的方法，在这些方法中我们可以设置一些逻辑，让数据变得安全。</p> 
<p>7，闭包一般和立即执行函数一起使用</p> 
<pre class="has"><code class="language-javascript">for(var i=0 ;i&lt;arr.length;i++){

  arr[i].onClick = (function(i){
          return function(){
            alert(i)
         }
    })(i)
}</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f7e64b4647901732fcc7f53c7f970bda/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring Cloud项目启动脚本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3af62e0ee6b5898055ac074d1f10619a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构（一）——逻辑结构和存储结构（易错）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>