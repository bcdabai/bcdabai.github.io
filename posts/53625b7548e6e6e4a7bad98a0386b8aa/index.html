<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tiles3&#43;SpringMVC4 学习心得 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Tiles3&#43;SpringMVC4 学习心得" />
<meta property="og:description" content="1. Tiles是什么？能做什么？ Apache Tiles is a template based, composite view framework: it allows to reuse page pieces across the application, keeping consistent look and feel. Page layouts in general contains several page-fragments like header,footer, menu &amp; content. In a consistent layout, only content changes between page navigation while other page fragments like header,footer &amp; menu remains fixed most of the time.
Apache Tiles 是一种基于模板的复合视图框架：它允许在应用程序过程中重复使用页面片段，保持一致的外观和感受。一般页面布局包含多个页面片段，比如页眉、页脚、菜单和主体内容部分。在一个一致的布局中，只有主体内容部分会在页面导航之间改变， 而其他页面元素，如：页眉、页脚和菜单栏，大多数时间保持不变。
2. 为什么使用Tiles？ 很多时候我们网站的风格布局是一致的，如修真院的页面，页眉页脚在绝大多数页面是不变的。而如果没有Tiles这种页面代码复用，这些页面片段的代码会在每个页面中重复这样显然是没有必要的，这时候使用Tiles框架可以将一致性的代码片段和需要改变的片段分开，提高代码复用。
3. Tiles如何使用？ 此处引用http://websystique." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/53625b7548e6e6e4a7bad98a0386b8aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-16T20:43:45+08:00" />
<meta property="article:modified_time" content="2018-04-16T20:43:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Tiles3&#43;SpringMVC4 学习心得</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4 id="1-tiles是什么能做什么">1. Tiles是什么？能做什么？</h4> 
<blockquote> 
 <p>Apache Tiles is a template based, composite view framework: it allows to reuse page pieces across the application, keeping consistent look and feel. Page layouts in general contains several page-fragments like header,footer, menu &amp; content. In a consistent layout, only content changes between page navigation while other page fragments like header,footer &amp; menu remains fixed most of the time.</p> 
</blockquote> 
<p>Apache Tiles 是一种基于模板的复合视图框架：它允许在应用程序过程中重复使用页面片段，保持一致的外观和感受。一般页面布局包含多个页面片段，比如页眉、页脚、菜单和主体内容部分。在一个一致的布局中，只有主体内容部分会在页面导航之间改变， 而其他页面元素，如：页眉、页脚和菜单栏，大多数时间保持不变。</p> 
<p><img src="https://images2.imgbox.com/57/ab/xMKO2Ktx_o.png" alt="Tiles原理实例" title=""></p> 
<h4 id="2-为什么使用tiles">2. 为什么使用Tiles？</h4> 
<p>很多时候我们网站的风格布局是一致的，如<a href="http://www.jnshu.com/home" rel="nofollow">修真院</a>的页面，页眉页脚在绝大多数页面是不变的。而如果没有Tiles这种页面代码复用，这些页面片段的代码会在每个页面中重复这样显然是没有必要的，这时候使用Tiles框架可以将一致性的代码片段和需要改变的片段分开，提高代码复用。</p> 
<h4 id="3-tiles如何使用">3. Tiles如何使用？</h4> 
<p>此处引用<a href="http://websystique.com/springmvc/spring-4-mvc-apache-tiles-3-annotation-based-example/" rel="nofollow">http://websystique.com/springmvc/spring-4-mvc-apache-tiles-3-annotation-based-example/</a>的例子 <br> 首先是版本： <br> - Spring 5.0.4.RELEASE <br> - Apache Tiles 3.0.5 <br> - Maven 3 <br> - JDK 9 <br> - Tomcat 9 <br> - IDEA</p> 
<h6 id="1项目结构">1.项目结构</h6> 
<p><img src="https://images2.imgbox.com/dc/58/B6GQt4TS_o.png" alt="src" title=""> <br> <img src="https://images2.imgbox.com/d7/85/oQT7CkzA_o.png" alt="这里写图片描述" title=""></p> 
<h6 id="2pomxml">2.pom.xml</h6> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">project</span> <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>
         <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://maven.apache.org/POM/4.0.0"</span> <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema-instance"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-title">modelVersion</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.ev<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>test_tiles<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-title">packaging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.0.0<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>test_tiles<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">springframework.version</span>&gt;</span>5.0.4.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-title">springframework.version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">apachetiles.version</span>&gt;</span>3.0.7<span class="hljs-tag">&lt;/<span class="hljs-title">apachetiles.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">dependencies</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Spring --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>spring-core<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${springframework.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${springframework.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${springframework.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Apache Tiles --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.tiles<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>tiles-core<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${apachetiles.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.tiles<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>tiles-api<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${apachetiles.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.tiles<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>tiles-servlet<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${apachetiles.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.tiles<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>tiles-jsp<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>${apachetiles.version}<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Servlet+JSP+JSTL --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>2.3.1<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">dependencies</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">pluginManagement</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">plugins</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">plugin</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>3.2<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">configuration</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">source</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-title">source</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">target</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">plugin</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>maven-war-plugin<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>2.4<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">configuration</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">warSourceDirectory</span>&gt;</span>src/main/webapp<span class="hljs-tag">&lt;/<span class="hljs-title">warSourceDirectory</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">warName</span>&gt;</span>Spring4MVCApacheTiles3Example<span class="hljs-tag">&lt;/<span class="hljs-title">warName</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">failOnMissingWebXml</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">failOnMissingWebXml</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">pluginManagement</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">finalName</span>&gt;</span>test_tiles<span class="hljs-tag">&lt;/<span class="hljs-title">finalName</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">project</span>&gt;</span></code></pre> 
<h6 id="3配置tiles">3.配置Tiles</h6> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> com.ev.springmvc.configuration;

<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.ComponentScan;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.ViewResolverRegistry;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.view.tiles3.TilesConfigurer;
<span class="hljs-keyword">import</span> org.springframework.web.servlet.view.tiles3.TilesViewResolver;

<span class="hljs-annotation">@Configuration</span>
<span class="hljs-annotation">@EnableWebMvc</span>
<span class="hljs-annotation">@ComponentScan</span>(basePackages = <span class="hljs-string">"com.ev.springmvc"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebMvcConfigurerAdapter</span> {<!-- --></span>
    <span class="hljs-javadoc">/**
     * Configure TilesConfigurer.
     */</span>
    <span class="hljs-annotation">@Bean</span>
    <span class="hljs-keyword">public</span> TilesConfigurer <span class="hljs-title">tilesConfigurer</span>(){
        TilesConfigurer tilesConfigurer = <span class="hljs-keyword">new</span> TilesConfigurer();
        tilesConfigurer.setDefinitions(<span class="hljs-string">"/WEB-INF/views/**/tiles.xml"</span>);
        tilesConfigurer.setCheckRefresh(<span class="hljs-keyword">true</span>);
        <span class="hljs-keyword">return</span> tilesConfigurer;
    }

    <span class="hljs-javadoc">/**
     * Configure ViewResolvers to deliver preferred views.
     */</span>
    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configureViewResolvers</span>(ViewResolverRegistry registry) {
        TilesViewResolver viewResolver = <span class="hljs-keyword">new</span> TilesViewResolver();
        registry.viewResolver(viewResolver);
    }

    <span class="hljs-javadoc">/**
     * Configure ResourceHandlers to serve static resources like CSS/ Javascript etc...
     */</span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addResourceHandlers</span>(ResourceHandlerRegistry registry) {
        registry.addResourceHandler(<span class="hljs-string">"/static/**"</span>).addResourceLocations(<span class="hljs-string">"/static/"</span>);
    }

}
</code></pre> 
<blockquote> 
 <p>Highlights of above configurations are TilesConfigurer &amp; TilesViewResolver. TilesConfigurer simply configures a TilesContainer using a set of files containing definitions, to be accessed by TilesView instances. Definition files are basically XML files containing layout definitions. <br> In our Spring MVC application, we also need a ViewResolver. Spring comes with a Tiles specific ViewResolver named TilesViewResolver. Once configured, the view names returned from your controller methods will be treated as tiles view and Spring will look for a definition having the same name in definitions XML files.</p> 
</blockquote> 
<p>以上配置的亮点是TilesConfigurer和TilesViewResolver。 TilesConfigurer只需使用一组包含定义的文件来配置TilesContainer，即可由TilesView实例访问。 定义文件基本上是包含布局定义的XML文件。 在我们的Spring MVC应用程序中，我们还需要一个ViewResolver。 Spring带有一个名为TilesViewResolver的Tiles特定ViewResolver。 配置完成后，从控制器方法返回的视图名称将被视为tile视图，并且Spring将在定义XML文件中查找具有相同名称的定义。</p> 
<h6 id="4-创建tiles定义tilesxml">4. 创建Tiles定义（Tiles.xml）</h6> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE tiles-definitions PUBLIC  "-//Apache Software Foundation//DTD Tiles Configuration 3.0//EN"  "http://tiles.apache.org/dtds/tiles-config_3_0.dtd"&gt;</span>  

<span class="hljs-tag">&lt;<span class="hljs-title">tiles-definitions</span>&gt;</span>  

   <span class="hljs-comment">&lt;!-- Base Definition --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">definition</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"base-definition"</span>
       <span class="hljs-attribute">template</span>=<span class="hljs-value">"/WEB-INF/views/tiles/layouts/defaultLayout.jsp"</span>&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">""</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"header"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/tiles/template/defaultHeader.jsp"</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"menu"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/tiles/template/defaultMenu.jsp"</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"body"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">""</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"footer"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/tiles/template/defaultFooter.jsp"</span> /&gt;</span>  
   <span class="hljs-tag">&lt;/<span class="hljs-title">definition</span>&gt;</span>  

   <span class="hljs-comment">&lt;!-- Home Page --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">definition</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"home"</span> <span class="hljs-attribute">extends</span>=<span class="hljs-value">"base-definition"</span>&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Welcome"</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"body"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/pages/home.jsp"</span> /&gt;</span>  
   <span class="hljs-tag">&lt;/<span class="hljs-title">definition</span>&gt;</span>  

   <span class="hljs-comment">&lt;!-- Product Page --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">definition</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"products"</span> <span class="hljs-attribute">extends</span>=<span class="hljs-value">"base-definition"</span>&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Products"</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"body"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/pages/products.jsp"</span> /&gt;</span>  
   <span class="hljs-tag">&lt;/<span class="hljs-title">definition</span>&gt;</span>  

   <span class="hljs-comment">&lt;!-- Contact-us Page --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">definition</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"contactus"</span> <span class="hljs-attribute">extends</span>=<span class="hljs-value">"base-definition"</span>&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"Contact Us"</span> /&gt;</span>  
       <span class="hljs-tag">&lt;<span class="hljs-title">put-attribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"body"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"/WEB-INF/views/pages/contactus.jsp"</span> /&gt;</span>  
   <span class="hljs-tag">&lt;/<span class="hljs-title">definition</span>&gt;</span>  

<span class="hljs-tag">&lt;/<span class="hljs-title">tiles-definitions</span>&gt;</span></code></pre> 
<blockquote> 
 <p>In above definition file, we have defined a base-definition and several other definitions extending base-definition. Other defintions are just overwriting the part they are specialized for. template attribute in definition-block is used to specify the actual layout file. Each of the definition (by name) can be treated as a tiles-view.</p> 
</blockquote> 
<p>在上面的定义文件中，我们定义了一个基本定义和其他几个扩展基本定义的定义。 其他定义只是覆盖它们专用的部分。 定义块中的模板属性用于指定实际的布局文件。 每个定义（按名称）都可以视为Tiles视图。</p> 
<h6 id="5-设计布局layouts">5. 设计布局（layouts）</h6> 
<blockquote> 
 <p>In our case we have defined a basic layout [/WEB-INF/views/tiles/layouts/defaultLayout.jsp] pinned with definition using template attribte.</p> 
</blockquote> 
<p>在我们的例子中，我们定义了一个使用模板属性定义的基本布局[/WEB-INF/views/tiles/layouts/defaultLayout.jsp]。</p> 
<p>defaultLayout.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%@ page language=<span class="hljs-string">"java"</span> contentType=<span class="hljs-string">"text/html; charset=ISO-8859-1"</span> pageEncoding=<span class="hljs-string">"ISO-8859-1"</span>%&gt;</span>
<span class="vbscript">&lt;%@ page isELIgnored=<span class="hljs-string">"false"</span> %&gt;</span>
<span class="vbscript">&lt;%@ taglib prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span>%&gt;</span>
<span class="vbscript">&lt;%@ taglib uri=<span class="hljs-string">"http://tiles.apache.org/tags-tiles"</span> prefix=<span class="hljs-string">"tiles"</span>%&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">http-equiv</span>=<span class="hljs-value">"Content-Type"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"text/html; charset=ISO-8859-1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">tiles:getAsString</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"&lt;c:url value='/static/css/bootstrap.css' /&gt;"</span>  <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">link</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"&lt;c:url value='/static/css/app.css' /&gt;"</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">link</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">header</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"header"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">tiles:insertAttribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"header"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">header</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">section</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"sidemenu"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">tiles:insertAttribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"menu"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">section</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"site-content"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">tiles:insertAttribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"body"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">footer</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"footer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">tiles:insertAttribute</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"footer"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span></code></pre> 
<blockquote> 
 <p>This layout file provides the consistent look-n-feel across your application. If you want to change layout, define a corresponding layout file and attach to the definition using template attribute.</p> 
</blockquote> 
<p>As you can see, we have a header,footer,menu &amp; body. We are using tags-tiles tag library to provide the placeholder within layout file. Attributes specified using insertAttribute will be provided by corresponding definition(or the one extending it).</p> 
<p>此布局文件在应用程序中提供一致的外观。 如果要更改布局，请定义相应的布局文件并使用模板属性附加到定义。 正如你所看到的，我们有一个页眉，页脚，菜单和正文。 我们使用tags-tiles标签库来提供布局文件中的占位符。 使用insertAttribute指定的属性将由相应的定义（或扩展它的定义）提供。</p> 
<h6 id="6创建视图">6.创建视图</h6> 
<blockquote> 
 <p>We have created some default views[used when the extending definition does not overwrite them] and some specific ones.</p> 
</blockquote> 
<p>我们创建了一些默认视图[在扩展定义不覆盖它们时使用]和一些特定的视图。</p> 
<p>defaultHeader.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Tiles Demo<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></code></pre> 
<p>defaultFooter.jsp</p> 
<pre class="prettyprint"><code class=" hljs livecodeserver">&lt;<span class="hljs-operator">div</span>&gt;
  Made <span class="hljs-operator">in</span> this world.
&lt;/<span class="hljs-operator">div</span>&gt;</code></pre> 
<p>defaultMenu.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"${pageContext.request.contextPath}/"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"logo"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"${pageContext.request.contextPath}/static/img/Linux-icon.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">ul</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menu"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"${pageContext.request.contextPath}/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"${pageContext.request.contextPath}/products"</span>&gt;</span>Products<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"${pageContext.request.contextPath}/contactus"</span>&gt;</span>Contact Us<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">nav</span>&gt;</span></code></pre> 
<p>home.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>Welcome to Home page<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span></code></pre> 
<p>products.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>Products page<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span></code></pre> 
<p>contactus.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">h2</span>&gt;</span>Contact Us Page<span class="hljs-tag">&lt;/<span class="hljs-title">h2</span>&gt;</span></code></pre> 
<h6 id="7-创建controller">7. 创建Controller</h6> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> com.ev.springmvc.controller;

<span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;
<span class="hljs-keyword">import</span> org.springframework.ui.ModelMap;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;


<span class="hljs-annotation">@Controller</span>
<span class="hljs-annotation">@RequestMapping</span>(<span class="hljs-string">"/"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppController</span> {<!-- --></span>

    <span class="hljs-annotation">@RequestMapping</span>(value = {<!-- --><span class="hljs-string">"/"</span>}, method = RequestMethod.GET)
    <span class="hljs-keyword">public</span> String <span class="hljs-title">homePage</span>(ModelMap model) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"home"</span>;
    }

    <span class="hljs-annotation">@RequestMapping</span>(value = {<!-- --><span class="hljs-string">"/products"</span>}, method = RequestMethod.GET)
    <span class="hljs-keyword">public</span> String <span class="hljs-title">productsPage</span>(ModelMap model) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"products"</span>;
    }

    <span class="hljs-annotation">@RequestMapping</span>(value = {<!-- --><span class="hljs-string">"/contactus"</span>}, method = RequestMethod.GET)
    <span class="hljs-keyword">public</span> String <span class="hljs-title">contactUsPage</span>(ModelMap model) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"contactus"</span>;
    }
}</code></pre> 
<blockquote> 
 <p>Look at each of these controller methods. The returned value from them is treated as tiles-view [Thanks to TilesViewResolver] and corresponding tiles-definition gets consulted.</p> 
</blockquote> 
<p>看这些控制器的每一个方法。 从他们返回的值被视为Tiles视图[归功于TilesViewResolver]和相应的Tiles定义获得咨询。</p> 
<h6 id="8创建初始化类">8.创建初始化类</h6> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> com.ev.springmvc.configuration;


<span class="hljs-keyword">import</span> org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppInitializer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractAnnotationConfigDispatcherServletInitializer</span> {<!-- --></span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> Class&lt;?&gt;[] <span class="hljs-title">getRootConfigClasses</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Class[] { AppConfig.class };
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> Class&lt;?&gt;[] <span class="hljs-title">getServletConfigClasses</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> String[] <span class="hljs-title">getServletMappings</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String[] { <span class="hljs-string">"/"</span> };
    }

}</code></pre> 
<h6 id="9-运行之">9. 运行之</h6> 
<p><img src="https://images2.imgbox.com/85/4f/QRbd2jJu_o.png" alt="home" title=""> <br> <img src="https://images2.imgbox.com/73/1d/rjm8zYgF_o.png" alt="product" title=""> <br> <img src="https://images2.imgbox.com/30/61/mh1leuay_o.png" alt="contactus" title=""></p> 
<p>可以看到除了中间的主体部分，其他部分都没有改变。 <br> 这就是一个简单的TilesDemo啦。</p> 
<p>以上就是修真院Java任务四关于Tiles需要了解的内容。</p> 
<p>以上所有代码，复制粘贴就能跑！对于自己的个性化需求请自行研究该Demo。</p> 
<p>技能树.IT修真院</p> 
<p>“我们相信人人都可以成为一个工程师，现在开始，找个师兄，带你入门，掌控自己学习的节奏，学习的路上不再迷茫”。</p> 
<p>这里是技能树.IT修真院，成千上万的师兄在这里找到了自己的学习路线，学习透明化，成长可见化，师兄1对1免费指导，这里的老大超级帅。快来与我一起学习吧~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e436f90b0f16ddf1e296afd82375273f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue.js常见命令 (启动 部署)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6db563574790cb41f524de19730d699f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">android与java web交互完成简单的登录和注册</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>