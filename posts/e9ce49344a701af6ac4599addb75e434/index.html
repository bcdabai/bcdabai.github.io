<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ADB 常用指令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ADB 常用指令" />
<meta property="og:description" content="介绍手机测试
对于手机端测试，按照平台来分，分为Android和IOS两大主流系统， 对于 ios 和 Android ，二者有区别，我就说一下我在测试这两款手机 app 的感受吧 1 、两者运行机制不同： IOS 采用的是沙盒运行机制，安卓采用的是虚拟机运行机制。 2 、两者后台制度不同： IOS 中任何第三方程序都不能在后台运行；安卓中任何程序都能在后台运行，直到没有 内存才会关闭。 3 、 IOS 中用于 UI 指令权限最高，安卓中数据处理指令权限最高。 Android 开源导致碎片化比较严重，（手机品牌众多，系统版本各异，分辨率不统一，主流手机型号上千。无法保证应用、游戏对于所有手机的适配兼容。）bug 比较多，而 IOS 通常 bug 会少一些。 Android 介绍 Android 是一种基于 Linux 的自由及开放源代码的操作系统，主要使用于移动设备，如智能手机和平板电 脑，由Google 公司和开放手机联盟领导及开发。尚未有统一中文名称，中国大陆地区较多人使用 “ 安卓 ” 。 Android 之四大组件 Android 四大组件分别为 activity 、 service 、 content provider 、 broadcast receiver 。 ADB 介绍 ADB 全称 Android Debug Bridge, 是 android sdk 里的一个工具 , 用这个工具可以直接操作管理android模拟器或者真实的 andriod 设备 ( 如 G1 手机 ) 它的主要功能有 : * 运行设备的 shell( 命令行 ) * 管理模拟器或设备的端口映射 * 计算机和设备之间上传 / 下载文件 * 将本地 apk 软件安装至模拟器或 android 设备 配置 ADB 环境变量 1 ：在系统变量中新建ANDROID_HOME变量 2：在系统变量path中添加%ANDROID_HOME%\platform-tools 3：验证adb配置是否成功ADB常用指令" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e9ce49344a701af6ac4599addb75e434/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-25T17:18:37+08:00" />
<meta property="article:modified_time" content="2021-10-25T17:18:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ADB 常用指令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#333333;"><strong>介绍手机测试</strong></span></p> 
<p><span style="color:#333333;">对于手机端测试，按照平台来分，分为</span><span style="color:#333333;">Android</span><span style="color:#333333;">和</span><span style="color:#333333;">IOS</span><span style="color:#333333;">两大主流系统， </span></p> 
<div> 
 <span style="color:#333333;">对于</span> 
 <span style="color:#333333;">ios</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">Android</span> 
 <span style="color:#333333;">，二者有区别，我就说一下我在测试这两款手机</span> 
 <span style="color:#333333;">app</span> 
 <span style="color:#333333;">的感受吧 </span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">1</span> 
  <span style="color:#333333;">、两者运行机制不同：</span> 
  <span style="color:#333333;">IOS</span> 
  <span style="color:#333333;">采用的是沙盒运行机制，安卓采用的是虚拟机运行机制。 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">2</span> 
  <span style="color:#333333;">、两者后台制度不同：</span> 
  <span style="color:#333333;">IOS</span> 
  <span style="color:#333333;">中任何第三方程序都不能在后台运行；安卓中任何程序都能在后台运行，直到没有 内存才会关闭。 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">3</span> 
  <span style="color:#333333;">、</span> 
  <span style="color:#333333;">IOS</span> 
  <span style="color:#333333;">中用于</span> 
  <span style="color:#333333;">UI</span> 
  <span style="color:#333333;">指令权限最高，安卓中数据处理指令权限最高。 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">Android</span> 
  <span style="color:#333333;">开源导致碎片化比较严重，（手机品牌众多，系统版本各异，分辨率不统一，主流手机型号上千。无法保证应用、游戏对于所有手机的适配兼容。）bug</span> 
  <span style="color:#333333;">比较多，而</span> 
  <span style="color:#333333;">IOS</span> 
  <span style="color:#333333;">通常</span> 
  <span style="color:#333333;">bug</span> 
  <span style="color:#333333;">会少一些。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;"><strong>Android</strong></span> 
  <span style="color:#333333;"><strong>介绍</strong></span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#333333;">Android</span> 
   <span style="color:#333333;">是一种基于</span> 
   <span style="color:#333333;">Linux</span> 
   <span style="color:#333333;">的自由及开放源代码的操作系统，主要使用于移动设备，如智能手机和平板电 脑，由Google</span> 
   <span style="color:#333333;">公司和开放手机联盟领导及开发。尚未有统一中文名称，中国大陆地区较多人使用</span> 
   <span style="color:#333333;">“</span> 
   <span style="color:#333333;">安卓</span> 
   <span style="color:#333333;">”</span> 
   <span style="color:#333333;">。</span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;"><strong>Android</strong></span> 
   <span style="color:#333333;"><strong>之四大组件</strong></span> 
  </div> 
  <div> 
   <span style="color:#333333;">Android</span> 
   <span style="color:#333333;">四大组件分别为</span> 
   <span style="color:#333333;">activity</span> 
   <span style="color:#333333;">、</span> 
   <span style="color:#333333;">service</span> 
   <span style="color:#333333;">、</span> 
   <span style="color:#333333;">content provider</span> 
   <span style="color:#333333;">、</span> 
   <span style="color:#333333;">broadcast receiver</span> 
   <span style="color:#333333;">。 </span> 
  </div> 
  <div></div> 
  <div> 
   <div> 
    <span style="color:#333333;"><strong>ADB</strong></span> 
    <span style="color:#333333;"><strong>介绍</strong></span> 
   </div> 
   <div> 
    <div> 
     <span style="color:#333333;">ADB</span> 
     <span style="color:#333333;">全称</span> 
     <span style="color:#333333;">Android Debug Bridge, </span> 
     <span style="color:#333333;">是</span> 
     <span style="color:#333333;">android sdk</span> 
     <span style="color:#333333;">里的一个工具</span> 
     <span style="color:#333333;">, </span> 
     <span style="color:#333333;">用这个工具可以直接操作管理android模拟器或者真实的</span> 
     <span style="color:#333333;">andriod</span> 
     <span style="color:#333333;">设备</span> 
     <span style="color:#333333;">(</span> 
     <span style="color:#333333;">如</span> 
     <span style="color:#333333;">G1</span> 
     <span style="color:#333333;">手机</span> 
     <span style="color:#333333;">) </span> 
    </div> 
    <div> 
     <span style="color:#333333;">它的主要功能有</span> 
     <span style="color:#333333;">: </span> 
    </div> 
    <div> 
     <span style="color:#333333;">* </span> 
     <span style="color:#333333;">运行设备的</span> 
     <span style="color:#333333;">shell(</span> 
     <span style="color:#333333;">命令行</span> 
     <span style="color:#333333;">) </span> 
    </div> 
    <div> 
     <span style="color:#333333;">* </span> 
     <span style="color:#333333;">管理模拟器或设备的端口映射 </span> 
    </div> 
    <div> 
     <span style="color:#333333;">* </span> 
     <span style="color:#333333;">计算机和设备之间上传</span> 
     <span style="color:#333333;">/</span> 
     <span style="color:#333333;">下载文件 </span> 
    </div> 
    <div> 
     <span style="color:#333333;">* </span> 
     <span style="color:#333333;">将本地</span> 
     <span style="color:#333333;">apk</span> 
     <span style="color:#333333;">软件安装至模拟器或</span> 
     <span style="color:#333333;">android</span> 
     <span style="color:#333333;">设备</span> 
    </div> 
    <div></div> 
    <div> 
     <span style="color:#333333;"><strong>配置</strong></span> 
     <span style="color:#333333;"><strong>ADB</strong></span> 
     <span style="color:#333333;"><strong>环境变量</strong></span> 
    </div> 
    <div></div> 
    <div> 
     <span style="color:#333333;">1</span> 
     <span style="color:#333333;">：在系统变量中新建ANDROID_HOME变量</span> 
     <img alt="" height="372" src="https://images2.imgbox.com/42/8d/etWv4reC_o.png" width="1200"> 
     <img alt="" height="225" src="https://images2.imgbox.com/a8/d5/oeULCriN_o.png" width="855"> 
    </div> 
    <div></div> 
    <p><span style="color:#333333;">2</span><span style="color:#333333;">：在系统变量</span><span style="color:#333333;">path</span><span style="color:#333333;">中添加</span><span style="color:#333333;">%ANDROID_HOME%\platform-tools</span> <img alt="" height="672" src="https://images2.imgbox.com/ae/30/OkQwYbKd_o.png" width="1200"></p> 
    <p><span style="color:#333333;">3</span><span style="color:#333333;">：验证adb配置是否成功</span><img alt="" height="204" src="https://images2.imgbox.com/9c/de/F7fa754M_o.png" width="1200"><span style="color:#333333;"><strong>ADB</strong></span><span style="color:#333333;"><strong>常用指令</strong></span></p> 
    <p><span style="color:#333333;">查看移动端设备</span></p> 
    <p></p> 
    <div> 
     <span style="color:#333333;">adb devices(</span> 
     <span style="color:#333333;">这个命令是查看当前连接的设备</span> 
     <span style="color:#333333;">, </span> 
     <span style="color:#333333;">连接到计算机的</span> 
     <span style="color:#333333;">android</span> 
     <span style="color:#333333;">设备或者模拟器将会列出显示)</span> 
    </div> 
    <div> 
     <div> 
      <span style="color:#333333;">Offline(</span> 
      <span style="color:#333333;">不能调试仅是连接，原因很可能是</span> 
      <span style="color:#333333;">adb</span> 
      <span style="color:#333333;">与安卓系统不匹配</span> 
      <span style="color:#333333;">) </span> 
     </div> 
     <div> 
      <span style="color:#333333;">unauthorized(</span> 
      <span style="color:#333333;">连接后不能调试，原因是没有在手机上同意调试</span> 
      <span style="color:#333333;">) </span> 
     </div> 
     <div> 
      <span style="color:#333333;">device(正常状态可调试)</span> 
     </div> 
     <div></div> 
     <div> 
      <img alt="" height="94" src="https://images2.imgbox.com/22/fe/7TRoM1tV_o.png" width="724"> 
     </div> 
     <p> <span style="color:#333333;"><strong>开启服务  </strong>adb start-server </span><img alt="" height="86" src="https://images2.imgbox.com/32/e7/c3EOccCU_o.png" width="794"></p> 
     <p> <span style="color:#333333;"><strong>关闭服务   </strong>adb kill-server</span><img alt="" height="61" src="https://images2.imgbox.com/30/82/C6wT7DEe_o.png" width="842"></p> 
     <p> <span style="color:#333333;"><strong>安装软件  </strong>adb install apk路径</span><img alt="" height="405" src="https://images2.imgbox.com/db/26/5Uts1VzD_o.png" width="1200"><img alt="" height="425" src="https://images2.imgbox.com/33/2d/0qmzT7ez_o.png" width="1200"></p> 
     <p><span style="color:#333333;"><strong>覆盖安装 </strong></span><span style="color:#333333;">adb install -r apk</span><span style="color:#333333;">路径</span><span style="color:#333333;">(-r </span><span style="color:#333333;">代表如果</span><span style="color:#333333;">apk</span><span style="color:#333333;">已安装，重新安装</span><span style="color:#333333;">apk</span><span style="color:#333333;">并保留数据和缓存文件</span><span style="color:#333333;">)</span> <img alt="" height="298" src="https://images2.imgbox.com/ea/af/YumOAiNR_o.png" width="1200"><img alt="" height="552" src="https://images2.imgbox.com/0c/df/qsn4plfE_o.png" width="1200"></p> 
     <p><span style="color:#333333;"><strong>查看</strong></span><span style="color:#333333;"><strong>包名</strong></span> </p> 
     <div> 
      <span style="color:#333333;">系统应用:adb shell pm list packages –s</span> 
      <img alt="" height="412" src="https://images2.imgbox.com/c4/43/UySTtjRa_o.png" width="1200"> 
     </div> 
     <p><span style="color:#333333;">第三方应用</span><span style="color:#333333;">:adb shell pm list packages -3</span> <img alt="" height="96" src="https://images2.imgbox.com/28/d8/ZvDj69AG_o.png" width="855"></p> 
     <p><span style="color:#333333;">查看</span><span style="color:#333333;">(</span><span style="color:#333333;">全部</span><span style="color:#333333;">)包名 adb shell pm list packages </span><img alt="" height="411" src="https://images2.imgbox.com/97/61/SSMWpr3b_o.png" width="1061"> <span style="color:#333333;"><strong>卸载软件 </strong></span></p> 
     <div> 
      <span style="color:#333333;">adb uninstall 软件包名</span> 
      <img alt="" height="385" src="https://images2.imgbox.com/37/cf/KQNElIzn_o.png" width="1200"> 
      <img alt="" height="427" src="https://images2.imgbox.com/c7/a6/o8oPdasY_o.png" width="1200"> 
     </div> 
     <p><span style="color:#333333;"><strong>将电脑文件传输到移动端</strong></span> </p> 
     <div> 
      <span style="color:#333333;">adb push 电脑路径 移动端路径</span> 
      <img alt="" height="93" src="https://images2.imgbox.com/73/66/NwsgzQQk_o.png" width="1199"> 
      <img alt="" height="101" src="https://images2.imgbox.com/2e/89/F82KTWny_o.png" width="562"> 
     </div> 
     <div></div> 
     <p><span style="color:#333333;"><strong>将移动端文件传输到电脑 </strong></span></p> 
     <div> 
      <span style="color:#333333;">adb pull 移动端路径 电脑路径</span> 
      <img alt="" height="356" src="https://images2.imgbox.com/8b/c0/aqt6dOul_o.png" width="1200"> 
     </div> 
     <div></div> 
     <p><span style="color:#333333;"><strong>截屏</strong></span> </p> 
     <div> 
      <span style="color:#333333;">adb shell screencap -p 截图文件路径</span> 
      <img alt="" height="643" src="https://images2.imgbox.com/1b/87/DDaZlKpe_o.png" width="1200"> 
     </div> 
     <p><img alt="" height="368" src="https://images2.imgbox.com/db/6c/X54j9fMd_o.png" width="1200"> <span style="color:#333333;"><strong>查看手机</strong></span><span style="color:#333333;"><strong>CPU</strong></span><span style="color:#333333;"><strong>情况 </strong></span></p> 
     <div> 
      <span style="color:#333333;">adb shell dumpsys cpuinfo </span> 
      <img alt="" height="125" src="https://images2.imgbox.com/bd/3c/1uIq8aRu_o.png" width="992"> 
     </div> 
     <p><span style="color:#333333;"><strong>查看应用内存使用情况</strong></span></p> 
     <p><span style="color:#333333;">adb shell dumpsys meminfo +</span><span style="color:#333333;">包名：应用的内存使用情况</span> <img alt="" height="280" src="https://images2.imgbox.com/b5/c6/ZM8Ch5yP_o.png" width="815"></p> 
     <p><span style="color:#333333;"><strong>显示磁盘使用信息</strong></span></p> 
     <p><span style="color:#333333;">adb shell dumpsys diskstats</span></p> 
     <p><img alt="" height="118" src="https://images2.imgbox.com/de/36/Q0X99rVQ_o.png" width="752"></p> 
     <p> <span style="color:#333333;"><strong>查看电池状态 </strong></span></p> 
     <div> 
      <span style="color:#333333;">adb shell dumpsys battery</span> 
      <img alt="" height="284" src="https://images2.imgbox.com/07/86/JzWP3Xtn_o.png" width="811"> 
     </div> 
     <p><span style="color:#333333;"><strong>查看手机日志</strong></span></p> 
     <p><span style="color:#333333;">adb logcat</span></p> 
     <p></p> 
     <div> 
      <span style="color:#fe2c24;">adb logcat 命令格式 : adb logcat [选项] [过滤项], 其中 选项 和 过滤项 在 中括号 [] 中, </span> 
     </div> 
     <div> 
      <span style="color:#fe2c24;">说明这是可选的; </span> 
     </div> 
     <div> 
      <span style="color:#fe2c24;">"&gt;"输出 : "&gt;" 后面跟着要输出的日志文件, 可以将 logcat 日志输出到文件中, 使用adb logcat &gt; </span> 
     </div> 
     <div> 
      <span style="color:#fe2c24;">log 命令（adb logcat &gt;C:\log\1.txt）</span> 
     </div> 
     <p> <img alt="" height="177" src="https://images2.imgbox.com/1d/26/3TZ72Ya4_o.png" width="1200"><img alt="" height="889" src="https://images2.imgbox.com/39/ec/6rke8sru_o.png" width="1200"></p> 
     <div> 
      <span style="color:#fe2c24;">指定 logcat 的日志输出格式 : -- "-v"选项 : 使用adb logcat -v time 命令, 可以查看日志的输 </span> 
     </div> 
     <div> 
      <span style="color:#fe2c24;">出时间; </span> 
     </div> 
     <div> 
      <span style="color:#fe2c24;">将手机日志输出到本地文件中：adb logcat -v time &gt; C:/log/aa.txt</span> 
      <img alt="" height="79" src="https://images2.imgbox.com/1c/bf/35AmnMWe_o.png" width="771"> 
      <img alt="" height="485" src="https://images2.imgbox.com/35/f6/Sy4fNOtR_o.png" width="1163"> 
     </div> 
     <div></div> 
     <div> 
      <span style="color:#333333;">Android </span> 
      <span style="color:#333333;">的日志分为如下几个级别： </span> 
     </div> 
     <div> 
      <span style="color:#333333;">V —— Verbose</span> 
      <span style="color:#333333;">（最低，输出得最多） </span> 
     </div> 
     <div> 
      <span style="color:#333333;">D —— Debug </span> 
     </div> 
     <div> 
      <span style="color:#333333;">I —— Info </span> 
     </div> 
     <div> 
      <span style="color:#333333;">W —— Warning </span> 
     </div> 
     <div> 
      <span style="color:#333333;">E —— Error </span> 
     </div> 
     <div> 
      <span style="color:#333333;">F —— Fatal </span> 
     </div> 
     <div> 
      <span style="color:#333333;">S —— Silent</span> 
      <span style="color:#333333;">（最高） </span> 
     </div> 
     <div> 
      <span style="color:#333333;">过滤指定等级日志：按某级别过滤日志则会将该级别及以上的日志输出。 </span> 
     </div> 
     <div> 
      <span style="color:#333333;">比如，命令：</span> 
      <span style="color:#333333;">adb logcat *:W </span> 
      <span style="color:#333333;">将 </span> 
      <span style="color:#333333;">Warning</span> 
      <span style="color:#333333;">、</span> 
      <span style="color:#333333;">Error</span> 
      <span style="color:#333333;">、</span> 
      <span style="color:#333333;">Fatal </span> 
      <span style="color:#333333;">和 </span> 
      <span style="color:#333333;">Silent </span> 
      <span style="color:#333333;">日志输出 </span> 
     </div> 
     <div> 
      <span style="color:#333333;">显示所有优先级大于等于“warning”的日志</span> 
      <img alt="" height="82" src="https://images2.imgbox.com/c6/64/e4I4ggBE_o.png" width="1007"> 
     </div> 
     <p><img alt="" height="889" src="https://images2.imgbox.com/99/e9/ZYKhj1rr_o.png" width="1145"></p> 
     <p><span style="color:#333333;">输出最近的日志：</span><span style="color:#333333;">adb logcat -t 5 </span><span style="color:#333333;">输出最近5行的数据</span><img alt="" height="90" src="https://images2.imgbox.com/42/01/z5h5STg6_o.png" width="800"><img alt="" height="541" src="https://images2.imgbox.com/c8/4b/qn8k0KNG_o.png" width="1139"></p> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8938239c994f6c6db53599bc1c8b091a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL死锁产生原因和解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e8642ce722a55b336a941ff920f1fde/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue中class类名根据绑定的值三元表达式或字符串拼接动态添加类名</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>