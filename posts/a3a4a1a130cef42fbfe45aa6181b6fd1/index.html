<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>K8s知识点总结_part1 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="K8s知识点总结_part1" />
<meta property="og:description" content="Kubernetes 是什么 为用户提供一个具有普遍意义的容器编排工具。
它着重解决的问题是：大规模集群中的各种运行任务之间的关系处理，这些关系的处理，是作业编排和管理系统最困难的地方。
其能力有：
• 基于容器的应用部署、维护和滚动升级
• 负载均衡和服务发现
• 跨机器和跨地区的集群调度
• 自动伸缩
• 无状态服务和有状态服务
• 插件机制保证扩展性
K8S设计思想 从一开始，Kubernetes 项目就没有像同时期的各种“容器云”项目那样，把 Docker 作为整个架构的核心，而仅仅把它作为最底层的一个容器运行时实现。
它真正的价值，在于提供了一套基于容器构建分布式系统的基础依赖。这也是k8s能长久发展的一个原因。
可以从这四个方面了解一下：
可扩展性：
• 基于微服务部署应用
• 横向扩容缩容
• 自动扩容缩容
高可用：
• 基于replicaset，statefulset 的应用高可用
• Kubernetes 组件本身高可用
可移植性：
• 多种 host Os 选择
• 多种基础架构的选择
• 基于集群联邦建立混合云
安全：
• 基于 TLS 提供服务
• Serviceaccount 和 user
• 基于 namespace 的隔离
• secret
• Taints，psp，networkpolicy
K8S的优势 优势特点，主要是这8个层面：
资源利用：高效率/高密度
低耦合：松散耦合、分布式、弹性、解放的微服务" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a3a4a1a130cef42fbfe45aa6181b6fd1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-19T18:12:19+08:00" />
<meta property="article:modified_time" content="2024-01-19T18:12:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">K8s知识点总结_part1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2></h2> 
<h2>Kubernetes 是什么</h2> 
<p></p> 
<p>为用户提供一个具有普遍意义的<span style="background-color:#a2e043;">容器编排工具</span>。</p> 
<p>它<span style="background-color:#a2e043;">着重解决的问题是：大规模集群中的各种运行任务之间的关系处理</span>，这些关系的处理，是作业编排和管理系统最困难的地方。</p> 
<p>其能力有：</p> 
<blockquote> 
 <p>• 基于容器的应用部署、维护和滚动升级</p> 
 <p>• 负载均衡和服务发现</p> 
 <p>• 跨机器和跨地区的集群调度</p> 
 <p>• 自动伸缩</p> 
 <p>• 无状态服务和有状态服务</p> 
 <p>• 插件机制保证扩展性</p> 
</blockquote> 
<h2 id="3.2%20K8S%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3">K8S设计思想</h2> 
<p>从一开始，Kubernetes 项目就没有像同时期的各种“容器云”项目那样，把 Docker 作为整个架构的核心，而仅仅把它作为最底层的一个容器运行时实现。</p> 
<p>它真正的价值，在于<span style="background-color:#a2e043;">提供了一套基于容器构建分布式系统的基础依赖</span>。这也是k8s能长久发展的一个原因。</p> 
<p>可以从这四个方面了解一下：</p> 
<p><strong>可扩展性：</strong></p> 
<blockquote> 
 <p>• 基于微服务部署应用</p> 
 <p>• 横向扩容缩容</p> 
 <p>• 自动扩容缩容</p> 
</blockquote> 
<p><strong>高可用：</strong></p> 
<blockquote> 
 <p>• 基于replicaset，statefulset 的应用高可用</p> 
 <p>• Kubernetes 组件本身高可用</p> 
</blockquote> 
<p><strong>可移植性：</strong></p> 
<blockquote> 
 <p>• 多种 host Os 选择</p> 
 <p>• 多种基础架构的选择</p> 
 <p>• 基于集群联邦建立混合云</p> 
</blockquote> 
<p><strong>安全：</strong></p> 
<blockquote> 
 <p>• 基于 TLS 提供服务</p> 
 <p>• Serviceaccount 和 user</p> 
 <p>• 基于 namespace 的隔离</p> 
 <p>• secret</p> 
 <p>• Taints，psp，networkpolicy</p> 
</blockquote> 
<p></p> 
<h2 id="%C2%A03.3%20K8S%E7%9A%84%E4%BC%98%E5%8A%BF" style="background-color:transparent;">K8S的优势</h2> 
<p>优势特点，主要是<strong>这8个层面：</strong></p> 
<blockquote> 
 <p>资源利用：高效率/高密度</p> 
 <p>低耦合：松散耦合、分布式、弹性、解放的微服务</p> 
 <p>可移植性和灵活性：K8s有很强的兼容性，它可以在各种基础设施和环境设置下运行</p> 
 <p>敏捷性：敏捷应用程序的创建和部署，与使用 VM 镜像相比，提高了容器镜像创建的简便性和效率</p> 
 <p>跨平台：跨云和操作系统，可在 Ubuntu、RHEL、CoreOS、本地、 Google Kubernetes Engine 和其他任何地方运行</p> 
 <p>开源：CNCF负责管理K8s，这是一个完全开源、由社区驱动的项目</p> 
 <p>多云兼容性：     </p> 
 <p>1.容器编排支持多云架构     </p> 
 <p>2.轻松实现环境迁移/扩展</p> 
</blockquote> 
<p></p> 
<h2>K8S核心组件</h2> 
<p>k8s项目的架构，由 Master 和 Node 两种节点组成，这两种角色分别对应着控制节点和计算节点</p> 
<p></p> 
<p><img alt="" height="720" src="https://images2.imgbox.com/f1/3c/8Kzph3pL_o.png" width="1043"></p> 
<p><strong>kube-apiserver</strong></p> 
<blockquote> 
 <p>kube-apiserver：kube-apiserver是k8s集群的控制面板，提供了RESTful API来管理集群状态和配置。它是k8s中的核心组件之一，所有其他组件都与kube-apiserver进行通信。kube-apiserver是k8s的面向用户的接口，可以使用kubectl等工具与其进行交互。</p> 
</blockquote> 
<p></p> 
<p><strong>kube-scheduler</strong></p> 
<blockquote> 
 <p>kube-scheduler：kube-scheduler是k8s的调度器，负责将Pods分配到可用的节点上。kube-scheduler使用节点资源和Pods的需求来进行调度决策。kube-scheduler还支持自定义调度策略，以满足特定的业务需求。</p> 
</blockquote> 
<p><strong>kube-controller-manager</strong></p> 
<blockquote> 
 <p>kube-controller-manager：kube-controller-manager是k8s的控制器，负责监视集群状态，并确保集群中的对象处于所需的状态。kube-controller-manager包括多个控制器，如Replication Controller和Endpoint Controller，它们负责管理ReplicaSets和Endpoints等对象。</p> 
</blockquote> 
<p><strong>etcd</strong></p> 
<blockquote> 
 <p>etcd：etcd是一个高可用性的键值存储系统，用于存储k8s集群的所有数据。etcd可以存储集群配置、Pods和Services等对象的状态。etcd是一个分布式系统，可以通过多个节点实现高可用性</p> 
</blockquote> 
<p><strong>kubelet</strong></p> 
<blockquote> 
 <p>kubelet：kubelet是k8s节点上的代理，负责管理节点上的Pods。kubelet与kube-apiserver通信，获取需要在节点上运行的Pods的信息，并确保Pods处于运行状态。kubelet还负责监视Pods的健康状况，并在必要时重新启动它们。</p> 
</blockquote> 
<p><strong>kube-proxy</strong></p> 
<blockquote> 
 <p>kube-proxy：kube-proxy是k8s的网络代理，负责在集群内部进行负载均衡和服务发现。kube-proxy可以将Pods暴露为Kubernetes Services，并使用IPVS或iptables等机制进行负载均衡。</p> 
</blockquote> 
<p><strong>docker/Container Runtime</strong></p> 
<blockquote> 
 <p>docker/Container Runtime：Worker Node的运行环境，负责镜像管理以及 Pod 和容器的真正运行</p> 
</blockquote> 
<p> <strong>总结</strong></p> 
<p>控制节点，即 Master 节点，由4个紧密协作的独立组件组合而成，它们分别是：</p> 
<p>负责 <span style="background-color:#a2e043;">API 服务的 kube-apiserver、负责调度的 kube-scheduler、负责容器编排的 kube-controller-manager。整个集群的持久化数据，则由 kube-apiserver 处理后保存在 Etcd 中</span>。</p> 
<p>而计算节点上最核心的部分，则是一个叫作 kubelet 的组件。</p> 
<p>在 k8s项目中，kubelet 主要负责同容器运行时（比如 Docker 项目）打交道。而这个交互所依赖的，是一个<span style="background-color:#a2e043;">称作 CRI（Container Runtime Interface）</span>的远程调用接口，这个接口定义了容器运行时的各项核心操作比如：启动一个容器需要的所有参数。</p> 
<p>这也是为什么，Kubernetes 项目<span style="background-color:#a2e043;">并不关心你部署的是什么容器运行时、使用的什么技术实现，只要你的这个容器运行时能够运行标准的容器镜像</span>，它就可以通过实现 CRI 接入到 Kubernetes 项目当中。<br><img alt="" height="720" src="https://images2.imgbox.com/49/9c/OL02rUlW_o.png" width="802"></p> 
<p></p> 
<p>参考：</p> 
<p><a href="http://docs.kubernetes.org.cn/227.html" rel="nofollow" title="Kubernetes是什么 _ Kubernetes(K8S)中文文档_Kubernetes中文社区">Kubernetes是什么 _ Kubernetes(K8S)中文文档_Kubernetes中文社区</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6cd37b460e0e90fe5cdbe775a343f67c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">时间格式 yyyyMMdd</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8075fa6234bc412bd6428b9821a5e9f4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">freeswitch on centos dockerfile模式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>