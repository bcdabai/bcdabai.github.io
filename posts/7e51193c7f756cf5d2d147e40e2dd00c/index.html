<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>QT中添加Q_OBJECT出现的问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="QT中添加Q_OBJECT出现的问题" />
<meta property="og:description" content="Multiple Inheritance Requires QObject to Be First（多重继承QObject一定要放在前面）
我在用class My_Node : public QGraphicsItem，public QObject来生成自己的类时，想使用信号和槽机制，但这是dys_node.h中没有Q_OBJECT，不能使用信号槽。我将Q_OBJECT加上之后，出现几个不知道是什么的错误。然后我将工程目录下的Makefile删除，然后重新编译、链接文件，刚才的错误消失了，但出现如下三个错误：
error: &#39;staticMetaObject&#39; is not a member of &#39;QGraphicsItem&#39;
error: &#39;qt_metacast&#39; is not a member of &#39;QGraphicsItem&#39;
error: &#39;qt_metacall&#39; is not a member of &#39;QGraphicsItem&#39;
通过google，我发现这个错误是由于没有继承QObject类而引起的，但是我已经继承了QObject类了啊，到底是怎么回事呢？
最后终于在网上找到了答案，当多继承的时候，要将QObject放在前面，即将类的声明改为
class My_Node : public QObject，public QGraphicsItem
问题就解决了！！！
下面是我从网络上找到的说明原文：
Just got this error message while compiling a tiny class that derives from QTreeWidgetItem:
error C2039: &#39;staticMetaObject&#39; : is not a member of &#39;QTreeWidgetItem&#39;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7e51193c7f756cf5d2d147e40e2dd00c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-29T09:38:28+08:00" />
<meta property="article:modified_time" content="2022-08-29T09:38:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">QT中添加Q_OBJECT出现的问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Multiple Inheritance Requires QObject to Be First（多重继承QObject一定要放在前面）</p> 
<p>我在用class My_Node : public QGraphicsItem，public QObject来生成自己的类时，想使用信号和槽机制，但这是dys_node.h中没有Q_OBJECT，不能使用信号槽。我将Q_OBJECT加上之后，出现几个不知道是什么的错误。然后我将工程目录下的Makefile删除，然后重新编译、链接文件，刚才的错误消失了，但出现如下三个错误：</p> 
<p>error: 'staticMetaObject' is not a member of 'QGraphicsItem'</p> 
<p>error: 'qt_metacast' is not a member of 'QGraphicsItem'</p> 
<p>error: 'qt_metacall' is not a member of 'QGraphicsItem'</p> 
<p>通过google，我发现这个错误是由于没有继承QObject类而引起的，但是我已经继承了QObject类了啊，到底是怎么回事呢？</p> 
<p>最后终于在网上找到了答案，当多继承的时候，要将QObject放在前面，即将类的声明改为</p> 
<p>class My_Node : public QObject，public QGraphicsItem</p> 
<p>问题就解决了！！！</p> 
<p>下面是我从网络上找到的说明原文：</p> 
<p>Just got this error message while compiling a tiny class that derives from QTreeWidgetItem:</p> 
<p>error C2039: 'staticMetaObject' : is not a member of 'QTreeWidgetItem'</p> 
<p>What this is saying is that QTreeWidgetItem does not inherit from QObject, meaning that your own, singly-inherited class also does not inherit from QObject. Inheriting from QObject is one of the prerequisites to using the Q_OBJECT macro, which, if you’re anything like me, you automatically insert into any Qt GUI related class.</p> 
<p>If you’re not using any of the meta object stuff in your subclass, such as signals/slots or properties, just take out the Q_OBJECT macro. If you need to use signals and slots, you’ll need to make your subclass multiply-inherit from QObject as well. If you take this route, remember that “Multiple Inheritance Requires QObject to Be First”, otherwise you’ll get either the same error as above, or something along the lines of “YourClass inherits from two QObject subclasses” from the moc。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2577ecfadc0d15b0914c406a9472e4d4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA上传代码到Gitee</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/625b63cc1b2cf68602889a0646bf451a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">嵌入式芯片概念梳理 - CPU、MCU、MP、DSP、FPGA、ASIC</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>