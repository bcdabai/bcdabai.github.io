<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Forge，WildFly Swarm和Arquillian开发微服务 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Forge，WildFly Swarm和Arquillian开发微服务" />
<meta property="og:description" content="在本文中，我们将看到如何使用WildFly Swarm和Forge开发微服务，以及如何使用Arquillian和Rest Assured对其进行测试。 WildFly Swarm提供了一种创新的方法来打包和运行Java EE应用程序，方法是将它们与足够的服务器运行时一起打包以“ java -jar”您的应用程序。 JBoss Forge是一个软件开发工具，可扩展您的Java IDE，并提供用于不同技术和解决方案的向导和扩展（附加组件）。 Arquillian是一个简化Java中间件集成测试的平台。 它处理了容器管理，部署和框架初始化的所有工作，因此您可以专注于编写测试（实际测试）的任务。 REST Assured将动态语言（例如Ruby和Groovy）中的REST服务的测试和验证的简便性带入了Java域。 http://downloads.jboss.org/forge/releases/3.4.0.Final/forge-distribution-3.4.0.Final-offline.zip或导航至http://forge.jboss.org/download并下载Eclipse，Netbeans或IntelliJ的插件。 对于此示例，我将使用CLI之一。 安装Forge并在PATH环境变量中提供它之后，就可以开始使用它了。 首先，转到要存储项目的目录并运行forge。 几秒钟后，您将看到Forge已启动，并且可以键入命令了： 之后，您需要安装wildfly-swarm插件 。 为此，只需在Forge shell上键入next命令： &gt; addon-install-from-git --url https://github.com/forge/wildfly-swarm-addon 然后将下载并安装最新的插件。 完成此设置步骤后，您可以通过调用以下命令开始创建微服务： &gt; project-new --top-level-package org.superbiz --named foo --type wildfly-swarm 此命令创建一个名为foo的新项目，其中准备了满足所有wildfly swarm要求的pom.xml 。 下一步是添加野生群片段。 片段是一种定义您希望在运行时能够使用的模块的方法。 &gt; wildfly-swarm-add-fraction --fractions microprofile 在这种情况下，添加微轮廓部分。 这意味着在运行时CDI &#43; JSON-P &#43; JAXRS将可用.Addon还创建了一个JAX-RS端点作为示例，您可以通过运行以下两个命令来检查它： &gt; cd src/main/java/org/superbiz/rest/HelloWorldEndpoint.java &gt; ls 然后返回项目的根目录，让我们调用为微服务创建Arquilian测试的命令 &gt; wildfly-swarm-new-test --target-package org.superbiz --named HelloWorldEndpointTest --as-client 在这种情况下，该测试称为HelloWorldEndpointTest，并且测试将以Arquillian as-client模式运行（这意味着该测试未部署在容器内，将在本地运行时运行）。 您可以使用以下两个命令检查生成的代码： &gt; cd src/test/java/org/superbiz &gt; cat HelloWorldEndpointTest." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d28500526eb4575b3057b7acf214a9ce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-05T07:13:03+08:00" />
<meta property="article:modified_time" content="2020-06-05T07:13:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Forge，WildFly Swarm和Arquillian开发微服务</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="entry" style="font-size: 16px;"> 
 <div class="e3lan-post"> 
  <div> 
   <span class="bt-uid-tg"></span> 
  </div> 
 </div> 
 <p> 在本文中，我们将看到如何使用<a href="http://wildfly-swarm.io/" rel="nofollow">WildFly Swarm</a>和<a href="http://forge.jboss.org/" rel="nofollow">Forge</a>开发微服务，以及如何使用<a href="http://arquillian.org/" rel="nofollow">Arquillian</a>和<a href="http://rest-assured.io/" rel="nofollow">Rest Assured</a>对其进行测试。 <br> <b class="raw_b_node">WildFly Swarm</b>提供了一种创新的方法来打包和运行Java EE应用程序，方法是将它们与足够的服务器运行时一起打包以“ java -jar”您的应用程序。 </p> 
 <p> <b class="raw_b_node">JBoss Forge</b>是一个软件开发工具，可扩展您的Java IDE，并提供用于不同技术和解决方案的向导和扩展（附加组件）。 </p> 
 <p> <b class="raw_b_node">Arquillian</b>是一个简化Java中间件集成测试的平台。 它处理了容器管理，部署和框架初始化的所有工作，因此您可以专注于编写测试（实际测试）的任务。 </p> 
 <p> <b class="raw_b_node">REST Assured</b>将动态语言（例如Ruby和Groovy）中的REST服务的测试和验证的简便性带入了Java域。 </p> 
 <p> http://downloads.jboss.org/forge/releases/3.4.0.Final/forge-distribution-3.4.0.Final-offline.zip或导航至<a href="http://forge.jboss.org/download" rel="nofollow">http://forge.jboss.org/download</a>并下载Eclipse，Netbeans或IntelliJ的插件。 对于此示例，我将使用CLI之一。 <br> 安装Forge并在PATH环境变量中提供它之后，就可以开始使用它了。 </p> 
 <p> 首先，转到要存储项目的目录并运行forge。 几秒钟后，您将看到<b class="raw_b_node">Forge</b>已启动，并且可以键入命令了： </p> 
 <p> <a href="//www.javacodegeeks.com/wp-content/uploads/2017/01/Screen-Shot-2017-01-09-at-11.32.33.png" rel="nofollow" style="display:block;text-align:center;"><img class="aligncenter size-full wp-image-63135" src="https://images2.imgbox.com/70/4f/5IHBG3Ff_o.png" alt="" width="731" height="324"></a> <br> 之后，您需要安装<i class="raw_i_node">wildfly-swarm插件</i> 。 为此，只需在<b class="raw_b_node">Forge</b> shell上键入next命令： </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; addon-install-from-git --url https://github.com/forge/wildfly-swarm-addon</code></pre> 
 <p> 然后将下载并安装最新的插件。 完成此设置步骤后，您可以通过调用以下命令开始创建微服务： </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; project-new --top-level-package org.superbiz --named foo --type wildfly-swarm</code></pre> 
 <p> 此命令创建一个名为<i class="raw_i_node">foo</i>的新项目，其中准备了满足所有wildfly swarm要求的<i class="raw_i_node">pom.xml</i> 。 下一步是添加野生群片段。 片段是一种定义您希望在运行时能够使用的模块的方法。 </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; wildfly-swarm-add-fraction --fractions microprofile</code></pre> 
 <p> 在这种情况下，添加微轮廓部分。 这意味着在运行时CDI + JSON-P + JAXRS将可用.Addon还创建了一个JAX-RS端点作为示例，您可以通过运行以下两个命令来检查它： </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; cd src/main/java/org/superbiz/rest/HelloWorldEndpoint.java
&gt; ls</code></pre> 
 <p> 然后返回项目的根目录，让我们调用为微服务创建Arquilian测试的命令 </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; wildfly-swarm-new-test --target-package org.superbiz --named HelloWorldEndpointTest --as-client</code></pre> 
 <p> 在这种情况下，该测试称为<i class="raw_i_node">HelloWorldEndpointTest，</i>并且测试将以Arquillian <i class="raw_i_node">as-client</i>模式运行（这意味着该测试未部署在容器内，将在本地运行时运行）。 您可以使用以下两个命令检查生成的代码： </p> 
 <pre class="has"><code class="notranslate brush:java">&gt; cd src/test/java/org/superbiz
&gt; cat HelloWorldEndpointTest.java</code></pre> 
 <p> 请注意，该测试尚未验证任何内容，但是由于我们使用的是as-client模式，因此该测试会在启动应用程序的位置注入URL。 让我们使用<b class="raw_b_node">REST-assured</b>添加一些检查。返回项目的根目录并通过调用next命令添加REST-assured依赖项： </p> 
 <pre class="has"><code class="notranslate brush:xml">&gt; project-add-dependencies io.rest-assured:rest-assured:3.0.1:test
&gt; cat pom.xml</code></pre> 
 <p> 最后，您可以在空测试中使用<b class="raw_b_node">REST保证的方法</b>来验证您的微服务端点是否有效地返回<i class="raw_i_node">“来自WildFly Swam的问候！”。</i> 。 </p> 
 <pre class="has"><code class="notranslate brush:java">package org.superbiz;

import io.restassured.builder.RequestSpecBuilder;
import org.jboss.arquillian.junit.Arquillian;
import org.jboss.arquillian.test.api.ArquillianResource;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.wildfly.swarm.arquillian.DefaultDeployment;

import java.net.URISyntaxException;
import java.net.URL;

import static io.restassured.RestAssured.given;
import static org.hamcrest.CoreMatchers.is;

@RunWith(Arquillian.class)
@DefaultDeployment(testable = false, type = DefaultDeployment.Type.WAR)
public class HelloWorldEndpointTest {

  @ArquillianResource
  private URL url;

  @Test
  public void should_start_service() throws URISyntaxException {

    RequestSpecBuilder requestSpecBuilder = new RequestSpecBuilder();
    requestSpecBuilder.setBaseUri(url.toURI());
    given(requestSpecBuilder.build())
	.when()
        .get("hello")
	.then()
        .assertThat()
	.body(is("Hello from WildFly Swarm!"));

  }
}</code></pre> 
 <p> 当您运行此测试时，幕后发生的事情是微服务在本地打包和部署。 当服务准备好接收传入的请求时，测试将向<i class="raw_i_node">/ hello</i>发送GET请求，并断言响应正文为<i class="raw_i_node">“来自WildFly Swam的Hello！”。</i> <br> 您可以在<a href="https://youtu.be/9xb6GIZ1gjs" rel="nofollow">https://youtu.be/9xb6GIZ1gjs</a>看到运行 <br> 这是一个非常简单的示例，而这正是本文的目的。 只需向您展示如何使用<b class="raw_b_node">Forge</b>并运行一些命令，即可启动一个已开始运行其集成测试的项目。 </p> 
 <blockquote> 
  <p>翻译自: <a href="https://www.javacodegeeks.com/2017/01/develop-microservice-forge-wildfly-swarm-arquillian.html" rel="nofollow">https://www.javacodegeeks.com/2017/01/develop-microservice-forge-wildfly-swarm-arquillian.html</a></p> 
 </blockquote> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/feb4bc33b8bea92e743a8386e6475346/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Web系统中出现 localhost 将您重定向的次数过多问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/849941bded1a37abd4bc1fdf9955412b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">荣耀30Pro真实评测 令人心动的全能旗舰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>