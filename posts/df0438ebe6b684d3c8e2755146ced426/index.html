<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安卓入门：动态输入日期与时间 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安卓入门：动态输入日期与时间" />
<meta property="og:description" content="今天对DatePicker和TimePicker进行了学习，并且参照了教程自己打了一遍。 DatePicker 与TimePicker 应用 ① 新建工程 ② 修改main.xml 布局，添加一个DatePicker、一个TimePicker、一个TextView &lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;AbsoluteLayout android:id=&#34;@&#43;id/widget0&#34; android:layout_width=&#34;fill_parent&#34; android:layout_height=&#34;fill_parent&#34; xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; &gt; &lt;DatePicker android:id=&#34;@&#43;id/my_DatePicker&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; android:layout_x=&#34;10px&#34; android:layout_y=&#34;10px&#34;&gt; &lt;/DatePicker&gt;&lt;!-- 日期设置器--&gt; &lt;TimePicker android:id=&#34;@&#43;id/my_TimePicker&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; android:layout_x=&#34;10px&#34; android:layout_y=&#34;150px&#34;&gt; &lt;/TimePicker&gt;&lt;!-- 事件设置器--&gt; &lt;TextView android:id=&#34;@&#43;id/my_TextView&#34; android:layout_width=&#34;228px&#34; android:layout_height=&#34;29px&#34; android:text=&#34;TextView&#34; android:layout_x=&#34;10px&#34; android:layout_y=&#34;300px&#34;&gt; &lt;/TextView&gt; &lt;/AbsoluteLayout&gt; ③ DatePicker 的初始化与日期改变事件的处理 /* 定义程序用到的UI元素对象:日历设置器*/ DatePicker my_datePicker; /* findViewById()从XML中获取UI元素对象*/ my_datePicker = (DatePicker) findViewById(R.id.my_DatePicker); -----------------------------------Android 编程基础 41 ④ TimePicker 的初始化与时间改变事件的处理 ⑤ 修改mainActivity.java，添加动态修改时间并显示效果 /*为日历设置器添加点击事件监听器，处理设置日期事件*/ my_datePicker.init(my_Year, my_Month, my_Day, new DatePicker." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/df0438ebe6b684d3c8e2755146ced426/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-01-21T14:16:12+08:00" />
<meta property="article:modified_time" content="2014-01-21T14:16:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安卓入门：动态输入日期与时间</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="font-family:Microsoft YaHei; color:#ff0000">今天对</span><span style="font-family:Microsoft YaHei">DatePicker</span><span style="font-family:Microsoft YaHei; color:#ff0000">和</span><span style="font-family:Microsoft YaHei">TimePicker</span><span style="font-family:Microsoft YaHei; color:#ff0000">进行了学习，并且参照了教程自己打了一遍。</span></h2> 
<h3><span style="font-family:Microsoft YaHei; color:#6666cc">DatePicker 与TimePicker 应用</span></h3> 
<h4><span style="font-size:18px; color:#3366ff"><span style="font-family:Microsoft YaHei">① 新建工程</span></span></h4> 
<h4><span style="font-size:18px; color:#3366ff"><span style="font-family:Microsoft YaHei">② 修改main.xml 布局，添加一个DatePicker、一个TimePicker、一个TextView</span></span></h4> 
<h4><span style="font-family:Microsoft YaHei"></span> </h4><p></p> <pre><code class="language-java">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;AbsoluteLayout
android:id="@+id/widget0"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
xmlns:android="http://schemas.android.com/apk/res/android" &gt;
&lt;DatePicker
android:id="@+id/my_DatePicker"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_x="10px"
android:layout_y="10px"&gt;
&lt;/DatePicker&gt;&lt;!-- 日期设置器--&gt;
&lt;TimePicker
android:id="@+id/my_TimePicker"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_x="10px"
android:layout_y="150px"&gt;
&lt;/TimePicker&gt;&lt;!-- 事件设置器--&gt;
&lt;TextView
android:id="@+id/my_TextView"
android:layout_width="228px"
android:layout_height="29px"
android:text="TextView"
android:layout_x="10px"
android:layout_y="300px"&gt;
&lt;/TextView&gt;
&lt;/AbsoluteLayout&gt;</code></pre> <p></p> <br> <span style="font-size:18px; color:rgb(51,102,255)">③ DatePicker 的初始化与日期改变事件的处理</span> 
<h4><span style="font-family:Microsoft YaHei"><span style="font-size:18px; color:rgb(51,102,255)"></span></span><pre><code class="language-java">/* 定义程序用到的UI元素对象:日历设置器*/
DatePicker my_datePicker;
/* findViewById()从XML中获取UI元素对象*/
my_datePicker = (DatePicker) findViewById(R.id.my_DatePicker);
-----------------------------------Android 编程基础
41
④ TimePicker 的初始化与时间改变事件的处理
⑤ 修改mainActivity.java，添加动态修改时间并显示效果
/*为日历设置器添加点击事件监听器，处理设置日期事件*/
my_datePicker.init(my_Year, my_Month, my_Day,
new DatePicker.OnDateChangedListener(){
@Override
public void onDateChanged(DatePicker view, int year,
int monthOfYear, int dayOfMonth) {
// TODO Auto-generated method stub
/*日期改变事件处理*/
}
});</code></pre><br> <br> <span style="font-size:18px; color:rgb(51,102,255)">④ TimePicker 的初始化与时间改变事件的处理</span></h4> 
<h4><span style="font-family:Microsoft YaHei; font-size:18px; color:rgb(51,102,255)"><br> </span></h4> 
<h4><span style="font-family:Microsoft YaHei"><span style="font-size:18px; color:rgb(51,102,255)"></span></span><pre><code class="language-java">/* 定义程序用到的UI元素对象:时间设置器*/
TimePicker my_timePicker;
/* findViewById()从XML中获取UI元素对象*/
my_timePicker = (TimePicker) findViewById(R.id.my_TimePicker);
/* 把时间设置成24小时制*/
my_timePicker.setIs24HourView(true);
/*为时间设置器添加点击事件监听器，处理设置时间事件*/
my_timePicker.setOnTimeChangedListener(new
TimePicker.OnTimeChangedListener(){
@Override
public void onTimeChanged(TimePicker view, int hourOfDay,
int minute) {
// TODO Auto-generated method stub
/*时间改变事件处理*/
}
});</code></pre><br> <br> <span style="font-size:18px; color:rgb(51,102,255)">⑤ 修改mainActivity.java，添加动态修改时间并显示效果</span></h4> 
<div> 
 <span style="font-family:Microsoft YaHei"><br> </span> 
</div> 
<div> 
 <span style="font-family:Microsoft YaHei"></span> 
 <pre><code class="language-java"><span style="font-family:Microsoft YaHei;">/*导入要使用的包*/
import java.util.Calendar;
import java.util.Locale;
import android.app.Activity;
import android.os.Bundle;
import android.widget.DatePicker;
import android.widget.TextView;
import android.widget.TimePicker;
public class Ex_Ctrl_15ME extends Activity {
/** Called when the activity is first created. */
/* 定义时间变量：年、月、日、小时、分钟*/
int my_Year;
int my_Month;
-----------------------------------Android 编程基础
42
int my_Day;
int my_Hour;
int my_Minute;
/* 定义程序用到的UI元素对象:日历设置器、时间设置器、显示时间的TextView */
DatePicker my_datePicker;
TimePicker my_timePicker;
TextView showDate_Time;
/* 定义日历对象，初始化时，用来获取当前时间*/
Calendar my_Calendar;
@Override
public void onCreate(Bundle savedInstanceState) {
/* 从Calendar抽象基类获得实例对象，并设置成中国时区*/
my_Calendar = Calendar.getInstance(Locale.CHINA);
/* 从日历对象中获取当前的：年、月、日、时、分*/
my_Year = my_Calendar.get(Calendar.YEAR);
my_Month = my_Calendar.get(Calendar.MONTH);
my_Day = my_Calendar.get(Calendar.DAY_OF_MONTH);
my_Hour = my_Calendar.get(Calendar.HOUR_OF_DAY);
my_Minute = my_Calendar.get(Calendar.MINUTE);
super.onCreate(savedInstanceState);
setContentView(R.layout.main);
/* findViewById()从XML中获取UI元素对象*/
my_datePicker = (DatePicker) findViewById(R.id.my_DatePicker);
my_timePicker = (TimePicker) findViewById(R.id.my_TimePicker);
showDate_Time = (TextView) findViewById(R.id.my_TextView);
/* 把时间设置成24小时制*/
my_timePicker.setIs24HourView(true);
/* 显示时间*/
loadDate_Time();
/*为日历设置器添加点击事件监听器，处理设置日期事件*/
my_datePicker.init(my_Year, my_Month, my_Day,
new DatePicker.OnDateChangedListener(){
@Override
public void onDateChanged(DatePicker view, int year,
int monthOfYear, int dayOfMonth) {
// TODO Auto-generated method stub
/*把设置改动后的日期赋值给我的日期对象*/
my_Year=year;
my_Month=monthOfYear;
my_Day=dayOfMonth;
/* 动态显示修改后的日期*/
loadDate_Time();
}
});
-----------------------------------Android 编程基础
43
⑥ 结果
/*为时间设置器添加点击事件监听器，处理设置时间事件*/
my_timePicker.setOnTimeChangedListener(new
TimePicker.OnTimeChangedListener(){
@Override
public void onTimeChanged(TimePicker view, int hourOfDay,
int minute) {
/*把设置改动后的时间赋值给我的时间对象*/
my_Hour=hourOfDay;
my_Minute=minute;
/* 动态显示修改后的时间*/
loadDate_Time();
}
});
} 
private void loadDate_Time() {
showDate_Time.setText(new StringBuffer()
.append(my_Year).append("/")
.append(FormatString(my_Month + 1))
.append("/").append(FormatString(my_Day))
.append(" ").append(FormatString(my_Hour))
.append(" : ").append(FormatString(my_Minute)));
} 
private String FormatString(int x) {
String s = Integer.toString(x);
if (s.length() == 1) {
s = "0" + s;
} return s;
}
}</span></code></pre> 
 <div> 
  <br> 
 </div> 
 <h3><span style="font-family:Microsoft YaHei; color:#6600cc">下面是Demo下载</span></h3> 
</div> 
<h3><span style="font-family:Microsoft YaHei; color:#6600cc"><a target="_blank" href="http://download.csdn.net/detail/xhjfor/6870325" rel="noopener noreferrer">DataPicker.ra</a>r</span></h3> 
<div> 
 <br> 
 <br> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2a3af9fd318bd3cf346510d0d38b5e10/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详解Java中的clone方法 -- 原型模式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a8389ac7e01181ac49ef9b4c296e1673/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MVC4相关Razor语法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>