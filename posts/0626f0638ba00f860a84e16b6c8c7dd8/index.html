<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据库安全性 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据库安全性" />
<meta property="og:description" content="一、数据库安全性：保护数据以防不合法的使用所造成的数据泄露、更改或破坏。
重要性：
特点：数据共享数据共享带来安全性的问题数据共享不能无条件共享 数据库不安全因素：
1、非授权用户身份对数据库的恶意存取和破坏----------安全措施：用户身份鉴别、存取控制、视图
2、数据库中重要或敏感数据被泄露-----------安全措施：审计、日志、入侵检测、数据加密
3.安全环境脆弱性，包括：硬盘、OS、网络..---------可信计算机标准
数据库安全技术：
1.用户身份鉴别
系统最外层安全保护措施系统提供一定的方式让用户表示自己的名字和身份系统进行核实，通过鉴定后才提供资统使用权 口令：静态（易被窃取），动态（一次一密）
生物特征识别:指纹，声音，照片
2.存取控制
对于有上机权的用户还要根据系统预先定义好的外模式（视图）或用户权限进行存取控制，保证用户只能存取有权存取的数据。
方法：定义用户权限，合法权限检查
常用存取控制方法：
自主存取控制（DAC），C2级，灵活
强制存取控制（MAC），B1级，严格
3.视图机制
视图能够把要保密的数据对无权存取数据的用户隐藏起来，因此对数据提供一定程度的安全保护
间接实现了支持存取谓词的用户权限定义
4.审计
系统自动建立审计日志，将用户对数据库的所有操作记录在上面
DBA利用审计日志找出非法存取数据的人，时间，内容
C2以上安全级别的DBMS必须具有审计功能
审计分类：
用户级审计：针对自己创建的数据库表或视图进行审计（记录所有用户一切成功或不成功的访问要求以及各类型的SQL操作）系统及审计：由DBA设置，检测成功或失败的登录要求，监测GRANT和REVOKE操作以及其他数据库权限下的操作 审计AUDIT语句：
AUDIT：设计审计功能NOAUDIT：取消审计功能 对修改SC表结构或修改SC表数据的操作进行审计
audit alter，update
on SC；
取消对SC表的一切审计
noaudit alter，update
on SC； 5.数据加密
数据库中的数据以密码形式存放，使用时由用户设计的解码程序将其转化成用户可读的数据。这样数据即使被窃取，也只是一些无法辨认的代码。
分类：存储加密、传输加密
数据库加密实现层次：
·OS层 ：文件级加密，加解密力度粗糙
·DBMS内核层：视图&#43;触发器&#43;扩展索引&#43;外部调用来数据加密，加重数据库内核负担
·DBMS外层：做数据加密系统，可扩充性强，功能查询效率限制
二、自主存取控制方法DAC
用户对不同数据库对象有不同存取权限，不同用户对同一对象有不同权限，用户可将其权限转授其他用户。
组成要素：数据对象、操作类型
授权：用户可以在哪些数据库对象上进行哪些类型的操作。
对象类型对象操作类型数据库模式模式create schema基本表create table，alter table视图create view索引create index数据基本表和视图select，insect，update，delete，references，all privileges属性列select，insert，update，references,all privileges SQL中grant和revoke语句实现自主存取控制:
grant/revoke授权 1.grant语句：授权（不能循环授权）
grant &lt;权限&gt; [，&lt;权限&gt;]...
[on &lt;对象类型&gt; &lt;对象名&gt;]
to &lt;用户&gt; [，&lt;用户&gt;]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0626f0638ba00f860a84e16b6c8c7dd8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-13T21:45:58+08:00" />
<meta property="article:modified_time" content="2022-05-13T21:45:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据库安全性</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、数据库安全性：保护数据以防不合法的使用所造成的数据泄露、更改或破坏。</p> 
<p>重要性：</p> 
<ol><li>特点：数据共享</li><li>数据共享带来安全性的问题</li><li>数据共享不能无条件共享</li></ol> 
<p>数据库不安全因素：</p> 
<p>1、非授权用户身份对数据库的恶意存取和破坏----------安全措施：用户身份鉴别、存取控制、视图</p> 
<p>2、数据库中重要或敏感数据被泄露-----------安全措施：审计、日志、入侵检测、数据加密</p> 
<p>3.安全环境脆弱性，包括：硬盘、OS、网络..---------可信计算机标准</p> 
<p></p> 
<p>数据库安全技术：</p> 
<p>1.用户身份鉴别</p> 
<ul><li>    系统最外层安全保护措施</li><li>系统提供一定的方式让用户表示自己的名字和身份</li><li>系统进行核实，通过鉴定后才提供资统使用权</li></ul> 
<p>口令：静态（易被窃取），动态（一次一密）</p> 
<p>生物特征识别:指纹，声音，照片</p> 
<p></p> 
<p>2.存取控制</p> 
<p>对于有上机权的用户还要根据系统预先定义好的外模式（视图）或用户权限进行存取控制，保证用户只能存取有权存取的数据。</p> 
<p>方法：定义用户权限，合法权限检查</p> 
<p>常用存取控制方法：</p> 
<p>自主存取控制（DAC），C2级，灵活</p> 
<p>强制存取控制（MAC），B1级，严格</p> 
<p></p> 
<p>3.视图机制</p> 
<p>视图能够把要保密的数据对无权存取数据的用户隐藏起来，因此对数据提供一定程度的安全保护</p> 
<p>间接实现了支持存取谓词的用户权限定义</p> 
<p></p> 
<p>4.审计</p> 
<p>系统自动建立审计日志，将用户对数据库的所有操作记录在上面</p> 
<p>DBA利用审计日志找出非法存取数据的人，时间，内容</p> 
<p>C2以上安全级别的DBMS必须具有审计功能</p> 
<p>审计分类：</p> 
<ul><li>用户级审计：针对自己创建的数据库表或视图进行审计（记录所有用户一切成功或不成功的访问要求以及各类型的SQL操作）</li><li>系统及审计：由DBA设置，检测成功或失败的登录要求，监测GRANT和REVOKE操作以及其他数据库权限下的操作</li></ul> 
<p>审计AUDIT语句：</p> 
<ul><li>AUDIT：设计审计功能</li><li>NOAUDIT：取消审计功能</li></ul> 
<blockquote> 
 <p>对修改SC表结构或修改SC表数据的操作进行审计</p> 
 <p>audit  alter，update</p> 
 <p>on  SC；</p> 
</blockquote> 
<blockquote> 
 <p>取消对SC表的一切审计</p> 
 <p>noaudit alter，update</p> 
 <p>on SC；                          </p> 
</blockquote> 
<p></p> 
<p>5.数据加密</p> 
<p>数据库中的数据以密码形式存放，使用时由用户设计的解码程序将其转化成用户可读的数据。这样数据即使被窃取，也只是一些无法辨认的代码。</p> 
<p>分类：存储加密、传输加密</p> 
<p>数据库加密实现层次：</p> 
<p>·OS层 ：文件级加密，加解密力度粗糙</p> 
<p>·DBMS内核层：视图+触发器+扩展索引+外部调用来数据加密，加重数据库内核负担</p> 
<p>·DBMS外层：做数据加密系统，可扩充性强，功能查询效率限制</p> 
<p></p> 
<p>二、自主存取控制方法DAC</p> 
<p>用户对不同数据库对象有不同存取权限，不同用户对同一对象有不同权限，用户可将其权限转授其他用户。</p> 
<p>组成要素：数据对象、操作类型</p> 
<p>授权：用户可以在哪些数据库对象上进行哪些类型的操作。</p> 
<table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>对象类型</td><td>对象</td><td>操作类型</td></tr><tr><td colspan="1" rowspan="4">数据库模式</td><td>模式</td><td>create schema</td></tr><tr><td>基本表</td><td>create table，alter table</td></tr><tr><td>视图</td><td>create view</td></tr><tr><td>索引</td><td>create index</td></tr><tr><td colspan="1" rowspan="2">数据</td><td>基本表和视图</td><td>select，insect，update，delete，references，all privileges</td></tr><tr><td>属性列</td><td>select，insert，update，references,all privileges</td></tr></tbody></table> 
<p>SQL中grant和revoke语句实现自主存取控制:</p> 
<ul><li>grant/revoke授权</li></ul> 
<p>  1.grant语句：授权（不能循环授权）</p> 
<blockquote> 
 <p>grant &lt;权限&gt; [，&lt;权限&gt;]...</p> 
 <p>         [on &lt;对象类型&gt; &lt;对象名&gt;]</p> 
 <p>         to &lt;用户&gt; [，&lt;用户&gt;]...</p> 
 <p>        [with grant option];</p> 
</blockquote> 
<p>授权人：DBA、数据库对象创建者、拥有该权限用户</p> 
<p>被授权人：一或多个具体用户，public全体用户</p> 
<p>with grant option子句：指定：可以再授予；没有指定：不能传播</p> 
<pre><code class="language-sql">例1：把查询Student表和修改学生学号的权限授给用户U4

grant update(Sno),
select on table Student
to U4;</code></pre> 
<pre><code class="language-sql">例2：对SC表的查询权限授予所有用户

grant select on table SC to public;
</code></pre> 
<pre><code class="language-sql">例3：对Student表和Course表的全部权限授予用户U2和U3

grant all priviliges
on table Student,Course
to U2,U3;</code></pre> 
<pre><code class="language-sql">例4：把对表SC的insert权限授予用户U5，并允许他将此权限授予其他用户

grant insert on table SC to U5 with grant option;

U5:grant insert on table SC to U6 with grant option;

U6:grant insert on table SC to U7;</code></pre> 
<p>2.revoke语句：回收权限</p> 
<blockquote> 
 <p>revoke  &lt;权限&gt;  [，&lt;权限&gt;]...</p> 
 <p>[on &lt;对象类型&gt; &lt;对象名&gt;]</p> 
 <p>from &lt;用户&gt; [，&lt;用户&gt;...[ cascade | restrict ]；</p> 
</blockquote> 
<pre><code class="language-sql">例1：把用户U4修改学生学号权限收回

revoke update(Sno)
on table Student
from U4;</code></pre> 
<pre><code class="language-sql">例2：回收所有用户对表SC的查询权限

revoke select on table SC from public;</code></pre> 
<pre><code class="language-sql">例3：用户U5对SC表的insert权限收回

revoke insert on table SC from U5 cascade;

因为U5把权限授给U6，句尾要加上cascade（级联回收），系统回收直接间接从U5处获得的权限</code></pre> 
<ul><li>创建数据库模式的授权---DBA </li></ul> 
<p>系统超级用户才有权执行</p> 
<blockquote> 
 <p>create user  &lt;username&gt;</p> 
 <p>           [with]  [ DBA | resource | connect ]</p> 
</blockquote> 
<p> </p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:593px;"><tbody><tr><td colspan="1" rowspan="2">拥有权限</td><td colspan="4" rowspan="1" style="width:526px;">可否执行的操作</td></tr><tr><td>create user</td><td>create schema</td><td>create table</td><td style="width:265px;">登录数据库 执行数据查询和操纵</td></tr><tr><td>DBA</td><td>可以</td><td>可以</td><td>可以</td><td style="width:265px;">可以</td></tr><tr><td>resource</td><td>不可以</td><td>不可以</td><td>可以</td><td style="width:265px;">可以</td></tr><tr><td>connect</td><td>不可以</td><td>不可以</td><td>不可以</td><td style="width:265px;">可以，但必须拥有权限</td></tr></tbody></table> 
<p>数据库角色：被命名的一组与数据库操作相关的权限</p> 
<p>1.角色的创建：</p> 
<blockquote> 
 <p>create role  &lt;角色名&gt;</p> 
</blockquote> 
<p>2.角色授权：</p> 
<p>role是权限的集合</p> 
<blockquote> 
 <p>grant &lt;权限&gt; [，&lt;权限&gt;]...</p> 
 <p>         [on &lt;对象类型&gt; &lt;对象名&gt;]</p> 
 <p>         to &lt;用户&gt;  [，&lt;用户&gt;]...</p> 
</blockquote> 
<p>3.将一个角色授予其他的角色或用户</p> 
<blockquote> 
 <p>grant &lt;角色1&gt; [，&lt;角色2&gt;]...</p> 
 <p>         to &lt;角色3&gt; [，&lt;用户1&gt;]...</p> 
 <p>        [with admin option]</p> 
</blockquote> 
<p>4.角色权限的回收</p> 
<blockquote> 
 <p>revoke  &lt;权限&gt;  [，&lt;权限&gt;]...</p> 
 <p>[on &lt;对象类型&gt; &lt;对象名&gt;]</p> 
 <p>from &lt;角色&gt; [，&lt;角色&gt; ]...</p> 
</blockquote> 
<pre><code class="language-sql">例1：通过角色实现一组权限的授予与回收

--创建角色R1
  create role R1；
--给R1授权
  grant select，update，insert on table Student to R1;
--R1授给多个用户
  grant R1 to 王平，张明，赵玲；
--一次性通过R1回收多个权限
  revoke R1 from 王平；</code></pre> 
<ul><li>自主存取控制缺点：</li></ul> 
<p>   可能存在“无意泄露”，由于数据本身无安全性标记</p> 
<p></p> 
<p>二、强制存取控制MAC</p> 
<p>系统为保证更高的安全性，按照TDI/TCSEC标准中安全策略要求所采取的强制存取检查手段。</p> 
<p>由系统安全管理员设置，普通用户不能感知或进行控制</p> 
<p>适用于数据严格、固定密集分类的部门，eg：军事政府部门。</p> 
<p>DBMS所管理的全部实体</p> 
<ul><li>实体：DBMS管理的实际用户，代表用户的各进程</li><li>客体：被动实体，受主体操作。包括：文件、基表、索引、视图</li></ul> 
<p>对主体客体，DBMS为他们每个实例指派一个敏感度标记（Lable）   </p> 
<p>         lable等级：绝密&gt;机密&gt;可信&gt;公开 </p> 
<p>lable 主体：许可证级别；客体：密级</p> 
<p>强制性存取控制就是通过对比主体的许可证级别和客体的密集，最终确定主体能否存取客体。</p> 
<p></p> 
<p>规则：</p> 
<ul><li>主体的许可证级别&gt;客体的密集,主体能读客体（向下读）</li><li>主体的许可证级别&lt;=客体的密集,主体能写客体（向上写）</li></ul> 
<p>规则关键点：禁止高级许可证级别的主体更新低级密集的客体</p> 
<p>强制性存取控制优点：</p> 
<ul><li>禁止高级许可证级别的主体更新低级密集的数据对象，保证了敏感数据的可靠性</li><li>禁止低许可证级别的主体浏览高密集的数据，避免了敏感数据的泄露</li><li>MAC对数据本身进行密级标记，无论数据如何复制，标记与数据是不可分割的整体。只有符合密集标记要求的用户才可以操作相应数据，提高了安全性级别</li></ul> 
<p>强制性存取控制方法：</p> 
<ul><li>DAC和MAC共同构成DBMS的安全机制</li><li>实现MAC要首先实现DAC</li><li>进行DAC检查，通过再进行MAC检查，都通过的数据对象方可存取</li></ul> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e0fab838a9a40d60fb07b8eaab08e925/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Wget下载慢，CentOs换成阿里源</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/084cee4d2a193e9cf8226f58f8ce94dd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java读取共享文件夹</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>