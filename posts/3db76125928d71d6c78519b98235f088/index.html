<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>dm8&#43;centos7单机安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="dm8&#43;centos7单机安装" />
<meta property="og:description" content="[root@pg01 ~]# pwd
/root
[root@pg01 ~]# groupadd dinstall
[root@pg01 ~]# useradd -g dinstall dmdba
[root@pg01 ~]# passwd dmdba
Changing password for user dmdba.
New password: BAD PASSWORD: The password is shorter than 8 characters
Retype new password: passwd: all authentication tokens updated successfully.
[root@pg01 ~]# mkdir /dm8
[root@pg01 ~]# chown -R dmdba:dinstall /dm8
[root@pg01 ~]# chmod -R 755 /dm8
[root@pg01 ~]# vi /etc/security/limits.conf dmdba hard nofile 65536
dmdba soft nofile 65536" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3db76125928d71d6c78519b98235f088/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-02T12:01:06+08:00" />
<meta property="article:modified_time" content="2021-09-02T12:01:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">dm8&#43;centos7单机安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>[root@pg01 ~]# pwd<br> /root<br> [root@pg01 ~]# groupadd dinstall<br> [root@pg01 ~]# useradd -g dinstall dmdba<br> [root@pg01 ~]# passwd dmdba<br> Changing password for user dmdba.<br> New password: <br> BAD PASSWORD: The password is shorter than 8 characters<br> Retype new password: <br> passwd: all authentication tokens updated successfully.<br> [root@pg01 ~]# mkdir /dm8<br> [root@pg01 ~]# chown -R dmdba:dinstall /dm8<br> [root@pg01 ~]# chmod -R 755 /dm8<br> [root@pg01 ~]# vi /etc/security/limits.conf </p> 
<p>dmdba hard nofile 65536<br> dmdba soft nofile 65536<br> dmdba hard stack 32768<br> dmdba soft stack 16384</p> 
<p>"/etc/security/limits.conf" 66L, 2517C written<br> [root@pg01 ~]# su - dmdb<br> su: user dmdb does not exist<br> [root@pg01 ~]# su - dmdba<br> [dmdba@pg01 ~]$ ulimit -a<br> core file size          (blocks, -c) 0<br> data seg size           (kbytes, -d) unlimited<br> scheduling priority             (-e) 0<br> file size               (blocks, -f) unlimited<br> pending signals                 (-i) 7183<br> max locked memory       (kbytes, -l) 64<br> max memory size         (kbytes, -m) unlimited<br> open files                      (-n) 65536<br> pipe size            (512 bytes, -p) 8<br> POSIX message queues     (bytes, -q) 819200<br> real-time priority              (-r) 0<br> stack size              (kbytes, -s) 16384<br> cpu time               (seconds, -t) unlimited<br> max user processes              (-u) 4096<br> virtual memory          (kbytes, -v) unlimited<br> file locks                      (-x) unlimited<br> [dmdba@pg01 ~]$ exit<br> logout<br> [root@pg01 ~]# systemctl disable firewalld<br> [root@pg01 ~]# systemctl stop firewalld<br> [root@pg01 ~]# pwd<br> /root<br> [root@pg01 ~]# ll<br> total 821820<br> -rw-r--r--. 1 root root 776092592 Sep  2 11:05 dm8_20210818_x86_rh7_64_ent.zip  介质准备：https://eco.dameng.com/download/<br> [root@pg01 ~]# unzip dm8_20210818_x86_rh7_64_ent.zip <br> Archive:  dm8_20210818_x86_rh7_64_ent.zip<br>    creating: dm8_20210818_x86_rh7_64_ent/<br>   inflating: dm8_20210818_x86_rh7_64_ent/dm8_20210818_x86_rh7_64_ent_8.1.2.18_pack13.iso_SHA256.txt  <br>   inflating: dm8_20210818_x86_rh7_64_ent/dm8_20210818_x86_rh7_64_ent_8.1.2.18_pack13.iso  <br> [root@pg01 ~]# cd dm8_20210818_x86_rh7_64_ent<br> [root@pg01 dm8_20210818_x86_rh7_64_ent]# ll<br> total 769312<br> -rw-r--r--. 1 root root 787769344 Aug 20 09:06 dm8_20210818_x86_rh7_64_ent_8.1.2.18_pack13.iso<br> -rw-r--r--. 1 root root       167 Aug 20 09:06 dm8_20210818_x86_rh7_64_ent_8.1.2.18_pack13.iso_SHA256.txt<br> [root@pg01 dm8_20210818_x86_rh7_64_ent]# mount -o loop /root/dm8_20210818_x86_rh7_64_ent/dm8_20210818_x86_rh7_64_ent_8.1.2.18_pack13.iso /mnt<br> mount: /dev/loop0 is write-protected, mounting read-only<br> [root@pg01 dm8_20210818_x86_rh7_64_ent]# df -h<br> Filesystem               Size  Used Avail Use% Mounted on<br> devtmpfs                 898M     0  898M   0% /dev<br> tmpfs                    910M   16K  910M   1% /dev/shm<br> tmpfs                    910M  9.5M  901M   2% /run<br> tmpfs                    910M     0  910M   0% /sys/fs/cgroup<br> /dev/mapper/centos-root   17G  3.8G   14G  22% /<br> /dev/sda1               1014M  150M  865M  15% /boot<br> tmpfs                    182M     0  182M   0% /run/user/0<br> /dev/loop0               752M  752M     0 100% /mnt<br> [root@pg01 dm8_20210818_x86_rh7_64_ent]# cd /mnt<br> [root@pg01 mnt]# ll<br> total 769244<br> -r-xr-xr-x. 1 root root   2784248 Aug 18 17:44 DM8 Install.pdf<br> -r-xr-xr-x. 1 root root 784920869 Aug 18 17:47 DMInstall.bin<br> [root@pg01 mnt]# su - dmdba<br> Last login: Thu Sep  2 10:19:55 CST 2021 on pts/0<br> [dmdba@pg01 ~]$ cd /dmnt<br> -bash: cd: /dmnt: No such file or directory<br> [dmdba@pg01 ~]$ cd /mnt<br> [dmdba@pg01 mnt]$ ll<br> total 769244<br> -r-xr-xr-x. 1 root root   2784248 Aug 18 17:44 DM8 Install.pdf<br> -r-xr-xr-x. 1 root root 784920869 Aug 18 17:47 DMInstall.bin<br> [dmdba@pg01 mnt]$ ./DMInstall.bin -i<br> Please select the installer's language (E/e:English C/c:Chinese) [E/e]:C<br> 解压安装程序..........<br> 欢迎使用达梦数据库安装程序</p> 
<p>是否输入Key文件路径? (Y/y:是 N/n:否) [Y/y]:n  </p> 
<p>是否设置时区? (Y/y:是 N/n:否) [Y/y]:Y<br> 设置时区:<br> [ 1]: GTM-12=日界线西<br> [ 2]: GTM-11=萨摩亚群岛<br> [ 3]: GTM-10=夏威夷<br> [ 4]: GTM-09=阿拉斯加<br> [ 5]: GTM-08=太平洋时间（美国和加拿大）<br> [ 6]: GTM-07=亚利桑那<br> [ 7]: GTM-06=中部时间（美国和加拿大）<br> [ 8]: GTM-05=东部部时间（美国和加拿大）<br> [ 9]: GTM-04=大西洋时间（美国和加拿大）<br> [10]: GTM-03=巴西利亚<br> [11]: GTM-02=中大西洋<br> [12]: GTM-01=亚速尔群岛<br> [13]: GTM=格林威治标准时间<br> [14]: GTM+01=萨拉热窝<br> [15]: GTM+02=开罗<br> [16]: GTM+03=莫斯科<br> [17]: GTM+04=阿布扎比<br> [18]: GTM+05=伊斯兰堡<br> [19]: GTM+06=达卡<br> [20]: GTM+07=曼谷，河内<br> [21]: GTM+08=中国标准时间<br> [22]: GTM+09=汉城<br> [23]: GTM+10=关岛<br> [24]: GTM+11=所罗门群岛<br> [25]: GTM+12=斐济<br> [26]: GTM+13=努库阿勒法<br> [27]: GTM+14=基里巴斯<br> 请选择设置时区 [21]:21</p> 
<p>安装类型:<br> 1 典型安装<br> 2 服务器<br> 3 客户端<br> 4 自定义<br> 请选择安装类型的数字序号 [1 典型安装]:1<br> 所需空间: 1263M</p> 
<p>请选择安装目录 [/home/dmdba/dmdbms]:/dm8<br> 可用空间: 12G<br> 是否确认安装路径(/dm8)? (Y/y:是 N/n:否)  [Y/y]:</p> 
<p>安装前小结<br> 安装位置: /dm8<br> 所需空间: 1263M<br> 可用空间: 12G<br> 版本信息: <br> 有效日期: <br> 安装类型: 典型安装<br> 是否确认安装? (Y/y:是 N/n:否):Y<br> 2021-09-02 11:20:36 <br> [INFO] 安装达梦数据库...<br> 2021-09-02 11:20:37 <br> [INFO] 安装 基础 模块...<br> 2021-09-02 11:20:40 <br> [INFO] 安装 服务器 模块...<br> 2021-09-02 11:20:40 <br> [INFO] 安装 客户端 模块...<br> 2021-09-02 11:20:42 <br> [INFO] 安装 驱动 模块...<br> 2021-09-02 11:20:43 <br> [INFO] 安装 手册 模块...<br> 2021-09-02 11:20:43 <br> [INFO] 安装 服务 模块...<br> 2021-09-02 11:20:44 <br> [INFO] 移动日志文件。<br> 2021-09-02 11:20:44 <br> [INFO] 安装达梦数据库完成。</p> 
<p>请以root系统用户执行命令:<br> /dm8/script/root/root_installer.sh</p> 
<p>安装结束</p> 
<p>[dmdba@pg01 mnt]$ exit<br> logout<br> [root@pg01 mnt]# /dm8/script/root/root_installer.sh<br> 移动 /dm8/bin/dm_svc.conf 到/etc目录<br> 修改服务器权限<br> 创建DmAPService服务<br> Created symlink from /etc/systemd/system/multi-user.target.wants/DmAPService.service to /usr/lib/systemd/system/DmAPService.service.<br> 创建服务(DmAPService)完成<br> 启动DmAPService服务</p> 
<p>[root@pg01 mnt]# su - dmdba<br> Last login: Thu Sep  2 11:18:55 CST 2021 on pts/0<br> [dmdba@pg01 ~]$ vi .bash_profile <br> # .bash_profile</p> 
<p># Get the aliases and functions<br> if [ -f ~/.bashrc ]; then<br>         . ~/.bashrc<br> fi</p> 
<p># User specific environment and startup programs</p> 
<p>PATH=$PATH:$HOME/.local/bin:$HOME/bin</p> 
<p>export PATH</p> 
<p>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/dm8/bin"<br> export DM_HOME="/dm8"<br> export PATH=$PATH:$DM_HOME/bin:$DM_HOME/tool<br> ~<br> ~<br> ".bash_profile" 16L, 312C written<br> [dmdba@pg01 ~]$ cat .bash_profile <br> # .bash_profile</p> 
<p># Get the aliases and functions<br> if [ -f ~/.bashrc ]; then<br>         . ~/.bashrc<br> fi</p> 
<p># User specific environment and startup programs</p> 
<p>PATH=$PATH:$HOME/.local/bin:$HOME/bin</p> 
<p>export PATH</p> 
<p>export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/dm8/bin"<br> export DM_HOME="/dm8"<br> export PATH=$PATH:$DM_HOME/bin:$DM_HOME/tool<br> [dmdba@pg01 ~]$ source .bash_profile<br> [dmdba@pg01 ~]$ dminit PATH=/dm8/data DB_NAME=DAMENG INSTANCE_NAME=DMSERVER PORT_NUM=5236<br> initdb V8<br> db version: 0x7000c<br> file dm.key not found, use default license!<br> License will expire on 2022-08-10<br> Normal of FAST<br> Normal of DEFAULT<br> Normal of RECYCLE<br> Normal of KEEP<br> Normal of ROLL</p> 
<p> log file path: /dm8/data/DAMENG/DAMENG01.log</p> 
<p><br>  log file path: /dm8/data/DAMENG/DAMENG02.log</p> 
<p>write to dir [/dm8/data/DAMENG].<br> create dm database success. 2021-09-02 11:23:02<br> [dmdba@pg01 ~]$ cd /dm8/script/root<br> [dmdba@pg01 root]$ ./dm_service_installer.sh -t dmserver -p DMSERVER -dm_ini /dm8/data/DAMENG/dm<br> dm.ctl                    dm.ini                    dminit20210902112259.log  dm_service.prikey         <br> [dmdba@pg01 root]$ ./dm_service_installer.sh -t dmserver -p DMSERVER -dm_ini /dm8/data/DAMENG/dm.ini<br> 必须以 root 身份执行此脚本!<br> [dmdba@pg01 root]$ pwd<br> /dm8/script/root<br> [dmdba@pg01 root]$ exit<br> logout<br> [root@pg01 mnt]# cd /dm8/script/root<br> [root@pg01 root]# ./dm_service_installer.sh -t dmserver -p DMSERVER -dm_ini /dm8/data/DAMENG/dm.ini<br> Created symlink from /etc/systemd/system/multi-user.target.wants/DmServiceDMSERVER.service to /usr/lib/systemd/system/DmServiceDMSERVER.service.<br> 创建服务(DmServiceDMSERVER)完成<br> [root@pg01 root]# systemctl enable DmServiceDMSERVER<br> [root@pg01 root]# systemctl start DmServiceDMSERVER<br> [root@pg01 root]# systemctl status DmServiceDMSERVER<br> ● DmServiceDMSERVER.service - Dameng Database Service(DmServiceDMSERVER).<br>    Loaded: loaded (/usr/lib/systemd/system/DmServiceDMSERVER.service; enabled; vendor preset: disabled)<br>    Active: active (running) since Thu 2021-09-02 11:25:31 CST; 7s ago<br>   Process: 4722 ExecStart=/dm8/bin/DmServiceDMSERVER start (code=exited, status=0/SUCCESS)<br>  Main PID: 4746 (dmserver)<br>    CGroup: /system.slice/DmServiceDMSERVER.service<br>            └─4746 /dm8/bin/dmserver /dm8/data/DAMENG/dm.ini -noconsole</p> 
<p>Sep 02 11:25:16 pg01 systemd[1]: Starting Dameng Database Service(DmServiceDMSERVER)....<br> Sep 02 11:25:31 pg01 DmServiceDMSERVER[4722]: [39B blob data]<br> Sep 02 11:25:31 pg01 systemd[1]: Started Dameng Database Service(DmServiceDMSERVER)..<br> [root@pg01 root]# ps -ef |grep dmserver<br> dmdba      4746      1  7 11:25 ?        00:00:02 /dm8/bin/dmserver /dm8/data/DAMENG/dm.ini -noconsole<br> root       4814   1545  0 11:25 pts/0    00:00:00 grep --color=auto dmserver<br> [root@pg01 root]# su - dmdba<br> Last login: Thu Sep  2 11:21:43 CST 2021 on pts/0<br> [dmdba@pg01 ~]$ cd /dm8/tool<br> [dmdba@pg01 tool]$ disql<br> disql V8<br> 用户名:sysdba</p> 
<p>服务器[LOCALHOST:5236]:处于普通打开状态<br> 登录使用时间 : 3.529(ms)<br> SQL&gt; select * from v$database;</p> 
<p>行号     NAME   CREATE_TIME         ARCH_MODE LAST_CKPT_TIME STATUS$     ROLE$       MAX_SIZE             TOTAL_SIZE           DSC_NODES  <br> ---------- ------ ------------------- --------- -------------- ----------- ----------- -------------------- -------------------- -----------<br>            OPEN_COUNT  STARTUP_COUNT        LAST_STARTUP_TIME  <br>            ----------- -------------------- -------------------<br> 1          DAMENG 2021-09-02 11:23:02 N         NULL           4           0           0                    20608                1<br>            1           1                    2021-09-02 11:25:26</p> 
<p><br> 已用时间: 2.618(毫秒). 执行号:50600.<br> SQL&gt; select * from v$version;</p> 
<p>行号     BANNER                   <br> ---------- -------------------------<br> 1          DM Database Server 64 V8 <br> 2          DB Version: 0x7000c</p> 
<p>已用时间: 0.423(毫秒). 执行号:50601.<br> SQL&gt; exit<br> [dmdba@pg01 tool]$ </p> 
<p>相关参考：</p> 
<p><a href="https://blog.csdn.net/weixin_53124528/article/details/110426150">https://blog.csdn.net/weixin_53124528/article/details/110426150</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c81d6d9967b50ffb8f88a5366b222cc7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cmake属性 INSTALL_RPATH</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c8dd7d8c92dbdada6d98ddd5a55dbc7b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">浅析iOS中的贝塞尔(Bézier curve)曲线</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>