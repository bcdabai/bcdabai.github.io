<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux：docker环境搭建 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux：docker环境搭建" />
<meta property="og:description" content="centos下安装docker官方文档传送门
安装docker方法 您可以根据需要以不同的方式安装 Docker Engine：
您可以 设置 Docker 的存储库并从中安装，以简化安装和升级任务。这是推荐的方法。存储库类似于maven的中央仓库的概念。您可以下载 RPM 包并 手动安装并完全手动管理升级。这在诸如在无法访问 Internet 的气隙系统上安装 Docker 等情况下非常有用。在测试和开发环境中，您可以使用自动化的 便捷脚本来安装 Docker。 使用存储库安装 在新主机上首次安装 Docker Engine 之前，您需要设置 Docker 存储库。之后，您可以从存储库安装和更新 Docker。
设置存储库 # 安装yum-utils包（提供yum-config-manager 实用程序） sudo yum install -y yum-utils # 设置存储库 sudo yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repo # 可以设置淘宝的镜像源 yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo 安装 docker引擎 安装最新版本的docker # 此命令安装 Docker，但不会启动 Docker。它还会创建一个 docker组，但是默认情况下不会向该组添加任何用户。 sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin 安装指定版本的docker 启动docker sudo systemctl start docker 验证是否安装成功 # 通过运行映像验证 Docker Engine 安装是否成功hello-world sudo docker run hello-world 此命令下载测试图像并在容器中运行它。当容器运行时，它会打印一条确认消息并退出。如果出现下图的打印信息则表示docker安装成功！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fd2fb6a87e96287f925bf77e3600f4dc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-29T14:17:23+08:00" />
<meta property="article:modified_time" content="2023-03-29T14:17:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux：docker环境搭建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://docs.docker.com/engine/install/centos/" rel="nofollow">centos下安装docker官方文档传送门</a></p> 
<h2><a id="docker_2"></a>安装docker方法</h2> 
<p>您可以根据需要以不同的方式安装 Docker Engine：</p> 
<ul><li>您可以 设置 Docker 的存储库并从中安装，以简化安装和升级任务。这是推荐的方法。存储库类似于maven的中央仓库的概念。</li><li>您可以下载 RPM 包并 手动安装并完全手动管理升级。这在诸如在无法访问 Internet 的气隙系统上安装 Docker 等情况下非常有用。</li><li>在测试和开发环境中，您可以使用自动化的 便捷脚本来安装 Docker。</li></ul> 
<h3><a id="_8"></a>使用存储库安装</h3> 
<p>在新主机上首次安装 Docker Engine 之前，您需要设置 Docker 存储库。之后，您可以从存储库安装和更新 Docker。</p> 
<h4><a id="_11"></a>设置存储库</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 安装yum-utils包（提供yum-config-manager 实用程序）</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils
<span class="token comment"># 设置存储库</span>
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
<span class="token comment"># 可以设置淘宝的镜像源</span>
yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre> 
<h4><a id="_docker_23"></a>安装 docker引擎</h4> 
<h5><a id="docker_24"></a>安装最新版本的docker</h5> 
<pre><code class="prism language-shell"><span class="token comment"># 此命令安装 Docker，但不会启动 Docker。它还会创建一个 docker组，但是默认情况下不会向该组添加任何用户。</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</code></pre> 
<h5><a id="docker_30"></a>安装指定版本的docker</h5> 
<h4><a id="docker_32"></a>启动docker</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre> 
<h4><a id="_37"></a>验证是否安装成功</h4> 
<pre><code class="prism language-shell"><span class="token comment"># 通过运行映像验证 Docker Engine 安装是否成功hello-world</span>
<span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre> 
<p>此命令下载测试图像并在容器中运行它。当容器运行时，它会打印一条确认消息并退出。如果出现下图的打印信息则表示docker安装成功！<br> <img src="https://images2.imgbox.com/3a/e4/r7E6MZdQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_44"></a>手工方式安装</h3> 
<p>如果服务器不能访问互联网，那该方式安装是一个很好的解决方案。</p> 
<h3><a id="_47"></a>使用便捷脚本安装</h3> 
<p><a href="https://docs.docker.com/engine/install/centos/#install-using-the-convenience-script" rel="nofollow">https://docs.docker.com/engine/install/centos/#install-using-the-convenience-script</a></p> 
<h2><a id="docker_50"></a>卸载docker</h2> 
<p>1.卸载 Docker Engine、CLI、containerd 和 Docker Compose 包：</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> yum remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras
</code></pre> 
<p>2.主机上的图像、容器、卷或自定义配置文件不会自动删除。删除所有镜像、容器和卷：</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/docker
<span class="token function">sudo</span> <span class="token function">rm</span> -rf /var/lib/containerd
</code></pre> 
<h2><a id="dockerportainer_62"></a>安装docker可视化面板portainer</h2> 
<p><a href="https://docs.portainer.io/start/install-ce/server/docker/linux" rel="nofollow">官方文档传送门</a></p> 
<p>1.安装</p> 
<pre><code class="prism language-shell"><span class="token comment"># 安装旧版portainer，安装完后就可以用 服务器ip:9000访问</span>
<span class="token function">docker</span> run -d -p <span class="token number">8000</span>:8000 -p <span class="token number">9000</span>:9000 --name portainer <span class="token punctuation">\</span>
    --restart<span class="token operator">=</span>always <span class="token punctuation">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="token punctuation">\</span>
    -v /root/data/docker_data/portainer/data:/data <span class="token punctuation">\</span>
    cr.portainer.io/portainer/portainer-ce:2.11.0	

<span class="token comment"># 新版的portainer docker内部端口从9000变成了9443</span>
</code></pre> 
<p>2.访问<br> <img src="https://images2.imgbox.com/07/fb/dH5HuLUJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_81"></a>参考资料</h2> 
<p>1.<a href="https://docker.easydoc.net/doc/81170005/cCewZWoN/lTKfePfP" rel="nofollow">docker快速入门</a><br> 2.<a href="https://blog.laoda.de/archives/portainer" rel="nofollow">安装并使用docker可视化面板Portainer</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b0c014a881acf28c2986b655b90219a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Webmind的安装和卸载</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9e020d21d43abf81232e5d8498081fa5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Git从下载到配置到链接远程仓库全套教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>