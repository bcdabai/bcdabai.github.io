<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Docker解决microK8s registry.k8s.io/pause:3.7镜像拉取失败问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Docker解决microK8s registry.k8s.io/pause:3.7镜像拉取失败问题" />
<meta property="og:description" content="使用Docker解决microK8s registry.k8s.io/pause:3.7镜像拉取失败问题 1. 安装docker apt update apt install docker.io 2. 查找镜像 root@testk8s:/home/test/下载# docker search pause:3.7 NAME DESCRIPTION STARS OFFICIAL AUTOMATED hongshixing/pause fork from k8s.gcr.io/pause:3.7 0 qazwsxqwe123/pause k8s.gcr.io/pause:3.7 0 3. 下载镜像 root@testk8s:/home/test/下载# docker image pull qazwsxqwe123/pause:3.7 3.7: Pulling from qazwsxqwe123/pause 7582c2cc65ef: Pull complete Digest: sha256:445a99db22e9add9bfb15ddb1980861a329e5dff5c88d7eec9cbf08b6b2f4eb1 Status: Downloaded newer image for qazwsxqwe123/pause:3.7 docker.io/qazwsxqwe123/pause:3.7 4. 输出镜像包 root@testk8s:/home/test/下载# docker image list REPOSITORY TAG IMAGE ID CREATED SIZE qazwsxqwe123/pause 3.7 221177c6082a 11 months ago 711kB root@testk8s:/home/test/下载# docker image tag qazwsxqwe123/pause:3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/bdd18a58ffdf9aba000c4ca69550e102/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-10T10:09:39+08:00" />
<meta property="article:modified_time" content="2023-02-10T10:09:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Docker解决microK8s registry.k8s.io/pause:3.7镜像拉取失败问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="DockermicroK8s_registryk8siopause37_0"></a>使用Docker解决microK8s registry.k8s.io/pause:3.7镜像拉取失败问题</h2> 
<h3><a id="1_docker_2"></a>1. 安装docker</h3> 
<pre><code class="prism language-shell"><span class="token function">apt</span> update
<span class="token function">apt</span> <span class="token function">install</span> docker.io
</code></pre> 
<h3><a id="2__9"></a>2. 查找镜像</h3> 
<pre><code class="prism language-shell">root@testk8s:/home/test/下载<span class="token comment"># docker search pause:3.7</span>

NAME                 DESCRIPTION                      STARS     OFFICIAL   AUTOMATED
hongshixing/pause    fork from k8s.gcr.io/pause:3.7   <span class="token number">0</span>                 
qazwsxqwe123/pause   k8s.gcr.io/pause:3.7             <span class="token number">0</span>
</code></pre> 
<h3><a id="3__19"></a>3. 下载镜像</h3> 
<pre><code class="prism language-shell">root@testk8s:/home/test/下载<span class="token comment"># docker image pull qazwsxqwe123/pause:3.7</span>
<span class="token number">3.7</span>: Pulling from qazwsxqwe123/pause
7582c2cc65ef: Pull complete 
Digest: sha256:445a99db22e9add9bfb15ddb1980861a329e5dff5c88d7eec9cbf08b6b2f4eb1
Status: Downloaded newer image <span class="token keyword">for</span> qazwsxqwe123/pause:3.7
docker.io/qazwsxqwe123/pause:3.7
</code></pre> 
<h3><a id="4__30"></a>4. 输出镜像包</h3> 
<pre><code class="prism language-shell">root@testk8s:/home/test/下载<span class="token comment"># docker image list</span>
REPOSITORY           TAG       IMAGE ID       CREATED         SIZE
qazwsxqwe123/pause   <span class="token number">3.7</span>       221177c6082a   <span class="token number">11</span> months ago   711kB

root@testk8s:/home/test/下载<span class="token comment"># docker image tag qazwsxqwe123/pause:3.7 registry.k8s.io/pause:3.7</span>

root@testk8s:/home/test/下载<span class="token comment"># docker image list</span>
REPOSITORY              TAG       IMAGE ID       CREATED         SIZE
qazwsxqwe123/pause      <span class="token number">3.7</span>       221177c6082a   <span class="token number">11</span> months ago   711kB
registry.k8s.io/pause   <span class="token number">3.7</span>       221177c6082a   <span class="token number">11</span> months ago   711kB

root@testk8s:/home/test/下载<span class="token comment"># docker save -o pause37.tar registry.k8s.io/pause</span>
root@testk8s:/home/test/下载<span class="token comment"># ll</span>
总用量 <span class="token number">1424</span>
drwxr-xr-x  <span class="token number">2</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span>   <span class="token number">4096</span> <span class="token number">2</span>月   <span class="token number">8</span> <span class="token number">11</span>:31 ./
drwxr-xr-x <span class="token number">14</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span>   <span class="token number">4096</span> <span class="token number">2</span>月   <span class="token number">6</span> <span class="token number">14</span>:30 <span class="token punctuation">..</span>/
-rw-------  <span class="token number">1</span> root  root  <span class="token number">721408</span> <span class="token number">2</span>月   <span class="token number">8</span> <span class="token number">11</span>:31 pause37.tar
-rwxr-xr-x  <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">721408</span> <span class="token number">2</span>月   <span class="token number">6</span> <span class="token number">15</span>:05 pause.tar*
</code></pre> 
<h3><a id="5__53"></a>5. 导入镜像</h3> 
<pre><code class="prism language-shell">ctr image <span class="token function">import</span> pause37.tar
</code></pre> 
<h3><a id="6_microk8s_59"></a>6. 重启microk8s</h3> 
<pre><code class="prism language-shell">microk8s stop <span class="token operator">&amp;&amp;</span> microk8s start
</code></pre> 
<h3><a id="7__64"></a>7. 启动成功</h3> 
<pre><code class="prism language-shell">root@testk8s:/home/test/下载<span class="token comment"># microk8s status</span>
microk8s is running
high-availability: no
  datastore master nodes: <span class="token number">127.0</span>.0.1:19001
  datastore standby nodes: none
addons:
  enabled:
    ha-cluster           <span class="token comment"># (core) Configure high availability on the current node</span>
    helm                 <span class="token comment"># (core) Helm - the package manager for Kubernetes</span>
    helm3                <span class="token comment"># (core) Helm 3 - the package manager for Kubernetes</span>
  disabled:
    cert-manager         <span class="token comment"># (core) Cloud native certificate management</span>
    community            <span class="token comment"># (core) The community addons repository</span>
    dashboard            <span class="token comment"># (core) The Kubernetes dashboard</span>
    dns                  <span class="token comment"># (core) CoreDNS</span>
    gpu                  <span class="token comment"># (core) Automatic enablement of Nvidia CUDA</span>
    host-access          <span class="token comment"># (core) Allow Pods connecting to Host services smoothly</span>
    hostpath-storage     <span class="token comment"># (core) Storage class; allocates storage from host directory</span>
    ingress              <span class="token comment"># (core) Ingress controller for external access</span>
    kube-ovn             <span class="token comment"># (core) An advanced network fabric for Kubernetes</span>
    mayastor             <span class="token comment"># (core) OpenEBS MayaStor</span>
    metallb              <span class="token comment"># (core) Loadbalancer for your Kubernetes cluster</span>
    metrics-server       <span class="token comment"># (core) K8s Metrics Server for API access to service metrics</span>
    minio                <span class="token comment"># (core) MinIO object storage</span>
    observability        <span class="token comment"># (core) A lightweight observability stack for logs, traces and metrics</span>
    prometheus           <span class="token comment"># (core) Prometheus operator for monitoring and logging</span>
    rbac                 <span class="token comment"># (core) Role-Based Access Control for authorisation</span>
    registry             <span class="token comment"># (core) Private image registry exposed on localhost:32000</span>
    storage              <span class="token comment"># (core) Alias to hostpath-storage add-on, deprecated</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d80f2a7dfdc962d25f0214891177be8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【大数据Hadoop】macbookpro m1/m2 arm 编译hadoop-3.3.1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ba1ba0da3501a198f618f45e040af8d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ArcMap|以表格显示分区统计 ERROR:999999 解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>