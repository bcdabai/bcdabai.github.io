<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>利用栈实现深度优先遍历 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="利用栈实现深度优先遍历" />
<meta property="og:description" content="文章目录 前言一、什么是深度优先遍历？二、实现原理三、实现代码总结 前言 之前软考的时候光看概念一直没搞懂(有点笨),导致考试的时候丢分了,因此特地去了解了并用JAVA代码实现.下面我将介绍使用栈和递归来实现深度优先遍历的方法.
一、什么是深度优先遍历？ 深度优先遍历就是对每一个可能的分支路径深入到不能再深入为止，不能深入了就向上回溯,然后从其他分支再次开始深入到不能深入为止的原则,最后当所有路径都被访问过了,也就代表着遍历结束了(每个节点只能访问一次)
步骤:
1、从某个顶点(可以随机选取)开始,此时指针指向的是顶点
2、访问自己的一个未被访问过的邻接端点,将指针指向该邻接端点,如果没有未被访问过的邻接的端点则向上回溯至自己的直接父端点,当回溯至开始的顶点且顶点此时没有未访问的邻接端点时此时遍历结束.
3、重复步骤2
二、实现原理 1、利用递归思想,直至所有端点都被访问
2、利用栈先进后出原理存放当前遍历对象所有父端点,用于当前对象无未访问过的邻接端点时回溯
三、实现代码 代码如下（示例）：
/** * 深度优先遍历 */ public class Test { /** * 端点数组 */ private static final String[] ENDPOINT; /** * 边二维数组 */ private static final Integer[][] SIDE_ARRAY; /** * 判断俩顶点是否存在边 */ private static final Integer SIDE_FLAG = 1; /** * 未被访问的顶点map */ private static final Map&lt;Integer, String&gt; NOT_VISITED_ENDPOINT_MAP; /** * map table最大数 */ private static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30; static { ENDPOINT = new String[]{&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0e4b2473bf574f0f9d685327d82f4764/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-07T14:42:15+08:00" />
<meta property="article:modified_time" content="2022-03-07T14:42:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">利用栈实现深度优先遍历</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">前言</a></li><li><a href="#_12" rel="nofollow">一、什么是深度优先遍历？</a></li><li><a href="#_20" rel="nofollow">二、实现原理</a></li><li><a href="#_23" rel="nofollow">三、实现代码</a></li><li><a href="#_196" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_6"></a>前言</h2> 
<p><font color="#999AAA">之前软考的时候光看概念一直没搞懂(有点笨),导致考试的时候丢分了,因此特地去了解了并用JAVA代码实现.下面我将介绍使用栈和递归来实现深度优先遍历的方法.</font></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_12"></a>一、什么是深度优先遍历？</h2> 
<p><font color="#999AAA">深度优先遍历就是对每一个可能的分支路径深入到不能再深入为止，不能深入了就向上回溯,然后从其他分支再次开始深入到不能深入为止的原则,最后当所有路径都被访问过了,也就代表着遍历结束了(每个节点只能访问一次)<br> 步骤:<br> 1、从某个顶点(可以随机选取)开始,此时指针指向的是顶点<br> 2、访问自己的一个未被访问过的邻接端点,将指针指向该邻接端点,如果没有未被访问过的邻接的端点则向上回溯至自己的直接父端点,当回溯至开始的顶点且顶点此时没有未访问的邻接端点时此时遍历结束.<br> 3、重复步骤2</font></p> 
<h2><a id="_20"></a>二、实现原理</h2> 
<p>1、利用递归思想,直至所有端点都被访问<br> 2、利用栈先进后出原理存放当前遍历对象所有父端点,用于当前对象无未访问过的邻接端点时回溯</p> 
<h2><a id="_23"></a>三、实现代码</h2> 
<p><font color="#999AAA">代码如下（示例）：</font></p> 
<pre><code class="prism language-c">
<span class="token comment">/**
 * 深度优先遍历
 */</span>
public class Test <span class="token punctuation">{<!-- --></span>

	<span class="token comment">/**
	 * 端点数组
	 */</span>
	private <span class="token keyword">static</span> final String<span class="token punctuation">[</span><span class="token punctuation">]</span> ENDPOINT<span class="token punctuation">;</span>
	<span class="token comment">/**
	 * 边二维数组
	 */</span>
	private <span class="token keyword">static</span> final Integer<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> SIDE_ARRAY<span class="token punctuation">;</span>
	<span class="token comment">/**
	 * 判断俩顶点是否存在边
	 */</span>
	private <span class="token keyword">static</span> final Integer SIDE_FLAG <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token comment">/**
	 * 未被访问的顶点map
	 */</span>
	private <span class="token keyword">static</span> final Map<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span> String<span class="token operator">&gt;</span> NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">;</span>
	<span class="token comment">/**
	 * map table最大数
	 */</span>
	private <span class="token keyword">static</span> final <span class="token keyword">int</span> MAXIMUM_CAPACITY <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>

	<span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
		ENDPOINT <span class="token operator">=</span> new String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"E"</span><span class="token punctuation">,</span> <span class="token string">"F"</span><span class="token punctuation">,</span> <span class="token string">"G"</span><span class="token punctuation">,</span> <span class="token string">"H"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		NOT_VISITED_ENDPOINT_MAP <span class="token operator">=</span> new HashMap<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">calculateMapSize</span><span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> ENDPOINT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		SIDE_ARRAY <span class="token operator">=</span> new Integer<span class="token punctuation">[</span>ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				SIDE_ARRAY<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// A-B有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// A-D有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// A-F有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// B-E有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// B-C有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// C-D有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// F-H有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// F-G有边</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		SIDE_ARRAY<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//随机选择起点、终点</span>
		Random random <span class="token operator">=</span> new <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> startEndPoint <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> endEndPoint <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String vertex <span class="token operator">=</span> ENDPOINT<span class="token punctuation">[</span>startEndPoint<span class="token punctuation">]</span><span class="token punctuation">;</span>
		String target <span class="token operator">=</span> ENDPOINT<span class="token punctuation">[</span>endEndPoint<span class="token punctuation">]</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"顶点："</span> <span class="token operator">+</span> vertex <span class="token operator">+</span> <span class="token string">",目标顶点："</span> <span class="token operator">+</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"开始深度优先遍历搜索目标!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 栈用来回溯</span>
		Stack<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> endPointStack <span class="token operator">=</span> new Stack<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>startEndPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">search</span><span class="token punctuation">(</span>startEndPoint<span class="token punctuation">,</span> target<span class="token punctuation">,</span> NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">,</span> endPointStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"开始深度优先遍历搜索!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ENDPOINT<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> ENDPOINT<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		endPointStack <span class="token operator">=</span> new Stack<span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>startEndPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">search</span><span class="token punctuation">(</span>startEndPoint<span class="token punctuation">,</span> null<span class="token punctuation">,</span> NOT_VISITED_ENDPOINT_MAP<span class="token punctuation">,</span> endPointStack<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>


	<span class="token comment">/**
	* 递归方法
	*/</span>
	private <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> String target<span class="token punctuation">,</span> Map<span class="token operator">&lt;</span>Integer<span class="token punctuation">,</span> String<span class="token operator">&gt;</span> notVisitedEndPointMap<span class="token punctuation">,</span> Stack<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> endPointStack<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">int</span> i <span class="token operator">=</span> index<span class="token punctuation">;</span>
		Iterator<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> it <span class="token operator">=</span> notVisitedEndPointMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> j <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> endPointSide <span class="token operator">=</span> SIDE_ARRAY<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>endPointSide <span class="token operator">==</span> SIDE_FLAG<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>ENDPOINT<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"找到目标端点："</span> <span class="token operator">+</span> ENDPOINT<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"端点："</span> <span class="token operator">+</span> ENDPOINT<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				endPointStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">search</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> target<span class="token punctuation">,</span> notVisitedEndPointMap<span class="token punctuation">,</span> endPointStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>endPointStack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// 回溯父节点</span>
		<span class="token keyword">int</span> parentIndex <span class="token operator">=</span> endPointStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"回溯端点："</span> <span class="token operator">+</span> ENDPOINT<span class="token punctuation">[</span>parentIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">search</span><span class="token punctuation">(</span>parentIndex<span class="token punctuation">,</span> target<span class="token punctuation">,</span> notVisitedEndPointMap<span class="token punctuation">,</span> endPointStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * 计算map最大不用扩容的siz大小
	 *
	 * @param cap
	 * @return
	 */</span>
	private <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">calculateMapSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> cap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> maxTableSize <span class="token operator">=</span> <span class="token function">tableSizeFor</span><span class="token punctuation">(</span>cap<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">float</span> size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span> maxTableSize <span class="token operator">*</span> <span class="token number">0.75f</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;</span> cap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			maxTableSize <span class="token operator">=</span> maxTableSize <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>maxTableSize <span class="token operator">&gt;</span> MAXIMUM_CAPACITY<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			maxTableSize <span class="token operator">=</span> MAXIMUM_CAPACITY<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"map容量为："</span> <span class="token operator">+</span> maxTableSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> maxTableSize<span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * 获取大于等于cap的最小2次方数
	 *
	 * @param cap
	 * @return
	 */</span>
	private <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">tableSizeFor</span><span class="token punctuation">(</span><span class="token keyword">int</span> cap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> n <span class="token operator">=</span> cap <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		n <span class="token operator">|</span><span class="token operator">=</span> n <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
		n <span class="token operator">|</span><span class="token operator">=</span> n <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
		n <span class="token operator">|</span><span class="token operator">=</span> n <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
		n <span class="token operator">|</span><span class="token operator">=</span> n <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">8</span><span class="token punctuation">;</span>
		n <span class="token operator">|</span><span class="token operator">=</span> n <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">16</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> MAXIMUM_CAPACITY<span class="token punctuation">)</span> <span class="token operator">?</span> MAXIMUM_CAPACITY <span class="token punctuation">:</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_196"></a>总结</h2> 
<p><font color="#999AAA">方法总比困难多,要相信自己.</font></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1bf6eafc898e90215397dcd99eed0b78/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">zzcms靶场搭建</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d4ecc7571c0062c03ca59444d791506b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Unity动态修改物体Tag</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>