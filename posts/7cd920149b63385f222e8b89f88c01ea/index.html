<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c语言字符游动程序,C语言实现扫雷小游戏详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c语言字符游动程序,C语言实现扫雷小游戏详解" />
<meta property="og:description" content="本文实例为大家分享了C语言实现扫雷小游戏的具体代码，供大家参考，具体内容如下
一.实现功能
首先显示一个小菜单，选择是否玩游戏。当用户选择退出时，程序运行结束，当用户选择玩游戏时，将提示用户输入扫雷位置坐标。当用户输入坐标超出棋盘范围或者位置之前已经进行扫雷时，将提示用户重新输入。当用户输入正确坐标时，如果输入位置没雷将会显示当前位置周边有几个雷，直到将所有雷找出后，重新显示菜单。当输入位置有雷时，游戏结束，重新显示菜单。
二.分析与介绍
首先编写程序开始前，我们要清楚知道棋盘时二维的，所以这里会要用到二维数组来保存棋盘状态。由于这里我们要一张显示给用户看的棋盘，一张电脑随机埋雷的棋盘，所以我们要定义两个二维数组。然后我们只需要根据功能一步步进行程序的编写，如下。
三.代码编写
首先确定主函数main()的编写确定主要逻辑，首先显示菜单供用户选择是否玩游戏，后面对用户的选择进行判断是否玩游戏。代码块如下：
int main(){
int quit = 0; //退出变量
while (!quit){
Menu();//菜单函数
int select = 0;
scanf(&#34;%d&#34;, &amp;select);
switch (select){ //通过switch语句来判断用户是否玩游戏
case 1:
Game(); //游戏函数
break;
case 2:
quit = 1;
printf(&#34;Byebye\n&#34;);
break;
default:
printf(&#34;选择错误，请重新输入\n&#34;);
break;
}
}
return 0;
}
菜单函数Menu()代码：
void Menu(){
printf(&#34;#####################\n&#34;);
printf(&#34;##1.Play 2.Exit##\n&#34;);
printf(&#34;#####################\n&#34;);
printf(&#34;Please input you select:&#34;);
}
当用户选择玩游戏时，Game()函数是主要游戏逻辑的编写，首先对棋盘进行初始化，再电脑随机埋雷，展示棋盘让用户输入扫雷的坐标值。此时要进行判断输入坐标值是否超过棋盘范围，是否已经扫过雷，如果用户输入坐标有雷直接游戏结束。如果没雷，计算出周边雷的个数后显示出来，再进行上面的操作，直到扫完雷为止。
void Game(){
srand((unsigned long)time(NULL));
char show_board[LIN][COL];
char mine_board[LIN][COL];
//memset(show_board, &#39;*&#39;, sizeof(show_board));" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7cd920149b63385f222e8b89f88c01ea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-18T00:31:03+08:00" />
<meta property="article:modified_time" content="2021-05-18T00:31:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c语言字符游动程序,C语言实现扫雷小游戏详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>本文实例为大家分享了C语言实现扫雷小游戏的具体代码，供大家参考，具体内容如下</p> 
 <p>一.实现功能</p> 
 <p>首先显示一个小菜单，选择是否玩游戏。当用户选择退出时，程序运行结束，当用户选择玩游戏时，将提示用户输入扫雷位置坐标。当用户输入坐标超出棋盘范围或者位置之前已经进行扫雷时，将提示用户重新输入。当用户输入正确坐标时，如果输入位置没雷将会显示当前位置周边有几个雷，直到将所有雷找出后，重新显示菜单。当输入位置有雷时，游戏结束，重新显示菜单。</p> 
 <p>二.分析与介绍</p> 
 <p>首先编写程序开始前，我们要清楚知道棋盘时二维的，所以这里会要用到二维数组来保存棋盘状态。由于这里我们要一张显示给用户看的棋盘，一张电脑随机埋雷的棋盘，所以我们要定义两个二维数组。然后我们只需要根据功能一步步进行程序的编写，如下。</p> 
 <p>三.代码编写</p> 
 <p>首先确定主函数main()的编写确定主要逻辑，首先显示菜单供用户选择是否玩游戏，后面对用户的选择进行判断是否玩游戏。代码块如下：</p> 
 <p>int main(){<!-- --></p> 
 <p>int quit = 0; //退出变量</p> 
 <p>while (!quit){<!-- --></p> 
 <p>Menu();//菜单函数</p> 
 <p>int select = 0;</p> 
 <p>scanf("%d", &amp;select);</p> 
 <p>switch (select){ //通过switch语句来判断用户是否玩游戏</p> 
 <p>case 1:</p> 
 <p>Game(); //游戏函数</p> 
 <p>break;</p> 
 <p>case 2:</p> 
 <p>quit = 1;</p> 
 <p>printf("Byebye\n");</p> 
 <p>break;</p> 
 <p>default:</p> 
 <p>printf("选择错误，请重新输入\n");</p> 
 <p>break;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>return 0;</p> 
 <p>}</p> 
 <p>菜单函数Menu()代码：</p> 
 <p>void Menu(){<!-- --></p> 
 <p>printf("#####################\n");</p> 
 <p>printf("##1.Play 2.Exit##\n");</p> 
 <p>printf("#####################\n");</p> 
 <p>printf("Please input you select:");</p> 
 <p>}</p> 
 <p>当用户选择玩游戏时，Game()函数是主要游戏逻辑的编写，首先对棋盘进行初始化，再电脑随机埋雷，展示棋盘让用户输入扫雷的坐标值。此时要进行判断输入坐标值是否超过棋盘范围，是否已经扫过雷，如果用户输入坐标有雷直接游戏结束。如果没雷，计算出周边雷的个数后显示出来，再进行上面的操作，直到扫完雷为止。</p> 
 <p>void Game(){<!-- --></p> 
 <p>srand((unsigned long)time(NULL));</p> 
 <p>char show_board[LIN][COL];</p> 
 <p>char mine_board[LIN][COL];</p> 
 <p>//memset(show_board, '*', sizeof(show_board));</p> 
 <p>//memset(mine_board, '0', sizeof(mine_board));//棋盘初始化另一种方式</p> 
 <p>Init_board(show_board, mine_board, LIN, COL);//棋盘初始化</p> 
 <p>Mines_borad(mine_board, LIN, COL);//电脑随机埋雷</p> 
 <p>int times = LIN*COL - MINE;//将雷全部扫完次数</p> 
 <p>do{<!-- --></p> 
 <p>Shows_board(show_board, LIN, COL);//展示棋盘</p> 
 <p>int x = 0;</p> 
 <p>int y = 0;</p> 
 <p>printf("please input ");</p> 
 <p>scanf("%d %d", &amp;x, &amp;y);</p> 
 <p>if (x&lt;1 || x&gt;10 || y&lt;1 || y&gt;10){<!-- --></p> 
 <p>printf("输入超过范围，请重新输入\n");</p> 
 <p>continue;</p> 
 <p>}</p> 
 <p>if (show_board[x][y] != '*'){<!-- --></p> 
 <p>printf("位置已被占用，请重新输入\n");</p> 
 <p>continue; //上面两个判断语句，判断坐标是否输入正确</p> 
 <p>}</p> 
 <p>if (mine_board[x][y] == '1'){<!-- --></p> 
 <p>printf("game over!\n");</p> 
 <p>Shows_board(mine_board, LIN, COL); //判断是否之前扫过</p> 
 <p>break;</p> 
 <p>}</p> 
 <p>int count = Count_game(mine_board, x, y); //记周边雷的个数</p> 
 <p>show_board[x][y] = count+'0'; //加字符'0'才显示字符</p> 
 <p>times--;</p> 
 <p>system("cls");</p> 
 <p>} while (times&gt;0);</p> 
 <p>}</p> 
 <p>首先进行棋盘初始化 Init_board()，将' * '初始化给一开始显示给用户的棋盘，将'0'初始化给要埋雷的棋盘。</p> 
 <p>void Init_board(char board1[][COL], char board2[][COL],int lin, int col){<!-- --></p> 
 <p>int i = 0;</p> 
 <p>for (; i &lt; lin; i++){<!-- --></p> 
 <p>int j = 0;</p> 
 <p>for (; j &lt; col; j++){ //将埋雷棋盘，给用户看的棋盘初始化。显示棋盘初始化*，埋雷棋盘显示0 0-&gt;没有雷 1-&gt;雷</p> 
 <p>board1[i][j] = '*';</p> 
 <p>board2[i][j] = '0';</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>再电脑随机埋雷Mines_borad()，此时利用随机数种子(Game函数中已经种下)，随机生成棋盘X,Y坐标，如果埋雷棋盘在该位置没雷，将字符‘1'赋予该位置。字符‘0'代表有雷，字符‘1'代表有雷。</p> 
 <p>void Mines_borad(char board[][COL], int lin, int col){<!-- --></p> 
 <p>int i = 0;</p> 
 <p>while (i</p> 
 <p>int x = rand() % (lin - 2) + 1;</p> 
 <p>int y = rand() % (col - 2) + 1; //随机埋雷</p> 
 <p>if (board[x][y] == '0'){<!-- --></p> 
 <p>board[x][y] = '1';</p> 
 <p>i++;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>后将棋盘展示Shows_board()，提示用户输入扫雷坐标。后面如果扫雷位置有雷时，显示埋雷棋盘给用户看。</p> 
 <p>Shows_board(char board[][COL], int lin, int col){<!-- --></p> 
 <p>int i = 1;</p> 
 <p>printf(" "); //展示棋盘</p> 
 <p>for (; i &lt; lin - 1; i++){<!-- --></p> 
 <p>printf("%d|", i);</p> 
 <p>}</p> 
 <p>printf("\n");</p> 
 <p>for (i = 0; i &lt; lin-4; i++){<!-- --></p> 
 <p>printf("---");</p> 
 <p>}</p> 
 <p>printf("\n");</p> 
 <p>for (i = 1; i &lt; lin - 1; i++){<!-- --></p> 
 <p>printf("%2d|", i);</p> 
 <p>int j = 1;</p> 
 <p>for (; j &lt; col - 1; j++){<!-- --></p> 
 <p>printf("%c|", board[i][j]);</p> 
 <p>}</p> 
 <p>printf("\n");</p> 
 <p>int k = 0;</p> 
 <p>for (; k &lt; col - 4; k++){<!-- --></p> 
 <p>printf("---");</p> 
 <p>}</p> 
 <p>printf("\n");</p> 
 <p>}</p> 
 <p>}</p> 
 <p>最后如果扫雷位置没雷还要将周边雷的个数显示出来给用户。计数方式：将周围字符全部加起来减去周围全是字符‘0'的情况。因为用的字符‘1'表示有雷，字符‘1'与字符‘0'只ascll只相差1，用此方法相减后就得到了雷数。</p> 
 <p>int Count_game(char board[][COL], int x, int y){<!-- --></p> 
 <p>return board[x - 1][y - 1] + board[x - 1][y] + board[x - 1][y + 1] + board[x][y - 1] + \</p> 
 <p>board[x][y + 1] + board[x + 1][y - 1] + board[x + 1][y] + board[x + 1][y + 1] - 8 * '0'; //计算选择位置周围有几个雷</p> 
 <p>}</p> 
 <p>整体代码如上所述，由于使用的时多文件编码的方式，还需要对函数，变量和头文件进行声明。</p> 
 <p>#ifndef _GAME_H_</p> 
 <p>#define _GAME_H_</p> 
 <p>#include</p> 
 <p>#include</p> 
 <p>#include</p> 
 <p>#define LIN 12 //棋盘最大范围，棋盘大小为10*10，设成12*12好计算周边位置雷数。</p> 
 <p>#define COL 12</p> 
 <p>#define MINE 20 //埋雷数</p> 
 <p>void Init_board(char board1[][COL], char board2[][COL], int lin, int col);</p> 
 <p>void Mines_borad(char board[][COL], int lin, int col);</p> 
 <p>void Shows_board(char board[][COL], int lin, int col);</p> 
 <p>int Count_game(char board[][COL], int lin, int col);</p> 
 <p>void Game();</p> 
 <p>#endif</p> 
 <p>至此用C语言编写的扫雷代码结束，如想应用复制代码即可，如有缺陷请多多批评。</p> 
 <p>以上就是本文的全部内容，希望对大家的学习有所帮助，也希望大家多多支持脚本之家。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e57a987eabc002910eca9dde2f739a4c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">3步开发Oculus 2第一个应用！（unity贼简单，不信你试试）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43576780f24a269ec4aadd0e00973927/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c语言中while(!x!=0),C语言,while(!x!=0)s&#43;=&#43;&#43;x；如何运行的,谢大神 , C语言中while(!x==0)什么意思...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>