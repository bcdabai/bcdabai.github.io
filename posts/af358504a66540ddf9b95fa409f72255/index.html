<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序-----身份证校验 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序-----身份证校验" />
<meta property="og:description" content="1、在utils目录下创建idCardNumber.js文件
//身份证号严格校验 function identityIDCard(code) { //身份证号前两位代表区域 var city = { 11: &#34;北京&#34;, 12: &#34;天津&#34;, 13: &#34;河北&#34;, 14: &#34;山西&#34;, 15: &#34;内蒙古&#34;, 21: &#34;辽宁&#34;, 22: &#34;吉林&#34;, 23: &#34;黑龙江 &#34;, 31: &#34;上海&#34;, 32: &#34;江苏&#34;, 33: &#34;浙江&#34;, 34: &#34;安徽&#34;, 35: &#34;福建&#34;, 36: &#34;江西&#34;, 37: &#34;山东&#34;, 41: &#34;河南&#34;, 42: &#34;湖北 &#34;, 43: &#34;湖南&#34;, 44: &#34;广东&#34;, 45: &#34;广西&#34;, 46: &#34;海南&#34;, 50: &#34;重庆&#34;, 51: &#34;四川&#34;, 52: &#34;贵州&#34;, 53: &#34;云南&#34;, 54: &#34;西藏 &#34;, 61: &#34;陕西&#34;, 62: &#34;甘肃&#34;, 63: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/af358504a66540ddf9b95fa409f72255/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T16:32:56+08:00" />
<meta property="article:modified_time" content="2024-01-04T16:32:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序-----身份证校验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、在utils目录下创建idCardNumber.js文件</p> 
<pre><code class="hljs">//身份证号严格校验
function identityIDCard(code) {
    //身份证号前两位代表区域
    var city = {
        11: "北京",
        12: "天津",
        13: "河北",
        14: "山西",
        15: "内蒙古",
        21: "辽宁",
        22: "吉林",
        23: "黑龙江 ",
        31: "上海",
        32: "江苏",
        33: "浙江",
        34: "安徽",
        35: "福建",
        36: "江西",
        37: "山东",
        41: "河南",
        42: "湖北 ",
        43: "湖南",
        44: "广东",
        45: "广西",
        46: "海南",
        50: "重庆",
        51: "四川",
        52: "贵州",
        53: "云南",
        54: "西藏 ",
        61: "陕西",
        62: "甘肃",
        63: "青海",
        64: "宁夏",
        65: "新疆",
        71: "台湾",
        81: "香港",
        82: "澳门",
        91: "国外 "
    };
    //身份证格式正则表达式
    var idCardReg = /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;
    var errorMsg = ""; //错误提示信息
    var isPass = true; //身份证验证是否通过（true通过、false未通过）
 
    //如果身份证不满足格式正则表达式
    if (!idCardReg.test(code)) {
        errorMsg = "身份证格式有误！";
        isPass = false;
    }
 
    //区域数组中不包含需验证的身份证前两位
    else if (!city[code.substr(0, 2)]) {
        errorMsg = "身份证地址编码有误！";
        isPass = false;
    } else {
        //18位身份证需要验证最后一位校验位
        if (code.length == 18) {
            code = code.split('');
            //∑(ai×Wi)(mod 11)
            //加权因子
            var factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
            //校验位
            var parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2];
            var sum = 0;
            var ai = 0;
            var wi = 0;
            for (var i = 0; i &lt; 17; i++) {
                ai = code[i];
                wi = factor[i];
                sum += ai * wi;
            }
            var last = parity[sum % 11];
            if (parity[sum % 11] != code[17]) {
                errorMsg = "身份证号不存在！";
                isPass = false;
            }
        }
    }
    var returnParam = {
        'errorMsg': errorMsg,
        'isPass': isPass
    }
    return returnParam;
}
module.exports = {
    identityIDCard,
}
</code></pre> 
<p>2、引用</p> 
<pre><code class="hljs">&lt;script&gt;
    import idCardNumberVerify from '../../utils/idCardNumber.js'
    export default{
        data(){
            return{}
        },
        onLoad(option) {
        },
        methods:{
            submit(){
                    //身份证校验
                    if(idCard){
                        var idCardMsg = idCardNumberVerify.identityIDCard(params.idCard);
                    }

             }
        }
    }
&lt;/script&gt;
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d48c46298ee7ba2b22c9d327c248539/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vmware虚拟机安装esxi7.0步骤</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a655c2dde102a50f34c84db4fa8a5b78/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序如何使用天地图的逆地理编码api</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>