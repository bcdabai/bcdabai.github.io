<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>centos 7 安装mysql  转载 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="centos 7 安装mysql  转载" />
<meta property="og:description" content="首先到官网站点下载mysql源码或源文件：
https://dev.mysql.com/downloads/mysql/
因为8.0版本是当前最新版本，如果用源码编译安装的话不确定是不是很稳定，官方也不是很推荐编译安装，所以我这里直接选择了用rpm安装：
我的系统是centos7 64位，所以我选择了
Red Hat Enterprise Linux/Oracle Linux系列
我下载了捆绑完整包：
mysql-8.0.11-1.el7.x86_64.rpm-bundle.tar
查询系统是否已经安装过mysql
因为我之前安装过一遍，所以rpm 查询到已安装包列表：
[root@jordy jordy]# rpm -qa | grep mysql
mysql-community-client-8.0.11-1.el7.x86_64
mysql-community-libs-8.0.11-1.el7.x86_64
mysql-community-common-8.0.11-1.el7.x86_64
mysql-community-server-8.0.11-1.el7.x86_64
卸载：
按一定顺序（因包之间有相互依赖）卸载即可：
rpm -e mysql-community-server-8.0.11-1.el7.x86_6
rpm -e mysql-community-client-8.0.11-1.el7.x86_64
rpm -e mysql-community-libs-8.0.11-1.el7.x86_64
rpm -e mysql-community-common-8.0.11-1.el7.x86_64
查看是否卸载成功：
用rpm -qa 查看，已经卸载完毕：
root@jordy jordy]# rpm -qa | grep mysql
[root@jordy jordy]#
然后我们正式开始安装：
cd /usr/local/src/mysql/mysql-8.0/rpm
[root@jordy rpm]# ll
total 1179692
-rw-r--r-- 1 root root 603985920 Apr 9 01:20 mysql-8." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/65053c46308bd6aee622ac3af28996c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-05-29T11:42:00+08:00" />
<meta property="article:modified_time" content="2018-05-29T11:42:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">centos 7 安装mysql  转载</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <ol class="list-paddingleft-2"><li> <p>首先到官网站点下载mysql源码或源文件：</p> <p>https://dev.mysql.com/downloads/mysql/</p> <p>因为8.0版本是当前最新版本，如果用源码编译安装的话不确定是不是很稳定，官方也不是很推荐编译安装，所以我这里直接选择了用rpm安装：</p> <p>我的系统是centos7 64位，所以我选择了</p> <p>Red Hat Enterprise Linux/Oracle Linux系列</p> <p>我下载了捆绑完整包：</p> <p>mysql-8.0.11-1.el7.x86_64.rpm-bundle.tar</p> </li><li> <p>查询系统是否已经安装过mysql</p> <p>因为我之前安装过一遍，所以rpm 查询到已安装包列表：</p> <p>[root@jordy jordy]#  rpm -qa | grep mysql</p> <p>mysql-community-client-8.0.11-1.el7.x86_64</p> <p>mysql-community-libs-8.0.11-1.el7.x86_64</p> <p>mysql-community-common-8.0.11-1.el7.x86_64</p> <p>mysql-community-server-8.0.11-1.el7.x86_64</p> </li><li> <p>卸载：</p> <p>按一定顺序（因包之间有相互依赖）卸载即可：</p> <p>rpm -e mysql-community-server-8.0.11-1.el7.x86_6</p> <p>rpm  -e  mysql-community-client-8.0.11-1.el7.x86_64</p> <p>rpm -e mysql-community-libs-8.0.11-1.el7.x86_64</p> <p>rpm -e mysql-community-common-8.0.11-1.el7.x86_64</p> </li><li> <p>查看是否卸载成功：</p> <p>用rpm  -qa  查看，已经卸载完毕：</p> <p>root@jordy jordy]#  rpm -qa | grep mysql</p> <p>[root@jordy jordy]#</p> </li><li> <p>然后我们正式开始安装：</p> <p>cd /usr/local/src/mysql/mysql-8.0/rpm</p> <p>[root@jordy rpm]# ll</p> <p>total 1179692</p> <p>-rw-r--r-- 1 root root  603985920 Apr  9 01:20 mysql-8.0.11-1.el7.x86_64.rpm-bundle.tar</p> <p>-rw-r--r-- 1 7155 31415  26760484 Apr  9 01:06 mysql-community-client-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415    549512 Apr  9 01:06 mysql-community-common-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415   4221784 Apr  9 01:06 mysql-community-devel-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415  24343708 Apr  9 01:06 mysql-community-embedded-compat-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415   2349488 Apr  9 01:06 mysql-community-libs-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415   2156516 Apr  9 01:06 mysql-community-libs-compat-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415 119957152 Apr  9 01:06 mysql-community-minimal-debuginfo-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415 357581528 Apr  9 01:07 mysql-community-server-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415  20562556 Apr  9 01:07 mysql-community-server-minimal-8.0.11-1.el7.x86_64.rpm</p> <p>-rw-r--r-- 1 7155 31415  45494324 Apr  9 01:07 mysql-community-test-8.0.11-1.el7.x86_64.rpm</p> <p>开始安装每个部分：</p> <p>[root@jordy rpm]# rpm -ivh mysql-community-common-8.0.11-1.el7.x86_64.rpm</p> <p>warning: mysql-community-common-8.0.11-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</p> <p>Preparing...                          ################################# [100%]</p> <p>Updating / installing...</p> <p>1:mysql-community-common-8.0.11-1.e################################# [100%]</p> <p>[root@jordy rpm]# rpm -ivh mysql-community-libs-8.0.11-1.el7.x86_64.rpm</p> <p>warning: mysql-community-libs-8.0.11-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</p> <p>Preparing...                          ################################# [100%]</p> <p>Updating / installing...</p> <p>1:mysql-community-libs-8.0.11-1.el7################################# [100%]</p> <p> </p> <p> </p> <p>[root@jordy rpm]# rpm -ivh mysql-community-libs-compat-8.0.11-1.el7.x86_64.rpm</p> <p>warning: mysql-community-libs-compat-8.0.11-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</p> <p>Preparing...                          ################################# [100%]</p> <p>Updating / installing...</p> <p>1:mysql-community-libs-compat-8.0.1################################# [100%</p> <p> </p> <p> </p> <p>[root@jordy rpm]# rpm -ivh mysql-community-client-8.0.11-1.el7.x86_64.rpm</p> <p>warning: mysql-community-client-8.0.11-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</p> <p>Preparing...                          ################################# [100%]</p> <p>Updating / installing...</p> <p>1:mysql-community-client-8.0.11-1.e################################# [100%]</p> <p> </p> <p>[root@jordy rpm]# rpm -ivh mysql-community-server-8.0.11-1.el7.x86_64.rpm</p> <p>warning: mysql-community-server-8.0.11-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</p> <p>Preparing...                          ################################# [100%]</p> <p>Updating / installing...</p> <p>1:mysql-community-server-8.0.11-1.e################################# [100%]</p> </li><li> <p>初始化</p> <p>为mysql创建一个用户</p> <p>groupadd     mysql</p> <p>useradd   -r    -g   mysql    -s    /bin/false    mysql</p> </li><li> <p>开始初始化：</p> <p>[root@jordy mysql]# mysqld --initialize --user=mysql</p> <p>2018-05-26T09:42:36.423053Z 0 [System] [MY-013169] [Server] /usr/sbin/mysqld (mysqld 8.0.11) initializing of server in progress as process 32607</p> <p>2018-05-26T09:42:36.426303Z 0 [ERROR] [MY-010457] [Server] --initialize specified but the data directory has files in it. Aborting.</p> <p>2018-05-26T09:42:36.426348Z 0 [ERROR] [MY-010119] [Server] Aborting</p> <p>2018-05-26T09:42:36.426674Z 0 [System] [MY-010910] [Server] /usr/sbin/mysqld: Shutdown complete (mysqld 8.0.11)  MySQL Community Server - GPL.</p> <p>看到报错了，初始化出现abort错误，是因为之前卸载后对应的data目录并没有被清空，这个时候我们去my.cnf里查看下用rpm安装的mysql，默认的data目录的位置是哪里：</p> <p>打开 vim /etc/my.cnf  看到：datadir=/var/lib/mysql</p> <p>则证明数据目录的默认子目录是 /var/lib/mysql </p> <p>直接删除：rm -rf /var/lib/mysql</p> <p>然后重新初始化：</p> <p>[root@jordy mysql]# mysqld --initialize --user=mysql</p> <p>ok，没有任何报错，初始化完毕；</p> <p>这个时候，mysql默认会在/var/log/mysqld.log 文件中记录日志，还会生成一个临时的默认密码，如：</p> <p>2018-05-26T09:45:49.906507Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: fdx,U_lk*8oi</p> </li><li> <p>启动mysqld服务</p> <p>[root@jordy mysql]# systemctl  start mysqld.service</p> <p>启动成功后，核对下是否正常：</p> <p>[root@jordy mysql]# ps -ef | grep mysqld | grep -v grep </p> <p>mysql    32694     1  2 17:49 ?        00:00:00 /usr/sbin/mysqld</p> <p>[root@jordy mysql]# </p> <p>ok</p> </li><li> <p>登录mysql（用刚才生成的临时密码：fdx,U_lk*8oi）</p> <p>[root@jordy mysql]# mysql -u root -p</p> <p>Enter password: </p> <p>Welcome to the MySQL monitor.  Commands end with ; or \g.</p> <p>Your MySQL connection id is 9</p> <p>Server version: 8.0.11</p> <p> </p> <p>Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</p> <p> </p> <p>Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners.</p> </li></ol> 
 <p>       Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</p> 
 <p>       mysql&gt; </p> 
 <p>        然后我们修改一下密码：        </p> 
 <p>        mysql&gt; alter user 'root'@'localhost' identified by '111111';</p> 
 <p>        Query OK, 0 rows affected (0.03 sec)</p> 
 <p>        然后查看系统默认的表：        </p> 
 <p>        mysql&gt; show databases;</p> 
 <p>        +--------------------+</p> 
 <p>        | Database           |</p> 
 <p>        +--------------------+</p> 
 <p>        | information_schema |</p> 
 <p>        | mysql              |</p> 
 <p>        | performance_schema |</p> 
 <p>        | sys                |</p> 
 <p>        +--------------------+</p> 
 <p>        4 rows in set (0.01 sec)</p> 
 <p>        退出：</p> 
 <p>        mysql&gt; quit;</p> 
 <p>        Bye</p> 
 <p>        修改下默认端口号： </p> 
 <p>        vim /etc/my.cnf     </p> 
 <p>        找到 [mysqld]  增加port=2810</p> 
 <p>        重启服务：</p> 
 <p>        [root@jordy mysql]# systemctl  restart mysqld.service</p> 
 <p>ok 到这里基本就安装完毕，关于mysql的配置文件以及详细的关键配置项的讲解和说明，大家可以在留言区留言，我会一一回复；除此，后续的专题如涉及到my.cnf中的关键配置项，也会顺便补充说明；</p> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/chenjingxuan/p/9104234.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/978a0eb4fe1687e73b808233ecd214ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网易云音乐获取播放链接</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6967198e81364284d6d13a6a404153f6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">modbus主站发送数据，主站是不是必须等到从站回了数据才可以发送下一帧数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>