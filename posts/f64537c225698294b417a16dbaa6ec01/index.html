<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis 五大数据类型/结构 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis 五大数据类型/结构" />
<meta property="og:description" content="文章目录 Redis 五大数据类型/结构操作文档Redis 数据存储格式Redis 数据类型-5 种常用string说明String 常用指令&amp;演示 list双向链表示意图解图list 常用指令&amp;演示list 最佳实践应用场景 setset 常用指令&amp;使用set 指令操作示意图 hashhash 常用指令&amp;使用hash 指令操作示意图 有序集合Zset(sorted set)简介sorted set 常用指令&amp;使用 Redis 五大数据类型/结构 操作文档 官方文档: https://redis.io/commands
中文文档: http://redisdoc.com/
Redis 数据存储格式 一句话: redis 自身是一个Map，其中所有的数据都是采用key : value 的形式存储
key 是字符串，value 是数据，数据支持多种类型/结构
Redis 数据类型-5 种常用 string
hash
list
set
sorted_set
string 说明 String 是Redis 最基本的类型，一个key 对应一个value。String 类型是二进制安全的, Redis 的string 可以包含任何数据。比如jpg 图片或者序列化的对象。String 类型是Redis 基本的数据类型，一个Redis 中字符串value 最多可以是512M String 常用指令&amp;演示 set &lt;key&gt;&lt;value&gt;添加键值对 get &lt;key&gt;查询对应键值 append &lt;key&gt;&lt;value&gt;将给定的&lt;value&gt; 追加到原值的末尾 strlen &lt;key&gt;获得值的长度 setnx &lt;key&gt;&lt;value&gt;只有在key 不存在时设置key 的值 incr &lt;key&gt; 将key 中储存的数字值(字符串)增1， 只能对数字值操作，如果为空，新增值为1 decr &lt;key&gt; 将key 中储存的数字值(字符串)减1 ， 只能对数字值操作，如果为空，新增值为-1 incrby / decrby &lt;key&gt;&lt;步长&gt;将key 中储存的数字值增减。自定义步长 mset &lt;key1&gt;&lt;value1&gt;&lt;key2&gt;&lt;value2&gt; ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f64537c225698294b417a16dbaa6ec01/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-16T17:24:13+08:00" />
<meta property="article:modified_time" content="2023-07-16T17:24:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis 五大数据类型/结构</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Redis__1" rel="nofollow">Redis 五大数据类型/结构</a></li><li><ul><li><a href="#_3" rel="nofollow">操作文档</a></li><li><a href="#Redis__15" rel="nofollow">Redis 数据存储格式</a></li><li><a href="#Redis_5__21" rel="nofollow">Redis 数据类型-5 种常用</a></li><li><a href="#string_33" rel="nofollow">string</a></li><li><ul><li><a href="#_35" rel="nofollow">说明</a></li><li><a href="#String__41" rel="nofollow">String 常用指令&amp;演示</a></li></ul> 
   </li><li><a href="#list_61" rel="nofollow">list</a></li><li><ul><li><a href="#_67" rel="nofollow">双向链表示意图</a></li><li><a href="#_72" rel="nofollow">解图</a></li><li><a href="#list__77" rel="nofollow">list 常用指令&amp;演示</a></li><li><a href="#list__95" rel="nofollow">list 最佳实践</a></li><li><ul><li><a href="#_99" rel="nofollow">应用场景</a></li></ul> 
   </li></ul> 
   </li><li><a href="#set_108" rel="nofollow">set</a></li><li><ul><li><a href="#set__112" rel="nofollow">set 常用指令&amp;使用</a></li><li><ul><li><a href="#set__119" rel="nofollow">set 指令操作示意图</a></li></ul> 
   </li></ul> 
   </li><li><a href="#hash_138" rel="nofollow">hash</a></li><li><ul><li><a href="#hash__147" rel="nofollow">hash 常用指令&amp;使用</a></li><li><ul><li><a href="#hash__154" rel="nofollow">hash 指令操作示意图</a></li></ul> 
   </li></ul> 
   </li><li><a href="#Zsetsorted_set_204" rel="nofollow">有序集合Zset(sorted set)</a></li><li><ul><li><a href="#_206" rel="nofollow">简介</a></li><li><a href="#sorted_set__213" rel="nofollow">sorted set 常用指令&amp;使用</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Redis__1"></a>Redis 五大数据类型/结构</h2> 
<h3><a id="_3"></a>操作文档</h3> 
<p>官方文档: https://redis.io/commands</p> 
<p><img src="https://images2.imgbox.com/1d/8d/92YXDBfk_o.png" alt="在这里插入图片描述"></p> 
<p>中文文档: http://redisdoc.com/</p> 
<p><img src="https://images2.imgbox.com/e2/c9/VltcJEuJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Redis__15"></a>Redis 数据存储格式</h3> 
<p>一句话: redis 自身是一个Map，其中所有的数据都是采用key : value 的形式存储</p> 
<p>key 是字符串，value 是数据，数据支持多种类型/结构</p> 
<h3><a id="Redis_5__21"></a>Redis 数据类型-5 种常用</h3> 
<ol><li> <p>string</p> </li><li> <p>hash</p> </li><li> <p>list</p> </li><li> <p>set</p> </li><li> <p>sorted_set</p> </li></ol> 
<h3><a id="string_33"></a>string</h3> 
<h4><a id="_35"></a>说明</h4> 
<ol><li>String 是Redis 最基本的类型，一个key 对应一个value。</li><li>String 类型是二进制安全的, Redis 的string 可以包含任何数据。比如jpg 图片或者序列化的对象。</li><li>String 类型是Redis 基本的数据类型，一个Redis 中字符串value 最多可以是512M</li></ol> 
<h4><a id="String__41"></a>String 常用指令&amp;演示</h4> 
<pre><code>set &lt;key&gt;&lt;value&gt;添加键值对
get &lt;key&gt;查询对应键值
append &lt;key&gt;&lt;value&gt;将给定的&lt;value&gt; 追加到原值的末尾
strlen &lt;key&gt;获得值的长度
setnx &lt;key&gt;&lt;value&gt;只有在key 不存在时设置key 的值
incr &lt;key&gt; 将key 中储存的数字值(字符串)增1， 只能对数字值操作，如果为空，新增值为1
decr &lt;key&gt; 将key 中储存的数字值(字符串)减1 ， 只能对数字值操作，如果为空，新增值为-1
incrby / decrby &lt;key&gt;&lt;步长&gt;将key 中储存的数字值增减。自定义步长
mset &lt;key1&gt;&lt;value1&gt;&lt;key2&gt;&lt;value2&gt; ....., 同时设置一个或多个key-value 对
mget &lt;key1&gt;&lt;key2&gt;&lt;key3&gt; ..... 同时获取一个或多个value
msetnx &lt;key1&gt;&lt;value1&gt;&lt;key2&gt;&lt;value2&gt; ..... 同时设置一个或多个key-value 对，当且仅当所有给定key 都不存在, 原子性，有一个失败则都失败
getrange&lt;key&gt;&lt;起始位置&gt;&lt;结束位置&gt; , 获得值的范围，类似java 中的substring
setrange &lt;key&gt;&lt;起始位置&gt;&lt;value&gt; 用&lt;value&gt; 覆写&lt;key&gt;所储存的字符串值，从&lt;起始位置&gt;开始(索引从0 开始)。
setex &lt;key&gt;&lt;过期时间&gt;&lt;value&gt; 设置键值的同时，设置过期时间，单位秒。
getset &lt;key&gt;&lt;value&gt; , 以新换旧，设置了新值同时获得旧值
</code></pre> 
<h3><a id="list_61"></a>list</h3> 
<p>一句话: list 类型, 保存多个数据，底层使用双向链表存储结构实现</p> 
<p>list 存储结构示意图</p> 
<h4><a id="_67"></a>双向链表示意图</h4> 
<p><img src="https://images2.imgbox.com/d7/b3/YHBfAsnl_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_72"></a>解图</h4> 
<ol><li>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部(左边)或者尾部(右边)。</li><li>底层是个双向链表，对两端的操作性能高，通过索引下标的操作中间的节点性能较差</li></ol> 
<h4><a id="list__77"></a>list 常用指令&amp;演示</h4> 
<p><img src="https://images2.imgbox.com/22/5f/DOU1vpHf_o.png" alt="在这里插入图片描述"></p> 
<pre><code>list 指令一览：http://redisdoc.com/list/index.html
lpush/rpush &lt;key&gt;&lt;value1&gt;&lt;value2&gt;&lt;value3&gt; .... 从左边/右边插入一个或多个值
lpop/rpop &lt;key&gt;从左边/右边吐出一个值
rpoplpush &lt;key1&gt;&lt;key2&gt;从&lt;key1&gt;列表右边吐出一个值，插到&lt;key2&gt;列表左边
lrange &lt;key&gt;&lt;start&gt;&lt;stop&gt; 按照索引下标获得元素(从左到右)
lrange mylist 0 -1 0 左边第一个，-1 右边第一个，（0-1 表示获取所有）
lindex &lt;key&gt;&lt;index&gt;按照索引下标获得元素(从左到右)
llen &lt;key&gt;获得列表长度
linsert &lt;key&gt; before &lt;value&gt;&lt;newvalue&gt;在&lt;value&gt;的前面插入&lt;newvalue&gt;插入值
lrem &lt;key&gt;&lt;n&gt;&lt;value&gt;从左边删除n 个value(从左到右)
lset&lt;key&gt;&lt;index&gt;&lt;value&gt;将列表key 下标为index 的值替换成value
</code></pre> 
<h4><a id="list__95"></a>list 最佳实践</h4> 
<p>redis 应用于具有操作先后顺序的数据控制</p> 
<h5><a id="_99"></a>应用场景</h5> 
<p>系统通知，按照时间顺序展示，将最近的通知列在前面</p> 
<p><img src="https://images2.imgbox.com/2a/a1/LBpVT693_o.png" alt="在这里插入图片描述"></p> 
<p>● 其它，比如微信的最近转发，微博的最新关注等.</p> 
<h3><a id="set_108"></a>set</h3> 
<p>一句话: set 提供的功能与list 类似是一个列表的功能，特殊之处在于set 是可以自动排重的, 即值是不允许重复的</p> 
<h4><a id="set__112"></a>set 常用指令&amp;使用</h4> 
<p>set 指令一览：http://redisdoc.com/set/index.html</p> 
<p><img src="https://images2.imgbox.com/2c/14/5jr9Uqcl_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="set__119"></a>set 指令操作示意图</h5> 
<p><img src="https://images2.imgbox.com/24/4d/loe9fxuK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f5/b8/kryTr0QD_o.png" alt="在这里插入图片描述"></p> 
<pre><code>sadd &lt;key&gt;&lt;value1&gt;&lt;value2&gt; ..... 将一个或多个member 元素加入到集合key 中，已经存在的member 元素将被忽略
smembers &lt;key&gt;取出该集合的所有值。
sismember &lt;key&gt;&lt;value&gt;判断集合&lt;key&gt;是否为含有该&lt;value&gt;值，有1，没有0
scard&lt;key&gt;返回该集合的元素个数。
srem &lt;key&gt;&lt;value1&gt;&lt;value2&gt; .... 删除集合中的某个元素。
spop &lt;key&gt;随机从该集合中吐出一个值。
srandmember &lt;key&gt;&lt;n&gt;随机从该集合中取出n 个值。不会从集合中删除。
smove &lt;source&gt;&lt;destination&gt;value 把集合中一个值从一个集合移动到另一个集合
sinter &lt;key1&gt;&lt;key2&gt;返回两个集合的交集元素。
sunion &lt;key1&gt;&lt;key2&gt;返回两个集合的并集元素。
sdiff &lt;key1&gt;&lt;key2&gt;返回两个集合的差集元素(key1 中的，不包含key2 中的)
</code></pre> 
<h3><a id="hash_138"></a>hash</h3> 
<p>一句话: Redis hash 是一个键值对集合，hash 适合用于存储对象， 类似Java 里面的Map&lt;String,Object&gt;</p> 
<p>一图胜千言：Redis hash 存储结构简单示意图</p> 
<p><img src="https://images2.imgbox.com/6d/34/bOijcIn1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="hash__147"></a>hash 常用指令&amp;使用</h4> 
<p>hash 指令一览：http://redisdoc.com/hash/index.html</p> 
<p><img src="https://images2.imgbox.com/fb/a9/yn3i0RSm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="hash__154"></a>hash 指令操作示意图</h5> 
<p><img src="https://images2.imgbox.com/2e/3d/7R4UvBsJ_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hset &lt;key&gt;&lt;field&gt;&lt;value&gt;给&lt;key&gt;集合中的&lt;field&gt;键赋值&lt;value&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/19/f9/PWVw1UJe_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hget &lt;key1&gt;&lt;field&gt;从&lt;key1&gt;集合&lt;field&gt;取出value
</code></pre> 
<p><img src="https://images2.imgbox.com/e1/6d/qnXBWM5K_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hmset &lt;key1&gt;&lt;field1&gt;&lt;value1&gt;&lt;field2&gt;&lt;value2&gt;... 批量设置hash 的值
</code></pre> 
<p><img src="https://images2.imgbox.com/db/47/pV37kwKK_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hmget &lt;key1&gt;&lt;field1&gt; &lt;field2&gt;... 批量取出hash 的filed 值
hexists&lt;key1&gt;&lt;field&gt;查看哈希表key 中，给定域field 是否存在
</code></pre> 
<p><img src="https://images2.imgbox.com/a6/4b/24MZTkNf_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hkeys &lt;key&gt;列出该hash 集合的所有field
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/5a/3DM1gkJA_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hvals &lt;key&gt;列出该hash 集合的所有value
</code></pre> 
<p><img src="https://images2.imgbox.com/d1/7a/r5qn3rQO_o.png" alt="在这里插入图片描述"></p> 
<pre><code>hincrby &lt;key&gt;&lt;field&gt;&lt;increment&gt;为哈希表key 中的域field 的值加上增量1 -1
hsetnx &lt;key&gt;&lt;field&gt;&lt;value&gt;将哈希表key 中的域field 的值设置为value ，当且仅当域field 不存在
</code></pre> 
<p><img src="https://images2.imgbox.com/f1/4f/f1Bnb4Mh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Zsetsorted_set_204"></a>有序集合Zset(sorted set)</h3> 
<h4><a id="_206"></a>简介</h4> 
<ol><li>Redis 有序集合zset 与普通集合set 非常相似，是一个没有重复元素的字符串集合。</li><li>不同之处是有序集合的每个成员都关联了一个评分(score),这个评分(score)被用来按照从最低分到最高分的方式排序集合中的成员。集合的成员是唯一的，但是评分可以是重复了。</li><li>因为元素是有序的, 所以也可以很快的根据评分(score)或者次序(position)来获取一个范围的元素。</li><li>访问有序集合的中间元素也是非常快的, 你能够使用有序集合作为一个没有重复成员的列表。</li></ol> 
<h4><a id="sorted_set__213"></a>sorted set 常用指令&amp;使用</h4> 
<p>sorted set 指令一览：http://redisdoc.com/sorted_set/index.html</p> 
<p><img src="https://images2.imgbox.com/99/ed/VJycVta8_o.png" alt="在这里插入图片描述"></p> 
<p>sorted set 指令示意图- 案例蜀国五虎将</p> 
<p><img src="https://images2.imgbox.com/a3/3c/THhq8uNP_o.png" alt="在这里插入图片描述"></p> 
<pre><code>zadd &lt;key&gt;&lt;score1&gt;&lt;value1&gt;&lt;score2&gt;&lt;value2&gt;… 将一个或多个member 元素及其score 值加入到有序集key 当中。
</code></pre> 
<p><img src="https://images2.imgbox.com/68/4b/a7cGVUqu_o.png" alt="在这里插入图片描述"></p> 
<pre><code>zrange &lt;key&gt;&lt;start&gt;&lt;stop&gt; [WITHSCORES] 返回有序集key 中，下标在&lt;start&gt;&lt;stop&gt;之间的元素，带WITHSCORES，可以让分数一起和值返回到结果集
</code></pre> 
<p><img src="https://images2.imgbox.com/10/cd/hpr0Tc1a_o.png" alt="在这里插入图片描述"></p> 
<pre><code>zscore &lt;key&gt;&lt;member&gt; 返回有序集key 中，成员member 的score 值 --太简单了不截图了
.
zrangebyscore key min max [withscores] [limit offset count] 返回有序集key 中，
所有score 值介于min 和max 之间(包括等于min 或max )的成员。有序集成员按score 值递增(从小到大)次序排列。
</code></pre> 
<p><img src="https://images2.imgbox.com/51/13/db8Nkvui_o.png" alt="在这里插入图片描述"></p> 
<p>zrevrangebyscore key max min [withscores] [limit offset count] 同上，改为从大到小排列。</p> 
<p><img src="https://images2.imgbox.com/1f/45/xwg7hlGB_o.png" alt="在这里插入图片描述"></p> 
<pre><code>zincrby &lt;key&gt;&lt;increment&gt;&lt;value&gt; 为元素的score 加上增量
zrem &lt;key&gt;&lt;value&gt;删除该集合下，指定值的元素
zcount &lt;key&gt;&lt;min&gt;&lt;max&gt;统计该集合，分数区间内的元素个数
zrank &lt;key&gt;&lt;value&gt;返回该值在集合中的排名，从0 开始。
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1696dbade92bed06463140d531017cfb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis数据操作工具类--Java语言</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/42e3c1278daa0cf6471e23b1fcc85f9e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">NUC972开发板学习过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>