<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Axios使用详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Axios使用详解" />
<meta property="og:description" content="Axios： Axios，是一个基于promise [5] 的网络请求库，作用于node.js和浏览器中，它是 isomorphic 的(即同一套代码可以运行在浏览器和node.js中)。在服务端它使用原生node.js http模块, 而在客户端 (浏览端) 则使用XMLHttpRequest。 [2] 特性 从浏览器创建 XMLHttpRequests从 node.js 创建 http 请求支持 Promise API拦截请求和响应转换请求和响应数据取消请求自动转换JSON数据客户端支持防御XSRF 安装 使用 npm: npm install axios
使用 axios是基于Promise的，因此可以使用Promise API
axios的请求方式：
axios(config)axios.request(config)axios.get(url [,config])axios.post(url [,data [,config]])axios.put(url [,data [,config]])axios.delete(url [,config])axios.patch(url [,data [,config]])axios.head(url [,config]) &lt;script&gt; //发送GET查询请求 axios({ //请求类型 method:&#39;GET&#39;, //URL url:&#39;http//localhost:8080/xxx&#39; }).then(response =&gt;{ console.log(response) },err=&gt;{ console.log(err); }); //发送添加POST请求 axios({ //请求类型 method:&#39;POST&#39;, //URL url:&#39;http//localhost:8080/xxx&#39;, //设置请求体 data:{ xx:xx, xxx:xxx } }).then(response =&gt;{ console.log(response) },err=&gt;{ console.log(err); }); //发送更新PUT请求 axios({ //请求类型 method:&#39;PUT&#39;, //URL url:&#39;http//localhost:8080/xxx/xxid&#39;, //设置请求体 data:{ xx:xx, xxx:xxx } })." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/41ad2c56f6f5fb6bf1cc0dcc045afdf5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-08T12:08:12+08:00" />
<meta property="article:modified_time" content="2022-10-08T12:08:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Axios使用详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>Axios：</h4> 
<p>Axios，是一个基于promise [5]<a name="ref_%5B5%5D_32353637"> </a> 的网络请求库，作用于<a href="https://baike.baidu.com/item/node.js/7567977?fromModule=lemma_inlink" rel="nofollow" title="node.js">node.js</a>和<a href="https://baike.baidu.com/item/%E6%B5%8F%E8%A7%88%E5%99%A8/213911?fromModule=lemma_inlink" rel="nofollow" title="浏览器">浏览器</a>中，它是 isomorphic 的(即同一套代码可以运行在浏览器和node.js中)。在<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E7%AB%AF/6492316?fromModule=lemma_inlink" rel="nofollow" title="服务端">服务端</a>它使用原生node.js <a href="https://baike.baidu.com/item/http/243074?fromModule=lemma_inlink" rel="nofollow" title="http">http</a>模块, 而在客户端 (浏览端) 则使用XMLHttpRequest。 [2]<a name="ref_%5B2%5D_32353637"> </a></p> 
<h4 id="te-xing">特性</h4> 
<blockquote> 
 <ul><li>从浏览器创建 <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="nofollow" title="XMLHttpRequests">XMLHttpRequests</a></li><li>从 node.js 创建 <a href="http://nodejs.org/api/http.html" rel="nofollow" title="http">http</a> 请求</li><li>支持 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="nofollow" title="Promise">Promise</a> API</li><li>拦截请求和响应</li><li>转换请求和响应数据</li><li>取消请求</li><li>自动转换JSON数据</li><li>客户端支持防御<a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery" rel="nofollow" title="XSRF">XSRF</a></li></ul> 
</blockquote> 
<h4>安装 </h4> 
<p>使用 npm:  npm install axios</p> 
<h4>使用</h4> 
<blockquote> 
 <p>axios是基于Promise的，因此可以使用Promise <a href="https://so.csdn.net/so/search?q=API&amp;spm=1001.2101.3001.7020" title="API">API</a></p> 
</blockquote> 
<blockquote> 
 <p>axios的请求方式：</p> 
 <ol><li>axios(config)</li><li>axios.request(config)</li><li>axios.get(url [,config])</li><li>axios.post(url [,data [,config]])</li><li>axios.put(url [,data [,config]])</li><li>axios.delete(url [,config])</li><li>axios.patch(url [,data [,config]])</li><li>axios.head(url [,config])</li></ol> 
</blockquote> 
<pre><code class="language-javascript">&lt;script&gt;
    //发送GET查询请求
        axios({
            //请求类型
            method:'GET',
            //URL
            url:'http//localhost:8080/xxx'
        }).then(response =&gt;{
            console.log(response)
        },err=&gt;{
			console.log(err);
			});
    //发送添加POST请求
        axios({
            //请求类型
            method:'POST',
            //URL
            url:'http//localhost:8080/xxx',
            //设置请求体
            data:{
                xx:xx,
                xxx:xxx
            }
        }).then(response =&gt;{
            console.log(response)
        },err=&gt;{
			console.log(err);
			});
    //发送更新PUT请求
        axios({
            //请求类型
            method:'PUT',
            //URL
            url:'http//localhost:8080/xxx/xxid',
            //设置请求体
            data:{
                xx:xx,
                xxx:xxx
            }
        }).then(response =&gt;{
            console.log(response)
        },err=&gt;{
			console.log(err);
			});
    //发送删除DELETE请求
        axios({
            //请求类型
            method:'DELETE',
            //URL
            url:'http//localhost:8080/xxx/xxid',
        }).then(response =&gt;{
            console.log(response)
        },err=&gt;{
			console.log(err);
			});
&lt;/script&gt;</code></pre> 
<p><strong>其他方式发送请求</strong></p> 
<p> </p> 
<pre><code class="language-javascript">&lt;script&gt;
    //发送GET请求
	//axios()一样
    axios.request({
        method:'GET',
        url:'http://localhost:8080/xxxs'
    }).then(response =&gt;{
        console.log(response)
    },err=&gt;{
		console.log(err);
		})
 
    //发送POST请求
    //axios()
    axios.post(
        //URL
        'http://localhost:8080/xxxs',
        {
            //参数
            "xx":xx
            "xxx":"xxx"
        }).then(response =&gt;{
        console.log(response);
    },err=&gt;{
		console.log(err);
		})
&lt;/script&gt;</code></pre> 
<h4>axios默认设置</h4> 
<pre><code class="language-javascript">&lt;script&gt;
   // 引入axios
import axios from 'axios';

// 创建axios实例
const httpService = axios.create({
    // 请求超时时间
    timeout: 3000 // 需自定义
});
&lt;/script&gt;</code></pre> 
<h4>拦截器</h4> 
<p><strong>响应拦截器  在我们处理结果之前帮助我们对返回的结果进行一个预处理，比如格式化数据</strong></p> 
<pre><code class="language-javascript">// request拦截器
httpService.interceptors.request.use(
    config =&gt; {
        console.log(config.url);
        return config;
    },
    error =&gt; {
        // 请求错误处理
        Promise.reject(error);
    }
)</code></pre> 
<h4>取消请求</h4> 
<pre><code class="language-javascript">&lt;script&gt;
    // 2.声明全局变量
    let cancel = null;
	xxx = function() {
        if(cancel !== null){
            //取消上一次请求
            cancel();
        }
        axios({
            method:'GET',
            url:'http://localhost:8080/xxxs',
            //1.添加配置对象的属性
            cancelToken: new axios.CancelToken(function(c){
                // 3. 将c的值赋值给 cancel
                cancel = c;
            })
        }).then(response =&gt; {
            console.log(response);
            //将 cancel 的值初始化
            cancel = null;
        })
    }
    //执行 cancel 函数来触发取消请求
    xxx = function (){
        cancel();
    }
&lt;/script&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/87c16ad912050752ab67c5d0d90ee195/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unity基础操作-包与资源管理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a9e0b86d5072c4395797039c096ffb2a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RGMII以太网测试方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>