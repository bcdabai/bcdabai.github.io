<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GIt Squash 多个提交压缩提交 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GIt Squash 多个提交压缩提交" />
<meta property="og:description" content="假设你有一个名为 feature 的分支，它包含三个提交（A, B, C），并且你想将这三个提交压缩成一个。下面是如何做到这一点的。
首先，找出你要开始压缩的那个最早提交的哈希值。在这个例子中，我们假设 A 是最早的提交。你可以通过运行 git log 命令来查看提交历史并找到提交 A 的哈希值。
开启交互式 rebase 模式 git rebase -i &lt;A-hash&gt;^ 这里 &lt;A-hash&gt; 是提交 A 的哈希值。^ 符号表示该提交的前一个提交。
Squash 合并 将你希望合并的每个提交行前面的 pick 改为 squash 或 s。第一行（最早的提交）应保留为 pick。
# 根据rebase -i 提交目标hash值打开编辑界面 git rebase -i 71c24d47b2f68d0465c3e3defa48311c3d592036 # 接着会弹出如下界面 s -- squash ，被合并的提交 pick 改为s(squash) pick 5c079ff120 fix s 316e094548 fix status log s a79cbdc0f3 脱手重复key问题修复 s df8650aa3f [feat] add hmi s ff74bd1bf1 [feat] add curise speed s 08bf230667 [fix] cruise_speed_limit s 71c24d47b2 [feat]: 15s hod s 26f7d3f83d Updated mff_aeb_config." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9f573b2cc46764c876675ee11b17fd37/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-14T16:51:37+08:00" />
<meta property="article:modified_time" content="2023-08-14T16:51:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GIt Squash 多个提交压缩提交</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>假设你有一个名为 <code>feature</code> 的分支，它包含三个提交（A, B, C），并且你想将这三个提交压缩成一个。下面是如何做到这一点的。</p> 
<p>首先，找出你要开始压缩的那个最早提交的哈希值。在这个例子中，我们假设 A 是最早的提交。你可以通过运行 <code>git log</code> 命令来查看提交历史并找到提交 A 的哈希值。</p> 
<h4>开启交互式 rebase 模式</h4> 
<pre><code class="language-bash">git rebase -i &lt;A-hash&gt;^
</code></pre> 
<p>这里 <code>&lt;A-hash&gt;</code> 是提交 A 的哈希值。<code>^</code> 符号表示该提交的前一个提交。</p> 
<h4>Squash 合并</h4> 
<p>将你希望合并的每个提交行前面的 <code>pick</code> 改为 <code>squash</code> 或 <code>s</code>。第一行（最早的提交）应保留为 <code>pick</code>。</p> 
<pre><code class="language-bash"># 根据rebase -i 提交目标hash值打开编辑界面
git rebase -i 71c24d47b2f68d0465c3e3defa48311c3d592036

# 接着会弹出如下界面  s -- squash ，被合并的提交 pick 改为s(squash)
pick 5c079ff120 fix
s 316e094548 fix status log
s a79cbdc0f3 脱手重复key问题修复
s df8650aa3f [feat] add hmi
s ff74bd1bf1 [feat] add curise speed
s 08bf230667 [fix] cruise_speed_limit
s 71c24d47b2 [feat]: 15s hod
s 26f7d3f83d Updated mff_aeb_config.json</code></pre> 
<p></p> 
<h4>保存并关闭编辑器。</h4> 
<blockquote> 
 <p>Git 默认使用的编辑器可能是 Vim, Nano 或者其他的，这取决于你的系统配置。</p> 
 <p>这里以 Vim 和 Nano 为例说明如何保存并退出：</p> 
 <p>Vim :</p> 
 <p>        1、在 Vim 中，按 <code>Esc</code> 进入命令模式</p> 
 <p>        2、输入 <code>:wq</code> （意思是 write and quit，即保存并退出），然后按 <code>Enter</code></p> 
 <p><code>Nano：</code></p> 
 <p>        1、按 <code>Ctrl+O</code> 来保存文件（你会在底部看到提示 "File Name to Write"）</p> 
 <p>        2、然后，按 <code>Enter</code> 确认文件名</p> 
 <p>        3、最后，按 <code>Ctrl+X</code> 退出编辑器</p> 
 <p>设置默认编辑器：</p> 
 <p>        git config --global core.editor vim</p> 
</blockquote> 
<p>如果你选择了任何提交进行压缩，Git 将再次打开一个编辑器，让你修改新的合并提交消息。这将是所有被挑选和压缩提交的提交消息的组合。</p> 
<p><img alt="" height="854" src="https://images2.imgbox.com/f0/38/1vxhVbs5_o.png" width="1113"></p> 
<p></p> 
<p>在这里，你可以整理你的提交消息，删除不需要的部分或者添加更多的细节。</p> 
<p>保存并关闭编辑器会创建新的合并提交。</p> 
<h4>推送到远端</h4> 
<p>现在，你可以用以下命令强制推送你的更改到远程存储库：</p> 
<pre><code class="language-bash">git push origin feature --force</code></pre> 
<p>就这样，你已经成功地将分支 <code>feature</code> 的三个提交压缩为一个了！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bfe7583dd20616d25e9daacd4bf0349f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python解决-力扣002-两数相加</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6f5eb1e5d86bbc730bf0941b55b3a69e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">samba的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>