<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>算法回忆录——DFS与BFS - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="算法回忆录——DFS与BFS" />
<meta property="og:description" content="文章目录 1. 广度优先搜索2. 深度优先搜索 1. 广度优先搜索 拿迷宫（二维，上下左右四个方向，入口在左方）来举例，一开始从入口出发，一直往右走，如果遇到了路口，就记录下该路口有几条路可以走，然后选择一条走下去，如果走下去又遇到了一个路口，那么又记录下这个路口有几条路口可以走，然后返回第一个路口，选择未走过的路走下去…
总结一下就是，遇到第一个路口，记录一下该路口有几条路，随便选一条，当遇到第二个路口的时候，又记录一下该路口有几条路，然后返回第一个路口，走另外一条路。也就是说，必须先走完第一个路口的所有路，才能走下一个路口的所有路。
到这，会发现这个过程跟由树的结构很容易解释（圆表示路口，线表示路）：
1表示第一个路口，记录这个路口连通的三个路口，选择从左到右第一条路走走到2（第二个路口），记录第二个路口连通的两个路口（只记录不走），返回第一个路口，走第二条路走到3（第三个路口，若有连通的路口就记录，没有就不记录），返回第一个路口，走第三条路走到4（第四个路口），记录第四个路口连通的一个路口，返回第一个路口第一个路口所有路走完，按记录的先后顺序来到第二个路口走到5（第五个路口），记录，返回走到6，记录，返回。第二个路口走完，按记录的先后顺序来到第三个路口第三个路口没有路，来到第四个路口走到7，记录，返回，第四个路口走完来到第五个路口… 而搜索算法针对到是图这类结构，它与树不同的是，拿迷宫来说，树结构的话每条路都是能走到尽头的，图结构的话可能你走到第五个路口，继续走，还能返回到第一个路口，就是这样。
上面的记录步骤可以看到，是先记录哪个路口就走那个路口，可以用队列来实现（先进先出）
下面举一个岛屿最大面积算法题为例：
​ 给定一个由0和1组成的二维数组grid，0表示海洋，1表示岛屿，求岛屿最大面积就是求多个相邻岛屿的总面积最大。（相邻只包括上下左右相邻，斜方向上的相邻不算）
例如:
# 最大面积为5 [[0,1,1,1], [0,0,1,0], [0,1,0,0], [0,1,1,1], [0,0,1,0],] # 最大面积为1 [[0,0,0,0,1,0,1]] 思路：
同迷宫一样，我们从grid[0,0]开始往右找（第一行完了，就从下一行开始）找到岛屿后，判定它是不是已经遍历过如果没有遍历过，就将它标记为已遍历然后判断它的左右上下有没有连着的岛屿，有就标记直到连着的所有的岛屿的左右上下都没有连着的岛屿就结束。记录此时连着的岛屿的总面积然后从grid[0,1]再开始…找完后就能得到最大的岛屿面积 from collections import deque grid = [[0,0,1,0,0,0,0,1,0,0,0,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,1,1,0,1,0,0,0,0,0,0,0,0], [0,1,0,0,1,1,0,0,1,0,1,0,0], [0,1,0,0,1,1,0,0,1,1,1,0,0], [0,0,0,0,0,0,0,0,0,0,1,0,0], [0,0,0,0,0,0,0,1,1,1,0,0,0], [0,0,0,0,0,0,0,1,1,0,0,0,0]] def BFS(grid): # 用来获取一个网格上下左右的四个节点 around = [[-1, 0], [1, 0], [0, 1], [0, -1]] # 获得网格的高度和宽度 height = len(grid) width = len(grid[0]) # 初始化辅助数组，该数组大小与grid一样，其中元素全部为False visit = [] for i in range(height): w = [False for j in range(width)] visit." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b11b2f0fe41d7880701125d46e57ee4c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-12T15:20:24+08:00" />
<meta property="article:modified_time" content="2024-01-12T15:20:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法回忆录——DFS与BFS</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1__2" rel="nofollow">1. 广度优先搜索</a></li><li><a href="#2__145" rel="nofollow">2. 深度优先搜索</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1__2"></a>1. 广度优先搜索</h2> 
<p>拿迷宫（二维，上下左右四个方向，入口在左方）来举例，一开始从入口出发，一直往右走，如果遇到了路口，就记录下该路口有几条路可以走，然后选择一条走下去，如果走下去又遇到了一个路口，那么又记录下这个路口有几条路口可以走，然后返回第一个路口，选择未走过的路走下去…</p> 
<p>总结一下就是，遇到第一个路口，记录一下该路口有几条路，随便选一条，当遇到第二个路口的时候，又记录一下该路口有几条路，然后返回第一个路口，走另外一条路。也就是说，必须先走完第一个路口的所有路，才能走下一个路口的所有路。</p> 
<p>到这，会发现这个过程跟由树的结构很容易解释（圆表示路口，线表示路）：<br> <img src="https://images2.imgbox.com/3f/f9/2dn7WZS0_o.png" alt="在这里插入图片描述" width="400"></p> 
<ul><li>1表示第一个路口，记录这个路口连通的三个路口，选择从左到右第一条路走</li><li>走到2（第二个路口），记录第二个路口连通的两个路口（只记录不走），返回第一个路口，走第二条路</li><li>走到3（第三个路口，若有连通的路口就记录，没有就不记录），返回第一个路口，走第三条路</li><li>走到4（第四个路口），记录第四个路口连通的一个路口，返回第一个路口</li><li>第一个路口所有路走完，按记录的先后顺序来到第二个路口</li><li>走到5（第五个路口），记录，返回</li><li>走到6，记录，返回。</li><li>第二个路口走完，按记录的先后顺序来到第三个路口</li><li>第三个路口没有路，来到第四个路口</li><li>走到7，记录，返回，</li><li>第四个路口走完</li><li>来到第五个路口…</li></ul> 
<p>而搜索算法针对到是图这类结构，它与树不同的是，拿迷宫来说，树结构的话每条路都是能走到尽头的，图结构的话可能你走到第五个路口，继续走，还能返回到第一个路口，就是这样。</p> 
<p>上面的记录步骤可以看到，是先记录哪个路口就走那个路口，可以用队列来实现（先进先出）</p> 
<p>下面举一个岛屿最大面积算法题为例：</p> 
<p>​ 给定一个由0和1组成的二维数组grid，0表示海洋，1表示岛屿，求岛屿最大面积就是求多个相邻岛屿的总面积最大。（相邻只包括上下左右相邻，斜方向上的相邻不算）</p> 
<p>例如:</p> 
<pre><code># 最大面积为5
[[0,1,1,1],
 [0,0,1,0],
 [0,1,0,0],
 [0,1,1,1],
 [0,0,1,0],]
 
# 最大面积为1 
[[0,0,0,0,1,0,1]]
</code></pre> 
<p>思路：</p> 
<ul><li>同迷宫一样，我们从grid[0,0]开始往右找（第一行完了，就从下一行开始）</li><li>找到岛屿后，判定它是不是已经遍历过</li><li>如果没有遍历过，就将它标记为已遍历</li><li>然后判断它的左右上下有没有连着的岛屿，有就标记</li><li>直到连着的所有的岛屿的左右上下都没有连着的岛屿就结束。记录此时连着的岛屿的总面积</li><li>然后从grid[0,1]再开始…</li><li>找完后就能得到最大的岛屿面积</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque

grid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>


<span class="token keyword">def</span> <span class="token function">BFS</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 用来获取一个网格上下左右的四个节点</span>
    around <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 获得网格的高度和宽度</span>
    height <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
    width <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 初始化辅助数组，该数组大小与grid一样，其中元素全部为False</span>
    visit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        w <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">False</span> <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">]</span>
        visit<span class="token punctuation">.</span>append<span class="token punctuation">(</span>w<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>visit<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>visit<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 记录最大岛屿面积</span>
    max_area <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment"># 因为是广度优先搜索，所以就从每一行开始</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 如果该格子是个“岛屿”并且没有被遍历过</span>
            <span class="token keyword">if</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                <span class="token comment"># 将该岛屿标记为已遍历</span>
                visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token comment"># 记录下该岛屿的x、y坐标</span>
                x<span class="token punctuation">,</span> y <span class="token operator">=</span> i<span class="token punctuation">,</span> j
                <span class="token comment"># 记录以当前节点开始的岛屿临时最大面积</span>
                tem_max_area <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token comment"># 创建队列</span>
                queue <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment"># 将该岛屿入队</span>
                queue<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token comment"># 当队列为空时，说明没有临近岛屿</span>
                <span class="token keyword">while</span> queue<span class="token punctuation">:</span>
                    <span class="token comment"># 将队头元素出队</span>
                    elem <span class="token operator">=</span> queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token comment"># 每一次出队，临时最大面积就加1</span>
                    tem_max_area <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token comment"># 记录下出队元素的x、y坐标</span>
                    x1<span class="token punctuation">,</span> y1 <span class="token operator">=</span> elem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> elem<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                    <span class="token comment"># 判断出队元素的上下左右四个方位有没有邻近的网格</span>
                    <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>around<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token comment"># 获取邻近岛屿的x、y坐标</span>
                        x2 <span class="token operator">=</span> x1 <span class="token operator">+</span> around<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                        y2 <span class="token operator">=</span> y1 <span class="token operator">+</span> around<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                        <span class="token comment"># 邻近岛屿的边界条件，即它们的x、y都大于等于0，都在网格内，然后就是判断该网格是个岛屿还是海，是否已经遍历过</span>
                        <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> x2 <span class="token operator">&lt;</span> height <span class="token keyword">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> y2 <span class="token operator">&lt;</span> width <span class="token keyword">and</span> grid<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> visit<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                            <span class="token comment"># 若上述条件都满足，就将该岛屿标记为已遍历</span>
                            visit<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                            <span class="token comment"># 并将其入队</span>
                            queue<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span><span class="token punctuation">[</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token comment"># 当队列为空的时候，就说明一次相邻岛屿的面积算完了。保留最大的面积</span>
                <span class="token keyword">if</span> tem_max_area <span class="token operator">&gt;</span> max_area<span class="token punctuation">:</span>
                    max_area <span class="token operator">=</span> tem_max_area
    <span class="token keyword">return</span> max_area

<span class="token keyword">print</span><span class="token punctuation">(</span>BFS<span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="2__145"></a>2. 深度优先搜索</h2> 
<p>同样拿迷宫来举例，从入口出发，走到第一个路口，记录，选一条路，走到下一个路口，记录，选一条路…直到走到尽头，返回上一个路口，选择另一条路，走到路口，记录…</p> 
<p>总的来说就是指着一条路走到底，记录沿途的路口，走到底了就返回最近的一个路口。</p> 
<p>举例步骤：</p> 
<p><img src="https://images2.imgbox.com/15/08/5qxzoVSY_o.png" alt="在这里插入图片描述" width="400"></p> 
<ul><li>走到1，记录1</li><li>走到2，记录2</li><li>走到5，没路了，返回2</li><li>走到6，没路了，返回2</li><li>2的路走完，返回1</li><li>走到3，没路了，返回1</li><li>走到4，记录4</li><li>走到7，没路了，返回4</li><li>…</li></ul> 
<p>仍然以岛屿最大面积为例，在写代码之前，需要注意我们是对什么进行搜索。</p> 
<p>我们不是对给出的网格进行搜索，而是遇到岛屿之后，开始搜索。就像迷宫一样，把一群相邻连着的岛屿看作迷宫，我们肯定是要找到迷宫的入口，才能开始搜索，在网格“海域”部分搜索是无意义的。</p> 
<p>递归：</p> 
<pre><code class="prism language-python">grid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>


<span class="token keyword">def</span> <span class="token function">DFS</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> visit<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 递归函数的返回量</span>
    area <span class="token operator">=</span> <span class="token number">0</span>
    
    <span class="token comment"># 如果该网格的坐标超出边界（前四个条件）或者该网格不是岛屿（最后一个条件），递归就结束</span>
    <span class="token comment"># 注意，x表示的是高度，相当于纵轴，y表示的宽度，相当于横轴，不要混淆了</span>
    <span class="token keyword">if</span> x <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span> <span class="token keyword">or</span> x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> y <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">or</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">or</span> grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> area
    
    <span class="token comment"># 如果该岛屿已经遍历过了，递归也结束</span>
    <span class="token keyword">if</span> visit<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> area
    
    <span class="token comment"># 走到这一步，网格一定是岛屿，且一定未被遍历过</span>
    visit<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
    area <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token comment"># 一个网格的上下左右四个方位</span>
    around <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 按照我们之前的规则，沿着一条路走到底。这也正好符合递归的特性，递归结束就说明走到底了。</span>
    <span class="token comment"># 这里有四个方位，循环四次。当一次循环结束，就说明上一次循环已经走到尽头了。</span>
    <span class="token comment"># 不要去想选择一条路了之后遇到路口又要选择一条路，这样在脑海里一直递归一直递归，很容易猪脑过载</span>
    <span class="token comment"># 遇到递归我们就当它执行一次就结束，em.....再简单一点就是把DFS函数内部调用的DFS看成一个返回值，然后就不去管了。</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>around<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        area <span class="token operator">+=</span> DFS<span class="token punctuation">(</span>grid<span class="token punctuation">,</span> visit<span class="token punctuation">,</span> x <span class="token operator">+</span> around<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">+</span> around<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> area



  
  
<span class="token keyword">def</span> <span class="token function">MaxArea</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 获取网格的高度和宽度</span>
    height <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
    width <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment"># 最大岛屿面积</span>
    max_area <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment"># 初始化标记数组</span>
    visit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        visit<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">False</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment"># 开始循环，找到未曾遍历过的岛屿，然后开始搜索，计算当前的最大岛屿面积</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 当该网格是岛屿，且未遍历过时，以此岛屿为起点开始搜索</span>
            <span class="token keyword">if</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                tem_max_area <span class="token operator">=</span> DFS<span class="token punctuation">(</span>grid<span class="token punctuation">,</span> visit<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                <span class="token comment"># 搜索完后，将以此岛屿为起点搜索得到的面积与最大面积比较，保留较大的那个</span>
                <span class="token keyword">if</span> max_area <span class="token operator">&lt;</span> tem_max_area<span class="token punctuation">:</span>
                    max_area <span class="token operator">=</span> tem_max_area

    <span class="token keyword">return</span> max_area

<span class="token keyword">print</span><span class="token punctuation">(</span>MaxArea<span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>使用栈：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> deque

grid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>


<span class="token keyword">def</span> <span class="token function">MaxArea</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 获取网格的高度和宽度</span>
    height <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
    width <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment"># 一个网格邻近的四个网格的坐标（相对的）</span>
    around <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 最大岛屿面积</span>
    max_area <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment"># 初始化标记数组</span>
    visit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        visit<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">False</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment"># 开始循环，找到未曾遍历过的岛屿，然后开始搜索，计算当前的最大岛屿面积</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 如果该网格是岛屿且未被遍历，就开始搜索</span>
            <span class="token keyword">if</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token comment"># 以当前岛屿为起点进行搜索得到的岛屿最大面积</span>
                tem_max_area <span class="token operator">=</span> <span class="token number">0</span>
                <span class="token comment"># 创建一个栈</span>
                stack <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token comment"># 栈中存储的不是每个网格， 而是每个网格的坐标</span>
                stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token comment"># 当栈为空时，就表示搜索结束</span>
                <span class="token keyword">while</span> stack<span class="token punctuation">:</span>
                    <span class="token comment"># 将栈顶元素出栈</span>
                    elem <span class="token operator">=</span> stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token comment"># 岛屿临时最大面积加1</span>
                    tem_max_area <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token comment"># 获取出栈元素的坐标</span>
                    x1<span class="token punctuation">,</span> y1 <span class="token operator">=</span> elem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> elem<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                    <span class="token comment"># 开始搜索它邻近的岛屿</span>
                    <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>around<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token comment"># 获取岛屿邻近网格的坐标</span>
                        x2<span class="token punctuation">,</span> y2 <span class="token operator">=</span> x1 <span class="token operator">+</span> around<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y1 <span class="token operator">+</span> around<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                        <span class="token comment"># 若该坐标满足边界条件，且该坐标是岛屿，且未被遍历，就标记，并且入栈</span>
                        <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> x2 <span class="token operator">&lt;</span> height <span class="token keyword">and</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> y2 <span class="token operator">&lt;</span> width <span class="token keyword">and</span> grid<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> visit<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">False</span><span class="token punctuation">:</span>
                            visit<span class="token punctuation">[</span>x2<span class="token punctuation">]</span><span class="token punctuation">[</span>y2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
                            stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>x2<span class="token punctuation">,</span> y2<span class="token punctuation">]</span><span class="token punctuation">)</span>

                <span class="token keyword">if</span> max_area <span class="token operator">&lt;</span> tem_max_area<span class="token punctuation">:</span>
                    max_area <span class="token operator">=</span> tem_max_area

    <span class="token keyword">return</span> max_area

<span class="token keyword">print</span><span class="token punctuation">(</span>MaxArea<span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>虽然使用栈的深度优先搜索和使用队列的广度优先搜索代码看起来差不多，但是它们的搜索步骤还是不一样的。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/343ed14e8892b7a25afa20e57f534c91/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Apache配置ssl证书-实现https访问</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c7932b9c0e05f60dbc1b953b3869a2c4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Unity中URP下实现能量罩（性能优化 和 BRP适配）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>