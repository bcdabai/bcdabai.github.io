<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>遇强则强  中北大学2018年新生赛 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="遇强则强  中北大学2018年新生赛" />
<meta property="og:description" content="题解:傻逼单调栈。 补充一下，利用单调栈，简单来说就是：可以找到从左/右遍历第一个比它小/大的元素的位置。具体看这个博客写的挺好的 还有相关的例题可以试着做一下https://blog.csdn.net/wubaizhe/article/details/70136174 （最典型的单调栈例题就是求矩形面积的 POJ2559）。 代码： #include &lt;iostream&gt; using namespace std; typedef long long ll; const ll maxn=1000000&#43;5; ll h[maxn]; ll st[maxn]; ll r[maxn],l[maxn]; int main(){ ll n; while(cin&gt;&gt;n){ for(ll i=0;i&lt;n;i&#43;&#43;){ cin&gt;&gt;h[i]; } ll t=0; for(ll i=0;i&lt;n;i&#43;&#43;){ while(t&gt;0&amp;&amp;h[st[t-1]]&gt;=h[i]) t--; l[i]=t==0?0:(st[t-1]&#43;1); st[t&#43;&#43;]=i; } t=0; for(ll i=n-1;i&gt;=0;i--){ while(t&gt;0&amp;&amp;h[st[t-1]]&gt;=h[i]) t--; r[i]=t==0?n:st[t-1]; st[t&#43;&#43;]=i; } ll res=1e9; for(ll i=0;i&lt;n;i&#43;&#43;){ ll co=(r[i]-l[i]); //cout&lt;&lt; co&lt;&lt;endl; res=min(res,(ll)h[i]*co); } cout&lt;&lt;res&lt;&lt;endl; } return 0; } 问题描述
n个战士站成一排进行死斗，每个战士都有一个初始战力值。
但他们都是遇强则强的战士，在战斗中才会展现出真实战力。
战士的真实战力= 初始战力 × 自身战力最小区间的最大长度；" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1948d387e542a00673b3482f5ca617b9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-02T19:13:00+08:00" />
<meta property="article:modified_time" content="2018-12-02T19:13:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">遇强则强  中北大学2018年新生赛</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p> </p> 
 <h4>题解:傻逼单调栈。</h4> 
 <blockquote> 
  <h4>补充一下，利用<strong>单调栈，简单来说就是：可以找到从左/右遍历第一个比它小/大的元素的位置。具体看这个博客写的挺好的 还有相关的例题可以试着做一下</strong><a href="https://blog.csdn.net/wubaizhe/article/details/70136174">https://blog.csdn.net/wubaizhe/article/details/70136174</a></h4> 
  <h4><strong>（最典型的单调栈例题就是求矩形面积的  POJ2559）。</strong></h4> 
 </blockquote> 
 <h4>代码：</h4> 
 <pre class="has"><code class="language-cpp">#include &lt;iostream&gt;

using namespace std;
typedef long long ll;
const ll maxn=1000000+5;
ll h[maxn];
ll st[maxn];
ll r[maxn],l[maxn];
int main(){
    ll n;
    while(cin&gt;&gt;n){
        for(ll i=0;i&lt;n;i++){
            cin&gt;&gt;h[i];
        }
        ll t=0;
        for(ll i=0;i&lt;n;i++){
            while(t&gt;0&amp;&amp;h[st[t-1]]&gt;=h[i])
                t--;
            l[i]=t==0?0:(st[t-1]+1);
            st[t++]=i;
        }

        t=0;
        for(ll i=n-1;i&gt;=0;i--){
            while(t&gt;0&amp;&amp;h[st[t-1]]&gt;=h[i])
                t--;
            r[i]=t==0?n:st[t-1];
            st[t++]=i;
        }
        ll res=1e9;
        for(ll i=0;i&lt;n;i++){
            ll co=(r[i]-l[i]);
            //cout&lt;&lt; co&lt;&lt;endl;
            res=min(res,(ll)h[i]*co);
        }
        cout&lt;&lt;res&lt;&lt;endl;

    }
    return 0;
}
</code></pre> 
 <p>问题描述</p> 
 <p>n个战士站成一排进行死斗，每个战士都有一个初始战力值。</p> 
 <p>但他们都是遇强则强的战士，在战斗中才会展现出真实战力。</p> 
 <p>战士的真实战力= 初始战力 × 自身战力最小区间的最大长度；</p> 
 <p>求出n个战士中最小的真实战力是多少。</p> 
 <p> </p> 
 <p>比如有5个战士，战力分别为 3，2，1，4，5</p> 
 <p>第1个战士的自身战力最小区间有1个为 [1,1]，最大长度为1，真实战力为3;</p> 
 <p>第2个战士的自身战力最小区间有2个为 [1,2]，[2,2]，最大长度为2，真实战力为4;</p> 
 <p>第3个战士的自身战力最小区间有9个为 [1,5]，[1,4]，[1,3]，[2,5]，[2,4]，[2,3]，[3,5]，[3,4]，[3,3]，最大长度为5，真实战力为5;</p> 
 <p>第4个战士的自身战力最小区间有2个为 [4,4]，[4,5]，最大长度为2，真实战力为8;</p> 
 <p>第5个战士的自身战力最小区间有1个为 [5,5]，最大长度为1，真实战力为5;</p> 
 <p>所以最小的真实战力为 3</p> 
 <p>输入描述</p> 
 <p>有多组样例输入</p> 
 <p>第一行输入一个数字 n（1&lt;=n&lt;=1000000）表示n个战士</p> 
 <p>接下来一行输入n个数字 d (1&lt;=d&lt;=100000)，表示n个战士的初始战力。</p> 
 <p>输出描述</p> 
 <p>输出一个数字，表示最小的真实战力</p> 
 <p>样例输入</p> 
 <pre class="has"><code class="language-html">5
3 2 1 4 5</code></pre> 
 <p>样例输出</p> 
 <pre class="has"><code class="language-html">3</code></pre> 
 <p>来源</p> 
 <p>中北大学2018年新生赛</p> 
 <p>提示</p> 
 <p>注意初始战力会出现相同的情况。</p> 
</div> 
<p>转载于:https://www.cnblogs.com/UUUUh/p/10284018.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/488c71e711e3055a620f17eff4f24b8e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线阵相机与面阵相机的区别及其应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/542dfed705696a73a02e3edd535c522d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java正则表达式匹配大括号里面的内容</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>