<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>numpy - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="numpy" />
<meta property="og:description" content="什么是numpy？ 》一个在python中做科学计算的基础库，重在数值计算，也是大部分python科学计算库的基础库，多用于大型、多维数组上执行数值运算
一、数组（numpy）的创建和基本使用 》代码讲解
import numpy as np import random # numpy创建数组 都是该类型：&lt;class &#39;numpy.ndarray&#39;&gt; t1 = np.array([1, 2, 3]) # [1 2 3] t2 = np.array(range(10)) # [0 1 2 3 4 5 6 7 8 9] t3 = np.arange(10) # [0 1 2 3 4 5 6 7 8 9] # dtype用于查看数组中的数据类型 print(t3.dtype) # int32 # 给数组指定数据类型（以下两种写法皆可） t4 = np.array(range(1, 4), dtype=float) # [1. 2. 3.] t41 = np." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2ea9510c37f7f89e4941ff75f62f21cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-29T21:00:53+08:00" />
<meta property="article:modified_time" content="2020-08-29T21:00:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">numpy</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="numpy_0"></a>什么是numpy？</h3> 
<p>》一个在python中做科学计算的基础库，重在<strong>数值计算</strong>，也是大部分python<strong>科学计算库的基础库</strong>，多用于大型、多维数组上执行数值运算</p> 
<h3><a id="numpy_3"></a>一、数组（numpy）的创建和基本使用</h3> 
<p>》代码讲解</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> random

<span class="token comment"># numpy创建数组     都是该类型：&lt;class 'numpy.ndarray'&gt;</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># [1 2 3]</span>
t2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># [0 1 2 3 4 5 6 7 8 9]</span>
t3 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>          <span class="token comment"># [0 1 2 3 4 5 6 7 8 9]</span>

<span class="token comment"># dtype用于查看数组中的数据类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t3<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>     <span class="token comment"># int32</span>

<span class="token comment"># 给数组指定数据类型（以下两种写法皆可）</span>
t4 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">)</span>         <span class="token comment"># [1. 2. 3.]</span>
t41 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token string">"float"</span><span class="token punctuation">)</span>      <span class="token comment"># [1. 2. 3.]</span>

<span class="token comment"># numpy中的bool类型</span>
t5 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">bool</span><span class="token punctuation">)</span>      <span class="token comment"># [ True  True False False  True]</span>

<span class="token comment"># 调整数据类型</span>
t6 <span class="token operator">=</span> t5<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">"int8"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t6<span class="token punctuation">)</span>        <span class="token comment"># [1 1 0 0 1]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t6<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>  <span class="token comment"># int8</span>

<span class="token comment"># numpy中的小数</span>
t7 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t7<span class="token punctuation">)</span>           <span class="token comment"># [0.5571627  0.1623156  0.40395393 0.34839485]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t7<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>     <span class="token comment"># float64</span>

<span class="token comment"># numpy将小数保留为2位小数</span>
t8 <span class="token operator">=</span> np<span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span>t7<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t8<span class="token punctuation">)</span>           <span class="token comment"># [0.98 0.98 0.82 0.83]</span>
</code></pre> 
<p>》<strong>numpy中常见的更多数据类型</strong><br> <img src="https://images2.imgbox.com/f9/9c/9dBElptU_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="numpy_40"></a>二、数组(numpy)的形状</h3> 
<h4><a id="1shape_41"></a>1、查看数组的形状：shape</h4> 
<p><img src="https://images2.imgbox.com/6a/ad/GwK176FE_o.png" alt="在这里插入图片描述"><br> 》如第8行，(2, 3)即二维数组。第一个值表示行数，第二个值表示列数<br> 》怎么区分几维数组，就看shape属性返回的值的个数。只有一个值时，那么就为一维数组；有两个值时，那么为二维数组…</p> 
<h4><a id="2_reshape_45"></a>2、 修改数组的形状：reshape()</h4> 
<p><img src="https://images2.imgbox.com/73/94/0NeOYW81_o.png" alt="在这里插入图片描述"><br> 》如第17行，(2, 3, 4)即三维数组。第一个值表示2块，第二值表示每块有3行，第三值表示每块有4列<br> 》通常处理二维数组数据较多（或者多维数组转为二维数组使用的情况）</p> 
<h4><a id="3__49"></a>3、 其他：</h4> 
<p>》flatten() 表示：将数组展开并返回一个一维数组<br> <img src="https://images2.imgbox.com/ae/77/iL9fdmlz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="numpy_52"></a>三、数组(numpy)计算</h3> 
<h4><a id="1__53"></a>1. 数组和数的计算</h4> 
<p><img src="https://images2.imgbox.com/9d/55/6QAXIoAB_o.png" alt="在这里插入图片描述"><br> 》可以进行 加减乘除的运算，这是numpy的“广播机制”造成的，加减乘除的值被广播到所有的元素上面<br> 》如第36行，数组除0不会报错，只是报警告，依然有返回结果<br> 》nan表示：不是一个数(not a number)；inf表示：无穷大(infinite)</p> 
<h4><a id="2__59"></a>2. 数组和数组的计算</h4> 
<p>》相同数组间运算<br> <img src="https://images2.imgbox.com/4f/86/ltdebtbP_o.png" alt="在这里插入图片描述"><br> 》不同数组间运算（当数组之间的某一维度上相同【行维度/列维度】）<br> <img src="https://images2.imgbox.com/79/59/EgW36hfJ_o.png" alt="在这里插入图片描述"><br> 》不同数组间运算（当数组之间的某一维度上不相同【行维度/列维度】）【报错！！！】<br> <img src="https://images2.imgbox.com/6e/c8/ijVDm9JT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="axis_66"></a>四、轴(axis)的概念</h3> 
<p>》在numpy中可以理解为 <mark>方向</mark>。<mark>用0，1，2…数字表示</mark>，对于一个一维数组，只有一个0轴，对于二维数组(<code>shape(2,2)</code>)，有0轴和1轴，对于三维数组(<code>shape(2,2,3)</code>)，有0、1、2轴<br> 》如：<code>np.arange(0,10).reshape((2,5))</code>，reshape中2表示0轴长度，1轴长度为5，2x5一共10个数据</p> 
<p>》具体显示如下图：<br> <img src="https://images2.imgbox.com/5e/3c/WyLvJQRV_o.png" alt="在这里插入图片描述"><br> 》<code>axis= 0</code> 对a的 <strong>横轴（行）</strong> 进行操作，在运算的过程中其运算的方向表现为<strong>纵向（列）运算</strong><br> 》<code>axis= 1</code> 对a的 <strong>纵轴（列）</strong> 进行操作，在运算的过程中其运算的方向表现为<strong>横向（行）运算</strong></p> 
<p>》案例如下：</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
n <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 即对横轴（行）进行操作，运算方向为纵轴方向（列），对每一列进行求和</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 即对纵轴（列）进行操作，运算方向为横轴方向（行），对每一行进行求和</span>
 
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
运行结果为：
[1 3 5]
[4 5]
[1 2 3]
[3 2]
'''</span>
</code></pre> 
<h3><a id="numpy_96"></a>五、numpy读取数据</h3> 
<p>》简单了解即可，以<strong>csv</strong>文件格式为例。（后续读取文件用pandas，功能更强大）</p> 
<blockquote> 
 <p>介绍一下 <strong>csv</strong>：<br> CSV：Comma-Separated Value，逗号分隔值文件<br> 显示：表格状态<br> 源文件：换行和逗号分隔行列的格式化文本，每一行的数据表示一条记录<br> 【由于csv便于展示、读取和写入，所以很多地方也是用csv的格式存储和传输中小型的数据】</p> 
</blockquote> 
<p>》用该代码读取文件：<code>np.loadtxt(frame,dtype=np.float,delimiter=None,skiprows=0,usecols=None,unpack=False)</code></p> 
<table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>frame</td><td>文件、字符串或产生器，可以是.gz或bz2压缩文件</td></tr><tr><td>dtype</td><td>数据类型，可选，CSV的字符串以什么数据类型读入数组中，默认：np.float，也可简写：float</td></tr><tr><td>delimiter</td><td>分隔字符串，默认是任何空格，CSV中需要改为：逗号</td></tr><tr><td>skiprows</td><td>跳过前x行，一般跳过第一行表头</td></tr><tr><td>usecols</td><td>读取指定的列，索引，元组类型</td></tr><tr><td>unpack</td><td>如果True，读入属性将分别写入不同数组变量，False读入数据只写入一个数组变量，默认False【一般该参数用于转置（下面案例会提及）】</td></tr></tbody></table> 
<p>》详细看如下代码：（该csv文件在此链接：<a href="https://wwa.lanzous.com/ixYfrg10azc" rel="nofollow">us_video.csv</a>）</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 导入需要处理的csv文件</span>
file_name <span class="token operator">=</span> <span class="token string">"./us_video.csv"</span>

<span class="token comment"># numpy读取csv文件的一般写法（文件名，分隔符(逗号)，数据类型）</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">","</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
[[4394029  320053    5931   46245]
 [7860119  185853   26679       0]
 [5845909  576597   39774  170708]
 ...
 [1338533   69687     678    5643]
 [1056891   29943     878    4046]]
'''</span>

<span class="token comment"># 在上面的读取文件方法添加参数：unpack，将数据进行转置【即每一列的数据转到每一行上】（如下代码结果，也就是将t1的返回值以对角线进行翻转）</span>
t2 <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">","</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> unpack<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
[[4394029 7860119 5845909 ... 1338533 1056891]
 [320053  185853  576597   ...   69687 29943]
 [5931   26679   39774    ...  678 878]
 [46245       0  170708   ...  5643 4046]]
'''</span>
</code></pre> 
<h4><a id="1numpy_143"></a>1、关于numpy的转置</h4> 
<p><img src="https://images2.imgbox.com/39/1d/HqoGTjmj_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2numpy_145"></a>2、numpy索引和切片</h4> 
<p>》详细看如下代码：（该csv文件在此链接：<a href="https://wwa.lanzous.com/ixYfrg10azc" rel="nofollow">us_video.csv</a>）</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token comment"># 导入需要处理的csv文件</span>
file_name <span class="token operator">=</span> <span class="token string">"./us_video.csv"</span>

<span class="token comment"># numpy读取csv文件的一般写法（文件名，分隔符(逗号)，数据类型）</span>
t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span>file_name<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">","</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">)</span>
<span class="token comment"># print(t1)</span>
<span class="token triple-quoted-string string">'''
[[4394029  320053    5931   46245]
 [7860119  185853   26679       0]
 [5845909  576597   39774  170708]
 [2642103   24975    4542   12829]
 [1168130   96666     568    6666]
 [1311445   34507     544    3040]
 [ 666169    8895     289    1071]
 [1728614   74062    2180   15297]
 [1338533   69687     678    5643]
 [1056891   29943     878    4046]]
'''</span>

<span class="token comment"># 》取行————</span>
<span class="token comment"># 写法一：</span>
<span class="token comment"># 取单行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token comment"># [5845909  576597   39774  170708]</span>
<span class="token comment"># 取连续多行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>               <span class="token comment"># 取索引为8及后面的多行数据</span>
<span class="token comment"># 取不连续的多行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># 取2、7、8行</span>

<span class="token comment"># 写法二：（以逗号为分节点"[,]"； ","左边为行， ","右边为列）</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment"># 取单行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># 取连续多行</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>     <span class="token comment"># 取不连续的多行</span>

<span class="token comment"># 》取列————</span>
<span class="token comment">#（以逗号为分节点"[,]"； ","左边为行， ","右边为列）</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment"># 取连续多列</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># 取不连续多列</span>

<span class="token comment"># 》取值————</span>
<span class="token comment">#（以逗号为分节点"[,]"； ","左边为行， ","右边为列）</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment"># 取第三行，第四列的值（取行和列的值）</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>         <span class="token comment"># 取第三行到第五行，第二列到第四列的值（取多行和多列的值）【取的是行和列交叉点的位置】</span>
<span class="token comment"># 取多个不相邻的点</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 选取出来的点是：(0,0)、(2,1)、(2,3)</span>

<span class="token comment"># 》切片————</span>
<span class="token comment"># (加上 ":" 切片操作即可)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token comment"># 在38行代码的基础上修改(加上 ":" 切片操作)，最终取到第三列隔两列取值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 在44行代码的基础上修改(加上 ":" 切片操作)，最终取到第三行到第五行的第二列和第四列中隔两列取值</span>
</code></pre> 
<h4><a id="3numpy_201"></a>3、numpy中数值的修改</h4> 
<p>》直接赋值即可<br> 如：<code>t[: , 2: 4] = 0</code> 将数组中第三列到第四列的数值全部赋值为0</p> 
<h4><a id="4numpy_204"></a>4、numpy中布尔索引</h4> 
<p>》需求：把数组中小于10的数字替换为3<br> <img src="https://images2.imgbox.com/fb/e0/Aiuwec8p_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5numpy_207"></a>5、numpy中三元运算符</h4> 
<p>》常见的python三元运算格式：<code>a = 3 if 3&gt;2 else 4</code><br> 》需求：把数组中小于3的数字替换为100，把大于3的替换为300【用<code>np.where()</code>方法】<br> <img src="https://images2.imgbox.com/d3/e7/ql89DVFt_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6numpyclip_211"></a>6、numpy中的clip(裁剪)</h4> 
<p>》需求：把数组中小于10的数字替换为10，把大于18的替换为18<br> <img src="https://images2.imgbox.com/fd/d3/4nHAiz9v_o.png" alt="在这里插入图片描述"><br> 》上图的<code>nan</code>即 “not a number”，它是如下操作进行赋值的：<br> <img src="https://images2.imgbox.com/f9/26/p3RGJAvX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="numpynaninf_216"></a>六、numpy中的nan和inf</h3> 
<ul><li><code>nan(NAN,Nan)</code>：<strong>not a number</strong> 表示不是一个数字</li><li><code>inf(-inf,inf)</code>：<strong>infinity</strong> <code>inf</code>表示正无穷、<code>-inf</code>表示负无穷</li></ul> 
<p>》nan 和 inf 都是浮点类型(float)</p> 
<p>》什么时候numpy会出现nan：</p> 
<ol><li>当读取本地的文件为float的时候，如果有缺失，就会出现nan</li><li>当做了一个不合适的计算的时候（如：无穷大减去无穷大、0除以0等）</li></ol> 
<p>》什么时候会出现inf：(包括：-inf、inf)</p> 
<ol><li>比如一个数字除以0，（python中直接会报错，numpy中是一个inf或者-inf）</li></ol> 
<h4><a id="nan_230"></a>nan的注意点：</h4> 
<ol><li>两个<code>nan</code>是不相等的</li><li>用<code>count_nonzero()</code>方法计算nan的个数<br> 。<code>np.count_nonzero(t2!=t2)</code><br> 。<code>np.count_nonzero(np.isnan(t2))</code>【用<code>np.isnan(t2)</code>来判断是否有<code>nan</code>值】</li><li><code>nan</code>和任何值计算都为<code>nan</code><br> <img src="https://images2.imgbox.com/b1/b2/F4SIdWmP_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/c5/e2/addvLehp_o.png" alt="在这里插入图片描述"><br> 》<code>np.isnan(t2)</code> 和 <code>t2!=t2</code>一样，返回的结果都是 <mark>布尔型</mark> 数组，其中值为nan的返回True，值不为nan的返回False<br> <img src="https://images2.imgbox.com/1d/12/n2gvJ5sp_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/13/5b/zdp068BU_o.png" alt="在这里插入图片描述"></li></ol> 
<h4><a id="nan_240"></a>有关nan的问题：</h4> 
<p><strong>问：</strong> 在一组数据中单纯的把nan替换为0，合适吗？会带来什么样的影响？<br> <strong>答：</strong> 比如，全部替换为0后，替换之前的平均值如果大于0，替换后的均值肯定会变小，所以一般的方式是把缺失的数值替换为 <mark>均值（中值）</mark> 或者是 <mark>直接删除有缺失值的一行</mark><br> 》所以下面介绍以下如何计算一组数据的<strong>中值</strong>或者是<strong>均值</strong>、还有如何删除有缺失数据的那一行/列（在pandas中会介绍）</p> 
<h4><a id="numpy_244"></a>numpy中常用统计函数</h4> 
<p><img src="https://images2.imgbox.com/bb/68/6UPYnSRN_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_247"></a>案例</h4> 
<p>》结合上面所讲的知识进行串联！！！<br> 》案例：将第2行第3、4列的值为nan，计算每一列的均值，再把均值赋值给nan值的位置上</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

t1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">"float"</span><span class="token punctuation">)</span>    <span class="token comment"># 二维数组(3行4列)，类型为浮点型</span>
t1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>nan       <span class="token comment"># 让第2行第3、4列的值为nan</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"未做改变的数组："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"="</span><span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># t1.shape 获取到数组的形状为二维数组(3,4)。t1.shape[1] 获取到二维数组的列，即4</span>
    <span class="token comment"># 遍历每一列</span>
    temp_col <span class="token operator">=</span> t1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> i<span class="token punctuation">]</span>  <span class="token comment"># 获取当前一列</span>
    nan_num <span class="token operator">=</span> np<span class="token punctuation">.</span>nonzero<span class="token punctuation">(</span>temp_col <span class="token operator">!=</span> temp_col<span class="token punctuation">)</span>  <span class="token comment"># 获取到当前一列的nan个数</span>
    <span class="token keyword">if</span> nan_num <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>     <span class="token comment"># 如果不为0，则表示当前这一列中有nan值</span>
        <span class="token comment"># 【temp_col != temp_col 可以获取到为nan的值，反之temp_col == temp_col 获取到不为nan的值】</span>
        temp_not_nan <span class="token operator">=</span> temp_col<span class="token punctuation">[</span>temp_col <span class="token operator">==</span> temp_col<span class="token punctuation">]</span>   <span class="token comment"># 获取到当前一列不为nan值的数组</span>

        <span class="token comment"># temp_not_nan.mean()：计算不为nan值的数组的均值</span>
        <span class="token comment"># np.isnan(temp_col)和temp_col != temp_col方法一样，获取到为nan的值</span>
        temp_col<span class="token punctuation">[</span>np<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>temp_col<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp_not_nan<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 将求到的均值赋值给原本的nan值的位置</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"做改变后的数组："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">)</span>

<span class="token triple-quoted-string string">'''
输出结果为：
								注：❗
未做改变的数组：					》temp_col == temp_col 返回的结果如下：返回布尔型的数组（根据True和False可以判断出：True为非nan值，False为nan值）
[[ 0.  1.  2.  3.]				[ True  True  True]						
 [ 4.  5. nan nan]				[ True  True  True]
 [ 8.  9. 10. 11.]]				[ True False  True]
====================			[ True False  True]
做改变后的数组：
[[ 0.  1.  2.  3.]				》根据上面的布尔型数组，得出temp_not_nan 数组返回的结果如下：（获取到当前不为nan值的数组）
 [ 4.  5.  6.  7.]				[0. 4. 8.]
 [ 8.  9. 10. 11.]]				[1. 5. 9.]
 								[ 2. 10.]
 								[ 3. 11.]
'''</span>
</code></pre> 
<h3><a id="_290"></a>七、数组的拼接</h3> 
<h5><a id="_292"></a>》数组的拼接</h5> 
<p><img src="https://images2.imgbox.com/03/44/kFQBP1Nt_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_294"></a>》数组的行列交换</h5> 
<p><img src="https://images2.imgbox.com/e2/60/zsOONNjN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="numpy_296"></a>八、numpy的其他方法</h3> 
<ol><li>获取最大值、最小值的位置<br> -》<code>np.argmax(t, axis=)</code><br> -》<code>np.argmin(t, axis=)</code></li><li>创建一个全0的数组：<code>np.zeros((3, 4))</code> # 创建一个3行4列全为0的数组</li><li>创建一个全1的数组：<code>np.ones((3, 4))</code> # 创建一个3行4列全为1的数组</li><li>创建一个对角线为1的正方形数组（方阵）：<code>np.eye(3)</code> # 创建一个3行3列的数组，对角值都为1</li><li><strong>numpy</strong>生成随机数，如下图所示：<br> <img src="https://images2.imgbox.com/09/f3/SVBEQYUv_o.png" alt="在这里插入图片描述"></li><li><strong>numpy</strong>的注意点！！！ <strong>copy</strong> 和 <strong>view</strong><br> - <code>a=b</code> 完全不复制，a和b相互影响 【类似浅拷贝】<br> - <code>a=b[:]</code>，<mark>视图</mark> 的操作，一种切片，会 <mark>创建新的对象a，但是a的数据完全由b保管</mark>，他们两个的数据变化是一致的 【类似浅拷贝】<br> - <code>a=b.copy()</code>，<mark>复制</mark>，a和b互不影响 【类似深拷贝】<br> - 还有另一种写法：<code>a=a[:]</code>，即直接在a中进行赋值，不用考虑上面的拷贝问题</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/28c1ca89d864e054712fe3a5b1178f9a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java多线程实现-Runnable接口</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ca7dec8ec4402d601a0ec45399a41eec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">网络安全工程师千峰学习总结第四天</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>