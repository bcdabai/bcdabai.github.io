<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MODIFY 子句 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MODIFY 子句" />
<meta property="og:description" content="使用 MODIFY 子句更改列的数据类型、长度或缺省值，添加或删除列的安全标签，允许或不允许
列中有 NULL 值或者重置 SERIAL 、SERIAL8 或 BIGSERIAL 列的序列号。
您不能将列的数据类型更改为 COLLECTION 或 ROW 类型。
受保护表的 IDSSECURITYLABEL 列不能被不同的数据类型修改，现有的列也不能被更改为
IDSSECURITYLABEL 类型。
当修改列时, 所有 先前与该列相关联的属性（即，缺省值、单列检查约束或引用约束）被删除。当
希望保留列的某些属性，例如 PRIMARY KEY ，您必须在同一 MODIFY 子句中重新指定那些属
性。
例如，如果您将现有列 quantity 的数据类型更改为 SMALLINT ，但希望保留其缺省值（在这种情
况中，为 1）和 NOT NULL 列属性，可以发出以下语句：
ALTER TABLE items MODIFY (quantity SMALLINT DEFAULT 1 NOT NULL);
注： 在 MODIFY 子句中两个属性都再次被指定。
当在 MODIFY 子句中指定 PRIMARY KEY 约束，数据库服务器也会默示地在同一列创建 NOT
NULL 约束或将同一组列更改为主键。
当更改列的数据类型时，数据库服务器不会在适当的位置执行修改。下个示例将 VARCHAR(15)
列更改为 LVARCHAR(3072) 列：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5a19e6543e5f57dc3293bdfd7e8614b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-17T16:09:55+08:00" />
<meta property="article:modified_time" content="2022-10-17T16:09:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MODIFY 子句</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>使用 MODIFY 子句更改列的数据类型、长度或缺省值，添加或删除列的安全标签，允许或不允许<br> 列中有 NULL 值或者重置 SERIAL 、SERIAL8 或 BIGSERIAL 列的序列号。<br> 您不能将列的数据类型更改为 COLLECTION 或 ROW 类型。<br> 受保护表的 IDSSECURITYLABEL 列不能被不同的数据类型修改，现有的列也不能被更改为<br> IDSSECURITYLABEL 类型。<br> 当修改列时, 所有 先前与该列相关联的属性（即，缺省值、单列检查约束或引用约束）被删除。当<br> 希望保留列的某些属性，例如 PRIMARY KEY ，您必须在同一 MODIFY 子句中重新指定那些属<br> 性。<br> 例如，如果您将现有列 quantity 的数据类型更改为 SMALLINT ，但希望保留其缺省值（在这种情<br> 况中，为 1）和 NOT NULL 列属性，可以发出以下语句：<br> ALTER TABLE items MODIFY (quantity SMALLINT DEFAULT 1 NOT NULL);<br> 注： 在 MODIFY 子句中两个属性都再次被指定。<br> 当在 MODIFY 子句中指定 PRIMARY KEY 约束，数据库服务器也会默示地在同一列创建 NOT<br> NULL 约束或将同一组列更改为主键。<br> 当更改列的数据类型时，数据库服务器不会在适当的位置执行修改。下个示例将 VARCHAR(15)<br> 列更改为 LVARCHAR(3072) 列：<br> ALTER TABLE stock MODIFY (description LVARCHAR(3072));<br> 当修改有列约束与之相关联的列时，以下约束被删除：<br> ⚫ 所有单列约束被删除。<br> ⚫ 所有引用该列的引用约束被删除。<br> ⚫ 如果被修改列是多列主键或者唯一约束的一部分，则所有引用多列的引用约束也被删除。<br> 例如，如果修改具有唯一约束的列，则该唯一约束被删除。如果其它表中的列引用该列，则这些引<br> 用约束也被删除。另外，如果该列是多列主键或唯一约束的一部分，则不删除多列约束，但其它表<br> 放置在该列上的任何引用约束要被删除。<br> 另一个示例，假设列是多列主键约束的一部分。其它两个表中的外键引用该主键。如果修改此列，<br> 则不删除多列主键约束，但是其它表放置在它上面的引用约束要被删除。<br> 考虑以下语句定义的表：<br> CREATE TABLE tab1(c1 INT, c2 INT);<br> 要添加 NOT NULL 约束，则需要 ALTER TABLE MODIFY 语句：<br> ALTER TABLE tab1 MODIFY (c1 INT NOT NULL);<br> 不能使用 ADD CONSTRAINT 子句添加 NULL 或 NOT NULL 约束。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c628e791e2c94dad4b6f4c5e95464eef/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Python】pyqt6入门到入土系列，非常详细...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5e2640b984dba398ba96f7bfdb48eed0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">kafka日志清理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>