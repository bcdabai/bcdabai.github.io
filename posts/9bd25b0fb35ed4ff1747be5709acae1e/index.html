<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Activiti入门 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Activiti入门" />
<meta property="og:description" content="一、了解工作流 1、什么是工作流 工作流（Workflow），就是通过计算机对业务流程自动化执行管理。它主要解决的是“使在多个参与者之间按照某种预定义的规则自动进行传递文档、信息或任务的过程，从而实现某个预期的业务目标，或者促使此目标的实现”。通俗来讲，就是业务上一个完整的审批流程。例如员工的请假，出差，外出采购，合同审核等等，这些过程，都是一个工作流。
2、工作流引擎 对于工作流的处理，如果采用原始的方式，我们需要拿着各种文件到各个负责人那里去签字，需要在多个部门之间不断审批，这种方式费时费力。而我们可以借助软件系统来协助我们处理这些审批流程，这样就出现了工作流系统，使用工作流系统后可以极大的提高工作效率。
在学习工作流的过程中，我们肯定看到过这个模型:填写请假单-&gt;部门经理审批-&gt;总经理审批-&gt;人事备案。
（1）要实现上述的流程，我们自己可以通过字段标识来实现这个审批效果，在业务表中加个字段，比如填写请假单用1标识，部门经理用2标识，总经理用3标识，人事备案用4标识，好像看起来没啥问题，也实现了审批效果。可是一旦我们的流程出现了变化，这个时候我们就需要改动我们的代码了，这显然是不可取的，那么有没有专业的方式来实现工作流的管理呢？并且可以做到业务流程变化之后，我们的程序可以不用改变，如果可以实现这样的效果，那么我们的业务系统的适应能力就得到了极大提升。在这样的背景下，就出现了工作流引擎。
为什么使用工作流引擎，能实现业务流程改变，不用修改代码，流程还能自动推进？
（1）我们先来说说为什么流程改变，不用修改代码：我们的工作流引擎都实现了一个规范，这个规范要求我们的流程管理与状态字段无关，始终都是读取业务流程图的下一个节点。当业务更新的时候我们只需要更新业务流程图就行了。这就实现了业务流程改变，不用修改代码。
（2）再来说说流程自动推进，这个原理就更简单了，就拿上面的请假模型来说，工作流引擎会用一张表来记录当前处在的节点。当填写完请假单后肯定是要轮到部门经理来审批了，所以我们一旦完成了请假单填写那么这条记录将会被从这张表删除掉，并且会把下一个节点部门经理的信息插入到这张表中，当我们用部门经理的信息去这张表中查询的时候就能查出部门经理相关的审批的信息了，以此类推，这样层层递进，就实现了流程的自动递交了。
3、常见工作流引擎 主流的框架有：Activiti、jBPM、Camunda 、Flowable 、还有我们国产的盘古BPM、云程
4、Activiti7概述 4.1、Activiti介绍 activiti是一个工作流引擎，可以将业务系统中复杂的业务流程抽取出来，使用专门的建模语言BPMN进行定义，业务流程按照预先定义的流程进行执行。实现了系统的流程由activiti进行管理，减少业务系统由于流程变更进行系统升级改造的工作流量，从而提高系统的健壮性，同时也减少了系统开发维护成本。
官方网站：https://www.activiti.org
4.2、建模语言BPMN BPM（Business Process Management）即业务流程管理，是一种规范化的构造端到端的业务流程，以持续提高组织业务效率
BPM 软件就是根据企业中业务环境的变化，推进人与人之间、人与系统之间以及系统与系统之间的整理及调整的经营方法与解决方案的 IT 工具。使用 BPM 软件对企业内部及外部的业务流程的整个生命周期进行建模、自动化、管理监控和优化，可以降低企业成本，提高利润
BPMN（Business Process Model AndNotation）即业务流程模型和符号，是一套标准的业务流程建模符号，使用 BPMN 提供的符号可以创建业务流程。Activit 就是使用 BPMN 进行流程建模、流程执行管理的
BPMN2.0 是业务流程建模符号 2.0 的缩写，它由 Business Process Management Initiative 这个非营利协会创建并不断发展。BPMN2.0 是使用一些符号来明确业务流程设计流程图的一套符号规范，能增进业务建模时的沟通效率。目前 BPMN2.0 是最新的版本，它用于在 BPM 上下文中进行布局和可视化的沟通
BPMN2.0 的基本符号主要包含：
事件 Event
开始：表示一个流程的开始
中间：发生的开始和结束事件之间，影响处理的流程
结束：表示该过程结束
活动 Activities
活动是工作或任务的一个通用术语。一个活动可以是一个任务，还可以是一个当前流程的子处理流程；其次，你还可以为活动指定不同的类型。常见活动如下：
网关 GateWay
用于表示流程的分支与合并，有几种常用网关需要了解：
排他网关：只有一条路径会被选择
xxxxxxxxxx &lt;el-button type=&#34;success&#34; icon=&#34;el-icon-plus&#34; size=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9bd25b0fb35ed4ff1747be5709acae1e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-22T09:56:24+08:00" />
<meta property="article:modified_time" content="2023-03-22T09:56:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Activiti入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">一、了解工作流</span></h3> 
 <hr> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1、什么是工作流</span></h4> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">工作流（Workflow）</span>，就是通过计算机对业务流程自动化执行管理。它主要解决的是“使在多个参与者之间按照某种<span class="kdocs-bold" style="font-weight:bold;">预定义的规则</span>自动进行传递文档、信息或任务的过程，从而实现某个预期的业务目标，或者促使此目标的实现”。<span class="kdocs-bold" style="font-weight:bold;">通俗来讲，就是业务上一个完整的审批流程。</span>例如员工的请假，出差，外出采购，合同审核等等，这些过程，都是一个工作流。</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2、工作流引擎</span></h4> 
 <p style="text-align:null;">对于工作流的处理，如果采用原始的方式，我们需要拿着各种文件到各个负责人那里去签字，需要在多个部门之间不断审批，这种方式费时费力。而我们可以借助软件系统来协助我们处理这些审批流程，这样就出现了工作流系统，使用工作流系统后可以极大的提高工作效率。</p> 
 <p style="text-align:null;">在学习工作流的过程中，我们肯定看到过这个模型:填写请假单-&gt;部门经理审批-&gt;总经理审批-&gt;人事备案。</p> 
 <p style="text-align:null;">（1）要实现上述的流程，我们自己可以通过字段标识来实现这个审批效果，在业务表中加个字段，比如填写请假单用1标识，部门经理用2标识，总经理用3标识，人事备案用4标识，好像看起来没啥问题，也实现了审批效果。可是一旦我们的流程出现了变化，这个时候我们就需要改动我们的代码了，这显然是不可取的，那么有没有专业的方式来实现工作流的管理呢？并且可以做到业务流程变化之后，我们的程序可以不用改变，如果可以实现这样的效果，那么我们的业务系统的适应能力就得到了极大提升。在这样的背景下，就出现了<span class="kdocs-bold" style="font-weight:bold;">工作流引擎</span>。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">为什么使用工作流引擎，能实现业务流程改变，不用修改代码，流程还能自动推进？</span></p> 
 <p style="text-align:null;">（1）我们先来说说为什么流程改变，不用修改代码：我们的工作流引擎都实现了一个规范，这个规范要求我们的流程管理与状态字段无关，始终都是读取业务流程图的下一个节点。当业务更新的时候我们只需要更新业务流程图就行了。这就实现了业务流程改变，不用修改代码。</p> 
 <p style="text-align:null;">（2）再来说说流程自动推进，这个原理就更简单了，就拿上面的请假模型来说，工作流引擎会用一张表来记录当前处在的节点。当填写完请假单后肯定是要轮到部门经理来审批了，所以我们一旦完成了请假单填写那么这条记录将会被从这张表删除掉，并且会把下一个节点部门经理的信息插入到这张表中，当我们用部门经理的信息去这张表中查询的时候就能查出部门经理相关的审批的信息了，以此类推，这样层层递进，就实现了流程的自动递交了。</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3、常见工作流引擎</span></h4> 
 <p style="text-align:null;">主流的框架有：<span class="kdocs-bold" style="font-weight:bold;">Activiti</span>、jBPM、Camunda 、Flowable 、还有我们国产的盘古BPM、云程</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4、Activiti7概述</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.1、Activiti介绍</span></h5> 
 <p style="text-align:null;">activiti是一个工作流引擎，可以将业务系统中复杂的业务流程抽取出来，使用专门的建模语言BPMN进行定义，业务流程按照预先定义的流程进行执行。实现了系统的流程由activiti进行管理，减少业务系统由于流程变更进行系统升级改造的工作流量，从而提高系统的健壮性，同时也减少了系统开发维护成本。</p> 
 <p style="text-align:null;">官方网站：<a class="kdocs-link" style="color:#0A6CFF;" href="https://www.activiti.org" rel="nofollow noopener noreferrer" target="_blank">https://www.activiti.org</a></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.2、建模语言BPMN</span></h5> 
 <p style="text-align:null;">BPM（Business Process Management）即业务流程管理，是一种规范化的构造端到端的业务流程，以持续提高组织业务效率</p> 
 <p style="text-align:null;">BPM 软件就是根据企业中业务环境的变化，推进人与人之间、人与系统之间以及系统与系统之间的整理及调整的经营方法与解决方案的 IT 工具。使用 BPM 软件对企业内部及外部的业务流程的整个生命周期进行建模、自动化、管理监控和优化，可以降低企业成本，提高利润</p> 
 <p style="text-align:null;">BPMN（Business Process Model AndNotation）即业务流程模型和符号，是一套标准的业务流程建模符号，使用 BPMN 提供的符号可以创建业务流程。Activit 就是使用 BPMN 进行流程建模、流程执行管理的</p> 
 <p style="text-align:null;">BPMN2.0 是业务流程建模符号 2.0 的缩写，它由 Business Process Management Initiative 这个非营利协会创建并不断发展。BPMN2.0 是使用一些符号来明确业务流程设计流程图的一套符号规范，能增进业务建模时的沟通效率。目前 BPMN2.0 是最新的版本，它用于在 BPM 上下文中进行布局和可视化的沟通</p> 
 <p style="text-align:null;">BPMN2.0 的基本符号主要包含：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">事件 Event</span></p></li></ul> 
 <p style="">开始：表示一个流程的开始</p> 
 <p style="">中间：发生的开始和结束事件之间，影响处理的流程</p> 
 <p style="">结束：表示该过程结束</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:796px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:16.959799%;height:0;"> 
    <img src="https://images2.imgbox.com/21/3d/rTSYTGA8_o.png" style="margin-left:;display:block;width:796px;margin-top:-16.959799%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">活动 Activities</span></p></li></ul> 
 <p style="">活动是工作或任务的一个通用术语。一个活动可以是一个任务，还可以是一个当前流程的子处理流程；其次，你还可以为活动指定不同的类型。常见活动如下：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:892px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:15.470852%;height:0;"> 
    <img src="https://images2.imgbox.com/a3/21/GU7CGDbw_o.png" style="margin-left:;display:block;width:892px;margin-top:-15.470852%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">网关 GateWay</span></p></li></ul> 
 <p style="">用于表示流程的分支与合并，有几种常用网关需要了解：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:748px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:19.652407%;height:0;"> 
    <img src="https://images2.imgbox.com/48/5d/EGdUwvwR_o.png" style="margin-left:;display:block;width:748px;margin-top:-19.652407%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>排他网关：只有一条路径会被选择</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>xxxxxxxxxx &lt;el-button type="success" icon="el-icon-plus" size="mini" @click="add" :disabled="$hasBP('bnt.sysRole.add') === false"&gt;添 加&lt;/el-button&gt;vue</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>包容网关：可以同时执行多条线路，也可以在网关上设置条件</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>事件网关：专门为中间捕获事件设置的，允许设置多个输出流指向多个不同的中间捕获事件。当流程执行到事件网关后，流程处于等待状态，需要等待抛出事件才能将等待状态转换为活动状态</p></li></ul> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:59.754852%;height:0;"> 
    <img src="https://images2.imgbox.com/e8/bd/HM2eYFHY_o.png" style="margin-left:;display:block;width:979px;margin-top:-59.754852%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">流向 Flow</span></p></li></ul> 
 <p style="">流是连接两个流程节点的连线，常见的流向包含以下几种：</p> 
 <p style="">顺序流：用一个带实心箭头的实心线表示，用于指定活动执行的顺序</p> 
 <p style="">信息流：用一条带箭头的虚线表示，用于描述两个独立的业务参与者（业务实体/业务角色）之间发送和接受的消息流动</p> 
 <p style="">关联：用一根带有线箭头的点线表示，用于将相关的数据、文本和其他人工信息与流对象联系起来。用于展示活动的输入和输出</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:759px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.607378%;height:0;"> 
    <img src="https://images2.imgbox.com/6d/ef/C4GJpDlW_o.png" style="margin-left:;display:block;width:759px;margin-top:-21.607378%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">流程示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1029px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.26725%;height:0;"> 
    <img src="https://images2.imgbox.com/b0/7b/7w4wUkRq_o.png" style="margin-left:;display:block;width:1029px;margin-top:-25.26725%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.3、Activiti使用流程</span></h5> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第一步：</span> 引入依赖并初始化数据库</p> 
 <p style="text-align:null;">既然activiti是一个框架，那么我们肯定是需要引入对应的jar包坐标的，具体参考代码中的。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第二步：</span> 通过工具绘画流程图</p> 
 <p style="text-align:null;">使用 activiti 流程建模工具(activity-designer)定义业务流程(.bpmn 文件) </p> 
 <p style="text-align:null;">.bpmn 文件就是业务流程定义文件，通过 xml 定义业务流程。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第三步</span>：流程定义部署;</p> 
 <p style="text-align:null;">向 activiti 部署业务流程定义（.bpmn 文件），使用 activiti 提供的 api 向 activiti 中部署.bpmn 文件，</p> 
 <p style="text-align:null;">通俗来讲，就是让activiti认识要使用的流程</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第四步：</span> 启动一个流程实例（ProcessInstance）</p> 
 <p style="text-align:null;">启动一个流程实例表示开始一次业务流程的运行，比如员工请假流程部署完成，如果张三要请假就可以启动一个流程实例，如果李四要请假也启动一个流程实例，两个流程的执行互相不影响，就好比定义一个java类，实例化两个对象一样，部署的流程就好比java类，启动一个流程实例就好比new一个java对象</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第五步：</span> 用户查询待办任务(Task)</p> 
 <p style="text-align:null;">因为现在系统的业务流程已经交给 activiti 管理，通过 activiti 就可以查询当前流程执行到哪了，当前用户需要办理什么任务了，这些 activiti帮我们管理了。实际上我们学习activiti也只是学习它的API怎么使用，因为很多功能activiti都已经封装好了，我们会调用就行了</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第六步：</span> 用户办理任务</p> 
 <p style="text-align:null;">用户查询待办任务后，就可以办理某个任务，如果这个任务办理完成还需要其它用户办理，比如请假单创建后由部门经理审核，这个过程也是由 activiti 帮我们完成了，不需要我们在代码中硬编码指定下一个任务办理人了</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第七步：</span> 流程结束</p> 
 <p style="text-align:null;">当任务办理完成没有下一个任务节点了，这个流程实例就完成了。</p> 
 <p style="text-align:null;"></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">二、Activiti7</span></h3> 
 <hr> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1、Activiti使用</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.1、数据库支持</span></h5> 
 <p style="text-align:null;">Activiti 运行必须要有数据库的支持，支持的数据库有：mysql、oracle、postgres、mssql、db2、h2</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2、Activiti环境</span></h5> 
 <p style="text-align:null;">我们直接在当前项目：guigu-oa-parent做Activiti入门讲解</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2.1、引入依赖</span></h6> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;!--引入activiti的springboot启动器 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.activiti&lt;/groupId&gt;
    &lt;artifactId&gt;activiti-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;7.1.0.M6&lt;/version&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre> 
 <p style="text-align:null;">说明：Activiti7与SpringBoot整合后，默认集成了SpringSecurity安全框架，当前我们项目已经集成过了SpringSecurity，后续案例设置审批人时都必须是系统用户，Activiti框架会检查用户是否存在，否则会出现异常，后续大家可以在案例中测试。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:655px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:96.94656%;height:0;"> 
    <img src="https://images2.imgbox.com/6d/1d/ORx4hZBI_o.png" style="margin-left:;display:block;width:655px;margin-top:-96.94656%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2.2、添加配置</span></h6> 
 <p style="text-align:null;">数据源项目已经添加，只需要如下配置即可</p> 
 <pre class="kdocs-xml"><code class="language-xml">spring:    
    activiti:
      #    false:默认，数据库表不变，但是如果版本不对或者缺失表会抛出异常（生产使用）
      #    true:表不存在，自动创建（开发使用）
      #    create_drop: 启动时创建，关闭时删除表（测试使用）
      #    drop_create: 启动时删除表,在创建表（不需要手动关闭引擎）
      database-schema-update: true
      #监测历史表是否存在，activities7默认不开启历史表
      db-history-used: true
      #none：不保存任何历史数据，流程中这是最高效的
      #activity：只保存流程实例和流程行为
      #audit：除了activity，还保存全部的流程任务以及其属性，audit为history默认值
      #full：除了audit、还保存其他全部流程相关的细节数据，包括一些流程参数
      history-level: full
      #校验流程文件，默认校验resources下的process文件夹的流程文件
      check-process-definitions: true</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2.3、启动项目</span></h6> 
 <p style="text-align:null;">启动项目，即可生成项目数据库表</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:743px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:81.42664%;height:0;"> 
    <img src="https://images2.imgbox.com/b5/2d/jHrOcUvh_o.png" style="margin-left:;display:block;width:743px;margin-top:-81.42664%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2.4、数据库表介绍</span></h6> 
 <p style="text-align:null;">Activiti 的运行支持必须要有这 25 张表的支持，主要是在业务流程运行过程中，记录参与流程的用户主体，用户组信息，以及流程的定义，流程执行时的信息，和流程的历史信息等等</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">1、 表的命名规则和作用</span></p> 
 <p style="text-align:null;">观察创建的表，我们发现 Activiti 的表都以 act_ 开头，紧接着是表示表的用途的两个字母标识，也和 Activiti 所提供的服务的 API 对应：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ACT_RE：RE 表示 repository，这个前缀的表包含了流程定义和流程静态资源 （图片、规则、等等）</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ACT_RU：RU 表示 runtime，这些表运行时，会包含流程实例、任务、变量、异步任务等流程业务进行中的数据。Activiti 只在流程实例执行过程中保存这些数据，在流程结束时就会删除这些记录。这样表就可以一直保持很小的体积，并且速度很快</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ACT_HI：HI 表示 history，这些表包含一些历史数据，比如历史流程实例、变量、任务等等</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ACT_GE：GE 表示 general，通用数据</p></li></ul> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">2、Activiti 数据表介绍</span></p> 
 <div style=""> 
  <table class="kdocs-table" border="1" cellpadding="1" cellspacing="1" style=""><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""><span class="kdocs-bold" style="font-weight:bold;">表分类</span></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""><span class="kdocs-bold" style="font-weight:bold;">表名</span></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""><span class="kdocs-bold" style="font-weight:bold;">解释</span></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">一般数据</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_GE_BYTEARRAY]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">通用的流程定义和流程资源</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_GE_PROPERTY]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">系统相关属性</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">流程历史记录</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_ACTINST]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程实例</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_ATTACHMENT]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程附件</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_COMMENT]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的说明性信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_DETAIL]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程运行中的细节信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_IDENTITYLINK]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程运行过程中用户关系</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_PROCINST]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程实例</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_TASKINST]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的任务实例</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_HI_VARINST]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">历史的流程运行中的变量信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">流程定义表</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RE_DEPLOYMENT]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">部署单元信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RE_MODEL]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">模型信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RE_PROCDEF]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">已部署的流程定义</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行实例表</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_EVENT_SUBSCR]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时事件</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_EXECUTION]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时流程执行实例</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_IDENTITYLINK]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时用户关系信息，存储任务节点与参与者的相关信息</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_JOB]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时作业</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_TASK]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时任务</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style=""></p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">[ACT_RU_VARIABLE]</p></td><td class="kdocs-tableCell" style="width:246px;vertical-align:top;height:52px;"><p style="">运行时变量表</p></td></tr></tbody></table> 
 </div> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3、Activiti常用Service服务接口</span></h5> 
 <p style="text-align:null;">简单介绍一下各个 Service 的实现类：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>RepositoryService</p></li></ul> 
 <p style="">Activiti 的资源管理类，该服务负责部署流程定义，管理流程资源。在使用 Activiti 时，一开始需要先完成流程部署，即将使用建模工具设计的业务流程图通过 RepositoryService 进行部署</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>RuntimeService</p></li></ul> 
 <p style="">Activiti 的流程运行管理类，用于开始一个新的流程实例，获取关于流程执行的相关信息。流程定义用于确定一个流程中的结构和各个节点间行为，而流程实例则是对应的流程定义的一个执行，可以理解为 Java 中类和对象的关系</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>TaskService</p></li></ul> 
 <p style="">Activiti 的任务管理类，用于处理业务运行中的各种任务，例如查询分给用户或组的任务、创建新的任务、分配任务、确定和完成一个任务</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>HistoryService</p></li></ul> 
 <p style="">Activiti 的历史管理类，可以查询历史信息。执行流程时，引擎会保存很多数据，比如流程实例启动时间、任务的参与者、完成任务的时间、每个流程实例的执行路径等等。这个服务主要通过查询功能来获得这些数据</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>ManagementService</p></li></ul> 
 <p style="">Activiti 的引擎管理类，提供了对 Activiti 流程引擎的管理和维护功能，这些功能不在工作流驱动的应用程序中使用，主要用于 Activiti 系统的日常维护</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.4、流程设计工具</span></h5> 
 <p style="text-align:null;">IDEA版本小于等于2019，可使用Activiti插件actiBPM，大于该版本的IDEA可使用Activiti BPMN visualizer插件绘制流程设计。</p> 
 <p style="text-align:null;">今天我们主角是：<span class="kdocs-bold" style="font-weight:bold;">Activiti Modeler</span></p> 
 <p style="text-align:null;">Activiti Modeler 是 Activiti 官方提供的一款在线流程设计的前端插件，开发人员可以方便在线进行流程设计，保存流程模型，部署至流程定义等等，后续我们的项目也是集成Activiti Modeler绘制流程定义。</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.4.1、下载activiti-explorer</span></h6> 
 <p style="text-align:null;">官网下载：<a class="kdocs-link" style="color:#0A6CFF;" href="https://www.activiti.org/get-started" rel="nofollow noopener noreferrer" target="_blank">https://www.activiti.org/get-started</a></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:43.4375%;height:0;"> 
    <img src="https://images2.imgbox.com/0c/5a/GJwTZh8X_o.png" style="margin-left:;display:block;width:1920px;margin-top:-43.4375%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.4.2、解压获取部署包</span></h6> 
 <p style="text-align:null;">解压activiti-5.22.0.zip，在activiti-5.22.0\wars目录下获取activiti-explorer.war</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.4.3、部署activiti-explorer.war</span></h6> 
 <p style="text-align:null;">将activiti-explorer.war放到tomcat部署目录，启动tomcat</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.4.4、访问activiti-explorer</span></h6> 
 <p style="text-align:null;"><a class="kdocs-link" style="color:#0A6CFF;" href="http://localhost:8080/activiti-explorer" rel="nofollow noopener noreferrer" target="_blank">http://localhost:8080/activiti-explorer</a></p> 
 <p style="text-align:null;">默认登录账号：kermit kermit</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/7a/9b/7XIU0O8L_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">上面有很多功能，我们关注流程设计即可，如下图：</p> 
 <p style="text-align:null;">点击上图：流程 --&gt; 新建模型 --&gt; 输入模型名称（请假）--&gt; 创建</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/5d/62/I12kf7IZ_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2、Activiti流程操作</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1、流程定义</span></h5> 
 <p style="text-align:null;">我们定义一个请假流程</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.1、新建模型</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/8d/84/FnmYGO34_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/cd/d5/b3sCCNXv_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/3d/af/049QcyIC_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.2、开始节点</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/e9/a5/U865m7IK_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.3、任务节点</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/c3/12/iMKAVeiL_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.4、结束节点</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/4d/87/gglMu7a7_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.5、设置节点属性</span></h6> 
 <p style="text-align:null;">指定标签名称：张三审批，节点任务负责人：zhangsan</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/b6/39/ChdPGxTd_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">指定标签名称：李四审批，节点任务负责人：lisi</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/ff/ac/8YCbOcih_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.5、设置流程定义key</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/bf/e4/19ADhVDT_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.6、保存流程定义模型</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/aa/7b/y9hGiSyj_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.7、下载流程定义文件</span></h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/80/e3/FvG3Uqmi_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">下载文件为：qingjia.bpmn20.xml</p> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;?xmlversion="1.0" encoding="UTF-8"?&gt;
&lt;definitionsxmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"xmlns:xsd="http://www.w3.org/2001/XMLSchema"xmlns:activiti="http://activiti.org/bpmn"xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC"xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI"typeLanguage="http://www.w3.org/2001/XMLSchema"expressionLanguage="http://www.w3.org/1999/XPath"targetNamespace="http://www.activiti.org/processdef"&gt;
  &lt;processid="qingjia"isExecutable="true"&gt;
    &lt;startEventid="sid-14A3E2A6-84E4-49E0-BF92-3DABD741430B"&gt;&lt;/startEvent&gt;
    &lt;userTaskid="sid-38632C81-C407-4F0D-944D-FC30F90637A3"name="张三审批"activiti:assignee="zhangsan"&gt;&lt;/userTask&gt;
    &lt;sequenceFlowid="sid-081A176E-6756-4C4C-B36C-2649B12CFC5D"sourceRef="sid-14A3E2A6-84E4-49E0-BF92-3DABD741430B"targetRef="sid-38632C81-C407-4F0D-944D-FC30F90637A3"&gt;&lt;/sequenceFlow&gt;
    &lt;userTaskid="sid-655780D5-8492-494F-9E30-2CFD6691E98D"name="李四审批"activiti:assignee="lisi"&gt;&lt;/userTask&gt;
    &lt;sequenceFlowid="sid-7DCE821D-4AE0-4F27-9811-80B575E7A758"sourceRef="sid-38632C81-C407-4F0D-944D-FC30F90637A3"targetRef="sid-655780D5-8492-494F-9E30-2CFD6691E98D"&gt;&lt;/sequenceFlow&gt;
    &lt;endEventid="sid-7EE28419-BC61-49AC-8990-C63C4D2F7C0D"&gt;&lt;/endEvent&gt;
    &lt;sequenceFlowid="sid-2E583A5C-265A-4C05-B5E1-7F5DB98291F1"sourceRef="sid-655780D5-8492-494F-9E30-2CFD6691E98D"targetRef="sid-7EE28419-BC61-49AC-8990-C63C4D2F7C0D"&gt;&lt;/sequenceFlow&gt;
  &lt;/process&gt;
  &lt;bpmndi:BPMNDiagramid="BPMNDiagram_qingjia"&gt;
    &lt;bpmndi:BPMNPlanebpmnElement="qingjia"id="BPMNPlane_qingjia"&gt;
      &lt;bpmndi:BPMNShapebpmnElement="sid-14A3E2A6-84E4-49E0-BF92-3DABD741430B"id="BPMNShape_sid-14A3E2A6-84E4-49E0-BF92-3DABD741430B"&gt;
        &lt;omgdc:Boundsheight="30.0"width="30.0"x="93.5"y="75.0"&gt;&lt;/omgdc:Bounds&gt;
      &lt;/bpmndi:BPMNShape&gt;
      &lt;bpmndi:BPMNShapebpmnElement="sid-38632C81-C407-4F0D-944D-FC30F90637A3"id="BPMNShape_sid-38632C81-C407-4F0D-944D-FC30F90637A3"&gt;
        &lt;omgdc:Boundsheight="80.0"width="100.0"x="168.5"y="50.0"&gt;&lt;/omgdc:Bounds&gt;
      &lt;/bpmndi:BPMNShape&gt;
      &lt;bpmndi:BPMNShapebpmnElement="sid-655780D5-8492-494F-9E30-2CFD6691E98D"id="BPMNShape_sid-655780D5-8492-494F-9E30-2CFD6691E98D"&gt;
        &lt;omgdc:Boundsheight="80.0"width="100.0"x="313.5"y="50.0"&gt;&lt;/omgdc:Bounds&gt;
      &lt;/bpmndi:BPMNShape&gt;
      &lt;bpmndi:BPMNShapebpmnElement="sid-7EE28419-BC61-49AC-8990-C63C4D2F7C0D"id="BPMNShape_sid-7EE28419-BC61-49AC-8990-C63C4D2F7C0D"&gt;
        &lt;omgdc:Boundsheight="28.0"width="28.0"x="458.5"y="76.0"&gt;&lt;/omgdc:Bounds&gt;
      &lt;/bpmndi:BPMNShape&gt;
      &lt;bpmndi:BPMNEdgebpmnElement="sid-7DCE821D-4AE0-4F27-9811-80B575E7A758"id="BPMNEdge_sid-7DCE821D-4AE0-4F27-9811-80B575E7A758"&gt;
        &lt;omgdi:waypointx="268.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
        &lt;omgdi:waypointx="313.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
      &lt;/bpmndi:BPMNEdge&gt;
      &lt;bpmndi:BPMNEdgebpmnElement="sid-081A176E-6756-4C4C-B36C-2649B12CFC5D"id="BPMNEdge_sid-081A176E-6756-4C4C-B36C-2649B12CFC5D"&gt;
        &lt;omgdi:waypointx="123.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
        &lt;omgdi:waypointx="168.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
      &lt;/bpmndi:BPMNEdge&gt;
      &lt;bpmndi:BPMNEdgebpmnElement="sid-2E583A5C-265A-4C05-B5E1-7F5DB98291F1"id="BPMNEdge_sid-2E583A5C-265A-4C05-B5E1-7F5DB98291F1"&gt;
        &lt;omgdi:waypointx="413.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
        &lt;omgdi:waypointx="458.5"y="90.0"&gt;&lt;/omgdi:waypoint&gt;
      &lt;/bpmndi:BPMNEdge&gt;
    &lt;/bpmndi:BPMNPlane&gt;
  &lt;/bpmndi:BPMNDiagram&gt;
&lt;/definitions&gt;</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.8、下载流程定义图片</span></h6> 
 <p style="text-align:null;">单击右键上图图片，图片另存为：qingjia.png</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:497px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:35.61368%;height:0;"> 
    <img src="https://images2.imgbox.com/c0/02/lJAl2OOl_o.png" style="margin-left:;display:block;width:497px;margin-top:-35.61368%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1.9、将资源文件放入项目</span></h6> 
 <p style="text-align:null;">在service-oa模块resources下新建process资源文件夹</p> 
 <p style="text-align:null;">将qingjia.bpmn20.xml与qingjia.png放入process目录</p> 
 <p style="text-align:null;"></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2、流程定义部署</span></h5> 
 <p style="text-align:null;">将上面在设计器中定义的流程部署到activiti数据库中，就是流程定义部署。通过调用activiti的api将流程定义的bpmn和png两个文件一个一个添加部署到activiti中，也可以将两个文件打成zip包进行部署。</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.1、单个文件部署方式</span></h6> 
 <pre class="kdocs-java"><code class="language-java">packagecom.atguigu;
​
importorg.activiti.engine.RepositoryService;
importorg.activiti.engine.repository.Deployment;
importorg.junit.Test;
importorg.junit.runner.RunWith;
importorg.springframework.beans.factory.annotation.Autowired;
importorg.springframework.boot.test.context.SpringBootTest;
importorg.springframework.test.context.junit4.SpringRunner;
​
​
@RunWith(SpringRunner.class)
@SpringBootTest
publicclassProcessTest {
​
    @Autowired
    privateRepositoryServicerepositoryService;
​
    @Test
    publicvoiddeployProcess() {
        // 流程部署
        Deploymentdeploy=repositoryService.createDeployment()
                .addClasspathResource("process/qingjia.bpmn20.xml")
                .addClasspathResource("process/qingjia.png")
                .name("请假申请流程")
                .deploy();
        System.out.println(deploy.getId());
        System.out.println(deploy.getName());
    }
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.2、压缩包部署方式</span></h6> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoiddeployProcessByZip() {
    // 定义zip输入流
    InputStreaminputStream=this
            .getClass()
            .getClassLoader()
            .getResourceAsStream(
                    "process/qingjia.zip");
    ZipInputStreamzipInputStream=newZipInputStream(inputStream);
​
    // 流程部署
    Deploymentdeployment=repositoryService.createDeployment()
            .addZipInputStream(zipInputStream)
            .name("请假申请流程")
            .deploy();
    System.out.println("流程部署id："+deployment.getId());
    System.out.println("流程部署名称："+deployment.getName());
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2.3、操作数据库表</span></h6> 
 <p style="text-align:null;">流程定义部署后操作activiti的3张表如下：</p> 
 <p style="text-align:null;">act_re_deployment 流程定义部署表，每部署一次增加一条记录</p> 
 <p style="text-align:null;">act_re_procdef 流程定义表，部署每个新的流程定义都会在这张表中增加一条记录</p> 
 <p style="text-align:null;">act_ge_bytearray 流程资源表 </p> 
 <p style="text-align:null;"></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.3、启动流程实例</span></h5> 
 <p style="text-align:null;">流程定义:将bpmn文件放到activiti的三张表中,好比是java中的一个类流程实例:好比是java中的一个实例对象(一个流程定义可以对应多个流程实例)，张三可以启动一个请假流程实例，李四也可以启动一个请假流程实例，他们互不影响</p> 
 <pre class="kdocs-java"><code class="language-java">@Autowired
privateRuntimeServiceruntimeService;
​
@Test
publicvoidstartUpProcess() {
    //创建流程实例,我们需要知道流程定义的key
    ProcessInstanceprocessInstance=runtimeService.startProcessInstanceByKey("qingjia");
    //输出实例的相关信息
    System.out.println("流程定义id："+processInstance.getProcessDefinitionId());
    System.out.println("流程实例id："+processInstance.getId());
    System.out.println("当前活动Id："+processInstance.getActivityId());
}</code></pre> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">操作数据表</span></p> 
 <p style="text-align:null;">act_hi_actinst 流程实例执行历史</p> 
 <p style="text-align:null;">act_hi_identitylink 流程的参与用户历史信息</p> 
 <p style="text-align:null;">act_hi_procinst 流程实例历史信息</p> 
 <p style="text-align:null;">act_hi_taskinst 流程任务历史信息</p> 
 <p style="text-align:null;">act_ru_execution 流程执行信息</p> 
 <p style="text-align:null;">act_ru_identitylink 流程的参与用户信息</p> 
 <p style="text-align:null;">act_ru_task 任务信息</p> 
 <p style="text-align:null;"></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.4、查询任务</span></h5> 
 <p style="text-align:null;">每个节点都配置了Assignee，流程启动后，任务的负责人就可以查询自己当前需要处理的任务，查询出来的任务都是该用户的待办任务。</p> 
 <pre class="kdocs-java"><code class="language-java">@Autowired
privateTaskServicetaskService;
​
/**
* 查询当前个人待执行的任务
*/
@Test
publicvoidfindPendingTaskList() {
    //任务负责人
    Stringassignee="zhangsan";
    List&lt;Task&gt;list=taskService.createTaskQuery()
            .taskAssignee(assignee)//只查询该任务负责人的任务
            .list();
    for (Tasktask : list) {
        System.out.println("流程实例id："+task.getProcessInstanceId());
        System.out.println("任务id："+task.getId());
        System.out.println("任务负责人："+task.getAssignee());
        System.out.println("任务名称："+task.getName());
    }
}</code></pre> 
 <p style="text-align:null;">说明：</p> 
 <p style="text-align:null;"> 流程实例id:一个流程只有一个,标识这个流程</p> 
 <p style="text-align:null;"> 任务id:流程每进行到某个节点,就会给这个节点分配一个任务id</p> 
 <p style="text-align:null;">输出结果如下：</p> 
 <p style="text-align:null;"> 流程实例id：d969f534-825e-11ed-95b4-7c57581a7819 任务id：d96c3f28-825e-11ed-95b4-7c57581a7819 任务负责人：zhangsan 任务名称：张三审批</p> 
 <p style="text-align:null;"></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.5、处理当前任务</span></h5> 
 <p style="text-align:null;">任务负责人查询待办任务，选择任务进行处理，完成任务。</p> 
 <pre class="kdocs-java"><code class="language-java">/**
* 完成任务
*/
@Test
publicvoidcompletTask(){
    Tasktask=taskService.createTaskQuery()
            .taskAssignee("zhangsan")  //要查询的负责人
            .singleResult();//返回一条
​
    //完成任务,参数：任务id
    taskService.complete(task.getId());
}</code></pre> 
 <p style="text-align:null;">完成任务后，任务自动到下一个节点</p> 
 <p style="text-align:null;"></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.6、查询已处理任务</span></h5> 
 <pre class="kdocs-java"><code class="language-java">@Autowired
privateHistoryServicehistoryService;
​
/**
* 查询已处理历史任务
*/
@Test
publicvoidfindProcessedTaskList() {
    //张三已处理过的历史任务
    List&lt;HistoricTaskInstance&gt;list=historyService.createHistoricTaskInstanceQuery().taskAssignee("zhangsan").finished().list();
    for (HistoricTaskInstancehistoricTaskInstance : list) {
        System.out.println("流程实例id："+historicTaskInstance.getProcessInstanceId());
        System.out.println("任务id："+historicTaskInstance.getId());
        System.out.println("任务负责人："+historicTaskInstance.getAssignee());
        System.out.println("任务名称："+historicTaskInstance.getName());
    }
}</code></pre> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.7、其他接口（了解）</span></h5> 
 <pre class="kdocs-java"><code class="language-java">/**
* 查询流程定义
*/
@Test
publicvoidfindProcessDefinitionList(){
    List&lt;ProcessDefinition&gt;definitionList=repositoryService.createProcessDefinitionQuery()
            .orderByProcessDefinitionVersion()
            .desc()
            .list();
    //输出流程定义信息
    for (ProcessDefinitionprocessDefinition : definitionList) {
        System.out.println("流程定义 id="+processDefinition.getId());
        System.out.println("流程定义 name="+processDefinition.getName());
        System.out.println("流程定义 key="+processDefinition.getKey());
        System.out.println("流程定义 Version="+processDefinition.getVersion());
        System.out.println("流程部署ID ="+processDefinition.getDeploymentId());
    }
}
​
/**
* 删除流程定义
*/
publicvoiddeleteDeployment() {
    //部署id
    StringdeploymentId="82e3bc6b-81da-11ed-8e03-7c57581a7819";
    //删除流程定义，如果该流程定义已有流程实例启动则删除时出错
    repositoryService.deleteDeployment(deploymentId);
    //设置true 级联删除流程定义，即使该流程有流程实例启动也可以删除，设置为false非级别删除方式
    //repositoryService.deleteDeployment(deploymentId, true);
}</code></pre> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3、流程实例</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.1、什么是流程实例</span></h5> 
 <p style="text-align:null;">流程定义ProcessDefinition和流程实例ProcessInstance是Activiti重要的概念，类似于Java类和Java实例的关系</p> 
 <p style="text-align:null;">启动一个流程实例表示开始一次业务流程的运行，比如员工请假流程部署完成，如果张三要请假就可以启动一个流程实例，如果李四要请假也启动一个流程实例，两个流程的执行互相不影响，就好比定义一个 java 类，实例化两个对象一样，部署的流程就好比 java 类，启动一个流程实例就好比 new 一个 java 对象</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.2、让实际业务与activiti表关联(BusinessKey)</span></h5> 
 <p style="text-align:null;">比如我们填写一个请假单，一定会有一个请假单的唯一标识，我们通常使用这个标识来关联activiti，这个标识在activiti中称为businesskey</p> 
 <p style="text-align:null;">BusinessKey：业务标识，通常为业务的主键，业务标识和流程标识一一对应，业务标识来源于业务系统，存储业务标识就是根据业务标识来关联查询业务系统的数据</p> 
 <p style="text-align:null;">举例：请假流程启动一个流程实例，就可以将请假单的id作为业务标识存储到activiti中，将来查询activiti的流程实例信息就可以获取请假单的id从而关联查询业务系统数据库得到请假单信息</p> 
 <pre class="kdocs-java"><code class="language-java">/**
* 启动流程实例，添加businessKey
*/
@Test
publicvoidstartUpProcessAddBusinessKey(){
    StringbusinessKey="1";
    // 启动流程实例，指定业务标识businessKey，也就是请假申请单id
    ProcessInstanceprocessInstance=runtimeService.
            startProcessInstanceByKey("qingjia",businessKey);
    // 输出
    System.out.println("业务id:"+processInstance.getBusinessKey());
}</code></pre> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.3、挂起，激活流程实例</span></h5> 
 <p style="text-align:null;">某些情况可能由于流程变更需要将当前运行的流程暂停而不是直接删除，流程暂停后将不会执行；</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.3.1、全部流程实例挂起</span></h6> 
 <p style="text-align:null;">操作流程定义为挂起状态，该流程定义下面的所有流程实例全部暂停:流程定义为挂起状态，该流程定义将不允许启动新的流程实例，同时该流程定义下所有的流程实例将全部挂起暂停执行</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidsuspendProcessInstance() {
    ProcessDefinitionqingjia=repositoryService.createProcessDefinitionQuery().processDefinitionKey("qingjia").singleResult();
    // 获取到当前流程定义是否为暂停状态 suspended方法为true是暂停的，suspended方法为false是运行的
    booleansuspended=qingjia.isSuspended();
    if (suspended) {
        // 暂定,那就可以激活
        // 参数1:流程定义的id  参数2:是否激活    参数3:时间点
        repositoryService.activateProcessDefinitionById(qingjia.getId(), true, null);
        System.out.println("流程定义:"+qingjia.getId() +"激活");
    } else {
        repositoryService.suspendProcessDefinitionById(qingjia.getId(), true, null);
        System.out.println("流程定义:"+qingjia.getId() +"挂起");
    }
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.3.2、单个流程实例挂起</span></h6> 
 <p style="text-align:null;">操作流程实例对象，针对单个流程执行挂起操作，某个流程实例挂起则此流程不在继续执行，完成该流程实例的当前任务将报异常；</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidSingleSuspendProcessInstance() {
    StringprocessInstanceId="8bdff984-ab53-11ed-9b17-f8e43b734677";
    ProcessInstanceprocessInstance=runtimeService.createProcessInstanceQuery().processInstanceId(processInstanceId).singleResult();
    //获取到当前流程定义是否为暂停状态   suspended方法为true代表为暂停   false就是运行的
    booleansuspended=processInstance.isSuspended();
    if (suspended) {
        runtimeService.activateProcessInstanceById(processInstanceId);
        System.out.println("流程实例:"+processInstanceId+"激活");
    } else {
        runtimeService.suspendProcessInstanceById(processInstanceId);
        System.out.println("流程实例:"+processInstanceId+"挂起");
    }
}</code></pre> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4、任务分配</span></h4> 
 <p style="text-align:null;">任务分配有三种方式</p> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>固定分配</p></li></ol> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>UEL表达式分配</p></li></ol> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>监听器分配</p></li></ol> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.1、固定分配</span></h5> 
 <p style="text-align:null;">在前面进行业务流程建模时指定固定的任务负责人，如：Assignee：zhangsan/lisi</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.2、表达式分配</span></h5> 
 <p style="text-align:null;">activiti使用UEL表达式，UEL是java EE6规范的一部分,UEL即统一表达式语言，activiti支持两个UEL表达式：UEL-value和UEL-method。 </p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.2.1、UEL-value</span></h6> 
 <p style="text-align:null;">新建：一个加班流程</p> 
 <p style="text-align:null;">如图：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/ff/fc/ufuCTkzD_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">assignee1 这个变量是 activiti 的一个流程变量</p> 
 <p style="text-align:null;">我们启动流程实例，这个启动实例的方法跟之前的方法基本一致,唯一的不同是在启动时,添加了一个参数</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoiddeployProcess01() {
    // 流程部署
    Deploymentdeploy=repositoryService.createDeployment()
        .addClasspathResource("process/jiaban01.bpmn20.xml")
        .name("加班申请流程")
        .deploy();
    System.out.println(deploy.getId());
    System.out.println(deploy.getName());
}
​
/**
* 启动流程实例
*/
@Test
publicvoidstartUpProcess01() {
    Map&lt;String, Object&gt;variables=newHashMap&lt;&gt;();
    variables.put("assignee1","zhangsan");
    variables.put("assignee2","lisi");
    //创建流程实例,我们需要知道流程定义的key
    ProcessInstanceprocessInstance=runtimeService.startProcessInstanceByKey("qingjia01", variables);
    //输出实例的相关信息
    System.out.println("流程定义id："+processInstance.getProcessDefinitionId());
    System.out.println("流程实例id："+processInstance.getId());
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.2.2、UEL-method 方式</span></h6> 
 <p style="text-align:null;">如图：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/c8/24/qHlyanVG_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">userBean 是 spring 容器中的一个 bean，表示调用该 bean 的 getUsername(int id)方法。</p> 
 <p style="text-align:null;">经理审批：${userBean.getUsername(1)}</p> 
 <p style="text-align:null;">人事审批：${userBean.getUsername(2)} </p> 
 <pre class="kdocs-java"><code class="language-java">packagecom.atguigu.process.bean;
​
importorg.springframework.stereotype.Component;
​
@Component
publicclassUserBean {
​
    publicStringgetUsername(intid) {
        if(id==1) {
            return"zhangsan";
        }
        if(id==2) {
            return"lisi";
        }
        return"admin";
    }
}</code></pre> 
 <p style="text-align:null;">部署与启动</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoiddeployProcess02() {
    // 流程部署
    Deploymentdeploy=repositoryService.createDeployment()
        .addClasspathResource("process/jiaban02.bpmn20.xml")
        .name("加班申请流程")
        .deploy();
    System.out.println(deploy.getId());
    System.out.println(deploy.getName());
}
​
/**
* 启动流程实例
*/
@Test
publicvoidstartUpProcess02() {
    //创建流程实例,我们需要知道流程定义的key
    ProcessInstanceprocessInstance=runtimeService.startProcessInstanceByKey("qingjia02");
    //输出实例的相关信息
    System.out.println("流程定义id："+processInstance.getProcessDefinitionId());
    System.out.println("流程实例id："+processInstance.getId());
}</code></pre> 
 <p style="text-align:null;">启动流程实例，就会调用bean方法，参数为：1，经理审批后，接着调用bean方法，参数为：2</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4.3、监听器分配</span></h5> 
 <p style="text-align:null;">使用监听器的方式来指定负责人，那么在流程设计时就不需要指定assignee。</p> 
 <p style="text-align:null;">任务监听器是发生对应的任务相关事件时执行自定义 java 逻辑 或表达式</p> 
 <p style="text-align:null;">Event的选项包含：</p> 
 <pre class="kdocs-java"><code class="language-java">Create：任务创建后触发
Assignment：任务分配后触发
Delete：任务完成后触发
All：所有事件发生都触发</code></pre> 
 <p style="text-align:null;">定义任务监听类，且类必须实现 org.activiti.engine.delegate.TaskListener 接口 </p> 
 <pre class="kdocs-java"><code class="language-java">packagecom.atguigu.process.bean;
​
importorg.activiti.engine.delegate.DelegateTask;
importorg.activiti.engine.delegate.TaskListener;
​
publicclassMyTaskListenerimplementsTaskListener {
​
    @Override
    publicvoidnotify(DelegateTaskdelegateTask) {
        if(delegateTask.getName().equals("经理审批")){
            //这里指定任务负责人
            delegateTask.setAssignee("zhangsan");
        } elseif(delegateTask.getName().equals("人事审批")){
            //这里指定任务负责人
            delegateTask.setAssignee("lisi");
        }
    }
}</code></pre> 
 <p style="text-align:null;">配置监听器</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/ae/ce/itRaUvBT_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1920px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:48.541668%;height:0;"> 
    <img src="https://images2.imgbox.com/7f/a4/rI0B63dN_o.png" style="margin-left:;display:block;width:1920px;margin-top:-48.541668%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">经理审批与人事审批，都设置一样的监听即可</p> 
 <p style="text-align:null;">部署与测试</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
public void deployProcess03() {
    // 流程部署
    Deployment deploy = repositoryService.createDeployment()
            .addClasspathResource("process/jiaban03.bpmn20.xml")
            .name("加班申请流程")
            .deploy();
    System.out.println(deploy.getId());
    System.out.println(deploy.getName());
}

/**
 * 启动流程实例
 */
@Test
public void startUpProcess03() {
    //创建流程实例,我们需要知道流程定义的key
    ProcessInstance processInstance = runtimeService.startProcessInstanceByKey("jiaban03");
    //输出实例的相关信息
    System.out.println("流程定义id：" + processInstance.getProcessDefinitionId());
    System.out.println("流程实例id：" + processInstance.getId());
}</code></pre> 
 <p style="text-align:null;">启动流程实例，就会调用MyTaskListener监听方法</p> 
 <p style="text-align:null;"></p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5、流程变量</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.1、什么是流程变量</span></h5> 
 <p style="text-align:null;">流程变量在 activiti 中是一个非常重要的角色，流程运转有时需要靠流程变量，业务系统和 activiti结合时少不了流程变量，流程变量就是 activiti 在管理工作流时根据管理需要而设置的变量。比如：在请假申请流程流转时如果请假天数大于2 天则由总经理审核，否则由部门经理直接审核， 请假天数就可以设置为流程变量，在流程流转时使用。 </p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.2、流程变量的作用域</span></h5> 
 <p style="text-align:null;">流程变量的作用可以是一个流程实例，但也可以是一个任务(task)或是一个执行实例</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.2.1、globa变量</span></h6> 
 <p style="text-align:null;">流程变量的默认作用域是流程实例。当一个流程变量的作用域为流程实例时，可以称为 global 变量</p> 
 <p style="text-align:null;">global 变量中变量名不允许重复，设置相同名称的变量，后设置的值会覆盖前设置的变量值。</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.2.2、local变量</span></h6> 
 <p style="text-align:null;">任务和执行实例仅仅是针对一个任务和一个执行实例范围，范围没有流程实例大， 称为 local 变量。</p> 
 <p style="text-align:null;">Local 变量由于在不同的任务或不同的执行实例中，作用域互不影响，变量名可以相同没有影响。Local 变量名也可以和 global 变量名相同，没有影响。 </p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.3、流程变量的使用方法</span></h5> 
 <p style="text-align:null;">通过UEL表达式使用流程变量</p> 
 <p style="text-align:null;">1、之前我们也使用过UEL表达式来设置任务处理人，例如${assignee1}，activiti获取UEL表达式的值，即流程变量assignee1的值，将值作为任务的负责人进行任务分配2、我们也可以在任务和任务间的连线上使用UEL表达式，决定流程走向 比如${ day &gt; 2 }和${day &lt;= 2}，day就是一个流程变量名称，UEL表达式的执行结果是布尔类型</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.4、设置globa变量</span></h5> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.4.1、启动流程时设置变量</span></h6> 
 <p style="text-align:null;">在启动流程时设置流程变量，<span class="kdocs-bold" style="font-weight:bold;">变量的作用域是整个流程实例。</span>通过 Map&lt;key,value&gt; 设置流程变量，map 中可以设置多个变量，这个 key 就是流程变量的名字</p> 
 <p style="text-align:null;">这是前面的实例代码</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidstartUpProcess() {
    Map&lt;String, Object&gt;variables=newHashMap&lt;&gt;();
    variables.put("assignee1", "zhangsan");
    variables.put("assignee2", "lisi");
    //创建流程实例,我们需要知道流程定义的key
    ProcessInstanceprocessInstance=runtimeService.startProcessInstanceByKey("qingjia", variables);
    //输出实例的相关信息
    System.out.println("流程定义id："+processInstance.getProcessDefinitionId());
    System.out.println("流程实例id："+processInstance.getId());
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.4.2、在任务办理时设置流程变量</span></h6> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">它的作用域是整个流程实例</span> ，如果设置的流程变量的 key 在流程实例中已存在相同的名字则后设置的变量替换前边设置的变量。</p> 
 <p style="text-align:null;">模拟实例代码：</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidcompletTask() {
    Tasktask=taskService.createTaskQuery()
            .taskAssignee("zhangsan")  //要查询的负责人
            .singleResult();//返回一条
​
    Map&lt;String, Object&gt;variables=newHashMap&lt;&gt;();
    variables.put("assignee2", "zhao");
    //完成任务,参数：任务id
    taskService.complete(task.getId(), variables);
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.4.3、通过当前流程实例设置</span></h6> 
 <p style="text-align:null;">通过流程实例 id 设置全局变量， <span class="kdocs-bold" style="font-weight:bold;">它的作用域是整个流程实例</span> ，该流程实例必须未执行完成。</p> 
 <p style="text-align:null;">模拟实例代码：</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidprocessInstanceIdSetVariables() {
    Map&lt;String, Object&gt;variables=newHashMap&lt;&gt;();
    variables.put("assignee2", "wang");
    runtimeService.setVariables("1c347a90-82c6-11ed-96ca-7c57581a7819", variables);
}</code></pre> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5.5、设置Local变量</span></h5> 
 <p style="text-align:null;">local 流程变量的作用域只在当前任务节点下可用</p> 
 <p style="text-align:null;">任务办理时设置local流程变量，当前运行的流程实例只能在该任务结束前使用，任务结束该变量无法在当前流程实例使用</p> 
 <p style="text-align:null;">模拟实例代码：</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidcompletLocalTask() {
    Tasktask=taskService.createTaskQuery()
            .taskAssignee("zhangsan")  //要查询的负责人
            .singleResult();//返回一条
​
    // 设置local变量，作用域为该任务
    taskService.setVariableLocal(task.getId(),"assignee2","li");
    // 查看local变量
    System.out.println(taskService.getVariableLocal(task.getId(), "assignee2"));
    //完成任务,参数：任务id
    taskService.complete(task.getId());
}</code></pre> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6、任务组</span></h4> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.1、Candidate-users候选人</span></h5> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">1、需求</span>在流程定义中在任务结点的assignee固定设置任务负责人，在流程定义时将参与者固定设置在.bpmn文件中，如果要临时变更任务负责人则需要修改流程定义，系统扩展性很差，针对这种情况，我们可以给任务设置多个候选人，从候选人中选择参与者来完成任务</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">2、设置任务候选人</span></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.2、组任务办理流程</span></h5> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">第一步:查询组任务</span></p> 
 <p style="text-align:null;">指定候选人，查询该候选人当前的待办任务候选人不能办理任务<span class="kdocs-bold" style="font-weight:bold;">第二步:拾取(claim)任务</span></p> 
 <p style="text-align:null;">该组任务的所有候选人都能拾取将候选人的组任务，变成个人任务，原来的候选人就变成了该任务的负责人如果拾取后不想办理该任务需要将已经拾取<span class="kdocs-bold" style="font-weight:bold;">第三步:查询个人任务</span></p> 
 <p style="text-align:null;">查询方式同个人任务部分，根据assignee查询用户负责的个人任务<span class="kdocs-bold" style="font-weight:bold;">第四步:办理个人任务</span></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3、关键代码</span></h5> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.1、部署及启动</span></h6> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoiddeployProcess04() {
    // 流程部署
    Deploymentdeploy=repositoryService.createDeployment()
            .addClasspathResource("process/jiaban04.bpmn20.xml")
            .name("请假申请流程")
            .deploy();
    System.out.println(deploy.getId());
    System.out.println(deploy.getName());
​
    ProcessInstanceprocessInstance=runtimeService.startProcessInstanceByKey("jiaban04");
    System.out.println(processInstance.getId());
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.2、查询组任务</span></h6> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidfindGroupTaskList() {
    //查询组任务
    List&lt;Task&gt;list=taskService.createTaskQuery()
            .taskCandidateUser("zhangsan01")//根据候选人查询
            .list();
    for (Tasktask : list) {
        System.out.println("----------------------------");
        System.out.println("流程实例id："+task.getProcessInstanceId());
        System.out.println("任务id："+task.getId());
        System.out.println("任务负责人："+task.getAssignee());
        System.out.println("任务名称："+task.getName());
    }
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.2、拾取组任务</span></h6> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidclaimTask(){
    //拾取任务,即使该用户不是候选人也能拾取(建议拾取时校验是否有资格)
    //校验该用户有没有拾取任务的资格
    Tasktask=taskService.createTaskQuery()
            .taskCandidateUser("zhangsan01")//根据候选人查询
            .singleResult();
    if(task!=null){
        //拾取任务
        taskService.claim(taskId, "zhangsan01");
        System.out.println("任务拾取成功");
    }
}</code></pre> 
 <p style="text-align:null;">张三01拾取任务了，张三02就不能拾取了</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.3、 查询个人待办任务</span></h6> 
 <p style="text-align:null;">查询方式同个人任务查询</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidfindGroupPendingTaskList() {
    //任务负责人
    Stringassignee="zhangsan01";
    List&lt;Task&gt;list=taskService.createTaskQuery()
            .taskAssignee(assignee)//只查询该任务负责人的任务
            .list();
    for (Tasktask : list) {
        System.out.println("流程实例id："+task.getProcessInstanceId());
        System.out.println("任务id："+task.getId());
        System.out.println("任务负责人："+task.getAssignee());
        System.out.println("任务名称："+task.getName());
    }
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.4、 办理个人任务</span></h6> 
 <p style="text-align:null;">同个人任务办理</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidcompletGroupTask() {
    Tasktask=taskService.createTaskQuery()
            .taskAssignee("zhangsan01")  //要查询的负责人
            .singleResult();//返回一条
    taskService.complete(task.getId());
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.5、归还组任务</span></h6> 
 <p style="text-align:null;">如果个人不想办理该组任务，可以归还组任务，归还后该用户不再是该任务的负责人</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidassigneeToGroupTask() {
    StringtaskId="d96c3f28-825e-11ed-95b4-7c57581a7819";
    // 任务负责人
    StringuserId="zhangsan01";
    // 校验userId是否是taskId的负责人，如果是负责人才可以归还组任务
    Tasktask=taskService
            .createTaskQuery()
            .taskId(taskId)
            .taskAssignee(userId)
            .singleResult();
    if (task!=null) {
        // 如果设置为null，归还组任务,该 任务没有负责人
        taskService.setAssignee(taskId, null);
    }
}</code></pre> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6.3.6、 任务交接</span></h6> 
 <p style="text-align:null;">任务交接，任务负责人将任务交给其它候选人办理该任务</p> 
 <pre class="kdocs-java"><code class="language-java">@Test
publicvoidassigneeToCandidateUser() {
    // 当前待办任务
    StringtaskId="d96c3f28-825e-11ed-95b4-7c57581a7819";
    // 校验zhangsan01是否是taskId的负责人，如果是负责人才可以归还组任务
    Tasktask=taskService
            .createTaskQuery()
            .taskId(taskId)
            .taskAssignee("zhangsan01")
            .singleResult();
    if (task!=null) {
        // 将此任务交给其它候选人zhangsan02办理该 任务
        taskService.setAssignee(taskId, "zhangsan02");
    }
}</code></pre> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">7、网关</span></h4> 
 <p style="text-align:null;">网关用来控制流程的流向，通常会和流程变量一起使用。</p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">7.1、排他网关</span></h5> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>排他网关：只有一条路径会被选择</p></li></ul> 
 <p style="text-align:null;">当你的流程出现这样的场景：请假申请，两天以内，部门经理审批流程就结束了，两天以上需要总经理直接审批，这个时候就需要排他网关</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:732px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.912567%;height:0;"> 
    <img src="https://images2.imgbox.com/f8/d8/cpXlkAAc_o.png" style="margin-left:;display:block;width:732px;margin-top:-51.912567%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">7.2、并行网关</span></h5> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>并（平）行网关：所有路径会被同时选择</p></li></ul> 
 <p style="text-align:null;">当出现这样的场景：请假申请开始，需要部门经理和总经理都审批，两者没有前后需要两个人全部审批才能进入下个节点人事审批。这个时候就需要并行网关</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:850px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.235294%;height:0;"> 
    <img src="https://images2.imgbox.com/43/b9/hAHqUXBW_o.png" style="margin-left:;display:block;width:850px;margin-top:-42.235294%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">与排他网关的主要区别是，并行网关不会解析条件。</span> <span class="kdocs-bold" style="font-weight:bold;">即使顺序流中定义了条件，也会被忽略。</span></p> 
 <h5 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">7.3、包含网关</span></h5> 
 <p style="text-align:null;">包容网关：可以同时执行多条线路，也可以在网关上设置条件，可以看做是排他网关和并行网关的结合体。 当出现这样的场景：请假申请大于等于2天需要由部门总经理审批，小于2天由部门经理审批，请假申请必须经过人事经理审批。这个时候就需要包含网关</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:746px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.42628%;height:0;"> 
    <img src="https://images2.imgbox.com/20/9e/HNyfzXTf_o.png" style="margin-left:;display:block;width:746px;margin-top:-67.42628%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96b5beb995e591b199c85abd60fbeea5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PADS VX2.7学习记录04-PADS Layout软件操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a5898cac1d818925b872390f3e78c458/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CVE-2019-0708</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>