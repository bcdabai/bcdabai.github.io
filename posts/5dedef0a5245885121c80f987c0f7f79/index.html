<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构_C语言_串_串的置换操作Replace (&amp;S, T, V)的算法、字符串反序的递推或递归算法，例如字符串为“abcsxw”，反序为“wxscba”、串的模式匹配算法及改进KMP算法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据结构_C语言_串_串的置换操作Replace (&amp;S, T, V)的算法、字符串反序的递推或递归算法，例如字符串为“abcsxw”，反序为“wxscba”、串的模式匹配算法及改进KMP算法" />
<meta property="og:description" content="前言 串的定义：串（字符串）是由零个或多个字符组成的有限序列。
对于串的基本操作集可以有不同的定义方式，对于串类型的最小操作子集有
串赋值串比较求串长串联接求子串 是最基本的操作子集，其他串操作都可以在这些操作上实现
串的表示和实现
串有3种机内表示方法
顺序存储结构
定长顺序存储表示（按照预定义的大小开辟一段连续的存储单元）堆分配存储表示（也是地址连续的一段存储空间，只不过是根据使用需求动态分配的） 链式存储结构
串的块链存储表示（多个字符共用一个节点，密度大） 目录 串的定长存储实现串的堆分配表示一些串操作的算法 串的置换串的递归反序串的模式匹配算法串的模式匹配算法改进版KMP 开始 一、串的定长存储实现 直接上代码，很容易理解
需要注意的地方：
SString是一种自定义的结构类型，其中能存放unsigned char 类型的元素规定一般字符数组的s[0] 存放字符串的长度lemgth至于为什么是255，因为无符号数的范围为 0 - 255，其实底层存储的还是ASCII码（一串01的代码），归根结底还是字节，万物皆字节 #include&lt;iostream&gt; #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; using namespace std; //串的定长顺序存储表示 //char 在c语言中站1个字节，2^8 - 1 = 255 #define MAXSTRLEN 255 //规定字符数组的s[0]存放子符串的长度，这其实也就是字符串底层实现的原理 //自定义数据类型 SString typedef unsigned char SString[MAXSTRLEN &#43; 1] ; int main(){ SString s = &#34;abcde&#34;; cout&lt;&lt;s&lt;&lt;endl; cout&lt;&lt;&#34;=================&#34; &lt;&lt;endl&lt;&lt;endl; SString s1; cout&lt;&lt;&#34;未赋初值的时候，存放的默认为：&#34;&lt;&lt;s1[0]&lt;&lt;endl&lt;&lt;endl; cout&lt;&lt;&#34;=================&#34; &lt;&lt;endl&lt;&lt;endl; //当然这里可以不进行长度的输入，直接s[0]就存放有效字符 cout&lt;&lt;&#34;请输入这个新的字符串(第一位为字符串的长度)：&#34;&lt;&lt;endl; cin&gt;&gt;s1; cout&lt;&lt;&#34;这个字符串为：&#34;; int i = 1; while(s1[i] !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5dedef0a5245885121c80f987c0f7f79/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-01T17:21:00+08:00" />
<meta property="article:modified_time" content="2020-11-01T17:21:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构_C语言_串_串的置换操作Replace (&amp;S, T, V)的算法、字符串反序的递推或递归算法，例如字符串为“abcsxw”，反序为“wxscba”、串的模式匹配算法及改进KMP算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>前言</h3> 
<hr> 
<p>串的定义：串（字符串）是由零个或多个字符组成的有限序列。</p> 
<p>对于串的基本操作集可以有不同的定义方式，对于串类型的最小操作子集有</p> 
<ul><li>串赋值</li><li>串比较</li><li>求串长</li><li>串联接</li><li>求子串</li></ul> 
<p>是最基本的操作子集，其他串操作都可以在这些操作上实现</p> 
<p>串的表示和实现</p> 
<p><strong>串有3种机内表示方法</strong></p> 
<ul><li> <p>顺序存储结构</p> 
  <ul><li>定长顺序存储表示（按照预定义的大小开辟一段连续的存储单元）</li><li>堆分配存储表示（也是地址连续的一段存储空间，只不过是根据使用需求动态分配的）</li></ul> </li><li> <p>链式存储结构</p> 
  <ul><li>串的块链存储表示（多个字符共用一个节点，密度大）</li></ul> </li></ul> 
<hr> 
<h3><a id="_34"></a>目录</h3> 
<ul><li>串的定长存储实现</li><li>串的堆分配表示</li><li>一些串操作的算法 
  <ul><li>串的置换</li><li>串的递归反序</li><li>串的模式匹配算法</li><li>串的模式匹配算法改进版KMP</li></ul> </li></ul> 
<hr> 
<h3><a id="_49"></a>开始</h3> 
<h4><a id="_51"></a>一、串的定长存储实现</h4> 
<p>直接上代码，很容易理解</p> 
<p>需要注意的地方：</p> 
<ul><li>SString是一种自定义的结构类型，其中能存放unsigned char 类型的元素</li><li>规定一般字符数组的s[0] 存放字符串的长度lemgth</li><li>至于为什么是255，因为无符号数的范围为 0 - 255，其实底层存储的还是ASCII码（一串01的代码），归根结底还是字节，万物皆字节</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>


<span class="token comment">//串的定长顺序存储表示</span>

<span class="token comment">//char 在c语言中站1个字节，2^8 - 1 = 255 </span>
<span class="token macro property">#<span class="token directive keyword">define</span> MAXSTRLEN 255</span>

<span class="token comment">//规定字符数组的s[0]存放子符串的长度，这其实也就是字符串底层实现的原理</span>
<span class="token comment">//自定义数据类型 SString </span>
<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> SString<span class="token punctuation">[</span>MAXSTRLEN <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>


 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	SString s <span class="token operator">=</span> <span class="token string">"abcde"</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span>s<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"================="</span> <span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
	 
	SString s1<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"未赋初值的时候，存放的默认为："</span><span class="token operator">&lt;&lt;</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"================="</span> <span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	

	 <span class="token comment">//当然这里可以不进行长度的输入，直接s[0]就存放有效字符</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入这个新的字符串(第一位为字符串的长度)："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s1<span class="token punctuation">;</span> 
	
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"这个字符串为："</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"s1[0]可以设置有效字符串的长度："</span> <span class="token operator">&lt;&lt;</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	
<span class="token punctuation">}</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/43/3e/xLfAigAW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_111"></a>二、串的堆分配表示</h4> 
<p>这种存储结构的串操作，仍是 基于 “字符序列的复制”进行的</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//串的堆分配表示</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>ch<span class="token punctuation">;</span><span class="token comment">//若是非空串，则按串长分配存储区，否则ch为NULL </span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token comment">//串长度 </span>
<span class="token punctuation">}</span>HString<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	HString s<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串的长度"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	s<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">.</span>ch<span class="token punctuation">;</span>
	
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"您输入的字符串为："</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>ch<span class="token operator">&lt;&lt;</span><span class="token string">"长度为："</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>length<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/ad/rDpM7fwY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_145"></a>三、一些串操作的算法</h4> 
<h5><a id="31_146"></a>3.1串的置换</h5> 
<h6><a id="311_147"></a>3.1.1涉及：</h6> 
<ul><li>串的堆分配表示</li><li>字符串模式匹配（这里使用最普通的算法，下面会使用KMP等改进后的算法）</li><li>字符串替换（也是普通的3个for来解决）</li></ul> 
<h6><a id="312_153"></a>3.1.2程序运行截图</h6> 
<p><img src="https://images2.imgbox.com/21/f0/GrE7oJlx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ca/b1/maJ9qMQQ_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="313_157"></a>3.1.3代码</h6> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//串的堆分配表示</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> <span class="token operator">*</span>ch<span class="token punctuation">;</span><span class="token comment">//若是非空串，则按串长分配存储区，否则ch为NULL </span>
	<span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token comment">//串长度 </span>
<span class="token punctuation">}</span>HString<span class="token punctuation">;</span>

<span class="token comment">//1. 实现串的初始化</span>
<span class="token keyword">void</span> <span class="token function">InitStr</span><span class="token punctuation">(</span>HString <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token comment">//2. 一般的串模式匹配 ，子串定位 </span>
<span class="token keyword">int</span> <span class="token function">Index</span><span class="token punctuation">(</span>HString s<span class="token punctuation">,</span>HString T<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3. 实现串的置换</span>
<span class="token keyword">void</span> <span class="token function">Replace</span><span class="token punctuation">(</span>HString <span class="token operator">&amp;</span>s<span class="token punctuation">,</span>HString <span class="token operator">&amp;</span>new_s<span class="token punctuation">,</span>HString T<span class="token punctuation">,</span> HString V<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	

	<span class="token comment">//创建第一个串 </span>
	HString s<span class="token punctuation">;</span>
	<span class="token function">InitStr</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建第二个串,作为匹配子串</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入需要进行匹配的的字符串s1"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	HString s1<span class="token punctuation">;</span>
	<span class="token function">InitStr</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//创建第三个串，如果匹配成功，作为替换串 </span>
	
	<span class="token comment">//模式匹配，如果s1为s的子串，就进行接下来的操作，否则就提示匹配失败</span>
	 
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入s1从什么位置开始匹配s：( 1 &lt;=N&lt;="</span><span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span>length<span class="token operator">&lt;&lt;</span><span class="token string">")"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">int</span> pos<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>pos<span class="token punctuation">;</span>
	<span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">Index</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span>s1<span class="token punctuation">,</span>pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//判断是否成功匹配 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"子串s1 在 s 的位置为 ："</span><span class="token operator">&lt;&lt;</span> index<span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入要替换的目标串s2"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		HString s2<span class="token punctuation">;</span>
		<span class="token function">InitStr</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		
		HString new_s<span class="token punctuation">;</span>
		
		
		
		<span class="token function">Replace</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span>new_s<span class="token punctuation">,</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>new_s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			cout<span class="token operator">&lt;&lt;</span>new_s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		 
		
		
	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"字符串 s1 不是 s 的字串！"</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span> 

<span class="token comment">//1. 实现串的初始化</span>
<span class="token keyword">void</span> <span class="token function">InitStr</span><span class="token punctuation">(</span>HString <span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
		
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串的长度"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		s<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">.</span>ch<span class="token punctuation">;</span>

		cout<span class="token operator">&lt;&lt;</span><span class="token string">"您输入的字符串为："</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>ch<span class="token operator">&lt;&lt;</span><span class="token string">"长度为："</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">.</span>length<span class="token operator">&lt;&lt;</span><span class="token string">"初始化完成！"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>		
		cout<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//2. 一般的串模式匹配 ,子串定位 </span>
<span class="token keyword">int</span> <span class="token function">Index</span><span class="token punctuation">(</span>HString s<span class="token punctuation">,</span>HString T<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token keyword">int</span> i <span class="token operator">=</span> pos<span class="token punctuation">;</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> j<span class="token operator">&lt;=</span>T<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> T<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>i<span class="token punctuation">;</span>
			<span class="token operator">++</span>j<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			i <span class="token operator">=</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
			j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">&gt;</span>T<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> i <span class="token operator">-</span> T<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// //3. 实现串的置换</span>
<span class="token keyword">void</span> <span class="token function">Replace</span><span class="token punctuation">(</span>HString <span class="token operator">&amp;</span>s<span class="token punctuation">,</span>HString <span class="token operator">&amp;</span>new_s<span class="token punctuation">,</span>HString T<span class="token punctuation">,</span> HString V<span class="token punctuation">,</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	new_s<span class="token punctuation">.</span>length <span class="token operator">=</span> s<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token punctuation">(</span>V<span class="token punctuation">.</span>length <span class="token operator">-</span> T<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
	new_s<span class="token punctuation">.</span>ch <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//字串之前的不动 </span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		new_s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//替换的目标串插入 </span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>V<span class="token punctuation">.</span>length <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		new_s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> V<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>j <span class="token operator">-</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//字串之后的不动 </span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> i <span class="token operator">+</span> V<span class="token punctuation">.</span>length <span class="token punctuation">;</span>k<span class="token operator">&lt;</span>new_s<span class="token punctuation">.</span>length<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		new_s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>k <span class="token operator">-</span> i <span class="token operator">+</span> V<span class="token punctuation">.</span>length <span class="token operator">-</span> T<span class="token punctuation">.</span>length <span class="token punctuation">]</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	 
	
	
	
<span class="token punctuation">}</span>

</code></pre> 
<h5><a id="32_291"></a>3.2串的递归反序</h5> 
<p>之前记录了一篇Java版的 <a href="https://blog.csdn.net/qq_24654501/article/details/109124965">连续逐个输入若干字符，以 #号结束，实现结束时 输出 输入字符的逆序</a></p> 
<p>就是递归实现，目前实现不太符合字符串整体性，后续有时间会优化</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>



<span class="token keyword">char</span> <span class="token function">DiGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串的每个字符:（一个字符一次回车，以#为结束的标志）"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>ch<span class="token punctuation">;</span>
	
	<span class="token keyword">if</span><span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">DiGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout<span class="token operator">&lt;&lt;</span>ch<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	
	
	
	<span class="token function">DiGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	
<span class="token punctuation">}</span> 



</code></pre> 
<p><img src="https://images2.imgbox.com/8f/fe/2kCpJFkm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="33_335"></a>3.3串的模式匹配算法</h5> 
<p>普通模式匹配算法 实现见上面的 3.1 已经基本实现</p> 
<p><strong>部分代码</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//2. 一般的串模式匹配 ,子串定位 </span>
<span class="token keyword">int</span> <span class="token function">Index</span><span class="token punctuation">(</span>HString s<span class="token punctuation">,</span>HString T<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token keyword">int</span> i <span class="token operator">=</span> pos<span class="token punctuation">;</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> j<span class="token operator">&lt;=</span>T<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> T<span class="token punctuation">.</span>ch<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token operator">++</span>i<span class="token punctuation">;</span>
			<span class="token operator">++</span>j<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			i <span class="token operator">=</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
			j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">&gt;</span>T<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">//正常找到结束，还有 ++j ，返回查找到的位置</span>
		<span class="token keyword">return</span> i <span class="token operator">-</span> T<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意这里我采用的是 堆顺序分配的存储结构 实现的串</p> 
<h5><a id="34KMP_371"></a>3.4串的模式匹配算法改进版KMP</h5> 
<p><img src="https://images2.imgbox.com/fc/98/pztw2Dqr_o.png" alt="在这里插入图片描述"></p> 
<p>普通查询算法和KMP查找算法 写在一个程序里面，可以查询两次</p> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">//串定长顺序存储表示</span>
<span class="token macro property">#<span class="token directive keyword">define</span> MAXSTRLEN 255</span>

<span class="token comment">//串可以存放不止字母，还可以特殊字符 </span>
<span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> SString<span class="token punctuation">[</span>MAXSTRLEN <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//1. 字符串初始化函数 </span>
<span class="token keyword">void</span> <span class="token function">InitString</span><span class="token punctuation">(</span>SString <span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//2. 普通模式匹配算法</span>
<span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>SString s1<span class="token punctuation">,</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3. KMP模式匹配</span>
<span class="token keyword">int</span> <span class="token function">indexKMP</span><span class="token punctuation">(</span>SString s1<span class="token punctuation">,</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">get_next</span><span class="token punctuation">(</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> next<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> next<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	SString s1<span class="token punctuation">;</span>
	<span class="token function">InitString</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	SString s2<span class="token punctuation">;</span>
	<span class="token function">InitString</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span><span class="token string">"=============="</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	
	<span class="token keyword">int</span> pos1<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你要开始查找的位置："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>pos1<span class="token punctuation">;</span>
	<span class="token keyword">int</span> findIndex <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>pos1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>findIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"s2是s1的子串！所在的位置为： "</span><span class="token operator">&lt;&lt;</span>findIndex<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"s2不是s1的子串 ！"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	
	<span class="token keyword">int</span> pos2<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入你要开始查找的位置："</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>pos2<span class="token punctuation">;</span>
	<span class="token keyword">int</span> findIndex2 <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>pos2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>findIndex2 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"s2是s1的子串！所在的位置为： "</span><span class="token operator">&lt;&lt;</span>findIndex2<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span><span class="token string">"s2不是s1的子串 ！"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
	
	<span class="token function">get_next</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">indexKMP</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>pos2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	 
	
	
	 
<span class="token punctuation">}</span>

<span class="token comment">//1. 字符串初始化函数 </span>
<span class="token keyword">void</span> <span class="token function">InitString</span><span class="token punctuation">(</span>SString <span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"请输入字符串 :(首位表示字符串的长度)"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"字符串初始化完成!"</span><span class="token punctuation">;</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token string">"字符串的长度为 ："</span><span class="token operator">&lt;&lt;</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">"字符串的内容为："</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		cout<span class="token operator">&lt;&lt;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>  
	
	cout<span class="token operator">&lt;&lt;</span>endl<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//2. 普通模式匹配算法</span>
<span class="token keyword">int</span> <span class="token function">index</span><span class="token punctuation">(</span>SString s1<span class="token punctuation">,</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> pos<span class="token punctuation">;</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	
	<span class="token comment">//这里需要进行ascii码的转换，s[0]存放的长度为字符 型的，需要转化为整形 </span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span> <span class="token keyword">int</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> j<span class="token operator">&lt;=</span> <span class="token keyword">int</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> s2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">//出现不相等的，就从s1的第 i - j + 2的位置开始重新比较 </span>
			<span class="token comment">//目标子串从j = 1的位置开始比较 </span>
			i <span class="token operator">=</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
			j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">//目标子串全部找到 </span>
	<span class="token comment">// 字符0的ascii码为48 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		
		<span class="token keyword">return</span> i <span class="token operator">-</span> <span class="token keyword">int</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">48</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
	<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">/*
		
		cout&lt;&lt;"debug"&lt;&lt;endl;
		cout&lt;&lt;i&lt;&lt;endl;
		cout&lt;&lt;int(s2[0])&lt;&lt;endl;
		*/</span>
		
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//3. KMP模式匹配</span>
<span class="token keyword">int</span> <span class="token function">indexKMP</span><span class="token punctuation">(</span>SString s1<span class="token punctuation">,</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token keyword">int</span> i <span class="token operator">=</span> pos<span class="token punctuation">;</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;=</span><span class="token keyword">int</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> j<span class="token operator">&lt;=</span><span class="token keyword">int</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> s2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">get_next</span><span class="token punctuation">(</span>SString s2<span class="token punctuation">,</span><span class="token keyword">int</span> next<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	next<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> s2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			j<span class="token operator">++</span><span class="token punctuation">;</span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
			next<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
			j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>





</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/741a1bc8b9f940d76c6d4217afe5b69a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在linux下调试oled12864显示屏</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6bf317f7b899066d2375f2497ca314fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">什么是跨域？如何解决？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>