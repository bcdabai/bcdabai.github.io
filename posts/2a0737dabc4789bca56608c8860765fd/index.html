<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>搜索引擎Solr - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="搜索引擎Solr" />
<meta property="og:description" content="1. solr简介 1.1 官网介绍 Solr是一个基于Lucene的Java搜索引擎服务器。Solr提供了层面搜索、命中醒目显示并且支持多种输出格式(包括XML/XSLT和 JSON格式)。 它易于安装和配置，而且附带了一个基于HTTP的管理界面。 Solr已经在众多大型的网站中使用，较为成熟和稳定。Solr包装并扩展了Lucene，所以Solr的基本上沿用了Lucene的相关术语。 更重要的是，Solr 创建的索引与Lucene搜索引擎库完全兼容。 通过对Solr进行适当的配置，某些情况下可能需要进行编码，Solr可以阅读和使用构建到其他 Lucene应用程序中的索引。 此外，很多Lucene工具（如Nutch、Luke)也可以使用 Solr创建的索引。 总结一下solr是一个java搜索引擎服务器(是一套war程序)，内部集成了Lucene(apache提供的一些对搜索引擎做支持的jar包).
1.2 什么是Solr Solr 是Apache下的一个顶级开源项目，采用Java开发，它是基于Lucene的全文搜索服务器。Solr提供了比Lucene更为丰富的查询语言，同时实现了可配置、可扩展，并对索引、搜索性能进行了优化。
Solr可以独立运行，运行在Jetty、Tomcat等这些Servlet容器中，Solr 索引的实现方法很简单，用 POST 方法向 Solr 服务器发送一个描述 Field 及其内容的 XML 文档，Solr根据xml文档添加、删除、更新索引 。Solr 搜索只需要发送 HTTP GET 请求，然后对 Solr 返回Xml、json等格式的查询结果进行解析，组织页面布局。Solr不提供构建UI的功能，Solr提供了一个管理界面，通过管理界面可以查询Solr的配置和运行情况。
1.3 solr功能 保存数据建立索引，维护索引数据检索（全文检索、高亮检索、精确搜索等） 1.4 solr 依赖环境 jdk 1.7&#43;tomcat7&#43;Solr4.10.3 1.5 下载 从Solr官方网站（http://lucene.apache.org/solr/ ）下载Solr4.10.3，根据Solr的运行环境，Linux下需要下载lucene-4.10.3.tgz，windows下需要下载lucene-4.10.3.zip。
Solr使用指南可参考：https://wiki.apache.org/solr/FrontPage。
下载lucene-4.10.3.zip并解压：目录介绍如下：
bin：solr的运行脚本contrib：solr的一些贡献软件/插件，用于增强solr的功能。dist：该目录包含build过程中产生的war和jar文件，以及相关的依赖文件。docs：solr的API文档example：solr工程的例子目录：example/solr：
该目录是一个包含了默认配置信息的Solr的Core目录。example/multicore：
该目录包含了在Solr的multicore中设置的多个Core目录。example/webapps：
该目录中包括一个solr.war，该war可作为solr的运行实例工程。
licenses：solr相关的一些许可信息 2. Solr的安装及配置 2.1 3.2.Solr整合tomcat #1.说明：我的所有软件都是安装在/usr/local/install目录中 mkdir -p /usr/local/install #2.将solr-4.10.3.tgz.tgz包使用工具上传至Linux的/usr/local/install目录中 #3.进入/usr/local/install目录中 [root@localhost ~] cd /usr/local/install/ #4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2a0737dabc4789bca56608c8860765fd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-15T23:18:17+08:00" />
<meta property="article:modified_time" content="2021-08-15T23:18:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">搜索引擎Solr</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_solr_0"></a>1. solr简介</h3> 
<h4><a id="11__1"></a>1.1 官网介绍</h4> 
<pre><code class="prism language-text">Solr是一个基于Lucene的Java搜索引擎服务器。Solr提供了层面搜索、命中醒目显示并且支持多种输出格式(包括XML/XSLT和 JSON格式)。
它易于安装和配置，而且附带了一个基于HTTP的管理界面。
Solr已经在众多大型的网站中使用，较为成熟和稳定。Solr包装并扩展了Lucene，所以Solr的基本上沿用了Lucene的相关术语。
更重要的是，Solr 创建的索引与Lucene搜索引擎库完全兼容。
通过对Solr进行适当的配置，某些情况下可能需要进行编码，Solr可以阅读和使用构建到其他 Lucene应用程序中的索引。
此外，很多Lucene工具（如Nutch、Luke)也可以使用 Solr创建的索引。
</code></pre> 
<p>总结一下solr是一个java搜索引擎服务器(是一套war程序)，内部集成了Lucene(apache提供的一些对搜索引擎做支持的jar包).</p> 
<h4><a id="12_Solr_11"></a>1.2 什么是Solr</h4> 
<p>Solr 是Apache下的一个顶级开源项目，采用Java开发，它是基于Lucene的全文搜索服务器。Solr提供了比Lucene更为丰富的查询语言，同时实现了可配置、可扩展，并对索引、搜索性能进行了优化。<br> Solr可以独立运行，运行在Jetty、Tomcat等这些Servlet容器中，Solr 索引的实现方法很简单，用 POST 方法向 Solr 服务器发送一个描述 Field 及其内容的 XML 文档，Solr根据xml文档添加、删除、更新索引 。Solr 搜索只需要发送 HTTP GET 请求，然后对 Solr 返回Xml、json等格式的查询结果进行解析，组织页面布局。Solr不提供构建UI的功能，Solr提供了一个管理界面，通过管理界面可以查询Solr的配置和运行情况。</p> 
<h4><a id="13_solr_14"></a>1.3 solr功能</h4> 
<ul><li>保存数据</li><li>建立索引，维护索引</li><li>数据检索（全文检索、高亮检索、精确搜索等）</li></ul> 
<h4><a id="14_solr__18"></a>1.4 solr 依赖环境</h4> 
<ul><li>jdk 1.7+</li><li>tomcat7+</li><li>Solr4.10.3</li></ul> 
<h4><a id="15__22"></a>1.5 下载</h4> 
<p>从Solr官方网站（<a href="http://lucene.apache.org/solr/" rel="nofollow">http://lucene.apache.org/solr/</a> ）下载Solr4.10.3，根据Solr的运行环境，Linux下需要下载lucene-4.10.3.tgz，windows下需要下载lucene-4.10.3.zip。<br> Solr使用指南可参考：<a href="https://wiki.apache.org/solr/FrontPage" rel="nofollow">https://wiki.apache.org/solr/FrontPage</a>。<br> 下载lucene-4.10.3.zip并解压：目录介绍如下：</p> 
<ul><li>bin：solr的运行脚本</li><li>contrib：solr的一些贡献软件/插件，用于增强solr的功能。</li><li>dist：该目录包含build过程中产生的war和jar文件，以及相关的依赖文件。</li><li>docs：solr的API文档</li><li>example：solr工程的例子目录：</li><li>example/solr：<br> 该目录是一个包含了默认配置信息的Solr的Core目录。</li><li>example/multicore：<br> 该目录包含了在Solr的multicore中设置的多个Core目录。</li><li>example/webapps：<br> 该目录中包括一个solr.war，该war可作为solr的运行实例工程。<br> licenses：solr相关的一些许可信息</li></ul> 
<h3><a id="2_Solr_39"></a>2. Solr的安装及配置</h3> 
<h4><a id="21_32Solrtomcat_40"></a>2.1 3.2.Solr整合tomcat</h4> 
<pre><code class="prism language-bash"><span class="token comment">#1.说明：我的所有软件都是安装在/usr/local/install目录中</span>
<span class="token function">mkdir</span> -p /usr/local/install
<span class="token comment">#2.将solr-4.10.3.tgz.tgz包使用工具上传至Linux的/usr/local/install目录中</span>
<span class="token comment">#3.进入/usr/local/install目录中</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  <span class="token builtin class-name">cd</span> /usr/local/install/
<span class="token comment">#4.解压solr-4.10.3.tgz.tgz</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  <span class="token function">tar</span> –zxf solr-4.10.3.tgz.tgz
<span class="token comment">#5.将dist\solr-4.10.3.war拷贝到Tomcat的webapp目录下改名为solr.war</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  solr-4.10.3/dist/solr-4.10.3.war tomcat-<span class="token comment">#8.5/webapps/solr.war</span>
<span class="token comment">#6.启动tomcat后，solr.war自动解压，将原来的solr.war删除。</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  ./tomcat-8.5/bin/startup.sh
<span class="token comment">#7.拷贝example\lib\ext 目录下所有jar包到Tomcat的webapp\solr\WEB-INF\lib目录下</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span> <span class="token function">cp</span> solr-4.10.3/example/lib/ext/*.jar tomcat-8.5/webapps/solr/WEB-INF/lib/

<span class="token comment">#8.拷贝log4j.properties文件</span>
	<span class="token comment">#在Tomcat下webapps\solr\WEB-INF目录中创建文件 classes文件夹，</span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  <span class="token function">mkdir</span> tomcat-8.5/webapps/solr/WEB-INF/classes
	<span class="token comment">#复制Solr目录下example\resources\log4j.properties至Tomcat下webapps\solr\WEB-INF\classes目录 </span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  <span class="token function">cp</span> solr-4.10.3/example/resources/log4j.properties tomcat-8.5/webapps/solr/WEB-INF/classes/

<span class="token comment">#9.创建solr_home及配置solrcore的solrconfig.xml文件</span>
	<span class="token comment">#创建solr_home</span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  <span class="token function">mkdir</span> solr_home
	<span class="token comment">#example\solr文件夹下的内容复制到solr_home文件夹下</span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span> <span class="token function">cp</span> -rf solr-4.10.3/example/solr/* solr_home/
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--10.修改Tomcat目录 下webapp\solr\WEB-INF\web.xml文件，如下所示：
设置Solr home--&gt;</span>
<span class="token comment">&lt;!--配置jndi告诉solr工程我们的solrhome的位置--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>env-entry</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>env-entry-name</span><span class="token punctuation">&gt;</span></span>solr/home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>env-entry-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>env-entry-value</span><span class="token punctuation">&gt;</span></span>/usr/local/install/solr_home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>env-entry-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>env-entry-type</span><span class="token punctuation">&gt;</span></span>java.lang.String<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>env-entry-type</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>env-entry</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token comment">#11.停止Tomcat，之后重启</span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  ./tomcat-8.5/bin/shutdown.sh
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span>  ./tomcat-8.5/bin/startup.sh
<span class="token comment">#12.开发Tomcat端口</span>
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span> firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">8080</span>/tcp --permanent
	<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span> systemctl restart firewalld.service
<span class="token comment">#13.访问solr</span>
	http://192.168.0.201:8080/solr
</code></pre> 
<h3><a id="3Solr_90"></a>3.Solr界面功能</h3> 
<p><img src="https://images2.imgbox.com/34/e3/NNq8tD71_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/29/e9/NmmO5nEO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6d/33/k5BQ2v6l_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3a/ed/4CbI20e0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/61/13/taTergDa_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_core_96"></a>4. 新建数据配置core</h3> 
<h4><a id="41corecolrcoresolr_homecollection1hotelhotelcorepropertiesnamehotel_97"></a>4.1.新建core(colr把配置的每一个模块都叫core),在solr_home目录下，拷贝collection1文件夹，并改名为hotel。打开hotel文件夹，修改core.properties文件将name修改为hotel</h4> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">cp</span> -rf solr_home/collection1  solr_home/hotel
<span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">vim</span> solr_home/hotel/core.properties
</code></pre> 
<p><img src="https://images2.imgbox.com/27/03/MXxXr8mv_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="42Tomcatsolrhotel_core_103"></a>4.2.重新启动Tomcat，并访问solr，入出现如下界面，则表示新建成功hotel core成功</h4> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span>  ./tomcat-8.5/bin/shutdown.sh
<span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span>  ./tomcat-8.5/bin/startup.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/fc/3d/1NjzCu40_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__110"></a>5. 新增数据库配置</h3> 
<p>到目前为止，我们已经完成了solr的基础配置，并且创建了hotel core，接下来我们需要把数据库的数据和搜索引擎连接起来，让搜索引擎可以读取数据库的数据</p> 
<ol><li>拷贝数据库连接jar(mysql-connector-java-5.1.18.jar)到Tomcat的lib目录下</li><li>打开hotel的conf文件夹中的solrconfig.xml文件，在requestHandler name=”/select” class=”solr.SearchHandler”&gt;前面加上一个dataimport的处理器</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">vim</span> solr_home/hotel/conf/solrconfig.xml
</code></pre> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>requestHandler</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/dataimport<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.apache.solr.handler.dataimport.DataImportHandler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lst</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>defaults<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>str</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>config<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>data-config.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>str</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lst</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>requestHandler</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="3"><li>禁用搜索排行：修改solr_home/hotel/conf/solrconfig.xml的配置</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span>  <span class="token function">vim</span> solr_home/hotel/conf/solrconfig.xml
</code></pre> 
<p>将以下内容注释掉</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>searchComponent</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>elevator<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>solr.QueryElevationComponent<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- pick a fieldType to analyze queries --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>str</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryFieldType<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>string<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>str</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>str</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>config-file<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>elevate.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>str</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>searchComponent</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="4"><li>在hotel的conf文件加下新建data-config.xml文件，配置如下</li></ol> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataConfig</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JdbcDataSource<span class="token punctuation">"</span></span> 
              <span class="token attr-name">driver</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span>
              <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://192.168.1.106:3306/itrip_db<span class="token punctuation">"</span></span>
              <span class="token attr-name">user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span>
              <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>document</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotel_doc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotel<span class="token punctuation">"</span></span> <span class="token attr-name">pk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">query</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select id,hotelName,address from itrip_hotel<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entity</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>document</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataConfig</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li>dataSource是数据库数据源</li><li>Entity就是一张表对应的实体，pk是主键，query是查询语句</li><li>Field对应一个字段，column是数据库的column名，后面的name属性对应着Solr的Field的名字。</li></ul> 
<ol start="5"><li>打开hotel的conf目录下的schema.xml文件<br> 1)保留_version_这个field<br> 2)添加索引字段：这里每个field的name要和data-config.xml里的entity的field的name一样，一一对应<br> 3)删除多余的field，保留_version_和text这两个field(注意不要删除fieldType)<br> 4)添加索引字段：这里每个field的name要和data-config.xml里的entity的field的name一样，红色部分为新增内容</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">vim</span> solr_home/hotel/conf/schema.xml
</code></pre> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_version_<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>long<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>long<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text_general<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">multiValued</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uniqueKey</span><span class="token punctuation">&gt;</span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uniqueKey</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code> 5)将改文件中所有的&lt;copyFiled&gt;标签删除
</code></pre> 
<ol start="6"><li>将solr-4.10.3/dist/导入数据的jar包拷贝到webapps/solr的lib目录下<br> <img src="https://images2.imgbox.com/f2/06/nCFIKpYT_o.png" alt="在这里插入图片描述"></li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">cp</span> solr-4.10.3/dist/solr-dataimporthandler-4.10.3.jar tomcat-8.5/webapps/solr/WEB-INF/lib/
<span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">cp</span> solr-4.10.3/dist/solr-dataimporthandler-extras-4.10.3.jar tomcat-8.5/webapps/solr/WEB-INF/lib/
</code></pre> 
<ol start="7"><li>启动Tomcat,执行数据导入<br> <img src="https://images2.imgbox.com/12/78/VQp21UZy_o.png" alt="在这里插入图片描述"></li><li>查询数据<br> <img src="https://images2.imgbox.com/3b/5b/kWXdd4ZR_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="6__189"></a>6. 增量更新</h3> 
<p>以上的步骤我们实现了如何将数据库的数据导入到solr中，接下来需要配置solr的增量更新，即定时将数据库的数据导入到solr中。</p> 
<ol><li>将资料中提供的 apache-solr-dataimports-cheduler jar包添加至solr的目录下</li><li>将资料中提供的 apache-solr-dataimports-cheduler jar包添加至solr的lib目录下。</li><li>增加增量更新配置文件,在 solr_home文件夹下新建conf文件夹,并新建名为<br> dataimport.properties的配置文件,配置如下标红的地方为需要修改的地方</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">mkdir</span> solr_home/conf
<span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">vim</span> solr_home/conf/dataimpirt.properties
</code></pre> 
<p>文件内容如下：</p> 
<pre><code class="prism language-bash"><span class="token comment">#################################################</span>
<span class="token comment">#                                               #</span>
<span class="token comment"># dataimport scheduler properties               #</span>
<span class="token comment">#                                               #</span>
<span class="token comment">#################################################</span>
<span class="token comment"># to sync or not to sync</span>
<span class="token comment"># 1-active;anything else-inactive</span>
<span class="token assign-left variable">syncEnabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># which scores to schedule</span>
<span class="token comment"># in a multi-core environment you can decide which cores you want syncronized</span>
<span class="token comment"># leave empty or comment it out if using single-core deployment</span>
<span class="token assign-left variable">syncCores</span><span class="token operator">=</span>hotel,ticket
<span class="token comment"># solr server name or IP address</span>
<span class="token comment"># [defaults to localhost if empty]</span>
<span class="token assign-left variable">server</span><span class="token operator">=</span>localhost
<span class="token comment"># solr server port</span>
<span class="token comment"># [defaults to 80 if empty]</span>
<span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">8080</span>
<span class="token comment"># application name/context</span>
<span class="token comment"># [defaults to current ServletContextListener's context(app) name]</span>
<span class="token assign-left variable">webapp</span><span class="token operator">=</span>solr
<span class="token comment"># 增量索引的参数</span>
<span class="token comment"># URL params[mandatory]</span>
<span class="token comment"># remainder of URL</span>
<span class="token assign-left variable">params</span><span class="token operator">=</span>/dataimport?command<span class="token operator">=</span>delta-import<span class="token operator">&amp;</span><span class="token assign-left variable">clean</span><span class="token operator">=</span>false<span class="token operator">&amp;</span><span class="token assign-left variable">commit</span><span class="token operator">=</span>true
<span class="token comment"># 重做增量索引的时间间隔,单位：分钟</span>
<span class="token comment"># schedule interval</span>
<span class="token comment"># [defaults to 30 if empty]</span>
<span class="token assign-left variable">interval</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 重做全量索引的时间间隔，单位分钟，默认7200，即5天;</span>
<span class="token comment"># 为空、为0、或者注释掉:表示永不重做索引</span>
<span class="token comment">#reBuildIndexInterval=7200</span>
<span class="token comment"># 重做索引的参数</span>
<span class="token assign-left variable">reBuildIndexParams</span><span class="token operator">=</span>/dataimport?command<span class="token operator">=</span>full-import<span class="token operator">&amp;</span><span class="token assign-left variable">clean</span><span class="token operator">=</span>true<span class="token operator">&amp;</span><span class="token assign-left variable">commit</span><span class="token operator">=</span>true
<span class="token comment"># 重做索引时间间隔计时开始时间，第一次真正执行的时间=reBuildIndexBeginTime+reBuildIndexInterval*60*1000</span>
<span class="token comment"># 两种格式:2012-04-11 03:10:00 或者 03:10:00 后一种会自动补全日期部分为服务启动时的日期</span>
<span class="token assign-left variable">reBuildIndexBeginTime</span><span class="token operator">=</span>03:10:00
</code></pre> 
<ol start="4"><li>新增增量更新数据的监听器，在solr的web.xml中加入以下监听器</li></ol> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">vim</span> tomcat-8.5/webapps/solr/WEB-INF/web.xml
</code></pre> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
   	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>
   	  org.apache.solr.handler.dataimport.scheduler.ApplicationListener
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="5"><li>修改导入数据的查询语句SQL</li></ol> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataConfig</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JdbcDataSource<span class="token punctuation">"</span></span> 
              <span class="token attr-name">driver</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span>
	      <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://192.168.1.106:3306/itrip_db<span class="token punctuation">"</span></span>
              <span class="token attr-name">user</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span>
              <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>document</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotel_doc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotel<span class="token punctuation">"</span></span> <span class="token attr-name">pk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> 
	        <span class="token attr-name">query</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select id,hotelName,address from itrip_hotel<span class="token punctuation">"</span></span> 
	        <span class="token attr-name">deltaImportQuery</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select id,hotelName,address from itrip_hotel where id=<span class="token punctuation">'</span>${dih.delta.id}<span class="token punctuation">'</span><span class="token punctuation">"</span></span> 
			<span class="token attr-name">deltaQuery</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select id as id from itrip_hotel where modifyDate&gt;<span class="token punctuation">'</span>${dih.last_index_time}<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entity</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>document</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataConfig</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>说明：deltaQuery是根据dataimport.properties配置文件中的更新时间，从数据库中查询数据，修改日期在最后一次更新日期之后的酒店数据，并记录其id,而deltaImportQuery的目的是将deltaQuery查询出的数据导入到solr中。</p> 
<ol start="6"><li>启动Tomcat进行测试<br> a)启动Tomcat，访问hotel模块<br> b)修改数据库中的酒店数据并同时修改数据的modifyDate时间<br> c)1分钟后查询酒店数据，确定数据是否更新</li></ol> 
<h3><a id="7_283"></a>7.安装中文分词器</h3> 
<ul><li>分词器：是从用户输入的一段文本中提取关键词，用于其他业务操作。</li><li>常见的java分词器：word分词器、Ansj分词器、Stanford分词器、IK Analyzer分词器</li><li>分词器：IK Analyzer分词器</li><li>Solr如果是3.x版本的用IK Analyzer2012_u6.zip 如果是4.x版本的用IK Analyzer2012FF_hf.zip,一定要对应上，要不然会配置失败。</li><li>K分词器下载地址：<br> <a href="https://search.gitee.com/?skin=rec&amp;type=repository&amp;q=IK%20Analyzer&amp;repo=&amp;reponame=&amp;pageno=1" rel="nofollow">https://search.gitee.com/?skin=rec&amp;type=repository&amp;q=IK%20Analyzer&amp;repo=&amp;reponame=&amp;pageno=1</a></li></ul> 
<h4><a id="71_291"></a>7.1安装步骤</h4> 
<h5><a id="711IKAnalyzerjar_292"></a>7.1.1.第一步：配置IKAnalyzer的jar包</h5> 
<p>将IKAnalyzer2012FF_u1.jar拷贝到 Tomcat的webapps/solr/WEB-INF/lib 下。</p> 
<h5><a id="712IKAnalyzer_294"></a>7.1.2.第二步：IKAnalyzer的配置文件</h5> 
<p>在Tomcat的webapps/solr/WEB-INF/下创建classes目录</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span> <span class="token function">mkdir</span> tomcat-8.5/webapps/solr/WEB-INF/classes
</code></pre> 
<p>将IKAnalyzer.cfg.xml、ext_stopword.dic mydict.dic copy到 Tomcat的<br> webapps/solr/WEB-INF/classes<br> 注意：ext_stopword.dic 和mydict.dic必须保存成无BOM的utf-8类型</p> 
<h5><a id="713schemaxml_302"></a>7.1.3.第三步：修改schema.xml文件</h5> 
<p>修改schema.xml文件<br> 修改solr_home\hotel\conf\schema.xml的schema.xml文件，添加FieldType：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span><span class="token comment"># vim solr_home/hotel/conf/schema.xml</span>
</code></pre> 
<p>添加的内容如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldType</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text_ik<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>solr.TextField<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>analyzer</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">isMaxWordLength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.wltea.analyzer.lucene.IKAnalyzer<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>analyzer</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>query<span class="token punctuation">"</span></span> <span class="token attr-name">isMaxWordLength</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.wltea.analyzer.lucene.IKAnalyzer<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldType</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="714Field_316"></a>7.1.4.第四步：设置业务系统Field</h5> 
<p>设置业务系统Field</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost install<span class="token punctuation">]</span><span class="token comment"># vim solr_home/hotel/conf/schema.xml</span>
</code></pre> 
<p>修改的内容如下：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotelName<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text_ik<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text_ik<span class="token punctuation">"</span></span> <span class="token attr-name">indexed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">stored</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> 
<pre><code class="prism language-text">如有侵权，请联系我，谢谢！
版权所有：北大青鸟 刘仁贵
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4270df1bcfcd275d2b0c35b6b4816634/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDea更改主题和部分修改主题方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93db48bfea05fd8c825d0c30ca54a6b4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在主窗口中调用子窗口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>