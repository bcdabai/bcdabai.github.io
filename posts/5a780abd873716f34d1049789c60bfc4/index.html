<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis（一）常见命令使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis（一）常见命令使用" />
<meta property="og:description" content="常见文件名Redis-cli使用命令1、启动Redis2、连接Redis3、停止Redis4、发送命令1、redis-cli带参数运行，如：2、redis-cli不带参数运行，如： 5、测试连通性 key操作命令获取所有键查询键是否存在删除键查询键类型移动键查询key的生命周期（秒）设置过期时间设置永不过期更改键名称 字符串操作命令存放键值获取键值值递增/递减批量存放键值获取获取键值获取值长度追加内容获取部分字符 集合操作命令存储值获取元素判断集合是否存在元素获取集合元素个数删除集合元素弹出元素有序集合和列表的区别：存储值获取元素分数获取排名范围排名语法：zrange key start stop [WITHSCORES]获取指定分数范围排名语法：zrangebyscore key min max [WITHSCORES] [LIMIT offset count]增加指定元素分数获取集合元素个数获取指定范围分数个数删除指定元素获取元素排名 列表操作命令存储值左端存值语法：lpush key value [value ...]右端存值语法：rpush key value [value ...]索引存值语法：lset key index value 弹出元素左端弹出语法：lpop key右端弹出语法：rpop key获取元素个数获取列表元素 散列操作命令存放键值获取字段值获取所有键与值语法：hgetall key获取所有字段语法：hkeys key获取所有值语法：hvals key判断字段是否存在获取字段数量递增/减删除字段 常见文件名 Redis-cli使用命令 1、启动Redis &gt; redis-server [--port 6379] 如果命令参数过多，建议通过配置文件来启动Redis。
&gt; redis-server [xx/xx/redis.conf] 6379是Redis默认端口号。 2、连接Redis &gt; ./redis-cli [-h 127.0.0.1 -p 6379] 3、停止Redis &gt; redis-cli shutdown &gt; kill redis-pid 以上两条停止Redis命令效果一样。
4、发送命令 给Redis发送命令有两种方式：
1、redis-cli带参数运行，如： &gt; redis-cli shutdown not connected&gt; 这样默认是发送到本地的6379端口。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5a780abd873716f34d1049789c60bfc4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-13T15:00:30+08:00" />
<meta property="article:modified_time" content="2023-06-13T15:00:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis（一）常见命令使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4> </h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">常见文件名</a></li><li><a href="#Rediscli_3" rel="nofollow">Redis-cli使用命令</a></li><li><ul><li><a href="#1Redis_4" rel="nofollow">1、启动Redis</a></li><li><a href="#2Redis_16" rel="nofollow">2、连接Redis</a></li><li><a href="#3Redis_21" rel="nofollow">3、停止Redis</a></li><li><a href="#4_31" rel="nofollow">4、发送命令</a></li><li><ul><li><a href="#1rediscli_34" rel="nofollow">1、redis-cli带参数运行，如：</a></li><li><a href="#2rediscli_43" rel="nofollow">2、redis-cli不带参数运行，如：</a></li></ul> 
    </li><li><a href="#5_52" rel="nofollow">5、测试连通性</a></li></ul> 
   </li><li><a href="#key_59" rel="nofollow">key操作命令</a></li><li><ul><li><a href="#_60" rel="nofollow">获取所有键</a></li><li><a href="#_78" rel="nofollow">查询键是否存在</a></li><li><a href="#_86" rel="nofollow">删除键</a></li><li><a href="#_96" rel="nofollow">查询键类型</a></li><li><a href="#_104" rel="nofollow">移动键</a></li><li><a href="#key_116" rel="nofollow">查询key的生命周期（秒）</a></li><li><a href="#_126" rel="nofollow">设置过期时间</a></li><li><a href="#_137" rel="nofollow">设置永不过期</a></li><li><a href="#_145" rel="nofollow">更改键名称</a></li></ul> 
   </li><li><a href="#_153" rel="nofollow">字符串操作命令</a></li><li><ul><li><a href="#_156" rel="nofollow">存放键值</a></li><li><a href="#_165" rel="nofollow">获取键值</a></li><li><a href="#_173" rel="nofollow">值递增/递减</a></li><li><a href="#_187" rel="nofollow">批量存放键值</a></li><li><a href="#_194" rel="nofollow">获取获取键值</a></li><li><a href="#_205" rel="nofollow">获取值长度</a></li><li><a href="#_212" rel="nofollow">追加内容</a></li><li><a href="#_220" rel="nofollow">获取部分字符</a></li></ul> 
   </li><li><a href="#_228" rel="nofollow">集合操作命令</a></li><li><ul><li><a href="#_232" rel="nofollow">存储值</a></li><li><a href="#_240" rel="nofollow">获取元素</a></li><li><a href="#_263" rel="nofollow">判断集合是否存在元素</a></li><li><a href="#_271" rel="nofollow">获取集合元素个数</a></li><li><a href="#_279" rel="nofollow">删除集合元素</a></li><li><a href="#_287" rel="nofollow">弹出元素</a></li><li><a href="#_296" rel="nofollow">有序集合和列表的区别：</a></li><li><a href="#_304" rel="nofollow">存储值</a></li><li><a href="#_312" rel="nofollow">获取元素分数</a></li><li><a href="#zrange_key_start_stop_WITHSCORES_320" rel="nofollow">获取排名范围排名语法：zrange key start stop [WITHSCORES]</a></li><li><a href="#zrangebyscore_key_min_max_WITHSCORES_LIMIT_offset_count_342" rel="nofollow">获取指定分数范围排名语法：zrangebyscore key min max [WITHSCORES] [LIMIT offset count]</a></li><li><a href="#_350" rel="nofollow">增加指定元素分数</a></li><li><a href="#_358" rel="nofollow">获取集合元素个数</a></li><li><a href="#_366" rel="nofollow">获取指定范围分数个数</a></li><li><a href="#_374" rel="nofollow">删除指定元素</a></li><li><a href="#_382" rel="nofollow">获取元素排名</a></li></ul> 
   </li><li><a href="#_390" rel="nofollow">列表操作命令</a></li><li><ul><li><a href="#_395" rel="nofollow">存储值</a></li><li><ul><li><a href="#lpush_key_value_value__396" rel="nofollow">左端存值语法：lpush key value [value ...]</a></li><li><a href="#rpush_key_value_value__403" rel="nofollow">右端存值语法：rpush key value [value ...]</a></li><li><a href="#lset_key_index_value_409" rel="nofollow">索引存值语法：lset key index value</a></li></ul> 
    </li><li><a href="#_414" rel="nofollow">弹出元素</a></li><li><ul><li><a href="#lpop_key_415" rel="nofollow">左端弹出语法：lpop key</a></li><li><a href="#rpop_key_422" rel="nofollow">右端弹出语法：rpop key</a></li><li><a href="#_428" rel="nofollow">获取元素个数</a></li><li><a href="#_435" rel="nofollow">获取列表元素</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_488" rel="nofollow">散列操作命令</a></li><li><ul><li><a href="#_491" rel="nofollow">存放键值</a></li><li><a href="#_513" rel="nofollow">获取字段值</a></li><li><a href="#hgetall_key_530" rel="nofollow">获取所有键与值语法：hgetall key</a></li><li><a href="#hkeys_key_542" rel="nofollow">获取所有字段语法：hkeys key</a></li><li><a href="#hvals_key_552" rel="nofollow">获取所有值语法：hvals key</a></li><li><a href="#_562" rel="nofollow">判断字段是否存在</a></li><li><a href="#_570" rel="nofollow">获取字段数量</a></li><li><a href="#_578" rel="nofollow">递增/减</a></li><li><a href="#_584" rel="nofollow">删除字段</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>常见文件名</h3> 
<p><img src="https://images2.imgbox.com/61/57/nmzywISM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Rediscli_3"></a>Redis-cli使用命令</h3> 
<h4><a id="1Redis_4"></a>1、启动Redis</h4> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> redis-server <span class="token punctuation">[</span>--port <span class="token number">6379</span><span class="token punctuation">]</span>
</code></pre> 
<p>如果命令参数过多，建议通过配置文件来启动Redis。</p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> redis-server <span class="token punctuation">[</span>xx/xx/redis.conf<span class="token punctuation">]</span>
<span class="token number">6379</span>是Redis默认端口号。
</code></pre> 
<h4><a id="2Redis_16"></a>2、连接Redis</h4> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> ./redis-cli <span class="token punctuation">[</span>-h <span class="token number">127.0</span>.0.1 -p <span class="token number">6379</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="3Redis_21"></a>3、停止Redis</h4> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> redis-cli <span class="token function">shutdown</span>

<span class="token operator">&gt;</span> <span class="token function">kill</span> redis-pid
</code></pre> 
<p>以上两条停止Redis命令效果一样。</p> 
<h4><a id="4_31"></a>4、发送命令</h4> 
<p>给Redis发送命令有两种方式：</p> 
<h5><a id="1rediscli_34"></a>1、redis-cli带参数运行，如：</h5> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> redis-cli <span class="token function">shutdown</span>
not connected<span class="token operator">&gt;</span>
</code></pre> 
<p>这样默认是发送到本地的6379端口。</p> 
<h5><a id="2rediscli_43"></a>2、redis-cli不带参数运行，如：</h5> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> ./redis-cli

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">shutdown</span>
not connected<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="5_52"></a>5、测试连通性</h4> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">ping</span>
PONG
</code></pre> 
<h3><a id="key_59"></a>key操作命令</h3> 
<h4><a id="_60"></a>获取所有键</h4> 
<p>语法：keys pattern</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"javastack"</span>
</code></pre> 
<p>*表示通配符，表示任意字符，会遍历所有键显示所有的键列表，时间复杂度O(n)，在生产环境不建议使用。<br> 获取键总数<br> 语法：dbsize</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> dbsize

<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
</code></pre> 
<p>获取键总数时不会遍历所有的键，直接获取内部变量，时间复杂度O(1)。</p> 
<h4><a id="_78"></a>查询键是否存在</h4> 
<p>语法：exists key [key …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> exists javastack java
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<p>查询查询多个，返回存在的个数。</p> 
<h4><a id="_86"></a>删除键</h4> 
<p>语法：del key [key …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> del java javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<p>可以删除多个，返回删除成功的个数。</p> 
<h4><a id="_96"></a>查询键类型</h4> 
<p>语法： type key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> javastack
string
</code></pre> 
<h4><a id="_104"></a>移动键</h4> 
<p>语法：move key db<br> 如把javastack移到2号数据库。</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> move javastack <span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token keyword">select</span> <span class="token number">2</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"javastack"</span>
</code></pre> 
<h4><a id="key_116"></a>查询key的生命周期（秒）</h4> 
<p>秒语法：ttl key<br> 毫秒语法：pttl key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> ttl javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -1
</code></pre> 
<p>-1：永远不过期。</p> 
<h4><a id="_126"></a>设置过期时间</h4> 
<p>秒语法：expire key seconds<br> 毫秒语法：pexpire key milliseconds</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> expire javastack <span class="token number">60</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> ttl javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">55</span>
</code></pre> 
<h4><a id="_137"></a>设置永不过期</h4> 
<p>语法：persist key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> persist javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h4><a id="_145"></a>更改键名称</h4> 
<p>语法：rename key newkey</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token function">rename</span> javastack javastack123
OK
</code></pre> 
<h3><a id="_153"></a>字符串操作命令</h3> 
<p>字符串是Redis中最基本的数据类型，单个数据能存储的最大空间是512M。</p> 
<h4><a id="_156"></a>存放键值</h4> 
<p>语法：set key value [EX seconds] [PX milliseconds] [NX|XX]<br> nx：如果key不存在则建立，xx：如果key存在则修改其值，也可以直接使用setnx/setex命令。</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> javastack <span class="token number">666</span>
OK
</code></pre> 
<h4><a id="_165"></a>获取键值</h4> 
<p>语法：get key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> get javastack
<span class="token string">"666"</span>
</code></pre> 
<h4><a id="_173"></a>值递增/递减</h4> 
<p>如果字符串中的值是数字类型的，可以使用incr命令每次递增，不是数字类型则报错。</p> 
<p>语法：incr key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> incr javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">667</span>
</code></pre> 
<p>一次想递增N用incrby命令，如果是浮点型数据可以用incrbyfloat命令递增。</p> 
<p>同样，递减使用decr、decrby命令。</p> 
<h4><a id="_187"></a>批量存放键值</h4> 
<p>语法：mset key value [key value …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> mset java1 <span class="token number">1</span> java2 <span class="token number">2</span> java3 <span class="token number">3</span>
OK
</code></pre> 
<h4><a id="_194"></a>获取获取键值</h4> 
<p>语法：mget key [key …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> mget java1 java2
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"1"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2"</span>
</code></pre> 
<p>Redis接收的是UTF-8的编码，如果是中文一个汉字将占3位返回。</p> 
<h4><a id="_205"></a>获取值长度</h4> 
<p>语法：strlen key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> strlen javastack <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
</code></pre> 
<h4><a id="_212"></a>追加内容</h4> 
<p>语法：append key value</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> append javastack hi
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
</code></pre> 
<p>向键值尾部添加，如上命令执行后由666变成666hi</p> 
<h4><a id="_220"></a>获取部分字符</h4> 
<p>语法：getrange key start end</p> 
<pre><code class="prism language-bash"><span class="token operator">&gt;</span> <span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> getrange javastack <span class="token number">0</span> <span class="token number">4</span>
<span class="token string">"javas"</span>
</code></pre> 
<h3><a id="_228"></a>集合操作命令</h3> 
<p>集合类型和列表类型相似，只不过是集合是无序且不可重复的。</p> 
<p>集合</p> 
<h4><a id="_232"></a>存储值</h4> 
<p>语法：sadd key member [member …]<br> // 这里有8个值（2个java），只存了7个</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sadd langs java php c++ go ruby python kotlin java
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
</code></pre> 
<h4><a id="_240"></a>获取元素</h4> 
<p>获取所有元素语法：smembers key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers langs
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"php"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"kotlin"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"c++"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"go"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"ruby"</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"python"</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"java"</span>
</code></pre> 
<p>随机获取语法：srandmember langs count</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srandmember langs <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c++"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"java"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"php"</span>
</code></pre> 
<h4><a id="_263"></a>判断集合是否存在元素</h4> 
<p>语法：sismember key member</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> sismember langs go
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h4><a id="_271"></a>获取集合元素个数</h4> 
<p>语法：scard key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> scard langs
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
</code></pre> 
<h4><a id="_279"></a>删除集合元素</h4> 
<p>语法：srem key member [member …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> srem langs ruby kotlin
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<h4><a id="_287"></a>弹出元素</h4> 
<p>语法：spop key [count]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> spop langs <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"go"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"java"</span>
</code></pre> 
<h4><a id="_296"></a>有序集合和列表的区别：</h4> 
<p>1、列表使用链表实现，两头快，中间慢。有序集合是散列表和跳跃表实现的，即使读取中间的元素也比较快。</p> 
<p>2、列表不能调整元素位置，有序集合能。</p> 
<p>3、有序集合比列表更占内存。</p> 
<h4><a id="_304"></a>存储值</h4> 
<p>语法：zadd key [NX|XX] [CH] [INCR] score member [score member …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zadd footCounts <span class="token number">16011</span> tid <span class="token number">20082</span> huny <span class="token number">2893</span> nosy
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
</code></pre> 
<h4><a id="_312"></a>获取元素分数</h4> 
<p>语法：zscore key member</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zscore footCounts tid
<span class="token string">"16011"</span>
</code></pre> 
<h4><a id="zrange_key_start_stop_WITHSCORES_320"></a>获取排名范围排名语法：zrange key start stop [WITHSCORES]</h4> 
<p>// 获取所有，没有分数</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange footCounts <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"nosy"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"tid"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"huny"</span>
</code></pre> 
<p>// 获取所有及分数</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrange footCounts <span class="token number">0</span> -1 Withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"nosy"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2893"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"tid"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"16011"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"huny"</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"20082"</span>
</code></pre> 
<h4><a id="zrangebyscore_key_min_max_WITHSCORES_LIMIT_offset_count_342"></a>获取指定分数范围排名语法：zrangebyscore key min max [WITHSCORES] [LIMIT offset count]</h4> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrangebyscore footCounts <span class="token number">3000</span> <span class="token number">30000</span> withscores limit <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"tid"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"16011"</span>
</code></pre> 
<h4><a id="_350"></a>增加指定元素分数</h4> 
<p>语法：zincrby key increment member</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zincrby footCounts <span class="token number">2000</span> tid
<span class="token string">"18011"</span>
</code></pre> 
<h4><a id="_358"></a>获取集合元素个数</h4> 
<p>语法：zcard key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcard footCounts
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
</code></pre> 
<h4><a id="_366"></a>获取指定范围分数个数</h4> 
<p>语法：zcount key min max</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zcount footCounts <span class="token number">2000</span> <span class="token number">20000</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<h4><a id="_374"></a>删除指定元素</h4> 
<p>语法：zrem key member [member …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrem footCounts huny
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h4><a id="_382"></a>获取元素排名</h4> 
<p>语法：zrank key member</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> zrank footCounts tid
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h3><a id="_390"></a>列表操作命令</h3> 
<p>列表类型是一个有序的字段串列表，内部是使用双向链表实现，所有可以向两端操作元素，获取两端的数据速度快，通过索引到具体的行数比较慢。</p> 
<p>列表类型的元素是有序且可以重复的。</p> 
<h4><a id="_395"></a>存储值</h4> 
<h5><a id="lpush_key_value_value__396"></a>左端存值语法：lpush key value [value …]</h5> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush list lily sandy
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<h5><a id="rpush_key_value_value__403"></a>右端存值语法：rpush key value [value …]</h5> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpush list tom kitty
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
</code></pre> 
<h5><a id="lset_key_index_value_409"></a>索引存值语法：lset key index value</h5> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lset list <span class="token number">3</span> uto
OK
</code></pre> 
<h4><a id="_414"></a>弹出元素</h4> 
<h5><a id="lpop_key_415"></a>左端弹出语法：lpop key</h5> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpop list
<span class="token string">"sandy"</span>
</code></pre> 
<h5><a id="rpop_key_422"></a>右端弹出语法：rpop key</h5> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> rpop list
<span class="token string">"kitty"</span>
</code></pre> 
<h5><a id="_428"></a>获取元素个数</h5> 
<p>语法：llen key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> llen list
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
</code></pre> 
<h5><a id="_435"></a>获取列表元素</h5> 
<p>两边获取语法：lrange key start stop</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush <span class="token function">users</span> tom kitty land pony jack maddy
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange <span class="token function">users</span> <span class="token number">0</span> <span class="token number">3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"maddy"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"jack"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"pony"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"land"</span>

// 获取所有
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange <span class="token function">users</span> <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"maddy"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"jack"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"pony"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"land"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"kitty"</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"tom"</span>

// 从右端索引
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrange <span class="token function">users</span> -3 -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"land"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"kitty"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"tom"</span>
索引获取语法：lindex key index
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list <span class="token number">2</span>
<span class="token string">"ketty"</span>

// 从右端获取
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lindex list -5
<span class="token string">"sady"</span>
删除元素
根据值删除语法：lrem key count value
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lpush userids <span class="token number">111</span> <span class="token number">222</span> <span class="token number">111</span> <span class="token number">222</span> <span class="token number">222</span> <span class="token number">333</span> <span class="token number">222</span> <span class="token number">222</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">8</span>

// <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span> 删除所有
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem userids <span class="token number">0</span> <span class="token number">111</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>

// count <span class="token operator">&gt;</span> <span class="token number">0</span> 从左端删除前count个
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem userids <span class="token number">3</span> <span class="token number">222</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>

// count <span class="token operator">&lt;</span> <span class="token number">0</span> 从右端删除前count个
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> lrem userids -3 <span class="token number">222</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
范围删除语法：ltrim key start stop
// 只保留2-4之间的元素
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ltrim list <span class="token number">2</span> <span class="token number">4</span>
OK
</code></pre> 
<h3><a id="_488"></a>散列操作命令</h3> 
<p>redis字符串类型键和值是字典结构形式，这里的散列类型其值也可以是字典结构。</p> 
<h4><a id="_491"></a>存放键值</h4> 
<p>单个语法：hset key field value</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hset user name javastack
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<p>多个语法：hmset key field value [field value …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmset user name javastack age <span class="token number">20</span> address china
OK
</code></pre> 
<p>不存在时语法：hsetnx key field value</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hsetnx user tall <span class="token number">180</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
</code></pre> 
<h4><a id="_513"></a>获取字段值</h4> 
<p>单个语法：hget key field</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hget user age
<span class="token string">"20"</span>
</code></pre> 
<p>多个语法：hmget key field [field …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hmget user name age address
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"javastack"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"20"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"china"</span>
</code></pre> 
<h4><a id="hgetall_key_530"></a>获取所有键与值语法：hgetall key</h4> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hgetall user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"javastack"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"age"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"20"</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"address"</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"china"</span>
</code></pre> 
<h4><a id="hkeys_key_542"></a>获取所有字段语法：hkeys key</h4> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hkeys user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"address"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"tall"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"age"</span>
</code></pre> 
<h4><a id="hvals_key_552"></a>获取所有值语法：hvals key</h4> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hvals user
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"javastack"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"china"</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"170"</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"20"</span>
</code></pre> 
<h4><a id="_562"></a>判断字段是否存在</h4> 
<p>语法：hexists key field</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hexists user address
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre> 
<h4><a id="_570"></a>获取字段数量</h4> 
<p>语法：hlen key</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hlen user
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
</code></pre> 
<h4><a id="_578"></a>递增/减</h4> 
<p>语法：hincrby key field increment</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hincrby user tall -10
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">170</span>
</code></pre> 
<h4><a id="_584"></a>删除字段</h4> 
<p>语法：hdel key field [field …]</p> 
<pre><code class="prism language-bash"><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> hdel user age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a5909c58ff1a1558739eaa4d37db8d7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何用easyExcel的实现导出以及实现多线程分页数据导出</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a412239e0faacf6b9ddfa6038faf66cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">count(1)、count(*)、count(id)、count(name)区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>