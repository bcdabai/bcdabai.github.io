<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>算法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="算法" />
<meta property="og:description" content="算法 提示：这里可以添加本文要记录的大概内容：
例如：随着人工智能的不断发展，机器学习这门技术也越来越重要，很多人都开启了学习机器学习，本文就介绍了机器学习的基础内容。
提示：以下是本篇文章正文内容，下面案例可供参考
一、knn 代码如下（示例）：
# KNN近邻分类 # 随机抽取1/2的样本作为训练集，另外一半的样本作为测试集来验证模型的效果 iris1&lt;-iris set.seed(1234) # 利用caret包的createDataPartition函数按不同类别等比例抽取50% library(caret) ind &lt;- createDataPartition(iris1$Species,times=1,p=0.5,list=F) traindata &lt;-iris1[ind,] #构建训练集 testdata &lt;- iris1[-ind,] #构建测试集 # 利用class包中的knn函数对测试集的分类进行预测。 library(class) a=knn(traindata[,1:4],testdata[,1:4],traindata[,5],k=3) #指定k值为3 a[1];a[75] # 查看第一条和最后一条测试数据的预测结果 # KNN算法流程验证： ceshi &lt;- function(n=1,k=3){ # 计算第n个测试集样本与训练集样本的距离 x &lt;- (traindata[,1:4]-testdata[rep(n,75),1:4])^2 traindata$dist1 &lt;- apply(x,1,function(x) sqrt(sum(x))) # 对距离进行升序排序，选择最近的K个邻居 mydata &lt;- traindata[order(traindata$dist1)[1:k],5:6] # 统计不同类别的频数 result &lt;- data.frame(sort(table(mydata$Species),decreasing = T)) # 给出最后的预测结果 return(result[1,1]) } ceshi() # 第一个样本的预测结果 ceshi(n=75) # 最后一个样本的预测结果 二、朴素贝叶斯 代码如下（示例）：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/046a899ee7a6ec88d370211a518c9e80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-31T17:30:30+08:00" />
<meta property="article:modified_time" content="2020-10-31T17:30:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr color="#000000" size='1"'> 
<h2><a id="_4"></a>算法</h2> 
<p><font color="#999AAA">提示：这里可以添加本文要记录的大概内容：<br> 例如：随着人工智能的不断发展，机器学习这门技术也越来越重要，很多人都开启了学习机器学习，本文就介绍了机器学习的基础内容。</font></p> 
<hr color="#000000" size='1"'> 
<p><font color="#999AAA">提示：以下是本篇文章正文内容，下面案例可供参考</font></p> 
<h2><a id="knn_13"></a>一、knn</h2> 
<p><font color="#999AAA">代码如下（示例）：</font></p> 
<pre><code class="prism language-c"><span class="token macro property"># KNN近邻分类</span>
# 随机抽取<span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span>的样本作为训练集，另外一半的样本作为测试集来验证模型的效果
iris1<span class="token operator">&lt;</span><span class="token operator">-</span>iris
set<span class="token punctuation">.</span><span class="token function">seed</span><span class="token punctuation">(</span><span class="token number">1234</span><span class="token punctuation">)</span>
# 利用caret包的createDataPartition函数按不同类别等比例抽取<span class="token number">50</span><span class="token operator">%</span>
<span class="token function">library</span><span class="token punctuation">(</span>caret<span class="token punctuation">)</span>
ind <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">createDataPartition</span><span class="token punctuation">(</span>iris1$Species<span class="token punctuation">,</span>times<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>p<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>list<span class="token operator">=</span>F<span class="token punctuation">)</span>
traindata <span class="token operator">&lt;</span><span class="token operator">-</span>iris1<span class="token punctuation">[</span>ind<span class="token punctuation">,</span><span class="token punctuation">]</span>  #构建训练集
testdata <span class="token operator">&lt;</span><span class="token operator">-</span> iris1<span class="token punctuation">[</span><span class="token operator">-</span>ind<span class="token punctuation">,</span><span class="token punctuation">]</span> #构建测试集
# 利用class包中的knn函数对测试集的分类进行预测。
<span class="token function">library</span><span class="token punctuation">(</span>class<span class="token punctuation">)</span>
a<span class="token operator">=</span><span class="token function">knn</span><span class="token punctuation">(</span>traindata<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>testdata<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>traindata<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>k<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span> #指定k值为<span class="token number">3</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">75</span><span class="token punctuation">]</span> # 查看第一条和最后一条测试数据的预测结果
<span class="token macro property"># KNN算法流程验证：</span>
ceshi <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">function</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>k<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  # 计算第n个测试集样本与训练集样本的距离
  x <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token punctuation">(</span>traindata<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">-</span>testdata<span class="token punctuation">[</span><span class="token function">rep</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span>
  traindata$dist1 <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">apply</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  # 对距离进行升序排序，选择最近的K个邻居
  mydata <span class="token operator">&lt;</span><span class="token operator">-</span> traindata<span class="token punctuation">[</span><span class="token function">order</span><span class="token punctuation">(</span>traindata$dist1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>
  # 统计不同类别的频数
  result <span class="token operator">&lt;</span><span class="token operator">-</span> data<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">table</span><span class="token punctuation">(</span>mydata$Species<span class="token punctuation">)</span><span class="token punctuation">,</span>decreasing <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token punctuation">)</span>
  # 给出最后的预测结果
  <span class="token keyword">return</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">ceshi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> # 第一个样本的预测结果
<span class="token function">ceshi</span><span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">)</span> # 最后一个样本的预测结果
</code></pre> 
<h2><a id="_51"></a>二、朴素贝叶斯</h2> 
<p><font color="#999AAA">代码如下（示例）：</font></p> 
<pre><code class="prism language-c"># 朴素贝叶斯分类
# 导入car数据集
car <span class="token operator">&lt;</span><span class="token operator">-</span> read<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">"car.data"</span><span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">","</span><span class="token punctuation">)</span>
# 对变量重命名
<span class="token function">colnames</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span> <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token string">"buy"</span><span class="token punctuation">,</span><span class="token string">"main"</span><span class="token punctuation">,</span><span class="token string">"doors"</span><span class="token punctuation">,</span><span class="token string">"capacity"</span><span class="token punctuation">,</span>
                   <span class="token string">"lug_boot"</span><span class="token punctuation">,</span><span class="token string">"safety"</span><span class="token punctuation">,</span><span class="token string">"accept"</span><span class="token punctuation">)</span>
<span class="token function">str</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span>
# 随机选取<span class="token number">75</span><span class="token operator">%</span>的数据作为训练集建立模型，<span class="token number">25</span><span class="token operator">%</span>的数据作为测试集用来验证模型
<span class="token function">library</span><span class="token punctuation">(</span>caret<span class="token punctuation">)</span>
# 构建训练集的下标集
ind <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">createDataPartition</span><span class="token punctuation">(</span>car$accept<span class="token punctuation">,</span>times<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>p<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span>list<span class="token operator">=</span>FALSE<span class="token punctuation">)</span> 
# 构建测试集数据好训练集数据
carTR <span class="token operator">&lt;</span><span class="token operator">-</span> car<span class="token punctuation">[</span>ind<span class="token punctuation">,</span><span class="token punctuation">]</span>
carTE <span class="token operator">&lt;</span><span class="token operator">-</span> car<span class="token punctuation">[</span><span class="token operator">-</span>ind<span class="token punctuation">,</span><span class="token punctuation">]</span>

# 使用naiveBayes函数建立朴素贝叶斯分类器
install<span class="token punctuation">.</span><span class="token function">packages</span><span class="token punctuation">(</span><span class="token string">"e1071"</span><span class="token punctuation">)</span>
<span class="token function">library</span><span class="token punctuation">(</span>e1071<span class="token punctuation">)</span>

naiveBayes<span class="token punctuation">.</span>model <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">naiveBayes</span><span class="token punctuation">(</span>accept<span class="token operator">~</span><span class="token punctuation">.</span><span class="token punctuation">,</span>data<span class="token operator">=</span>carTR<span class="token punctuation">)</span>
# 预测结果
carTR_predict <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">predict</span><span class="token punctuation">(</span>naiveBayes<span class="token punctuation">.</span>model<span class="token punctuation">,</span>newdata<span class="token operator">=</span>carTR<span class="token punctuation">)</span> # 训练集数据
carTE_predict <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">predict</span><span class="token punctuation">(</span>naiveBayes<span class="token punctuation">.</span>model<span class="token punctuation">,</span>newdata<span class="token operator">=</span>carTE<span class="token punctuation">)</span> # 测试集数据
# 构建混淆矩阵
tableTR <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">table</span><span class="token punctuation">(</span>actual<span class="token operator">=</span>carTR$accept<span class="token punctuation">,</span>predict<span class="token operator">=</span>carTR_predict<span class="token punctuation">)</span>
tableTE <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">table</span><span class="token punctuation">(</span>actual<span class="token operator">=</span>carTE$accept<span class="token punctuation">,</span>predict<span class="token operator">=</span>carTE_predict<span class="token punctuation">)</span>
# 计算误差率
errTR <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">paste0</span><span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>tableTR<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token function">diag</span><span class="token punctuation">(</span>tableTR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">/</span><span class="token function">sum</span><span class="token punctuation">(</span>tableTR<span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"%"</span><span class="token punctuation">)</span>
errTE <span class="token operator">&lt;</span><span class="token operator">-</span> <span class="token function">paste0</span><span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span>tableTE<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token function">diag</span><span class="token punctuation">(</span>tableTE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">/</span><span class="token function">sum</span><span class="token punctuation">(</span>tableTE<span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"%"</span><span class="token punctuation">)</span>
errTR<span class="token punctuation">;</span>errTE
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/65/EqnWFkxP_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_93"></a>二、图</h2> 
<p><font color="#999AAA">代码如下（示例）：</font></p> 
<pre><code class="prism language-c">install<span class="token punctuation">.</span><span class="token function">packages</span><span class="token punctuation">(</span><span class="token string">"rpart"</span><span class="token punctuation">)</span>
<span class="token function">library</span><span class="token punctuation">(</span>rpart<span class="token punctuation">)</span>
install<span class="token punctuation">.</span><span class="token function">packages</span><span class="token punctuation">(</span><span class="token string">"rpart.plot"</span><span class="token punctuation">)</span>
<span class="token function">library</span><span class="token punctuation">(</span>rpart<span class="token punctuation">.</span>plot<span class="token punctuation">)</span>
fit<span class="token operator">&lt;</span><span class="token operator">-</span><span class="token function">rpart</span><span class="token punctuation">(</span>Species<span class="token operator">~</span><span class="token punctuation">.</span><span class="token punctuation">,</span>method<span class="token operator">=</span><span class="token string">"class"</span><span class="token punctuation">,</span>iris<span class="token punctuation">)</span>
rpart<span class="token punctuation">.</span><span class="token function">plot</span><span class="token punctuation">(</span>fit<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c7/0c/ciuvWe09_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb5d135d86917e26006940c559986cab/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c lib rdkafka接口说明</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f109c0e62eb3b30bf741c788f7b698cd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring Boot缓存注解介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>