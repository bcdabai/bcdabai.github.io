<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>电源软启动的实用设计技巧 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="电源软启动的实用设计技巧" />
<meta property="og:description" content="软启动电路的作用就是用于电源启动时，减小浪涌电流，使输出电压缓慢上升，减小对输入电源的影响。请看软启动是如何帮助烧录器，提高烧录的稳定性和可靠性的。
软启动，相信硬件工程师都不会对这个名词感到陌生。随意打开一篇开关电源芯片的datasheet，都能看到对soft-start（软启动）的描述。随着芯片集成度的提高，软启动电路也集成到了电源芯片内部，这样在减轻工程师工作的同时，也导致部分工程师对软启动了解不够、重视不足。那么软启动电路有什么作用呢？
电源电路中通常会存在大容量电容，给电容加上电压瞬间需要很大的浪涌电流，很可能造成输入电源的降低。软启动电路就是用于电源启动时，减小浪涌电流，使输出电压缓慢上升，减小对输入电源的影响。让我们一起来看看，在电源设计里面，加入了软启动的电路，是如何保障烧录器稳定烧录的。
P800是周立功致远电子推出的4通道、多功能的在线编程器。每通道都可以输出相互独立、在1.25V~7V范围内可调的电源。在烧录器内部，每通道的电源都采用同一路电源VDD，并通过下图所示的开关电路，使各通道电源相互独立。
对上图电路简单分析：当控制信号EN_VDDx为高电平时，Q2饱和导通，Q1栅极拉低，Q1迅速导通，电源VDD输出到相应通道的VDD_OUT并供给待烧录目标板。这个看似简单的电路，却在进行多通道异步在线烧录测试时出了非常不稳定的现象，到底是怎么回事呢？
我们用P800对4个ARM核心板进行异步烧录测试过程中，发现当其中一个通道插入并上电初始化时，其他通道会出现烧录失败的现象。由于4个通道的信号线相互独立，只有电源VDD是共用的，因此我们猜测可能是ARM板上电初始化对VDD产生了干扰并影响到了其他通道。
为了验证这一猜想，我们用示波器ZDS2022来观察在VDD_OUTx上电过程中VDD的变化，并捕获到了下面的波形图。
从波形图可以看到，在VDD_OUTx上升过程中，VDD从3.12V瞬间跌落至2.14V，再缓慢回升至3.12V，最大跌落幅度达980mV.由于另外3个通道的电源也由VDD提供，因此这3个通道在线烧写失败也就在所难免。
VDD_OUTx的上电为什么会造成VDD跌落呢？观察波形图我们还可以发现，VDD_OUTx从0V上升到2V只用了3μs，根据电容充电公式：I=C×dU / dt，VDD_OUTx的去耦电容4.7μF，据此估算出浪涌电流达3A！正如前面所述，过大的浪涌电流最终造成了输入电源的降低。
为了限制浪涌电流，可以将软启动引入开关电路中，利用Q1的导通阻抗RDS（on）随VGS变化的特性，通过延缓Q1导通的速度，使VDD_OUTx缓慢上升到VDD.引入的软启动电路如下图的C1、R4所示。
当Q2集电极变低时，C1通过R4放电，Q1栅极电压随之缓慢下降，从而控制Q1缓慢导通，使VDD_OUTx不会发生突变。用示波器ZDS2022观察VDD_OUTx上电过程中VDD的变化，得到如下波形。
和加入软启动之前的波形图对比可以看到，VDD_OUTx的上升时间延长到了400μs，VDD的跌落问题也得到明显改善。经过长时间反复测试，都没有再出现烧录失败现象。
就是这样一个不起眼的软启动电路，却大大提升了编程器烧录的稳定性。生活中的一些小细节总能给人带来意想不到的惊喜，工作也是如此。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/91d66c6a756d09d80906129ee97b27c6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-10-15T12:37:38+08:00" />
<meta property="article:modified_time" content="2015-10-15T12:37:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">电源软启动的实用设计技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">软启动电路的作用就是用于电源启动时，减小浪涌电流，使输出电压缓慢上升，减小对输入电源的影响。请看软启动是如何帮助烧录器，提高烧录的稳定性和可靠性的。</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">软启动，相信硬件工程师都不会对这个名词感到陌生。随意打开一篇开关电源芯片的datasheet，都能看到对soft-start（软启动）的描述。随着芯片集成度的提高，软启动电路也集成到了电源芯片内部，这样在减轻工程师工作的同时，也导致部分工程师对软启动了解不够、重视不足。那么软启动电路有什么作用呢？</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">电源电路中通常会存在大容量电容，给电容加上电压瞬间需要很大的浪涌电流，很可能造成输入电源的降低。软启动电路就是用于电源启动时，减小浪涌电流，使输出电压缓慢上升，减小对输入电源的影响。让我们一起来看看，在电源设计里面，加入了软启动的电路，是如何保障烧录器稳定烧录的。</span></p> 
<p align="center" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <a target="_blank" href="http://upload.semidata.info/new.eefocus.com/article/image/2015/08/12/55cada6c29363.jpg" rel="nofollow noopener noreferrer" style="word-wrap:break-word; color:rgb(51,51,51); text-decoration:none"><span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"><img src="https://images2.imgbox.com/0c/46/7zxvOozJ_o.jpg" alt="" style="word-wrap:break-word; border:none; max-width:620px"></span></a></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">P800是周立功致远电子推出的4通道、多功能的在线编程器。每通道都可以输出相互独立、在1.25V~7V范围内可调的电源。在烧录器内部，每通道的电源都采用同一路电源VDD，并通过下图所示的开关电路，使各通道电源相互独立。</span></p> 
<p align="center" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <a target="_blank" href="http://upload.semidata.info/new.eefocus.com/article/image/2015/08/12/55cada6c02f77.jpg" rel="nofollow noopener noreferrer" style="word-wrap:break-word; color:rgb(51,51,51); text-decoration:none"><span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"><img src="https://images2.imgbox.com/d3/89/F2nXz0Mv_o.jpg" alt="" style="word-wrap:break-word; border:none; max-width:620px"></span></a></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">对上图电路简单分析：当控制信号EN_VDDx为高电平时，Q2饱和导通，Q1栅极拉低，Q1迅速导通，电源VDD输出到相应通道的VDD_OUT并供给待烧录目标板。这个看似简单的电路，却在进行多通道异步在线烧录测试时出了非常不稳定的现象，到底是怎么回事呢？</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">我们用P800对4个ARM核心板进行异步烧录测试过程中，发现当其中一个通道插入并上电初始化时，其他通道会出现烧录失败的现象。由于4个通道的信号线相互独立，只有电源VDD是共用的，因此我们猜测可能是ARM板上电初始化对VDD产生了干扰并影响到了其他通道。</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">为了验证这一猜想，我们用示波器ZDS2022来观察在VDD_OUTx上电过程中VDD的变化，并捕获到了下面的波形图。</span></p> 
<p align="center" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <a target="_blank" href="http://upload.semidata.info/new.eefocus.com/article/image/2015/08/12/55cada6b86006.jpg" rel="nofollow noopener noreferrer" style="word-wrap:break-word; color:rgb(51,51,51); text-decoration:none"><span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"><img src="https://images2.imgbox.com/1b/bb/1Sz3F5QL_o.jpg" alt="" style="word-wrap:break-word; border:none; max-width:620px"></span></a></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">从波形图可以看到，在VDD_OUTx上升过程中，VDD从3.12V瞬间跌落至2.14V，再缓慢回升至3.12V，最大跌落幅度达980mV.由于另外3个通道的电源也由VDD提供，因此这3个通道在线烧写失败也就在所难免。</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">VDD_OUTx的上电为什么会造成VDD跌落呢？观察波形图我们还可以发现，VDD_OUTx从0V上升到2V只用了3μs，根据电容充电公式：I=C×dU / dt，VDD_OUTx的去耦电容4.7μF，据此估算出浪涌电流达3A！正如前面所述，过大的浪涌电流最终造成了输入电源的降低。</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span> </p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">为了限制浪涌电流，可以将软启动引入开关电路中，利用Q1的导通阻抗RDS（on）随VGS变化的特性，通过延缓Q1导通的速度，使VDD_OUTx缓慢上升到VDD.引入的软启动电路如下图的C1、R4所示。</span></p> 
<p align="center" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <a target="_blank" href="http://upload.semidata.info/new.eefocus.com/article/image/2015/08/12/55cada6b854e1.jpg" rel="nofollow noopener noreferrer" style="word-wrap:break-word; color:rgb(51,51,51); text-decoration:none"><span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"><img src="https://images2.imgbox.com/39/dc/apz40AiK_o.jpg" alt="" style="word-wrap:break-word; border:none; max-width:620px"></span></a></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">当Q2集电极变低时，C1通过R4放电，Q1栅极电压随之缓慢下降，从而控制Q1缓慢导通，使VDD_OUTx不会发生突变。用示波器ZDS2022观察VDD_OUTx上电过程中VDD的变化，得到如下波形。</span></p> 
<p align="center" style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <a target="_blank" href="http://upload.semidata.info/new.eefocus.com/article/image/2015/08/12/55cada6b805f9.jpg" rel="nofollow noopener noreferrer" style="word-wrap:break-word; color:rgb(51,51,51); text-decoration:none"><span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"><img src="https://images2.imgbox.com/bb/a8/Rvco50Ww_o.jpg" alt="" style="word-wrap:break-word; border:none; max-width:620px"></span></a></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word"></span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">和加入软启动之前的波形图对比可以看到，VDD_OUTx的上升时间延长到了400μs，VDD的跌落问题也得到明显改善。经过长时间反复测试，都没有再出现烧录失败现象。</span></p> 
<p style="word-wrap:break-word; margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Tahoma,Helvetica,SimSun,sans-serif; font-size:14px; line-height:30px; text-indent:2em"> <span style="font-family:微软雅黑; font-size:14px; word-wrap:break-word">就是这样一个不起眼的软启动电路，却大大提升了编程器烧录的稳定性。生活中的一些小细节总能给人带来意想不到的惊喜，工作也是如此。</span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0aa38b513641ad167cd63050ea3cc4a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【iOS】AVFoundation架构下的原生二维码和条形码扫描</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/95d57b08f49f7d87d1160087e35ee0d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HDU4624Endless Spin(clj计数ppt）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>