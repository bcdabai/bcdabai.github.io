<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Arcgis pro 字段计算器 python3常用方法二 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Arcgis pro 字段计算器 python3常用方法二" />
<meta property="og:description" content="一、使用代码块简介
举例见下图
上例：将多边形几何面积取一位小数写入【TBYBH】字段
二、常用功能块
1、按地类名称字段值，对地类代码字段赋值，代码块名称为：DLZH
调用表达式：DLZH(!DLMC!)
块代码：
def DLZH(x): if x==u&#34;水田&#34;: return &#34;0101&#34; elif x==u&#34;水浇地&#34;: return &#34;0102&#34; elif x==u&#34;旱地&#34;: return &#34;0103&#34; else: return &#34;非耕地&#34; 2、按地类代码进行土地三大类分类，代码块名称为：DL3DL
DL3DL(!DLBM!)
def DL3DL(DLFL): if (DLFL ==&#34;0101&#34; or DLFL ==&#34;0102&#34; or DLFL ==&#34;0103&#34; ): return &#34;耕地&#34; elif (DLFL == &#34;0201&#34; or DLFL ==&#34;0202&#34; or DLFL ==&#34;0203&#34; or DLFL ==&#34;0204&#34; or DLFL ==&#34;0301&#34; or DLFL ==&#34;0301&#34; or DLFL ==&#34;0302&#34; or DLFL ==&#34;0303&#34; or DLFL ==&#34;0304&#34; or DLFL ==&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/db5709753da16ad6177beccddcb12295/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T22:34:38+08:00" />
<meta property="article:modified_time" content="2023-12-22T22:34:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Arcgis pro 字段计算器 python3常用方法二</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、使用代码块简介</p> 
<p>        举例见下图</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b4/ff/g7eacQu5_o.png"></p> 
<p> 上例：将多边形几何面积取一位小数写入【TBYBH】字段</p> 
<p>二、常用功能块</p> 
<p>1、按地类名称字段值，对地类代码字段赋值，代码块名称为：DLZH<br>       调用表达式：DLZH(!DLMC!)<br>       块代码：</p> 
<pre><code class="hljs">def DLZH(x):
    if x==u"水田":
        return "0101"
    elif x==u"水浇地":
        return "0102"
    elif x==u"旱地":
        return "0103"
    else:
        return "非耕地"</code></pre> 
<p>2、按地类代码进行土地三大类分类，代码块名称为：DL3DL<br>       DL3DL(!DLBM!)</p> 
<pre><code class="hljs">def DL3DL(DLFL):
    if (DLFL =="0101" or DLFL =="0102" or DLFL =="0103" ):
        return "耕地"
    elif (DLFL == "0201" or DLFL =="0202" or DLFL =="0203" or DLFL =="0204" or DLFL =="0301" or DLFL =="0301" or DLFL =="0302" or DLFL =="0303" or DLFL =="0304" or DLFL =="0305" or DLFL =="0306" or DLFL =="0307" or DLFL =="0401" or DLFL =="0402" or DLFL =="0403" or DLFL =="1006" or DLFL =="1103" or DLFL =="1104"  or DLFL =="1107" or DLFL =="1202" or DLFL =="1203"):
        return "其他农用地"
    elif (DLFL == "05H1" or DLFL == "0508" or DLFL == "0601" or DLFL == "0602" or DLFL == "0603" or DLFL == "0701" or DLFL == "0702" or DLFL == "08H1" or DLFL == "08H2" or DLFL == "0809" or DLFL == "0810" or DLFL == "09" or DLFL == "1001" or DLFL == "1002" or DLFL == "1003" or DLFL == "1004" or DLFL == "1005" or DLFL == "1007" or DLFL == "1008" or DLFL == "1009" or DLFL == "1109" or DLFL == "1201"):
        return "建设用地"
    elif (DLFL == "0404" or DLFL == "1101" or DLFL == "1102" or DLFL == "1105" or DLFL == "1106" or DLFL == "1108" or DLFL == "1110" or DLFL == "1204" or DLFL == "1205" or DLFL == "1206" or DLFL == "1207"):
        return "未利用土地"
    else:
        return "没有对应关系地类"</code></pre> 
<p>3、计算某要素中的折点数。代码块名称为：getVertexCount</p> 
<p>调用表达式：getVertexCount(!shape!)</p> 
<pre><code class="hljs">def getVertexCount(feat):    
    partnum = 0
    partcount = feat.partCount
    pntcount = 0
    while partnum &lt; partcount:
        part = feat.getPart(partnum)
        pnt = part.next()
        while pnt:
            pntcount += 1   
            pnt = part.next()
            if not pnt: 
                pnt = part.next()
        partnum += 1
    return pntcount</code></pre> 
<p>4、根据某间隔值计算顺序 ID 或数字，代码块名称：autoIncrement<br> 表达式：autoIncrement(10, 5)     ，调用初始值为10，每次递增5</p> 
<pre><code class="hljs">rec = 0
def autoIncrement(start=1, interval=1):
    global rec
    if rec == 0:
        rec = start
    else:
        rec += interval
    return rec</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f0562505802be058add57db64e1ea7c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024年金三银四必备面试题之自动化测试面试题及答案大全</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8cf052e410b74f6042fb8c7d545833e8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt下普通成员函数和静态成员函数作为回调函数的实现（替代信号与槽）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>