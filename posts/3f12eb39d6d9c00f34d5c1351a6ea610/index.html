<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>iOS  图片压缩方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="iOS  图片压缩方法" />
<meta property="og:description" content="两种图片压缩方法：
两种压缩图片的方法：压缩图片质量(Quality)，压缩图片尺寸(Size)。
压缩图片质量 ：
NSData *data = UIImageJPEGRepresentation(image, compression);
UIImage *resultImage = [UIImage imageWithData:data]; 通过 UIImage 和 NSData 的相互转化，减小 JPEG 图片的质量来压缩图片。
UIImageJPEGRepresentation:: 第二个参数 compression 取值 0.0~1.0，值越小表示图片质量越低，图片文件自然越小。
压缩图片尺寸：
UIGraphicsBeginImageContext(size);
[image drawInRect:CGRectMake(0, 0, size.width, size.height)]; resultImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
给定所需的图片尺寸 size，resultImage 即为原图 image 绘制为 size 大小的图片。
压缩图片使图片文件小于指定大小：
如果对图片清晰度要求不高，要求图片的上传、下载速度快的话，上传图片前需要压缩图片。压缩到什么程度要看具体情况，但一般给设定一个图片文件最大值，例如100KB。可以用上诉两种方法来压缩图片。假设图片转化的 NSData 对象为 data，通过 data.length 即可得到图片的字节大小。
压缩图片质量
比较容易想到的方法是，通过循环来逐渐减小图片质量，直到图片稍小于指定大小(maxLength)。
&#43; (UIImage *)compressImageQuality:(UIImage *)image toByte:(NSInteger)maxLength {
CGFloat compression = 1; NSData *data = UIImageJPEGRepresentation(image, compression); while (data." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3f12eb39d6d9c00f34d5c1351a6ea610/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-11T16:15:00+08:00" />
<meta property="article:modified_time" content="2018-01-11T16:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">iOS  图片压缩方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p><span style="font-size:16px;"><strong>两种图片压缩方法：</strong></span></p> 
 <p><span style="font-size:16px;"><strong>  </strong> <span style="font-size:14px;">两种压缩图片的方法：压缩图片质量(Quality)，压缩图片尺寸(Size)。</span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"> <span style="font-size:15px;"><strong>压缩图片质量 ：</strong></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;">   <span class="hljs-built_in">NSData *data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression);</span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">   UIImage *resultImage = [<span class="hljs-built_in">UIImage imageWithData:data];</span></span></span></span>  </span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;">  通过 UIImage 和 <span class="Apple-converted-space"> NSData<span class="Apple-converted-space"> 的相互转化，减小 <span class="Apple-converted-space"> JPEG 图片的质量来压缩图片。</span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space">  UIImageJPEGRepresentation::   第二个参数 compression 取值 0.0~1.0，值越小表示图片质量越低，图片文件自然越小。</span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"> <span style="font-size:15px;"><strong>压缩图片尺寸：</strong></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in">    UIGraphicsBeginImageContext(size);</span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in">    [image drawInRect:<span class="hljs-built_in">CGRectMake(<span class="dv"><span class="hljs-number">0, <span class="dv"><span class="hljs-number">0, size.width, size.height)]; </span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">    resultImage = <span class="hljs-built_in">UIGraphicsGetImageFromCurrentImageContext();</span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">    UIGraphicsEndImageContext();</span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">   给定所需的图片尺寸 size，resultImage<span class="Apple-converted-space"> 即为原图 image 绘制为 size 大小的图片。</span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:15px;"><strong><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"> 压缩图片使图片文件小于指定大小：</span></span></span></span></span></span></span></span></span></span></span></span></strong></span></p> 
 <p><span style="font-size:15px;"><strong><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space">   </span></span></span></span></span></span></span></span></span></span></span></span></strong><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space">如果对图片清晰度要求不高，要求图片的上传、下载速度快的话，上传图片前需要压缩图片。压缩到什么程度要看具体情况，但一般给设定一个图片文件最大值，例如100KB。可以用上诉两种方法来压缩图片。假设图片转化的 NSData 对象为 data，通过 data.length 即可得到图片的字节大小。</span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:15px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space">  <span style="font-size:15px;"><strong>压缩图片质量</strong></span><span style="font-size:15px;"><strong><br></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space">   比较容易想到的方法是，通过循环来逐渐减小图片质量，直到图片稍小于指定大小(maxLength)。</span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space">   + (<span class="hljs-built_in">UIImage *)compressImageQuality:(<span class="hljs-built_in">UIImage *)image   toByte:(<span class="hljs-built_in">NSInteger)maxLength {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">            CGFloat compression = <span class="dv"><span class="hljs-number">1; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">            NSData *data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">            while (data.length &gt; maxLength &amp;&amp; compression &gt; <span class="dv"><span class="hljs-number">0) {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number">                  compression -= <span class="fl"><span class="hljs-number">0.02; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number">                  data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">                 // When compression less than a value, this code dose not work</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">              } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">             UIImage *resultImage = [<span class="hljs-built_in">UIImage imageWithData:data]; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">              return resultImage; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="fl"><span class="hljs-number"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">       }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><strong>  </strong><span style="font-size:14px;">这样循环次数多，效率低，耗时长。</span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;">  可以通过二分法来优化。</span></span></p> 
 <p>  <span style="font-size:16px;"><strong>OC 实例：</strong></span><span style="font-size:16px;"><strong><br></strong></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;">  + (<span class="hljs-built_in">UIImage *)compressImageQuality:(<span class="hljs-built_in">UIImage *)image toByte:(<span class="hljs-built_in">NSInteger)maxLength { </span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">       CGFloat compression = <span class="dv"><span class="hljs-number">1;</span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">       NSData *data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">       if (data.length &lt; maxLength) <span class="kw"><span class="hljs-keyword">return image; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">        CGFloat max = <span class="dv"><span class="hljs-number">1; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">        CGFloat min = <span class="dv"><span class="hljs-number">0; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">        for (<span class="dt"><span class="hljs-keyword">int i = <span class="dv"><span class="hljs-number">0; i &lt; <span class="dv"><span class="hljs-number">6; i++) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">            compression = (max + min) / <span class="dv"><span class="hljs-number">2; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">            data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">           if (data.length &lt; maxLength * <span class="fl"><span class="hljs-number">0.9) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number">               min = compression;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number">            } <span class="kw"><span class="hljs-keyword">else <span class="kw"><span class="hljs-keyword">if (data.length &gt; maxLength) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">               max = compression; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">            } <span class="kw"><span class="hljs-keyword">else { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">               break;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">            } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">            }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">           UIImage *resultImage = [<span class="hljs-built_in">UIImage imageWithData:data]; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">           return resultImage;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">        }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">  <span style="font-size:16px;"><strong>swift  实例：</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">   <span class="hljs-keyword">static <span class="hljs-function"><span class="hljs-keyword">func <span class="hljs-title">compressImageQuality<span class="hljs-params">(<span class="hljs-number">_ image: UIImage, toByte maxLength: Int) -&gt; <span class="hljs-type">UIImage { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword">       var compression: <span class="hljs-type">CGFloat = <span class="hljs-number">1 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">       guard <span class="hljs-keyword">var data = <span class="hljs-type">UIImageJPEGRepresentation(image, compression), </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type">           data.<span class="hljs-built_in">count &gt; maxLength <span class="hljs-keyword">else { <span class="hljs-keyword">return image } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword">       var <span class="hljs-built_in">max: <span class="hljs-type">CGFloat = <span class="hljs-number">1 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">       var <span class="hljs-built_in">min: <span class="hljs-type">CGFloat = <span class="hljs-number">0</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">       for <span class="hljs-number">_ <span class="hljs-keyword">in <span class="hljs-number">0..&lt;<span class="hljs-number">6 { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number">            compression = (<span class="hljs-built_in">max + <span class="hljs-built_in">min) / <span class="hljs-number">2 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number">            data = <span class="hljs-type">UIImageJPEGRepresentation(image, compression)!</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword">            if <span class="hljs-type">CGFloat(data.<span class="hljs-built_in">count) &lt; <span class="hljs-type">CGFloat(maxLength) * <span class="hljs-number">0.9 {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in">                   min = compression </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in">            } <span class="hljs-keyword">else <span class="hljs-keyword">if data.<span class="hljs-built_in">count &gt; maxLength {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">                  max = compression</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">           } <span class="hljs-keyword">else {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">                   break</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">            } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">      } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword">          return <span class="hljs-type">UIImage(data: data)! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type">      }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">  当图片大小小于 maxLength，大于 maxLength * 0.9 时，不再继续压缩。最多压缩 6 次，1/(2^6) = 0.015625 &lt; 0.02，也能达到每次循环  compression 减小 0.02 的效果。这样的压缩次数比循环减少compression 少，耗时短。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">  需要注意的是，当图片质量低于一定程度时，继续压缩没有效果。也就是说，</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">compression 继续减少，data也不再继续减小。压缩图片质量的优点在于，尽可能保留图片清晰度，图片不会明显模糊；缺点在于，不能保证图片压缩后小于指定大小。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="Apple-converted-space"> </span><span style="font-size:16px;"><strong>压缩图片尺寸：</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span style="font-size:16px;"><strong>  </strong> <span style="font-size:14px;">与之前类似，比较容易想到的方法是，通过循环逐渐减小图片尺寸，直到图片稍小于指定大小(maxLength)。具体代码省略。同样的问题是循环次数多，效率低，耗时长。可以用二分法来提高效率，具体代码省略。这里介绍另一种方法，比二分法更好，</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span style="font-size:16px;"><strong> </strong> <span style="font-size:14px;">压缩次数少，而且可以使图片压缩后刚好小于指定大小（不只是 &lt; maxLength，&gt; <span class="Apple-converted-space"> maxLength * 0.9</span>）。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><strong><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">OC  代码实例：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></p> 
 <p><span style="font-size:16px;"><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span style="font-size:16px;"><strong>  </strong><span style="font-size:14px;"> + (<span class="hljs-built_in">UIImage *)compressImageSize:(<span class="hljs-built_in">UIImage *)image toByte:(<span class="hljs-built_in">NSUInteger)maxLength { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">       UIImage *resultImage = image; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">       NSData *data = <span class="hljs-built_in">UIImageJPEGRepresentation(resultImage, <span class="dv"><span class="hljs-number">1); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">       NSUInteger lastDataLength = <span class="dv"><span class="hljs-number">0;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">       while (data.length &gt; maxLength &amp;&amp; data.length != lastDataLength) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">            lastDataLength = data.length;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">            CGFloat ratio = (<span class="hljs-built_in">CGFloat)maxLength / data.length; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">            CGSize size = <span class="hljs-built_in">CGSizeMake((<span class="hljs-built_in">NSUInteger)(resultImage.size.width * sqrtf(ratio)),</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">(<span class="hljs-built_in">NSUInteger)(resultImage.size.height * sqrtf(ratio)));</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">            // Use NSUInteger to prevent white blank </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">            UIGraphicsBeginImageContext(size); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">            // Use image to draw (drawInRect:), image is larger but more compression time </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment">           // Use result image to draw, image is smaller but less compression time</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment">           [resultImage drawInRect:<span class="hljs-built_in">CGRectMake(<span class="dv"><span class="hljs-number">0, <span class="dv"><span class="hljs-number">0, size.width, size.height)]; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">           resultImage = <span class="hljs-built_in">UIGraphicsGetImageFromCurrentImageContext();</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">           UIGraphicsEndImageContext(); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">            data = <span class="hljs-built_in">UIImageJPEGRepresentation(resultImage, <span class="dv"><span class="hljs-number">1);</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number">              } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">            return resultImage; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">        }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"> </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><strong><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">swift 代码实例：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></p> 
 <p><span style="font-size:16px;"><strong><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">     </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">  </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword">static <span class="hljs-function"><span class="hljs-keyword">func <span class="hljs-title">compressImageSize<span class="hljs-params">(<span class="hljs-number">_ image: UIImage, toByte maxLength: Int) -&gt; <span class="hljs-type">UIImage { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword">              guard <span class="hljs-keyword">var data = <span class="hljs-type">UIImageJPEGRepresentation(image, <span class="hljs-number">1) <span class="hljs-keyword">else { <span class="hljs-keyword">return image } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword">              var resultImage: <span class="hljs-type">UIImage = image </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword">              var lastDataLength: <span class="hljs-type">Int = <span class="hljs-number">0</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">          while data.<span class="hljs-built_in">count &gt; maxLength, data.<span class="hljs-built_in">count != lastDataLength { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">               lastDataLength = data.<span class="hljs-built_in">count</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword">               let ratio: <span class="hljs-type">CGFloat = <span class="hljs-type">CGFloat(maxLength) / <span class="hljs-type">CGFloat(data.<span class="hljs-built_in">count) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword">               let size: <span class="hljs-type">CGSize = <span class="hljs-type">CGSize(width: <span class="hljs-type">Int(resultImage.size.width * sqrt(ratio)), height: <span class="hljs-type">Int(resultImage.size.height * sqrt(ratio))) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type">               UIGraphicsBeginImageContext(size) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type">               resultImage.draw(<span class="hljs-keyword">in: <span class="hljs-type">CGRect(x: <span class="hljs-number">0, y: <span class="hljs-number">0, width: size.width, height: size.height)) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number">               resultImage = <span class="hljs-type">UIGraphicsGetImageFromCurrentImageContext()! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type">               UIGraphicsEndImageContext() </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type">               data = <span class="hljs-type">UIImageJPEGRepresentation(resultImage, <span class="hljs-number">1)! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-number">             } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">           return resultImage</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">       }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:14px;">     </span></p> 
 <p><span style="font-size:14px;">[resultImage drawInRect:CGRectMake(0, 0, size.width, size.height)];  是用新图 resultImage 绘制，也可以用原图 image 来绘制。用原图绘制，压缩后图片更接近指定大小，但是压缩次数较多，耗时较长。一张大小为<span class="Apple-converted-space"> 6064<span class="Apple-converted-space"> KB 的图片，压缩图片尺寸，原图绘制与新图绘制结果如下：</span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space">    </span></span></span></p> 
 <table><thead><tr class="header"><th align="left">指定大小(KB)</th><th align="left">原图绘制压缩后大小(KB)</th><th align="left">原图绘制压缩次数</th><th>新图绘制压缩后大小(KB)</th><th>新图绘制压缩次数</th></tr></thead><tbody><tr class="odd"><td align="left">500</td><td align="left">498</td><td align="left">6</td><td>498</td><td>3</td></tr><tr class="even"><td align="left">300</td><td align="left">299</td><td align="left">4</td><td>296</td><td>3</td></tr><tr class="odd"><td align="left">100</td><td align="left">99</td><td align="left">5</td><td>98</td><td>3</td></tr><tr class="even"><td align="left">50</td><td align="left">49</td><td align="left">6</td><td>48</td><td>3</td></tr></tbody></table> 
 <p> </p> 
 <p><span style="font-size:14px;">两种绘制方法压缩后大小很接近，与指定大小也很接近，但原图绘制压缩次数可达到新图绘制压缩次数的两倍。建议使用新图绘制，减少压缩次数。压缩后图片明显比压缩质量模糊。</span></p> 
 <p><span style="font-size:14px;">   需要注意的是绘制尺寸的代码</span></p> 
 <p><span style="font-size:14px;">  CGSize size = CGSizeMake((NSUInteger)(resultImage.size.width * sqrtf(ratio)), (NSUInteger)(resultImage.size.height * sqrtf(ratio)));</span></p> 
 <p><span style="font-size:14px;">每次绘制的尺寸 size，要把宽<strong><span class="Apple-converted-space"> width 和 高 height<span class="Apple-converted-space">  转换为整数</span></span></strong><span class="Apple-converted-space"><span class="Apple-converted-space">防止绘制出的图片有白边。</span></span></span></p> 
 <p><span style="font-size:14px;"><span class="Apple-converted-space"><span class="Apple-converted-space">压缩图片尺寸可以使图片小于指定大小，但会使图片明显模糊（比压缩图片质量模糊）。</span></span></span></p> 
 <p><span style="font-size:16px;"><strong><span class="Apple-converted-space"><span class="Apple-converted-space">两种图片压缩方法结合</span></span></strong></span></p> 
 <p><span style="font-size:16px;"><strong><span class="Apple-converted-space"><span class="Apple-converted-space">  </span></span></strong><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space">如果要保证清晰度，建议选择压缩图片质量。如果要使图片一定小于指定大小，压缩图片尺寸可以满足。对于后一种需求，还可以先压缩图片质量，如果已经小于指定大小，就可得到清晰的图片，否则再压缩图片尺寸。</span></span></span></p> 
 <p><strong><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space">  OC 代码实例 ：</span></span></span></strong></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space">   + (<span class="hljs-built_in">UIImage *)compressImage:(<span class="hljs-built_in">UIImage *)image toByte:(<span class="hljs-built_in">NSUInteger)maxLength { </span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">    // Compress by quality</span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">      CGFloat compression = <span class="dv"><span class="hljs-number">1;</span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">      NSData *data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">      if (data.length &lt; maxLength) <span class="kw"><span class="hljs-keyword">return image;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">       CGFloat max = <span class="dv"><span class="hljs-number">1; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in">       CGFloat min = <span class="dv"><span class="hljs-number">0; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">      for (<span class="dt"><span class="hljs-keyword">int i = <span class="dv"><span class="hljs-number">0; i &lt; <span class="dv"><span class="hljs-number">6; i++) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">           compression = (max + min) / <span class="dv"><span class="hljs-number">2;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">           data = <span class="hljs-built_in">UIImageJPEGRepresentation(image, compression); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">            if (data.length &lt; maxLength * <span class="fl"><span class="hljs-number">0.9) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number">                  min = compression; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number">             } <span class="kw"><span class="hljs-keyword">else <span class="kw"><span class="hljs-keyword">if (data.length &gt; maxLength) { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">                  max = compression; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">              } <span class="kw"><span class="hljs-keyword">else { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">                  break; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">               } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword">          } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">           UIImage *resultImage = [<span class="hljs-built_in">UIImage imageWithData:data]; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">           if (data.length &lt; maxLength) <span class="kw"><span class="hljs-keyword">return resultImage; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment">          // Compress by size </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">           NSUInteger lastDataLength = <span class="dv"><span class="hljs-number">0; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">           while (data.length &gt; maxLength &amp;&amp; data.length != lastDataLength) {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword">               lastDataLength = data.length;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in">               CGFloat ratio = (<span class="hljs-built_in">CGFloat)maxLength / data.length; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">              CGSize size = <span class="hljs-built_in">CGSizeMake((<span class="hljs-built_in">NSUInteger)(resultImage.size.width * sqrtf(ratio)), (<span class="hljs-built_in">NSUInteger)(resultImage.size.height * sqrtf(ratio))); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment">             // Use NSUInteger to prevent white blank </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">              UIGraphicsBeginImageContext(size); </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in">             [resultImage drawInRect:<span class="hljs-built_in">CGRectMake(<span class="dv"><span class="hljs-number">0, <span class="dv"><span class="hljs-number">0, size.width, size.height)]; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number">             resultImage = <span class="hljs-built_in">UIGraphicsGetImageFromCurrentImageContext();</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">             UIGraphicsEndImageContext();</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in">             data = <span class="hljs-built_in">UIImageJPEGRepresentation(resultImage, compression);</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in">     } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">             return resultImage; </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">  </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword">     <strong>swift 代码实例 ：</strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"> static <span class="hljs-function"><span class="hljs-keyword">func <span class="hljs-title">compressImage<span class="hljs-params">(<span class="hljs-number">_ image: UIImage, toByte maxLength: Int) -&gt; <span class="hljs-type">UIImage {<!-- --></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword">              var compression: <span class="hljs-type">CGFloat = <span class="hljs-number">1</span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">              guard <span class="hljs-keyword">var data = <span class="hljs-type">UIImageJPEGRepresentation(image, compression), </span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type">             data.<span class="hljs-built_in">count &gt; maxLength <span class="hljs-keyword">else { <span class="hljs-keyword">return image } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment">             // Compress by size </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword">            var <span class="hljs-built_in">max: <span class="hljs-type">CGFloat = <span class="hljs-number">1 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">            var <span class="hljs-built_in">min: <span class="hljs-type">CGFloat = <span class="hljs-number">0 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">            for <span class="hljs-number">_ <span class="hljs-keyword">in <span class="hljs-number">0..&lt;<span class="hljs-number">6 { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number">                compression = (<span class="hljs-built_in">max + <span class="hljs-built_in">min) / <span class="hljs-number">2 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number">                data = <span class="hljs-type">UIImageJPEGRepresentation(image, compression)! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword">               if <span class="hljs-type">CGFloat(data.<span class="hljs-built_in">count) &lt; <span class="hljs-type">CGFloat(maxLength) * <span class="hljs-number">0.9 { </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in">                   min = compression </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in">               } <span class="hljs-keyword">else <span class="hljs-keyword">if data.<span class="hljs-built_in">count &gt; maxLength {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">                   max = compression </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">               } <span class="hljs-keyword">else {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">                    break </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">               } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword">      } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword">      var resultImage: <span class="hljs-type">UIImage = <span class="hljs-type">UIImage(data: data)! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword">      if data.<span class="hljs-built_in">count &lt; maxLength { <span class="hljs-keyword">return resultImage } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment">      // Compress by size </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword">     var lastDataLength: <span class="hljs-type">Int = <span class="hljs-number">0 </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword">     while data.<span class="hljs-built_in">count &gt; maxLength, data.<span class="hljs-built_in">count != lastDataLength {<!-- --></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in">          lastDataLength = data.<span class="hljs-built_in">count </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword">          let ratio: <span class="hljs-type">CGFloat = <span class="hljs-type">CGFloat(maxLength) / <span class="hljs-type">CGFloat(data.<span class="hljs-built_in">count) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword">          let size: <span class="hljs-type">CGSize = <span class="hljs-type">CGSize(width: <span class="hljs-type">Int(resultImage.size.width * sqrt(ratio)), height: <span class="hljs-type">Int(resultImage.size.height * sqrt(ratio))) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type">          UIGraphicsBeginImageContext(size) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type">          resultImage.draw(<span class="hljs-keyword">in: <span class="hljs-type">CGRect(x: <span class="hljs-number">0, y: <span class="hljs-number">0, width: size.width, height: size.height)) </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number">          resultImage = <span class="hljs-type">UIGraphicsGetImageFromCurrentImageContext()! </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type">         UIGraphicsEndImageContext() </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type">         data = <span class="hljs-type">UIImageJPEGRepresentation(resultImage, compression)! } </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword">         return resultImage </span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p><span style="font-size:16px;"><span class="Apple-converted-space" style="font-size:14px;"><span class="Apple-converted-space"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="dt"><span class="hljs-keyword"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="fl"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><span class="kw"><span class="hljs-keyword"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="kw"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="co"><span class="hljs-comment"><span class="hljs-built_in"><span class="hljs-built_in"><span class="dv"><span class="hljs-number"><span class="dv"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="kw"><span class="hljs-keyword"><strong><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-title"><span class="hljs-params"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-number"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-number"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-type"><span class="hljs-number"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-comment"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-keyword"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-built_in"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword"><span class="hljs-type"><span class="hljs-number"><span class="hljs-number"><span class="hljs-type"><span class="hljs-type"><span class="hljs-type"><span class="hljs-keyword">}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/LiZeYuBlog/p/8268996.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c8f9b181fefc2119e3b4484d325c57e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">php array_merge和数组相加的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c0419b9c83f93fe757c0e27bac91361/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">（ssl 1760）商店选址问题#floyd，dijkstra#</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>