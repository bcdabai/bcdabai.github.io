<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue用Rem实现自适应布局 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue用Rem实现自适应布局" />
<meta property="og:description" content="一 什么是rem
rem（font size of the root element）是指相对于根元素的字体大小的单位。简单的说它就是一个相对单位。看到rem大家一定会想起em单位，em（font size of the element）是指相对于父元素的字体大小的单位。它们之间其实很相似，只不过rem计算的规则是依赖根元素,em是依赖父元素计算。
二 为什么使用rem及原理
2.1 为什么使用rem
rem布局的目的是为了让我们的同一份代码,适应不同的移动终端
2.2 rem的原理
举一个例子:
当我们拿到的是一个414px(iPhone6plus)宽度设计稿的时候,为了兼容比其大或则比其小的设备时,我们的具体步骤是:
2.2.1. 先确定1rem相对于根元素(html)字体大小的单位.
比如: 设计为 1rem = 100px 2.2.2 接着按照这个格式,来进行转化,将所有的px转为rem.
比如: font-size: 12px; (原来) //现在改为rem单位 /* 换算过程: 1rem = 100px 那么: 1px = 1 / 100 = 0.01rem 12px: 12px = 12 * 0.01 = 0.12rem */ font-size: 0.12rem 当然这么繁琐的事情,我们是不会去做的,我们先将所有的布局样式写好,然后再利用工具,来进行转换.下面的网址可以免费转换将页面所有的px转成rem.只需要我们设置1rem等于多少px.
程序员在线工具: http://www.ofmonkey.com/front/rem
2.2.3 最后再将转换好的文件引入到自己的样式中
但是一定要注意的是rem是参照html这个根元素来确定自己大小的,所以在css文件中一定不能改变html的字体大小.
//我们在之前的参照是1rem = 100px 所以这里的设置必须这样 html { font-size: 100px; //这里是px,一定要注意 } 到此大功告成了吗?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/922802fbcfd7d192bfb682cf706a2eca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-17T17:27:36+08:00" />
<meta property="article:modified_time" content="2018-10-17T17:27:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue用Rem实现自适应布局</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>一 什么是rem</strong></p> 
<p>rem（font size of the root element）是指相对于根元素的字体大小的单位。简单的说它就是一个相对单位。看到rem大家一定会想起em单位，em（font size of the element）是指相对于父元素的字体大小的单位。它们之间其实很相似，只不过rem计算的规则是依赖根元素,em是依赖父元素计算。</p> 
<p><strong>二 为什么使用rem及原理</strong></p> 
<p><strong>2.1 为什么使用rem</strong></p> 
<p>rem布局的目的是为了让我们的同一份代码,适应不同的移动终端</p> 
<p><strong>2.2 rem的原理</strong></p> 
<p>举一个例子:</p> 
<p>当我们拿到的是一个414px(iPhone6plus)宽度设计稿的时候,为了兼容比其大或则比其小的设备时,我们的具体步骤是:</p> 
<p><strong>2.2.1. 先确定1rem相对于根元素(html)字体大小的单位.</strong></p> 
<pre><code> 比如: 设计为 1rem = 100px
</code></pre> 
<p><strong>2.2.2 接着按照这个格式,来进行转化,将所有的px转为rem.</strong></p> 
<pre><code class="prism language-css"><span class="token property">比如</span><span class="token punctuation">:</span> 
<span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span> <span class="token punctuation">(</span>原来<span class="token punctuation">)</span>

//现在改为rem单位
<span class="token comment">/*
	换算过程: 1rem = 100px
	   那么:  1px = 1 / 100 = 0.01rem
	   12px:  12px = 12 * 0.01 = 0.12rem
*/</span>
<span class="token property">font-size</span><span class="token punctuation">:</span> 0.12rem
</code></pre> 
<p>当然这么繁琐的事情,我们是不会去做的,我们先将所有的布局样式写好,然后再利用工具,来进行转换.下面的网址可以免费转换将页面所有的px转成rem.只需要我们设置1rem等于多少px.<br> <a href="http://www.ofmonkey.com/front/rem" rel="nofollow">程序员在线工具: http://www.ofmonkey.com/front/rem</a></p> 
<p><strong>2.2.3 最后再将转换好的文件引入到自己的样式中</strong></p> 
<p><strong>但是一定要注意的是rem是参照html这个根元素来确定自己大小的,所以在css文件中一定不能改变html的字体大小.</strong></p> 
<pre><code class="prism language-css"><span class="token selector">//我们在之前的参照是1rem = 100px 所以这里的设置必须这样
html</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span> //这里是px,一定要注意
<span class="token punctuation">}</span>
</code></pre> 
<p>到此大功告成了吗?可是如果我们是写死了根元素的字体大小,此时尺寸是414宽度的iPhone,如果我们屏幕的尺寸变化了,根元素的字体大小写死,就达不到响应式布局的效果.</p> 
<p>所以我们在不同尺寸下,根元素也不同才能达到效果,那应该怎样计算根元素的大小呢?</p> 
<p><strong>2.2.4 怎样利用rem来适配不同的屏幕尺寸呢?</strong></p> 
<p>其实很简单,以我们刚才的例子,设备宽414px,我们又指定了html的字体大小是100px,那么相当于414 / 100 = 4.14个rem就可以铺满整个屏幕,为了让这套方案(<strong>满屏下只能放下4.41个rem</strong>)也应用到其他设备上,我们应该怎么做呢?</p> 
<pre><code class="prism language-css"><span class="token selector">//1. 先求出满屏下可以放多少个rem,即414 / 100 = 4.14
  			414 是A设备的尺寸 
  			100 是我们设定的html的字体大小
  			
//2. 求出B设备下满屏下放4.14个rem,需要的html字体大小是多少就行了.
			B设备的尺寸 375px  
			B设备下的html字体大小 375 / 4.14 = 90.579px

//3. 设置B设备下的html字体大小为90.576px

	html</span> <span class="token punctuation">{<!-- --></span>
   	 	<span class="token property">font-size</span><span class="token punctuation">:</span> 90.579px<span class="token punctuation">;</span> //这里是px,一定要注意
	<span class="token punctuation">}</span>

//<span class="token property">公式</span><span class="token punctuation">:</span> 
    
    A设备尺寸 / A的html字体大小  =  B设备尺寸 / B的html字体大小
</code></pre> 
<p>上面的公式告诉我们,rem布局就是确定一个屏幕可以放下多少个rem(就相当于是多少个百分比),然后将这个标准推行到其他的设备下.</p> 
<p><strong>2.2.5 怎么利用JS来帮助我们计算根元素的字体大小呢?</strong></p> 
<p>上一个我们讲了求根元素字体大小的原理,但是不同的移动端设备太多,如果都用人工计算是不现实的,所以依靠js的onresize事件可以做到动态的修改根元素的大小.</p> 
<p><strong>2.2.5.1 onresize事件介绍</strong></p> 
<pre><code class="prism language-js"><span class="token comment">//onresize 事件会在窗口或框架被调整大小时发生。</span>
<span class="token comment">//给整个window对象添加onresize事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> handele<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>2.2.5.2 具体实现</strong></p> 
<pre><code class="prism language-js">   <span class="token comment">// 1. 添加一个resize事件屏幕宽度变化马上计算和设置</span>
   
   <span class="token comment">//这里是页面一加载就先执行一次,设置当前设备下,html的字体大小</span>
   <span class="token function">setHtmlFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token comment">//这里是页面尺寸发生变化时执行</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> setHtmlFontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">setHtmlFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1. 获取当前的屏幕的宽度</span>
        <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
        <span class="token comment">// 2. 以标准的375屏幕 根元素100px的标准  需要3.75rem占满整屏的值 作为参照点</span>
        <span class="token keyword">var</span> htmlFontSize <span class="token operator">=</span> windowWidth <span class="token operator">/</span> <span class="token number">3.75</span><span class="token punctuation">;</span>
        <span class="token comment">//给最大值 超过了200px默认为200px</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>htmlFontSize <span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            htmlFontSize <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3. 把当前根元素的字体大小设置给当前html的fontSize 注意要带单位</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> htmlFontSize <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>使用方法:</p> 
<pre><code>//1. 先将自己的css文件里的px全部换成rem,(利用工具)

//2. 再设置css文件里的html的字体大小,必须用px作为单位

//3. 将上面的js在html里面的头部引入即可
</code></pre> 
<p><strong>三 vue中的rem使用</strong></p> 
<p>在vue中使用rem布局其步骤与上面一致:</p> 
<ol><li>先用px书写css</li><li>确定rem布局的标准(一个页面可以放下多少个rem)</li><li>利用工具将px转成rem(根据上面的标准,确定1rem等于多少px)</li><li>引入自动根据屏幕大小计算根元素的字体大小的JS</li><li>再设置html的字体大小(其值就是1rem等于多少px)</li></ol> 
<p>其中在第三步的使用,我们再介绍另外一种工具:px to rem</p> 
<p><img src="https://images2.imgbox.com/b9/2d/E2b8hZyW_o.png" alt="在这里插入图片描述"><br> 这个工具在vscode软件里的插件,在扩展里面直接搜索px to rem就可以直接安装,使用方法也比较简单.</p> 
<ol><li>先再setting里面设置html的字体转换大小<br> <img src="https://images2.imgbox.com/3e/79/GdRSFd42_o.png" alt="在这里插入图片描述"></li><li>使用这个插件: 官方原文:<br> Alt+Z Px to rem, and rem to px. Converts selected text from px to rem, and rem to px.Alt+Z Px to rem, and rem to px. Converts selected text from px to rem, and rem to px.<br> 就是在选中你写的css,然后按下Alt + Z 就可以实现rem to px或则px to rem的操作了.</li></ol> 
<p><strong>3.1 具体的操作:</strong></p> 
<p>这是转换rem后的样式</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;style lang="less" scoped&gt; 
    .top_tips</span><span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
		<span class="token property">width</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span>
		<span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
		<span class="token property">right</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span>
		<span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url("../../static/images/WechatIMG2.png")</span> no-repeat<span class="token punctuation">;</span>
		<span class="token property">background-size</span><span class="token punctuation">:</span> 100% 100%<span class="token punctuation">;</span>
		<span class="token property">z-index</span><span class="token punctuation">:</span> 10<span class="token selector">;
        .num_tip</span><span class="token punctuation">{<!-- --></span>
			<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
			<span class="token property">bottom</span><span class="token punctuation">:</span> 0.25rem<span class="token punctuation">;</span>
			<span class="token property">height</span><span class="token punctuation">:</span> 0.18rem<span class="token punctuation">;</span>
			<span class="token property">width</span><span class="token punctuation">:</span> 0.9rem<span class="token punctuation">;</span>
			<span class="token property">font-size</span><span class="token punctuation">:</span> 0.14rem<span class="token punctuation">;</span>
			<span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'黑体'</span><span class="token punctuation">;</span>
			<span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
			<span class="token property">color</span><span class="token punctuation">:</span> #a57c50<span class="token punctuation">;</span>
			<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    &lt;/style&gt;
</code></pre> 
<p>接着引入js,为了遵循模块化的流程我们新建一个文件来书写这段特定的功能代码.</p> 
<pre><code class="prism language-js"><span class="token comment">//文件为 config/rem.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">setHtmlFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//这里是页面尺寸发生变化时执行</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> setHtmlFontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">setHtmlFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1. 获取当前的屏幕的宽度</span>
        <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
        <span class="token comment">// 2. 以标准的375屏幕 根元素100px的标准  需要3.75rem占满整屏的值 作为参照点</span>
        <span class="token keyword">var</span> htmlFontSize <span class="token operator">=</span> windowWidth <span class="token operator">/</span> <span class="token number">3.75</span><span class="token punctuation">;</span>
        <span class="token comment">//给最大值 超过了200px默认为200px</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>htmlFontSize <span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            htmlFontSize <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3. 把当前根元素的字体大小设置给当前html的fontSize 注意要带单位</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> htmlFontSize <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>然后引入这个模块,在main.js这个入口文件中(利用vue-cli搭建的项目)</p> 
<pre><code class="prism language-js"><span class="token comment">//导入自动根据屏幕大小计算根元素的字体大小的JS</span>
<span class="token keyword">import</span> setHtmlFontSize <span class="token keyword">from</span>  <span class="token string">"./config/rem.js"</span>
<span class="token comment">//调用函数,实现功能</span>
<span class="token function">setHtmlFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>到此,就大工搞成了.</p> 
<p><strong>四 适配的新技术:vw和vh视口单位实现自适应</strong></p> 
<p>最近正在研究…</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e426de0aa4696e2ecd343fa4c728ed6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">org.thymeleaf.exceptions.TemplateInputException 错误解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/08542eba261d2e96183242cd6b5b0717/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PTA 线性表元素的区间删除 -----时间复杂度O（n）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>