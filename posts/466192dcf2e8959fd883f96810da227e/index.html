<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>空域图像增强-图像灰度变换 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="空域图像增强-图像灰度变换" />
<meta property="og:description" content="1.图像灰度变换。自选一张图片，完成以下图像处理：①显示图像的灰度直方图；②直方图均衡化，对比变化前后的图像和灰度直方图；③对图像进行线性灰度变换，对某部分灰度值进行扩展，压缩其它灰度值区域，对比变化前后的图像和灰度直方图。
图像增强:
·图像不清晰、不突出是由多种因素造成的, 如采集中未突出所需部分, 有干扰(噪声、散斑、运动模糊等等).
·目标是比原图像更适合于特定的应用, 便于识别和后继处理.
·不同的问题采用不同的方法, 评价结果好坏没有统一的标准.
改善降质图像的方法:
·图像增强: 不考虑降质原因, 关心有用信息, 抑制次要部分, 去干扰, 增强对比度, 不一定要逼近原图像.
·复原技术: 针对降质原因, 设法补偿降质因素, 尽可能逼近原始图像, 恢复原图.
图像增强和复原技术有重叠部分. 增强带有恢复性质, 突出有用信息, 且是局部性恢复.
图像灰度变换:
·按一定变换关系, 逐点改变原图像中每一个像素灰度值的方法.
·是图像增强处理技术中一种非常基础、直接的空间域图像处理方法.
·目的是为了改善画质, 使图像的显示效果更加清晰.
点运算:
·输入图像为f(x, y), 输出图像为g(x, y).
·点运算为g(x, y) = T[f(x, y)], 是一种像素的逐点运算. ·描述了输入和输出值之间的转换关系.
·不改变空间位置关系.
·点运算又称为”对比度增强”、”对比度拉伸”、”灰度变换”.
根据g(x, y) = T[f(x, y)], 可以将灰度变换分为线性变换和非线性变换.
灰度线性变换:
·输出灰度级与输入灰度级呈线性关系的点运算.
.
·如果a &gt; 1, 输出图像的对比度增大.
·如果a &lt; 1, 输出图像的对比度减小.
·如果a=1, b≠0, 使所有像素的灰度值上移或下移, 使整张图像更暗或更亮.
·如果a=1, b=0, 输出图像与输入图像相同." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/466192dcf2e8959fd883f96810da227e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-01T10:32:56+08:00" />
<meta property="article:modified_time" content="2022-12-01T10:32:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">空域图像增强-图像灰度变换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0;text-align:justify;"><strong>1.</strong><strong>图像灰度变换。</strong>自选一张图片，完成以下图像处理：①显示图像的灰度直方图；②直方图均衡化，对比变化前后的图像和灰度直方图；③对图像进行线性灰度变换，对某部分灰度值进行扩展，压缩其它灰度值区域，对比变化前后的图像和灰度直方图。</p> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">图像增强:</p> <p style="margin-left:0;text-align:justify;">·图像不清晰、不突出是由多种因素造成的, 如采集中未突出所需部分, 有干扰(噪声、散斑、运动模糊等等).</p> <p style="margin-left:0;text-align:justify;">·目标是比原图像更适合于特定的应用, 便于识别和后继处理.</p> <p style="margin-left:0;text-align:justify;">·不同的问题采用不同的方法, 评价结果好坏没有统一的标准.</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">改善降质图像的方法:</p> <p style="margin-left:0;text-align:justify;">·图像增强: 不考虑降质原因, 关心有用信息, 抑制次要部分, 去干扰, 增强对比度, 不一定要逼近原图像.</p> <p style="margin-left:0;text-align:justify;">·复原技术: 针对降质原因, 设法补偿降质因素, 尽可能逼近原始图像, 恢复原图.</p> <p style="margin-left:0;text-align:justify;">图像增强和复原技术有重叠部分. 增强带有恢复性质, 突出有用信息, 且是局部性恢复.</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">图像灰度变换:</p> <p style="margin-left:0;text-align:justify;">·按一定变换关系, 逐点改变原图像中每一个像素灰度值的方法.</p> <p style="margin-left:0;text-align:justify;">·是图像增强处理技术中一种非常基础、直接的空间域图像处理方法.</p> <p style="margin-left:0;text-align:justify;">·目的是为了改善画质, 使图像的显示效果更加清晰.</p> <p style="margin-left:0;text-align:justify;">点运算:</p> <p style="margin-left:0;text-align:justify;">·输入图像为<em>f(x, y), 输出图像为g(x, y).</em></p> <p style="margin-left:0;text-align:justify;">·点运算为g(x, y) = T[f(x, y)], 是一种像素的逐点运算. </p> <p style="margin-left:0;text-align:justify;">·描述了输入和输出值之间的转换关系.</p> <p style="margin-left:0;text-align:justify;">·不改变空间位置关系.</p> <p style="margin-left:0;text-align:justify;">·点运算又称为”对比度增强”、”对比度拉伸”、”灰度变换”.</p> <p style="margin-left:0;text-align:justify;">根据g(x, y) = T[f(x, y)]<em>, </em>可以将灰度变换分为线性变换和非线性变换.</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="133" src="https://images2.imgbox.com/20/16/eg2nnzPh_o.png" width="326"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">灰度线性变换:</p> <p style="margin-left:0;text-align:justify;">·输出灰度级与输入灰度级呈线性关系的点运算.</p> <p style="margin-left:0;text-align:justify;">.</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="151" src="https://images2.imgbox.com/ec/6e/oEyEm5mB_o.png" width="258"></p> <p style="margin-left:0;text-align:justify;">·如果<em>a &gt; 1,</em> 输出图像的对比度增大.</p> <p style="margin-left:0;text-align:justify;">·如果<em>a &lt; 1</em>, 输出图像的对比度减小.</p> <p style="margin-left:0;text-align:justify;">·如果<em>a=1, b≠0</em>, 使所有像素的灰度值上移或下移, 使整张图像更暗或更亮.</p> <p style="margin-left:0;text-align:justify;">·如果<em>a=1, b=0</em>, 输出图像与输入图像相同.</p> <p style="margin-left:0;text-align:justify;">·如果<em>a &lt; 0</em>, 暗区域将变亮, 亮区域将变暗.</p> <p style="margin-left:0;text-align:justify;">反转变换:</p> <p style="margin-left:0;text-align:justify;"><em>g(x, y) = 255 - f(x, y).</em></p> <p style="margin-left:0;text-align:justify;"><img alt="" height="189" src="https://images2.imgbox.com/85/a5/IJvHk1JK_o.png" width="398"></p> <p style="margin-left:0;text-align:justify;">分段线性变换:</p> <p style="margin-left:0;text-align:justify;">有时为了保持<em>f(x, y)</em>灰度低端和高端值不变, 用下式</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="81" src="https://images2.imgbox.com/6c/f2/2UeIcyrj_o.png" width="419"></p> <p style="margin-left:0;text-align:justify;"><img alt="" height="178" src="https://images2.imgbox.com/15/1e/CjZAG8i3_o.png" width="197"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">灰度非线性变换:</p> <p style="margin-left:0;text-align:justify;">·输出灰度级与输入灰度级呈非线性关系的点运算.</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="164" src="https://images2.imgbox.com/6e/1b/5dPerNck_o.png" width="249"></p> <p style="margin-left:0;text-align:justify;">灰度对数变换:</p> <p style="margin-left:0;text-align:justify;">·对原图像的动态范围进行压缩.</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="23" src="https://images2.imgbox.com/d9/5c/Cm7Goie8_o.png" width="243">.</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="193" src="https://images2.imgbox.com/fc/99/PCprq3yy_o.png" width="223"></p> <p style="margin-left:0;text-align:justify;">灰度指数运算:</p> <p style="margin-left:0;text-align:justify;"><img alt="" height="220" src="https://images2.imgbox.com/b9/30/lINpyrgL_o.png" width="210"></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:left;">灰度直方图: 表示图像中具有某种灰度级的像素的个数, 它反映了图像中每种灰度出现的频率. 灰度直方图是图像最基本的统计特征.</p> <p style="margin-left:0;text-align:left;">·横坐标: 灰度级.</p> <p style="margin-left:0;text-align:left;">·纵坐标: 该灰度级出现的个数.</p> <p style="margin-left:0;text-align:left;">直方图效果图:</p> <p style="margin-left:0;text-align:left;">·四种基本图像类型, 暗、亮、低对比度和高对比度以及它们对应的直方图.</p> <p style="margin-left:0;text-align:left;"><img alt="" height="270" src="https://images2.imgbox.com/76/0a/3OSWNAwH_o.png" width="306"></p> <p style="margin-left:0;text-align:left;"><img alt="" height="136" src="https://images2.imgbox.com/ba/49/Oz1Vfd2V_o.png" width="478"></p> <p style="margin-left:0;text-align:left;">·从图像灰度级的分布可以看出一幅图像的灰度分布特性: a) 较暗; b) 偏亮.</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">直方图的性质:</p> 
    <ol><li style="text-align:justify;">只反映该图像中不同灰度值出现的次数(或频数), 而未反映某一灰度值像素所在位置. <strong>丢失了位置信息</strong><strong>.</strong></li><li style="text-align:justify;">图像与直方图之间是<strong>多对一</strong>的映射关系.</li><li style="text-align:justify;">由于直方图是对具有相同灰度值的像素统计得到的, 因此一幅图像<strong>各子区的直方图之和等于该图像全图的直方图</strong>.</li></ol><p style="margin-left:0;text-align:left;">直方图计算:</p> <p style="margin-left:0;text-align:left;">在离散形式下, 用<img alt="" height="23" src="https://images2.imgbox.com/27/ef/sLJ7DCKL_o.png" width="17">代表离散灰度级, <img alt="" height="23" src="https://images2.imgbox.com/49/a5/y2e8ECgZ_o.png" width="21">为图像中出现<img alt="" height="23" src="https://images2.imgbox.com/a9/16/DDE6uIdf_o.png" width="17">级灰度的像素数, <img alt="" height="23" src="https://images2.imgbox.com/75/1e/lYvq79ly_o.png" width="12">是图像像素总数, <img alt="" height="32" src="https://images2.imgbox.com/64/24/4fQpV1zg_o.png" width="17">为<img alt="" height="23" src="https://images2.imgbox.com/97/5d/G11SB5gq_o.png" width="17">级灰度的像素的频数.</p> <p style="margin-left:0;text-align:left;"><em> </em><img alt="" height="41" src="https://images2.imgbox.com/ae/ff/Nkh6KyWK_o.png" width="375"></p> <p style="margin-left:0;text-align:left;">直方图均衡化:</p> <p style="margin-left:0;text-align:left;">    经变换后得到的新直方图<strong>不是很平坦</strong>, 但比原始图像的直方图<strong>平坦的多</strong>, 扩展了<strong>动态范围</strong>. 对于对比度较弱的图像进行处理十分有效.</p> <p style="margin-left:0;text-align:left;"><strong>变换后的灰度级减少</strong>, 这种现象叫做”<strong>简并</strong>”现象. 由于简并现象的存在, 处理后的灰度级总是要减少的.</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:414.8pt;"> <p style="margin-left:0;text-align:justify;">以一个经典的例子掌握直方图均衡化的计算过程.</p> 
    <table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">灰度级<img alt="" height="23" src="https://images2.imgbox.com/67/5d/ViG0Prlb_o.png" width="17"></p> </td><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0</p> </td><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">1</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">2</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">3</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">4</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">5</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">像素数<img alt="" height="23" src="https://images2.imgbox.com/18/2b/mshW9K4m_o.png" width="21"></p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">790</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">1023</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">850</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">656</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">329</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">245</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">122</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">81</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">概率<img alt="" height="23" src="https://images2.imgbox.com/a5/08/e8tGyWct_o.png" width="45"></p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0.19</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0.25</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.21</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.16</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.08</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.06</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.03</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.02</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">依次求和</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0.19</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0.44</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.65</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.81</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.89</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.95</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.98</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">1.00</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">乘灰度级</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">1.33</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">3.08</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">4.55</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">5.67</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6.23</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6.65</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6.86</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7.00</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">取整</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">1</p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">3</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">5</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7</p> </td></tr></tbody></table><p style="margin-left:0;text-align:justify;">[注] 取整之后的值就是映射之后的坐标.</p> <p style="margin-left:0;text-align:justify;">下面写出映射后的直方图.</p> 
    <table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">灰度级</p> </td><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0</p> </td><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">1</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">2</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">3</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">4</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">5</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">6</p> </td><td style="border-color:#000000;vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">7</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">均衡化</p> </td><td style="background-color:#ffc000;width:44.8pt;"> <p style="margin-left:0;text-align:center;"></p> </td><td style="vertical-align:top;width:44.8pt;"> <p style="margin-left:0;text-align:center;">0.19</p> </td><td style="background-color:#ffc000;width:44.85pt;"> <p style="margin-left:0;text-align:center;"></p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.25</p> </td><td style="background-color:#ffc000;width:44.85pt;"> <p style="margin-left:0;text-align:center;"></p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.21</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.24</p> </td><td style="vertical-align:top;width:44.85pt;"> <p style="margin-left:0;text-align:center;">0.11</p> </td></tr></tbody></table><p style="margin-left:0;text-align:justify;"></p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">1.1 显示图像的灰度直方图 </p> 
<pre><code class="language-cpp">%gray histogram
I = imread('Durant.png');
%显示原图
subplot(1, 3, 1);
imshow(I);
title('原始图像');
%
subplot(1, 3, 2);
y = rgb2gray(I);
imshow(y);
title('灰度图');
%
subplot(1, 3, 3);
imhist(y);
title('gray histogram');
</code></pre> 
<p><img alt="" height="567" src="https://images2.imgbox.com/47/a6/5ubmVJYC_o.png" width="634"></p> 
<p> 1.2 直方图均衡化 </p> 
<pre><code class="language-cpp">%histogram equalization
I = imread('Durant.png');
%进行灰度变换
I_gray = rgb2gray(I);
%对图像I_gray进行直方图均衡化
%直方图均衡通过转换灰度图像亮度值或索引图像的颜色图值来增强图像对比度, 
%输出图像的灰度直方图近似与给定的直方图相匹配. 
%J = histeq(I, N): 
%将灰度图像I转化成具有N个离散灰度级的灰度图像J, N缺省值为64. 
J = histeq(I_gray, 64);
%显示I_gray
subplot(1, 4, 1);
imshow(I_gray);
title('灰度图像');
%
subplot(1, 4, 2);
imshow(J);
title('均衡化后的灰度图像');
%
subplot(1, 4, 3);
%imhist是MATLAB图像处理模块中的一个函数, 
%用于提取图像中的直方图信息. 
imhist(I_gray);
title('灰度图像的直方图');
%
subplot(1, 4, 4);
imhist(J);
title('均衡化后的直方图'); 
</code></pre> 
<p><img alt="" height="297" src="https://images2.imgbox.com/ba/35/DXDgwqKw_o.png" width="713"></p> 
<p style="margin-left:0;text-align:justify;">(N=64)</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="339" src="https://images2.imgbox.com/ec/19/xp5L2XTC_o.png" width="730"></p> 
<p style="margin-left:0;text-align:justify;">(N=128)</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="322" src="https://images2.imgbox.com/f5/99/uHQcTzQP_o.png" width="710"></p> 
<p> (N=2)</p> 
<p>1.3 线性灰度变换与分段线性灰度变换 </p> 
<p>1.3.1 线性灰度变换 </p> 
<pre><code class="language-cpp">线性灰度变换: 
%linear gray-scale transformation
%
I = imread('Durant.png');
%
I_gray = rgb2gray(I);
%
I_gray2 = I_gray - 50;
I_gray3 = I_gray + 50;
I_gray4 = I_gray * 0.5;
I_gray5 = I_gray * 2.0;
% 
subplot(1, 11, 1);
imshow(I);
title('原图');
%
subplot(1, 11, 2);
imshow(I_gray);
title('原图的灰度图');
%
subplot(1, 11, 3);
imhist(I_gray);
title('原图的灰度直方图');
%
subplot(1, 11, 4);
imshow(I_gray2);
title('Igray2 = Igray - 50');
%
subplot(1, 11, 5);
imhist(I_gray2);
%
subplot(1, 11 ,6);
imshow(I_gray3);
title('Igray3 = Igray + 50');
%
subplot(1, 11, 7);
imhist(I_gray3);
%
subplot(1, 11, 8);
imshow(I_gray4);
title('Igray4 = Igray * 0.5');
%
subplot(1, 11, 9);
imhist(I_gray4);
%
subplot(1, 11, 10);
imshow(I_gray5);
title('Igray5 = Igray * 2.0');
%
subplot(1, 11, 11);
imhist(I_gray5);
</code></pre> 
<p><img alt="" height="134" src="https://images2.imgbox.com/15/bf/f0r2icAh_o.png" width="807"></p> 
<p> 1.3.2 分段线性灰度变换 </p> 
<p><img alt="" height="544" src="https://images2.imgbox.com/2b/a1/oFOvyz53_o.png" width="584"></p> 
<pre><code class="language-cpp">%对图像进行分段线性变换 
%用底层算法实现 
image = imread('Durant.png');
%rgb2gray是MATLAB内部一种处理图像的函数. 
%通过消除图像色调和饱和度信息, 同时保留亮度, 
%实现将RGB图像或彩色图像转换为灰度图像. 
%即灰度化处理. 
image_gray = rgb2gray(image);
%image(:,:,1): 获取三维矩阵image中第一维、第二维的全部元素 
image_matrix = image_gray(:,:,1);
%将image_matrix数组中的元素类型转换为double类型
%image_matrix = double(image_matrix);
%size(image): 
%将三维矩阵image的行数给height, 
%将.............的列数给width, 
%将...........的通道数给channels. 
[height, width, channels] = size(image_gray);
%创建一个height×width的零矩阵
G = zeros(height, width);
%标定坐标点
x1 = 40; 
x2 = 130;
y1 = 50;  
y2 = 190;
%创建一个1×255的零向量
%灰度映射表, 灰度在0到255之间
%注: f(0) = 0
gray_map = zeros(1, 255);
%计算灰度映射表 
%当x &lt; x1时, 灰度变换函数为
%f(x) = y1 / x1 * x
for i = 1 : x1 - 1 %i从1到x1-1, 步长默认为1
    gray_map(i) = y1 * i / x1;
end
%当x1 ≤ x ≤ x2时, 灰度变换函数为
%f(x) = (y2 - y1)*(x - x1) / (x2 - x1) + y1
for i = x1 : x2 %i从x1到x2, 步长默认为1
    gray_map(i) = (y2 - y1) * (i - x1) / (x2 - x1) + y1;
end
%当x &gt; x2时, 灰度变换函数为 
%f(x) = (255 - y2)*(x - x2) / (255 - x2) + y2
for i = x2 + 1 : 255 %i从x2+1到255
    gray_map(i) = (255 - y2) * (i - x2) / (255 - x2) + y2;
end
%
for i = 1 : height
    for j = 1 : width
        %遍历image_matrix矩阵的每一个元素
        T = image_matrix(i, j); %分析图片矩阵中坐标为(i, j)的元素
        if(T == 0)
           G(i, j) = 0; 
        else
           G(i, j) = gray_map(T); %根据映射关系, 将映射后的值放入G矩阵中坐标(i ,j)的位置
        end
    end
end
%将G矩阵中的元素类型转换为uint8(0~255)
image_out = uint8(G);
%显示原图的灰度图像
subplot(1, 4, 1);
imshow(image_gray);
title('原图的灰度图像');
%显示原图(灰度图像)的直方图
subplot(1, 4, 2);
imhist(image_gray);
title('原图灰度图像的直方图');
%显示处理后的图像
subplot(1, 4, 3);
imshow(image_out);
title('处理后的图像');
%显示处理后(灰度图像)的直方图
subplot(1, 4, 4);
imhist(image_out);
title('处理后的灰度直方图');
</code></pre> 
<p><img alt="" height="319" src="https://images2.imgbox.com/00/75/kzftELQ7_o.png" width="812"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4421512b4bb309d81fd538f0b4a8f602/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">电脑外放没有声音，插耳机或者外接音箱有声音（Win 10）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c026823923de78a33a3777e2e732e255/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【毕业设计】大数据心血管疾病数据分析（医学大数据分析）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>