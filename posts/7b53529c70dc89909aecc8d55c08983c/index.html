<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用C语言写三子棋（详解，含具体代码） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用C语言写三子棋（详解，含具体代码）" />
<meta property="og:description" content="文章目录 前言一、实现流程二、实现步骤 1.简易菜单界面2.创建棋盘3.对棋盘初始化4.打印棋盘5.玩家落子6.电脑落子7.判断输赢三.具体代码展示 前言 三子棋是我们小时候常玩的小游戏，它的游戏方法比较简单，就是在一个棋盘上分先后手，下放不同位置的棋子，当你有三个棋子连接到一条线上（横向、竖向、斜向均可），你就赢得了比赛，简而言之是比较容易的，下面我们通过C语言实现它(这里是实现玩家与电脑对下，电脑随机落子)。
提示：以下是本篇文章正文内容，下面案例可供参考
一、实现流程 1.创建简易菜单。
2.初始化棋盘。
3.打印棋盘。
4.玩家下棋(用‘x’表示玩家输入的坐标)输入行和列，用 ‘ * ’ 表示玩家落子。
5.电脑下棋(电脑随机下棋),用 ‘ # ’ 表示电脑落子。
6.判断输赢
二、使用步骤 1.创建菜单 1.开始游戏 0.退出游戏
void menu() { printf(&#34;*********************\n&#34;); printf(&#34;******* 1.play ******\n&#34;); printf(&#34;******* 0.exit ******\n&#34;); printf(&#34;*********************\n&#34;); } 2.创建棋盘 这里用到的是char类型的二维数组来演示。
使用宏代码的优点：
1.提高代码的可读性
2.方便以后对其进行修改，只需要修改宏定义的值不需要修改其他值。
#include &lt;stdlib.h&gt; #include &lt;time.h&gt; #define ROW 3 #define COL 3 3.初始化棋盘 用字符‘ ’表示我们棋盘上的尚未落子的位置。
void init_board(char board[ROW][COL], int row, int col) { int i = 0; int j = 0; for (i = 0; i &lt; row; i&#43;&#43;) { for (j = 0; j &lt; col; j&#43;&#43;) { board[i][j] = &#39; &#39;; } } } 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7b53529c70dc89909aecc8d55c08983c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-17T11:04:57+08:00" />
<meta property="article:modified_time" content="2022-09-17T11:04:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用C语言写三子棋（详解，含具体代码）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="_0"></a></h2> 
<p></p> 
<div> 
 <h4 id="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">文章目录</h4> 
 <ul><li><a href="#_12" rel="nofollow">前言</a></li><li><a href="#pandas_22" rel="nofollow">一、</a><span style="color:#4da8ee;">实现流程</span></li><li><a href="#_26" rel="nofollow">二、<span style="color:#4da8ee;">实现步骤</span></a> 
   <ul><li><a href="#1_27" rel="nofollow"><span style="color:#4da8ee;">1.</span></a><span style="color:#4da8ee;">简易菜单界面</span></li><li><a href="#2_41" rel="nofollow"><span style="color:#4da8ee;">2.</span></a><span style="color:#4da8ee;">创建棋盘</span></li><li><span style="color:#4da8ee;">3.对棋盘初始化</span></li><li><span style="color:#4da8ee;">4.打印棋盘</span></li><li><span style="color:#4da8ee;">5.玩家落子</span></li><li><span style="color:#4da8ee;">6.电脑落子</span></li><li><span style="color:#4da8ee;">7.判断输赢</span></li></ul></li><li><span style="color:#4da8ee;">三.具体代码展示</span></li></ul> 
</div> 
<p></p> 
<hr> 
<h2 id="%E5%89%8D%E8%A8%80"><a id="_12"></a>前言</h2> 
<p>三子棋是我们小时候常玩的小游戏，它的游戏方法比较简单，就是在一个棋盘上分先后手，下放不同位置的棋子，当你有三个棋子连接到一条线上（横向、竖向、斜向均可），你就赢得了比赛，简而言之是比较容易的，下面我们通过C语言实现它(这里是实现玩家与电脑对下，电脑随机落子)。</p> 
<hr> 
<p><code>提示：以下是本篇文章正文内容，下面案例可供参考</code></p> 
<h2 id="%E4%B8%80%E3%80%81%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B"><a id="pandas_22"></a>一、实现流程</h2> 
<blockquote> 
 <p>1.创建简易菜单。</p> 
 <p>2.初始化棋盘。</p> 
 <p>3.打印棋盘。</p> 
 <p>4.玩家下棋(用‘x’表示玩家输入的坐标)输入行和列，用 ‘ * ’ 表示玩家落子。</p> 
 <p>5.电脑下棋(电脑随机下棋),用 ‘ # ’ 表示电脑落子。</p> 
 <p>6.判断输赢</p> 
</blockquote> 
<h2 id="%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><a id="_26"></a>二、使用步骤</h2> 
<h3 id="1.%E5%BC%95%E5%85%A5%E5%BA%93"><a id="1_27"></a>1.创建菜单</h3> 
<p>1.开始游戏   0.退出游戏</p> 
<pre><code class="language-cpp">void menu()
{
	printf("*********************\n");
	printf("******* 1.play ******\n");
	printf("******* 0.exit ******\n");
	printf("*********************\n");
}</code></pre> 
<h3 id="2.%E8%AF%BB%E5%85%A5%E6%95%B0%E6%8D%AE"><a id="2_41"></a>2.创建棋盘</h3> 
<p>这里用到的是char类型的二维数组来演示。</p> 
<p><span style="color:#fe2c24;">使用宏代码的优点：</span></p> 
<p><span style="color:#fe2c24;">1.提高代码的可读性</span></p> 
<p><span style="color:#fe2c24;">2.方便以后对其进行修改，只需要修改宏定义的值不需要修改其他值。</span></p> 
<pre><code class="language-cpp">#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define ROW 3
#define COL 3
</code></pre> 
<h3 id="%E6%80%BB%E7%BB%93">3.初始化棋盘</h3> 
<p>用字符‘   ’表示我们棋盘上的尚未落子的位置。</p> 
<pre><code class="language-cpp">void init_board(char board[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			board[i][j] = ' ';
		}
	}
}</code></pre> 
<h3>4.打印棋盘</h3> 
<p>为了使棋盘能够更好的展示在我们面前，我们在每个落子位置后面加上<span style="color:#fe2c24;">‘|’</span>，在每一行输入之后打印<span style="color:#fe2c24;">‘-’</span>间隔段(为了美观我们将每行或每列的最后一部分去掉<span style="color:#fe2c24;">‘|’和‘-’</span>)，使我们能够更加清晰的看</p> 
<p>清楚需要我们落子的位置。</p> 
<pre><code class="language-cpp">void display_board(char board[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if (j &lt; col - 1)
				printf("|");
		}
		printf("\n");
		if (i &lt; row - 1)
		{
			for (j = 0; j &lt; col; j++)
			{
				printf("---");
				if (j &lt; col - 1)
				{
					printf("|");
				}
			}
			printf("\n");
		}
	}
}</code></pre> 
<h4>输入结果如下：</h4> 
<h3 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c4/dc/lPNOSBCr_o.png"></h3> 
<p></p> 
<h3>5.玩家落子</h3> 
<p>玩家输入行和列表示落子，‘ * ’表示玩家落子。</p> 
<p><span style="color:#fe2c24;">注意事项：</span></p> 
<p><span style="color:#fe2c24;">1.因为人们一般把第一行和第一列容易认为是 </span><span style="color:#0d0016;">1 1，</span><span style="color:#fe2c24;">但二维数组的第一个是以</span><span style="color:#0d0016;"><strong>0 0</strong></span><span style="color:#fe2c24;">来开头，所以我们需要将下的坐标进行减一处理。</span></p> 
<p><span style="color:#fe2c24;">2.玩家落子需要在棋盘里，未落在棋盘内的棋子需要给与相应的警告，并重新输入。</span></p> 
<pre><code class="language-cpp">void player_move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	while (1)
	{
		printf("请输入要下棋的坐标:&gt;");
		scanf("%d %d", &amp;x, &amp;y);
		//判断该坐标是否被占用，或者是否非法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '*';
				break;
			}
			else
			{
				printf("该坐标已被占用，请重新输入\n");
			}
		}
		else
		{
			printf("该坐标非法，请重新输入\n");
		}
	}
}</code></pre> 
<h3>6.电脑下棋</h3> 
<p>电脑随机下棋，用‘#’表示电脑落子。</p> 
<p><span style="color:#fe2c24;">注意：</span></p> 
<p><span style="color:#fe2c24;">1.因为电脑下棋是随机的，我们这里需要运用到</span><strong><span style="color:#0d0016;">时间戳</span></strong><span style="color:#fe2c24;">(</span><span style="color:#511b78;">srand((unsigned int)time(NULL));</span><span style="color:#fe2c24;">)</span></p> 
<p><span style="color:#fe2c24;">将时间作为产生随机数的来源，确保得到的行列坐标是真随机的。</span></p> 
<p><span style="color:#fe2c24;">2.因为电脑要落子在棋盘内，所以我们在这里将随机数分别对行和列进行取模得到小于行和列的数，确定是落在棋盘内。</span></p> 
<pre><code class="language-cpp">void computer_move(char board[ROW][COL], int row, int col)
{
	printf("电脑下棋:&gt;\n");
	while (1)
	{
		int x = rand() % row;
		int y = rand() % col;
		if (board[x][y] == ' ')
		{
			board[x][y] = '#';
			break;
		}
	}
}</code></pre> 
<h3>7.判断输赢</h3> 
<p>1.判断平局</p> 
<p>   这里用<span style="color:#fe2c24;">‘Q’</span>表示平局，判断平局我们需要创建一个函数判断棋盘是否满了</p> 
<p>   这里返回<span style="color:#fe2c24;">1</span>表示棋盘已经满了，返回<span style="color:#fe2c24;">0</span>表示棋盘还未满。</p> 
<pre><code class="language-cpp">static int is_full(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		int j = 0;
		for (j = 0; j &lt; col; j++)
		{
			if (' ' == board[i][j])
			{
				return 0;
			}
		}
	}

	return 1;
}
</code></pre> 
<pre><code class="language-cpp">if (is_full(board, row, col) == 1)
	{
		return 'Q';
	}</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/7d/70/3h5288qc_o.png"></p> 
<p> </p> 
<p>（1）用<span style="color:#fe2c24;">‘C’</span>表示棋局继续进行</p> 
<p>（2）用<strong><span style="color:#fe2c24;">‘*’</span></strong> 表示玩家获得胜利</p> 
<p>（3）用<span style="color:#fe2c24;">‘#’</span><span style="color:#0d0016;">表示电脑获得胜利</span></p> 
<p><span style="color:#0d0016;">3. 判断玩家与电脑的胜利</span></p> 
<p><span style="color:#0d0016;">（1）判断所有行</span></p> 
<p>（2）判断所有列</p> 
<p>（3）判断两条对角线</p> 
<pre><code class="language-cpp">char is_win(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		if (board[i][0] == board[i][1] &amp;&amp; board[i][1] == board[i][2] &amp;&amp; board[i][0] != ' ')
		{
			return board[i][0];
		}
	}
	for (i = 0; i &lt; col; i++)
	{
		if (board[0][i] == board[1][i] &amp;&amp; board[1][i] == board[2][i] &amp;&amp; board[0][i] != ' ')
		{
			return board[0][i];
		}
	}
	if (board[0][0] == board[1][1] &amp;&amp; board[1][1] == board[2][2] &amp;&amp; board[1][1] != ' ')
	{
		return board[1][1];
	}
	if (board[0][2] == board[1][1] &amp;&amp; board[1][1] == board[2][0] &amp;&amp; board[1][1] != ' ')
	{
		return board[1][1];
	}</code></pre> 
<p><span style="color:#0d0016;">4.分别展示玩家与电脑胜利情况</span></p> 
<p><span style="color:#0d0016;">（1）玩家赢</span></p> 
<p style="text-align:center;"><span style="color:#0d0016;"><img alt="" src="https://images2.imgbox.com/51/21/AEVPzpMZ_o.png"></span></p> 
<p>（2）电脑赢</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/98/da/2Cm7gDCR_o.png"> </p> 
<h3>三.具体代码展示 </h3> 
<p><span style="color:#fe2c24;">注：分为三个文件</span></p> 
<p>（1）game.h</p> 
<pre><code class="language-cpp">#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

#define ROW 3
#define COL 3

//初始化棋盘
void init_board(char board[ROW][COL], int row, int col);

//打印棋盘
void display_board(char board[ROW][COL], int row, int col);

//玩家下棋
void player_move(char board[ROW][COL], int row, int col);

//电脑下棋
void computer_move(char board[ROW][COL], int row, int col);

//判断游戏状态
char is_win(char board[ROW][COL], int row, int col);</code></pre> 
<p>（2）game.c</p> 
<pre><code class="language-cpp">#include "game.h"

void init_board(char board[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			board[i][j] = ' ';
		}
	}
}
void display_board(char board[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if (j &lt; col - 1)
				printf("|");
		}
		printf("\n");
		if (i &lt; row - 1)
		{
			for (j = 0; j &lt; col; j++)
			{
				printf("---");
				if (j &lt; col - 1)
				{
					printf("|");
				}
			}
			printf("\n");
		}
	}
}
void player_move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	while (1)
	{
		printf("请输入要下棋的坐标:&gt;");
		scanf("%d %d", &amp;x, &amp;y);
		//判断该坐标是否被占用，或者是否非法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '*';
				break;
			}
			else
			{
				printf("该坐标已被占用，请重新输入\n");
			}
		}
		else
		{
			printf("该坐标非法，请重新输入\n");
		}
	}
}
void computer_move(char board[ROW][COL], int row, int col)
{
	printf("电脑下棋:&gt;\n");
	while (1)
	{
		int x = rand() % row;
		int y = rand() % col;
		if (board[x][y] == ' ')
		{
			board[x][y] = '#';
			break;
		}
	}
}
//判断棋盘是否满了
static int is_full(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		int j = 0;
		for (j = 0; j &lt; col; j++)
		{
			if (' ' == board[i][j])
			{
				return 0;
			}
		}
	}

	return 1;
}

char is_win(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		if (board[i][0] == board[i][1] &amp;&amp; board[i][1] == board[i][2] &amp;&amp; board[i][0] != ' ')
		{
			return board[i][0];
		}
	}
	for (i = 0; i &lt; col; i++)
	{
		if (board[0][i] == board[1][i] &amp;&amp; board[1][i] == board[2][i] &amp;&amp; board[0][i] != ' ')
		{
			return board[0][i];
		}
	}
	if (board[0][0] == board[1][1] &amp;&amp; board[1][1] == board[2][2] &amp;&amp; board[1][1] != ' ')
	{
		return board[1][1];
	}
	if (board[0][2] == board[1][1] &amp;&amp; board[1][1] == board[2][0] &amp;&amp; board[1][1] != ' ')
	{
		return board[1][1];
	}

	//判断平局
	if (is_full(board, row, col) == 1)
	{
		return 'Q';
	}

	//继续
	return 'C';
}
</code></pre> 
<p>（3）test.c</p> 
<pre><code class="language-cpp">#include "game.h"

void menu()
{
	printf("*********************\n");
	printf("******* 1.play ******\n");
	printf("******* 0.exit ******\n");
	printf("*********************\n");
}
void game()
{
	char ret = 0;
	char board[ROW][COL] = { 0 };
	init_board(board, ROW, COL);
	display_board(board, ROW, COL);
	while (1)
	{
		player_move(board, ROW, COL);
		display_board(board, ROW, COL);

		ret = is_win(board, ROW, COL);
		if (ret != 'C')
			break;

		computer_move(board, ROW, COL);
		display_board(board, ROW, COL);

		ret = is_win(board, ROW, COL);
		if (ret != 'C')
		    break;

	}
	if (ret == '*')
	{
		printf("玩家赢\n");
	}
	else if (ret == '#')
	{
		printf("电脑赢\n");
	}
	else if (ret == 'Q')
	{
		printf("平局\n");
	}
	display_board(board, ROW, COL);

}


int main()
{
	int input = 0;
	srand((unsigned int)time(NULL));

	do
	{
		menu();
		printf("请输入数字：&gt;");
		scanf("%d", &amp;input);
		switch (input)
		{
		case 1:
			game();
			break;
		case 0:
			printf("退出游戏\n");
			break;
		default:
			printf("输入错误，请重新输入:&gt;");
			printf("\n");
			break;
		}
	}while (input);

	return 0;
}</code></pre> 
<p>作为一个新手，在这里感谢大家的支持，以后会创作更好的作品。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/227e9d85bc5f937556bbf56a69a9152c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【IDEA中使用Spring框架】IDEA中导入Spring坐标报错！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/88ef4ca1b1809bca2501bd0a5314af3f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用Https://域名/接口路径 调用后台接口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>