<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信聊天小程序——（三、获取好友列表） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信聊天小程序——（三、获取好友列表）" />
<meta property="og:description" content="三、获取好友列表 步骤一、展示所有好友的推荐列表（friends页面） 具体效果：
实现思路：
我们有我们的用户数据库表即：uers循环我们的数据库用户表，达到所有的用户信息，即：userList利用云函数拿到我们的userList，赋值给data，之后再页面中显示出来显示的时候，注意用 onLoad调用，因为每次页面打开都需要加载 注意：因为好友列表在每一次打开页面的时候都要加载，所以，我们写在页面函数中。
在js文件中：
// pages/friends/friends.js Page({ /** * 页面的初始数据 */ data: { }, //在每次页面加载的时候进行调用 onLoad(options) { this.getAllUser(); }, // 功能：获取所有的用户信息 getAllUser(){ var that=this; wx.cloud.database().collection(&#34;chat_users1&#34;).get( { success(res){ console.log(res) that.setData({ userList:res.data }) } } ) } }) 在wxml文件中
&lt;button&gt;附近好友&lt;/button&gt; &lt;view &gt; &lt;button class=&#34;myfriends&#34;&gt;我的好友&lt;/button&gt; &lt;/view&gt; //写一个block，经常用来接收一堆相同的数据 &lt;block class=&#34;list_fox&#34; wx:for=&#34;{{userList}}&#34;&gt; //里面的图片和文本用view标签包裹，为了view在一行显示 &lt;view class=&#34;list_item&#34;&gt; &lt;image class=&#34;ima&#34; src=&#34;{{item.faceImg}}&#34;&gt;&lt;/image&gt; &lt;view class=&#34;name&#34;&gt;{{item.nickName}}&lt;/view&gt; &lt;/view&gt; &lt;/block&gt; 在wxss样式文件中
.myfriends{ margin-left: 10rpx; } .ima{ width: 120rpx ; height: 120rpx; border-radius: 50%; } ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/eaecdabb23138385ed25bb60be775d6e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-06T21:39:01+08:00" />
<meta property="article:modified_time" content="2022-08-06T21:39:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信聊天小程序——（三、获取好友列表）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="_2"></a>三、获取好友列表</h5> 
<h3><a id="friends_5"></a>步骤一、展示所有好友的推荐列表（friends页面）</h3> 
<p>具体效果：<br> <img src="https://images2.imgbox.com/d4/09/9hg8uPW3_o.png" alt="在这里插入图片描述"></p> 
<p>实现思路：</p> 
<ul><li>我们有我们的用户数据库表即：uers</li><li>循环我们的数据库用户表，达到所有的用户信息，即：userList</li><li>利用云函数拿到我们的userList，赋值给data，之后再页面中显示出来</li><li>显示的时候，注意用 onLoad调用，因为每次页面打开都需要加载</li></ul> 
<p><strong>注意：因为好友列表在每一次打开页面的时候都要加载，所以，我们写在页面函数中。</strong></p> 
<p>在js文件中：</p> 
<pre><code>// pages/friends/friends.js
Page({

  /**
   * 页面的初始数据
   */
  data: {

  },

  //在每次页面加载的时候进行调用
  onLoad(options) {
   this.getAllUser();
  },
  
  // 功能：获取所有的用户信息
  getAllUser(){
  var that=this;
  wx.cloud.database().collection("chat_users1").get(
    {
      success(res){
        console.log(res)
        that.setData({
          userList:res.data
        })
      }
    }
  )
  }


})
</code></pre> 
<p>在wxml文件中</p> 
<pre><code>&lt;button&gt;附近好友&lt;/button&gt;
&lt;view &gt;
&lt;button class="myfriends"&gt;我的好友&lt;/button&gt;
&lt;/view&gt;

//写一个block，经常用来接收一堆相同的数据
&lt;block class="list_fox" wx:for="{<!-- -->{userList}}"&gt;

//里面的图片和文本用view标签包裹，为了view在一行显示
&lt;view class="list_item"&gt;
&lt;image class="ima" src="{<!-- -->{item.faceImg}}"&gt;&lt;/image&gt;
&lt;view class="name"&gt;{<!-- -->{item.nickName}}&lt;/view&gt;
&lt;/view&gt;

&lt;/block&gt;
</code></pre> 
<p>在wxss样式文件中</p> 
<pre><code>.myfriends{

 margin-left: 10rpx;

}
.ima{
  width: 120rpx ;
  height: 120rpx;
  border-radius: 50%;
}
.list_item{
  margin: 10rpx 10rpx;
  padding: 10rpx;
  display: flex;
  flex-direction: row;
  align-items: center;
}
.name{
 margin: 10rpx 10rpx 10rpx 30rpx;
}
</code></pre> 
<p>具体效果演示：</p> 
<p><img src="https://images2.imgbox.com/ba/4f/Zemsu4Hv_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_107"></a>步骤二、修饰好友页面</h6> 
<p>效果：</p> 
<p><img src="https://images2.imgbox.com/ba/7e/OdZhreGq_o.png" alt="在这里插入图片描述"></p> 
<p>思路：</p> 
<ul><li> <p>主要是样式部分</p> </li><li> <p>页面的数据已经在上一个步骤中已经获取，即，userList</p> </li><li> <p>这个页面进行调用就行</p> </li><li> <p>调用的时候，使用block组件，循环我们获取到的用户表</p> </li></ul> 
<p>在wxml文件中：</p> 
<pre><code>&lt;view&gt;推荐好友：&lt;/view&gt;

&lt;block class="list_fox" wx:for="{<!-- -->{userList}}"&gt;

  &lt;view class="list_item"&gt;

    &lt;view class="left"&gt;
      &lt;image class="ima" src="{<!-- -->{item.faceImg}}"&gt;&lt;/image&gt;
      &lt;view class="name"&gt;{<!-- -->{item.nickName}}&lt;/view&gt;
    &lt;/view&gt;
  &lt;view class="right"&gt;添加好友&lt;/view&gt;

  &lt;/view&gt;

&lt;/block&gt;

&lt;view&gt;我的好友：&lt;/view&gt;
</code></pre> 
<p>在js文件中：</p> 
<pre><code>// pages/friends/friends.js
Page({

  /**
   * 页面的初始数据
   */
  data: {

  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad(options) {
   this.getAllUser();
  },
  // 功能：获取所有的用户信息
  getAllUser(){
  var that=this;
  wx.cloud.database().collection("chat_users1").get(
    {
      success(res){
        console.log(res)
        that.setData({
          userList:res.data
        })
      }
    }
  )
  }


})
</code></pre> 
<p>在wxss文件中：</p> 
<p>注意这个时候，我们设计样式的思路：</p> 
<p>一行有两个盒子，左边一个，右边一个。</p> 
<p>其中，左边的盒子里有两个小盒子。</p> 
<p><img src="https://images2.imgbox.com/63/dd/bbIYPHoa_o.png" alt="在这里插入图片描述"></p> 
<pre><code>.myfriends{

 margin-left: 10rpx;

}
.ima{
  width: 120rpx ;
  height: 120rpx;
  border-radius: 50%;
}
.list_item{
  margin: 10rpx 10rpx;
  padding: 10rpx;
  display: flex;
  flex-direction: row;

}
.name{
 margin: 10rpx 10rpx 10rpx 30rpx;
}
.left{
 display: flex;
 flex-direction: row;
 
}
.right{
 margin: 10rpx 0rpx 0rpx 350rpx;
}
</code></pre> 
<hr> 
<h6><a id="_234"></a>步骤三、添加好友</h6> 
<p>具体效果：</p> 
<p><img src="https://images2.imgbox.com/cc/98/VIM2exHi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/df/df/w4fmL7nQ_o.png" alt="在这里插入图片描述"></p> 
<p>思路：</p> 
<ul><li>本质上是建立一个新的聊天记录表，在这个表格中进行操作.<br> 这个表格有的参数<br> 聊天记录<br> 是否为好友<br> 双方信息<br> 当然有_id_</li><li>当一方发出请求时，建立一个聊天记录表<br> 聊天记录 空数组<br> 是否为好友0<br> 双方信息 userA和userB</li><li>当登录另外一个账号的时候，从对方的“我的好友”页面，能收到消息</li><li>_在我的新朋友页面本质上就是：查询是否有人发出好友验证信息，即，userB的_id是否等于此账号的_id，并且isfriend是否为0</li><li>将获取到的相应的聊天表赋值给本页的data，同时在页面中显示。</li><li>如果点击“同意添加好友”，就意味着向我们的聊天记录表中，查询自己是被邀请方，升级我们的好友状态isfriend为1。</li></ul> 
<p><strong>首先是我们的friend页面中</strong></p> 
<p>在js文件中：</p> 
<p>两个主要函数</p> 
<p><code>getNewFriends()</code></p> 
<pre><code> // 功能：当点击新的朋友的时候，跳转到新的朋友页面
</code></pre> 
<p><code> addFriend(e)</code></p> 
<pre><code>// 功能：当点击添加好友的时候，创建关于用户和对应好友的聊天表
// 思路：1.通过获取对应数组的角标，获取对应的用户信息userList中
//      2.将用户和对应好友的用户信息都作为数据库表信息，添加到我们的数据库表中
</code></pre> 
<pre><code>const app=getApp()
Page({

  /**
   * 页面的初始数据
   */
  data: {

  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad(options) {
   this.getAllUser();
  },
  // 功能：获取所有的用户信息
  getAllUser(){
  var that=this;
  wx.cloud.database().collection("chat_users1").get(
    {
      success(res){
        console.log(res)
        that.setData({
          userList:res.data
        })
      }
    }
  )
  },


  // 功能：当点击新的朋友的时候，跳转到新的朋友页面
  getNewFriends(){
    wx.navigateTo({
      url: '/pages/newFridends/newFridends',
    })
  },

// 功能：当点击添加好友的时候，创建关于用户和对应好友的聊天表
// 思路：1.通过获取对应数组的角标，获取对应的用户信息userList中
//      2.将用户和对应好友的用户信息都作为数据库表信息，添加到我们的数据库表中
  addFriend(e){
    // // 功能：当点击添加好友的时候，判断是否登录，只有登录才可以添加好友
    // if(!app.globalData. userInfo){
    //   wx.showToast({
    //     icon:"none",
    //     title: '请登录',
    //   })
    // }

   console.log(e.currentTarget.dataset.index)//查看点击情况
   var index=e.currentTarget.dataset.index
   var that=this;
   wx.cloud.database().collection("chat_record1").add({
     data:{
      userA_faceImg:app.globalData.userInfo.faceImg,//头像
      userA_id:app.globalData.userInfo._id,//唯一身份标识符
      userA_nickName:app.globalData.userInfo.nickName,//昵称

      userB_faceImg:that.data.userList[index].faceImg,//头像
      userB_id:that.data.userList[index]._id,//唯一身份标识符
      userB_nickName:that.data.userList[index].nickName,//昵称
      isFriend:0,//是否是好友，0代表发送请求，1代表是好友
      record:[]//聊天内容进行记录
     },
     success(res){
       console.log(res)
       wx.showToast({
         title: '发送请求成功',
       })
     }

   })

  }

})
</code></pre> 
<p>在wxml文件中：</p> 
<pre><code>

&lt;view bindtap="getNewFriends"&gt;新的朋友：&lt;/view&gt;
&lt;view&gt;推荐好友：&lt;/view&gt;

&lt;block class="list_fox" wx:for="{<!-- -->{userList}}"&gt;

  &lt;view class="list_item"&gt;

    &lt;view class="left"&gt;
      &lt;image class="ima" src="{<!-- -->{item.faceImg}}"&gt;&lt;/image&gt;
      &lt;view class="name"&gt;{<!-- -->{item.nickName}}&lt;/view&gt;
    &lt;/view&gt;
  &lt;view class="right" bindtap="addFriend" data-index="{<!-- -->{index}}"&gt;添加好友&lt;/view&gt;

  &lt;/view&gt;

&lt;/block&gt;

&lt;view&gt;我的好友：&lt;/view&gt;

</code></pre> 
<p>在wxss文件中：</p> 
<pre><code>.myfriends{

 margin-left: 10rpx;

}
.ima{
  width: 120rpx ;
  height: 120rpx;
  border-radius: 50%;
}
.list_item{
  margin: 10rpx 10rpx;
  padding: 10rpx;
  display: flex;
  flex-direction: row;

}
.name{
 margin: 10rpx 10rpx 10rpx 30rpx;
}
.left{
 display: flex;
 flex-direction: row;
 
}
.right{
 margin: 10rpx 0rpx 0rpx 350rpx;
}
</code></pre> 
<p><strong>其次是我们的newfriends页面</strong></p> 
<p>在我们的js文件中：</p> 
<p><code>addFriend_yes(e)</code></p> 
<pre><code>// 功能：当点击同意的时候，更新聊天表格中的信息，确认添加为好友。
// 思路：1.先获取具体是同意哪一个好友的验证，使用index.
//            2.根据我们点击的具体好友的的信息记录情况，获取两人好友信息。
//            3.更新其中的好友状态信息
</code></pre> 
<p><code>getNewFriends()</code></p> 
<pre><code>  // 功能：当打开页面的时候，加载所有的新的朋友
  // 思路：1.获取自己的_id
 //             2.在我们的聊天记录表中查询，当userB_id和我们自身的_id一样的时候，我们就获取到了关于申请好友的信息
 //             3.将获取到的信息表赋值给本页的data中，在wxml页面中渲染
</code></pre> 
<p><strong>注意在页面开始加载的时候就要调用我们的getNewFriends()函数。</strong></p> 
<pre><code>const app=getApp()
Page({


  data: {

  },

  onLoad(options) {
  this.getNewFriends();
  },

  // 功能：当打开页面的时候，加载所有的新的朋友
  // 思路：1.获取自己的_id
 //       2.在我们的聊天记录表中查询，当userB_id和我们自身的_id一样的时候，我们就获取到了关于申请好友的信息
 //       3.将获取到的信息表赋值给本页的data中，在wxml页面中渲染
  getNewFriends(){
  var that=this;
  console.log(app.globalData.userInfo._id)
  wx.cloud.database().collection("chat_record1").where({
    userB_id:app.globalData.userInfo._id,
    isFriend:0,
    }).get({
      success(res){
      that.setData({
        newFridendsList:res.data
      })
      console.log(res)
      }
    })
  },


// 功能：当点击同意的时候，更新聊天表格中的信息，确认添加为好友。
// 思路：1.先获取具体是同意哪一个好友的验证，使用index.
//      2.根据我们点击的具体好友的的信息记录情况，获取两人好友信息。
//      3.更新其中的好友状态信息
  addFriend_yes(e){
    var that=this
    console.log(e.currentTarget.dataset.index)
    const index=e.currentTarget.dataset.index
    wx.cloud.database().collection("chat_record1").doc(that.data.newFridendsList[index]._id).update({
      data:{
        isFriend:1
      },
      success(res){
        wx.switchTab({
          url: '/pages/friends/friends',
        })
        wx.showToast({
          title: '添加成功',
        })
        console.log(res)
      }
    })
  }
  
})
</code></pre> 
<p>在wxml文件中：</p> 
<pre><code> &lt;block wx:for="{<!-- -->{newFridendsList}}"&gt;
  &lt;view class="img-zh" &gt;
    &lt;view class="left"&gt;
      &lt;image class="img" src="{<!-- -->{item.userA_faceImg}}"&gt;&lt;/image&gt;
      &lt;view class="img-text"&gt;{<!-- -->{item.userA_nickName}}&lt;/view&gt;    
    &lt;/view&gt;
   &lt;view class="right" bindtap="addFriend_yes" data-index="{<!-- -->{index}}"&gt;同意&lt;/view&gt;
  &lt;/view&gt;
&lt;/block&gt; 

</code></pre> 
<p>在我们的样式文件wxss文件中：</p> 
<pre><code>.img-zh{
  display: flex;
  flex-direction: row;
  height: 120rpx;
 margin: 10rpx 10rpx 0rpx 20rpx;
 justify-content: space-between;

}
/*头像图片样式 */
.img{
  border-radius: 50%;
  height: 100rpx;
  width: 100rpx;
  margin-top: 10rpx;
}
/* 账号显示样式 */
.img-text{
  margin: 40rpx;
}
.left{
  display: flex;
  flex-direction: row;
}
.right{
  margin: 45rpx 20rpx 0rpx 5rpx;
}
</code></pre> 
<hr> 
<p>#####步骤四、我的好友页面渲染</p> 
<p>具体效果：</p> 
<p><img src="https://images2.imgbox.com/28/29/EM8BZZBc_o.png" alt="在这里插入图片描述"></p> 
<p>思路：</p> 
<ul><li>本质<br> 查询满足条件的聊天表<br> isfriend<br> userA_id或者userB_id。因为A和B主要是看谁先发出申请，发出之后，就用这张表。</li><li>方法<br> 同时查询两类条件</li><li>渲染(wxml)<br> 将返回到的列表，给本页的data中<br> 我的好友页面，展示的是我的好友，而不是我。所以，userA或者userB都可能是我们的好友。因此，进行一个判断，如果是我们自己的时候，暂时另外一个user。</li><li>注意<br> 在页面展示的时候都要调用,以便于我们直接显示好友。</li></ul> 
<p><img src="https://images2.imgbox.com/0e/df/KJpzihik_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-AOqJbChu-1659623322426)(C:\Users\xieyahao\AppData\Roaming\Typora\typora-user-images\image-20220801223323842.png)]"></p> 
<p>在我们的好友页面中：</p> 
<p>js文件：</p> 
<pre><code>const app=getApp()
Page({

  /**
   * 页面的初始数据
   */
  data: {

  },

  onShow(){
    this.getAllUser();
    this.myFriends();
    // 功能：当每次打开的时候，我们渲染好友页面的时，需要有一个判断，这个时候要用到userinfo
    this.setData(
      {
        userInfo:app.globalData.userInfo
      }
    )
  },
  /**
   * 生命周期函数--监听页面加载
   */
  onLoad(options) {
  //  this.getAllUser();
  },
  // 功能：获取所有的用户信息
  getAllUser(){
  var that=this;
  wx.cloud.database().collection("chat_users1").get(
    {
      success(res){
        console.log(res)
        that.setData({
          userList:res.data
        })
      }
    }
  )
  },


  // 功能：当点击新的朋友的时候，跳转到新的朋友页面
  getNewFriends(){
    wx.navigateTo({
      url: '/pages/newFridends/newFridends',
    })
  },

// 功能：当点击添加好友的时候，创建关于用户和对应好友的聊天表
// 思路：1.通过获取对应数组的角标，获取对应的用户信息userList中
//      2.将用户和对应好友的用户信息都作为数据库表信息，添加到我们的数据库表中
  addFriend(e){
    // // 功能：当点击添加好友的时候，判断是否登录，只有登录才可以添加好友
    // if(!app.globalData. userInfo){
    //   wx.showToast({
    //     icon:"none",
    //     title: '请登录',
    //   })
    // }

   console.log(e.currentTarget.dataset.index)//查看点击情况
   var index=e.currentTarget.dataset.index
   var that=this;
   wx.cloud.database().collection("chat_record1").add({
     data:{
      userA_faceImg:app.globalData.userInfo.faceImg,//头像
      userA_id:app.globalData.userInfo._id,//唯一身份标识符
      userA_nickName:app.globalData.userInfo.nickName,//昵称

      userB_faceImg:that.data.userList[index].faceImg,//头像
      userB_id:that.data.userList[index]._id,//唯一身份标识符
      userB_nickName:that.data.userList[index].nickName,//昵称
      isFriend:0,//是否是好友，0代表发送请求，1代表是好友
      record:[]//聊天内容进行记录
     },
     success(res){
       console.log(res)
       wx.showToast({
         title: '发送请求成功',
       })
     }

   })
  },


  // 功能：当我的好友页面展示的时候，显示出我的好友
  // 思路：1.查询聊天表中，A或B为我们userinfo相同_id同时，好友状态为1。注意这个时候可以用command.or
  //      2.将满足条件的值给到我们本页的data中
  //      3.渲染的时候，进行判断，因为A和B都可能是我们的好友，所以，当某个是我们好友的时候，不在本页渲染。
  myFriends(){
    var that = this;
    const _ = wx.cloud.database().command
    wx.cloud.database().collection("chat_record1").where(
      _.or([
      {
        userA_id:app.globalData.userInfo._id,
        isFriend:1
     },
     {
      userB_id:app.globalData.userInfo._id,
      isFriend:1
     }])
   ).get({
      success(res){
        console.log(res)
        that.setData({
          myFriendsList:res.data
        })
      }
    })
   },

})
</code></pre> 
<p>在wxml文件中：</p> 
<pre><code>

&lt;view bindtap="getNewFriends"&gt;新的朋友：&lt;/view&gt;
&lt;view&gt;推荐好友：&lt;/view&gt;

&lt;block class="list_fox" wx:for="{<!-- -->{userList}}"&gt;
  &lt;!-- &lt;block wx:if="{<!-- -->{userInfo._id==item._id}}"&gt; --&gt;
  &lt;view class="list_item"&gt;

    &lt;view class="left"&gt;
      &lt;image class="ima" src="{<!-- -->{item.faceImg}}"&gt;&lt;/image&gt;
      &lt;view class="name"&gt;{<!-- -->{item.nickName}}&lt;/view&gt;
    &lt;/view&gt;
  &lt;view class="right" bindtap="addFriend" data-index="{<!-- -->{index}}"&gt;添加好友&lt;/view&gt;

  &lt;/view&gt;
  &lt;!-- &lt;/block&gt; --&gt;

&lt;/block&gt;

&lt;view&gt;我的好友：&lt;/view&gt;

&lt;block class="list_fox" wx:for="{<!-- -->{myFriendsList}}"&gt;

  &lt;view  class="list_item"&gt;
  &lt;!-- 其中的一个条件 --&gt;
    &lt;block wx:if="{<!-- -->{userInfo._id==item.userA_id}}"&gt;
      &lt;view class="left"&gt;
        &lt;image class="ima" src="{<!-- -->{item.userB_faceImg}}"&gt;&lt;/image&gt;
        &lt;view class="name"&gt;{<!-- -->{item.userB_nickName}}&lt;/view&gt;
      &lt;/view&gt;
    &lt;/block&gt;
  &lt;!-- 其中的另外一个条件 --&gt;
    &lt;block wx:if="{<!-- -->{userInfo._id==item.userB_id}}"&gt;
      &lt;view class="left"&gt;
        &lt;image class="ima" src="{<!-- -->{item.userA_faceImg}}"&gt;&lt;/image&gt;
        &lt;view class="name"&gt;{<!-- -->{item.userA_nickName}}&lt;/view&gt;
      &lt;/view&gt;
    &lt;/block&gt;

  &lt;/view&gt;

&lt;/block&gt;
</code></pre> 
<p>在wxss文件中：</p> 
<pre><code>.myfriends{

 margin-left: 10rpx;

}
.ima{
  width: 120rpx ;
  height: 120rpx;
  border-radius: 50%;
}
.list_item{
  margin: 10rpx 10rpx;
  padding: 10rpx;
  display: flex;
  flex-direction: row;

}
.name{
 margin: 10rpx 10rpx 10rpx 30rpx;
}
.left{
 display: flex;
 flex-direction: row;
 
}
.right{
 margin: 10rpx 0rpx 0rpx 350rpx;
}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0bc680582fe64c2ce8d706bbd1f4cf84/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信聊天小程序——（四、聊天页面）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a51684ec7acf8cc5417bcf9e5df975c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【黑马-SpringCloud技术栈】【02】服务拆分及远程调用_服务提供者与消费者</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>