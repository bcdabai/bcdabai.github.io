<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>echarts 渲染图表出错 Cannot read properties of undefined (reading ‘$echarts‘) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="echarts 渲染图表出错 Cannot read properties of undefined (reading ‘$echarts‘)" />
<meta property="og:description" content="[Vue warn]: Error in mounted hook: &#34;TypeError: Cannot read properties of undefined (reading &#39;$echarts&#39;)&#34;
报错的原因是没能指向 echarts。
&lt;script&gt; export default { name: &#39;&#39;, components: {}, props: { id: { type: String, default: &#39;radar3&#39;, }, width: { type: String, default: &#39;100vw&#39;, }, height: { type: String, default: &#39;50vh&#39;, }, }, data() { return {}; }, computed: {}, watch: {}, created() { // }, mounted() { // this.myCharts(); }, methods: { myCharts() { const myChart = this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c9a9c3ee399e1806870a84c0b0ffb0eb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-06T09:33:06+08:00" />
<meta property="article:modified_time" content="2023-03-06T09:33:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">echarts 渲染图表出错 Cannot read properties of undefined (reading ‘$echarts‘)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>[Vue warn]: Error in mounted hook: "TypeError: Cannot read properties of undefined (reading '$echarts')"</p> 
<p></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/70/50/SKo8FUUC_o.png"></p> 
<p> </p> 
<p>报错的原因是没能指向 echarts。</p> 
<p></p> 
<pre><code class="language-javascript">&lt;script&gt;
export default {
  name: '',
  components: {},
  props: {
    id: {
      type: String,
      default: 'radar3',
    },
    width: {
      type: String,
      default: '100vw',
    },
    height: {
      type: String,
      default: '50vh',
    },
  },
  data() {
    return {};
  },
  computed: {},
  watch: {},
  created() {
    //
  },
  mounted() {
    //
    this.myCharts();
  },
  methods: {
    myCharts() {
      const myChart = this.$echarts.init(document.getElementById(this.id));

      const data = [80, 70, 30, 85, 25];
      const indicatorname = [
        '政治品德修养',
        '社会发展能力',
        '美劳素质拓展',
        '身心健康发展',
        '学业发展能力',
      ];
      const maxdata = [100, 100, 100, 100, 100];

      function contains(arrays, obj) {
        let i = arrays.length;
        while (i--) {
          if (arrays[i] === obj) {
            return i;
          }
        }
        return false;
      }

      const indicator = [];
      for (let i = 0; i &lt; indicatorname.length; i++) {
        indicator.push({
          name: indicatorname[i],
          max: maxdata[i],
        });
      }

      function innerdata(i) {
        const innerData = [];
        for (let j = 0; j &lt; data.length; j++) {
          innerData.push(100 - 20 * i);
        }
        return innerData;
      }

      const that = this;       // 1.重新指向

      const optionData = getData(data);

      function getData(Data) {
        const res = {
          series: [
            {
              type: 'radar',
              symbolSize: 10,
              symbol: 'circle',
              areaStyle: {
                color: '#39B2FF',
                opacity: 0.3,
              },
              lineStyle: {
                color: that.$echarts.graphic.LinearGradient(   // 2.指向
                  0,
                  0,
                  0,
                  1,
                  [
                    {
                      offset: 0,
                      color: '#00A2FF',
                    },
                    {
                      offset: 1,
                      color: '#0060FF',
                    },
                  ],
                  false,
                ),
                width: 3,
              },
              itemStyle: {
                color: '#fff ',
                borderColor: that.$echarts.graphic.LinearGradient(   //3. 指向
                  0,
                  0,
                  0,
                  1,
                  [
                    {
                      offset: 0,
                      color: '#00DEFF',
                    },
                    {
                      offset: 1,
                      color: '#1598FF',
                    },
                  ],
                  false,
                ),
                borderWidth: 4,
                opacity: 1,
              },
              label: {
                show: false,
              },
              data: [
                {
                  value: Data,
                },
              ],
              z: 100,
            },
          ],
        };
        for (let i = 0; i &lt; Data.length; i++) {
          res.series.push({
            type: 'radar',
            data: [
              {
                value: innerdata(i),
              },
            ],
            symbol: 'none',
            lineStyle: {
              width: 0,
            },
            itemStyle: {
              color: '#fff',
            },
            areaStyle: {
              color: '#fff',
              shadowColor: 'rgba(14,122,191,0.15)',
              shadowBlur: 30,
              shadowOffsetY: 20,
            },
          });
        }
        return res;
      }

      const option = {
        backgroundColor: '#fff',
        tooltip: {
          formatter() {
            let html = '';
            for (let i = 0; i &lt; data.length; i++) {
              html += `${indicatorname[i]} : ${data[i]}%&lt;br&gt;`;
            }
            return html;
          },
        },
        radar: {
          indicator,
          splitArea: {
            show: true,
            areaStyle: {
              color: '#fff',
              shadowColor: 'rgba(14,122,191,0.19)',
              shadowBlur: 30,
              shadowOffsetY: 20,
            },
          },
          splitLine: {
            show: false,
          },
          axisLine: {
            show: false,
          },
          axisLabel: {
            show: false,
          },
          name: {
            textStyle: {
              rich: {
                a: {
                  fontSize: '17',
                  color: '#333',
                  align: 'left',
                  lineHeight: '30',
                  fontWeight: 'bold',
                },
                b: {
                  fontSize: '15',
                  color: '#666',
                  align: 'left',
                },
              },
            },

            formatter(params, index) {
              const i = contains(indicatorname, params);
              const percent = (data[i] / 100) * 100;
              // return "{a|" + percent + "%}\n" + "{b|" + params + "}";
              return `{a|${percent}%}\n"{b|${params}}`;
            },
          },
        },
        series: optionData.series,
      };
      myChart.setOption(option);
    },
  },
};
&lt;/script&gt;
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9495383d119af1bfa932c0287a52eb07/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java】随机创建数字和随机点名之random用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93925e96ed5a558c615923ba99440c94/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue中生成二维码的两种用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>