<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【RHCSA服务搭建实验】之apache - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【RHCSA服务搭建实验】之apache" />
<meta property="og:description" content="虚拟web主机类型 一、基于端口 1.vim /etc/httpd/conf.d/vhost2.conf ---- — 改变http服务默认访问路径
&lt;directory /testweb1&gt; allowoverride none 表示不允许覆盖其他配置 require all granted 表示允许所有请求 &lt;/directory&gt; &lt;virtualhost 0.0.0.0:80&gt; 所有ip可以通过80端口访问 documentroot /testweb1 指定了客户端请求网页时服务器返回文件的路径 servername 192.168.85.129 服务器的域名 &lt;/virtualhost&gt; listen 81 监听81端口 &lt;directory /testweb2&gt; allowoverride none require all granted &lt;/directory&gt; &lt;virtualhost 0.0.0.0:81&gt; 所有ip可以通过81端口访问 documentroot /testweb2 servername 192.168.85.129 &lt;/virtualhost&gt; ：保存退出 2.分别在/testweb1，/testweb2目录下创建index.html文件，写入自己想要的内容
3.systemctl restart httpd --------- 修改了配置文件就需要重启该http服务
4.检查自己的防火墙是否放行http服务和81端口，如果没有就需要配置
firewall-cmd --add-service=http --permanent firewall-cmd --add-port=81/tcp --permanent firewall-cmd --reload 5.getenforce 检查一下自己是否是Permissive宽容模式，如果不是就 setenforce 0 临时开启，因为Enforcing需要验证页面标签，所以直接关了方便。
二、基于IP 1.vim /etc/httpd/conf." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/016a7d54e01b8f3ef852828726991d03/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-21T13:44:17+08:00" />
<meta property="article:modified_time" content="2024-01-21T13:44:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【RHCSA服务搭建实验】之apache</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="web_0"></a>虚拟web主机类型</h2> 
<h3><a id="_2"></a>一、基于端口</h3> 
<p>1.vim /etc/httpd/conf.d/vhost2.conf ---- — 改变http服务默认访问路径</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
        allowoverride none    表示不允许覆盖其他配置
        require all granted     表示允许所有请求
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>    所有ip可以通过80端口访问
        documentroot /testweb1     指定了客户端请求网页时服务器返回文件的路径
        servername <span class="token number">192.168</span>.85.129    服务器的域名
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
listen <span class="token number">81</span>             监听81端口
<span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
        allowoverride none
        require all granted
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>   所有ip可以通过81端口访问
        documentroot /testweb2
        servername <span class="token number">192.168</span>.85.129
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
：保存退出
</code></pre> 
<p>2.分别在/testweb1，/testweb2目录下创建index.html文件，写入自己想要的内容<br> 3.systemctl restart httpd --------- 修改了配置文件就需要重启该http服务<br> 4.检查自己的防火墙是否放行http服务和81端口，如果没有就需要配置</p> 
<pre><code class="prism language-bash">firewall-cmd --add-service<span class="token operator">=</span>http <span class="token parameter variable">--permanent</span> 
firewall-cmd --add-port<span class="token operator">=</span><span class="token number">81</span>/tcp <span class="token parameter variable">--permanent</span> 
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> 
<p>5.getenforce 检查一下自己是否是Permissive宽容模式，如果不是就 setenforce 0 临时开启，因为Enforcing需要验证页面标签，所以直接关了方便。<br> <img src="https://images2.imgbox.com/59/6a/S9yWEItS_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/2f/35/e3FZhEKN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="IP_36"></a>二、基于IP</h3> 
<p>1.vim /etc/httpd/conf.d/vhost2.conf ---- — 改变http服务默认访问路径。</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
        allowoverride none
        require all granted
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>
        documentroot /testweb1
        servername <span class="token number">192.168</span>.85.129
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
        allowoverride none
        require all granted
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>
        documentroot /testweb2
        servername <span class="token number">192.168</span>.85.130
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
：wq
</code></pre> 
<p>2.分别在/testweb1，/testweb2目录下创建index.html文件，写入自己想要的内容<br> 3.systemctl restart httpd --------- 修改了配置文件就需要重启该http服务<br> 4.nmcli connection modify ens160 +ipv4.addresses 192.168.85.130/24 ------ 添加一个ip地址，最好把原有的IP地址设置为手动修改模式 nmcli connection up ens160 重启一个网卡之后用ip add 命令可以看到ens160的两个ip地址。<br> 5.getenforce 检查一下自己是否是Permissive宽容模式，如果不是就 setenforce 0 临时开启，因为Enforcing需要验证页面标签，所以直接关了方便。<br> <img src="https://images2.imgbox.com/7e/2a/lu6Ki8NJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7b/7d/72Izktcv_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="web_65"></a>三、基于web主机（域名）</h3> 
<p>1.vim /etc/httpd/conf.d/vhost2.conf ---- — 改变http服务默认访问路径。</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
        allowoverride none
        require all granted
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>
        documentroot /testweb1
        servername www.xixi.com
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>directory /testweb<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
        allowoverride none
        require all granted
<span class="token operator">&lt;</span>/directory<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>virtualhost <span class="token number">0.0</span>.0.0:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>
        documentroot /testweb2
        servername www.haha.com
<span class="token operator">&lt;</span>/virtualhost<span class="token operator">&gt;</span>
：wq
</code></pre> 
<p>2.分别在/testweb1，/testweb2目录下创建index.html文件，写入自己想要的内容.<br> 3.systemctl restart httpd --------- 修改了配置文件就需要重启该http服务<br> 4.vim /etc/hosts ---- 本地dns域名解析的配置文件，上网最先查本地的</p> 
<pre><code class="prism language-bash">添加本机的dns域名解析
<span class="token number">192.168</span>.85.129 www.xixi.com
<span class="token number">192.168</span>.85.129 www.haha.com
：wq
</code></pre> 
<p>5.getenforce 检查一下自己是否是Permissive宽容模式，如果不是就 setenforce 0 临时开启，因为Enforcing需要验证页面标签，所以直接关了方便。<br> <img src="https://images2.imgbox.com/0f/f4/pkx00c98_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f68a368a523e44fc6acd5f2039af300/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">00-Rust前言</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f3a9835b9eeb232077d284184e6e6ebe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c&#43;&#43; 关于那些莫名其妙 “不 coredump” 的思考</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>