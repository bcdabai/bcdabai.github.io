<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Go语言环境安装以及程序如何运行 宝塔面板Linux环境 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Go语言环境安装以及程序如何运行 宝塔面板Linux环境" />
<meta property="og:description" content="Linux环境 Go语言环境安装以及程序如何运行 最近在学习go语言 记录下在服务器上安装go语言环境
安装配置 ： 宝塔Linux面板 7.6.0
1. 文件下载 go环境文件 可以去官网下载 自己选择环境文件
官网 https://golang.google.cn/)
文件地址 https://golang.google.cn/dl/
2 解压 文件上传到 /www/server 目录
tar -xzvf 刚上传的文件名 示例 tar -xzvf go1.18.2.linux-amd64.tar.gz 注意 如果报错 no such file or directory(文件找不到) 可以切换下登录账号 su root 3 添加环境变量 添加环境变量，使用vim 打开/etc/profile 文件。
vim /etc/profile 最底部添加
export GOROOT=/www/server/go export GOBIN=$GOROOT/bin export GOPKG=$GOROOT/pkg/tool/linux_amd64 export GOARCH=amd64 export GOOS=linux export GOPATH=/www/wwwroot/Golang export PATH=$PATH:$GOBIN:$GOPKG:$GOPATH/bin 图片示例
添加好之后，保存退出，然后执行如下命令使其生效：
source /etc/profile 4 检测环境 使用 go version 检测下go环境是否安装成功" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/891c4fc7359f5839e36d27d7bd0b3cfa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-19T15:49:44+08:00" />
<meta property="article:modified_time" content="2022-05-19T15:49:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Go语言环境安装以及程序如何运行 宝塔面板Linux环境</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Linux_Go_0"></a>Linux环境 Go语言环境安装以及程序如何运行</h2> 
<p>最近在学习go语言 记录下在服务器上安装go语言环境</p> 
<p>安装配置 ： 宝塔Linux面板 7.6.0</p> 
<h3><a id="1__4"></a>1. 文件下载</h3> 
<p>go环境文件 可以去官网下载 自己选择环境文件<br> 官网 <a href="https://golang.google.cn/" rel="nofollow">https://golang.google.cn/)</a><br> 文件地址 <a href="https://golang.google.cn/dl/" rel="nofollow">https://golang.google.cn/dl/</a><br> <img src="https://images2.imgbox.com/f9/8f/JVUgaH3U_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__9"></a>2 解压</h3> 
<p>文件上传到 /www/server 目录</p> 
<pre><code>tar -xzvf 刚上传的文件名
示例
tar -xzvf go1.18.2.linux-amd64.tar.gz
</code></pre> 
<h6><a id="__no_such_file_or_directory___16"></a>注意 如果报错 no such file or directory(文件找不到) 可以切换下登录账号</h6> 
<pre><code>su root
</code></pre> 
<h3><a id="3__20"></a>3 添加环境变量</h3> 
<p>添加环境变量，使用vim 打开/etc/profile 文件。</p> 
<pre><code>vim /etc/profile
</code></pre> 
<p>最底部添加</p> 
<pre><code>export GOROOT=/www/server/go
export GOBIN=$GOROOT/bin
export GOPKG=$GOROOT/pkg/tool/linux_amd64
export GOARCH=amd64
export GOOS=linux
export GOPATH=/www/wwwroot/Golang
export PATH=$PATH:$GOBIN:$GOPKG:$GOPATH/bin
</code></pre> 
<p>图片示例<br> <img src="https://images2.imgbox.com/da/ef/7HEP2WO2_o.png" alt="在这里插入图片描述"><br> 添加好之后，保存退出，然后执行如下命令使其生效：</p> 
<pre><code>source /etc/profile
</code></pre> 
<h3><a id="4__41"></a>4 检测环境</h3> 
<p>使用 go version 检测下go环境是否安装成功</p> 
<pre><code>go version
</code></pre> 
<p><img src="https://images2.imgbox.com/da/e6/FlseEJ9C_o.png" alt="在这里插入图片描述"><br> 这里就安装成功了</p> 
<h3><a id="5__49"></a>5 代码运行测试</h3> 
<p>在上面的环境变量配置<br> export GOPATH=/www/wwwroot/Golang<br> 所以我们的环境指向的是 Golang目录<br> 新建 /www/wwwroot/Golang目录</p> 
<pre><code>mkdir /www/wwwroot/Golang
</code></pre> 
<p>在 Golang 目录先新建 test.go文件<br> test.go文件内容</p> 
<pre><code>package main

import "fmt"

func main() {
  fmt.Println("Hello, Word!")
}
</code></pre> 
<p>shell运行</p> 
<pre><code>go run /www/wwwroot/Golang/test.go
</code></pre> 
<p><img src="https://images2.imgbox.com/e8/81/FoDAtg7q_o.png" alt="在这里插入图片描述"><br> 成功输出了 Hello，Word!</p> 
<h2><a id="_75"></a>宝塔定时任务</h2> 
<p>脚本内容 使用</p> 
<pre><code>go run /www/wwwroot/Golang/test.go
</code></pre> 
<p>提示 go: command not found</p> 
<p>修改 /etc/sudoers 需要root账号登录</p> 
<pre><code>vim /etc/sudoers
</code></pre> 
<p>加入</p> 
<pre><code>Defaults    secure_path = /sbin:/bin:/usr/sbin:/usr/bin
后面加入 /:/www/server/go/bin
</code></pre> 
<p>示例<br> <img src="https://images2.imgbox.com/06/f2/AXlWs0HZ_o.png" alt="在这里插入图片描述"><br> 修改脚本内容 使用</p> 
<pre><code>sudo go run /www/wwwroot/Golang/test.go
</code></pre> 
<p>正常运行</p> 
<h4><a id="_99"></a>非常好用</h4> 
<h4><a id="goproxygolangorg_101"></a>解决go包管理代理网址无法访问：proxy.golang.org</h4> 
<pre><code>[root@VM-12-8-centos ~]# go install github.com/chromedp/chromedp@latest

go: github.com/chromedp/chromedp@latest: module github.com/chromedp/chromedp: Get "https://proxy.golang.org/github.com/chromedp/chromedp/@v/list": dial tcp 172.217.31.177:443: i/o timeout
</code></pre> 
<p>Go 1.16 以后 go get 即将废弃<br> 更换为 go install<br> 下载国外的数据编译报错<br> <img src="https://images2.imgbox.com/50/64/vG4faMdU_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_111"></a>解决方法</h5> 
<p>换一个国内能访问的代理地址：https://goproxy.cn</p> 
<pre><code>go env -w GOPROXY=https://goproxy.cn
</code></pre> 
<h4><a id="gomod_117"></a>缺少go.mod文件</h4> 
<pre><code>no required module provides package github.com/chromedp/chromedp: go.mod file not found in current directory or any parent directory; see 'go help modules'
</code></pre> 
<h5><a id="_121"></a>解决方法</h5> 
<p>开启go modules功能，命令行输入</p> 
<pre><code>go env -w GO111MODULE=on
</code></pre> 
<p>在该项目目录下，初始化Go moudle，运行下面命令</p> 
<pre><code>go mod init xxx //xxx代表文件夹名
</code></pre> 
<p>成功的提示<br> <img src="https://images2.imgbox.com/be/76/FwUfYf3x_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="centos__chromedp__132"></a>centos 使用 chromedp 一定要改为无头模式</h4> 
<p>centos 安装 chrome 可以参考 <a href="https://blog.csdn.net/chihong9645/article/details/100722540">https://blog.csdn.net/chihong9645/article/details/100722540</a></p> 
<p>不然会报错</p> 
<pre><code>2022/05/19 15:47:44 chrome failed to start:
[17800:17800:0519/154744.589237:ERROR:ozone_platform_x11.cc(247)] Missing X server or $DISPLAY
[17800:17800:0519/154744.589294:ERROR:env.cc(225)] The platform failed to initialize.  Exiting.
exit status 1
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f96ca485fdeef60138dcb9bf62f64aff/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">aab转apk的方法(将Android App Bundle转换为APK)--bundletool</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6f8c5114bf0b6cf1a922669e8b89a3c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">华硕触控板无法在Win11中使用的解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>