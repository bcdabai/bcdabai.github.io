<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>图片转为ASCII字符画的方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="图片转为ASCII字符画的方法" />
<meta property="og:description" content="文章目录 概述实现方法操作示例 概述 字符画是一系列字符的组合，我们可以把字符看作是比较大块的像素，一个字符能表现一种颜色（暂且这么理解吧），字符的种类越多，可以表现的颜色也越多，图片也会更有层次感。
问题来了，我们是要转换一张彩色的图片，这么多的颜色，要怎么对应到单色的字符画上去？这里就要介绍灰度值的概念了。
灰度值：指黑白图像中点的颜色深度，范围一般从0到255，白色为255，黑色为0，故黑白图片也称灰度图像
我们可以使用灰度值公式将像素的 RGB 值映射到灰度值：
gray ＝ 0.2126 * r &#43; 0.7152 * g &#43; 0.0722 * b 实现方法 from PIL import Image import argparse # 命令行输入参数处理 parser = argparse.ArgumentParser() # 输入文件， 输出文件， 输出字符画宽， 输出字符画高 parser.add_argument(&#39;file&#39;) parser.add_argument(&#39;-o&#39;, &#39;--output&#39;) # 不同尺寸的图片转ASCII时，需要根据实际情况调整默认宽与高 parser.add_argument(&#39;--width&#39;, type=int, default=150) parser.add_argument(&#39;--height&#39;, type=int, default=80) # 获取参数 args = parser.parse_args() IMG = args.file WIDTH = args.width HEIGHT = args.height OUTPUT = args.output ascii_char = list(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b95a5bcff6393d99c713fa9ad2d47a95/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-21T09:17:44+08:00" />
<meta property="article:modified_time" content="2023-06-21T09:17:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">图片转为ASCII字符画的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">概述</a></li><li><a href="#_14" rel="nofollow">实现方法</a></li><li><a href="#_75" rel="nofollow">操作示例</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>概述</h2> 
<p>字符画是一系列字符的组合，我们可以把字符看作是比较大块的像素，一个字符能表现一种颜色（暂且这么理解吧），字符的种类越多，可以表现的颜色也越多，图片也会更有层次感。</p> 
<p>问题来了，我们是要转换一张彩色的图片，这么多的颜色，要怎么对应到单色的字符画上去？这里就要介绍灰度值的概念了。</p> 
<p>灰度值：指黑白图像中点的颜色深度，范围一般从0到255，白色为255，黑色为0，故黑白图片也称灰度图像</p> 
<p>我们可以使用灰度值公式将像素的 RGB 值映射到灰度值：</p> 
<pre><code>gray ＝ 0.2126 * r + 0.7152 * g + 0.0722 * b
</code></pre> 
<h2><a id="_14"></a>实现方法</h2> 
<pre><code>from PIL import Image
import argparse

# 命令行输入参数处理
parser = argparse.ArgumentParser()

# 输入文件， 输出文件， 输出字符画宽， 输出字符画高
parser.add_argument('file')
parser.add_argument('-o', '--output')
# 不同尺寸的图片转ASCII时，需要根据实际情况调整默认宽与高
parser.add_argument('--width', type=int, default=150)
parser.add_argument('--height', type=int, default=80)

# 获取参数
args = parser.parse_args()

IMG = args.file
WIDTH = args.width
HEIGHT = args.height
OUTPUT = args.output

ascii_char = list("$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\|()1{}[]?-_+~&lt;&gt;i!lI;:,\"^`'. ")


# 将256灰度映射到70个字符上
def get_char(r, g, b, alpha=256):
    if alpha == 0:
        return ' '
    length = len(ascii_char)
    gray = int(0.2126 * r + 0.7152 * g + 0.0722 * b)

    unit = (256.0 + 1)/length
    return ascii_char[int(gray/unit)]


if __name__ == "__main__":
    im = Image.open(IMG)
    im = im.resize((WIDTH, HEIGHT), Image.NEAREST)

    txt = ''

    for i in range(HEIGHT):
        for j in range(WIDTH):
            txt += get_char(*im.getpixel((j,i)))
        txt += '\n'

    print(txt)

    # 字符画输出到文件
    if OUTPUT:
        with open(OUTPUT, 'w') as f:
            f.write(txt)
    else:
        with open('output.txt', 'w') as f:
            f.write(txt)

</code></pre> 
<h2><a id="_75"></a>操作示例</h2> 
<p>脚本使用方法:</p> 
<pre><code># 安装环境
pip install Pillow

# photo.png 是图片文件，建议使用png背景透明的图片
python3 ascii.py photo.png
</code></pre> 
<ol><li>飞桨Logo</li></ol> 
<p><img src="https://images2.imgbox.com/1d/2e/YYHS0A5V_o.png" alt="在这里插入图片描述"></p> 
<p>输出:</p> 
<pre><code>                      `..`^.               ."...
                      .cmdd'              .~0qp^
                       wppqO'            `'pqppZ.
                     .'ikZw.              ..abO      .......  .`    ,.."`.'' .^  .Il...^..
            .......  ...'' .   .......   ..  ^.'      .pppppppp.` .+pb . qp`}dm"cmmdpqkp"
            `~qqpI ':mqqpp-"'. . .pppn...qqObq; ..   `......pq'`.'^dk'. :'Zqqqmqm.""^"hq..
          ...bppz .^obkqwOwd  .'.bqdb'. obbpbwbb..        'bp?Cqaqk*.^   ^":dqm..bqq.bbq'.
          .'Ydpd,  '.' ."Xmpq .'pdpp  ''`''.^kpqa.        mqd}mmQ\'`"....&lt;aZkqm.' Cabb).'
          .&lt;qdw&gt;'       .'qqq` .pwp^.       ..dqw`        dq.okk'..   ..iwb.?hwmdqh0I` .
''   ..  . qbpJ' ..   ... pdZ..dppk ..   .. .^dpq.     '.kZ_. oph ... ^' '...  bdn....'''.
'.''''''''hbdb'  ......:cqdqQ.wppp"'.......`bmppx^      Op0^  .&gt;aqw01&gt;. ?qwwwqqdqkppqqpq..
'npqqqqqqqqpw..pqqqqqqqqqdb].-mqd,^pqqqqqqqpqmq!.    '.+wq^^  ...'mhdq^..' 'rnnbpnxv&lt;.
^bkkkkkhbpppm"obakkkkkkkZ!:^'pddu`QbkkkkkkkhQ^^".      ZmY''...  '..'. ..'`Jqp'bpn.db)''.
`.   ...kbq#`'...  ...... '.0ppd'........    '.       'qpbdpwwqqqwwwww^.[pbq]``bpu.'Xqdw.
       Jdpw..              ?mpq&gt;'                     ..":!!!!lll!!iii^^!!^.. .L0f..  '&gt;..
     ..obq..             .:wpw[                        '...............'`.. '  .^   ...'
    .'pbpb.'            ^`pdpw'                       .
  ..'wdbb..             'xdpm.'                      ..                                  .
  '.fqwp`.             .;qpq)                        ..                                  .
  ',{}}? .            ..)})1".                       '' .  ..      ...`'        . ..
</code></pre> 
<ol start="2"><li>TF<br> <img src="https://images2.imgbox.com/7b/7d/EoY0j8sE_o.png" alt="在这里插入图片描述"></li></ol> 
<p>输出：</p> 
<pre><code>                     ;/\  \\+'
                 ,(\  \\||||&gt;
             i/tt//\  \\|||||(((_.
         `]fffttt//\  \\|||||(((()){:
     .;jjfffffttt//\  \\|||||(((())))))i'
  "(jjjjjfffffttt//\  \\|||||(((())))))111{I
  }jjjjjjfffffttt//\  \\|||||(((())))))1111{
$ }jjjjjjfffff}{t//\  \\|||||((&gt;)))))))1111{
$ }jjjjjjft:   {t//\  \\|||||((   .})))1111{
$ }jjjj['      {t//\  \\|||||((       l1111{
$ 1t"          {t//\  \\|||||(((&lt;        .?{
$              {t//\  \\|||||(((())]"
               {t//\  \\|||||(((())))
               {t//\  \\|||||(((())))
               {t//\  \\|||||(((())))
               {t//\  \\|||||((  :[))
               {t//\  \\|||||((
               {t//\  \\|||||((
               {t//\  \\|||||((
               {t//\  \\|||||((
               {t//\  \\|||||((
               ;)//\  \\|||||)&lt;
                   .[//\  \\|)^
                       ;  ~'
</code></pre> 
<p><img src="https://images2.imgbox.com/83/7e/E4eBI3yj_o.png" alt="在这里插入图片描述"></p> 
<p>输出：</p> 
<pre><code>CLLLLLLL1                                 CLLLLLL 0{
0OOOOOOO(                                 0OOOOOO O{
   _O                                     0O      O{
   _O   &gt;OOO   OiOOO`  QOOO   ,OOO)  OOOO 0O      O{  xOOO  OO  LO  1O
   _O  "OL;OO  OO}+OO nO:^OO .OO;JO` OOOQ 0O      O{ JOrIOO CO  OO  OO
   _O  OO   O` Or  OO OO  i&gt; OO   OO OO   0OOOOO  O{ OO   O] O  OO/ O0
   _O  OOXXXO{ Oj  OO :OOr   OO   0O OO   0Ovvvv  O{ O1   OO O-+OCO O`
   _O  OOQQQQ) Oj  OO  'QOO0 OO   LO OO   0O      O{ O_   OO OOOU O'O
   _O  OO      Oj  OO 1?  CO OO   OO OO   0O      O{ OO   O1 nOO  OQO
   _O  uOx  O  Oj  OO OO  OO &gt;Ox IO? OO   0O      O{ OO' CO   OO  OOO
   _O   COOOQ  Oj  OO  OOOO&lt;  cOOOO  OO   0O      O{  OOOO:   OO  ,O.
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ce767b0afe85fc0b624d57db71d843e2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">算法篇——动态规划 01背包问题 (js版)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/05d32ad09d8d49ab61aaf17b79ca4b2d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">模板文件导出Excel【EasyPoi实战系列】- 第478篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>