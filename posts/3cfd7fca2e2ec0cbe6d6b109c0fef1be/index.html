<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€Webå®æˆ˜-Tomcat-Servlet-Thymeleaf -JDBC-MySQLã€‘æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºæ•°æ®åº“æ•°æ®ï¼ˆæ°´æœåº“å­˜ç³»ç»Ÿï¼‰ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ã€Webå®æˆ˜-Tomcat-Servlet-Thymeleaf -JDBC-MySQLã€‘æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºæ•°æ®åº“æ•°æ®ï¼ˆæ°´æœåº“å­˜ç³»ç»Ÿï¼‰" />
<meta property="og:description" content="ğŸ¥‡ä½œè€… .29. çš„âœ”åšå®¢ä¸»é¡µâœ”
ğŸ¥‡è®°å½•JavaWebå­¦ä¹ çš„ä¸“æ ï¼šWebä¸“æ 
ğŸ¥‡æ‹¼æèµ·æ¥å§ï¼Œæœªæ¥ä¼šç»™ä½ å¼€å‡ºä¸€ä¸ªæ— æ³•æ‹’ç»çš„æ¡ä»¶â€¦
æ‚¨çš„ç‚¹èµï¼Œæ”¶è—ä»¥åŠå…³æ³¨æ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±å–” ~~
å®¢æˆ·ç«¯å±•ç¤ºåº“å­˜æ•°æ® å‰è¨€ä¸€ã€Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯1.å¯¼å…¥ jar åŒ…2.åˆ›å»ºServletç±»ï¼Œè®¾ç½®ç›¸å…³å±æ€§ä¸æ–¹æ³•ã€‚3.æ·»åŠ web.xmlæ–‡ä»¶é…ç½®4.ä½¿ç”¨ThymeleafæŠ€æœ¯ç›¸å…³çš„HTMLæ ‡ç­¾å±æ€§ äºŒã€æµè§ˆå™¨é¡µé¢å®ç°1.è·å–æ•°æ®åº“æ•°æ®2.ä½¿ç”¨Servletç»„ä»¶æ¸²æŸ“é¡µé¢â‘ `Servletç»„ä»¶`â‘¡`HTMLé¡µé¢` ä¸‰ã€æ•ˆæœæ€»ç»“ å‰è¨€ åœ¨JDBCä¸“æ ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†æ°´æœåº“å­˜ç³»ç»ŸåŠŸèƒ½çš„è®¾è®¡ï¼Œå®ç°ä»¥åŠä¼˜åŒ–ï¼Œä½†æ€»å¾—æ¥çœ‹ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½æ˜¯åç«¯çš„ä»£ç ï¼Œç³»ç»Ÿçš„é¡µé¢ä¹Ÿä¸è¿‡æ˜¯é€šè¿‡æ§åˆ¶å°æ¨¡æ‹Ÿè€Œæ¥çš„ï¼Œè€ŒéçœŸæ­£çš„å‰ç«¯é¡µé¢ã€‚
è€Œåœ¨è¿™ç¯‡æ–‡ç« å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šå¯¹æ°´æœåº“å­˜ç³»ç»Ÿçš„å®¢æˆ·ç«¯é¡µé¢åŠŸèƒ½è¿›è¡Œè®¾è®¡ä¸å®ç°ï¼Œè®©åº“å­˜ç³»ç»Ÿå¯ä»¥åœ¨ç½‘é¡µä¸­ä½¿ç”¨ã€‚
é¡¹ç›®ä¸­æˆ‘ä»¬ä¸»è¦ä¾èµ–Tomcatéƒ¨ç½²ï¼Œä½¿ç”¨Servletç»„ä»¶ï¼Œè¿‡ç¨‹ä¸­é€šè¿‡JDBCè¿æ¥MySQLæ•°æ®åº“è·å–æ•°æ®ï¼Œå°†æ•°æ®åœ¨æµè§ˆå™¨é¡µé¢ä¸­å±•ç°å‡ºæ¥ã€‚
ä¸€ã€Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯ åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯çš„ä½¿ç”¨ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨Servletæ—¶éœ€è¦ç”¨åˆ°çš„æŠ€æœ¯ã€‚
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ Thymeleaf çš„ä½¿ç”¨æ¥äº†è§£è§†å›¾æ¨¡æ¿æŠ€æœ¯åˆ°åº•æ˜¯ä»€ä¹ˆã€‚
1.å¯¼å…¥ jar åŒ… éœ€è¦ä½¿ç”¨Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å¯¼å…¥ç›¸å…³çš„ jar åŒ…äº†ï¼Œå…·ä½“çš„æ­¥éª¤å¤§å®¶åº”è¯¥éƒ½äº†è§£ï¼Œä¸äº†è§£çš„å¯ä»¥æŒ‰ç…§è¿™ç¯‡æ–‡ç« çš„æ€è·¯æ¥å°è¯•å¯¼å…¥jaråŒ…ï¼šdruidæ•°æ®åº“è¿æ¥æ± çš„ä½¿ç”¨ã€‚
Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯ jaråŒ…èµ„æºï¼š
é“¾æ¥ï¼šhttps://pan.baidu.com/s/1NOucl2A8nEAIzg-rT4GqGg
æå–ç ï¼šleaf
2.åˆ›å»ºServletç±»ï¼Œè®¾ç½®ç›¸å…³å±æ€§ä¸æ–¹æ³•ã€‚ æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªServletç±»ï¼Œæˆ‘å°†è¿™ä¸ªç±»å‘½åä¸ºViewBaseServletï¼Œè¯´å…¶æ˜¯Servletç±»æ˜¯å› ä¸ºå®ƒéœ€è¦ç»§æ‰¿HttpServletç±»ã€‚
ViewBaseServletç±»ä¸­è®¾ç½®çš„æ˜¯ä¸ä½¿ç”¨Thymeleaf æŠ€æœ¯ç›¸å…³çš„å±æ€§ä»¥åŠæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç æ¥äº†è§£å…¶åŠŸèƒ½ï¼š
import org.thymeleaf.TemplateEngine; import org.thymeleaf.context.WebContext; import org.thymeleaf.templatemode.TemplateMode; import org.thymeleaf.templateresolver.ServletContextTemplateResolver; import javax.servlet.ServletContext; import javax.servlet.ServletException; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; public class ViewBaseServlet extends HttpServlet { private TemplateEngine templateEngine; @Override public void init() throws ServletException { // 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3cfd7fca2e2ec0cbe6d6b109c0fef1be/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-19T08:21:13+08:00" />
<meta property="article:modified_time" content="2022-10-19T08:21:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€Webå®æˆ˜-Tomcat-Servlet-Thymeleaf -JDBC-MySQLã€‘æµè§ˆå™¨é¡µé¢æ˜¾ç¤ºæ•°æ®åº“æ•°æ®ï¼ˆæ°´æœåº“å­˜ç³»ç»Ÿï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>ğŸ¥‡ä½œè€… .29. çš„<a href="https://blog.csdn.net/ebb29bbe?spm=1010.2135.3001.5343">âœ”åšå®¢ä¸»é¡µâœ”</a><br> ğŸ¥‡è®°å½•JavaWebå­¦ä¹ çš„ä¸“æ ï¼š<a href="https://blog.csdn.net/ebb29bbe/category_12008235.html?spm=1001.2014.3001.5482">Webä¸“æ </a><br> ğŸ¥‡æ‹¼æèµ·æ¥å§ï¼Œæœªæ¥ä¼šç»™ä½ å¼€å‡ºä¸€ä¸ªæ— æ³•æ‹’ç»çš„æ¡ä»¶â€¦</p> 
 <p>æ‚¨çš„<code>ç‚¹èµ</code>ï¼Œ<code>æ”¶è—</code>ä»¥åŠ<code>å…³æ³¨</code>æ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±å–” ~~</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/19/f9/aWNtuJnl_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/16/a5/XHlASWfo_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>å®¢æˆ·ç«¯å±•ç¤ºåº“å­˜æ•°æ®</h4> 
 <ul><li><a href="#_23" rel="nofollow">å‰è¨€</a></li><li><a href="#Thymeleaf___33" rel="nofollow">ä¸€ã€Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯</a></li><li><ul><li><a href="#1_jar__38" rel="nofollow">1.å¯¼å…¥ jar åŒ…</a></li><li><a href="#2Servlet_47" rel="nofollow">2.åˆ›å»ºServletç±»ï¼Œè®¾ç½®ç›¸å…³å±æ€§ä¸æ–¹æ³•ã€‚</a></li><li><a href="#3webxml_123" rel="nofollow">3.æ·»åŠ web.xmlæ–‡ä»¶é…ç½®</a></li><li><a href="#4ThymeleafHTML_156" rel="nofollow">4.ä½¿ç”¨ThymeleafæŠ€æœ¯ç›¸å…³çš„HTMLæ ‡ç­¾å±æ€§</a></li></ul> 
  </li><li><a href="#_174" rel="nofollow">äºŒã€æµè§ˆå™¨é¡µé¢å®ç°</a></li><li><ul><li><a href="#1_176" rel="nofollow">1.è·å–æ•°æ®åº“æ•°æ®</a></li><li><a href="#2Servlet_501" rel="nofollow">2.ä½¿ç”¨Servletç»„ä»¶æ¸²æŸ“é¡µé¢</a></li><li><ul><li><a href="#Servlet_504" rel="nofollow">â‘ `Servletç»„ä»¶`</a></li><li><a href="#HTML_551" rel="nofollow">â‘¡`HTMLé¡µé¢`</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_679" rel="nofollow">ä¸‰ã€æ•ˆæœ</a></li><li><a href="#_688" rel="nofollow">æ€»ç»“</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_23"></a>å‰è¨€</h2> 
<p>åœ¨<a href="https://blog.csdn.net/ebb29bbe/category_12012082.html?spm=1001.2014.3001.5482">JDBCä¸“æ </a>ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº†æ°´æœåº“å­˜ç³»ç»ŸåŠŸèƒ½çš„è®¾è®¡ï¼Œå®ç°ä»¥åŠä¼˜åŒ–ï¼Œä½†æ€»å¾—æ¥çœ‹ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½æ˜¯åç«¯çš„ä»£ç ï¼Œç³»ç»Ÿçš„é¡µé¢ä¹Ÿä¸è¿‡æ˜¯é€šè¿‡æ§åˆ¶å°æ¨¡æ‹Ÿè€Œæ¥çš„ï¼Œè€ŒéçœŸæ­£çš„å‰ç«¯é¡µé¢ã€‚</p> 
<p>è€Œåœ¨è¿™ç¯‡æ–‡ç« å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šå¯¹<strong>æ°´æœåº“å­˜ç³»ç»Ÿ</strong>çš„å®¢æˆ·ç«¯é¡µé¢åŠŸèƒ½è¿›è¡Œè®¾è®¡ä¸å®ç°ï¼Œè®©åº“å­˜ç³»ç»Ÿå¯ä»¥åœ¨ç½‘é¡µä¸­ä½¿ç”¨ã€‚</p> 
<p>é¡¹ç›®ä¸­æˆ‘ä»¬ä¸»è¦ä¾èµ–<code>Tomcat</code>éƒ¨ç½²ï¼Œä½¿ç”¨<code>Servlet</code>ç»„ä»¶ï¼Œè¿‡ç¨‹ä¸­é€šè¿‡<code>JDBC</code>è¿æ¥<code>MySQLæ•°æ®åº“</code>è·å–æ•°æ®ï¼Œå°†æ•°æ®åœ¨æµè§ˆå™¨é¡µé¢ä¸­å±•ç°å‡ºæ¥ã€‚</p> 
<hr> 
<h2><a id="Thymeleaf___33"></a>ä¸€ã€Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯</h2> 
<p>åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹<code>Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯</code>çš„ä½¿ç”¨ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨<code>Servlet</code>æ—¶éœ€è¦ç”¨åˆ°çš„æŠ€æœ¯ã€‚</p> 
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ Thymeleaf çš„ä½¿ç”¨æ¥äº†è§£<strong>è§†å›¾æ¨¡æ¿æŠ€æœ¯</strong>åˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p> 
<h3><a id="1_jar__38"></a>1.å¯¼å…¥ jar åŒ…</h3> 
<p>éœ€è¦ä½¿ç”¨<strong>Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯</strong>ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å¯¼å…¥ç›¸å…³çš„ jar åŒ…äº†ï¼Œå…·ä½“çš„æ­¥éª¤å¤§å®¶åº”è¯¥éƒ½äº†è§£ï¼Œä¸äº†è§£çš„å¯ä»¥æŒ‰ç…§è¿™ç¯‡æ–‡ç« çš„æ€è·¯æ¥å°è¯•å¯¼å…¥jaråŒ…ï¼š<a href="https://blog.csdn.net/ebb29bbe/article/details/127174360">druidæ•°æ®åº“è¿æ¥æ± çš„ä½¿ç”¨</a>ã€‚</p> 
<blockquote> 
 <p>Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯ jaråŒ…èµ„æºï¼š<br> é“¾æ¥ï¼šhttps://pan.baidu.com/s/1NOucl2A8nEAIzg-rT4GqGg<br> æå–ç ï¼šleaf</p> 
</blockquote> 
<hr> 
<h3><a id="2Servlet_47"></a>2.åˆ›å»ºServletç±»ï¼Œè®¾ç½®ç›¸å…³å±æ€§ä¸æ–¹æ³•ã€‚</h3> 
<p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªServletç±»ï¼Œæˆ‘å°†è¿™ä¸ªç±»å‘½åä¸º<code>ViewBaseServlet</code>ï¼Œè¯´å…¶æ˜¯Servletç±»æ˜¯å› ä¸ºå®ƒéœ€è¦ç»§æ‰¿<code>HttpServletç±»</code>ã€‚<br> <code>ViewBaseServletç±»</code>ä¸­è®¾ç½®çš„æ˜¯ä¸ä½¿ç”¨Thymeleaf æŠ€æœ¯ç›¸å…³çš„å±æ€§ä»¥åŠæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç æ¥äº†è§£å…¶åŠŸèƒ½ï¼š</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span></span><span class="token class-name">TemplateEngine</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">WebContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templatemode<span class="token punctuation">.</span></span><span class="token class-name">TemplateMode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>thymeleaf<span class="token punctuation">.</span>templateresolver<span class="token punctuation">.</span></span><span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewBaseServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">TemplateEngine</span> templateEngine<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">// 1.è·å–ServletContextå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.åˆ›å»ºThymeleafè§£æå™¨å¯¹è±¡</span>
        <span class="token class-name">ServletContextTemplateResolver</span> templateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.ç»™è§£æå™¨å¯¹è±¡è®¾ç½®å‚æ•°</span>
        <span class="token comment">// â‘ HTMLæ˜¯é»˜è®¤æ¨¡å¼ï¼Œæ˜ç¡®è®¾ç½®æ˜¯ä¸ºäº†ä»£ç æ›´å®¹æ˜“ç†è§£</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span><span class="token class-name">TemplateMode</span><span class="token punctuation">.</span>HTML<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¡è®¾ç½®å‰ç¼€</span>
        <span class="token class-name">String</span> viewPrefix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"view-prefix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span>viewPrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¢è®¾ç½®åç¼€</span>
        <span class="token class-name">String</span> viewSuffix <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"view-suffix"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span>viewSuffix<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘£è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span><span class="token number">60000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¤è®¾ç½®æ˜¯å¦ç¼“å­˜</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// â‘¥è®¾ç½®æœåŠ¡å™¨ç«¯ç¼–ç æ–¹å¼</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4.åˆ›å»ºæ¨¡æ¿å¼•æ“å¯¹è±¡</span>
        templateEngine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.ç»™æ¨¡æ¿å¼•æ“å¯¹è±¡è®¾ç½®æ¨¡æ¿è§£æå™¨</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">setTemplateResolver</span><span class="token punctuation">(</span>templateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token class-name">String</span> templateName<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 1.è®¾ç½®å“åº”ä½“å†…å®¹ç±»å‹å’Œå­—ç¬¦é›†</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2.åˆ›å»ºWebContextå¯¹è±¡</span>
        <span class="token class-name">WebContext</span> webContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">,</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.å¤„ç†æ¨¡æ¿æ•°æ®</span>
        templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>templateName<span class="token punctuation">,</span> webContext<span class="token punctuation">,</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h3><a id="3webxml_123"></a>3.æ·»åŠ web.xmlæ–‡ä»¶é…ç½®</h3> 
<p><code>web.xml</code>æ–‡ä»¶æ˜¯ä¸€ä¸ªWebé¡¹ç›®çš„é…ç½®æ–‡ä»¶.</p> 
<p>ä¸Šæ–‡æåˆ°çš„<code>ViewBaseServletç±»</code>ä»£ç ä¸­ï¼Œæœ‰ä¸¤ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼š</p> 
<ul><li>æ·»åŠ å‰ç¼€ view-prefix</li><li>æ·»åŠ åç¼€ view-suffix</li></ul> 
<p>é™¤äº†<code>ViewBaseServletç±»</code>ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨web.xmlæ–‡ä»¶ä¸­æ·»åŠ å‰ç¼€ä¸åç¼€ç›¸å…³çš„å‚æ•°é…ç½®ï¼Œå‚æ•°é…ç½®ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-java">    <span class="token operator">&lt;</span>context<span class="token operator">-</span>param<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param<span class="token operator">-</span>name<span class="token operator">&gt;</span>view<span class="token operator">-</span>prefix<span class="token operator">&lt;</span><span class="token operator">/</span>param<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param<span class="token operator">-</span>value<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>param<span class="token operator">-</span>value<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>context<span class="token operator">-</span>param<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>context<span class="token operator">-</span>param<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param<span class="token operator">-</span>name<span class="token operator">&gt;</span>view<span class="token operator">-</span>suffix<span class="token operator">&lt;</span><span class="token operator">/</span>param<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>param<span class="token operator">-</span>value<span class="token operator">&gt;</span><span class="token punctuation">.</span>html<span class="token operator">&lt;</span><span class="token operator">/</span>param<span class="token operator">-</span>value<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>context<span class="token operator">-</span>param<span class="token operator">&gt;</span>
</code></pre> 
<p>å‚æ•°é…ç½®ä¸­ï¼Œæˆ‘ä»¬å°†å‰ç¼€è®¾ç½®ä¸º<code>/</code>;åŒæ—¶åç¼€è®¾ç½®ä¸º<code>.html</code>ã€‚</p> 
<p>è¿™æ ·çš„ç”¨æ„åœ¨äºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Thymeleaf - è§†å›¾æ¨¡æ¿æŠ€æœ¯ï¼Œé€šè¿‡é€»è¾‘è§†å›¾åç§°è·å–åˆ°å¯¹åº”çš„ç‰©ç†è§†å›¾åç§°ï¼Œä¾‹å¦‚ï¼š</p> 
<blockquote> 
 <p>//å‡è®¾æ­¤æ—¶çš„è§†å›¾åç§°æ˜¯index<br> //é‚£ä¹ˆThymeleafä¼šå°†è¿™ä¸ª é€»è¾‘è§†å›¾åç§° å¯¹åº”åˆ° ç‰©ç†è§†å›¾åç§°ä¸Šå»<br> //é€»è¾‘è§†å›¾åç§° ï¼š index<br> //ç‰©ç†è§†å›¾åç§° ï¼š view-prefix + é€»è¾‘è§†å›¾åç§° + view-suffix<br> //æ‰€ä»¥çœŸå®çš„è§†å›¾åç§°æ˜¯ / + index + .html</p> 
</blockquote> 
<p>æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä½¿ç”¨çš„æ•ˆæœå³å¯ï¼Œè‡³äºä¸ºä»€ä¹ˆè¿™æ ·ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­ä»£ç çš„å®ç°ä¸­ä½“ç°å‡ºæ¥ã€‚</p> 
<hr> 
<h3><a id="4ThymeleafHTML_156"></a>4.ä½¿ç”¨ThymeleafæŠ€æœ¯ç›¸å…³çš„HTMLæ ‡ç­¾å±æ€§</h3> 
<p>åœ¨HTMLä¸­ï¼Œéœ€è¦ä½¿ç”¨ThymeleafæŠ€æœ¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>htmlæ ‡ç­¾</code>ä¸­æ·»åŠ ç›¸å…³å±æ€§ï¼š</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>è€Œåï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ThymeleafæŠ€æœ¯çš„å±æ€§æ—¶ï¼Œéƒ½éœ€è¦åœ¨å±æ€§å‰æ·»åŠ <code>th:</code>çš„æ ‡å¿—ã€‚</p> 
<hr> 
<hr> 
<h2><a id="_174"></a>äºŒã€æµè§ˆå™¨é¡µé¢å®ç°</h2> 
<h3><a id="1_176"></a>1.è·å–æ•°æ®åº“æ•°æ®</h3> 
<p>æˆ‘ä»¬éœ€è¦åœ¨æµè§ˆå™¨é¡µé¢ä¸­æ˜¾ç¤ºæ•°æ®åº“ä¸­å­˜æ”¾çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±é¦–å…ˆè¦è¿æ¥æ•°æ®åº“æ¥è·å–æ•°æ®ï¼Œè¿™æ—¶å€™æ­£å¥½å°±éœ€è¦è¿æ¥æ•°æ®åº“æ‰§è¡Œæ›´æ–°æˆ–æŸ¥è¯¢æ“ä½œçš„åŠŸèƒ½ã€‚</p> 
<p>ç›¸å…³åŠŸèƒ½çš„é€šç”¨æ–¹æ³•ï¼Œå·²ç»åœ¨æˆ‘ä»¬çš„<a href="https://blog.csdn.net/ebb29bbe/category_12012082.html?spm=1001.2014.3001.5482">JDBCä¸“æ </a>ï¼šJDBCå®æˆ˜ç³»åˆ—æ–‡ç« ä¸­å®Œæˆï¼Œç›´æ¥æ‹¿è¿‡æ¥ä½¿ç”¨å³å¯ï¼š</p> 
<p><code>BaseDAOç±»ä»£ç </code>ï¼š</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Field</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">ParameterizedType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Type</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author .29.
 * @create 2022-09-25 19:30
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">BaseDAO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> DRIVER <span class="token operator">=</span> <span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> URL <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/fruitdb?useSSL=false&amp;useUnicode=true&amp;CharacterEncoding=utf-8"</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> USER <span class="token operator">=</span> <span class="token string">"root"</span> <span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PSW <span class="token operator">=</span> <span class="token string">""</span> <span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">PreparedStatement</span> pstm<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">ResultSet</span> rs<span class="token punctuation">;</span>

    <span class="token comment">//è·å–Tçš„å¯¹è±¡</span>
    <span class="token keyword">private</span> <span class="token class-name">Class</span> entityClass<span class="token punctuation">;</span>

    <span class="token comment">//æ„é€ æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token class-name">BaseDAO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//getClass() è·å–Classå¯¹è±¡ï¼Œæˆ‘ä»¬å½“å‰åˆ›å»ºçš„æ˜¯FruitDAOImplå¯¹è±¡ï¼Œnew FruitDAOImpl();</span>
        <span class="token comment">//é‚£ä¹ˆå­ç±»çš„æ„é€ æ–¹æ³•å†…éƒ¨é¦–å…ˆè°ƒç”¨çˆ¶ç±»ï¼ˆBaseDAOï¼‰çš„ç©ºå‚æ„é€ å™¨ï¼Œ</span>
        <span class="token comment">//å› æ­¤æ­¤å¤„çš„getCalss()ä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯è·å–çš„æ˜¯å­ç±»FruitDAOImplçš„Class</span>
        <span class="token comment">//æ‰€ä»¥getGenericSuperclass()è·å–çš„æ˜¯BaeDAOçš„class</span>
        <span class="token class-name">Type</span> genericType <span class="token operator">=</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGenericSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æ³›å‹çˆ¶ç±»ç±»å‹</span>
        <span class="token comment">//å¼ºè½¬æˆ ParameterizedType å‚æ•°åŒ–ç±»å‹</span>
        <span class="token comment">//getActualTypeArguments è·å–å®é™…çš„ç±»å‹å‚æ•°</span>
        <span class="token class-name">Type</span><span class="token punctuation">[</span><span class="token punctuation">]</span> actualTypeArguments <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">ParameterizedType</span><span class="token punctuation">)</span> genericType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActualTypeArguments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//åªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œæ•°ç»„é¦–ä½å°±æ˜¯æˆ‘ä»¬éœ€è¦è·å–çš„&lt;T&gt;çš„çœŸå®ç±»å‹</span>
        <span class="token class-name">Type</span> actualType <span class="token operator">=</span> actualTypeArguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//actualType.getTypeName();è·å–ç±»å‹å</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            entityClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>actualType<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//å°†åŠ è½½é©±åŠ¨ï¼Œè¿æ¥æ•°æ®åº“çš„æ“ä½œåŒ…è£…æˆæ–¹æ³•ï¼Œå‡å°‘ä»£ç å¤ç”¨ç‡</span>
    <span class="token keyword">protected</span> <span class="token class-name">Connection</span> <span class="token function">conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åŠ è½½é©±åŠ¨</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>DRIVER<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//æ•°æ®åº“ç®¡ç†å™¨ï¼Œè¿æ¥æ•°æ®åº“</span>
            connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>URL<span class="token punctuation">,</span> USER<span class="token punctuation">,</span> PSW<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> connection<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//å°†å…³é—­èµ„æºçš„æ“ä½œåŒ…è£…æˆæ–¹æ³•</span>
    <span class="token keyword">protected</span>  <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> rs<span class="token punctuation">,</span><span class="token class-name">PreparedStatement</span> pstm<span class="token punctuation">,</span><span class="token class-name">Connection</span> connection<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>pstm <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                pstm<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//æ‰§è¡Œæ›´æ–°ï¼Œè¿”å›å½±å“è¡Œæ•°çš„æ–¹æ³•ï¼ˆå¦‚æœæ˜¯æ’å…¥æ“ä½œï¼Œè¿”å›è‡ªå¢åˆ—ä¸»é”®å€¼ï¼‰</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> <span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//... paramsä¸ç¡®å®šæ•°é‡çš„å‚æ•°</span>
        <span class="token keyword">boolean</span> insertFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        insertFlag <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"INSERT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            connection <span class="token operator">=</span> <span class="token function">conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//(sqlè¯­å¥ä¸é€šç”¨ï¼Œé å‚æ•°ä¼ é€’è¿›æ¥)</span>
            <span class="token comment">//sqlè¯­å¥</span>
            <span class="token comment">//String sql = "update t_fruit set fcount = ? where fname like ?";</span>
            <span class="token comment">//é¢„å¤„ç†å¯¹è±¡</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>insertFlag<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                pstm <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span><span class="token class-name">Statement</span><span class="token punctuation">.</span>RETURN_GENERATED_KEYS<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
                pstm <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token function">setParams</span><span class="token punctuation">(</span>pstm<span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            rs <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">getGeneratedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">)</span>rs<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">//å‚æ•°å¡«å……ä¹Ÿä¸é€šç”¨ï¼Œä¹Ÿé å‚æ•°ä¼ é€’è¿›æ¥</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    pstm<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> count<span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œæ›´æ–°ï¼Œè¿”å›å½±å“è¡Œæ•°</span>

        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span> rs<span class="token punctuation">,</span> pstm<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å½±å“è¡Œæ•°ä¸º0</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//é€šè¿‡åå°„æŠ€æœ¯ï¼Œç»™objå¯¹è±¡çš„propertyå±æ€§èµ‹propertyValueå€¼</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">,</span> <span class="token class-name">String</span> property<span class="token punctuation">,</span><span class="token class-name">Object</span> propertyValue<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Class</span> clazz <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//è·å–propertyè¿™ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å±æ€§å,æ¯”å¦‚fidå»æ‰¾objå¯¹è±¡ä¸­å¯¹åº”çš„fidå±æ€§å€¼</span>
            <span class="token class-name">Field</span> field <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span>property<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>field <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                field<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¼ºåˆ¶è®¿é—®ï¼ˆå³ä½¿privateå±æ€§ä¹Ÿèƒ½è®¿é—®ï¼‰ï¼Œé˜²æ­¢å±æ€§ä¸ºprivate</span>
                field<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>propertyValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchFieldException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//æ‰§è¡Œå¤æ‚æŸ¥è¯¢ï¼Œè¿”å›... ä¾‹å¦‚ç»Ÿè®¡ç»“æœ</span>
    <span class="token keyword">protected</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">executeComplexQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åŠ è½½é©±åŠ¨ï¼Œè¿æ¥æ•°æ®åº“çš„æ–¹æ³•</span>
            connection <span class="token operator">=</span> <span class="token function">conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//é¢„å¤„ç†å¯¹è±¡</span>
            pstm <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœé›†</span>
            rs <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//é€šè¿‡rså¯ä»¥è·å–ç»“æœé›†çš„å…ƒæ•°æ®</span>
            <span class="token comment">//å…ƒæ•°æ®ï¼šæè¿°ç»“æœé›†ä¿¡æ¯çš„æ•°æ®ï¼ˆæœ‰å“ªäº›åˆ—ï¼Œä»€ä¹ˆç±»å‹ã€‚ã€‚ã€‚ï¼‰</span>
            <span class="token class-name">ResultSetMetaData</span> rsmd <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getMetaData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//è·å–å…ƒæ•°æ®åˆ—æ•°</span>
            <span class="token keyword">int</span> columnCount <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> columnValueArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>columnCount<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> columnCount<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">Object</span> columValue <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    columnValueArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> columValue<span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> columnValueArr<span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span> rs<span class="token punctuation">,</span> pstm<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›å•ä¸ªå®ä½“å¯¹è±¡</span>
    <span class="token keyword">protected</span> <span class="token class-name">T</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åŠ è½½é©±åŠ¨ï¼Œè¿æ¥æ•°æ®åº“çš„æ–¹æ³•</span>
            connection <span class="token operator">=</span> <span class="token function">conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//é¢„å¤„ç†å¯¹è±¡</span>
            pstm <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">setParams</span><span class="token punctuation">(</span>pstm<span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœé›†</span>
            rs <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//é€šè¿‡rså¯ä»¥è·å–ç»“æœé›†çš„å…ƒæ•°æ®</span>
            <span class="token comment">//å…ƒæ•°æ®ï¼šæè¿°ç»“æœé›†ä¿¡æ¯çš„æ•°æ®ï¼ˆæœ‰å“ªäº›åˆ—ï¼Œä»€ä¹ˆç±»å‹ã€‚ã€‚ã€‚ï¼‰</span>
            <span class="token class-name">ResultSetMetaData</span> rsmd <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getMetaData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//è·å–å…ƒæ•°æ®åˆ—æ•°</span>
            <span class="token keyword">int</span> columnCount <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">T</span> entity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> entityClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> columnCount<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">String</span> columnName <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnName</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Object</span> columValue <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">setValue</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span>columnName<span class="token punctuation">,</span>columValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> entity<span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span> rs<span class="token punctuation">,</span> pstm<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//ç»™é¢„å¤„ç†å‚æ•°è®¾ç½®å‚æ•°</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setParams</span><span class="token punctuation">(</span><span class="token class-name">PreparedStatement</span> psmt<span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>params <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                psmt<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœé›†å¹¶è¾“å‡º</span>
    <span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åŠ è½½é©±åŠ¨ï¼Œè¿æ¥æ•°æ®åº“çš„æ–¹æ³•</span>
            connection <span class="token operator">=</span> <span class="token function">conn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//é¢„å¤„ç†å¯¹è±¡</span>
            pstm <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">setParams</span><span class="token punctuation">(</span>pstm<span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ç»“æœé›†</span>
            rs <span class="token operator">=</span> pstm<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//é€šè¿‡rså¯ä»¥è·å–ç»“æœé›†çš„å…ƒæ•°æ®</span>
            <span class="token comment">//å…ƒæ•°æ®ï¼šæè¿°ç»“æœé›†ä¿¡æ¯çš„æ•°æ®ï¼ˆæœ‰å“ªäº›åˆ—ï¼Œä»€ä¹ˆç±»å‹ã€‚ã€‚ã€‚ï¼‰</span>
            <span class="token class-name">ResultSetMetaData</span> rsmd <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getMetaData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//è·å–å…ƒæ•°æ®åˆ—æ•°</span>
            <span class="token keyword">int</span> columnCount <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">T</span> entity <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> entityClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> columnCount<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">String</span> columnName <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnName</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">Object</span> columValue <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">setValue</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span>columnName<span class="token punctuation">,</span>columValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span> rs<span class="token punctuation">,</span> pstm<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æœ‰ä¸€ä¸ªæ–¹æ³•æ¥è°ƒç”¨<code>BaseDAOç±»</code>ä¸­çš„é€šç”¨æ–¹æ³•ï¼Œä»è€Œå®ŒæˆæŸ¥è¯¢æ•°æ®çš„éœ€æ±‚ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¾æ—§åˆ›å»ºä¸€ä¸ª<code>FruitDAOæ¥å£</code>ï¼Œå¹¶åˆ›å»ºå…¶å®ç°ç±»<code>FruitDAOImplç±»</code>æ¥é‡å†™æ–¹æ³•ï¼Œå®ŒæˆåŠŸèƒ½ã€‚</p> 
</blockquote> 
<p><code>FruitDAOæ¥å£</code>ï¼š<br> æˆ‘ä»¬éœ€è¦åœ¨æµè§ˆå™¨é¡µé¢ä¸­æ˜¾ç¤ºæ•°æ®åº“çš„æ•°æ®ï¼Œå°±éœ€è¦ä¸€ä¸ªè·å–æ•°æ®åº“æ‰€æœ‰ä¿¡æ¯çš„æ–¹æ³•ã€‚</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>fruit<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Fruit</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author .29.
 * @create 2022-10-04 16:39
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FruitDAO</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//è·å–æ‰€æœ‰çš„åº“å­˜ä¿¡æ¯</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Fruit</span><span class="token punctuation">&gt;</span></span> <span class="token function">getFruitList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>FruitDAOImplç±»</code>ï¼š<br> å®ç°ç±»ä¸­è°ƒç”¨äº†BaseDAOç±»ä¸­æŸ¥è¯¢æ•°æ®çš„é€šç”¨æ–¹æ³•ï¼Œå°†SQLè¯­å¥ä¼ å…¥ï¼Œå°†è·å–åˆ°çš„æ•°æ®å­˜å…¥é›†åˆä¸­è¿”å›ã€‚</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>fruit<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Fruit</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>myssm<span class="token punctuation">.</span>basedao<span class="token punctuation">.</span></span><span class="token class-name">BaseDAO</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @author .29.
 * @create 2022-10-04 16:39
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FruitDAOImpl</span> <span class="token keyword">extends</span> <span class="token class-name">BaseDAO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Fruit</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">FruitDAO</span><span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Fruit</span><span class="token punctuation">&gt;</span></span> <span class="token function">getFruitList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM t_fruit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr> 
<h3><a id="2Servlet_501"></a>2.ä½¿ç”¨Servletç»„ä»¶æ¸²æŸ“é¡µé¢</h3> 
<p>å½“æˆ‘ä»¬æ‰“å¼€å¯¹åº”çš„æµè§ˆå™¨é¡µé¢ï¼Œå°±ä¼šå‘å®¢æˆ·ç«¯ä¸­çš„Servletç»„ä»¶å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼Œæˆ‘ä»¬è¿™æ—¶å€™å°†è·å–åˆ°çš„æ•°æ®åº“æ•°æ®ä¿å­˜åˆ°sessionä¿å­˜ä½œç”¨åŸŸä¸­ï¼Œç„¶ååœ¨HTMLæ–‡ä»¶ä¸­è¿›è¡Œæ¸²æŸ“ï¼Œä¹‹åå°†é¡µé¢å“åº”ç»™å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸­ï¼Œå¦‚æ­¤ä¸€æ¥å°±åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå‡ºæ•°æ®åº“æ•°æ®ã€‚</p> 
<h4><a id="Servlet_504"></a>â‘ <code>Servletç»„ä»¶</code></h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>fruit<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Fruit</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>fruit<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">FruitDAO</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>fruit<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">FruitDAOImpl</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>haojin<span class="token punctuation">.</span>myssm<span class="token punctuation">.</span>basedao<span class="token punctuation">.</span>myspringmvc<span class="token punctuation">.</span></span><span class="token class-name">ViewBaseServlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * @author .29.
 * @create 2022-10-04 16:42
 */</span>

<span class="token comment">//Servletä»3.0ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒæ³¨è§£æ–¹å¼çš„æ³¨å†Œ</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/index"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ViewBaseServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">FruitDAO</span> fruitDAO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FruitDAOImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Fruit</span><span class="token punctuation">&gt;</span></span> fruitList <span class="token operator">=</span> fruitDAO<span class="token punctuation">.</span><span class="token function">getFruitList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//ä¿å­˜åˆ°sessionä½œç”¨åŸŸ</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"fruitList"</span><span class="token punctuation">,</span>fruitList<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//æ­¤å¤„çš„è§†å›¾åç§°æ˜¯index</span>
        <span class="token comment">//é‚£ä¹ˆThymeleafä¼šå°†è¿™ä¸ª é€»è¾‘è§†å›¾åç§° å¯¹åº”åˆ° ç‰©ç†è§†å›¾åç§°ä¸Šå»</span>
        <span class="token comment">//é€»è¾‘è§†å›¾åç§° ï¼š index</span>
        <span class="token comment">//ç‰©ç†è§†å›¾åç§° ï¼š view-prefix   +    é€»è¾‘è§†å›¾åç§°    +    view-suffix</span>
        <span class="token comment">//æ‰€ä»¥çœŸå®çš„è§†å›¾åç§°æ˜¯  /        +       index      +      .html</span>
          <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">"index"</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="HTML_551"></a>â‘¡<code>HTMLé¡µé¢</code></h4> 
<p>è¿™æ˜¯æˆ‘ä»¬æ°´æœåº“å­˜ç³»ç»Ÿçš„æµè§ˆå™¨é¡µé¢ä»£ç ï¼Œåœ¨é¡µé¢ä¸­æˆ‘ä»¬ä¼šè®¾ç½®ä¸€ä¸ªæ ‡é¢˜ä»¥åŠä¸€ä¸ªè¡¨æ ¼ï¼Œè¡¨æ ¼ä¸­å±•ç¤ºçš„å°±æ˜¯æˆ‘ä»¬æ•°æ®åº“ä¸­ä¿å­˜çš„æ°´æœåº“å­˜æ•°æ®ã€‚</p> 
<p>å› ä¸ºæˆ‘ä»¬è·å–åˆ°çš„æ•°æ®æ˜¯ä¸€ä¸ªé›†åˆï¼Œæ‰€ä»¥åœ¨HTMLæ–‡ä»¶ä¸­éœ€è¦ç”¨åˆ° Thymeleaf æŠ€æœ¯çš„æ ‡ç­¾å±æ€§:</p> 
<ul><li>th:if</li><li>th:unless</li><li>th:each</li><li>th:text</li></ul> 
<blockquote> 
 <p>å¾ªç¯éå†ä¸Šæ–‡ä¿å­˜åœ¨sessionä¿å­˜ä½œç”¨åŸŸä¸­çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸ºç©ºï¼Œæ˜¾ç¤ºåº“å­˜å±æœºä¸ºç©ºï¼š</p> 
</blockquote> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#lists.isEmpty(session.fruitList)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> 4</span><span class="token punctuation">&gt;</span></span>å¯¹ä¸èµ·ï¼Œåº“å­˜ä¸ºç©ºï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>â€¦</p> 
<blockquote> 
 <p>å¦‚æœä¿å­˜çš„æ•°æ®ä¸ä¸ºç©ºï¼Œè·å–æ•°æ®ä¸­æ¯ä¸€è¡Œæ•°æ®çš„ä¿¡æ¯ï¼ˆæ°´æœï¼Œä»·æ ¼ï¼Œåº“å­˜ï¼‰ï¼Œç¬¬å››åˆ—çš„åˆ é™¤æ ‡å¿—åç»­åŠŸèƒ½å®Œå–„åå¯ä»¥é€šè¿‡ç‚¹å‡»å®ç°åˆ é™¤æ“ä½œã€‚</p> 
</blockquote> 
<pre><code class="prism language-html">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#lists.isEmpty(session.fruitList)}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fruit:${session.fruitList}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.fname}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.fcount}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24px<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<hr> 
<p><code>å®Œæ•´htmlä»£ç </code>ï¼š</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>index.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>div_container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center f30<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨æ°´æœåº“å­˜åå°ç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>tbl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">class</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>w20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">class</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>w20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å•ä»·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">class</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">"</span>w20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åº“å­˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#lists.isEmpty(session.fruitList)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> 4</span><span class="token punctuation">&gt;</span></span>å¯¹ä¸èµ·ï¼Œåº“å­˜ä¸ºç©ºï¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${#lists.isEmpty(session.fruitList)}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fruit:${session.fruitList}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.fname}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${fruit.fcount}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>del.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>24px<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>



	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p><code>cssæ•ˆæœä»£ç </code>ï¼š</p> 
<pre><code class="prism language-css"><span class="token selector">#div_container</span><span class="token punctuation">{<!-- --></span>
               <span class="token property">width</span><span class="token punctuation">:</span>80%<span class="token punctuation">;</span>
			   <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
               <span class="token property">border</span><span class="token punctuation">:</span>1px solid white<span class="token punctuation">;</span>
			   <span class="token property">margin-left</span><span class="token punctuation">:</span>10%<span class="token punctuation">;</span>
			   <span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span>
			   <span class="token punctuation">}</span>
<span class="token selector">#list</span><span class="token punctuation">{<!-- --></span>
      <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span>0px solid white<span class="token punctuation">;</span>
			   <span class="token punctuation">}</span>
<span class="token selector">#tbl , #tbl tr,#tbl th,#tbl td</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">border</span><span class="token punctuation">:</span>1px solid gray<span class="token punctuation">;</span>
	<span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#tbl</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">margin-top</span><span class="token punctuation">:</span>120px<span class="token punctuation">;</span>
	<span class="token property">margin-left</span><span class="token punctuation">:</span>20%<span class="token punctuation">;</span>
	<span class="token property">width</span><span class="token punctuation">:</span>60%<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token selector">.w20</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">width</span><span class="token punctuation">:</span>20%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.f30</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">padding</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
	<span class="token property">margin</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
	<span class="token property">background-color</span><span class="token punctuation">:</span>aquamarine<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">div</span><span class="token punctuation">{<!-- --></span>
	<span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
	<span class="token property">float</span><span class="token punctuation">:</span>left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.input</span><span class="token punctuation">{<!-- --></span>
       <span class="token property">border</span><span class="token punctuation">:</span>1px solid lightgray<span class="token punctuation">;</span>
	   <span class="token property">width</span><span class="token punctuation">:</span>90%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr> 
<hr> 
<h2><a id="_679"></a>ä¸‰ã€æ•ˆæœ</h2> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/2f/40/AaZ6rdqX_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
</blockquote> 
<hr> 
<h2><a id="_688"></a>æ€»ç»“</h2> 
<p>è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è·å–åˆ°çš„æ•°æ®åº“æ•°æ®æ¸²æŸ“åˆ°äº†æµè§ˆå™¨é¡µé¢ä¸Šï¼Œå½“ç„¶è¿™åªä¸è¿‡æ˜¯å¼€å§‹ï¼Œæˆ‘ä»¬çš„æ°´æœåº“å­˜ç³»ç»Ÿè¿˜æœ‰è®¸å¤šåŠŸèƒ½æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œæ¯”å¦‚æ–°å¢åº“å­˜çš„åŠŸèƒ½ã€ä¿®æ”¹åº“å­˜çš„å†…å®¹ã€åˆ é™¤æŒ‡å®šæ°´æœä¿¡æ¯çš„åŠŸèƒ½ã€é¡µé¢çš„åˆ†é¡µåŠŸèƒ½ç­‰ã€‚</p> 
<p>æˆ‘å°†åœ¨åç»­çš„æ–‡ç« ä¸­ä¸ºå®¢æˆ·ç«¯é¡µé¢å¢æ·»ä¸Šè¿°æåˆ°çš„å†…å®¹ï¼Œé€æ­¥å®Œå–„ç³»ç»Ÿï¼Œåœ¨å®Œå–„ç³»ç»Ÿé¡¹ç›®çš„åŒæ—¶ï¼ŒæŒæ¡å¥½ç›¸å…³çš„çŸ¥è¯†ã€‚</p> 
<hr> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/c3/1c/YmFwps1z_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/757f1d7886568d70e274b5f2c78a7b5b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆtarjan-å¡”æ¨ç®—æ³•ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d773855918b9bd489416828c820d5e37/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">CMakeä¸­find_libraryçš„ä½¿ç”¨</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>