<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ORACLE：数据库中ROWNUM的详解与应用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ORACLE：数据库中ROWNUM的详解与应用" />
<meta property="og:description" content="首先先了解一下Rownum的执行机制：
1.Oracle executes your query.(开始执行查询)
2.Oracle fetches the first row and calls it row number 1.(执行第一行，并且标记该行为第一行)
3.Have we gotten past row number meets the criteria? If no, then Oracle discards the row, If yes, then Oracle return the row.(你过去得到的行号是否符合标准&lt;即where条件句&gt;,如果不符合，则废弃掉这一行和行号，如果符合，就返回该行保存行号)
4.Oracle fetches the next row and advances the row number (to 2, and then to 3, and then to 4, and so forth).(开始执行下一行，并且是行号&#43;1)
5.Go to step 3.
了解了原理，就知道rownum&gt;不会成功，因为在第三步的时候查询出的行已经被丢弃，第四步查出来的rownum仍然是1,这样永远也不会成功。
然后来说一下使用ROWNUM的注意事项:
1.Rownum不能以任何表的名称作为前缀，因为它不属于任何一个表。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/653003cbe709f6be9a298e3e7a84dd3f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-20T14:00:51+08:00" />
<meta property="article:modified_time" content="2023-02-20T14:00:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ORACLE：数据库中ROWNUM的详解与应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="background-color:#999999;">首先先了解一下Rownum的执行机制：</span></p> 
<blockquote> 
 <p>1.Oracle executes your query.<span style="color:#ff0000;">(开始执行查询)</span></p> 
 <p>2.Oracle fetches the first row and calls it row number 1.<span style="color:#ff0000;">(执行第一行，并且标记该行为第一行)</span></p> 
 <p>3.Have we gotten past row number meets the criteria? If no, then Oracle discards the row, If yes, then Oracle return the row.<span style="color:#ff0000;">(你过去得到的行号是否符合标准&lt;即where条件句&gt;,如果不符合，则废弃掉这一行和行号，如果符合，就返回该行保存行号)</span></p> 
 <p>4.Oracle fetches the next row and advances the row number (to 2, and then to 3, and then to 4, and so forth).<span style="color:#ff0000;">(开始执行下一行，并且是行号+1)</span></p> 
 <p>5.Go to step 3.</p> 
</blockquote> 
<p>了解了原理，就知道rownum&gt;不会成功，因为在第三步的时候查询出的行已经被丢弃，第四步查出来的rownum仍然是1,这样永远也不会成功。</p> 
<p></p> 
<p><span style="background-color:#999999;">然后来说一下使用ROWNUM的注意事项:</span></p> 
<blockquote> 
 <p></p> 
 <p>1.Rownum<span style="color:#ff0000;">不能以任何表的名称作为前缀</span>，因为它不属于任何一个表。</p> 
 <p></p> 
 <p>2.Rownum想查询大于第几行的必须用子查询。</p> 
 <p></p> 
 <p>3.因为rownum不属于表，所以<span style="color:#ff0000;">rownum必须有对应的别名</span>，否则系统无法区分是哪个rownum，就是只有一个rownum也必须有别名。</p> 
 <p></p> 
 <p>4.select <span style="color:#0000ff;">rownum no </span>, *  from student 是不成立的;</p> 
 <p></p> 
 <p> select <span style="color:#ff0000;">A.* </span>, <span style="color:#4f81bd;"> ROWNUM RN</span> from (SELECT * from "student") <span style="color:#ff0000;"> A</span> 才成立;</p> 
 <p></p> 
</blockquote> 
<p><span style="background-color:#999999;">最后看一下实例：</span></p> 
<blockquote> 
 <p><span style="background-color:#999999;">//例一： SELECT A. * from(select rownum no ,id,name from student order by sid) A where no&gt;2 and no &lt;10; //例二: SELECT * FROM (SELECT A.* , ROWNUM RN FROM (SELECT * FROM "STUDENT" ORDER BY "SID" DESC) A WHERE ROWNUM &lt; 3) WHERE RN &gt;= 1; //注意：例一、例二中的 * 前的表别名是必须存在的. </span></p> 
</blockquote> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/122951c93b3f9a361732c9c69d3a55a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ORACLE：查询表空间信息及位置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/13078adc0533de747b18e637dea43a57/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SPRINGBOOT：【基础一】springboot集成alibaba-druid数据连接池及配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>