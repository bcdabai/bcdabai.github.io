<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MyBatis-Plus条件构造器入门学习 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MyBatis-Plus条件构造器入门学习" />
<meta property="og:description" content="MyBatis-Plus条件构造器入门学习 官网：https://baomidou.com/pages/10c804/#abstractwrapper
AbstractWrapper 是QueryWrapper(LambdaQueryWrapper) 和UpdateWrapper(LambdaUpdateWrapper) 的父类。
PS:入参boolean condition表示该条件是否加入最后生成的sql中，例如：query.like(StringUtils.isNotBlank(name), Entity::getName, name) .eq(age!=null &amp;&amp; age &gt;= 0, Entity::getAge, age)
allEq 方法：
allEq(Map&lt;R, V&gt; params) allEq(Map&lt;R, V&gt; params, boolean null2IsNull) allEq(boolean condition, Map&lt;R, V&gt; params, boolean null2IsNull) allEq(BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params) allEq(BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params, boolean null2IsNull) allEq(boolean condition, BiPredicate&lt;R, V&gt; filter, Map&lt;R, V&gt; params, boolean null2IsNull) 使用实例：
Map map=new HashMap(); map.put(&#34;name&#34;,&#34;周杰伦9&#34;); map.put(&#34;age&#34;,null); //方法对应生成的sql wrapper.allEq(map);//allEq({name:&#34;周杰伦9&#34;,age:null})---&gt; name = &#39;周杰伦9&#39; and age is null wrapper." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/81e274fa7d7f7ed295f67e7e545be326/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-10T11:25:43+08:00" />
<meta property="article:modified_time" content="2022-08-10T11:25:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MyBatis-Plus条件构造器入门学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MyBatisPlus_0"></a>MyBatis-Plus条件构造器入门学习</h2> 
<p><a href="https://baomidou.com/pages/10c804/#abstractwrapper" rel="nofollow">官网</a>：https://baomidou.com/pages/10c804/#abstractwrapper</p> 
<h3><a id="AbstractWrapper_4"></a>AbstractWrapper</h3> 
<p>是<code>QueryWrapper(LambdaQueryWrapper)</code> 和<code>UpdateWrapper(LambdaUpdateWrapper)</code> 的父类。</p> 
<hr> 
<blockquote> 
 <p>PS:入参<code>boolean condition</code>表示该条件<strong>是否</strong>加入最后生成的sql中，例如：query.like(StringUtils.isNotBlank(name), Entity::getName, name) .eq(age!=null &amp;&amp; age &gt;= 0, Entity::getAge, age)</p> 
</blockquote> 
<h4><a id="allEq_12"></a>allEq</h4> 
<p>方法：</p> 
<pre><code class="prism language-java"><span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span>
<span class="token function">allEq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> filter<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">,</span> <span class="token keyword">boolean</span> null2IsNull<span class="token punctuation">)</span> 
</code></pre> 
<p>使用实例：</p> 
<pre><code class="prism language-java"><span class="token class-name">Map</span> map<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"周杰伦9"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//方法对应生成的sql</span>
wrapper<span class="token punctuation">.</span><span class="token function">allEq</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//allEq({name:"周杰伦9",age:null})---&gt; name = '周杰伦9' and age is null</span>
wrapper<span class="token punctuation">.</span><span class="token function">allEq</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//allEq({name:"周杰伦9",age:null})---&gt; name = '周杰伦9'</span>

<span class="token comment">//filter : 过滤函数,是否允许字段传入比对条件中</span>
wrapper<span class="token punctuation">.</span><span class="token function">allEq</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> k<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span>map<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//allEq({name:"周杰伦9",age:null})---&gt; name = '周杰伦9' </span>
</code></pre> 
<h4><a id="eq_40"></a>eq</h4> 
<pre><code class="prism language-java"><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">eq</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>等于 =</li><li>例: <code>eq("name", "老王")</code>—&gt;<code>name = '老王'</code></li></ul> 
<h4><a id="gt_50"></a>gt</h4> 
<pre><code class="prism language-java"><span class="token function">gt</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">gt</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>大于 &gt;</li><li>例: <code>gt("age", 18)</code>—&gt;<code>age &gt; 18</code></li></ul> 
<h4><a id="ge_60"></a>ge</h4> 
<pre><code class="prism language-java"><span class="token function">ge</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">ge</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>大于等于 &gt;=</li><li>例: <code>ge("age", 18)</code>—&gt;<code>age &gt;= 18</code></li></ul> 
<h4><a id="lt_70"></a>lt</h4> 
<pre><code class="prism language-java"><span class="token function">lt</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">lt</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>小于 &lt;</li><li>例: <code>lt("age", 18)</code>—&gt;<code>age &lt; 18</code></li></ul> 
<h4><a id="le_80"></a>le</h4> 
<pre><code class="prism language-java"><span class="token function">le</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">le</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>小于等于 &lt;=</li><li>例: <code>le("age", 18)</code>—&gt;<code>age &lt;= 18</code></li></ul> 
<h4><a id="between_90"></a>between</h4> 
<pre><code class="prism language-java"><span class="token function">between</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
<span class="token function">between</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
</code></pre> 
<ul><li>BETWEEN 值1 AND 值2</li><li>例: <code>between("age", 18, 30)</code>—&gt;<code>age between 18 and 30</code></li></ul> 
<h4><a id="notBetween_100"></a>notBetween</h4> 
<pre><code class="prism language-java"><span class="token function">notBetween</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
<span class="token function">notBetween</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val1<span class="token punctuation">,</span> <span class="token class-name">Object</span> val2<span class="token punctuation">)</span>
</code></pre> 
<ul><li>NOT BETWEEN 值1 AND 值2</li><li>例: <code>notBetween("age", 18, 30)</code>—&gt;<code>age not between 18 and 30</code></li></ul> 
<h4><a id="like_110"></a>like</h4> 
<pre><code class="prism language-java"><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">like</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>LIKE ‘%值%’</li><li>例: <code>like("name", "王")</code>—&gt;<code>name like '%王%'</code></li></ul> 
<h4><a id="notLike_120"></a>notLike</h4> 
<pre><code class="prism language-java"><span class="token function">notLike</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">notLike</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>NOT LIKE ‘%值%’</li><li>例: <code>notLike("name", "王")</code>—&gt;<code>name not like '%王%'</code></li></ul> 
<h4><a id="likeLeft_130"></a>likeLeft</h4> 
<pre><code class="prism language-java"><span class="token function">likeLeft</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">likeLeft</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>LIKE ‘%值’</li><li>例: <code>likeLeft("name", "王")</code>—&gt;<code>name like '%王'</code></li></ul> 
<h4><a id="likeRight_140"></a>likeRight</h4> 
<pre><code class="prism language-java"><span class="token function">likeRight</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">likeRight</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>LIKE ‘值%’</li><li>例: <code>likeRight("name", "王")</code>—&gt;<code>name like '王%'</code></li></ul> 
<h4><a id="isNull_150"></a>isNull</h4> 
<pre><code class="prism language-java"><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">)</span>
<span class="token function">isNull</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 IS NULL</li><li>例: <code>isNull("name")</code>—&gt;<code>name is null</code></li></ul> 
<h4><a id="isNotNull_160"></a>isNotNull</h4> 
<pre><code class="prism language-java"><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">)</span>
<span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 IS NOT NULL</li><li>例: <code>isNotNull("name")</code>—&gt;<code>name is not null</code></li></ul> 
<h4><a id="in_170"></a>in</h4> 
<pre><code class="prism language-java"><span class="token function">in</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
<span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 IN (value.get(0), value.get(1), …)</li><li>例: <code>in("age",{1,2,3})</code>—&gt;<code>age in (1,2,3)</code></li></ul> 
<pre><code class="prism language-java"><span class="token function">in</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
<span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 IN (v0, v1, …)</li><li>例: <code>in("age", 1, 2, 3)</code>—&gt;<code>age in (1,2,3)</code></li></ul> 
<p>可传<code>Collection</code>集合，也可以直接传多个参数</p> 
<pre><code class="prism language-java"><span class="token class-name">List</span> ages<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ages<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

wrapper<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span>ages<span class="token punctuation">)</span><span class="token punctuation">;</span>
wrapper<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2c/61/1NZ5WGK4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="notIn_203"></a>notIn</h4> 
<pre><code class="prism language-java"><span class="token function">notIn</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
<span class="token function">notIn</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 NOT IN (value.get(0), value.get(1), …)</li><li>例: <code>notIn("age",{1,2,3})</code>—&gt;<code>age not in (1,2,3)</code></li></ul> 
<pre><code class="prism language-java"><span class="token function">notIn</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
<span class="token function">notIn</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 NOT IN (v0, v1, …)</li><li>例: <code>notIn("age", 1, 2, 3)</code>—&gt;<code>age not in (1,2,3)</code></li></ul> 
<h4><a id="inSql_221"></a>inSql</h4> 
<pre><code class="prism language-java"><span class="token function">inSql</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">String</span> inValue<span class="token punctuation">)</span>
<span class="token function">inSql</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">String</span> inValue<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 IN ( sql语句 )</li><li>例: <code>inSql("age", "1,2,3,4,5,6")</code>—&gt;<code>age in (1,2,3,4,5,6)</code></li><li>例: <code>inSql("id", "select id from table where id &lt; 3")</code>—&gt;<code>id in (select id from table where id &lt; 3)</code></li></ul> 
<h4><a id="notInSql_232"></a>notInSql</h4> 
<pre><code class="prism language-java"><span class="token function">notInSql</span><span class="token punctuation">(</span><span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">String</span> inValue<span class="token punctuation">)</span>
<span class="token function">notInSql</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span> column<span class="token punctuation">,</span> <span class="token class-name">String</span> inValue<span class="token punctuation">)</span>
</code></pre> 
<ul><li>字段 NOT IN ( sql语句 )</li><li>例: <code>notInSql("age", "1,2,3,4,5,6")</code>—&gt;<code>age not in (1,2,3,4,5,6)</code></li><li>例: <code>notInSql("id", "select id from table where id &lt; 3")</code>—&gt;<code>id not in (select id from table where id &lt; 3)</code></li></ul> 
<h4><a id="groupBy_243"></a>groupBy</h4> 
<pre><code class="prism language-java"><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> 
<ul><li>分组：GROUP BY 字段, …</li><li>例: <code>groupBy("id", "name")</code>—&gt;<code>group by id,name</code></li></ul> 
<h4><a id="orderByAsc_253"></a>orderByAsc</h4> 
<pre><code class="prism language-java"><span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> 
<ul><li>排序：ORDER BY 字段, … ASC</li><li>例: <code>orderByAsc("id", "name")</code>—&gt;<code>order by id ASC,name ASC</code></li></ul> 
<h4><a id="orderByDesc_263"></a>orderByDesc</h4> 
<pre><code class="prism language-java"><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> 
<ul><li>排序：ORDER BY 字段, … DESC</li><li>例: <code>orderByDesc("id", "name")</code>—&gt;<code>order by id DESC,name DESC</code></li></ul> 
<h4><a id="orderBy_273"></a>orderBy</h4> 
<pre><code class="prism language-java"><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isAsc<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
</code></pre> 
<ul><li>排序：ORDER BY 字段, …</li><li>例: <code>orderBy(true, true, "id", "name")</code>—&gt;<code>order by id ASC,name ASC</code></li></ul> 
<h4><a id="having_282"></a>having</h4> 
<pre><code class="prism language-java"><span class="token function">having</span><span class="token punctuation">(</span><span class="token class-name">String</span> sqlHaving<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
<span class="token function">having</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> sqlHaving<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
</code></pre> 
<ul><li>HAVING ( sql语句 )</li><li>例: <code>having("sum(age) &gt; 10")</code>—&gt;<code>having sum(age) &gt; 10</code></li><li>例: <code>having("sum(age) &gt; {0}", 11)</code>—&gt;<code>having sum(age) &gt; 11</code></li></ul> 
<p>演示：</p> 
<pre><code class="prism language-java">wrapper<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">having</span><span class="token punctuation">(</span><span class="token string">"sum(age)&gt;10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f9/11/sBFvaMX7_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="func_302"></a>func</h4> 
<pre><code class="prism language-java"><span class="token function">func</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Children</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Children</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> 
<ul><li>func 方法(主要方便在出现if…else下调用不同方法能不断链)</li><li>例: <code>func(i -&gt; if(true) {i.eq("id", 1)} else {i.ne("id", 1)})</code></li></ul> 
<h4><a id="or_312"></a>or</h4> 
<pre><code class="prism language-java"><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">or</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>拼接 OR</p> 
  <blockquote> 
   <p>注意事项:</p> 
   <p>主动调用<code>or</code>表示紧接着下一个<strong>方法</strong>不是用<code>and</code>连接!(不调用<code>or</code>则默认为使用<code>and</code>连接)</p> 
  </blockquote> </li><li> <p>例: <code>eq("id",1).or().eq("name","老王")</code>—&gt;<code>id = 1 or name = '老王'</code></p> </li></ul> 
<pre><code class="prism language-java"><span class="token function">or</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">or</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> 
<ul><li>OR 嵌套</li><li>例: <code>or(i -&gt; i.eq("name", "李白").ne("status", "活着"))</code>—&gt;<code>or (name = '李白' and status &lt;&gt; '活着')</code></li></ul> 
<h4><a id="and_335"></a>and</h4> 
<pre><code class="prism language-java"><span class="token function">and</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">and</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> 
<ul><li>AND 嵌套</li><li>例: <code>and(i -&gt; i.eq("name", "李白").ne("status", "活着"))</code>—&gt;<code>and (name = '李白' and status &lt;&gt; '活着')</code></li></ul> 
<h4><a id="nested_345"></a>nested</h4> 
<pre><code class="prism language-java"><span class="token function">nested</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
<span class="token function">nested</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Param</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span>
</code></pre> 
<ul><li>正常嵌套 不带 AND 或者 OR</li><li>例: <code>nested(i -&gt; i.eq("name", "李白").ne("status", "活着"))</code>—&gt;<code>(name = '李白' and status &lt;&gt; '活着')</code></li></ul> 
<h4><a id="apply_355"></a>apply</h4> 
<pre><code class="prism language-java"><span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">String</span> applySql<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
<span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> applySql<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>拼接 sql</p> 
  <blockquote> 
   <p>注意事项:</p> 
   <p>该方法可用于数据库<strong>函数</strong> 动态入参的<code>params</code>对应前面<code>applySql</code>内部的<code>{index}</code>部分.这样是不会有sql注入风险的,反之会有!</p> 
  </blockquote> </li><li> <p>例: <code>apply("id = 1")</code>—&gt;<code>id = 1</code></p> </li><li> <p>例: <code>apply("date_format(dateColumn,'%Y-%m-%d') = '2008-08-08'")</code>—&gt;<code>date_format(dateColumn,'%Y-%m-%d') = '2008-08-08'")</code></p> </li><li> <p>例: <code>apply("date_format(dateColumn,'%Y-%m-%d') = {0}", "2008-08-08")</code>—&gt;<code>date_format(dateColumn,'%Y-%m-%d') = '2008-08-08'")</code></p> </li></ul> 
<p>有什么特别的sql语句直接用apply拼接就行</p> 
<h4><a id="last_376"></a>last</h4> 
<pre><code class="prism language-java"><span class="token function">last</span><span class="token punctuation">(</span><span class="token class-name">String</span> lastSql<span class="token punctuation">)</span>
<span class="token function">last</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> lastSql<span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>无视优化规则直接拼接到 sql 的最后</p> 
  <blockquote> 
   <p>注意事项:</p> 
   <p>只能调用一次,多次调用以最后一次为准 有sql注入的风险,请谨慎使用</p> 
  </blockquote> </li><li> <p>例: <code>last("limit 1")</code></p> </li></ul> 
<h4><a id="exists_391"></a>exists</h4> 
<pre><code class="prism language-java"><span class="token function">exists</span><span class="token punctuation">(</span><span class="token class-name">String</span> existsSql<span class="token punctuation">)</span>
<span class="token function">exists</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> existsSql<span class="token punctuation">)</span>
</code></pre> 
<ul><li>拼接 EXISTS ( sql语句 )</li><li>例: <code>exists("select id from table where age = 1")</code>—&gt;<code>exists (select id from table where age = 1)</code></li></ul> 
<h4><a id="notExists_401"></a>notExists</h4> 
<pre><code class="prism language-java"><span class="token function">notExists</span><span class="token punctuation">(</span><span class="token class-name">String</span> notExistsSql<span class="token punctuation">)</span>
<span class="token function">notExists</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> notExistsSql<span class="token punctuation">)</span>
</code></pre> 
<ul><li>拼接 NOT EXISTS ( sql语句 )</li><li>例: <code>notExists("select id from table where age = 1")</code>—&gt;<code>not exists (select id from table where age = 1)</code></li></ul> 
<h3><a id="QueryWrapper_411"></a>QueryWrapper</h3> 
<h4><a id="select_413"></a>select</h4> 
<pre><code class="prism language-java"><span class="token function">select</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> sqlSelect<span class="token punctuation">)</span>
<span class="token function">select</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TableFieldInfo</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
<span class="token function">select</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> entityClass<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TableFieldInfo</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>设置查询字段</p> 
  <blockquote> 
   <p>说明:</p> 
   <p>以上方法分为两类.<br> 第二类方法为:过滤查询字段(主键除外),入参不包含 class 的调用前需要<code>wrapper</code>内的<code>entity</code>属性有值! 这两类方法重复调用以最后一次为准</p> 
  </blockquote> </li><li> <p>例: <code>select("id", "name", "age")</code></p> </li><li> <p>例: <code>select(i -&gt; i.getProperty().startsWith("test"))</code></p> </li></ul> 
<h3><a id="UpdateWrapper_434"></a>UpdateWrapper</h3> 
<h4><a id="set_436"></a>set</h4> 
<pre><code class="prism language-java"><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
<span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> column<span class="token punctuation">,</span> <span class="token class-name">Object</span> val<span class="token punctuation">)</span>
</code></pre> 
<ul><li>SQL SET 字段</li><li>例: <code>set("name", "老李头")</code></li><li>例: <code>set("name", "")</code>—&gt;数据库字段值变为<strong>空字符串</strong></li><li>例: <code>set("name", null)</code>—&gt;数据库字段值变为<code>null</code></li></ul> 
<h4><a id="setSql_448"></a>setSql</h4> 
<pre><code class="prism language-java"><span class="token function">setSql</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span>
</code></pre> 
<ul><li>设置 SET 部分 SQL</li><li>例: <code>setSql("name = '老李头'")</code></li></ul> 
<h4><a id="lambda_457"></a>lambda</h4> 
<ul><li>获取 <code>LambdaWrapper</code><br> 在<code>QueryWrapper</code>中是获取<code>LambdaQueryWrapper</code><br> 在<code>UpdateWrapper</code>中是获取<code>LambdaUpdateWrapper</code></li></ul> 
<h4><a id="_lambda__463"></a>链式调用 lambda 式</h4> 
<pre><code class="prism language-java"><span class="token comment">// 区分:</span>
<span class="token comment">// 链式调用 普通</span>
<span class="token class-name">UpdateChainWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 链式调用 lambda 式。注意：不支持 Kotlin </span>
<span class="token class-name">LambdaUpdateChainWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">lambdaUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等价示例：</span>
<span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">lambdaQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">Entity</span><span class="token operator">::</span><span class="token function">getId</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等价示例：</span>
<span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">lambdaUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">Entity</span><span class="token operator">::</span><span class="token function">getId</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4f2f8f0545ebf8dd1c757a7005ddb028/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Idea （优选）cherry-pick操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/da50424f0d2d0fa865b8993d72a3af5a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Could not find artifact org.apache.tomcat.maven:tomcat7-maven-plugin:pom.....报红</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>