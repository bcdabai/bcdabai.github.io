<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Colyseus 常见错误 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Colyseus 常见错误" />
<meta property="og:description" content="报错原因解决errno: -4058 spawn git ENOENT找不到Git命令安装Git/配置Git路径XXX has been blocked by CORS policyhttp请求试图调用https资源/本地试图访问网络资源/Arena上传代码后没有部署/在已连接服务器的情况下重复连接/服务器地址写错统一使用https/配置跨域访问政策文件/Arena上传代码后记得点击&#39;deploy&#39; /避免重复连接服务器/修正服务器地址SyntaxError: Unexpected token &#39;.&#39;NodeJS版本太旧升级NodeJSMissingMethodException: Default constructor not found引擎代码被删减尝试关闭 code strippingTypeError: Cannot assign to read only property &#39;map&#39; of object &#39;#&lt;QueryCursor&gt;&#39;NodeJS版本太旧升级NodeJSError: missing serializer客户端/服务器版本不一致统一SDK到当前版本Error: seat reservation expired客户端与服务器版本不匹配/客户端未实例化或数量过大/redis驱动不匹配/matchAPI无法正常工作/服务器URL端口不对或者是URL后多打了一个&#34;/&#34;升级客户端/等待客户端完成实例化/升级服务端容量/升级redis驱动/更正URLClass constructor Room cannot be invoked without &#39;new&#39;Typescript编译版本过低配置Typescript编译目标 &#34;es2015&#34; 或更高Type &#39;number[]&#39; is missing the following properties from type &#39;ArraySchema&lt;number&gt;&#39;schema类型写错ArraySchema&lt;number&gt;的类型是number[]ERROR in XXX.d.ts ... XXX expectedTypescript版本过低升级Typescript: npm install --save-dev typescript@latestnpm ERR! Could not resolve XXXnpm命令执行错误重新安装相关依赖模块net::ERR_SSL_PROTOCOL_ERROR使用了ip地址进行SSL连接改用https://domain进行连接TypeError: Cannot read properties of undefined (reading &#39;prototype&#39;)依赖库版本不匹配尝试运行 npm update 命令Right-hand side of &#39;instanceof&#39; is not callableschema类型写错检测并修复schemaIPC timed out." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2bd65d856262d7b514bd6b6875d85c81/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-12T14:57:19+08:00" />
<meta property="article:modified_time" content="2023-06-12T14:57:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Colyseus 常见错误</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <table><thead><tr><th>报错</th><th>原因</th><th>解决</th></tr></thead><tbody><tr><td><code>errno: -4058 spawn git ENOENT</code></td><td>找不到Git命令</td><td>安装Git/配置Git路径</td></tr><tr><td><code>XXX has been blocked by CORS policy</code></td><td>http请求试图调用https资源/本地试图访问网络资源/Arena上传代码后没有部署/在已连接服务器的情况下重复连接/服务器地址写错</td><td>统一使用https/配置跨域访问政策文件/Arena上传代码后记得点击'deploy' /避免重复连接服务器/修正服务器地址</td></tr><tr><td><code>SyntaxError: Unexpected token '.'</code></td><td>NodeJS版本太旧</td><td>升级NodeJS</td></tr><tr><td><code>MissingMethodException: Default constructor not found</code></td><td>引擎代码被删减</td><td>尝试关闭 code stripping</td></tr><tr><td><code>TypeError: Cannot assign to read only property 'map' of object '#&lt;QueryCursor&gt;'</code></td><td>NodeJS版本太旧</td><td>升级NodeJS</td></tr><tr><td><code>Error: missing serializer</code></td><td>客户端/服务器版本不一致</td><td>统一SDK到当前版本</td></tr><tr><td><code>Error: seat reservation expired</code></td><td>客户端与服务器版本不匹配/客户端未实例化或数量过大/redis驱动不匹配/matchAPI无法正常工作/服务器URL端口不对或者是URL后多打了一个"/"</td><td>升级客户端/等待客户端完成实例化/升级服务端容量/升级redis驱动/更正URL</td></tr><tr><td><code>Class constructor Room cannot be invoked without 'new'</code></td><td>Typescript编译版本过低</td><td>配置Typescript编译目标 "es2015" 或更高</td></tr><tr><td><code>Type 'number[]' is missing the following properties from type 'ArraySchema&lt;number&gt;'</code></td><td>schema类型写错</td><td>ArraySchema&lt;number&gt;的类型是number[]</td></tr><tr><td><code>ERROR in XXX.d.ts ... XXX expected</code></td><td>Typescript版本过低</td><td>升级Typescript: npm install --save-dev typescript@latest</td></tr><tr><td><code>npm ERR! Could not resolve XXX</code></td><td>npm命令执行错误</td><td>重新安装相关依赖模块</td></tr><tr><td><code>net::ERR_SSL_PROTOCOL_ERROR</code></td><td>使用了ip地址进行SSL连接</td><td>改用https://domain进行连接</td></tr><tr><td><code>TypeError: Cannot read properties of undefined (reading 'prototype')</code></td><td>依赖库版本不匹配</td><td>尝试运行 npm update 命令</td></tr><tr><td><code>Right-hand side of 'instanceof' is not callable</code></td><td>schema类型写错</td><td>检测并修复schema</td></tr><tr><td><code>IPC timed out. method: undefined</code></td><td>Room代码有错</td><td>检查Room及其定义相关代码</td></tr><tr><td><code>net::ERR_CERT_AUTHORITY_INVALID</code></td><td>端口配置与Arena不符</td><td>Arena上使用https地址不要加端口号</td></tr><tr><td><code>Error: read ECONNRESET</code></td><td>套接字连接超时</td><td>增强网络稳定性/添加套接字错误处理</td></tr><tr><td><code>502 bad gateway</code></td><td>Linux权限问题/服务器未完成初始化</td><td>关闭SELINUX/等待服务器完成初始化</td></tr><tr><td><code>SSL Handshake Failed</code></td><td>客户端host没有SSL证书</td><td>上传到拥有SSL证书的host上再打开</td></tr><tr><td><code>socket shut down code 1000</code></td><td>如果是意外行为的话大概率代码有错</td><td>检查修复代码</td></tr><tr><td><code>xx room is already full</code></td><td>本地/远程服务器使用了同一个数据库</td><td>让本地开发服务器使用本地数据库</td></tr><tr><td><code>Error: provided room name xxx not defined</code></td><td>房间逻辑代码有错导致未能成功定义</td><td>修正房间逻辑代码</td></tr><tr><td><code>code 1006: CLOSE_ABNORMAL</code></td><td>可能由于长时间空闲导致 nginx 强制断开了 websocket 连接 / 网络不稳定 / 网络断线</td><td>把 nginx 参数 proxy_read_timeout 设置得大一些 / 选择使用更稳定的网络 / 做好超时处理</td></tr><tr><td><code>Uncaught Error: Invalid byte 81</code></td><td>客户端版本与服务端不匹配</td><td>升级/降级客户端到最新稳定版本</td></tr><tr><td><code>err_cert_date_invalid</code></td><td>服务器SSL证书过期</td><td>更新SSL证书</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3da4a62b8db26595a74a7c0ef8edd4e4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IP地址介绍及运算方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/982dcff2d74bba4ba01b9635d2e01db1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Linux】解决Linux无法联网的一个小问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>