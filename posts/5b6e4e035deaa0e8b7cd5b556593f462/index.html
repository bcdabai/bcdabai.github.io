<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>代码雨效果 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="代码雨效果" />
<meta property="og:description" content="反正大家肯定都不爱看文字，实现过程就都写代码注释里面了 &lt;template&gt; &lt;div ref=&#34;mainrouter&#34; class=&#34;mainrouter&#34; style=&#34;background-color: black;position: relative;overflow: hidden;padding: 0;&#34;&gt; &lt;!-- 现在有一道题，要求做出代码雨的效果，你要怎么实现 --&gt; &lt;!-- 首先要解决代码垂直排布的样式 --&gt; &lt;!-- 然后，然后你想想哈，这么多代码雨是不是由每一条代码雨组成的，那我们现在就一条一条来加上去--&gt; &lt;!-- 最后你想，这一条动起来了，那我要一大堆怎么动呢，当然for循环游戏就好了 --&gt; &lt;!-- 别忘了，每个代码雨执行动画要有间隔，不然就一起动了，肯定不好看 --&gt; &lt;div class=&#34;code&#34; ref=&#34;code&#34; v-for=&#34;(item, index) in codenum&#34; :style=&#34;{ &#39;--width&#39;: codenum, }&#34; :key=&#34;index&#34;&gt; &lt;div :model=&#34;data&#34; v-for=&#34;(item2, index2) in 15&#34; :key=&#34;index2&#34;&gt;{{ getRandomChar() }}&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script setup&gt; import { onMounted, ref } from &#39;vue&#39;; // 获取界面mainrouter的高度 const mainrouter = ref() const code = ref() const h = ref(); const w = ref(); const codeh = ref(); const codew = ref(); // 存放代码雨的数量 const codenum = ref(1); // const w = mainrouter." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5b6e4e035deaa0e8b7cd5b556593f462/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-17T12:52:49+08:00" />
<meta property="article:modified_time" content="2024-01-17T12:52:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">代码雨效果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/eb/55/yI9HN6BV_o.gif"></p> 
<p>反正大家肯定都不爱看文字，实现过程就都写代码注释里面了 </p> 
<pre><code class="hljs">&lt;template&gt;
    &lt;div ref="mainrouter" class="mainrouter"
        style="background-color: black;position: relative;overflow: hidden;padding: 0;"&gt;
        &lt;!-- 现在有一道题，要求做出代码雨的效果，你要怎么实现 --&gt;
        &lt;!-- 首先要解决代码垂直排布的样式 --&gt;
        &lt;!-- 然后，然后你想想哈，这么多代码雨是不是由每一条代码雨组成的，那我们现在就一条一条来加上去--&gt;
        &lt;!-- 最后你想，这一条动起来了，那我要一大堆怎么动呢，当然for循环游戏就好了 --&gt;
        &lt;!-- 别忘了，每个代码雨执行动画要有间隔，不然就一起动了，肯定不好看 --&gt;
        &lt;div class="code" ref="code" v-for="(item, index) in codenum" :style="{ '--width': codenum, }" :key="index"&gt;
            &lt;div :model="data" v-for="(item2, index2) in 15" :key="index2"&gt;{<!-- -->{ getRandomChar() }}&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;
&lt;script setup&gt;
import { onMounted, ref } from 'vue';
// 获取界面mainrouter的高度
const mainrouter = ref()
const code = ref()
const h = ref();
const w = ref();
const codeh = ref();
const codew = ref();
// 存放代码雨的数量
const codenum = ref(1);
// const w = mainrouter.offsetWidth;
onMounted(() =&gt; {
    h.value = mainrouter.value.offsetHeight;
    w.value = mainrouter.value.offsetWidth;
    codeh.value = code.value[0].offsetHeight;
    codew.value = 20;
    codenum.value = Math.floor(w.value / codew.value);
})
// 定义一个获取随机颜色的函数
function getRandomColor() {
    return '#' + ('0000' + (Math.random() * 0x100000 &lt;&lt; 0).toString(16)).substr(-6);
}
// 定义一个获取随机英文或数字的函数
function getRandomChar() {
    const a = Math.floor(Math.random() * 2);//生成一个0或1的随机数
    const data = a ? String.fromCharCode(Math.floor(Math.random() * 26) + 97) : Math.floor(Math.random() * 10)
    //生成一个0或1的随机数，如果是0，则生成一个字母，如果是1，则生成一个数字
    return data
}
// 定义一个获取随机数字的函数
function getRandomNum() {
    return Math.floor(Math.random() * 10);
}
// 1秒执行一次这个函数
const data = ref();
setInterval(() =&gt; {
    data.value = getRandomChar();
}, 1000);
&lt;/script&gt;
&lt;style lang="scss"&gt;
$num:var(--width);
.code {
    width: 20px !important;
    // font-size: 14px;
    // 文字颜色透明
    color: transparent;
    background: linear-gradient(to bottom, rgba(250, 250, 250, 0), #0f0);
    // 背景只覆盖文字
    background-clip: text;
    // 宽度适应内容,ie不兼容
    width: fit-content;
    width: -moz-fit-content; //兼容火狐
    // 文字垂直显示
    // writing-mode: vertical-lr;
    display: flex;
    flex-direction: column;
    position: absolute;
    animation: identifier 4s linear infinite; //linear匀速 infinite无限重复

    // 向下动画
    @keyframes identifier {
        0% {
            top: 0;
        }

        100% {
            top: 80%;
        }
    }

    @for $i from 1 through 10000 {
        &amp;:nth-child(#{$i}) {
            // 要空格($i - 1)
            left: (($i - 1)*20px);
            // animation-delay: -1.4s*$i;
            $randomNumber: round(random() * 100); // 生成一个0到100之间的随机整数
            animation-delay: -1.4s*round(random() * 100);
        }
    }
}
&lt;/style&gt;</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7c7c630f3276918ae553f81ffe36ed1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【开源】基于JAVA语言的智慧家政系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f573d8b659fea7aa3ebbe1644f06484d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">What is `HttpServletRequestWrapper` does?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>