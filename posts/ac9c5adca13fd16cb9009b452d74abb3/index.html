<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TCP和UDP的C/S模型的Socket编程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TCP和UDP的C/S模型的Socket编程" />
<meta property="og:description" content="这是文章出处地址的超链接 感谢作者传授知识 Socket定义
是对网络的不同主机上的应用进程之间进行双向通信的端点的抽象，一个套接字就是一个网络端口应用程序使用网络协议进行通信的接口 组成部分
TCP/IP协议IP地址：网络中不同计算机的通信地址端口：区分主机的不同应用程序，客户端在49152 ~ 65535中动态选择端口号，服务器使用0 ~ 49151
套接字Socket = （主机IP地址， 端口号） 两种通信方式
TCP是可靠地面向连接的通信过程，含有三次握手四次挥手的机制。UDP是不可靠的无连接的通信过程，客户端只管发，不管服务端有没有接受到 实现步骤：
创建Server和client的ServerSocket和Socket。打开链接到Socket的输入输出流按照协议对Socket进行读取操作关闭输入输出流、关闭Socket。 1、基于TCP的socket通信
我们拿男孩做客户端，女孩因为有很多人追求，所以做服务端，一个服务端可被多个男孩客户端请求表白。我们这里先看女孩服务端的具体步骤：
（1）创建ServerSocket对象，绑定监听端口。
（2）通过accept()方法监听客户端请求
（3）连接建立后，通过输入流读取客户端的数据
（4）通过输出流，向客户端回应信息
OK，基本的步骤就是这，我们就看一下代码。
具体的步骤已经很清晰了，我们再来看看男孩客户端的步骤：
（1）创建Socket并指定端口
（2）通过输出流向服务端发送一个请求
（3）等待服务端的回应 获取输入流，读取客户端信息(将字节流转化为字符流)，并保存在缓冲区中
（4）关闭资源
下面同样使用java代码来演示一下。
这就是男孩追求女孩的代码示例，说起来也很简单。如果我们之前学习过socket编程，可能上述的这些代码难不倒我们，不过如果从基础开始入门学习，还是有必要对其两个类进行说明一下。高手可跳过：
第一个：Socket
当我们想要在Java中使用TCP/IP通过网络连接到服务器时，就需要创建Socket对象并连接到服务器。在服务端的Socket对应着连接的一个个客户端。
第二个：ServerSocket
用ServerSocket实现java服务通过TCP/IP监听客户端连接，他只存在于服务端。
2、基于UDP的Socket通信
UDP的通信模式其实是无连接的不可靠的通信协议，举个例子，花心男孩向女孩表白，就给女孩写了一封情书，然后不管女孩有没有收到情书，自己继续向其他女孩表白。我们这里还是以女孩为服务端。
我们首先来看一下服务端的步骤：
接收客户端发送的数据
（1）创建服务器端DatagramSocket指定端口
（2）创建数据报DatagramPacket，接收客户端发送的数据
（3）接收客户端发送的数据
（4）读取数据
向客户端响应数据
（1）定义客户端的地址、端口号、数据
（2）创建数据报，包含响应的数据信息
（3）响应客户端
（4）关闭资源
具体代码来演示一下。
然后再来看一下客户端的请求：
向服务器端发送数据
（1）定义服务器的地址、端口号、数据
（2）创建数据报，包含发送的数据信息
（3）创建DatagramSocket对象
（4）向服务器端发送数据报
接收服务器端响应的数据
（1）创建数据报DatagramPacket，用于接收服务器端响应的数据
（2）接收服务器响应的数据
（3）读取数据
（4）关闭资源
我们再使用java语言来演示一下客户端代码
OK，以上就是socket通信的两种基本方式，这里只是给出了一个最最简单的例子演示，这也是最基础的代码，后续文章会继续加深难度。我们现在来总结一下这个Socket通信
从上面我们可以看到Java提供了非常易用的网络API，调用这些API我们可以很方便的通过建立TCP/IP或UDP套接字，在网络之间进行相互通信，但是其中TCP要比UDP更加常用。但是在一些场景下面。使用无连接的UDP要优于TCP。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ac9c5adca13fd16cb9009b452d74abb3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-03T18:03:03+08:00" />
<meta property="article:modified_time" content="2022-08-03T18:03:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TCP和UDP的C/S模型的Socket编程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="httpsbaijiahaobaiducomsid1639741950362007456wfrspiderforpc_0"></a>这是文章出处地址的<a href="https://baijiahao.baidu.com/s?id=1639741950362007456&amp;wfr=spider&amp;for=pc" rel="nofollow">超链接</a></h3> 
<h3><a id="_1"></a>感谢作者传授知识</h3> 
<p>Socket定义</p> 
<blockquote> 
 <ul><li>是对网络的不同主机上的应用进程之间进行双向通信的端点的抽象，一个套接字就是一个网络端口</li><li>应用程序使用网络协议进行通信的接口</li></ul> 
</blockquote> 
<p>组成部分</p> 
<ul><li>TCP/IP协议</li><li>IP地址：网络中不同计算机的通信地址</li><li>端口：区分主机的不同应用程序，客户端在49152 ~ 65535中动态选择端口号，服务器使用0 ~ 49151<br> <img src="https://images2.imgbox.com/b1/09/UkShTnJS_o.png" alt="在这里插入图片描述"><br> 套接字Socket = （主机IP地址， 端口号）</li></ul> 
<p>两种通信方式</p> 
<ol><li>TCP是可靠地面向连接的通信过程，含有三次握手四次挥手的机制。</li><li>UDP是不可靠的无连接的通信过程，客户端只管发，不管服务端有没有接受到</li></ol> 
<p>实现步骤：</p> 
<ol><li>创建Server和client的ServerSocket和Socket。</li><li>打开链接到Socket的输入输出流</li><li>按照协议对Socket进行读取操作</li><li>关闭输入输出流、关闭Socket。</li></ol> 
<p><img src="https://images2.imgbox.com/9a/68/DLKTOeGi_o.png" alt="在这里插入图片描述"></p> 
<p>1、基于TCP的socket通信</p> 
<p>我们拿男孩做客户端，女孩因为有很多人追求，所以做服务端，一个服务端可被多个男孩客户端请求表白。我们这里先看女孩服务端的具体步骤：</p> 
<p>（1）创建ServerSocket对象，绑定监听端口。</p> 
<p>（2）通过accept()方法监听客户端请求</p> 
<p>（3）连接建立后，通过输入流读取客户端的数据</p> 
<p>（4）通过输出流，向客户端回应信息</p> 
<p>OK，基本的步骤就是这，我们就看一下代码。<br> <img src="https://images2.imgbox.com/11/69/1lLd7Gf4_o.png" alt="在这里插入图片描述"></p> 
<p>具体的步骤已经很清晰了，我们再来看看男孩客户端的步骤：</p> 
<p>（1）创建Socket并指定端口</p> 
<p>（2）通过输出流向服务端发送一个请求</p> 
<p>（3）等待服务端的回应 获取输入流，读取客户端信息(将字节流转化为字符流)，并保存在缓冲区中</p> 
<p>（4）关闭资源</p> 
<p>下面同样使用java代码来演示一下。<br> <img src="https://images2.imgbox.com/ad/76/BxqlJuKX_o.png" alt="在这里插入图片描述"></p> 
<p>这就是男孩追求女孩的代码示例，说起来也很简单。如果我们之前学习过socket编程，可能上述的这些代码难不倒我们，不过如果从基础开始入门学习，还是有必要对其两个类进行说明一下。高手可跳过：</p> 
<p>第一个：Socket</p> 
<p>当我们想要在Java中使用TCP/IP通过网络连接到服务器时，就需要创建Socket对象并连接到服务器。在服务端的Socket对应着连接的一个个客户端。</p> 
<p>第二个：ServerSocket</p> 
<p>用ServerSocket实现java服务通过TCP/IP监听客户端连接，他只存在于服务端。</p> 
<p>2、基于UDP的Socket通信</p> 
<p>UDP的通信模式其实是无连接的不可靠的通信协议，举个例子，花心男孩向女孩表白，就给女孩写了一封情书，然后不管女孩有没有收到情书，自己继续向其他女孩表白。我们这里还是以女孩为服务端。</p> 
<p>我们首先来看一下服务端的步骤：</p> 
<p>接收客户端发送的数据</p> 
<p>（1）创建服务器端DatagramSocket指定端口</p> 
<p>（2）创建数据报DatagramPacket，接收客户端发送的数据</p> 
<p>（3）接收客户端发送的数据</p> 
<p>（4）读取数据</p> 
<p>向客户端响应数据</p> 
<p>（1）定义客户端的地址、端口号、数据</p> 
<p>（2）创建数据报，包含响应的数据信息</p> 
<p>（3）响应客户端</p> 
<p>（4）关闭资源</p> 
<p>具体代码来演示一下。</p> 
<p><img src="https://images2.imgbox.com/1e/4e/E2MtHvhy_o.png" alt="在这里插入图片描述"></p> 
<p>然后再来看一下客户端的请求：</p> 
<p>向服务器端发送数据</p> 
<p>（1）定义服务器的地址、端口号、数据</p> 
<p>（2）创建数据报，包含发送的数据信息</p> 
<p>（3）创建DatagramSocket对象</p> 
<p>（4）向服务器端发送数据报</p> 
<p>接收服务器端响应的数据</p> 
<p>（1）创建数据报DatagramPacket，用于接收服务器端响应的数据</p> 
<p>（2）接收服务器响应的数据</p> 
<p>（3）读取数据</p> 
<p>（4）关闭资源</p> 
<p>我们再使用java语言来演示一下客户端代码<br> <img src="https://images2.imgbox.com/15/92/bfv0ey9p_o.png" alt="在这里插入图片描述"></p> 
<p>OK，以上就是socket通信的两种基本方式，这里只是给出了一个最最简单的例子演示，这也是最基础的代码，后续文章会继续加深难度。我们现在来总结一下这个Socket通信</p> 
<p>从上面我们可以看到Java提供了非常易用的网络API，调用这些API我们可以很方便的通过建立TCP/IP或UDP套接字，在网络之间进行相互通信，但是其中TCP要比UDP更加常用。但是在一些场景下面。使用无连接的UDP要优于TCP。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a322e1d93f4efbf891db8eac164c25b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Jmeter之性能测试TPS解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9ab7ca0c44c7d283dc5660d2f52abf3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uni-app 之生命周期</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>