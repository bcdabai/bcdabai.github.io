<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>超简单的OCR模块：cnocr - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="超简单的OCR模块：cnocr" />
<meta property="og:description" content="前言 毫无疑问的是，关于人工智能方向，python真的十分方便和有效。
这里呢，我将介绍python众多OCR模块中一个比较出色的模块：cnocr
模块介绍 cnocr是一个基于PyTorch的开源OCR库，它提供了一系列功能强大的中文OCR模型和工具，可以用于图像中的文字检测、文字识别和文本方向检测等任务。它可以识别各种不同风格和字体的中文文字，包括简体字和繁体字，可根据具体需求在官方文档中查找对应的模型作为参数输入实例化cnocr方法。官方也提供有英文的识别模型，但其他语言就暂时没有更多的模型，但可以根据自己的需要和自己准备的数据集对模型进行训练。
项目地址：https://github.com/breezedeus/CnOCR
demo实例 cnocr的开发目标就是“使用简单”，因此，你仅仅需要一些简单的操作便能够完成ocr工作。
安装基本上无坑，pip直接就装上了
pip install cnocr 这里是一个简单的例子:
这是项目目录，sample.py是demo脚本，images里装着需要识别的图片，outs是处理后的图片：
这是sample.py的代码 from cnocr import CnOcr import cv2 from PIL import Image, ImageDraw, ImageFont FONT_STYLE = ImageFont.truetype(&#34;msyhl.ttc&#34;, 30, encoding=&#34;utf-8&#34;) # 图片名称 file_name = &#39;images/img.png&#39; target_name = &#39;outs/img.png&#39; ocr = CnOcr() result = ocr.ocr(file_name) # 将ocr识别的内容、以及具体位置打包成字典 txts = [] for re in result: # print(re[&#39;position&#39;][0]) # print(type(re[&#39;position&#39;][0])) txts.append([re[&#39;text&#39;], [re[&#39;position&#39;][2], re[&#39;position&#39;][0]]]) # 创建一个可以在给定图像上绘图的frame对象 frame = cv2.imread(file_name) for tt in txts: # text是识别出来的文字 text = tt[0] # site是他的矩形识别图形的起点、终点列表 # 样式为[[起始点x轴坐标, 起始点y轴坐标], [终点x轴坐标, 终点y轴坐标]] site = tt[1] print(text, site) cv2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b74860d5105afbb9dc15192b7c3cd952/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-22T21:11:08+08:00" />
<meta property="article:modified_time" content="2024-01-22T21:11:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">超简单的OCR模块：cnocr</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>前言</h3> 
<p>        毫无疑问的是，关于人工智能方向，python真的十分方便和有效。</p> 
<p>        这里呢，我将介绍python众多OCR模块中一个比较出色的模块：cnocr</p> 
<p></p> 
<h3>模块介绍</h3> 
<p>        cnocr是一个基于PyTorch的开源OCR库，它提供了一系列功能强大的中文OCR模型和工具，可以用于图像中的文字检测、文字识别和文本方向检测等任务。它可以识别各种不同风格和字体的中文文字，包括简体字和繁体字，可根据具体需求在官方文档中查找对应的模型作为参数输入实例化cnocr方法。官方也提供有英文的识别模型，但其他语言就暂时没有更多的模型，但可以根据自己的需要和自己准备的数据集对模型进行训练。</p> 
<p>         项目地址：<a href="https://github.com/breezedeus/CnOCR" title="https://github.com/breezedeus/CnOCR">https://github.com/breezedeus/CnOCR</a></p> 
<h3></h3> 
<h3>demo实例</h3> 
<p>        cnocr的开发目标就是<span style="color:#fe2c24;">“使用简单”</span>，因此，你仅仅需要一些简单的操作便能够完成ocr工作。</p> 
<p>        <span style="color:#fe2c24;">安装基本上无坑，pip直接就装上了</span></p> 
<pre><code class="language-python">pip install cnocr</code></pre> 
<p>        这里是一个简单的例子:</p> 
<p class="img-center"><img alt="" height="640" src="https://images2.imgbox.com/07/9b/OioGwcNK_o.png" width="455"></p> 
<p></p> 
<p>        这是项目目录，sample.py是demo脚本，images里装着需要识别的图片，outs是处理后的图片：</p> 
<p class="img-center"><img alt="" height="181" src="https://images2.imgbox.com/de/70/vjV4BmMR_o.png" width="464"></p> 
<p>        这是sample.py的代码 </p> 
<pre><code class="language-python">from cnocr import CnOcr
import cv2
from PIL import Image, ImageDraw, ImageFont

FONT_STYLE = ImageFont.truetype("msyhl.ttc", 30, encoding="utf-8")

# 图片名称
file_name = 'images/img.png'
target_name = 'outs/img.png'

ocr = CnOcr()
result = ocr.ocr(file_name)

# 将ocr识别的内容、以及具体位置打包成字典
txts = []
for re in result:
    # print(re['position'][0])
    # print(type(re['position'][0]))
    txts.append([re['text'], [re['position'][2], re['position'][0]]])

# 创建一个可以在给定图像上绘图的frame对象
frame = cv2.imread(file_name)
for tt in txts:
    # text是识别出来的文字
    text = tt[0]

    # site是他的矩形识别图形的起点、终点列表
    # 样式为[[起始点x轴坐标, 起始点y轴坐标], [终点x轴坐标, 终点y轴坐标]]
    site = tt[1]
    print(text, site)

    cv2.rectangle(frame, (site[0][0], site[0][1]), (site[1][0], site[1][1]), color=(0, 255, 0), thickness=3)

    # 请根据实际情况在原图上标字，这里是默认将字体标在了识别框下方100的位置，因此仅作参考
    # img = Image.fromarray(cv2.cvtColor(frame, cv2.COLOR_BGR2RGB))
    # draw = ImageDraw.Draw(img)
    # draw.text((site[1][0], site[1][1] + 100), text, (0, 255, 0),
    #           font=FONT_STYLE)
    # frame = cv2.cvtColor(np.asarray(img), cv2.COLOR_RGB2BGR)

cv2.imwrite(target_name, frame)
</code></pre> 
<p>         这是生成的图片</p> 
<p class="img-center"><img alt="" height="640" src="https://images2.imgbox.com/6f/7c/s2euWG3d_o.png" width="455"></p> 
<p>        这是识别到的内容</p> 
<p><img alt="" height="514" src="https://images2.imgbox.com/10/d4/afw4lZqr_o.png" width="1191">         </p> 
<p>        至此，一次简单的ocr便完成了 </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/da0d5253a31562cae04fc58b27e2fdcd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pytorch学习笔记（十一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67fe87ad89746ac8dbaed7e5ca24f0f3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">推荐在线PS修图网页版工具PHP网站源码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>