<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>工具之Git | submodule 常用命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="工具之Git | submodule 常用命令" />
<meta property="og:description" content="submodule 常用命令
git submodule: 显示所有 submodule, 等同于git submodule status
添加 submodule 到现有项目 Run git submodule add -b &lt;branch&gt; --name &lt;name&gt; &lt;repo-url&gt; &lt;local dir&gt;Commit both files on the superproject 从当前项目移除 submodule git submodule deinit -f &lt;submodule_path&gt;rm -rf .git/modules/&lt;submodule_path&gt;git rm -f &lt;submodule_path&gt; 复制含 submodule 项目到本地 Clone the superproject as usualRun git submodule init to init the submodulesRun git submodule update to have the submodules on a detached HEAD 或者直接执行 git clone --recurse-submodules &lt;repo-url&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c0e564b4fd2560c16cb41a77d805832e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-11T16:52:58+08:00" />
<meta property="article:modified_time" content="2022-02-11T16:52:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">工具之Git | submodule 常用命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>submodule 常用命令</strong></p> 
<p><code>git submodule</code>: 显示所有 <code>submodule</code>, 等同于<code>git submodule status</code></p> 
<ul><li>添加 submodule 到现有项目</li></ul> 
<ol><li>Run <code>git submodule add -b &lt;branch&gt; --name &lt;name&gt; &lt;repo-url&gt; &lt;local dir&gt;</code></li><li>Commit both files on the superproject</li></ol> 
<ul><li>从当前项目移除 submodule</li></ul> 
<ol><li><code>git submodule deinit -f &lt;submodule_path&gt;</code></li><li><code>rm -rf .git/modules/&lt;submodule_path&gt;</code></li><li><code>git rm -f &lt;submodule_path&gt;</code></li></ol> 
<ul><li>复制含 submodule 项目到本地</li></ul> 
<ol><li>Clone the superproject as usual</li><li>Run git submodule init to init the submodules</li><li>Run git submodule update to have the submodules on a detached HEAD</li></ol> 
<p>或者直接执行 <code>git clone --recurse-submodules &lt;repo-url&gt;</code></p> 
<ul><li> <p><code>git submodule init</code>: 将本项目所依赖的 submodule 进行初始化</p> </li><li> <p><code>git submodule update</code>: 将本项目所依赖的 submodule 更新到本地最新版本</p> </li><li> <p><code>git submodule update --init</code>: 前面两个命令的合并</p> </li><li> <p><code>git submodule update --init --recursive</code>: 前面三个命令的合集, --recursive 是为了保证即使 submodule 又嵌套了 sub-submodule, 也可以被执行到. 这个命令比较全面, 会经常使用</p> </li><li> <p><code>git submodule update</code>: 更新 submodule 为 superproject 本次 commit 所记录的版本 (本地版本为旧版本的话那么就与旧版本保持同步!)</p> </li><li> <p><code>git submodule update --remote</code>: 更新 submodule 为远程项目的最新版本 (更为常用!)</p> </li><li> <p><code>git submodule update --remote &lt;submodule-name&gt;</code>: 更新指定的 submodule 为远程的最新版本</p> </li><li> <p><code>git push --recurse-submodules=</code></p> </li><li> <p><code>check</code>: 检查 submodule 是否有提交未推送, 如果有, 则使本次提交失败</p> </li><li> <p><code>on-demand</code>: 先推送 submodule 的更新, 然后推送主项目的更新(如果 submodule 推送失败, 那么推送任务直接终止)</p> </li><li> <p><code>while</code>: 所有的 submodule 会被依次推送到远端, 但是 superproject 将不会被推送</p> </li><li> <p><code>no</code>: 与 while 相反, 只推送 superproject, 不推送其他 submodule</p> </li><li> <p><code>git pull --recurse-submodules</code>: 拉取所有子仓库 (fetch) 并 merge 到所跟踪的分支上</p> </li><li> <p><code>git diff --submodule</code>: 查看 submodule 所有改变</p> </li><li> <p><code>git submodule foreach '&lt;arbitrary-command-to-run&gt;'</code>: 对所有 submodule 执行命令, 非常有用, 如 <code>git submodule foreach 'git checkout main'</code></p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/47b7b1c456e7ed48671ed08ff9c6b01f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Linux学习笔记】08-环境变量</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/40b5ad6cf094a5b6cb415b263306ce10/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pygame 如何旋转图片</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>