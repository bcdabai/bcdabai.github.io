<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>gbd程序调试 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="gbd程序调试" />
<meta property="og:description" content="gdb基本命令 开始调试：
首先使用gcc命令完成源代码文件的编译
编译完成后，通过gdb命令 进入调试模式
【基本操作】 简写全称含义b 7break在第7行设断点rrun运行程序p iprint打印变量innext单步执行display i监控变量i（=n后p的执行效果）undisplay取消监控回车重复执行上一条命令kill杀死正在调试的程序ccontinue继续运行您的程序 (在停止之后，比如在一个断点之后)infoinformation查看信息set设置变量的值 set var=valuefile指定源代码位置watch为当前表达式设置观察点 【断点操作】 b break 设置断点
info b 显示断点信息
可以看到此时Enb（enable）的值为 y
disable 1（1为断点的Num值）将断点关闭
可以看到此时Enb（enable）的值为 n，且此时执行r（run）命令时，程序执行过程中没有中断，直接执行到了程序结束
dl &#43;断点数字编号 删除断点
clear 删除所有断点
enable 1 将断点开启
此时执行程序过程中遇到Breakpoint后中断
【函数堆栈操作】 函数栈层向上：up
向下：down
fr （frame）：显示当前所在层次
frame n/简写：fr n
移动到第n层，n为栈的层次，然后可以用其他命令（info）查看此级别的变量信息
backtrace：查看函数调用的顺序（函数调用栈的信息）
【watch 命令】 watch &lt; expr&gt;
为表达式(变量)expr设置一个观察点，一旦其数值有变化，程序立即停止运行
rwatch &lt; expr&gt;
当表达式expr被读时，程序立即停止运行
awatch &lt; expr&gt;
当表达式expr 的值 被读或被写时程序立即停止运行
info watchpoints
列出当前所设置的所有观察点
【参数操作】 set args （参数列表） 向调试的程序传递参数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/332d31283da4358e0869c866867ab982/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-08T23:50:57+08:00" />
<meta property="article:modified_time" content="2022-06-08T23:50:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">gbd程序调试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="gdb_0"></a>gdb基本命令</h2> 
<p><img src="https://images2.imgbox.com/7d/18/4gkkVN2m_o.png" alt="在这里插入图片描述"><br> 开始调试：<br> 首先使用gcc命令完成源代码文件的编译<br> 编译完成后，通过gdb命令 进入调试模式<br> <img src="https://images2.imgbox.com/13/bd/daYcB6GB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_6"></a>【基本操作】</h3> 
<table><thead><tr><th>简写</th><th>全称</th><th>含义</th></tr></thead><tbody><tr><td>b 7</td><td>break</td><td>在第7行设断点</td></tr><tr><td>r</td><td>run</td><td>运行程序</td></tr><tr><td>p i</td><td>print</td><td>打印变量i</td></tr><tr><td>n</td><td>next</td><td>单步执行</td></tr><tr><td></td><td>display i</td><td>监控变量i（=n后p的执行效果）</td></tr><tr><td></td><td>undisplay</td><td>取消监控</td></tr><tr><td>回车</td><td></td><td>重复执行上一条命令</td></tr><tr><td></td><td>kill</td><td>杀死正在调试的程序</td></tr><tr><td>c</td><td>continue</td><td>继续运行您的程序 (在停止之后，比如在一个断点之后)</td></tr><tr><td>info</td><td>information</td><td>查看信息</td></tr><tr><td></td><td>set</td><td>设置变量的值 set var=value</td></tr><tr><td></td><td>file</td><td>指定源代码位置</td></tr><tr><td></td><td>watch</td><td>为当前表达式设置观察点</td></tr></tbody></table> 
<h3><a id="_24"></a>【断点操作】</h3> 
<ul><li> <p>b break 设置断点</p> </li><li> <p>info b 显示断点信息<br> <img src="https://images2.imgbox.com/95/0d/k213XeIV_o.png" alt="在这里插入图片描述"><br> 可以看到此时Enb（enable）的值为 y</p> </li><li> <p><strong>disable</strong> 1（1为断点的Num值）将断点关闭<br> <img src="https://images2.imgbox.com/4d/13/EDaamLSG_o.png" alt="在这里插入图片描述"><br> 可以看到此时Enb（enable）的值为 n，且此时执行r（run）命令时，程序执行过程中没有中断，直接执行到了程序结束</p> </li><li> <p>dl +断点数字编号 删除断点</p> </li><li> <p>clear 删除所有断点</p> </li><li> <p><strong>enable</strong> 1 将断点开启<img src="https://images2.imgbox.com/ba/ff/zwnoorHF_o.png" alt="在这里插入图片描述"><br> 此时执行程序过程中遇到Breakpoint后中断</p> </li></ul> 
<h3><a id="_37"></a>【函数堆栈操作】</h3> 
<p>函数栈层向上：up<br> 向下：down<br> fr （frame）：显示当前所在层次<br> frame n/简写：fr n<br> 移动到第n层，n为栈的层次，然后可以用其他命令（info）查看此级别的变量信息<br> backtrace：查看函数调用的顺序（函数调用栈的信息）</p> 
<h3><a id="watch__44"></a>【watch 命令】</h3> 
<p>watch &lt; expr&gt;<br> 为表达式(变量)expr设置一个<strong>观察点</strong>，一旦其数值有变化，程序立即停止运行<br> rwatch &lt; expr&gt;<br> 当表达式expr被<strong>读</strong>时，程序立即停止运行<br> awatch &lt; expr&gt;<br> 当表达式expr <strong>的值</strong> 被读或被写时程序立即停止运行<br> info watchpoints<br> 列出当前所设置的所有<strong>观察点</strong></p> 
<h3><a id="_54"></a>【参数操作】</h3> 
<p>set args （参数列表） 向调试的程序传递参数<br> info args 查看当前函数的参数名及其值<br> show args 显示程序实际收到的参数</p> 
<h3><a id="xexamine_58"></a>【x（examine）命令】</h3> 
<p>查看指定地址的内存地址的值<br> 语法：<br> <code>x /&lt;n/f/u&gt; &lt;addr&gt;</code><br> <code>n</code> 是一个<strong>正整数</strong>， 表示显示<strong>内存的长度</strong> ，也就是说从当前地址向后显示几个地址的内容。<br> <code>f </code>表示显示的<strong>格式</strong> ，参见上面。如果地址所指的是 <strong>字符串</strong> ，那么格式可以是 <strong>s</strong> 。<br> <code>u</code> 表示从当前地址往后请求的字节数，如果不指定的话，GDB默认是<strong>4个bytes</strong> 。 u 参数可以用下面的字符来代替， <strong>b 表示单字节， h 表示双字节， w 表示四字节， g 表示八字节</strong>。当指定了字节长度后， GDB 会从指内存定的内存地址开始，读写指定字节，并把其当作一个值取出来。</p> 
<p><code>&lt;addr&gt;</code>表示一个内存地址。<br> n/f/u三个参数可以一起使用。例如：</p> 
<p>命令： x/3uh 0x54320 表示，从内存地址 0x54320读取内容， h表示以双字节为一个单位， 3表示三个单位， u表示按十六进制显示。</p> 
<p>x命令帮助文档：<br> <img src="https://images2.imgbox.com/87/fb/8yLYsnm8_o.png" alt="在这里插入图片描述"><br> 示例：<br> 源代码<br> <img src="https://images2.imgbox.com/65/4f/0AEzHJck_o.png" alt="在这里插入图片描述"><br> 查看数组变量a：数组长度为5，即向后查看5个地址的内容，以十进制整数形式（<code>d</code>），int数据类型以四个字节一个单位（<code>w</code>） 因此命令为 <code>x /5dw a</code><br> <img src="https://images2.imgbox.com/7f/c3/2hF1VFA0_o.png" alt="在这里插入图片描述"><br> 如果错误选择字节数（int数据类型存储时以四个字节为一个单位），会打印错误的值<br> 如：此时选择双字节h<br> <img src="https://images2.imgbox.com/8b/6e/8F21LJfV_o.png" alt="在这里插入图片描述"><br> 选择错误的数据类型也会打印错误的值，如将浮点型数组 f 用d打印<br> <img src="https://images2.imgbox.com/6c/3f/juw2y5zd_o.png" alt="在这里插入图片描述"><br> 打印字符串时，会分别打印实际的值以及它的ASCII编码<br> <img src="https://images2.imgbox.com/8a/75/5hxk62zp_o.png" alt="在这里插入图片描述"><br> 如果打印的值是指针变量，用p命令只能查看指针指向的内存地址的第一个元素的值<br> <img src="https://images2.imgbox.com/95/a9/WBqHrcKJ_o.png" alt="在这里插入图片描述"><br> 但使用examine命令可以查看<br> <img src="https://images2.imgbox.com/00/d1/PNTki2on_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_89"></a>【函数调用命令】</h3> 
<p><img src="https://images2.imgbox.com/05/69/EgQmmYjh_o.png" alt="在这里插入图片描述"><br> finish（fi）：直接将函数剩余的部分执行完，并返回调用值<br> until ：执行到当前所在的循环结束为止<br> until+命令行号： 运行到某行代码为止<br> info locals ：显示函数内的局部变量信息<br> kill：杀死当前正在运行的进程</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c03e8475e88a53628876bae65a99ad27/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Hadoop之HDFS（基本概念）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cc8ee9b01c408c92465fe493f9010b83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">剑指offer.30 包含min函数的栈</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>