<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ajax入门与使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ajax入门与使用" />
<meta property="og:description" content="目录
◆ AJAX 概念和 axios 使用
什么是 AJAX？
怎么发送 AJAX 请求？ 如何使用axios axios 函数的基本结构
axios 函数的使用场景
1 没有参数的情况
2 使用params参数传参的情况
3 使用data参数来处理请求体的数据
4 上传图片等二进制的情况
form-serialize 插件
◆ AJAX 概念和 axios 使用 什么是 AJAX？ 概念：AJAX 是浏览器与服务器进行数据通信的技术 怎么发送 AJAX 请求？ 1. 使用 axios [æk‘sioʊs] 库
基于 XMLHttpRequest 封装、代码简单 Vue、React 项目中都会用到 axios 2. 使用 XMLHttpRequest 对象
如何使用axios 语法：
1. 引入 axios.js
在线引入： https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js --axios在线库本地引入：下载好axios文件，使用相对路径引入 2. 使用 axios 函数
axios 函数的基本结构 url 这个参数是必须的，里面填的是请求的url地址" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/25175ad3c1eba661907d5a88dd027c9c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-29T17:43:41+08:00" />
<meta property="article:modified_time" content="2024-01-29T17:43:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ajax入门与使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E2%97%86%20AJAX%20%E6%A6%82%E5%BF%B5%E5%92%8C%20axios%20%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#%E2%97%86%20AJAX%20%E6%A6%82%E5%BF%B5%E5%92%8C%20axios%20%E4%BD%BF%E7%94%A8" rel="nofollow">◆ AJAX 概念和 axios 使用</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%98%AF%20AJAX%EF%BC%9F-toc" style="margin-left:80px;"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%20AJAX%EF%BC%9F" rel="nofollow">什么是 AJAX？</a></p> 
<p id="%E6%80%8E%E4%B9%88%E5%8F%91%E9%80%81%20AJAX%20%E8%AF%B7%E6%B1%82%EF%BC%9F%C2%A0-toc" style="margin-left:80px;"><a href="#%E6%80%8E%E4%B9%88%E5%8F%91%E9%80%81%20AJAX%20%E8%AF%B7%E6%B1%82%EF%BC%9F%C2%A0" rel="nofollow">怎么发送 AJAX 请求？ </a></p> 
<p id="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios%C2%A0" rel="nofollow">如何使用axios </a></p> 
<p id="axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84-toc" style="margin-left:80px;"><a href="#axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84" rel="nofollow">axios 函数的基本结构</a></p> 
<p id="axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px;"><a href="#axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" rel="nofollow">axios 函数的使用场景</a></p> 
<p id="1%20%E6%B2%A1%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:120px;"><a href="#1%20%E6%B2%A1%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E6%83%85%E5%86%B5" rel="nofollow">1 没有参数的情况</a></p> 
<p id="2%20%E4%BD%BF%E7%94%A8params%E5%8F%82%E6%95%B0%E4%BC%A0%E5%8F%82%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:120px;"><a href="#2%20%E4%BD%BF%E7%94%A8params%E5%8F%82%E6%95%B0%E4%BC%A0%E5%8F%82%E7%9A%84%E6%83%85%E5%86%B5" rel="nofollow">2 使用params参数传参的情况</a></p> 
<p id="3%C2%A0%20%E4%BD%BF%E7%94%A8data%E5%8F%82%E6%95%B0%E6%9D%A5%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E4%BD%93%E7%9A%84%E6%95%B0%E6%8D%AE-toc" style="margin-left:120px;"><a href="#3%C2%A0%20%E4%BD%BF%E7%94%A8data%E5%8F%82%E6%95%B0%E6%9D%A5%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E4%BD%93%E7%9A%84%E6%95%B0%E6%8D%AE" rel="nofollow">3  使用data参数来处理请求体的数据</a></p> 
<p id="4%C2%A0%20%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E7%AD%89%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E6%83%85%E5%86%B5-toc" style="margin-left:120px;"><a href="#4%C2%A0%20%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E7%AD%89%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E6%83%85%E5%86%B5" rel="nofollow">4  上传图片等二进制的情况</a></p> 
<p id="form-serialize%20%E6%8F%92%E4%BB%B6-toc" style="margin-left:80px;"><a href="#form-serialize%20%E6%8F%92%E4%BB%B6" rel="nofollow">form-serialize 插件</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E2%97%86%20AJAX%20%E6%A6%82%E5%BF%B5%E5%92%8C%20axios%20%E4%BD%BF%E7%94%A8">◆ AJAX 概念和 axios 使用</h3> 
<h4 id="%E4%BB%80%E4%B9%88%E6%98%AF%20AJAX%EF%BC%9F">什么是 AJAX？</h4> 
<p><img alt="" height="188" src="https://images2.imgbox.com/fc/c7/NwZH4IXA_o.png" width="1139"></p> 
<p>概念：AJAX 是浏览器与服务器进行数据通信的技术 </p> 
<p><img alt="" height="384" src="https://images2.imgbox.com/5d/96/DaRiZEnh_o.png" width="1184"></p> 
<h4 id="%E6%80%8E%E4%B9%88%E5%8F%91%E9%80%81%20AJAX%20%E8%AF%B7%E6%B1%82%EF%BC%9F%C2%A0">怎么发送 AJAX 请求？ </h4> 
<p>1. 使用 <strong>axios [æk‘sioʊs] 库</strong></p> 
<ul><li><strong>基于 XMLHttpRequest 封装、代码简单</strong></li><li><strong><span style="color:#fe2c24;"> Vue、React </span>项目中都会用到 axios</strong></li></ul> 
<p>2. 使用 XMLHttpRequest 对象</p> 
<p></p> 
<h4 id="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios%C2%A0">如何使用axios </h4> 
<p><strong>语法：</strong></p> 
<p><strong>1. 引入 axios.js</strong></p> 
<ul><li><strong>在线引入： https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js        --axios在线库</strong></li><li><strong>本地引入：下载好axios文件，使用相对路径引入</strong></li></ul> 
<p><strong>2. 使用 axios 函数</strong></p> 
<p><img alt="" height="454" src="https://images2.imgbox.com/17/ce/wTVT3eQ2_o.png" width="847"></p> 
<p></p> 
<h4 id="axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><strong>axios 函数的基本结构</strong></h4> 
<ul><li>url</li></ul> 
<p>这个参数是必须的，里面填的是请求的url地址</p> 
<ul><li>method</li></ul> 
<p>这个参数是可选的，默认请求的是GET方法，参数内容不区分大小写</p> 
<ul><li>params</li></ul> 
<p>这个参数主要是替代以前的字符串拼接的方法，填在params里面的参数会以字符串拼接的方式，将参数凭借到url地址上。但这里会对参数值进行url编码</p> 
<ul><li>data</li></ul> 
<p>这个参数主要是用于接收请求体或者二进制参数，所以如果参数是表单数据或者二进制数据，需要使用data这个对象来接收</p> 
<ul><li>axios的回调处理--then()函数</li></ul> 
<p>这个函数主要是<span style="color:#fe2c24;"><strong>处理axios请求成功后返回的数据数据</strong></span>，里面接收一个回调函数</p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/82/f8/wEGi62fX_o.png" width="298"></p> 
<p>axios的回调处理--catch()函数</p> 
<p>这个函数主要是<span style="color:#fe2c24;"><strong>处理axios请求失败后返回的数据数据</strong></span>，里面接收一个回调函数</p> 
<p></p> 
<h4 id="axios%20%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><strong>axios 函数的使用场景</strong></h4> 
<p>前提条件：成功的引入了js的依赖后</p> 
<p></p> 
<h5 id="1%20%E6%B2%A1%E6%9C%89%E5%8F%82%E6%95%B0%E7%9A%84%E6%83%85%E5%86%B5">1 没有参数的情况</h5> 
<pre><code class="language-javascript">//场景1：无参数的请求
//不填请求方法参数，默认是GET请求
    axios({
      url: 'http://hmajax.itheima.net/api/province'
    }).then(function(result){
      //请求成功调用
      console.log(result);
    }).catch(function(error){
      //请求异常调用
      console.log(error);
    })</code></pre> 
<p><img alt="" height="965" src="https://images2.imgbox.com/07/cc/FpLFL132_o.png" width="1200"></p> 
<h5 id="2%20%E4%BD%BF%E7%94%A8params%E5%8F%82%E6%95%B0%E4%BC%A0%E5%8F%82%E7%9A%84%E6%83%85%E5%86%B5">2 使用params参数传参的情况</h5> 
<pre><code class="language-javascript">//场景2：使用params参数的请求
     axios({
      url: 'http://hmajax.itheima.net/api/city',
      params: {
        pname: '辽宁省'
      }
    }).then(function(result){
      //请求成功调用
      console.log(result);
    }).catch(function(error){
      //请求异常调用
      console.log(error);
    })</code></pre> 
<p><img alt="" height="981" src="https://images2.imgbox.com/39/43/pTUHQOYI_o.png" width="1200"></p> 
<p><img alt="" height="615" src="https://images2.imgbox.com/8a/42/Bbcu6HhY_o.png" width="1200"></p> 
<p>使用箭头函数来替代匿名函数</p> 
<p><img alt="" height="535" src="https://images2.imgbox.com/f4/83/orP5kWSK_o.png" width="1200"></p> 
<h5 id="3%C2%A0%20%E4%BD%BF%E7%94%A8data%E5%8F%82%E6%95%B0%E6%9D%A5%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E4%BD%93%E7%9A%84%E6%95%B0%E6%8D%AE">3  使用data参数来处理请求体的数据</h5> 
<p><strong>当请求方法是post方法时，参数会以请求体的方式向服务器提交</strong></p> 
<pre><code class="language-javascript">  // 场景3  使用data参数来处理请求体的数据
    axios({
      url: 'http://hmajax.itheima.net/api/register',
      method: 'post',
      data: {
        username: 'jack12345',
        password: '123456'
      }
    }).then(result=&gt;{
      //请求成功调用
      console.log(result);
    }).catch(error=&gt;{
      //请求异常调用
      console.log(error);
    })</code></pre> 
<p><img alt="" height="822" src="https://images2.imgbox.com/db/e0/afnMyZ5P_o.png" width="1200"></p> 
<p><img alt="" height="750" src="https://images2.imgbox.com/eb/16/I7ocqADq_o.png" width="1200"></p> 
<h5 id="4%C2%A0%20%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E7%AD%89%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%9A%84%E6%83%85%E5%86%B5"><strong>4  上传图片等二进制的情况</strong></h5> 
<ul><li>1. 获取图片文件对象</li><li>2. 使用 FormData 携带图片文件</li><li>3. 提交表单数据到服务器，使用图片 url 网址</li></ul> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Document&lt;/title&gt;
 
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- 文件选择元素 --&gt;
  &lt;input type="file" class="upload"&gt;
  &lt;img src="" alt=""&gt;

  &lt;script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    //场景1：无参数的请求
    // axios({
    //   url: 'http://hmajax.itheima.net/api/province'
    // }).then(function(result){
    //   //请求成功调用
    //   console.log(result);
    // }).catch(function(error){
    //   //请求异常调用
    //   console.log(error);
    // })

     //场景2：使用params参数的请求
    //  axios({
    //   url: 'http://hmajax.itheima.net/api/city',
    //   params: {
    //     pname: '辽宁省'
    //   }
    // }).then(function(result){
    //   //请求成功调用
    //   console.log(result);
    // }).catch(function(error){
    //   //请求异常调用
    //   console.log(error);
    // })

    // // 场景3  使用data参数来处理请求体的数据
    // axios({
    //   url: 'http://hmajax.itheima.net/api/register',
    //   method: 'post',
    //   data: {
    //     username: 'jack12345',
    //     password: '123456'
    //   }
    // }).then(result=&gt;{
    //   //请求成功调用
    //   console.log(result);
    // }).catch(error=&gt;{
    //   //请求异常调用
    //   console.log(error);
    // })


      //4  上传图片等二进制的情况
     //1. 获取图片文件
     document.querySelector('.upload').addEventListener('change',(e)=&gt;{
        //  console.log(e.target.files); 
        //2. 使用 FormData 携带图片文件
        const fd = new FormData()
        // append()  追加元素
        fd.append('img',e.target.files[0])

        //使用ajax提交数据
        axios({
          url: 'http://hmajax.itheima.net/api/uploadimg',
          method: 'post',
          data: fd
        }).then(result=&gt;{
          console.log(result);
          // console.log(result.data.data.url);
          document.querySelector('img').src = result.data.data.url
        }).catch(error=&gt;{
          console.log(error);
        })

    })

  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p><img alt="" height="1046" src="https://images2.imgbox.com/14/b7/bFlW5ihT_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong>在日常的开发中基本大概是这四种常见的情况，学会用这几种，基本上可以解决问题</strong></span></p> 
<p></p> 
<h4 id="form-serialize%20%E6%8F%92%E4%BB%B6">form-serialize 插件</h4> 
<p>作用：快速收集表单元素的值</p> 
<p>使用：</p> 
<ul><li>1 获取表单对象</li><li>2 使用serialize函数，快速收集表单元素的值</li></ul> 
<p></p> 
<p></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;13.form-serialize插件使用&lt;/title&gt;
  &lt;script src="./lib/form-serialize.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;form action="javascript:;" class="example-form"&gt;
    &lt;input type="text" name="uname"&gt;
    &lt;br&gt;
    &lt;input type="text" name="pwd"&gt;
    &lt;br&gt;
    &lt;input type="button" class="btn" value="提交"&gt;
  &lt;/form&gt;
  &lt;!-- 
    目标：在点击提交时，使用form-serialize插件，快速收集表单元素值
  --&gt;
  &lt;script&gt;
    //为提交按钮设置监听事件
    document.querySelector('.btn').addEventListener('click', () =&gt; {
      //使用插件快速获取表单元素值
       /**
       * 2. 使用serialize函数，快速收集表单元素的值
       * 参数1：要获取哪个表单的数据
       *  表单元素设置name属性，值会作为对象的属性名
       *  建议name属性的值，最好和接口文档参数名一致
       * 参数2：配置对象
       *  hash 设置获取数据结构
       *    - true：JS对象（推荐）一般请求体里提交给服务器
       *    - false: 查询字符串
       *  empty 设置是否获取空值
       *    - true: 获取空值（推荐）数据结构和标签结构一致
       *    - false：不获取空值
      */
      const form = document.querySelector('.example-form')
      const data = serialize(form,{hash:true,empty:true})

      console.log(data);
    })
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p></p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/c0/ed/L7VdCVkX_o.png" width="1200"></p> 
<p><img alt="" height="1044" src="https://images2.imgbox.com/f5/b6/pJu8I4RT_o.png" width="1200"></p> 
<p></p> 
<div></div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/63a15cabba34f81a9d263b99f4941fa7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">书生浦语大模型 笔记&amp;作业汇总</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/553c431e1914ae8fb7a2a5e718d94091/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Web 开发 9：Django 框架基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>