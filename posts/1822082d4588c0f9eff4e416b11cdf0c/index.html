<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>以太网知识-GMII / RGMII接口 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="以太网知识-GMII / RGMII接口" />
<meta property="og:description" content="今天和海翎光电的小编一起分析MII/RMII/SMII，以及GMII/RGMII/SGMII接口的信号定义，及相关知识，同时小编也对RJ-45接口进行了总结，分析了在10/100模式下和1000M模式下的连接方法。
GMII 接口分析
GMII接口提供了8位数据通道，125MHz的时钟速率，从而1000Mbps的数据传输速率。下图定义了RS层的输入输出信号以及STA的信号：
图1 Reconciliation Sublayer (RS) and STA connections to GMII
下面将详细介绍GMII接口的信号定义，时序特性等。由于GMII接口有MAC和PHY模式，因此，将会根据这两种不同的模式进行分析，同时还会对RGMII/TBI/RTBI接口进行介绍。
GMII接口信号定义
GMII接口可分为MAC模式和PHY模式，一般说来MAC和PHY对接，但是MAC和MAC也是可以对接的。
在GMII接口中，它是用8根数据线来传送数据的，这样在传送1000M数据时，时钟就会125MHz。
GMII接口主要包括四个部分。一是从MAC层到物理层的发送数据接口，二是从物理层到MAC层的接收数据接口，三是从物理层到MAC层的状态指示信号，四是MAC层和物理层之间传送控制和状态信息的MDIO接口。
GMII接口的MAC模式定义： 注意在表1中，信号GTX_CLK对于MAC来说，此时是Output信号，这一点和MII接口中的TX_CLK的Input特性不一致。
GMII接口PHY模式定义：
注意在表2中，信号GTX_CLK对于PHY来说，此时是Input信号，这一点和MII接口中的TX_CLK的Output特性不一致。
GMII接口时序特性
在GMII接口中，TX通道参考时钟是GTX_CLK，RX通道参考时钟是RX_CLK，802.3-2005定义了它们之间的关系。
图2 GMII signal timing at receiver input
由图2可知，Spec只定义了TX通道和RX通道中接收端Setup时间和Hold时间。很明显，即该Spec只对TX通道上PHY这一侧的接收特性作了定义，而对TX通道MAC那一侧的发送特性并没有定义。IC Vendor可在TX通道那一侧的MAC的发送特性作适当调整，只要最终的时序满足TX通道上PHY这一侧的接收特性就可以。
同样的道理，该Spec只对RX通道上MAC这一侧的接收特性作了定义，而对RX通道PHY那一侧的发送特性并没有定义。IC Vendor可在RX通道那一侧的PHY的发送特性作适当调整，只要最终的时序满足RX通道上MAC这一侧的接收特性就可以。
图3Setup和Hold Time的值
从图20可以看出，这里有两组setup和hold时间。其中第一组Spec则是根据图21给定的测试电路定义的，即该Spec未考虑PCB上传输线的不匹配等影响。而第二组Spec则是定义了receiver at its input pins的时间要求，它考虑了PCB上传输线的长度不匹配等影响。一般IC Vendor需要按照第二组Spec来设计它们的IC。
图4 GMII接口Setup和Hold Time测试电路
GMII信号功能特性：
&lt;1&gt;：GTX_CLK (transmit clock)，GTX_CLK (Transmit Clock)是一个连续的时钟信号（即系统启动，该信号就一直存在），它是TX_EN, TXD, and TX_ER(信号方向为从RS到PHY)的参考时钟，PHY端在信号的上升沿采样，GTX_CLK由MAC驱动。GTX_CLK的时钟频率是数据传输速率的12.5，即125MHz。
&lt;2&gt;：对于同样的RX_CLK，它与TX_CLK具有相同的要求，所不同的是它是RX_DV, RXD, and RX_ER(信号方向是从PHY到RS)的参考时钟，MAC端在时钟的上升沿采样。RX_CLK是由PHY驱动，PHY可能从接收到的数据中提取时钟RX_CLK，也有可能从一个名义上的参考时钟(e.g., the TX_CLK reference)来驱动RX_CLK
&lt;3&gt;：GMII接口的发送时序如图22所示，接收时序如图23所示，至于其它信号的功能特性以及在数据传输过程中，不同信号的逻辑变化所代表的意义，这里不再描述，大体上和“MII信号功能特性”一节中描述类似，读者可以参阅802.3-3005的Spec。
图5 GMII信号发送时序
图6 GMII信号接收时序
GMII的管理MDIO接口：
关于GMII的管理MDIO接口，这里也不再描述，它在硬件设计上同MII的管理MDIO接口一节的描述。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1822082d4588c0f9eff4e416b11cdf0c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-09T12:45:00+08:00" />
<meta property="article:modified_time" content="2023-02-09T12:45:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">以太网知识-GMII / RGMII接口</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;"> 今天和海翎光电的小编一起分析MII/RMII/SMII，以及GMII/RGMII/SGMII接口的信号定义，及相关知识，同时小编也对RJ-45接口进行了总结，分析了在10/100模式下和1000M模式下的连接方法。</p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;">GMII 接口分析</span></p> 
 <p style="text-align:null;"> GMII接口提供了8位数据通道，125MHz的时钟速率，从而1000Mbps的数据传输速率。下图定义了RS层的输入输出信号以及STA的信号：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:266px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:62.781956%;height:0;"> 
    <img src="https://images2.imgbox.com/b0/d4/geG61f0q_o.jpg" style="margin-left:;display:block;width:266px;margin-top:-62.781956%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图1 Reconciliation Sublayer (RS) and STA connections to GMII</p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"> 下面将详细介绍GMII接口的信号定义，时序特性等。由于GMII接口有MAC和PHY模式，因此，将会根据这两种不同的模式进行分析，同时还会对RGMII/TBI/RTBI接口进行介绍。</p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;">GMII接口信号定义</span></p> 
 <p style="text-align:null;"> GMII接口可分为MAC模式和PHY模式，一般说来MAC和PHY对接，但是MAC和MAC也是可以对接的。</p> 
 <p style="text-align:null;"> 在GMII接口中，它是用8根数据线来传送数据的，这样在传送1000M数据时，时钟就会125MHz。</p> 
 <p style="text-align:null;"> GMII接口主要包括四个部分。一是从MAC层到物理层的发送数据接口，二是从物理层到MAC层的接收数据接口，三是从物理层到MAC层的状态指示信号，四是MAC层和物理层之间传送控制和状态信息的MDIO接口。</p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;"> GMII接口的MAC模式定义：</span> </p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:629px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.941177%;height:0;"> 
    <img src="https://images2.imgbox.com/a1/95/xsjmVtiH_o.jpg" style="margin-left:;display:block;width:629px;margin-top:-52.941177%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"> 注意在表1中，信号GTX_CLK对于MAC来说，此时是Output信号，这一点和MII接口中的TX_CLK的Input特性不一致。</p> 
 <p style="text-align:null;"> GMII接口PHY模式定义：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:53.301888%;height:0;"> 
    <img src="https://images2.imgbox.com/95/36/5lNoPjb9_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-53.301888%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;"> 注意在表2中，信号GTX_CLK对于PHY来说，此时是Input信号，这一点和MII接口中的TX_CLK的Output特性不一致。</p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;">GMII接口时序特性</span></p> 
 <p style="text-align:null;"> 在GMII接口中，TX通道参考时钟是GTX_CLK，RX通道参考时钟是RX_CLK，802.3-2005定义了它们之间的关系。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:458px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:34.279476%;height:0;"> 
    <img src="https://images2.imgbox.com/f9/4d/vJdRt2E4_o.jpg" style="margin-left:;display:block;width:458px;margin-top:-34.279476%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图2 GMII signal timing at receiver input</p> 
 <p style="text-align:null;"> </p> 
 <p style="text-align:null;"> 由图2可知，Spec只定义了TX通道和RX通道中接收端Setup时间和Hold时间。很明显，即该Spec只对TX通道上PHY这一侧的接收特性作了定义，而对TX通道MAC那一侧的发送特性并没有定义。IC Vendor可在TX通道那一侧的MAC的发送特性作适当调整，只要最终的时序满足TX通道上PHY这一侧的接收特性就可以。</p> 
 <p style="text-align:null;"> 同样的道理，该Spec只对RX通道上MAC这一侧的接收特性作了定义，而对RX通道PHY那一侧的发送特性并没有定义。IC Vendor可在RX通道那一侧的PHY的发送特性作适当调整，只要最终的时序满足RX通道上MAC这一侧的接收特性就可以。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:621px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:31.561996%;height:0;"> 
    <img src="https://images2.imgbox.com/70/e4/NmxQwjYC_o.jpg" style="margin-left:;display:block;width:621px;margin-top:-31.561996%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图3Setup和Hold Time的值</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:null;"> 从图20可以看出，这里有两组setup和hold时间。其中第一组Spec则是根据图21给定的测试电路定义的，即该Spec未考虑PCB上传输线的不匹配等影响。而第二组Spec则是定义了receiver at its input pins的时间要求，它考虑了PCB上传输线的长度不匹配等影响。一般IC Vendor需要按照第二组Spec来设计它们的IC。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:451px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:72.06208%;height:0;"> 
    <img src="https://images2.imgbox.com/02/1d/WnqWEyV3_o.jpg" style="margin-left:;display:block;width:451px;margin-top:-72.06208%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图4 GMII接口Setup和Hold Time测试电路</p> 
 <p style="text-align:null;"> </p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;">GMII信号功能特性：</span></p> 
 <p style="text-align:null;"> &lt;1&gt;：GTX_CLK (transmit clock)，GTX_CLK (Transmit Clock)是一个连续的时钟信号（即系统启动，该信号就一直存在），它是TX_EN, TXD, and TX_ER(信号方向为从RS到PHY)的参考时钟，PHY端在信号的上升沿采样，GTX_CLK由MAC驱动。GTX_CLK的时钟频率是数据传输速率的12.5，即125MHz。</p> 
 <p style="text-align:null;"> &lt;2&gt;：对于同样的RX_CLK，它与TX_CLK具有相同的要求，所不同的是它是RX_DV, RXD, and RX_ER(信号方向是从PHY到RS)的参考时钟，MAC端在时钟的上升沿采样。RX_CLK是由PHY驱动，PHY可能从接收到的数据中提取时钟RX_CLK，也有可能从一个名义上的参考时钟(e.g., the TX_CLK reference)来驱动RX_CLK</p> 
 <p style="text-align:null;"> &lt;3&gt;：GMII接口的发送时序如图22所示，接收时序如图23所示，至于其它信号的功能特性以及在数据传输过程中，不同信号的逻辑变化所代表的意义，这里不再描述，大体上和“MII信号功能特性”一节中描述类似，读者可以参阅802.3-3005的Spec。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:436px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:38.761467%;height:0;"> 
    <img src="https://images2.imgbox.com/cf/d2/HQJZT2hw_o.jpg" style="margin-left:;display:block;width:436px;margin-top:-38.761467%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图5 GMII信号发送时序</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:458px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:32.75109%;height:0;"> 
    <img src="https://images2.imgbox.com/71/6b/zIR1VvMH_o.jpg" style="margin-left:;display:block;width:458px;margin-top:-32.75109%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图6 GMII信号接收时序</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;"> GMII的管理MDIO接口：</span></p> 
 <p style="text-align:null;"> 关于GMII的管理MDIO接口，这里也不再描述，它在硬件设计上同MII的管理MDIO接口一节的描述。</p> 
 <p style="text-align:null;"></p> 
 <p style="text-align:null;"> </p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:436px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:47.477066%;height:0;"> 
    <img src="https://images2.imgbox.com/81/da/K7toKOQb_o.jpg" style="margin-left:;display:block;width:436px;margin-top:-47.477066%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;"></p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;"> RGMII接口分析</span></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;"> RGMII接口信号定义：</span></p> 
 <p style="text-align:null;"> RGMII接口（Reduced GMII接口）是简化的GMII接口。它也分为MAC模式和PHY模式。</p> 
 <p style="text-align:null;"> RGMII接口的MAC模式定义：</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:629px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.786964%;height:0;"> 
    <img src="https://images2.imgbox.com/99/bb/0TSEjt6l_o.jpg" style="margin-left:;display:block;width:629px;margin-top:-45.786964%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">表3RGMII接口的PHY模式定义： </p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.440254%;height:0;"> 
    <img src="https://images2.imgbox.com/3e/84/fPDwpGYH_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-45.440254%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">表4</p> 
 <p style="text-align:null;"> 由表3~表4可知，RGMII接口相对于GMII接口，在TXD和RXD上总共减少了8根数据线。</p> 
 <p style="text-align:null;"> </p> 
 <p style="text-align:null;"> <span class="kdocs-bold" style="font-weight:bold;"> RGMII接口时序特性：</span></p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:555px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:40.54054%;height:0;"> 
    <img src="https://images2.imgbox.com/bd/b4/JHzIdQQ7_o.jpg" style="margin-left:;display:block;width:555px;margin-top:-40.54054%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图8RGMII接口TX通道MAC侧发送特性</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:null;"> 虽然RGMII接口中，信号线减半，同时GTX_CLK和RX_CLK还是125MHz，为了达到1000Mbit的传输速率，TXD和RXD信号线上在时钟的上升沿发送GMII接口中的TXD[3:0]/RXD[3:0]，在时钟的下降沿发送GMII接口中TXD[7:4]/RXD[7:4]，并且信号TX_CTL反映了TX_EN和TX_ER的状态，即在GTX_CLK上升沿发送TX_EN，下降沿发送TX_ER。同样的道理适用于信号RX_CTL，它反映了RX_EN和RX_ER的状态，即在RX_CLK上升沿发送RX_EN，下降沿发送RX_ER。它们具体的关系。具体时序特性如图24~图25。</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:540px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.296297%;height:0;"> 
    <img src="https://images2.imgbox.com/24/d5/jia3mkqf_o.jpg" style="margin-left:;display:block;width:540px;margin-top:-26.296297%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:center;">图9 RGMII接口RX通道PHY侧发送特性</p> 
 <p style="text-align:center;"></p> 
 <p style="text-align:null;"> 好了，以上内容就是海翎光电关于以太网知识-GMII / RGMII接口的相关详细介绍，希望能对大家有所帮助！</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/295cbc4916b1bca17e76c33985214074/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">壹心宇宙黑</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ac1ad66dc7b8b474b9c2322bcb657908/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue-cli3创建Vue项目</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>