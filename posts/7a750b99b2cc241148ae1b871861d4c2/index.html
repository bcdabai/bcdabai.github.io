<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL --- 图形化工具&amp;DDL表结构操作 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL --- 图形化工具&amp;DDL表结构操作" />
<meta property="og:description" content="目录
一. 图形化工具
1. 介绍
2.3.2 安装
2.3.3 MySQL图形化管理工具使用
二. 表操作
2.1 MySQL-DDL-表结构操作-创建
2.3.1 创建表结构
2.3.1.2 约束
2.2 MySQL-DDL-表结构操作-数据类型
数值类型
字符串类型
日期时间类型
2.3.1 MySQL-DDL-表结构操作-查询&amp;修改&amp;删除
2.3.2 表结构的查询
2.3.3 修改
2.3.4 删除
小结：
一. 图形化工具 1. 介绍 前面学习了DDL中关于数据库操作的SQL语句，在编写这些SQL时，都是在命令行当中完成的。在命令行当中来敲这些SQL语句很不方便，主要的原因有以下 3 点：
没有任何代码提示。（全靠记忆，容易敲错字母造成执行报错）操作繁琐，影响开发效率。（所有的功能操作都是通过SQL语句来完成的）编写过的SQL代码无法保存。 在项目开发当中，通常为了提高开发效率，都会借助于现成的图形化管理工具来操作数据库。
目前MySQL主流的图形化界面工具有以下几种：MySQL客户端工具-图形化工具
我们只需要熟悉这众多工具当中的一个就可以了，因为其它工具的使用都大同小异。
DataGrip是JetBrains旗下的一款数据库管理工具，是管理和开发MySQL、Oracle、PostgreSQL 的理想解决方案。
2.3.2 安装 说明：DataGrip这款工具可以不用安装，因为Jetbrains公司已经将DataGrip这款工具的功能已经 集成到了 IDEA当中，所以我们就可以使用IDEA来作为一款图形化界面工具来操作Mysql数 据库。
2.3.3 MySQL图形化管理工具使用 2.2.3.1 连接数据库
1、打开IDEA自带的Database
2、配置MySQL 3、输入相关信息
输入 comment 备注信息 ; 输入连接的 Host 主机地址 , 默认 localhost; 输入用户名 , 默认 root ;输入密码 , 安装 mysql 的时候 , 设置的 mysql 的访问密码 。 然后点击 Download 下载数据库连接驱动。 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7a750b99b2cc241148ae1b871861d4c2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-14T00:13:25+08:00" />
<meta property="article:modified_time" content="2023-10-14T00:13:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL --- 图形化工具&amp;DDL表结构操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80.%20%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7-toc" style="margin-left:40px;"><a href="#%E4%B8%80.%20%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7" rel="nofollow">一. 图形化工具</a></p> 
<p id="1.%C2%A0%E4%BB%8B%E7%BB%8D-toc" style="margin-left:80px;"><a href="#1.%C2%A0%E4%BB%8B%E7%BB%8D" rel="nofollow">1. 介绍</a></p> 
<p id="2.3.2%20%E5%AE%89%E8%A3%85-toc" style="margin-left:80px;"><a href="#2.3.2%20%E5%AE%89%E8%A3%85" rel="nofollow">2.3.2 安装</a></p> 
<p id="2.3.3%20MySQL%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8-toc" style="margin-left:80px;"><a href="#2.3.3%20MySQL%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8" rel="nofollow">2.3.3 MySQL图形化管理工具使用</a></p> 
<p id="%E4%BA%8C.%20%E8%A1%A8%E6%93%8D%E4%BD%9C-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.%20%E8%A1%A8%E6%93%8D%E4%BD%9C" rel="nofollow">二. 表操作</a></p> 
<p id="2.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E5%88%9B%E5%BB%BA-toc" style="margin-left:80px;"><a href="#2.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E5%88%9B%E5%BB%BA" rel="nofollow">2.1 MySQL-DDL-表结构操作-创建</a></p> 
<p id="2.3.1%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%BB%93%E6%9E%84-toc" style="margin-left:80px;"><a href="#2.3.1%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%BB%93%E6%9E%84" rel="nofollow">2.3.1 创建表结构</a></p> 
<p id="2.3.1.2%20%E7%BA%A6%E6%9D%9F-toc" style="margin-left:80px;"><a href="#2.3.1.2%20%E7%BA%A6%E6%9D%9F" rel="nofollow">2.3.1.2 约束</a></p> 
<p id="2.2%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#2.2%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" rel="nofollow">2.2 MySQL-DDL-表结构操作-数据类型</a></p> 
<p id="%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B" rel="nofollow">数值类型</a></p> 
<p id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B" rel="nofollow">字符串类型</a></p> 
<p id="%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B" rel="nofollow">日期时间类型</a></p> 
<p id="2.3.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%9F%A5%E8%AF%A2%26%E4%BF%AE%E6%94%B9%26%E5%88%A0%E9%99%A4-toc" style="margin-left:40px;"><a href="#2.3.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%9F%A5%E8%AF%A2%26%E4%BF%AE%E6%94%B9%26%E5%88%A0%E9%99%A4" rel="nofollow">2.3.1 MySQL-DDL-表结构操作-查询&amp;修改&amp;删除</a></p> 
<p id="2.3.2%20%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9A%84%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#2.3.2%20%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9A%84%E6%9F%A5%E8%AF%A2" rel="nofollow">2.3.2 表结构的查询</a></p> 
<p id="%C2%A02.3.3%20%E4%BF%AE%E6%94%B9-toc" style="margin-left:80px;"><a href="#%C2%A02.3.3%20%E4%BF%AE%E6%94%B9" rel="nofollow"> 2.3.3 修改</a></p> 
<p id="2.3.4%20%E5%88%A0%E9%99%A4-toc" style="margin-left:80px;"><a href="#2.3.4%20%E5%88%A0%E9%99%A4" rel="nofollow">2.3.4 删除</a></p> 
<p id="%C2%A0%E5%B0%8F%E7%BB%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%C2%A0%E5%B0%8F%E7%BB%93%EF%BC%9A" rel="nofollow"> 小结：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="%E4%B8%80.%20%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7"><span style="color:#fe2c24;">一. 图形化工具</span></h3> 
<h4 id="1.%C2%A0%E4%BB%8B%E7%BB%8D"><span style="color:#fe2c24;">1. 介绍</span></h4> 
<p>前面学习了DDL中关于数据库操作的SQL语句，在编写这些SQL时，都是在命令行当中完成的。在命令行当中来敲这些SQL语句很不方便，主要的原因有以下 3 点：</p> 
<ol><li>没有任何代码提示。（全靠记忆，容易敲错字母造成执行报错）</li><li>操作繁琐，影响开发效率。（所有的功能操作都是通过SQL语句来完成的）</li><li>编写过的SQL代码无法保存。</li></ol> 
<p>在项目开发当中，通常为了提高开发效率，都会借助于现成的图形化管理工具来操作数据库。</p> 
<p>目前MySQL主流的图形化界面工具有以下几种：<span style="color:#fe2c24;"><strong>MySQL客户端工具-图形化工具</strong></span></p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/39/8b/bfyApiw8_o.png" width="1144"></p> 
<p>我们只需要熟悉这众多工具当中的一个就可以了，因为其它工具的使用都大同小异。</p> 
<p><span style="background-color:#f9eda6;">DataGrip是JetBrains旗下的一款数据库管理工具，是管理和开发MySQL、Oracle、PostgreSQL    </span>               <span style="background-color:#f9eda6;">的理想解决方案。</span></p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/44/a8/yEckiiCk_o.png" width="1200"></p> 
<h4 id="2.3.2%20%E5%AE%89%E8%A3%85"><span style="color:#fe2c24;">2.3.2 安装</span></h4> 
<p>说明：<span style="background-color:#f9eda6;">DataGrip这款工具可以不用安装，因为Jetbrains公司已经将DataGrip这款工具的功能已经    </span>           <span style="background-color:#f9eda6;">集成到了 IDEA当中，所以我们就可以使用IDEA来作为一款图形化界面工具来操作Mysql数  </span>           <span style="background-color:#f9eda6;">据库。</span></p> 
<h4 id="2.3.3%20MySQL%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8"><span style="color:#fe2c24;">2.3.3 MySQL图形化管理工具使用</span></h4> 
<p><span style="color:#fe2c24;"><strong>2.2.3.1 连接数据库</strong></span></p> 
<p>1、打开IDEA自带的Database</p> 
<p><img alt="" height="259" src="https://images2.imgbox.com/10/f6/aHNFjSRs_o.png" width="734"></p> 
<p>2、配置MySQL </p> 
<p><img alt="" height="769" src="https://images2.imgbox.com/fd/35/TaXx3D4W_o.png" width="1200"></p> 
<p>3、输入相关信息</p> 
<div> 
 <span style="color:#000000;">输入</span> 
 <span style="color:#000000;">comment</span> 
 <span style="color:#000000;">备注信息 </span> 
 <span style="color:#000000;">; </span> 
 <span style="color:#000000;">输入连接的</span> 
 <span style="color:#000000;">Host</span> 
 <span style="color:#000000;">主机地址</span> 
 <span style="color:#000000;">,</span> 
 <span style="color:#000000;">默认</span> 
 <span style="color:#000000;">localhost;</span> 
 <span style="color:#000000;">输入用户名</span> 
 <span style="color:#000000;">,</span> 
 <span style="color:#000000;">默认</span> 
 <span style="color:#000000;">root ;输入密码 </span> 
 <span style="color:#000000;">, </span> 
 <span style="color:#000000;">安装</span> 
 <span style="color:#000000;">mysql</span> 
 <span style="color:#000000;">的时候</span> 
 <span style="color:#000000;">, </span> 
 <span style="color:#000000;">设置的</span> 
 <span style="color:#000000;">mysql</span> 
 <span style="color:#000000;">的访问密码 。 然后点击 Download </span> 
 <span style="color:#000000;">下载数据库连接驱动。</span> 
</div> 
<p><img alt="" height="792" src="https://images2.imgbox.com/a5/cd/ebp6x2qe_o.png" width="1200"></p> 
<p><span style="color:#000000;">4. 驱动下载完成之后， 点击 Test Connection</span><span style="color:#000000;">。 如果显示 </span><span style="color:#000000;">Successed </span><span style="color:#000000;">就说明连接成功了。 然后点      击 OK </span><span style="color:#000000;">按钮，连接数据库。</span></p> 
<p><img alt="" height="792" src="https://images2.imgbox.com/92/01/XsvX1gl8_o.png" width="1200"></p> 
<p>5、测试数据库连接</p> 
<p><img alt="" height="792" src="https://images2.imgbox.com/cb/8f/5JCcM1Qi_o.png" width="1200"> 6、保存配置</p> 
<p><img alt="" height="792" src="https://images2.imgbox.com/62/6b/DYSqcigh_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong>4.3 展示所有数据库 </strong></span></p> 
<p>默认情况下，连接上了MySQL数据库之后， 数据库并没有全部展示出来。 需要选择要展示哪些数据库。具体操作如下： </p> 
<p><img alt="" height="622" src="https://images2.imgbox.com/bc/01/QA5Vs9Av_o.gif" width="878"></p> 
<p><span style="color:#fe2c24;"><strong>2.2.3.2 操作数据库</strong></span></p> 
<p><span style="color:#956fe7;"><strong>创建数据库：</strong></span></p> 
<p><img alt="" height="458" src="https://images2.imgbox.com/29/7c/7LoT8ouN_o.png" width="1165"></p> 
<p> <img alt="" height="604" src="https://images2.imgbox.com/3e/9d/M1fOEQZi_o.png" width="1125"></p> 
<blockquote> 
 <ul><li>有了图形化界面工具后，就可以方便的使用图形化工具：创建数据库，创建表、修改表等DDL操作。</li><li><span style="background-color:#f9eda6;">其实工具底层也是通过DDL语句操作的数据库，只不过这些SQL语句是图形化界面工具帮我们自动完成的。</span></li></ul> 
</blockquote> 
<p></p> 
<p><span style="color:#956fe7;"><strong>查看所有数据库：</strong></span></p> 
<p><img alt="" height="225" src="https://images2.imgbox.com/93/10/DTxs9IYC_o.png" width="1200"><span style="color:#fe2c24;"><strong>  </strong></span><img alt="" height="663" src="https://images2.imgbox.com/aa/f1/jQjyjqFe_o.png" width="1161"></p> 
<p><img alt="" height="377" src="https://images2.imgbox.com/30/14/ApRSrymf_o.png" width="941"><span style="color:#956fe7;"><strong> 切换数据库：</strong></span></p> 
<p><img alt="" height="836" src="https://images2.imgbox.com/2b/bc/bezeO2rq_o.png" width="1166"><span style="color:#956fe7;"><strong> 删除数据库：</strong></span></p> 
<p><img alt="" height="531" src="https://images2.imgbox.com/92/55/m16iYTda_o.png" width="382"><img alt="" height="417" src="https://images2.imgbox.com/47/ff/j8ZHIxEw_o.png" width="413"></p> 
<p>如果我们使用了图形化界面工具，我在这个console控制台当中所编写的sql语句，我将这个标签页一关，<span style="color:#956fe7;"><strong>下一次怎么找到之前所编写的SQL呢？</strong></span></p> 
<p><img alt="" height="349" src="https://images2.imgbox.com/0a/24/48w1HqaS_o.png" width="1143"></p> 
<ul><li><span style="background-color:#f9eda6;">点击这个连接，右键Jump to Query Console</span></li></ul> 
<p><img alt="" height="723" src="https://images2.imgbox.com/af/2d/kkC6pLE1_o.png" width="829"></p> 
<ul><li><span style="background-color:#f9eda6;">点击Console</span></li></ul> 
<p><img alt="" height="539" src="https://images2.imgbox.com/5c/30/XUbZEdof_o.png" width="464"></p> 
<ul><li>然后就可以看到之前所编写的SQL语句了：</li></ul> 
<p><img alt="" height="222" src="https://images2.imgbox.com/cd/c1/K1W62hGn_o.png" width="572"></p> 
<p><span style="color:#956fe7;"><strong> 总结：</strong></span><span style="background-color:#f9eda6;">通过图形化工具来简化数据库的操作，从而来提高开发效率。</span></p> 
<h2 id="%E4%BA%8C.%20%E8%A1%A8%E6%93%8D%E4%BD%9C"><span style="color:#fe2c24;">二. 表操作</span></h2> 
<h4 id="2.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E5%88%9B%E5%BB%BA"><strong><span style="color:#fe2c24;">2.1 MySQL-DDL-表结构操作-创建</span></strong></h4> 
<p>学习完了DDL语句当中关于数据库的操作之后，接下来我们继续学习<span style="background-color:#f9eda6;">DDL语句当中关于表结构的操作。</span></p> 
<p><span style="background-color:#f9eda6;">关于表结构的操作也是包含四个部分：创建表、查询表、修改表、删除表。</span></p> 
<h4 id="2.3.1%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%BB%93%E6%9E%84"><span style="color:#fe2c24;">2.3.1 创建表结构</span></h4> 
<p><span style="color:#0d0016;">重点掌握<span style="background-color:#f9eda6;">创建表结构的基本语法，以及在建表的时候如何位字段来添加对应的约束。</span></span></p> 
<p><span style="color:#fe2c24;"><strong>2.3.1.1 语法</strong></span></p> 
<p><img alt="" height="299" src="https://images2.imgbox.com/9f/53/Gr3gTJla_o.png" width="551"></p> 
<pre><code class="language-sql">create table  表名(
	字段1  字段1类型 [约束]  [comment  字段1注释 ],
	字段2  字段2类型 [约束]  [comment  字段2注释 ],
	......
	字段n  字段n类型 [约束]  [comment  字段n注释 ] 
) [ comment  表注释 ] ;</code></pre> 
<blockquote> 
 <p>注意： [ ] 中的内容为可选参数； 最后一个字段后面没有逗号</p> 
</blockquote> 
<ul><li><span style="color:#0d0016;">comment 表注释：<span style="background-color:#f9eda6;">就是给这个表来添加一个注释信息，就相当于是一个备注，来标识一下这  </span>                              <span style="background-color:#f9eda6;">张表</span><span style="background-color:#f9eda6;">它是用来存放什么数据的。</span></span></li><li><span style="color:#0d0016;"><span style="background-color:#f9eda6;">括号当中定义表结构当中一个一个的字段，comment来描述这个字段是用来做什么的。</span></span></li><li><span style="color:#0d0016;"><span style="background-color:#f9eda6;">一个字段描述完毕之后，通过逗号来进行分隔，然后再来描述第二个字段，最后一个字段描述完毕之后就不用再加逗号了。<br> 在字段的基本信息描述完毕之后来指定约束，如果有多个约束，用空格隔开。</span></span></li></ul> 
<p>案例：创建tb_user表</p> 
<ul><li> <p>对应的结构如下：</p> </li></ul> 
<p><img alt="" height="186" src="https://images2.imgbox.com/e4/2f/6r0yxvGm_o.png" width="619"></p> 
<ul><li>建表语句： </li></ul> 
<pre><code class="language-sql">-- DDL:表结构
-- 创建:基本语法
create table tb_user(
    id int comment 'ID,唯一标识', # id是一行数据的唯一标识,不能重复
    username varchar(20) comment '用户名',
    name varchar(10) comment '姓名',
    age int comment '年龄',
    gender char(1) comment '性别'
) comment '用户表';
</code></pre> 
<ul><li><span style="background-color:#f9eda6;">进行字段描述时要指定各个字段的字段类型。</span></li><li><span style="background-color:#f9eda6;">在MySQL当中字符串类型用varchar()，不用String，括号里面指定这个字符串最长可以存储多少位，比如我就指定20，就代表这个字段最长只能存储20个字符，超出这个范围就会报错。</span></li><li><span style="background-color:#f9eda6;">另外一个字符串类型char()，如果括号里面指定1就代表它里面只能存储1位。</span></li></ul> 
<p>数据表创建完成，接下来我们还需要测试一下是否可以往这张表结构当中来存储数据。</p> 
<p><strong>双击打开tb_user表结构，大家会发现里面没有数据： </strong></p> 
<p><img alt="" height="246" src="https://images2.imgbox.com/9e/1c/bkZstiJC_o.png" width="1134"></p> 
<p><strong><span style="color:#fe2c24;">添加数据：</span></strong></p> 
<p><img alt="" height="311" src="https://images2.imgbox.com/95/b4/2nluFwhi_o.png" width="843"></p> 
<p><img alt="" height="196" src="https://images2.imgbox.com/2e/0b/0fM8nviD_o.gif" width="783"></p> 
<p>此时我们再插入一条数据：</p> 
<p><img alt="" height="106" src="https://images2.imgbox.com/e0/f9/bRnBoOmk_o.png" width="1062"> 我们之前提到过：<span style="background-color:#f9eda6;">id字段是一行数据的唯一标识，不能有重复值</span>。但是现在数据表中有两个相同的id值，这是为什么呢？</p> 
<ul><li> <p><span style="background-color:#f9eda6;">其实我们现在创建表结构的时候， id这个字段我们只加了一个备注信息说明它是一个唯一标识，但是在数据库层面呢，并没有去限制字段存储的数据。所以id这个字段没有起到唯一标识的作用。</span></p> </li></ul> 
<blockquote> 
 <p><span style="color:#fe2c24;"><strong>想要限制字段所存储的数据，就需要用到数据库中的约束。</strong></span></p> 
</blockquote> 
<h3 id="2.3.1.2%20%E7%BA%A6%E6%9D%9F" style="background-color:transparent;"><span style="color:#fe2c24;"><strong>2.3.1.2 约束</strong></span></h3> 
<p><span style="color:#0d0016;">导学：掌握各种约束以及约束的具体作用</span></p> 
<p><img alt="" height="337" src="https://images2.imgbox.com/20/15/uURVp54F_o.png" width="1000"></p> 
<p><strong>概念：</strong>所谓约束就是<span style="color:#fe2c24;"><strong>作用在表中字段上的规则，用于限制存储在表中的数据，用来限制这个字段               当中所存储的数据的。</strong></span></p> 
<p><strong>作用：</strong>就是来<span style="color:#fe2c24;"><strong>保证数据库当中数据的正确性、有效性和完整性。</strong></span></p> 
<p>在MySQL数据库当中，提供了以下5种约束：</p> 
<table><thead><tr><th style="width:75px;"><span style="color:#0d0016;"><strong>约束</strong></span></th><th style="width:381px;"><strong>描述</strong></th><th style="width:233px;"><strong>关键字</strong></th></tr></thead><tbody><tr><td style="width:75px;"><span style="color:#fe2c24;"><strong>非空约束</strong></span></td><td style="width:381px;">限制该字段值不能为null</td><td style="width:233px;"><strong><span style="color:#fe2c24;">not null</span></strong></td></tr><tr><td style="width:75px;"><span style="color:#fe2c24;"><strong>唯一约束</strong></span></td><td style="width:381px;"><span style="color:#fe2c24;"><strong>保证字段的所有数据都是唯一、不重复的</strong></span></td><td style="width:233px;"><strong><span style="color:#fe2c24;">unique</span></strong></td></tr><tr><td style="width:75px;"><span style="color:#fe2c24;"><strong>主键约束</strong></span></td><td style="width:381px;"><span style="color:#fe2c24;"><strong>主键是一行数据的唯一标识</strong></span>，<span style="color:#fe2c24;"><strong>自带非空且唯一(索引)</strong></span></td><td style="width:233px;"><span style="color:#fe2c24;"><strong>primary key(auto_increment自增)</strong></span></td></tr><tr><td style="width:75px;"><span style="color:#fe2c24;"><strong>默认约束</strong></span></td><td style="width:381px;">保存数据时，如果未指定该字段值，则采用默认约束当中所指定的默认值</td><td style="width:233px;"><span style="color:#fe2c24;"><strong>default</strong></span></td></tr><tr><td style="width:75px;"><span style="color:#fe2c24;"><strong>外键约束</strong></span></td><td style="width:381px;"><span style="color:#fe2c24;"><strong>让两张表的数据建立连接，从而保证数据的一致性和完整性</strong></span></td><td style="width:233px;"><span style="color:#fe2c24;"><strong>foreign key</strong></span></td></tr></tbody></table> 
<ul><li><span style="color:#fe2c24;"><strong>每个表只能定义一个主键！</strong></span></li><li><span style="color:#fe2c24;"><strong>通过auto_increment关键字就可以让主键自动往上增长，默认它会从1自动往上增长。 </strong></span></li><li> <p><span style="color:#fe2c24;"><strong>主键自增：auto_increment，在图形化界面工具当中叫做：Auto inc</strong></span></p> </li><li> <p><span style="background-color:#f9eda6;"> 每次插入新的行记录时，数据库自动生成id字段(主键)下的值<br>  具有auto_increment的数据列是一个正数序列开始增长(从1开始自增)</span></p> </li><li><span style="color:#fe2c24;"><strong>对于外键约束我们要想操作，至少得有两张表。</strong></span></li></ul> 
<p>案例：创建tb_user表</p> 
<ul><li> <p>对应的结构如下：</p> </li></ul> 
<p><img alt="" height="186" src="https://images2.imgbox.com/d1/0d/U2HjRrze_o.png" width="619"></p> 
<p>要求在上述的表结构中:</p> 
<ul><li>id 是一行数据的唯一标识</li><li>username 用户名字段是非空且唯一的</li><li>name 姓名字段是不允许存储空值的</li><li>gender 性别字段是有默认值，默认为男</li></ul> 
<pre><code class="language-sql">-- 创建:基本语法(约束)
create table tb_user(
    id int primary key auto_increment comment 'ID,唯一标识', # id是一行数据的唯一标识,不能重复
    username varchar(20) not null unique comment '用户名',
    name varchar(10) comment '姓名',
    age int comment '年龄',
    gender char(1) default '男' comment '性别'
) comment '用户表';</code></pre> 
<p>在运行之前删除刚才所创建的表结构，然后再来执行新创建的表。</p> 
<p><img alt="" height="546" src="https://images2.imgbox.com/dd/76/F1oJMeiE_o.png" width="865"></p> 
<p><img alt="" height="307" src="https://images2.imgbox.com/31/3e/hrPr9ddD_o.png" width="1200"> generated：自动增长的意思。</p> 
<p><img alt="" height="270" src="https://images2.imgbox.com/75/59/iXV56FBm_o.png" width="1200"></p> 
<h4 id="2.2%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span style="color:#fe2c24;"><strong>2.2 MySQL-DDL-表结构操作-数据类型</strong></span></h4> 
<p><span style="color:#0d0016;">导学：创建表结构的时候所需要指定的字段的数据类型以及各种数据类型之间的区别是什么，以               及如何来选择合适的数据类型。</span></p> 
<p><span style="background-color:#f9eda6;">char()和varchar()都是用来描述字符串的，这两种数据类型之间又有什么区别呢？</span></p> 
<p>掌握MySQL当中常见的数据类型以及它们的区别：</p> 
<p>在上面建表语句中，我们在指定字段的数据类型时，用到了int 、varchar、char，那么在MySQL中除了以上的数据类型，还有哪些常见的数据类型呢？ 接下来,我们就来详细介绍一下MySQL的数据类型。</p> 
<p>MySQL中的数据类型有很多，主要分为三类：<span style="color:#fe2c24;"><strong>数值类型、字符串类型、日期时间类型。</strong></span></p> 
<p><span style="color:#fe2c24;"><strong>在SQL语句当中，字符串以及日期时间类型都需要引号引起来，单引号双引号都可以。</strong></span></p> 
<h5 id="%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span style="color:#fe2c24;"><strong>数值类型</strong></span></h5> 
<table><thead><tr><th>类型</th><th>大小</th><th><span style="color:#fe2c24;">有符号(SIGNED)范围</span></th><th style="width:219px;"><span style="color:#fe2c24;">无符号(UNSIGNED)范围</span></th><th style="width:76px;">描述</th></tr></thead><tbody><tr><td><span style="color:#fe2c24;"><strong>TINYINT / tinyint</strong></span></td><td>1byte</td><td><span style="color:#fe2c24;"><strong>(-128，127)</strong></span></td><td style="width:219px;"><span style="color:#fe2c24;"><strong>(0，255)</strong></span></td><td style="width:76px;">小整数值</td></tr><tr><td>SMALLINT / smallint</td><td>2bytes</td><td>(-32768，32767)</td><td style="width:219px;">(0，65535)</td><td style="width:76px;">大整数值</td></tr><tr><td> <p>MEDIUMINT /</p> <p>mediumint</p> </td><td>3bytes</td><td>(-8388608，8388607)</td><td style="width:219px;">(0，16777215)</td><td style="width:76px;">大整数值</td></tr><tr><td> <p><span style="color:#fe2c24;"><strong>INT/INTEGER</strong></span></p> <p><span style="color:#fe2c24;"><strong>int / integer</strong></span></p> </td><td>4bytes</td><td>(-2147483648，2147483647)</td><td style="width:219px;">(0，4294967295)</td><td style="width:76px;">大整数值</td></tr><tr><td><span style="color:#fe2c24;"><strong>BIGINT / bigint</strong></span></td><td>8bytes</td><td>(-2^63，2^63-1)</td><td style="width:219px;">(0，2^64-1)</td><td style="width:76px;">极大整数值</td></tr><tr><td>FLOAT / float</td><td>4bytes</td><td>(-3.402823466 E+38，3.402823466351 E+38)</td><td style="width:219px;">0 和 (1.175494351 E-38，3.402823466 E+38)</td><td style="width:76px;">单精度浮点数值</td></tr><tr><td><span style="color:#fe2c24;"><strong>DOUBLE / double</strong></span></td><td>8bytes</td><td>(-1.7976931348623157 E+308，1.7976931348623157 E+308)</td><td style="width:219px;">0 和 (2.2250738585072014 E-308，1.7976931348623157 E+308)</td><td style="width:76px;">双精度浮点数值</td></tr><tr><td>DECIMAL / decimal</td><td></td><td>依赖于M(精度)和D(标度)的值</td><td style="width:219px;">依赖于M(精度)和D(标度)的值</td><td style="width:76px;">小数值(精确定点数)</td></tr></tbody></table> 
<p> <img alt="" height="134" src="https://images2.imgbox.com/68/15/gsTEHvAQ_o.png" width="592"></p> 
<ul><li><span style="color:#fe2c24;"><strong>在整形中我们默认使用的都是[有符号]的，当然我们也可以加上unsigned关键字，定义成无符号的类型，那么对应的取值范围就会发生改变。 比如：tinyint unsigned的取值范围为0~255。</strong></span></li><li><span style="background-color:#f9eda6;">所谓有符号取值范围指的是允许出现负数的话，它的取值范围是多少。</span></li><li><span style="background-color:#f9eda6;">而无符号取值范围指的就是如果不允许出现负数，它的取值范围又是多少。</span></li><li><span style="background-color:#f9eda6;">无论是有符号取值范围还是无符号取值范围，它们的取值范围的宽度都是一样的，只不过就是在无符号取值范围当中就是将有符号取值范围负数的这一部分宽度是扩充到了正数这一部分而已。</span></li><li><span style="color:#fe2c24;"><strong>随便写一个数值类型默认是有符号的，如果想指定的是无符号的，需要在数值类型后面加unsigned，这就代表这个数值类型它是一个无符号的。</strong></span></li><li> <p><span style="color:#fe2c24;"><strong>unsigned：无符号的，无符号整数</strong></span></p> </li><li> <p><span style="color:#0d0016;"><span style="background-color:#f9eda6;">在进行浮点数运算的时候是很容易出现精度损失问题的，所以在JDK当中给我们提供了一个类叫做BigDecimal，而在MySQL当中也给我们提供了一种数据类型，叫做Decimal，这种数据类型它在底层是以字符串的形式来处理小数的，这样就可以避免精度损失。</span></span></p> </li><li> <p><span style="color:#0d0016;"><span style="background-color:#f9eda6;">在指定float，double，decimal这三种数据类型的时候，需要指定两个参数，分别是整个数字的长度(整数位 + 小数位)以及小数位个数。</span></span></p> </li><li> <p><span style="color:#0d0016;"><span style="background-color:#f9eda6;">所谓整个数字长度指的是整数位+小数位，小数位也就是说最多只能保留x位小数</span></span></p> </li></ul> 
<pre><code class="language-sql">示例: 
    年龄字段 ---不会出现负数, 而且人的年龄不会太大
	age tinyint unsigned
	
	分数 ---总分100分, 最多出现一位小数
	score double(4,1)</code></pre> 
<ul><li> <p><span style="color:#0d0016;"><span style="background-color:#f9eda6;">我们要尽可能在业务允许的情况下选择占用磁盘小的数据类型，这样就可以节省磁盘空间。</span></span></p> </li></ul> 
<h5 id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span style="color:#fe2c24;"><strong>字符串类型</strong></span></h5> 
<table><thead><tr><th>类型</th><th>大小</th><th>描述</th></tr></thead><tbody><tr><td><span style="color:#fe2c24;"><strong>char</strong></span></td><td>0-255 bytes</td><td><span style="color:#fe2c24;"><strong>定长字符串</strong></span>(需要指定长度)</td></tr><tr><td><span style="color:#fe2c24;"><strong>varchar</strong></span></td><td>0-65535 bytes</td><td><span style="color:#fe2c24;"><strong>变长字符串</strong></span>(需要指定长度)</td></tr><tr><td> <p>TINYBLOB /  tinyblob</p> </td><td>0-255 bytes</td><td>不超过255个字符的二进制数据</td></tr><tr><td>TINYTEXT / tinytext</td><td>0-255 bytes</td><td>短文本字符串</td></tr><tr><td>BLOB / blob</td><td>0-65 535 bytes</td><td>二进制形式的长文本数据</td></tr><tr><td>TEXT / text</td><td>0-65 535 bytes</td><td>长文本数据</td></tr><tr><td>MEDIUMBLOB</td><td>0-16 777 215 bytes</td><td>二进制形式的中等长度文本数据</td></tr><tr><td>MEDIUMTEXT</td><td>0-16 777 215 bytes</td><td>中等长度文本数据</td></tr><tr><td>LONGBLOB</td><td>0-4 294 967 295 bytes</td><td>二进制形式的极大文本数据</td></tr><tr><td>LONGTEXT</td><td>0-4 294 967 295 bytes</td><td>极大文本数据</td></tr></tbody></table> 
<p><span style="color:#fe2c24;"><strong>char(10) --- 定长字符串: 最多只能存10个字符</strong></span>，如果<span style="color:#fe2c24;"><strong>超出十个字符它直接报错</strong></span>，<span style="color:#fe2c24;"><strong>如果不足10个字符，它也会占用10个字符空间，其它空位它会使用空字符来占位。</strong></span><span style="color:#0d0016;">举例，如果你存储的是AB，它依然占用十个空间，其它的八位它也会使用空字符来占位，也就是说，只要你存储的字符数是小于等于10的，全部占十个空间，而如果你存储超过了十个字符，它就直接报错了。</span></p> 
<p><span style="color:#fe2c24;"><strong>varchar(10) --- 变长字符串：最多只能存10个字符</strong></span>，如果<span style="color:#fe2c24;"><strong>超出十个字符它直接报错</strong></span>，<span style="color:#fe2c24;"><strong>如果不足10个字符, 它需要判断字符的长度，按照实际长度存储。</strong></span><span style="color:#0d0016;">举例：假如说我就存储一个A，它就只会占用一个字符空间；如果存储的是AB，它就会占用两个字符空间；如果存储的是ABC，它就只会占用三个字符空间。varchar()最大容量为65535个字节！</span></p> 
<ul><li><span style="color:#fe2c24;"><strong>单表最大行限制65535个字节！</strong></span></li></ul> 
<p><strong><span style="color:#fe2c24;">char()与varchar()区别：</span></strong></p> 
<ul><li><span style="color:#0d0016;"><span style="background-color:#f9eda6;">对于char()这种数据类型来说</span>，相对于varchar()<span style="background-color:#f9eda6;">它不需要判断字符的长度，所以它的性能相对来说会高一点</span>。<span style="background-color:#f9eda6;">而对于varchar()来说，它的性能相对来说会低一点，因为它需要去判断字符的长度，根据实际长度进行存储。</span></span></li><li><span style="color:#0d0016;">但是，<span style="background-color:#f9eda6;">对于varchar()来说，由于它是按照实际长度存储的，所以它会更节省空间一些。</span>而对于<span style="background-color:#f9eda6;">char(10)来说，我即使存储一个字符，它也占用十个空间，我存储两个字符，它也占用十个空间，所以相对来说会浪费空间一些。</span></span></li><li><span style="color:#fe2c24;"><strong>char()就是所谓的使用空间来换时间，而varchar()就是使用时间来换空间。</strong></span><br>  </li><li><span style="color:#fe2c24;"><strong><em>长度固定选择char()，长度不固定选择varchar()。</em></strong></span></li></ul> 
<p><span style="color:#fe2c24;"><strong>char 与 varchar 都可以描述字符串：</strong></span></p> 
<ul><li><span style="background-color:#f9eda6;">char是定长字符串，指定长度多长，就占用多少个字符，和字段值的长度无关 。</span></li><li><span style="background-color:#f9eda6;">而varchar是变长字符串，指定的长度为最大占用长度 。相对来说，char的性能会更高些。</span></li></ul> 
<p><img alt="" height="463" src="https://images2.imgbox.com/18/c2/cKwlY1dE_o.png" width="790"><img alt="" height="106" src="https://images2.imgbox.com/68/e4/IDYiNoDq_o.png" width="951">对于下面这些数据类型，主要是分为两类：一个是blob后缀，一个是text后缀。</p> 
<p><span style="background-color:#f9eda6;">如果是blob后缀，存储的是二进制的数据</span>，比如我们要存储一些视频，音频这些文件，我们就可以使用blob后缀的这种数据类型。而<span style="background-color:#f9eda6;">在真实的企业开发当中，像图片，音频，视频这些文件，其实并不会直接存储在数据库当中，而是存储在专业的文件服务器当中，所以blob后缀的这些数据类型其实也是非常少用的。</span></p> 
<p><span style="background-color:#f9eda6;">而text后缀它是存储的是文本字符串。比如我们要存储一篇长篇小说，那我们就可以使用带text后缀的这些数据类型。</span></p> 
<p>而<span style="background-color:#f9eda6;">不同的数据类型它能够支持的存储范围也是不一样的。</span></p> 
<pre><code class="language-sql">示例： 
    用户名 username ---长度不定, 最长不会超过20
	username varchar(20)
	
	手机号 phone ---固定长度为11
	phone char(11)</code></pre> 
<h5 id="%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span style="color:#fe2c24;"><strong>日期时间类型</strong></span></h5> 
<table><thead><tr><th>类型</th><th>大小</th><th style="width:243px;">范围</th><th style="width:127px;">格式</th><th style="width:180px;">描述</th></tr></thead><tbody><tr><td><strong><span style="color:#fe2c24;">DATE</span></strong></td><td>3</td><td style="width:243px;">1000-01-01 至 9999-12-31</td><td style="width:127px;"><span style="color:#fe2c24;"><strong>YYYY-MM-DD</strong></span></td><td style="width:180px;">日期值</td></tr><tr><td>TIME</td><td>3</td><td style="width:243px;">-838:59:59 至 838:59:59</td><td style="width:127px;">HH:MM:SS</td><td style="width:180px;">时间值或持续时间</td></tr><tr><td>YEAR</td><td>1</td><td style="width:243px;">1901 至 2155</td><td style="width:127px;">YYYY</td><td style="width:180px;">年份值</td></tr><tr><td><span style="color:#fe2c24;"><strong>DATETIME</strong></span></td><td>8</td><td style="width:243px;">1000-01-01 00:00:00 至 9999-12-31 23:59:59</td><td style="width:127px;"><strong><span style="color:#fe2c24;">YYYY-MM-DD HH:MM:SS</span></strong></td><td style="width:180px;">混合日期和时间值</td></tr><tr><td>TIMESTAMP</td><td>4</td><td style="width:243px;">1970-01-01 00:00:01 至 2038-01-19 03:14:07</td><td style="width:127px;">YYYY-MM-DD HH:MM:SS</td><td style="width:180px;">混合日期和时间值，时间戳</td></tr></tbody></table> 
<pre><code class="language-sql">示例: 
    生日字段  birthday ---生日只需要年月日  
    birthday date
    
    创建时间 createtime --- 需要精确到时分秒
    createtime  datetime    /    update_time  datetime</code></pre> 
<p><img alt="" height="279" src="https://images2.imgbox.com/ac/3e/xzo77dJe_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong>2.3.1.4 案例 </strong></span></p> 
<p>导学：怎么样基于图形化界面的方式去创建表结构 ？我们怎么样去设计一张表，设计一张表的基               本依据和流程是什么？</p> 
<p>表结构创建的语法、约束以及数据类型都已经学习完了，接下来就来完成一个案例，通过这个案例要<span style="background-color:#f9eda6;">能够掌握图形化工具的方式来创建表结构，并清楚表结构的设计依据以及基本流程。</span></p> 
<p>需求：根据产品原型/需求创建表(设计合理的数据类型、长度、约束)</p> 
<p>案例需求：<span style="color:#0d0016;"><span style="background-color:#f9eda6;">根据页面原型以及需求来创建表，为这张表结构要设计合理的数据类型，合理的字段    </span>                  <span style="background-color:#f9eda6;">长度以及约束。</span></span></p> 
<ul><li>资料中提供的《黑马-tlias智能学习辅助系统》页面原型，设计员工管理模块的表结构(暂不考虑所属部门字段)</li></ul> 
<p><span style="background-color:#f9eda6;">产品的页面原型及需求文档如下： </span></p> 
<p><img alt="" height="843" src="https://images2.imgbox.com/ee/7c/qfNf51DX_o.png" width="1200"></p> 
<p><span style="background-color:#f9eda6;">在新增员工这个对话框当中承载了这么一个form表单：</span></p> 
<p><img alt="" height="590" src="https://images2.imgbox.com/c2/77/N0qC9tud_o.png" width="645"></p> 
<figure class="image"> 
 <img alt="" height="828" src="https://images2.imgbox.com/34/df/1lNUpk80_o.png" width="1073"> 
 <figcaption> 
  <strong>需求文档</strong> 
 </figcaption> 
</figure> 
<p>我们要设计的这张表是用来存储员工信息的，也就是员工表。那我们要<span style="color:#0d0016;"><span style="background-color:#f9eda6;">设计这张表，我们就得清楚这张表当中包括哪些字段，各个字段的类型，字段的长度限制，字段的约束。</span></span></p> 
<p>所以，我们<span style="background-color:#f9eda6;">在设计表结构的时候只需要根据页面原型以及需求文档当中的这些描述来定义表结构当中的字段以及约束就可以。</span></p> 
<p><span style="color:#fe2c24;"><strong>步骤：</strong></span></p> 
<ol><li><span style="background-color:#f9eda6;">阅读(参照)产品原型及需求文档，看看里面涉及到哪些字段。</span></li><li><span style="background-color:#f9eda6;">查看需求文档说明，确认各个字段的类型以及字段存储数据的长度限制。</span></li><li><span style="background-color:#f9eda6;">在页面原型中描述的基础字段的基础上，再增加额外的基础字段。</span></li></ol> 
<p><span style="background-color:#f9eda6;">我们创建一张表上来之后，我们先加一个字段就是id，id就是这一行数据的唯一标识，comment：主键ID。</span></p> 
<p>使用SQL创建表：</p> 
<pre><code class="language-sql">create table emp (
  id int unsigned primary key auto_increment comment 'ID',
  username varchar(20) not null unique comment '用户名',
  password varchar(32) default '123456' comment '密码',
  name varchar(10) not null comment '姓名',
  gender tinyint unsigned not null comment '性别, 说明: 1 男, 2 女',
  image varchar(300) comment '图像',
  job tinyint unsigned comment '职位, 说明: 1 班主任,2 讲师, 3 学工主管, 4 教研主管',
  entrydate date comment '入职时间',
  create_time datetime not null comment '创建时间',
  update_time datetime not null comment '修改时间'
) comment '员工表';</code></pre> 
<p><span style="background-color:#f9eda6;">直接基于图形化界面方式来操作这也是现在企业项目开发当中创建表结构的主要方式。<br> 除了使用SQL语句创建表外，我们还可以借助于图形化界面来创建表结构，这种创建方式会更加直观、更加方便。</span></p> 
<p><span style="color:#fe2c24;"><strong>操作步骤如下：</strong></span></p> 
<p> 1. <span style="background-color:#f9eda6;">在指定操作的数据库上，右键New ==&gt; Table</span></p> 
<p><img alt="" height="482" src="https://images2.imgbox.com/1d/e4/oK2INuFA_o.png" width="825"></p> 
<p> 2. <span style="background-color:#f9eda6;">编辑表结构的相关信息</span></p> 
<p><img alt="" height="771" src="https://images2.imgbox.com/cd/51/3y4kqOe6_o.png" width="846"></p> 
<p><span style="background-color:#f9eda6;">我们创建一张表上来之后，我们先加一个字段就是id，id就是这一行数据的唯一标识，comment：主键ID。</span></p> 
<figure class="image"> 
 <img alt="为该字段添加注释信息" height="721" src="https://images2.imgbox.com/49/8d/wY4Mrq0k_o.png" width="735"> 
 <figcaption> 
  <strong>为该字段添加注释信息​</strong> 
 </figcaption> 
</figure> 
<p><img alt="" height="420" src="https://images2.imgbox.com/e3/9d/mHuB8Mz3_o.png" width="1200"></p> 
<ul><li>在性别当中，它要存储的就是男或者女，马上想到字符串char(1)，但是在项目开发阶段，我们一般并不会直接这么去存，因为我们在界面展示的时候，有时候这个性别我们要展示的是男性女性，有时候要展示的是男士女士，有时候可能展示的还是英文的很灵活，所以在数据库当中我们并不会直接存储男或者是女，我可以<span style="background-color:#f9eda6;">存储一个数字，使用编号来存储</span>，比如我就约定用1来代表男，来代表女，那也就意味着<span style="background-color:#f9eda6;">这个字段要么存1，要么存2，那我就可以使用范围最小的整型 --- tinyint，而由于gender性别里面它存储的就是1或者是2，而且不需要存储负数，所以在后面可以加上关键字 --- unsigned，代表着是一个无符号的tinyint。</span></li><li>图像就是图片，它的字段类型我们需要做一个说明：这里<span style="background-color:#f9eda6;">并不是直接存图片，而是存储图片的访问路径，我们打开浏览器可以看到每一张图片它都有对应的访问路径，我们存储的其实这个图片的访问路径，就是一个字符串，而且这个字符串是比较长的而且也不是固定长度的，所以我们可以设置一个varchar()类型，存储的就是图片的访问路径。</span></li><li><span style="background-color:#f9eda6;">对于我们这一类后台管理系统的表结构来说，我们一般都会在表结构当中先加两个通用字段，一个是创建时间，一个是修改时间。</span></li><li><span style="background-color:#f9eda6;">创建时间它是用来记录这条数据产生的时间，也就是插入的时间。</span></li><li><span style="background-color:#f9eda6;">而修改时间，代表的是每一次修改我都需要更新一下这个时间，将其更新为当前时间。</span> </li></ul> 
<p><span style="color:#fe2c24;"><strong>2.3.1.5 设计表流程</strong></span></p> 
<ul><li><span style="background-color:#f9eda6;">直接基于页面原型所分析出来的这些字段我们叫原型字段。</span>那我们就可以分析出这些字段它的类型，我们要给这些字段建立什么样的约束，这些基于我们所提供的页面原型以及需求文档都可以分析出来。</li><li>那<span style="background-color:#f9eda6;">分析出来之后，我们还需要再加上一部分基础字段：比如像id这样的主键字段，create_time、update_time这样的基础字段。</span></li><li><span style="background-color:#f9eda6;">原型字段再加上这一部分基础字段之后，就组成了这样一个表结构，这就是我们表结构设计的基本流程。</span></li></ul> 
<p><span style="color:#fe2c24;"><strong>说明：</strong></span></p> 
<ul><li><span style="background-color:#f9eda6;">create_time --- 创建 / 插入时间：记录的是当前这条数据插入的时间。 </span></li><li> <p><span style="background-color:#f9eda6;">update_time --- 修改 / 更新时间：记录当前这条数据最后更新的时间。</span></p> </li><li> <p><span style="background-color:#f9eda6;">我们每一次更新这条数据，都需要将update_time更新为当前时间。</span></p> </li></ul> 
<p>通过上面的案例，我们明白了，设计一张表，基本的流程如下：</p> 
<ol><li><span style="background-color:#f9eda6;">阅读页面原型及需求文档</span></li><li><span style="background-color:#f9eda6;">基于页面原则和需求文档，确定原型字段(类型、长度限制、约束)</span></li><li><span style="background-color:#f9eda6;">分析出这些原型字段之后再增加表设计所需要的业务基础字段(id主键、插入时间、修改时间 / 更新时间）就组成了一张完整的表结构。</span></li></ol> 
<figure class="image"> 
 <img alt="" height="626" src="https://images2.imgbox.com/05/23/vEbNBn2c_o.png" width="1200"> 
 <figcaption> 
  <strong>设计表结构的基本流程</strong> 
 </figcaption> 
</figure> 
<h3 id="2.3.1%20MySQL-DDL-%E8%A1%A8%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C-%E6%9F%A5%E8%AF%A2%26%E4%BF%AE%E6%94%B9%26%E5%88%A0%E9%99%A4"><span style="color:#fe2c24;">2.3.1 MySQL-DDL-表结构操作-查询&amp;修改&amp;删除</span></h3> 
<p><span style="color:#0d0016;">表结构的查询，修改和删除操作：对于这一部分的DDL语句，可以不做重点掌握，但是需要掌握的是图形化界面的操作方式。</span></p> 
<h4 id="2.3.2%20%E8%A1%A8%E7%BB%93%E6%9E%84%E7%9A%84%E6%9F%A5%E8%AF%A2" style="background-color:transparent;"><span style="color:#fe2c24;"><strong>2.3.2 表结构的查询</strong></span></h4> 
<p><span style="color:#0d0016;">表结构的查询这里涉及到三条SQL语句：</span></p> 
<p><img alt="" height="386" src="https://images2.imgbox.com/9f/9e/9HfmHXQ9_o.png" width="1038"></p> 
<ul><li><span style="background-color:#f9eda6;">关于表结构的查询操作，工作中一般都是直接基于图形化界面操作。  </span></li></ul> 
<pre><code class="language-sql">
-- DDL:查看表结构
-- 查看:查询当前数据库下所有的表
show tables;

-- 查看:查看指定表的表结构
desc tb_emp;

-- 查看:数据库的建表语句
show create table tb_emp;

</code></pre> 
<p> <span style="color:#fe2c24;"><strong>查询当前数据库所有表：show tables;</strong></span></p> 
<p><img alt="" height="349" src="https://images2.imgbox.com/13/28/jscrtJt0_o.png" width="486"></p> 
<p><span style="color:#fe2c24;"><img alt="" height="220" src="https://images2.imgbox.com/de/c2/mVG4AnHV_o.png" width="1200"></span></p> 
<p><span style="color:#fe2c24;"><strong>查看指定表结构：desc 表名 ;</strong></span></p> 
<p><span style="color:#0d0016;">desc 表名 ;   查看指定的表结构</span></p> 
<p><span style="color:#0d0016;">可以查看指定表的字段、每个字段的类型以及这个字段是否可以为NULL / 存null值，以及这个字段是否存在 / 有默认值等信息。</span></p> 
<p><img alt="" height="626" src="https://images2.imgbox.com/6b/9a/JRY3tcgL_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong>查询指定表的建表语句：show create table 表名 ;</strong></span></p> 
<p><img alt="" height="595" src="https://images2.imgbox.com/c8/74/j8Mn4STN_o.png" width="1200"></p> 
<p><img alt="" height="388" src="https://images2.imgbox.com/7b/40/Hw1wAxW2_o.png" width="1154"> <img alt="" height="461" src="https://images2.imgbox.com/9c/5b/KrSMjpPI_o.png" width="1156"></p> 
<p><img alt="" height="423" src="https://images2.imgbox.com/f3/9d/k7yJM1ry_o.png" width="743"> <img alt="" height="629" src="https://images2.imgbox.com/bf/02/2p3SYLUD_o.png" width="1182"></p> 
<h3 id="%C2%A02.3.3%20%E4%BF%AE%E6%94%B9" style="background-color:transparent;"> <span style="color:#fe2c24;"><strong>2.3.3 修改表结构</strong></span></h3> 
<ul><li><span style="color:#0d0016;">关于表结构的修改操作，工作中一般都是直接基于图形化界面操作。 </span></li><li><span style="color:#0d0016;"><span style="background-color:#f9eda6;">修改表结构，主要涉及到两个部分，一个部分就是关于表中字段的操作，另外一个方面就是表名的操作。</span></span></li><li><span style="color:#0d0016;"><span style="background-color:#f9eda6;">我们</span></span><span style="color:#fe2c24;"><strong>要修改某一张表当中的字段，前面都需要加上一个关键字：alter  table</strong></span><span style="color:#0d0016;">，<span style="background-color:#f9eda6;">后面指定我们要操作哪一个表名。</span></span></li><li><span style="color:#fe2c24;"><strong>如果是添加字段，后面跟上关键字add，后面指定字段的信息</strong></span></li><li><span style="color:#fe2c24;"><strong>如果是修改字段类型，需要用到的关键字是modify，后面跟上字段的描述信息。</strong></span></li><li><span style="color:#fe2c24;"><strong>如果需要修改字段名，我们需要加上关键字change，后面跟上字段的描述信息。</strong></span></li><li><span style="color:#fe2c24;"><strong>如果是删除字段，后面跟上关键字drop column，后面跟上字段名。</strong></span></li><li>这是关于表中字段的操作。</li><li><span style="color:#fe2c24;"><strong>如果是修改表名，我们只需要通过关键字rename  table   指定要操作的表名   to之后跟上新的表名。</strong></span></li><li><span style="color:#fe2c24;"><strong>alter：修改</strong></span></li></ul> 
<p><img alt="" height="486" src="https://images2.imgbox.com/0e/59/jPwNuBcE_o.png" width="1200"></p> 
<pre><code class="language-sql">-- DDL:修改表结构
-- 修改:为表 tb_emp 添加字段 qq varchar(11)
alter table tb_emp add qq varchar(11) comment 'QQ';

-- 修改:修改 tb_emp 字段类型 qq varchar(13)
alter table tb_emp modify qq varchar(13) comment 'QQ';

-- 修改:修改 tb_emp 字段名 qq 为 qq_num varchar(13)
alter table tb_emp change qq qq_num varchar(13) comment 'QQ';

-- 修改:删除 tb_emp 的 qq_num字段
alter table tb_emp drop column qq_num;

-- 修改:将tb_emp 表名修改为emp
rename table tb_emp to emp;</code></pre> 
<p><span style="color:#fe2c24;"><strong> 添加字段</strong></span></p> 
<pre><code class="language-sql">alter table 表名 add  字段名  类型(长度)  [comment 注释]  [约束];</code></pre> 
<p> 案例： 为tb_emp表添加字段qq，字段类型为 varchar(11)</p> 
<pre><code class="language-sql">alter table tb_emp add  qq  varchar(11) comment 'QQ号码';</code></pre> 
<p> 图形化操作：添加字段</p> 
<p><img alt="" height="541" src="https://images2.imgbox.com/05/35/uGCnbADe_o.png" width="1200"></p> 
<p><img alt="" height="771" src="https://images2.imgbox.com/21/f4/IG0LtOaN_o.png" width="846"></p> 
<p><span style="color:#fe2c24;"> <strong>修改数据类型</strong></span></p> 
<pre><code class="language-sql">alter table 表名 modify  字段名  新数据类型(长度);</code></pre> 
<pre><code class="language-sql">alter table 表名 change  旧字段名  新字段名  类型(长度)  [comment 注释]  [约束];</code></pre> 
<p>案例：修改qq字段的字段类型，将其长度由11修改为13</p> 
<pre><code class="language-sql">alter table tb_emp modify qq varchar(13) comment 'QQ号码';</code></pre> 
<p> 案例：修改qq字段名为 qq_num，字段类型varchar(13)</p> 
<pre><code class="language-sql">alter table tb_emp change qq qq_num varchar(13) comment 'QQ号码';</code></pre> 
<p>图形化操作：修改数据类型和字段名</p> 
<p><img alt="" height="771" src="https://images2.imgbox.com/69/7c/5Lm0cw3m_o.png" width="846"></p> 
<p><img alt="" height="771" src="https://images2.imgbox.com/20/cb/8LKo5It7_o.png" width="846"></p> 
<p><span style="color:#fe2c24;"> <strong>删除字段</strong> </span></p> 
<pre><code class="language-sql">alter table 表名 drop 字段名;</code></pre> 
<p>案例：删除tb_emp表中的qq_num字段</p> 
<pre><code class="language-sql">alter table tb_emp drop qq_num;</code></pre> 
<p>图形化操作：删除字段</p> 
<p><img alt="" height="771" src="https://images2.imgbox.com/6c/8f/pmApgx9p_o.png" width="846"></p> 
<p><span style="color:#fe2c24;"><strong>修改表名 </strong></span></p> 
<pre><code class="language-sql">rename table 表名 to  新表名;</code></pre> 
<p>案例：将当前的tb_emp表的表名修改为emp</p> 
<pre><code class="language-sql">rename table tb_emp to emp;</code></pre> 
<p>图形化操作：修改表名</p> 
<p><img alt="" height="481" src="https://images2.imgbox.com/90/55/Rm5yxsKo_o.png" width="1200"></p> 
<p></p> 
<h4 id="2.3.4%20%E5%88%A0%E9%99%A4"><span style="color:#fe2c24;">2.3.4 删除</span></h4> 
<p><span style="color:#0d0016;">关于表结构的删除操作，工作中一般都是直接基于图形化界面操作。 </span></p> 
<p><img alt="" height="313" src="https://images2.imgbox.com/64/36/yEekY4Od_o.png" width="575"></p> 
<h5><span style="color:#fe2c24;"> 删除表语法：</span></h5> 
<pre><code class="language-sql">drop  table [ if exists ]  表名;</code></pre> 
<blockquote> 
 <ul><li>if exists ：只有表名存在时才会删除该表，表名不存在，则不执行删除操作(如果不加该参数项，删除一张不存在的表，执行将会报错)。</li><li>注意：<span style="background-color:#f9eda6;">当我们在删除表结构的时候，表中的全部数据也都会被删除。</span></li></ul> 
</blockquote> 
<p>案例：如果tb_emp表存在，则删除tb_emp表</p> 
<pre><code class="language-sql">drop table if exists tb_emp;  -- 在删除表时，表中的全部数据也会被删除。</code></pre> 
<p>图形化操作：删除表</p> 
<p><img alt="" height="525" src="https://images2.imgbox.com/ff/63/moTq5p7b_o.png" width="733"></p> 
<h4 id="%C2%A0%E5%B0%8F%E7%BB%93%EF%BC%9A"> <span style="color:#fe2c24;"><strong>小结：</strong></span></h4> 
<p><img alt="" height="256" src="https://images2.imgbox.com/c5/27/UiiRzNgQ_o.png" width="1197"></p> 
<ul><li>通过DDL语句来操作数据库以及操作表结构，也就是数据库设计部分的内容。</li><li><span style="color:#fe2c24;"><strong>在实际的项目开发当中，DDL语句的操作已经被图形化界面工具替代了</strong></span>，而且使用图形化界面工具很方便的就可以来操作数据库以及表结构，</li></ul> 
<h5><span style="color:#fe2c24;">查看表结构：desc 表名；</span></h5> 
<p><img alt="" height="326" src="https://images2.imgbox.com/cb/08/E9A3nrYH_o.png" width="503"></p> 
<p>至此数据库设计部分的基础内容学习完毕！</p> 
<p><img alt="" height="750" src="https://images2.imgbox.com/0f/53/U4g8xQbE_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bbfb4f0ccc2b733625303d8121539cb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LeetCode刷题总结 - 剑指offer系列 - 持续更新</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a1091566aa2bc6af7c934ed338e543d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">彩票系统java</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>