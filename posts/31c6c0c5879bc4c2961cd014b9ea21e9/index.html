<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C# 使用 WebBrowser 编写一个简易的网页客户端 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C# 使用 WebBrowser 编写一个简易的网页客户端" />
<meta property="og:description" content="目录 一、创建项目二、窗体设计三、代码编写四、总结五、参考资料 用C#完成一个简易图形界面的基于 HTTP 协议的浏览器客户端软件。
编译环境：Windows 10
编写工具：Visual Studio 2019
编写语言：C#
一、创建项目 打开 VS2019，点击 “ 创建新项目 ”。 选择 C# 的 “ Windows 窗体应用 ”，然后点击 “ 下一步 ”。 输入项目名称，选择保存路径，然后点击 “ 创建 ”。 创建完毕如下图： 二、窗体设计 添加 MenuStrip 控件到窗口中，作为菜单栏，并添加如下的下拉选项。 有一点需要注意，记得更改控件 ID ，不能含中文。 添加 ToolStrip 控件到窗口中，作为工具栏，如图所示： 然后添加一些工具项。 添加 StatusStrip 控件到窗口中，作为状态栏。 添加一个 StatusLabel（文本内容：当前状态）。 添加 WebBrowser 控件到窗口中，作为网页的显示界面。 大致的界面就设计完成，如果还需要细微调整的，可以自行调整。 三、代码编写 说明：
一、按钮类的控件，可以双击后转到代码编辑区；
二、如果出现部分红色波浪线的部分，可以点击 “ 显示修补程序 ” ，这是由于没有定义。
using System; using System.Collections.Generic; using System.Collections.Specialized; using System.ComponentModel; using System." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/31c6c0c5879bc4c2961cd014b9ea21e9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-28T21:31:54+08:00" />
<meta property="article:modified_time" content="2020-11-28T21:31:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C# 使用 WebBrowser 编写一个简易的网页客户端</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">一、创建项目</a></li><li><a href="#_19" rel="nofollow">二、窗体设计</a></li><li><a href="#_42" rel="nofollow">三、代码编写</a></li><li><a href="#_287" rel="nofollow">四、总结</a></li><li><a href="#_292" rel="nofollow">五、参考资料</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>用C#完成一个简易图形界面的基于 HTTP 协议的浏览器客户端软件。</p> 
</blockquote> 
<p>编译环境：Windows 10<br> 编写工具：Visual Studio 2019<br> 编写语言：C#</p> 
<h2><a id="_6"></a>一、创建项目</h2> 
<ul><li>打开 VS2019，点击 “ 创建新项目 ”。</li></ul> 
<p><img src="https://images2.imgbox.com/f6/3b/raP3pp5a_o.png" alt="在这里插入图片描述"></p> 
<ul><li>选择 C# 的 “ Windows 窗体应用 ”，然后点击 “ 下一步 ”。</li></ul> 
<p><img src="https://images2.imgbox.com/d9/0e/6qaEklYa_o.png" alt="在这里插入图片描述"></p> 
<ul><li>输入项目名称，选择保存路径，然后点击 “ 创建 ”。</li></ul> 
<p><img src="https://images2.imgbox.com/cb/e0/G0XDtXtx_o.png" alt="在这里插入图片描述"></p> 
<ul><li>创建完毕如下图：</li></ul> 
<p><img src="https://images2.imgbox.com/05/c0/K6JpATUn_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_19"></a>二、窗体设计</h2> 
<ul><li>添加 MenuStrip 控件到窗口中，作为菜单栏，并添加如下的下拉选项。</li></ul> 
<p><img src="https://images2.imgbox.com/95/d6/5pmtWoNt_o.png" alt="在这里插入图片描述"></p> 
<ul><li>有一点需要注意，记得更改控件 ID ，不能含中文。</li></ul> 
<p><img src="https://images2.imgbox.com/b6/e6/byOU3uhI_o.png" alt="在这里插入图片描述"></p> 
<ul><li>添加 ToolStrip 控件到窗口中，作为工具栏，如图所示：</li></ul> 
<p><img src="https://images2.imgbox.com/4e/af/WBpbM6Mo_o.png" alt="在这里插入图片描述"></p> 
<ul><li>然后添加一些工具项。</li></ul> 
<p><img src="https://images2.imgbox.com/78/e5/2mQL5dMy_o.png" alt="在这里插入图片描述"></p> 
<ul><li>添加 StatusStrip 控件到窗口中，作为状态栏。</li></ul> 
<p><img src="https://images2.imgbox.com/38/8b/ks0fuUYZ_o.png" alt="在这里插入图片描述"></p> 
<ul><li>添加一个 StatusLabel（文本内容：当前状态）。</li></ul> 
<p><img src="https://images2.imgbox.com/77/9f/0B8VvONG_o.png" alt="在这里插入图片描述"></p> 
<ul><li>添加 WebBrowser 控件到窗口中，作为网页的显示界面。</li></ul> 
<p><img src="https://images2.imgbox.com/38/5e/gG6e9iZV_o.png" alt="在这里插入图片描述"></p> 
<ul><li>大致的界面就设计完成，如果还需要细微调整的，可以自行调整。</li></ul> 
<h2><a id="_42"></a>三、代码编写</h2> 
<blockquote> 
 <p><code>说明：</code><br> 一、按钮类的控件，可以双击后转到代码编辑区；<br> 二、如果出现部分红色波浪线的部分，可以点击 “ 显示修补程序 ” ，这是由于没有定义。</p> 
</blockquote> 
<pre><code class="prism language-javascript">using System<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Specialized<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Drawing<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span><span class="token constant">IO</span><span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Linq<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks<span class="token punctuation">;</span>
using System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">;</span>

namespace WebShow
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> partial <span class="token keyword">class</span> <span class="token class-name">Form1</span> <span class="token punctuation">:</span> Form
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">public</span> <span class="token function">Form1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token function">Form1</span><span class="token punctuation">(</span>string url<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 打开用户主页.</span>
            <span class="token comment">// 以下事件在设计器中不可见.</span>
            webBrowser1<span class="token punctuation">.</span>CanGoBackChanged <span class="token operator">+=</span>
                <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>webBrowser1_CanGoBackChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
            webBrowser1<span class="token punctuation">.</span>CanGoForwardChanged <span class="token operator">+=</span>
                <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>webBrowser1_CanGoForwardChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
            webBrowser1<span class="token punctuation">.</span>DocumentTitleChanged <span class="token operator">+=</span>
                <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>webBrowser1_DocumentTitleChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
            webBrowser1<span class="token punctuation">.</span>StatusTextChanged <span class="token operator">+=</span>
                <span class="token keyword">new</span> <span class="token class-name">EventHandler</span><span class="token punctuation">(</span>webBrowser1_StatusTextChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">==</span> string<span class="token punctuation">.</span>Empty<span class="token punctuation">)</span>
                webBrowser1<span class="token punctuation">.</span><span class="token function">GoHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                webBrowser1<span class="token punctuation">.</span><span class="token function">Navigate</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//打开本地 html 文件</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem1_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            OpenFileDialog ofd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenFileDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例打开文件窗口对象</span>
            ofd<span class="token punctuation">.</span>Filter <span class="token operator">=</span> <span class="token string">"Htm文件(*.htm)|*.htm|Html文件(*.html)|*.html"</span><span class="token punctuation">;</span> <span class="token comment">//设置“另存为文件类型”或“文件类型”框中出现的选择内容</span>
            ofd<span class="token punctuation">.</span>FilterIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//设置默认显示文件类型为Jpg文件(*.jpg)|*.jpg</span>
            ofd<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">"选择Html文件"</span><span class="token punctuation">;</span> <span class="token comment">//获取或设置文件对话框标题</span>
            ofd<span class="token punctuation">.</span>InitialDirectory <span class="token operator">=</span> Application<span class="token punctuation">.</span>StartupPath<span class="token punctuation">;</span>
            ofd<span class="token punctuation">.</span>RestoreDirectory <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ofd<span class="token punctuation">.</span><span class="token function">ShowDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> DialogResult<span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                toolStripTextBox1<span class="token punctuation">.</span>Text <span class="token operator">=</span> ofd<span class="token punctuation">.</span>FileName<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//菜单栏——打印</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem2_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">ShowPrintDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//打印设置</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem3_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">ShowPageSetupDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//打印预览</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem4_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">ShowPrintPreviewDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//网页属性</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem5_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">ShowPropertiesDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//网页源码</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem6_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 显示网页源码的对话框显示出来</span>
            CodeView dialogCodeView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CodeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dialogCodeView<span class="token punctuation">.</span>Text <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>Url<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" - 原始源"</span><span class="token punctuation">;</span>
            dialogCodeView<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// 把网页源码显示在弹出的窗口中</span>
            <span class="token comment">// 首先解码</span>
            <span class="token comment">//StreamReader reader = new StreamReader(webBrowser1.DocumentStream, Encoding.GetEncoding("GB2312"));</span>
            <span class="token comment">//StreamReader reader = new StreamReader(webBrowser1.DocumentStream, Encoding.UTF8);</span>
            StreamReader reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StreamReader</span><span class="token punctuation">(</span>webBrowser1<span class="token punctuation">.</span>DocumentStream<span class="token punctuation">,</span> Encoding<span class="token punctuation">.</span>Default<span class="token punctuation">)</span><span class="token punctuation">;</span>
            dialogCodeView<span class="token punctuation">.</span>sourceCode <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">ReadToEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            reader<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//另存为</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem7_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">ShowSaveAsDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//退出</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ToolStripMenuItem8_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Application<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//后退</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton1_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">GoBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//前进</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton2_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">GoForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//主页</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton3_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">GoHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//刷新</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton4_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 如果地址为 "about:blank" , 避免刷新.</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>webBrowser1<span class="token punctuation">.</span>Url<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token string">"about:blank"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                webBrowser1<span class="token punctuation">.</span><span class="token function">Refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//前往</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton5_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">Navigate</span><span class="token punctuation">(</span>toolStripTextBox1<span class="token punctuation">.</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//停止</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton6_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//搜索</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton7_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">GoSearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//工具栏——打印</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripButton8_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            webBrowser1<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//文本框</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripTextBox1_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            toolStripTextBox1<span class="token punctuation">.</span><span class="token function">SelectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//文本框</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">toolStripTextBox1_KeyDown</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> KeyEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>KeyCode <span class="token operator">==</span> Keys<span class="token punctuation">.</span>Enter<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">Navigate</span><span class="token punctuation">(</span>toolStripTextBox1<span class="token punctuation">.</span>Text<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Navigate</span><span class="token punctuation">(</span>String address<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>address<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token string">"about:blank"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span>
            <span class="token punctuation">{<!-- --></span>
                webBrowser1<span class="token punctuation">.</span><span class="token function">Navigate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Uri</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">System<span class="token punctuation">.</span>UriFormatException</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_Navigated</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> WebBrowserNavigatedEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            toolStripTextBox1<span class="token punctuation">.</span>Text <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>Url<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_CanGoBackChanged</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            toolStripButton1<span class="token punctuation">.</span>Enabled <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>CanGoBack<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_CanGoForwardChanged</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            toolStripButton2<span class="token punctuation">.</span>Enabled <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>CanGoForward<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 用当前网页文档的标题取代窗口标题.</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_DocumentTitleChanged</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>Text <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>DocumentTitle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_StatusTextChanged</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            toolStripStatusLabel1<span class="token punctuation">.</span>Text <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>StatusText<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 单击程序中某个链接后会打开新窗口，此时就会执行NewWinow事件中的代码</span>
        <span class="token comment">// 通过此事件中的代码将打开新窗口中内容添加到本软件的webBrowser控件中显示</span>
        <span class="token comment">// 实现网页用我们自定义的浏览器显示</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">webBrowser1_NewWindow</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> System<span class="token punctuation">.</span>ComponentModel<span class="token punctuation">.</span>CancelEventArgs e<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            string newURL <span class="token operator">=</span> webBrowser1<span class="token punctuation">.</span>StatusText<span class="token punctuation">;</span>
            Form1 newform <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Form1</span><span class="token punctuation">(</span>newURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
            newform<span class="token punctuation">.</span>toolStripStatusLabel1<span class="token punctuation">.</span>Text <span class="token operator">=</span> <span class="token string">"正在打开网页 "</span> <span class="token operator">+</span> newURL <span class="token operator">+</span> <span class="token string">" ..."</span><span class="token punctuation">;</span>
            newform<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 使其他浏览器无法捕获此事件</span>
            <span class="token comment">// 阻止了其他浏览器显示网页，而是采用我们自定义的浏览器来显示</span>
            e<span class="token punctuation">.</span>Cancel <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>编译结果：</strong></p> 
<blockquote> 
 <p><code>说明：</code>以下页面是点击了 “ 主页 ” 之后显示的。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/37/bc/TNzOnfKl_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_287"></a>四、总结</h2> 
<p>目前我对 webBrowser 控件的使用还不太熟悉，还是多百度百度才能掌握，在网页显示方面，webBrowser 控件给程序员带来了极大的便利。<br> 另外，我将编写好的源代码上传到网盘，有需要的可以自行下载：<br> 链接：<a href="https://pan.baidu.com/s/1eHEqSc_oA-kxTL2SjGmHig" rel="nofollow">https://pan.baidu.com/s/1eHEqSc_oA-kxTL2SjGmHig</a><br> 提取码：ofvg</p> 
<h2><a id="_292"></a>五、参考资料</h2> 
<p><a href="https://blog.csdn.net/lvyiwuhen/article/details/92654448?locationNum=1&amp;fps=1">C# WebBrowser简易浏览器Demo</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c421a543c2a9972acbc836e95d7de335/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">centos 忘记root密码_CentOS7忘记root密码该怎么办？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2cae352e4373ef97487d3ba0aa14be35/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">delphi7无法编译已经使用的单元怎么解决_NVDLA 深度学习推理编译器现已开源</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>