<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>回调操作(Call Back)请求超时 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="回调操作(Call Back)请求超时" />
<meta property="og:description" content="错误信息：
发送到 net.tcp://10.10.77.28:8003/MyHello 的请求操作在配置的超时(00:01:00)内未收到回复。分配给该
操作的时间可能是更长超时的一部分。这可能由于服务仍在处理操作或服务无法发送回复消息。请考虑增加操
作超时(将通道/代理转换为 IContextChannel 并设置 OperationTimeout 属性)并确保服务能够连接到客户端。
解决：
在客户端应用程序中配置回调服务实现：[CallbackBehavior(UseSynchronizationContext = false)]
二、
问题：超时问题，在最后获取数据的时候突然提示服务超时，服务已断开
解决：配置文件添加：
&lt;bindings&gt; &lt;wsHttpBinding&gt; &lt;binding name=&#34;BindConfig&#34; closeTimeout=&#34;00:01:00&#34; openTimeout=&#34;00:01:00&#34; receiveTimeout=&#34;00:30:00&#34; sendTimeout=&#34;00:30:00&#34; bypassProxyOnLocal=&#34;false&#34; transactionFlow=&#34;false&#34; hostNameComparisonMode=&#34;StrongWildcard&#34; maxBufferPoolSize=&#34;524288&#34; maxReceivedMessageSize=&#34;65536&#34; messageEncoding=&#34;Text&#34; textEncoding=&#34;utf-8&#34; useDefaultWebProxy=&#34;true&#34; allowCookies=&#34;false&#34;&gt; &lt;readerQuotas maxDepth=&#34;32&#34; maxStringContentLength=&#34;8192&#34; maxArrayLength=&#34;16384&#34; maxBytesPerRead=&#34;4096&#34; maxNameTableCharCount=&#34;16384&#34; /&gt; &lt;reliableSession ordered=&#34;true&#34; inactivityTimeout=&#34;00:10:00&#34; enabled=&#34;false&#34; /&gt; &lt;security mode=&#34;None&#34;&gt; &lt;transport clientCredentialType=&#34;Windows&#34; proxyCredentialType=&#34;None&#34; realm=&#34;&#34; /&gt; &lt;message clientCredentialType=&#34;Windows&#34; negotiateServiceCredential=&#34;true&#34; algorithmSuite=&#34;Default&#34; establishSecurityContext=&#34;true&#34; /&gt; &lt;/security&gt; &lt;/binding&gt; 问题三：解决上述问题之后又出现了新问题，在服务端可以获取得到数据，但是到了客户端总是空，然后准备测试数据，在服务端只给一个int型的变量，客户端获取的到，但是一旦换成自己的自定义类，客户端就获取不到
解决：在服务端和客户端都要有自定义类，代码要一样，另外还要保证两个类的命名空间一致
如：服务端
[DataContract(Namespace = &#34;Rostering.BO&#34;)] [Serializable] public class NewAttendancePlan { [DataMember] public int AttendancePlan_Id { get; set; } } 客户端一样：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/77cd582267dccf1215007eb91bc7b6a4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-07-15T21:25:30+08:00" />
<meta property="article:modified_time" content="2016-07-15T21:25:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">回调操作(Call Back)请求超时</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>错误信息：</p> 
<p>发送到 net.tcp://10.10.77.28:8003/MyHello 的请求操作在配置的超时(00:01:00)内未收到回复。分配给该<br> <br> 操作的时间可能是更长超时的一部分。这可能由于服务仍在处理操作或服务无法发送回复消息。请考虑增加操<br> <br> 作超时(将通道/代理转换为 IContextChannel 并设置 OperationTimeout 属性)并确保服务能够连接到客户端。</p> 
<p> </p> 
<p>解决：</p> 
<p>在客户端应用程序中配置回调服务实现：[CallbackBehavior(UseSynchronizationContext = false)]</p> 
<p><br> </p> 
<p><br> </p> 
<p>二、</p> 
<p></p> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 问题：超时问题，在最后获取数据的时候突然提示服务超时，服务已断开</p> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 解决：配置文件添加：</p> 
<pre class="prettyprint xml" style="padding:0.3em; font-family:Monaco,Menlo,Consolas,'Courier New',monospace; color:rgb(51,51,51); margin-top:0px; margin-bottom:1.5em; line-height:1.5em; word-break:break-all; word-wrap:break-word; white-space:pre-wrap; overflow-y:auto; background-color:rgb(246,246,246)"><span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">bindings</span>&gt;</span>
      <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">wsHttpBinding</span>&gt;</span>
        <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">binding</span> <span class="attribute" style="color:rgb(0,128,128)">name</span>=<span class="value" style="color:rgb(221,17,68)">"BindConfig"</span> <span class="attribute" style="color:rgb(0,128,128)">closeTimeout</span>=<span class="value" style="color:rgb(221,17,68)">"00:01:00"</span>
            <span class="attribute" style="color:rgb(0,128,128)">openTimeout</span>=<span class="value" style="color:rgb(221,17,68)">"00:01:00"</span> <span class="attribute" style="color:rgb(0,128,128)">receiveTimeout</span>=<span class="value" style="color:rgb(221,17,68)">"00:30:00"</span> <span class="attribute" style="color:rgb(0,128,128)">sendTimeout</span>=<span class="value" style="color:rgb(221,17,68)">"00:30:00"</span>
            <span class="attribute" style="color:rgb(0,128,128)">bypassProxyOnLocal</span>=<span class="value" style="color:rgb(221,17,68)">"false"</span> <span class="attribute" style="color:rgb(0,128,128)">transactionFlow</span>=<span class="value" style="color:rgb(221,17,68)">"false"</span> <span class="attribute" style="color:rgb(0,128,128)">hostNameComparisonMode</span>=<span class="value" style="color:rgb(221,17,68)">"StrongWildcard"</span>
            <span class="attribute" style="color:rgb(0,128,128)">maxBufferPoolSize</span>=<span class="value" style="color:rgb(221,17,68)">"524288"</span> <span class="attribute" style="color:rgb(0,128,128)">maxReceivedMessageSize</span>=<span class="value" style="color:rgb(221,17,68)">"65536"</span>
            <span class="attribute" style="color:rgb(0,128,128)">messageEncoding</span>=<span class="value" style="color:rgb(221,17,68)">"Text"</span> <span class="attribute" style="color:rgb(0,128,128)">textEncoding</span>=<span class="value" style="color:rgb(221,17,68)">"utf-8"</span> <span class="attribute" style="color:rgb(0,128,128)">useDefaultWebProxy</span>=<span class="value" style="color:rgb(221,17,68)">"true"</span>
            <span class="attribute" style="color:rgb(0,128,128)">allowCookies</span>=<span class="value" style="color:rgb(221,17,68)">"false"</span>&gt;</span>
          <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">readerQuotas</span> <span class="attribute" style="color:rgb(0,128,128)">maxDepth</span>=<span class="value" style="color:rgb(221,17,68)">"32"</span> <span class="attribute" style="color:rgb(0,128,128)">maxStringContentLength</span>=<span class="value" style="color:rgb(221,17,68)">"8192"</span> <span class="attribute" style="color:rgb(0,128,128)">maxArrayLength</span>=<span class="value" style="color:rgb(221,17,68)">"16384"</span>
              <span class="attribute" style="color:rgb(0,128,128)">maxBytesPerRead</span>=<span class="value" style="color:rgb(221,17,68)">"4096"</span> <span class="attribute" style="color:rgb(0,128,128)">maxNameTableCharCount</span>=<span class="value" style="color:rgb(221,17,68)">"16384"</span> /&gt;</span>
          <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">reliableSession</span> <span class="attribute" style="color:rgb(0,128,128)">ordered</span>=<span class="value" style="color:rgb(221,17,68)">"true"</span> <span class="attribute" style="color:rgb(0,128,128)">inactivityTimeout</span>=<span class="value" style="color:rgb(221,17,68)">"00:10:00"</span>
              <span class="attribute" style="color:rgb(0,128,128)">enabled</span>=<span class="value" style="color:rgb(221,17,68)">"false"</span> /&gt;</span>
          <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">security</span> <span class="attribute" style="color:rgb(0,128,128)">mode</span>=<span class="value" style="color:rgb(221,17,68)">"None"</span>&gt;</span>
            <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">transport</span> <span class="attribute" style="color:rgb(0,128,128)">clientCredentialType</span>=<span class="value" style="color:rgb(221,17,68)">"Windows"</span> <span class="attribute" style="color:rgb(0,128,128)">proxyCredentialType</span>=<span class="value" style="color:rgb(221,17,68)">"None"</span>
                <span class="attribute" style="color:rgb(0,128,128)">realm</span>=<span class="value" style="color:rgb(221,17,68)">""</span> /&gt;</span>
            <span class="tag" style="color:rgb(0,0,128)">&lt;<span class="title">message</span> <span class="attribute" style="color:rgb(0,128,128)">clientCredentialType</span>=<span class="value" style="color:rgb(221,17,68)">"Windows"</span> <span class="attribute" style="color:rgb(0,128,128)">negotiateServiceCredential</span>=<span class="value" style="color:rgb(221,17,68)">"true"</span>
                <span class="attribute" style="color:rgb(0,128,128)">algorithmSuite</span>=<span class="value" style="color:rgb(221,17,68)">"Default"</span> <span class="attribute" style="color:rgb(0,128,128)">establishSecurityContext</span>=<span class="value" style="color:rgb(221,17,68)">"true"</span> /&gt;</span>
          <span class="tag" style="color:rgb(0,0,128)">&lt;/<span class="title">security</span>&gt;</span>
        <span class="tag" style="color:rgb(0,0,128)">&lt;/<span class="title">binding</span>&gt;</span></pre> 
<p><br> </p> 
<p></p> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 问题三：解决上述问题之后又出现了新问题，在服务端可以获取得到数据，但是到了客户端总是空，然后准备测试数据，在服务端只给一个int型的变量，客户端获取的到，但是一旦换成自己的自定义类，客户端就获取不到</p> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 解决：在服务端和客户端都要有自定义类，代码要一样，另外还要保证两个类的命名空间一致</p> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 如：服务端</p> 
<pre class="prettyprint cs" style="padding:0.3em; font-family:Monaco,Menlo,Consolas,'Courier New',monospace; color:rgb(51,51,51); margin-top:0px; margin-bottom:1.5em; line-height:1.5em; word-break:break-all; word-wrap:break-word; white-space:pre-wrap; overflow-y:auto; background-color:rgb(246,246,246)">[DataContract(Namespace = <span class="string" style="color:rgb(221,17,68)">"Rostering.BO"</span>)]
    [Serializable]
    <span class="keyword" style="font-weight:bold">public</span> <span class="keyword" style="font-weight:bold">class</span> NewAttendancePlan
    {
        [DataMember]
        <span class="keyword" style="font-weight:bold">public</span> <span class="keyword" style="font-weight:bold">int</span> AttendancePlan_Id { <span class="keyword" style="font-weight:bold">get</span>; <span class="keyword" style="font-weight:bold">set</span>; }
    }</pre> 
<p style="margin-top:0px; margin-bottom:0.75em; font-size:16px; line-height:27.2000007629395px; text-indent:1em; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,Tahoma,Arial,STXihei,'Microsoft YaHei',微软雅黑,sans-serif; background-color:rgb(254,254,254)"> 客户端一样：</p> 
<pre class="prettyprint cs" style="padding:0.3em; font-family:Monaco,Menlo,Consolas,'Courier New',monospace; color:rgb(51,51,51); margin-top:0px; margin-bottom:1.5em; line-height:1.5em; word-break:break-all; word-wrap:break-word; white-space:pre-wrap; overflow-y:auto; background-color:rgb(246,246,246)">[DataContract(Namespace = <span class="string" style="color:rgb(221,17,68)">"Rostering.BO"</span>)]
    [Serializable]
    <span class="keyword" style="font-weight:bold">public</span> <span class="keyword" style="font-weight:bold">class</span> NewAttendancePlan
    {
        [DataMember]
        <span class="keyword" style="font-weight:bold">public</span> <span class="keyword" style="font-weight:bold">int</span> AttendancePlan_Id { <span class="keyword" style="font-weight:bold">get</span>; <span class="keyword" style="font-weight:bold">set</span>; }</pre> 
<pre class="prettyprint cs" style="padding:0.3em; font-family:Monaco,Menlo,Consolas,'Courier New',monospace; color:rgb(51,51,51); margin-top:0px; margin-bottom:1.5em; line-height:1.5em; word-break:break-all; word-wrap:break-word; white-space:pre-wrap; overflow-y:auto; background-color:rgb(246,246,246)">
</pre> 
<pre class="prettyprint cs" style="padding:0.3em; font-family:Monaco,Menlo,Consolas,'Courier New',monospace; color:rgb(51,51,51); margin-top:0px; margin-bottom:1.5em; line-height:1.5em; word-break:break-all; word-wrap:break-word; white-space:pre-wrap; overflow-y:auto; background-color:rgb(246,246,246)"><span style="font-family:Arial; font-size:14px; line-height:26px">后来验收的时候又出现了个问题：客户端还是无法获取服务端的数据，真的不知道是哪儿的问题，程序也没动过，，，，，找问题呀找问题，，，最后是因为客户端的时间和服务端的时间不一致，在网上也看到类似的说法，如果客户端和服务端的时间差超过5分钟，通信将失败，，，，？？？？？？？</span>
</pre> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2ba32055a3903e8b3bfda7f89e5b6ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">浅谈Java的反射机制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/748e9b858f8f7ebde48694fb7a0dbdf5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js处理数据的方式记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>