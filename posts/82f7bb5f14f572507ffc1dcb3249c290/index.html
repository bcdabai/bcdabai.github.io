<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>struts2 if 标签 test属性 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="struts2 if 标签 test属性" />
<meta property="og:description" content="====================正确的用法======开始===============================
&lt;s:if test=&#34;deptType==1&#34; &gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为整形，可以这样使用；
&lt;s:if test=&#34;deptType==&#39;1&#39;&#34; &gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为char，可以这样使用；
&lt;s:if test=&#34;deptType==&#39;aa&#39;&#34; &gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为varchar，并且数据库中的字符串都是多余一个字符的字符串，可以这样使用；
&lt;s:if test=&#34;deptType==\&#34;1\&#34;&#34; &gt;下属 &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;（测试通过，这样用是最正确的）
==================正确的用法======结束================================
&lt;s:if test=&#34;deptType==\&#34;1\&#34;&#34; &gt;下属&lt;/s:if&gt;&lt;s:else&gt;直属&lt;/s:else&gt;（测试通过，最正确的）
&lt;s:if test=&#34;{#deptType == &#39;1&#39;}&#34; &gt;下属&lt;/s:if&gt;&lt;s:else&gt;直属&lt;/s:else&gt;（匹配的类型是char型）
前提：数据库中的类型是varchar，pojo中对应的字段的类型也是string。
如果数据库中的数据是整数字符串，例如1、2、3等，那么使用==
&lt;s:if test=&#34;deptType==1&#34; &gt;下属 &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;
如果数据库中的数据是字符串，aa、bb、cc等等
那么就要使用 &lt;s:if test=&#34;deptType==&#39;aa&#39;&gt;下属aa &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;
如果数据库中既有数字字符串也普通的字符串，那么 &lt;s:if test=&#34;deptType==&#39;aa&#39;¦ ¦deptType==&#39;1&#39;&#34;&gt;下属aa &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt; 无法正常的解析，
经过详细的测试，我确认这是struts2的一个bug
&lt;s:if test=&#34;%{deptType}==1&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败!
&lt;s:if test=&#34;%{deptType}==&#39;1&#39;&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败!
&lt;s:if test=&#34;deptType==&#39;1&#39;&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！
&lt;s:if test=&#34;%{deptType==&#39;1&#39;}&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！
&lt;s:if test=&#34;%{#deptType==&#39;1&#39;}&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！
&lt;s:if test=&#34;deptType==1&#34; &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;（终于成功了）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/82f7bb5f14f572507ffc1dcb3249c290/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-10-29T14:48:09+08:00" />
<meta property="article:modified_time" content="2011-10-29T14:48:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">struts2 if 标签 test属性</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-indent:2em">====================正确的用法======开始===============================</p> 
<p style="text-indent:2em">&lt;s:if <wbr></wbr>test="deptType==1" <wbr></wbr>&gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为整形，可以这样使用；<br> <br> &lt;s:if <wbr></wbr>test="deptType=='1'" <wbr></wbr>&gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为char，可以这样使用；<br> <br> &lt;s:if <wbr></wbr>test="deptType=='aa'" <wbr></wbr>&gt;下属 &lt;/s:if&gt;如果你的数据库对应的字段类型为varchar，并且数据库中的字符串都是多余一个字符的字符串，可以这样使用；<br> <br> &lt;s:if <wbr></wbr>test="deptType==\"1\"" <wbr></wbr>&gt;下属 &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;（测试通过，这样用是最正确的）</p> 
<p style="text-indent:2em">==================正确的用法======结束================================<wbr></wbr></p> 
<p style="text-indent:2em"><wbr></wbr></p> 
<p style="text-indent:2em">&lt;s:if test="deptType==<strong><span style="color:#ff0000">\"1\"</span></strong>" &gt;下属&lt;/s:if&gt;&lt;s:else&gt;直属&lt;/s:else&gt;（测试通过，最正确的）</p> 
<p style="text-indent:2em">&lt;s:if test="{#deptType == '1'}" &gt;下属&lt;/s:if&gt;&lt;s:else&gt;直属&lt;/s:else&gt;（匹配的类型是char型）</p> 
<p style="text-indent:2em"><wbr></wbr></p> 
<p style="text-indent:2em">前提：数据库中的类型是varchar，pojo中对应的字段的类型也是string。</p> 
<p style="text-indent:2em">如果数据库中的数据是整数字符串，例如1、2、3等，那么使用==</p> 
<p style="text-indent:2em">&lt;s:if <wbr></wbr>test="deptType==1" <wbr></wbr>&gt;下属 &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;</p> 
<p style="text-indent:2em">如果数据库中的数据是字符串，aa、bb、cc等等</p> 
<p style="text-indent:2em">那么就要使用 &lt;s:if <wbr></wbr>test="deptType=='aa'&gt;下属aa &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt;<wbr></wbr><wbr></wbr><wbr></wbr></p> 
<p style="text-indent:2em">如果数据库中既有数字字符串也普通的字符串，那么 &lt;s:if <wbr></wbr>test="deptType=='aa'<wbr></wbr>¦ ¦<wbr></wbr>deptType=='1'"<wbr></wbr>&gt;下属aa &lt;/s:if&gt; &lt;s:else&gt;直属 &lt;/s:else&gt; <wbr></wbr>无法正常的解析，</p> 
<p style="text-indent:2em">经过详细的测试，我确认这是struts2的一个bug</p> 
<p style="text-indent:2em"><wbr></wbr></p> 
<p style="text-indent:2em">&lt;s:if test="%{deptType}==1" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败!</p> 
<p style="text-indent:2em">&lt;s:if test="%{deptType}=='1'" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败!</p> 
<p style="text-indent:2em">&lt;s:if test="deptType=='1'" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！</p> 
<p style="text-indent:2em">&lt;s:if test="%{deptType=='1'}" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！</p> 
<p style="text-indent:2em">&lt;s:if test="%{#deptType=='1'}" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;失败！</p> 
<p style="text-indent:2em">&lt;s:if test="deptType==1" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;（终于成功了）</p> 
<p style="text-indent:2em">&lt;s:if test="deptType.equals('1')" &gt;下属机构&lt;/s:if&gt;&lt;s:else&gt;直属机构&lt;/s:else&gt;（错误）</p> 
<p style="text-indent:2em">&lt;s:if test="deptType=='1'" &gt;下属&lt;/s:if&gt;&lt;s:else&gt;直属&lt;/s:else&gt;<wbr></wbr>（不出错但是结果不对）</p> 
<p style="text-indent:2em"><wbr></wbr></p> 
<p style="text-indent:2em">如果sex是int类型，那么直接比较就可以了</p> 
<ol type="1"><li><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>&lt;s:if <wbr></wbr>test="sex==1"&gt;男&lt;/s:if&gt;<wbr></wbr><wbr></wbr></li><li><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr><wbr></wbr>&lt;s:else&gt;女&lt;/s:else&gt;<wbr></wbr></li></ol> 
<p>===========================以上来自网络=====================================================</p> 
<p>&lt;@s.if <span style="color:#ff6666"><span style="font-size:18px">test="templateData.description !=<span style="color:#3366ff">''</span> "&gt;</span> </span> 注意，不是null而是<span style="font-size:18px; color:#ff6666"><span style="color:#3366ff">‘’</span>（<span style="color:#3366ff">单引号</span>）</span> 用null用习惯了。。。<br>     &lt;span&gt;备注：&lt;@s.property value="templateData.description"/&gt;&lt;/span&gt;<br>      &lt;/@s.if&gt;</p> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26f414cd4a0774b5bc162e155d975000/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">oracle 9i,10g,11g补丁下载地址大全</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a82725e7974d4bf610278b63c5dbb7f0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android中的Activity生命周期以及Task小结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>