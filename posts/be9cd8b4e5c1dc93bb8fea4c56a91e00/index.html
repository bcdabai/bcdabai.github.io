<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>cygwin 安装nginx - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="cygwin 安装nginx" />
<meta property="og:description" content="[code=&#34;java&#34;] //下载 wget http://nginx.org/download/nginx-1.7.6.tar.gz tar -xzvf nginx-1.7.6.tar.gz http://blog.csdn.net/dyllove98/article/details/8892509 //安装gcc setup-x86_64.exe -q -P make setup-x86_64.exe -q -P gcc-g&#43;&#43; //zlib http://www.zlib.net/ # tar -zxvf zlib-1.2.7.tar.gz # cd zlib-1.2.7 # ./configure # make # make install //pcre http://www.pcre.org/ 手动下载安装 # tar -zxvf pcre-8.21.tar.gz # cd pcre-8.21 # ./configure # make # make install //http://www.openssl.org/source/ //安装 cd nginx-1.7.6 $ ./configure --with-pcre=../pcre-8.36 --with-zlib=../zlib-1.2.8 checking for OS &#43; CYGWIN_NT-6.1 1.7.32(0.274/5/3) x86_64 checking for C compiler ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/be9cd8b4e5c1dc93bb8fea4c56a91e00/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-10-09T17:16:04+08:00" />
<meta property="article:modified_time" content="2014-10-09T17:16:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">cygwin 安装nginx</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    [code="java"] 
<br>//下载 
<br>wget http://nginx.org/download/nginx-1.7.6.tar.gz 
<br> 
<br>tar -xzvf nginx-1.7.6.tar.gz 
<br>http://blog.csdn.net/dyllove98/article/details/8892509 
<br>//安装gcc 
<br>setup-x86_64.exe -q -P make 
<br>setup-x86_64.exe -q -P gcc-g++ 
<br> 
<br>//zlib 
<br>http://www.zlib.net/ 
<br># tar -zxvf zlib-1.2.7.tar.gz 
<br> 
<br># cd zlib-1.2.7 
<br> 
<br># ./configure 
<br> 
<br># make 
<br> 
<br># make install 
<br> 
<br>//pcre 
<br>http://www.pcre.org/ 
<br>手动下载安装 
<br># tar -zxvf pcre-8.21.tar.gz 
<br> 
<br># cd pcre-8.21 
<br> 
<br># ./configure 
<br> 
<br># make 
<br> 
<br># make install 
<br> 
<br>//http://www.openssl.org/source/ 
<br> 
<br> 
<br>//安装 
<br>cd nginx-1.7.6 
<br> 
<br>$ ./configure --with-pcre=../pcre-8.36 --with-zlib=../zlib-1.2.8 
<br>checking for OS 
<br> + CYGWIN_NT-6.1 1.7.32(0.274/5/3) x86_64 
<br>checking for C compiler ... found 
<br> + using GNU C compiler 
<br> + gcc version: 4.8.3 (GCC) 
<br>checking for gcc -pipe switch ... found 
<br>checking for gcc builtin atomic operations ... found 
<br>checking for C99 variadic macros ... found 
<br>checking for gcc variadic macros ... found 
<br>checking for unistd.h ... found 
<br>checking for inttypes.h ... found 
<br>checking for limits.h ... found 
<br>checking for sys/filio.h ... not found 
<br>checking for sys/param.h ... found 
<br>checking for sys/mount.h ... found 
<br>checking for sys/statvfs.h ... found 
<br>checking for crypt.h ... not found 
<br>checking for CYGWIN_NT-6.1 specific features 
<br>checking for nobody group ... not found 
<br>checking for nogroup group ... not found 
<br>checking for poll() ... found 
<br>checking for /dev/poll ... not found 
<br>checking for kqueue ... not found 
<br>checking for crypt() ... not found 
<br>checking for crypt() in libcrypt ... not found 
<br>checking for F_READAHEAD ... not found 
<br>checking for posix_fadvise() ... found 
<br>checking for O_DIRECT ... found 
<br>checking for F_NOCACHE ... not found 
<br>checking for directio() ... not found 
<br>checking for statfs() ... not found 
<br>checking for statvfs() ... found 
<br>checking for dlopen() ... found 
<br>checking for sched_yield() ... found 
<br>checking for SO_SETFIB ... not found 
<br>checking for SO_ACCEPTFILTER ... not found 
<br>checking for TCP_DEFER_ACCEPT ... not found 
<br>checking for TCP_KEEPIDLE ... not found 
<br>checking for TCP_FASTOPEN ... not found 
<br>checking for TCP_INFO ... not found 
<br>checking for accept4() ... found 
<br>checking for int size ... 4 bytes 
<br>checking for long size ... 8 bytes 
<br>checking for long long size ... 8 bytes 
<br>checking for void * size ... 8 bytes 
<br>checking for uint64_t ... found 
<br>checking for sig_atomic_t ... found 
<br>checking for sig_atomic_t size ... 4 bytes 
<br>checking for socklen_t ... found 
<br>checking for in_addr_t ... found 
<br>checking for in_port_t ... found 
<br>checking for rlim_t ... found 
<br>checking for uintptr_t ... uintptr_t found 
<br>checking for system byte ordering ... little endian 
<br>checking for size_t size ... 8 bytes 
<br>checking for off_t size ... 8 bytes 
<br>checking for time_t size ... 8 bytes 
<br>checking for setproctitle() ... not found 
<br>checking for pread() ... found 
<br>checking for pwrite() ... found 
<br>checking for sys_nerr ... found 
<br>checking for localtime_r() ... found 
<br>checking for posix_memalign() ... found 
<br>checking for memalign() ... found 
<br>checking for mmap(MAP_ANON|MAP_SHARED) ... found 
<br>checking for mmap("/dev/zero", MAP_SHARED) ... found 
<br>checking for System V shared memory ... not found 
<br>checking for POSIX semaphores ... found 
<br>checking for struct msghdr.msg_control ... found 
<br>checking for ioctl(FIONBIO) ... found 
<br>checking for struct tm.tm_gmtoff ... found 
<br>checking for struct dirent.d_namlen ... not found 
<br>checking for struct dirent.d_type ... found 
<br>checking for sysconf(_SC_NPROCESSORS_ONLN) ... found 
<br>checking for openat(), fstatat() ... found 
<br>checking for getaddrinfo() ... found 
<br>checking for md5 in system md library ... not found 
<br>checking for md5 in system md5 library ... not found 
<br>checking for md5 in system OpenSSL crypto library ... not found 
<br>checking for sha1 in system md library ... not found 
<br>checking for sha1 in system OpenSSL crypto library ... not found 
<br>creating objs/Makefile 
<br> 
<br>Configuration summary 
<br> + using PCRE library: ../pcre-8.36 
<br> + OpenSSL library is not used 
<br> + using builtin md5 code 
<br> + sha1 library is not found 
<br> + using zlib library: ../zlib-1.2.8 
<br> 
<br> nginx path prefix: "/usr/local/nginx" 
<br> nginx binary file: "/usr/local/nginx/sbin/nginx" 
<br> nginx configuration prefix: "/usr/local/nginx/conf" 
<br> nginx configuration file: "/usr/local/nginx/conf/nginx.conf" 
<br> nginx pid file: "/usr/local/nginx/logs/nginx.pid" 
<br> nginx error log file: "/usr/local/nginx/logs/error.log" 
<br> nginx http access log file: "/usr/local/nginx/logs/access.log" 
<br> nginx http client request body temporary files: "client_body_temp" 
<br> nginx http proxy temporary files: "proxy_temp" 
<br> nginx http fastcgi temporary files: "fastcgi_temp" 
<br> nginx http uwsgi temporary files: "uwsgi_temp" 
<br> nginx http scgi temporary files: "scgi_temp" 
<br> 
<br># make &amp;&amp; make install 
<br> 
<br> 
<br>出现crypy错误，看下面老外安装的过程 
<br>估计需要安装devel下面的包 
<br> 
<br> 
<br>[/code] 
<br> 
<br>3 - Installing Cygwin 
<br> 
<br>Run setup.exe and hit "Next" 6 times (you want "Install from Internet", choose the mirror of your choice). You will arrive at a huge list of packages to choose from. Tip: you can maximize that window. 
<br> 
<br>To select a package, click in the "New" column (it cycles through Skip, Keep, Uninstall, etc.). When a version number is displayed, it will be installed. 
<br> 
<br>Select these additional packages (dependencies for these packages will be automatically selected): 
<br> 
<br>Admin/cygrunsrv 
<br>Devel/autoconf 
<br>Devel/automake 
<br>Devel/bison 
<br>Devel/curl-devel 
<br>Devel/flex 
<br>Devel/gcc 
<br>Devel/libiconv 
<br>Devel/libmcrypt-devel 
<br>Devel/libtool 
<br>Devel/libxml2 
<br>Devel/libxml2-devel 
<br>Devel/make 
<br>Devel/patchutils 
<br>Devel/pcre 
<br>Devel/pcre-devel 
<br>Editors/vim 
<br>Libs/jpeg 
<br>Libs/libmcrypt 
<br> 
<br>Then hit "Next" to install. Tip: you can run setup.exe anytime to add or remove packages. 
<br> 
<br>NOTE: these packages are those I needed for my own Nginx, MySQL and PHP ./configure's options. If your ./configure's options differ from mine, you may need to select additional packages or your ./configure's will fail for missing dependencies. 
<br> 
<br>-- 
<br> 
<br>Now that Cygwin is installed, run c:\cygwin\Cygwin.bat to get a shell Window. Your home directory (c:\cygwin\home\Administrator) will be created and prepared. 
<br> 
<br>Copy the following files in c:\cygwin\home\Administrator: 
<br> 
<br>nginx-0.6.32.tar.gz 
<br>mysql-5.0.67.tar.gz 
<br>php-5.2.6.tar.gz 
<br>php-5.2.6-fpm-0.5.8.diff.gz 
<br>getaddrinfo-1.6.3.tar.gz 
<br> 
<br>4 - Installing Nginx under Cygwin 
<br> 
<br>Open Cygwin and extract nginx-0.6.32.tar.gz: 
<br> 
<br>cd 
<br>tar xvfz nginx-0.6.32.tar.gz 
<br>cd nginx-0.6.32 
<br> 
<br>Now, configure Nginx: 
<br> 
<br>./configure --with-http_ssl_module --without-mail_pop3_module --without-mail_imap_module --without-mail_smtp_module 
<br> 
<br>And finally, compile and install Nginx: 
<br> 
<br>make 
<br>make install 
<br> 
<br>-- 
<br> 
<br>Now we will prepare our "www" directory: 
<br> 
<br>mkdir /www 
<br> 
<br>As well as our Nginx configuration: 
<br> 
<br>/usr/local/nginx/conf/nginx.conf: 
<br> 
<br>worker_processes 5; 
<br> 
<br> 
<br>events { 
<br> 
<br> worker_connections 64; # VERY important. Do not leave 1024 there. 
<br> 
<br>} 
<br> 
<br> 
<br>http { 
<br> 
<br> include mime.types; 
<br> 
<br> default_type application/octet-stream; 
<br> 
<br> 
<br> sendfile on; 
<br> 
<br> 
<br> keepalive_timeout 65; 
<br> 
<br> 
<br> server { 
<br> 
<br> listen 80; 
<br> 
<br> server_name localhost; 
<br> 
<br> 
<br> location / { 
<br> 
<br> root /www; 
<br> 
<br> index index.php index.html; 
<br> 
<br> } 
<br> 
<br> 
<br> location ~ \.php$ { 
<br> 
<br> root /www; 
<br> 
<br> 
<br> fastcgi_pass 127.0.0.1:9000; 
<br> 
<br> fastcgi_index index.php; 
<br> 
<br> fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; 
<br> 
<br> include fastcgi_params; 
<br> 
<br> } 
<br> 
<br> } 
<br> 
<br>} 
<br> 
<br> 
<br>You may adjust this configuration file to suit your needs. 
<br>[url]http://www.softwareprojects.com/resources/programming/t-how-to-install-nginx-php-php-fpm-and-mysql-under-1616.html[/url] 
<br> 
<br> 
<br> 
<pre><code class="language-java"><br>配置文件<br><br>/usr/local/nginx/conf/nginx.conf<br><br>启动命令<br>/usr/local/nginx/sbin/nginx<br><br></code></pre> 
<br> 2008/01/12 16:34:56 [emerg] 2496#0: the maximum number of files supported by select() is 64的错误提示，这表示FD_SETSIZE的值比nginx配置文件中worker_connections指令所指定的值，你可以把nginx.conf里的worker_connections选项改小一些，比如44,加了--with-cc-opt=”-D FD_SETSIZE=4096”后就不会碰到这问题
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/788fc2854ce4d0bfc61c569059bc7973/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux及Unix调整系统时间和时区的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1e6cc369cb23d6deb8e87b02da83ed3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">通过rtmpdump推送海康视频流到red5服务器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>