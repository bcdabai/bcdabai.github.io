<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ElasticSearch扫盲概念篇[ES系列] - 第500篇 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ElasticSearch扫盲概念篇[ES系列] - 第500篇" />
<meta property="og:description" content="历史文章（文章累计500&#43;）
《国内最全的Spring Boot系列之一》
《国内最全的Spring Boot系列之二》
《国内最全的Spring Boot系列之三》
《国内最全的Spring Boot系列之四》
《国内最全的Spring Boot系列之五》
《国内最全的Spring Boot系列之六》
ElasticSearch详细搭建以及常见错误high disk watermark [ES系列] - 第497篇
Elasticsearch可视化平台Kibana [ES系列] - 第498篇
Elasticsearch安装分词插件[ES系列] - 第499篇
悟纤：师傅，脑瓜疼来着~
​
师傅：徒儿这是怎么了？
悟纤：师傅，我感觉自己总是很忧虑，无法真正开心起来。
师傅：徒儿，我理解你的感受。有时候，我们会被一些琐事和烦恼所困扰，导致心情不畅。但是，要想获得更开心，我们需要学会调整自己的心态。
悟纤：师傅，怎么调整呢？
师傅：首先，你要学会放下那些无谓的忧虑和烦恼。不要让它们占据你的心灵，影响你的情绪。尝试转移注意力，去做一些让你感到快乐和满足的事情。
悟纤：弟子明白了，要学会放下烦恼，去做让自己开心的事情。
师傅：很好，徒儿。此外，你还可以尝试改变自己的思维方式。不要总是看到事情的负面，试着从积极的角度去看待问题。记住，生活中总会有不如意的事情，但是我们可以选择如何去面对它。
悟纤：师傅，徒儿会努力尝试的。
师傅：我相信你一定能够做到。此外，你还可以尝试寻找一些能够帮助你放松身心的方法，比如运动、听音乐、阅读等。这些活动可以帮助你缓解压力，让你的心情变得更加愉悦。
悟纤：徒儿明白了，谢谢师傅的指导。
导读
Hi，大家好，我是悟纤。我就是我，不一样的烟火。我就是我，与众不同的小苹果。
这一节来看看ES的概念。
一、ES概念
1.1 节点：Node
ElasticSearch 是以集群的方式运行的，而节点是组成ES集群的基本单位，所以每个 ElasticSearch 实例就是一个节点，每个物理机器上可以有多个节点，使用不同的端口和节点名称。
节点按主要功能可以分为三种：主节点(Master Node)，协调节点(Coordianting Node)和数据节点(Data Node)。下面简单介绍下：
主节点：处理创建，删除索引等请求，维护集群状态信息。可以设置一个节点不承担主节点角色
协调节点：负责处理请求。默认情况下，每个节点都可以是协调节点。
数据节点：用来保存数据。可以设置一个节点不承担数据节点角色
http://localhost:9200/_cat/nodes?v
1.2角色：Roles
ES的角色分类：
· 主节点（active master）：一般指活跃的主节点，一个集群中只能有一个，主要作用是对集群的管理。
· 候选节点（master-eligible）：当主节点发生故障时，参与选举，也就是主节点的替代节点。
· 数据节点（data node）：数据节点保存包含已编入索引的文档的分片。数据节点处理数据相关操作，如 CRUD、搜索和聚合。这些操作是 I/O 密集型、内存密集型和 CPU 密集型的。监控这些资源并在它们过载时添加更多数据节点非常重要。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/53209989eb4647d07fd6c10e9a662e95/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-15T15:46:05+08:00" />
<meta property="article:modified_time" content="2024-01-15T15:46:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ElasticSearch扫盲概念篇[ES系列] - 第500篇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p class="img-center"><img alt="" height="577" src="https://images2.imgbox.com/7f/e1/olQBn3QB_o.png" width="1080"></p> 
<p><strong>历史文章（<strong>文章</strong>累计500+）</strong></p> 
<p>《<a href="https://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447533342&amp;idx=1&amp;sn=7fe54ec9948ace1c8e1568531d55678b&amp;chksm=843bb90fb34c3019aa7f654da387d30aaf7c14e2798fc1dc846ea05521ba9e8fc108e97c99e9&amp;token=848719710&amp;lang=zh_CN&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之一">国内最全的Spring Boot系列之一</a>》</p> 
<p>《<a href="https://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447533861&amp;idx=1&amp;sn=11f6e9afb4cf3ba0aca4330f5b11dc0e&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之二">国内最全的Spring Boot系列之二</a>》</p> 
<p>《<a href="https://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447534510&amp;idx=1&amp;sn=05079e6c4a355dfde41cbd36aed36b03&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之三">国内最全的Spring Boot系列之三</a>》</p> 
<p>《<a href="https://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447535839&amp;idx=1&amp;sn=21776e7ceee5a705d588e647590cea27&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之四">国内最全的Spring Boot系列之四</a>》</p> 
<p>《<a href="http://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447536783&amp;idx=1&amp;sn=82677579faabd7e7bf71756835f5139f&amp;chksm=843bae9eb34c2788a1a02e09850cf973660686a9a541f708e319d8060f97f4483e31b4f7b881&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之">国内最全的Spring Boot系列之</a>五》</p> 
<p>《<a href="https://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447537498&amp;idx=1&amp;sn=c267be1701285f7ed2d24ed1054df0a4&amp;scene=21#wechat_redirect" rel="nofollow" title="国内最全的Spring Boot系列之六">国内最全的Spring Boot系列之六</a>》</p> 
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447538331&amp;idx=1&amp;sn=bea9dce485c9c0cf106f64e57a240af5&amp;chksm=843ba48ab34c2d9c2ef5f63d37f7c441431d50963dc3bc67dfdaa95d272023f8e912689d8c7b&amp;scene=21#wechat_redirect" rel="nofollow" title="ElasticSearch详细搭建以及常见错误high disk watermark [ES系列] - 第497篇">ElasticSearch详细搭建以及常见错误high disk watermark [ES系列] - 第497篇</a></p> 
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447538341&amp;idx=1&amp;sn=f4a5e0c9c1bc5131391106155efa97b8&amp;chksm=843ba4b4b34c2da2a543780d45cadfd2844ae046d922d846dd0c32ce007c10a6fc27b2452281&amp;scene=21#wechat_redirect" rel="nofollow" title="Elasticsearch可视化平台Kibana [ES系列] - 第498篇">Elasticsearch可视化平台Kibana [ES系列] - 第498篇</a></p> 
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4ODIyMzEwMg==&amp;mid=2447538356&amp;idx=1&amp;sn=45af1297590e724b95db6136d575e81f&amp;chksm=843ba4a5b34c2db3ab794d31173e2f7c068714f2b9457d9dd7e417cfbe522da04453a4f5f2af&amp;scene=21#wechat_redirect" rel="nofollow" title="Elasticsearch安装分词插件[ES系列] - 第499篇">Elasticsearch安装分词插件[ES系列] - 第499篇</a></p> 
<p></p> 
<p>悟纤：师傅，脑瓜疼来着~</p> 
<p>​</p> 
<p class="img-center"><img alt="" height="707" src="https://images2.imgbox.com/c8/3c/5UHpx566_o.png" width="1080"></p> 
<p>师傅：徒儿这是怎么了？</p> 
<p></p> 
<p class="img-center"><img alt="" height="312" src="https://images2.imgbox.com/5a/cb/RM4yAdcj_o.png" width="1080"></p> 
<p>悟纤：师傅，我感觉自己总是很忧虑，无法真正开心起来。</p> 
<p>师傅：徒儿，我理解你的感受。有时候，我们会被一些琐事和烦恼所困扰，导致心情不畅。但是，要想获得更开心，<strong>我们需要学会调整自己的心态</strong>。</p> 
<p></p> 
<p class="img-center"><img alt="" height="580" src="https://images2.imgbox.com/e1/11/45qG3pCd_o.png" width="1080"></p> 
<p>悟纤：师傅，怎么调整呢？</p> 
<p>师傅：首先，<strong>你要学会放下那些无谓的忧虑和烦恼</strong>。不要让它们<strong>占据你的心灵</strong>，影响你的情绪。<strong>尝试转移注意力</strong>，去做一些让你感到快乐和满足的事情。</p> 
<p></p> 
<p class="img-center"><img alt="" height="594" src="https://images2.imgbox.com/3a/45/Sq3da42Y_o.png" width="1080"></p> 
<p>悟纤：弟子明白了，要学会放下烦恼，去做让自己开心的事情。</p> 
<p>师傅：很好，徒儿。此外，你还可以尝试改变自己的思维方式。<strong>不要总是看到事情的负面，试着从积极的角度去看待问题</strong>。记住，生活中总会有不如意的事情，但是我们可以选择如何去面对它。</p> 
<p></p> 
<p class="img-center"><img alt="" height="1045" src="https://images2.imgbox.com/2b/27/IbaJ12F0_o.png" width="1080"></p> 
<p>悟纤：师傅，徒儿会努力尝试的。</p> 
<p>师傅：我相信你一定能够做到。此外，<strong>你还可以尝试寻找一些能够帮助你放松身心的方法</strong>，比如运动、听音乐、阅读等。这些活动可以帮助你缓解压力，让你的心情变得更加愉悦。</p> 
<p></p> 
<p class="img-center"><img alt="" height="473" src="https://images2.imgbox.com/7d/1f/uAFAqPHv_o.png" width="1080"></p> 
<p>悟纤：徒儿明白了，谢谢师傅的指导。</p> 
<p></p> 
<p class="img-center"><img alt="" height="574" src="https://images2.imgbox.com/86/43/n7Ej06mY_o.jpg" width="1024"></p> 
<p></p> 
<p></p> 
<p><strong>导读</strong></p> 
<p>Hi，大家好，我是<strong>悟纤</strong>。我就是我，不一样的烟火。我就是我，与众不同的小苹果。</p> 
<p>这一节来看看ES的概念。</p> 
<p><strong>一、ES概念</strong></p> 
<p><strong>1.1 </strong><strong>节点：Node</strong></p> 
<p>ElasticSearch 是以集群的方式运行的，而节点是组成ES集群的基本单位，所以<strong>每个 ElasticSearch 实例就是一个节点</strong>，<strong>每个物理机器上可以有多个节点</strong>，<strong>使用不同的端口和节点名称</strong>。</p> 
<p>节点按主要功能可以分为三种：<strong>主节点</strong>(Master Node)，<strong>协调节点</strong>(Coordianting Node)和<strong>数据节点</strong>(Data Node)。下面简单介绍下：</p> 
<p><strong>主节点</strong>：处理创建，删除索引等请求，维护集群状态信息。可以设置一个节点不承担主节点角色</p> 
<p><strong>协调节点</strong>：负责处理请求。默认情况下，每个节点都可以是协调节点。</p> 
<p><strong>数据节点</strong>：用来保存数据。可以设置一个节点不承担数据节点角色</p> 
<p>http://localhost:9200/_cat/nodes?v</p> 
<p></p> 
<p class="img-center"><img alt="" height="46" src="https://images2.imgbox.com/9a/4e/lvHswm9X_o.png" width="830"></p> 
<p></p> 
<p><strong>1.2</strong><strong>角色：Roles</strong></p> 
<p>ES的角色分类：</p> 
<p>· 主节点（active master）：一般指活跃的主节点，一个集群中只能有一个，主要作用是对集群的管理。</p> 
<p>· 候选节点（master-eligible）：当主节点发生故障时，参与选举，也就是主节点的替代节点。</p> 
<p>· 数据节点（data node）：数据节点保存包含已编入索引的文档的分片。数据节点处理数据相关操作，如 CRUD、搜索和聚合。这些操作是 I/O 密集型、内存密集型和 CPU 密集型的。监控这些资源并在它们过载时添加更多数据节点非常重要。</p> 
<p>· 预处理节点（ingest node）：预处理节点有点类似于logstash的消息管道，所以也叫ingest pipeline，常用于一些数据写入之前的预处理操作。</p> 
<p><strong>注意：如果 node.roles 为缺省配置，那么当前节点具备所有角色。</strong></p> 
<p><strong>1.3</strong><strong>索引：Index</strong></p> 
<p>索引在 ES 中所表述的含义和 MySQL 中的索引完全不同，在 MySQL 中索引指的是加速数据查询的一种特殊的数据结构，如 normal index。</p> 
<p>而在 ES 中，索引表述的含义等价于 MySQL 中的表（仅针对 ES 7.x 以后版本），注意这里只是类比去理解，索引并不等于表。</p> 
<p>在 ES 中，<strong>索引在不同的特定条件下可以表示三种不同的意思</strong>：</p> 
<p>· 表示源文件数据：当做数据的载体，即类比为数据表，通常称作 index 。例如：通常说 集群中有 product 索引，即表述当前 ES 的服务中存储了 product 这样一张“表”。</p> 
<p>· 表示索引文件：以加速查询检索为目的而设计和创建的数据文件，通常承载于某些特定的数据结构，如哈希、FST 等。例如：通常所说的 正排索引 和 倒排索引（也叫正向索引和反向索引）。就是当前这个表述，索引文件和源数据是完全独立的，索引文件存在的目的仅仅是为了加快数据的检索，不会对源数据造成任何影响，</p> 
<p>· 表示创建数据的动作：通常说创建或添加一条数据，在 ES 的表述为索引一条数据或索引一条文档，或者 index 一个 doc 进去。此时索引一条文档的含义为向索引中添加数据。</p> 
<p><strong>索引的组成部分：</strong></p> 
<p>· alias：索引别名</p> 
<p>· settings：索引设置，常见设置如分片和副本的数量等。</p> 
<p>· mapping：映射，定义了索引中包含哪些字段，以及字段的类型、长度、分词器等。</p> 
<p></p> 
<p class="img-center"><img alt="" height="622" src="https://images2.imgbox.com/c1/7f/WNHHgkZB_o.png" width="492"></p> 
<p></p> 
<p><strong>1.4</strong><strong>类型：Type（ES 7.x 之后版本已删除此概念）</strong></p> 
<p>在较早的ES版本中，索引可以包含多个类型，每个类型代表了不同的文档结构。然而，从ES 7.x版本开始，类型已经被弃用，一个索引只能包含一个文档类型。</p> 
<p><strong>ES 7.x</strong></p> 
<p>· 不推荐在请求中指定类型。例如，索引文档不再需要文档type。新的索引 API 适用PUT {index}/_doc/{id}于显式 ID 和POST {index}/_doc 自动生成的 ID。请注意，在 7.0 中，_doc是路径的永久部分，表示端点名称而不是文档类型。</p> 
<p>· 索引创建、索引模板和映射 API 中的include_type_name参数将默认为false. 完全设置参数将导致弃用警告。</p> 
<p>· _default_映射类型被删除 。</p> 
<p><strong>ES 8.x</strong></p> 
<p>· 不再支持在请求中指定类型。</p> 
<p>· 该include_type_name参数被删除。</p> 
<p><strong>1.5</strong><strong>文档：Document</strong></p> 
<p><strong>文档是ES中的最小数据单元</strong>。它是一个具有结构化JSON格式的记录。文档可以被索引并进行搜索、更新和删除操作。</p> 
<p></p> 
<p class="img-center"><img alt="" height="352" src="https://images2.imgbox.com/77/8c/mkTS8Kie_o.png" width="830"></p> 
<p></p> 
<p>文档元数据，所有字段均以下划线开头，为系统字段，用于标注文档的相关信息：</p> 
<p>· _index：文档所属的索引名</p> 
<p>· _type：文档所属的类型名</p> 
<p>· _id：文档唯一id</p> 
<p>· _source: 文档的原始Json数据</p> 
<p>· _version: 文档的版本号，修改删除操作_version都会自增1</p> 
<p>· _seq_no: 和_version一样，一旦数据发生更改，数据也一直是累计的。Shard级别严格递增，保证后写入的Doc的_seq_no大于先写入的Doc的_seq_no。</p> 
<p>· _primary_term: _primary_term主要是用来恢复数据时处理当多个文档的_seq_no一样时的冲突，避免Primary Shard上的写入被覆盖。每当Primary Shard发生重新分配时，比如重启，Primary选举等，_primary_term会递增1。</p> 
<p><strong>1.6</strong><strong>对比</strong></p> 
<p>elasticSearch是面向文档，关系型数据库 和 ElasticSearch 客观的对比！</p> 
<p></p> 
<p class="img-center"><img alt="" height="348" src="https://images2.imgbox.com/f2/7e/1Vpb6O00_o.png" width="1080"></p> 
<p></p> 
<p>elasticsearch(集群)中可以包含多个索引（数据库），每个索引中可以包含多个类型（表），每个类型下又包含多个文档（行），每个文档中又包含多个字段（列）</p> 
<p><strong>1.7 Node </strong><strong>与 Cluster</strong></p> 
<p>Elastic 本质上是一个<strong>分布式数据库</strong>，允许多台服务器协同工作，每台服务器可以运行多个 Elastic 实例。</p> 
<p>单个 Elastic 实例称为一个节点（node）。一组节点构成一个集群（cluster）。</p> 
<p></p> 
<p class="img-center"><img alt="" height="1010" src="https://images2.imgbox.com/a0/0a/mI3cLHu2_o.jpg" width="1080"></p> 
<p>• 阿里巴巴前高级研发工程师</p> 
<p>• 三家千万级互联网企业技术顾问</p> 
<p>• MBTI/盖洛普技术专家</p> 
<p>• 厦门某高校外聘教师</p> 
<p>• 51CTO特约合作讲师</p> 
<p>• 网易云课堂签约讲师</p> 
<p>•《深入理解设计模式》作者</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a4eb553bfbb427f8b2563827cebbad0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android 获取屏幕宽高、状态栏高度、底部导航栏高度信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10836252cd9405a26ef1ee8e4c08d300/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mybatis-plus批量保存异常及效率优化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>