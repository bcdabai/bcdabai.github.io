<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>UnitTest自动化测试框架 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="UnitTest自动化测试框架" />
<meta property="og:description" content="一、UnitTest单元测试框架提供了那些功能 1.提供用例组织和执行
如何定义一条“测试用例”?
如何灵活地控制这些“测试用例”的执行?
2.提供丰定的断言方法
当测试用例的执行结果与预期结果不一致时，判定测试用例失败。在自动化测试中，通过“断言”来判定测试用例执行成功与否，测试框架提供丰富的断言方法，例如:判断相等/不相等包含/不包含、True/False等
3.提供丰富的日志
需要从结果中清晰地看出失败的原因。另外,我们还需要统计测试用例的执行结果，如总执行时间、失败测试用例数、成功测试用例数等，这些功能也是由单元测试框架提供的。
二、认识unittest 1.引入unittest模块，自定义的类必须要继承unittest模块的TestCase类
2.创建的测试方法，必须以test开头
3.重要的概念
3.1 TestCase
Test Case是最小测试单元,用于检查特定输入集合的特定返回值。unittest提供的TestCase基类被自定义的测试类进行继承,它可以用来创建新的测试用例
3.2 TestSuite
测试套件事测试用例\测试套件或者两者的集合,用于组装一组要运行的测试
3.3 Test Runner
Test Runner是一个组件,用于协调测试的执行并向用户提供结果。Test Runner可以用图形界面、文本界面或返回特殊值来展示执行测试的结果
3.4 Test Fixture
Test Fixture代表执行一个或多个测试所需的环境准备,以及关联的清理动作。
三、断言方法 四、测试用例的组织 1、unittest中的TestLoader类提供的discover()方法可以从多个文件中查找测试用例
2、找到指定目录及其子目录下的所有测试模块，只有匹配的文件名才能被加载,如果启动的不是顶层目录,那么顶层目录必须单独指定
discover(start_dir,pattern=’ test*.py’ ,top_level_dir=None) 3、start_dir:待测试的模块名或测试用例目录
4、pattern= &#39;test*.py’:测试用例文件名的匹配原则
5、top_level_dir:测试模块的顶层目录,如果没有顶层目录,则默认为None
五、测试用例的执行顺序 多个目录&gt;多个测试文件&gt;多个测试类&gt;多个测试方法
执行多级目录的测试用例
unittest默认按照ASCII码的顺序加载测试用例(字母与数字顺序为0-9,A-Z,a-z)
执行多级子目录下放一个__init__.py文件,该文件的作用是将一个目录标记一个标准python模块 import unittest test_dir = &#39;./test_case&#39; suite=unittest.defaultTestLoader.discover(test_dir, pattern=&#39;test*.py&#39;) if __name__ == &#39;__main__&#39;: runner = unittest.TextTestRunner() runner.run(suite) 六、跳过测试和预期失败 七、数据驱动应用 安装方式
pip install parameterized
使用方式
通过@parameterized.expand()去装饰测试用例,expand中的每个元组都被认为是一条测试用例,元组中的数据就为测试用例变化的值" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/da71b18191d30684213c40592c931114/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-25T15:47:32+08:00" />
<meta property="article:modified_time" content="2024-01-25T15:47:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">UnitTest自动化测试框架</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="%E4%B8%80%E3%80%81UnitTest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E6%8F%90%E4%BE%9B%E4%BA%86%E9%82%A3%E4%BA%9B%E5%8A%9F%E8%83%BD">一、UnitTest单元测试框架提供了那些功能</h3> 
<p><strong>1.提供用例组织和执行</strong></p> 
<p>如何定义一条“测试用例”?<br> 如何灵活地控制这些“测试用例”的执行?</p> 
<p><strong>2<strong>.</strong>提供丰定的断言方法</strong></p> 
<p>当测试用例的执行结果与预期结果不一致时，判定测试用例失败。在自动化测试中，通过“断言”来判定测试用例执行成功与否，测试框架提供丰富的断言方法，例如:判断相等/不相等包含/不包含、True/False等</p> 
<p><strong>3.提供丰富的日志</strong></p> 
<p>需要从结果中清晰地看出失败的原因。另外,我们还需要统计测试用例的执行结果，如总执行时间、失败测试用例数、成功测试用例数等，这些功能也是由单元测试框架提供的。</p> 
<h3 id="%E4%BA%8C%E3%80%81%E8%AE%A4%E8%AF%86unittest"><a name="t1"></a>二、认识unittest</h3> 
<p>1.引入unittest模块，自定义的类必须要继承unittest模块的TestCase类</p> 
<p>2.创建的测试方法，必须以test开头</p> 
<p>3.重要的概念</p> 
<p>3.1 TestCase</p> 
<p>Test Case是最小测试单元,用于检查特定输入集合的特定返回值。unittest提供的TestCase基类被自定义的测试类进行继承,它可以用来创建新的测试用例</p> 
<p>3.2 TestSuite</p> 
<p>测试套件事测试用例\测试套件或者两者的集合,用于组装一组要运行的测试</p> 
<p>3.3 Test Runner</p> 
<p>Test Runner是一个组件,用于协调测试的执行并向用户提供结果。Test Runner可以用图形界面、文本界面或返回特殊值来展示执行测试的结果</p> 
<p>3.4 Test Fixture</p> 
<p>Test Fixture代表执行一个或多个测试所需的环境准备,以及关联的清理动作。</p> 
<h3 id="%E4%B8%89%E3%80%81%E6%96%AD%E8%A8%80%E6%96%B9%E6%B3%95">三、断言方法</h3> 
<p><img alt="" src="https://images2.imgbox.com/7a/c0/5xccjhiK_o.png"></p> 
<h3 id="%E5%9B%9B%E3%80%81%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9A%84%E7%BB%84%E7%BB%87"><a name="t3"></a>四、测试用例的组织</h3> 
<p>1、unittest中的TestLoader类提供的discover()方法可以从多个文件中查找测试用例</p> 
<p>2、找到指定目录及其子目录下的所有测试模块，只有匹配的文件名才能被加载,如果启动的不是顶层目录,那么顶层目录必须单独指定</p> 
<pre><code>discover(start_dir,pattern=’ test*.py’ ,top_level_dir=None)</code></pre> 
<p>3、start_dir:待测试的模块名或测试用例目录</p> 
<p>4、pattern= 'test*.py’:测试用例文件名的匹配原则<br> 5、top_level_dir:测试模块的顶层目录,如果没有顶层目录,则默认为None</p> 
<p> </p> 
<h3 id="%E4%BA%94%E3%80%81%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F">五、测试用例的执行顺序</h3> 
<p>多个目录&gt;多个测试文件&gt;多个测试类&gt;多个测试方法</p> 
<p><strong>执行多级目录的测试用例</strong></p> 
<p>unittest默认按照ASCII码的顺序加载测试用例(字母与数字顺序为0-9,A-Z,a-z)</p> 
<p>执行多级子目录下放一个__init__.py文件,该文件的作用是将一个目录标记一个标准python模块 <img alt="" src="https://images2.imgbox.com/94/da/FtqiBb9M_o.jpg"></p> 
<p> </p> 
<p> </p> 
<pre><code class="hljs">import unittest
 
test_dir = './test_case'
 
suite=unittest.defaultTestLoader.discover(test_dir, pattern='test*.py')
 
if __name__ == '__main__':
    runner = unittest.TextTestRunner()
    runner.run(suite)</code></pre> 
<h3 id="%E5%85%AD%E3%80%81%E8%B7%B3%E8%BF%87%E6%B5%8B%E8%AF%95%E5%92%8C%E9%A2%84%E6%9C%9F%E5%A4%B1%E8%B4%A5">六、跳过测试和预期失败</h3> 
<p></p> 
<p><img alt="" src="https://images2.imgbox.com/4c/4c/rMfJga7l_o.jpg"></p> 
<h3 id="%E4%B8%83%E3%80%81%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E5%BA%94%E7%94%A8"><a name="t6"></a>七、数据驱动应用</h3> 
<p>安装方式</p> 
<p>pip install parameterized</p> 
<p>使用方式</p> 
<p>通过@parameterized.expand()去装饰测试用例,expand中的每个元组都被认为是一条测试用例,元组中的数据就为测试用例变化的值</p> 
<p> </p> 
<p><strong>感谢每一个认真阅读我文章的人，礼尚往来总是要有的，虽然不是什么很值钱的东西，如果你用得到的话可以直接拿走：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/30/45/k3VSBCLn_o.png"></p> 
<p>这些资料，对于【<a href="https://so.csdn.net/so/search?q=%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95&amp;spm=1001.2101.3001.7020" title="软件测试">软件测试</a>】的朋友来说应该是最全面最完整的备战仓库，这个仓库也陪伴上万个测试工程师们走过最艰难的路程，希望也能帮助到你!<strong>有需要的小伙伴可以点击下方小卡片领取</strong> </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c3/cd/HCvIDkST_o.png"></p> 
<p style="text-align:center;"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d357779e921f918b138d27ee248332b0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用vscode查bug</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a13b6a38ab9229eedfcdba6c34a345a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Skywalking开发分布式监控（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>