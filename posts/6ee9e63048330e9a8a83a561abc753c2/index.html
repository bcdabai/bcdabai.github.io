<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构与算法 | 第四章：字符串 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据结构与算法 | 第四章：字符串" />
<meta property="og:description" content="本文参考网课为 数据结构与算法 1 第四章字符串，主讲人 张铭 、王腾蛟 、赵海燕 、宋国杰 、邹磊 、黄群。
本文使用IDE为 Clion，开发环境 C&#43;&#43;14。
更新：2023 / 11 / 12
数据结构与算法 | 第四章：字符串 字符串概念字符串字符字符编码子串 抽象数据类型存储与实现顺序存储C / C&#43;&#43;的标准字符串标准串运算字符串长度字符串寻找字符 C&#43;&#43;的字符串类 String字符串类运算构造算子赋值算子提取子串 模式匹配概念应用分类精确匹配单选模式朴素匹配算法KMP 算法 近似匹配 参考链接 字符串 概念 字符串 字符串 是一类简单的由 字符（ char）构成的线性结构的 线性表。
字符串 简称 串，为零个或多个 字符 / 符号 构成的有限序列。
n (&gt;=0) 个 字符 的有限序列，一般记作 S C0C1…Cn-1。
S 为串名C0C1…Cn-1为串值。Ci中i位置上的 字符 / 符号n 为字符串长度。长度为零的串，不包含任何字符内容。理论上，一个字符串的长度可以为任意的有限长度，实际上： 定长
具有固定的最大长度，所用内存量始终如一变长
根据实际需要伸缩，以提高内存空间利用率 字符 字符 的取值依赖于字符集。常用的字符集包括：
由 {0, 1} 所构成的二进制字符集由4个字符组成的生物信息的DNA字符集由26个字符和标点符号等组成的英语语言由6763个常用汉字和682个全角非汉字符号等所构成的简体中文标准字符集GB2312适用于跨语言、跨平台的通用字符集USC（ Universal Character Set ） 这些 字符 在计算机里是如何存储和运算呢？这就需要 字符编码 来建立 字符集 与计算机数字系统之间的对应关系。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6ee9e63048330e9a8a83a561abc753c2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-12T16:04:37+08:00" />
<meta property="article:modified_time" content="2023-11-12T16:04:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构与算法 | 第四章：字符串</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本文参考网课为 <code>数据结构与算法</code> <sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup> 第四章字符串，主讲人 张铭 、王腾蛟 、赵海燕 、宋国杰 、邹磊 、黄群。</p> 
<p>本文使用IDE为 <code>Clion</code>，开发环境 <code>C++14</code>。</p> 
<p>更新：2023 / 11 / 12</p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>数据结构与算法 | 第四章：字符串</h4> 
 <ul><li><a href="#_12" rel="nofollow">字符串</a></li><li><ul><li><a href="#_13" rel="nofollow">概念</a></li><li><ul><li><a href="#_14" rel="nofollow">字符串</a></li><li><a href="#_29" rel="nofollow">字符</a></li><li><a href="#_41" rel="nofollow">字符编码</a></li><li><a href="#_61" rel="nofollow">子串</a></li></ul> 
   </li><li><a href="#_71" rel="nofollow">抽象数据类型</a></li><li><a href="#_90" rel="nofollow">存储与实现</a></li><li><ul><li><a href="#_95" rel="nofollow">顺序存储</a></li><li><ul><li><a href="#C__C_106" rel="nofollow">C / C++的标准字符串</a></li><li><ul><li><a href="#_116" rel="nofollow">标准串运算</a></li><li><ul><li><a href="#_131" rel="nofollow">字符串长度</a></li><li><a href="#_177" rel="nofollow">字符串寻找字符</a></li></ul> 
     </li></ul> 
     </li><li><a href="#C_String_216" rel="nofollow">C++的字符串类 String</a></li><li><ul><li><a href="#_241" rel="nofollow">字符串类运算</a></li><li><ul><li><a href="#_321" rel="nofollow">构造算子</a></li><li><a href="#_345" rel="nofollow">赋值算子</a></li><li><a href="#_364" rel="nofollow">提取子串</a></li></ul> 
     </li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#_392" rel="nofollow">模式匹配</a></li><li><ul><li><a href="#_393" rel="nofollow">概念</a></li><li><a href="#_398" rel="nofollow">应用</a></li><li><a href="#_410" rel="nofollow">分类</a></li><li><ul><li><a href="#_415" rel="nofollow">精确匹配</a></li><li><ul><li><a href="#_427" rel="nofollow">单选模式</a></li><li><ul><li><a href="#_439" rel="nofollow">朴素匹配算法</a></li><li><a href="#KMP__486" rel="nofollow">KMP 算法</a></li></ul> 
     </li></ul> 
     </li><li><a href="#_500" rel="nofollow">近似匹配</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_511" rel="nofollow">参考链接</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_12"></a>字符串</h2> 
<h3><a id="_13"></a>概念</h3> 
<h4><a id="_14"></a>字符串</h4> 
<p><code>字符串</code> 是一类简单的由 <code>字符</code>（ <code>char</code>）构成的线性结构的 <code>线性表</code>。</p> 
<p><code>字符串</code> 简称 <code>串</code>，为零个或多个 <code>字符</code> / <code>符号</code> 构成的有限序列。<br> <code>n</code> (&gt;=0) 个 <code>字符</code> 的有限序列，一般记作 <code>S</code> C<sub>0</sub>C<sub>1</sub>…C<sub>n-1</sub>。</p> 
<ul><li><code>S</code> 为串名</li><li>C<sub>0</sub>C<sub>1</sub>…C<sub>n-1</sub>为串值。C<sub>i</sub>中i位置上的 <code>字符</code> / <code>符号</code></li><li><code>n</code> 为字符串长度。长度为零的串，不包含任何字符内容。理论上，一个字符串的长度可以为任意的有限长度，实际上： 
  <ul><li>定长<br> 具有固定的最大长度，所用内存量始终如一</li><li>变长<br> 根据实际需要伸缩，以提高内存空间利用率</li></ul> </li></ul> 
<br> 
<h4><a id="_29"></a>字符</h4> 
<p><code>字符</code> 的取值依赖于字符集。常用的字符集包括：</p> 
<ul><li>由 {0, 1} 所构成的二进制字符集</li><li>由4个字符组成的生物信息的DNA字符集</li><li>由26个字符和标点符号等组成的英语语言</li><li>由6763个常用汉字和682个全角非汉字符号等所构成的简体中文标准字符集GB2312</li><li>适用于跨语言、跨平台的通用字符集USC（ <code>Universal Character Set</code> ）</li></ul> 
<p>这些 <code>字符</code> 在计算机里是如何存储和运算呢？这就需要 <code>字符编码</code> 来建立 <code>字符集</code> 与计算机数字系统之间的对应关系。</p> 
<br> 
<h4><a id="_41"></a>字符编码</h4> 
<p><code>字符编码</code> 会将 <code>字符集</code> 里的每一个字符编码为由0和1组成的序列。那么，具体，哪一个二进制序列表示哪一个符号则取决于我们所使用的编码方式。常用的编码方式有：</p> 
<ul><li><code>ASCII 编码</code> 
  <ul><li>使用单字节（ <code>8 bits</code> ）对字符集 <code>charset</code> 的128个符号进行编码</li><li>基于拉丁字母的编码，主要用于现代英语和多种西欧语言，也为大多数程序设计语言所采用，例如C和C++</li></ul> </li><li>其他编码方式 
  <ul><li><code>ANSI 编码</code><br> 支持多种东方语言：<code>GB2312</code>、<code>BIG5</code>、<code>JIS</code> 等。不同国家/地区制定不同的标准，不同 <code>ANSI</code> 编码间互不兼容</li><li><code>Unicode</code>（跨语言跨平台）<br> 各种语言中的每一个字符具有唯一的数字编号，便于跨平台的文本转换</li></ul> </li></ul> 
<p>无论采用哪一种编码方式，对于一个给定字符集中的字符编码需要满足一组无歧义的规则，使得字符集中的每一个字符都对应唯一的一个编码。且不同的字符编码之间要满足偏序关系。<br> 所谓偏序关系，是定义在集合上的一个二元关系满足自反性、反对称性和传递性。在偏序规则下，</p> 
<ul><li>连续的数字 <code>0</code> - <code>9</code> 是要连续编码的。像在 <code>ASCII 编码</code> 下，<code>0</code> 的编码是 <code>48</code>，那么 <code>1</code> 的编码就是 <code>49</code>。</li><li>连续的字符也是需要连续编码的。像在 <code>ASCII 编码</code> 下，大写字母 <code>A</code> 的编码是65，那么 <code>B</code> 的编码就是66。</li></ul> 
<p>通常在字符偏序下，根据字符的自然含义，两个字符之间是可以根据它的编码值进行直接的比较的。两个字符串就会按照构成的字符之间的编码进行大小的比较来得到字典序。</p> 
<br> 
<h4><a id="_61"></a>子串</h4> 
<p>一个 <code>字符串</code> 中任意个连续的字符组成的子序列称为该串的 <code>子串</code> 。</p> 
<p>比如说一个长度为 <code>n</code> 的字符串 s<sub>1</sub> 和长度为 <code>m</code> 的 s<sub>2</sub>，0&lt;=m&lt;=n。若存在整数 j (0&lt;=i&lt;=n-m) 使得 b<sub>j</sub> = a<sub>i+j</sub>，j = 0，1，…，m-1同时成立，则称串 s<sub>2</sub> 是串 s<sub>1</sub> 的字串，或称 s<sub>1</sub> 包含串 s<sub>2</sub>。<br> 另外，空串是任意串的子串。任意串S都是其自身的子串。</p> 
<p><code>子串</code> 相关的应用有：提取、插入、寻找、删除等等。</p> 
<br> 
<h3><a id="_71"></a>抽象数据类型</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">// 返回串的长度</span>
<span class="token keyword">int</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">// 判断串是否为空串</span>
<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 从s开始搜索串寻找一个给定字符</span>
<span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 串比较</span>

<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           		<span class="token comment">// 清空串</span>

string <span class="token function">substr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 从s开始提取一个长度为len的子串</span>
string <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 往串中给定位置插入一个字符</span>
string <span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 往串尾添加字符</span>
string <span class="token function">concatenate</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 往本串后面链接串s</span>

<span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 串复制</span>
</code></pre> 
<br> 
<h3><a id="_90"></a>存储与实现</h3> 
<p><code>字符串</code> 是一种基本元素为 <code>字符</code> 的特殊线性表，所以本质上它的存储也有线性表的顺序和链式两种方式。但是对于 <code>字符串</code> 这类特殊的线性表来说，链式存储的结构性开销过大而很少被采用，所以我们主要以顺序存储为主来介绍 <code>字符串</code> 的存储与实现。</p> 
<br> 
<h4><a id="_95"></a>顺序存储</h4> 
<p>对于定长的 <code>字符串</code> 采用顺序存储方式，即事先申请固定长度的空间但需要有相应的机制来确切的知道当前串的长度。所以一般有3种处理方案：</p> 
<ul><li>用 <code>字符串</code> 的第一个元素 <code>S[0]</code> 作为记录串长的存储单元<br> 缺点：该方式决定串的最大长度不能超过256 <sup class="footnote-ref"><a href="#fn2" rel="nofollow" id="fnref2">2</a></sup>。</li><li>另辟空间存储串的长度<br> 缺点：串的最大长度一般是静态给定的，而非动态申请</li><li>特殊标记串的结束<br> C / C++ 的标准字符串（ #include &lt;string.h&gt; ）</li></ul> 
<br> 
<h5><a id="C__C_106"></a>C / C++的标准字符串</h5> 
<p>C / C++ 的标准字符串是将字符串变量定义为字符数组 <code>char s[M]</code>。</p> 
<p>字符串的结束标记是 ASII码中8位全0码 ‘\0’，亦称 <code>NULL</code>。因此，字符串的实际长度为 <code>M-1</code>。<br> 例如，<code>chars s1[6]='value';</code>，定义了一个名为 <code>chars</code> 的字符数组，长度为6位，但是只能存储5位字母。</p> 
<p>需要注意的是，标准串定义成了数组，所以它是无法作为左值被赋值的。例如，<code>s1 = s2</code> 是不合规的。</p> 
<br> 
<h6><a id="_116"></a>标准串运算</h6> 
<p>函数库 <code>&lt;string.h&gt;</code> 提供字符串处理函数来方便字符串的运算。下面是 <code>string.h</code> 提供的一些常用的字符串的操作：</p> 
<table><thead><tr><th align="left">函数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left"><code>int strlen(char *s)</code></td><td align="left">串长</td></tr><tr><td align="left"><code>char *strcpy(char *s1, char*s2);</code></td><td align="left">串复制</td></tr><tr><td align="left"><code>char *strcat(char *s1, char *s2);</code></td><td align="left">串拼接</td></tr><tr><td align="left"><code>int strcmp(char *s1, char *s2);</code></td><td align="left">串比较</td></tr><tr><td align="left"><code>char *strchr(char *s, char c);</code></td><td align="left">字符定位</td></tr><tr><td align="left"><code>char *strrchr(char *s, char c);</code></td><td align="left">字符定位</td></tr><tr><td align="left"><code>int *strstr(char* s2, char* s1)</code></td><td align="left">子串抓取</td></tr></tbody></table> 
<br> 
<h6><a id="_131"></a>字符串长度</h6> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 1. 求字符串的长度</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        i <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 2. 比较2个字符串的长度</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span>          <span class="token comment">// 定义2个字符串，分别为s1、s2</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>         <span class="token comment">// 字符串的结束标记为 \0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>                               <span class="token comment">// s1比s2长</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                              <span class="token comment">// s1比s2短</span>
        i <span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                                  <span class="token comment">// s1比s2短</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>                                   <span class="token comment">// s2比s1短</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>或者，</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">strcmp_1</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s1<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>s2<span class="token punctuation">)</span>                <span class="token comment">// 定义2个字符串，分别为s1、s2</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                           <span class="token comment">// 两个字符串相等</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">abs</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 不等，比较第一个不同的字符</span>
<span class="token punctuation">}</span>
</code></pre> 
<br> 
<h6><a id="_177"></a>字符串寻找字符</h6> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 1. 在字符串 <code>s</code> 中正向寻找字符 <code>c</code></li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">strchr</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> c<span class="token punctuation">)</span>       <span class="token comment">// 循环跳过非c字符</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">// 在循环结束后</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>                       <span class="token comment">// 当s不包含字符c则在s[i]即串尾</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>                                    <span class="token comment">// 当s[i]==c则返回s[i]</span>
        <span class="token keyword">return</span> <span class="token operator">&amp;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> 2. 在字符串 <code>s</code> 中反向寻找字符 <code>c</code></li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">strrchr</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span> i<span class="token operator">++</span><span class="token punctuation">;</span>               <span class="token comment">// 获得s字符串的长度</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">--</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 循环反向跳过非c字符</span>
    <span class="token comment">// 在循环结束后</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>                       <span class="token comment">// 当s不包含字符c则在串尾结束</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>                                    <span class="token comment">// 若成功则返回相应位置</span>
        <span class="token keyword">return</span> <span class="token operator">&amp;</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>举例，在 <code>s = [Hello world\0]</code> 中寻找 <code>o</code>：</p> 
<p><img src="https://images2.imgbox.com/b2/4e/3RZ627iB_o.png" alt="在这里插入图片描述" width="350"><br> 寻找字符 <code>o</code>，<code>strchar(s, 'o')</code> 返回 <code>4</code>；<br> 反向寻找 <code>o</code>，<code>strchar(s, 'o')</code> 返回 <code>7</code>。</p> 
<br> 
<h5><a id="C_String_216"></a>C++的字符串类 String</h5> 
<p>除了采用标准字符串以外，还可以采用字符串类 <code>String</code> 来表示和存储字符串，以适应字符串的长度动态变化。</p> 
<p>在 <code>String</code> 类中，字符串不再是以字符数组 <code>char S[M]</code> 这种形式来直接出现，而是采用一种动态变长的存储结构。</p> 
<p><code>String</code> 类是通过实例化标准模板库中的 <code>STL</code> 的 <code>basic_string</code> 而得到的。如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">typedef</span> basic_string <span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span> string<span class="token punctuation">;</span>
</code></pre> 
<p>它的存储结构如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">private</span><span class="token operator">:</span>                <span class="token comment">// 具体实现的字符串存储结构</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">;</span>                          <span class="token comment">// 字符指针表示的串实体</span>
    <span class="token keyword">int</span> size<span class="token punctuation">;</span>                           <span class="token comment">// 字符串长度</span>
<span class="token keyword">public</span><span class="token operator">:</span>                 <span class="token comment">// 成员函数</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 构构子</span>
    <span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment">// 析构子</span>
    String <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>String <span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 赋值</span>
    String <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 拼接</span>
    String <span class="token function">substr</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> cout<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 子串</span>
    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 查找</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<h6><a id="_241"></a>字符串类运算</h6> 
<table><tbody><tr><th>操作类别</th><th>方法</th><th>描述</th></tr><tr><td>子串</td><td>substr</td><td>返回一个串的子串</td></tr><tr><td rowspan="2">拷贝 / 交换</td><td>copy</td><td>将一个串拷贝到另一个串中</td></tr><tr><td>swap</td><td>交换两个串的内容</td></tr><tr><td rowspan="2">赋值</td><td>assign</td><td>把一个串、一个字符、一个子串赋值给另一个串中</td></tr><tr><td>=</td><td>把一个串或一个字符赋值给另一个串中</td></tr><tr><td rowspan="3">插入 / 追加</td><td>insert</td><td>在给定位置插入一个字符、多个字符或串</td></tr><tr><td>+=</td><td>将一个字符或串追加到另一个串后</td></tr><tr><td>append</td><td>将一个或多个字符，或串追加在另一个串后</td></tr><tr><td>拼接</td><td>+</td><td>通过将一个串放置在另一个串后面来构建新的新串</td></tr><tr><td>查询</td><td>find</td><td>找到并返回一个子序列的开始位置</td></tr><tr><td rowspan="2">替换 / 清除</td><td>replace</td><td>替换一个指定字符或一个串的子串</td></tr><tr><td>clear</td><td>清除串中的所有字符</td></tr><tr><td rowspan="3">统计</td><td>size</td><td>返回串中字符的数目</td></tr><tr><td>length</td><td>返回size()</td></tr><tr><td>max_size</td><td>返回串允许的最大长度</td></tr></tbody></table> 
<br> 
<h6><a id="_321"></a>构造算子</h6> 
<p><code>String</code> 类有多个构造函数。构造一个带有初始值的 <code>String</code> 类可以参照以下方法：</p> 
<pre><code class="prism language-cpp"><span class="token class-name">String</span><span class="token double-colon punctuation">::</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>        <span class="token comment">// 确定新字符串需要的空间，初始值为 char *s</span>
    size <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 新字符串的长度由标准字符串函数 strlen(s) 确定</span>
    str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span> <span class="token punctuation">[</span>size<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 在动态存储区域开辟一块空间，用于存储初值s，包括结束符</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>str <span class="token operator">!=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 开辟空间不成功时，运行异常，退出</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 在空间申请成功后，用标准字符串函数strcpy将s完全复制到指针str所指的存储空间</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>例如，我们可以通过上面的带参数的构造函数通过 <code>String s1("hello");</code> 定义一个 <code>String</code> 类的变量 <code>s1</code>，初始值为 <code>hello</code>。那么我们就可以申请一个容纳下 <code>hello</code> 的空间来将 <code>hello</code> 容纳进去，并且将 <code>size</code> 设置成相应的大小。</p> 
<pre><code class="prism language-cpp">String <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>
    size_t size<span class="token punctuation">;</span>        <span class="token comment">// 值为5</span>
</code></pre> 
<br> 
<h6><a id="_345"></a>赋值算子</h6> 
<pre><code class="prism language-cpp">String String<span class="token double-colon punctuation">::</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>        <span class="token comment">// 参数s将被赋值并覆盖本串。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">!=</span> s<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>                    <span class="token comment">// 比较本串和参数串s的大小：若本串和参数串长度不一致，则释</span>
        <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> str<span class="token punctuation">;</span>                         <span class="token comment">// 放原本的串的存储空间</span>
        str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span> <span class="token punctuation">[</span>s<span class="token punctuation">.</span>size<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>             <span class="token comment">// 按照参数s的大小申请新的空间，并把参数s的串值复制到本串中</span>
        <span class="token function">assert</span><span class="token punctuation">(</span>str<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token operator">=</span>s<span class="token punctuation">.</span>size<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 将参数串s赋值到本串</span>
    <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>                           <span class="token comment">// 返回得到的字符串</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>例如，我们通过构造函数构造一个串 <code>s2</code>，它的初值为 <code>hello world</code> 并通过 <code>String s2("hello world"); s1=s2;</code> 将这个值赋值给 <code>s1</code>。而 <code>s1</code> 此前已经被赋值 <code>hello</code>，所以可以看到 <code>hello</code> 的空间不足以存放新的值 <code>hello world</code>，所以将原本的空间释放掉、申请一个新的空间来容纳新值。<br> <img src="https://images2.imgbox.com/03/ef/cXI1VQLt_o.png" alt="在这里插入图片描述"></p> 
<br> 
<h6><a id="_364"></a>提取子串</h6> 
<pre><code class="prism language-cpp"><span class="token comment">// 提取子串的函数是将本串从index开始提取连续的count个字符 作为子串返回，放到temp中</span>
String <span class="token class-name">String</span><span class="token double-colon punctuation">::</span><span class="token function">Substr</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>    <span class="token comment">// 取出一自下表index开始长度为count的子串返回</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">int</span> left <span class="token operator">=</span> size <span class="token operator">-</span> index<span class="token punctuation">;</span>                    <span class="token comment">// 本串自下标index开始到串尾的长度为left</span>
    String temp<span class="token punctuation">;</span> <span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">*</span>q<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> size<span class="token punctuation">)</span>                          <span class="token comment">// 若下标index超过本串实际串长，则返回空串；</span>
        <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> left<span class="token punctuation">)</span>                           <span class="token comment">// 若count超过自index开始剩余的子串长度</span>
        count <span class="token operator">=</span> left<span class="token punctuation">;</span>                           <span class="token comment">// 则count截取为剩余长度</span>
    <span class="token keyword">delete</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> temp<span class="token punctuation">.</span>str<span class="token punctuation">;</span>                         <span class="token comment">// 释放原来的存储空间</span>
    temp<span class="token punctuation">.</span>str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span> <span class="token punctuation">[</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>str <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// 若开辟动态存储空间失败，则退出</span>
    p <span class="token operator">=</span> temp<span class="token punctuation">.</span>str<span class="token punctuation">;</span>                               <span class="token comment">// 若指针p指向目前暂无内容的字符数组的首字符处</span>
    q <span class="token operator">=</span> <span class="token operator">&amp;</span>str<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>                            <span class="token comment">// 指针q指向本实例串的str数组的下标index字符</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                     <span class="token comment">// 从index开始逐个提取字符到串temp中</span>
        <span class="token operator">*</span>p<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>q<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                                     <span class="token comment">// 循环结束后，让temp.str的结尾为 '\0'</span>
    temp<span class="token punctuation">.</span>size <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>例如，我们可以通过 <code>s2 = s1.substr(6 ,5)</code> 从串 <code>s1</code> <code>hello world</code> 的第6个位置开始，连续提取5个字符形成子串 <code>world</code> 赋值给 <code>s2</code>。</p> 
<br> 
<h3><a id="_392"></a>模式匹配</h3> 
<h4><a id="_393"></a>概念</h4> 
<p><code>模式匹配</code>（ <code>Pattern Matching</code> ），在目标文本 <code>T</code> 中寻找和定位一个给定模式 <code>P</code>（ <code>Pattern</code> ）的过程。</p> 
<br> 
<h4><a id="_398"></a>应用</h4> 
<p><code>模式匹配</code> 有着非常广泛的应用，例如：</p> 
<ul><li>进行文本编辑时对特定词语、语句的查找； 
  <ul><li>大文本（诸如，句子、段落或书本）中定位特定的模式；</li><li>UNIX / Linux：sed、awk、grep；</li></ul> </li><li>在生物信息方面，对DNA信息的提取；</li><li>用于确认是否具有某种特定形式的结构： 
  <ul><li>函数式语言</li></ul> </li><li>…</li></ul> 
<br> 
<h4><a id="_410"></a>分类</h4> 
<p>根据匹配结果的精确性，<code>模式匹配</code> 可以分为 <code>精确匹配</code> 和 <code>近似匹配</code>。</p> 
<br> 
<h5><a id="_415"></a>精确匹配</h5> 
<p><code>精确匹配</code>（ <code>Extract String Matching</code> ），若目标 <code>T</code> 中至少存在一处与模式 <code>P</code> 完全相同的子串，则称为匹配成功。</p> 
<p>根据模式的不同，可以进一步的分为：</p> 
<ul><li>单选模式<br> 例如，<code>Set</code>；</li><li>多选模式<br> 例如，包含通配符的 <code>S？t</code></li><li>正则表达式</li></ul> 
<br> 
<h6><a id="_427"></a>单选模式</h6> 
<p>给定模式串 <code>P</code>，在目标字符串 <code>T</code> 中搜索与模式 <code>P</code> 全同的子串，简称为 <code>配串</code>。如果找到，则返回 <code>T</code> 中第一个 <code>P</code> 的配串的首地址。</p> 
<p><img src="https://images2.imgbox.com/45/fe/udzHvg9E_o.png" alt="在这里插入图片描述" width="280"><br> 因为模式匹配频繁用于文本的模式查找，所以效率是衡量模式匹配算法的一个重要指标。因此，存在许多种用于模式匹配的算法。</p> 
<p>这里列出一些常用的单选模式的字符串匹配算法，包含每个算法的预处理时间和匹配时间：</p> 
<p><img src="https://images2.imgbox.com/b9/06/FnZ4ZyLK_o.png" alt="在这里插入图片描述" width="350"></p> 
<br> 
<h6><a id="_439"></a>朴素匹配算法</h6> 
<p><code>朴素</code> 匹配算法（ <code>Native / Brute Force</code> ），本质上是穷举，尝试所有匹配的可能。</p> 
<p>假设 T = t<sub>0</sub>t<sub>1</sub>t<sub>2</sub>…t<sub>n</sub>， P = p<sub>0</sub>p<sub>2</sub>…p<sub>m-1</sub>。i, j 分别表示 T 和 P 当前字符的下标，在目标字符串 <code>T</code> 中搜索与模式 <code>P</code> 的配串：</p> 
<ol><li>将模式从头与目标串的第 i 个字符开始比较：若相等，则继续逐个比较后续字符；</li><li>匹配成功（ p<sub>0</sub> = t<sub>k</sub>，p<sub>1</sub> = t<sub>k+1</sub>，…，p<sub>m-1</sub> = t<sub>k+m-1</sub>），即 T.substr(k, m) == P；</li><li>若一趟匹配过程发生失配（ p<sub>j</sub> != t<sub>i</sub> ），则将 P 整体右移1位开始下一趟的匹配</li></ol> 
<p>例如，存在目标字符串 <code>T = ababababababb</code> 和模式串 <code>P = abababb</code>：</p> 
<p><img src="https://images2.imgbox.com/7b/74/79Vg6uBt_o.png" alt="在这里插入图片描述" width="250"></p> 
<ol><li>将P从0开始与T的第 i 个字符开始比较：若相等，则继续逐个比较后续字符；在第6个字符发生失配（ P<sub>6</sub> != T<sub>6</sub>），将P整体右移1位开始下一趟的匹配；</li><li>将P从1开始与T的第 i 个字符开始比较：在第1个字符发生失配（P<sub>0</sub> ！= T<sub>1</sub> ），将P整体右移1位开始下一趟的匹配；</li><li>重复上述步骤，直至 T.substr(k, m) == P 匹配成功或者匹配失败。</li></ol> 
<p>例如，存在目标字符串 <code>T = aaaaaaaaaab</code> 和模式串 <code>P = aaaaaab</code>：</p> 
<p><img src="https://images2.imgbox.com/ed/c5/1cr0mVZH_o.png" alt="在这里插入图片描述" width="240"></p> 
<ol><li>将P从0开始与T的第 i 个字符开始比较：若相等，则继续逐个比较后续字符；在第6个字符发生失配（ P<sub>6</sub> != T<sub>6</sub>），将P整体右移1位开始下一趟的匹配；</li><li>将P从1开始与T的第 i 个字符开始比较：在第1个字符发生失配（P<sub>6</sub> ！= T<sub>7</sub> ），将P整体右移1位开始下一趟的匹配；</li><li>重复上述步骤，直至 T.substr(k, m) == P 匹配成功或者匹配失败。</li></ol> 
<p><code>朴素模式</code> 的匹配算法实现如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> g<span class="token punctuation">,</span> j<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">FindPattern</span><span class="token punctuation">(</span>string T<span class="token punctuation">,</span> string P<span class="token punctuation">,</span> <span class="token keyword">int</span> startindex<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> g<span class="token operator">=</span>startindex<span class="token punctuation">;</span> g<span class="token operator">&lt;=</span>T<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>P<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> g<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>     <span class="token comment">// g为T的游标，用模板P和目标T的第g位置子串进行比较</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>j<span class="token operator">&lt;</span>P<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>T<span class="token punctuation">[</span>g<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token operator">==</span>P<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>j<span class="token operator">==</span>P<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> g<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                               <span class="token comment">// for循环结束，或者，startindex溢出，匹配失败</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>朴素模式</code> 的匹配算法的时间复杂度分析如下：</p> 
<ul><li> <p>最差情形<br><br> <img src="https://images2.imgbox.com/01/61/KL81MYK6_o.png" alt="在这里插入图片描述" width="400"></p> </li><li> <p>最佳情形<br><br> <img src="https://images2.imgbox.com/cd/88/ZRggyzlw_o.png" alt="在这里插入图片描述" width="320"><br> <img src="https://images2.imgbox.com/5e/59/VNY5izqR_o.png" alt="在这里插入图片描述" width="300"></p> </li></ul> 
<br> 
<h6><a id="KMP__486"></a>KMP 算法</h6> 
<p><code>Knuth - Morris - Pratt</code>（ <code>KMP</code> ）发现每个字符对应的 <code>k</code> 值仅依赖于模式 <code>P</code> 本身，与目标串 <code>T</code> 无关。</p> 
<p>1970年，S.A.Cook 在进行抽象机的理论研究时证明了最差情况下模式匹配可在 <code>O（N+M）</code> 时间内完成。<br> D.E.Knuth 和 V.R.Pratt 以 Cook理论为基础，构造了一种在 <code>O（N+M）</code> 时间内进行模式匹配的方法。<br> 与此同时，J.H.Morris 在开发文本编辑器时为了避免检索文本时的回溯，也得到了同样的算法。</p> 
<p>长度为m的模式P，P=p<sub>0</sub>p<sub>1</sub>p<sub>2</sub>p<sub>3</sub>…p<sub>m-1</sub>。特征向量N表示模式P的字符分布特征，由m个特征数n<sub>j</sub>组成 N = n<sub>0</sub>n<sub>1</sub>n<sub>2</sub>n<sub>3</sub>…n<sub>m-1</sub>。<br> 特征向量，简称 <code>N向量</code>。在很多文献中也称为 <code>next</code> 数组，每个特征数 n<sub>j</sub> 对应 <code>next</code> 数组的一个元素。</p> 
<p>【还是没搞懂KMP算法的思想…此处略…】</p> 
<br> 
<h5><a id="_500"></a>近似匹配</h5> 
<p><code>近似匹配</code>（ <code>Approximate String Matching</code> )，若模式 <code>P</code> 与目标 <code>T</code>（或其子串）存在某种程度的相似，则称为匹配成功。</p> 
<p>字符串相似度通常定义串变换所需基本操作数目。</p> 
<p>字符串基本操作包括 <code>插入</code>、<code>删除</code> 和 <code>替换</code> 三种操作。</p> 
<br> 
<hr> 
<h2><a id="_511"></a>参考链接</h2> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://www.icourse163.org/learn/PKU-1002534001?tid=1470937462#/learn/announce" rel="nofollow">数据结构与算法</a> <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li><li id="fn2" class="footnote-item"><p><a href="https://zhuanlan.zhihu.com/p/422907374" rel="nofollow">详解计算机中的字、字节（Byte）、比特（bit）及它们之间的关系</a> <a href="#fnref2" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9f2d1d89879b9bf054336279b689a491/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">简单理解Vue2的响应式原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/39a0f05588024c3aae818db72ca24fce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">我的2023一名云安全专员年度工作分解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>