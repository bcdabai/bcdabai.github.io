<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python爬取新冠肺炎实时数据及其可视化分析 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python爬取新冠肺炎实时数据及其可视化分析" />
<meta property="og:description" content="点赞、关注再看，养成良好习惯Life is short, U need Python 案例：Python爬取新冠肺炎实时数据及其可视化分析 作者：PyQuant
本案例适合作为大数据技术基础课程中数据爬取、清洗以及可视化部分的配套教学案例。通过本案例，能够达到以下教学效果：
培养学生爬取网站数据以及数据清洗、加工处理的能力。
案例中通过Python第三方库request获取网站实时数据，并利用pandas清洗数据为可视化数据做准备。 培养学生对真实数据进行可视化分析的能力。
案例中数据来源于网站爬取得到的新冠肺炎实时数据，对新冠肺炎感染者或疑似感染者等数据进行可视化分析。 帮助学生进一步掌握常用图表的绘制方法。
案例中涉及到折线图和柱状图等。 提高学生动手实践能力。
案例中使用Python中的常用可视化工具Matplotlib，提高学生绘制常用图表的实践能力。 1. 利用Python爬取实时数据 网站：https://news.qq.com/zt2020/page/feiyan.htm
原理：通过Requests获取Json请求，从而得到全国各省的疫情数据。
1.1 分析网站 通过浏览器 “审查元素” 查看源代码（右键单击网页地图选择‘审查元素’选项）及 “网络” 反馈的消息，如下图所示：
对应的HTTP信息如下所示：
1.2 发送请求并获取Json数据 通过分析url地址、请求方法、参数及响应格式，可以获取Json数据，注意url需要增加一个时间戳。
import time import json import requests url = &#39;https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5&amp;callback=&amp;_=%d&#39;%int(time.time()*1000) # 抓取腾讯疫情实时json数据 data = json.loads(requests.get(url=url).json()[&#39;data&#39;]) # 数据太多，打印一个键值对 print(data[&#39;lastUpdateTime&#39;]) 2020-03-11 16:46:29 2. 数据处理 2.1 认识数据 type(data),len(data) (dict, 12) print(data.keys()) dict_keys([&#39;lastUpdateTime&#39;, &#39;chinaTotal&#39;, &#39;chinaAdd&#39;, &#39;isShowAdd&#39;, &#39;showAddSwitch&#39;, &#39;areaTree&#39;, &#39;chinaDayList&#39;, &#39;chinaDayAddList&#39;, &#39;dailyNewAddHistory&#39;, &#39;dailyHistory&#39;, &#39;wuhanDayList&#39;, &#39;articleList&#39;]) # data[&#39;areaTree&#39;] # data[&#39;areaTree&#39;][0] # 统计省份信息 num = data[&#39;areaTree&#39;][0][&#39;children&#39;] # print(num) print(num[0]) # 数据太多，打印部分 {&#39;name&#39;: &#39;湖北&#39;, &#39;today&#39;: {&#39;confirm&#39;: 13, &#39;confirmCuts&#39;: 0, &#39;isUpdated&#39;: True, &#39;tip&#39;: &#39;&#39;}, &#39;total&#39;: {&#39;confirm&#39;: 67773, &#39;suspect&#39;: 0, &#39;dead&#39;: 3046, &#39;deadRate&#39;: &#39;4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5181c3ae9057253f8b7584e203682850/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-24T10:10:00+08:00" />
<meta property="article:modified_time" content="2023-11-24T10:10:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python爬取新冠肺炎实时数据及其可视化分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <ul><li>点赞、关注再看，养成良好习惯</li><li>Life is short, U need Python</li></ul> 
</blockquote> 
<hr> 
<h4><a id="Python_3"></a>案例：Python爬取新冠肺炎实时数据及其可视化分析</h4> 
<p>作者：PyQuant</p> 
<p>本案例适合作为大数据技术基础课程中数据爬取、清洗以及可视化部分的配套教学案例。通过本案例，能够达到以下教学效果：</p> 
<ul><li> <p>培养学生爬取网站数据以及数据清洗、加工处理的能力。</p> 
  <ul><li>案例中通过Python第三方库request获取网站实时数据，并利用pandas清洗数据为可视化数据做准备。</li></ul> </li><li> <p>培养学生对真实数据进行可视化分析的能力。</p> 
  <ul><li>案例中数据来源于网站爬取得到的新冠肺炎实时数据，对新冠肺炎感染者或疑似感染者等数据进行可视化分析。</li></ul> </li><li> <p>帮助学生进一步掌握常用图表的绘制方法。</p> 
  <ul><li>案例中涉及到折线图和柱状图等。</li></ul> </li><li> <p>提高学生动手实践能力。</p> 
  <ul><li>案例中使用Python中的常用可视化工具Matplotlib，提高学生绘制常用图表的实践能力。</li></ul> </li></ul> 
<hr> 
<br> 
<h3><a id="1_Python_23"></a>1. 利用Python爬取实时数据</h3> 
<ul><li> <p>网站：https://news.qq.com/zt2020/page/feiyan.htm</p> </li><li> <p>原理：通过Requests获取Json请求，从而得到全国各省的疫情数据。</p> </li></ul> 
<h4><a id="11___29"></a>1.1 分析网站</h4> 
<ul><li> <p>通过浏览器 “审查元素” 查看源代码（右键单击网页地图选择‘审查元素’选项）及 “网络” 反馈的消息，如下图所示：<br> <img src="https://images2.imgbox.com/0f/8d/fBusDSkr_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5b/a1/qeyuXheY_o.png" alt="在这里插入图片描述"></p> </li><li> <p>对应的HTTP信息如下所示：</p> </li></ul> 
<p><img src="https://images2.imgbox.com/c0/53/K8KNgGRm_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="12_Json_39"></a>1.2 发送请求并获取Json数据</h4> 
<p>通过分析url地址、请求方法、参数及响应格式，可以获取Json数据，注意url需要增加一个时间戳。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> json
<span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">'https://view.inews.qq.com/g2/getOnsInfo?name=disease_h5&amp;callback=&amp;_=%d'</span><span class="token operator">%</span><span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token comment"># 抓取腾讯疫情实时json数据</span>
data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 数据太多，打印一个键值对</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'lastUpdateTime'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>2020-03-11 16:46:29
</code></pre> 
<h3><a id="2__61"></a>2. 数据处理</h3> 
<h4><a id="21__63"></a>2.1 认识数据</h4> 
<pre><code class="prism language-python"><span class="token builtin">type</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>(dict, 12)
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>dict_keys(['lastUpdateTime', 'chinaTotal', 'chinaAdd', 'isShowAdd', 'showAddSwitch', 'areaTree', 'chinaDayList', 'chinaDayAddList', 'dailyNewAddHistory', 'dailyHistory', 'wuhanDayList', 'articleList'])
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># data['areaTree']</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># data['areaTree'][0]</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 统计省份信息</span>
num <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">'areaTree'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span>
<span class="token comment"># print(num)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 数据太多，打印部分</span>
</code></pre> 
<pre><code>{'name': '湖北', 'today': {'confirm': 13, 'confirmCuts': 0, 'isUpdated': True, 'tip': ''}, 'total': {'confirm': 67773, 'suspect': 0, 'dead': 3046, 'deadRate': '4.49', 'showRate': False, 'heal': 49056, 'healRate': '72.38', 'showHeal': True}, 'children': [{'name': '武汉', 'today': {'confirm': 13, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 49978, 'suspect': 0, 'dead': 2423, 'deadRate': '4.85', 'showRate': False, 'heal': 33041, 'healRate': '66.11', 'showHeal': True}}, {'name': '孝感', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 3518, 'suspect': 0, 'dead': 126, 'deadRate': '3.58', 'showRate': False, 'heal': 3149, 'healRate': '89.51', 'showHeal': True}}, {'name': '黄冈', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 2907, 'suspect': 0, 'dead': 125, 'deadRate': '4.30', 'showRate': False, 'heal': 2684, 'healRate': '92.33', 'showHeal': True}}, {'name': '荆州', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 1580, 'suspect': 0, 'dead': 49, 'deadRate': '3.10', 'showRate': False, 'heal': 1442, 'healRate': '91.27', 'showHeal': True}}, {'name': '鄂州', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 1394, 'suspect': 0, 'dead': 54, 'deadRate': '3.87', 'showRate': False, 'heal': 1127, 'healRate': '80.85', 'showHeal': True}}, {'name': '随州', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 1307, 'suspect': 0, 'dead': 44, 'deadRate': '3.37', 'showRate': False, 'heal': 1151, 'healRate': '88.06', 'showHeal': True}}, {'name': '襄阳', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 1175, 'suspect': 0, 'dead': 38, 'deadRate': '3.23', 'showRate': False, 'heal': 1094, 'healRate': '93.11', 'showHeal': True}}, {'name': '黄石', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 1015, 'suspect': 0, 'dead': 38, 'deadRate': '3.74', 'showRate': False, 'heal': 917, 'healRate': '90.34', 'showHeal': True}}, {'name': '宜昌', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 931, 'suspect': 0, 'dead': 35, 'deadRate': '3.76', 'showRate': False, 'heal': 800, 'healRate': '85.93', 'showHeal': True}}, {'name': '荆门', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 928, 'suspect': 0, 'dead': 39, 'deadRate': '4.20', 'showRate': False, 'heal': 817, 'healRate': '88.04', 'showHeal': True}}, {'name': '咸宁', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 836, 'suspect': 0, 'dead': 14, 'deadRate': '1.67', 'showRate': False, 'heal': 812, 'healRate': '97.13', 'showHeal': True}}, {'name': '十堰', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 672, 'suspect': 0, 'dead': 8, 'deadRate': '1.19', 'showRate': False, 'heal': 604, 'healRate': '89.88', 'showHeal': True}}, {'name': '仙桃', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 575, 'suspect': 0, 'dead': 22, 'deadRate': '3.83', 'showRate': False, 'heal': 520, 'healRate': '90.43', 'showHeal': True}}, {'name': '天门', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 496, 'suspect': 0, 'dead': 15, 'deadRate': '3.02', 'showRate': False, 'heal': 473, 'healRate': '95.36', 'showHeal': True}}, {'name': '恩施州', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 252, 'suspect': 0, 'dead': 7, 'deadRate': '2.78', 'showRate': False, 'heal': 235, 'healRate': '93.25', 'showHeal': True}}, {'name': '潜江', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 198, 'suspect': 0, 'dead': 9, 'deadRate': '4.55', 'showRate': False, 'heal': 179, 'healRate': '90.40', 'showHeal': True}}, {'name': '神农架', 'today': {'confirm': 0, 'confirmCuts': 0, 'isUpdated': True}, 'total': {'confirm': 11, 'suspect': 0, 'dead': 0, 'deadRate': '0.00', 'showRate': False, 'heal': 11, 'healRate': '100.00', 'showHeal': True}}]}
</code></pre> 
<pre><code class="prism language-python">hubei <span class="token operator">=</span> num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>   <span class="token comment"># 湖北省</span>
</code></pre> 
<pre><code class="prism language-python">hubei<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>dict_keys(['name', 'today', 'total', 'children'])
</code></pre> 
<pre><code class="prism language-python">hubei<span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>{'confirm': 67773,
 'suspect': 0,
 'dead': 3046,
 'deadRate': '4.49',
 'showRate': False,
 'heal': 49056,
 'healRate': '72.38',
 'showHeal': True}
</code></pre> 
<pre><code class="prism language-python">henan <span class="token operator">=</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token comment"># 河南省</span>
</code></pre> 
<pre><code class="prism language-python">henan<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>dict_keys(['name', 'today', 'total', 'children'])
</code></pre> 
<pre><code class="prism language-python">henan<span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>{'confirm': 1273,
 'suspect': 0,
 'dead': 22,
 'deadRate': '1.73',
 'showRate': False,
 'heal': 1249,
 'healRate': '98.11',
 'showHeal': True}
</code></pre> 
<h4><a id="22___156"></a>2.2 获取湖北省不同地区疫情确诊总数据</h4> 
<pre><code class="prism language-python"><span class="token comment"># hubei   # 湖北所有数据信息</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># hubei['children']   # 湖北不同地区数据</span>
</code></pre> 
<pre><code class="prism language-python">hubei<span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span>  <span class="token comment"># 武汉总数据</span>
</code></pre> 
<pre><code>{'confirm': 49978,
 'suspect': 0,
 'dead': 2423,
 'deadRate': '4.85',
 'showRate': False,
 'heal': 33041,
 'healRate': '66.11',
 'showHeal': True}
</code></pre> 
<p>其数据包括当日数据（today）和累计数据（total），confirm表示确诊、suspect表示疑似、dead表示死亡、heal表示治愈。</p> 
<pre><code class="prism language-python"><span class="token comment"># 解析湖北省不同地区确诊的总数据</span>
hubei_children_total_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> hubei<span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token keyword">not</span> <span class="token keyword">in</span> hubei_children_total_data<span class="token punctuation">:</span>
        hubei_children_total_data<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    hubei_children_total_data<span class="token punctuation">[</span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>hubei_children_total_data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>{'武汉': 49978, '孝感': 3518, '黄冈': 2907, '荆州': 1580, '鄂州': 1394, '随州': 1307, '襄阳': 1175, '黄石': 1015, '宜昌': 931, '荆门': 928, '咸宁': 836, '十堰': 672, '仙桃': 575, '天门': 496, '恩施州': 252, '潜江': 198, '神农架': 11}
</code></pre> 
<h4><a id="23__199"></a>2.3 获取河南省不同地区疫情确诊总数据</h4> 
<pre><code class="prism language-python"><span class="token comment"># henan   # 河南所有数据信息</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># henan['children']   # 河南不同地区分数据</span>
</code></pre> 
<pre><code class="prism language-python">henan<span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span>  <span class="token comment"># 郑州总数据</span>
</code></pre> 
<pre><code>{'confirm': 158,
 'suspect': 0,
 'dead': 5,
 'deadRate': '3.16',
 'showRate': False,
 'heal': 152,
 'healRate': '96.20',
 'showHeal': True}
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 解析河南省不同地区确诊的总数据</span>
henan_children_total_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> henan<span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token keyword">not</span> <span class="token keyword">in</span> henan_children_total_data<span class="token punctuation">:</span>
        henan_children_total_data<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    henan_children_total_data<span class="token punctuation">[</span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>henan_children_total_data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>{'信阳': 274, '郑州': 158, '南阳': 156, '驻马店': 139, '商丘': 91, '周口': 76, '平顶山': 58, '新乡': 57, '安阳': 53, '许昌': 39, '漯河': 35, '焦作': 32, '洛阳': 31, '开封': 26, '鹤壁': 19, '濮阳': 17, '三门峡': 7, '济源示范区': 5, '地区待确认': 0}
</code></pre> 
<h4><a id="24__240"></a>2.4 获取全国各省疫情确诊总数据</h4> 
<pre><code class="prism language-python">num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span>   <span class="token comment"># 湖北省总数据</span>
</code></pre> 
<pre><code>{'confirm': 67773,
 'suspect': 0,
 'dead': 3046,
 'deadRate': '4.49',
 'showRate': False,
 'heal': 49056,
 'healRate': '72.38',
 'showHeal': True}
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 解析每个省份确诊的总人数</span>
total_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> num<span class="token punctuation">:</span>
    <span class="token keyword">if</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token keyword">not</span> <span class="token keyword">in</span> total_data<span class="token punctuation">:</span>
        total_data<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> city_data <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        total_data<span class="token punctuation">[</span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>city_data<span class="token punctuation">[</span><span class="token string">'total'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    
<span class="token keyword">print</span><span class="token punctuation">(</span>total_data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>{'湖北': 67773, '广东': 1353, '河南': 1273, '浙江': 1215, '湖南': 1018, '安徽': 990, '江西': 935, '山东': 760, '江苏': 631, '重庆': 576, '四川': 539, '黑龙江': 482, '北京': 435, '上海': 344, '河北': 318, '福建': 296, '广西': 252, '陕西': 245, '云南': 174, '海南': 168, '贵州': 146, '天津': 136, '山西': 133, '香港': 126, '甘肃': 125, '辽宁': 125, '吉林': 93, '新疆': 76, '内蒙古': 75, '宁夏': 75, '台湾': 48, '青海': 18, '澳门': 10, '西藏': 1}
</code></pre> 
<h3><a id="3_Matplotlib_272"></a>3. Matplotlib绘制柱状图</h3> 
<h4><a id="31__274"></a>3.1 绘制湖北省不同地区确诊总数据的柱状图</h4> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>hubei_children_total_data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>{'武汉': 49978, '孝感': 3518, '黄冈': 2907, '荆州': 1580, '鄂州': 1394, '随州': 1307, '襄阳': 1175, '黄石': 1015, '宜昌': 931, '荆门': 928, '咸宁': 836, '十堰': 672, '仙桃': 575, '天门': 496, '恩施州': 252, '潜江': 198, '神农架': 11}
</code></pre> 
<pre><code class="prism language-python">hb_names <span class="token operator">=</span> hubei_children_total_data<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
hb_numbers <span class="token operator">=</span> hubei_children_total_data<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt 
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'simhei'</span><span class="token punctuation">]</span>   <span class="token comment"># 用来正常显示中文标签</span>

<span class="token comment"># 绘图</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>hb_names<span class="token punctuation">,</span>hb_numbers<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"地区"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"人数"</span><span class="token punctuation">,</span> fontproperties<span class="token operator">=</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"湖北省不同地区疫情确诊数对比图"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>hb_names<span class="token punctuation">)</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
    
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d8/16/3U9NZmqs_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32__309"></a>3.2 绘制河南省不同地区确诊总数据的柱状图</h4> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>henan_children_total_data<span class="token punctuation">)</span>
</code></pre> 
<pre><code>{'信阳': 274, '郑州': 158, '南阳': 156, '驻马店': 139, '商丘': 91, '周口': 76, '平顶山': 58, '新乡': 57, '安阳': 53, '许昌': 39, '漯河': 35, '焦作': 32, '洛阳': 31, '开封': 26, '鹤壁': 19, '濮阳': 17, '三门峡': 7, '济源示范区': 5, '地区待确认': 0}
</code></pre> 
<pre><code class="prism language-python">hn_names <span class="token operator">=</span> henan_children_total_data<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
hn_numbers <span class="token operator">=</span> henan_children_total_data<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt 
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'simhei'</span><span class="token punctuation">]</span>   <span class="token comment"># 用来正常显示中文标签</span>

<span class="token comment"># 绘图</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>hn_names<span class="token punctuation">,</span>hn_numbers<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"地区"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"人数"</span><span class="token punctuation">,</span> fontproperties<span class="token operator">=</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"河南省不同地区疫情确诊数对比图"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>hn_names<span class="token punctuation">)</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
    
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/1f/4d/yQxDMGVZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="33__344"></a>3.3 绘制中国不同省份确诊总数据的柱状图</h4> 
<pre><code class="prism language-python">names <span class="token operator">=</span> total_data<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>
</code></pre> 
<pre><code>dict_keys(['湖北', '广东', '河南', '浙江', '湖南', '安徽', '江西', '山东', '江苏', '重庆', '四川', '黑龙江', '北京', '上海', '河北', '福建', '广西', '陕西', '云南', '海南', '贵州', '天津', '山西', '香港', '甘肃', '辽宁', '吉林', '新疆', '内蒙古', '宁夏', '台湾', '青海', '澳门', '西藏'])
</code></pre> 
<pre><code class="prism language-python">numbers <span class="token operator">=</span> total_data<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
</code></pre> 
<pre><code>dict_values([67773, 1353, 1273, 1215, 1018, 990, 935, 760, 631, 576, 539, 482, 435, 344, 318, 296, 252, 245, 174, 168, 146, 136, 133, 126, 125, 125, 93, 76, 75, 75, 48, 18, 10, 1])
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt 
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'simhei'</span><span class="token punctuation">]</span>   <span class="token comment"># 用来正常显示中文标签</span>

<span class="token comment"># 绘图</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>names<span class="token punctuation">,</span>numbers<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"地区"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"人数"</span><span class="token punctuation">,</span> fontproperties<span class="token operator">=</span><span class="token string">'SimHei'</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"中国不同省份疫情确诊数对比图"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">,</span> rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span>
    
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/3c/e3Lrj7Ay_o.png" alt="在这里插入图片描述"></p> 
<p><strong>补充</strong>：</p> 
<ul><li>同样可以获得其他省份的柱状图（只要做适当调整即可）；</li><li>同样也可以获得不同数据对应的柱状图（如疑似数据、死亡数据和出院数据等）。</li></ul> 
<h3><a id="4__385"></a>4. 绘制中国疫情趋势图</h3> 
<p>类似以上方法可以爬取到中国疫情不同日期的历史数据资料（只要把下图中步骤5下面的URL替换掉即可）。</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-BUtcM3Gz-1583918215651)(D:\zgq\Anaconda3\3–网络爬虫–经典案例\22.png)]</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> pandas<span class="token punctuation">.</span>plotting <span class="token keyword">import</span> register_matplotlib_converters
register_matplotlib_converters<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> json
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

url <span class="token operator">=</span> <span class="token string">'https://view.inews.qq.com/g2/getOnsInfo?name=wuwei_ww_cn_day_counts&amp;callback=&amp;_=%d'</span><span class="token operator">%</span><span class="token builtin">int</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
date_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># 日期</span>
confirm_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 确诊</span>
suspect_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 疑似</span>
dead_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># 死亡</span>
heal_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># 治愈</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> data<span class="token punctuation">:</span>
    month<span class="token punctuation">,</span> day <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
    date_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2020-%s-%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    confirm_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'confirm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    suspect_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'suspect'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    dead_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'dead'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    heal_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'heal'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>dates <span class="token keyword">as</span> mdates

plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'simhei'</span><span class="token punctuation">]</span>   <span class="token comment"># 用来正常显示中文标签</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'2019-2020年新冠肺炎疫情曲线图'</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> confirm_list<span class="token punctuation">,</span> <span class="token string">'r-'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'确诊'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> confirm_list<span class="token punctuation">,</span> <span class="token string">'rs'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> suspect_list<span class="token punctuation">,</span> <span class="token string">'b-'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'疑似'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> suspect_list<span class="token punctuation">,</span> <span class="token string">'b*'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> dead_list<span class="token punctuation">,</span> <span class="token string">'y-'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'死亡'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> dead_list<span class="token punctuation">,</span> <span class="token string">'y+'</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> heal_list<span class="token punctuation">,</span> <span class="token string">'g-'</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'治愈'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>date_list<span class="token punctuation">,</span> heal_list<span class="token punctuation">,</span> <span class="token string">'gd'</span><span class="token punctuation">)</span>
    
plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>mdates<span class="token punctuation">.</span>DateFormatter<span class="token punctuation">(</span><span class="token string">'%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 格式化时间轴标注</span>
plt<span class="token punctuation">.</span>gcf<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>autofmt_xdate<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 优化标注（自动倾斜）</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'x'</span><span class="token punctuation">)</span>       <span class="token comment"># 显示网格</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示图例</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b0/69/wJ2P7KFL_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__454"></a>5. 小结</h3> 
<p>以上就是通过Python爬取新冠肺炎数据并进行可视化分析的实战案例，由于时间关系暂时先分析到这里，后续将会对河南省不同时期的新冠肺炎历史数据进行可视化分析（利用PyEcharts包进行动态图分析）！</p> 
<p>迫不及待中。。。</p> 
<h3><a id="_460"></a>补充：</h3> 
<p>Matplotlib中不同参数可以得到不同的效果，更加美观的绘图方法参见 官网。</p> 
<ul><li>Matplotlib官网：<a href="https://matplotlib.org/" rel="nofollow">https://matplotlib.org/</a></li><li>Seaborn官网：<a href="https://seaborn.pydata.org/" rel="nofollow">https://seaborn.pydata.org/</a></li><li>Pandas官网：<a href="https://pandas.pydata.org/pandas-docs/version/0.16.2/visualization.html" rel="nofollow">https://pandas.pydata.org/</a></li><li>Plotly官网：<a href="https://plot.ly/" rel="nofollow">https://plot.ly/</a></li></ul> 
<hr> 
<blockquote> 
 <ul><li>写作不易，切勿白剽</li><li>博友们的<strong>点赞</strong>和<strong>关注</strong>就是对博主坚持写作的最大鼓励</li><li>持续更新，未完待续…</li></ul> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d17686c8d4d2bf9c59a8d76383503c83/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ensp DHCP基本配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ee93bc14535eadafad74d77494df4fa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据处理之数据类型转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>