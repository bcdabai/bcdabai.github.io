<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL Server数据库管理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL Server数据库管理" />
<meta property="og:description" content="数据库登录——使用两种方式均可登录数据库：windows和sqlserver身份验证方式两种。
数据库的使用和管理
步骤一：创建数据库
1）新建数据库，数据库名为book，初始大小都配置为3，自动增长与路径都为默认，点击确定 步骤二：查看主数据与日志文件（查看C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA目录中的book.mdf和book_log.ldf)
步骤三：创建读者信息表--在book库中-右击表--选择新建表(输入列名及数据类型) 步骤四：数据库的一些简单语句
SELECT - 从数据库中提取数据 UPDATE - 更新数据库中的数据 DELETE - 从数据库中删除数据 INSERT INTO - 向数据库中插入新数据 CREATE DATABASE - 创建新数据库 ALTER DATABASE - 修改数据库 CREATE TABLE - 创建新表 ALTER TABLE - 变更（改变）数据库表 DROP TABLE - 删除表 CREATE INDEX - 创建索引（搜索键） DROP INDEX - 删除索引 步骤五：数据库备份与恢复问题
1）完整备份 2）差异备份 3）事务日志备份 C盘的目录下新建三个文件夹，刚刚创建的数据库book ,右击book选择任务备份，在弹出的对话框中选择备份类型完整，备份到c:\完整备份\full.bak，点击确定
1）完整备份 验证备份方案是否成功?
标题: Microsoft SQL Server Management Studio
------------------------------
还原 对于 服务器“WIN-O7K6FVSA3VF”失败。 (Microsoft." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/704462e3e987dce638ef510b4f88ee34/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-07T18:53:22+08:00" />
<meta property="article:modified_time" content="2022-11-07T18:53:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL Server数据库管理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>数据库登录——使用两种方式均可登录数据库：windows和sqlserver身份验证方式两种。</strong></p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/87/8e/E3Glviy0_o.png" width="452"></p> 
<p> 数据库的使用和管理</p> 
<p><strong>步骤一：创建数据库</strong></p> 
<p>1）新建数据库，数据库名为book，初始大小都配置为3，自动增长与路径都为默认，点击确定<img alt="" height="233" src="https://images2.imgbox.com/07/c2/Yx8AAxNZ_o.png" width="468"><strong> </strong></p> 
<p><strong>步骤二：查看主数据与日志文件（查看C:\Program Files\Microsoft SQL Server\MSSQL10_50.MSSQLSERVER\MSSQL\DATA目录中的book.mdf和book_log.ldf)</strong></p> 
<p> <img alt="" height="253" src="https://images2.imgbox.com/7e/16/rDCUCPVA_o.png" width="448"></p> 
<p><strong>步骤三：创建读者信息表--在book库中-右击表--选择新建表(输入列名及数据类型)</strong> </p> 
<p><img alt="" height="225" src="https://images2.imgbox.com/15/18/S2bqrRgY_o.png" width="453"> </p> 
<p><strong>步骤四：数据库的一些简单语句</strong></p> 
<p>SELECT - 从数据库中提取数据        <br> UPDATE - 更新数据库中的数据        <br> DELETE - 从数据库中删除数据        <br> INSERT INTO - 向数据库中插入新数据        <br> CREATE DATABASE - 创建新数据库        <br> ALTER DATABASE - 修改数据库        <br> CREATE TABLE - 创建新表        <br> ALTER TABLE - 变更（改变）数据库表        <br> DROP TABLE - 删除表        <br> CREATE INDEX - 创建索引（搜索键）        <br> DROP INDEX - 删除索引    </p> 
<p><strong>步骤五：数据库备份与恢复问题</strong></p> 
<p><strong>1）完整备份    <br> 2）差异备份    <br> 3）事务日志备份    </strong></p> 
<p>C盘的目录下新建三个文件夹，刚刚创建的数据库book ,右击book选择任务备份，在弹出的对话框中选择备份类型完整，备份到c:\完整备份\full.bak，点击确定</p> 
<p><img alt="" height="141" src="https://images2.imgbox.com/74/58/wkWgF5Dd_o.png" width="510"></p> 
<p><span style="color:#a2e043;"><strong>1）完整备份    </strong></span></p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/24/89/gzxl9hi4_o.png" width="480"> </p> 
<p><img alt="" height="408" src="https://images2.imgbox.com/03/a4/PUHvLXG1_o.png" width="481"> </p> 
<p><span style="color:#fe2c24;"> 验证备份方案是否成功?</span></p> 
<p><img alt="" height="410" src="https://images2.imgbox.com/37/21/sNhjyCRC_o.png" width="483"></p> 
<p><img alt="" height="256" src="https://images2.imgbox.com/34/24/cyhak3VY_o.png" width="243"> </p> 
<p><img alt="" height="314" src="https://images2.imgbox.com/b9/1a/jSl6icvz_o.png" width="387"> </p> 
<blockquote> 
 <p>标题: Microsoft SQL Server Management Studio<br> ------------------------------</p> 
 <p>还原 对于 服务器“WIN-O7K6FVSA3VF”失败。  (Microsoft.SqlServer.SmoExtended)</p> 
 <p>System.Data.SqlClient.SqlError: 介质集有 2 个介质簇，但只提供了 1 个。必须提供所有成员。 (Microsoft.SqlServer.Smo)</p> 
 <p>因为数据库备份了2个， 但是我只还原了一个文件， 导致数据库还原失败， 然后就去服务器上找，<br> 有一个默认的备份路径， 而这边没有进行删除，<br> 尝试在默认路径下找备份文件，把自己备份的路径和之前默认的路径都选择上再次进行备份恢复，发现可以成功恢复。 </p> 
</blockquote> 
<p><img alt="" height="371" src="https://images2.imgbox.com/de/df/7uzfBuzu_o.png" width="406"></p> 
<p><strong> 数据库book 成功恢复，如图：</strong></p> 
<p><img alt="" height="491" src="https://images2.imgbox.com/e4/61/k8EVh1Nn_o.png" width="347"></p> 
<p><span style="color:#a2e043;"> <strong>2）差异备份    </strong></span></p> 
<p>book数据库中新建表Table_2 (bookprice)</p> 
<p><img alt="" height="457" src="https://images2.imgbox.com/74/3e/IOkAj7mL_o.png" width="321"></p> 
<p>右击数据库book，选择任务备份，在弹出的对话框中选择备份类型差异，备份到c:\差异备份\diff.back，点击确定</p> 
<p><img alt="" height="338" src="https://images2.imgbox.com/f8/41/vrZdGS5W_o.png" width="416"> </p> 
<p> <img alt="" height="338" src="https://images2.imgbox.com/48/38/Rssh57wz_o.png" width="418"></p> 
<p><span style="color:#fe2c24;"> 验证备份方案是否成功?</span></p> 
<p>删除book数据库，右击数据库选择还原数据库，在还原对话框中点击选项，恢复状态选择不对数据库执行任何操作，不回滚未提效的事务，点击确定。</p> 
<p>常规中利用fullback来做，选项中利用diffback来做。</p> 
<p><img alt="" height="327" src="https://images2.imgbox.com/66/54/aQoVADSO_o.png" width="386"><img alt="" height="322" src="https://images2.imgbox.com/f9/c5/Ci3b96Ct_o.png" width="398"></p> 
<p> 显示book（正在还原…）,右击book数据库-选择任务-还原-数据库，源设备选择 源设备选择c:\差异备份\diff.back</p> 
<p><img alt="" height="362" src="https://images2.imgbox.com/8f/a3/5nn7Er3R_o.png" width="401"></p> 
<p> <img alt="" height="314" src="https://images2.imgbox.com/ff/eb/ZoLXl7fd_o.png" width="404"></p> 
<p> 验证book数据库的两个表都已经恢复成功。</p> 
<p><span style="color:#a2e043;"> <strong>3）事务日志备份    </strong></span></p> 
<p>1）创建数据库book并做完整备份，备份到 事务日志备份\fullbak      </p> 
<p><img alt="" height="311" src="https://images2.imgbox.com/e8/97/rEKQsUpw_o.png" width="387">                      <br> 2）数据库中创建两个表bookorder,bookabb，并确认创建表的时间- 18:29&amp;18:30                        <br> 3）数据库中删除bookorder，并确认删除时间-18:31                            <br> 4）备份数据库book，备份类型为事务日志，备份到 事务日志备份\logtras.bak </p> 
<p><img alt="" height="312" src="https://images2.imgbox.com/eb/6a/YOvzEmIv_o.png" width="383"> </p> 
<p> 5）删除数据库book 再进行还原数据库，完整还原（点击选项，选择不对数据库执行任何操作，不回滚未提交的事务，点击确定），还原后重启数据库显示数据库正在还原中。</p> 
<p><img alt="" height="317" src="https://images2.imgbox.com/0c/ba/4t1cldot_o.png" width="383"></p> 
<p>6）右击book(正在还原…)选择任务-还原-数据库,目标时间点18:31:00，源设置目标时间点11:18:59，源设置c:\事务日志备份\logtras.bak，勾选-事务日志备份，点击确定</p> 
<p><img alt="" height="260" src="https://images2.imgbox.com/5f/c0/VOMnGsWp_o.png" width="365"></p> 
<p><span style="color:#fe2c24;"> 验证备份方案是否成功?  </span>检查book数据库的两个表已还原 😀</p> 
<p><img alt="" height="463" src="https://images2.imgbox.com/28/04/jhDYiWgZ_o.png" width="269"></p> 
<p> </p> 
<p></p> 
<p></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p></p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba6c807cfb5bc5a711d02724514561de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js的区间处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ffa2d4fe1e4539512bc5bf0083578011/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">this指针详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>