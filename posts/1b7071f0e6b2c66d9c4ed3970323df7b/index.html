<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL数据库： 数据库基础操作&#43;书写规范 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL数据库： 数据库基础操作&#43;书写规范" />
<meta property="og:description" content="数据库基础操作 SQL可实现的操作：
操作语言建表CREATE TABLE table (c1 int,c2 varchar(50),c3 varchar(50));删表DROP TABLE table;修改列ALTER TABLE table ADD/DROP/ALERT column_name (datatype);选择SELECT c1,c2 FROM table WHERE … ;插入INSERT INTO a VALUES(9,30,30);更新UPDATE table SET c1=value1,c2=value2,…WHERE… ;删除DELETE FROM table WHERE …;连接select * from [user] full JOIN phone ON [user].id=phone.idWHEREHAVING筛选分组后的各组数据SELECT FROM WHERE GROUP BY HAVING ; 操作结果处理WHEREANDSELECT * FROM table WHERE c1=‘a’ AND c1=‘b’;ORSELECT * FROM table WHERE c1=‘a’ OR c1=‘b’;排序 ORDER BY关键字用于对结果集按照一个列或者多个列进行排序，降序 ORDER BY 列名 DESC,列名 DESC指定模式LIKE操作符用于在 WHERE 子句中搜索列中的指定模式。返回行数COUNT(c1)SELECT COUNT(c1) FROM table WHERE ;别名 AS，AS可省略名字AS别名，如SELECT 列名 FROM 表名 AS 别名; SQL join 用于把来自两个或多个表的行结合起来：INNER JOIN与JOIN(INNER JOIN与JOIN是相同" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1b7071f0e6b2c66d9c4ed3970323df7b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-06T12:17:31+08:00" />
<meta property="article:modified_time" content="2021-03-06T12:17:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL数据库： 数据库基础操作&#43;书写规范</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_4"></a>数据库基础操作</h2> 
<p>SQL可实现的操作：</p> 
<table><thead><tr><th align="center">操作</th><th align="center">语言</th></tr></thead><tbody><tr><td align="center">建表</td><td align="center">CREATE TABLE table (c1 int,c2 varchar(50),c3 varchar(50));</td></tr><tr><td align="center">删表</td><td align="center">DROP TABLE table;</td></tr><tr><td align="center">修改列</td><td align="center">ALTER TABLE table ADD/DROP/ALERT column_name (datatype);</td></tr><tr><td align="center">选择</td><td align="center">SELECT c1,c2 FROM table WHERE … ;</td></tr><tr><td align="center">插入</td><td align="center">INSERT INTO a VALUES(9,30,30);</td></tr><tr><td align="center">更新</td><td align="center">UPDATE table SET c1=value1,c2=value2,…WHERE… ;</td></tr><tr><td align="center">删除</td><td align="center">DELETE FROM table WHERE …;</td></tr><tr><td align="center">连接</td><td align="center">select * from [user] full JOIN phone ON [user].id=phone.id</td></tr><tr><td align="center">WHERE</td><td align="center"></td></tr><tr><td align="center">HAVING</td><td align="center">筛选分组后的各组数据SELECT FROM WHERE GROUP BY HAVING ;</td></tr></tbody></table> 
<table><thead><tr><th align="center">操作结果处理</th><th align="center">WHERE</th></tr></thead><tbody><tr><td align="center">AND</td><td align="center">SELECT * FROM table WHERE c1=‘a’ AND c1=‘b’;</td></tr><tr><td align="center">OR</td><td align="center">SELECT * FROM table WHERE c1=‘a’ OR c1=‘b’;</td></tr><tr><td align="center">排序 ORDER BY</td><td align="center">关键字用于对结果集按照一个列或者多个列进行排序，降序 ORDER BY 列名 DESC,列名 DESC</td></tr><tr><td align="center">指定模式LIKE</td><td align="center">操作符用于在 WHERE 子句中搜索列中的指定模式。</td></tr><tr><td align="center">返回行数COUNT(c1)</td><td align="center">SELECT COUNT(c1) FROM table WHERE ;</td></tr><tr><td align="center">别名 AS，AS可省略</td><td align="center">名字AS别名，如SELECT 列名 FROM 表名 AS 别名;</td></tr></tbody></table> 
<p><strong>SQL join 用于把来自两个或多个表的行结合起来</strong>：INNER JOIN与JOIN(INNER JOIN与JOIN是相同<br> ), LEFT JOIN(左加入：左满右空)、RIGHT JOIN、FULL JOIN</p> 
<p><img src="https://images2.imgbox.com/7e/ad/ozhypdTZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2a/e4/1IZoecTY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f1/2f/FKGF7eWa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cd/30/HZ7L7Tuw_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/81/fd/MmtmCcMY_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/06/00/0hYANnDW_o.png" alt="在这里插入图片描述"></p> 
<p>处理视图VIEW,索引</p> 
<p>触发器</p> 
<pre><code class="prism language-java">Create TRIGGER <span class="token punctuation">[</span>dbo<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>Trigger_Insert<span class="token punctuation">]</span>
   ON  a
   AFTER INSERT
AS 
BEGIN

	Declare <span class="token annotation punctuation">@age</span> <span class="token keyword">int</span><span class="token punctuation">;</span>  <span class="token operator">--</span><span class="token annotation punctuation">@age</span>为局部变量
    Select <span class="token annotation punctuation">@age</span><span class="token operator">=</span>Age  From inserted
	<span class="token function">IF</span><span class="token punctuation">(</span><span class="token annotation punctuation">@age</span><span class="token operator">&lt;</span><span class="token number">150</span><span class="token punctuation">)</span>
		Begin
			Insert into <span class="token function">a</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
			Select ID<span class="token punctuation">,</span> Name<span class="token punctuation">,</span> Age From inserted
		END
	ELSE
		Begin
		    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'年龄应小于150'</span><span class="token punctuation">)</span>
			rollback transaction     <span class="token operator">--</span>数据回滚
		END
    
END
</code></pre> 
<pre><code class="prism language-javascript"><span class="token constant">SELECT</span> name<span class="token punctuation">,</span> <span class="token constant">AVG</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token constant">AS</span> age <span class="token constant">FROM</span> a
<span class="token constant">GROUP</span> <span class="token constant">BY</span> name <span class="token constant">HAVING</span> <span class="token constant">AVG</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">12</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/92/13/uOSDpEow_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6f/b8/NIRp40ZZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e7/93/iKaQc3s6_o.png" alt="在这里插入图片描述"></p> 
<p><a href="https://sqlzoo.net/wiki/SELECT_basics/zh" rel="nofollow">在线练习</a></p> 
<h3><a id="_91"></a>其他</h3> 
<p><strong>报错处理</strong><br> <img src="https://images2.imgbox.com/b7/46/CVOujuWA_o.png" alt="在这里插入图片描述"><br> user属于sql里的关键字，所以会报错，一般不要用关键字作为表名，如果关键字做表名用[]括起来<br> <img src="https://images2.imgbox.com/2a/b8/jAnhMAte_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_97"></a>书写规范</h2> 
<p>1.SQL语句全部使用小写</p> 
<p>2.引用字符时用单引号</p> 
<p>3.在子查询中前后加上括号</p> 
<p>4.<strong>禁止</strong>使用select * 形式的语句，必须指出select的具体字段。select子句中避免使用’*’ 数据库在解析的过程中，会将‘*’依次转换成所有的列名，这个工作是通过查询数据字典完成的，这意味着将耗费更多的时间</p> 
<p>5.<strong>禁止</strong>使用 insert into table values(?,?,?)，必须指出具体要赋值的字段，即 insert into tablea (col1, col2,…) values(?,?,…)</p> 
<p>6.避免隐含的类型转换。例如在where子句中numeric 型和int型的列的比较或相加，字符串的转换等</p> 
<p>7.<strong>禁止</strong>使用视图(视图 基本上都是 几张表之间的关联数据。对大数据量查询非常有压力)</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e052c588199065911f3b04cefd08d7c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu系统下增加中文字体</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8c9b8119cbf1ef1b90fab7c131853c55/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">经纬恒润_软件开发实习生_面试经历(电话面试)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>