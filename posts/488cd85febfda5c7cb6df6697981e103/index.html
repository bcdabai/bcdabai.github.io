<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java基础之Json - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java基础之Json" />
<meta property="og:description" content="相互转换 字符串 ⇋ JSONObject // Json字符串 转 JSONObject String st = &#34;{name:Tim,age:25,sex:male}&#34;; JSONObject rowData = JSONObject.parseObject(st); // JSONObject 转 Json字符串 JSONObJect json = new JSONObJect(); String str = json.toString(); JSONObject ⇋ 实体类 //实体类 转 JSONObject JSONObject jsonObject = JSON.toJSON(xtDmbm); JSONObject jsonObject = JSONObject.parseObject(JSON.toJSONString(xtDmbm)); //JSONObject 转 实体类 XtDmbm xtDmbm = JSONObject.toJavaObject(jsonObject, XtDmbm.class); VehicleInfo vehicleInfo = JSON.toJavaObject(VehicleJSONObject, VehicleInfo.class); 实体类 ⇋ 字符串 // 实体类 转 json字符串 String jsonStr = JSON.toJSONString(person); // json字符串 转 实体类 // 方法1 Persion persion2 = JSON." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/488cd85febfda5c7cb6df6697981e103/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-26T16:18:44+08:00" />
<meta property="article:modified_time" content="2023-05-26T16:18:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java基础之Json</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>相互转换</h2> 
<h3>字符串 <em>⇋ </em>JSONObject</h3> 
<pre><code class="language-java">// Json字符串 转 JSONObject
String st = "{name:Tim,age:25,sex:male}";
JSONObject rowData = JSONObject.parseObject(st);


// JSONObject 转 Json字符串 
JSONObJect json = new JSONObJect();
String str = json.toString();</code></pre> 
<h3> JSONObject <em>⇋ </em>实体类</h3> 
<pre><code class="language-java">//实体类 转 JSONObject
JSONObject jsonObject = JSON.toJSON(xtDmbm);
JSONObject jsonObject = JSONObject.parseObject(JSON.toJSONString(xtDmbm));

//JSONObject 转 实体类
XtDmbm xtDmbm = JSONObject.toJavaObject(jsonObject, XtDmbm.class);
VehicleInfo vehicleInfo = JSON.toJavaObject(VehicleJSONObject, VehicleInfo.class);
</code></pre> 
<h3>  实体类 <em>⇋ </em>字符串</h3> 
<pre><code class="language-java">// 实体类 转 json字符串
String jsonStr = JSON.toJSONString(person);

// json字符串 转 实体类
// 方法1
Persion persion2 = JSON.parseObject(str, new TypeReference&lt;Persion&gt;(){});
// 方法2
Persion persion2 = JSON.parseObject(str, Persion.class);</code></pre> 
<blockquote> 
 <p>按照一定的格式输出时间字段，fastjson支持两种方式：</p> 
 <p><strong>1.使用JSON.toJSONStringWithDateFormat方法</strong></p> 
 <p>JSON.toJSONStringWithDateFormat(sanitationCarWsBody, "yyyy-MM-dd HH:mm:ss", SerializerFeature.WriteMapNullValue));</p> 
 <p><strong>2.JSON.toJSONString方法增加SerializerFeature.WriteDateUseDateFormat参数</strong></p> 
 <p>String s = JSON.toJSONString(pojo, SerializerFeature.WriteDateUseDateFormat);</p> 
</blockquote> 
<p>SerializerFeature属性： </p> 
<table cellspacing="0"><tbody><tr><td style="vertical-align:bottom;width:203pt;"><span style="color:#000000;">名称</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">含义</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">QuoteFieldNames</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">输出key时是否使用双引号,默认为true</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">UseSingleQuotes</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">使用单引号而不是双引号,默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteMapNullValue</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">是否输出值为null的字段,默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteEnumUsingToString</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">Enum输出name()或者original,默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteEnumUsingName</span></td><td style="vertical-align:bottom;"></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">UseISO8601DateFormat</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">Date使用ISO8601格式输出，默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteNullListAsEmpty</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">List字段如果为null,输出为[],而非null</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteNullStringAsEmpty</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">字符类型字段如果为null,输出为”“,而非null</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteNullNumberAsZero</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">数值字段如果为null,输出为0,而非null</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteNullBooleanAsFalse</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">Boolean字段如果为null,输出为false,而非null</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">SkipTransientField</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">如果是true，类中的Get方法对应的Field是transient，序列化时将会被忽略。默认为true</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">SortField</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">按字段名称排序后输出。默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteTabAsSpecial</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">把\t做转义输出，默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">PrettyFormat</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">结果是否格式化,默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteClassName</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">序列化时写入类型信息，默认为false。反序列化是需用到</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">DisableCircularReferenceDetect</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">消除对同一对象循环引用的问题，默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteSlashAsSpecial</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">对斜杠’/’进行转义</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">BrowserCompatible</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">将中文都会序列化为\uXXXX格式，字节数会多一些，但是能兼容IE6，默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">WriteDateUseDateFormat</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">全局修改日期格式,默认为false。默认JSON.DEFFAULT_DATE_FORMAT = "yyyy-MM-dd HH:mm:ss";</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">DisableCheckSpecialChar</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">一个对象的字符串属性中如果有特殊字符如双引号，将会在转成json时带有反斜杠转移符。如果不需要转义，可以使用这个属性。默认为false</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">NotWriteRootClassName</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">含义</span></td></tr><tr><td style="vertical-align:bottom;"><span style="color:#000000;">BeanToArray</span></td><td style="vertical-align:bottom;"><span style="color:#000000;">将对象转为array输出</span></td></tr></tbody></table> 
<h3>字符串 <em>⇋ </em>JSONArray</h3> 
<pre><code class="language-java">// Json字符串 转 JSONArray
String st = "[{name:Tim,age:25,sex:male},{name:Tom,age:28,sex:male},{name:Lily,age:15,sex:female}]";
JSONArray jsonArray = JSONArray.parseArray(st);

// JSONArray 转 Json字符串
String jsonString = jsonArray.toString();</code></pre> 
<h3>  List&lt;T&gt; <em>⇋ </em>JSONArray</h3> 
<pre><code class="language-java">//List 转 JSONArray
JSONArray jsonArray = JSON.toJSON(list);
JSONArray jsonArray = JSONArray.parseArray(JSON.toJSONString(list));

//JSONArray 转 List
List&lt;XtDmbm&gt; list = JSONObject.parseArray(jsonArray.toJSONString(), XtDmbm.class);</code></pre> 
<h3>JSONArray <em>⇋ </em>JSONObject</h3> 
<pre><code class="language-java">// JSONArray 转 JSONObject
JSONObject rowData = new JSONObject();
for(int i;i&lt;tableData.length();i++){
rowData = tableData.getJSONObject[i];
}

// JSONObject 转 JSONArray
JSONObject rowData = {info:
[
    {
        name:Tim,
        age:25,
        sex:male
    },{
        name:Tom,
        age:28,
        sex:male
    },{
        name:Lily,
        age:15,
        sex:female
    }
]
};
JSONArry tableData = rowData.get("info");</code></pre> 
<h2>判断json字符串是否合法</h2> 
<pre><code class="language-java">/**
 * 判断是JsonObject
 * @param obj
 * @return
 */
public static boolean isJsonObject(Object obj){
	String content = obj.toString();
	try {
		JSONObject.parseObject(content);
		if (content.startsWith("{")) {
			return  true;
		}else {
			return  false;
		}
   } catch (Exception e) {
		return false;
  }
}

/**
 * 判断是JsonArray
 * @param obj
 * @return
 */
public static boolean isJsonArray(Object obj){
	String content = obj.toString();
	try {
		JSONArray.parseArray(content);
		if (content.startsWith("[")) {
			return  true;
		}else {
			return  false;
		}
   } catch (Exception e) {
		return false;
  }
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9943a32528fea8f808720e806ab261bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">项目总结：YOLOv8 人体姿态估计 跌倒检测</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/01411d64a287e8660e914ffb42810c59/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">尝试用js和jQuery实现一个简单的商品购买系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>