<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Typescript中的reference（三斜线指令）是什么 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Typescript中的reference（三斜线指令）是什么" />
<meta property="og:description" content="三斜杠指令是包含单个XML标记的单行注释。注释的内容被用作编译器指令。
三斜杠指令只在包含它们的文件的顶部有效，即在任何注释、语句或声明之前，不然它们会被当作普通的单行注释，无任何特殊含义。
/// &lt;reference path=&#34;...&#34; /&gt; 该指令用于声明文件之间的依赖关系，指示编译器在编译过程中包含其他额外文件。path指定的路径如果是相对路径，则是以当前文件为根。
编译器会从根文件开始解析该指令，以深度优先的方式，递归地找到所有编译文件。值得注意的是，根文件必须是由tsconfig.json文件中的files或include指定。根文件可以是多个文件，在/// &lt;reference path=&#34;...&#34; /&gt;中引入不包含在tsconfig.json配置中的文件。
// other/other.ts console.log(&#39;log:other.ts&#39;); /// &lt;reference path=&#34;../other/other.ts&#34; /&gt; // print/print.ts console.log(&#39;log:print.ts&#39;); export function hello() { console.log(&#39;log:Function::hello&#39;); } /// &lt;reference path=&#34;print/print.ts&#34; /&gt; // index.ts console.log(&#39;log:index.ts&#39;); hello(); 是否编译后的文件一定会执行呢？ 这取决于你的运行环境，和组织代码的方式。
当在浏览器环境中运行代码时，如果你编译后的js文件，都通过script标签加载到了网页中去，理所当然这些文件都会被运行。在上面的示例代码中，要在index.ts文件运行hello方法，则网页中通过script标签加载的print/print.js文件必须放在index.js文件之前。
在node环境中，即在本地环境通过node运行编译后的index.js文件，你会发现找不到hello方法的保存。在此环境中，你必须使用require(import)来导入需要的引用。在使用typescript的情况使用import语句后，不需要/// &lt;reference path=&#34;...&#34; /&gt;也能让编译器识别到被import的文件。
事实上，reference指令的目的是告诉程序可用的function、type或interface的类型，它与声明更加相关。
其他reference指令 /// &lt;reference types=&#34;...&#34; /&gt; 声明对包的依赖，如/// &lt;reference types=&#34;node&#34; /&gt;
/// &lt;reference lib=&#34;...&#34; /&gt; 显式地包含一个现有的内置lib文件，如lib=&#34;es2015&#34;
/// &lt;reference no-default-lib=&#34;true&#34;/&gt; 这个指令将一个文件标记为默认库。在lib.d.ts的顶部可以看到此注释。
/// &lt;amd-module /&gt; 默认情况下，AMD模块是默认生成的。在使用其他工具处理生成的模块时，可能会出现问题。所以该指令允许将可选模块名传递给编译器。
参考资料 stackoverflow:Typescript ///: why doesn’t it work for me?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/36069a1d99ed7413aec4ba3b2c2a32c7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-05T12:19:46+08:00" />
<meta property="article:modified_time" content="2023-02-05T12:19:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Typescript中的reference（三斜线指令）是什么</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>三斜杠指令是包含单个XML标记的单行注释。注释的内容被用作编译器指令。<br> 三斜杠指令只在包含它们的文件的顶部有效，即在任何注释、语句或声明之前，不然它们会被当作普通的单行注释，无任何特殊含义。</p> 
<h3><a id="_reference_path__3"></a><code>/// &lt;reference path="..." /&gt;</code></h3> 
<p>该指令用于声明文件之间的依赖关系，指示编译器在编译过程中包含其他额外文件。<code>path</code>指定的路径如果是相对路径，则是以当前文件为根。</p> 
<p>编译器会从根文件开始解析该指令，以深度优先的方式，递归地找到所有编译文件。值得注意的是，根文件必须是由<code>tsconfig.json</code>文件中的<a href="https://www.typescriptlang.org/tsconfig#files" rel="nofollow">files</a>或<a href="https://www.typescriptlang.org/tsconfig#include" rel="nofollow">include</a>指定。根文件可以是多个文件，在<code>/// &lt;reference path="..." /&gt;</code>中引入不包含在<code>tsconfig.json</code>配置中的文件。</p> 
<pre><code class="prism language-typescript"><span class="token comment">// other/other.ts</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'log:other.ts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// &lt;reference path="../other/other.ts" /&gt;</span>
<span class="token comment">// print/print.ts</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'log:print.ts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'log:Function::hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// &lt;reference path="print/print.ts" /&gt;</span>
<span class="token comment">// index.ts</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'log:index.ts'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_25"></a>是否编译后的文件一定会执行呢？</h4> 
<p>这取决于你的运行环境，和组织代码的方式。</p> 
<p><strong>当在浏览器环境中</strong>运行代码时，如果你编译后的js文件，都通过<code>script</code>标签加载到了网页中去，理所当然这些文件都会被运行。在上面的示例代码中，要在index.ts文件运行hello方法，则网页中通过<code>script</code>标签加载的<code>print/print.js</code>文件必须放在<code>index.js</code>文件之前。</p> 
<p><strong>在<code>node</code>环境中</strong>，即在本地环境通过node运行编译后的index.js文件，你会发现找不到hello方法的保存。在此环境中，你必须使用<code>require(import)</code>来导入需要的引用。在使用typescript的情况使用import语句后，不需要<code>/// &lt;reference path="..." /&gt;</code>也能让编译器识别到被import的文件。</p> 
<p>事实上，reference指令的目的是告诉程序可用的function、type或interface的类型，它与声明更加相关。</p> 
<h4><a id="reference_37"></a>其他reference指令</h4> 
<ul><li> <p><code>/// &lt;reference types="..." /&gt;</code> 声明对包的依赖，如<code>/// &lt;reference types="node" /&gt;</code></p> </li><li> <p><code>/// &lt;reference lib="..." /&gt;</code> 显式地包含一个现有的内置lib文件，如<code>lib="es2015"</code></p> </li><li> <p><code>/// &lt;reference no-default-lib="true"/&gt;</code> 这个指令将一个文件标记为默认库。在lib.d.ts的顶部可以看到此注释。</p> </li><li> <p><code>/// &lt;amd-module /&gt;</code> 默认情况下，AMD模块是默认生成的。在使用其他工具处理生成的模块时，可能会出现问题。所以该指令允许将可选模块名传递给编译器。</p> </li></ul> 
<h4><a id="_45"></a>参考资料</h4> 
<p>stackoverflow:<a href="https://stackoverflow.com/questions/44638612/typescript-reference-path-why-doesnt-it-work-for-me" rel="nofollow">Typescript ///: why doesn’t it work for me?</a><br> typescript: <a href="https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html" rel="nofollow">triple-slash-directives</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc2d0c5fb1e765ea252010571f57835a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WebGL基础与入门示例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aba784c1cee0ac50c42e50c5b62dce65/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nuxt部署学习记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>