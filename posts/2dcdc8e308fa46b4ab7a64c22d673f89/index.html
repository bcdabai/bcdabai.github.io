<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【学习历程】04 win10下IDEA连接Linux上的Hadoop集群 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【学习历程】04 win10下IDEA连接Linux上的Hadoop集群" />
<meta property="og:description" content="如果要在windows下连接虚拟机上的Hadoop集群,就必须要保证windows下有java环境和hadoop环境。
一、环境准备 1、jdk1.8
2、idea2019
3、Linux上hadoop集群，版本为hadoop2.6.0-cdh5.14.2
二、win10上安装hadoop环境 1、下载hadoop包
网站链接：
https://archive.apache.org/dist/hadoop/common/
本文下载版本为：hadoop2.6.0-cdh5.14.0
解压在本地路径：D:\soft\hadoop-2.6.0-cdh5.14.0
2、配置hadoop环境变量
计算机—属性—高级系统设置—高级—环境变量
（1）系统变量—新建HADOOP_HOME变量，变量值为hadoop解压安装路径：D:\soft\hadoop-2.6.0-cdh5.14.0
（2）系统变量—编辑Path，添加：D:\soft\hadoop-2.6.0-cdh5.14.0\bin
3、下载hadoop.dll和winutils.exe
在windows下运行hadoop还需要hadoop.dll和winutils.exe这两个文件,各版本下载地址https://github.com/cdarlint/winutils，也可以通过https://pan.baidu.com/s/1hrNXq3y#list/path=%2F下载。下载完成之后，将hadoop.dll和winutils.exe文件放到hadoop文件夹下的bin目录下，并且需要将hadoop.dll复制一份到C:\Windows\System32。
4、修改D:\soft\hadoop-2.6.0-cdh5.14.0\etc\hadoop文件下的配置文件
（1）修改hadoop-env.cmd文件
（2）修改core-site.xml文件
&lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.default.name&lt;/name&gt; &lt;value&gt;hdfs://node01:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/tempDatas&lt;/value&gt; &lt;/property&gt; &lt;!-- 缓冲区大小，实际工作中根据服务器性能动态调整 --&gt; &lt;property&gt; &lt;name&gt;io.file.buffer.size&lt;/name&gt; &lt;value&gt;4096&lt;/value&gt; &lt;/property&gt; &lt;!-- 开启hdfs的垃圾桶机制，删除掉的数据可以从垃圾桶中回收，单位分钟 --&gt; &lt;property&gt; &lt;name&gt;fs.trash.interval&lt;/name&gt; &lt;value&gt;10080&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.hue.hosts&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.hue.groups&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.admin.hosts&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.admin.groups&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.httpfs.hosts&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.proxyuser.httpfs.groups&lt;/name&gt; &lt;value&gt;*&lt;/value&gt; &lt;/property&gt; &lt;/configuration&gt; （3）修改hdfs-site.xml文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2dcdc8e308fa46b4ab7a64c22d673f89/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-16T22:49:42+08:00" />
<meta property="article:modified_time" content="2021-08-16T22:49:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【学习历程】04 win10下IDEA连接Linux上的Hadoop集群</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><em><strong><strong><strong>     如果要在windows下连接虚拟机上的Hadoop集群,就必须要保证windows下有java环境和hadoop环境。</strong></strong></strong></em></p> 
<h3><a id="_1"></a>一、环境准备</h3> 
<p>1、jdk1.8<br> 2、idea2019<br> 3、Linux上hadoop集群，版本为hadoop2.6.0-cdh5.14.2</p> 
<h3><a id="win10hadoop_5"></a>二、win10上安装hadoop环境</h3> 
<p>1、下载hadoop包<br> 网站链接：</p> 
<blockquote> 
 <p>https://archive.apache.org/dist/hadoop/common/<br> 本文下载版本为：hadoop2.6.0-cdh5.14.0</p> 
</blockquote> 
<p>解压在本地路径：<code>D:\soft\hadoop-2.6.0-cdh5.14.0</code><br> 2、配置hadoop环境变量<br>      计算机—属性—高级系统设置—高级—环境变量<br> （1）系统变量—新建HADOOP_HOME变量，变量值为hadoop解压安装路径：<code>D:\soft\hadoop-2.6.0-cdh5.14.0</code><br> <img src="https://images2.imgbox.com/67/cf/JTyx52WN_o.png" alt="在这里插入图片描述"><br> （2）系统变量—编辑Path，添加：<code>D:\soft\hadoop-2.6.0-cdh5.14.0\bin</code></p> 
<p><img src="https://images2.imgbox.com/86/4b/YxsLKyRv_o.png" alt="在这里插入图片描述"><br> 3、下载hadoop.dll和winutils.exe<br>      在windows下运行hadoop还需要hadoop.dll和winutils.exe这两个文件,各版本下载地址<a href="https://github.com/cdarlint/winutils">https://github.com/cdarlint/winutils</a>，也可以通过<a href="https://pan.baidu.com/s/1hrNXq3y#list/path=/" rel="nofollow">https://pan.baidu.com/s/1hrNXq3y#list/path=%2F</a>下载。下载完成之后，将hadoop.dll和winutils.exe文件放到hadoop文件夹下的bin目录下，并且需要将hadoop.dll复制一份到<code>C:\Windows\System32</code>。<br> <img src="https://images2.imgbox.com/b6/e0/CTPO4owK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/8d/jcBs7ebZ_o.png" alt="在这里插入图片描述"><br> 4、修改<code>D:\soft\hadoop-2.6.0-cdh5.14.0\etc\hadoop</code>文件下的配置文件<br> （1）修改<code>hadoop-env.cmd</code>文件<br> <img src="https://images2.imgbox.com/c5/9f/LzlYtVx5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ad/96/LwsCdToS_o.png" alt="在这里插入图片描述"><br> （2）修改<code>core-site.xml</code>文件</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>fs.default.name<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>hdfs://node01:900<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.tmp.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>/export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/tempDatas<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>--  缓冲区大小，实际工作中根据服务器性能动态调整 --<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>io.file.buffer.size<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token number">409</span><span class="token operator"><span class="token file-descriptor important">6</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--  开启hdfs的垃圾桶机制，删除掉的数据可以从垃圾桶中回收，单位分钟 --<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>fs.trash.interval<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token number">1008</span><span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.hue.hosts<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.hue.groups<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.admin.hosts<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.admin.groups<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.httpfs.hosts<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hadoop.proxyuser.httpfs.groups<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>  
       <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>*<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>  
    <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>  

<span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
</code></pre> 
<p>（3）修改<code>hdfs-site.xml</code>文件</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>-- NameNode存储元数据信息的路径，实际工作中，一般先确定磁盘的挂载目录，然后多个目录用，进行分割   --<span class="token operator">&gt;</span> 
	<span class="token operator">&lt;</span><span class="token operator">!</span>--   集群动态上下线 
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.hosts<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>/export/servers/hadoop-2.7.4/etc/hadoop/accept_host<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.hosts.exclude<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>/export/servers/hadoop-2.7.4/etc/hadoop/deny_host<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	 --<span class="token operator">&gt;</span>
	 
	 <span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.secondary.http-address<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>node01:5009<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.http-address<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>node01:5007<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.name.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>file:///export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/namenodeDatas<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>--  定义dataNode数据存储的节点位置，实际工作中，一般先确定磁盘的挂载目录，然后多个目录用，进行分割  --<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.datanode.data.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>file:///export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/datanodeDatas<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.edits.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>file:///export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/dfs/nn/edits<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.checkpoint.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>file:///export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/dfs/snn/name<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.namenode.checkpoint.edits.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>file:///export/servers/hadoop-2.6.0-cdh5.14.0/hadoopDatas/dfs/nn/snn/edits<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.replication<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.permissions<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>false<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.blocksize<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token number">13421772</span><span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>dfs.webhdfs.enabled<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
	  <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
</code></pre> 
<p>（4）修改<code>yarn-site.xml</code>文件</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>yarn.resourcemanager.hostname<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>node0<span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>yarn.nodemanager.aux-services<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>mapreduce_shuffle<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>yarn.log-aggregation-enable<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>yarn.log-aggregation.retain-seconds<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token number">60480</span><span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
</code></pre> 
<p>（5）修改<code>mapred-site.xml.template</code>文件<br>      首先要修改文件名，把<code>mapred-site.xml.template</code>改成<code>marped-site.xml</code>，然后</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>mapreduce.framework.name<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>yarn<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>mapreduce.job.ubertask.enable<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>mapreduce.jobhistory.address<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>node01:1002<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>mapreduce.jobhistory.webapp.address<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>node01:1988<span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
</code></pre> 
<p>5、验证hadoop是否安装成功<br>       <code>win+R</code>打开命令提示符窗口，输入<code>hadoop -version</code>，如果显示如下内容，则表明hadoop环境配置成功。<br> <img src="https://images2.imgbox.com/58/e7/mCwMSpv0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="hdfsjavaAPI_202"></a>三、hdfs上的javaAPI开发测试</h3> 
<p>1、IDEA创建maven工程<br> <img src="https://images2.imgbox.com/f9/8e/oztJLSF7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/86/f9/ROKHFPwO_o.png" alt="在这里插入图片描述"><br> 2、创建module<br> <img src="https://images2.imgbox.com/18/c4/8jfaH5Hj_o.png" alt="在这里插入图片描述"><br> 3、修改module文件的pom.xml，添加下面内容，并import changes</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>repositories<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>repository<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>cloudera<span class="token operator">&lt;</span>/id<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>url<span class="token operator">&gt;</span>https://repository.cloudera.com/artifactory/cloudera-repos/<span class="token operator">&lt;</span>/url<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/repository<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>/repositories<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>dependencies<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.hadoop<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>hadoop-client<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.6</span>.0-mr1-cdh5.14.<span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span>/version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.hadoop<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>hadoop-common<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.6</span>.0-cdh5.14.<span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span>/version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.hadoop<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>hadoop-hdfs<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.6</span>.0-cdh5.14.<span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span>/version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
 
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.hadoop<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>hadoop-mapreduce-client-core<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.6</span>.0-cdh5.14.<span class="token operator"><span class="token file-descriptor important">2</span>&lt;</span>/version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>-- https://mvnrepository.com/artifact/junit/junit --<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>junit<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>junit<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">4.1</span><span class="token operator"><span class="token file-descriptor important">1</span>&lt;</span>/version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span>test<span class="token operator">&lt;</span>/scope<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.testng<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>testng<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>RELEASE<span class="token operator">&lt;</span>/version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>/dependencies<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>build<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>plugins<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.maven.plugins<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>maven-compiler-plugin<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">3</span>.<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/version<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>source<span class="token operator">&gt;</span><span class="token number">1</span>.<span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>/source<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>target<span class="token operator">&gt;</span><span class="token number">1</span>.<span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>/target<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>encoding<span class="token operator">&gt;</span>UTF-<span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>/encoding<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">!</span>--   <span class="token operator">&lt;</span>verbal<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/verbal<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/plugin<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.apache.maven.plugins<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>maven-shade-plugin<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.4</span>.<span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>/version<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>executions<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>execution<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>phase<span class="token operator">&gt;</span>package<span class="token operator">&lt;</span>/phase<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>goals<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>goal<span class="token operator">&gt;</span>shade<span class="token operator">&lt;</span>/goal<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>/goals<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>minimizeJar<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/minimizeJar<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>/execution<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/executions<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/plugin<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/plugins<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>/build<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/47/61/ZLbHDD9q_o.png" alt="在这里插入图片描述"><br> 结果如下，即为导入仓库成功<br> <img src="https://images2.imgbox.com/32/b1/5iHm53f6_o.png" alt="在这里插入图片描述"><br> 4、开发hdfs的javaAPI操作</p> 
<pre><code class="prism language-bash"><span class="token function">import</span> org.apache.hadoop.conf.Configuration<span class="token punctuation">;</span>
<span class="token function">import</span> org.apache.hadoop.fs.FileSystem<span class="token punctuation">;</span>
<span class="token function">import</span> org.apache.hadoop.fs.Path<span class="token punctuation">;</span>
<span class="token function">import</span> org.junit.Test<span class="token punctuation">;</span>
<span class="token function">import</span> java.io.IOException<span class="token punctuation">;</span>
public class HDFSOperate<span class="token punctuation">{<!-- --></span>
    @Test
    public void mkdirToHdfs<span class="token punctuation">(</span><span class="token punctuation">)</span> throws IOException <span class="token punctuation">{<!-- --></span>

        Configuration configuration <span class="token operator">=</span> new Configuration<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configuration.set<span class="token punctuation">(</span><span class="token string">"fs.defaultFS"</span>,<span class="token string">"hdfs://node01:8020"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        //FileSystem文件系统对象
        FileSystem fs <span class="token operator">=</span> FileSystem.get<span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        //FileSystem的mkdir方法
        boolean b <span class="token operator">=</span> fs.mkdirs<span class="token punctuation">(</span>new Path<span class="token punctuation">(</span><span class="token string">"/zzz/dir01"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        //FileSystem关闭
        fs.close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行结果：通过网页查看，显示创建文件夹成功。<br> <img src="https://images2.imgbox.com/43/61/idWVSBYJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/01/8a/Xs9PNmlH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="IDEALinuxHadoop_314"></a>四、IDEA连接Linux上的Hadoop集群，成功！</h3> 
<p>参考文章：<br> <a href="https://blog.csdn.net/shdxhsq/article/details/105590655?spm=1001.2014.3001.5506">windows10下配置hadoop2.8.5超详细过程</a><br> <a href="https://blog.csdn.net/chenguangchun1993/article/details/78130655">windows10下使用idea远程调试hadoop集群</a><br> <a href="https://blog.csdn.net/weixin_43387852/article/details/117047467">Win10下Hadoop环境的配置</a><br> <a href="https://blog.csdn.net/weixin_43387852/article/details/116698927?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_utm_term~default-0.control&amp;spm=1001.2101.3001.4242">win10下IDEA连接虚拟机上的HDFS实现文件操作</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cdc3917dd9debda6e65d1cfda3a652c3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Address localhost:8080 is already in use解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/16304fbfe3dcc4909128ec4fac5acc73/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">NumPy 取消科学计数法：np.set_printoptions(suppress=True)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>