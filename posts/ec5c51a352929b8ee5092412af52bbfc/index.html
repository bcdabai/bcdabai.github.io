<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Php7.1 编译安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Php7.1 编译安装" />
<meta property="og:description" content="Environment CentOS Linux release 7.5.1804 (Core)root 权限下 Process 获取 Php7.1 官方安装包
wget -c http://cn2.php.net/get/php-7.1.27.tar.gz/from/this/mirror 解压安装包
tar -xzvf mirror 查看配置项
./configure --help 配置项中文解释-&gt;
配置项设定
./configure --prefix=/opt/php/php71 --with-fpm-user=www --with-fpm-group=www --with-curl --enable-fpm --enable-inline-optimization --disable-debug --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-mcrypt --with-mhash --enable-bcmath --with-bz2 --enable-calendar --enable-exif --enable-ftp --with-gd --with-jpeg-dir --with-png-dir --with-zlib-dir --with-freetype-dir --enable-gd-native-ttf --with-gettext --enable-mbstring --enable-sockets --with-libxml-dir --with-xsl --enable-zip --with-pear --enable-opcache --enable-pcntl --with-pdo-mysql --enable-sysvmsg --enable-sysvsem --enable-sysvshm 依赖包报错以及处理
error: libxml2 not found. Please check your libxml2 installation." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ec5c51a352929b8ee5092412af52bbfc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-29T16:24:05+08:00" />
<meta property="article:modified_time" content="2019-03-29T16:24:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Php7.1 编译安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="Environment_1"></a>Environment</h4> 
<ol><li>CentOS Linux release 7.5.1804 (Core)</li><li>root 权限下</li></ol> 
<h4><a id="Process_6"></a>Process</h4> 
<blockquote> 
 <p>获取 Php7.1 官方安装包</p> 
</blockquote> 
<pre><code>wget -c http://cn2.php.net/get/php-7.1.27.tar.gz/from/this/mirror
</code></pre> 
<blockquote> 
 <p>解压安装包</p> 
</blockquote> 
<pre><code>tar -xzvf mirror
</code></pre> 
<blockquote> 
 <p>查看配置项</p> 
</blockquote> 
<pre><code>./configure --help
</code></pre> 
<p><a href="https://my.oschina.net/u/144160/blog/759251" rel="nofollow">配置项中文解释-&gt;</a></p> 
<blockquote> 
 <p>配置项设定</p> 
</blockquote> 
<pre><code>./configure --prefix=/opt/php/php71 --with-fpm-user=www --with-fpm-group=www --with-curl --enable-fpm --enable-inline-optimization --disable-debug --enable-shared --enable-soap --with-xmlrpc --with-openssl --with-mcrypt --with-mhash --enable-bcmath --with-bz2 --enable-calendar --enable-exif --enable-ftp --with-gd --with-jpeg-dir --with-png-dir --with-zlib-dir --with-freetype-dir --enable-gd-native-ttf --with-gettext --enable-mbstring --enable-sockets --with-libxml-dir --with-xsl --enable-zip --with-pear --enable-opcache --enable-pcntl --with-pdo-mysql --enable-sysvmsg --enable-sysvsem --enable-sysvshm
</code></pre> 
<blockquote> 
 <p>依赖包报错以及处理</p> 
</blockquote> 
<ul><li>error: libxml2 not found. Please check your libxml2 installation.</li></ul> 
<pre><code>yum install libxml2-devel
</code></pre> 
<ul><li>error: Please reinstall the BZip2 distribution</li></ul> 
<pre><code>yum install bzip2-devel
</code></pre> 
<ul><li>error: cURL version 7.10.5 or later is required to compile php with cURL support</li></ul> 
<pre><code>yum install curl-devel
</code></pre> 
<ul><li>error: jpeglib.h not found.</li></ul> 
<pre><code>yum install libjpeg-devel
</code></pre> 
<ul><li>error: png.h not found.</li></ul> 
<pre><code>yum install libpng-devel
</code></pre> 
<ul><li>error: freetype-config not found.</li></ul> 
<pre><code>yum install freetype-devel
</code></pre> 
<ul><li>error: mcrypt.h not found. Please reinstall libmcrypt.</li></ul> 
<pre><code>yum install libmcrypt-devel
</code></pre> 
<ul><li>error: xslt-config not found. Please reinstall the libxslt &gt;= 1.1.0 distribution</li></ul> 
<pre><code>yum install libxslt-devel
</code></pre> 
<ul><li>error: xslt-config not found. Please reinstall the libxslt &gt;= 1.1.0 distribution</li></ul> 
<pre><code>yum install libxslt-devel
</code></pre> 
<ul><li>这里显然有一个规则，就系需要安装的依赖包，都具有 -devel 后缀。</li></ul> 
<blockquote> 
 <p>设定成功</p> 
</blockquote> 
<pre><code>creating libtool
appending configuration tag "CXX" to libtool

Generating files
configure: creating ./config.status
creating main/internal_functions.c
creating main/internal_functions_cli.c
+--------------------------------------------------------------------+
| License:                                                           |
| This software is subject to the PHP License, available in this     |
| distribution in the file LICENSE.  By continuing this installation |
| process, you are bound by the terms of this license agreement.     |
| If you do not agree with the terms of this license, you must abort |
| the installation process at this point.                            |
+--------------------------------------------------------------------+

Thank you for using PHP.

config.status: creating php7.spec
config.status: creating main/build-defs.h
config.status: creating scripts/phpize
config.status: creating scripts/man1/phpize.1
config.status: creating scripts/php-config
config.status: creating scripts/man1/php-config.1
config.status: creating sapi/cli/php.1
config.status: creating sapi/fpm/php-fpm.conf
config.status: creating sapi/fpm/www.conf
config.status: creating sapi/fpm/init.d.php-fpm
config.status: creating sapi/fpm/php-fpm.service
config.status: creating sapi/fpm/php-fpm.8
config.status: creating sapi/fpm/status.html
config.status: creating sapi/phpdbg/phpdbg.1
config.status: creating sapi/cgi/php-cgi.1
config.status: creating ext/phar/phar.1
config.status: creating ext/phar/phar.phar.1
config.status: creating main/php_config.h
config.status: executing default commands
</code></pre> 
<blockquote> 
 <p>编译</p> 
</blockquote> 
<pre><code>make &amp; make install
</code></pre> 
<blockquote> 
 <p>安装成功</p> 
</blockquote> 
<pre><code>Generating phar.php
Generating phar.phar
PEAR package PHP_Archive not installed: generated phar will require PHP's phar extension be enabled.
pharcommand.inc
directorytreeiterator.inc
clicommand.inc
directorygraphiterator.inc
invertedregexiterator.inc
phar.inc

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /opt/php/php71/lib/php/extensions/no-debug-non-zts-20160303/
Installing PHP CLI binary:        /opt/php/php71/bin/
Installing PHP CLI man page:      /opt/php/php71/php/man/man1/
Installing PHP FPM binary:        /opt/php/php71/sbin/
Installing PHP FPM defconfig:     /opt/php/php71/etc/
Installing PHP FPM man page:      /opt/php/php71/php/man/man8/
Installing PHP FPM status page:   /opt/php/php71/php/php/fpm/
Installing phpdbg binary:         /opt/php/php71/bin/
Installing phpdbg man page:       /opt/php/php71/php/man/man1/
Installing PHP CGI binary:        /opt/php/php71/bin/
Installing PHP CGI man page:      /opt/php/php71/php/man/man1/
Installing build environment:     /opt/php/php71/lib/php/build/
Installing header files:          /opt/php/php71/include/php/
Installing helper programs:       /opt/php/php71/bin/
  program: phpize
  program: php-config
Installing man pages:             /opt/php/php71/php/man/man1/
  page: phpize.1
  page: php-config.1
Installing PEAR environment:      /opt/php/php71/lib/php/
[PEAR] Archive_Tar    - installed: 1.4.4
[PEAR] Console_Getopt - installed: 1.4.2
[PEAR] Structures_Graph- installed: 1.1.1
[PEAR] XML_Util       - installed: 1.4.3
[PEAR] PEAR           - installed: 1.10.8
Wrote PEAR system config file at: /opt/php/php71/etc/pear.conf
You may want to add: /opt/php/php71/lib/php to your php.ini include_path
/opt/php/php-7.1.27/build/shtool install -c ext/phar/phar.phar /opt/php/php71/bin
ln -s -f phar.phar /opt/php/php71/bin/phar
Installing PDO headers:           /opt/php/php71/include/php/ext/pdo/
</code></pre> 
<blockquote> 
 <p>运行测试 Php7.1</p> 
</blockquote> 
<pre><code>make test
</code></pre> 
<blockquote> 
 <p>Ps:设置用户及其用户组</p> 
</blockquote> 
<pre><code>groupadd www

useradd -g www www
</code></pre> 
<blockquote> 
 <p>Ps:php71 添加到环境变量</p> 
</blockquote> 
<pre><code>export PATH=$PATH:/opt/php/php71/bin
</code></pre> 
<blockquote> 
 <p>Ps:查看 Php 信息</p> 
</blockquote> 
<pre><code>php -i
</code></pre> 
<h4><a id="Conclusion_184"></a>Conclusion</h4> 
<p>保存记录，仅供参考。</p> 
<blockquote> 
 <p>转载本文，请注明出处、作者。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ce5b714de7dc2751d5f8103966d00f6e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于修改WIFI代理后手机部分APP无法使用的解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3a795e3210501ddfa8015efdae523bca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">傅里叶变化的本质：复数的实部和虚部的对应关系</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>