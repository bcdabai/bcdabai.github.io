<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>restful api规范 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="restful api规范" />
<meta property="og:description" content="Rest接口约束定义为: 资源识别；请求动作；响应信息 **
一、资源识别 **
URL:
URL表示资源，资源一般对应服务器端领域模型中的实体类。 URL的表示：域名&#43;api;https://api.example.com/v1/ URL命名规范：
1.小写 2.用-不用_ 3.参数列表要编码 4.用名词表示资源名称 5.用单数表示一个资源，用复数表示资源集合。 6.在url中不允许出现文件扩展名. 比如接口为 /xxx/api, 不要写成 /xxx/api.php 这样的是不合法的。 **
二、请求动作 **
http1.1方法：
OPTIONS（获取服务器信息）
HEAD（请求资源首部信息）
GET（获取资源）
POST（创建资源）
PUT（更新资源全部信息）
PATCH（更新资源部分信息）
DELETE（删除资源）
幂等性与安全性：
安全性：保证资源状态不变，或者说资源的表现形式不变。
幂等性：对于多次执行结果是一样的，如a=4(幂等);a&#43;&#43;(非幂等)
为什么需要考虑幂等：
当你向服务发送一个 POST 请求过程中超时将会发生什么，是不是资源已经被更新？ 超时发生在向服务器发送请求阶段还是服务返回客户端阶段？我们是否能够安全地重试一遍，或查出资源究竟发生了什么变化？ 关于patch是非幂等的解释：PUT是根据客户端提供了完整的资源数据，客户端提交什么就替换什么，而PATCH有可能是根据客户端提供的参数或者指令，动态的计算出某个值，例如每次请求后资源的某个参数减1，所以多次调用，资源会有不同的变化。所以PATCH是非幂等的。op表示对资源的操作，总共有六种：add，replace，remove，move，copy，test
add 添加：{“op”: “add”, “path”: “/xxx”, “value”: “xxx”}，如果该属性不存，那么就添加该属性，如果属性存在，就改变属性的值。remove 删除：{“op”: “remove”, “path”: “/xxx”}，删除某个属性，或把它设为默认值（例如空值）。replace 替换：{“op”: “replace”, “path”: “/xxx”, “value”: “xxx”}，改变属性的值，也可以理解为先执行了删除，然后进行添加。copy 复制：{“op”: “copy”, “from”: “/xxx”, “path”: “/yyy”}，把某个属性的值赋给目标属性。remove 移动：{“op”: “move”, “from”: “/xxx”, “path”: “/yyy”}，把源属性的值赋值给目标属性，并把源属性删除或设成默认值。test测试：{“op”: “test”, “path”: “/xxx”, “value”: “xxx”}，测试目标属性的值和指定的值是一样的。 执行每个操作的代码如下，其中add和remove操作可以验证patch请求的非幂等性：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e200d187adf0c8fb2f72e1797bb4ec9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-29T12:31:27+08:00" />
<meta property="article:modified_time" content="2021-07-29T12:31:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">restful api规范</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Rest__0"></a>Rest接口约束定义为: 资源识别；请求动作；响应信息</h3> 
<p>**</p> 
<h3><a id="_4"></a>一、资源识别</h3> 
<p>**<br> URL:</p> 
<pre><code>  URL表示资源，资源一般对应服务器端领域模型中的实体类。
  URL的表示：域名+api;https://api.example.com/v1/
</code></pre> 
<p>URL命名规范：</p> 
<pre><code>   1.小写
   2.用-不用_
   3.参数列表要编码
   4.用名词表示资源名称
   5.用单数表示一个资源，用复数表示资源集合。
   6.在url中不允许出现文件扩展名. 比如接口为 /xxx/api, 不要写成 /xxx/api.php 这样的是不合法的。
</code></pre> 
<p>**</p> 
<h3><a id="_22"></a>二、请求动作</h3> 
<p>**<br> http1.1方法：</p> 
<blockquote> 
 <p>OPTIONS（获取服务器信息）<br> HEAD（请求资源首部信息）<br> GET（获取资源）<br> POST（创建资源）<br> PUT（更新资源全部信息）<br> PATCH（更新资源部分信息）<br> DELETE（删除资源）</p> 
</blockquote> 
<p>幂等性与安全性：</p> 
<blockquote> 
 <p>安全性：保证资源状态不变，或者说资源的表现形式不变。<br> 幂等性：对于多次执行结果是一样的，如a=4(幂等);a++(非幂等)</p> 
</blockquote> 
<p>为什么需要考虑幂等：</p> 
<pre><code>    当你向服务发送一个 POST 请求过程中超时将会发生什么，是不是资源已经被更新？
    超时发生在向服务器发送请求阶段还是服务返回客户端阶段？我们是否能够安全地重试一遍，或查出资源究竟发生了什么变化？
</code></pre> 
<p><img src="https://images2.imgbox.com/1f/9a/C2rypbrb_o.png" alt="在这里插入图片描述"><br> 关于patch是非幂等的解释：PUT是根据客户端提供了完整的资源数据，客户端提交什么就替换什么，而PATCH有可能是根据客户端提供的参数或者指令，动态的计算出某个值，例如每次请求后资源的某个参数减1，所以多次调用，资源会有不同的变化。所以PATCH是非幂等的。op表示对资源的操作，总共有六种：add，replace，remove，move，copy，test</p> 
<blockquote> 
 <ol><li>add 添加：{“op”: “add”, “path”: “/xxx”, “value”: “xxx”}，如果该属性不存，那么就添加该属性，如果属性存在，就改变属性的值。</li><li>remove 删除：{“op”: “remove”, “path”: “/xxx”}，删除某个属性，或把它设为默认值（例如空值）。</li><li>replace 替换：{“op”: “replace”, “path”: “/xxx”, “value”: “xxx”}，改变属性的值，也可以理解为先执行了删除，然后进行添加。</li><li>copy 复制：{“op”: “copy”, “from”: “/xxx”, “path”: “/yyy”}，把某个属性的值赋给目标属性。</li><li>remove 移动：{“op”: “move”, “from”: “/xxx”, “path”: “/yyy”}，把源属性的值赋值给目标属性，并把源属性删除或设成默认值。</li><li>test测试：{“op”: “test”, “path”: “/xxx”, “value”: “xxx”}，测试目标属性的值和指定的值是一样的。</li></ol> 
</blockquote> 
<p>执行每个操作的代码如下，其中add和remove操作可以验证patch请求的非幂等性：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">JsonNode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">ObjectMapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>fge<span class="token punctuation">.</span>jsonpatch<span class="token punctuation">.</span></span><span class="token class-name">JsonPatch</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonPatchDemo</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> origin <span class="token operator">=</span> <span class="token string">"{\"userName\":\"AA\", \"userAccount\":\"12345\", \"userPwd\":\"8888\",\"character\":[\"qiu\",\"dan\"]}"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patch <span class="token operator">=</span> <span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"add\", \"path\":\"/character/0\", \"value\":\"shao\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patch0 <span class="token operator">=</span> <span class="token string">"[]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchreplace<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"replace\", \"path\":\"/userName\", \"value\":\"BB\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchremove<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"remove\", \"path\":\"/userAccount\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchmove<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"move\", \"from\":\"/userName\",\"path\":\"/userAccount\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchremovearry<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"remove\", \"path\":\"/character/0\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchcopy<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"copy\", \"from\":\"/userName\",\"path\":\"/userAccount\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> patchtest<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"test\",\"path\":\"/userAccount\",\"value\":\"12345\"},"</span>
                <span class="token operator">+</span><span class="token string">"{\"op\": \"replace\", \"path\": \"/userAccount\", \"value\": \"78910\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> patchtest1<span class="token operator">=</span><span class="token string">"["</span>
                <span class="token operator">+</span> <span class="token string">"{\"op\":\"test\",\"path\":\"/userAccount\",\"value\":\"11111\"},"</span>
                <span class="token operator">+</span><span class="token string">"{\"op\": \"replace\", \"path\": \"/userAccount\", \"value\": \"78910\"}"</span>
                <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonReplace<span class="token operator">=</span><span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchreplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> jsonRemove<span class="token operator">=</span><span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchremove<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> jsonMove<span class="token operator">=</span><span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchmove<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> afterJson0 <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patch0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> afterJson <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patch<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> afterJson1 <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>afterJson<span class="token punctuation">,</span> patch<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonremovearry1<span class="token operator">=</span><span class="token function">patchApplication</span><span class="token punctuation">(</span>afterJson1<span class="token punctuation">,</span> patchremovearry<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonremovearry2<span class="token operator">=</span><span class="token function">patchApplication</span><span class="token punctuation">(</span>jsonremovearry1<span class="token punctuation">,</span> patchremovearry<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonCopy <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchcopy<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonTest <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchtest<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> jsonTest1 <span class="token operator">=</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> patchtest1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"原来的json对象:"</span><span class="token operator">+</span>afterJson0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行一次add命令后的json对象:"</span><span class="token operator">+</span>afterJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行两次add命令后的json对象："</span><span class="token operator">+</span>afterJson1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"原来的json对象："</span><span class="token operator">+</span>afterJson1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行一次remove命令后的json对象："</span><span class="token operator">+</span>jsonremovearry1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行两次remove命令后的json对象："</span><span class="token operator">+</span>jsonremovearry2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行replace替换用户名后的json对象："</span><span class="token operator">+</span>jsonReplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行remove删除用户账号后的json对象："</span><span class="token operator">+</span>jsonRemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行move将name的值移动到account后删除name的json对象："</span><span class="token operator">+</span>jsonMove<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行copy将name的值移动到account的json对象："</span><span class="token operator">+</span>jsonCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行test判断成功并替换的json对象："</span><span class="token operator">+</span>jsonTest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****************************************************************************************************************************"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"执行test未判断成功并替换的json对象："</span><span class="token operator">+</span>jsonTest1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * @param origin        原JSON
     * @param patch         patch信息
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">patchApplication</span><span class="token punctuation">(</span><span class="token class-name">String</span> origin<span class="token punctuation">,</span> <span class="token class-name">String</span> patch<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 将原json转为JsonNode</span>
            <span class="token class-name">JsonNode</span> originJson <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 将patch json转为 JsonNode</span>
            <span class="token class-name">JsonNode</span> patchJson <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>patch<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 将patch形式的json转为 JsonPatch</span>
            <span class="token class-name">JsonPatch</span> patcher <span class="token operator">=</span> <span class="token class-name">JsonPatch</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>patchJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// patch应用替换原JSON</span>
            <span class="token class-name">JsonNode</span> afterJson <span class="token operator">=</span> patcher<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>originJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> afterJson<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre> 
<p>执行结果截图：<br> <img src="https://images2.imgbox.com/76/3c/1eO3x2rg_o.png" alt="在这里插入图片描述"></p> 
<p>put与post区别：</p> 
<pre><code>   1.博客系统提供一个Web API，模式是这样http://superblogging/blogs/{blog-name}
   将{blog-name}替换为我们的blog名字，往这个URI发送一个HTTP PUT或者POST请求，HTTP的body部分就是博文.
   post:创建两个博文.put:后一个博文覆盖前一个博文。
   2.当你知道一个文章存在 http://example.org/article/1234， 你可以使用 [PUT]来直接更新这篇文章的内容。
   当你不能确实一个资源的具体位置时，如当你需要创建一篇新文章，但不知道它会存在什么地方，
   你可以 [POST] 这篇文章到一个URL，并让服务器决定它的真正URL。
   在put后加入HTTP/1.1 201 Created. Location: /article/1234 后可以让put实现post的功能。
</code></pre> 
<p>get与post区别：</p> 
<pre><code>   1.get请求：参数在url后，post请求：参数在请求体中.
   2.get只需要解析参数，约定好不会传递数据不会有body。post请求，先按照get请求的处理流程。把参数解析完再去处理body。
   @RequestBody接受对象只能只能接受POST或着PUT请求的对象；
   @RequestParam接受普通的请求参数。GET请求在url上的复杂对象并不能接收。
</code></pre> 
<p>put与Patch的区别：</p> 
<pre><code>    假设我们有一个UserInfo，里面有userId， userName， userGender等10个字段。只需要修改userName。
    如果是post:将修改了username的完整的UserInfo对象，如果不是完整的UserInfo对象，缺失的字段将会被清空。
    如果是patch:只需要传递username参数。
</code></pre> 
<p>过滤信息：</p> 
<blockquote> 
 <p>?limit=10：指定返回记录的数量<br> ?offset=10：指定返回记录的开始位置。<br> ?page=2&amp;per_page=100：指定第几页，以及每页的记录数。<br> ?sortby=name&amp;order=asc：指定返回结果按照哪个属性排序，以及排序顺序。<br> ?animal_type_id=1：指定筛选条件</p> 
</blockquote> 
<p>还有一个较为严重的问题是传统的Web MVC框架基本上都只支持GET和POST两种HTTP方法，而不支持PUT和DELETE方法。<br> **</p> 
<h3><a id="_208"></a>三、响应信息</h3> 
<p>**<br> 状态码：</p> 
<blockquote> 
 <p>1xx: 信息，请求收到了，继续处理。<br> 2xx: 代表成功. 行为被成功地接收、理解及采纳。<br> 3xx: 重定向。<br> 4xx: 客户端错误，请求包含语法错误或请求无法实现。<br> 5xx: 服务器端错误.</p> 
</blockquote> 
<p>统一返回数据格式：</p> 
<p>RESTful规范中的请求应该返回统一的数据格式。对于返回的数据，一般会包含如下字段:</p> 
<pre><code>1) code: http响应的状态码。
2) status: 包含文本, 比如：'success'(成功), 'fail'(失败),  'error'(异常) 
         HTTP状态响应码在500-599之间为 'fail'; 
         在400-499之间为 'error', 其他一般都为 'success'。 
         对于响应状态码为 1xx, 2xx, 3xx 这样的可以根据实际情况可要可不要。
         当status的值为 'fail' 或 'error'时，需要添加 message 字段，用于显示错误信息。
3) data: 当请求成功的时候, 返回的数据信息。 但是当状态值为 'fail' 或 'error' 时，data仅仅包含错误原因或异常信息等。
</code></pre> 
<p>返回成功信息：</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
    <span class="token string">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token string">"status"</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
    <span class="token string">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
        <span class="token string">"userName"</span><span class="token operator">:</span> <span class="token string">"tugenhua"</span><span class="token punctuation">,</span>
        <span class="token string">"age"</span><span class="token operator">:</span> <span class="token number">31</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>返回失败信息：</p> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
    <span class="token string">"code"</span><span class="token operator">:</span> <span class="token number">401</span><span class="token punctuation">,</span>
    <span class="token string">"status"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">'用户没有权限'</span><span class="token punctuation">,</span>
    <span class="token string">"data"</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/185d70d501fd436ac4ceaf6a6cdcb714/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机信息储存单位和换算关系,计算机储存单位和换算关系</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4da107150c7422a8c69a38917c2f86ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">u8软件找不到服务器什么原因,无法登陆用友U8软件，连接用友U8数据服务器失败-用友U8...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>