<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>输入两个字符串，从第一个字符串中删除第二个字符串中的所有字符（详细） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="输入两个字符串，从第一个字符串中删除第二个字符串中的所有字符（详细）" />
<meta property="og:description" content="输入两个字符串，从第一个字符串中删除第二个字符串中的所有字符
比如输入“They are students.&#34;
删除之后的第一个字符串变成&#34;The r stdnts.&#34;
思路是利用每个字符都有其对应的ASCII码值，将需要删除的字符的ascii为下标储存在数组当中。
利用两个指针分别指向原字符串和需要删除的字符串。
因为我们已经将需要删除的字符串中的字符所对应的ASCII码作为下标储存在数组当中，所以在比较的时候只需要看原字符串中的字符所对应的ASCII码作为下标在数组中是否为1.
这样说可能不好理解。看一下具体例子
假如原字符串为
char str1[] = &#34;They aaaare students.&#34;; 需要删除的为
char str2[] = &#34;aeiou&#34;; 然后我们需要一个数组储存结果(将其初始化为0)
int a[256] = { 0 }; 两个指针分别指向这两个字符串
char* pFast = str1; char* pSlow = str2; 我们想实现的是在字符串str1中找到‘a’，‘e’，‘i’，‘o’，‘u’这几个字符并删除
第一步我们想在str1中找到所有的字符‘a’并删除
也就是说我们所有想删除的字符都在str2中
接下来我们把需要删除的字符对应的ASCII码作为下标，然后储存在数组中
利用一个for循环
for (i = 0; i &lt; n; &#43;&#43;i){ a[str2[i]] = 1; } str2[i]对应的是所有需要在str1中删除的字符
将其对应的ASCII码作为下标也就是 a[str2[i]]；
将其赋为1，表示该字符需要删除
接下来实现代码的核心部分
while (*pFast){ if (a[*pFast] == 1){ *pFast&#43;&#43;; } *pSlow&#43;&#43; = *pFast&#43;&#43;; } 因为我们需要删除的是str1中的字符，所以这里的 while(pFast)是为了遍历str1" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/efc63f062ef86123bd19ce918cda20ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-25T11:07:47+08:00" />
<meta property="article:modified_time" content="2019-07-25T11:07:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">输入两个字符串，从第一个字符串中删除第二个字符串中的所有字符（详细）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>输入两个字符串，从第一个字符串中删除第二个字符串中的所有字符<br> 比如输入“They are students."<br> 删除之后的第一个字符串变成"The r stdnts."</p> 
<p>思路是利用每个字符都有其对应的ASCII码值，将需要删除的字符的ascii为下标储存在数组当中。<br> 利用两个指针分别指向原字符串和需要删除的字符串。<br> 因为我们已经将需要删除的字符串中的字符所对应的ASCII码作为下标储存在数组当中，所以在比较的时候只需要看原字符串中的字符所对应的ASCII码作为下标在数组中是否为1.<br> 这样说可能不好理解。看一下具体例子</p> 
<p>假如原字符串为</p> 
<pre><code>char str1[] = "They aaaare students.";
</code></pre> 
<p>需要删除的为</p> 
<pre><code>char str2[] = "aeiou";
</code></pre> 
<p>然后我们需要一个数组储存结果(将其初始化为0)</p> 
<pre><code>int a[256] = { 0 };
</code></pre> 
<p>两个指针分别指向这两个字符串</p> 
<pre><code>char* pFast = str1;
char* pSlow = str2;
</code></pre> 
<p>我们想实现的是在字符串str1中找到‘a’，‘e’，‘i’，‘o’，‘u’这几个字符并删除<br> 第一步我们想在str1中找到所有的字符‘a’并删除<br> 也就是说我们所有想删除的字符都在str2中</p> 
<p>接下来我们把需要删除的字符对应的ASCII码作为下标，然后储存在数组中<br> 利用一个for循环</p> 
<pre><code>for (i = 0; i &lt; n; ++i){
	a[str2[i]] = 1;
}
</code></pre> 
<p>str2[i]对应的是所有需要在str1中删除的字符<br> 将其对应的ASCII码作为下标也就是 a[str2[i]]；<br> 将其赋为1，表示该字符需要删除</p> 
<p>接下来实现代码的核心部分</p> 
<pre><code>while (*pFast){
	if (a[*pFast] == 1){
		*pFast++;
	}
	*pSlow++ = *pFast++;
}
</code></pre> 
<p>因为我们需要删除的是str1中的字符，所以这里的 while(<em>pFast)是为了遍历str1<br> 接下来 if (a[<em>pFast] == 1) 说明我们要删除这个字符。我们给</em>pFast++，让pFast指针跳过这个字符，指到下一个字符，然后再赋给pSlow。<br> 这样做本质上是遍历str1，如果这个字符不需要删除，就拿过来赋给pSlow，然后pFast和pSlow同时自增<br> 如果需要删除，先给pFast自增，再</em>pSlow++ = *pFast++;（自增同时赋值）</p> 
<p>别忘了最后</p> 
<pre><code>*pSlow = '\0';
</code></pre> 
<p>给字符串结尾！</p> 
<p>但是这样的思路还存在一些问题。先看上面这个思路的完整代码，我们再来修改</p> 
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

void DeleteStr(char* str1, char* str2){
	char* pFast = str1;
	char* pSlow = str2;
	int a[256] = { 0 };
	int i;
	int n = strlen(str2);
	for (i = 0; i &lt; n; ++i){
		a[str2[i]] = 1;
	}
	while (*pFast){
		if (a[*pFast] == 1){
			*pFast++;
		}
		*pSlow++ = *pFast++;
	}

	*pSlow = '\0';
}
int main(){
	char str1[] = "They are students.";
	char str2[] = "aeiou";
	DeleteStr(str1, str2);
	printf("%s\n", str2);
	system("pause");
	return 0;
}
</code></pre> 
<p>这样去做题目中的要求我们可以实现，但是拓展之后，如果相同的字符连续出现，我们无法做到连续删除</p> 
<p>比如原字符串变成这样</p> 
<pre><code>char str1[] = "They aaaare students.";
</code></pre> 
<p>仔细想想，来看我们上面的核心代码</p> 
<pre><code>while (*pFast){
	if (a[*pFast] == 1){
		*pFast++;
	}
	*pSlow++ = *pFast++;
}
</code></pre> 
<p>我们在确认一个字符需要删除之后，直接就跳过该字符，下一个字符没有进行判断是否应该删除就进行了赋值<br> 所以要将这段代码进行修改</p> 
<pre><code>while (*pFast){
	if (a[*pFast] == 0){
		*pSlow = *pFast;
		pSlow++;
	}
	pFast++;
}
</code></pre> 
<p>这次我们判断</p> 
<pre><code>if (a[*pFast] == 0){}
</code></pre> 
<p>就说明不需要删除可以赋值<br> 直接</p> 
<pre><code>*pSlow = *pFast
</code></pre> 
<p>紧接着下来的一步我们不着急赋值，因为我们最终使用pSlow保存的结果，所以每赋值一次就先给pSlow++,这是pSlow++放在if语句中的原因。试想如果将pSlow++放在if语句之外，那么我们没有给pSlow赋值，指针也会不断往前走，这样肯定会出问题。<br> 先给pSlow++之后，在if语句之外给先给pFast++<br> 这时开始第二次循环<br> 这样做就能够实现在每一次赋值之前进行判断，就算相同字符连续出现也可以实现删除<br> 完整代码如下</p> 
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
void DeleteStr(char* str1, char* str2){
	char* pFast = str1;
	char* pSlow = str2;
	int a[256] = { 0 };
	int i;
	int n = strlen(str2);
	for (i = 0; i &lt; n; ++i){
		a[str2[i]] = 1;
	}
	while (*pFast){
		if (a[*pFast] == 0){
			*pSlow = *pFast;
			pSlow++;
		}
		pFast++;
	}
	*pSlow = '\0';
}
int main(){
	char str1[] = "They aaaare students.";
	char str2[] = "aeiou";
	DeleteStr(str1, str2);
	printf("%s\n", str2);
	system("pause");
	return 0;
}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/36179b654836d91da11c2a20bbf35e85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c&#43;&#43;学习（一）：string/char[]/char* 是不是以&#39;\0&#39;结尾</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6727917705bb7beca44a56f5a7b22b36/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue源码解读——Vue响应式原理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>