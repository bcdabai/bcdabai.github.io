<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mysql时间查询 昨天、今天、上月、本月... - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mysql时间查询 昨天、今天、上月、本月..." />
<meta property="og:description" content="本文为 【MySQl】 关于时间的查询
📌博主主页：一个肥鲇鱼
👉策略模式之Map&#43;函数式接口：策略模式之Map&#43;函数式接口
👉感受 Lambda 之美：体验一下Lambda之美吧，优雅编程
👉Bean转换工具：Mapstruct使用教程
查询最近一分钟的所有记录 SELECT * FROM table_name WHERE date_column &gt;= DATE_SUB(NOW(), INTERVAL 1 MINUTE); 查询最近一小时的所有记录 SELECT * FROM table_name WHERE date_column &gt;= DATE_SUB(NOW(), INTERVAL 1 HOUR); 解释：DATE_SUB函数是MySQL中的一个日期函数，用于在指定的日期上减去一定的时间间隔，返回计算后的日期。
其语法为：DATE_SUB(date, INTERVAL value unit)，其中date表示要进行计算的日期，value表示要减去的时间间隔，unit表示时间间隔的单位（如YEAR、MONTH、DAY、HOUR、MINUTE、SECOND等）。
查询昨天的SQL SELECT * FROM table_name WHERE DATE(date_column) = DATE_SUB(CURDATE(), INTERVAL 1 DAY); 解释：这条SQL语句使用了DATE_SUB函数，它用于从当前日期中减去指定的时间间隔。在这个例子中，我们使用了INTERVAL 1 DAY，这意味着我们要从当前日期中减去1天，以查询昨天的数据。DATE函数用于将日期列的时间戳截断为日期部分，以便与DATE_SUB函数返回的日期部分进行比较。
查询今天的SQL SELECT * FROM table_name WHERE DATE(date_column) = CURDATE(); 解释：这条SQL语句使用CURDATE函数，它返回当前日期。我们使用它来查询今天的数据。DATE函数用于将日期列的时间戳截断为日期部分，以便与CURDATE函数返回的日期部分进行比较。
查询上个月的SQL SELECT * FROM table_name WHERE DATE_FORMAT(date_column, &#39;%Y-%m&#39;) = DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 MONTH), &#39;%Y-%m&#39;); 解释：这条SQL语句使用了DATE_FORMAT函数，它用于将日期列的时间戳格式化为指定的日期格式。在这个例子中，我们使用了&#39;%Y-%m&#39;格式，它将日期格式化为年份和月份。我们使用了DATE_SUB函数来减去1个月的时间间隔，然后将其格式化为&#39;%Y-%m&#39;，以便与日期列的格式进行比较。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0e4b4ddae4fa3300951629058299a5d5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-04T14:11:13+08:00" />
<meta property="article:modified_time" content="2023-04-04T14:11:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mysql时间查询 昨天、今天、上月、本月...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" src="https://images2.imgbox.com/ab/89/kWRYB8v9_o.jpg"></p> 
<p> </p> 
<p>本文为 【MySQl】 关于时间的查询</p> 
<p> 📌博主主页：<a href="https://blog.csdn.net/weixin_47324958?spm=1011.2415.3001.5343" title="一个肥鲇鱼">一个肥鲇鱼</a></p> 
<p>👉策略模式之Map+函数式接口：<a href="https://blog.csdn.net/weixin_47324958/article/details/129284838" title="策略模式之Map+函数式接口">策略模式之Map+函数式接口</a></p> 
<p> 👉感受 Lambda 之美：<a href="https://blog.csdn.net/weixin_47324958/article/details/128148804?spm=1001.2014.3001.5501" title="体验一下Lambda之美吧，优雅编程">体验一下Lambda之美吧，优雅编程</a></p> 
<p>👉Bean转换工具：<a href="https://blog.csdn.net/weixin_47324958/article/details/128856802?spm=1001.2014.3001.5501" title="Mapstruct使用教程">Mapstruct使用教程</a></p> 
<hr> 
<h2>查询最近一分钟的所有记录</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE date_column &gt;= DATE_SUB(NOW(), INTERVAL 1 MINUTE);</code></pre> 
<h2>查询最近一小时的所有记录</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE date_column &gt;= DATE_SUB(NOW(), INTERVAL 1 HOUR);</code></pre> 
<p><strong>解释：</strong>DATE_SUB函数是MySQL中的一个日期函数，用于在指定的日期上减去一定的时间间隔，返回计算后的日期。</p> 
<p>其语法为：DATE_SUB(date, INTERVAL value unit)，其中date表示要进行计算的日期，value表示要减去的时间间隔，unit表示时间间隔的单位（如YEAR、MONTH、DAY、HOUR、MINUTE、SECOND等）。</p> 
<h2>查询昨天的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE DATE(date_column) = DATE_SUB(CURDATE(), INTERVAL 1 DAY);</code></pre> 
<p><strong>解释：</strong>这条SQL语句使用了DATE_SUB函数，它用于从当前日期中减去指定的时间间隔。在这个例子中，我们使用了INTERVAL 1 DAY，这意味着我们要从当前日期中减去1天，以查询昨天的数据。DATE函数用于将日期列的时间戳截断为日期部分，以便与DATE_SUB函数返回的日期部分进行比较。</p> 
<h2>查询今天的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE DATE(date_column) = CURDATE();</code></pre> 
<p><strong>解释：</strong>这条SQL语句使用CURDATE函数，它返回当前日期。我们使用它来查询今天的数据。DATE函数用于将日期列的时间戳截断为日期部分，以便与CURDATE函数返回的日期部分进行比较。</p> 
<h2>查询上个月的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE DATE_FORMAT(date_column, '%Y-%m') = DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 MONTH), '%Y-%m');</code></pre> 
<p><strong>解释：</strong>这条SQL语句使用了DATE_FORMAT函数，它用于将日期列的时间戳格式化为指定的日期格式。在这个例子中，我们使用了'%Y-%m'格式，它将日期格式化为年份和月份。我们使用了DATE_SUB函数来减去1个月的时间间隔，然后将其格式化为'%Y-%m'，以便与日期列的格式进行比较。</p> 
<h2>查询本月的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE DATE_FORMAT(date_column, '%Y-%m') = DATE_FORMAT(NOW(), '%Y-%m');</code></pre> 
<p><strong>解释：</strong>这条SQL语句与上个月的SQL非常相似，但是我们没有使用DATE_SUB函数来减去时间间隔，而是直接使用NOW函数获取当前日期。我们将当前日期格式化为'%Y-%m'，以便与日期列的格式进行比较。</p> 
<h2>查询上年的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE YEAR(date_column) = YEAR(DATE_SUB(NOW(), INTERVAL 1 YEAR));</code></pre> 
<p><strong>解释：</strong>这条SQL语句使用了YEAR函数，它从日期列的时间戳中提取年份。我们使用DATE_SUB函数来减去1年的时间间隔，然后使用YEAR函数从结果中提取年份。我们将这个年份与日期列的年份进行比较，以查询上年的数据。</p> 
<h2>查询今年的SQL</h2> 
<pre><code class="language-sql">SELECT * FROM table_name WHERE YEAR(date_column) = YEAR(NOW());</code></pre> 
<p><strong>解释：</strong>这条SQL语句与上年的SQL非常相似，但是我们没有使用DATE_SUB函数来减去时间间隔，而是直接使用NOW函数获取当前日期的年份。我们将这个年份与日期列的年份进行比较，以查询今年的数据。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00320c13cdcde5ab339e53cb91a1c822/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring Cloud子项目和版本选择</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b38e94c44606b2fc1dbef6769487edf6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">怎么用C语言在屏幕上打印数字</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>