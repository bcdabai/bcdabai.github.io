<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot è®¾ç½®åŠ¨æ€å®šæ—¶ä»»åŠ¡ï¼Œåƒä¸‡åˆ«å†å†™æ­»äº†~ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot è®¾ç½®åŠ¨æ€å®šæ—¶ä»»åŠ¡ï¼Œåƒä¸‡åˆ«å†å†™æ­»äº†~" />
<meta property="og:description" content="ğŸ‘‰ è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„ç¤¾ç¾¤
ğŸ± ä¸€å¯¹ä¸€äº¤æµ/é¢è¯•å°å†Œ/ç®€å†ä¼˜åŒ–/æ±‚èŒè§£æƒ‘ï¼Œæ¬¢è¿åŠ å…¥ã€ŒèŠ‹é“å¿«é€Ÿå¼€å‘å¹³å°ã€çŸ¥è¯†æ˜Ÿçƒã€‚ä¸‹é¢æ˜¯æ˜Ÿçƒæä¾›çš„éƒ¨åˆ†èµ„æ–™ï¼šÂ ã€Šé¡¹ç›®å®æˆ˜ï¼ˆè§†é¢‘ï¼‰ã€‹ï¼šä»ä¹¦ä¸­å­¦ï¼Œå¾€äº‹ä¸Šâ€œç»ƒâ€
ã€Šäº’è”ç½‘é«˜é¢‘é¢è¯•é¢˜ã€‹ï¼šé¢æœç®€å†å­¦ä¹ ï¼Œæ˜¥æš–èŠ±å¼€
ã€Šæ¶æ„ x ç³»ç»Ÿè®¾è®¡ã€‹ï¼šæ‘§æ¯æ‹‰æœ½ï¼ŒæŒæ§é¢è¯•é«˜é¢‘åœºæ™¯é¢˜
ã€Šç²¾è¿› Java å­¦ä¹ æŒ‡å—ã€‹ï¼šç³»ç»Ÿå­¦ä¹ ï¼Œäº’è”ç½‘ä¸»æµæŠ€æœ¯æ ˆ
ã€Šå¿…è¯» Java æºç ä¸“æ ã€‹ï¼šçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶
ğŸ‘‰è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„å¼€æºé¡¹ç›®
å›½äº§ Star ç ´ 10w&#43; çš„å¼€æºé¡¹ç›®ï¼Œå‰ç«¯åŒ…æ‹¬ç®¡ç†åå° &#43; å¾®ä¿¡å°ç¨‹åºï¼Œåç«¯æ”¯æŒå•ä½“å’Œå¾®æœåŠ¡æ¶æ„ã€‚
åŠŸèƒ½æ¶µç›– RBAC æƒé™ã€SaaS å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å•†åŸã€æ”¯ä»˜ã€å·¥ä½œæµã€å¤§å±æŠ¥è¡¨ã€å¾®ä¿¡å…¬ä¼—å·ç­‰ç­‰åŠŸèƒ½ï¼š
Boot åœ°å€ï¼šhttps://gitee.com/zhijiantianya/ruoyi-vue-pro
Cloud åœ°å€ï¼šhttps://gitee.com/zhijiantianya/yudao-cloud
è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn
æ¥æºï¼šblog.csdn.net/wl_Honest/
article/details/123654621
ä¹‹å‰å†™è¿‡æ–‡ç« è®°å½•æ€ä¹ˆåœ¨SpringBooté¡¹ç›®ä¸­ç®€å•ä½¿ç”¨å®šæ—¶ä»»åŠ¡ï¼Œä¸è¿‡ç”±äºè¦å€ŸåŠ©cronè¡¨è¾¾å¼ä¸”éƒ½æå‰å®šä¹‰å¥½æ”¾åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œä¸èƒ½åœ¨é¡¹ç›®è¿è¡Œä¸­åŠ¨æ€ä¿®æ”¹ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œå®åœ¨ä¸å¤ªçµæ´»ã€‚
ç»è¿‡ç½‘ä¸Šæœç´¢å­¦ä¹ åï¼Œç‰¹æ­¤è®°å½•å¦‚ä½•åœ¨SpringBooté¡¹ç›®ä¸­å®ç°åŠ¨æ€å®šæ—¶ä»»åŠ¡ã€‚
åŸºäº Spring Cloud Alibaba &#43; Gateway &#43; Nacos &#43; RocketMQ &#43; Vue &amp; Element å®ç°çš„åå°ç®¡ç†ç³»ç»Ÿ &#43; ç”¨æˆ·å°ç¨‹åºï¼Œæ”¯æŒ RBAC åŠ¨æ€æƒé™ã€å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å·¥ä½œæµã€ä¸‰æ–¹ç™»å½•ã€æ”¯ä»˜ã€çŸ­ä¿¡ã€å•†åŸç­‰åŠŸèƒ½
é¡¹ç›®åœ°å€ï¼šhttps://github.com/YunaiV/yudao-cloud
è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn/video/
å› ä¸ºåªæ˜¯ä¸€ä¸ªdemoï¼Œæ‰€ä»¥åªå¼•å…¥äº†éœ€è¦çš„ä¾èµ–ï¼š
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;!--Â springÂ bootÂ 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/74dcc942e9325e9c9756cf1857cc8d35/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-04T10:59:34+08:00" />
<meta property="article:modified_time" content="2023-11-04T10:59:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot è®¾ç½®åŠ¨æ€å®šæ—¶ä»»åŠ¡ï¼Œåƒä¸‡åˆ«å†å†™æ­»äº†~</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <blockquote> 
  <p>ğŸ‘‰ <strong>è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨</strong><strong>çš„ç¤¾ç¾¤</strong></p> 
  <p>ğŸ± ä¸€å¯¹ä¸€äº¤æµ/é¢è¯•å°å†Œ/ç®€å†ä¼˜åŒ–/æ±‚èŒè§£æƒ‘ï¼Œæ¬¢è¿åŠ å…¥ã€Œ<a href="" rel="nofollow"><strong>èŠ‹é“å¿«é€Ÿå¼€å‘å¹³å°</strong></a>ã€çŸ¥è¯†æ˜Ÿçƒã€‚ä¸‹é¢æ˜¯æ˜Ÿçƒæä¾›çš„éƒ¨åˆ†èµ„æ–™ï¼šÂ </p> 
  <ul><li><p><a href="" rel="nofollow">ã€Šé¡¹ç›®å®æˆ˜ï¼ˆè§†é¢‘ï¼‰ã€‹</a>ï¼šä»ä¹¦ä¸­å­¦ï¼Œå¾€äº‹ä¸Š<strong>â€œç»ƒâ€</strong></p></li><li><p><a href="" rel="nofollow">ã€Šäº’è”ç½‘é«˜é¢‘é¢è¯•é¢˜ã€‹</a>ï¼šé¢æœç®€å†å­¦ä¹ ï¼Œæ˜¥æš–èŠ±å¼€</p></li><li><p><a href="" rel="nofollow">ã€Šæ¶æ„ x ç³»ç»Ÿè®¾è®¡ã€‹</a>ï¼šæ‘§æ¯æ‹‰æœ½ï¼ŒæŒæ§é¢è¯•é«˜é¢‘åœºæ™¯é¢˜</p></li><li><p><a href="" rel="nofollow">ã€Šç²¾è¿› Java å­¦ä¹ æŒ‡å—ã€‹</a>ï¼šç³»ç»Ÿå­¦ä¹ ï¼Œäº’è”ç½‘ä¸»æµæŠ€æœ¯æ ˆ</p></li><li><p><a href="" rel="nofollow">ã€Šå¿…è¯» Java æºç ä¸“æ ã€‹</a>ï¼šçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶</p></li></ul> 
 </blockquote> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/bc/b4/IYzRsW9K_o.gif" alt="007903f22987cdfe97df295c502c10f9.gif"></p> 
 <blockquote> 
  <p style="text-align:left;">ğŸ‘‰<strong>è¿™æ˜¯ä¸€ä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„å¼€æºé¡¹ç›®</strong></p> 
  <p>å›½äº§ Star ç ´ 10w+ çš„å¼€æºé¡¹ç›®ï¼Œå‰ç«¯åŒ…æ‹¬ç®¡ç†åå° + å¾®ä¿¡å°ç¨‹åºï¼Œåç«¯æ”¯æŒå•ä½“å’Œå¾®æœåŠ¡æ¶æ„ã€‚</p> 
  <p>åŠŸèƒ½æ¶µç›– RBAC æƒé™ã€SaaS å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å•†åŸã€æ”¯ä»˜ã€å·¥ä½œæµã€å¤§å±æŠ¥è¡¨ã€å¾®ä¿¡å…¬ä¼—å·ç­‰ç­‰åŠŸèƒ½ï¼š</p> 
  <ul><li><p>Boot åœ°å€ï¼šhttps://gitee.com/zhijiantianya/ruoyi-vue-pro</p></li><li><p>Cloud åœ°å€ï¼šhttps://gitee.com/zhijiantianya/yudao-cloud</p></li><li><p>è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn</p></li></ul> 
 </blockquote> 
 <p style="text-align:right;"><a href="" rel="nofollow">æ¥æºï¼šblog.csdn.net/wl_Honest/</a></p> 
 <p style="text-align:right;"><a href="" rel="nofollow">article/details/123654621</a></p> 
 <p style="text-align:right;"><a href="" rel="nofollow"><img src="https://images2.imgbox.com/f3/7f/MMLjgckW_o.jpg" alt="3697e87d6a567d239b5645d186236b66.jpeg"></a></p> 
 <hr> 
 <p>ä¹‹å‰å†™è¿‡æ–‡ç« è®°å½•æ€ä¹ˆåœ¨SpringBooté¡¹ç›®ä¸­ç®€å•ä½¿ç”¨å®šæ—¶ä»»åŠ¡ï¼Œä¸è¿‡ç”±äºè¦å€ŸåŠ©cronè¡¨è¾¾å¼ä¸”éƒ½æå‰å®šä¹‰å¥½æ”¾åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œä¸èƒ½åœ¨é¡¹ç›®è¿è¡Œä¸­åŠ¨æ€ä¿®æ”¹ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼Œå®åœ¨ä¸å¤ªçµæ´»ã€‚</p> 
 <p>ç»è¿‡ç½‘ä¸Šæœç´¢å­¦ä¹ åï¼Œç‰¹æ­¤è®°å½•å¦‚ä½•åœ¨SpringBooté¡¹ç›®ä¸­å®ç°åŠ¨æ€å®šæ—¶ä»»åŠ¡ã€‚</p> 
 <blockquote> 
  <p>åŸºäº Spring Cloud Alibaba + Gateway + Nacos + RocketMQ + Vue &amp; Element å®ç°çš„åå°ç®¡ç†ç³»ç»Ÿ + ç”¨æˆ·å°ç¨‹åºï¼Œæ”¯æŒ RBAC åŠ¨æ€æƒé™ã€å¤šç§Ÿæˆ·ã€æ•°æ®æƒé™ã€å·¥ä½œæµã€ä¸‰æ–¹ç™»å½•ã€æ”¯ä»˜ã€çŸ­ä¿¡ã€å•†åŸç­‰åŠŸèƒ½</p> 
  <ul><li><p>é¡¹ç›®åœ°å€ï¼šhttps://github.com/YunaiV/yudao-cloud</p></li><li><p>è§†é¢‘æ•™ç¨‹ï¼šhttps://doc.iocoder.cn/video/</p></li></ul> 
 </blockquote> 
 <p>å› ä¸ºåªæ˜¯ä¸€ä¸ªdemoï¼Œæ‰€ä»¥åªå¼•å…¥äº†éœ€è¦çš„ä¾èµ–ï¼š</p> 
 <pre class="has"><code class="language-go">&lt;dependencies&gt;
Â Â Â Â &lt;dependency&gt;
Â Â Â Â Â Â Â Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
Â Â Â Â Â Â Â Â &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
Â Â Â Â &lt;/dependency&gt;

Â Â Â Â &lt;dependency&gt;
Â Â Â Â Â Â Â Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
Â Â Â Â Â Â Â Â &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;
Â Â Â Â Â Â Â Â &lt;optional&gt;true&lt;/optional&gt;
Â Â Â Â &lt;/dependency&gt;

Â Â Â Â &lt;!--Â springÂ bootÂ 2.3ç‰ˆæœ¬åï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ ¡éªŒï¼Œéœ€æ‰‹åŠ¨å¯¼å…¥validationåŒ…--&gt;
Â Â Â Â &lt;dependency&gt;
Â Â Â Â Â Â Â Â &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
Â Â Â Â Â Â Â Â &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;
Â Â Â Â &lt;/dependency&gt;

Â Â Â Â &lt;dependency&gt;
Â Â Â Â Â Â Â Â &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
Â Â Â Â Â Â Â Â &lt;artifactId&gt;lombok&lt;/artifactId&gt;
Â Â Â Â Â Â Â Â &lt;optional&gt;true&lt;/optional&gt;
Â Â Â Â &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre> 
 <p>å¯åŠ¨ç±»ï¼š</p> 
 <pre class="has"><code class="language-go">packageÂ com.wl.demo;
Â 
importÂ org.springframework.boot.SpringApplication;
importÂ org.springframework.boot.autoconfigure.SpringBootApplication;
importÂ org.springframework.scheduling.annotation.EnableScheduling;
Â 
/**
Â *Â @authorÂ wl
Â */
@EnableScheduling
@SpringBootApplication
publicÂ classÂ DemoApplicationÂ {
Â 
Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {
Â Â Â Â Â Â Â Â SpringApplication.run(DemoApplication.class,Â args);
Â Â Â Â Â Â Â Â System.out.println("(*^â–½^*)å¯åŠ¨æˆåŠŸ!!!(ã€ƒ'â–½'ã€ƒ)");
Â Â Â Â }
}</code></pre> 
 <p>é…ç½®æ–‡ä»¶application.ymlï¼Œåªå®šä¹‰äº†æœåŠ¡ç«¯å£ï¼š</p> 
 <pre class="has"><code class="language-go">server:
Â Â port:Â 8089</code></pre> 
 <p>å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ—¶é—´é…ç½®æ–‡ä»¶ï¼štask-config.ini:</p> 
 <pre class="has"><code class="language-go">printTime.cron=0/10Â *Â *Â *Â *Â ?</code></pre> 
 <p>å®šæ—¶ä»»åŠ¡æ‰§è¡Œç±»ï¼š</p> 
 <pre class="has"><code class="language-go">packageÂ com.wl.demo.task;
Â 
importÂ lombok.Data;
importÂ lombok.extern.slf4j.Slf4j;
importÂ org.springframework.beans.factory.annotation.Value;
importÂ org.springframework.context.annotation.PropertySource;
importÂ org.springframework.scheduling.Trigger;
importÂ org.springframework.scheduling.TriggerContext;
importÂ org.springframework.scheduling.annotation.SchedulingConfigurer;
importÂ org.springframework.scheduling.config.ScheduledTaskRegistrar;
importÂ org.springframework.scheduling.support.CronTrigger;
importÂ org.springframework.stereotype.Component;
Â 
importÂ java.time.LocalDateTime;
importÂ java.util.Date;
Â 
/**
Â *Â å®šæ—¶ä»»åŠ¡
Â *Â @authorÂ wl
Â */
@Data
@Slf4j
@Component
@PropertySource("classpath:/task-config.ini")
publicÂ classÂ ScheduleTaskÂ implementsÂ SchedulingConfigurerÂ {
Â 
Â Â Â Â @Value("${printTime.cron}")
Â Â Â Â privateÂ StringÂ cron;
Â 
Â Â Â Â @Override
Â Â Â Â publicÂ voidÂ configureTasks(ScheduledTaskRegistrarÂ taskRegistrar)Â {
Â Â Â Â Â Â Â Â //Â åŠ¨æ€ä½¿ç”¨cronè¡¨è¾¾å¼è®¾ç½®å¾ªç¯é—´éš”
Â Â Â Â Â Â Â Â taskRegistrar.addTriggerTask(newÂ Runnable()Â {
Â Â Â Â Â Â Â Â Â Â Â Â @Override
Â Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ run()Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â log.info("Current timeï¼šÂ {}",Â LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â },Â newÂ Trigger()Â {
Â Â Â Â Â Â Â Â Â Â Â Â @Override
Â Â Â Â Â Â Â Â Â Â Â Â publicÂ DateÂ nextExecutionTime(TriggerContextÂ triggerContext)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â ä½¿ç”¨CronTriggerè§¦å‘å™¨ï¼Œå¯åŠ¨æ€ä¿®æ”¹cronè¡¨è¾¾å¼æ¥æ“ä½œå¾ªç¯è§„åˆ™
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CronTriggerÂ cronTriggerÂ =Â newÂ CronTrigger(cron);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DateÂ nextExecutionTimeÂ =Â cronTrigger.nextExecutionTime(triggerContext);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ nextExecutionTime;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });
Â Â Â Â }
}</code></pre> 
 <p>ç¼–å†™ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡è°ƒç”¨æ¥å£åŠ¨æ€ä¿®æ”¹è¯¥å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ï¼š</p> 
 <pre class="has"><code class="language-go">packageÂ com.wl.demo.controller;
Â 
importÂ com.wl.demo.task.ScheduleTask;
importÂ lombok.extern.slf4j.Slf4j;
importÂ org.springframework.beans.factory.annotation.Autowired;
importÂ org.springframework.web.bind.annotation.GetMapping;
importÂ org.springframework.web.bind.annotation.RequestMapping;
importÂ org.springframework.web.bind.annotation.RestController;
Â 
/**
Â *Â @authorÂ wl
Â */
@Slf4j
@RestController
@RequestMapping("/test")
publicÂ classÂ TestControllerÂ {
Â 
Â Â Â Â privateÂ finalÂ ScheduleTaskÂ scheduleTask;
Â 
Â Â Â Â @Autowired
Â Â Â Â publicÂ TestController(ScheduleTaskÂ scheduleTask)Â {
Â Â Â Â Â Â Â Â this.scheduleTaskÂ =Â scheduleTask;
Â Â Â Â }
Â 
Â Â Â Â @GetMapping("/updateCron")
Â Â Â Â publicÂ StringÂ updateCron(StringÂ cron)Â {
Â Â Â Â Â Â Â Â log.info("newÂ cronÂ :{}",Â cron);
Â Â Â Â Â Â Â Â scheduleTask.setCron(cron);
Â Â Â Â Â Â Â Â returnÂ "ok";
Â Â Â Â }
}</code></pre> 
 <p>å¯åŠ¨é¡¹ç›®ï¼Œå¯ä»¥çœ‹åˆ°ä»»åŠ¡æ¯10ç§’æ‰§è¡Œä¸€æ¬¡ï¼š</p> 
 <img src="https://images2.imgbox.com/e0/af/Sn7jEMrj_o.png" alt="b7d0a73d2985bd53f8fa9c1227b90fd5.png"> 
 <p>è®¿é—®æ¥å£ï¼Œä¼ å…¥è¯·æ±‚å‚æ•°cronè¡¨è¾¾å¼ï¼Œå°†å®šæ—¶ä»»åŠ¡ä¿®æ”¹ä¸º15ç§’æ‰§è¡Œä¸€æ¬¡ï¼š</p> 
 <img src="https://images2.imgbox.com/78/13/1zytnWfp_o.png" alt="e59752e8e1039e9a2c250c0776a17f5f.png"> 
 <p>å¯ä»¥çœ‹åˆ°ä»»åŠ¡å˜æˆäº†15ç§’æ‰§è¡Œä¸€æ¬¡</p> 
 <img src="https://images2.imgbox.com/55/d8/ObsLwz6X_o.png" alt="f4637e2d551acf4a926af8302b99b9d4.png"> 
 <p>é™¤äº†ä¸Šé¢çš„å€ŸåŠ©cronè¡¨è¾¾å¼çš„æ–¹æ³•ï¼Œè¿˜æœ‰å¦ä¸€ç§è§¦å‘å™¨ï¼ŒåŒºåˆ«äºCronTriggerè§¦å‘å™¨ï¼Œè¯¥è§¦å‘å™¨å¯éšæ„è®¾ç½®å¾ªç¯é—´éš”æ—¶é—´ï¼Œä¸åƒcronè¡¨è¾¾å¼åªèƒ½å®šä¹‰å°äºç­‰äºé—´éš”59ç§’ã€‚</p> 
 <pre class="has"><code class="language-go">packageÂ com.wl.demo.task;
Â 
importÂ lombok.Data;
importÂ lombok.extern.slf4j.Slf4j;
importÂ org.springframework.beans.factory.annotation.Value;
importÂ org.springframework.context.annotation.PropertySource;
importÂ org.springframework.scheduling.Trigger;
importÂ org.springframework.scheduling.TriggerContext;
importÂ org.springframework.scheduling.annotation.SchedulingConfigurer;
importÂ org.springframework.scheduling.config.ScheduledTaskRegistrar;
importÂ org.springframework.scheduling.support.CronTrigger;
importÂ org.springframework.scheduling.support.PeriodicTrigger;
importÂ org.springframework.stereotype.Component;
Â 
importÂ java.time.LocalDateTime;
importÂ java.util.Date;
Â 
/**
Â *Â å®šæ—¶ä»»åŠ¡
Â *Â @authorÂ wl
Â */
@Data
@Slf4j
@Component
@PropertySource("classpath:/task-config.ini")
publicÂ classÂ ScheduleTaskÂ implementsÂ SchedulingConfigurerÂ {
Â 
Â Â Â Â @Value("${printTime.cron}")
Â Â Â Â privateÂ StringÂ cron;
Â 
Â Â Â Â privateÂ LongÂ timerÂ =Â 10000L;
Â 
Â Â Â Â @Override
Â Â Â Â publicÂ voidÂ configureTasks(ScheduledTaskRegistrarÂ taskRegistrar)Â {
Â Â Â Â Â Â Â Â //Â åŠ¨æ€ä½¿ç”¨cronè¡¨è¾¾å¼è®¾ç½®å¾ªç¯é—´éš”
Â Â Â Â Â Â Â Â taskRegistrar.addTriggerTask(newÂ Runnable()Â {
Â Â Â Â Â Â Â Â Â Â Â Â @Override
Â Â Â Â Â Â Â Â Â Â Â Â publicÂ voidÂ run()Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â log.info("Current timeï¼šÂ {}",Â LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â },Â newÂ Trigger()Â {
Â Â Â Â Â Â Â Â Â Â Â Â @Override
Â Â Â Â Â Â Â Â Â Â Â Â publicÂ DateÂ nextExecutionTime(TriggerContextÂ triggerContext)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â ä½¿ç”¨CronTriggerè§¦å‘å™¨ï¼Œå¯åŠ¨æ€ä¿®æ”¹cronè¡¨è¾¾å¼æ¥æ“ä½œå¾ªç¯è§„åˆ™
//Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CronTriggerÂ cronTriggerÂ =Â newÂ CronTrigger(cron);
//Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DateÂ nextExecutionTimeÂ =Â cronTrigger.nextExecutionTime(triggerContext);
Â 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â //Â ä½¿ç”¨ä¸åŒçš„è§¦å‘å™¨ï¼Œä¸ºè®¾ç½®å¾ªç¯æ—¶é—´çš„å…³é”®ï¼ŒåŒºåˆ«äºCronTriggerè§¦å‘å™¨ï¼Œè¯¥è§¦å‘å™¨å¯éšæ„è®¾ç½®å¾ªç¯é—´éš”æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PeriodicTriggerÂ periodicTriggerÂ =Â newÂ PeriodicTrigger(timer);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DateÂ nextExecutionTimeÂ =Â periodicTrigger.nextExecutionTime(triggerContext);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ nextExecutionTime;
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });
Â Â Â Â }
}</code></pre> 
 <p>å¢åŠ ä¸€ä¸ªä¿®æ”¹æ—¶é—´çš„æ¥å£ï¼š</p> 
 <pre class="has"><code class="language-go">packageÂ com.wl.demo.controller;
Â 
importÂ com.wl.demo.task.ScheduleTask;
importÂ lombok.extern.slf4j.Slf4j;
importÂ org.springframework.beans.factory.annotation.Autowired;
importÂ org.springframework.web.bind.annotation.GetMapping;
importÂ org.springframework.web.bind.annotation.RequestMapping;
importÂ org.springframework.web.bind.annotation.RestController;
Â 
/**
Â *Â @authorÂ wl
Â */
@Slf4j
@RestController
@RequestMapping("/test")
publicÂ classÂ TestControllerÂ {
Â 
Â Â Â Â privateÂ finalÂ ScheduleTaskÂ scheduleTask;
Â 
Â Â Â Â @Autowired
Â Â Â Â publicÂ TestController(ScheduleTaskÂ scheduleTask)Â {
Â Â Â Â Â Â Â Â this.scheduleTaskÂ =Â scheduleTask;
Â Â Â Â }
Â 
Â Â Â Â @GetMapping("/updateCron")
Â Â Â Â publicÂ StringÂ updateCron(StringÂ cron)Â {
Â Â Â Â Â Â Â Â log.info("newÂ cronÂ :{}",Â cron);
Â Â Â Â Â Â Â Â scheduleTask.setCron(cron);
Â Â Â Â Â Â Â Â returnÂ "ok";
Â Â Â Â }
Â 
Â Â Â Â @GetMapping("/updateTimer")
Â Â Â Â publicÂ StringÂ updateTimer(LongÂ timer)Â {
Â Â Â Â Â Â Â Â log.info("newÂ timerÂ :{}",Â timer);
Â Â Â Â Â Â Â Â scheduleTask.setTimer(timer);
Â Â Â Â Â Â Â Â returnÂ "ok";
Â Â Â Â }
}</code></pre> 
 <p>æµ‹è¯•ç»“æœï¼š</p> 
 <img src="https://images2.imgbox.com/5b/3f/IqjiDrxQ_o.png" alt="d394defdf224a23e5b35c2f939bee447.png"> 
 <hr> 
 <p>æ¬¢è¿åŠ å…¥æˆ‘çš„çŸ¥è¯†æ˜Ÿçƒï¼Œå…¨é¢æå‡æŠ€æœ¯èƒ½åŠ›ã€‚</p> 
 <p>ğŸ‘‰Â åŠ å…¥æ–¹å¼ï¼Œ<strong>â€œ<strong>é•¿æŒ‰</strong>â€æˆ–â€œ<strong>æ‰«æ</strong>â€ä¸‹æ–¹äºŒç»´ç å™¢</strong>ï¼š</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/03/3a/6OtfsQL7_o.png" alt="8bd1977e810b7413639e316e63018d2b.png"></p> 
 <p style="text-align:left;">æ˜Ÿçƒçš„<strong>å†…å®¹åŒ…æ‹¬</strong>ï¼šé¡¹ç›®å®æˆ˜ã€é¢è¯•æ‹›è˜ã€æºç è§£æã€å­¦ä¹ è·¯çº¿ã€‚</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/14/c7/bLcQBvky_o.png" alt="64867611b96d161eef9d6a02e51b9ae0.png"></p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/f9/f4/yhOJnGLu_o.png" alt="6409e99084f9ad7edde1152b792716e3.png"><img src="https://images2.imgbox.com/b0/8c/MIekZ2S5_o.png" alt="9ca75380168bf26539f180b8cd1e7929.png"><img src="https://images2.imgbox.com/6e/4a/JyiaveeE_o.png" alt="679a5583d5eed733391f1072bb662dda.png"><img src="https://images2.imgbox.com/32/12/nEE5608J_o.png" alt="d4a8184f3fd874712b96599fe3d69595.png"></p> 
 <pre class="has"><code class="language-go">æ–‡ç« æœ‰å¸®åŠ©çš„è¯ï¼Œåœ¨çœ‹ï¼Œè½¬å‘å§ã€‚
è°¢è°¢æ”¯æŒå“Ÿ (*^__^*ï¼‰</code></pre> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a5e43adbe65c25e189fae9c8e9c33aed/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€Linuxã€‘ç¼–è¯‘å®‰è£…nginxï¼Œæ‰‹å†™serviceé…ç½®æ–‡ä»¶ï¼Œæ·±åº¦ç†è§£systemdæ§åˆ¶ç®¡ç†æœåŠ¡åº•å±‚åŸç†</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0378cb75dc089566aba61e1cba8828c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€protobufã€‘protobufè‡ªå®šä¹‰æ•°æ®æ ¼å¼ï¼ŒCMakeç¼–è¯‘C&#43;&#43;æ–‡ä»¶è¯»å†™è‡ªå®šä¹‰æ•°æ®</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>