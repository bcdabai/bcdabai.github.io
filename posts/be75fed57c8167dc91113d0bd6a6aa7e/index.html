<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32：GPIO配置和使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32：GPIO配置和使用" />
<meta property="og:description" content="目录
一、GPIO简介
1.1 GPIO的输入输出模式
1.1.1 输入模式
1.1.2 输出模式
二、GPIO的使用
2.1 引脚初始化
2.2 引脚使用
注：型号：STM32F407ZET6
一、GPIO简介 GPIO：通用输入输出接口
STM32上有A~H共8组，其中A~G7组每组有0~15号共16个引脚，H组有两个引脚。
1.1 GPIO的输入输出模式 1.1.1 输入模式 1. 上拉输入
上拉电阻：信号线通过电阻连接高电平，信号的初始值是高电平。
2. 下拉输入
下拉电阻：信号线通过电阻连接低电平，信号的初始值为低电平。
3. 浮空输入
浮空：信号线不连接高低电平，信号电压不确定。
5. 模拟输入
1.1.2 输出模式 1. 开漏输出（上拉或下拉）
2. 复用开漏输出（上拉或下拉）
3. 推挽输出（上拉或下拉）
4. 复用推挽输出（上拉或下拉）
二、GPIO的使用 2.1 引脚初始化 初始化步骤：
1. 初始化一个GPIO配置结构体
头文件（定义位置）：#include &#34;stm32f4xx_gpio.h&#34;
2. 使能时钟总线
头文件：#include &#34;stm32f4xx_rcc.h&#34;
原型：void RCC_AHB1PeriphClockCmd(uint32_t RCC_AHB1Periph, FunctionalState NewState);
参数：
- RCC_AHB1Periph 外围设备，可选项在定义的注释中 - NewState 时钟新状态，ENABLE、DISABLE
3. 配置这个GPIO配置结构体
- GPIO_Pin 初始化的引脚号 可选项：GPIO_Pin_0~GPIO_Pin_15，GPIO_Pin_All" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/be75fed57c8167dc91113d0bd6a6aa7e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-28T10:47:50+08:00" />
<meta property="article:modified_time" content="2023-04-28T10:47:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32：GPIO配置和使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81GPIO%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81GPIO%E7%AE%80%E4%BB%8B" rel="nofollow">一、GPIO简介</a></p> 
<p id="1.1%20GPIO%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#1.1%20GPIO%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F" rel="nofollow">1.1 GPIO的输入输出模式</a></p> 
<p id="1.1.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F-toc" style="margin-left:80px;"><a href="#1.1.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F" rel="nofollow">1.1.1 输入模式</a></p> 
<p id="1.1.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#1.1.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F" rel="nofollow">1.1.2 输出模式</a></p> 
<p id="%E4%BA%8C%E3%80%81GPIO%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81GPIO%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">二、GPIO的使用</a></p> 
<p id="2.1%20%E5%BC%95%E8%84%9A%E5%88%9D%E5%A7%8B%E5%8C%96-toc" style="margin-left:40px;"><a href="#2.1%20%E5%BC%95%E8%84%9A%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">2.1 引脚初始化</a></p> 
<p id="2.2%20%E5%BC%95%E8%84%9A%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#2.2%20%E5%BC%95%E8%84%9A%E4%BD%BF%E7%94%A8" rel="nofollow">2.2 引脚使用</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>注：型号：STM32F407ZET6</p> 
<h2 id="%E4%B8%80%E3%80%81GPIO%E7%AE%80%E4%BB%8B">一、GPIO简介</h2> 
<p>    GPIO：通用输入输出接口<br>     STM32上有A~H共8组，其中A~G7组每组有0~15号共16个引脚，H组有两个引脚。</p> 
<h3 id="1.1%20GPIO%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F">1.1 GPIO的输入输出模式</h3> 
<h4 id="1.1.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F">1.1.1 输入模式</h4> 
<p>     1. 上拉输入<br>          上拉电阻：信号线通过电阻连接高电平，信号的初始值是高电平。<br>         <img alt="" height="172" src="https://images2.imgbox.com/16/77/au5VYsAp_o.png" width="182"></p> 
<p>     2. 下拉输入<br>              下拉电阻：信号线通过电阻连接低电平，信号的初始值为低电平。<br>             <img alt="" height="118" src="https://images2.imgbox.com/01/c5/zuMovlWd_o.png" width="165"></p> 
<p>     3. 浮空输入<br>          浮空：信号线不连接高低电平，信号电压不确定。<br>      5. 模拟输入</p> 
<h3 id="1.1.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F">1.1.2 输出模式</h3> 
<p>     1. 开漏输出（上拉或下拉）<br>      2. 复用开漏输出（上拉或下拉）<br>      3. 推挽输出（上拉或下拉）<br>      4. 复用推挽输出（上拉或下拉）</p> 
<h2 id="%E4%BA%8C%E3%80%81GPIO%E7%9A%84%E4%BD%BF%E7%94%A8">二、GPIO的使用</h2> 
<h3 id="2.1%20%E5%BC%95%E8%84%9A%E5%88%9D%E5%A7%8B%E5%8C%96">2.1 引脚初始化</h3> 
<p>    初始化步骤：<br>          1. 初始化一个GPIO配置结构体<br>             头文件（定义位置）：#include "stm32f4xx_gpio.h"</p> 
<p><img alt="" height="281" src="https://images2.imgbox.com/9e/b6/Tdkn3JGD_o.png" width="317"></p> 
<p>         2. 使能时钟总线<br>        <img alt="" height="1200" src="https://images2.imgbox.com/ec/89/dMCJPEwa_o.png" width="1152"><br>             头文件：#include "stm32f4xx_rcc.h"<br>             原型：void  RCC_AHB1PeriphClockCmd(uint32_t RCC_AHB1Periph, FunctionalState NewState);<br>             参数：<br>              - RCC_AHB1Periph    外围设备，可选项在定义的注释中 <br>              - NewState        时钟新状态，ENABLE、DISABLE</p> 
<p>         3. 配置这个GPIO配置结构体<br>              - GPIO_Pin    初始化的引脚号                <br>                  可选项：GPIO_Pin_0~GPIO_Pin_15，GPIO_Pin_All<br>              - GPIO_Mode    输入输出模式<br>                  - GPIO_Mode_IN    输入模式<br>                  - GPIO_Mode_OUT    输出模式<br>                  - GPIO_Mode_AF    复用模式<br>                  - GPIO_Mode_AN    模拟模式<br>              - GPIO_Speed    工作速度（速度越快，功耗越高）<br>                  - GPIO_Low_Speed        低速，2MHz<br>                  - GPIO_Medium_Speed    中速，25MHz<br>                  - GPIO_Fast_Speed        快速，50MHz<br>                  - GPIO_High_Speed        高速，100MHz<br>              - GPIO_OType    输出模式<br>                 - GPIO_OType_PP    推挽输出<br>                  - GPIO_OType_OD    开漏输出<br>              - GPIO_PuPd<br>                  - GPIO_PuPd_NOPULL        浮空<br>                  - GPIO_PuPd_UP                上拉<br>                  - GPIO_PuPd_DOWN          下拉</p> 
<p>         4. 调用初始化函数完场初始化<br>              头文件：#include "stm32f4xx_gpio.h"<br>             原型：void GPIO_Init(GPIO_TypeDef* GPIOx, GPIO_InitTypeDef* GPIO_InitStruct);<br>             参数：<br>              - GPIOx    引脚所在组，GPIOA~GPIOG<br>              - GPIO_InitStruct    配置结构体的指针</p> 
<p>示例代码：</p> 
<pre><code>//按键初始化
void Init_Key(void)
{
    //初始化配置结构体
    GPIO_InitTypeDef Init_Struct_KEY0;
    
    //使能时钟
    RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA,ENABLE);
    
    //结构体配置
    Init_Struct_KEY0.GPIO_Mode = GPIO_Mode_IN;
    Init_Struct_KEY0.GPIO_Pin = GPIO_Pin_0;
    Init_Struct_KEY0.GPIO_PuPd = GPIO_PuPd_UP;
    Init_Struct_KEY0.GPIO_Speed = GPIO_High_Speed;
    
    //调用函数完成初始化
    GPIO_Init(GPIOA,&amp;Init_Struct_KEY0);
}

//LED灯初始化
void Tiit_LED(void)
{
    //初始化配置结构体
    GPIO_InitTypeDef Init_Struct_LED0_1;
    
    //使能时钟
    RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOF,ENABLE);
    
    //结构体配置
    Init_Struct_LED0_1.GPIO_Mode = GPIO_Mode_OUT;        //输出模式
    Init_Struct_LED0_1.GPIO_Pin = GPIO_Pin_9;            //9号引脚
    Init_Struct_LED0_1.GPIO_OType = GPIO_OType_PP;        //推挽输出
    Init_Struct_LED0_1.GPIO_PuPd = GPIO_PuPd_NOPULL;    //浮空
    Init_Struct_LED0_1.GPIO_Speed = GPIO_High_Speed;    //高速
    
    //调用函数完成初始化
    GPIO_Init(GPIOF,&amp;Init_Struct_LED0_1);
    
    //关灯
    GPIO_SetBits(GPIOF,GPIO_Pin_9);
}    </code></pre> 
<h3 id="2.2%20%E5%BC%95%E8%84%9A%E4%BD%BF%E7%94%A8"><br> 2.2 引脚使用</h3> 
<p>    头文件：#include "stm32f4xx_gpio.h"<br>     读引脚状态：<br>         读一个引脚：uint8_t GPIO_ReadInputDataBit(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);<br>         读一组引脚：uint16_t GPIO_ReadInputData(GPIO_TypeDef* GPIOx);<br>     设置引脚状态：<br>         置位：void GPIO_SetBits(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);<br>         复位：void GPIO_ResetBits(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75a9edafba188a65d9d09879b66cc8cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python PyQt5的安装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aa40a558a37a0ee95b2b4c1784b34ca3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">将列表拼接到server对象的表格中</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>