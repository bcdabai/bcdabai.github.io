<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络基础知识--网络层协议IP、ARP、ICMP、RIP、OSPF - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络基础知识--网络层协议IP、ARP、ICMP、RIP、OSPF" />
<meta property="og:description" content="目录
IP协议
IP数据报格式
IP地址的编址方法
分类的IP地址
ARP
ICMP
ICMP 报文格式 ICMP报文的种类
路由选择协议
RIP
RIP协议特点
距离算法
RIP协议的报文格式
RIP 优点
RIP缺点
OSPF
OSPF 与 RIP 的区别
OSPF 分组首部
BGP 路由器的构成
IPv6
本地地址或专用地址（本地互联网或专用互联网）
IP协议 IP数据报格式 IP是无连接服务。
IP地址的编址方法 (1) 分类的IP地址。将IP地址分成若干个固定类，每一类地址都由两个固定长度的字段构成：分别是：网络号和主机号。
(2) 子网的划分
(3) 构成超网
分类的IP地址 CIDR 无分类域间路由选择
IP地址 := {&lt;网络前缀&gt;，&lt;主机号&gt;}
ARP ARP(Address Resolution Protocol) 地址解析协议，将IP地址解析成硬件地址，并且整个解析过程都是自动完成的。
需要注意的是，ARP是解决同一个局域网上的主机或路由器的IP地址和硬件地址的映射问题。
ICMP ICMP(Internet Control Message Protocol) 网络控制报文协议
ICMP 允许主机或路由器报告差错情况和提供异常情况的报告。ICMP报文是装在IP数据报中，作为数据部分,加上数据报的首部，组成IP数据报发出去。
ICMP 报文格式 ICMP报文的种类 以上协议之间的关系
IP 协议要使用ARP ，而ICMP和IGMP则使用IP协议。
路由选择协议 内部网关协议(IGP):在一个自制系统内部使用的路由选择协议。
RIP RIP(Routing Information Protocol) 路由信息协议，是一种分布式的基于距离向量的路由选择协议 。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ac6a786cabbf43ad15854d11bb2e046d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-07T22:37:56+08:00" />
<meta property="article:modified_time" content="2022-10-07T22:37:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络基础知识--网络层协议IP、ARP、ICMP、RIP、OSPF</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="main-toc-toc" style="margin-left:0px;"><a href="#main-toc" rel="nofollow">IP协议</a></p> 
<p id="IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F-toc" style="margin-left:40px;"><a href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F" rel="nofollow">IP数据报格式</a></p> 
<p id="IP%E5%9C%B0%E5%9D%80%E7%9A%84%E7%BC%96%E5%9D%80%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#IP%E5%9C%B0%E5%9D%80%E7%9A%84%E7%BC%96%E5%9D%80%E6%96%B9%E6%B3%95" rel="nofollow">IP地址的编址方法</a></p> 
<p id="%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80-toc" style="margin-left:40px;"><a href="#%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80" rel="nofollow">分类的IP地址</a></p> 
<p id="ARP-toc" style="margin-left:0px;"><a href="#ARP" rel="nofollow">ARP</a></p> 
<p id="ICMP-toc" style="margin-left:0px;"><a href="#ICMP" rel="nofollow">ICMP</a></p> 
<p id="ICMP%20%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%C2%A0-toc" style="margin-left:40px;"><a href="#ICMP%20%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%C2%A0" rel="nofollow">ICMP 报文格式 </a></p> 
<p id="ICMP%E6%8A%A5%E6%96%87%E7%9A%84%E7%A7%8D%E7%B1%BB-toc" style="margin-left:40px;"><a href="#ICMP%E6%8A%A5%E6%96%87%E7%9A%84%E7%A7%8D%E7%B1%BB" rel="nofollow">ICMP报文的种类</a></p> 
<p id="%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE-toc" style="margin-left:0px;"><a href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE" rel="nofollow">路由选择协议</a></p> 
<p id="RIP-toc" style="margin-left:40px;"><a href="#RIP" rel="nofollow">RIP</a></p> 
<p id="RIP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9-toc" style="margin-left:80px;"><a href="#RIP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9" rel="nofollow">RIP协议特点</a></p> 
<p id="%E8%B7%9D%E7%A6%BB%E7%AE%97%E6%B3%95-toc" style="margin-left:80px;"><a href="#%E8%B7%9D%E7%A6%BB%E7%AE%97%E6%B3%95" rel="nofollow">距离算法</a></p> 
<p id="%C2%A0RIP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%C2%A0RIP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F" rel="nofollow"> RIP协议的报文格式</a></p> 
<p id="RIP%20%E4%BC%98%E7%82%B9-toc" style="margin-left:80px;"><a href="#RIP%20%E4%BC%98%E7%82%B9" rel="nofollow">RIP 优点</a></p> 
<p id="RIP%E7%BC%BA%E7%82%B9-toc" style="margin-left:80px;"><a href="#RIP%E7%BC%BA%E7%82%B9" rel="nofollow">RIP缺点</a></p> 
<p id="OSPF-toc" style="margin-left:40px;"><a href="#OSPF" rel="nofollow">OSPF</a></p> 
<p id="OSPF%20%E4%B8%8E%20RIP%20%E7%9A%84%E5%8C%BA%E5%88%AB-toc" style="margin-left:80px;"><a href="#OSPF%20%E4%B8%8E%20RIP%20%E7%9A%84%E5%8C%BA%E5%88%AB" rel="nofollow">OSPF 与 RIP 的区别</a></p> 
<p id="OSPF%20%E5%88%86%E7%BB%84%E9%A6%96%E9%83%A8-toc" style="margin-left:80px;"><a href="#OSPF%20%E5%88%86%E7%BB%84%E9%A6%96%E9%83%A8" rel="nofollow">OSPF 分组首部</a></p> 
<p id="BGP%C2%A0-toc" style="margin-left:40px;"><a href="#BGP%C2%A0" rel="nofollow">BGP </a></p> 
<p id="%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%9E%84%E6%88%90-toc" style="margin-left:0px;"><a href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%9E%84%E6%88%90" rel="nofollow">路由器的构成</a></p> 
<p id="IPv6-toc" style="margin-left:0px;"><a href="#IPv6" rel="nofollow">IPv6</a></p> 
<p id="%C2%A0%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E6%88%96%E4%B8%93%E7%94%A8%E5%9C%B0%E5%9D%80%EF%BC%88%E6%9C%AC%E5%9C%B0%E4%BA%92%E8%81%94%E7%BD%91%E6%88%96%E4%B8%93%E7%94%A8%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%89-toc" style="margin-left:0px;"><a href="#%C2%A0%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E6%88%96%E4%B8%93%E7%94%A8%E5%9C%B0%E5%9D%80%EF%BC%88%E6%9C%AC%E5%9C%B0%E4%BA%92%E8%81%94%E7%BD%91%E6%88%96%E4%B8%93%E7%94%A8%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%89" rel="nofollow"> 本地地址或专用地址（本地互联网或专用互联网）</a></p> 
<hr id="hr-toc"> 
<h2>IP协议</h2> 
<h3 id="IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F">IP数据报格式</h3> 
<p>IP是无连接服务。</p> 
<p><img alt="" height="502" src="https://images2.imgbox.com/71/27/BE0REw4G_o.png" width="889"></p> 
<p></p> 
<h3 id="IP%E5%9C%B0%E5%9D%80%E7%9A%84%E7%BC%96%E5%9D%80%E6%96%B9%E6%B3%95">IP地址的编址方法</h3> 
<p>(1) 分类的IP地址。将IP地址分成若干个固定类，每一类地址都由两个固定长度的字段构成：分别是：网络号和主机号。<img alt="" height="37" src="https://images2.imgbox.com/96/15/f53iRd7D_o.png" width="220"></p> 
<p>(2) 子网的划分</p> 
<p>(3) 构成超网</p> 
<p></p> 
<h3 id="%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80">分类的IP地址</h3> 
<p><img alt="" height="354" src="https://images2.imgbox.com/78/6c/GiTfzsqy_o.png" width="618"></p> 
<p> <img alt="" height="218" src="https://images2.imgbox.com/93/99/8cMvr9Be_o.png" width="832"></p> 
<p></p> 
<p><strong>CIDR  无分类域间路由选择</strong></p> 
<p>IP地址 := {&lt;网络前缀&gt;，&lt;主机号&gt;}</p> 
<p></p> 
<h2 id="ARP">ARP</h2> 
<p><strong>ARP(Address Resolution Protocol) 地址解析协议，将IP地址解析成硬件地址</strong>，并且整个解析过程都是自动完成的。</p> 
<p>需要注意的是，ARP是解决同一个局域网上的主机或路由器的IP地址和硬件地址的映射问题。</p> 
<p></p> 
<h2 id="ICMP">ICMP</h2> 
<p><strong>ICMP(Internet Control Message Protocol) 网络控制报文协议</strong></p> 
<p>ICMP 允许主机或路由器报告差错情况和提供异常情况的报告。ICMP报文是装在IP数据报中，作为数据部分,加上数据报的首部，组成IP数据报发出去。</p> 
<h3 id="ICMP%20%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%C2%A0">ICMP 报文格式 </h3> 
<p><img alt="" height="323" src="https://images2.imgbox.com/82/ee/i5mceCtW_o.png" width="483"></p> 
<h3 id="ICMP%E6%8A%A5%E6%96%87%E7%9A%84%E7%A7%8D%E7%B1%BB">ICMP报文的种类</h3> 
<p><img alt="" height="258" src="https://images2.imgbox.com/83/c1/IpSuuu8l_o.png" width="700"></p> 
<p></p> 
<p>以上协议之间的关系</p> 
<p>IP 协议要使用ARP ，而ICMP和IGMP则使用IP协议。</p> 
<p></p> 
<h2 id="%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE">路由选择协议</h2> 
<p><strong>内部网关协议(IGP)</strong>:在一个自制系统内部使用的路由选择协议。</p> 
<h3 id="RIP">RIP</h3> 
<p>RIP(Routing Information Protocol)  路由信息协议，是一种分布式的基于距离向量的路由选择协议 。</p> 
<p>RIP协议要求网络中的每一路由器都要维护从它自己到其他每一个目的网络的距离记录。</p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/d9/0e/yPaNP75p_o.png" width="886"></p> 
<p> RIP协议的距离也称为  跳数，它允许一条路径最多只能包含15个路由器。可见RIP只适用于小型互联网。</p> 
<h4 id="RIP%E5%8D%8F%E8%AE%AE%E7%89%B9%E7%82%B9"><strong>RIP协议特点</strong></h4> 
<p><img alt="" height="275" src="https://images2.imgbox.com/ab/ea/SpW286Jf_o.png" width="899"></p> 
<h4 id="%E8%B7%9D%E7%A6%BB%E7%AE%97%E6%B3%95">距离算法</h4> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="457" src="https://images2.imgbox.com/70/47/6ijMJ9oH_o.png" width="887"></h4> 
<h4 id="%C2%A0RIP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"> RIP协议的报文格式</h4> 
<p><img alt="" height="525" src="https://images2.imgbox.com/00/bd/NacElPic_o.png" width="880"></p> 
<h4 id="RIP%20%E4%BC%98%E7%82%B9">RIP 优点</h4> 
<p>实现简单，开销较小。</p> 
<h4 id="RIP%E7%BC%BA%E7%82%B9">RIP缺点</h4> 
<p>当网络出现故障时，要经过比较长的时间才能将此信息传送给所有的路由器。 也可以说是好消息传得快，坏消息传的慢。</p> 
<h3 id="OSPF">OSPF</h3> 
<p>OSPF(Open Shortest Path First) 开放最短路径优先，使用分布式的链路状态协议。</p> 
<p></p> 
<h4 id="OSPF%20%E4%B8%8E%20RIP%20%E7%9A%84%E5%8C%BA%E5%88%AB">OSPF 与 RIP 的区别</h4> 
<p><img alt="" height="381" src="https://images2.imgbox.com/32/15/4OuuHcjk_o.png" width="886"></p> 
<p> OSPF不用UDP而是直接用IP数据报传送，其中IP数据报首部的协议字段值为89。OSPF 构成的数据报很短，这样做可减少路由信息通信量。</p> 
<h4 id="OSPF%20%E5%88%86%E7%BB%84%E9%A6%96%E9%83%A8">OSPF 分组首部</h4> 
<p><img alt="" height="429" src="https://images2.imgbox.com/cf/8c/wnEOBAge_o.png" width="699"></p> 
<p></p> 
<p><strong>外部网关协议(EGP)</strong></p> 
<h3 id="BGP%C2%A0">BGP </h3> 
<p><strong>BGP-4(Border Gateaway Protocol 边界网关协议)</strong></p> 
<p>BGP采用了路径向量路由选择协议，与距离向量协议和链路状态协议(如OSPF)都有很大的区别。</p> 
<p>在配置BGP时，每一个自治系统的管理员要选择至少一个路由器作为该自治系统的“BGP 发言人”。</p> 
<p><img alt="" height="163" src="https://images2.imgbox.com/1c/d3/xzTrw1QW_o.png" width="852"></p> 
<p><img alt="" height="375" src="https://images2.imgbox.com/42/9e/MAwfnl1R_o.png" width="716"></p> 
<p></p> 
<p>IGMP</p> 
<p>IGMP(Internet Group Management Protocol) 网际组管理协议</p> 
<p></p> 
<h2 id="%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%9E%84%E6%88%90">路由器的构成</h2> 
<p>路由器是由一种具有多个输入端口和多个输出端口的专用计算机，其任务是转发分组。整个的路由器结构分为两大类：路由选择和分组转发部分。</p> 
<p><strong>路由选择部分</strong></p> 
<p>核心构件：路由选择处理器，它会根据选择的路由协议构造处路由表，而且会定时更新路由表。</p> 
<p><strong>分组转发部分</strong></p> 
<p>组成：交换结构、一组输入端口和一组输出端口。</p> 
<p>作用：根据转发表对分组进行处理，将输入端口的报文从一个合适的输出端口输出出去。</p> 
<p><img alt="" height="402" src="https://images2.imgbox.com/d4/eb/hFt3XloN_o.png" width="759"></p> 
<h2 id="IPv6">IPv6</h2> 
<p>IPv6支持无连接的传送，但将协议数据单元PDU称为分组，而不是IPv4 的数据报。</p> 
<p>相比IPv4，<strong>IPv6的主要变化</strong>是：</p> 
<p><img alt="" height="480" src="https://images2.imgbox.com/7c/ab/lxkH7PkD_o.png" width="899"></p> 
<p> IPv6的数据报包含两部分：基本首部和有效载荷。</p> 
<p><img alt="" height="248" src="https://images2.imgbox.com/59/04/MrQV17mG_o.png" width="585"></p> 
<p>IPv6的基本首部格式：</p> 
<p><img alt="" height="493" src="https://images2.imgbox.com/37/f7/0TJzXqd9_o.png" width="710"></p> 
<p>IPv6中的目的地址可以是以下三种基本类型地址之一：</p> 
<p><img alt="" height="156" src="https://images2.imgbox.com/75/ad/JmVGHWa6_o.png" width="893"></p> 
<h2 id="%C2%A0%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80%E6%88%96%E4%B8%93%E7%94%A8%E5%9C%B0%E5%9D%80%EF%BC%88%E6%9C%AC%E5%9C%B0%E4%BA%92%E8%81%94%E7%BD%91%E6%88%96%E4%B8%93%E7%94%A8%E4%BA%92%E8%81%94%E7%BD%91%EF%BC%89"> 本地地址或专用地址（本地互联网或专用互联网）</h2> 
<p><img alt="" height="108" src="https://images2.imgbox.com/d2/c5/RpoixHnd_o.png" width="787"></p> 
<p> 网络地址转换NAT</p> 
<p><img alt="" height="124" src="https://images2.imgbox.com/3b/e4/cV4wB1p8_o.png" width="877"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79cda8f6b0f85d453d0a4f737dc64328/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TCP，sqlite3,IO，进程的运用实例（超详解注释超多）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/32fecdca9135286ba199c72c2c01c917/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Centos7部署LNMP</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>