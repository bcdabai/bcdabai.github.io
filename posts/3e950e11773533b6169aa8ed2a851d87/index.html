<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>全新SQL Server教程 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="全新SQL Server教程" />
<meta property="og:description" content="参考视频教程
https://www.xin3721.com/eschool/SQLxin3721/
SQL基础教程
一、SQL简介
1：什么是SQL？
A:SQL指结构化查询语句 B:SQL使我们有能力访问数据库 C:SQL是一种ANSI(美国国家标准化组织)的标准计算机语言
2：SQL能做什么？
*面向数据库执行查询 *从数据库中取出数据 *向数据库插入新的记录
*更新数据库中数据 *从数据库删除记录 *创建数据库 *创建表
*创建存储过程 *创建视图 *设置表、存储过程和视图的权限
3：RDBMS
RDBMS是指关系型数据库管理系统
RDBMS是SQL的基础，同样也是所有现代数据库系统的基础，如MS SQL Server、IBM DB2、Oracle、MySQL以及Microsoft Access
RDBMS中的数据存储在被称为表的数据库对象中
表是相关的数据项的集合，他由列和行组成。
二、SQL语法
注意：SQL对大小写不敏感！！！
1：SQL语句后面的分号
某些数据库系统要求在每条SQL命令的末端使用分号。
分号是在数据库系统中分隔每条SQL语句的标准方法，这样就可以在服务器的相同请求中执行一条以上的语句。
如果使用的是MS Access和SQL Server 2000,则不必在每条SQL语句之后使用分号，不过某些数据库要求必须使用分号。
2：SQL DML和DDL
可以把SQL分为两个部分：数据操作语言（DML）和数据库定义语言（DDL）
SQL（结构化查询语句）适用于执行查询的语法。但是SQL语言也包含用于更新、插入和删除记录的语法。查询和更新构成了SQL的DML部分：select、update、delete、insert into 。 数据库定义语言（DDL）部分使我们有能力创建或删除表格，我们也可以定义索引（键），规定表之间的连接，以及事假表间的约束：
Create database、alert database、create table、alert table、drop table、create index、drop index
三、Select
User表里面的数据如下
查询user表里面的user_name字段和user_age字段的所有数据
Select user_name,user_age from user
查询user表中所有的字段数据，用 * 表示列的名称
Select * from user
四、Distinct
Distinct选取所有的值的时候不会出现重复的数据
用普通的查询，查询所有" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3e950e11773533b6169aa8ed2a851d87/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-04T16:53:25+08:00" />
<meta property="article:modified_time" content="2020-12-04T16:53:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">全新SQL Server教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>参考视频教程<br> <a href="https://www.xin3721.com/eschool/SQLxin3721/" rel="nofollow">https://www.xin3721.com/eschool/SQLxin3721/</a><br> SQL基础教程<br> 一、SQL简介</p> 
<p>1：什么是SQL？</p> 
<p>A:SQL指结构化查询语句 B:SQL使我们有能力访问数据库 C:SQL是一种ANSI(美国国家标准化组织)的标准计算机语言</p> 
<p>2：SQL能做什么？</p> 
<p>*面向数据库执行查询 *从数据库中取出数据 *向数据库插入新的记录</p> 
<p>*更新数据库中数据 *从数据库删除记录 *创建数据库 *创建表</p> 
<p>*创建存储过程 *创建视图 *设置表、存储过程和视图的权限</p> 
<p>3：RDBMS</p> 
<p>RDBMS是指关系型数据库管理系统</p> 
<p>RDBMS是SQL的基础，同样也是所有现代数据库系统的基础，如MS SQL Server、IBM DB2、Oracle、MySQL以及Microsoft Access</p> 
<p>RDBMS中的数据存储在被称为表的数据库对象中</p> 
<p>表是相关的数据项的集合，他由列和行组成。</p> 
<p>二、SQL语法</p> 
<p>注意：SQL对大小写不敏感！！！</p> 
<p>1：SQL语句后面的分号</p> 
<p>某些数据库系统要求在每条SQL命令的末端使用分号。</p> 
<p>分号是在数据库系统中分隔每条SQL语句的标准方法，这样就可以在服务器的相同请求中执行一条以上的语句。</p> 
<p>如果使用的是MS Access和SQL Server 2000,则不必在每条SQL语句之后使用分号，不过某些数据库要求必须使用分号。</p> 
<p>2：SQL DML和DDL</p> 
<p>可以把SQL分为两个部分：数据操作语言（DML）和数据库定义语言（DDL）</p> 
<p>SQL（结构化查询语句）适用于执行查询的语法。但是SQL语言也包含用于更新、插入和删除记录的语法。查询和更新构成了SQL的DML部分：select、update、delete、insert into 。 数据库定义语言（DDL）部分使我们有能力创建或删除表格，我们也可以定义索引（键），规定表之间的连接，以及事假表间的约束：</p> 
<p>Create database、alert database、create table、alert table、drop table、create index、drop index</p> 
<p>三、Select</p> 
<p>User表里面的数据如下</p> 
<p>查询user表里面的user_name字段和user_age字段的所有数据</p> 
<p>Select user_name,user_age from user</p> 
<p>查询user表中所有的字段数据，用 * 表示列的名称</p> 
<p>Select * from user</p> 
<p>四、Distinct</p> 
<p>Distinct选取所有的值的时候不会出现重复的数据</p> 
<p>用普通的查询，查询所有</p> 
<p>Select * from user</p> 
<p>Select distinct user_name,user_age from user</p> 
<p>注意：不能有user_id，因为两个Mary的user_id不一样，加上就不算相同数据</p> 
<p>五、Where</p> 
<p>1：查询user_id等于1 的数据</p> 
<p>Select * from user where user_id = 1</p> 
<p>2：查询user_age大于等于12的数据</p> 
<p>Select * from user where user_age &gt;=12</p> 
<p>3：查询user_age不等于12的数据</p> 
<p>Select * from user where user_age &lt;&gt; 12</p> 
<p>六、AND 和 OR</p> 
<p>And和or在where子语句中把两个或多个条件结合起来。如果需要两个条件都成立就是用and如果只需要其中一个条件成立就使用or</p> 
<p>Select * from user where user_name = ‘mary’ and user_age = 12</p> 
<p>需要注意的是SQL使用单引号来环绕文本值，如果是数值则不需要引号</p> 
<p>Select * from user where user_name=‘mary’ or user_age =13</p> 
<p>结合and和or使用圆括号来组成复杂的表达式</p> 
<p>Select * from user where (user_name = ‘mary’ and user_age = 12) or(user_age =13)</p> 
<p>七、Order by</p> 
<p>1：对指定列进行升序排列</p> 
<p>Select * from user order by user_name</p> 
<p>2：按照user_id逆序排列</p> 
<p>Select * from user order by user_id DESC</p> 
<p>2：按照升序排列user_id逆序排列user_age</p> 
<p>SELECT * FROM user order by user_id ASC,user_age DESC</p> 
<p>3：按照升序排列user_id逆序排列user_age</p> 
<p>SELECT * FROM user order by user_age DESC,user_id ASC</p> 
<p>注意：前面的条件优先级更高！！</p> 
<p>八、Insert</p> 
<p>User表</p> 
<p>插入一行数据 user_id为2 user_name为tom，user_age为12</p> 
<p>注意：如果每一项都有插入的话就不需要在前面列出列名！！</p> 
<p>Insert into user values(2,‘tom’,12)</p> 
<p>新插入一行数据，只要求user_name为eva</p> 
<p>Insert into user(user_name) values(‘eva’)</p> 
<p>注意：因为ID设置为自增，所以user_id不为null</p> 
<p>九、Update</p> 
<p>修改user_id为6的数据user_age为14</p> 
<p>Update user set user_age=14 where user_id=6</p> 
<p>修改user_id为1的数据user_name为ann，user_age为11</p> 
<p>Update user set user_name=‘ann’,user_age=11 where user_id=1</p> 
<p>十、Delete</p> 
<p>User表中的所有数据信息如下</p> 
<p>删除user_age为12的数据</p> 
<p>Delete from user where user_age=12</p> 
<p>删除表中的所有数据</p> 
<p>Delete from user</p> 
<p>第二章 SQL高级教程</p> 
<p>一、Top</p> 
<p>Top子句用于返回要返回的记录的数目，但并不是所有的数据库都支持top子句</p> 
<p>1：SQL Server</p> 
<p>Select top 5 * from user</p> 
<p>2：MySQL</p> 
<p>Select * from user limit 5</p> 
<p>3：Oracle</p> 
<p>Select * from user where ROWNUM &lt;= 5</p> 
<p>二、Like</p> 
<p>User表的初始数据如下</p> 
<p>1：找出以li开头的数据</p> 
<p>Select * from user where user_name like ‘li%’</p> 
<p>2：找出以ry结尾的数据</p> 
<p>Select * from user where user_name like ‘%ry’</p> 
<p>3：找出含有a的数据</p> 
<p>Select * from user where user_name like ‘%a%’</p> 
<p>4：找出第二个字母是a第四个字母是y的数据</p> 
<p>Select * from user where user_name like ‘_a_y’</p> 
<p>三、通配符</p> 
<p>在搜索数据库中的数据的时候SQL通配符可以替代一个或多个字符。SQL通配符必须与like运算符一起使用</p> 
<p>1: _ 替代一个字符</p> 
<p>找出第二个字母是a第四个字母是y的数据</p> 
<p>Select * from user where user_name like ‘_a_y’</p> 
<p>2: % 替代一个或多个字符</p> 
<p>找出以ry结尾的数据</p> 
<p>Select * from user where user_name like ‘%ry’</p> 
<p>3: [] 字符列中的任意一个单字符</p> 
<p>找出以a或者l开头的数据</p> 
<p>Select * from user where user_name like ‘[al]%’</p> 
<p>找出不是a或者l开头的数据</p> 
<p>Select * from user where user_name like ‘[!al]%’</p> 
<p>四、In</p> 
<p>只要数据满足in里面的一个条件就可以了</p> 
<p>找到user_age是12或者13的数据</p> 
<p>Select * from user where user_age in (12,13)</p> 
<p>找到user_name是Harry和Mary的数据</p> 
<p>Select * from user where user_name IN (‘mary’,‘harry’)</p> 
<p>五、Between</p> 
<p>选取两个值之间的数据</p> 
<p>查询年龄在12和14之间的数据</p> 
<p>Select * from user where user_age between 12 and 14</p> 
<p>查询字母在Alice和John之间的数据</p> 
<p>Select * from user where user_name between ‘alice’ AND’john’</p> 
<p>六、Aliases</p> 
<p>指定别名</p> 
<p>假设我们有两个表分别是user和Room 。我们分别指定他们为u和r。</p> 
<p>1：不使用别名</p> 
<p>Select room.room_name,user.user_name,user.user_age from user ,room Where user.user_age=12 and room.room_id = 1</p> 
<p>2：使用别名</p> 
<p>使用别名的时候直接将别名跟在后面，不使用as也可以</p> 
<p>Select r.room_name,u.user_name,u.user_age from user as u,room as r Where u.user_age=12 and r.room_id = 1</p> 
<p>七、Join</p> 
<p>数据库中的表可以通过键将彼此联系起来，主键是一个列，在这个列中的每一行的值都是唯一的，在表中，每个主键的值都是唯一的，这样就可以在不重复每个表中的所有数据的情况下，把表间的数据交叉捆绑在一起。</p> 
<p>以下为表user和表Room的数据</p> 
<p>1：引用两个表</p> 
<p>找出在Room of boy相关联的用户信息</p> 
<p>Select u.user_name,u.user_age,r.room_name from user as u,room as r</p> 
<p>Where u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>2：使用关键字join来连接两张表</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>from user as u</p> 
<p>join room as r</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>八、Inner join</p> 
<p>Inner join 与 join 用法一致</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>from user as u</p> 
<p>inner join room as r</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>九、Left join</p> 
<p>注意：左连接以左边的表为主体，也就是说会列出左边的表中的所有的数据，无论它是否满足条件。</p> 
<p>1：user在左边</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>from user as u</p> 
<p>Left join room as r</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>2：Room在左边</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>From room as r</p> 
<p>Left join user as u</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>十、Right join</p> 
<p>注意：左连接以右边的表为主体，也就是说会列出左边的表中的所有的数据，无论它是否满足条件。</p> 
<p>1：Room在右边</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>from user as u</p> 
<p>Right join room as r</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>2：user在右边</p> 
<p>Select u.user_name,u.user_age,r.room_name</p> 
<p>from room as r</p> 
<p>Right join user as u</p> 
<p>on u.room_id = r.room_id and r.room_name=‘room of boy’</p> 
<p>十一、Full join</p> 
<p>1：user在左边</p> 
<p>Select * from user Full join room</p> 
<p>2：Room在左边</p> 
<p>Select * From room full join user</p> 
<p>注意：SQL错误码1054表示没有找到对应的字段名；错误码1064表示用户输入的SQL语句有语法错误</p> 
<p>十二、Union</p> 
<p>Union操作符用于合并两个或者多个SELECT语句的结果集</p> 
<p>请注意，UNION内部的select语句必须拥有相同数量的列。列也必须拥有相同的数据类型。同时，每条select语句中的列的顺序必须相同。</p> 
<p>下面是Room表和color表的数据</p> 
<p>Select room_name from room</p> 
<p>Union</p> 
<p>Select color_name from color</p> 
<p>默认的union选取不同的值，如果想要有相同的值出现就使用union all</p> 
<p>Select room_name from room</p> 
<p>Union all</p> 
<p>Select color_name from color</p> 
<p>十三、Create DB</p> 
<p>创建数据库mysqltest</p> 
<p>Create database mysqltest</p> 
<p>十四、Create table</p> 
<p>Create table sqltest(</p> 
<p>Id int,</p> 
<p>Name varchar(45),</p> 
<p>Age int,</p> 
<p>Salary float,</p> 
<p>Time Date,</p> 
<p>)</p> 
<p>十五、Constraints</p> 
<p>SQL约束，用于限制加入表的数据的类型</p> 
<p>常见约束：not noll、unique、primary key、foreign key、check、default</p> 
<p>十六、Not null</p> 
<p>Not null 约束强制列不接受NULL值。Not null 约束强制字段始终包含值，这意味着，如果不向字段添加值，就无法插入新的字段或者更新记录</p> 
<p>用法，在字段后面加上 not null</p> 
<p>十七、Unique</p> 
<p>Unique约束唯一标识数据库中的每一条记录。Primary key约束拥有自动的unique约束。需要注意的是，每个表里面可以拥有多个unique约束，但只能有一个primary key约束</p> 
<p>1：MySQL用法，unique(字段名)</p> 
<p>2：SQL Server 、 Oracle 、 MS Access在字段后面加</p> 
<p>3：命名约束使用constraint</p> 
<p>4：已经创建了表之后需要添加约束</p> 
<p>ALTER TABLE sqltest ADD UNIQUE(Age)</p> 
<p>5：给已经创建了的表添加约束并命名</p> 
<p>ALTER TABLE sqltest ADD constraint unique_name UNIQUE(Age,salary)</p> 
<p>6：撤销约束</p> 
<p>MySQL</p> 
<p>在没有给约束命名的情况下（上面的age约束）直接使用字段名就可以了</p> 
<p>ALTER TABLE sqltest DROP INDEX age</p> 
<p>删除后</p> 
<p>在约束有名字的情况下，直接使用名字就可以了</p> 
<p>ALTER table sqltest drop index unique_name</p> 
<p>删除后</p> 
<p>SQL Server 、 Oracle 、 MS Access</p> 
<p>ALTER table 表名 drop constraint 约束名</p> 
<p>十八、Primary key</p> 
<p>Primary key约束唯一标识数据库表中的每一条记录，组件必须包含唯一的值。组件列不能包含NULL值。每个表都应该有一个主键，并且每一个表都只能有一个主键</p> 
<p>1：在MySQL中的用法</p> 
<p>2：在SQL Server 、 Oracle 和MS Access中的用法</p> 
<p>3：为已经创建成功的表创建primary key约束</p> 
<p>Alter table sqltest add primary key(id)</p> 
<p>4：为已经创建成功的表添加主键约束，以及为多个列定义主键约束</p> 
<p>Alter table sqltest add constraint pk_name primary key (id,name)</p> 
<p>5：在MySQL中撤销主键</p> 
<p>ALTER TABLE sqltest DROP PRIMARY KEY</p> 
<p>删除后</p> 
<p>6：在SQL Server、Oracle、MS Access中撤销主键</p> 
<p>Alter table 表名 drop constraint 主键名</p> 
<p>十九、Foreign key</p> 
<p>所谓的外键，即一个表的外键指向另一个表的主键</p> 
<p>User表</p> 
<p>Room表</p> 
<p>在user表里面room_id列指向Room表里面的id列。Room表里面的id列是主键，user表里面的room_id列是外键。外键约束用于预防破坏表之间的连接动作，外键约束也能防止非法数据插入外键列，因为他必须是他指向的那个表的值之一。</p> 
<p>二十、Check</p> 
<p>Check约束用于限制列中的值的范围。如果对单一的列定义check约束，那么改了只允许特定的值。如果对一个表定义check约束，那么此约束会在特定的列中对值进行限制。</p> 
<p>为已经创建成功的表添加check约束</p> 
<p>ALTER TABLE USER ADD CHECK (age&gt;10)</p> 
<p>二十一、Default</p> 
<p>Default约束用于向列宗插入默认值。如果没有规定其他值，那么就会将默认值添加到所有的新纪录。</p> 
<p>用法：</p> 
<p>当表已经存在的时候，添加默认值</p> 
<p>ALTER TABLE sqltest ALTER NAME SET DEFAULT ‘tom’</p> 
<p>撤销默认值</p> 
<p>二十二、Create index</p> 
<p>索引，你可以在表里面创建索引，一边更加快速高效地查询数据。用户无法看见索引，他们只能被用来加速搜索、查询。</p> 
<p>注意：更新一个包含索引的表需要比更新一个没有索引的表更多的时间，这是索引本身也需要更新，因此，理想的做法是仅仅在常常被搜索的列上面创建索引。</p> 
<p>1：创建一个索引</p> 
<p>CREATE INDEX index_name ON color (color_id )</p> 
<p>2：创建一个独一无二的索引，即两行不能拥有相同的索引值。</p> 
<p>CREATE UNIQUE INDEX book_index ON book (book_id)</p> 
<p>3：如果索引不止一个列，你可以在括号中列出这些列的名称，用逗号隔开</p> 
<p>CREATE INDEX index_bank ON bank (bank_id,bank_name)</p> 
<p>二十三、Drop</p> 
<p>通过使用DROP语句，可以删掉索引、表和数据库</p> 
<p>1：删除索引</p> 
<p>Drop index index_name on color</p> 
<p>删除之后</p> 
<p>2：删除表</p> 
<p>DROP TABLE colorcopy</p> 
<p>删除之后</p> 
<p>3：清空表</p> 
<p>TRUNCATE TABLE color</p> 
<p>删除之后</p> 
<p>4：删除数据库</p> 
<p>DROP DATABASE mysqltest</p> 
<p>删除之后</p> 
<p>二十四、Alert</p> 
<p>1：添加列</p> 
<p>Alter table user add salary float</p> 
<p>2：删除列</p> 
<p>Alter table user drop column room_id</p> 
<p>二十五、Increment</p> 
<p>定义主键自增</p> 
<p>二十六、View</p> 
<p>视图，一种基于SQL语句的结果集可视化表。视图包含行和列，就像一个真实的表。视图中的字段来自一个或多个数据库中的真实的表中的字段，我们可以向视图添加SQL函数、where以及join语句，我们提交数据，然后这些来自某个单一的表。需要注意的是，数据库中的结构和设计不会受到视图的函数、where或join语句的影响</p> 
<p>1：创建一个视图，字段来自user表和Room表</p> 
<p>CREATE VIEW view_test AS</p> 
<p>SELECT user.user_name,user.user_age,room.room_name</p> 
<p>FROM USER,room</p> 
<p>WHERE user.user_age&gt;10</p> 
<p>2：查询视图</p> 
<p>Select * from view_test</p> 
<p>3：撤销视图</p> 
<p>DROP VIEW view_test</p> 
<p>二十七、Date</p> 
<p>二十八、Nulls</p> 
<p>默认的，表的列可以存放NULL值。如果表里面的某个列是可选的，那么我们可以在不想改列添加值的情况下插入记录或者更新记录，这意味着该字段以NULL值保存。注意，NULL和0是不等价的，不能进行比较。</p> 
<p>1：查询NULL值</p> 
<p>select * from user where salary is null</p> 
<p>2：查询非NULL值</p> 
<p>select * from user where salary is not null</p> 
<p>二十九、数据类型</p> 
<p>MySQL主要有三种类型：文本、数字、日期</p> 
<p>三十、服务器</p> 
<p>第三章 SQL函数</p> 
<p>一、SQL functions</p> 
<p>在SQL当中，基本的函数类型和种类有若干种，函数的基本类型是：</p> 
<p>合计函数（Aggregate function）和 Scalar函数</p> 
<p>Aggregate 函数，函数操作面向一系列的值，并返回一个单一的值。</p> 
<p>Scalar 函数，操作面向某个单一的值，并返回基于输入值的一个单一的值。</p> 
<p>二、Avg()</p> 
<p>求平均年龄</p> 
<p>Select avg(user_age) from user</p> 
<p>求大于平均年龄的用户</p> 
<p>Select * from user where user_age&gt;(Select avg(user_age) from user)</p> 
<p>三、Count()</p> 
<p>返回列的值的数目（不包含NULL）</p> 
<p>注意，可以使用as来给count()取一个别名</p> 
<p>Select count(user_id) from user</p> 
<p>Select count(salary) from user</p> 
<p>返回值不同的有多少</p> 
<p>Select count(distinct user_name) from user</p> 
<p>查询所有列</p> 
<p>Select count(*) from user</p> 
<p>四、Max()</p> 
<p>返回最大值，NULL不包括在计算中</p> 
<p>Select max(price) as max_price from commodity</p> 
<p>五、Min()</p> 
<p>返回最小值，NULL不包括在计算中</p> 
<p>Select min(salary) poor_man from user</p> 
<p>六、Sum()</p> 
<p>返回该列值的总额</p> 
<p>Select sum(salary) from user</p> 
<p>七、Group By</p> 
<p>用于结合合计函数，根据一个或多个列对结果集进行分组</p> 
<p>SELECT cname,SUM(price) FROM commodity GROUP BY cname</p> 
<p>八、Having</p> 
<p>在SQL中增加having子句的原因是where不能与合计函数一起使用。用法和where 一样</p> 
<p>SELECT cname,SUM(price) FROM commodity</p> 
<p>GROUP BY cname</p> 
<p>HAVING SUM(price)&gt;20</p> 
<p>九、Ucase()</p> 
<p>把函数字段的值转化为大写</p> 
<p>SELECT UCASE(user_name) FROM user</p> 
<p>十、Lcase()</p> 
<p>将函数字段转化为小写</p> 
<p>Select lcase(user_name) from user</p> 
<p>十一、Mid()</p> 
<p>从文本字段中提取字符</p> 
<p>Select mid(user_name,2,2) from user</p> 
<p>十二、Round()</p> 
<p>Round函数把数值字段舍入为指定的小数位数</p> 
<p>Select round(salary,2) from user</p> 
<p>十三、Now()</p> 
<p>返回当前时间</p> 
<p>SELECT NOW() FROM user</p> 
<p>示例:</p> 
<p>–查找emp表</p> 
<p>select * from emp;</p> 
<p>–查找emp表的sal</p> 
<p>select a.SAL from emp a;</p> 
<p>–查找emp表的ename</p> 
<p>select a.ename from emp a;</p> 
<p>–emp表的sal*10</p> 
<p>select a.SAL*10 from emp a;</p> 
<p>–emp表的sal的平均值</p> 
<p>select avg(a.sal) from emp a;</p> 
<p>–emp表的sal的总和</p> 
<p>select sum(a.sal) from emp a;</p> 
<p>–emp表的sal的max</p> 
<p>select max(a.sal) from emp a;</p> 
<p>–emp表的sal的min</p> 
<p>select min(a.sal) from emp a;</p> 
<p>–emp表中sal&lt;1000的信息</p> 
<p>select * from emp where sal&lt;1000;</p> 
<p>–ename中含有A的信息</p> 
<p>select ename from emp where ename like’%A%’;</p> 
<p>–emp中ename不含有A的信息</p> 
<p>select * from emp where ename not like’%A%’;</p> 
<p>–查询系统时间</p> 
<p>select sysdate from dual;</p> 
<p>–计算薪资小于5000的员工的工资总和</p> 
<p>select sum(sal) from emp where sal&lt;5000 ;</p> 
<p>–计算工资不高于平均工资的工资总和</p> 
<p>select sum(sal) from emp where sal&lt;(select avg(sal) from emp);</p> 
<p>–计算工资小于4000的员工的平均工资</p> 
<p>select avg((select sum(sal) from emp where sal&lt;4000)) from emp;</p> 
<p>–查询薪水低于100000的员工姓名和sal</p> 
<p>select ename,sal from emp where sal&lt;100000;</p> 
<p>–计算20号部门的员工的最高工资和最低工资</p> 
<p>select max(sal),min(sal) from emp where deptno=20;</p> 
<p>–查询工资大于1000，并且是20号部门的员工的全部信息</p> 
<p>select * from emp where sal&gt;1000 and deptno=20;</p> 
<p>–求最高工资的员工的员工姓名和部门名称</p> 
<p>select ename,deptno,sal from emp where sal=(select max(sal) from emp);</p> 
<p>–将员工薪水小于5000且部门平均薪水大于1000的部门标号列出，按部门平均薪水降序排序</p> 
<p>select deptno from emp where sal&lt;5000 group by deptno having avg(sal) &gt;1000;</p> 
<p>select sal from emp order by sal desc;</p> 
<p>Order by *** desc</p> 
<p>–查找表emp</p> 
<p>select * from emp ;</p> 
<p>–根据用户名“Smiths”查找他所在的部门</p> 
<p>select deptno from emp where ename=‘SMITH’;</p> 
<p>–查询每个部门的最高工资的人员名称</p> 
<p>select e.ename,e.deptno,e.sal from (select deptno as did ,max(sal) as m from emp group by deptno ) s,emp e,dept d where e.sal=s.m and s.did=e.deptno and d.deptno=e.deptno;</p> 
<p>–查询“Jones”之后第一个进入公司的人</p> 
<p>select * from emp where hiredate=(select min(hiredate) from emp where hiredate&gt;(select hiredate from emp where ename=‘JONES’)) ;</p> 
<p>–5.查找工资最高的部门名称和工资最低的部门名称及工资</p> 
<p>select d.dname,e.sal from emp e,dept d where e.deptno=d.deptno and sal=(select max(m) from (select deptno,max(sal) as m from emp e group by deptno) s)</p> 
<p>union</p> 
<p>select d.dname,e.sal from emp e,dept d where e.deptno=d.deptno and sal=(select min(m) from (select deptno,min(sal) as m from emp e group by deptno) s)</p> 
<p>–创建表</p> 
<p>create table student(</p> 
<pre><code>   StudentId number (6),--学号

   LoginPwd varchar(20),--密码

   StudentName varchar(50),--姓名

   Sex char(2),--性别

   Gradeld Number(6),--所在年级

   Phone number(15),--联系电话

   Address varchar2(255),--现住址

   BornDate Date,--出生日期

   Emile varchar2(50)--电子邮件
</code></pre> 
<p>);</p> 
<p>–添加数据</p> 
<p>insert into student values(1001,‘123456’,‘赵六’,‘男’,1507,120,‘北京’,‘23-5月-1995’,’@10422’);</p> 
<p>insert into student values(1002,‘123456’,‘王五’,‘女’,1507,110,‘北京’,‘23-5月-1995’,’@10422’);</p> 
<p>insert into student values(1003,‘123456’,‘张三’,‘男’,1507,120,‘北京’,‘23-5月-1995’,’@10422’);</p> 
<p>insert into student values(1004,‘123456’,‘李四’,‘女’,1507,110,‘北京’,‘23-5月-1995’,’@10422’);</p> 
<p>–提交</p> 
<p>commit;</p> 
<p>–查询此表</p> 
<p>select * from student;</p> 
<p>–根据条件修改</p> 
<p>update student set studentname=‘孙七’,loginpwd=‘666666’ where studentid=1001;</p> 
<p>select * from student;</p> 
<p>–根据条件删除</p> 
<p>delete from student where studentid=1002;</p> 
<p>select * from student;</p> 
<p>–增加字段</p> 
<p>ALTER TABLE 表名称 ADD(列名称 数据类型 [DEFAULT 默认值],列名称 数据类型 [DEFAULT 默认值],…)</p> 
<p>–删除此表</p> 
<p>drop table student;</p> 
<p>–B卷 创建表空间</p> 
<p>create tablespace mytestspace datafile ‘e:week3.dbf’ size 2M;</p> 
<p>–创建用户</p> 
<p>create user zhangsan identified by zhangsan default tablespace mytestspace</p> 
<p>temporary tablespace temp;</p> 
<p>–创建角色并授权</p> 
<p>create role fang;</p> 
<p>grant create table to fang;</p> 
<p>grant fang to zhangsan;</p> 
<p>grant dba to zhangsan;</p> 
<p>–创建表</p> 
<p>create table teacher (</p> 
<p>tid number primary key,</p> 
<p>tname varchar2(50),</p> 
<p>tdate date,</p> 
<p>address varchar2(100)</p> 
<p>);</p> 
<p>select * from teacher;</p> 
<p>–创建序列</p> 
<p>create sequence teachers_sequence minvalue 1 maxvalue 100 (最小值，最大值)cycle (循环)increment by 1(步长值) start with 1（从1开始）;</p> 
<p>insert into teacher values(teachers_sequence.nextval,‘小李’,‘01-1月-1999’,‘北京’);</p> 
<p>insert into teacher values(teachers_sequence.nextval,‘小张’,to_date(‘1982-1-1’,‘yyyy-mm-dd’),‘北京’);</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b982bd1efd133306dbefaeb23ae7424/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【QtModbus】上位机与S7-1200PLC ModbusTCP通信</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5e830ea0caa1cae8ab60a54244365d25/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【数据结构】链表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>