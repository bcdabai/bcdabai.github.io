<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>精通 JavaScript 数据处理大全：手写代码从入门到精通 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="精通 JavaScript 数据处理大全：手写代码从入门到精通" />
<meta property="og:description" content="​🌈个人主页：前端青山
🔥系列专栏：JavaScript篇
🔖人终将被年少不可得之物困其一生
依旧青山,本期给大家带来JavaScript篇专栏内容:JavaScript- 数据处理
目录
1. 实现日期格式化函数
2. 交换a,b的值，不能用临时变量
3. 实现数组的乱序输出
4. 实现数组元素求和
5. 实现数组的扁平化
6. 实现数组去重
7. 实现数组的flat方法
8. 实现数组的push方法
9. 实现数组的filter方法
10. 实现数组的map方法
11. 实现字符串的repeat方法
12. 实现字符串翻转
13. 将数字每千分位用逗号隔开
14. 实现非负大整数相加
13. 实现 add(1)(2)(3)
14. 实现类数组转化为数组
15. 使用 reduce 求和
16. 将js对象转化为树形结构
17. 使用ES5和ES6求函数参数的和
18. 解析 URL Params 为对象
1. 实现日期格式化函数 输入：
dateFormat(new Date(&#39;2020-12-01&#39;), &#39;yyyy/MM/dd&#39;) // 2020/12/01 dateFormat(new Date(&#39;2020-04-01&#39;), &#39;yyyy/MM/dd&#39;) // 2020/04/01 dateFormat(new Date(&#39;2020-04-01&#39;), &#39;yyyy年MM月dd日&#39;) // 2020年04月01日 复制代码 const dateFormat = (dateInput, format)=&gt;{ var day = dateInput." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9304af1f2aea69dd5207ae8fc0dcdcaf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-12T09:20:16+08:00" />
<meta property="article:modified_time" content="2023-12-12T09:20:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">精通 JavaScript 数据处理大全：手写代码从入门到精通</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="199" src="https://images2.imgbox.com/ef/87/3vjS8vwA_o.png" width="354"></p> 
<p style="text-align:center;">​🌈个人主页：<a href="https://blog.csdn.net/2302_76329106?spm=1000.2115.3001.5343" title="前端青山">前端青山</a><br> 🔥系列专栏：JavaScript篇<br> 🔖<span style="color:#79c6cd;">人终将被年少不可得之物困其一生</span></p> 
<blockquote> 
 <p>依旧<span style="color:#79c6cd;">青山</span>,本期给大家带来JavaScript篇专栏内容:JavaScript- 数据处理</p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%20%E5%AE%9E%E7%8E%B0%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#1.%20%E5%AE%9E%E7%8E%B0%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0" rel="nofollow">1. 实现日期格式化函数</a></p> 
<p id="2.%20%E4%BA%A4%E6%8D%A2a%2Cb%E7%9A%84%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%94%A8%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F-toc" style="margin-left:80px;"><a href="#2.%20%E4%BA%A4%E6%8D%A2a%2Cb%E7%9A%84%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%94%A8%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F" rel="nofollow">2. 交换a,b的值，不能用临时变量</a></p> 
<p id="3.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E4%B9%B1%E5%BA%8F%E8%BE%93%E5%87%BA-toc" style="margin-left:80px;"><a href="#3.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E4%B9%B1%E5%BA%8F%E8%BE%93%E5%87%BA" rel="nofollow">3. 实现数组的乱序输出</a></p> 
<p id="4.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E6%B1%82%E5%92%8C-toc" style="margin-left:80px;"><a href="#4.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E6%B1%82%E5%92%8C" rel="nofollow">4. 实现数组元素求和</a></p> 
<p id="5.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%81%E5%B9%B3%E5%8C%96-toc" style="margin-left:80px;"><a href="#5.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%81%E5%B9%B3%E5%8C%96" rel="nofollow">5. 实现数组的扁平化</a></p> 
<p id="6.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D-toc" style="margin-left:80px;"><a href="#6.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D" rel="nofollow">6. 实现数组去重</a></p> 
<p id="7.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84flat%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#7.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84flat%E6%96%B9%E6%B3%95" rel="nofollow">7. 实现数组的flat方法</a></p> 
<p id="8.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84push%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#8.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84push%E6%96%B9%E6%B3%95" rel="nofollow">8. 实现数组的push方法</a></p> 
<p id="9.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84filter%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#9.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84filter%E6%96%B9%E6%B3%95" rel="nofollow">9. 实现数组的filter方法</a></p> 
<p id="10.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84map%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#10.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84map%E6%96%B9%E6%B3%95" rel="nofollow">10. 实现数组的map方法</a></p> 
<p id="11.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84repeat%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#11.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84repeat%E6%96%B9%E6%B3%95" rel="nofollow">11. 实现字符串的repeat方法</a></p> 
<p id="12.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BF%BB%E8%BD%AC-toc" style="margin-left:80px;"><a href="#12.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BF%BB%E8%BD%AC" rel="nofollow">12. 实现字符串翻转</a></p> 
<p id="13.%20%E5%B0%86%E6%95%B0%E5%AD%97%E6%AF%8F%E5%8D%83%E5%88%86%E4%BD%8D%E7%94%A8%E9%80%97%E5%8F%B7%E9%9A%94%E5%BC%80-toc" style="margin-left:80px;"><a href="#13.%20%E5%B0%86%E6%95%B0%E5%AD%97%E6%AF%8F%E5%8D%83%E5%88%86%E4%BD%8D%E7%94%A8%E9%80%97%E5%8F%B7%E9%9A%94%E5%BC%80" rel="nofollow">13. 将数字每千分位用逗号隔开</a></p> 
<p id="14.%20%E5%AE%9E%E7%8E%B0%E9%9D%9E%E8%B4%9F%E5%A4%A7%E6%95%B4%E6%95%B0%E7%9B%B8%E5%8A%A0-toc" style="margin-left:80px;"><a href="#14.%20%E5%AE%9E%E7%8E%B0%E9%9D%9E%E8%B4%9F%E5%A4%A7%E6%95%B4%E6%95%B0%E7%9B%B8%E5%8A%A0" rel="nofollow">14. 实现非负大整数相加</a></p> 
<p id="13.%20%E5%AE%9E%E7%8E%B0%20add(1)(2)(3)-toc" style="margin-left:80px;"><a href="#13.%20%E5%AE%9E%E7%8E%B0%20add%281%29%282%29%283%29" rel="nofollow">13. 实现 add(1)(2)(3)</a></p> 
<p id="14.%20%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%95%B0%E7%BB%84%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%95%B0%E7%BB%84-toc" style="margin-left:80px;"><a href="#14.%20%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%95%B0%E7%BB%84%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%95%B0%E7%BB%84" rel="nofollow">14. 实现类数组转化为数组</a></p> 
<p id="15.%20%E4%BD%BF%E7%94%A8%20reduce%20%E6%B1%82%E5%92%8C-toc" style="margin-left:80px;"><a href="#15.%20%E4%BD%BF%E7%94%A8%20reduce%20%E6%B1%82%E5%92%8C" rel="nofollow">15. 使用 reduce 求和</a></p> 
<p id="16.%20%E5%B0%86js%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84-toc" style="margin-left:80px;"><a href="#16.%20%E5%B0%86js%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84" rel="nofollow">16. 将js对象转化为树形结构</a></p> 
<p id="17.%20%E4%BD%BF%E7%94%A8ES5%E5%92%8CES6%E6%B1%82%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%92%8C-toc" style="margin-left:80px;"><a href="#17.%20%E4%BD%BF%E7%94%A8ES5%E5%92%8CES6%E6%B1%82%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%92%8C" rel="nofollow">17. 使用ES5和ES6求函数参数的和</a></p> 
<p id="18.%20%E8%A7%A3%E6%9E%90%20URL%20Params%20%E4%B8%BA%E5%AF%B9%E8%B1%A1-toc" style="margin-left:80px;"><a href="#18.%20%E8%A7%A3%E6%9E%90%20URL%20Params%20%E4%B8%BA%E5%AF%B9%E8%B1%A1" rel="nofollow">18. 解析 URL Params 为对象</a></p> 
<h4 id="1.%20%E5%AE%9E%E7%8E%B0%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0">1. 实现日期格式化函数</h4> 
<p>输入：</p> 
<pre><code class="language-javascript">dateFormat(new Date('2020-12-01'), 'yyyy/MM/dd') // 2020/12/01
dateFormat(new Date('2020-04-01'), 'yyyy/MM/dd') // 2020/04/01
dateFormat(new Date('2020-04-01'), 'yyyy年MM月dd日') // 2020年04月01日
复制代码
const dateFormat = (dateInput, format)=&gt;{
    var day = dateInput.getDate() 
    var month = dateInput.getMonth() + 1  
    var year = dateInput.getFullYear()   
    format = format.replace(/yyyy/, year)
    format = format.replace(/MM/,month)
    format = format.replace(/dd/,day)
    return format
}
复制代码</code></pre> 
<h4 id="2.%20%E4%BA%A4%E6%8D%A2a%2Cb%E7%9A%84%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%94%A8%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F">2. 交换a,b的值，不能用临时变量</h4> 
<p>巧妙的利用两个数的和、差：</p> 
<pre><code class="language-javascript">a = a + b
b = a - b
a = a - b
复制代码</code></pre> 
<h4 id="3.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E4%B9%B1%E5%BA%8F%E8%BE%93%E5%87%BA">3. 实现数组的乱序输出</h4> 
<p>主要的实现思路就是：</p> 
<ul><li> <p>取出数组的第一个元素，随机产生一个索引值，将该第一个元素和这个索引对应的元素进行交换。</p> </li><li> <p>第二次取出数据数组第二个元素，随机产生一个除了索引为1的之外的索引值，并将第二个元素与该索引值对应的元素进行交换</p> </li><li> <p>按照上面的规律执行，直到遍历完成</p> </li></ul> 
<pre><code class="language-javascript">a = a + b
b = a - b
a = a - b
复制代码</code></pre> 
<p>还有一方法就是倒序遍历：</p> 
<pre><code class="language-javascript">var arr = [1,2,3,4,5,6,7,8,9,10];
let length = arr.length,
    randomIndex,
    temp;
  while (length) {
    randomIndex = Math.floor(Math.random() * length--);
    temp = arr[length];
    arr[length] = arr[randomIndex];
    arr[randomIndex] = temp;
  }
console.log(arr)
复制代码</code></pre> 
<h4 id="4.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E6%B1%82%E5%92%8C">4. 实现数组元素求和</h4> 
<ul><li> <p>arr=[1,2,3,4,5,6,7,8,9,10]，求和</p> </li></ul> 
<pre><code class="language-javascript">let arr=[1,2,3,4,5,6,7,8,9,10]
let sum = arr.reduce( (total,i) =&gt; total += i,0);
console.log(sum);
复制代码</code></pre> 
<ul><li> <p>arr=[1,2,3,[[4,5],6],7,8,9]，求和</p> </li></ul> 
<pre><code class="language-javascript">var = arr=[1,2,3,[[4,5],6],7,8,9]
let arr= arr.toString().split(',').reduce( (total,i) =&gt; total += Number(i),0);
console.log(arr);
复制代码</code></pre> 
<p>递归实现：</p> 
<pre><code class="language-javascript">let arr = [1, 2, 3, 4, 5, 6] 
​
function add(arr) {
    if (arr.length == 1) return arr[0] 
    return arr[0] + add(arr.slice(1)) 
}
console.log(add(arr)) // 21
复制代码</code></pre> 
<h4 id="5.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%81%E5%B9%B3%E5%8C%96">5. 实现数组的扁平化</h4> 
<p><strong>（1）递归实现</strong></p> 
<p>普通的递归思路很容易理解，就是通过循环递归的方式，一项一项地去遍历，如果每一项还是一个数组，那么就继续往下遍历，利用递归程序的方法，来实现数组的每一项的连接：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, 4, 5]]];
function flatten(arr) {
  let result = [];
​
  for(let i = 0; i &lt; arr.length; i++) {
    if(Array.isArray(arr[i])) {
      result = result.concat(flatten(arr[i]));
    } else {
      result.push(arr[i]);
    }
  }
  return result;
}
flatten(arr);  //  [1, 2, 3, 4，5]
复制代码</code></pre> 
<p><strong>（2）reduce 函数迭代</strong></p> 
<p>从上面普通的递归函数中可以看出，其实就是对数组的每一项进行处理，那么其实也可以用reduce 来实现数组的拼接，从而简化第一种方法的代码，改造后的代码如下所示：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, 4]]];
function flatten(arr) {
    return arr.reduce(function(prev, next){
        return prev.concat(Array.isArray(next) ? flatten(next) : next)
    }, [])
}
console.log(flatten(arr));//  [1, 2, 3, 4，5]
复制代码</code></pre> 
<p><strong>（3）扩展运算符实现</strong></p> 
<p>这个方法的实现，采用了扩展运算符和 some 的方法，两者共同使用，达到数组扁平化的目的：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, 4]]];
function flatten(arr) {
    while (arr.some(item =&gt; Array.isArray(item))) {
        arr = [].concat(...arr);
    }
    return arr;
}
console.log(flatten(arr)); //  [1, 2, 3, 4，5]
复制代码</code></pre> 
<p><strong>（4）split 和 toString</strong></p> 
<p>可以通过 split 和 toString 两个方法来共同实现数组扁平化，由于数组会默认带一个 toString 的方法，所以可以把数组直接转换成逗号分隔的字符串，然后再用 split 方法把字符串重新转换为数组，如下面的代码所示：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, 4]]];
function flatten(arr) {
    return arr.toString().split(',');
}
console.log(flatten(arr)); //  [1, 2, 3, 4，5]
复制代码</code></pre> 
<p>通过这两个方法可以将多维数组直接转换成逗号连接的字符串，然后再重新分隔成数组。</p> 
<p><strong>（5）ES6 中的 flat</strong></p> 
<p>我们还可以直接调用 ES6 中的 flat 方法来实现数组扁平化。flat 方法的语法：<code>arr.flat([depth])</code></p> 
<p>其中 depth 是 flat 的参数，depth 是可以传递数组的展开深度（默认不填、数值是 1），即展开一层数组。如果层数不确定，参数可以传进 Infinity，代表不论多少层都要展开：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, 4]]];
function flatten(arr) {
  return arr.flat(Infinity);
}
console.log(flatten(arr)); //  [1, 2, 3, 4，5]
复制代码</code></pre> 
<p>可以看出，一个嵌套了两层的数组，通过将 flat 方法的参数设置为 Infinity，达到了我们预期的效果。其实同样也可以设置成 2，也能实现这样的效果。在编程过程中，如果数组的嵌套层数不确定，最好直接使用 Infinity，可以达到扁平化。 <strong>（6）正则和 JSON 方法</strong> 在第4种方法中已经使用 toString 方法，其中仍然采用了将 JSON.stringify 的方法先转换为字符串，然后通过正则表达式过滤掉字符串中的数组的方括号，最后再利用 JSON.parse 把它转换成数组：</p> 
<pre><code class="language-javascript">let arr = [1, [2, [3, [4, 5]]], 6];
function flatten(arr) {
  let str = JSON.stringify(arr);
  str = str.replace(/(\[|\])/g, '');
  str = '[' + str + ']';
  return JSON.parse(str); 
}
console.log(flatten(arr)); //  [1, 2, 3, 4，5]
复制代码</code></pre> 
<h4 id="6.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D">6. 实现数组去重</h4> 
<p>给定某无序数组，要求去除数组中的重复数字并且返回新的无重复数组。</p> 
<p>ES6方法（使用数据结构集合）：</p> 
<pre><code class="language-javascript">const array = [1, 2, 3, 5, 1, 5, 9, 1, 2, 8];
​
Array.from(new Set(array)); // [1, 2, 3, 5, 9, 8]
复制代码</code></pre> 
<p>ES5方法：使用map存储不重复的数字</p> 
<pre><code class="language-javascript">const array = [1, 2, 3, 5, 1, 5, 9, 1, 2, 8];
​
uniqueArray(array); // [1, 2, 3, 5, 9, 8]
​
function uniqueArray(array) {
  let map = {};
  let res = [];
  for(var i = 0; i &lt; array.length; i++) {
    if(!map.hasOwnProperty([array[i]])) {
      map[array[i]] = 1;
      res.push(array[i]);
    }
  }
  return res;
}
复制代码</code></pre> 
<h4 id="7.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84flat%E6%96%B9%E6%B3%95">7. 实现数组的flat方法</h4> 
<pre><code class="language-javascript">function _flat(arr, depth) {
  if(!Array.isArray(arr) || depth &lt;= 0) {
    return arr;
  }
  return arr.reduce((prev, cur) =&gt; {
    if (Array.isArray(cur)) {
      return prev.concat(_flat(cur, depth - 1))
    } else {
      return prev.concat(cur);
    }
  }, []);
}
复制代码</code></pre> 
<h4 id="8.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84push%E6%96%B9%E6%B3%95">8. 实现数组的push方法</h4> 
<pre><code class="language-javascript">let arr = [];
Array.prototype.push = function() {
    for( let i = 0 ; i &lt; arguments.length ; i++){
        this[this.length] = arguments[i] ;
    }
    return this.length;
}
复制代码</code></pre> 
<h4 id="9.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84filter%E6%96%B9%E6%B3%95">9. 实现数组的filter方法</h4> 
<pre><code class="language-javascript">Array.prototype._filter = function(fn) {
    if (typeof fn !== "function") {
        throw Error('参数必须是一个函数');
    }
    const res = [];
    for (let i = 0, len = this.length; i &lt; len; i++) {
        fn(this[i]) &amp;&amp; res.push(this[i]);
    }
    return res;
}
复制代码</code></pre> 
<h4 id="10.%20%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84map%E6%96%B9%E6%B3%95">10. 实现数组的map方法</h4> 
<pre><code class="language-javascript">Array.prototype._map = function(fn) {
   if (typeof fn !== "function") {
        throw Error('参数必须是一个函数');
    }
    const res = [];
    for (let i = 0, len = this.length; i &lt; len; i++) {
        res.push(fn(this[i]));
    }
    return res;
}
复制代码</code></pre> 
<h4 id="11.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84repeat%E6%96%B9%E6%B3%95">11. 实现字符串的repeat方法</h4> 
<p>输入字符串s，以及其重复的次数，输出重复的结果，例如输入abc，2，输出abcabc。</p> 
<pre><code class="language-javascript">function repeat(s, n) {
    return (new Array(n + 1)).join(s);
}
复制代码</code></pre> 
<p>递归：</p> 
<pre><code class="language-javascript">function repeat(s, n) {
    return (n &gt; 0) ? s.concat(repeat(s, --n)) : "";
}
复制代码</code></pre> 
<h4 id="12.%20%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BF%BB%E8%BD%AC">12. 实现字符串翻转</h4> 
<p>在字符串的原型链上添加一个方法，实现字符串翻转：</p> 
<pre><code class="language-javascript">String.prototype._reverse = function(a){
    return a.split("").reverse().join("");
}
var obj = new String();
var res = obj._reverse ('hello');
console.log(res);    // olleh
复制代码</code></pre> 
<p>需要注意的是，必须通过实例化对象之后再去调用定义的方法，不然找不到该方法。</p> 
<h4 id="13.%20%E5%B0%86%E6%95%B0%E5%AD%97%E6%AF%8F%E5%8D%83%E5%88%86%E4%BD%8D%E7%94%A8%E9%80%97%E5%8F%B7%E9%9A%94%E5%BC%80">13. 将数字每千分位用逗号隔开</h4> 
<p><strong>数字有小数版本：</strong></p> 
<pre><code class="language-javascript">let format = n =&gt; {
    let num = n.toString() // 转成字符串
    let decimals = ''
        // 判断是否有小数
    num.indexOf('.') &gt; -1 ? decimals = num.split('.')[1] : decimals
    let len = num.length
    if (len &lt;= 3) {
        return num
    } else {
        let temp = ''
        let remainder = len % 3
        decimals ? temp = '.' + decimals : temp
        if (remainder &gt; 0) { // 不是3的整数倍
            return num.slice(0, remainder) + ',' + num.slice(remainder, len).match(/\d{3}/g).join(',') + temp
        } else { // 是3的整数倍
            return num.slice(0, len).match(/\d{3}/g).join(',') + temp 
        }
    }
}
format(12323.33)  // '12,323.33'
复制代码</code></pre> 
<p><strong>数字无小数版本：</strong></p> 
<pre><code class="language-javascript">let format = n =&gt; {
    let num = n.toString() 
    let len = num.length
    if (len &lt;= 3) {
        return num
    } else {
        let remainder = len % 3
        if (remainder &gt; 0) { // 不是3的整数倍
            return num.slice(0, remainder) + ',' + num.slice(remainder, len).match(/\d{3}/g).join(',') 
        } else { // 是3的整数倍
            return num.slice(0, len).match(/\d{3}/g).join(',') 
        }
    }
}
format(1232323)  // '1,232,323'
复制代码</code></pre> 
<h4 id="14.%20%E5%AE%9E%E7%8E%B0%E9%9D%9E%E8%B4%9F%E5%A4%A7%E6%95%B4%E6%95%B0%E7%9B%B8%E5%8A%A0">14. 实现非负大整数相加</h4> 
<p>JavaScript对数值有范围的限制，限制如下：</p> 
<pre><code class="language-javascript">Number.MAX_VALUE // 1.7976931348623157e+308
Number.MAX_SAFE_INTEGER // 9007199254740991
Number.MIN_VALUE // 5e-324
Number.MIN_SAFE_INTEGER // -9007199254740991
复制代码</code></pre> 
<p>如果想要对一个超大的整数(<code>&gt; Number.MAX_SAFE_INTEGER</code>)进行加法运算，但是又想输出一般形式，那么使用 + 是无法达到的，一旦数字超过 <code>Number.MAX_SAFE_INTEGER</code> 数字会被立即转换为科学计数法，并且数字精度相比以前将会有误差。</p> 
<p>实现一个算法进行大数的相加：</p> 
<pre><code class="language-javascript">function sumBigNumber(a, b) {
  let res = '';
  let temp = 0;
  
  a = a.split('');
  b = b.split('');
  
  while (a.length || b.length || temp) {
    temp += ~~a.pop() + ~~b.pop();
    res = (temp % 10) + res;
    temp  = temp &gt; 9
  }
  return res.replace(/^0+/, '');
}
复制代码</code></pre> 
<p>其主要的思路如下：</p> 
<ul><li> <p>首先用字符串的方式来保存大数，这样数字在数学表示上就不会发生变化</p> </li><li> <p>初始化res，temp来保存中间的计算结果，并将两个字符串转化为数组，以便进行每一位的加法运算</p> </li><li> <p>将两个数组的对应的位进行相加，两个数相加的结果可能大于10，所以可能要仅为，对10进行取余操作，将结果保存在当前位</p> </li><li> <p>判断当前位是否大于9，也就是是否会进位，若是则将temp赋值为true，因为在加法运算中，true会自动隐式转化为1，以便于下一次相加</p> </li><li> <p>重复上述操作，直至计算结束</p> </li></ul> 
<h4 id="13.%20%E5%AE%9E%E7%8E%B0%20add(1)(2)(3)">13. 实现 add(1)(2)(3)</h4> 
<p>函数柯里化概念： 柯里化（Currying）是把接受多个参数的函数转变为接受一个单一参数的函数，并且返回接受余下的参数且返回结果的新函数的技术。</p> 
<p>1）粗暴版</p> 
<pre><code class="language-javascript">function add (a) {
return function (b) {
    return function (c) {
      return a + b + c;
    }
}
}
console.log(add(1)(2)(3)); // 6
复制代码</code></pre> 
<p>2）柯里化解决方案</p> 
<ul><li> <p>参数长度固定</p> </li></ul> 
<pre><code class="language-javascript">var add = function (m) {
  var temp = function (n) {
    return add(m + n);
  }
  temp.toString = function () {
    return m;
  }
  return temp;
};
console.log(add(3)(4)(5)); // 12
console.log(add(3)(6)(9)(25)); // 43
复制代码</code></pre> 
<p>对于add(3)(4)(5)，其执行过程如下：</p> 
<ol><li> <p>先执行add(3)，此时m=3，并且返回temp函数；</p> </li><li> <p>执行temp(4)，这个函数内执行add(m+n)，n是此次传进来的数值4，m值还是上一步中的3，所以add(m+n)=add(3+4)=add(7)，此时m=7，并且返回temp函数</p> </li><li> <p>执行temp(5)，这个函数内执行add(m+n)，n是此次传进来的数值5，m值还是上一步中的7，所以add(m+n)=add(7+5)=add(12)，此时m=12，并且返回temp函数</p> </li><li> <p>由于后面没有传入参数，等于返回的temp函数不被执行而是打印，了解JS的朋友都知道对象的toString是修改对象转换字符串的方法，因此代码中temp函数的toString函数return m值，而m值是最后一步执行函数时的值m=12，所以返回值是12。</p> </li></ol> 
<ul><li> <p>参数长度不固定</p> </li></ul> 
<pre><code class="language-javascript">function add (...args) {
    //求和
    return args.reduce((a, b) =&gt; a + b)
}
function currying (fn) {
    let args = []
    return function temp (...newArgs) {
        if (newArgs.length) {
            args = [
                ...args,
                ...newArgs
            ]
            return temp
        } else {
            let val = fn.apply(this, args)
            args = [] //保证再次调用时清空
            return val
        }
    }
}
let addCurry = currying(add)
console.log(addCurry(1)(2)(3)(4, 5)())  //15
console.log(addCurry(1)(2)(3, 4, 5)())  //15
console.log(addCurry(1)(2, 3, 4, 5)())  //15
复制代码</code></pre> 
<h4 id="14.%20%E5%AE%9E%E7%8E%B0%E7%B1%BB%E6%95%B0%E7%BB%84%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%95%B0%E7%BB%84">14. 实现类数组转化为数组</h4> 
<p>类数组转换为数组的方法有这样几种：</p> 
<ul><li> <p>通过 call 调用数组的 slice 方法来实现转换</p> </li></ul> 
<pre><code class="language-javascript">Array.prototype.slice.call(arrayLike);
复制代码</code></pre> 
<ul><li> <p>通过 call 调用数组的 splice 方法来实现转换</p> </li></ul> 
<pre><code class="language-javascript">Array.prototype.splice.call(arrayLike, 0);
复制代码</code></pre> 
<ul><li> <p>通过 apply 调用数组的 concat 方法来实现转换</p> </li></ul> 
<pre><code class="language-javascript">Array.prototype.concat.apply([], arrayLike);
复制代码</code></pre> 
<ul><li> <p>通过 Array.from 方法来实现转换</p> </li></ul> 
<pre><code class="language-javascript">Array.from(arrayLike);
复制代码</code></pre> 
<h4 id="15.%20%E4%BD%BF%E7%94%A8%20reduce%20%E6%B1%82%E5%92%8C">15. 使用 reduce 求和</h4> 
<p>arr = [1,2,3,4,5,6,7,8,9,10]，求和</p> 
<pre><code class="language-javascript">let arr = [1,2,3,4,5,6,7,8,9,10]
arr.reduce((prev, cur) =&gt; { return prev + cur }, 0)
复制代码</code></pre> 
<p>arr = [1,2,3,[[4,5],6],7,8,9]，求和</p> 
<pre><code class="language-javascript">let arr = [1,2,3,4,5,6,7,8,9,10]
arr.flat(Infinity).reduce((prev, cur) =&gt; { return prev + cur }, 0)
复制代码</code></pre> 
<p>arr = [{a:1, b:3}, {a:2, b:3, c:4}, {a:3}]，求和</p> 
<pre><code class="language-javascript">let arr = [{a:9, b:3, c:4}, {a:1, b:3}, {a:3}] 
​
arr.reduce((prev, cur) =&gt; {
    return prev + cur["a"];
}, 0)
复制代码</code></pre> 
<h4 id="16.%20%E5%B0%86js%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84">16. 将js对象转化为树形结构</h4> 
<pre><code class="language-javascript">// 转换前：
source = [{
            id: 1,
            pid: 0,
            name: 'body'
          }, {
            id: 2,
            pid: 1,
            name: 'title'
          }, {
            id: 3,
            pid: 2,
            name: 'div'
          }]
// 转换为: 
tree = [{
          id: 1,
          pid: 0,
          name: 'body',
          children: [{
            id: 2,
            pid: 1,
            name: 'title',
            children: [{
              id: 3,
              pid: 1,
              name: 'div'
            }]
          }
        }]
复制代码</code></pre> 
<p>代码实现：</p> 
<pre><code class="language-javascript">function jsonToTree(data) {
  // 初始化结果数组，并判断输入数据的格式
  let result = []
  if(!Array.isArray(data)) {
    return result
  }
  // 使用map，将当前对象的id与当前对象对应存储起来
  let map = {};
  data.forEach(item =&gt; {
    map[item.id] = item;
  });
  // 
  data.forEach(item =&gt; {
    let parent = map[item.pid];
    if(parent) {
      (parent.children || (parent.children = [])).push(item);
    } else {
      result.push(item);
    }
  });
  return result;
}
复制代码</code></pre> 
<h4 id="17.%20%E4%BD%BF%E7%94%A8ES5%E5%92%8CES6%E6%B1%82%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%92%8C">17. 使用ES5和ES6求函数参数的和</h4> 
<p>ES5：</p> 
<pre><code class="language-javascript">function sum() {
    let sum = 0
    Array.prototype.forEach.call(arguments, function(item) {
        sum += item * 1
    })
    return sum
}
复制代码</code></pre> 
<p>ES6：</p> 
<pre><code class="language-javascript">function sum(...nums) {
    let sum = 0
    nums.forEach(function(item) {
        sum += item * 1
    })
    return sum
}
复制代码</code></pre> 
<h4 id="18.%20%E8%A7%A3%E6%9E%90%20URL%20Params%20%E4%B8%BA%E5%AF%B9%E8%B1%A1">18. 解析 URL Params 为对象</h4> 
<pre><code class="language-javascript">let url = 'http://www.domain.com/?user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled';
parseParam(url)
/* 结果
{ user: 'anonymous',
  id: [ 123, 456 ], // 重复出现的 key 要组装成数组，能被转成数字的就转成数字类型
  city: '北京', // 中文需解码
  enabled: true, // 未指定值得 key 约定为 true
}
*/
复制代码
function parseParam(url) {
  const paramsStr = /.+\?(.+)$/.exec(url)[1]; // 将 ? 后面的字符串取出来
  const paramsArr = paramsStr.split('&amp;'); // 将字符串以 &amp; 分割后存到数组中
  let paramsObj = {};
  // 将 params 存到对象中
  paramsArr.forEach(param =&gt; {
    if (/=/.test(param)) { // 处理有 value 的参数
      let [key, val] = param.split('='); // 分割 key 和 value
      val = decodeURIComponent(val); // 解码
      val = /^\d+$/.test(val) ? parseFloat(val) : val; // 判断是否转为数字
      if (paramsObj.hasOwnProperty(key)) { // 如果对象有 key，则添加一个值
        paramsObj[key] = [].concat(paramsObj[key], val);
      } else { // 如果对象没有这个 key，创建 key 并设置值
        paramsObj[key] = val;
      }
    } else { // 处理没有 value 的参数
      paramsObj[param] = true;
    }
  })
  return paramsObj;
}
复制代码</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f08b3e643c3c652aa4432ecac6bd07bf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux上进行Nacos安装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f58c2d704fe1cc322f6a3d6819771a59/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux创建新用户</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>