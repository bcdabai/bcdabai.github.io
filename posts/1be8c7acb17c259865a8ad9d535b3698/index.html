<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>docker应用部署(部署MySql,部署Tomcat,部署Nginx,部署Redis) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="docker应用部署(部署MySql,部署Tomcat,部署Nginx,部署Redis)" />
<meta property="og:description" content="Docker 应用部署 一、部署MySQL 搜索mysql镜像 docker search mysql 拉取mysql镜像 docker pull mysql:5.6 创建容器，设置端口映射、目录映射 # 在/root目录下创建mysql目录用于存储mysql数据信息 mkdir ~/mysql cd ~/mysql docker run -id \ -p 3307:3306 \ --name=c_mysql \ -v $PWD/conf:/etc/mysql/conf.d \ -v $PWD/logs:/logs \ -v $PWD/data:/var/lib/mysql \ -e MYSQL_ROOT_PASSWORD=123456 \ mysql:5.6 参数说明： -p 3307:3306：将容器的 3306 端口映射到宿主机的 3307 端口。-v $PWD/conf:/etc/mysql/conf.d：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。配置目录-v $PWD/logs:/logs：将主机当前目录下的 logs 目录挂载到容器的 /logs。日志目录-v $PWD/data:/var/lib/mysql ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。数据目录-e MYSQL_ROOT_PASSWORD=123456：初始化 root 用户的密码。 进入容器，操作mysql docker exec –it c_mysql /bin/bash 使用外部机器连接容器中的mysql 二、部署Tomcat 搜索tomcat镜像 docker search tomcat 拉取tomcat镜像 docker pull tomcat 创建容器，设置端口映射、目录映射 # 在/root目录下创建tomcat目录用于存储tomcat数据信息 mkdir ~/tomcat cd ~/tomcat docker run -id --name=c_tomcat \ -p 8080:8080 \ -v $PWD:/usr/local/tomcat/webapps \ tomcat 参数说明： -p 8080:8080：将容器的8080端口映射到主机的8080端口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1be8c7acb17c259865a8ad9d535b3698/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-31T23:28:39+08:00" />
<meta property="article:modified_time" content="2023-12-31T23:28:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">docker应用部署(部署MySql,部署Tomcat,部署Nginx,部署Redis)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Docker__0"></a>Docker 应用部署</h3> 
<h4><a id="MySQL_2"></a>一、部署MySQL</h4> 
<ol><li>搜索mysql镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> search mysql
</code></pre> 
<ol start="2"><li>拉取mysql镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull mysql:5.6
</code></pre> 
<ol start="3"><li>创建容器，设置端口映射、目录映射</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 在/root目录下创建mysql目录用于存储mysql数据信息</span>
<span class="token function">mkdir</span> ~/mysql
<span class="token builtin class-name">cd</span> ~/mysql
</code></pre> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-id</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-p</span> <span class="token number">3307</span>:3306 <span class="token punctuation">\</span>
<span class="token parameter variable">--name</span><span class="token operator">=</span>c_mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/conf:/etc/mysql/conf.d <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/logs:/logs <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/data:/var/lib/mysql <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\</span>
mysql:5.6
</code></pre> 
<ul><li>参数说明： 
  <ul><li><strong>-p 3307:3306</strong>：将容器的 3306 端口映射到宿主机的 3307 端口。</li><li><strong>-v $PWD/conf:/etc/mysql/conf.d</strong>：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf。配置目录</li><li><strong>-v $PWD/logs:/logs</strong>：将主机当前目录下的 logs 目录挂载到容器的 /logs。日志目录</li><li><strong>-v $PWD/data:/var/lib/mysql</strong> ：将主机当前目录下的data目录挂载到容器的 /var/lib/mysql 。数据目录</li><li><strong>-e MYSQL_ROOT_PASSWORD=123456</strong>：初始化 root 用户的密码。</li></ul> </li></ul> 
<ol start="4"><li>进入容器，操作mysql</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> –it c_mysql /bin/bash
</code></pre> 
<ol start="5"><li>使用外部机器连接容器中的mysql</li></ol> 
<p><img src="https://images2.imgbox.com/98/35/bMkyVRMZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Tomcat_72"></a>二、部署Tomcat</h4> 
<ol><li>搜索tomcat镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> search tomcat
</code></pre> 
<ol start="2"><li>拉取tomcat镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull tomcat
</code></pre> 
<ol start="3"><li>创建容器，设置端口映射、目录映射</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 在/root目录下创建tomcat目录用于存储tomcat数据信息</span>
<span class="token function">mkdir</span> ~/tomcat
<span class="token builtin class-name">cd</span> ~/tomcat
</code></pre> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-id</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>c_tomcat <span class="token punctuation">\</span>
<span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>:/usr/local/tomcat/webapps <span class="token punctuation">\</span>
tomcat 
</code></pre> 
<ul><li>参数说明： 
  <ul><li> <p><strong>-p 8080:8080</strong>：将容器的8080端口映射到主机的8080端口</p> <p><strong>-v $PWD:/usr/local/tomcat/webapps</strong>：将主机中当前目录挂载到容器的webapps</p> </li></ul> </li></ul> 
<ol start="4"><li>使用外部机器访问tomcat</li></ol> 
<p><img src="https://images2.imgbox.com/33/5e/XiZu65rm_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Nginx_128"></a>三、部署Nginx</h4> 
<ol><li>搜索nginx镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> search nginx
</code></pre> 
<ol start="2"><li>拉取nginx镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull nginx
</code></pre> 
<ol start="3"><li>创建容器，设置端口映射、目录映射</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 在/root目录下创建nginx目录用于存储nginx数据信息</span>
<span class="token function">mkdir</span> ~/nginx
<span class="token builtin class-name">cd</span> ~/nginx
<span class="token function">mkdir</span> conf
<span class="token builtin class-name">cd</span> conf
<span class="token comment"># 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容</span>
<span class="token function">vim</span> nginx.conf
</code></pre> 
<pre><code class="prism language-shell">
user  nginx<span class="token punctuation">;</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>

error_log  /var/log/nginx/error.log warn<span class="token punctuation">;</span>
pid        /var/run/nginx.pid<span class="token punctuation">;</span>


events <span class="token punctuation">{<!-- --></span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


http <span class="token punctuation">{<!-- --></span>
    include       /etc/nginx/mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>

    log_format  main  <span class="token string">'$remote_addr - $remote_user [$time_local] "$request" '</span>
                      <span class="token string">'$status $body_bytes_sent "$http_referer" '</span>
                      <span class="token string">'"$http_user_agent" "$http_x_forwarded_for"'</span><span class="token punctuation">;</span>

    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>

    sendfile        on<span class="token punctuation">;</span>
    <span class="token comment">#tcp_nopush     on;</span>

    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    <span class="token comment">#gzip  on;</span>

    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-id</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>c_nginx <span class="token punctuation">\</span>
<span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/logs:/var/log/nginx <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/html:/usr/share/nginx/html <span class="token punctuation">\</span>
nginx
</code></pre> 
<ul><li>参数说明： 
  <ul><li><strong>-p 80:80</strong>：将容器的 80端口映射到宿主机的 80 端口。</li><li><strong>-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf</strong>：将主机当前目录下的 /conf/nginx.conf 挂载到容器的 :/etc/nginx/nginx.conf。配置目录</li><li><strong>-v $PWD/logs:/var/log/nginx</strong>：将主机当前目录下的 logs 目录挂载到容器的/var/log/nginx。日志目录</li></ul> </li></ul> 
<ol start="4"><li>使用外部机器访问nginx</li></ol> 
<p><img src="https://images2.imgbox.com/58/c8/ZHvHYCwy_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Redis_223"></a>四、部署Redis</h4> 
<ol><li>搜索redis镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> search redis
</code></pre> 
<ol start="2"><li>拉取redis镜像</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> pull redis:5.0
</code></pre> 
<ol start="3"><li>创建容器，设置端口映射</li></ol> 
<pre><code class="prism language-shell"><span class="token function">docker</span> run <span class="token parameter variable">-id</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>c_redis <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 redis:5.0
</code></pre> 
<ol start="4"><li>使用外部机器连接redis</li></ol> 
<pre><code class="prism language-shell">./redis-cli.exe <span class="token parameter variable">-h</span> <span class="token number">192.168</span>.149.135 <span class="token parameter variable">-p</span> <span class="token number">6379</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8025643f6f87d6d996e57e1380f2792/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">detectron2目标检测debug：遇到Nan</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/73fb833b9434b56083062c532a57205a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023-刻苦自励,2024-奋起直追！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>