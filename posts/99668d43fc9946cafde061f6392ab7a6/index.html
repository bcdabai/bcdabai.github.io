<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TFTP环境搭建 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TFTP环境搭建" />
<meta property="og:description" content="一、TFTP简介 TFTP（Trivial File Transfer Protocol,简单文件传输协议）是TCP/IP协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务，端口号为69。
TFTP通常基于UDP协议而实现，但是也不能确定有些TFTP协议是基于其它传输协议完成的。TFTP协议的设计目的主要是为了进行小文件传输，因此它不具备通常的FTP的许多功能，例如，它只能从文件服务器上获得或写入文件，不能列出目录，不进行认证。
TFTP代码所占的内存较小，这对于较小的计算机或者某些特殊用途的设备来说是很重要的，这些设备不需要硬盘，只需要固化了TFTP、UDP和IP的小容量只读存储器即可。因此，随着嵌入式设备在网络设备中所占的比例的不断提升，TFTP协议被越来越广泛的使用。
二、在Ubuntu中安装TFTP命令 1、使用命令安装tftp-hpa 和 tftpd-hpa。 sudo apt-get install tftp-hpa tftpd-hpa 2、TFTP需要一个文件夹来存放文件 mkdir /home/wht/linux/tftpboot chmod 777 /home/wht/linux/tftpboot 注：要给 tftpboot 文件夹权限，否则的话 uboot 不能从tftpboot 文件夹里面下载文件。
3、配置 tftp 安装完成以后新建文件/etc/xinetd.d/tftp，如果没有/etc/xinetd.d 目录的话自行创建，然后在里面输入如下内容
server tftp { socket_type = dgram protocol = udp wait = yes user = root server = /usr/sbin/in.tftpd server_args = -s /home/wht/linux/tftpboot/ disable = no per_source = 11 cps = 100 2 flags	= IPv4 } 启动TFTP服务" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/99668d43fc9946cafde061f6392ab7a6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-10T22:31:27+08:00" />
<meta property="article:modified_time" content="2022-08-10T22:31:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TFTP环境搭建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="TFTP_0"></a>一、TFTP简介</h3> 
<p>TFTP（Trivial File Transfer Protocol,简单文件传输协议）是TCP/IP协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务，端口号为69。<br> TFTP通常基于UDP协议而实现，但是也不能确定有些TFTP协议是基于其它传输协议完成的。TFTP协议的设计目的主要是为了进行小文件传输，因此它不具备通常的FTP的许多功能，例如，它只能从文件服务器上获得或写入文件，不能列出目录，不进行认证。<br> TFTP代码所占的内存较小，这对于较小的计算机或者某些特殊用途的设备来说是很重要的，这些设备不需要硬盘，只需要固化了TFTP、UDP和IP的小容量只读存储器即可。因此，随着嵌入式设备在网络设备中所占的比例的不断提升，TFTP协议被越来越广泛的使用。</p> 
<h2><a id="UbuntuTFTP_5"></a>二、在Ubuntu中安装TFTP命令</h2> 
<h3><a id="1tftphpa__tftpdhpa_6"></a>1、使用命令安装tftp-hpa 和 tftpd-hpa。</h3> 
<pre><code>sudo apt-get install tftp-hpa tftpd-hpa
</code></pre> 
<h3><a id="2TFTP_10"></a>2、TFTP需要一个文件夹来存放文件</h3> 
<pre><code>mkdir /home/wht/linux/tftpboot
chmod 777 /home/wht/linux/tftpboot
</code></pre> 
<p>注：要给 tftpboot 文件夹权限，否则的话 uboot 不能从tftpboot 文件夹里面下载文件。</p> 
<h3><a id="3_tftp_16"></a>3、配置 tftp</h3> 
<p>安装完成以后新建文件/etc/xinetd.d/tftp，如果没有/etc/xinetd.d 目录的话自行创建，然后在里面输入如下内容</p> 
<pre><code> server tftp
 { 
 	socket_type 	= dgram
 	protocol 		= udp
 	wait 			= yes
 	user 			= root
 	server 			= /usr/sbin/in.tftpd
 	server_args 	= -s /home/wht/linux/tftpboot/ 
 	disable 		= no
 	per_source 		= 11
 	cps 			= 100 2
	flags			= IPv4
 }
</code></pre> 
<p>启动TFTP服务</p> 
<pre><code>sudo service tftpd-hpa start
</code></pre> 
<p>打开/etc/default/tftpd-hpa 文件，将其修改为如下所示内容：</p> 
<pre><code># /etc/default/tftpd-hpa

TFTP_USERNAME	= "tftp"
TFTP_DIRECTORY	= "/home/wht/linux/tftpboot"
TFTP_ADDRESS	= ":69"
TFTP_OPTIONS	= "-l -c -s"
</code></pre> 
<p>注：修改文件时要使用root权限打开。<br> 最后输入如下命令， 重启 tftp 服务器：</p> 
<pre><code>sudo service tftpd-hpa restart
</code></pre> 
<p>TFTP介绍：https://blog.csdn.net/qq_45740212/article/details/113034164</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/41244070c622bfa896efb7bb5bd92158/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mybatisplus分页查询——Page</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/85a853a0c544310c69b580135b550fea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java 命令行参数[猿教程]</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>