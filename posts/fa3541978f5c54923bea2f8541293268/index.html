<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【IOS开发】SwiftUI中IOS设备切换成dark模式后字体看不见的解决方案，根据手机背景色模式修改字体颜色！ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【IOS开发】SwiftUI中IOS设备切换成dark模式后字体看不见的解决方案，根据手机背景色模式修改字体颜色！" />
<meta property="og:description" content="在 SwiftUI 中，当设备切换为 Dark模式时，文字的颜色可能与背景颜色相似，导致文字无法看清。为了解决这个问题，你可以在视图中设置适应 Dark 模式的文字颜色。
1.文字的颜色调整 以下是一种常见的方法，可以尝试在 SwiftUI 视图中使用 colorScheme 环境变量和 foregroundColor 修饰符来调整文字的颜色：
struct ContentView: View { @Environment(\.colorScheme) var colorScheme var body: some View { Text(&#34;Hello, World!&#34;) .foregroundColor(colorScheme == .dark ? .white : .black) } } 在上面的示例中，我们通过使用 @Environment(.colorScheme) 来获取当前的颜色方案，然后根据 colorScheme 的值设置文字的前景色。如果当前颜色方案为 .dark（即 Dark 模式），我们将文字颜色设置为白色，否则设置为黑色。
通过这种方式，当设备切换为 Dark 模式时，文字颜色将自动调整为适应该模式，以确保可读性。
注意，根据你的具体布局和设计需求，你可能需要在其他视图或组件中进行类似的调整。确保在适当的位置设置文字的前景色，以便在 Dark 模式下保持良好的可读性。
2.@Environment是干嘛的？ @Environment 是 SwiftUI 中的一个属性包装器（property
wrapper），用于访问环境变量的值。环境变量是一种在 SwiftUI
视图层次结构中传递和共享数据的方式，可以提供应用程序的全局状态、配置信息和其他上下文相关的值。 @Environment
属性包装器允许你声明一个属性，该属性从环境中获取对应的值。通过这种方式，你可以在视图中轻松地访问环境变量，而不必手动传递它们。 在 SwiftUI 中，有一些内置的环境变量可以通过 @Environment 来访问，例如：
.colorScheme: 当前的颜色方案（.light 或 ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fa3541978f5c54923bea2f8541293268/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-09T13:20:59+08:00" />
<meta property="article:modified_time" content="2023-06-09T13:20:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【IOS开发】SwiftUI中IOS设备切换成dark模式后字体看不见的解决方案，根据手机背景色模式修改字体颜色！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>在 SwiftUI 中，当设备切换为 Dark模式时，文字的颜色可能与背景颜色相似，导致文字无法看清。为了解决这个问题，你可以在视图中设置适应 Dark 模式的文字颜色。</p> 
</blockquote> 
<h3><a id="1_2"></a>1.文字的颜色调整</h3> 
<p>以下是一种常见的方法，可以尝试在 SwiftUI 视图中使用 colorScheme 环境变量和 foregroundColor 修饰符来调整文字的颜色：</p> 
<pre><code class="prism language-swift"><span class="token keyword">struct</span> <span class="token class-name">ContentView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{<!-- --></span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>colorScheme<span class="token punctuation">)</span> <span class="token keyword">var</span> colorScheme
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hello, World!"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>colorScheme <span class="token operator">==</span> <span class="token punctuation">.</span>dark <span class="token operator">?</span> <span class="token punctuation">.</span>white <span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>在上面的示例中，我们通过使用 @Environment(.colorScheme) 来获取当前的颜色方案，然后根据 colorScheme 的值设置文字的前景色。如果当前颜色方案为 .dark（即 Dark 模式），我们将文字颜色设置为白色，否则设置为黑色。</p> 
<p>通过这种方式，当设备切换为 Dark 模式时，文字颜色将自动调整为适应该模式，以确保可读性。</p> 
<blockquote> 
 <p>注意，根据你的具体布局和设计需求，你可能需要在其他视图或组件中进行类似的调整。确保在适当的位置设置文字的前景色，以便在 Dark 模式下保持良好的可读性。</p> 
</blockquote> 
<h3><a id="2Environment_23"></a>2.@Environment是干嘛的？</h3> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> @Environment 是 SwiftUI 中的一个属性包装器（property<br> wrapper），用于访问环境变量的值。环境变量是一种在 SwiftUI<br> 视图层次结构中传递和共享数据的方式，可以提供应用程序的全局状态、配置信息和其他上下文相关的值。</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> @Environment<br> 属性包装器允许你声明一个属性，该属性从环境中获取对应的值。通过这种方式，你可以在视图中轻松地访问环境变量，而不必手动传递它们。</li></ul> 
<p>在 SwiftUI 中，有一些内置的环境变量可以通过 @Environment 来访问，例如：</p> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> .colorScheme: 当前的颜色方案（.light 或 .dark）。</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> .locale: 当前的区域设置信息。</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> .sizeCategory: 当前的内容大小类别。</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> .isEnabled: 视图是否启用的布尔值。</li></ul> 
<p>你还可以自定义和传递自己的环境变量，以便在视图层次结构中共享数据。</p> 
<p>以下是一个示例，演示如何使用 @Environment 属性包装器来获取当前的颜色方案：</p> 
<pre><code class="prism language-swift"><span class="token keyword">struct</span> <span class="token class-name">ContentView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{<!-- --></span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>colorScheme<span class="token punctuation">)</span> <span class="token keyword">var</span> colorScheme
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> colorScheme <span class="token operator">==</span> <span class="token punctuation">.</span>dark <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Dark Mode"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Light Mode"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>在上面的示例中，我们使用 @Environment(.colorScheme) 将 colorScheme 属性声明为从环境中获取当前的颜色方案。然后，我们根据颜色方案的值来设置相应的文本颜色和背景色。</p> 
<p>通过 @Environment 属性包装器，我们可以方便地访问环境变量的值，从而在视图中根据环境的上下文进行相应的逻辑和样式调整。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d7fbb4b6e65857eb95b91d96a633a64b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kibana配置删除过期数据（Index Lifecycle Policies）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/296f640aa916b0034ed9a787cf601c36/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">22级 Java练习题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>