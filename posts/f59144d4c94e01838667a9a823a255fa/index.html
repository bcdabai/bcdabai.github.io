<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>超强很小的js版俄罗斯方块 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="超强很小的js版俄罗斯方块" />
<meta property="og:description" content="&lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD XHTML 1.0 Strict//EN&#34; &#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&#34;&gt; &lt;html&gt; &lt;style&gt; div {display:block;background-color:black;position:absolute;font:17px Tahoma;color:#fff;} span {float:left;background-color:gray;width:12px;height:12px;border:4px gray outset;margin:0 1 1 0;overflow:hidden;} p {float:left;width:8px;height:8px;border:2px gray outset;overflow:hidden;margin:0;padding:0} #main {width:375px;height:430px;display:block;background-color:gray;position:relative;} #body {width:241px;height:401px;left:15px;top:15px;border:1px solid #999;} #score {width:80px;height:24px;left:270px;top:15px;padding:4px;} #level {width:80px;height:24px;left:270px;top:50px;padding:4px;} #next {width:50px;height:50px;left:270px;top:85px;border:19px black solid;} #ctrl {width:80px;height:55px;left:270px;top:360px;padding:4px;text-align:center;background-color:gray} #ctrl button{width:80px;height:25px;} &lt;/style&gt; &lt;script&gt; var G = { fs:[], fn:[], score:0, l:[&#39;#9F0&#39;,&#39;#FF3&#39;,&#39;#F33&#39;,&#39;#C0C&#39;,&#39;#33C&#39;,&#39;#0F3&#39;,&#39;#F93&#39;], v:[0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0xFFFF], d:[[0xCC00],[0x4444,0xF0],[0x8C40,0x6C00],[0x4C80,0xC600],[0x44C0,0x8E00,0xC880,0xE200],[0x88C0,0xE800,0xC440,0x2E00],[0x4E00,0x8C80,0xE400,0x4C40]], init:function(){ var body = document.getElementById(&#39;body&#39;); var next = document.getElementById(&#39;next&#39;); for(var i=0;i&lt;240;i&#43;&#43;){ G.fs.push(body.appendChild(document.createElement(&#34;span&#34;))); } for(var i=0;i&lt;16;i&#43;&#43;){ G." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f59144d4c94e01838667a9a823a255fa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-08-29T23:26:47+08:00" />
<meta property="article:modified_time" content="2010-08-29T23:26:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">超强很小的js版俄罗斯方块</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt; 
<br>&lt;html&gt; 
<br>&lt;style&gt; 
<br>div {display:block;background-color:black;position:absolute;font:17px Tahoma;color:#fff;} span {float:left;background-color:gray;width:12px;height:12px;border:4px gray outset;margin:0 1 1 0;overflow:hidden;} p {float:left;width:8px;height:8px;border:2px gray outset;overflow:hidden;margin:0;padding:0} #main {width:375px;height:430px;display:block;background-color:gray;position:relative;} #body {width:241px;height:401px;left:15px;top:15px;border:1px solid #999;} #score {width:80px;height:24px;left:270px;top:15px;padding:4px;} #level {width:80px;height:24px;left:270px;top:50px;padding:4px;} #next {width:50px;height:50px;left:270px;top:85px;border:19px black solid;} #ctrl {width:80px;height:55px;left:270px;top:360px;padding:4px;text-align:center;background-color:gray} #ctrl button{width:80px;height:25px;} 
<br>&lt;/style&gt; 
<br>&lt;script&gt; 
<br>var G = { fs:[], fn:[], score:0, l:['#9F0','#FF3','#F33','#C0C','#33C','#0F3','#F93'], v:[0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0x801,0xFFFF], d:[[0xCC00],[0x4444,0xF0],[0x8C40,0x6C00],[0x4C80,0xC600],[0x44C0,0x8E00,0xC880,0xE200],[0x88C0,0xE800,0xC440,0x2E00],[0x4E00,0x8C80,0xE400,0x4C40]], init:function(){ var body = document.getElementById('body'); var next = document.getElementById('next'); for(var i=0;i&lt;240;i++){ G.fs.push(body.appendChild(document.createElement("span"))); } for(var i=0;i&lt;16;i++){ G.fn.push(next.appendChild(document.createElement("p"))); } G.domScore = document.getElementById('score'); G.domLevel = document.getElementById('level'); document.οnkeydοwn=function(e){G.event(e||window.event,0)}; G.rand(); G.next(); }, timeTesk:function(){ if(G.pause)return; if(!G.move(G.x, G.y+1, G.t)){ var s = 0; for(var i=0;i&lt;19;i++){ G.v[i]=G.v[i]|G.m[i]; if(G.v[i]==0xFFF){ for(var k=i;k&gt;0;k--){ G.v[k] = G.v[k-1]; } G.score+=++s; } } G.next(); return false; } G.draw(); return true; }, move:function(x,y,t){ var m = []; for(var k=0;k&lt;4;k++){ m[y+k] = (G.d[G.n][t]&gt;&gt;(3-k)*4&amp;0xF)&lt;&lt;Math.max(x,0)&gt;&gt;-Math.min(x,0); if(m[y+k] &amp; G.v[y+k]){ return false; } } G.x = x; G.y = y; G.t = t; G.m = m; G.draw(); return true; }, rand:function(){ G.n = G._n; G.t = G._t; G.c = G._c; G._n = parseInt(Math.random()*G.d.length); G._t = parseInt(Math.random()*G.d[G._n].length); G._c = parseInt(Math.random()*G.l.length); }, next:function(){ G.rand(); if(parseInt(G.score/20)!=G.level){ G.level = parseInt(G.score/20); clearInterval(G.handle); G.handle = setInterval("G.timeTesk()",500/(G.level+1)); } G.domScore.innerHTML = 'Score:'+G.score; G.domLevel.innerHTML = 'Level:'+G.level; var i = 0; while(!(G.d[G.n][G.t]&gt;&gt;i*4&amp;0xF))i++; if(!G.move(3, i-3, G.t)){ alert('Game over!'); clearInterval(G.handle); } }, draw:function(){ for(var i=0;i&lt;240;i++){ if((G.v[parseInt(i/12)]&gt;&gt;(11-i%12))&amp;0x1){ G.fs[i].style.visibility = ''; }else if((G.m[parseInt(i/12)]&gt;&gt;(11-i%12))&amp;0x1){ G.fs[i].style.visibility = ''; G.fs[i].style.borderColor = G.fs[i].style.background = G.l[G.c]; }else{ G.fs[i].style.visibility ='hidden'; } } for(var i=0;i&lt;16;i++){ if(G.d[G._n][G._t]&gt;&gt;(15-i)&amp;0x1){ G.fn[i].style.visibility = ''; G.fn[i].style.borderColor = G.fn[i].style.background = G.l[G._c]; }else{ G.fn[i].style.visibility ='hidden'; } } }, event:function(e,t){ switch(e.keyCode){ case 37: G.move(G.x + 1, G.y, G.t); break; case 39: G.move(G.x - 1, G.y, G.t); break; case 38: G.move(G.x, G.y, (G.t + 1) % G.d[G.n].length); break; case 40: G.timeTesk(); break; case 32: while(G.timeTesk()); } } } 
<br>&lt;/script&gt; 
<br>&lt;body οnlοad='G.init();'&gt; 
<br>&lt;div id='main'&gt; 
<br>&lt;div id='body'&gt;&lt;/div&gt; 
<br>&lt;div id='score'&gt; 
<br>&lt;/div&gt; 
<br>&lt;div id='level'&gt; 
<br>&lt;/div&gt; 
<br>&lt;div id='next'&gt;&lt;/div&gt; 
<br>&lt;div id='ctrl'&gt; 
<br>&lt;button οnclick="javascript:location.href=location.href;"&gt;New&lt;/button&gt; 
<br>&lt;button οnclick="javascript:this.innerHTML={'true':'Start','false':'Pause'}[G.pause=!!!G.pause];"&gt;Pause&lt;/button&gt; 
<br>&lt;/div&gt; 
<br>&lt;/GMain&gt; 
<br>&lt;/body&gt; 
<br>&lt;/html&gt;
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f00f3016b18f6d50aab86240e74bea6e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">转载：ACM题目难度分级列表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4e4301c06630daae0db626a941043198/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[C#]关于TcpClient编程数据接收问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>