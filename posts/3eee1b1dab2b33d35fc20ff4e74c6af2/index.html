<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Springboot 2.x源码解析之源码下载与搭建 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Springboot 2.x源码解析之源码下载与搭建" />
<meta property="og:description" content="文章目录 前言操作系统环境准备源码下载编译源码导入 IntelliJ IDEA导入完成后出现的问题1、maven版本过高2、maven配置内存过低 导入Demo启动测试 前言 推荐大家去看Spring官方网站：https://spring.io，Spring家族都在这里哦。
操作系统 MacOs Catalina 10.15.3
环境准备 Java JDK 1.8 版本Maven 至少是v3.5版本以上，请勿使用v3.6版本，否则可能会出现不兼容的问题，点击 下载 可以下载其他本，另需配置maven镜像仓库，选择阿里云的镜像即可IntelliJ IDEA 源码下载 源码仓库在：官方仓库，可以看到springboot有1.x版本和2.x版本，目前我的当前版本是v2.1.0.M1版本，可以直接点击下载：https://github.com/spring-projects/spring-boot/archive/v2.1.0.M1.zip，或者通过git clone命令将源码下载至本地：# git clone https://github.com/spring-projects/spring-boot.git
编译 下载解压后，开始准备编译前步骤，首先检查环境是否准确，检查步骤如下：
检查Java环境：# java -version 出现版本号则正常，版本至少1.8。检查maven环境 # mvn -v 出现版本号则正常，检查你的maven版本是不是至少v3.5版本,另附maven3各个版本的下载地址：http://archive.apache.org/dist/maven/maven-3/检查你的终端访问磁盘权限是否已打开（注意我的是mac系统，如果你的不是此系统请忽略此步骤），进入设置-安全与隐私-隐私，如下图：没有勾上的请勾上，不然执行maven 命令会提示没有访问磁盘权限
检查通过后，打开终端进入源码根目录，执行以下命令，等待编译完成：
# mvn clean install -DskipTests -Pfast -DskipTests -Pfast 表示跳过测试用例
当出现下图的情况就是编译成功了：
源码导入 IntelliJ IDEA 首先我们看一下源码目录：
其中spring-boot-project模块就是核心代码，而spring-boot-samples模块就是官方提供的Demo，spring-boot-samples-invoker模块你可以理解为插件，它是用来构建spring-boot-samples模块的，spring-boot-tests就是一些测试代码。接下来我们以maven形式导入进IntelliJ IDEA，首先我们修改一下在源码根目录下的pom文件，在properties标签里加上&lt;disable.checks&gt;true&lt;/disable.checks&gt;，避免编译报错，如下图：
然后我们打开spring-boot-samples-invoker模块下的pom文件，在properties标签里加上&lt;skipTests&gt;true&lt;/skipTests&gt;，同样避免编译报错，如下图：
打开Idea，选择导入：
选择源码代码根目录
选择maven
其他配置都是默认，等待导入完成！！！
导入完成后出现的问题 1、maven版本过高 如果你的maven版本是v3.6版本以上，建议换成v3.5版本，否则会出现不兼容的问题出现如下错误：
报错内容如下：
如果你出现这种情况，建议降低版本，比如我的maven版本是v3.5.3，maven其他版本下载地址：http://archive.apache.org/dist/maven/maven-3/。下载完成后，重新配置一下maven环境变量切换到v3.5版本，在终端修改# vi ~/.bash_profile，将maven配置的路径换成你下载的当前版本即可，修改完成后记得# source ~/.bash_profile , 输入命令# mvn -v查看是否切换成功。除此之外，你还需要修改idea的maven依赖的环境版本，在idea打开Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven，将maven home改成你当前的v3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3eee1b1dab2b33d35fc20ff4e74c6af2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-07T17:10:09+08:00" />
<meta property="article:modified_time" content="2020-03-07T17:10:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Springboot 2.x源码解析之源码下载与搭建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_3" rel="nofollow">操作系统</a></li><li><a href="#_6" rel="nofollow">环境准备</a></li><li><a href="#_12" rel="nofollow">源码下载</a></li><li><a href="#_15" rel="nofollow">编译</a></li><li><a href="#_IntelliJ_IDEA_35" rel="nofollow">源码导入 IntelliJ IDEA</a></li><li><a href="#_50" rel="nofollow">导入完成后出现的问题</a></li><li><ul><li><a href="#1maven_52" rel="nofollow">1、maven版本过高</a></li><li><a href="#2maven_63" rel="nofollow">2、maven配置内存过低</a></li></ul> 
   </li><li><a href="#Demo_73" rel="nofollow">导入Demo</a></li><li><a href="#_78" rel="nofollow">启动测试</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>前言</h3> 
<p>推荐大家去看Spring官方网站：<a href="https://spring.io/" rel="nofollow">https://spring.io</a>，Spring家族都在这里哦。</p> 
<h3><a id="_3"></a>操作系统</h3> 
<p>MacOs Catalina 10.15.3</p> 
<h3><a id="_6"></a>环境准备</h3> 
<ol><li><a href="https://blog.csdn.net/lxw983520/article/details/94071230">Java JDK 1.8 版本</a></li><li><a href="https://blog.csdn.net/dearKundy/article/details/80291275">Maven</a> 至少是v3.5版本以上，请勿使用v3.6版本，否则可能会出现不兼容的问题，点击 <a href="http://archive.apache.org/dist/maven/maven-3/" rel="nofollow">下载</a> 可以下载其他本，另需配置<a href="https://my.oschina.net/u/3229807/blog/1819324" rel="nofollow">maven镜像仓库</a>，选择阿里云的镜像即可</li><li><a href="http://idea.lanyus.com/" rel="nofollow">IntelliJ IDEA</a></li></ol> 
<h3><a id="_12"></a>源码下载</h3> 
<p>源码仓库在：<a href="https://github.com/spring-projects/spring-boot">官方仓库</a>，可以看到springboot有1.x版本和2.x版本，目前我的当前版本是v2.1.0.M1版本，可以直接点击下载：<a href="https://github.com/spring-projects/spring-boot/archive/v2.1.0.M1.zip">https://github.com/spring-projects/spring-boot/archive/v2.1.0.M1.zip</a>，或者通过<code>git clone</code>命令将源码下载至本地：<code># git clone https://github.com/spring-projects/spring-boot.git</code></p> 
<h3><a id="_15"></a>编译</h3> 
<p>下载解压后，开始准备编译前步骤，首先检查环境是否准确，检查步骤如下：</p> 
<ol><li>检查Java环境：<code># java -version</code> 出现版本号则正常，版本至少1.8。</li><li>检查maven环境 <code># mvn -v</code> 出现版本号则正常，检查你的maven版本是不是至少v3.5版本,另附maven3各个版本的下载地址：<a href="http://archive.apache.org/dist/maven/maven-3/" rel="nofollow">http://archive.apache.org/dist/maven/maven-3/</a></li><li>检查你的终端访问磁盘权限是否已打开（注意我的是mac系统，如果你的不是此系统请忽略此步骤），进入<code>设置-安全与隐私-隐私</code>，如下图：没有勾上的请勾上，不然执行maven 命令会提示没有访问磁盘权限<br> <img src="https://images2.imgbox.com/71/b8/heR11Q8D_o.png" alt="在这里插入图片描述"></li></ol> 
<p>检查通过后，打开终端进入源码根目录，执行以下命令，等待编译完成：</p> 
<pre><code class="prism language-bash"><span class="token comment"># mvn clean install -DskipTests -Pfast</span>
</code></pre> 
<p><code>-DskipTests -Pfast</code> 表示跳过测试用例</p> 
<p>当出现下图的情况就是编译成功了：<br> <img src="https://images2.imgbox.com/6c/55/WtFFTL1Y_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_IntelliJ_IDEA_35"></a>源码导入 IntelliJ IDEA</h3> 
<p>首先我们看一下源码目录：<br> <img src="https://images2.imgbox.com/2e/91/PeQYqe0C_o.png" alt="在这里插入图片描述"><br> 其中<code>spring-boot-project</code>模块就是核心代码，而<code>spring-boot-samples</code>模块就是官方提供的Demo，<code>spring-boot-samples-invoker</code>模块你可以理解为插件，它是用来构建<code>spring-boot-samples</code>模块的，<code>spring-boot-tests</code>就是一些测试代码。接下来我们以maven形式导入进IntelliJ IDEA，首先我们修改一下在源码根目录下的pom文件，在properties标签里加上<code>&lt;disable.checks&gt;true&lt;/disable.checks&gt;</code>，避免编译报错，如下图：<br> <img src="https://images2.imgbox.com/90/9f/p1Q3uS2z_o.png" alt="在这里插入图片描述"><br> 然后我们打开<code>spring-boot-samples-invoker</code>模块下的pom文件，在properties标签里加上<code>&lt;skipTests&gt;true&lt;/skipTests&gt;</code>，同样避免编译报错，如下图：<br> <img src="https://images2.imgbox.com/e0/b6/9sZPpSHJ_o.png" alt="在这里插入图片描述">打开Idea，选择导入：<br> <img src="https://images2.imgbox.com/0a/2d/w1ZQITf7_o.png" alt="在这里插入图片描述"><br> 选择源码代码根目录<br> <img src="https://images2.imgbox.com/1d/1d/S8xFzANr_o.png" alt="在这里插入图片描述"><br> 选择maven<br> <img src="https://images2.imgbox.com/66/6b/2k5VFpHU_o.png" alt="在这里插入图片描述"><br> 其他配置都是默认，等待导入完成！！！</p> 
<h3><a id="_50"></a>导入完成后出现的问题</h3> 
<h4><a id="1maven_52"></a>1、maven版本过高</h4> 
<p>如果你的maven版本是v3.6版本以上，建议换成v3.5版本，否则会出现不兼容的问题出现如下错误：<br> <img src="https://images2.imgbox.com/0a/84/vNppcQSp_o.png" alt="在这里插入图片描述">报错内容如下：<br> <img src="https://images2.imgbox.com/81/53/5WwNsvnS_o.png" alt="在这里插入图片描述">如果你出现这种情况，建议降低版本，比如我的maven版本是<a href="http://archive.apache.org/dist/maven/maven-3/3.5.3/" rel="nofollow">v3.5.3</a>，maven其他版本下载地址：<a href="http://archive.apache.org/dist/maven/maven-3/" rel="nofollow">http://archive.apache.org/dist/maven/maven-3/</a>。下载完成后，重新配置一下maven环境变量切换到v3.5版本，在终端修改<code># vi ~/.bash_profile</code>，将maven配置的路径换成你下载的当前版本即可，修改完成后记得<code># source ~/.bash_profile</code> , 输入命令<code># mvn -v</code>查看是否切换成功。除此之外，你还需要修改idea的maven依赖的环境版本，在idea打开<code>Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven</code>，将maven home改成你当前的v3.5版本，如下图：<br> <img src="https://images2.imgbox.com/6d/a0/YI4BUpYm_o.png" alt="在这里插入图片描述">重新在源码根目录执行以下命令：</p> 
<pre><code class="prism language-bash"><span class="token comment"># mvn clean install -DskipTests -Pfast</span>
</code></pre> 
<p>又是一场漫长的等待。。。。</p> 
<h4><a id="2maven_63"></a>2、maven配置内存过低</h4> 
<p>编译完成后，发现项目不能启动，maven报红，pom文件提示错误，pom.xml文件的project标签上提示如下图所示的效果：<br> <img src="https://images2.imgbox.com/2b/4d/6Snad2hK_o.png" alt="在这里插入图片描述"><br> 具体内容是：</p> 
<pre><code class="prism language-java">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>OutOfMemoryError：GC overhead limit exceeded
</code></pre> 
<p>该问题是IDEA里为Maven的importer设置的JVM最大堆内存（-Xmx）过小而导致的.<br> 可以参考的解决方案：<a href="https://blog.csdn.net/w605283073/article/details/85107497">https://blog.csdn.net/w605283073/article/details/85107497</a></p> 
<h3><a id="Demo_73"></a>导入Demo</h3> 
<p>首先我们展开<code>spring-boot-samples</code>模块可以看到，官方提供了很多Demo，但我们大部分是用不到的，我们只需要一个demo作为解析源码即可，于是打开<code>spring-boot-samples</code>的根目录下pom文件，注释掉modules标签下的Demo只保留<code>spring-boot-sample-simple</code>即可，如下图：<br> <img src="https://images2.imgbox.com/63/26/IDZrmOZc_o.png" alt="在这里插入图片描述">然后在最外层根目录下的pom文件里的modules标签下引入spring-boot-samples模块，如下图：<br> <img src="https://images2.imgbox.com/77/9a/8uhC1pra_o.png" alt="在这里插入图片描述">等待编译完成！！！</p> 
<h3><a id="_78"></a>启动测试</h3> 
<p>打开<code>spring-boot-samples</code>–&gt;<code>spring-boot-sample-simple</code>–&gt;<code>SampleSimpleApplication.java</code>文件,运行<code>main</code>函数，等待启动成功，这样我们整个搭建就算完成了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/82143fce6d419ad3353ce6663eb46c93/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序实现对数据库的增删改查</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b3b3da9ac1af1ae85bf589ba2934531f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机视觉——SIFT特征提取与检索</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>