<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>015-信息打点-主机架构&amp;蜜罐识别&amp;WAF识别&amp;端口扫描&amp;协议识别&amp;服务安全 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="015-信息打点-主机架构&amp;蜜罐识别&amp;WAF识别&amp;端口扫描&amp;协议识别&amp;服务安全" />
<meta property="og:description" content="015-信息打点-主机架构&amp;蜜罐识别&amp;WAF识别&amp;端口扫描&amp;协议识别&amp;服务安全 #知识点： 1、端口扫描-应用&amp;协议
2、WAF识别-分类&amp;识别
3、蜜罐识别-分类&amp;识别
解决：
1、Web服务器&amp;应用服务器差异性
2、WAF防火墙&amp;安全防护&amp;识别技术
3、蜜罐平台&amp;安全防护&amp;识别技术
#补充： 开发语言：PHP、JAVA、Ruby、Python、C#，JS等
Web服务器：Apache、Nginx、IIS、lighttpd等
应用服务器：Tomcat、Jboss、Weblogic、Websphere等
数据库类型：Mysql、SqlServer、Oracle、Redis、MongoDB等
操作系统信息：Linux、windows等
应用服务信息：FTP、SSH、RDP、SMB、SMTP、LDAP、Rsync等
CDN信息：帝联、Cloudflare、网宿、七牛云、阿里云等
WAF信息：创宇盾、宝塔、ModSecurity、玄武盾、OpenRASP等。
蜜罐信息：HFish、TeaPot、T-Pot、Glastopf等
其他组件信息：fastjson、shiro、log4j、OA办公等
端口服务渗透用途tcp 20,21FTP允许匿名的上传下载,爆破,嗅探,win提权,远程执行(proftpd 1.3.5),各类后门(proftpd,vsftp 2.3.4)tcp 22SSH可根据已搜集到的信息尝试爆破,v1版本可中间人,ssh隧道及内网代理转发,文件传输等等tcp 23Telnet爆破,嗅探,一般常用于路由,交换登陆,可尝试弱口令tcp 25SMTP邮件伪造,vrfy/expn查询邮件用户信息,可使用smtp-user-enum工具来自动跑tcp/udp 53DNS允许区域传送,dns劫持,缓存投毒,欺骗以及各种基于dns隧道的远控tcp/udp 69TFTP尝试下载目标及其的各类重要配置文件tcp 80-89,443,8440-8450,8080-8089各种常用的Web服务端口可尝试经典的topn,vpn,owa,webmail,目标oa,各类Java控制台,各类服务器Web管理面板,各类Web中间件漏洞利用,各类Web框架漏洞利用等等……tcp 110POP3可尝试爆破,嗅探tcp 111,2049NFS权限配置不当tcp 137,139,445Samba可尝试爆破以及smb自身的各种远程执行类漏洞利用,如,ms08-067,ms17-010,嗅探等……tcp 143IMAP可尝试爆破udp 161SNMP爆破默认团队字符串,搜集目标内网信息tcp 389LDAPldap注入,允许匿名访问,弱口令tcp 512,513,514Linux rexec可爆破,rlogin登陆tcp 873Rsync匿名访问,文件上传tcp 1194OpenVPN想办法钓VPN账号,进内网tcp 1352Lotus弱口令,信息泄漏,爆破tcp 1433SQL Server注入,提权,sa弱口令,爆破tcp 1521Oracletns爆破,注入,弹shell…tcp 1500ISPmanager弱口令tcp 1723PPTP爆破,想办法钓VPN账号,进内网tcp 2082,2083cPanel弱口令tcp 2181ZooKeeper未授权访问tcp 2601,2604Zebra默认密码zerbratcp 3128Squid弱口令tcp 3312,3311kangle弱口令tcp 3306MySQL注入,提权,爆破tcp 3389Windows rdpshift后门[需要03以下的系统],爆破,ms12-020tcp 3690SVNsvn泄露,未授权访问tcp 4848GlassFish弱口令tcp 5000Sybase/DB2爆破,注入tcp 5432PostgreSQL爆破,注入,弱口令tcp 5900,5901,5902VNC弱口令爆破tcp 5984CouchDB未授权导致的任意指令执行tcp 6379Redis可尝试未授权访问,弱口令爆破tcp 7001,7002WebLogicJava反序列化,弱口令tcp 7778Kloxo主机面板登录tcp 8000Ajenti弱口令tcp 8009tomcat AjpTomcat-Ajp协议漏洞tcp 8443Plesk弱口令tcp 8069Zabbix远程执行,SQL注入tcp 8080-8089Jenkins,JBoss反序列化,控制台弱口令tcp 9080-9081,9090WebSphereJava反序列化/弱口令tcp 9200,9300ElasticSearch远程执行tcp 11211Memcached未授权访问tcp 27017,27018MongoDB爆破,未授权访问tcp 50070,50030Hadoop默认端口未授权访问 蜜罐Quake系统搜索语法STRUTSHONEYPOTapp:“StrutsHoneypot”CONPOT HTTP 蜜罐app:“Conpot Http 蜜罐”CONPOT MODBUS 蜜罐app:“Conpot modbus 蜜罐”CONPOT S7 蜜罐app:“Conpot s7 蜜罐”KIPPO 蜜罐app:“kippo 蜜罐”HONEYPY HTTP 蜜罐app:“Honeypy Http 蜜罐”HONEYPY ES蜜罐app:“Honeypy ES蜜罐”AMUN IMAP 蜜罐app:“amun imap 蜜罐”AMUN HTTP蜜罐app:“amun http蜜罐”NEPENTHES NETBIOS蜜罐app:“Nepenthes netbios蜜罐”NEPENTHES FTP 蜜罐app:“Nepenthes FTP 蜜罐”SSHESAME SSH 蜜罐app:“sshesame ssh 蜜罐”OPENCANARY蜜罐管理后台app:“opencanary蜜罐管理后台”DIONAEA SIPD 蜜罐app:“Dionaea sipd 蜜罐”DIONAEA SMBD 蜜罐app:“Dionaea smbd 蜜罐”DIONAEA HTTP 蜜罐app:“Dionaea Http 蜜罐”DIONAEA MSSQL 蜜罐app:“Dionaea MSSQL 蜜罐”DIONAEA FTP 蜜罐app:“Dionaea ftp 蜜罐”DIONAEA MEMCACHED 蜜罐app:“Dionaea Memcached 蜜罐”KOJONEY SSH 蜜罐app:“Kojoney SSH 蜜罐”WEBLOGIC蜜罐app:“weblogic蜜罐”MYSQL蜜罐app:“MySQL蜜罐”HFISH蜜罐app:“HFish蜜罐”HFISH蜜罐管理后台app:“HFish蜜罐管理后台”HONEYTHING物联网蜜罐app:“honeything物联网蜜罐”ELASTICSEARCH蜜罐app:“elasticsearch蜜罐”HOSTUS蜜罐app:“HostUS蜜罐”WHOISSCANME蜜罐app:“whoisscanme蜜罐”未知蜜罐app:“未知蜜罐”COWRIE TELNETD蜜罐app:“Cowrie telnetd蜜罐”GLASTOPF蜜罐app:“glastopf蜜罐” 演示案例： ➢识别-Web服务器-请求返回包" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7bfc63558cd6666da23d5b5d80220fd2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-19T20:07:02+08:00" />
<meta property="article:modified_time" content="2024-01-19T20:07:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">015-信息打点-主机架构&amp;蜜罐识别&amp;WAF识别&amp;端口扫描&amp;协议识别&amp;服务安全</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="015WAF_0"></a>015-信息打点-主机架构&amp;蜜罐识别&amp;WAF识别&amp;端口扫描&amp;协议识别&amp;服务安全</h2> 
<p><img src="https://images2.imgbox.com/1b/c8/2em9XtNc_o.png" alt="Untitled"></p> 
<h3><a id="_4"></a>#知识点：</h3> 
<blockquote> 
 <p>1、端口扫描-应用&amp;协议<br> 2、WAF识别-分类&amp;识别<br> 3、蜜罐识别-分类&amp;识别<br> 解决：<br> 1、Web服务器&amp;应用服务器差异性<br> 2、WAF防火墙&amp;安全防护&amp;识别技术<br> 3、蜜罐平台&amp;安全防护&amp;识别技术</p> 
</blockquote> 
<h3><a id="_14"></a>#补充：</h3> 
<blockquote> 
 <p>开发语言：PHP、JAVA、Ruby、Python、C#，JS等<br> Web服务器：Apache、Nginx、IIS、lighttpd等<br> 应用服务器：Tomcat、Jboss、Weblogic、Websphere等<br> 数据库类型：Mysql、SqlServer、Oracle、Redis、MongoDB等<br> 操作系统信息：Linux、windows等<br> 应用服务信息：FTP、SSH、RDP、SMB、SMTP、LDAP、Rsync等<br> CDN信息：帝联、Cloudflare、网宿、七牛云、阿里云等<br> WAF信息：创宇盾、宝塔、ModSecurity、玄武盾、OpenRASP等。<br> 蜜罐信息：HFish、TeaPot、T-Pot、Glastopf等<br> 其他组件信息：fastjson、shiro、log4j、OA办公等</p> 
</blockquote> 
<table><thead><tr><th>端口</th><th>服务</th><th>渗透用途</th></tr></thead><tbody><tr><td>tcp 20,21</td><td>FTP</td><td>允许匿名的上传下载,爆破,嗅探,win提权,远程执行(proftpd 1.3.5),各类后门(proftpd,vsftp 2.3.4)</td></tr><tr><td>tcp 22</td><td>SSH</td><td>可根据已搜集到的信息尝试爆破,v1版本可中间人,ssh隧道及内网代理转发,文件传输等等</td></tr><tr><td>tcp 23</td><td>Telnet</td><td>爆破,嗅探,一般常用于路由,交换登陆,可尝试弱口令</td></tr><tr><td>tcp 25</td><td>SMTP</td><td>邮件伪造,vrfy/expn查询邮件用户信息,可使用smtp-user-enum工具来自动跑</td></tr><tr><td>tcp/udp 53</td><td>DNS</td><td>允许区域传送,dns劫持,缓存投毒,欺骗以及各种基于dns隧道的远控</td></tr><tr><td>tcp/udp 69</td><td>TFTP</td><td>尝试下载目标及其的各类重要配置文件</td></tr><tr><td>tcp 80-89,443,8440-8450,8080-8089</td><td>各种常用的Web服务端口</td><td>可尝试经典的topn,vpn,owa,webmail,目标oa,各类Java控制台,各类服务器Web管理面板,各类Web中间件漏洞利用,各类Web框架漏洞利用等等……</td></tr><tr><td>tcp 110</td><td>POP3</td><td>可尝试爆破,嗅探</td></tr><tr><td>tcp 111,2049</td><td>NFS</td><td>权限配置不当</td></tr><tr><td>tcp 137,139,445</td><td>Samba</td><td>可尝试爆破以及smb自身的各种远程执行类漏洞利用,如,ms08-067,ms17-010,嗅探等……</td></tr><tr><td>tcp 143</td><td>IMAP</td><td>可尝试爆破</td></tr><tr><td>udp 161</td><td>SNMP</td><td>爆破默认团队字符串,搜集目标内网信息</td></tr><tr><td>tcp 389</td><td>LDAP</td><td>ldap注入,允许匿名访问,弱口令</td></tr><tr><td>tcp 512,513,514</td><td>Linux rexec</td><td>可爆破,rlogin登陆</td></tr><tr><td>tcp 873</td><td>Rsync</td><td>匿名访问,文件上传</td></tr><tr><td>tcp 1194</td><td>OpenVPN</td><td>想办法钓VPN账号,进内网</td></tr><tr><td>tcp 1352</td><td>Lotus</td><td>弱口令,信息泄漏,爆破</td></tr><tr><td>tcp 1433</td><td>SQL Server</td><td>注入,提权,sa弱口令,爆破</td></tr><tr><td>tcp 1521</td><td>Oracle</td><td>tns爆破,注入,弹shell…</td></tr><tr><td>tcp 1500</td><td>ISPmanager</td><td>弱口令</td></tr><tr><td>tcp 1723</td><td>PPTP</td><td>爆破,想办法钓VPN账号,进内网</td></tr><tr><td>tcp 2082,2083</td><td>cPanel</td><td>弱口令</td></tr><tr><td>tcp 2181</td><td>ZooKeeper</td><td>未授权访问</td></tr><tr><td>tcp 2601,2604</td><td>Zebra</td><td>默认密码zerbra</td></tr><tr><td>tcp 3128</td><td>Squid</td><td>弱口令</td></tr><tr><td>tcp 3312,3311</td><td>kangle</td><td>弱口令</td></tr><tr><td>tcp 3306</td><td>MySQL</td><td>注入,提权,爆破</td></tr><tr><td>tcp 3389</td><td>Windows rdp</td><td>shift后门[需要03以下的系统],爆破,ms12-020</td></tr><tr><td>tcp 3690</td><td>SVN</td><td>svn泄露,未授权访问</td></tr><tr><td>tcp 4848</td><td>GlassFish</td><td>弱口令</td></tr><tr><td>tcp 5000</td><td>Sybase/DB2</td><td>爆破,注入</td></tr><tr><td>tcp 5432</td><td>PostgreSQL</td><td>爆破,注入,弱口令</td></tr><tr><td>tcp 5900,5901,5902</td><td>VNC</td><td>弱口令爆破</td></tr><tr><td>tcp 5984</td><td>CouchDB</td><td>未授权导致的任意指令执行</td></tr><tr><td>tcp 6379</td><td>Redis</td><td>可尝试未授权访问,弱口令爆破</td></tr><tr><td>tcp 7001,7002</td><td>WebLogic</td><td>Java反序列化,弱口令</td></tr><tr><td>tcp 7778</td><td>Kloxo</td><td>主机面板登录</td></tr><tr><td>tcp 8000</td><td>Ajenti</td><td>弱口令</td></tr><tr><td>tcp 8009</td><td>tomcat Ajp</td><td>Tomcat-Ajp协议漏洞</td></tr><tr><td>tcp 8443</td><td>Plesk</td><td>弱口令</td></tr><tr><td>tcp 8069</td><td>Zabbix</td><td>远程执行,SQL注入</td></tr><tr><td>tcp 8080-8089</td><td>Jenkins,JBoss</td><td>反序列化,控制台弱口令</td></tr><tr><td>tcp 9080-9081,9090</td><td>WebSphere</td><td>Java反序列化/弱口令</td></tr><tr><td>tcp 9200,9300</td><td>ElasticSearch</td><td>远程执行</td></tr><tr><td>tcp 11211</td><td>Memcached</td><td>未授权访问</td></tr><tr><td>tcp 27017,27018</td><td>MongoDB</td><td>爆破,未授权访问</td></tr><tr><td>tcp 50070,50030</td><td>Hadoop</td><td>默认端口未授权访问</td></tr></tbody></table> 
<table><thead><tr><th>蜜罐</th><th>Quake系统搜索语法</th></tr></thead><tbody><tr><td>STRUTSHONEYPOT</td><td>app:“StrutsHoneypot”</td></tr><tr><td>CONPOT HTTP 蜜罐</td><td>app:“Conpot Http 蜜罐”</td></tr><tr><td>CONPOT MODBUS 蜜罐</td><td>app:“Conpot modbus 蜜罐”</td></tr><tr><td>CONPOT S7 蜜罐</td><td>app:“Conpot s7 蜜罐”</td></tr><tr><td>KIPPO 蜜罐</td><td>app:“kippo 蜜罐”</td></tr><tr><td>HONEYPY HTTP 蜜罐</td><td>app:“Honeypy Http 蜜罐”</td></tr><tr><td>HONEYPY ES蜜罐</td><td>app:“Honeypy ES蜜罐”</td></tr><tr><td>AMUN IMAP 蜜罐</td><td>app:“amun imap 蜜罐”</td></tr><tr><td>AMUN HTTP蜜罐</td><td>app:“amun http蜜罐”</td></tr><tr><td>NEPENTHES NETBIOS蜜罐</td><td>app:“Nepenthes netbios蜜罐”</td></tr><tr><td>NEPENTHES FTP 蜜罐</td><td>app:“Nepenthes FTP 蜜罐”</td></tr><tr><td>SSHESAME SSH 蜜罐</td><td>app:“sshesame ssh 蜜罐”</td></tr><tr><td>OPENCANARY蜜罐管理后台</td><td>app:“opencanary蜜罐管理后台”</td></tr><tr><td>DIONAEA SIPD 蜜罐</td><td>app:“Dionaea sipd 蜜罐”</td></tr><tr><td>DIONAEA SMBD 蜜罐</td><td>app:“Dionaea smbd 蜜罐”</td></tr><tr><td>DIONAEA HTTP 蜜罐</td><td>app:“Dionaea Http 蜜罐”</td></tr><tr><td>DIONAEA MSSQL 蜜罐</td><td>app:“Dionaea MSSQL 蜜罐”</td></tr><tr><td>DIONAEA FTP 蜜罐</td><td>app:“Dionaea ftp 蜜罐”</td></tr><tr><td>DIONAEA MEMCACHED 蜜罐</td><td>app:“Dionaea Memcached 蜜罐”</td></tr><tr><td>KOJONEY SSH 蜜罐</td><td>app:“Kojoney SSH 蜜罐”</td></tr><tr><td>WEBLOGIC蜜罐</td><td>app:“weblogic蜜罐”</td></tr><tr><td>MYSQL蜜罐</td><td>app:“MySQL蜜罐”</td></tr><tr><td>HFISH蜜罐</td><td>app:“HFish蜜罐”</td></tr><tr><td>HFISH蜜罐管理后台</td><td>app:“HFish蜜罐管理后台”</td></tr><tr><td>HONEYTHING物联网蜜罐</td><td>app:“honeything物联网蜜罐”</td></tr><tr><td>ELASTICSEARCH蜜罐</td><td>app:“elasticsearch蜜罐”</td></tr><tr><td>HOSTUS蜜罐</td><td>app:“HostUS蜜罐”</td></tr><tr><td>WHOISSCANME蜜罐</td><td>app:“whoisscanme蜜罐”</td></tr><tr><td>未知蜜罐</td><td>app:“未知蜜罐”</td></tr><tr><td>COWRIE TELNETD蜜罐</td><td>app:“Cowrie telnetd蜜罐”</td></tr><tr><td>GLASTOPF蜜罐</td><td>app:“glastopf蜜罐”</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/0f/1c/jXiCop8B_o.png" alt="Untitled"></p> 
<h4><a id="_114"></a>演示案例：</h4> 
<blockquote> 
 <p>➢识别-Web服务器-请求返回包<br> ➢识别-应用服务器-端口扫描技术<br> ➢识别-其他服务协议-端口扫描技术<br> ➢识别-WAF防火墙-看图&amp;项目&amp;指纹<br> ➢识别-蜜罐平台-人工&amp;网络空间&amp;项目</p> 
</blockquote> 
<h3><a id="Web_122"></a>#识别-Web服务器-请求返回包</h3> 
<h3><a id="_124"></a>#识别-应用服务器-端口扫描技术</h3> 
<h3><a id="_126"></a>#识别-其他服务协议-端口扫描技术</h3> 
<blockquote> 
 <p>-Web中间件探针<br> -应用中间件探针<br> -数据库类型探针<br> -其他服务协议探针</p> 
</blockquote> 
<ul><li> <p>首先选择要扫描的网址或域名：<a href="http://xiaodi8.com/" rel="nofollow">小迪渗透吧-提供最专业的渗透测试培训,web安全培训,网络安全培训,代码审计培训,安全服务培训,CTF比赛培训,SRC平台挖掘培训,红蓝对抗培训！_小迪安全,小迪渗透,小迪培训 (xiaodi8.com)</a></p> </li><li> <p><strong>利用浏览器自带的检查抓包，查看表头可以获取一定的中间件服务信息但不全面</strong></p> </li><li> <p>采用端口扫描：</p> 
  <ul><li><strong>Nmap：配置中：Quick scan plus<mark>是快速扫描</mark>，intense scan all TCP ports 是<mark>全部端口扫描</mark></strong></li></ul> <p><img src="https://images2.imgbox.com/b2/07/Mc6uMB6I_o.png" alt="Untitled"></p> 
  <ul><li><strong>Masscan：在目录下直接输入cmd，进行调用 语法：测试一个至多个端口是否开通<code>masscan.exe -p 3307 47.75.212.155</code> 测试多个端口：<code>masscan.exe -p 1-65535 1.15.51.4</code></strong></li></ul> <p><img src="https://images2.imgbox.com/21/58/g3vmOMpH_o.png" alt="Untitled"></p> <p><img src="https://images2.imgbox.com/a2/0f/7pA4vgos_o.png" alt="Untitled"></p> 
  <ul><li><strong>网络空间：直接查询即可</strong></li></ul> <p><img src="https://images2.imgbox.com/65/df/4ZRkj0ra_o.png" alt="Untitled"></p> <p><img src="https://images2.imgbox.com/ef/5d/KVgb906d_o.png" alt="Untitled"></p> </li></ul> 
<p><img src="https://images2.imgbox.com/b7/b5/ZcFTeYcY_o.png" alt="Untitled"></p> 
<blockquote> 
 <p><mark>端口扫描：Nmap、Masscan、网络空间</mark><br> <strong>开放状态：Close Open Filtered</strong><br> <a href="https://nmap.org/download.html" rel="nofollow">https://nmap.org/download.html</a><a href="https://github.com/robertdavidgraham/masscan">https://github.com/robertdavidgraham/masscan</a><br> 使用参考：<br> <a href="https://blog.csdn.net/qq_53079406/article/details/125266331">https://blog.csdn.net/qq_53079406/article/details/125266331</a><a href="https://blog.csdn.net/qq_53079406/article/details/125263917">https://blog.csdn.net/qq_53079406/article/details/125263917</a><br> 编译masscan：<a href="https://www.cnblogs.com/lzy575566/p/15513726.html" rel="nofollow">https://www.cnblogs.com/lzy575566/p/15513726.html</a></p> 
</blockquote> 
<p><strong>遇到的问题</strong>：<a href="https://so.csdn.net/so/search?q=Zenmap&amp;spm=1001.2101.3001.7020">Zenmap</a>扫描时报错:’utf8’ codec can’t decode byte 0xc1 in position 0:invalid start byte。</p> 
<p><strong>原因是：环境变量有中文，无法解析</strong></p> 
<p><strong>解决方式：使用虚拟机，英文用户安装即可</strong></p> 
<p><img src="https://images2.imgbox.com/bc/e5/TE1B1J3u_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/fa/15/Gyn3tmGt_o.png" alt="Untitled"></p> 
<p><strong>端口扫出的作用：可以直接选用带有http的端口粘贴在域名后进行访问</strong></p> 
<p><strong>考虑：1、防火墙 2、内网环境</strong><br> <strong>内网环境可能出现情况：明明数据库端口开的，网站也能正常打开，但是你对目标进行端口扫描，发现数据库端口没有开放（排除防火墙问题）</strong></p> 
<p><img src="https://images2.imgbox.com/94/fc/MUfVW1e0_o.png" alt="Untitled"></p> 
<h3><a id="WAF_181"></a>#识别-WAF防火墙-看图&amp;项目&amp;指纹</h3> 
<h4><a id="1WAF_183"></a>1、WAF解释：</h4> 
<p>Web应用防护系统（也称为：网站应用级入侵防御系统。英文：Web Application Firewall，简称：WAF）。利用国际上公认的一种说法：<strong>Web应用防火墙是通过执行一系列针对HTTP/HTTPS的安全策略来专门为Web应用提供保护的一款产品。</strong></p> 
<p><mark><strong>学会认清现实，绕不过不要钻牛角尖</strong></mark></p> 
<h4><a id="2WAF_189"></a>2、WAF分类：</h4> 
<blockquote> 
 <p>云WAF：百度安全宝、阿里云盾、长亭雷池，华为云，亚马逊云等（中大型企业）<br> 硬件WAF：绿盟、安恒、深信服、知道创宇等公司商业产品（政府，学习，军工）<br> 软件WAF：宝塔，安全狗、D盾等（个人）<br> 代码级WAF：自己写的waf规则，防止出现注入等，一般是在代码里面写死的</p> 
</blockquote> 
<h4><a id="3identywaf_196"></a>3、识别看图：拦截页面，identywaf项目内置</h4> 
<p><img src="https://images2.imgbox.com/a6/3d/hKIxwReN_o.png" alt="Untitled"></p> 
<h4><a id="4_200"></a>4、识别项目：</h4> 
<h5><a id="wafw00f_202"></a>wafw00f</h5> 
<p><a href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a></p> 
<ul><li>**安装：目录下打开cmd输入：python setup.py install</li><li>**使用：安装后打开wafwoof目录下cmd输入：python main.py https://jmhewang.com/</li><li><strong>注意：查询时候关闭代理，不然无法连接</strong></li></ul> 
<p><img src="https://images2.imgbox.com/04/ba/PBD82qzj_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/79/18/vCW8dieA_o.png" alt="Untitled"></p> 
<h5><a id="identywaf_214"></a>identywaf</h5> 
<p><a href="https://github.com/stamparm/identYwaf">https://github.com/stamparm/identYwaf</a></p> 
<ul><li>使用语法：python identYwaf.py https://jmhewang.com/</li></ul> 
<p><img src="https://images2.imgbox.com/a8/52/TtSgxtZA_o.png" alt="Untitled"></p> 
<h3><a id="_222"></a>#识别-蜜罐平台-人工&amp;网络空间&amp;项目</h3> 
<h4><a id="_224"></a>蜜罐解释：</h4> 
<p>蜜罐是一种安全威胁的检测技术，其<strong>本质在于引诱和欺骗攻击者，并且通过记录攻击者的攻击日志来产生价值</strong>。安全研究人员可以通过分析蜜罐的被攻击记录推测攻击者的意图和手段等信息。攻击方可以通过蜜罐识别技术来发现和规避蜜罐。<strong>因此，我们有必要站在红队攻击者的角度钻研蜜罐识别的方式方法。</strong></p> 
<h4><a id="_228"></a>蜜罐分类：</h4> 
<p>根据蜜罐与攻击者之间进行的交互的程度可以将蜜罐分为三类:<strong>低交互蜜罐、中交互蜜罐、高交互蜜罐</strong>。当然还可以根据蜜罐模拟的目标进行分类，比如：数<strong>据库蜜罐、工控蜜罐、物联网蜜罐、Web蜜罐等等。</strong></p> 
<h4><a id="_232"></a>蜜罐产品：见下图</h4> 
<p><img src="https://images2.imgbox.com/25/89/mrfs7Gh2_o.png" alt="Untitled"></p> 
<ul><li> <p>识别原理：<br> <a href="https://mp.weixin.qq.com/s/jPz9hBmUypFyQlU27vglUg" rel="nofollow">https://mp.weixin.qq.com/s/jPz9hBmUypFyQlU27vglUg</a></p> 
  <blockquote> 
   <p>蜜罐（Honeypot）是一种安全机制，其原理和特点为：</p> 
   <ol><li><strong>引诱攻击：</strong> 蜜罐的主要原理是通过模拟目标系统的弱点或敏感区域，吸引和引诱攻击者。蜜罐可以模拟各种服务和应用，如Web服务器、数据库、邮件服务器等，使其看起来像是真实系统。</li><li><strong>数据捕获：</strong> 一旦攻击者对蜜罐进行攻击，蜜罐会记录和捕获攻击行为的详细信息，包括攻击者的IP地址、攻击手段、使用的工具等。这些信息对于分析攻击者的行为和提高网络防御水平非常有价值。</li><li><strong>学习和改进：</strong> 蜜罐可以用于学习攻击者的新技术和手段。通过分析蜜罐收集到的数据，安全团队可以了解到新型威胁的特点，并相应地改进网络防御策略。</li><li><strong>欺骗和误导：</strong> 蜜罐可以欺骗攻击者，使其浪费时间和资源在虚假系统上。这有助于减缓攻击速度、提高检测准确性，并增加攻击者被发现的可能性。</li><li><strong>实时监控：</strong> 蜜罐可以用于实时监控网络上的攻击活动。通过在网络中分布蜜罐，可以提前探测到潜在的威胁，从而更及时地采取防御措施。</li><li><strong>早期警告：</strong> 蜜罐可以在攻击者尚未对真实系统造成实质性危害之前提供早期警告。这有助于组织及时采取行动，防止潜在的风险。</li></ol> 
  </blockquote> </li></ul> 
<h4><a id="_248"></a>识别技术：</h4> 
<p>大概了解组成功能等<br> <a href="https://hfish.net/#/" rel="nofollow">https://hfish.net/#/</a></p> 
<h5><a id="_253"></a>项目识别</h5> 
<ul><li> <p>https://github.com/graynjo/Heimdallr</p> 
  <ul><li>安装：打开浏览器开发者模式解压文件拖入即可</li></ul> <p><img src="https://images2.imgbox.com/dd/21/j80r7gMo_o.png" alt="Untitled"></p> <p><img src="https://images2.imgbox.com/8a/e0/juhGGQpA_o.png" alt="Untitled"></p> </li><li> <p>https://github.com/360quake/quake_rs</p> 
  <ul><li><strong>安装：解压后在目录下cmd启用quake.exe</strong></li><li><strong>quake.exe init apikey值（api值需要注册360网络空间获取<a href="https://quake.360.net/quake/#/index" rel="nofollow">360网络空间测绘 — 因为看见，所以安全</a></strong></li><li><strong>使用语法：quake.exe honeypot 目标</strong></li></ul> <p><img src="https://images2.imgbox.com/64/97/u9czEiB3_o.png" alt="Untitled"></p> </li></ul> 
<p><img src="https://images2.imgbox.com/a6/87/aPn4lik4_o.png" alt="Untitled"></p> 
<h5><a id="_273"></a>人工识别</h5> 
<blockquote> 
 <p>蜜罐网址：<a href="https://anniezhang.zcool.com.cn/" rel="nofollow">annie脸圆圆创作者主页_杭州插画师-站酷ZCOOL</a></p> 
 <p><a href="https://justeeva.sport.blog/" rel="nofollow">Evastacha – Vivez vos passions en toute liberté (sport.blog)</a><br> <strong>端口多而有规律性<br> Web访问协议就下载<br> 设备指纹分析（见上图）</strong></p> 
</blockquote> 
<p><strong>面试可能会问到的问题：</strong></p> 
<p><img src="https://images2.imgbox.com/28/22/6IcOz3kR_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/ba/1c/DD9NBuej_o.png" alt="Untitled"></p> 
<h5><a id="_288"></a>网络空间识别</h5> 
<p>鹰图，Quake</p> 
<p><img src="https://images2.imgbox.com/71/35/bgAGa3GL_o.png" alt="Untitled"></p> 
<h3><a id="Linux_294"></a>补充：蜜罐+Linux安装</h3> 
<h4><a id="Linuxhttpshfishnet22linuxidlinuxe88194e7bd91e78eafe5a283efbc8ce4b880e994aee5ae89e8a385efbc88e5bcbae78388e68ea8e88d90efbc89_296"></a><strong><a href="https://hfish.net/#/2-2-linux?id=linux%e8%81%94%e7%bd%91%e7%8e%af%e5%a2%83%ef%bc%8c%e4%b8%80%e9%94%ae%e5%ae%89%e8%a3%85%ef%bc%88%e5%bc%ba%e7%83%88%e6%8e%a8%e8%8d%90%ef%bc%89" rel="nofollow">Linux联网环境，一键安装（强烈推荐）</a></strong></h4> 
<blockquote> 
 <p>CentOS 是HFish团队主力开发和测试系统，推荐选用CentOS系统部署管理端</p> 
</blockquote> 
<p>如果部署的环境为Linux，且可以访问互联网，强烈建议使用一键部署脚本进行安装和配置，在使用一键脚本前，请先配置防火墙。</p> 
<p>如果蜜罐节点暴露在互联网，可能会出现TCP连接超过最大1024个连接数限制，导致其他连接被拒绝的情况，可手动放开机器TCP最大连接数。参考解决链接：<strong><a href="https://www.cnblogs.com/lemon-flm/p/7975812.html" rel="nofollow">https://www.cnblogs.com/lemon-flm/p/7975812.html</a></strong></p> 
<blockquote> 
 <p>以root权限运行以下命令，确保配置防火墙开启TCP/4433、TCP/4434</p> 
 <p><img src="https://images2.imgbox.com/00/93/oWrRLplX_o.png" alt="Untitled"></p> 
</blockquote> 
<pre><code>firewall-cmd --add-port=4433/tcp --permanent   #（用于web界面启动）
firewall-cmd --add-port=4434/tcp --permanent   #（用于节点与管理端通信）
firewall-cmd --reload
</code></pre> 
<p>如之后蜜罐服务需要占用其他端口，可使用相同命令打开</p> 
<blockquote> 
 <p>以root权限运行以下一键部署命令</p> 
 <p><img src="https://images2.imgbox.com/52/57/06qmW8Vm_o.png" alt="Untitled"></p> 
</blockquote> 
<pre><code>bash &lt;(curl -sS -L https://hfish.net/webinstall.sh)
</code></pre> 
<blockquote> 
 <p>完成安装后，通过以下网址、账号密码登录</p> 
</blockquote> 
<pre><code>登陆链接：https://192.168.200.130:4433/web/
账号：admin
密码：HFish2021
</code></pre> 
<p><strong>遇到问题：访问网址时候无法访问</strong></p> 
<p><img src="https://images2.imgbox.com/94/6d/chRy3eVJ_o.png" alt="Untitled"></p> 
<p><strong>解决：必须在前面加上https:才能正确访问到</strong></p> 
<p><img src="https://images2.imgbox.com/57/9b/doSP9FNG_o.png" alt="Untitled"></p> 
<p>简单配置：</p> 
<blockquote> 
 <p>看到节点管理，点击到展开即可看到配置的蜜罐信息 <strong>想要访问相应的服务端口，必须要先开启防火墙才能访问</strong>开启防火墙格式例如：<code>TCP/8080</code>输入密码确认开启即可访问 查看攻击来源即可看到，攻击ip地址等信息 还可以开启大屏查看</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/85/69/7fSY9zbb_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/3d/51/r04Ie7dK_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/db/28/2TAJh2C7_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/6e/27/OgPYWWPd_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/0b/ad/DiuTERE7_o.png" alt="Untitled"></p> 
<p><strong>问题：在访问的时候要依据开放的端口协议去对应访问不然可能访问失败</strong></p> 
<p><img src="https://images2.imgbox.com/b8/ba/efoBYur5_o.png" alt="Untitled"></p> 
<p><img src="https://images2.imgbox.com/77/e7/xEBiBPbV_o.png" alt="Untitled"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75ccad47b245698963d4344bfa4bdcf0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3中reactive和ref函数及对比</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba3934c50785c23767338d311fc3d2bb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">x86 和 x64 arm的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>