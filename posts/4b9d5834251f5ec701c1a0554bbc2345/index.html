<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>crm_用户管理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="crm_用户管理" />
<meta property="og:description" content="crm:用户关系管理系统 CRM 系统模块划分 环境搭建与测试 1.新建项目
2.引坐标，插件
&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.2.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;!-- web 环境 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- aop --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- freemarker --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- 测试环境 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 分⻚插件 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.13&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- c3p0 --&gt; &lt;dependency&gt; &lt;groupId&gt;com." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4b9d5834251f5ec701c1a0554bbc2345/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-25T09:42:19+08:00" />
<meta property="article:modified_time" content="2021-08-25T09:42:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">crm_用户管理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>crm:用户关系管理系统</h3> 
<h3><span style="color:#333333;"><strong>CRM </strong></span><span style="color:#333333;">系统模块划分</span></h3> 
<p style="text-align:center;"><img alt="" height="281" src="https://images2.imgbox.com/cb/7f/xFoaNj1P_o.png" width="506"></p> 
<h3> <span style="color:#333333;">环境搭建与测试</span></h3> 
<p><span style="color:#333333;">1.新建项目</span></p> 
<p><span style="color:#333333;">2.引坐标，插件</span></p> 
<pre>&lt;parent&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
  &lt;version&gt;2.2.2.RELEASE&lt;/version&gt;
&lt;/parent&gt;</pre> 
<pre>&lt;!-- web 环境 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- aop --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- freemarker --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- 测试环境 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- mybatis --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
  &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;2.1.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- 分⻚插件 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
  &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;1.2.13&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- mysql --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;mysql&lt;/groupId&gt;
  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
  &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;
&lt;!-- c3p0 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;com.mchange&lt;/groupId&gt;
  &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
  &lt;version&gt;0.9.5.5&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- commons-lang3 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;
  &lt;version&gt;3.5&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
  &lt;artifactId&gt;fastjson&lt;/artifactId&gt;
  &lt;!--      5.2.3. 添加配置⽂件
        src/main/resources ⽬录下新建 application.yml 配置⽂件，内容如下：--&gt;
  &lt;version&gt;1.2.47&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- DevTools 热部署 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
  &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;</pre> 
<pre>&lt;build&gt;
  &lt;finalName&gt;crm49&lt;/finalName&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;version&gt;2.3.2&lt;/version&gt;
      &lt;configuration&gt;
        &lt;source&gt;11&lt;/source&gt;
        &lt;target&gt;11&lt;/target&gt;
        &lt;encoding&gt;UTF-8&lt;/encoding&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
      &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;1.3.5&lt;/version&gt;
      &lt;configuration&gt;

        &lt;configurationFile&gt;src/main/resources/generatorConfig.xml&lt;/configurationFile&gt;
        &lt;verbose&gt;true&lt;/verbose&gt;
        &lt;overwrite&gt;true&lt;/overwrite&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
    &lt;plugin&gt;
      &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-maven-plugin --&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;!-- 如果没有该配置，热部署的devtools不⽣效 --&gt;
        &lt;fork&gt;true&lt;/fork&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;</pre> 
<p>3.<span style="color:#333333;">添加配置⽂件 </span>---application.yml</p> 
<p>4.添加视图转发</p> 
<p>        controller下添加系统登录，主页面转发代码</p> 
<p>5.添加静态资源</p> 
<p>6.添加视图模板</p> 
<div> 
 <span style="color:#333333;">                在 src/main/resources ⽬录下新建</span> 
 <span style="color:#333333;"> views </span> 
 <span style="color:#333333;">⽬录，添加</span> 
 <span style="color:#333333;"> index.ftl</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">main.ftl </span> 
 <span style="color:#333333;">等⽂件。</span> 
 <span style="color:#333333;"> </span> 
</div> 
<div></div> 
<p>7.添加启动类</p> 
<p>8.浏览器浏览</p> 
<p></p> 
<h3><span style="color:#0d0016;">用户登录实现</span></h3> 
<p><span style="color:#0d0016;">1.准备好工具类和自定义异常类</span></p> 
<p><span style="color:#0d0016;">2.自动生成代码：</span><span style="color:#333333;">generatorConfig.xml </span><span style="color:#333333;">配置⽂件。</span></p> 
<p><span style="color:#333333;">3.执行命令：mybatis-generator:generate -e</span></p> 
<p><img alt="" height="140" src="https://images2.imgbox.com/0c/8a/6RUsRKmj_o.png" width="868"></p> 
<p> 4.实现思      </p> 
<div> 
 <span style="color:#0d0016;">        ⽤户登录 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                 1. 验证参数 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        姓名 ⾮空判断 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        密码 ⾮空判断 </span> 
</div> 
<p> </p> 
<div> 
 <span style="color:#0d0016;">                 2. 根据⽤户名，查询⽤户对象 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                 3. 判断⽤户是否存在 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        ⽤户对象为空，记录不存在，⽅法结束 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                4. ⽤户对象不为空 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        ⽤户存在，校验密码 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        密码不正确，⽅法结束 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                5. 密码正确 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">                        ⽤户登录成功，返回⽤户的相关信息 （定义UserModel类，返回⽤户某些信息）</span> 
</div> 
<div></div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">5.</span> 
 <span style="color:#333333;">前端登录功能实现 </span> 
 <div> 
  <span style="color:#333333;">index.ftl </span> 
  <span style="color:#333333;">添加对应</span> 
  <span style="color:#333333;"> index.js</span> 
  <span style="color:#333333;">，使⽤</span> 
  <span style="color:#333333;"> layui </span> 
  <span style="color:#333333;">表单组件实现表单提交操作</span> 
 </div> 
 <div></div> 
 <div></div> 
 <h3><strong><span style="color:#333333;">修改密码</span></strong></h3> 
 <p><strong><span style="color:#333333;">思路分析</span></strong></p>   
</div> 
<div> 
 <span style="color:#0d0016;">⽤户密码修改 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* 1. 参数校验 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* userId ⾮空 ⽤户对象必须存在 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* oldPassword ⾮空 与数据库中密⽂密码保持⼀致 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* newPassword ⾮空 与原始密码不能相同 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* confirmPassword ⾮空 与新密码保持⼀致 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* 2. 设置⽤户新密码 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* 新密码进⾏加密处理 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* 3. 执⾏更新操作 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">* 受影响的⾏数⼩于1，则表示修改失败 </span> 
</div> 
<p> </p> 
<h3><span style="color:#0d0016;"><strong>退出登录</strong></span></h3> 
<div> 
 <span style="color:#333333;">        找到 "</span> 
 <span style="color:#333333;">退出登录</span> 
 <span style="color:#333333;">" </span> 
 <span style="color:#333333;">的元素，并绑定点击事件。当⽤户点击退出时，清空</span> 
 <span style="color:#333333;">cookie</span> 
 <span style="color:#333333;">信息</span> 
</div> 
<div> 
 <span style="color:#333333;">        在</span> 
 <span style="color:#333333;"> main.js </span> 
 <span style="color:#333333;">中，通过类选择器绑定元素的点击事件</span> 
</div> 
<p><img alt="" height="262" src="https://images2.imgbox.com/f0/dd/Z5fpvx0v_o.png" width="1009"></p> 
<h3> <span style="color:#333333;">非法请求拦截</span></h3> 
<p><span style="color:#333333;">思路</span></p> 
<div> 
 <span style="color:#0d0016;"><strong>       </strong> 判断⽤户是否是登录状态 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">         获取Cookie对象，解析⽤户ID的值 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">         如果⽤户ID不为空，且在数据库中存在对应的⽤户记录，表示请求合法 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">         否则，请求不合法，进⾏拦截，重定向到登录⻚⾯</span> 
</div> 
<div></div> 
<p></p> 
<p> </p> 
<p> </p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eda58d4cf8f90f5d94b00590ee1f7d32/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">（！详解 Pytorch实战：①）kaggle猫狗数据集二分类：加载（集成/自定义）数据集</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/44c12af59347fa3a17cbf755e6416cd4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">svn简单使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>