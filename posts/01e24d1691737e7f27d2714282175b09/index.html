<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Git使用教程、命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Git使用教程、命令" />
<meta property="og:description" content="Git使用教程、命令 Git 本文连接：https://blog.csdn.net/leiduifan6944/article/details/129432110
git官网 https://git-scm.com/
优势：
大部分操作在本地完成，无需联网 完整性保证 尽可能添加数据而不是删除或修改数据 分支操作非常快捷流畅 与linux命令全面兼容 工作区、暂存区、本地库 工作区：编辑、增删改查 暂存区：保存工作区提交上来的记录 本地库：将暂存区的历史记录保存到本地库持久化 工作区 —— git add —— 暂存区 ——git commit —— 本地库 —— push/pull —— 远程库 代码托管中心：远程库 内网：gitlab 外网：github、码云 本地库——push——远程库 远程库——pull——本地库 基本配置 git的配置文件位置： win: c:\users\&lt;userName&gt;\.gitconfig linux: /home/&lt;userName&gt;/.gitconfig # 个人 /etc/gitconfig # 系统全局 # 修改git init时的默认分支为master， 但gitlab上创建仓库时默认分支是main，可以修改git init的默认参数，使其初始化为main 1）、直接修改配置文件 如果已有[init]则修改其下配置，如果没有，则新增，其他配置项不变： ... [init] defaultBranch = main	# 修改默认初始化分支 2）、命令设置 git config init.defaultBranch # 查看默认分支 git config --global init.defaultBranch &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/01e24d1691737e7f27d2714282175b09/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-12T20:42:32+08:00" />
<meta property="article:modified_time" content="2023-03-12T20:42:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Git使用教程、命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Git_0"></a>Git使用教程、命令</h2> 
<h2><a id="Git_1"></a>Git</h2> 
<p><a href="https://blog.csdn.net/leiduifan6944/article/details/129432110">本文连接：https://blog.csdn.net/leiduifan6944/article/details/129432110</a></p> 
<h3><a id="git_9"></a>git官网</h3> 
<p><a href="https://git-scm.com/" rel="nofollow">https://git-scm.com/</a></p> 
<p><strong>优势：</strong></p> 
<pre><code class="prism language-text">大部分操作在本地完成，无需联网

完整性保证

尽可能添加数据而不是删除或修改数据

分支操作非常快捷流畅

与linux命令全面兼容
</code></pre> 
<h3><a id="_29"></a>工作区、暂存区、本地库</h3> 
<pre><code class="prism language-text">工作区：编辑、增删改查
暂存区：保存工作区提交上来的记录
本地库：将暂存区的历史记录保存到本地库持久化

工作区 —— git add —— 暂存区 ——git commit —— 本地库 —— push/pull —— 远程库

代码托管中心：远程库
内网：gitlab
外网：github、码云

本地库——push——远程库
远程库——pull——本地库
</code></pre> 
<h3><a id="_48"></a>基本配置</h3> 
<h4><a id="git_50"></a>git的配置文件位置：</h4> 
<pre><code class="prism language-bash">win:   c:<span class="token punctuation">\</span>users<span class="token punctuation">\</span><span class="token operator">&lt;</span>userName<span class="token operator">&gt;</span><span class="token punctuation">\</span>.gitconfig
linux: /home/<span class="token operator">&lt;</span>userName<span class="token operator">&gt;</span>/.gitconfig              <span class="token comment"># 个人</span>
       /etc/gitconfig                           <span class="token comment"># 系统全局</span>

<span class="token comment"># 修改git init时的默认分支为master， 但gitlab上创建仓库时默认分支是main，可以修改git init的默认参数，使其初始化为main</span>

<span class="token number">1</span>）、直接修改配置文件
如果已有<span class="token punctuation">[</span>init<span class="token punctuation">]</span>则修改其下配置，如果没有，则新增，其他配置项不变：
    <span class="token punctuation">..</span>.
    <span class="token punctuation">[</span>init<span class="token punctuation">]</span>
        defaultBranch <span class="token operator">=</span> main					<span class="token comment"># 修改默认初始化分支</span>
<span class="token number">2</span>）、命令设置
    <span class="token function">git</span> config init.defaultBranch               <span class="token comment"># 查看默认分支</span>
    <span class="token function">git</span> config --global init.defaultBranch <span class="token string">"main"</span>     <span class="token comment"># 设置默认初始化分支，缺省状态默认为“master”</span>
</code></pre> 
<h4><a id="_71"></a>配置项及命令：</h4> 
<pre><code class="prism language-bash"><span class="token function">git</span> config --list                                 <span class="token comment"># 查看全部配置</span>
<span class="token function">git</span> config --global --list                        <span class="token comment"># 查看个人配置</span>
<span class="token function">git</span> config --system --list                        <span class="token comment"># 查看系统配置</span>
<span class="token function">git</span> config user.name                              <span class="token comment"># 查看用户名</span>
<span class="token function">git</span> config user.email                             <span class="token comment"># 查看用户邮箱</span>
<span class="token function">git</span> config init.defaultBranch                     <span class="token comment"># 查看默认分支</span>

<span class="token comment"># 系统级</span>
<span class="token function">git</span> config --global user.name “用户名”             <span class="token comment"># 设置用户名</span>
<span class="token function">git</span> config --global user.email “邮箱”              <span class="token comment"># 设置用户邮箱</span>
<span class="token function">git</span> config --global init.defaultBranch <span class="token string">"main"</span>     <span class="token comment"># 设置默认初始化分支，缺省状态默认为“master”</span>

<span class="token comment"># 用户级、项目级，存放于当前项目.git文件夹下的config文件中；当用户级和系统级同时存在时优先采用用户级；实际开发过程中极少使用用户级</span>
<span class="token function">git</span> config user.name “用户名”          <span class="token comment"># 设置用户名</span>
<span class="token function">git</span> config user.email “邮箱”           <span class="token comment"># 设置用户邮箱</span>


ssh-keygen                            <span class="token comment"># 生成ssh key，用于ssh免密与远程库交互</span>

<span class="token comment"># 删除配置</span>
<span class="token function">git</span> config --global --unset init.defaultbranch 

用户名和用户邮箱只用区分用户，可以时不存在的
</code></pre> 
<h3><a id="_101"></a>基本命令</h3> 
<pre><code class="prism language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>.<span class="token operator">&gt;</span>, <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span><span class="token punctuation">]</span>                   <span class="token comment"># 提交追踪的文件到仓库，.表示当前目录下所有文件</span>
<span class="token function">git</span> commit -m <span class="token string">"message"</span>                 <span class="token comment"># 为本次代码提交做备注说明，比如做了新增、更新了哪些功能等等</span>
<span class="token function">git</span> push origin HEAD:refs/heads/master  <span class="token comment"># 提交到指定分支 master</span>

<span class="token function">git</span> status                              <span class="token comment"># 检查状态</span>
<span class="token function">git</span> reset                               <span class="token comment"># 撤销git add</span>
<span class="token function">git</span> log                                 <span class="token comment"># 查看提交/版本/历史记录</span>
<span class="token function">git</span> <span class="token function">diff</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>file<span class="token operator">&gt;</span><span class="token punctuation">]</span>                       <span class="token comment"># 查看当前工作区的file与仓库中file的不同的地方，就是查看做了哪些修改</span>

<span class="token function">git</span> stash                               <span class="token comment"># 暂存当前状态</span>
<span class="token function">git</span> stash list                          <span class="token comment"># 查看保存的工作场景</span>
<span class="token function">git</span> stash pop                           <span class="token comment"># 恢复保存的内容，并把stash中的内容删了</span>

<span class="token function">git</span> <span class="token function">rm</span> -cached <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>					<span class="token comment"># 当文件add但缓冲区了用该命令撤销缓冲区的追踪</span>
<span class="token function">git</span> log --pretty<span class="token operator">=</span>oneline				<span class="token comment"># 每行显示一条日志，且显示完整的hash</span>
<span class="token function">git</span> log --oneline						<span class="token comment"># 每行显示一条日志，显示hash前7位</span>
<span class="token function">git</span> reflog								<span class="token comment"># 查看全部每次提交的hash前7位和message信息以及head跳转多少次可以跳转到哪里</span>
<span class="token comment"># 前两个查看log只能查看当前到开始，第3个可以查看所有，并查看当前在哪个版本</span>

<span class="token function">git</span> reset --hard *******				<span class="token comment"># 将head跳转至指定的版本</span>
<span class="token function">git</span> reset --hard HEAD^					<span class="token comment"># 一个^回退一个版本，n个^就回退n个版本</span>
<span class="token function">git</span> reset --hard HEAD~2					<span class="token comment"># 回退2个版本，可以回退n个版本</span>
<span class="token function">git</span> reset --hard HEAD					<span class="token comment"># 重置工作、暂存区至最近一次提交的状态</span>

<span class="token comment"># hard、soft、mixed</span>
--hard：
	在本地库移动HEAD指针；重置暂存区；重置工作区
--soft：
	仅在本地库移动HEAD指针
--mixed：
	本地库移动HEAD指针；重置缓暂存区
</code></pre> 
<h3><a id="_138"></a>分支控制</h3> 
<pre><code class="prism language-bash"><span class="token comment"># 同时并行推进多个功能模块的开发，多分支；</span>
<span class="token comment"># 单个分支功能开发失败不会影响其他分支，失败的分支删除重新开始即可；</span>

<span class="token function">git</span> branch -va                          <span class="token comment"># 查看分支列表</span>
<span class="token function">git</span> branch                              <span class="token comment"># 查看当前分支</span>
<span class="token function">git</span> checkout newBranch					<span class="token comment"># 创建新分支newBranch</span>
<span class="token function">git</span> checkout -b newBranch               <span class="token comment"># 创建新分支newBranch并切换到该分支</span>
<span class="token function">git</span> checkout dev1.0                     <span class="token comment"># 切换dev分支</span>
<span class="token function">git</span> branch -d dev                       <span class="token comment"># 删除本地分支</span>
<span class="token function">git</span> branch -D dev                       <span class="token comment"># 强行删除本地分支</span>
<span class="token function">git</span> remote -v                           <span class="token comment"># 查看当前git远程地址</span>
<span class="token function">git</span> branch -m master main               <span class="token comment"># 重命名分支master为main</span>
</code></pre> 
<h3><a id="_157"></a>合并分支：</h3> 
<pre><code class="prism language-bash">合并分支前请确保当前工作目录的所有修改已提交到代码仓库，否则将可能导致某些修改被丢弃并不可找回
例如：仓库有3个分支，分别为master、dev1.0、dev2.0，master为可对外应用的分支，dev1.0为提交给测试的分支，dev2.0为开发分支
    现在dev1.0分支的所有功能已经测试通过，我当前在dev2.0上又做了更新，现在要将dev1.0合并到dev2.0上，
    需要先将所有修改提交到dev2，否则当前工作区的修改将会倍舍弃，然后再进入到master分支，最后将dev1.0合并过来

将dev1.0分支的修改合并到master分支
    <span class="token function">git</span> checkout master             <span class="token comment"># 切换到master分支</span>
    <span class="token function">git</span> merge dev1.0                <span class="token comment"># 将dev1.0合并过来</span>
    <span class="token function">git</span> checkout dev2.0             <span class="token comment"># 返回到dev2.0分支，回到开发分支</span>

</code></pre> 
<h4><a id="_172"></a>合并失败/合并冲突：</h4> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> merge main
Auto-merging good.txt
CONFLICT <span class="token punctuation">(</span>content<span class="token punctuation">)</span>: Merge conflict <span class="token keyword">in</span> good.txt
Automatic merge failed<span class="token punctuation">;</span> fix conflicts and <span class="token keyword">then</span> commit the result.
</code></pre> 
<p>​ 上述提示good.txt合并失败，有冲突，原因是两个分支都做了改动，自动合并不知道该保留哪个分支的；打开有冲突的文件，里面会以7个等号分格，其上到&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD为当前HEAD分支的内容，其下到&gt;&gt;&gt;&gt;&gt;&gt;&gt; main为合并过来的分支的内容，需要手动决定删除哪个内容，保留哪个内容；修改好后，执行git status会提示有未合并的路径和文件，使用git add 去标记该文件冲突已解决，<br> 再次执行git status，如果还有冲突，git还会提示；如果没提示有冲突了，那就执行 <code>git commit</code> 完成合并，注意：这里commit后面不要任何参数，git会自动帮你生成一个 <code>Merge branch ‘分支1’ into 分支2</code> 的注释并打开vim编辑器，直接在vim中保存退出即可；当然也可以-m加上自己的注释，这样git就不会帮你添加注释了；合并完成后，git项目状态会从<code>(main|MERGING)</code>回到当前分支状态；</p> 
<h3><a id="_186"></a>远程</h3> 
<p>远程gitlab或github建立一个远程项目；</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone https://***.git		<span class="token comment"># 复制一个远程库，并建立关联</span>
<span class="token function">git</span> remote -v					<span class="token comment"># 查看远程连接</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/jiliang-Li/testgit.git
给本地库添加一个远程项目地址，用origin指向https://<span class="token punctuation">..</span>.，origin是远程项目的引用
<span class="token function">git</span> remote remove origin		<span class="token comment"># 删除一个远程关联</span>
<span class="token function">git</span> push origin main			<span class="token comment"># 将本地库推送到远程的main分支</span>
</code></pre> 
<p>合并远程分支：当别人开发的功能上传到远程后，我们需要拉取远程内容并合并到我们的项目库</p> 
<pre><code class="prism language-bash">pull <span class="token operator">=</span> fetch + merge
<span class="token function">git</span> fetch origin main				<span class="token comment"># 拉取远程main分支本地库；不改变工作区内容</span>
<span class="token function">git</span> merge origin/main				<span class="token comment"># 合并远程main分支到本地，改变工作区</span>

<span class="token function">git</span> pull origin main				<span class="token comment"># 拉取远程main分支并合并本地库和工作区</span>
ssh-keygen -t rsa -C ***@123.com	<span class="token comment"># 为某个邮箱生成密钥对，远程添加公钥后，下次推送到远程就不需要再输入密码了；</span>
ssh-keygen							<span class="token comment"># 直接运行该命令也可以生成针对本设备的密钥对</span>
</code></pre> 
<pre><code class="prism language-bash">
<span class="token function">git</span> push origin <span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span>				 <span class="token comment"># 提交到origin远程的指定分支</span>
<span class="token function">git</span> push origin --delete <span class="token operator">&lt;</span>branch<span class="token operator">&gt;</span>      	<span class="token comment"># 删除远程分支及其远程的关联分支</span>
<span class="token function">git</span> push --set-upstream origin master	<span class="token comment"># 设置默认push分支</span>

<span class="token function">git</span> pull origin <span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>本地分支<span class="token operator">&gt;</span>	   <span class="token comment"># 将远程指定分支 拉取到 指定本地分支上</span>
<span class="token function">git</span> pull -f origin 远程分支名：本地分支名	 <span class="token comment"># 强制拉取合并</span>
<span class="token function">git</span> pull origin <span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span>                <span class="token comment"># 将远程指定分支 拉取到 本地当前分支上</span>

<span class="token function">git</span> remote remove <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>                <span class="token comment"># 删除某个关联仓库,比如remove origin</span>
</code></pre> 
<h3><a id="_231"></a>推现有文件夹</h3> 
<pre><code class="prism language-bash"><span class="token function">git</span> init								<span class="token comment"># 初始化项目库</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin git@git.xjzh.tech:path/proj.git	<span class="token comment"># 关联远程仓库项目</span>
<span class="token function">git</span> pull origin main                    <span class="token comment"># 先pull，将远端仓库的建项目时的初始化文件拉下来</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>								<span class="token comment"># 追踪所有内容</span>
<span class="token function">git</span> commit -m <span class="token string">"Initial commit"</span>			<span class="token comment"># 提交本地库</span>
<span class="token function">git</span> push -u origin master				<span class="token comment"># 推送到远程仓库</span>
</code></pre> 
<h3><a id="git_245"></a>迁移git项目</h3> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone --mirror 项目原代码仓库地址 //将原仓库远程项目克隆到本地会生成一个 .git 文件
<span class="token builtin class-name">cd</span> 生成的.git文件 //cd 进入<span class="token punctuation">(</span>xxx.git<span class="token punctuation">)</span>文件
<span class="token function">git</span> push --mirror 新项目代码仓库地址  //将本地克隆推送到新服务器
</code></pre> 
<h3><a id="_257"></a>其他异常处理</h3> 
<p>(main|MERGING) # 合并、提交冲突<br> git reset --hard head # 重置当前的分支至上一次提交状态</p> 
<pre><code>如果时merge出现问题，就针对提示问题进行修复后提交


# 冲突
 could not apply       after resolving the conflicts........
 git checkout --theirs
 /
 git checkout --ours
</code></pre> 
<p>git cherry-pick id</p> 
<p>有冲突时：<br> git cherry-pick --abort # 放弃合并<br> git cherry-pick --continue # 解决某些冲突后，继续查看下一个冲突</p> 
<p>git commit后，如何撤销commit<br> 修改了本地的代码，然后使用：</p> 
<pre><code>1、git add file
2、git commit -m ‘提交信息’
执行commit后，还没push到远程仓库时，想要撤销这次提交本地仓库的commit，该怎么办？
解决方法：
第一种：执行 git reset --soft HEAD~ 可成功撤销最近一次commit到本地仓库的提交，所有撤销的代码修改进入暂存区。
第二种：如果想要连着add也撤销的话，git reset --hard HEAD~（删除工作空间的改动代码，慎用）。
命令详解：
HEAD~ 表示上一个版本，即上一次的commit，也可以写成HEAD~1
如果进行两次的commit，想要都撤回，可以使用HEAD~2
--soft 不删除工作空间的改动代码 ，撤销commit，不撤销git add file
--hard 删除工作空间的改动代码，撤销commit且撤销add（慎用）
另外一点，如果commit注释写错了，先要改一下注释，有其他方法也能实现，如：
git commit --amend
这时候会进入vim编辑器，修改完成你要的注释后保存即可。
</code></pre> 
<p>================<br> 持续更新~，有遇到新的问题以及解决方案时，我会及时记录到这里，这只是我工作经验总结分享的一部分，如果有理解不到位的地方欢迎猿友们指正，非喜勿喷！！！☺☺☺</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b3174e8c518e135a04520471b6b5497d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 学生信息管理系统-窗体程序 有详细设计文档和报告</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2938fdc2d58975328f4f4a432cff52de/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">电子设计竞赛2020年E题从电路到代码，电路篇详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>