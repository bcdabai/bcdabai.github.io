<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java web mvc-02-struts2 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java web mvc-02-struts2" />
<meta property="og:description" content="拓展阅读 Spring Web MVC-00-重学 mvc
mvc-01-Model-View-Controller 概览
web mvc-03-JFinal
web mvc-04-Apache Wicket
web mvc-05-JSF JavaServer Faces
web mvc-06-play framework intro
web mvc-07-Vaadin
web mvc-08-Grails
Struts2 Apache Struts是一个用于创建优雅、现代Java Web应用程序的免费、开源的MVC框架。
struts
Hello World 我的示例基于maven和struts2文档。
开始使用Struts2原型的推荐方式是使用原型目录。
mvn archetype:generate -DarchetypeCatalog=http://struts.apache.org/ Struts 2空白原型（“blank-archetype”）提供了一个最小但完整的Struts 2应用程序。
它演示了一些最基本的Struts 2概念。这是我的风格，我选择了这个。
使用
mvn clean install 来删除先前的文件并将JAR文件添加到您的存储库。
使用
mvn tomcat7:run 启动项目。或者将WAR文件放到Tomcat中。
错误
您可能会遇到类似以下错误。
no plugin found for prefix &#39;tomcat 7&#39; in the current project and in the plugin groups 提示" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7e2f78b94a19bd79be272e6b699be40d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T21:27:49+08:00" />
<meta property="article:modified_time" content="2024-01-23T21:27:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java web mvc-02-struts2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>拓展阅读</h2> 
<p><a href="https://houbb.github.io/2019/12/25/springmvc-00-index" rel="nofollow">Spring Web MVC-00-重学 mvc</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-01-overview" rel="nofollow">mvc-01-Model-View-Controller 概览</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-03-jfinal-intro" rel="nofollow">web mvc-03-JFinal</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-04-apache-whicket-intro" rel="nofollow">web mvc-04-Apache Wicket</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-05-jsf-intro" rel="nofollow">web mvc-05-JSF JavaServer Faces</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-06-play-framework-intro" rel="nofollow">web mvc-06-play framework intro</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-07-Vaadin" rel="nofollow">web mvc-07-Vaadin</a></p> 
<p><a href="https://houbb.github.io/2016/05/14/mvc-08-Grails" rel="nofollow">web mvc-08-Grails</a></p> 
<h3><a id="Struts2_18"></a>Struts2</h3> 
<p>Apache Struts是一个用于创建优雅、现代Java Web应用程序的免费、开源的MVC框架。</p> 
<blockquote> 
 <p><a href="http://struts.apache.org/" rel="nofollow">struts</a></p> 
</blockquote> 
<h3><a id="Hello_World_24"></a>Hello World</h3> 
<p>我的示例基于<a href="http://maven.apache.org/" rel="nofollow">maven</a>和<a href="http://struts.apache.org/docs/home.html" rel="nofollow">struts2文档</a>。<br> 开始使用Struts2原型的推荐方式是使用原型目录。</p> 
<pre><code>mvn archetype:generate -DarchetypeCatalog=http://struts.apache.org/
</code></pre> 
<p>Struts 2空白原型（“blank-archetype”）提供了一个最小但完整的Struts 2应用程序。<br> 它演示了一些最基本的Struts 2概念。这是我的风格，我选择了这个。</p> 
<p>使用</p> 
<pre><code>mvn clean install
</code></pre> 
<p>来删除先前的文件并将JAR文件添加到您的存储库。</p> 
<p>使用</p> 
<pre><code>mvn tomcat7:run
</code></pre> 
<p>启动项目。或者将WAR文件放到Tomcat中。</p> 
<p><label class="label label-danger">错误</label></p> 
<p>您可能会遇到类似以下错误。</p> 
<pre><code>no plugin found for prefix 'tomcat 7' in the current project and in the plugin groups
</code></pre> 
<p><label class="label label-success">提示</label></p> 
<p>别担心，这是解决方法。打开<strong>pom.xml</strong>，将以下代码添加到<strong>plugins</strong>中。</p> 
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${plugin.tomcat.version}&lt;/version&gt;
    &lt;configuration&gt;
        &lt;port&gt;8080&lt;/port&gt;
        &lt;path&gt;/&lt;/path&gt;
        &lt;uriEncoding&gt;${project.build.sourceEncoding}&lt;/uriEncoding&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre> 
<p>并将此代码添加到<strong>properties</strong>中。</p> 
<pre><code>&lt;plugin.tomcat.version&gt;2.2&lt;/plugin.tomcat.version&gt;
</code></pre> 
<p>好了，享受Struts2之旅。</p> 
<h3><a id="Configuration_Files_85"></a>Configuration Files</h3> 
<h3><a id="webxml_87"></a>web.xml</h3> 
<p>在<code>web.xml</code>文件中，Struts定义了它的<code>FilterDispatcher</code>，这是一个Servlet过滤器类，用于初始化Struts框架并处理所有请求。如下所示…</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>struts_blank<span class="token punctuation">"</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.4<span class="token punctuation">"</span></span>
         <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://java.sun.com/xml/ns/j2ee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>struts2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>
      org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>struts2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的示例中，我们将Struts 2调度程序映射到<code>/*</code>，因此Struts 2会处理所有传入的请求。这是因为Struts 2从其JAR文件中提供静态内容，包括Dojo JavaScript文件（如果使用S2.0或S2.1+中的Dojo插件）和用于生成HTML的Struts 2标签的FreeMarker模板。</p> 
<p>自Struts 2.1.7以来，您可以提供一个逗号分隔的模式列表，当匹配请求URL时，过滤器将直接通过。这是通过配置选项<code>struts.action.excludePattern</code>完成的，例如在您的<code>struts.xml</code>中：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struts</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constant</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>struts.action.excludePattern<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.*unfiltered.*,.*\\.nofilter<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struts</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>您可能会问，<code>struts.xml</code>是什么？</p> 
<h3><a id="strutsxml_125"></a>struts.xml</h3> 
<p>该框架的核心配置文件是默认的（<code>struts.xml</code>）文件，应存放在Web应用程序的类路径上（通常是<code>/WEB-INF/classes</code>）。</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">struts</span> <span class="token name">PUBLIC</span>
        <span class="token string">"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"</span>
        <span class="token string">"http://struts.apache.org/dtds/struts-2.3.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struts</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struts</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><label class="label label-info">DTD</label></p> 
<p>DTD是文档类型定义，定义了XML文档的结构以及合法的元素和属性。</p> 
<blockquote> 
 <p><a href="http://www.w3schools.com/xml/xml_dtd_intro.asp" rel="nofollow">DTD</a></p> 
</blockquote> 
<p><label class="label label-info">include</label></p> 
<p>我们可以将一个大的<code>struts.xml</code>文件分解成较小的部分吗？</p> 
<ul><li>您可以在<code>struts.xml</code>中的<code>&lt;package&gt;</code>元素中交替使用<code>&lt;include&gt;</code>元素。配置对象将按出现的顺序加载。框架从上到下读取配置并在引用时按顺序添加对象。</li></ul> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>struts</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example.xml<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>struts</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><label class="label label-info">Constant</label></p> 
<p>您可能会在<code>struts.xml</code>中找到这些，这是常量。</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constant</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>struts.enable.DynamicMethodInvocation<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constant</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>struts.devMode<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> 
<p>常量提供了一种通过定义修改框架和插件行为的关键设置来自定义Struts应用程序的简单方法。</p> 
<p><label class="label label-info">Packages</label></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>default<span class="token punctuation">"</span></span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span> <span class="token attr-name">extends</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>struts-default<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>default-action-ref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span><span class="token punctuation">&gt;</span></span>/index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li> <p><code>package</code>元素具有一个必需的属性，即<code>name</code>，它充当稍后引用包的键。</p> </li><li> <p><code>namespace</code>属性将动作配置细分为逻辑模块，每个模块都有其自己的标识前缀。命名空间避免了动作名称之间的冲突。</p> </li><li> <p><code>extends</code>属性是可选的，允许一个包继承一个或多个先前包的配置。</p> </li><li> <p><code>action</code>映射可以指定一组结果类型、一组异常处理程序和一个拦截器堆栈。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/2e/e9/Ms9U6WxV_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b1e90d08b2acb3ef34eab6cdef7f338/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Gold-YOLO（NeurIPS 2023）论文与代码解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7e52ccf4d1387d4e3c7a324cf84ba82/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java面面试面经（面试过程）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>