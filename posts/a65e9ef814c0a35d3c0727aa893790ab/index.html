<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Verilog位拼接运算符{} - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Verilog位拼接运算符{}" />
<meta property="og:description" content="前言 在Verilog中如何给一个多位的变量（如123bit）赋值呢?不能连续写123个1吧，此时需要位拼接运算。
一：位拼接运算符的定义 1：{}位拼接运算符用于将两个或多个信号拼接起来，表示一个整体的信号，如下：
a = {b[5],b[4:0]}
意思为 b的最高位b[5]和b的低五位拼接起来，组成的a为6位,相当于：
a = {b[5],b[4],b[3],b[2],b[1],b[0]}
2：即把某些倍号的某些位详细地列出来，中间用逗号分开，最后用大括号括起来表示一个整体信号，例如：
｛a, b[3:0], c, 3&#39;b100｝ 也可以写成为：
｛a, b[3],b[2], b[1],b[0],c, 1&#39;b1,1&#39;b0,1&#39;b0｝ 3：将d_in的最高位和d_in的低7位取反加一拼接起来，拼接之后d_out为8位；
d_out={d_in[7],~d_in[6:0]&#43;1&#39;b1}； 4：表示一个整体的信号例如一个一位全加器可以将进位输出和结果拼接在一起：
例如加法器：
module fulladder(a, b, cin, sum, cout); input a, b, cin; output sum, cout; assign {cout, sum} = a &#43; b &#43; cin; // 进位输出与和拼接在一起 endmodule 6：使用重复数字法简化拼接表达式的书写
例如要表示4bit的w {4{w}} &lt;=&gt; {w, w, w, w} 使用嵌套方式简化书写 {a, {3{b, c}}} &lt;=&gt; {a, b, c, b, c, b, c} 注意：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a65e9ef814c0a35d3c0727aa893790ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-11T22:07:02+08:00" />
<meta property="article:modified_time" content="2022-04-11T22:07:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Verilog位拼接运算符{}</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>在Verilog中如何给一个多位的变量（如123bit）赋值呢?不能连续写123个1吧，此时需要位拼接运算。</p> 
<h4>一：位拼接运算符的定义</h4> 
<p>1：{}位拼接运算符用于将两个或多个信号拼接起来，表示一个整体的信号，如下：</p> 
<p>a = {b[5],b[4:0]}</p> 
<p>意思为 b的最高位b[5]和b的低五位拼接起来，组成的a为6位,相当于：</p> 
<p>a = {b[5],b[4],b[3],b[2],b[1],b[0]}</p> 
<p>2：即把某些倍号的某些位详细地列出来，中间用逗号分开，最后用大括号括起来表示一个整体信号，例如：</p> 
<pre><code>｛a, b[3:0], c, 3'b100｝
</code></pre> 
<p>也可以写成为：</p> 
<pre><code>｛a, b[3],b[2], b[1],b[0],c, 1'b1,1'b0,1'b0｝
</code></pre> 
<p>3：将d_in的最高位和d_in的低7位取反加一拼接起来，拼接之后d_out为8位；</p> 
<pre><code>d_out={d_in[7],~d_in[6:0]+1'b1}；
</code></pre> 
<p>4：表示一个整体的信号例如一个一位全加器可以将进位输出和结果拼接在一起：</p> 
<p>例如加法器：</p> 
<pre><code>module fulladder(a, b, cin, sum, cout);
  input a, b, cin;
  output sum, cout;
 
  assign {cout, sum} = a + b + cin;    // 进位输出与和拼接在一起
 
endmodule</code></pre> 
<p>6：使用重复数字法简化拼接表达式的书写</p> 
<ul><li>例如要表示4bit的w</li></ul> 
<pre><code>{4{w}} &lt;=&gt; {w, w, w, w}</code></pre> 
<ul><li>使用嵌套方式简化书写</li></ul> 
<pre><code>{a, {3{b, c}}} &lt;=&gt; {a, b, c, b, c, b, c}</code></pre> 
<p>注意：</p> 
<ul><li><span style="color:#956fe7;">位拼接表达式中最好指明每个元素的具体位数，否则默认为32位二进制数</span></li></ul> 
<h4>二：{<!-- -->{}}表示复制</h4> 
<p>1：{4{a}}等同于{a,a,a,a}</p> 
<p>2：</p> 
<pre><code>16{a[15]} //等价于下面


{ 
   a[15], a[15], a[15], a[15], a[15], a[15], a[15], a[15],
   a[15], a[15], a[15], a[15], a[15], a[15], a[15], a[15]
}</code></pre> 
<p>3：</p> 
<pre><code>assign result = {<!-- -->{16{a[15]}}, {a[15:0]}};//等价于下面



assign result[ 0] = a[ 0];
assign result[ 1] = a[ 1];
assign result[ 2] = a[ 2];
assign result[ 3] = a[ 3];
assign result[ 4] = a[ 4];
assign result[ 5] = a[ 5];
assign result[ 6] = a[ 6];
assign result[ 7] = a[ 7];
assign result[ 8] = a[ 8];
assign result[ 9] = a[ 9];
assign result[10] = a[10];
assign result[11] = a[11];
assign result[12] = a[12];
assign result[13] = a[13];
assign result[14] = a[14];
assign result[15] = a[15];
assign result[16] = a[15];
assign result[17] = a[15];
assign result[18] = a[15];
assign result[19] = a[15];
assign result[20] = a[15];
assign result[21] = a[15];
assign result[22] = a[15];
assign result[23] = a[15];
assign result[24] = a[15];
assign result[25] = a[15];
assign result[26] = a[15];
assign result[27] = a[15];
assign result[28] = a[15];
assign result[29] = a[15];
assign result[30] = a[15];
assign result[31] = a[15];</code></pre> 
<p>花括号表示连接，从左侧的最高有效位（MSB）到右侧的最低有效位（LSB）。您正在创建一个32位总线（结果），其16个最高有效位由总线的第15位（MSB）的16个副本组成，其16个最低有效位仅由总线组成（此特定结构已知）作为符号扩展，例如，需要将负数以2的补码形式右移并保持为负而不是将零引入MSBits中</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e90cdc8e0fdbce8f2ac43de0bf33d52e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">DelayQueue使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7dc2bcfd49bcf41d54bf9753e7e0181c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android studio按钮颜色不能修改的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>