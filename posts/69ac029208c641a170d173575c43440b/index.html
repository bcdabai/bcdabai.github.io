<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>effective-java读书笔记 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="effective-java读书笔记" />
<meta property="og:description" content=" 笔记的出发点：摘录了些自己觉得使用的建议。
类和接口 摘抄些关于类的设计的建议
类和成员变量的可访问性最小，通过public，protect，private控制。这也支持了java封装的特性。建议暴露公有类中的成员变量的访问方法而不是直接暴露成员变量减少类的可变性，因为他们不容易出错和更加安全。减少类的可变性的方法：不提供改变对象状态的方法；使用final保证类不被扩展；所有的域设置成final；确保可变的组件要互拆访问。组合优于继承 枚举类 阅读前的理解：使用枚举可以面的这些好处
枚举类可以用来代替静态变量来定义一些魔法值或者字符串清晰的定义业务的可选范围复用性好提供遍历枚举值的方法 int枚举模式的不足：
没有类型安全校验。比如商品上架状态为1，商品的商品类型为1，都可以用传的参数为int的接口中遍历一个业务场景下int的范围，不方便 书中介绍的优点：
类型安全校验，接口的参数定义成枚举型，可以类型安全校验。比如商品上架状态为1，商品的商品类型为1，都可以用传的参数为int的接口中。但是用枚举类就不能随意传。枚举中可以抽象方法，每个枚举中的都定义自己的实现。每个枚举都有个oridinal方法，它返回它在枚举中的位置，从0开始。因为它会随枚举对象的位置而变化，所以不能用它进行业务判断。 方法 自己可以想到的一些建议：
方法的职能要单一，名称要驼峰命名方法的参数不要太多 书中的建议：
方法的开头处，校验参数的有效性，防止程序计算过程中发生出乎意料的异常慎用重载，特别是当重载方法的参数列表长度一样，且重载的参数间存在继承关系。比如说下面的方法 public void a (List arg){ } public void a (Collection arg){ } 返回0长度的数组或者集合，而不是返回null。理由：调用方可能会忘记处理null值的返回，空集合对内存和性能的消耗很少。为方法编写注释。注释包含的部分：方法为什么要这么设计的理由，而不是对代码的简单称述，调用方法的前置条件(往往是受检的参数)，可能的副作用比如：使用的es的查询接口，那么它的副作用是不能查询到实时的数据 通用设计 摘要一些代码书写方面的建议
将局部变量的作用域最小化，实践方式，在第一次用到它的地方进行声明。可以提升代码的可读性和可维护性使用for-each循环替代for循环，for循环需要引用索引取值，使用不慎可能会报数组越界的问题。for-each使用方法更加简洁，且性能不差如果需要精确的答案，请避免使用float和double，可以使用BigDecimal。需注意创建bigdecimal对象时传入double类型的数据也是不行的，如BigDecimal bigDecimal = new BigDecimal(0.01);这样构建出来的对象也是不准确的。如果有其他类型更合适，尽量避免使用字符串。数值，请使用数字型。若是“是”“否”这种可以使用布尔类型当心字符串连接的性能，特别是在for循环中拼接字符串，可以考虑使用stringBuilder代替通过接口引用对象，这样更灵活接口优于反射，反射机制设计的初衷是为基于组件的应用设计的，它会比普通的方法调用慢上几倍甚至几十倍。比如不要使用BeanUtils.copyProperties构建对象，会比较慢，首次构造的时间会在百毫秒级别。接受普遍的命名惯例。包名：小写，每个部分用句号分开；类名：驼峰，首字母大写；方法名：驼峰，首字母小写；变量名：驼峰，首字母小写；常量：所有字母大写，每个单词用下划线分开 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/69ac029208c641a170d173575c43440b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-28T23:29:15+08:00" />
<meta property="article:modified_time" content="2022-03-28T23:29:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">effective-java读书笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>笔记的出发点：摘录了些自己觉得使用的建议。</p> 
<h2><a id="_1"></a>类和接口</h2> 
<p>摘抄些关于类的设计的建议</p> 
<ul><li>类和成员变量的可访问性最小，通过public，protect，private控制。这也支持了java封装的特性。</li><li>建议暴露公有类中的成员变量的访问方法而不是直接暴露成员变量</li><li>减少类的可变性，因为他们不容易出错和更加安全。减少类的可变性的方法：不提供改变对象状态的方法；使用final保证类不被扩展；所有的域设置成final；确保可变的组件要互拆访问。</li><li>组合优于继承</li></ul> 
<h2><a id="_8"></a>枚举类</h2> 
<p>阅读前的理解：使用枚举可以面的这些好处</p> 
<ul><li>枚举类可以用来代替静态变量来定义一些魔法值或者字符串</li><li>清晰的定义业务的可选范围</li><li>复用性好</li><li>提供遍历枚举值的方法</li></ul> 
<p>int枚举模式的不足：</p> 
<ul><li>没有类型安全校验。比如商品上架状态为1，商品的商品类型为1，都可以用传的参数为int的接口中</li><li>遍历一个业务场景下int的范围，不方便</li></ul> 
<p>书中介绍的优点：</p> 
<ol><li>类型安全校验，接口的参数定义成枚举型，可以类型安全校验。比如商品上架状态为1，商品的商品类型为1，都可以用传的参数为int的接口中。但是用枚举类就不能随意传。</li><li>枚举中可以抽象方法，每个枚举中的都定义自己的实现。</li><li>每个枚举都有个oridinal方法，它返回它在枚举中的位置，从0开始。因为它会随枚举对象的位置而变化，所以不能用它进行业务判断。</li></ol> 
<h2><a id="_25"></a>方法</h2> 
<p>自己可以想到的一些建议：</p> 
<ul><li>方法的职能要单一，名称要驼峰命名</li><li>方法的参数不要太多</li></ul> 
<p><strong>书中的建议：</strong></p> 
<ul><li>方法的开头处，校验参数的有效性，防止程序计算过程中发生出乎意料的异常</li><li>慎用重载，特别是当重载方法的参数列表长度一样，且重载的参数间存在继承关系。比如说下面的方法</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> a <span class="token punctuation">(</span><span class="token class-name">List</span> arg<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> a <span class="token punctuation">(</span><span class="token class-name">Collection</span> arg<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>返回0长度的数组或者集合，而不是返回null。理由：调用方可能会忘记处理null值的返回，空集合对内存和性能的消耗很少。</li><li>为方法编写注释。注释包含的部分：方法为什么要这么设计的理由，而不是对代码的简单称述，调用方法的前置条件(往往是受检的参数)，可能的副作用比如：使用的es的查询接口，那么它的副作用是不能查询到实时的数据</li></ul> 
<h2><a id="_45"></a>通用设计</h2> 
<p>摘要一些代码书写方面的建议</p> 
<ul><li>将局部变量的作用域最小化，实践方式，在第一次用到它的地方进行声明。可以提升代码的可读性和可维护性</li><li>使用for-each循环替代for循环，for循环需要引用索引取值，使用不慎可能会报数组越界的问题。for-each使用方法更加简洁，且性能不差</li><li>如果需要精确的答案，请避免使用float和double，可以使用BigDecimal。需注意创建bigdecimal对象时传入double类型的数据也是不行的，如BigDecimal bigDecimal = new BigDecimal(0.01);这样构建出来的对象也是不准确的。</li><li>如果有其他类型更合适，尽量避免使用字符串。数值，请使用数字型。若是“是”“否”这种可以使用布尔类型</li><li>当心字符串连接的性能，特别是在for循环中拼接字符串，可以考虑使用stringBuilder代替</li><li>通过接口引用对象，这样更灵活</li><li>接口优于反射，反射机制设计的初衷是为基于组件的应用设计的，它会比普通的方法调用慢上几倍甚至几十倍。比如不要使用BeanUtils.copyProperties构建对象，会比较慢，首次构造的时间会在百毫秒级别。</li><li>接受普遍的命名惯例。包名：小写，每个部分用句号分开；类名：驼峰，首字母大写；方法名：驼峰，首字母小写；变量名：驼峰，首字母小写；常量：所有字母大写，每个单词用下划线分开</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0ebbaf7e8df3ecaf24141e7963a54b70/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java】Deprecated 注解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/174119e4c12b5db883e413168b6951a9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Springboot导出pdf文件(idea、jar包完美运行)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>