<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springboot如何整合mongodb - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="springboot如何整合mongodb" />
<meta property="og:description" content="这篇文章主要介绍了springboot如何整合mongodb，mongodb的安装和使用，感兴趣的同学可以参考阅读本文
1.mongodb的安装和简介 1.1简介 MongoDB 是由C&#43;&#43;语言编写的，是一个基于分布式文件存储的开源数据库系统。在高负载的情况下，添加更多的节点，可以保证服务器性能。MongoDB 旨在为WEB应用提供可扩展的高性能数据存储解决方案。MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。
1.2安装 网上安装的教程也比较多，我在这里就不再多说了。直接提供一下我自己的db安装包和可视化安装包，这里的版本可能有点旧，需要新的包可以自行去网上下载！
1.3配置环境变量和检查安装情况 这里的配置类似于jdk的配置，不再多说！查看安装和启动数据库
2.springboot集成mongodb 为了节省篇幅，好多注释和空行都去掉了，大家见谅！
2.1pom文件中maven的引入 1
2
3
4
5
&lt;!-- mongodb --&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;
&lt;/dependency&gt;
2.2properties文件配置 1
2
3
#################mongodb################
#spring.data.mongodb.uri=mongodb://username:password@localhost:27017/test
spring.data.mongodb.uri=mongodb://localhost:27017/springboot
2.3dao层的编写 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
package com.lengmo.dao;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b34dd0c4ed75ba0f448ecc152143ce4b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-29T22:53:36+08:00" />
<meta property="article:modified_time" content="2023-09-29T22:53:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springboot如何整合mongodb</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" height="350" src="https://images2.imgbox.com/f8/f6/MmXbRW5K_o.png" width="500"></p> 
<p>这篇文章主要介绍了springboot如何整合mongodb，mongodb的安装和使用，感兴趣的同学可以参考阅读本文</p> 
<p></p> 
<p><a name="_label0"></a></p> 
<h3>1.mongodb的安装和简介</h3> 
<p><a name="_lab2_0_0"></a></p> 
<h4>1.1简介</h4> 
<p>MongoDB 是由C++语言编写的，是一个基于分布式文件存储的开源数据库系统。在高负载的情况下，添加更多的节点，可以保证服务器性能。MongoDB 旨在为WEB应用提供可扩展的高性能数据存储解决方案。MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。</p> 
<p></p> 
<p class="img-center"><img alt="" height="171" src="https://images2.imgbox.com/cc/26/Rb2e8MCk_o.png" width="570"></p> 
<p><a name="_lab2_0_1"></a></p> 
<h4>1.2安装</h4> 
<p>网上安装的教程也比较多，我在这里就不再多说了。直接提供一下我自己的db安装包和可视化安装包，这里的版本可能有点旧，需要新的包可以自行去网上下载！</p> 
<p></p> 
<p><a name="_lab2_0_2"></a></p> 
<h4>1.3配置环境变量和检查安装情况</h4> 
<p>这里的配置类似于jdk的配置，不再多说！查看安装和启动数据库</p> 
<p></p> 
<p class="img-center"><img alt="" height="888" src="https://images2.imgbox.com/6c/ba/scBaAt4b_o.png" width="767"></p> 
<p><a name="_label1"></a></p> 
<h3>2.springboot集成mongodb</h3> 
<p>为了节省篇幅，好多注释和空行都去掉了，大家见谅！</p> 
<p><a name="_lab2_1_3"></a></p> 
<h4>2.1pom文件中maven的引入</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> </td><td> <p><code>&lt;!-- mongodb --&gt;</code></p> <p><code>&lt;</code><code>dependency</code><code>&gt;</code></p> <p><code>    </code><code>&lt;</code><code>groupId</code><code>&gt;org.springframework.boot&lt;/</code><code>groupId</code><code>&gt;</code></p> <p><code>    </code><code>&lt;</code><code>artifactId</code><code>&gt;spring-boot-starter-data-mongodb&lt;/</code><code>artifactId</code><code>&gt;</code></p> <p><code>&lt;/</code><code>dependency</code><code>&gt;</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_1_4"></a></p> 
<h4>2.2properties文件配置</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> </td><td> <p><code>#################mongodb################</code></p> <p><code>#spring.data.mongodb.uri=mongodb://username:password@localhost:27017/test</code></p> <p><code>spring.data.mongodb.uri=mongodb</code><code>:</code><code>//localhost</code><code>:</code><code>27017/springboot</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_1_5"></a></p> 
<h4>2.3dao层的编写</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> </td><td> <p><code>package</code> <code>com.lengmo.dao;</code></p> <p><code> </code> </p> <p><code>import</code> <code>com.lengmo.entity.Student;</code></p> <p><code>import</code> <code>org.springframework.beans.factory.annotation.Autowired;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.MongoTemplate;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.query.Query;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.query.Update;</code></p> <p><code>import</code> <code>org.springframework.stereotype.Component;</code></p> <p><code>import</code> <code>java.util.List;</code></p> <p><code> </code> </p> <p><code>@Component</code></p> <p><code>public</code> <code>class</code> <code>MongoDbDao {<!-- --></code></p> <p><code>    </code><code>@Autowired</code></p> <p><code>    </code><code>private</code> <code>MongoTemplate mongoTemplate;</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>save(Student s) {<!-- --></code></p> <p><code>        </code><code>mongoTemplate.save(s);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>Student get(Query query) {<!-- --></code></p> <p><code>        </code><code>return</code> <code>mongoTemplate.findOne(query,Student.</code><code>class</code><code>);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>List&lt;Student&gt; findAll() {<!-- --></code></p> <p><code>        </code><code>return</code> <code>mongoTemplate.findAll(Student.</code><code>class</code><code>);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>update(Query query, Update update) {<!-- --></code></p> <p><code>        </code><code>mongoTemplate.updateMulti(query,update,Student.</code><code>class</code><code>);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>delete(Query query) {<!-- --></code></p> <p><code>        </code><code>mongoTemplate.remove(query,Student.</code><code>class</code><code>);</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_1_6"></a></p> 
<h4>2.4service层的编写</h4> 
<p>这里要熟悉mongodb的一些常规操作方法，多用多练习即可！！！！</p> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> <p>31</p> <p>32</p> <p>33</p> <p>34</p> <p>35</p> <p>36</p> <p>37</p> <p>38</p> <p>39</p> <p>40</p> <p>41</p> <p>42</p> <p>43</p> <p>44</p> <p>45</p> <p>46</p> <p>47</p> <p>48</p> <p>49</p> <p>50</p> <p>51</p> <p>52</p> <p>53</p> <p>54</p> <p>55</p> <p>56</p> <p>57</p> <p>58</p> <p>59</p> </td><td> <p><code>package</code> <code>com.lengmo.service;</code></p> <p><code> </code> </p> <p><code>import</code> <code>com.lengmo.dao.MongoDbDao;</code></p> <p><code>import</code> <code>com.lengmo.entity.Hobbies;</code></p> <p><code>import</code> <code>com.lengmo.entity.Student;</code></p> <p><code>import</code> <code>org.springframework.beans.factory.annotation.Autowired;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.query.Criteria;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.query.Query;</code></p> <p><code>import</code> <code>org.springframework.data.mongodb.core.query.Update;</code></p> <p><code>import</code> <code>org.springframework.stereotype.Service;</code></p> <p><code>import</code> <code>java.util.List;</code></p> <p><code> </code> </p> <p><code>@Service</code></p> <p><code>public</code> <code>class</code> <code>MongoDbService {<!-- --></code></p> <p><code>    </code><code>@Autowired</code></p> <p><code>    </code><code>private</code> <code>MongoDbDao mongoDbDao;</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>save() {<!-- --></code></p> <p><code>        </code><code>Student s=</code><code>new</code> <code>Student();</code></p> <p><code>        </code><code>s.setName(</code><code>"lis"</code><code>);</code></p> <p><code>        </code><code>s.setAge(</code><code>17</code><code>);</code></p> <p><code>        </code><code>s.setSex(</code><code>1</code><code>);</code></p> <p><code>        </code><code>s.setHeight(</code><code>182</code><code>);</code></p> <p><code>        </code><code>Hobbies h=</code><code>new</code> <code>Hobbies();</code></p> <p><code>        </code><code>h.setHname(</code><code>"swing"</code><code>);</code></p> <p><code>        </code><code>s.setHobbies(h);</code></p> <p><code>        </code><code>mongoDbDao.save(s);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>Student get() {<!-- --></code></p> <p><code>       </code><code>//and查询</code></p> <p><code>        </code><code>/* Criteria criteriaName=Criteria.where("name").is("lisi");</code></p> <p><code>        </code><code>Criteria criteriaAage=Criteria.where("age").is(17);</code></p> <p><code>        </code><code>Criteria andCriteria = new Criteria();</code></p> <p><code>        </code><code>andCriteria.andOperator(criteriaName,criteriaAage);</code></p> <p><code>        </code><code>Query query=new Query(andCriteria);*/</code></p> <p><code>        </code><code>//or查询</code></p> <p><code>        </code><code>Criteria criteriaName=Criteria.where(</code><code>"name"</code><code>).is(</code><code>"lisi"</code><code>);</code></p> <p><code>        </code><code>Criteria criteriaAage=Criteria.where(</code><code>"age"</code><code>).gt(</code><code>16</code><code>);</code></p> <p><code>        </code><code>Criteria orCriteria = </code><code>new</code> <code>Criteria();</code></p> <p><code>        </code><code>orCriteria.orOperator(criteriaName,criteriaAage);</code></p> <p><code>        </code><code>Query query=</code><code>new</code> <code>Query(orCriteria);</code></p> <p><code> </code> </p> <p><code>        </code><code>return</code>  <code>mongoDbDao.get(query);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>List&lt;Student&gt; findAll() {<!-- --></code></p> <p><code>        </code><code>return</code> <code>mongoDbDao.findAll();</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>update() {<!-- --></code></p> <p><code>        </code><code>Query query=</code><code>new</code> <code>Query(Criteria.where(</code><code>"name"</code><code>).is(</code><code>"zhangsan"</code><code>));</code></p> <p><code>        </code><code>Update update=</code><code>new</code> <code>Update();</code></p> <p><code>        </code><code>update.set(</code><code>"age"</code><code>,</code><code>30</code><code>);</code></p> <p><code>        </code><code>update.set(</code><code>"height"</code><code>,</code><code>188</code><code>);</code></p> <p><code>        </code><code>update.set(</code><code>"hobbies.hname"</code><code>,</code><code>"basketball"</code><code>);</code></p> <p><code>        </code><code>mongoDbDao.update(query,update);</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>delete() {<!-- --></code></p> <p><code>        </code><code>Query query=</code><code>new</code> <code>Query(Criteria.where(</code><code>"name"</code><code>).is(</code><code>"zhangsan"</code><code>));</code></p> <p><code>        </code><code>mongoDbDao.delete(query);</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_1_7"></a></p> 
<h4>2.5conreoller层的编写</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> <p>26</p> <p>27</p> <p>28</p> <p>29</p> <p>30</p> <p>31</p> <p>32</p> <p>33</p> <p>34</p> <p>35</p> <p>36</p> </td><td> <p><code>package</code> <code>com.lengmo.controller;</code></p> <p><code> </code> </p> <p><code>import</code> <code>com.lengmo.entity.Student;</code></p> <p><code>import</code> <code>com.lengmo.service.MongoDbService;</code></p> <p><code>import</code> <code>org.springframework.beans.factory.annotation.Autowired;</code></p> <p><code>import</code> <code>org.springframework.web.bind.annotation.RequestMapping;</code></p> <p><code>import</code> <code>org.springframework.web.bind.annotation.RestController;</code></p> <p><code>import</code> <code>java.util.List;</code></p> <p><code> </code> </p> <p><code>@RestController</code></p> <p><code>@RequestMapping</code><code>(</code><code>"/mongodb"</code><code>)</code></p> <p><code>public</code> <code>class</code> <code>MongoDbController {<!-- --></code></p> <p><code>    </code><code>@Autowired</code></p> <p><code>    </code><code>private</code> <code>MongoDbService mongoDbService;</code></p> <p><code>    </code><code>@RequestMapping</code><code>(</code><code>"/save"</code><code>)</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>save(){<!-- --></code></p> <p><code>        </code><code>mongoDbService.save();</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>@RequestMapping</code><code>(</code><code>"/get"</code><code>)</code></p> <p><code>    </code><code>public</code> <code>Student get(){<!-- --></code></p> <p><code>        </code><code>return</code> <code>mongoDbService.get();</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>@RequestMapping</code><code>(</code><code>"/findAll"</code><code>)</code></p> <p><code>    </code><code>public</code> <code>List&lt;Student&gt; findAll(){<!-- --></code></p> <p><code>        </code><code>return</code> <code>mongoDbService.findAll();</code></p> <p><code>    </code><code>}</code></p> <p><code> </code> </p> <p><code>    </code><code>@RequestMapping</code><code>(</code><code>"/update"</code><code>)</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>update(){<!-- --></code></p> <p><code>        </code><code>mongoDbService.update();</code></p> <p><code>    </code><code>}</code></p> <p><code>    </code><code>@RequestMapping</code><code>(</code><code>"/delete"</code><code>)</code></p> <p><code>    </code><code>public</code> <code>void</code> <code>delete(){<!-- --></code></p> <p><code>        </code><code>mongoDbService.delete();</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_1_8"></a></p> 
<h4>2.6实体类层的编写（两个类放一起了，你们记得分开）</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> <p>21</p> <p>22</p> <p>23</p> <p>24</p> <p>25</p> </td><td> <p><code>package</code> <code>com.lengmo.entity;</code></p> <p><code>import</code> <code>lombok.Data;</code></p> <p><code>import</code> <code>javax.persistence.Id;</code></p> <p><code> </code> </p> <p><code>@Data</code></p> <p><code>//之所以没有像 mysql那样需要@table标签去标注我们的表名与实体类的对应关系。是因为 mongodb默认类名即与表名对应。</code></p> <p><code>public</code> <code>class</code> <code>Student{<!-- --></code></p> <p><code>    </code><code>@Id</code></p> <p><code>    </code><code>private</code> <code>String id;</code></p> <p><code>    </code><code>private</code> <code>String name;</code></p> <p><code>    </code><code>private</code> <code>Integer age;</code></p> <p><code>    </code><code>private</code> <code>Integer sex;</code></p> <p><code>    </code><code>private</code> <code>Integer height;</code></p> <p><code>    </code><code>private</code> <code>Hobbies hobbies;</code></p> <p><code>}</code></p> <p><code> </code> </p> <p><code> </code> </p> <p><code> </code> </p> <p><code>package</code> <code>com.lengmo.entity;</code></p> <p><code>import</code> <code>lombok.Data;</code></p> <p><code> </code> </p> <p><code>@Data</code></p> <p><code>public</code> <code>class</code> <code>Hobbies {<!-- --></code></p> <p><code>    </code><code>private</code>  <code>String hname;</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p>至此所有的整合就完成了，接下来就是去验证各个方法的使用了！</p> 
<p></p> 
<p></p> 
<p>到此这篇关于springboot整合mongodb的文章就介绍到这了,希望可以帮到你</p> 
<p></p> 
<p></p> 
<p></p> 
<p>转自：<a class="link-info" href="https://www.weidianyuedu.com" rel="nofollow" title="微点阅读">微点阅读</a>   <a href="https://www.weidianyuedu.com" rel="nofollow" title="https://www.weidianyuedu.com">https://www.weidianyuedu.com</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/906157690e8ffa0bfb206513b8423139/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GPIO（通用输入/输出端口）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/820068de1d099e7b84a0c52b63da6b66/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[官方培训]23-为UE创建美术资产 Epic 李文磊 笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>