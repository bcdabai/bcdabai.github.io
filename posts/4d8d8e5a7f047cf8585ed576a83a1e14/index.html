<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot 配置文件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot 配置文件" />
<meta property="og:description" content="目录
1、配置文件作用
2、配置文件的格式
1、application.properties 配置文件 - 效果演示
2、application.yml 配置文件 - 效果演示
为配置⽂件安装提示插件 - 社区版 idea
application.properties 配置文件说明
properties 基本语法
查看更多系统配置项 - properties
读取配置⽂件 - propertices
properties 格式配置文件的 缺点分析
application.yml 配置⽂件说明
yml 基本语法
yml的优点：解决 properties的缺点问题（代码冗余度高）
yml 使⽤进阶：yml 配置不同数据类型及 null
读取配置⽂件 - yml
拓展：注意事项
value 值加单双引号 - yml配置文件中，关于数据的单双引号的问题。
配置对象 - yml 配置文件
读取对象 - yml 配置对象
配置集合 - yml
Properties VS yml 总结
拓展：Spring Boot 有几种读取配置文件的方法？
1、配置文件作用 整个项目中所有重要的数据都是在配置文件中配置的。
比如：
1、数据库的连接信息（包含用户名和密码的设置）
2、项目的启动端口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4d8d8e5a7f047cf8585ed576a83a1e14/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-06T00:11:10+08:00" />
<meta property="article:modified_time" content="2023-07-06T00:11:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot 配置文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8" rel="nofollow">1、配置文件作用</a></p> 
<p id="2%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F-toc" style="margin-left:0px;"><a href="#2%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F" rel="nofollow">2、配置文件的格式</a></p> 
<p id="1%E3%80%81application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA-toc" style="margin-left:40px;"><a href="#1%E3%80%81application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA" rel="nofollow">1、application.properties 配置文件 - 效果演示</a></p> 
<p id="2%E3%80%81application.yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA-toc" style="margin-left:40px;"><a href="#2%E3%80%81application.yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA" rel="nofollow">2、application.yml 配置文件 - 效果演示</a></p> 
<p id="%C2%A0%E4%B8%BA%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E5%AE%89%E8%A3%85%E6%8F%90%E7%A4%BA%E6%8F%92%E4%BB%B6%20-%20%E7%A4%BE%E5%8C%BA%E7%89%88%20idea-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B8%BA%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E5%AE%89%E8%A3%85%E6%8F%90%E7%A4%BA%E6%8F%92%E4%BB%B6%20-%20%E7%A4%BE%E5%8C%BA%E7%89%88%20idea" rel="nofollow"> 为配置⽂件安装提示插件 - 社区版 idea</a></p> 
<p id="%C2%A0application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#%C2%A0application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E" rel="nofollow"> application.properties 配置文件说明</a></p> 
<p id="properties%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-toc" style="margin-left:40px;"><a href="#properties%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" rel="nofollow">properties 基本语法</a></p> 
<p id="%E6%9F%A5%E7%9C%8B%E6%9B%B4%E5%A4%9A%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E9%A1%B9%20-%20properties-toc" style="margin-left:80px;"><a href="#%E6%9F%A5%E7%9C%8B%E6%9B%B4%E5%A4%9A%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E9%A1%B9%20-%20properties" rel="nofollow">查看更多系统配置项 - properties</a></p> 
<p id="%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20propertices-toc" style="margin-left:80px;"><a href="#%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20propertices" rel="nofollow">读取配置⽂件 - propertices</a></p> 
<p id="properties%20%E6%A0%BC%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%20%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90-toc" style="margin-left:120px;"><a href="#properties%20%E6%A0%BC%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%20%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90" rel="nofollow">properties 格式配置文件的 缺点分析</a></p> 
<p id="application.yml%20%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#application.yml%20%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E8%AF%B4%E6%98%8E" rel="nofollow">application.yml 配置⽂件说明</a></p> 
<p id="yml%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-toc" style="margin-left:80px;"><a href="#yml%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" rel="nofollow">yml 基本语法</a></p> 
<p id="yml%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A%E8%A7%A3%E5%86%B3%20properties%E7%9A%84%E7%BC%BA%E7%82%B9%E9%97%AE%E9%A2%98%EF%BC%88%E4%BB%A3%E7%A0%81%E5%86%97%E4%BD%99%E5%BA%A6%E9%AB%98%EF%BC%89-toc" style="margin-left:120px;"><a href="#yml%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A%E8%A7%A3%E5%86%B3%20properties%E7%9A%84%E7%BC%BA%E7%82%B9%E9%97%AE%E9%A2%98%EF%BC%88%E4%BB%A3%E7%A0%81%E5%86%97%E4%BD%99%E5%BA%A6%E9%AB%98%EF%BC%89" rel="nofollow">yml的优点：解决 properties的缺点问题（代码冗余度高）</a></p> 
<p id="yml%20%E4%BD%BF%E2%BD%A4%E8%BF%9B%E9%98%B6%EF%BC%9Ayml%20%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%20null-toc" style="margin-left:80px;"><a href="#yml%20%E4%BD%BF%E2%BD%A4%E8%BF%9B%E9%98%B6%EF%BC%9Ayml%20%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%20null" rel="nofollow">yml 使⽤进阶：yml 配置不同数据类型及 null</a></p> 
<p id="%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20yml-toc" style="margin-left:80px;"><a href="#%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20yml" rel="nofollow">读取配置⽂件 - yml</a></p> 
<p id="%E6%8B%93%E5%B1%95%EF%BC%9A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-toc" style="margin-left:80px;"><a href="#%E6%8B%93%E5%B1%95%EF%BC%9A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" rel="nofollow">拓展：注意事项</a></p> 
<p id="value%20%E5%80%BC%E5%8A%A0%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%20-%20yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E5%85%B3%E4%BA%8E%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82-toc" style="margin-left:120px;"><a href="#value%20%E5%80%BC%E5%8A%A0%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%20-%20yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E5%85%B3%E4%BA%8E%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82" rel="nofollow">value 值加单双引号 - yml配置文件中，关于数据的单双引号的问题。</a></p> 
<p id="%C2%A0%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%C2%A0%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow"> 配置对象 - yml 配置文件</a></p> 
<p id="%C2%A0%E8%AF%BB%E5%8F%96%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1-toc" style="margin-left:80px;"><a href="#%C2%A0%E8%AF%BB%E5%8F%96%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1" rel="nofollow"> 读取对象 - yml 配置对象</a></p> 
<p id="%E9%85%8D%E7%BD%AE%E9%9B%86%E5%90%88%20-%20yml-toc" style="margin-left:120px;"><a href="#%E9%85%8D%E7%BD%AE%E9%9B%86%E5%90%88%20-%20yml" rel="nofollow">配置集合 - yml</a></p> 
<p id="%C2%A0Properties%20VS%20yml%20%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%C2%A0Properties%20VS%20yml%20%E6%80%BB%E7%BB%93" rel="nofollow"> Properties VS yml 总结</a></p> 
<p id="%E6%8B%93%E5%B1%95%EF%BC%9ASpring%20Boot%20%E6%9C%89%E5%87%A0%E7%A7%8D%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9F-toc" style="margin-left:0px;"><a href="#%E6%8B%93%E5%B1%95%EF%BC%9ASpring%20Boot%20%E6%9C%89%E5%87%A0%E7%A7%8D%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9F" rel="nofollow">拓展：Spring Boot 有几种读取配置文件的方法？</a></p> 
<hr> 
<h2 id="1%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8">1、配置文件作用</h2> 
<p>整个项目中所有重要的数据都是在配置文件中配置的。<br> 比如：</p> 
<p>1、数据库的连接信息（包含用户名和密码的设置）<br> 2、项目的启动端口<br> 3、第三方系统的调用密钥等信息<br> 4、用于发现和定位问题的普通日志 和 异常日志 等。<br> 5、还可以配置 日志的级别（规定只显示达到某个级别的日志），以及日志的持久化存储。</p> 
<p>想象一下：<br>         如果没有配置信息，那么 Spring Boot 项目就不能连接和操作数据库，甚至是不能保存可以用于排查问题的关键日志，所以配置文件的作用是非常重要的！</p> 
<p>举个例子：<br>         之前我在讲 Servlet项目：博客系统 的时候，我们需要去写关于 MySQL 的 JDBC 代码，其涉及到的 用户名密码，还有数据源，这些信息都是保存一个叫做 DBUtil 的自定义类中。<br> 而一个正儿八经的 Spring Boot 项目，不会将这些重要的，敏感的信息，放在代码里面的！<br> 因为你放在代码里面的话，它是不方便去修改的。<br> 并且，只能是我们程序员去改！<br>  <br> 试想一下：<br> 在一个正儿八经的公司里，技术岗位是有很多种的！<br> 假设我们是开发人员，那我们只是负责开发部分的工作。<br> 最终项目的部署，是程序员部署的吗？还是测试人员去部署的？</p> 
<p>都不是，测试 是 负责 测试环境，开发是负责开发环节。<br> 而生产环境，是由另一种技术人员：运维工程师来负责的！<br> 运维工程师，是需要修改我们项目中的配置文件的。<br>  <br> 运维工程师懂 JAVA 代码 吗？<br> 他不懂的！<br> 运维工程师，他们的能力点 在于：他们对 Linux 服务器 非常熟悉！<br> 对于那些常见的木马，漏铜，他们具有相应的排查手段 和 解决方案！<br> 他们对于 “安全性” 方面的知识，是知道的比较多！</p> 
<p>总的来说：<br> 运维工程师，主要就是部署项目，并且让项目能够在服务器上，稳定的运行。<br>  <br> 一个项目开发完了，我们开发人员的工作就完成了。<br> 接下来，项目就会交给测试部门。<br> 测试部门测试完了之后，项目功能都没问题。<br> 说明 项目 可以上线了。<br> 那么，测试部门就会把 项目包 交给 运维部门，由运维来进行项目的部署。</p> 
<p>也就是说：<br> 你如果把 配置文件 写到 代码里（项目包里），有以下几个问题：<br> 1、运维人员是不懂 Java 的，他没办法去修改代码。<br> 即使 这个 运维人员，懂 Java，但是！想想 我们 Spring Boot 打包的是一个什么 包？<br> 是一个 jar 包，对不对？俩面存储的都是 .class 文件（二进制文件）。<br> 而我们是把信息写到 一个类，经过编译生成的文件，就是 .class 文件。<br> 二进制文件，你能改吗？？<br> 你改不了的！！！<br> 字节码文件，是只能看，不能修改的！！！ </p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4d/e0/u0GHPHel_o.png" width="1200"></p> 
<p> <br><span style="color:#ff0000;">但如果我们将信息写到 配置文件中，运维是可以修改配置文件的。</span></p> 
<p><img alt="" height="530" src="https://images2.imgbox.com/c5/3e/vpEn4DNh_o.png" width="1200"></p> 
<p>像配置文件中信息，一般都是 key - value 的形式，运维是看得懂的。<br> 而且，在改完之后，按住它，拖回到包，再替换。<br> 这就完成修改了。</p> 
<p><img alt="" height="496" src="https://images2.imgbox.com/f5/8c/HVNTmv1L_o.png" width="1200"></p> 
<p> 这就是为什么，将重要信息都写在配置文件中，应为被人可以改。<br> 这是 配置文件的一个优点。</p> 
<p>配置文件还有一个优点：</p> 
<p>配置文件可以设置 开发环境 和 配置环境，两个配置文件。<br> 然后呢，在运行打包的时候，通过修改一个变量，就可以指定 当前项目 “走”哪一个配置文件。<br> 所以，配置文件之间是可以并存的！<br> 意思就是：<br> 可以将两个，或两个以上的配置文件（开发的，测试的，运维的），项目上线的时候，我们只需要改一个参数，改一个名字。<br> 然后，项目中所有的内容，全部都会走 另一个配置文件。非常方便！<br> 到时候，会给你们演示一下。 </p> 
<p>另外，再补充一点。<br> 配置文件的分类，里面的内容可以分为两个类：<br> 1、系统级别的<br> 2、自定义级别的</p> 
<p>配置文件中，可以存储第三方系统的调用密钥等信息。<br> 这个第三方，假设指的是一款软件。<br> 我们的项目，也可以说是一块软件。<br> 现在，这两款软件，有业务交流。<br> 那么，我们项目中的配置文件，就需要在 配置问价 设置 相关信息。<br> 就好比拥有了一把 “钥匙”，通往 第三方软件，一次来获取需要的信息。<br>  <br> 当前请注意！并不是所有的软件，都需要和这个第三方软件，建立关系。<br> 因此，配置文件 设置的信息，是我们项目独有的，是自定义的！<br>  <br> 一个“约定大于配置”的例子。扫描的根目录，是有系统默认指定的。 </p> 
<h2 id="2%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F">2、配置文件的格式</h2> 
<p>Spring Boot 配置⽂件主要分为以下两种格式：</p> 
<p><strong>1、.properties<br> 2、.yml</strong><br> 【文件的后缀代表着文件的格式；配置文件也是如此！！！】</p> 
<p>至于为什么要有两种格式？</p> 
<p>这两者之间的关系，就像前面讲Bean 作用域 和 生命周期中的 @PostConstruct 与 init- method 之间的关系一样。<br> 两者的功能是一样的，但是！是来自于 两个不同时间段 的 产物。<br>  <br> 最早出现的配合文件格式是 .properties。<br> 然后，在后期的使用中发现： properties 存在着一些缺陷。<br> 那么，自然就会产生一个想法：properties 该怎么去优化？<br> 于是，.yml 格式的配置文件，就诞生了。<br> 这就和 maven 和 gradle 之间的关系一样。<br> gradle 是 maven 的升级版。<br> 我们的 .yml格式的配置文件，就是 .properties格式配置文件 的 升级版。</p> 
<p>前面讲过：一个项目中，可以存在多个配置文件。<br> 即：配置文件之间是可以共存的！</p> 
<p>也就是说：我们可以直接在项目中传建其他的配置文件，格式可以不同！ </p> 
<p><img alt="" height="868" src="https://images2.imgbox.com/aa/80/LlWijuEB_o.png" width="1024"></p> 
<p> 下面我们看看，对配置文件进行设置之后，会有什么效果</p> 
<h3 id="1%E3%80%81application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA" style="margin-left:0;"><span style="color:#4f4f4f;"><span style="background-color:#ffffff;">1、application.properties 配置文件 - 效果演示</span></span></h3> 
<blockquote> 
 <p style="margin-left:0;"><span style="color:#555666;">我们先来回顾一下：上篇文章中，关于启动项目，验证项目是否能正常运行的代码。【输出一个 hello world】</span></p> 
 <p style="margin-left:0;"><img alt="" height="1200" src="https://images2.imgbox.com/7e/a7/Q2ix2wje_o.png" width="1200"></p> 
 <p> 而此时！不同的是：我们将 Tomcat 的服务器的端口修改了。<br> 改成 8081 了。【在演示配置文件可修改的时候，做出的修改。】</p> 
 <p><img alt="" height="78" src="https://images2.imgbox.com/84/cd/5W96yahH_o.png" width="374"></p> 
 <p> 下面，我们就来尝试一下：<br> 1、继续使用8080端口号，是否能访问到 sayHi 方法。<br> 2、使用 8081 端口号，是否能访问到 sayHi 方法。</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/4e/7a/jLFOCadz_o.png" width="1200"></p> 
 <p>但是！请注意！<br> 配置文件的名称是固定的，是认死了的！<br> 这就是我们接下来要展示的第二个约定：配置文件名，只能是 application！<br><strong>如果改成其它的名称。配置文件的内容，将不再生效。</strong></p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/10/38/JBqyuoWJ_o.png" width="1200"></p> 
</blockquote> 
<h3 id="2%E3%80%81application.yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%20-%20%E6%95%88%E6%9E%9C%E6%BC%94%E7%A4%BA">2、application.yml 配置文件 - 效果演示</h3> 
<blockquote>
  虽然，applications.properties 配置失效了。 
 <br> 但是！我们还有一个 application.yml 的配置文件。 
 <br> 它也是可以进行设置的。 
 <br> 
 <img alt="" height="1200" src="https://images2.imgbox.com/31/4c/fLzFieGT_o.png" width="1200"> 
</blockquote> 
<blockquote>
  同时也体现出了 配置文件之间是可以共存的。 
 <br> applications.properties 配置文件失效了，但是 application.yml 有效。 
 <br>   
 <br> 此时，我们来 搞事情！ 
 <br> 将 applications.properties 配置文件，改回去。 
 <br> applications &gt;&gt; application。  
 <img alt="" height="309" src="https://images2.imgbox.com/26/14/tbSWTFdG_o.png" width="1200">现在，我们来运行一下程序，看看它执行的是哪个配置文件。 
 <img alt="" height="933" src="https://images2.imgbox.com/42/7b/RCMuzNyg_o.png" width="1200"> 
</blockquote> 
<p> 这里，讲一个规则：</p> 
<p>1、一个项目中可以存在两种格式的配置文件（properties 和 yml），但是不建议一个项目中出现两种格式的配置文件。</p> 
<p>因为：如果两者混用，需要要求 程序员 对 这两种格式的配置文件，都了解。<br> 这样会提高整个公司里的开发人员的门槛，<br> 如果程序员只了解这两个格式的配置文件中的一个格式（比如 yml），他就想不通！<br> 为什么我的 yml 格式的配置文件不生效？<br> 这样会拖慢开发的速度。<br> 同时也增加了 维护的难度。<br>  <br> 如果一个项目里，统一使用一种格式的配置文件，就不会出现这样的问题！<br> 就算有问题，也不用考虑 ：是否是 存在 两种格式的配置文件原因。<br> 而且，方便查看 和 维护。<br>  <br> 举个例子：<br> 这个跟 开 奶茶店一样，同一个品牌的奶茶。<br> 它们的员工服装，店面装修的特色，都是统一。<br> 有的朋友，甚至不用看 店的招牌，看到员工的服装 和 店面的装修，就知道了这家是那个品牌。<br> Idrink，荧光绿，CoCo（都可） 层黄，一点点：墨绿 + 白色。。。。。<br> 像这种“统一”的特色，让我们对它印象非常深刻。更容易识别。</p> 
<p>2、当一个项目的某个配置，出现在两种格式的配置文件中时，那么配置项会以properties 为主（忽略 yml 中的配置）。 </p> 
<h3 id="%C2%A0%E4%B8%BA%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E5%AE%89%E8%A3%85%E6%8F%90%E7%A4%BA%E6%8F%92%E4%BB%B6%20-%20%E7%A4%BE%E5%8C%BA%E7%89%88%20idea"> 为配置⽂件安装提示插件 - 社区版 idea</h3> 
<p>IDEA 社区版安装 Spring Assistant 插件之后，就可以正常创建 Spring Boot 项⽬了，并且 yml 的配置⽂件就有提示了。<br> 但默认情况下是不⽀持 properties 格式的⽇志提示的，这个时候需要安装了 Spring Tools 插件才会有相应的提示。 <img alt="" height="242" src="https://images2.imgbox.com/09/e4/HranIEZf_o.png" width="1200"></p> 
<h3 id="%C2%A0application.properties%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"> application.properties 配置文件说明</h3> 
<p> application properties 配置文件是最早期的配置文件格式，也是创建 Spring Boot 项目的默认的配置文件。</p> 
<p>这一点，在我们创建好 Spring Boot 项目的时候，就已经体现出来了。<br> 因为 application.properties 配置文件，是项目创建好之后，就自带了的。</p> 
<h3 id="properties%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">properties 基本语法</h3> 
<p>properties 是以 键值 的形式配置的，key 和 value 之间是以 “=” 连接的。<br> 如：<img alt="" height="356" src="https://images2.imgbox.com/f7/b0/TRLkbLMJ_o.png" width="1104"></p> 
<p> 而且！在填写完后面的 value 值 之后，也不能加上一个空格。会出事！！！<br> 比如：设置端口号：</p> 
<p><img alt="" height="267" src="https://images2.imgbox.com/ea/a0/XKr9q7Bs_o.png" width="773"></p> 
<p> 另外，我们还可以自定义键值对。【上面的是系统级别的配置】</p> 
<p><img alt="" height="307" src="https://images2.imgbox.com/3e/ed/W1LedNVo_o.png" width="544"></p> 
<p> 这里还存在一个问题：<br> 当设置好了之后，重新启动idea 打开配置文件的时候，这里的 注释的中文，会变成乱码。</p> 
<p><img alt="" height="398" src="https://images2.imgbox.com/d5/21/FS7Dwcsq_o.png" width="524"></p> 
<p> 这是因为 application.properties 是属于早期的配置文件，而早期的 配置文件是不支持中文的。<br> 而 yml 是天生就支持中文的（utf8）。<br> 要想 application.properties 支持中文，需要进行配置。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/87/29/UPJUEvtj_o.png" width="1200"></p> 
<p> 还没完，上述操作只是针对当前项目。<br> 那么，新项目呢？当然也需要配置！</p> 
<p><img alt="" height="753" src="https://images2.imgbox.com/05/65/PWu78RWX_o.png" width="1200"></p> 
<p></p> 
<p>如果还是乱码！<br> 将原来的 application.properties 配置文件删除掉，重新创建一个 application.properties。<br> 因为之前的配置文件已经是不支持中文编码的文件格式化。而设置的编码集，只是作用于 后面新创建的文件。<br> 所以，删掉，重新创建一个，是最有效的方法。</p> 
<p>后面，就不用我们去设置了。<br> 因为我们已经针对新建项目，进行设置了。 </p> 
<hr> 
<h4 id="%E6%9F%A5%E7%9C%8B%E6%9B%B4%E5%A4%9A%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E9%A1%B9%20-%20properties">查看更多系统配置项 - properties</h4> 
<p>想要查看 Spring Boot 更多系统配置项，访问官⽹：<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties" rel="nofollow" title="Common Application Properties (spring.io)">Common Application Properties (spring.io)</a> </p> 
<p><img alt="" height="673" src="https://images2.imgbox.com/7c/ce/9pztiIrh_o.png" width="1200"></p> 
<p>不要求全部记下来，用的时候去查一下，就行了。</p> 
<h4 id="%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20propertices">读取配置⽂件 - propertices</h4> 
<p>到了 Spring Boot 时代，几乎所有的功能，都可以通过 注解来搞定。<br> 读取配置文件也是一样的，<br> 可以使⽤ @Value 注解来实现。<br> @Value 注解使⽤“<strong>${}</strong>”的格式读取.</p> 
<p>书写的格式 和 属性注入 是一样的。<br> 创建一个变量，使用 @Value 注解，将对应的配置信息 通过 类似于 属性注入的方式，来获取。<br> @Value 注解 通过会搭配参数（“${server.port}”）使用。<br> 里面的参数，就是获取配置信息 “键”。【注入的就是对应的 value值】 </p> 
<p><img alt="" height="274" src="https://images2.imgbox.com/8d/1e/zQzVxGCj_o.png" width="511"></p> 
<p> 我们来启动项目，看看效果。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f9/bc/FZrUF2xj_o.png" width="1200"></p> 
<p> 通过上述方法，就可以获取到 application.properties 配资文件中的信息。<br> 那 application.yml 呢？？</p> 
<hr> 
<h5 id="properties%20%E6%A0%BC%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%20%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90">properties 格式配置文件的 缺点分析</h5> 
<p><img alt="" height="474" src="https://images2.imgbox.com/8f/ac/kR2YSHKF_o.png" width="1200"></p> 
<p> 想要解决这个问题，就可以使⽤ yml 配置⽂件的格式化了。<br> 下面，我门先来熟悉一下 yml ，</p> 
<h3 id="application.yml%20%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%E8%AF%B4%E6%98%8E">application.yml 配置⽂件说明</h3> 
<p>yml 是 YAML 是缩写，它的全称 Yet Another Markup Language 翻译成中⽂就是“另⼀种标记语⾔”。<br>  <br> yml 是⼀个可读性⾼，易于理解，⽤来表达<strong>数据序列化</strong>的格式。它的语法和其他⾼级语⾔类似（与 json 格式类似，键值对之间使用冒号+空格，进行分隔），并且可以简单表达清单（数组）、散列表，对象，标量，布尔，int等数据形态，甚至连 null 都可以设置！！！<br>  <br> 它使⽤空⽩符号缩进和⼤量依赖外观的特⾊，特别适合⽤来表达或编辑数据结构、各种配置⽂件等。<br>  <br> yml 最⼤的优势是可以<strong>跨语⾔</strong>，不⽌是 Java 中可以使⽤。<br> golang、python 都可以使⽤ yml 作为配置⽂件。</p> 
<p>大厂一般都是分公司，每个子公司的技术中心都是不同（使用的技术不同）。<br> 就是说：每个公司 主要使用的 语言 和 框架，都是由它们自己决定的。<br> 比如：<br> 字节跳动，主要是使用 go 语言，但是并不代表 其它语言 就不使用了。<br> 有的部分可能使用是 java，有的可能 Pyhton。<br> 此时，配置文件的跨语言性，就非常重要！<br> 想象一下：<br> 我们的这些语言，不管你使用的是哪种语言。<br> 我们在进行读取数据的时候，数据都是共享的。<br>  <br> 试想一下：<br> 字节跳动产品有很多，但是它们的用户是互通的。<br> 这么说吧：<br> 假设：<br> 我们用手机号 在 今日头条 上注册了一个账号。<br> 那么，在抖音，西瓜视频，等等。。字节跳动的产品中，账号信息是互通的。</p> 
<p>再来假设一下：<br> 今日头条是go做的，抖音是Java做的，西瓜视频是Python，而用户的数据只有一份。<br> 想象也能明白：<br> 都是一个平台的产品，用户数据共用一份不好吗？<br> 也就是说：这些产品连接的数据库，都是一样的。<br> 那么，数据库这里的连接，都是由谁搞的呢？<br> 由运维去搞的。<br>  <br> 那好，如果它使用的都是一套配置文件。<br> 那么，运维只需要撘一个 在线的配置文件。<br> 一般公司项目的配置文件，都不会存储在本地的。<br> 因为，存储在本地，就会存在 配置文件 泄露的问题。<br> 大家都是使用的配置中心，这个配置中心会将 所有的配置文件，都配置到自身内部的某一个包底下。<br> 然后，这些项目可以直接去连接 远程在线的 配置中心，将配置文件拉取到 本地。<br> 这样就会有一个好处：<br> 即使 服务器被人攻占了， 项目的jar包 被人偷走，但是 jar 包 里面没有 本地的配置信息的。即使拿到了 jar 包，也是运行不了的。<br>  <br> 回过头来，此时，也就是说：<br> 一个大公司，它使用的语言不止一种的。<br> 这时候，有一套 跨语言的配置文件，是非常重要的！<br> 因为有了 这个跨语言的配置文件后，就可以让不同的开发者（Java，Go，Python。。。），都可以通过使用这份配置文件，去连接数据库了。<br> 不用再去为每一种语言，都去设置一个配置文件。<br> 因为我一份配置文件，其它语言都可以使用。</p> 
<p>总结下来， yml 配置文件一共有三个优点：<br> 1、写法简单<br> 2、支持多种数据类型<br> 3、支持跨语言</p> 
<p>上述这三个优点，都是 properties 配置文件所不具备的。 </p> 
<hr> 
<h4 id="yml%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">yml 基本语法</h4> 
<p>yml 是树形结构的配置⽂件，它的基础语法是“key: value”，注意 key 和 value 之间使⽤英⽂冒号加空格的⽅式组成的，其中的空格不可省略。</p> 
<h5 id="yml%E7%9A%84%E4%BC%98%E7%82%B9%EF%BC%9A%E8%A7%A3%E5%86%B3%20properties%E7%9A%84%E7%BC%BA%E7%82%B9%E9%97%AE%E9%A2%98%EF%BC%88%E4%BB%A3%E7%A0%81%E5%86%97%E4%BD%99%E5%BA%A6%E9%AB%98%EF%BC%89">yml的优点：解决 properties的缺点问题（代码冗余度高）</h5> 
<p><img alt="" height="462" src="https://images2.imgbox.com/19/95/RzGW362k_o.png" width="1200">​​​​​​​</p> 
<h4 id="yml%20%E4%BD%BF%E2%BD%A4%E8%BF%9B%E9%98%B6%EF%BC%9Ayml%20%E9%85%8D%E7%BD%AE%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%20null">yml 使⽤进阶：yml 配置不同数据类型及 null</h4> 
<pre><code class="hljs"># 字符串
string.value: Hello
# 布尔值，true或false
boolean.value: true
boolean.value1: false
# 整数
int.value: 10
int.value1: 0b1010_0111_0100_1010_1110 # ⼆进制
# 浮点数
float.value: 3.14159
float.value1: 314159e-5 # 科学计数法
# Null，~代表null
null.value: ~
</code></pre> 
<p> </p> 
<h4 id="%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E2%BD%82%E4%BB%B6%20-%20yml">读取配置⽂件 - yml</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/ce/69/K9qlnpG8_o.png" width="1200"></p> 
<h4 id="%E6%8B%93%E5%B1%95%EF%BC%9A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">拓展：注意事项</h4> 
<h5 id="value%20%E5%80%BC%E5%8A%A0%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%20-%20yml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%EF%BC%8C%E5%85%B3%E4%BA%8E%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82"><a id="value____yml_336"></a>value 值加单双引号 - yml配置文件中，关于数据的单双引号的问题。</h5> 
<p>由此，不难得出结论：<br> 在 yml 中，如果使用了 双引号就会按照原语义执行。<br> 如果不加 单，双引号，或者加了 单引号，那么默认会将字符串中的 特殊字符 进行转义。<br> 比如： \n -&gt; \ \n</p> 
<p>关于 单双引号的用法，请根据实际情况来选择使用。<br> 如果你想所见即所得，就直接不加 单，双引号，即可。 </p> 
<p><img alt="" height="85" src="https://images2.imgbox.com/73/13/xFnNd9nM_o.png" width="614"></p> 
<p> 如果你想按照原语义执行，得到其运行的结果。<br> 使用 双引号 包裹起来即可。</p> 
<p><img alt="" height="129" src="https://images2.imgbox.com/79/29/r2k3AaG0_o.png" width="606"></p> 
<h4 id="%C2%A0%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"> 配置对象 - yml 配置文件</h4> 
<p>前面不是提到过 yml 支持 更丰富的 数据类型嘛。<br> 现在我们就来讲这个。</p> 
<p><img alt="" height="367" src="https://images2.imgbox.com/7e/03/Y9iMkvtS_o.png" width="476"></p> 
<h4 id="%C2%A0%E8%AF%BB%E5%8F%96%E5%AF%B9%E8%B1%A1%20-%20yml%20%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1"> 读取对象 - yml 配置对象</h4> 
<p style="margin-left:0;"><span style="color:#555666;"><span style="color:#FF0000;">有的人脑子转的比较快，马上就想到了 “解决方法”。</span></span></p> 
<blockquote> 
 <p style="margin-left:0;"><span style="color:#555666;">直接去创建一个 相应的对象，然后使用 @Value 注解 进行 “属性注入”，不就行了嘛！<br> 我们来试试。</span><img alt="" height="1200" src="https://images2.imgbox.com/0a/3a/O6sAJ48B_o.png" width="1200"></p> 
 <p> </p> 
 <p> 下面我们来分析一下错误原因 error</p> 
 <p><img alt="" height="826" src="https://images2.imgbox.com/50/cc/vx0wIdfi_o.png" width="1200"></p> 
 <p> 这是因为：想要 获取 配置文件中的 对象 所使用的注解，不是 @Vlaue注解。<br> 而是，通过给 Student类 添加一个<strong>@ConfigurationProperties</strong> 注解， 来读取 配置文件中的对象。<br> 并且设置一个 属性(选项)值 <strong>prefix = “student”</strong></p> 
 <p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/24/06/6vt4GLNo_o.png"></p> 
 <p> 读李四的数据，只要将 @ConfigurationProperties的 prefix 属性值修改一下就可以了。【重新弄一个新的，也行】<img alt="" height="1079" src="https://images2.imgbox.com/80/52/J3b2yJL0_o.png" width="1200"></p> 
 <p> </p> 
</blockquote> 
<h5 id="%E9%85%8D%E7%BD%AE%E9%9B%86%E5%90%88%20-%20yml">配置集合 - yml</h5> 
<p><img alt="" height="453" src="https://images2.imgbox.com/fb/37/WvJ1kzNi_o.png" width="989"></p> 
<p><strong> 读取集合 - yml</strong></p> 
<p>集合的读取和对象⼀样，也是使⽤ @ConfigurationProperties 来读取的，具体实现如下：</p> 
<p><img alt="" height="1199" src="https://images2.imgbox.com/3f/7a/qCTelonV_o.png" width="1200"></p> 
<h2 id="%C2%A0Properties%20VS%20yml%20%E6%80%BB%E7%BB%93"> Properties VS yml 总结</h2> 
<p> 1、properties 是以 key=value 的形式配置的键值类型的配置⽂件.<br> ⽽ yml 使⽤的是类似 json 格式的树形配置⽅式进⾏配置的.<br> yml 层级之间使⽤换⾏缩进的⽅式配置，key 和 value 之间使⽤“: ”（英⽂）冒号加空格的⽅式设置，并且空格不可省略。<br>  <br> 2、properties 为早期并且默认的配置⽂件格式，但其配置存在⼀定的冗余数据，使⽤ yml 可以很好的解决数据冗余的问题。<br>  <br> 3、yml 通⽤性更好，⽀持更多语⾔，如 Java、Go、Python 等，如果是云服务器开发，可以使⽤⼀份配置⽂件作为 Java 和 Go 的共同配置⽂件。<br>  <br> 4、yml 虽然可以和 properties 共存，但⼀个项⽬中建议使⽤统⼀的配置类型⽂件。 </p> 
<h2 id="%E6%8B%93%E5%B1%95%EF%BC%9ASpring%20Boot%20%E6%9C%89%E5%87%A0%E7%A7%8D%E8%AF%BB%E5%8F%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9F">拓展：Spring Boot 有几种读取配置文件的方法？</h2> 
<p style="margin-left:0;"><span style="color:#555666;">Spring Boot 中 读取配置文件有以下 5 种方法：</span></p> 
<blockquote> 
 <p style="margin-left:0;"><span style="color:#555666;"><span style="color:#FF0000;">1、使用 @Value 注解 读取配置文件（仅限单个信息，集合和对象除外）<br> 2、使用 @ConfigurationProperties 注解 来读取配置文件。<br> 3、使用 Environment 读取配置文件</span></span></p> 
 <p style="margin-left:0;"><img alt="" height="526" src="https://images2.imgbox.com/3d/0a/BAMmHabi_o.png" width="960"></p> 
 <p> 4、使用 @PropertySource 读取配置文件（可能会用到）<img alt="" height="539" src="https://images2.imgbox.com/78/95/J0V2zXCu_o.png" width="941"></p> 
 <p> 5、使用原生方式读取配置文件<img alt="" height="649" src="https://images2.imgbox.com/6d/93/4FvpIC6a_o.png" width="838"></p> 
 <p>前2种，可以解决 读取配置配置文件的 90% 的问题。<br> 其余三种，知道有这么个东西就行。 </p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c26e9de7f8ed5182ee6c6330868dc88d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kibana的对索引库的操作(1)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb394d205113e018becdbcc1c9774a24/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">企业微信 Java 开发包 WECOM-SDK 1.1.1 发布</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>