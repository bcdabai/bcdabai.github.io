<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>RSTP 详细 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="RSTP 详细" />
<meta property="og:description" content="RSTP与STP的不同
增加端口角色：AP和BP
减少端口状态为Discardinglearningforwarding
充分利用BPDU中的Flag字段
对BPDU的处理方式发生了改变
提高收敛速度
增加了保护功能
RSTP和STP消除环路的思想保持一致，RSTP具备了STP的所有功能，支持RSTP的网桥可以和支持STP的网桥一同运行。
RSTP的端口角色共有4种：根端口、指定端口、Alternate端口和Backup端口。
根端口和指定端口的作用同STP协议中定义，Alternate端口和Backup端口的描述如下：
从配置BPDU报文发送角度来看：
Alternate端口就是由于学习到其它网桥发送的更优配置BPDU报文而阻塞的端口。
Backup端口就是由于学习到自己发送的更优配置BPDU报文而阻塞的端口。
从用户流量角度来看：
Alternate端口提供了从指定桥到根的另一条可切换路径，作为根端口的备份端口。
Backup端口作为指定端口的备份，提供了另一条从根桥到相应网段的备份通路。
给一个RSTP域内所有端口分配角色的过程就是整个拓扑收敛的过程。
RSTP端口状态
Forwarding
Learning
discarding
STP端口状态
RSTP端口状态
发送配置BPDU
MAC地址学习
转发数据
Disable
Discarding
否
否
否
Blocking
Discarding
否
否
否
Listening
Discarding
是
否
否
Learning
Learning
是
是
否
Forwarding
Forwarding
是
是
是
RSTP的状态规范把原来的5种状态缩减为3种。根据端口是否转发用户流量和学习MAC地址来划分:
如果不转发用户流量也不学习MAC地址，那么端口状态就是Discarding状态。
如果不转发用户流量但是学习MAC地址，那么端口状态就是Learning状态。
如果既转发用户流量又学习MAC地址，那么端口状态就是Forwarding状态。
RSTP计算过程：
端口在Discarding状态下完成端口角色的确定：
当端口角色确定为根端口和指定端口后，经过forwardingdelay后，端口进入Learning状态，处于Learning状态的端口其处理方式和STP相同，此期间端口开始学习MAC地址并在Forwardingdelay后进入Forwarding状态，开始转发数据。实际上，RSTP会通过其他方式加快这个过程。
当端口角色确定为Alternate端口后，端口会维持在Discarding状态。
RSTP对STP的BPDU改动
充分利用STP中BPDU的Flag，明确端口角色
Type字段为2
Flag字段使用了之前的保留位，更改后的配置BPDU更名为RST BPDU
配置BPDU格式的改变，充分利用了STP协议报文中的Flag字段，明确了端口角色。在配置BPDU报文的格式上，除了保证和STP格式基本一致之外，RSTP作了一些小变化：
Type字段，配置BPDU类型不再是0而是2，所以运行STP的设备收到RSTP的配置BPDU时会丢弃。
Flags字段，使用了原来保留的中间6位，这样改变的配置BPDU叫做RSTBPDU。
RSTP中BPDU的Flag字段解释：
第0位为TC标志位，和STP相同。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f2657efc3b44be1e5944a5647b1e3073/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-11-03T21:52:11+08:00" />
<meta property="article:modified_time" content="2017-11-03T21:52:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">RSTP 详细</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="artical-content-bak main-content editor-side-new"> 
 <div class="con editor-preview-side" id="result"> 
  <p style="font-size:15px;font-family:'微软雅黑';">RSTP与STP的不同</p> 
  <ol style="font-size:15px;font-family:'微软雅黑';font-weight:normal;font-style:normal;margin-left:.375in;" class="list-paddingleft-2" type="1"><li><p><span style="font-size:15px;font-family:'微软雅黑';font-weight:normal;font-style:normal;">增加端口角色：</span><span style="font-size:15px;font-family:Calibri;font-weight:normal;font-style:normal;">AP和BP</span></p></li><li><p><span style="font-size:15px;font-family:'微软雅黑';">减少端口状态为</span><span style="font-size:15px;font-family:Calibri;">Discarding</span><span style="font-size:15px;font-family:'微软雅黑';">learningforwarding</span></p></li><li><p><span style="font-size:15px;font-family:'微软雅黑';">充分利用</span><span style="font-size:15px;font-family:'微软雅黑';">BPDU</span><span style="font-size:15px;font-family:'微软雅黑';">中的</span><span style="font-size:15px;font-family:'微软雅黑';">Flag</span><span style="font-size:15px;font-family:'微软雅黑';">字段</span></p></li><li><p><span style="font-size:15px;font-family:'微软雅黑';">对</span><span style="font-size:15px;font-family:'微软雅黑';">BPDU</span><span style="font-size:15px;font-family:'微软雅黑';">的处理方式发生了改变</span></p></li><li><p><span style="font-size:15px;font-family:'微软雅黑';">提高收敛速度</span></p></li><li><p><span style="font-size:15px;font-family:'微软雅黑';">增加了保护功能</span></p></li></ol> 
  <p style="font-size:15px;"><span style="font-family:Calibri;"><span style="font-family:Calibri;">       </span></span><span style="font-family:'微软雅黑';">RSTP</span><span style="font-family:'微软雅黑';">和</span><span style="font-family:'微软雅黑';">STP</span><span style="font-family:'微软雅黑';">消除环路的思想保持一致，</span><span style="font-family:'微软雅黑';">RSTP</span><span style="font-family:'微软雅黑';">具备了</span><span style="font-family:'微软雅黑';">STP</span><span style="font-family:'微软雅黑';">的所有功能，支持</span><span style="font-family:'微软雅黑';">RSTP</span><span style="font-family:'微软雅黑';">的网桥可以和支持</span><span style="font-family:'微软雅黑';">STP</span><span style="font-family:'微软雅黑';">的网桥一同运行。</span></p> 
  <p style="font-size:15px;"> <a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78ZuznDLu14" rel="nofollow"><img src="https://images2.imgbox.com/22/49/fTrFsMEe_o.gif" alt="RSTP（上）" title="RSTP（上）"></a></p> 
  <p> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP的端口角色共有4种：<span style="background:#FFFF00;">根端口、指定端口、</span><span style="background:#FFFF00;">Alternate</span><span style="background:#FFFF00;">端口和</span><span style="background:#FFFF00;">Backup</span><span style="background:#FFFF00;">端口</span>。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';">根端口和指定端口的作用同STP协议中定义，Alternate端口和Backup端口的描述如下：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">从配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">报文发送角度来看：</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口就是由于</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">学习到其它网桥发送的更优配置</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">报文</span><span style="font-size:16px;font-family:'微软雅黑';">而阻塞的端口。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Backup</span><span style="font-size:16px;font-family:'微软雅黑';">端口就是由于</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">学习到自己发送的更优配置</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">报文</span><span style="font-size:16px;font-family:'微软雅黑';">而阻塞的端口。</span></p></li></ul></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">从用户流量角度来看：</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口提供了从指定桥到根的另一条可切换路径，作为</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">根端口的备份端口</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Backup</span><span style="font-size:16px;font-family:'微软雅黑';">端口</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">作为指定端口的备份</span><span style="font-size:16px;font-family:'微软雅黑';">，提供了另一条从根桥到相应网段的备份通路。</span></p></li></ul></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">给一个RSTP域内所有端口分配角色的过程就是整个拓扑收敛的过程。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';"><span style="font-weight:bold;">RSTP</span><span style="font-weight:bold;">端口状态</span></p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Learning</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">discarding</span></p></li></ul> 
  <table cellspacing="0" cellpadding="0"><tbody><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">STP端口状态</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">RSTP端口状态</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">发送配置BPDU</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">MAC地址学习</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">转发数据</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">Disable</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';text-align:center;">Discarding</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Blocking</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Discarding</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Listening</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Discarding</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Learning</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Learning</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';">否</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Forwarding</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">Forwarding</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="1"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="0"><p style="font-size:16px;font-family:'微软雅黑';">是</p></td></tr></tbody></table> 
  <p> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP的状态规范把原来的5种状态缩减为3种。根据端口是否转发用户流量和学习MAC地址来划分:</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">如果不转发用户流量也不学习</span><span style="font-size:16px;font-family:'微软雅黑';">MAC</span><span style="font-size:16px;font-family:'微软雅黑';">地址，那么端口状态就是</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">如果不转发用户流量但是学习</span><span style="font-size:16px;font-family:'微软雅黑';">MAC</span><span style="font-size:16px;font-family:'微软雅黑';">地址，那么端口状态就是</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">如果既转发用户流量又学习</span><span style="font-size:16px;font-family:'微软雅黑';">MAC</span><span style="font-size:16px;font-family:'微软雅黑';">地址，那么端口状态就是</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP计算过程：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">端口在</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态下完成端口角色的确定：</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">当端口角色确定为根端口和指定端口后，经过</span><span style="font-size:16px;font-family:'微软雅黑';">forwardingdelay</span><span style="font-size:16px;font-family:'微软雅黑';">后，端口进入</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">状态，处于</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">状态的端口其处理方式和</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">相同，此期间端口开始学习</span><span style="font-size:16px;font-family:'微软雅黑';">MAC</span><span style="font-size:16px;font-family:'微软雅黑';">地址并在</span><span style="font-size:16px;font-family:'微软雅黑';">Forwardingdelay</span><span style="font-size:16px;font-family:'微软雅黑';">后进入</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态，开始转发数据。实际上，</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">会通过其他方式加快这个过程。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">当端口角色确定为</span><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口后，端口会维持在</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li></ul></li></ul> 
  <p style="vertical-align:middle;"> </p> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP对STP的BPDU改动</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">充分利用</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">中</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">的</span><span style="font-size:16px;font-family:'微软雅黑';">Flag</span><span style="font-size:16px;font-family:'微软雅黑';">，明确端口角色</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Type</span><span style="font-size:16px;font-family:'微软雅黑';">字段为</span><span style="font-size:16px;font-family:'微软雅黑';">2</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Flag</span><span style="font-size:16px;font-family:'微软雅黑';">字段使用了之前的保留位，更改后的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">更名为</span><span style="font-size:16px;font-family:'微软雅黑';">RST BPDU</span></p></li></ul> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78ZuPA9qD27" rel="nofollow"><img src="https://images2.imgbox.com/33/de/UphjYKjR_o.gif" alt="RSTP（上）" title="RSTP（上）" width="690" height="245"></a><br><br> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">配置BPDU格式的改变，充分利用了STP协议报文中的Flag字段，明确了端口角色。在配置BPDU报文的格式上，除了保证和STP格式基本一致之外，RSTP作了一些小变化：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">Type</span><span style="font-size:16px;font-family:'微软雅黑';">字段，</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">配置</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">类型不再是</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">0</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">而是</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">2</span><span style="font-size:16px;font-family:'微软雅黑';">，所以运行</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">的设备收到</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">时会丢弃。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Flags</span><span style="font-size:16px;font-family:'微软雅黑';">字段，使用了原来保留的中间</span><span style="font-size:16px;font-family:'微软雅黑';">6</span><span style="font-size:16px;font-family:'微软雅黑';">位，这样改变的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">叫做</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP中BPDU的Flag字段解释：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">0</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">TC</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，和</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">相同。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">1</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，该位置位表示该</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">为快速收敛机制中的</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">报文。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">2</span><span style="font-size:16px;font-family:'微软雅黑';">位和第</span><span style="font-size:16px;font-family:'微软雅黑';">3</span><span style="font-size:16px;font-family:'微软雅黑';">位为端口角色标志位，</span><span style="font-size:16px;font-family:'微软雅黑';">00</span><span style="font-size:16px;font-family:'微软雅黑';">表示端口角色为未知；</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">01</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">表示端口角色为</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">或</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">Backup</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">端口；</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">10</span><span style="font-size:16px;font-family:'微软雅黑';background:#FF0000;">表示端口为根端口</span><span style="font-size:16px;font-family:'微软雅黑';">；</span><span style="font-size:16px;font-family:'微软雅黑';">11</span><span style="font-size:16px;font-family:'微软雅黑';">表示端口为指定端口。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">4</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，该位置位表示端口处于</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">5</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，该位置位表示端口处于</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">6</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，该位置位表示该</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">位快速收敛机制中的</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">报文。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">第</span><span style="font-size:16px;font-family:'微软雅黑';">7</span><span style="font-size:16px;font-family:'微软雅黑';">位为</span><span style="font-size:16px;font-family:'微软雅黑';">TCA</span><span style="font-size:16px;font-family:'微软雅黑';">标志位，和</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">相同。</span></p></li></ul> 
  <p style="vertical-align:middle;"> </p> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP中配置BPUD的处理</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">非根桥设备每隔</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTimer</span><span style="font-size:16px;font-family:'微软雅黑';">从指定端口主动发送配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">超时计时器为</span><span style="font-size:16px;font-family:'微软雅黑';">3</span><span style="font-size:16px;font-family:'微软雅黑';">个</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTimer</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">阻塞端口可以立即对收到的次级</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">进行回应</span></p></li></ul> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78ZuXMK6jef" rel="nofollow"><img src="https://images2.imgbox.com/8d/05/U27E0sRC_o.gif" alt="RSTP（上）" title="RSTP（上）" width="690" height="315"></a><br><br> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">BPDU处理发生的变化</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">拓扑稳定后，配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">报文的发送方式</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">拓扑稳定后，根桥按照</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTimer</span><span style="font-size:16px;font-family:'微软雅黑';">规定的时间间隔发送配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。其他非根桥设备在收到上游设备发送过来的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">后，才会触发发出配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，此方式使得</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">协议计算复杂且缓慢。</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">对此进行了改进，即在拓扑稳定后，无论非根桥设备是否接收到根桥传来的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">报文，非根桥设备仍然按照</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTimer</span><span style="font-size:16px;font-family:'微软雅黑';">规定的时间间隔发送配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，该行为完全由每台设备自主进行。</span></p></li></ul></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">更短的</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">超时计时</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">如果一个端口连续</span><span style="font-size:16px;font-family:'微软雅黑';">3</span><span style="font-size:16px;font-family:'微软雅黑';">个</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTime</span><span style="font-size:16px;font-family:'微软雅黑';">时间内没有收到上游设备发送过来的配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，那么该设备认为与此邻居之间的协商失败。而不像</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">那样需要先等待一个</span><span style="font-size:16px;font-family:'微软雅黑';">MaxAge</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li></ul></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">次级</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">的处理</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">当一个端口收到上游的指定桥发来的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">报文时，该端口会将自身存储的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">与收到的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">进行比较。如果该端口存储的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">的优先级高于收到的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，那么该端口会直接丢弃收到的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，立即回应自身存储的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。当上游设备收到下游设备回应的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">后，上游设备会根据收到的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">报文中相应的字段立即更新自己存储的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。由此，</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">处理次等</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">报文不再依赖于任何定时器通过超时解决拓扑收敛，从而加快了拓扑收敛</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li></ul></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">STP收敛机制</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">在</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">中，为了避免环路，端口从使能到进入转发状态需要等待默认</span><span style="font-size:16px;font-family:'微软雅黑';">30</span><span style="font-size:16px;font-family:'微软雅黑';">秒的时间，只能依靠计时器被动的收敛。如果想要缩短计时器，会引起网络的不稳定性。</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP快速收敛机制</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">边缘端口机制</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">在</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">里面，如果某一个指定端口位于整个网络的边缘，即不再与其他交换设备连接，而是直接与终端设备直连，这种端口叫做边缘端口。边缘端口不接收处理配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，不参与</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">运算，可以由</span><span style="font-size:16px;font-family:'微软雅黑';">Disable</span><span style="font-size:16px;font-family:'微软雅黑';">直接转到</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态，且不经历时延，就像在端口上将</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">禁用。但是一旦边缘端口收到配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，就丧失了边缘端口属性，成为普通</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">端口，并重新进行生成树计算，从而引起网络震荡。</span></p></li></ul></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">根端口快速切换机制</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">如果网络中一个根端口失效，那么网络中最优的</span><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口将成为根端口，进入</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。因为通过这个</span><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口连接的网段上必然有个指定端口可以通往根桥。</span></p></li></ul></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Proposal/Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">机制</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">当一个端口被选举成为指定端口之后，在</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">中，该端口至少要等待一个</span><span style="font-size:16px;font-family:'微软雅黑';">ForwardDelay</span><span style="font-size:16px;font-family:'微软雅黑';">（</span><span style="font-size:16px;font-family:'微软雅黑';">Learning</span><span style="font-size:16px;font-family:'微软雅黑';">）时间才会迁移到</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。而在</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">中，此端口会先进入</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态，再通过</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal/Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">机制快速进入</span><span style="font-size:16px;font-family:'微软雅黑';">Forward</span><span style="font-size:16px;font-family:'微软雅黑';">状态。这种机制必须在点到点全双工链路上使用。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">Proposal/Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">机制简称</span><span style="font-size:16px;font-family:'微软雅黑';">P/A</span><span style="font-size:16px;font-family:'微软雅黑';">机制。</span></p></li></ul></li></ul> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78Zv50b8Ef4" rel="nofollow"><img src="https://images2.imgbox.com/fa/b5/o4rFi8U5_o.gif" alt="RSTP（上）" title="RSTP（上）" width="690" height="331"></a><br><br> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">边缘端口机制</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">边缘端口连接的是终端，当网络拓扑发生变化时，边缘端口不会发生环路，所以边缘端口可以忽略两个</span><span style="font-size:16px;font-family:'微软雅黑';">ForwardingDelay</span><span style="font-size:16px;font-family:'微软雅黑';">，直接进入转发状态，无需任何延迟。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">边缘端口不接收处理配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，不参与</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">运算，可以由</span><span style="font-size:16px;font-family:'微软雅黑';">Disable</span><span style="font-size:16px;font-family:'微软雅黑';">直接转到</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态，且不经历时延，就像在端口上将</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">禁用。但是一旦边缘端口收到配置</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，就丧失了边缘端口属性，成为普通</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">端口，并重新进行生成树计算，从而引起网络震荡。</span></p></li></ul> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78Zv9ZZVve9" rel="nofollow"><img src="https://images2.imgbox.com/72/71/JCI8DNGd_o.gif" alt="RSTP（上）" title="RSTP（上）" width="690" height="317"></a><br><br> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';"><span style="background:#FFFF00;">根端口快速切换机制</span></p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">在</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">中，</span><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口为根端口的备份。当该网桥的根端口失效进入阻塞状态时，网桥会选择优先级最高的</span><span style="font-size:16px;font-family:'微软雅黑';">Alternate</span><span style="font-size:16px;font-family:'微软雅黑';">端口作为新的根端口，如果网桥对端设备指定端口依然为转发状态，则该网桥的新根端口直接进入</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li></ul> 
  <p style="vertical-align:middle;"> </p> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">P/A机制</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">是指定端口快速进入转发状态</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">工作模式为点对点的全双工模式</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">包括</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">和</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">报文</span></p></li></ul> 
  <p style="vertical-align:middle;"><span style="font-size:16px;font-family:'微软雅黑';"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78Zvgq1h7b9" rel="nofollow"><img src="https://images2.imgbox.com/4b/36/BWx7VB7Q_o.gif" alt="RSTP（上）" title="RSTP（上）"></a><br><br> </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';">P/A机制</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">Proposal/Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">机制，</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">其目的是使一个指定端口尽快进入</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">P/A</span><span style="font-size:16px;font-family:'微软雅黑';">机制要求两台交换设备之间链路必须是</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">点对点的全双工模式</span><span style="font-size:16px;font-family:'微软雅黑';">。一旦</span><span style="font-size:16px;font-family:'微软雅黑';">P/A</span><span style="font-size:16px;font-family:'微软雅黑';">协商不成功，指定端口的选择就需要等待两个</span><span style="font-size:16px;font-family:'微软雅黑';">ForwardDelay</span><span style="font-size:16px;font-family:'微软雅黑';">，协商过程与</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">一样。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">新链路连接成功后，</span><span style="font-size:16px;font-family:'微软雅黑';">P/A</span><span style="font-size:16px;font-family:'微软雅黑';">机制协商过程如下</span></p></li><li><p><br></p> 
    <ul style="list-style-type:square;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">p0</span><span style="font-size:16px;font-family:'微软雅黑';">和</span><span style="font-size:16px;font-family:'微软雅黑';">p1</span><span style="font-size:16px;font-family:'微软雅黑';">两个端口马上都先成为指定端口，发送</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">的</span><span style="font-size:16px;font-family:'微软雅黑';">p1</span><span style="font-size:16px;font-family:'微软雅黑';">口收到更优的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，马上意识到自己将成为根端口，而不是指定端口，停止发送</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">的</span><span style="font-size:16px;font-family:'微软雅黑';">p0</span><span style="font-size:16px;font-family:'微软雅黑';">进入</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态，于是发送的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">中把</span><span style="font-size:16px;font-family:'微软雅黑';">proposal</span><span style="font-size:16px;font-family:'微软雅黑';">置</span><span style="font-size:16px;font-family:'微软雅黑';">1</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">收到根桥发送来的携带</span><span style="font-size:16px;font-family:'微软雅黑';">proposal</span><span style="font-size:16px;font-family:'微软雅黑';">的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，开始将自己的所有端口进入</span><span style="font-size:16px;font-family:'微软雅黑';">sync</span><span style="font-size:16px;font-family:'微软雅黑';">变量置位。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">p2</span><span style="font-size:16px;font-family:'微软雅黑';">已经阻塞，状态不变；</span><span style="font-size:16px;font-family:'微软雅黑';">p4</span><span style="font-size:16px;font-family:'微软雅黑';">是边缘端口，不参与运算；所以只需要阻塞非边缘指定端口</span><span style="font-size:16px;font-family:'微软雅黑';">p3</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">p2</span><span style="font-size:16px;font-family:'微软雅黑';">、</span><span style="font-size:16px;font-family:'微软雅黑';">p3</span><span style="font-size:16px;font-family:'微软雅黑';">、</span><span style="font-size:16px;font-family:'微软雅黑';">p4</span><span style="font-size:16px;font-family:'微软雅黑';">都进入</span><span style="font-size:16px;font-family:'微软雅黑';">Discarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态之后，各端口的</span><span style="font-size:16px;font-family:'微软雅黑';">synced</span><span style="font-size:16px;font-family:'微软雅黑';">变量置位，根端口</span><span style="font-size:16px;font-family:'微软雅黑';">p1</span><span style="font-size:16px;font-family:'微软雅黑';">的</span><span style="font-size:16px;font-family:'微软雅黑';">synced</span><span style="font-size:16px;font-family:'微软雅黑';">也置位，于是便向</span><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">返回</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">位置位的回应</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。该</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">携带和刚才根桥发过来的</span><span style="font-size:16px;font-family:'微软雅黑';">BPDU</span><span style="font-size:16px;font-family:'微软雅黑';">一样的信息，除了</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">位置位之外（</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">位清零）。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">当</span><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">判断出这是对刚刚发出的</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">的回应，于是端口</span><span style="font-size:16px;font-family:'微软雅黑';">p0</span><span style="font-size:16px;font-family:'微软雅黑';">马上进入</span><span style="font-size:16px;font-family:'微软雅黑';">Forwarding</span><span style="font-size:16px;font-family:'微软雅黑';">状态。</span></p></li></ul></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';"><span style="font-weight:bold;">P/A</span><span style="font-weight:bold;">过程可以向下游继续传递  </span></p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> <a href="http://photo.blog.sina.com.cn/showpic.html#blogid=c079d59e0102wham&amp;url=http://album.sina.com.cn/pic/003wxr2uzy78ZvxNI0jab" rel="nofollow"><img src="https://images2.imgbox.com/c0/fd/wK6yTVRL_o.gif" alt="RSTP（上）" title="RSTP（上）" width="690" height="404"></a><br><br> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">P/A过程可以向下游继续传递。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';">当S1和S2之间新增了一条链路后，P/A机制工作如下：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">通过端口</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">发送</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">置位的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">消息给</span><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">收到该消息后，意识到</span><span style="font-size:16px;font-family:'微软雅黑';">E2</span><span style="font-size:16px;font-family:'微软雅黑';">为根端口，启用同步机制阻塞指定端口</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">和</span><span style="font-size:16px;font-family:'微软雅黑';">E3</span><span style="font-size:16px;font-family:'微软雅黑';">以避免产生环路，然后将根端口设置为转发状态，并向</span><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">发送</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">消息。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S1</span><span style="font-size:16px;font-family:'微软雅黑';">收到</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">消息后，指定端口</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">马上进入转发状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">处于同步状态的非边缘指定端口</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">和</span><span style="font-size:16px;font-family:'微软雅黑';">E3</span><span style="font-size:16px;font-family:'微软雅黑';">发送</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">报文。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S3</span><span style="font-size:16px;font-family:'微软雅黑';">收到</span><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">发送的</span><span style="font-size:16px;font-family:'微软雅黑';">Proposal</span><span style="font-size:16px;font-family:'微软雅黑';">报文后，判断</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">为根端口，启动同步过程，由于</span><span style="font-size:16px;font-family:'微软雅黑';">S3</span><span style="font-size:16px;font-family:'微软雅黑';">下游均为边缘端口，所以已经实现了同步，因此</span><span style="font-size:16px;font-family:'微软雅黑';">S3</span><span style="font-size:16px;font-family:'微软雅黑';">直接向</span><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">回复</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">消息。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">收到</span><span style="font-size:16px;font-family:'微软雅黑';">S3</span><span style="font-size:16px;font-family:'微软雅黑';">发送的</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">消息后，端口</span><span style="font-size:16px;font-family:'微软雅黑';">E1</span><span style="font-size:16px;font-family:'微软雅黑';">马上进入转发状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S4</span><span style="font-size:16px;font-family:'微软雅黑';">的处理过程如</span><span style="font-size:16px;font-family:'微软雅黑';">S3</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">S2</span><span style="font-size:16px;font-family:'微软雅黑';">收到</span><span style="font-size:16px;font-family:'微软雅黑';">S4</span><span style="font-size:16px;font-family:'微软雅黑';">发送的</span><span style="font-size:16px;font-family:'微软雅黑';">Agreement</span><span style="font-size:16px;font-family:'微软雅黑';">消息后，端口</span><span style="font-size:16px;font-family:'微软雅黑';">E3</span><span style="font-size:16px;font-family:'微软雅黑';">马上进入转发状态。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">P/A</span><span style="font-size:16px;font-family:'微软雅黑';">过程结束。</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">在RSTP中检测拓扑是否发生变化只有一个标准：一个<span style="background:#FFFF00;">非边缘端口迁移到</span><span style="background:#FFFF00;">Forwarding</span><span style="background:#FFFF00;">状态</span>。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';">一旦检测到拓扑发生变化，将进行如下处理：</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="disc"><li><p><span style="font-size:16px;font-family:'微软雅黑';">为本交换设备的所有非边缘指定端口启动一个</span><span style="font-size:16px;font-family:'微软雅黑';">TC WhileTimer</span><span style="font-size:16px;font-family:'微软雅黑';">，该计时器值是</span><span style="font-size:16px;font-family:'微软雅黑';">HelloTime</span><span style="font-size:16px;font-family:'微软雅黑';">的两倍。在这个时间内，清空状态发生变化的端口上学习到的</span><span style="font-size:16px;font-family:'微软雅黑';">MAC</span><span style="font-size:16px;font-family:'微软雅黑';">地址。同时，由这些端口向外发送</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">，其中</span><span style="font-size:16px;font-family:'微软雅黑';">TC</span><span style="font-size:16px;font-family:'微软雅黑';">置位。一旦</span><span style="font-size:16px;font-family:'微软雅黑';">TC WhileTimer</span><span style="font-size:16px;font-family:'微软雅黑';">超时，则停止发送</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">。</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">其他交换设备接收到</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">后，</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">清空所有端口学习到</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">MAC</span><span style="font-size:16px;font-family:'微软雅黑';background:#FFFF00;">地址</span><span style="font-size:16px;font-family:'微软雅黑';">，除了收到</span><span style="font-size:16px;font-family:'微软雅黑';">RSTBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">的端口。然后也为自己所有的非边缘指定端口和根端口启动</span><span style="font-size:16px;font-family:'微软雅黑';">TC WhileTimer</span><span style="font-size:16px;font-family:'微软雅黑';">，重复上述过程。</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">如此，网络中就会产生RSTBPDU的泛洪。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP与STP互操作</p> 
  <ul style="margin-left:.375in;" class="list-paddingleft-2" type="circle"><li><p><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">端口在接收到</span><span style="font-size:16px;font-family:'微软雅黑';">STPBPDU</span><span style="font-size:16px;font-family:'微软雅黑';">的两个</span><span style="font-size:16px;font-family:'微软雅黑';">hellotimer</span><span style="font-size:16px;font-family:'微软雅黑';">后，会切换到</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">工作模式</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">切换到</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">协议的</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">端口会丧失快速收敛等特性</span></p></li><li><p><span style="font-size:16px;font-family:'微软雅黑';">当运行</span><span style="font-size:16px;font-family:'微软雅黑';">STP</span><span style="font-size:16px;font-family:'微软雅黑';">的设备从网络撤离后，原运行</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">的交换设备可迁移回到</span><span style="font-size:16px;font-family:'微软雅黑';">RSTP</span><span style="font-size:16px;font-family:'微软雅黑';">工作模式</span></p></li></ul> 
  <p style="font-size:16px;font-family:'微软雅黑';">RSTP可以和STP互操作，但是此时会丧失快速收敛等RSTP优势。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">当一个网段里既有运行STP的交换设备又有运行RSTP的交换设备，STP交换设备会忽略RST BPDU，而运行RSTP的交换设备在某端口上接收到运行STP的交换设备发出的配置BPDU，在两个Hello Time时间之后，便把自己的端口转换到STP工作模式，发送配置BPDU。这样，就实现了互操作。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';">在华为设备上可以配置运行STP的交换设备被撤离网络后，运行RSTP的交换设备可迁移回到RSTP工作模式。</p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';">选举根交换机</p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <p style="font-size:16px;font-family:'微软雅黑';"> </p> 
  <table cellspacing="0" cellpadding="0"><tbody><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="202"><p style="font-size:32px;font-family:'华文细黑';color:#990000;text-align:center;"><span style="font-weight:bold;"><span style="font-family:'华文细黑';">端口角色</span></span></p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="463"><p style="font-size:32px;font-family:'华文细黑';color:#990000;text-align:center;"><span style="font-weight:bold;"><span style="font-family:'华文细黑';">描述</span></span></p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Root Port</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="463"><p style="font-size:24px;font-family:'华文细黑';color:#000000;">根端口，是所在交换机上离根交换机最近的端口，稳定时处于转发状态。</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Designated Port</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';color:#000000;">指定端口，转发所连接的网段发往根交换机方向的数据和从交换机方向发往所连接的网段的数据，稳定时处于转发状态。</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Backup Port</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';color:#000000;">备份端口，不处于转发状态，所属交换机为端口所连网段的指定交换机。</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Alternate Port</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';color:#000000;">预备端口，不处于转发状态，所属交换机不是端口所连网段的指定交换机。</p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:32px;font-family:'华文细黑';color:#990000;text-align:center;"><span style="font-weight:bold;"><span style="font-family:'华文细黑';">端口状态</span></span></p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:32px;font-family:'华文细黑';color:#990000;text-align:center;"><span style="font-weight:bold;"><span style="font-family:'华文细黑';">描述</span></span></p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Discarding</p><p style="font-size:24px;font-family:'华文细黑';color:#000000;text-align:center;">丢弃状态</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';"><span style="font-family:'华文细黑';"><span style="color:#000000;">此状态下端口</span><span style="font-weight:bold;color:#00b0f0;">对接收到的数据做丢弃</span><span style="color:#000000;">处理，端口</span><span style="color:#FF0000;">不转发数据帧，不学习</span><span style="color:#FF0000;">MAC</span><span style="color:#FF0000;">地址表。</span></span></p><p style="font-size:24px;color:#000000;"><span style="font-family:'微软雅黑';">Alternate Port</span><span style="font-family:'华文细黑';">和</span><span style="font-family:'华文细黑';">Backup Port</span></p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Learning</p><p style="font-size:24px;font-family:'华文细黑';color:#000000;text-align:center;">学习状态</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';"><span style="font-family:'华文细黑';"><span style="color:#000000;">此状态下端口</span><span style="color:#FF0000;">不转发数据帧，但是学习</span><span style="color:#FF0000;">MAC</span><span style="color:#FF0000;">地址</span><span style="color:#000000;">表，参与计算生成树，</span><span style="font-weight:bold;color:#00b0f0;">接收并发送</span><span style="font-weight:bold;color:#00b0f0;">BPDU</span><span style="color:#000000;">。</span></span></p></td></tr><tr><td style="border-width:1px;border-style:solid;vertical-align:top;" width="82"><p style="font-size:24px;font-family:'微软雅黑';color:#000000;text-align:center;">Forwarding</p><p style="font-size:24px;font-family:'华文细黑';color:#000000;text-align:center;">转发状态</p></td><td style="border-width:1px;border-style:solid;vertical-align:top;" width="453"><p style="font-size:24px;font-family:'华文细黑';color:#000000;"><span style="font-family:'华文细黑';">此状态下端口正常转发数据帧，学习MAC地址表，参与计算生成树，接收并发送BPDU。</span></p></td></tr></tbody></table> 
  <p><br></p> 
 </div> 
</div> 
<p>转载于:https://blog.51cto.com/12633577/1978855</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ceb4a062818b5221aa0920291c2ea0d7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HBase 深入浅出</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b32015378eb21c46c454138231dc09d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python2内置属性</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>