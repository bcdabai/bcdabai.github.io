<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jquery中ajax下设置‘正在加载’的方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jquery中ajax下设置‘正在加载’的方法" />
<meta property="og:description" content="# html中 # 增加这个div，用来提示。你可以设置自己想要的样式 &lt;div id=&#34;doing&#34;&gt;&lt;/div&gt; // js 中 $.ajax({ url:url, type:&#39;post&#39;, data:{&#39;type&#39;:b_type,&#39;moneyCount&#39;:moneyCount,&#39;shoplen&#39;:shoplen}, timeout:15000, // 请求发送之前（发送请求前可修改XMLHttpRequest对象的函数，如添加自定义HTTP头。）。 beforeSend:function(XMLHttpRequest){ $(&#34;#doing&#34;).html(&#34;正在处理，请稍后···&#34;); }, // 请求成功后的回调函数 success:function(data,textStatus){ var result = JSON.parse(data); if(result.code == 1){ $(&#39;#qr_code&#39;).show(1500); $(&#39;#qr_code&#39;).attr(&#39;src&#39;,result.data); $(&#39;.payment_but&#39;).hide(); }else{ alert(result.msg); } }, // 请求完成后的回调函数 (请求成功或失败之后均调用) complete:function(XMLHttpRequest,textStatus){ $(&#34;#doing&#34;).empty(); }, // 请求失败时调用此函数。 error:function(XMLHttpRequest,textStatus,errorThrown){ $(&#34;#doing&#34;).empty(); } }); 参考: http://www.w3school.com.cn/jquery/ajax_ajax.asp w3school" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/244b36a36b000b8d0ac3d208be8e7200/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-01-04T19:20:48+08:00" />
<meta property="article:modified_time" content="2017-01-04T19:20:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jquery中ajax下设置‘正在加载’的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre class="prettyprint"><code class=" hljs applescript"><span class="hljs-comment">#  html中</span>
<span class="hljs-comment">#  增加这个div，用来提示。你可以设置自己想要的样式</span>
&lt;<span class="hljs-keyword">div</span> <span class="hljs-property">id</span>=<span class="hljs-string">"doing"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt; </code></pre> 
<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-comment">// js 中</span>

    $.ajax({ 
        url:url, 
        type:<span class="hljs-string">'post'</span>, 
        data:{<!-- --><span class="hljs-string">'type'</span>:b_type,<span class="hljs-string">'moneyCount'</span>:moneyCount,<span class="hljs-string">'shoplen'</span>:shoplen}, 
        timeout:<span class="hljs-number">15000</span>, 
        <span class="hljs-comment">// 请求发送之前（发送请求前可修改XMLHttpRequest对象的函数，如添加自定义HTTP头。）。</span>
        beforeSend:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(XMLHttpRequest)</span>{<!-- --></span>
            $(<span class="hljs-string">"#doing"</span>).html(<span class="hljs-string">"正在处理，请稍后···"</span>); 
        }, 
        <span class="hljs-comment">// 请求成功后的回调函数</span>
        success:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data,textStatus)</span>{<!-- --></span>
            <span class="hljs-keyword">var</span> result = <span class="hljs-built_in">JSON</span>.parse(data);
            <span class="hljs-keyword">if</span>(result.code ==  <span class="hljs-number">1</span>){
                $(<span class="hljs-string">'#qr_code'</span>).show(<span class="hljs-number">1500</span>);
                $(<span class="hljs-string">'#qr_code'</span>).attr(<span class="hljs-string">'src'</span>,result.data);
                $(<span class="hljs-string">'.payment_but'</span>).hide();
            }<span class="hljs-keyword">else</span>{
                alert(result.msg);
            }
        },
        <span class="hljs-comment">// 请求完成后的回调函数 (请求成功或失败之后均调用)</span>
        complete:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(XMLHttpRequest,textStatus)</span>{<!-- --></span>

            $(<span class="hljs-string">"#doing"</span>).empty(); 
        }, 
        <span class="hljs-comment">// 请求失败时调用此函数。</span>
        error:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(XMLHttpRequest,textStatus,errorThrown)</span>{<!-- --></span>
            $(<span class="hljs-string">"#doing"</span>).empty(); 
        } 
    }); </code></pre> 
<p>参考: <br> <a href="http://www.w3school.com.cn/jquery/ajax_ajax.asp" rel="nofollow">http://www.w3school.com.cn/jquery/ajax_ajax.asp</a> <a href="http://www.w3school.com.cn/jquery/ajax_ajax.asp" rel="nofollow">w3school</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/858d7130572afff399a5a60ad0d6d8f4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">scrapy-redis 安装 及使用 结合例子解释</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7aaf2dff73b2d1ea265fc6f121435c22/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">漫步数学分析七——集合的闭包</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>