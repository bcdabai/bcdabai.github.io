<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>从0到1的TypeScript 学习 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="从0到1的TypeScript 学习" />
<meta property="og:description" content="前言 对于前端人来说TypeScript应该不陌生，它的重要性不言而喻。其实本人也系统学习过TypeScript几次了，但是从来没有认真的记录过学习过程，正好因为疫情封闭在家，学习过程中正好记录下，从0到1，从简单到高级，咱们一步一步来
划重点 1. 关于any 任何类型(除了never外)跟any交集都是any本身 type A = 1 &amp; any // any type B = true &amp; any // any type C = &#39;1&#39; &amp; any // any 判断一个类型是any类型 type isAny&lt;T&gt; = 0 extends (1 &amp; T) ? true : false 2. 关于unknown 任何类型跟unknown交集都是其本身任何类型跟unknown并集都是unknown
- 类型unknown不能赋值给任意类型(自身以及any除外)unknown的keyof 是never =&gt; keyof unknown // never type a = 1 &amp; unknown // 1 type b = false &amp; unknown // false type c = any &amp; unknown // any type d = never &amp; unknown // never type e = string | unknown type f = boolean | unknown 如果判断一个类型是unknown类型 type isUnknown&lt;T&gt; = keyof T extends never ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f1c781a56e08a638ce63de684975470e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-06T18:06:13+08:00" />
<meta property="article:modified_time" content="2022-05-06T18:06:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">从0到1的TypeScript 学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>前言</h3> 
<blockquote> 
 <p>对于前端人来说<code>TypeScript</code>应该不陌生，它的重要性不言而喻。其实本人也系统学习过<code>TypeScript</code>几次了，但是从来没有认真的记录过学习过程，正好因为疫情封闭在家，学习过程中正好记录下，从0到1，从简单到高级，咱们一步一步来</p> 
</blockquote> 
<h4><a id="_2"></a>划重点</h4> 
<h5><a id="1_any_3"></a>1. 关于<code>any</code></h5> 
<ul><li>任何类型(除了<code>never</code>外)跟<code>any</code>交集都是any本身</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&amp;</span> <span class="token builtin">any</span> <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">&amp;</span> <span class="token builtin">any</span> <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token operator">&amp;</span> <span class="token builtin">any</span> <span class="token comment">// any</span>
</code></pre> 
<ul><li>判断一个类型是<code>any</code>类型</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">isAny<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&amp;</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre> 
<h5><a id="2_unknown_14"></a>2. 关于<code>unknown</code></h5> 
<ul><li>任何类型跟<code>unknown</code>交集都是其本身</li><li>任何类型跟<code>unknown</code>并集都是<code>unknown</code><br> <strong>- 类型<code>unknown</code>不能赋值给任意类型(<code>自身</code>以及<code>any</code>除外)</strong></li><li><code>unknown</code>的<code>keyof</code> 是<code>never</code> =&gt; <code>keyof unknown // never</code></li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">a</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span> <span class="token comment">// 1</span>
<span class="token keyword">type</span> <span class="token class-name">b</span> <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span> <span class="token comment">// false</span>
<span class="token keyword">type</span> <span class="token class-name">c</span> <span class="token operator">=</span> <span class="token builtin">any</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span> <span class="token comment">// any</span>
<span class="token keyword">type</span> <span class="token class-name">d</span> <span class="token operator">=</span> <span class="token builtin">never</span> <span class="token operator">&amp;</span> <span class="token builtin">unknown</span> <span class="token comment">// never</span>

<span class="token keyword">type</span> <span class="token class-name">e</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">unknown</span>
<span class="token keyword">type</span> <span class="token class-name">f</span> <span class="token operator">=</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">unknown</span>
</code></pre> 
<ul><li>如果判断一个类型是<code>unknown</code>类型</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">isUnknown<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">never</span></span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre> 
<h5><a id="3__32"></a>3. 关于类型:元组=&gt;联合</h5> 
<ul><li>实现元组类型转换联合类型相对来说比较简单，使用内置操作。而且是数组/元组独有的，看下面实例：</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">TupleToUnion<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// string | number | boolean</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token comment">// number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>  <span class="token comment">// number | string</span>
</code></pre> 
<h5><a id="4_never_40"></a>4. 关于<code>never</code></h5> 
<ul><li><code>never</code>是任意类型的子类</li><li><strong>任何类型都不能赋值给<code>never</code>，<code>never</code>自身除外</strong></li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">a</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">never</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 2</span>
<span class="token keyword">type</span> <span class="token class-name">b</span> <span class="token operator">=</span> <span class="token builtin">never</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 1</span>
<span class="token keyword">type</span> <span class="token class-name">c</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 2</span>
<span class="token keyword">type</span> <span class="token class-name">d</span> <span class="token operator">=</span> <span class="token builtin">never</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">any</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 1</span>
</code></pre> 
<ul><li>判断类型是否是一个<code>never</code>类型</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">IsNever<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token builtin">never</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>
</code></pre> 
<h3><a id="_53"></a>基本类型</h3> 
<h4><a id="string_54"></a>string类型</h4> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// √</span>
str <span class="token operator">=</span> <span class="token string">'2'</span>
<span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">'1'</span>  <span class="token comment">// √</span>

str1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// ×</span>
</code></pre> 
<blockquote> 
 <p>上述是关于字符串类型的书写，可以通过一个规律表现出：冒号后面的就是类型描述，通过上述代码我们也可以发现一些规律</p> 
 <ul><li>我们可以通过<code>:string</code> 来描述string类型</li><li>如果存在一些默认值，我们可以通过推导得到类型.例如：<code>let str1 = '1'</code>。</li><li>如果一个变量一旦标记为一种类型，就不可以将另一种类型的值赋过去</li><li>上述的解释，合适不复杂的所有类型，下面就不做过多的阐述了</li></ul> 
</blockquote> 
<h5><a id="string_67"></a>string类型特殊讲解</h5> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token comment">// √</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token comment">// √</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token comment">// √</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token comment">// ×</span>
</code></pre> 
<ul><li>上述的实例讲述了在声明<code>string</code>类型以及<code>String</code>类型有什么不同 
  <ul><li>首先<code>string</code>用来声明基本数据类型，<code>String</code>是包装对象数据类型</li><li>因为字符串<code>1</code> 本身也是包装类型<code>String</code>的实例，所以<code>let b: String = '1'</code>是对的，但是反过来不行</li></ul> </li></ul> 
<h4><a id="boolean_78"></a>boolean类型</h4> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> flag<span class="token operator">:</span> <span class="token builtin">boolean</span>
flag <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token keyword">let</span> flag1 <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre> 
<h4><a id="number__85"></a>number 类型</h4> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> num<span class="token operator">:</span> <span class="token builtin">number</span>
num <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">2</span>
</code></pre> 
<h4><a id="_92"></a>联合数据类型</h4> 
<blockquote> 
 <p>一般我们进行标记的时候，一个变量会被标记一种类型，但是如果真的在业务中出现了一个变量需要多种数据类型怎么办呢？？？ 这个时候我们就可以使用联合数据类型</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
a <span class="token operator">=</span> <span class="token string">'1'</span>
a <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>
</code></pre> 
<ul><li>我们可以用符号<code>|</code>来描述多种数据类型，表示既可以赋值为<code>A</code>类型也是可以赋值为<code>B</code>类型</li></ul> 
<h5><a id="_102"></a>字面量类型</h5> 
<blockquote> 
 <p>使用联合类型的时候，还可以定义字面量类型</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> IType <span class="token operator">=</span> <span class="token string">'up'</span> <span class="token operator">|</span> <span class="token string">'down'</span> <span class="token operator">|</span> <span class="token string">'left'</span> <span class="token operator">|</span> <span class="token string">'right'</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> IType <span class="token operator">=</span> <span class="token string">'up'</span> <span class="token comment">// √</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> IType <span class="token operator">=</span> <span class="token string">'up1'</span> <span class="token comment">// ×</span>
</code></pre> 
<h4><a id="_111"></a>数组类型</h4> 
<blockquote> 
 <p>我们同样可以给数组进行类型标记</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// √</span>
<span class="token keyword">let</span> arr1<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// √</span>

<span class="token keyword">let</span> arr2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span> <span class="token comment">// ×</span>
</code></pre> 
<ul><li>我们可以给数组标记类型，在真实的业务中一组数组都是具有一种类型，就好比上述实例</li><li>但是标记数组类型有两种方式，就是上述两种</li><li>数组中的值类型只能是标记的类型，如果出现不同的类型就会出错，例如上述最后一个实例</li><li>如果业务中出现了数组需要存在多种数据类型怎么办呢？？？那肯定是用联合类型. <code>const arr3: (string | number)[] = []</code></li></ul> 
<h4><a id="_124"></a>元组类型</h4> 
<blockquote> 
 <p>标记数组类型，无非固定指定位置是什么类型，但是我们的元组可以。可以将元组理解为数组的另一种表现形式</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// √</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// ×</span>

<span class="token keyword">let</span> arr1<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// ×</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// √</span>
</code></pre> 
<ul><li>元组的声明可以规定指定位置指定类型</li><li>只能通过下标来获取值</li><li>元素不能扩展，就算扩展后也不能获取超出初始下标长度的值</li><li>而且赋值的类型位置必须一一对应起来</li><li>元组在一般的业务中用途较少，但是在复杂类型中能获取到比较好的效果，在后续的实例中会慢慢讲述</li></ul> 
<h4><a id="null_undefined_139"></a>null 以及undefined类型</h4> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
</code></pre> 
<ul><li>使用相对简单，不做过多的说明</li></ul> 
<h4><a id="any_146"></a>any类型</h4> 
<blockquote> 
 <ul><li>在<code>TypeScript</code>中如果没有声明类型的话，默认就是<code>any</code>类型</li><li>如果是标注了<code>any</code>类型，就是默认跳过类型提示。原则上不允许标注<code>any</code>类型。但是一些特殊场合下也可以使用</li><li>也可以在配置文件中配置允许使用<code>any</code></li><li><strong><code>any</code>类型可以赋值给任意类型，除了<code>never</code>类型除外</strong></li></ul> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> a
<span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> a

<span class="token comment">// 特殊场合使用`any`类型</span>
<span class="token keyword">interface</span> <span class="token class-name">IFn</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="unknown_163"></a>unknown类型</h4> 
<blockquote> 
 <p>其实<code>unknown</code>跟<code>any</code>不同，如果使用<code>any</code>会跳过类型检查，表示任意类型都可以。但是<code>unknown</code>表示不知道什么类型</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">test</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">any</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 1</span>
<span class="token keyword">type</span> <span class="token class-name">test1</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">boolean</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 2</span>
<span class="token keyword">type</span> <span class="token class-name">test2</span> <span class="token operator">=</span> <span class="token builtin">unknown</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Function</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// 2</span>
<span class="token comment">// ...</span>
</code></pre> 
<ul><li><strong>类型为<code>unknown</code> 只能赋值给类型为<code>any</code>的值。反之都报错</strong></li><li>任意类型的值都可以赋值给<code>unknown</code>类型</li></ul> 
<h4><a id="never_174"></a>never类型</h4> 
<blockquote> 
 <ul><li>我将<code>never</code>类型理解为不可到达类型，理解为不存在类型</li><li><strong>类型<code>never</code> 是任意类型的子类</strong></li></ul> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> test1<span class="token operator">:</span> <span class="token builtin">never</span> <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="_185"></a>枚举类型</h4> 
<blockquote> 
 <p>一般我们在使用某个对象的XXX类型的时候，可以使用枚举类型</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">enum</span> <span class="token constant">A</span> <span class="token punctuation">{<!-- --></span>
	add<span class="token punctuation">,</span> <span class="token comment">// add =&gt; 0</span>
	minus<span class="token punctuation">,</span> <span class="token comment">// minus =&gt; 1</span>
	mult<span class="token punctuation">,</span> <span class="token comment">// mult =&gt; 2</span>
	divis <span class="token comment">// divis =&gt; 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token keyword">enum</span> <span class="token constant">A</span> <span class="token punctuation">{<!-- --></span>
	add<span class="token punctuation">,</span> <span class="token comment">// add =&gt; 0</span>
	minus<span class="token punctuation">,</span> <span class="token comment">// minus =&gt; 1</span>
	mult<span class="token punctuation">,</span> <span class="token comment">// mult =&gt; 2</span>
	divis <span class="token comment">// divis =&gt; 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> <span class="token constant">B</span> <span class="token punctuation">{<!-- --></span>
	add<span class="token punctuation">,</span> <span class="token comment">// add =&gt; 0</span>
	minus <span class="token operator">=</span> <span class="token string">'minus'</span><span class="token punctuation">,</span> <span class="token comment">// minus =&gt; minus</span>
	mult<span class="token punctuation">,</span> <span class="token comment">// ERROR 报错</span>
	divis
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> <span class="token constant">C</span> <span class="token punctuation">{<!-- --></span>
	add<span class="token punctuation">,</span> <span class="token comment">// add =&gt; 0</span>
	minus <span class="token operator">=</span> <span class="token string">'minus'</span><span class="token punctuation">,</span> <span class="token comment">// minus =&gt; minus</span>
	mult <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// mult =&gt; 1</span>
	divis <span class="token comment">// divis =&gt; 2</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>上述列举了不同情况下的枚举使用情况 
  <ul><li>声明枚举类型的时候，ts会默认添加值，默认是从<code>0</code>开始</li><li>如果中途一旦出现赋值了非数字的值，后续的必须都进行赋值，例如实例3</li><li>如果中途又赋值了数字值，之后的ts可以自己推导</li><li><strong>普通枚举以及常量枚举有什么不同呢？？？ 普通枚举编译后会成为对象，但是常量枚举在编译后会成为替换的值</strong></li></ul> </li></ul> 
<h4><a id="_222"></a>断言</h4> 
<blockquote> 
 <p>在这里先进行阐述下，断言一般分为两种<code>as</code> 以及<code>!</code>。 强行断言以及非空断言。那我们一般在什么场合下使用他们呢</p> 
</blockquote> 
<h5><a id="as__224"></a>as 断言</h5> 
<pre><code class="prism language-ts"><span class="token comment">// 案例1：</span>
<span class="token keyword">let</span> n<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>

<span class="token comment">// 如果此时我们调用`变量n`上的方法，只能调用string以及number上共同方法，那就想调用string上的方法呢？？？</span>
<span class="token punctuation">(</span>n <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>

<span class="token comment">// 实例2</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>length<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 实例3</span>
<span class="token keyword">const</span> app<span class="token operator">:</span> HtmlElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span>

<span class="token comment">// 使用1</span>
app<span class="token operator">?.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span>
<span class="token comment">// 使用2</span>
<span class="token punctuation">(</span>app <span class="token keyword">as</span> HtmlElement<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span>
</code></pre> 
<h5><a id="_245"></a>非空断言</h5> 
<blockquote> 
 <p>还可以使用<code>!</code>非空断言，其实就是告诉代码该值一定有值。</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">const</span> app<span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span>
app<span class="token operator">!</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'red'</span>
</code></pre> 
<h4><a id="__251"></a>交集 以及并集</h4> 
<blockquote> 
 <ul><li>提到交集以及并集会想到两个关键字<code>&amp;</code> 以及<code>|</code> . 一般我们从字面量来看，符号<code>&amp;</code>一定是并集，因为在js中是且的意思。而<code>|</code>是交集的意思，但是我们在ts中正好相反</li><li><code>&amp;</code> 是交集的意思。是两种都具备的意思. 例如：<code>高帅的人</code> &amp; <code>富的人</code> = <code>高富帅</code></li><li><code>|</code> 是并集的意思，既包含A 又包含B的意思</li></ul> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span>
<span class="token keyword">const</span> c<span class="token operator">:</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PersonA</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">PersonB</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> work<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PersonC</span> <span class="token operator">=</span> PersonA <span class="token operator">|</span> PersonB
</code></pre> 
<h4><a id="_270"></a>函数的类型声明</h4> 
<blockquote> 
 <ul><li>在js中函数的定义方式分为两种：一种函数声明式定义<code>function test() {}</code>, 另一种是函数赋值式定义<code>const fn = () =&gt; {}</code></li></ul> 
</blockquote> 
<h5><a id="_272"></a>函数类型声明方式</h5> 
<pre><code class="prism language-ts"><span class="token comment">// 实例1</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token comment">// 同样可以 =&gt; </span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
<span class="token comment">// 后者属于 类型推导</span>

<span class="token comment">// 实例2</span>
<span class="token keyword">interface</span> <span class="token class-name">IFn</span> <span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test1<span class="token operator">:</span> <span class="token function-variable function">IFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b

<span class="token comment">// 实例3</span>
<span class="token keyword">const</span> <span class="token function-variable function">test1</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">string</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b
</code></pre> 
<ul><li>实例3中分为两部分内容，一种类型描述，另一种是函数赋值 
  <ul><li><code>(a: string, b:string) =&gt; string</code> 表示函数声明</li><li><code>(a: string, b: string) =&gt; a + b</code> 表示函数赋值</li><li>后者必须满足前者的类型要求，也需要重复声明</li></ul> </li></ul> 
<h5><a id="_297"></a>函数扩展运算符</h5> 
<pre><code class="prism language-ts"><span class="token keyword">function</span> <span class="token function">test2</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_301"></a>函数的可选参数</h5> 
<pre><code class="prism language-ts"><span class="token keyword">function</span> <span class="token function">test3</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<ul><li>虽然不赋值也是默认undefined，但是类型声明中可选类型跟undefined是两回事</li><li>可选类型表示可传可不传，但是如果传递一定是string类型</li></ul> 
<h5><a id="_307"></a>函数重载</h5> 
<pre><code class="prism language-ts"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">test1</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">string</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b

<span class="token keyword">function</span> <span class="token function">test2</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test3</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<ul><li>函数重载：实现参数不同的话，实现的逻辑不同</li></ul> 
<h4><a id="class_333"></a>class类</h4> 
<h5><a id="_334"></a>构造函数描述</h5> 
<blockquote> 
 <p>可以对<code>class</code>类进行数据类型描述，可以描述属性，方法，以及构造函数</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token comment">// 修改前1</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token comment">// error Property 'age' does not exist on type 'Person'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age <span class="token comment">// error</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 修改后1</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token comment">// success</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age <span class="token comment">// success</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 修改后2</span>
<span class="token keyword">class</span> <span class="token class-name">Person2</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>在构造函数声明属性的时候，如果给this上进行赋值，需要提前声明，可以使用<code>public</code> 来声明，简单快捷。同时也可以定义数据类型</li></ul> 
<h5><a id="super__364"></a>super 实现继承</h5> 
<pre><code class="prism language-ts"><span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Person3</span> <span class="token keyword">extends</span> <span class="token class-name">Man</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>如果实现继承的话，在constructor中必须调用<code>super</code></li></ul> 
<h5><a id="_379"></a>属性修饰符</h5> 
<ul><li><code>readonly</code> 设置属性只读，不可修改</li><li><code>private</code> 设置私有属性，只能自己访问，不能其他类访问。例如：子类不能访问</li><li><code>public</code> 设置共同属性，就是默认属性公开可以访问</li><li><code>protected</code> 受保护的属性，只允许自己以及子类进行访问</li></ul> 
<pre><code>class Man {
  public name: string
  readonly age: number
  protected school: string = '学校'
  constructor(name: string, public test: string) {
    this.name = name
    this.age = 10
  }
}

class Man1 {
  private constructor(public name: string) {
    this.name = name
  }
}

const man1 = new Man1('tset') // error
</code></pre> 
<ul><li>修饰符<code>private</code>可以标识<code>constructor</code>. 但是这样的话就无法进行<code>new</code>了</li></ul> 
<h5><a id="___404"></a>类的原型方法/ 静态方法/ 属性等</h5> 
<pre><code class="prism language-ts"><span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 实例属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token comment">// 原型函数</span>
  <span class="token function">eat</span><span class="token punctuation">(</span>kind<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> kind
  <span class="token punctuation">}</span>

  <span class="token comment">// 静态函数</span>
  <span class="token keyword">static</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string">'say'</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 实例属性</span>
  <span class="token keyword">get</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_428"></a>抽象类</h5> 
<ul><li>抽象方法中必须定义在抽象类中</li><li>如果函数继承抽象类，必须实现抽象方法</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Woman</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">abstract</span> <span class="token function">eat</span><span class="token punctuation">(</span>kind<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>

  <span class="token function">say</span><span class="token punctuation">(</span>content<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> content
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person3</span> <span class="token keyword">extends</span> <span class="token class-name">Woman</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 子类实现父类的方法</span>
  <span class="token function">eat</span><span class="token punctuation">(</span>kind<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> kind
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="interface__type_448"></a>interface 接口 以及type</h4> 
<blockquote> 
 <p>一般进行类型描述的时候，使用interface以及type居多，这里先对两者进行比较，再一一列举interface的用处</p> 
 <ul><li>type 可以使用联合类型，但是interface不可以使用</li><li>type 可以使用关键字<code>in</code>，但是interface不可以</li><li>type 不可以进行继承实现，但是interface可以通过继承以及是实现</li></ul> 
</blockquote> 
<h5><a id="interface__453"></a>interface 实现基本的描述</h5> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person<span class="token operator">:</span> IPerson <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="____464"></a>接口的可选/ 可获取/ 可索引/ 继承</h5> 
<pre><code class="prism language-ts"><span class="token comment">// 可选属性</span>
<span class="token keyword">interface</span> <span class="token class-name">ITest</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可获取</span>
<span class="token keyword">interface</span> <span class="token class-name">IPerson1</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可索引</span>
<span class="token keyword">interface</span> <span class="token class-name">IPerson2</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span>keyName<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token comment">// 继承</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{<!-- --></span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  age<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_496"></a>接口描述类</h5> 
<blockquote> 
 <p>以插件<code>mysql-qs-parse</code>为例，进行类的描述</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name">SqlParse</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">public</span> db<span class="token operator">:</span> Connection <span class="token operator">|</span> <span class="token keyword">null</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>host<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>host<span class="token operator">:</span> IConnectConfigOptions<span class="token punctuation">,</span> user<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>

  <span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Connection<span class="token operator">&gt;</span>
  <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>
  <span class="token function">size</span><span class="token punctuation">(</span>tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">?</span><span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">findOne</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFieldOptions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token operator">&gt;</span>
  <span class="token function">find</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFieldOptions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">?</span><span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token function">find</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFindOptions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token function">insert</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IRecords<span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">update</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IRecords<span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">on</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">once</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">emit</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">off</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn <span class="token operator">&amp;</span> <span class="token punctuation">{<!-- --></span> l<span class="token operator">?</span><span class="token operator">:</span> IFn <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">MysqlParse</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>host<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> SqlParse
  <span class="token keyword">new</span> <span class="token punctuation">(</span>host<span class="token operator">:</span> IConnectConfigOptions<span class="token punctuation">,</span> user<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> SqlParse
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>我们可以用接口描述类的构造函数</li><li><code>class</code>类本身可以描述实例本身</li></ul> 
<h4><a id="_526"></a>泛型</h4> 
<blockquote> 
 <p>泛型可以描述一类类型</p> 
</blockquote> 
<ul><li>泛型可以广义上定义某种属性</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">const</span> mapArray <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token generic-function"><span class="token function">mapArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'111'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token generic-function"><span class="token function">mapArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token function">mapArray</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>泛型可以对类型进行约束, 下面的实例中显示T 必须满足对象中包含属性<code>length</code></li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">const</span> getLen <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{<!-- --></span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> obj<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token keyword">const</span> getValue <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>泛型的不同位置，意义不同</li></ul> 
<pre><code class="prism language-ts"><span class="token comment">// 实例1</span>
<span class="token keyword">interface</span> <span class="token class-name">IMapArray</span> <span class="token punctuation">{<!-- --></span>
	<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实例2</span>
<span class="token keyword">interface</span> <span class="token class-name">IMapArray<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> times<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <ul><li><code>实例1</code> 是在使用的时候调用泛型</li><li><code>实例2</code> 是在定义接口的时候使用泛型</li></ul> 
</blockquote> 
<h4><a id="keyof_566"></a>keyof</h4> 
<blockquote> 
 <p><code>keyof</code> 获取类型的key值，不同的类型情况不同</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> IPerson <span class="token comment">// name | age</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">string</span> <span class="token comment">// string属性 例如：toString等</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span> <span class="token comment">// number | string | symobl</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">never</span> <span class="token comment">// number | string | symobl</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">E</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token builtin">unknown</span> <span class="token comment">// never</span>

<span class="token keyword">export</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_586"></a>内置类型</h4> 
<blockquote> 
 <p>很多数据类型判断都是基于类型分发。</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">'鸟'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Sky</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">'蓝色'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">'鱼'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Water</span> <span class="token punctuation">{<!-- --></span>
  color<span class="token operator">:</span> <span class="token string">'透明'</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">MyType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Bird <span class="token operator">|</span> Fish<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token operator">?</span> Sky <span class="token operator">:</span> Water
<span class="token keyword">type</span> <span class="token class-name">MyType1<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Bird <span class="token operator">|</span> Fish<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token operator">?</span> Sky <span class="token operator">:</span> Water

<span class="token keyword">type</span> <span class="token class-name">IEnv</span> <span class="token operator">=</span> MyType<span class="token operator">&lt;</span>Bird<span class="token operator">&gt;</span> <span class="token comment">// Sky</span>

<span class="token comment">// -- 内容分发 分别拿联合类型中每个值 都进行判断</span>
<span class="token keyword">type</span> <span class="token class-name">IEnv1</span> <span class="token operator">=</span> MyType<span class="token operator">&lt;</span>Bird <span class="token operator">|</span> Fish<span class="token operator">&gt;</span> <span class="token comment">// Sky | Wather</span>
<span class="token keyword">type</span> <span class="token class-name">IEnv2</span> <span class="token operator">=</span> MyType1<span class="token operator">&lt;</span>Bird <span class="token operator">|</span> Fish<span class="token operator">&gt;</span> <span class="token comment">// Wather</span>
</code></pre> 
<ul><li>内容分发的必要条件： 
  <ul><li>泛型中使用联合类型</li><li>必须是裸体 例如：<code>MyType1</code></li></ul> </li></ul> 
<h5><a id="Exclude_614"></a>Exclude</h5> 
<blockquote> 
 <p>排除</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token comment">// 此时T 触发了内容分发。T中的类型逐一跟K进行extends判断</span>
<span class="token keyword">type</span> <span class="token class-name">Exclude<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F</span></span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Extract_622"></a>Extract</h5> 
<blockquote> 
 <p>抽离</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">Extract<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span>  <span class="token class-name"><span class="token constant">K</span></span> <span class="token operator">?</span> <span class="token constant">T</span> <span class="token operator">:</span> <span class="token builtin">never</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F1</span></span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="NonNullable_630"></a>NonNullable</h5> 
<blockquote> 
 <p>非空判断</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">NonNullable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">null</span></span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F2</span></span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Partial_638"></a>Partial</h5> 
<blockquote> 
 <p>转换为非必输</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F3</span></span>  <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F4</span></span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token constant">F3</span><span class="token operator">&gt;</span>
</code></pre> 
<ul><li>但是这个Partial 有个问题就是只能设置表面一层，不能进行深度的转换，接下来会介绍一个<code>DeepPartial</code></li></ul> 
<h5><a id="DeepPartial_652"></a>DeepPartial</h5> 
<blockquote> 
 <p>深度转换为非必输入</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F5</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  school<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    address<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">DeepPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> DeepPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F6</span></span> <span class="token operator">=</span> DeepPartial<span class="token operator">&lt;</span><span class="token constant">F5</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Readonly_668"></a>Readonly</h5> 
<blockquote> 
 <p>设置只读属性</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F7</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Readonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F8</span></span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span><span class="token constant">F7</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Required_681"></a>Required</h5> 
<blockquote> 
 <p>设置为必须属性</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F9</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Required<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F10</span></span> <span class="token operator">=</span> Required<span class="token operator">&lt;</span><span class="token constant">F9</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Pick_695"></a>Pick</h5> 
<blockquote> 
 <p>挑选，摘取，千挑万选</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F13</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F14</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">F13</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Omit_709"></a>Omit</h5> 
<blockquote> 
 <p>进行忽略，对指定的数据类型进行忽略</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F11</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F12</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">F11</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="PartPartial_722"></a>PartPartial</h5> 
<blockquote> 
 <p>实现部分可选，部分不可选</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token comment">// 部分可选 部分不可选</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">F15</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PartPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span> <span class="token operator">&amp;</span> Partial<span class="token operator">&lt;</span>Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F16</span></span> <span class="token operator">=</span> PartPartial<span class="token operator">&lt;</span><span class="token constant">F15</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Merge_737"></a>Merge</h5> 
<blockquote> 
 <p>将两个对象类型进行合并，如果key相同，value不同的话取后者</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token comment">// merge 实现</span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> Extract <span class="token operator">&lt;</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token keyword">keyof</span> <span class="token constant">K</span><span class="token operator">&gt;&gt;</span> <span class="token operator">&amp;</span> <span class="token constant">K</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>a<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_746"></a>兼容性</h4> 
<blockquote> 
 <p>ts在类型处理过程中，有一定的兼容性处理，在思考过程中一切都是基于“<code>安全</code>”的考虑</p> 
</blockquote> 
<h5><a id="_748"></a>联合类型兼容性</h5> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P1</span></span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P2</span></span> <span class="token operator">=</span> <span class="token builtin">string</span>
<span class="token keyword">let</span> a<span class="token operator">!</span><span class="token operator">:</span><span class="token constant">P1</span>
<span class="token keyword">let</span> b<span class="token operator">!</span><span class="token operator">:</span> <span class="token constant">P2</span>
b <span class="token operator">=</span> a <span class="token comment">// error</span>
a <span class="token operator">=</span> b <span class="token comment">// success</span>
</code></pre> 
<ul><li>上述的实例中赋值<code>b = a</code>会出错，但是<code>a = b</code>不会出现 
  <ul><li>因为<code>a</code>是一个联合类型，<code>a</code>有可能是number/ string。但是<code>b</code>只能接受string类型。所以是不安全的</li><li>但是<code>a = b</code>就不会</li></ul> </li><li>总结：赋值过程中，<code>少的可以给多的赋值</code>，但是<code>多的不能给少的</code>赋值</li></ul> 
<h5><a id="interface_762"></a>interface接口兼容性</h5> 
<pre><code class="prism language-ts"><span class="token comment">// interface兼容性</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">P3</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">P4</span></span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> c<span class="token operator">!</span><span class="token operator">:</span> <span class="token constant">P3</span>
<span class="token keyword">let</span> d<span class="token operator">!</span><span class="token operator">:</span> <span class="token constant">P4</span>
c <span class="token operator">=</span> d <span class="token comment">// error</span>
d <span class="token operator">=</span> c <span class="token comment">// success</span>
</code></pre> 
<ul><li>上述是interface兼容性的时候，<code>c = d</code>赋值会报错。但是<code>d = c</code>没有错。说明：被赋值的类型范围比赋值的类型范围大。是安全的。 
  <ul><li>原因是类型<code>P4</code>只有数据类型<code>name</code>. 但是<code>P3</code> 具有属性<code>name, age</code>. 就是可以给“我”多赋值，但是不能少赋值</li></ul> </li></ul> 
<h5><a id="_780"></a>函数的兼容性</h5> 
<h6><a id="_781"></a>参数兼容性</h6> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">IFn1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">IFn2</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span>

<span class="token keyword">let</span> t1<span class="token operator">!</span><span class="token operator">:</span> IFn1
<span class="token keyword">let</span> t2<span class="token operator">!</span><span class="token operator">:</span> IFn2
t1 <span class="token operator">=</span> t2 <span class="token comment">// success</span>
t2 <span class="token operator">=</span> t1 <span class="token comment">// error</span>
</code></pre> 
<blockquote> 
 <p>个人觉得从安全以及运行的角度来分析比较容易记忆</p> 
</blockquote> 
<ul><li>上述实例中<code>t2 = t1</code>赋值时出错的， 假如在未赋值之前调用函数<code>t2</code> 其实需要传递一个参数就够了。</li><li>如果赋值后<code>t2 = t1</code>. 案例说应该传递2个参数。但是还是原来的调用方法，只能传递一个参数。是不安全的，所以会报错</li></ul> 
<h6><a id="_794"></a>返回值兼容性</h6> 
<pre><code class="prism language-ts"><span class="token keyword">type</span> <span class="token class-name">IFn5</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">IFn6</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span>

<span class="token keyword">let</span> t5<span class="token operator">!</span><span class="token operator">:</span> IFn5
<span class="token keyword">let</span> t6<span class="token operator">!</span><span class="token operator">:</span> IFn6

t5 <span class="token operator">=</span> t6 <span class="token comment">// error</span>
t6 <span class="token operator">=</span> t5 <span class="token comment">// success</span>
</code></pre> 
<ul><li>上述实例中赋值<code>t5 = t6</code>是错误的。原理上跟<code>联合类型的兼容性</code>原理一致。</li><li>通过<code>函数参数/ 返回值</code>得到 =&gt; <code>传父逆，返协子</code> =&gt; 参数传递更少的，返回值返回更大的</li></ul> 
<h4><a id="infer_807"></a>infer</h4> 
<blockquote> 
 <p><code>infer</code>就是进行类型推导，推导指定位置的类型</p> 
</blockquote> 
<h5><a id="ReturnType_809"></a>ReturnType</h5> 
<pre><code class="prism language-ts"><span class="token keyword">const</span> <span class="token function-variable function">fns</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    a<span class="token punctuation">,</span>
    b<span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">never</span>

<span class="token keyword">type</span> <span class="token class-name">m1</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> fns<span class="token operator">&gt;</span>
</code></pre> 
<h5><a id="Parameters_824"></a>Parameters</h5> 
<pre><code class="prism language-ts"><span class="token keyword">const</span> <span class="token function-variable function">fns</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    a<span class="token punctuation">,</span>
    b<span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Parameters<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token builtin">never</span>
<span class="token keyword">type</span> <span class="token class-name">m2</span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> fns<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="_837"></a>命名空间</h4> 
<ul><li>类和命名空间 可以进行合并</li></ul> 
<pre><code class="prism language-ts"><span class="token comment">// 同名的命名空间 以及类可以进行属性合并</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">namespace</span> Person <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">export</span> <span class="token keyword">var</span> action<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span>
Person<span class="token punctuation">.</span>action
</code></pre> 
<ul><li>命名空间 可以跟函数一起合并</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
<span class="token keyword">namespace</span> User <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'1'</span>
<span class="token punctuation">}</span>
User<span class="token punctuation">.</span>name
</code></pre> 
<ul><li>命名空间 可以和枚举类型进行合并</li></ul> 
<pre><code class="prism language-ts"><span class="token keyword">enum</span> IAction <span class="token punctuation">{<!-- --></span>
  add <span class="token operator">=</span> <span class="token string">'add'</span>
<span class="token punctuation">}</span>
<span class="token keyword">namespace</span> IAction <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token string">'del'</span>
<span class="token punctuation">}</span>
IAction<span class="token punctuation">.</span>del
</code></pre> 
<h4><a id="declare_869"></a>declare全局定义</h4> 
<blockquote> 
 <p>global.d.ts</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name">Window</span> <span class="token punctuation">{<!-- --></span>
  store<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'jquery'</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">css</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
    <span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> $
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">css</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">namespace</span> $ <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> fn <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">function</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>可以通过<code>declare Window</code> 来给<code>Window</code>添加属性</li><li>可以声明一个模块<code>jquery</code>等</li></ul> 
<blockquote> 
 <p>下列是通过declare 实现类的描述</p> 
</blockquote> 
<pre><code class="prism language-ts"><span class="token comment">// 利用class 来描述类的实例</span>
<span class="token keyword">class</span> <span class="token class-name">SqlParse</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">public</span> db<span class="token operator">:</span> Connection <span class="token operator">|</span> <span class="token keyword">null</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>host<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>host<span class="token operator">:</span> IConnectConfigOptions<span class="token punctuation">,</span> user<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span>

  <span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Connection<span class="token operator">&gt;</span>
  <span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>
  <span class="token function">size</span><span class="token punctuation">(</span>tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">?</span><span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">findOne</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFieldOptions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token operator">&gt;</span>
  <span class="token function">find</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFieldOptions<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">?</span><span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token function">find</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IFindOptions<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>IRecords<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token function">insert</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IRecords<span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">update</span><span class="token punctuation">(</span>fields<span class="token operator">:</span> IRecords<span class="token punctuation">,</span> tableName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> where<span class="token operator">:</span> IRecords<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
  <span class="token function">on</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">once</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">emit</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token function">off</span><span class="token punctuation">(</span>keyName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> IFn <span class="token operator">&amp;</span> <span class="token punctuation">{<!-- --></span> l<span class="token operator">?</span><span class="token operator">:</span> IFn <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// 用来描述构造函数 以及constructor重载</span>
<span class="token keyword">interface</span> <span class="token class-name">MysqlParse</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span>host<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> SqlParse
  <span class="token keyword">new</span> <span class="token punctuation">(</span>host<span class="token operator">:</span> IConnectConfigOptions<span class="token punctuation">,</span> user<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> password<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> database<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> SqlParse
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">const</span> SqlParser<span class="token operator">:</span> MysqlParse
</code></pre> 
<blockquote> 
 <p>本次分享就是这么多了，之后会不同完善文章，让文章变得更加充实</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14334a1626b2bf23156c58e8e7f095a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">String与byte[ ]之间的转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/924efc26d68c3982d2dbeb2426682330/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">定义一个函数求n(阶乘）,再在主函数中通过调用该函数计算: 1（阶乘）&#43;3（阶乘）&#43;5（阶乘）&#43;...&#43;(2n-1)(阶乘）输入提示信息格式: “Input n:\n“输入数据格式要求</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>