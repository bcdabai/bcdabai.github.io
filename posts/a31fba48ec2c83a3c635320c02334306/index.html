<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>从零开始的临时会话WEB项目（基于SSM框架）（二） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="从零开始的临时会话WEB项目（基于SSM框架）（二）" />
<meta property="og:description" content="前面搭好了SSM的基本框架，这里准备正式写代码
一、引入前端框架layim 由于layim不是完全免费的，这里就不直接把本人用的资源文件直接分享给大家了。
https://gitee.com/weijg/layim/tree/master/
上面这个是layim官方的开源版（老了点，和最新的有点不一样），如果想获取最新的请前往官网https://www.layui.com/layim/
在拿到资源文件后，打开这样加入你的项目。
这是layim资源文件，这样直接放到你的项目里，就OK（如果你用的是开源版本的，引入方式会不一样）
对了，还有js文件，这里本人也上传了，1积分下载。https://download.csdn.net/download/qq_34859668/18994226
二、编写项目 1、登录
这里打算写成戳链接就能登上，方便附加到别的项目上。
后台代码
package com.wc.controller; import java.io.UnsupportedEncodingException; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.beans.factory.annotation.Qualifier; import org.springframework.stereotype.Controller; import org.springframework.ui.ModelMap; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.servlet.ModelAndView; import com.wc.service.UserService; @Controller @RequestMapping(&#34;/user&#34;) public class UserController { @Autowired @Qualifier(&#34;userService&#34;) private UserService userService; @RequestMapping(&#34;/goChat.do&#34;) public ModelAndView goChat(String uid,String uid2,String username,String username2,HttpServletRequest request, HttpServletResponse response) throws UnsupportedEncodingException { //根据url中的参数完成登录和聊天界面创建 if (uid==null||uid.isEmpty()) { return new ModelAndView(&#34;goLogin&#34;); }else if (uid2==null||uid2.isEmpty()) { return new ModelAndView(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a31fba48ec2c83a3c635320c02334306/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-23T13:19:15+08:00" />
<meta property="article:modified_time" content="2021-05-23T13:19:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">从零开始的临时会话WEB项目（基于SSM框架）（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>前面搭好了SSM的基本框架，这里准备正式写代码</p> 
<h3>一、引入前端框架layim</h3> 
<p>由于layim不是完全免费的，这里就不直接把本人用的资源文件直接分享给大家了。</p> 
<p><a href="https://gitee.com/weijg/layim/tree/master/" rel="nofollow">https://gitee.com/weijg/layim/tree/master/</a></p> 
<p>上面这个是layim官方的开源版（老了点，和最新的有点不一样），如果想获取最新的请前往官网<a href="https://www.layui.com/layim/" rel="nofollow">https://www.layui.com/layim/</a></p> 
<p>在拿到资源文件后，打开这样加入你的项目。</p> 
<p><img alt="" height="149" src="https://images2.imgbox.com/6f/88/Mm4RI0Rv_o.png" width="495"></p> 
<p>这是layim资源文件，这样直接放到你的项目里，就OK（如果你用的是开源版本的，引入方式会不一样）</p> 
<p><img alt="" height="289" src="https://images2.imgbox.com/3f/75/iYfzt4vB_o.png" width="259"></p> 
<p>对了，还有js文件，这里本人也上传了，1积分下载。<a href="https://download.csdn.net/download/qq_34859668/18994226">https://download.csdn.net/download/qq_34859668/18994226</a></p> 
<h3>二、编写项目</h3> 
<p>1、登录</p> 
<p>这里打算写成戳链接就能登上，方便附加到别的项目上。</p> 
<p>后台代码</p> 
<p><img alt="" height="158" src="https://images2.imgbox.com/46/12/xkkBNGXl_o.png" width="274"></p> 
<pre><code class="language-java">package com.wc.controller;

import java.io.UnsupportedEncodingException;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

import com.wc.service.UserService;

@Controller
@RequestMapping("/user")
public class UserController {
	
	@Autowired
	@Qualifier("userService")
	private UserService userService;
	
	@RequestMapping("/goChat.do")
	public ModelAndView goChat(String uid,String uid2,String username,String username2,HttpServletRequest request, HttpServletResponse response) throws UnsupportedEncodingException {
		//根据url中的参数完成登录和聊天界面创建
		if (uid==null||uid.isEmpty()) {
			return new ModelAndView("goLogin");
		}else if (uid2==null||uid2.isEmpty()) {
			return new ModelAndView("goLogin");
		}else {
			ModelMap map=new ModelMap();
			map.put("uid", uid);
			map.put("uid2", uid2);
			map.put("username", username);
			map.put("username2", username2);
		   return new ModelAndView("chat",map);
		}

	}
	
	@RequestMapping("/login.do")
	public ModelAndView login(String uid, String username, HttpServletRequest request, HttpServletResponse response)
			throws UnsupportedEncodingException {
		// 根据url中的参数完成登录
		if (uid == null || uid.isEmpty()) {
			// 若url中的参数不完整
			return new ModelAndView("goLogin");
		} else if (username == null || username.isEmpty()) {
			return new ModelAndView("goLogin");
		} else {
			ModelMap map = new ModelMap();
			map.put("uid", uid);
			map.put("username", username);
			return new ModelAndView("work", map);
		}

	}
	
	
	
	

}
</code></pre> 
<p>前端代码</p> 
<p><img alt="" height="313" src="https://images2.imgbox.com/a9/9a/UwECj18E_o.png" width="164"></p> 
<pre><code class="language-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;base href="${pageContext.request.contextPath }/"&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;title&gt;咨询&lt;/title&gt;
&lt;link rel="stylesheet" href="css/bootstrap.css" /&gt;
&lt;link rel="stylesheet" href="layui/css/layui.css"&gt;
&lt;script type="application/javascript" src="js/jquery.min.js"&gt;&lt;/script&gt;
&lt;script type="application/javascript" src="js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body class="bg-success" style="background: #EBEBEB;"&gt;
&lt;div style="margin-top: 50px;"&gt;
		&lt;h2 class="form-signin-heading" style="text-align: center;"&gt;咨询&lt;/h2&gt;
	&lt;/div&gt;
&lt;div class="container" style="width:50%;height:300px;background: white;border-radius: 10px;border:1px solid #9D9D9D;box-shadow: darkgrey 10px 10px 30px 5px;"&gt;
		&lt;a onclick=window.open("http://localhost:8080/WeChat/user/goChat.do?uid=123&amp;uid2=7788&amp;username=咨询者&amp;username2=咨询师","","width=1300,height=650","scrollbars=auto")&gt;	
		&lt;button class="btn btn-lg btn-primary btn-block"&gt;点我咨询&lt;/button&gt;
		&lt;/a&gt; 
		&lt;br&gt;
		&lt;a onclick=window.open("http://localhost:8080/WeChat/user/login.do?uid=7788&amp;username=咨询师","","width=1300,height=650","scrollbars=auto")&gt;	
		&lt;button class="btn btn-lg btn-primary btn-block"&gt;点我登录&lt;/button&gt;.
		&lt;/a&gt; 

&lt;/div&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>整个过程很简单，甚至不需要数据库参与，参数啥的直接写到url里，就是用来测试聊天功能的辅助功能，随意写的。</p> 
<p><a href="http://localhost:8080/WeChat/user/login.do?uid=7788&amp;username=%E5%92%A8%E8%AF%A2%E5%B8%88" rel="nofollow">http://localhost:8080/WeChat/user/login.do?uid=7788&amp;username=咨询师</a></p> 
<p>一个用户的ID（uid），一个用户名（username）两个参数。</p> 
<p>至于如何用websocket实现会话，咱们下一篇文章见。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e0f14c68f4dc56583f3aed9b0e3b308d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">@webServlet注解的使用（适合初次接触的朋友）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/86043bc817d7ae38b88622af0be12600/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">tensorflow core ---Image classification图片分类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>