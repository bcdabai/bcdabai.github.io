<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python的类，元类 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python的类，元类" />
<meta property="og:description" content="类实例化过程： 例子： class Custom: def __init__(self): print(&#34;Init method&#34;) def __new__(cls,*args,**kwargs): print(&#34;new Instance&#34;) return object.__new__(cls,*args,**kwargs) if __name__ == &#39;__main__&#39;: Custom() 运行结果： new Instance Init method 类也是一个对象，但是具有创建其自身实例的能力。 类可以和一个变量进行绑定 可以为类增加属性 可以将类作为函数的参数传递 ============================================== 元类（type) 类的创建和管理者 所有的类都是元类（type)的实例 元类实例化的过程： __new__() __init__() 目的：对其创建的类进行预处理 Python3.x中对元类的应用 类继承中提供关键字参数：metaclass=元类名 Python3.x中对元类的应用 定义一个模块级变量： __metaclass__=元类名 为某个类添加类属性： __metaclass__=元类名 自定义元类（Python3中） 例子： class MyMeta(type): def __init__(self,name,bases,dicts): print(&#34;init method&#34;) def __new__(cls,name,bases,dicts): #给元类添加一个方法 dicts[&#39;info&#39;] = lambda self:print(&#39;Djx&#39;) #创建实例对象 res = type.__new__(cls,name,bases,dicts) #给元类添加一个属性 res.company = &#39;Maizi&#39; return res #Python3.x中对元类的应用 class custom(metaclass=MyMeta): pass #Python2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/cec3aa045b8454f2d409da22b632ca55/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-09-04T06:11:15+08:00" />
<meta property="article:modified_time" content="2016-09-04T06:11:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python的类，元类</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    类实例化过程： 
<br> 例子： class Custom: 
<br> def __init__(self): 
<br> print("Init method") 
<br> 
<br> def __new__(cls,*args,**kwargs): 
<br> print("new Instance") 
<br> return object.__new__(cls,*args,**kwargs) 
<br> if __name__ == '__main__': 
<br> Custom() 
<br> 运行结果： 
<br> new Instance 
<br> Init method 
<br> 
<br>类也是一个对象，但是具有创建其自身实例的能力。 
<br>类可以和一个变量进行绑定 
<br>可以为类增加属性 
<br>可以将类作为函数的参数传递 
<br> 
<br>============================================== 
<br>元类（type) 
<br> 类的创建和管理者 
<br> 所有的类都是元类（type)的实例 
<br> 元类实例化的过程： 
<br> __new__() 
<br> __init__() 
<br> 目的：对其创建的类进行预处理 
<br> 
<br>Python3.x中对元类的应用 
<br> 类继承中提供关键字参数：metaclass=元类名 
<br>Python3.x中对元类的应用 
<br> 定义一个模块级变量： __metaclass__=元类名 
<br> 为某个类添加类属性： __metaclass__=元类名 
<br> 
<br>自定义元类（Python3中） 
<br> 例子： class MyMeta(type): 
<br> def __init__(self,name,bases,dicts): 
<br> print("init method") 
<br> 
<br> def __new__(cls,name,bases,dicts): 
<br> #给元类添加一个方法 
<br> dicts['info'] = lambda self:print('Djx') 
<br> #创建实例对象 
<br> res = type.__new__(cls,name,bases,dicts) 
<br> #给元类添加一个属性 
<br> res.company = 'Maizi' 
<br> return res 
<br> 
<br> #Python3.x中对元类的应用 
<br> class custom(metaclass=MyMeta): 
<br> pass 
<br> 
<br> #Python2.x中对元类的应用 
<br> class cust: 
<br> __metaclass__ = MyMeta 
<br> pass 
<br> #一个模块级变量 
<br> #__metaclass__ = MyMeta 
<br> 
<br> if __name__ == '__main__': 
<br> cus = custom() 
<br> cus.info() 
<br> print(cus.company) 
<br> 运行结果： 
<br> init method 
<br> Djx 
<br> Maizi 
<br> 
<br>构造序列类 
<br> 实现以下方法： 
<br> __len__(self) 
<br> __getitem__(self,key) 
<br> __setitem__(self,key,value) 
<br> __delitem__(self,key) 
<br> 
<br>构造迭代器iter 
<br> 实现以下方法： 
<br> __iter__(self) 
<br> __next__(self) 
<br> 
<br>构造可比较类 
<br> 实现以下方法： 
<br> __lt__() 
<br> __le__() 
<br> __gt__() 
<br> __ge__() 
<br> __eq__() 
<br> __ne__() 
<br> 
<br>构造可运算类 
<br> 实现以下方法： 
<br> __add__() 
<br> __sub__() 
<br> __mul__() 
<br> __div__()
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/28327f32ab3d1e2b6487cde90f615b62/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c语言和java中的基本数据类型都一样吗，都有哪些，长度是多少</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/df524a65ba20e6045f401b76dd5b32c4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;知识体系结构框图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>