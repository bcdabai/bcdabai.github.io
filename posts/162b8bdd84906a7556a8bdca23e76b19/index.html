<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>钉钉小程序 之 自定义组件的使用，以及父组件与子组件(自定义组件)传值 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="钉钉小程序 之 自定义组件的使用，以及父组件与子组件(自定义组件)传值" />
<meta property="og:description" content="目录： 本机环境自定义组件（子组件）页面中引入（父组件引入子组件）父组件（使用自定义组件的页面）传值给子组件子组件（自定义组件）传值给父组件备注 一、本机环境 本机系统： Mac 小程序开发者工具: 1.5.7 二、自定义组件（子组件） 子组件中：
项目的根目录下！！创建自定义组件
在对应 json 文件中定义 component 属性
如图在根目录 的 `components` 目录（目录名自定义）下存放自定义组件 三、页面中引入（父组件引入子组件） 父组件中：
路径引入在对应页面下
添加 json 文件中定义 usingComponents
axml 文件中直接使用
如图 （图 3.1）
（图 3.2）
四、父组件（使用自定义组件的页面）传值给子组件 子组件中：
通过属性 props 传递值 numIndex
在 data 中定义对应的值 itemIndex
在生命周期 didMount 中修改对应的值
如图 子组件 （图 4.1）
4.2、⚠️⚠️然后子组件可以调用传递进来的方法，将参数传给父组件对应的方法，父组件的该方法获取参数修改自己组件内的值 如上图： props: { onQuantityValue: function(d) { console.log(&#39;d-----&#39;, d) } ... ... } ... // 直接如下方式调用父组件传递的函数即可 this.props.onQuantityValue(&#39;子组件想要传递给父组件的值，在此处赋值即可&#39;) 五、子组件（自定义组件）传值给父组件 子组件通过函数参数，传递值给父组件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/162b8bdd84906a7556a8bdca23e76b19/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-03T17:25:41+08:00" />
<meta property="article:modified_time" content="2020-05-03T17:25:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">钉钉小程序 之 自定义组件的使用，以及父组件与子组件(自定义组件)传值</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>目录：</h3> 
<ol><li>本机环境</li><li>自定义组件（子组件）</li><li>页面中引入（父组件引入子组件）</li><li>父组件（使用自定义组件的页面）传值给子组件</li><li>子组件（自定义组件）传值给父组件</li><li>备注</li></ol> 
<h3><a id="_8"></a>一、本机环境</h3> 
<pre><code class="prism language-bash">本机系统： Mac
小程序开发者工具:  1.5.7
</code></pre> 
<h3><a id="_14"></a>二、自定义组件（子组件）</h3> 
<blockquote> 
 <p>子组件中：<br> 项目的根目录下！！创建自定义组件<br> 在对应 <code>json</code> 文件中定义 <code>component</code> 属性</p> 
</blockquote> 
<pre><code>如图在根目录 的 `components` 目录（目录名自定义）下存放自定义组件
</code></pre> 
<p><img src="https://images2.imgbox.com/d1/bc/LvrCgBZt_o.png" alt=""></p> 
<h3><a id="_24"></a>三、页面中引入（父组件引入子组件）</h3> 
<blockquote> 
 <p>父组件中：<br> 路径引入在对应页面下<br> 添加 <code>json</code> 文件中定义 <code>usingComponents</code><br> <code>axml</code> 文件中直接使用</p> 
</blockquote> 
<pre><code>如图 
</code></pre> 
<p>（图 3.1）<br> <img src="https://images2.imgbox.com/cd/d0/YWCmkFRL_o.png" alt=""></p> 
<p>（图 3.2）<br> <img src="https://images2.imgbox.com/48/0b/Z9Lg1ldL_o.png" alt=""></p> 
<h3><a id="_39"></a>四、父组件（使用自定义组件的页面）传值给子组件</h3> 
<blockquote> 
 <p>子组件中：<br> 通过属性 <code>props</code> 传递值 <code>numIndex</code><br> 在 <code>data</code> 中定义对应的值 <code>itemIndex</code><br> 在生命周期 <code>didMount</code> 中修改对应的值</p> 
</blockquote> 
<pre><code>如图 子组件
</code></pre> 
<p>（图 4.1）<br> <img src="https://images2.imgbox.com/ea/16/895FDvZP_o.png" alt=""></p> 
<h4><a id="42_50"></a>4.2、⚠️⚠️然后子组件可以调用传递进来的方法，将参数传给父组件对应的方法，父组件的该方法获取参数修改自己组件内的值</h4> 
<pre><code>如上图： 
props: {
    onQuantityValue: function(d) {
        console.log('d-----', d)
    }
    ...
    ...
}

... 

// 直接如下方式调用父组件传递的函数即可
this.props.onQuantityValue('子组件想要传递给父组件的值，在此处赋值即可')

</code></pre> 
<h3><a id="_70"></a>五、子组件（自定义组件）传值给父组件</h3> 
<blockquote> 
 <p>子组件通过函数参数，传递值给父组件<br> 子组件通过 <code>props</code> 属性传递函数，但是注意⚠️，函数名必须以 <code>on</code> 开头<br> 父组件中给对应函数属性，传递对应的方法</p> 
</blockquote> 
<pre><code>如图 父组件
</code></pre> 
<p>（图 5.1）<br> <img src="https://images2.imgbox.com/f9/93/cZ0UnNfn_o.png" alt=""></p> 
<pre><code>如图 父组件
</code></pre> 
<p>（图 5.2）<br> <img src="https://images2.imgbox.com/5c/e2/yKQkWoXN_o.png" alt=""></p> 
<h3><a id="_87"></a>备注</h3> 
<p>第 五 步尴尬了很久，因为函数名<strong>不是以 <code>on</code> 开头的！！！</strong>，过分，开发文档的提示，可不可以加个其他颜色呐！！！微笑😊，参考<a href="https://ding-doc.dingtalk.com/doc#/dev/develop-custom-component" rel="nofollow">这里</a>：</p> 
<p><img src="https://images2.imgbox.com/e3/39/K7NI3Gg2_o.png" alt=""></p> 
<pre><code class="prism language-!">写给自己的随笔，有问题欢迎指出
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3cab0eff3f85db9d3b6a3f3d957f4255/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">@RequestBody部分属性为null的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d08322dc409a677902c3d43a49295db0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux驱动开发学习笔记十六：gpio相关OF函数和子系统API函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>