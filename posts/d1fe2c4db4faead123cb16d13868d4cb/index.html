<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>websocket的基础使用，心跳机制，断线重连 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="websocket的基础使用，心跳机制，断线重连" />
<meta property="og:description" content="websocket的基础使用，心跳机制，断线重连 前言主流的技术基础使用1.websoket2.socket.io 心跳机制和断线重连实现代码（基础版-node后端）：实现代码（基础版-前端）：主要的代码逻辑：最后是模拟重连的截图 最后 前言 websoket出现的原因： 传统的http请求只能是由前端向后台发送一个请求，然后后台把结果返回给前端，前端再进行展示。这里就暴露了一个问题，就是通信只能由前端发起，而后台无法主动与前端通信。而websoket的出现就是为了解决这个问题，让前端可以主动联系后台，后台也可以主动联系前台。
应用场景： 相信大家都知道websoket的应用场景主要是用于即时通讯，比如QQ、微信即时通讯软件，同时在一些实时监控，需要即时暴露问题的地方也需要用到websoket，比如大屏可视化，需要及时的展现商品的成交数量。另外还有就是后台需要某个条件才能触发任务，在触发了任务时需要主动的告诉前端。
主流的技术 1.原生websocket
2.socket.io(推荐)
目前在websocket中应用比较多的就是这两个技术，一个是原生的websoket，另外一个socket.io是在原生websoket的基础上进行了封装了一层后的技术，让程序员更加的好用。
如何进行技术的选择：个人推荐最好还是使用ocket.io这个库， 原因就是更好用。但是很大的原因还是需要取决于后台的选择，如果后台选择了原生websocket，那么前端也需要使用原生websocket。如果后台对socket.io熟悉，那么前端也需要选择 socket.io，这是最好不过的，会让你们的开发更加的顺畅。
基础使用 1.websoket // WebSocket构造函数，创建WebSocket对象 let ws = new WebSocket(&#39;ws://localhost:8888&#39;) // 连接成功后的回调函数 ws.onopen = function (params) { console.log(&#39;客户端连接成功&#39;) // 向服务器发送消息 ws.send(&#39;hello&#39;) }; // 从服务器接受到信息时的回调函数 ws.onmessage = function (e) { console.log(&#39;收到服务器响应&#39;, e.data) }; // 连接关闭后的回调函数 ws.onclose = function(evt) { console.log(&#34;关闭客户端连接&#34;); }; // 连接失败后的回调函数 ws.onerror = function (evt) { console.log(&#34;连接失败了&#34;); }; // 监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，这样服务端会抛异常。 window.onbeforeunload = function() { ws." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d1fe2c4db4faead123cb16d13868d4cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-23T01:23:05+08:00" />
<meta property="article:modified_time" content="2023-05-23T01:23:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">websocket的基础使用，心跳机制，断线重连</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>websocket的基础使用，心跳机制，断线重连</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">前言</a></li><li><a href="#_4" rel="nofollow">主流的技术</a></li><li><a href="#_12" rel="nofollow">基础使用</a></li><li><ul><li><a href="#1websoket_13" rel="nofollow">1.websoket</a></li><li><a href="#2socketio_58" rel="nofollow">2.socket.io</a></li></ul> 
   </li><li><a href="#_121" rel="nofollow">心跳机制和断线重连</a></li><li><ul><li><a href="#node_127" rel="nofollow">实现代码（基础版-node后端）：</a></li><li><a href="#_161" rel="nofollow">实现代码（基础版-前端）：</a></li><li><ul><li><a href="#_314" rel="nofollow">主要的代码逻辑：</a></li><li><a href="#_321" rel="nofollow">最后是模拟重连的截图</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_328" rel="nofollow">最后</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>前言</h3> 
<p><strong>websoket出现的原因：</strong> 传统的http请求只能是由前端向后台发送一个请求，然后后台把结果返回给前端，前端再进行展示。这里就暴露了一个问题，就是通信只能由前端发起，而后台无法主动与前端通信。而websoket的出现就是为了解决这个问题，让前端可以主动联系后台，后台也可以主动联系前台。<br> <strong>应用场景：</strong> 相信大家都知道websoket的应用场景主要是用于即时通讯，比如QQ、微信即时通讯软件，同时在一些实时监控，需要即时暴露问题的地方也需要用到websoket，比如大屏可视化，需要及时的展现商品的成交数量。另外还有就是后台需要某个条件才能触发任务，在触发了任务时需要主动的告诉前端。</p> 
<h3><a id="_4"></a>主流的技术</h3> 
<p>1.原生websocket<br> 2.socket.io(推荐)</p> 
<p>目前在websocket中应用比较多的就是这两个技术，一个是原生的websoket，另外一个socket.io是在原生websoket的基础上进行了封装了一层后的技术，让程序员更加的好用。</p> 
<p>如何进行技术的选择：个人推荐最好还是使用ocket.io这个库， 原因就是更好用。但是很大的原因还是需要取决于后台的选择，如果后台选择了原生websocket，那么前端也需要使用原生websocket。如果后台对socket.io熟悉，那么前端也需要选择 socket.io，这是最好不过的，会让你们的开发更加的顺畅。</p> 
<h3><a id="_12"></a>基础使用</h3> 
<h4><a id="1websoket_13"></a>1.websoket</h4> 
<pre><code class="prism language-javascript"><span class="token comment">// WebSocket构造函数，创建WebSocket对象</span>
<span class="token keyword">let</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:8888'</span><span class="token punctuation">)</span>

<span class="token comment">// 连接成功后的回调函数</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'客户端连接成功'</span><span class="token punctuation">)</span>
  <span class="token comment">// 向服务器发送消息</span>
  ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 从服务器接受到信息时的回调函数</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'收到服务器响应'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 连接关闭后的回调函数</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"关闭客户端连接"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 连接失败后的回调函数</span>
ws<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"连接失败了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// 监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，这样服务端会抛异常。</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    ws<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>  

</code></pre> 
<p>如以上代码，基本上已经涵盖了原生ws的所有用法，包括原生ws的事件：open，Message，Error，Close四大事件，两个基本方法：send方法（用于发送数据），close方法（用于关闭连接）</p> 
<p>解释：<br> open事件：websoket连接成功时会执行<strong>该方法</strong>（也叫做回调函数）<br> message事件：websoket在收到消息时会执行该方法，例如后台send一个数据给前端，前端收到后就会执行message方法。<br> error事件：websoket连接错误时会执行该方法，一般是用于处理ws错误的情况<br> close事件：websoket连接关闭后会执行该回调函数，一般用于处理错误或善后<br> send方法：websoket发送消息的方法<br> colse方法：主动关闭ws连接的方法</p> 
<p>参考链接：websoket前端基本使用：<a href="https://blog.csdn.net/qq_17627195/article/details/128559926">https://blog.csdn.net/qq_17627195/article/details/128559926</a></p> 
<h4><a id="2socketio_58"></a>2.socket.io</h4> 
<p>这里soket.io分为前端和后端，前端使用只需要使用socket.io-client这个库就ok了，如下图官网<br> <img src="https://images2.imgbox.com/8e/3b/S09dG8Yd_o.png" alt="image.png"><br> 引入：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> io <span class="token keyword">from</span> <span class="token string">'socket.io-client'</span><span class="token punctuation">;</span>
</code></pre> 
<p>使用：</p> 
<pre><code class="prism language-javascript">
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> io <span class="token keyword">from</span> <span class="token string">'socket.io-client'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span><span class="token punctuation">{<!-- --></span>
      sockets<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 建立socket连接</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets <span class="token operator">=</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:8888'</span><span class="token punctuation">)</span>
    <span class="token comment">//监听</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'connect'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//监听连接是否成功</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"news"</span><span class="token punctuation">,</span><span class="token string">"这是发送事件的内容"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'connect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'disconnect'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//断开连接时触发此事件</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"connect_error"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
		  <span class="token comment">// 连接错误时触发该事件</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'connect_error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'XXXX'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//监听后端返回事件，XXXX是与后端约定的字段</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'XXXX'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>，
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//断开连接，需要时再执行</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sockets<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>


</code></pre> 
<p>这里列出了socket.io的主要事件和方法（还有一些没有列出，需要的可以到官网查询）<br> 主要事件有connect，disconnect，connect_error事件以及很重要的自定义消息事件。方法有on，emit，close方法<br> connect事件：socket.io连接成功后会执行该回调<br> disconnect事件：socket.io断开连接后会执行该回调<br> connect_error事件：socket.io连接错误时会执行该回调<br> 自定义消息事件xxxx：socket.io在收到后台发送的xxxx事件后会执行xxxx的事件。这里的自定义消息事件，一定是前后端都需要一致的。比如后台向前端发送了(emit)事件A，内容为’aaaa’，则前端通过监听事件A,则能拿到后台的消息，一致的是事件A的名字。<br> on方法：监听各种事件<br> emit方法：用于发送消息<br> close方法：用于关闭socket.io的连接</p> 
<p>参考链接：<br> 1.官网：<a href="https://socket.io/docs/v4/client-socket-instance/" rel="nofollow">https://socket.io/docs/v4/client-socket-instance/</a><br> 2.socket.io前端基本使用：<a href="https://blog.csdn.net/dragon_zjl/article/details/124793808">https://blog.csdn.net/dragon_zjl/article/details/124793808</a></p> 
<h3><a id="_121"></a>心跳机制和断线重连</h3> 
<p><strong>心跳机制和断线重连方法出现的原因：</strong> 这里想说明的是websoket的基本使用其实是不难的，最主要还是需要去处理实际业务中会出现的问题，如果仅会基础使用的话，你将会面临以下几个问题：1.服务端挂了，半小时后服务重启成功了，但是发现websoket依然没有连接上来。 2.用户断网，断网之后又有网了，发现websoket在断网后断开了连接，但是在用户有网时却没有连接上来 3.在使用了nginx之后发现：websoket会自动断线，且连接不上来。</p> 
<p>心跳机制简述：就是客户端每隔一段时间向服务端发送一个特有的心跳消息，每次服务端收到消息后只需将消息返回，此时，若二者还保持连接，则客户端就会收到消息，若没收到，则说明连接断开，此时，客户端就要主动重连，完成一个周期</p> 
<p>断线重连简述：就是在用户断线或者服务端掉线之后，每隔一段时间重新new一个websoket实例的过程（new的过程就是连接的过程）。</p> 
<h4><a id="node_127"></a>实现代码（基础版-node后端）：</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> WebSocket <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"ws"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> wss <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket<span class="token punctuation">.</span>Server</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> port<span class="token operator">:</span> <span class="token number">3000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

wss<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"connection"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ws</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"有人连接进来了"</span><span class="token punctuation">)</span>
  <span class="token comment">// ws.on("message", (data) =&gt; {<!-- --></span>
  <span class="token comment">//   ws.send(data + "+九月九日忆山东兄弟")</span>
  <span class="token comment">// })</span>
  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"连接错误"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"有人断开连接了"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  ws<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>ModeCode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">case</span> <span class="token string">"message"</span><span class="token operator">:</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"收到消息"</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
        ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">"heart_beat"</span><span class="token operator">:</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">收到心跳</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>data<span class="token punctuation">.</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="_161"></a>实现代码（基础版-前端）：</h4> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>nav<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/"</span><span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">|</span>
      <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> wsdata <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">const</span> ModeCode <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// websocket消息类型</span>
  <span class="token constant">MSG</span><span class="token operator">:</span> <span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token comment">// 普通消息</span>
  <span class="token constant">HEART_BEAT</span><span class="token operator">:</span> <span class="token string">'heart_beat'</span> <span class="token comment">// 心跳</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      ws<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      webSocketState<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// webSocket的连接状态</span>
      heartBeat<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 心跳连接的时间设置</span>
        time<span class="token operator">:</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 心跳时间间隔</span>
        timeout<span class="token operator">:</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// timeout：心跳超时间隔</span>
        reconnect<span class="token operator">:</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token comment">// 断线重连时间</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      reconnectTimer<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token comment">// 断线重连时间器</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">connectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/*
     * 心跳初始函数
     * @param time：心跳时间间隔
     */</span>
    <span class="token function">startHeartBeat</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>
          <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            ModeCode<span class="token operator">:</span> ModeCode<span class="token punctuation">.</span><span class="token constant">HEART_BEAT</span><span class="token punctuation">,</span>
            msg<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">waitingServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 延时等待服务端响应，通过webSocketState判断是否连线成功</span>
    <span class="token function">waitingServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">startHeartBeat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat<span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'心跳无响应，已断线'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'连接已关闭，无需关闭'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reconnectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 重连操作</span>
    <span class="token function">reconnectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>reconnectTimer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reconnectWs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat<span class="token punctuation">.</span>reconnect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">connectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'ws://localhost:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// eslint-disable-next-line spaced-comment</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//socket状态设置为连接，做为后面的断线重连的拦截器</span>
        <span class="token comment">// eslint-disable-next-line no-unused-expressions</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat<span class="token punctuation">.</span>time <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">startHeartBeat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heartBeat<span class="token punctuation">.</span>time<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// 是否启动心跳机制</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开启'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>ModeCode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">case</span> ModeCode<span class="token punctuation">.</span><span class="token constant">MSG</span><span class="token operator">:</span> <span class="token comment">// 普通消息</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'收到消息'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> ModeCode<span class="token punctuation">.</span><span class="token constant">HEART_BEAT</span><span class="token operator">:</span> <span class="token comment">// 心跳</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'收到心跳响应'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// socket状态设置为断线</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'断开了连接'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>webSocketState <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// socket状态设置为断线</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reconnectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重连</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'连接发生了错误'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">reconnectWs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 第一次执行，初始化</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">connectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ws <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reconnectTimer<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 防止多个websocket同时执行</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reconnectTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ws<span class="token punctuation">.</span>reconnectTimer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">connectWebSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span><span class="token operator">&gt;</span>
#app <span class="token punctuation">{<!-- --></span>
  font<span class="token operator">-</span>family<span class="token operator">:</span> Avenir<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> antialiased<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>osx<span class="token operator">-</span>font<span class="token operator">-</span>smoothing<span class="token operator">:</span> grayscale<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #<span class="token number">2</span>c3e50<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

nav <span class="token punctuation">{<!-- --></span>
  padding<span class="token operator">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>

  a <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> bold<span class="token punctuation">;</span>
    color<span class="token operator">:</span> #<span class="token number">2</span>c3e50<span class="token punctuation">;</span>

    <span class="token operator">&amp;</span><span class="token punctuation">.</span>router<span class="token operator">-</span>link<span class="token operator">-</span>exact<span class="token operator">-</span>active <span class="token punctuation">{<!-- --></span>
      color<span class="token operator">:</span> #<span class="token number">42</span>b983<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> 
<h5><a id="_314"></a>主要的代码逻辑：</h5> 
<p>1.在声明周期钩子函数created中进行连接ws，主要是去new出一个ws实例，以及为该实例注册事件。<br> 2.在连接ws成功后会执行open的回调函数，在该回调函数中开启心跳，即定时向后端发送数据，如代码中，向后台每5秒发送一个心跳，并同时等待服务端的响应（waitingServer函数）。在waitingServer函数中将连接状态设置为false（假设没连接），<strong>如果此时后台是连接正常的，则会触发message的回调函数，将连接状态设置为true</strong>。而且waitingServer函数将会在3秒后进行检测连接的状态。如果3s后的状态正常，则继续发送心跳。但是如果不成功，那么就去关闭本次websoket连接，并触发重连操作。<br> <img src="https://images2.imgbox.com/13/7a/soQ34s2u_o.png" alt="image.png"><br> 3.在重连操作中，则是每隔10s进行一次初始化ws的操作。但是在初始化ws时，由于后台服务掉线/用户没网会触发ws的’error’事件，该事件的回调中又去触发重连操作，重连操作中又是去触发初始化ws的操作，所以形成了一次次的重连操作，直到连接上后台服务为止。<br> <img src="https://images2.imgbox.com/d6/13/TJT26YsT_o.png" alt="image.png"><br> <img src="https://images2.imgbox.com/08/3a/WOPe4s0v_o.png" alt="image.png"></p> 
<h5><a id="_321"></a>最后是模拟重连的截图</h5> 
<p>a.后台服务掉线<br> <img src="https://images2.imgbox.com/15/1b/x3jSg9JK_o.png" alt="image.png"><br> <img src="https://images2.imgbox.com/79/57/LRUW0ndT_o.png" alt="image.png"><br> b.用户断网<br> <img src="https://images2.imgbox.com/b7/94/sF4YGX5s_o.png" alt="image.png"><br> <img src="https://images2.imgbox.com/3e/2d/8NBndwpK_o.png" alt="image.png"></p> 
<h3><a id="_328"></a>最后</h3> 
<p>websocket心跳机制和断线重连的理解可能需要花费更多的时间，重点是需要自己去跑通代码并看其中的逻辑，我这里放的代码是完全没有抽取过的，属于新手比较容易看得懂的代码。如果追求更好的代码封装，可以看下下面这篇文章：<br> 参考链接：心跳机制和断线重连：<a href="https://juejin.cn/post/6945057379834675230" rel="nofollow">https://juejin.cn/post/6945057379834675230</a></p> 
<p>这里放出本次demo的地址，可以下载下来自己去看。<br> demo地址：<br> node后台：<a href="https://github.com/rui-rui-an/wsnodeserver">https://github.com/rui-rui-an/wsnodeserver</a><br> 前端：<a href="https://github.com/rui-rui-an/wswebcode">https://github.com/rui-rui-an/wswebcode</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bcb4944b239ab20ca99517c9e087c6b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于SpringBoot&#43;Vue&#43;MybatisPlus的智慧校园系统</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d9ddba1a877de1f0f2500ae1eaad042c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JVM黑马版：笔记、应用、速查</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>