<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shell学习记录3 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Shell学习记录3" />
<meta property="og:description" content="1. 数组 普通数组：只能使用整数作为数组索引（元素下标）
定义
#数组名[索引下标]=值 array[0]=v1 array[1]=v2 array[2]=v3 #一次赋予多个值 array=(v1 v2 v3 v4) array=(aa bb &#34;cc&#34;) array=(1 2 3 4 &#34;abc&#34; [10]=lll) #将结果赋值给数组 array1=(`cat /etc/password`) array2=(`ls /etc`) 读取
#${数组名[元素下标]} echo ${array[0]} echo ${array[*]} #打印数组元素个数 echo ${#array[*]} #打印数组元素下标 echo ${!array[@]} #访问指定的元素；1代表从下标为1的元素开始获取；2代表获取后面几个元素 echo ${array[@]:1:2} #查看普通数组的信息 declare -a 关联数组：可以使用字符串作为数组索引（下标）
首先要声明是关联数组
declare -A array 赋值
#数组名[下标]=变量值 array[a]=one array[b]=two array[c]=three # array=([a]=one [b]=two [c]=three) 读取同上
2. 其他变量 取出一个目录下的目录和文件：dirname，basename
A=url(路径) #取出目录 dirname $A #取出文件 basename $A 变量“内容”的删除" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3104bd112d3c1fbb0e17f009a5a2a790/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-18T11:58:05+08:00" />
<meta property="article:modified_time" content="2020-02-18T11:58:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shell学习记录3</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="1__2"></a>1. 数组</h4> 
<ol><li> <p><strong>普通数组</strong>：只能使用整数作为数组索引（元素下标）</p> <p>定义</p> <pre><code class="prism language-powershell"><span class="token comment">#数组名[索引下标]=值</span>
array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>=v1
array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>=v2
array<span class="token punctuation">[</span>2<span class="token punctuation">]</span>=v3
<span class="token comment">#一次赋予多个值</span>
array=<span class="token punctuation">(</span>v1 v2 v3 v4<span class="token punctuation">)</span>
array=<span class="token punctuation">(</span>aa bb <span class="token string">"cc"</span><span class="token punctuation">)</span>
array=<span class="token punctuation">(</span>1 2 3 4 <span class="token string">"abc"</span> <span class="token punctuation">[</span>10<span class="token punctuation">]</span>=lll<span class="token punctuation">)</span>
<span class="token comment">#将结果赋值给数组</span>
array1=<span class="token punctuation">(</span>`<span class="token function">cat</span> <span class="token operator">/</span>etc<span class="token operator">/</span>password`<span class="token punctuation">)</span>
array2=<span class="token punctuation">(</span>`<span class="token function">ls</span> <span class="token operator">/</span>etc`<span class="token punctuation">)</span>
</code></pre> <p>读取</p> <pre><code class="prism language-shell"><span class="token comment">#${数组名[元素下标]}</span>
<span class="token keyword">echo</span> <span class="token variable">${array[0]}</span>
<span class="token keyword">echo</span> <span class="token variable">${array[*]}</span>
<span class="token comment">#打印数组元素个数</span>
<span class="token keyword">echo</span> <span class="token variable">${#array[*]}</span>
<span class="token comment">#打印数组元素下标</span>
<span class="token keyword">echo</span> <span class="token variable">${!array[@]}</span>
<span class="token comment">#访问指定的元素；1代表从下标为1的元素开始获取；2代表获取后面几个元素</span>
<span class="token keyword">echo</span> <span class="token variable">${array[@]:1:2}</span>
<span class="token comment">#查看普通数组的信息</span>
<span class="token keyword">declare</span> -a
</code></pre> </li><li> <p><strong>关联数组</strong>：可以使用字符串作为数组索引（下标）</p> <p>首先要声明是关联数组</p> <pre><code class="prism language-shell"><span class="token keyword">declare</span> -A array
</code></pre> <p>赋值</p> <pre><code class="prism language-shell"><span class="token comment">#数组名[下标]=变量值</span>
array<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span>one
array<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">=</span>two
array<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>three
<span class="token comment">#</span>
array<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span>one <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">=</span>two <span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token operator">=</span>three<span class="token punctuation">)</span>
</code></pre> <p>读取同上</p> </li></ol> 
<h4><a id="2__59"></a>2. 其他变量</h4> 
<ul><li> <p>取出一个目录下的目录和文件：dirname，basename</p> <pre><code class="prism language-shell">A<span class="token operator">=</span>url<span class="token punctuation">(</span>路径<span class="token punctuation">)</span>
<span class="token comment">#取出目录</span>
<span class="token function">dirname</span> <span class="token variable">$A</span>
<span class="token comment">#取出文件</span>
<span class="token function">basename</span> <span class="token variable">$A</span>
</code></pre> </li><li> <p>变量“内容”的删除</p> 
  <ul><li>一个"%"代表从右往左去掉一个/key/</li><li>两个"%%"代表从右往左最大去掉/key/</li><li>一个"#"代表从左往右去掉一个/key/</li><li>两个"#"代表从左往右最大去掉/key/</li></ul> <p>实例</p> <pre><code class="prism language-shell">url<span class="token operator">=</span>www.baidu.com
<span class="token comment">#变量的长度</span>
<span class="token keyword">echo</span> <span class="token variable">${#url}</span>
13
<span class="token keyword">echo</span> $<span class="token punctuation">{<!-- --></span>url<span class="token comment">#*.}</span>
baidu.com
<span class="token keyword">echo</span> $<span class="token punctuation">{<!-- --></span>url<span class="token comment">##*.}</span>
com
<span class="token keyword">echo</span> <span class="token variable">${url%.*}</span>
www.baidu
<span class="token keyword">echo</span> <span class="token variable">${url%%.*}</span>
www
</code></pre> </li><li> <p>变量“内容”的替换</p> <p>实例</p> <pre><code class="prism language-shell">url<span class="token operator">=</span>abab
<span class="token keyword">echo</span> <span class="token variable">${url/ab/AB}</span>
ABab
url<span class="token operator">=</span>abab
<span class="token keyword">echo</span><span class="token variable">${url//ab/AB}</span>
ABAB
</code></pre> </li></ul> 
<h4><a id="3_CASE_108"></a>3. CASE</h4> 
<p>结构</p> 
<pre><code class="prism language-shell"><span class="token keyword">case</span> var <span class="token keyword">in</span>
pattern 1<span class="token punctuation">)</span>
	command1
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
pattern 2<span class="token punctuation">)</span>
	command2
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
pattern 3<span class="token punctuation">)</span>
	command3
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
		*<span class="token punctuation">)</span>			<span class="token comment">#default</span>
	command4
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac
</code></pre> 
<p>实例</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
var<span class="token operator">=</span><span class="token string">"<span class="token variable">$1</span>"</span>
<span class="token keyword">echo</span> <span class="token variable">$var</span>
<span class="token keyword">case</span> <span class="token variable">$var</span> <span class="token keyword">in</span>
a<span class="token operator">|</span>A<span class="token punctuation">)</span>
    <span class="token keyword">echo</span> 1
<span class="token punctuation">;</span><span class="token punctuation">;</span>
b<span class="token operator">|</span>B<span class="token punctuation">)</span>
    <span class="token keyword">echo</span> 2
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
    <span class="token keyword">echo</span> 3
<span class="token punctuation">;</span><span class="token punctuation">;</span>
esac

./a.sh A
1
./a.sh b
2
./a.sh c
3
</code></pre> 
<h4><a id="4__155"></a>4. 函数</h4> 
<p><strong>定义</strong></p> 
<ol><li> <pre><code class="prism language-shell">函数名<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	函数体
<span class="token punctuation">}</span>
</code></pre> </li><li> <pre><code class="prism language-shell"><span class="token keyword">function</span> 函数名<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	函数体
<span class="token punctuation">}</span>
</code></pre> </li></ol> 
<p><strong>实例</strong></p> 
<pre><code class="prism language-shell"><span class="token comment">#创建文件</span>
vim a.sh
<span class="token comment">#!/bin/bash</span>
hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">echo</span> hello world
<span class="token punctuation">}</span>
<span class="token comment">#读取</span>
<span class="token function">source</span> a.sh
hello
hello world

<span class="token comment">#也可以不用source读取直接在文件中调用</span>
vim a.sh
<span class="token comment">#!/bin/bash</span>
hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">echo</span> hello world
<span class="token punctuation">}</span>
hello
</code></pre> 
<p><strong>关于return</strong></p> 
<p>return默认返回函数中最后一个命令状态值，也可以给定参数值，范围是0-256</p> 
<p><strong>全局</strong></p> 
<p>希望自己的函数变成全局的话去修改/etc/bashrc吧</p> 
<h4><a id="5__206"></a>5. 各种符号</h4> 
<ol><li><strong>&amp; 表示任务在后台执行，加在命令的末尾</strong></li><li><strong>&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令</strong></li><li><strong>| 表示管道，上一条命令的输出，作为下一条命令参数(输入)</strong></li><li><strong>|| 表示上一条命令执行失败后，才执行下一条命令</strong></li><li><strong>&gt;是指：将正常信息重定向</strong></li><li><strong>&amp;&gt;可以将错误信息或者普通信息都重定向输出</strong></li></ol> 
<h4><a id="6__215"></a>6. 正则表达式</h4> 
<p>​ 这里正则表达式主要是用来对字符串进行操作，主要可以实现匹配邮箱，匹配身份证号码，手机号，银行卡号等功能。</p> 
<table><thead><tr><th>字符</th><th>描述</th></tr></thead><tbody><tr><td>\</td><td>建一个字符标记为一个特殊字符，或一个原义字符，比如，”n”匹配字符“n”, “/n”匹配一个换行符，序列”\”匹配”\”而“(”匹配”(“。</td></tr><tr><td>^</td><td>匹配输入字符串的开始位置</td></tr><tr><td>$</td><td>匹配输入字符串的结束位置</td></tr><tr><td>{n}</td><td>n是一个非负整数，匹配确定的n次，例如：”o{2}”不能匹配“Bob”种的“o”,但是能匹配“book”种的两个”o”</td></tr><tr><td>{n,}</td><td>n是一个非负整数，至少匹配n次，例如：“o{2,}“不能匹配‘bob’，但可以匹配”foooood“种的所有‘o’, <code>"o{1,}"等价于”o+“,"o{0,}"等价于”o*“</code></td></tr><tr><td>{n,m }</td><td>m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次，比如“o{1，3}”将匹配“fooooodv”种的前三个o</td></tr><tr><td>*</td><td>匹配前面的子表达式零次或多次</td></tr><tr><td>+</td><td>匹配前面的子表达式一次或多次</td></tr><tr><td>?</td><td>匹配前面的子表达式零次或一次</td></tr><tr><td>?</td><td>当该字符紧跟在任何一个其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。</td></tr><tr><td>.</td><td>匹配除了”\n“之外的任何单个字符，要匹配包括“\n”在内的任何字符，请使用像“(.｜\n)”的模式。</td></tr><tr><td>（pattern）</td><td>匹配pattern并获取这一匹配的子字符串。该子字符串用户向后引用。要匹配圆括号字符，请使用“(”或“)”。</td></tr><tr><td>x竖线y</td><td>匹配x或y。 例如”z竖线food“能匹配”z“或”food”.”(z竖线f)oood”则匹配”zood“或”food“。</td></tr><tr><td>[xyz]</td><td>字符集合（character class）。匹配所包含的任意一个字符。例如，”[abc]“可以匹配”plain“中的”a”。其中特殊字符仅有反斜线\保持特殊含义，用于转义字符。其它特殊字符如星号、加号、各种括号等均作为普通字符。脱字符^如果出现在首位则表示负值字符集合；如果出现在字符串中间就仅作为普通字符。连字符 - 如果出现在字符串中间表示字符范围描述；如果如果出现在首位则仅作为普通字符。</td></tr><tr><td>[^xyz]</td><td>排除型（negate）字符集合。匹配未列出的任意字符。例如，“[^abc]”可以匹配“plain”中的“plin”。</td></tr><tr><td>[a-z]</td><td>字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</td></tr><tr><td>[a-z]</td><td>字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/643f7084d9370920a891a337c943672e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网易云音乐API调用（持续跟新中）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9b5b874e34b29205ad6ccd190669dc4b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ESP8266和ESP32的nvs操作自定义分区</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>