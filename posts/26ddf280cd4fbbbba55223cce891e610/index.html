<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>B站武sir-django教程(1) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="B站武sir-django教程(1)" />
<meta property="og:description" content="day15 初识Django Python知识点：函数、面向对象。前端开发：HTML、CSS、JavaScript、jQuery、BootStrap。MySQL数据库。Python的Web框架： Flask，自身短小精悍 &#43; 第三方组件。Django，内部已集成了很多组件 &#43; 第三方组件。【主要】 1.安装django pip install django c:\python39 - python.exe - Scripts - pip.exe - django-admin.exe 【工具，创建django项目中的文件和文件夹】 - Lib - 内置模块 - site-packages - openpyxl - python-docx - flask - django 【框架的源码】 2.创建项目 django中项目会有一些默认的文件和默认的文件夹。
2.1 在终端 打开终端。
进入某个目录（项目放在哪里）。
/Users/wupeiqi/PycharmProjects/gx 执行命令创建项目
&#34;c:\python39\Scripts\django-admin.exe&#34; startproject 项目名称 # 如果 c:\python39\Scripts 已加入环境系统环境变量。 django-admin startproject 项目名称 # 我自己的电脑 /Library/Frameworks/Python.framework/Versions/3.9/bin/django-admin startproject mysite 2.2 Pycharm 注意：
- Python解释器安装目录：C:\python39\python.exe lib.... /Library/Frameworks/Python.framework/Versions/3.9/ - F:\pycode\ (基于Django创建的项目) /Users/wupeiqi/PycharmProjects 特殊说明：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/26ddf280cd4fbbbba55223cce891e610/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-14T09:25:04+08:00" />
<meta property="article:modified_time" content="2023-12-14T09:25:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">B站武sir-django教程(1)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="day15_Django_0"></a>day15 初识Django</h2> 
<ul><li>Python知识点：函数、面向对象。</li><li>前端开发：HTML、CSS、JavaScript、jQuery、BootStrap。</li><li>MySQL数据库。</li><li>Python的Web框架： 
  <ul><li>Flask，自身短小精悍 + 第三方组件。</li><li>Django，内部已集成了很多组件 + 第三方组件。【主要】</li></ul> </li></ul> 
<h3><a id="1django_11"></a>1.安装django</h3> 
<pre><code>pip install django
</code></pre> 
<pre><code>c:\python39
	- python.exe
	- Scripts
		- pip.exe
		- django-admin.exe   【工具，创建django项目中的文件和文件夹】
	- Lib
		- 内置模块
		- site-packages
			- openpyxl
			- python-docx
			- flask
			- django         【框架的源码】
</code></pre> 
<h3><a id="2_34"></a>2.创建项目</h3> 
<blockquote> 
 <p>django中项目会有一些默认的文件和默认的文件夹。</p> 
</blockquote> 
<h4><a id="21__40"></a>2.1 在终端</h4> 
<ul><li> <p>打开终端。</p> </li><li> <p>进入某个目录（项目放在哪里）。</p> <pre><code>/Users/wupeiqi/PycharmProjects/gx
</code></pre> </li><li> <p>执行命令创建项目</p> <pre><code>"c:\python39\Scripts\django-admin.exe" startproject 项目名称
</code></pre> <pre><code># 如果 c:\python39\Scripts 已加入环境系统环境变量。

django-admin startproject 项目名称
</code></pre> <pre><code># 我自己的电脑
/Library/Frameworks/Python.framework/Versions/3.9/bin/django-admin startproject mysite
</code></pre> </li></ul> 
<p><img src="https://images2.imgbox.com/42/44/3sgdA423_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22_Pycharm_68"></a>2.2 Pycharm</h4> 
<p>注意：</p> 
<pre><code>- Python解释器安装目录：C:\python39\python.exe lib....
	/Library/Frameworks/Python.framework/Versions/3.9/
	
- F:\pycode\ (基于Django创建的项目)
	/Users/wupeiqi/PycharmProjects
</code></pre> 
<p><img src="https://images2.imgbox.com/bb/e1/bWCCTnE3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/df/eigO0iSP_o.png" alt="在这里插入图片描述"></p> 
<p>特殊说明：</p> 
<ul><li> <p>命令行，创建的项目是标准的。</p> </li><li> <p>pycharm，在标准的基础上默认给咱们加了点东西。</p> 
  <ul><li> <p>创建了一个templates目录【删除】</p> </li><li> <p>settings.py中【删除】<br> <img src="https://images2.imgbox.com/73/4b/cqkxhRE9_o.png" alt="在这里插入图片描述"></p> </li></ul> </li></ul> 
<p>默认项目的文件介绍：</p> 
<pre><code>mysite
├── manage.py         【项目的管理，启动项目、创建app、数据管理】【不要动】【***常常用***】
└── mysite
    ├── __init__.py
    ├── settings.py    【项目配置】          【***常常修改***】
    ├── urls.py        【URL和函数的对应关系】【***常常修改***】
    ├── asgi.py        【接收网络请求】【不要动】
    └── wsgi.py        【接收网络请求】【不要动】
</code></pre> 
<h3><a id="3_app_115"></a>3. 创建app</h3> 
<pre><code>- 项目
	- app，用户管理【表结构、函数、HTML模板、CSS】
	- app，订单管理【表结构、函数、HTML模板、CSS】
	- app，后台管理【表结构、函数、HTML模板、CSS】
	- app，网站   【表结构、函数、HTML模板、CSS】
	- app，API    【表结构、函数、HTML模板、CSS】
	..
	
注意：我们开发比较简洁，用不到多app，一般情况下，项目下创建1个app即可。
</code></pre> 
<p><img src="https://images2.imgbox.com/ad/b5/VCTi8M7m_o.png" alt="在这里插入图片描述"></p> 
<pre><code>├── app01
│   ├── __init__.py
│   ├── admin.py         【固定，不用动】django默认提供了admin后台管理。
│   ├── apps.py          【固定，不用动】app启动类
│   ├── migrations       【固定，不用动】数据库变更记录
│   │   └── __init__.py
│   ├── models.py        【**重要**】，对数据库操作。
│   ├── tests.py         【固定，不用动】单元测试
│   └── views.py         【**重要**】，函数。
├── manage.py
└── mysite2
    ├── __init__.py
    ├── asgi.py
    ├── settings.py
    ├── urls.py          【URL-&gt;函数】
    └── wsgi.py
</code></pre> 
<h3><a id="4_153"></a>4.快速上手</h3> 
<ul><li> <p>确保app已注册 【settings.py】<br> <img src="https://images2.imgbox.com/80/0d/mSEM4NQT_o.png" alt="在这里插入图片描述"></p> </li><li> <p>编写URL和视图函数对应关系 【urls.py】<br> <img src="https://images2.imgbox.com/3e/df/aPgOFo69_o.png" alt="在这里插入图片描述"></p> </li><li> <p>编写视图函数 【views.py】<br> <img src="https://images2.imgbox.com/21/fe/Yh3whCQi_o.png" alt="在这里插入图片描述"></p> </li><li> <p>启动django项目</p> 
  <ul><li> <p>命令行启动</p> <pre><code>python manage.py runserver 
</code></pre> </li><li> <p>Pycharm启动<br> <img src="https://images2.imgbox.com/20/c1/FoSjwj7X_o.png" alt="在这里插入图片描述"></p> </li></ul> </li></ul> 
<h4><a id="41__184"></a>4.1 再写一个页面</h4> 
<pre><code>- url -&gt; 函数
- 函数
</code></pre> 
<p><img src="https://images2.imgbox.com/b0/dd/vgKEa3be_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="42_templates_196"></a>4.2 templates模板</h4> 
<p><img src="https://images2.imgbox.com/c4/51/EPCZRux6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="43__203"></a>4.3 静态文件</h4> 
<p>在开发过程中一般将：</p> 
<ul><li>图片</li><li>CSS</li><li>js</li></ul> 
<p>都会当做静态文件处理。</p> 
<h5><a id="431_static_215"></a>4.3.1 static目录</h5> 
<p>在app目录下创建static文件夹。<br> <img src="https://images2.imgbox.com/a3/7d/WS20UkWR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="432__224"></a>4.3.2 引用静态文件</h5> 
<p><img src="https://images2.imgbox.com/16/78/1M6KzDvs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_231"></a>5.模板语法</h3> 
<p>本质上：在HTML中写一些占位符，由数据对这些占位符进行替换和处理。<br> <img src="https://images2.imgbox.com/6c/80/sFXAdCOV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_240"></a>案例：伪联通新闻中心</h3> 
<p><img src="https://images2.imgbox.com/f5/56/b3CndUP6_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/d4/68/7dzzPx57_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/84/1b/dVPJE5Wc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8f/65/KCer6WNO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_254"></a>6.请求和响应</h3> 
<p><img src="https://images2.imgbox.com/73/55/kx8iJbtO_o.png" alt="在这里插入图片描述"></p> 
<p>关于重定向：</p> 
<p><img src="https://images2.imgbox.com/9f/f8/OaBNHbkL_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_266"></a>案例：用户登录</h3> 
<p><img src="https://images2.imgbox.com/44/fe/j8QbDNyl_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/d1/a2/XmKopOYp_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/1b/56/iS63K9Sf_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7_281"></a>7.数据库操作</h3> 
<ul><li> <p>MySQL数据库 + pymysql</p> <pre><code class="prism language-python"><span class="token keyword">import</span> pymysql

<span class="token comment"># 1.连接MySQL</span>
conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span> user<span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">,</span> passwd<span class="token operator">=</span><span class="token string">"root123"</span><span class="token punctuation">,</span> charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">,</span> db<span class="token operator">=</span><span class="token string">'unicom'</span><span class="token punctuation">)</span>
cursor <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span>cursor<span class="token operator">=</span>pymysql<span class="token punctuation">.</span>cursors<span class="token punctuation">.</span>DictCursor<span class="token punctuation">)</span>

<span class="token comment"># 2.发送指令</span>
cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"insert into admin(username,password,mobile) values('wupeiqi','qwe123','15155555555')"</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 3.关闭</span>
cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>Django开发操作数据库更简单，内部提供了ORM框架。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/19/5f/6EnpRsgx_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="71__307"></a>7.1 安装第三方模块</h4> 
<pre><code>pip install mysqlclient
</code></pre> 
<p><img src="https://images2.imgbox.com/7e/a3/C1t86pHC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="72_ORM_318"></a>7.2 ORM</h4> 
<p>ORM可以帮助我们做两件事：</p> 
<ul><li> <p>创建、修改、删除数据库中的表（不用你写SQL语句）。 【无法创建数据库】</p> </li><li> <p>操作表中的数据（不用写SQL语句）。</p> </li></ul> 
<h5><a id="1__328"></a>1. 自己创建数据库</h5> 
<ul><li> <p>启动MySQL服务</p> </li><li> <p>自带工具创建数据库</p> <pre><code>create database gx_day15 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;
</code></pre> </li></ul> 
<p><img src="https://images2.imgbox.com/6a/89/XEwY6PDt_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2_django_343"></a>2. django连接数据库</h5> 
<p>在settings.py文件中进行配置和修改。</p> 
<pre><code class="prism language-python">DATABASES <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.mysql'</span><span class="token punctuation">,</span>
        <span class="token string">'NAME'</span><span class="token punctuation">:</span> <span class="token string">'gx_day15'</span><span class="token punctuation">,</span>  <span class="token comment"># 数据库名字</span>
        <span class="token string">'USER'</span><span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>
        <span class="token string">'PASSWORD'</span><span class="token punctuation">:</span> <span class="token string">'root123'</span><span class="token punctuation">,</span>
        <span class="token string">'HOST'</span><span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>  <span class="token comment"># 那台机器安装了MySQL</span>
        <span class="token string">'PORT'</span><span class="token punctuation">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/11/4e/KtEhsQEr_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3django_365"></a>3.django操作表</h5> 
<ul><li>创建表</li><li>删除表</li><li>修改表</li></ul> 
<p>创建表：在models.py文件中</p> 
<p><img src="https://images2.imgbox.com/c6/95/dQf6sfrM_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> app01_userinfo<span class="token punctuation">(</span>
    id <span class="token keyword">bigint</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    password <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    age <span class="token keyword">int</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>执行命令：</p> 
<pre><code>python3.9 manage.py makemigrations
python3.9 manage.py migrate
</code></pre> 
<p>注意：app需要提前注册。</p> 
<p><img src="https://images2.imgbox.com/ff/7e/ETWUPMNV_o.png" alt="在这里插入图片描述"></p> 
<p>在表中新增列时，由于已存在列中可能已有数据，所以新增列必须要指定新增列对应的数据：</p> 
<ul><li> <p>1，手动输入一个值。</p> </li><li> <p>设置默认值</p> <pre><code>age = models.IntegerField(default=2)
</code></pre> </li><li> <p>允许为空</p> <pre><code>data = models.IntegerField(null=True, blank=True)
</code></pre> </li></ul> 
<p>以后在开发中如果想要对表结构进行调整：</p> 
<ul><li> <p>在models.py文件中操作类即可。</p> </li><li> <p>命令</p> <pre><code>python3.9 manage.py makemigrations
python3.9 manage.py migrate
</code></pre> </li></ul> 
<h5><a id="4_436"></a>4.表中的数据</h5> 
<pre><code class="prism language-python">
<span class="token comment"># #### 1.新建 ####</span>
<span class="token comment"># Department.objects.create(title="销售部")</span>
<span class="token comment"># Department.objects.create(title="IT部")</span>
<span class="token comment"># Department.objects.create(title="运营部")</span>
<span class="token comment"># UserInfo.objects.create(name="武沛齐", password="123", age=19)</span>
<span class="token comment"># UserInfo.objects.create(name="朱虎飞", password="666", age=29)</span>
<span class="token comment"># UserInfo.objects.create(name="吴阳军", password="666")</span>

<span class="token comment"># #### 2.删除 ####</span>
<span class="token comment"># UserInfo.objects.filter(id=3).delete()</span>
<span class="token comment"># Department.objects.all().delete()</span>

<span class="token comment"># #### 3.获取数据 ####</span>
<span class="token comment"># 3.1 获取符合条件的所有数据</span>
<span class="token comment"># data_list = [对象,对象,对象]  QuerySet类型</span>
<span class="token comment"># data_list = UserInfo.objects.all()</span>
<span class="token comment"># for obj in data_list:</span>
<span class="token comment">#     print(obj.id, obj.name, obj.password, obj.age)</span>

<span class="token comment"># data_list = [对象,]</span>
<span class="token comment"># data_list = UserInfo.objects.filter(id=1)</span>
<span class="token comment"># print(data_list)</span>
<span class="token comment"># 3.1 获取第一条数据【对象】</span>
<span class="token comment"># row_obj = UserInfo.objects.filter(id=1).first()</span>
<span class="token comment"># print(row_obj.id, row_obj.name, row_obj.password, row_obj.age)</span>


<span class="token comment"># #### 4.更新数据 ####</span>
<span class="token comment"># UserInfo.objects.all().update(password=999)</span>
<span class="token comment"># UserInfo.objects.filter(id=2).update(age=999)</span>
<span class="token comment"># UserInfo.objects.filter(name="朱虎飞").update(age=999)</span>
</code></pre> 
<h3><a id="_481"></a>案例：用户管理</h3> 
<h4><a id="1__483"></a>1. 展示用户列表</h4> 
<ul><li>url</li><li>函数 
  <ul><li>获取所有用户信息</li><li>HTML渲染</li></ul> </li></ul> 
<h4><a id="2_490"></a>2.添加用户</h4> 
<ul><li>url</li><li>函数 
  <ul><li>GET，看到页面，输入内容。</li><li>POST，提交 -&gt; 写入到数据库。</li></ul> </li></ul> 
<h4><a id="3_499"></a>3.删除用户</h4> 
<ul><li>url</li><li>函数</li></ul> 
<pre><code>http://127.0.0.1:8000/info/delete/?nid=1
http://127.0.0.1:8000/info/delete/?nid=2
http://127.0.0.1:8000/info/delete/?nid=3

def 函数(request):
	nid = reuqest.GET.get("nid")
	UserInfo.objects.filter(id=nid).delete()
	return HttpResponse("删除成功")
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00857119ac870dc6260083182dc3ed79/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用docker部署nextcloud</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2631565865f4462eb9ff2807526a515a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">显示曾连接过的wifi密码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>