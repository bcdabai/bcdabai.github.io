<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Boost库的编译 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Boost库的编译" />
<meta property="og:description" content="Boost的编译
一. 编译环境 Win7 sp1 64位旗舰版 &#43; VS2008 sp1 &#43; boost 1.63
二. 下载boost http://www.boost.org/users/history/version_1_63_0.html
https://sourceforge.net/projects/boost/files/boost/1.63.0/boost_1_63_0.7z
三. 生成boost的编译工具b2.exe和bjam.exe 3.1 解压boost_1_63_0.7z到C:\boost_1_63_0 (路径可任意选择,最好不要包含中文和空格);
3.2 使用VC2008的命令行工具并cd到C:\boost_1_63_0
3.3 输入bootstrap.bat
即可生成b2.exe和bjam.exe
四. 编译boost 4.1. 编译命令 我这里是全编译:
// 编译Debug版
b2.exe install --toolset=msvc-9.0 --prefix=&#34;vc9&#34; link=static runtime-link=shared threading=multi debug
// 编译Release版
b2.exe install--toolset=msvc-9.0 --prefix=&#34;vc9&#34; link=static runtime-link=shared threading=multi release
// Debug版和Release版都编译
b2.exe install--toolset=msvc-9.0 --prefix=&#34;vc9&#34; link=static runtime-link=shared threading=multi debug release
4.2. b2.exe/bjam.exe的命令参数解析 1). stage/install stage :表示只生成库(dll/lib);
install : 除了生成库((dll/lib)),还会拷贝boost的头文件到指定的include目录;(我试过了,要拷贝一万多个头文件,很慢)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/13d4a9b53e7c67c5d9d2a9cd6b98f19f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-03-23T21:23:02+08:00" />
<meta property="article:modified_time" content="2017-03-23T21:23:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Boost库的编译</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p>Boost<span style="font-family:宋体">的编译</span></p> 
<p> </p> 
<h2><strong><span style="font-family:宋体">一</span>. <span style="font-family:宋体">编译环境</span></strong></h2> 
<p><br> </p> 
<p>Win7 sp1 64<span style="font-family:宋体">位旗舰版 </span><span style="font-family:Calibri">+ VS2008 sp1 + boost 1.63</span></p> 
<p> </p> 
<h2><strong><span style="font-family:宋体">二</span>. <span style="font-family:宋体">下载</span><span style="font-family:Calibri">boost</span></strong></h2> 
<p><u><br> </u></p> 
<p><u><span style="color:rgb(0,0,255)"><a target="_blank" href="http://www.boost.org/users/history/version_1_63_0.html" rel="nofollow noopener noreferrer">http://www.boost.org/users/history/version_1_63_0.html</a></span></u></p> 
<p><a target="_blank" href="https://sourceforge.net/projects/boost/files/boost/1.63.0/boost_1_63_0.7z" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)">https://sourceforge.net/projects/boost/files/boost/1.63.0/boost_1_63_0.7z</span></u></a></p> 
<p> </p> 
<h2><strong><span style="font-family:宋体">三</span>. <span style="font-family:宋体">生成</span><span style="font-family:Calibri">boost</span><span style="font-family:宋体">的编译工具</span><span style="font-family:Calibri">b2.exe</span><span style="font-family:宋体">和</span><span style="font-family:Calibri">bjam.exe</span></strong></h2> 
<p><br> </p> 
<p>3.1 <span style="font-family:宋体">解压</span><span style="font-family:Calibri">boost_1_63_0.7z</span><span style="font-family:宋体">到</span><span style="font-family:Calibri">C:\boost_1_63_0  (</span><span style="font-family:宋体">路径可任意选择</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">最好不要包含中文和空格</span><span style="font-family:Calibri">);</span></p> 
<p>3.2 <span style="font-family:宋体">使用</span><span style="font-family:Calibri">VC2008</span><span style="font-family:宋体">的命令行工具并</span><span style="font-family:Calibri">cd</span><span style="font-family:宋体">到</span><span style="font-family:Calibri">C:\boost_1_63_0</span></p> 
<p>3.3 <span style="font-family:宋体">输入</span><span style="font-family:Calibri">bootstrap.bat</span></p> 
<p><span style="font-family:宋体">即可生成</span>b2.exe<span style="font-family:宋体">和</span><span style="font-family:Calibri">bjam.exe</span></p> 
<p> <img src="https://images2.imgbox.com/fa/22/nTTJ94F9_o.png" alt=""></p> 
<p> </p> 
<h2><strong><span style="font-family:宋体">四</span>. <span style="font-family:宋体">编译</span><span style="font-family:Calibri">boost</span></strong></h2> 
<p><strong><br> </strong></p> 
<h3><strong>4.1. <span style="font-family:黑体">编译命令</span></strong></h3> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">我这里是全编译</span>:</p> 
<p>// <span style="font-family:宋体">编译</span><span style="font-family:Calibri">Debug</span><span style="font-family:宋体">版</span></p> 
<p><span style="color:rgb(0,0,255)">b2.exe install --toolset=msvc-9.0 --prefix="vc9" link=static runtime-link=shared threading=multi debug</span></p> 
<p>// <span style="font-family:宋体">编译</span><span style="font-family:Calibri">Release</span><span style="font-family:宋体">版</span></p> 
<p><span style="color:rgb(0,0,255)">b2.exe </span><span style="color:rgb(0,0,255)">install</span><span style="color:rgb(0,0,255)">--toolset=msvc-9.0 --</span><span style="color:rgb(0,0,255)">prefix</span><span style="color:rgb(0,0,255)">="vc9" link=static runtime-link=shared threading=multi release</span></p> 
<p>// Debug<span style="font-family:宋体">版和</span><span style="font-family:Calibri">Release</span><span style="font-family:宋体">版都编译</span></p> 
<p><span style="color:rgb(0,0,255)">b2.exe </span><span style="color:rgb(0,0,255)">install</span><span style="color:rgb(0,0,255)">--toolset=msvc-9.0 --</span><span style="color:rgb(0,0,255)">prefix</span><span style="color:rgb(0,0,255)">="vc9" link=static runtime-link=shared threading=multi debug release</span></p> 
<p> </p> 
<h3><strong>4.2. b2.exe/bjam.exe<span style="font-family:黑体">的命令参数解析</span></strong></h3> 
<p><strong><br> </strong></p> 
<h4><strong>1). stage/install</strong></h4> 
<p><br> </p> 
<p>stage :<span style="font-family:宋体">表示只生成库</span><span style="font-family:Calibri">(dll/lib);</span></p> 
<p>install : <span style="font-family:宋体">除了生成库</span><span style="font-family:Calibri">((dll/lib)),</span><span style="font-family:宋体">还会拷贝</span><span style="font-family:Calibri">boost</span><span style="font-family:宋体">的头文件到指定的</span><span style="font-family:Calibri">include</span><span style="font-family:宋体">目录</span><span style="font-family:Calibri">;(</span><span style="font-family:宋体">我试过了</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">要拷贝一万多个头文件</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">很慢</span><span style="font-family:Calibri">)</span></p> 
<p><span style="font-family:Calibri"><br> </span></p> 
<h4><strong>2). toolset</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">指定编译器</span>, <span style="font-family:宋体">可选的如</span><span style="font-family:Calibri">borland, gcc, msvc(VC6), msvc-12.0(VS2013), msvc-14.0(VS2015)</span><span style="font-family:宋体">等</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">例如上面命令的</span><span style="color:rgb(0,0,255)">--toolset=msvc-9.0</span></p> 
<p><span style="color:rgb(0,0,255)"><br> </span></p> 
<h4><strong>3). without/with</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">选择不编译</span>/<span style="font-family:宋体">编译哪些库</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">因为我这里是全编译</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">所以不写</span><span style="font-family:Calibri">.</span></p> 
<p><span style="font-family:Calibri"><br> </span></p> 
<h4><strong>4). stagedir/prefix</strong></h4> 
<p><br> </p> 
<p>stage<span style="font-family:宋体">时使用</span><span style="font-family:Calibri">stagedir, install</span><span style="font-family:宋体">时使用</span><span style="font-family:Calibri">prefix,</span><span style="font-family:宋体">表示编译生成文件的路径</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">我这里是当前目录下的</span><span style="font-family:Calibri">v9</span><span style="font-family:宋体">目录</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">也就是</span><span style="color:rgb(0,0,255)">C:\boost_1_63_0\vc9</span></p> 
<p><span style="color:rgb(0,0,255)"><br> </span></p> 
<h4><strong>5). build-dir</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">编译生成的中间文件的路径</span>. <span style="font-family:宋体"> 这里没用到，默认就在根目录</span><span style="font-family:Calibri">(X:\boost_X_XX_X\boost)</span><span style="font-family:宋体">下</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">目录名为</span><span style="font-family:Calibri">bin.v2.</span></p> 
<p><span style="font-family:Calibri"><br> </span></p> 
<h4><strong>6). link</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">生成动态链接库</span>/<span style="font-family:宋体">静态链接库</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">生成动态链接库需使用</span><span style="font-family:Calibri">shared</span><span style="font-family:宋体">方式</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">生成静态链接库需使用</span><span style="font-family:Calibri">static</span><span style="font-family:宋体">方式</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">我这里是</span><span style="color:rgb(0,0,255)">link=static</span></p> 
<p><span style="color:rgb(0,0,255)"><br> </span></p> 
<h4><strong>7). runtime-link</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">动态</span>/<span style="font-family:宋体">静态链接</span><span style="font-family:Calibri">C/C++</span><span style="font-family:宋体">运行时库</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">同样有</span><span style="font-family:Calibri">shared</span><span style="font-family:宋体">和</span><span style="font-family:Calibri">static</span><span style="font-family:宋体">两种方式</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">这样</span><span style="font-family:Calibri">runtime-link</span><span style="font-family:宋体">和</span><span style="font-family:Calibri">link</span><span style="font-family:宋体">一共可以产生</span><span style="font-family:Calibri">4</span><span style="font-family:宋体">种组合方式</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">我这里是</span><span style="color:rgb(0,0,255)">runtime-link=shared</span></p> 
<p> </p> 
<h4><strong>8). threading</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">单</span>/<span style="font-family:宋体">多线程编译</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">一般都写多线程程序</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">当然要指定</span><span style="font-family:Calibri">multi</span><span style="font-family:宋体">方式了</span><span style="font-family:Calibri">;</span><span style="font-family:宋体">如果需要编写单线程程序</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">那么还需要编译单线程库</span><span style="font-family:Calibri">,</span><span style="font-family:宋体">可以使用</span><span style="font-family:Calibri">single</span><span style="font-family:宋体">方式</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">我这里是</span><span style="color:rgb(0,0,255)">threading=multi</span></p> 
<p><span style="color:rgb(0,0,255)"><br> </span></p> 
<h4><strong>9). debug/release</strong></h4> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">编译</span>debug/release<span style="font-family:宋体">版本</span><span style="font-family:Calibri">.</span><span style="font-family:宋体">我这里是</span><span style="color:rgb(0,0,255)">debug release</span></p> 
<p><span style="color:rgb(0,0,255)"> </span></p> 
<h2><span style="font-family:宋体">五</span>. <span style="font-family:宋体">配置</span><span style="font-family:Calibri">boost</span><span style="font-family:宋体">在</span><span style="font-family:Calibri">VC</span><span style="font-family:宋体">上的路径</span></h2> 
<p><span style="font-family:宋体"><br> </span></p> 
<p><span style="font-family:宋体">你懂的</span>. </p> 
<p> </p> 
<p><span style="font-family:宋体">参考</span>:</p> 
<p><a target="_blank" href="http://www.cppblog.com/FongLuo/archive/2016/10/20/214347.html" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)">http://www.cppblog.com/FongLuo/archive/2016/10/20/214347.html</span></u></a><span style="color:rgb(51,51,51)"><br> </span><a target="_blank" href="http://www.jianshu.com/p/de1fda741beb" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)">http://www.jianshu.com/p/de1fda741beb</span></u></a></p> 
<p><a target="_blank" href="http://blog.sina.com.cn/s/blog_62431a790101b4ci.html" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)">http://blog.sina.com.cn/s/blog_62431a790101b4ci.html</span></u></a></p> 
<p><a target="_blank" href="http://www.cppblog.com/HappySky2046/archive/2013/12/14/204794.html" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)">http://www.cppblog.com/HappySky2046/archive/2013/12/14/204794.html</span></u></a></p> 
<p><a target="_blank" href="http://www.cppblog.com/HappySky2046/archive/2013/12/14/204794.html" rel="nofollow noopener noreferrer"><u><span style="color:rgb(0,0,255)"></span></u></a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dd750d33d273109f0c3c54e3bbb3d166/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TestFlight 新项目创建新的testflight record，查看和删除</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e1c64c6dfb2bd5836997721efc34d9a0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Excel实现数据项校验的功能---VBA的编写以及数据有效性的设置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>