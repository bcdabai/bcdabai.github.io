<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>php ajax controller,php - AJAX controller in MVC - Stack Overflow - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="php ajax controller,php - AJAX controller in MVC - Stack Overflow" />
<meta property="og:description" content="As it currently stands, this question is not a good fit for our Q&amp;A format. We expect answers to be supported by facts, references, or expertise, but this question will likely solicit debate, arguments, polling, or extended discussion. If you feel that this question can be improved and possibly reopened, visit the help center for guidance.
Closed 8 years ago.
I am building a system while at the same time learning and implementing OOP and MVC." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4a072c1379b7baf603c0e32cfeac78fe/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-06T19:29:21+08:00" />
<meta property="article:modified_time" content="2021-08-06T19:29:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">php ajax controller,php - AJAX controller in MVC - Stack Overflow</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>As it currently stands, this question is not a good fit for our Q&amp;A format. We expect answers to be supported by facts, references, or expertise, but this question will likely solicit debate, arguments, polling, or extended discussion. If you feel that this question can be improved and possibly reopened, visit the help center for guidance.</p> 
 <p>Closed 8 years ago.</p> 
 <p>I am building a system while at the same time learning and implementing OOP and MVC.</p> 
 <p>The only thing I am still not sure about is how to incorporate AJAX into my MVC structure, so what I have gone with is a type of controller that responds to different "modes" from AJAX requests that accesses and returns results from the various objects in my system.</p> 
 <p>Is this a good way to do this or am I breaking the rules of MVC by having this controller that is very different to the other controllers in my system?</p> 
 <p>This is my AJAX "delegator":</p> 
 <p>session_start() ;</p> 
 <p>function __autoload($classname)</p> 
 <p>{<!-- --></p> 
 <p>include('/controllers/'.$classname.'.php') ;</p> 
 <p>}</p> 
 <p>// Deligator for contact operations.</p> 
 <p>if($_POST['mode'] == 'OPPORTUNITY_COUNT')</p> 
 <p>{<!-- --></p> 
 <p>$contactManager = new ContactManager($_SESSION['userid']) ;</p> 
 <p>echo $contactManager-&gt;fetchOpportunityCount() ;</p> 
 <p>}</p> 
 <p>elseif($_POST['mode'] == 'PROSPECT_COUNT')</p> 
 <p>{<!-- --></p> 
 <p>$contactManager = new ContactManager($_SESSION['userid']) ;</p> 
 <p>echo $contactManager-&gt;fetchProspectCount() ;</p> 
 <p>}</p> 
 <p>elseif($_POST['mode'] == 'CUSTOMER_COUNT')</p> 
 <p>{<!-- --></p> 
 <p>$contactManager = new ContactManager($_SESSION['userid']) ;</p> 
 <p>echo $contactManager-&gt;fetchCustomerCount() ;</p> 
 <p>}</p> 
 <p>else</p> 
 <p>{<!-- --></p> 
 <p>echo 'Error: Unknown mode.' ;</p> 
 <p>exit() ;</p> 
 <p>}</p> 
 <p>FYI This is how I send data to the router:</p> 
 <p>socket.on('UPDATE_OPPORTUNITY_DATA', function(date){<!-- --></p> 
 <p>$.ajax({data: 'mode=OPPORTUNITY_COUNT', success: function(data){<!-- --></p> 
 <p>$('#opportunityCount').html(data) ;</p> 
 <p>shaker('#opportunityCount') ;</p> 
 <p>}</p> 
 <p>})</p> 
 <p>})</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a48bb277db5b98121855ee5dfea7ca54/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">云服务器更新系统,云服务器能更新系统吗</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f18cf0345e91791f27772c6e31e88262/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Win8如何搭建IIS本地服务器网站,win8系统如何配置iis？windows8配置iis的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>