<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>课程设计  手动实现磁盘调动算法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="课程设计  手动实现磁盘调动算法" />
<meta property="og:description" content="磁盘调度算法 一、实验内容 模拟电梯调度算法，实现对磁盘的驱动调度。 二、实验目的 磁盘是一种高速、大量旋转型、可直接存取的存储设备。它作为计算机系统的辅助存储器，负担着繁重的输入输出任务，在多道程序设计系统中，往往同时会有若干个要求访问磁盘的输入输出请示等待处理。系统可采用一种策略，尽可能按最佳次序执行要求访问磁盘的诸输入输出请求，这就叫驱动调度，使用的算法称驱动调度算法。驱动调度能降低为若干个输入输出请求服务所须的总时间，从而提高系统效率。本实验要求学生模拟设计一个驱动调度程序，观察驱动调度程序的动态运行过程。
三、实验原理 模拟电梯调度算法，对磁盘调度。
磁盘是要供多个进程共享的存储设备，但一个磁盘每个时刻只能为一个进程服务。
当有进程在访问某个磁盘时，其他想访问该磁盘的进程必须等待，直到磁盘一次工作结束。
当有多个进程提出输入输出请求处于等待状态，可用电梯调度算法从若干个等待访问者中选择一个进程，让它访问磁盘。当存取臂仅需移到一个方向最远的所请求的柱面后,如果没有访问请求了,存取臂就改变方向。
假设磁盘有200个磁道，用C语言随机函数随机生成一个磁道请求序列（不少于15个）放入模拟的磁盘请求队列中，假定当前磁头在100号磁道上，并向磁道号增加的方向上移动。请给出按电梯调度算法进行磁盘调度时满足请求的次序,并计算出它们的平均寻道长度。
实现代码
~~~~~~~~头文件~~~~~~~~~
#pragma once #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;assert.h&gt; #include&lt;time.h&gt; #define size 20 typedef struct Track { int present;//当前访问的磁道 int nextTrack;//被访问的下一个磁道数 int change;//移动距离 struct Track *next;//指针域 }Track,*pTrack; //初始化 void Init(pTrack* phead); //磁道选择插入 void Insert(pTrack* phead, int m); //磁盘的运行过程 void Action(pTrack* phead); //建立一个新的节点 pTrack SetLNode(int m); //磁道的排序 void Sort(int arr[], int len); //打印磁道调度信息 void Print(pTrack phead); ~~~~~~~~源代码~~~~~~~~
#include&#34;Track.h&#34; void Init(pTrack* phead) { assert(phead); (*phead) = NULL; } void Print(pTrack phead) { double count = 0; pTrack cur = phead; assert(phead); printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9ed0db36932a1c6cb4203aea4d3bae83/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-10-05T20:01:39+08:00" />
<meta property="article:modified_time" content="2016-10-05T20:01:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">课程设计  手动实现磁盘调动算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin:0px 0px 22px; font-size:28px; font-family:'Microsoft YaHei'; line-height:30px; color:rgb(102,102,102); padding:0px; border:0px; outline:0px; vertical-align:baseline; text-align:center; background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent"><span style="margin:0px; padding:0px; font-weight:normal; border:0px; outline:0px; font-size:24px; vertical-align:baseline; background:transparent">磁盘调度算法</span></span></h2> 
<h3 style="font-family:'Microsoft YaHei'; line-height:1.1; color:rgb(102,102,102); margin:0px 0px 22px; font-size:22px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent">一、实验内容</span></h3> 
<blockquote style="padding:0px; margin:0px 0px 0px 40px; border:medium none; outline:0px; font-size:14px; vertical-align:baseline; color:rgb(153,153,153); font-family:'Microsoft YaHei'; line-height:20px; background:transparent"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; font-size:15px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:16px; vertical-align:baseline; background:transparent">   </span><span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">模拟电梯调度算法，实现对磁盘的驱动调度。 </span></p> 
</blockquote> 
<h3 style="font-family:'Microsoft YaHei'; line-height:1.1; color:rgb(102,102,102); margin:0px 0px 22px; font-size:22px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent">二、实验目的</span></h3> 
<blockquote style="padding:0px; margin:0px 0px 0px 40px; border:medium none; outline:0px; font-size:14px; vertical-align:baseline; color:rgb(153,153,153); font-family:'Microsoft YaHei'; line-height:20px; background:transparent"> 
 <p align="left" style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; font-size:15px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">磁盘是一种高速、大量旋转型、可直接存取的存储设备。它作为计算机系统的辅助存储器，负担着繁重的输入输出任务，在多道程序设计系统中，往往同时会有若干个要求访问磁盘的输入输出请示等待处理。系统可采用一种策略，尽可能按最佳次序执行要求访问磁盘的诸输入输出请求，这就叫驱动调度，使用的算法称驱动调度算法。驱动调度能降低为若干个输入输出请求服务所须的总时间，从而提高系统效率。本实验要求学生模拟设计一个驱动调度程序，观察驱动调度程序的动态运行过程。</span></p> 
</blockquote> 
<h3 style="font-family:'Microsoft YaHei'; line-height:1.1; color:rgb(102,102,102); margin:0px 0px 22px; font-size:22px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; vertical-align:baseline; background:transparent">三、实验原理</span></h3> 
<blockquote style="padding:0px; margin:0px 0px 0px 40px; border:medium none; outline:0px; vertical-align:baseline; color:rgb(153,153,153); font-family:'Microsoft YaHei'; line-height:20px; background:transparent"> 
 <p align="left" style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">模拟电梯调度算法，对磁盘调度。</span></p> 
 <p align="left" style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">磁盘是要供多个进程共享的存储设备，但一个磁盘每个时刻只能为一个进程服务。</span></p> 
 <p align="left" style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">当有进程在访问某个磁盘时，其他想访问该磁盘的进程必须等待，直到磁盘一次工作结束。</span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">当有多个进程提出输入输出请求处于等待状态，可用电梯调度算法从若干个等待访问者中选择一个进程，让它访问磁盘。当存取臂仅需移到一个方向最远的所请求的柱面后,如果没有访问请求了,存取臂就改变方向。</span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">    假设磁盘有200个磁道，用C语言随机函数随机生成一个磁道请求序列（不少于15个）放入模拟的磁盘请求队列中，假定当前磁头在100号磁道上，并向磁道号增加的方向上移动。请给出按电梯调度算法进行磁盘调度时满足请求的次序,并计算出它们的平均寻道长度。</span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"><br> </span></p> 
 <p style="margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="font-size:18px">实现代码</span></p> 
 <p style="margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="font-size:18px">~~~~~~~~头文件~~~~~~~~~</span></p> 
 <pre><code class="language-html">#pragma once
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;assert.h&gt;
#include&lt;time.h&gt;
#define size 20
typedef struct Track
{
	int present;//当前访问的磁道  
	int nextTrack;//被访问的下一个磁道数  
	int change;//移动距离  
	struct Track  *next;//指针域 
}Track,*pTrack;

//初始化
void Init(pTrack* phead);
//磁道选择插入
void Insert(pTrack* phead, int m);
//磁盘的运行过程
void Action(pTrack* phead);
//建立一个新的节点
pTrack SetLNode(int m);
//磁道的排序
void Sort(int arr[], int len);
//打印磁道调度信息
void Print(pTrack phead);
</code></pre> 
 <br> 
 <p></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">~~~~~~~~源代码~~~~~~~~</span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"></span></p> 
 <pre><code class="language-html">#include"Track.h"


void Init(pTrack* phead)
{
	assert(phead);
	(*phead) = NULL;
}

void Print(pTrack phead)
{
	double count = 0;
	pTrack cur = phead;
	assert(phead);
	printf("	从第100#号磁道开始\n");
	printf("被访问的下一个磁道数	移动距离(磁道数)\n");
	while (cur)
	{
		printf("%3d			%3d\n", cur-&gt;nextTrack, cur-&gt;change);
		count += cur-&gt;change;
		cur = cur-&gt;next;
	}
	printf("平均寻道长度为 %3f\n", count / size);
}
pTrack SetLNode(int m)
{
	pTrack cur = NULL;
	cur = (pTrack)malloc(sizeof(Track));
	if (!cur)
	{
		exit(EXIT_FAILURE);
	}
	cur-&gt;nextTrack = m;
	cur-&gt;next = NULL;
	return cur;
}
void Insert(pTrack* phead, int m)//m为当前要插进去的磁道编号
{
	pTrack cur = *phead;
	pTrack pur = SetLNode(m);
	assert(phead);
	while (cur&amp;&amp;cur-&gt;next)
	{
		cur = cur-&gt;next;
	}
	if (cur)
	{
		cur-&gt;next = pur;
		pur-&gt;present = cur-&gt;nextTrack;
		pur-&gt;change = (pur-&gt;nextTrack) - (pur-&gt;present);
		if (pur-&gt;change &lt; 0)
		{
			pur-&gt;change = - pur-&gt;change;
		}
	}
	else
	{
		pur-&gt;present = 100;
		pur-&gt;change = (pur-&gt;nextTrack) - (pur-&gt;present);
		if (pur-&gt;change &lt; 0)
		{
			pur-&gt;change = -pur-&gt;change;
		}
		*phead= pur;
	}	
}
void Sort(int arr[], int len)
{
	int i = 0;
	int j = 0;
	int temp = 0;
	int a[size] = { 0 };
	//先从小到大排序
	for (i = 1; i &lt; len; i++)
	{
		int temp = arr[i];
		j = i - 1;
		while (j &gt;= 0 &amp;&amp; temp &lt; arr[j])
		{
			arr[j + 1] = arr[j];
			j--;
		}
		arr[j + 1] = temp;
	}
	for (i = 0; i &lt; len; i++)
	{
		if (arr[i] &gt;= 100)
		{
			temp = i;
			break;
		}
	}
	for (i = temp, j = 0; i &lt; len; j++, i++)
	{
		a[j] = arr[i];
	}
	for (i = j; i &lt; len; i++)
	{
		a[i] = arr[--temp];
	}
	for (i = 0; i &lt; len; i++)
	{
		arr[i] = a[i];
	}
}
void Action(pTrack* phead)
{
	pTrack cur = *phead;
	int arr[size] = { 0 };
	int i = 0;
	assert(phead);
	srand((unsigned)time(NULL));
	for (i = 0; i &lt; size; i++)
	{
		arr[i] = rand() % 201;;
	}
	Sort(arr, size);
	for (i = 0; i &lt; size; i++)
	{
		Insert(phead, arr[i]);
	}
}</code></pre> 
 <br> 
 <br> 
 <p></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent">~~~~~~~~~测试代码~~~~~~~~~~</span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"></span></p> 
 <pre><code class="language-html">#include"Track.h"

int main()
{
	pTrack ptrack = NULL;
	Init(&amp;ptrack);
	Action(&amp;ptrack);
	Print(ptrack);
	system("pause");
	return 0;
}</code></pre> 
 <br> 
 <br> 
 <p></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"><br> </span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"><br> </span></p> 
 <p style="font-size:15px; margin-top:0px; margin-bottom:22px; padding-top:0px; padding-bottom:0px; border:0px; outline:0px; vertical-align:baseline; line-height:26px; color:rgb(102,102,102); background-color:transparent"> <span style="margin:0px; padding:0px; border:0px; outline:0px; font-size:18px; vertical-align:baseline; background:transparent"><br> </span></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b70ca52968697dd57321ede99be616b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【JAVA】数字排列组合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/411942a2e997447a1e5f7fcd81368053/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">史上最详细最容易理解的HMM文章</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>