<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql数据库的存储引擎&amp;索引 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql数据库的存储引擎&amp;索引" />
<meta property="og:description" content="目录
存储引擎
给表添加 / 指定存储引擎
查看mysql支持的存储引擎
mysql常用的存储引擎 索引（index）
什么时候需要给字段添加索引
索引的创建和删除语法
数据库的五种索引类型
存储引擎 存储引擎是mysql中特有的一个术语，其他数据库中没有
是一个表存储/组织数据的方式
不同的存储引擎，表存储数据的方式不同
给表添加 / 指定存储引擎 show create table 表名; //查看完整建表语句 //可以在建表时给表指定存储引擎 例： create table t_product( id int primary key, name varchar(255) )engine=InnoDB default charset=gbk; 建表时在最后小括号）的右边使用： ENGINE来指定存储引擎 CHARSET来指定这张表的字符编码方式 结论：mysql默认的存储引擎：InnoDB mysql默认的字符编码方式：utf8 查看mysql支持的存储引擎 命令：show engines \G mysql支持九大存储引擎。版本不同支持情况不同。 //select version();	查看当前数据库的版本 mysql常用的存储引擎 MyISAM存储引擎 它管理的表具有以下特征： 使用三个文件表示每个表： 格式文件 — 存储表结构的定义（mytable.frm） 数据文件 — 存储表行的内容（mytable.MYD） 索引文件 — 存储表上索引（mytable.MYI）：索引是一本书的目录，缩小扫描范围，提高查询效率的一种机制。
提示一下： 对于一张表来说，只要是主键，或者加有unique约束的字段上会自动创建索引。 MyISAM存储引擎特点： 可被转换为压缩、只读表来节省空间。这是这种存储引擎的优势！ MyISAM不支持事务机制，安全性低。
InnoDB存储引擎 mysql默认的存储引擎，同时也是一个重量级的存储引擎。 InnoDB支持事务，支持数据库崩溃后自动恢复机制。 InnoDB存储引擎最主要的特点是：非常安全。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f29b94376da68d9fe32a2d2e54946c28/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-10T14:03:14+08:00" />
<meta property="article:modified_time" content="2022-02-10T14:03:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql数据库的存储引擎&amp;索引</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E-toc" style="margin-left:80px;"><a href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E" rel="nofollow">存储引擎</a></p> 
<p id="%E7%BB%99%E8%A1%A8%E6%B7%BB%E5%8A%A0%20%2F%20%E6%8C%87%E5%AE%9A%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E-toc" style="margin-left:80px;"><a href="#%E7%BB%99%E8%A1%A8%E6%B7%BB%E5%8A%A0%20%2F%20%E6%8C%87%E5%AE%9A%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E" rel="nofollow">给表添加 / 指定存储引擎</a></p> 
<p id="%E6%9F%A5%E7%9C%8Bmysql%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E-toc" style="margin-left:80px;"><a href="#%E6%9F%A5%E7%9C%8Bmysql%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E" rel="nofollow">查看mysql支持的存储引擎</a></p> 
<p id="mysql%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%C2%A0-toc" style="margin-left:80px;"><a href="#mysql%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%C2%A0" rel="nofollow">mysql常用的存储引擎 </a></p> 
<p style="margin-left:80px;"></p> 
<p id="%E7%B4%A2%E5%BC%95%EF%BC%88index%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E7%B4%A2%E5%BC%95%EF%BC%88index%EF%BC%89" rel="nofollow">索引（index）</a></p> 
<p id="%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E7%BB%99%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95-toc" style="margin-left:80px;"><a href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E7%BB%99%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95" rel="nofollow">什么时候需要给字段添加索引</a></p> 
<p id="%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E8%AF%AD%E6%B3%95-toc" style="margin-left:80px;"><a href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E8%AF%AD%E6%B3%95" rel="nofollow">索引的创建和删除语法</a></p> 
<p id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BA%94%E7%A7%8D%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BA%94%E7%A7%8D%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B" rel="nofollow">数据库的五种索引类型</a></p> 
<hr id="hr-toc"> 
<h4 id="%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E">存储引擎</h4> 
<blockquote> 
 <p>存储引擎是mysql中特有的一个术语，其他数据库中没有</p> 
 <p>是一个表存储/组织数据的方式</p> 
 <p>不同的存储引擎，表存储数据的方式不同</p> 
</blockquote> 
<p></p> 
<h4 id="%E7%BB%99%E8%A1%A8%E6%B7%BB%E5%8A%A0%20%2F%20%E6%8C%87%E5%AE%9A%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E">给表添加 / 指定存储引擎</h4> 
<pre><code>show create table 表名; //查看完整建表语句
//可以在建表时给表指定存储引擎
例：
create table t_product(      
id int primary key,        
name varchar(255)    
)engine=InnoDB default charset=gbk;


建表时在最后小括号）的右边使用：
ENGINE来指定存储引擎
CHARSET来指定这张表的字符编码方式

结论：mysql默认的存储引擎：InnoDB
     mysql默认的字符编码方式：utf8</code></pre> 
<h4></h4> 
<h4 id="%E6%9F%A5%E7%9C%8Bmysql%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E">查看mysql支持的存储引擎</h4> 
<pre><code>命令：show engines \G
mysql支持九大存储引擎。版本不同支持情况不同。
//select version();	    查看当前数据库的版本</code></pre> 
<h4></h4> 
<h4 id="mysql%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%C2%A0">mysql常用的存储引擎 </h4> 
<p><strong>MyISAM存储引擎</strong>    </p> 
<blockquote> 
 <p>它管理的表具有以下特征：       </p> 
 <p>使用三个文件表示每个表：            </p> 
 <p>格式文件 — 存储表结构的定义（mytable.frm）            </p> 
 <p>数据文件 — 存储表行的内容（mytable.MYD）            </p> 
 <p>索引文件 — 存储表上索引（mytable.MYI）：索引是一本书的目录，缩小扫描范围，提高查询效率的一种机制。</p> 
 <p>          </p> 
 <p>提示一下：            </p> 
 <p>对于一张表来说，只要是主键，或者加有unique约束的字段上会自动创建索引。 </p> 
 <p>        </p> 
 <p>MyISAM存储引擎特点：           </p> 
 <p>可被转换为压缩、只读表来节省空间。这是这种存储引擎的优势！    </p> 
 <p>MyISAM不支持事务机制，安全性低。</p> 
</blockquote> 
<p></p> 
<p><strong>InnoDB存储引擎  </strong></p> 
<blockquote> 
 <p>mysql默认的存储引擎，同时也是一个重量级的存储引擎。   </p> 
 <p>InnoDB支持事务，支持数据库崩溃后自动恢复机制。   </p> 
 <p>InnoDB存储引擎最主要的特点是：非常安全。</p> 
 <p></p> 
 <p>它管理的表具有下列主要特征：       </p> 
 <p>– 每个 InnoDB 表在数据库目录中以.frm 格式文件表示       </p> 
 <p>– InnoDB 表空间 tablespace 被用于存储表的内容（表空间是一个逻辑名称。表空间存储数据+索引。）      </p> 
 <p>– 提供一组用来记录事务性活动的日志文件      </p> 
 <p>– 用 COMMIT(提交)、SAVEPOINT 及ROLLBACK(回滚)支持事务处理       </p> 
 <p>– 提供全 ACID 兼容       </p> 
 <p>– 在 MySQL 服务器崩溃后提供自动恢复       </p> 
 <p>– 多版本（MVCC）和行级锁定       </p> 
 <p>– 支持外键及引用的完整性，包括级联删除和更新</p> 
 <p>       </p> 
 <p>InnoDB最大的特点就是支持事务：</p> 
 <p>    以保证数据的安全。效率不是很高，并且也不能压缩，不能转换为只读，不能很好的节省存储空间。</p> 
</blockquote> 
<p></p> 
<p><strong>MEMORY存储引擎</strong>    </p> 
<blockquote> 
 <p>使用 MEMORY 存储引擎的表，其数据存储在内存中，且行的长度固定，    </p> 
 <p>这两个特点使得 MEMORY 存储引擎非常快。 </p> 
 <p>    </p> 
 <p>MEMORY 存储引擎管理的表具有下列特征：        </p> 
 <p>– 在数据库目录内，每个表均以.frm 格式的文件表示。        </p> 
 <p>– 表数据及索引被存储在内存中。（目的就是快，查询快！）       </p> 
 <p>– 表级锁机制。       </p> 
 <p>– 不能包含 TEXT 或 BLOB 字段。 </p> 
 <p>    </p> 
 <p>MEMORY 存储引擎以前被称为HEAP 引擎。 </p> 
 <p>    </p> 
 <p>MEMORY引擎优点：查询效率是最高的。不需要和硬盘交互。  </p> 
 <p>MEMORY引擎缺点：不安全，关机之后数据消失。因为数据和索引都是在内存当中。</p> 
</blockquote> 
<p></p> 
<p></p> 
<h4 id="%E7%B4%A2%E5%BC%95%EF%BC%88index%EF%BC%89">索引（index）</h4> 
<blockquote> 
 <p><strong>索引是在数据库表的字段上添加的，是为了提高查询效率存在的一种机制。</strong></p> 
 <p>一张表的一个字段可以添加一个索引，当然，多个字段联合起来也可以添加索引。</p> 
 <p>索引相当于一本书的目录，是为了缩小扫描范围而存在的一种机制。</p> 
</blockquote> 
<p></p> 
<blockquote> 
 <p><strong>MySQL在查询方面主要就是两种方式：</strong></p> 
 <p>第一种方式：全表扫描</p> 
 <p>第二种方式：根据索引检索。</p> 
 <p>     </p> 
 <p>在mysql数据库当中<u>索引也是需要排序的</u>，并且这个索引的排序和TreeSet数据结构相同。</p> 
 <p>TreeSet（TreeMap）底层是一个自平衡的二叉树！</p> 
 <p>在mysql当中索引是一个B-Tree数据结构。遵循左小右大原则存放。采用中序遍历方式遍历取数据。 </p> 
 <p>在任何数据库当中主键上都会自动添加索引对象，id字段上自动有索引，因为id是PK。</p> 
 <p>另外在mysql当中，一个字段上如果有unique约束的话，也会自动创建索引对象。</p> 
</blockquote> 
<p>    </p> 
<blockquote> 
 <p>在任何数据库当中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号。</p> 
 <p></p> 
 <p>在mysql当中，<u>索引是一个单独的对象，不同的存储引擎以不同的形式存在，</u></p> 
 <p>在MyISAM存储引擎中，索引存储在一个.MYI文件中。</p> 
 <p>在InnoDB存储引擎中索引存储在一个逻辑名称叫做tablespace的当中。</p> 
 <p>在MEMORY存储引擎当中索引被存储在内存当中。</p> 
 <p>不管索引存储在哪里，索引在mysql当中都是一个树的形式存在。（自平衡二叉树：B-Tree）</p> 
</blockquote> 
<p></p> 
<h4 id="%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E7%BB%99%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E7%B4%A2%E5%BC%95">什么时候需要给字段添加索引</h4> 
<pre><code>条件1：数据量庞大（到底有多么庞大算庞大，这个需要测试，因为每一个硬件环境不同）    
条件2：该字段经常出现在where的后面，以条件的形式存在，也就是说这个字段总是被扫描。    
条件3：该字段很少的DML(insert delete update)操作。（因为DML之后，索引需要重新排序）
 
建议不要随意添加索引，因为索引也是需要维护的，太多的话反而会降低系统的性能。
建议通过主键查询，建议通过unique约束的字段进行查询，效率是比较高的。</code></pre> 
<p></p> 
<h4 id="%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4%E8%AF%AD%E6%B3%95">索引的创建和删除语法</h4> 
<pre><code>创建索引：        
mysql&gt; create index emp_ename_index on emp(ename);
//给emp表的ename字段添加索引，起名：emp_ename_index
     
删除索引：
mysql&gt; drop index emp_ename_index on emp;
//将emp表上的emp_ename_index索引对象删除</code></pre> 
<p></p> 
<h4 id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BA%94%E7%A7%8D%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B">数据库的五种索引类型</h4> 
<pre><code>1、普通索引：普通索引是最基本的索引，它没有任何限制，值可以为空，仅加速查询。
2、唯一索引：索引列中的值必须是唯一的，但是允许为空值。如果是组合索引，则列值的组合必须唯一，创建方法和普通索引类似。
3、全文索引：全文索引主要用来查找文本中的关键字，而不是直接与索引中的值相比较。
    	//不过切记对于大容量的数据表，生成全文索引是一个非常消耗时间非常消耗硬盘空间的做法。 
4、主键索引：在我们给一个字段设置主键的时候，它就会自动创建主键索引，用来确保每一个值都是唯一的。
5、复合索引：两个字段或者更多的字段上添加索引  
//注意：唯一性比较弱的字段上添加索引用处不大。  </code></pre> 
<p><u>索引是各种数据库进行优化的重要手段，优化的时候优先考虑的因素就是索引</u></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00402ec53f35196cf90dde58091842b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用61850网关实现modbus和电力iec61850协议的转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/23cc4a29053e7d61135804e5c9ef08d5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot是什么？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>