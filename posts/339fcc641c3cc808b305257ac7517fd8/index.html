<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java 空间几何计算 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java 空间几何计算" />
<meta property="og:description" content="GeoTools工具类 参考
Geotools(空间分析，栅格，坐标系，查询，简易地图，GP工具）-CSDN博客
geotools使用_org.geotools-CSDN博客
org.geotools是一个Java编写的开源地理空间类库，提供了一套功能强大的工具和API，用于处理地理空间数据。
引用 &lt;dependency&gt; &lt;groupId&gt;org.geotools&lt;/groupId&gt; &lt;artifactId&gt;gt-main&lt;/artifactId&gt; &lt;version&gt;28.2&lt;/version&gt; &lt;/dependency&gt; 依赖下载不下来，是仓库里没有，需要换个仓库下载，在repositories标签里
&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;osgeo&lt;/id&gt; &lt;name&gt;Open Source Geospatial Foundation Repository&lt;/name&gt; &lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt; &lt;/repository&gt; &lt;/repositories&gt; GeoTools与JTS的关系 JTS提供了一套空间数据操作的核心算法,为在兼容OGC标准的空间对象模型中进行基础的几何操作提供2D空间谓词API。JTS解决了空间对象之间拓扑关系的判定和计算，并提供很多有用的算法来解决对象的面积，长度等等的问题，是处理空间数据图形关系非常好的解决方案。
JTS就相当于GeoTools中的一个“子模块”。但因为这个模块本身不是GeoTools工程的，所以在javadoc中找不到JTS的API,需要到JTS官网上面另外下载。
在具体使用上：
&lt;dependency&gt; &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt; &lt;artifactId&gt;jts-core&lt;/artifactId&gt; &lt;version&gt;1.19.0&lt;/version&gt; &lt;/dependency&gt; GeoTools会自动的附带JTS的包，不需要自己手动引入。
计算面积 GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory(); // 使用jts // GeometryFactory geometryFactory = new GeometryFactory(); CoordinateList coords=new CoordinateList(); coords.add(new Coordinate(-51.009, 87.937)); coords.add(new Coordinate(-47.710, 87.937)); coords.add(new Coordinate(-47.710, 81.675)); coords.add(new Coordinate(-51.009, 81.675)); //闭合 coords.closeRing(); Polygon polygon = geometryFactory.createPolygon(coords.toCoordinateArray()); //输出中心点 System.out.println( polygon." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/339fcc641c3cc808b305257ac7517fd8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-23T13:12:54+08:00" />
<meta property="article:modified_time" content="2023-12-23T13:12:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java 空间几何计算</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="articleContentId">GeoTools工具类</h2> 
<p>参考</p> 
<blockquote> 
 <p><a href="https://blog.csdn.net/qq_43259860/article/details/124451382" title="Geotools(空间分析，栅格，坐标系，查询，简易地图，GP工具）-CSDN博客">Geotools(空间分析，栅格，坐标系，查询，简易地图，GP工具）-CSDN博客</a></p> 
</blockquote> 
<blockquote> 
 <p><a href="https://blog.csdn.net/qq_40289611/article/details/130605747" title="geotools使用_org.geotools-CSDN博客">geotools使用_org.geotools-CSDN博客</a></p> 
</blockquote> 
<p>org.geotools是一个Java编写的开源地理空间类库，提供了一套功能强大的工具和API，用于处理地理空间数据。</p> 
<h3>引用</h3> 
<pre><code class="language-XML">&lt;dependency&gt;
	&lt;groupId&gt;org.geotools&lt;/groupId&gt;
	&lt;artifactId&gt;gt-main&lt;/artifactId&gt;
	&lt;version&gt;28.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p> 依赖下载不下来，是仓库里没有，需要换个仓库下载，在repositories标签里</p> 
<pre><code class="language-XML">&lt;repositories&gt;
	&lt;repository&gt;
		&lt;id&gt;osgeo&lt;/id&gt;
		&lt;name&gt;Open Source Geospatial Foundation Repository&lt;/name&gt;
		&lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt;
	&lt;/repository&gt;
&lt;/repositories&gt;
</code></pre> 
<h3>GeoTools与JTS的关系</h3> 
<p>JTS提供了一套空间数据操作的核心算法,为在兼容OGC标准的空间对象模型中进行基础的几何操作提供2D空间谓词API。JTS解决了空间对象之间拓扑关系的判定和计算，并提供很多有用的算法来解决对象的面积，长度等等的问题，是处理空间数据图形关系非常好的解决方案。</p> 
<p>JTS就相当于GeoTools中的一个“子模块”。但因为这个模块本身不是GeoTools工程的，所以在javadoc中找不到JTS的API,需要到JTS官网上面另外下载。</p> 
<p>在具体使用上：</p> 
<pre><code class="language-java">&lt;dependency&gt;
	&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;
	&lt;artifactId&gt;jts-core&lt;/artifactId&gt;
	&lt;version&gt;1.19.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p>GeoTools会自动的附带JTS的包，不需要自己手动引入。</p> 
<h3> 计算面积</h3> 
<pre><code class="language-java">GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();
// 使用jts
// GeometryFactory geometryFactory = new GeometryFactory();
CoordinateList coords=new CoordinateList();
coords.add(new Coordinate(-51.009, 87.937));
coords.add(new Coordinate(-47.710, 87.937));
coords.add(new Coordinate(-47.710, 81.675));
coords.add(new Coordinate(-51.009, 81.675));
//闭合
coords.closeRing();
Polygon polygon = geometryFactory.createPolygon(coords.toCoordinateArray());
//输出中心点
System.out.println( polygon.getCentroid());
//输出多边形面积
System.out.println( polygon.getArea());</code></pre> 
<h2 style="background-color:transparent;"> 套用数学的计算公式</h2> 
<h3>计算多边形面积</h3> 
<p>计算方法:计算多边形的面积可以使用叉积法或者矩阵法。</p> 
<p>叉积法:是通过计算多边形的顶点坐标的叉积来求得多边形的面积。具体步骤如下：<br> 1.将多边形的顶点按照顺时针或逆时针的方式排列。<br> 2.依次计算多边形相邻顶点的叉积。<br> 3.将所有叉积的绝对值相加，并除以2，得到多边形的面积。</p> 
<p>流程图：A(开始)--&gt;B(排列顶点)--&gt;C(计算叉积)--&gt;D(叉积求和)--&gt;E(除以2)--&gt;F(输出结果)</p> 
<p> 第一种：</p> 
<pre><code class="language-java">public static void main(String[] args) {
	double[] x = {10, 40, 40, 10};
	double[] y = {10, 10, 40, 40};
	double area = calculateArea(x, y);
	System.out.println("多边形的面积为：" + area);
}

public static double calculateArea(double[] x, double[] y) {
	int numPoints = x.length;
	double area = 0.0;

	for (int i = 0; i &lt; numPoints; i++) {
		int j = (i + 1) % numPoints;
		area += x[i] * y[j];
		area -= x[j] * y[i];
	}

	area = Math.abs(area) / 2.0;
	return area;
}</code></pre> 
<p>第二种：</p> 
<pre><code class="language-java">public static void main(String[] args) {
	//多边形面积
	double sum = 0;
	//临时变量
	double xTmp = 0;
	double yTmp = 0;

	//无论从哪开始第一个坐标的x,y必须是0,0 如果不从0,0 那么会出现误差
	double xFirst = 0.0;
	double yFirst = 0.0;
	// 坐标必须封闭 从哪开始 到哪结束
	String[] arrs = {"10,10", "40,10", "40,40", "10,40", "10,10"};
	for (String s : arrs) {
		// 读取当前坐标的x和y
		String[] arr = s.split(",");
		double xCurrent = Double.parseDouble(arr[0]) / 1000;
		double yCurrent = Double.parseDouble(arr[1]) / 1000;

		/**
		 * 计算面积:
		 * (xTmp，yTmp)代表上一行的坐标值
		 * (xCurrent,yCurrent)代表当前这一行的坐标值
		 */
		// 公式 sum += ((xTmp - xCurrent) * (yTmp + yCurrent)) * 0.5;
		BigDecimal sub = new BigDecimal(xTmp).subtract(new BigDecimal(xCurrent));
		BigDecimal add = new BigDecimal(yTmp).add(new BigDecimal(yCurrent));
		BigDecimal mul = sub.multiply(add).multiply(new BigDecimal("0.5"));
		sum = mul.add(new BigDecimal(sum)).doubleValue();

		//计算完面积后,进入下一次循环前需要将“当前坐标”交换为“上一行的坐标”
		xTmp = xCurrent;
		yTmp = yCurrent;
	}
	//用最后读取的坐标与第一次读取的坐标进行一次面积运算
	BigDecimal sub = new BigDecimal(xTmp).subtract(new BigDecimal(xFirst));
	BigDecimal add = new BigDecimal(yTmp).add(new BigDecimal(yFirst));
	BigDecimal mul = sub.multiply(add).multiply(new BigDecimal("0.5"));
	sum = mul.add(new BigDecimal(sum)).doubleValue();
	System.out.println(Math.abs(sum));
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/50b63c6c928b6911dd5e8a61c0d841b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">标准化和归一化分别是什么？两者的区别是什么？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/54b262ec9849ceeacad200d58d5b3dee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">maven下载jar包失败</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>