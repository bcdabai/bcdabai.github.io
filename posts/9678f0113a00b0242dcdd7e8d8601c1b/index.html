<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NRF24L01程序模板（STC89C51） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="NRF24L01程序模板（STC89C51）" />
<meta property="og:description" content="1 #include &lt;REGX52.H&gt; 2 #include &#34;nrf24l01.h&#34; 3 #define unint unsigned int 4 #define unchar unsigned char 5 sbit led1=P2^6; 6 sbit led2=P2^7; 7 sbit key1=P3^0; 8 sbit key2=P3^1; 9 sbit key3=P3^2; 10 sbit key4=P3^3; 11 void keyscan(); 12 unchar dat[1]; 13 void delay(unchar x) 14 { 15 unchar i,j; 16 for(i=x;i&gt;0;i--) 17 for(j=100;j&gt;0;j--); 18 } 19 void main() 20 { 21 22 //dat[0]=0xff; 23 NRF24L01Int(); 24 led1=1;led2=1; 25 while(1) 26 { 27 // keyscan(); 28 dat[0]=0x02; 29 NRFSetTxMode(dat); 30 while(CheckACK()); 31 } 32 } 33 34 void keyscan() 35 { 36 if(key1==0) 37 { 38 delay(200); 39 if(key1==0) 40 { 41 while(key1==0); 42 // dat[0]=0xff; 43 // NRFSetTxMode(dat); 44 // while(CheckACK()); 45 46 // led1=~led1; 47 } 48 } 49 50 if(key2==0) 51 { 52 delay(200); 53 if(key2==0) 54 { 55 56 // dat[0]=0xff; 57 // NRFSetTxMode(dat); 58 // while(CheckACK()); 59 dat[0]=0x02; 60 NRFSetTxMode(dat); 61 while(CheckACK()); 62 // led1=~led1; 63 } 64 } 65 66 if(key3==0) 67 { 68 delay(200); 69 if(key3==0) 70 { 71 dat[0]=0x03; 72 NRFSetTxMode(dat); 73 while(CheckACK()); 74 } 75 } 76 77 if(key4==0) 78 { 79 delay(200); 80 if(key4==0) 81 { 82 dat[0]=0x04; 83 NRFSetTxMode(dat); 84 while(CheckACK()); 85 86 } 87 } 88 } 上面是主程序send." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9678f0113a00b0242dcdd7e8d8601c1b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-03-25T14:32:00+08:00" />
<meta property="article:modified_time" content="2016-03-25T14:32:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">NRF24L01程序模板（STC89C51）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#008080;"> 1</span> #include &lt;REGX52.H&gt;
<span style="color:#008080;"> 2</span> #include <span style="color:#800000;">"</span><span style="color:#800000;">nrf24l01.h</span><span style="color:#800000;">"</span>
<span style="color:#008080;"> 3</span> <span style="color:#0000ff;">#define</span> unint unsigned int
<span style="color:#008080;"> 4</span> <span style="color:#0000ff;">#define</span> unchar unsigned char
<span style="color:#008080;"> 5</span> sbit led1=P2^<span style="color:#800080;">6</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 6</span> sbit led2=P2^<span style="color:#800080;">7</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 7</span> sbit key1=P3^<span style="color:#800080;">0</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 8</span> sbit key2=P3^<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 9</span> sbit key3=P3^<span style="color:#800080;">2</span><span style="color:#000000;">;
</span><span style="color:#008080;">10</span> sbit key4=P3^<span style="color:#800080;">3</span><span style="color:#000000;">;
</span><span style="color:#008080;">11</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> keyscan();
</span><span style="color:#008080;">12</span>  unchar dat[<span style="color:#800080;">1</span><span style="color:#000000;">];
</span><span style="color:#008080;">13</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> delay(unchar x)
</span><span style="color:#008080;">14</span> <span style="color:#000000;">{
</span><span style="color:#008080;">15</span> <span style="color:#000000;">   unchar i,j;
</span><span style="color:#008080;">16</span>    <span style="color:#0000ff;">for</span>(i=x;i&gt;<span style="color:#800080;">0</span>;i--<span style="color:#000000;">)
</span><span style="color:#008080;">17</span>       <span style="color:#0000ff;">for</span>(j=<span style="color:#800080;">100</span>;j&gt;<span style="color:#800080;">0</span>;j--<span style="color:#000000;">);
</span><span style="color:#008080;">18</span> <span style="color:#000000;">}
</span><span style="color:#008080;">19</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> main()
</span><span style="color:#008080;">20</span> <span style="color:#000000;">{
</span><span style="color:#008080;">21</span>     
<span style="color:#008080;">22</span>       <span style="color:#008000;">//</span><span style="color:#008000;">dat[0]=0xff;</span>
<span style="color:#008080;">23</span> <span style="color:#000000;">      NRF24L01Int();
</span><span style="color:#008080;">24</span>       led1=<span style="color:#800080;">1</span>;led2=<span style="color:#800080;">1</span><span style="color:#000000;">; 
</span><span style="color:#008080;">25</span>       <span style="color:#0000ff;">while</span>(<span style="color:#800080;">1</span><span style="color:#000000;">)
</span><span style="color:#008080;">26</span> <span style="color:#000000;">      {
</span><span style="color:#008080;">27</span>         <span style="color:#008000;">//</span><span style="color:#008000;"> keyscan();</span>
<span style="color:#008080;">28</span>          dat[<span style="color:#800080;">0</span>]=<span style="color:#800080;">0x02</span><span style="color:#000000;">;
</span><span style="color:#008080;">29</span> <span style="color:#000000;">           NRFSetTxMode(dat); 
</span><span style="color:#008080;">30</span>            <span style="color:#0000ff;">while</span><span style="color:#000000;">(CheckACK());
</span><span style="color:#008080;">31</span> <span style="color:#000000;">      }
</span><span style="color:#008080;">32</span> <span style="color:#000000;">}
</span><span style="color:#008080;">33</span> 
<span style="color:#008080;">34</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> keyscan()
</span><span style="color:#008080;">35</span> <span style="color:#000000;">{
</span><span style="color:#008080;">36</span>        <span style="color:#0000ff;">if</span>(key1==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">37</span> <span style="color:#000000;">    {
</span><span style="color:#008080;">38</span>         delay(<span style="color:#800080;">200</span><span style="color:#000000;">);
</span><span style="color:#008080;">39</span>         <span style="color:#0000ff;">if</span>(key1==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">40</span> <span style="color:#000000;">        {
</span><span style="color:#008080;">41</span>               <span style="color:#0000ff;">while</span>(key1==<span style="color:#800080;">0</span><span style="color:#000000;">);
</span><span style="color:#008080;">42</span> <span style="color:#008000;">//</span><span style="color:#008000;">           dat[0]=0xff;
</span><span style="color:#008080;">43</span> <span style="color:#008000;">//</span><span style="color:#008000;">           NRFSetTxMode(dat); 
</span><span style="color:#008080;">44</span> <span style="color:#008000;">//</span><span style="color:#008000;">           while(CheckACK());
</span><span style="color:#008080;">45</span>           
<span style="color:#008080;">46</span>           <span style="color:#008000;">//</span><span style="color:#008000;"> led1=~led1;</span>
<span style="color:#008080;">47</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">48</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">49</span> 
<span style="color:#008080;">50</span>     <span style="color:#0000ff;">if</span>(key2==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">51</span> <span style="color:#000000;">    {
</span><span style="color:#008080;">52</span>        delay(<span style="color:#800080;">200</span><span style="color:#000000;">);
</span><span style="color:#008080;">53</span>          <span style="color:#0000ff;">if</span>(key2==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">54</span> <span style="color:#000000;">         {
</span><span style="color:#008080;">55</span> 
<span style="color:#008080;">56</span> <span style="color:#008000;">//</span><span style="color:#008000;">            dat[0]=0xff;
</span><span style="color:#008080;">57</span> <span style="color:#008000;">//</span><span style="color:#008000;">           NRFSetTxMode(dat); 
</span><span style="color:#008080;">58</span> <span style="color:#008000;">//</span><span style="color:#008000;">           while(CheckACK());</span>
<span style="color:#008080;">59</span>              dat[<span style="color:#800080;">0</span>]=<span style="color:#800080;">0x02</span><span style="color:#000000;">;
</span><span style="color:#008080;">60</span> <span style="color:#000000;">              NRFSetTxMode(dat); 
</span><span style="color:#008080;">61</span>            <span style="color:#0000ff;">while</span><span style="color:#000000;">(CheckACK());
</span><span style="color:#008080;">62</span>                  <span style="color:#008000;">//</span><span style="color:#008000;"> led1=~led1;</span>
<span style="color:#008080;">63</span> <span style="color:#000000;">         }
</span><span style="color:#008080;">64</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">65</span> 
<span style="color:#008080;">66</span>          <span style="color:#0000ff;">if</span>(key3==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">67</span> <span style="color:#000000;">    {
</span><span style="color:#008080;">68</span>         delay(<span style="color:#800080;">200</span><span style="color:#000000;">);
</span><span style="color:#008080;">69</span>         <span style="color:#0000ff;">if</span>(key3==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">70</span> <span style="color:#000000;">        {
</span><span style="color:#008080;">71</span>            dat[<span style="color:#800080;">0</span>]=<span style="color:#800080;">0x03</span><span style="color:#000000;">;
</span><span style="color:#008080;">72</span> <span style="color:#000000;">           NRFSetTxMode(dat); 
</span><span style="color:#008080;">73</span>            <span style="color:#0000ff;">while</span><span style="color:#000000;">(CheckACK());
</span><span style="color:#008080;">74</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">75</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">76</span> 
<span style="color:#008080;">77</span>          <span style="color:#0000ff;">if</span>(key4==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">78</span> <span style="color:#000000;">    {
</span><span style="color:#008080;">79</span>         delay(<span style="color:#800080;">200</span><span style="color:#000000;">);
</span><span style="color:#008080;">80</span>         <span style="color:#0000ff;">if</span>(key4==<span style="color:#800080;">0</span><span style="color:#000000;">)
</span><span style="color:#008080;">81</span> <span style="color:#000000;">        {
</span><span style="color:#008080;">82</span>            dat[<span style="color:#800080;">0</span>]=<span style="color:#800080;">0x04</span><span style="color:#000000;">;
</span><span style="color:#008080;">83</span> <span style="color:#000000;">           NRFSetTxMode(dat); 
</span><span style="color:#008080;">84</span>            <span style="color:#0000ff;">while</span><span style="color:#000000;">(CheckACK());
</span><span style="color:#008080;">85</span>                 
<span style="color:#008080;">86</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">87</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">88</span> }</pre> 
 </div> 
 <p>      上面是主程序send.c</p> 
 <p>      这篇博文旨在解决stc89c51模拟spi驱动nrf24l01的过程</p> 
 <p>       下面是两个模板程序nrf24l01.c和nrf24l01.h</p> 
 <p>   nrf24l01.c</p> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#008080;">  1</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************************************
</span><span style="color:#008080;">  2</span> <span style="color:#008000;">时间：2010.6.12
</span><span style="color:#008080;">  3</span> <span style="color:#008000;">功能：NRF24L01射频模块C文件(节点发射部分)
</span><span style="color:#008080;">  4</span> <span style="color:#008000;">****************************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">  5</span> #include<span style="color:#800000;">"</span><span style="color:#800000;">reg52.h</span><span style="color:#800000;">"</span>
<span style="color:#008080;">  6</span> #include<span style="color:#800000;">"</span><span style="color:#800000;">nrf24l01.h</span><span style="color:#800000;">"</span>
<span style="color:#008080;">  7</span> sbit CE=P1^<span style="color:#800080;">0</span>;  <span style="color:#008000;">//</span><span style="color:#008000;">RX0/TX模式选择端</span>
<span style="color:#008080;">  8</span> sbit CSN=P1^<span style="color:#800080;">1</span>; <span style="color:#008000;">//</span><span style="color:#008000;">SPI片选端</span><span style="color:#008000;">//</span><span style="color:#008000;">就是SS</span>
<span style="color:#008080;">  9</span> sbit SCLK=P1^<span style="color:#800080;">2</span>;    <span style="color:#008000;">//</span><span style="color:#008000;">SPI时钟端</span>
<span style="color:#008080;"> 10</span> sbit MOSI=P1^<span style="color:#800080;">3</span>;    <span style="color:#008000;">//</span><span style="color:#008000;">SPI主机输出从机输入端</span>
<span style="color:#008080;"> 11</span> sbit MISO=P1^<span style="color:#800080;">4</span>;    <span style="color:#008000;">//</span><span style="color:#008000;">SPI主机输出从机输出端</span>
<span style="color:#008080;"> 12</span> sbit IRQ=P1^<span style="color:#800080;">5</span>; <span style="color:#008000;">//</span><span style="color:#008000;">可屏蔽中断端</span>
<span style="color:#008080;"> 13</span> unchar code TxAddr[]={<!-- --><span style="color:#800080;">0x34</span>,<span style="color:#800080;">0x43</span>,<span style="color:#800080;">0x10</span>,<span style="color:#800080;">0x10</span>,<span style="color:#800080;">0x01</span>};<span style="color:#008000;">//</span><span style="color:#008000;">发送地址</span>
<span style="color:#008080;"> 14</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************状态标志****************************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 15</span> unchar bdata sta;   <span style="color:#008000;">//</span><span style="color:#008000;">状态标志</span>
<span style="color:#008080;"> 16</span> sbit RX_DR=sta^<span style="color:#800080;">6</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 17</span> sbit TX_DS=sta^<span style="color:#800080;">5</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 18</span> sbit MAX_RT=sta^<span style="color:#800080;">4</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 19</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************SPI时序函数*****************************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 20</span> <span style="color:#000000;">unchar NRFSPI(unchar date)
</span><span style="color:#008080;"> 21</span> <span style="color:#000000;">{
</span><span style="color:#008080;"> 22</span> <span style="color:#000000;">    unchar i;
</span><span style="color:#008080;"> 23</span>        <span style="color:#0000ff;">for</span>(i=<span style="color:#800080;">0</span>;i&lt;<span style="color:#800080;">8</span>;i++)          <span style="color:#008000;">//</span><span style="color:#008000;"> 循环8次</span>
<span style="color:#008080;"> 24</span> <span style="color:#000000;">       {
</span><span style="color:#008080;"> 25</span>       <span style="color:#0000ff;">if</span>(date&amp;<span style="color:#800080;">0x80</span><span style="color:#000000;">)
</span><span style="color:#008080;"> 26</span>         MOSI=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 27</span>       <span style="color:#0000ff;">else</span>
<span style="color:#008080;"> 28</span>         MOSI=<span style="color:#800080;">0</span>;   <span style="color:#008000;">//</span><span style="color:#008000;"> byte最高位输出到MOSI</span>
<span style="color:#008080;"> 29</span>          date&lt;&lt;=<span style="color:#800080;">1</span>;             <span style="color:#008000;">//</span><span style="color:#008000;"> 低一位移位到最高位</span>
<span style="color:#008080;"> 30</span>          SCLK=<span style="color:#800080;">1</span><span style="color:#000000;">; 
</span><span style="color:#008080;"> 31</span>       <span style="color:#0000ff;">if</span>(MISO)               <span style="color:#008000;">//</span><span style="color:#008000;"> 拉高SCK，nRF24L01从MOSI读入1位数据，同时从MISO输出1位数据</span>
<span style="color:#008080;"> 32</span>            date|=<span style="color:#800080;">0x01</span>;           <span style="color:#008000;">//</span><span style="color:#008000;"> 读MISO到byte最低位</span>
<span style="color:#008080;"> 33</span>          SCLK=<span style="color:#800080;">0</span>;                <span style="color:#008000;">//</span><span style="color:#008000;"> SCK置低</span>
<span style="color:#008080;"> 34</span> <span style="color:#000000;">       }
</span><span style="color:#008080;"> 35</span>     <span style="color:#0000ff;">return</span>(date);               <span style="color:#008000;">//</span><span style="color:#008000;"> 返回读出的一字节</span>
<span style="color:#008080;"> 36</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 37</span> <span style="color:#008000;">/*</span><span style="color:#008000;">*********************延时函数*************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 38</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> NRFDelay(unchar t)
</span><span style="color:#008080;"> 39</span> <span style="color:#000000;">{
</span><span style="color:#008080;"> 40</span> <span style="color:#000000;">   unchar x,y;
</span><span style="color:#008080;"> 41</span>    <span style="color:#0000ff;">for</span>(x=t;x&gt;<span style="color:#800080;">0</span>;x--<span style="color:#000000;">)
</span><span style="color:#008080;"> 42</span> <span style="color:#000000;">   {         
</span><span style="color:#008080;"> 43</span>     <span style="color:#0000ff;">for</span>(y=<span style="color:#800080;">110</span>;y&gt;<span style="color:#800080;">0</span>;y--<span style="color:#000000;">);
</span><span style="color:#008080;"> 44</span> <span style="color:#000000;">   }
</span><span style="color:#008080;"> 45</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 46</span> <span style="color:#008000;">/*</span><span style="color:#008000;">*********************NRF24L01初始化函数******************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 47</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> NRF24L01Int()
</span><span style="color:#008080;"> 48</span> <span style="color:#000000;">{
</span><span style="color:#008080;"> 49</span>     NRFDelay(<span style="color:#800080;">2</span>);<span style="color:#008000;">//</span><span style="color:#008000;">让系统什么都不干</span>
<span style="color:#008080;"> 50</span>     CE=<span style="color:#800080;">0</span>; <span style="color:#008000;">//</span><span style="color:#008000;">待机模式1   </span>
<span style="color:#008080;"> 51</span>     CSN=<span style="color:#800080;">1</span><span style="color:#000000;">;  
</span><span style="color:#008080;"> 52</span>     SCLK=<span style="color:#800080;">0</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 53</span>     IRQ=<span style="color:#800080;">1</span><span style="color:#000000;">;     
</span><span style="color:#008080;"> 54</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 55</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************SPI读寄存器一字节函数********************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 56</span> <span style="color:#000000;">unchar NRFReadReg(unchar RegAddr)
</span><span style="color:#008080;"> 57</span> <span style="color:#000000;">{
</span><span style="color:#008080;"> 58</span> <span style="color:#000000;">   unchar BackDate;
</span><span style="color:#008080;"> 59</span>    CSN=<span style="color:#800080;">0</span>;<span style="color:#008000;">//</span><span style="color:#008000;">启动时序</span>
<span style="color:#008080;"> 60</span>    NRFSPI(RegAddr);<span style="color:#008000;">//</span><span style="color:#008000;">写寄存器地址</span>
<span style="color:#008080;"> 61</span>    BackDate=NRFSPI(<span style="color:#800080;">0x00</span>);<span style="color:#008000;">//</span><span style="color:#008000;">写入读寄存器指令  </span>
<span style="color:#008080;"> 62</span>    CSN=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 63</span>    <span style="color:#0000ff;">return</span>(BackDate); <span style="color:#008000;">//</span><span style="color:#008000;">返回状态</span>
<span style="color:#008080;"> 64</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 65</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************SPI写寄存器一字节函数********************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 66</span> <span style="color:#000000;">unchar NRFWriteReg(unchar RegAddr,unchar date)
</span><span style="color:#008080;"> 67</span> <span style="color:#000000;">{
</span><span style="color:#008080;"> 68</span> <span style="color:#000000;">   unchar BackDate;
</span><span style="color:#008080;"> 69</span>    CSN=<span style="color:#800080;">0</span>;<span style="color:#008000;">//</span><span style="color:#008000;">启动时序</span>
<span style="color:#008080;"> 70</span>    BackDate=NRFSPI(RegAddr);<span style="color:#008000;">//</span><span style="color:#008000;">写入地址</span>
<span style="color:#008080;"> 71</span>    NRFSPI(date);<span style="color:#008000;">//</span><span style="color:#008000;">写入值</span>
<span style="color:#008080;"> 72</span>    CSN=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 73</span>    <span style="color:#0000ff;">return</span><span style="color:#000000;">(BackDate);
</span><span style="color:#008080;"> 74</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 75</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************SPI读取RXFIFO寄存器的值*******************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 76</span> unchar NRFReadRxDate(unchar RegAddr,unchar *<span style="color:#000000;">RxDate,unchar DateLen)
</span><span style="color:#008080;"> 77</span> {  <span style="color:#008000;">//</span><span style="color:#008000;">寄存器地址</span><span style="color:#008000;">//</span><span style="color:#008000;">读取数据存放变量</span><span style="color:#008000;">//</span><span style="color:#008000;">读取数据长度</span><span style="color:#008000;">//</span><span style="color:#008000;">用于接收</span>
<span style="color:#008080;"> 78</span> <span style="color:#000000;">    unchar BackDate,i;
</span><span style="color:#008080;"> 79</span>     CSN=<span style="color:#800080;">0</span>;<span style="color:#008000;">//</span><span style="color:#008000;">启动时序</span>
<span style="color:#008080;"> 80</span>     BackDate=NRFSPI(RegAddr);<span style="color:#008000;">//</span><span style="color:#008000;">写入要读取的寄存器地址</span>
<span style="color:#008080;"> 81</span>     <span style="color:#0000ff;">for</span>(i=<span style="color:#800080;">0</span>;i&lt;DateLen;i++) <span style="color:#008000;">//</span><span style="color:#008000;">读取数据</span>
<span style="color:#008080;"> 82</span> <span style="color:#000000;">      {
</span><span style="color:#008080;"> 83</span>          RxDate[i]=NRFSPI(<span style="color:#800080;">0</span><span style="color:#000000;">);
</span><span style="color:#008080;"> 84</span> <span style="color:#000000;">      } 
</span><span style="color:#008080;"> 85</span>     CSN=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 86</span>    <span style="color:#0000ff;">return</span><span style="color:#000000;">(BackDate); 
</span><span style="color:#008080;"> 87</span> <span style="color:#000000;">}
</span><span style="color:#008080;"> 88</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************SPI写入TXFIFO寄存器的值*********************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;"> 89</span> unchar NRFWriteTxDate(unchar RegAddr,unchar *<span style="color:#000000;">TxDate,unchar DateLen)
</span><span style="color:#008080;"> 90</span> { <span style="color:#008000;">//</span><span style="color:#008000;">寄存器地址</span><span style="color:#008000;">//</span><span style="color:#008000;">写入数据存放变量</span><span style="color:#008000;">//</span><span style="color:#008000;">读取数据长度</span><span style="color:#008000;">//</span><span style="color:#008000;">用于发送</span>
<span style="color:#008080;"> 91</span> <span style="color:#000000;">   unchar BackDate,i;
</span><span style="color:#008080;"> 92</span>    CSN=<span style="color:#800080;">0</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 93</span>    BackDate=NRFSPI(RegAddr);<span style="color:#008000;">//</span><span style="color:#008000;">写入要写入寄存器的地址</span>
<span style="color:#008080;"> 94</span>    <span style="color:#0000ff;">for</span>(i=<span style="color:#800080;">0</span>;i&lt;DateLen;i++)<span style="color:#008000;">//</span><span style="color:#008000;">写入数据</span>
<span style="color:#008080;"> 95</span> <span style="color:#000000;">     {
</span><span style="color:#008080;"> 96</span>         NRFSPI(*TxDate++<span style="color:#000000;">);
</span><span style="color:#008080;"> 97</span> <span style="color:#000000;">     }   
</span><span style="color:#008080;"> 98</span>    CSN=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;"> 99</span>    <span style="color:#0000ff;">return</span><span style="color:#000000;">(BackDate);
</span><span style="color:#008080;">100</span> <span style="color:#000000;">}
</span><span style="color:#008080;">101</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************NRF设置为发送模式并发送数据*****************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">102</span> <span style="color:#0000ff;">void</span> NRFSetTxMode(unchar *<span style="color:#000000;">TxDate)
</span><span style="color:#008080;">103</span> {<!-- --><span style="color:#008000;">//</span><span style="color:#008000;">发送模式</span>
<span style="color:#008080;">104</span>     CE=<span style="color:#800080;">0</span><span style="color:#000000;">; 
</span><span style="color:#008080;">105</span>        NRFWriteTxDate(W_REGISTER+TX_ADDR,TxAddr,TX_ADDR_WITDH);<span style="color:#008000;">//</span><span style="color:#008000;">写寄存器指令+接收地址使能指令+接收地址+地址宽度</span>
<span style="color:#008080;">106</span>     NRFWriteTxDate(W_REGISTER+RX_ADDR_P0,TxAddr,TX_ADDR_WITDH);<span style="color:#008000;">//</span><span style="color:#008000;">为了应答接收设备，接收通道0地址和发送地址相同</span>
<span style="color:#008080;">107</span>     NRFWriteTxDate(W_TX_PAYLOAD,TxDate,TX_DATA_WITDH);<span style="color:#008000;">//</span><span style="color:#008000;">写入数据 </span>
<span style="color:#008080;">108</span>     <span style="color:#008000;">/*</span><span style="color:#008000;">*****下面有关寄存器配置*************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">109</span>       NRFWriteReg(W_REGISTER+EN_AA,<span style="color:#800080;">0x01</span>);       <span style="color:#008000;">//</span><span style="color:#008000;"> 使能接收通道0自动应答</span>
<span style="color:#008080;">110</span>       NRFWriteReg(W_REGISTER+EN_RXADDR,<span style="color:#800080;">0x01</span>);   <span style="color:#008000;">//</span><span style="color:#008000;"> 使能接收通道0</span>
<span style="color:#008080;">111</span>       NRFWriteReg(W_REGISTER+SETUP_RETR,<span style="color:#800080;">0x0a</span>);  <span style="color:#008000;">//</span><span style="color:#008000;"> 自动重发延时等待250us+86us，自动重发10次</span>
<span style="color:#008080;">112</span>       NRFWriteReg(W_REGISTER+RF_CH,<span style="color:#800080;">0x40</span>);         <span style="color:#008000;">//</span><span style="color:#008000;"> 选择射频通道0x40</span>
<span style="color:#008080;">113</span>       NRFWriteReg(W_REGISTER+RF_SETUP,<span style="color:#800080;">0x07</span>);    <span style="color:#008000;">//</span><span style="color:#008000;"> 数据传输率1Mbps，发射功率0dBm，低噪声放大器增益</span>
<span style="color:#008080;">114</span>     NRFWriteReg(W_REGISTER+CONFIG,<span style="color:#800080;">0x0e</span>);      <span style="color:#008000;">//</span><span style="color:#008000;"> CRC使能，16位CRC校验，上电  </span>
<span style="color:#008080;">115</span>     CE=<span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;">116</span>     NRFDelay(<span style="color:#800080;">10</span>);<span style="color:#008000;">//</span><span style="color:#008000;">保持10us秒以上</span>
<span style="color:#008080;">117</span> <span style="color:#000000;">}
</span><span style="color:#008080;">118</span> <span style="color:#008000;">/*</span><span style="color:#008000;">****************NRF设置为接收模式并接收数据*****************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">119</span> <span style="color:#008000;">//</span><span style="color:#008000;">主要接收模式</span>
<span style="color:#008080;">120</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> NRFSetRXMode()
</span><span style="color:#008080;">121</span> <span style="color:#000000;">{
</span><span style="color:#008080;">122</span>     CE=<span style="color:#800080;">0</span><span style="color:#000000;">;  
</span><span style="color:#008080;">123</span>       NRFWriteTxDate(W_REGISTER+RX_ADDR_P0,TxAddr,TX_ADDR_WITDH);  <span style="color:#008000;">//</span><span style="color:#008000;"> 接收设备接收通道0使用和发送设备相同的发送地址</span>
<span style="color:#008080;">124</span>       NRFWriteReg(W_REGISTER+EN_AA,<span style="color:#800080;">0x01</span>);               <span style="color:#008000;">//</span><span style="color:#008000;"> 使能接收通道0自动应答</span>
<span style="color:#008080;">125</span>       NRFWriteReg(W_REGISTER+EN_RXADDR,<span style="color:#800080;">0x01</span>);           <span style="color:#008000;">//</span><span style="color:#008000;"> 使能接收通道0</span>
<span style="color:#008080;">126</span>       NRFWriteReg(W_REGISTER+RF_CH,<span style="color:#800080;">0x40</span>);                 <span style="color:#008000;">//</span><span style="color:#008000;"> 选择射频通道0x40</span>
<span style="color:#008080;">127</span>       NRFWriteReg(W_REGISTER+RX_PW_P0,TX_DATA_WITDH);  <span style="color:#008000;">//</span><span style="color:#008000;"> 接收通道0选择和发送通道相同有效数据宽度</span>
<span style="color:#008080;">128</span>       NRFWriteReg(W_REGISTER+RF_SETUP,<span style="color:#800080;">0x07</span>);            <span style="color:#008000;">//</span><span style="color:#008000;"> 数据传输率1Mbps，发射功率0dBm，低噪声放大器增益*/</span>
<span style="color:#008080;">129</span>       NRFWriteReg(W_REGISTER+CONFIG,<span style="color:#800080;">0x0f</span>);              <span style="color:#008000;">//</span><span style="color:#008000;"> CRC使能，16位CRC校验，上电，接收模式</span>
<span style="color:#008080;">130</span>       CE = <span style="color:#800080;">1</span><span style="color:#000000;">;
</span><span style="color:#008080;">131</span>     NRFDelay(<span style="color:#800080;">10</span>);<span style="color:#008000;">//</span><span style="color:#008000;">保持10us秒以上     </span>
<span style="color:#008080;">132</span> <span style="color:#000000;">}
</span><span style="color:#008080;">133</span> <span style="color:#008000;">/*</span><span style="color:#008000;">***************************检测应答信号*****************************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">134</span> <span style="color:#000000;">unchar CheckACK()
</span><span style="color:#008080;">135</span> {  <span style="color:#008000;">//</span><span style="color:#008000;">用于发射</span>
<span style="color:#008080;">136</span>     sta=NRFReadReg(R_REGISTER+STATUS);                    <span style="color:#008000;">//</span><span style="color:#008000;"> 返回状态寄存器</span>
<span style="color:#008080;">137</span>     <span style="color:#0000ff;">if</span>(TX_DS||MAX_RT) <span style="color:#008000;">//</span><span style="color:#008000;">发送完毕中断</span>
<span style="color:#008080;">138</span> <span style="color:#000000;">    {
</span><span style="color:#008080;">139</span>        NRFWriteReg(W_REGISTER+STATUS,<span style="color:#800080;">0xff</span>);  <span style="color:#008000;">//</span><span style="color:#008000;"> 清除TX_DS或MAX_RT中断标志</span>
<span style="color:#008080;">140</span>        CSN=<span style="color:#800080;">0</span><span style="color:#000000;">;
</span><span style="color:#008080;">141</span>        NRFSPI(FLUSH_TX);<span style="color:#008000;">//</span><span style="color:#008000;">用于清空FIFO ！！关键！！不然会出现意想不到的后果！！！大家记住！！  </span>
<span style="color:#008080;">142</span>        CSN=<span style="color:#800080;">1</span><span style="color:#000000;">; 
</span><span style="color:#008080;">143</span>        <span style="color:#0000ff;">return</span>(<span style="color:#800080;">0</span><span style="color:#000000;">);
</span><span style="color:#008080;">144</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">145</span>     <span style="color:#0000ff;">else</span>
<span style="color:#008080;">146</span>        <span style="color:#0000ff;">return</span>(<span style="color:#800080;">1</span><span style="color:#000000;">);
</span><span style="color:#008080;">147</span> <span style="color:#000000;">}
</span><span style="color:#008080;">148</span> <span style="color:#008000;">/*</span><span style="color:#008000;">*****************判断是否接收收到数据，接到就从RX取出********************</span><span style="color:#008000;">*/</span>
<span style="color:#008080;">149</span> <span style="color:#008000;">//</span><span style="color:#008000;">用于接收模式</span>
<span style="color:#008080;">150</span> unchar NRFRevDate(unchar *<span style="color:#000000;">RevDate)
</span><span style="color:#008080;">151</span> <span style="color:#000000;">{
</span><span style="color:#008080;">152</span>         unchar RevFlags=<span style="color:#800080;">0</span><span style="color:#000000;">;
</span><span style="color:#008080;">153</span>      sta=NRFReadReg(R_REGISTER+STATUS);<span style="color:#008000;">//</span><span style="color:#008000;">发送数据后读取状态寄存器</span>
<span style="color:#008080;">154</span>      <span style="color:#0000ff;">if</span>(RX_DR)                <span style="color:#008000;">//</span><span style="color:#008000;"> 判断是否接收到数据</span>
<span style="color:#008080;">155</span> <span style="color:#000000;">     {
</span><span style="color:#008080;">156</span>         CE=<span style="color:#800080;">0</span>;             <span style="color:#008000;">//</span><span style="color:#008000;">SPI使能</span>
<span style="color:#008080;">157</span>         NRFReadRxDate(R_RX_PAYLOAD,RevDate,RX_DATA_WITDH);<span style="color:#008000;">//</span><span style="color:#008000;"> 从RXFIFO读取数据</span>
<span style="color:#008080;">158</span>         RevFlags=<span style="color:#800080;">1</span>;       <span style="color:#008000;">//</span><span style="color:#008000;">读取数据完成标志</span>
<span style="color:#008080;">159</span> <span style="color:#000000;">      }
</span><span style="color:#008080;">160</span>      NRFWriteReg(W_REGISTER+STATUS,<span style="color:#800080;">0xff</span>); <span style="color:#008000;">//</span><span style="color:#008000;">接收到数据后RX_DR,TX_DS,MAX_PT都置高为1，通过写1来清楚中断标</span>
<span style="color:#008080;">161</span>      <span style="color:#0000ff;">return</span><span style="color:#000000;">(RevFlags);
</span><span style="color:#008080;">162</span> }</pre> 
 </div> 
 <p>nrf24l01.h</p> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#008000;">/*</span><span style="color:#008000;">****************************************
时间：2010.6.12
功能：NRF24L01射频模块头文件
****************************************</span><span style="color:#008000;">*/</span><span style="color:#000000;">
#ifndef _NRF24L01_H_
</span><span style="color:#0000ff;">#define</span> _NRF24L01_H_

<span style="color:#0000ff;">#define</span> unint unsigned int
<span style="color:#0000ff;">#define</span> unchar unsigned char
<span style="color:#008000;">/*</span><span style="color:#008000;">*****************************************************</span><span style="color:#008000;">*/</span>
<span style="color:#0000ff;">#define</span> TX_ADDR_WITDH 5    <span style="color:#008000;">//</span><span style="color:#008000;">发送地址宽度设置为5个字节</span>
<span style="color:#0000ff;">#define</span> RX_ADDR_WITDH 5    <span style="color:#008000;">//</span><span style="color:#008000;">接收地址宽度设置为5个字节</span>
<span style="color:#0000ff;">#define</span> TX_DATA_WITDH 8<span style="color:#008000;">//</span><span style="color:#008000;">发送数据宽度1个字节</span>
<span style="color:#0000ff;">#define</span> RX_DATA_WITDH 8<span style="color:#008000;">//</span><span style="color:#008000;">接收数据宽度1个字节</span>
<span style="color:#008000;">/*</span><span style="color:#008000;">******************命令寄存器**************************</span><span style="color:#008000;">*/</span>
<span style="color:#0000ff;">#define</span>  R_REGISTER      0x00<span style="color:#008000;">//</span><span style="color:#008000;">读取配置寄存器</span>
<span style="color:#0000ff;">#define</span>  W_REGISTER      0x20<span style="color:#008000;">//</span><span style="color:#008000;">写配置寄存器</span>
<span style="color:#0000ff;">#define</span>  R_RX_PAYLOAD      0x61<span style="color:#008000;">//</span><span style="color:#008000;">读取RX有效数据</span>
<span style="color:#0000ff;">#define</span>  W_TX_PAYLOAD     0xa0<span style="color:#008000;">//</span><span style="color:#008000;">写TX有效数据</span>
<span style="color:#0000ff;">#define</span>  FLUSH_TX         0xe1<span style="color:#008000;">//</span><span style="color:#008000;">清除TXFIFO寄存器</span>
<span style="color:#0000ff;">#define</span>  FLUSH_RX         0xe2<span style="color:#008000;">//</span><span style="color:#008000;">清除RXFIFO寄存器</span>
<span style="color:#0000ff;">#define</span>  REUSE_TX_PL     0xe3<span style="color:#008000;">//</span><span style="color:#008000;">重新使用上一包有效数据</span>
<span style="color:#0000ff;">#define</span>  NOP             0xff<span style="color:#008000;">//</span><span style="color:#008000;">空操作</span>
<span style="color:#008000;">/*</span><span style="color:#008000;">*****************寄存器地址***************************</span><span style="color:#008000;">*/</span>
<span style="color:#0000ff;">#define</span>  CONFIG          0x00<span style="color:#008000;">//</span><span style="color:#008000;">配置寄存器</span>
<span style="color:#0000ff;">#define</span>  EN_AA             0x01<span style="color:#008000;">//</span><span style="color:#008000;">使能自动应答</span>
<span style="color:#0000ff;">#define</span>  EN_RXADDR       0x02<span style="color:#008000;">//</span><span style="color:#008000;">接收通道使能0-5个通道</span>
<span style="color:#0000ff;">#define</span>  SETUP_AW        0x03<span style="color:#008000;">//</span><span style="color:#008000;">设置数据通道地址宽度3-5</span>
<span style="color:#0000ff;">#define</span>  SETUP_RETR      0x04<span style="color:#008000;">//</span><span style="color:#008000;">建立自动重发</span>
<span style="color:#0000ff;">#define</span>  RF_CH           0x05<span style="color:#008000;">//</span><span style="color:#008000;">射频通道设置</span>
<span style="color:#0000ff;">#define</span>  RF_SETUP        0x06<span style="color:#008000;">//</span><span style="color:#008000;">射频寄存器</span>
<span style="color:#0000ff;">#define</span>  STATUS          0x07<span style="color:#008000;">//</span><span style="color:#008000;">状态寄存器</span>
<span style="color:#0000ff;">#define</span>  OBSERVE_TX      0x08<span style="color:#008000;">//</span><span style="color:#008000;">发送检测寄存器</span>
<span style="color:#0000ff;">#define</span>  CD              0x09<span style="color:#008000;">//</span><span style="color:#008000;">载波</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P0      0x0a<span style="color:#008000;">//</span><span style="color:#008000;">数据通道0接收地址</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P1      0x0b<span style="color:#008000;">//</span><span style="color:#008000;">数据通道1接收地址</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P2      0x0c<span style="color:#008000;">//</span><span style="color:#008000;">数据通道2接收地址</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P3      0x0d<span style="color:#008000;">//</span><span style="color:#008000;">数据通道3接收地址</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P4      0x0e<span style="color:#008000;">//</span><span style="color:#008000;">数据通道4接收地址</span>
<span style="color:#0000ff;">#define</span>  RX_ADDR_P5      0x0f<span style="color:#008000;">//</span><span style="color:#008000;">数据通道5接收地址</span>
<span style="color:#0000ff;">#define</span>  TX_ADDR         0x10<span style="color:#008000;">//</span><span style="color:#008000;">发送地址</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P0        0x11<span style="color:#008000;">//</span><span style="color:#008000;">P0通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P1        0x12<span style="color:#008000;">//</span><span style="color:#008000;">P1通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P2        0x13<span style="color:#008000;">//</span><span style="color:#008000;">P2通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P3        0x14<span style="color:#008000;">//</span><span style="color:#008000;">P3通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P4        0x15<span style="color:#008000;">//</span><span style="color:#008000;">P4通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  RX_PW_P5        0x16<span style="color:#008000;">//</span><span style="color:#008000;">P5通道数据宽度设置</span>
<span style="color:#0000ff;">#define</span>  FIFO_STATUS     0x17<span style="color:#008000;">//</span><span style="color:#008000;">FIFO状态寄存器</span>
<span style="color:#008000;">/*</span><span style="color:#008000;">******************相关函数声明*************************</span><span style="color:#008000;">*/</span><span style="color:#000000;">
unchar NRFACK();
</span><span style="color:#0000ff;">void</span><span style="color:#000000;"> NRFDelay(unchar t);
unchar NRFSPI(unchar date);
unchar NRFReadReg(unchar RegAddr);
unchar NRFWriteReg(unchar RegAddr,unchar date);
unchar NRFReadRxDate(unchar RegAddr,unchar </span>*<span style="color:#000000;">RxDate,unchar DateLen);
unchar NRFWriteTxDate(unchar RegAddr,unchar </span>*<span style="color:#000000;">TxDate,unchar DateLen);
unchar NRFRevDate(unchar </span>*<span style="color:#000000;">RevDate);
</span><span style="color:#0000ff;">void</span> NRFSetTxMode(unchar *<span style="color:#000000;">TxDate);
</span><span style="color:#0000ff;">void</span><span style="color:#000000;"> NRF24L01Int();
</span><span style="color:#0000ff;">void</span><span style="color:#000000;"> NRFSetRXMode();
unchar CheckACK();
</span><span style="color:#0000ff;">extern</span><span style="color:#000000;">  unchar bdata sta;
</span><span style="color:#008000;">/*</span><span style="color:#008000;">*******************************************************</span><span style="color:#008000;">*/</span>
<span style="color:#0000ff;">#endif</span></pre> 
 </div> 
 <p>2016-03-25</p> 
</div> 
<p>转载于:https://www.cnblogs.com/lihun123/p/5319403.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/238331bd21992d078a306d808999bb3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">绘制矩形</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6d9103b2989ff4bc12e02798c2155c82/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">FTP上传</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>