<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>4.Vue-Vue调用第三方接口 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="4.Vue-Vue调用第三方接口" />
<meta property="og:description" content="题记 用vue调用第三方接口，以下是全部代码和操作流程。
寻找第三方接口网站 推荐：免费API - 提供免费接口调用平台 (aa1.cn)
下面的代码以下图中的接口为例 安装axios模块 在终端输入以下命令： npm install axios
调用第三方接口代码 调用不需要设置参数的接口 TestView.vue文件如下： &lt;template&gt;
&lt;div &gt;
&lt;ul&gt;
&lt;!--&lt;li v-for=&#34;item in items&#34; :key=&#34;item.id&#34;&gt;{{ item }}&lt;/li&gt;--&gt;
&lt;!--使用了Vue的指令v-html，它会将组件的data属性的值作为HTML内容进行渲染--&gt;
&lt;div v-html=&#34;data&#34;&gt;&lt;/div&gt;
&lt;!--使用了Vue的插值语法{{ }}，它会将组件的data属性的值作为文本进行渲染--&gt;
&lt;!--没有去掉p标签--&gt;
&lt;div&gt;{{ data }}&lt;/div&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
// 导入axios模块，使用axios来发送HTTP请求了
//export default是用于导出模块的语法
import axios from &#39;axios&#39;;
// const data = ref()
// const items = ref([])
export default {
//data()函数是用于定义组件的数据属性的方法
//data属性被初始化为空字符串，可以用来存储数据
data() {
return {
//items: []," />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/62e33b83ba6c681fa7c18cf9ffee88a6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-17T10:40:06+08:00" />
<meta property="article:modified_time" content="2023-10-17T10:40:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">4.Vue-Vue调用第三方接口</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>题记</h4> 
<p>         用vue调用第三方接口，以下是全部代码和操作流程。</p> 
<h4>寻找第三方接口网站 </h4> 
<p>        推荐：<a href="https://api.aa1.cn/" rel="nofollow" title="免费API - 提供免费接口调用平台 (aa1.cn)">免费API - 提供免费接口调用平台 (aa1.cn)</a></p> 
<p>        下面的代码以下图中的接口为例 </p> 
<p>        <img alt="" height="618" src="https://images2.imgbox.com/45/ab/EB2vIhHW_o.png" width="1200"> </p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/47/7b/ynMB2clf_o.png" width="1200"></p> 
<h4>安装axios模块 </h4> 
<p>        在终端输入以下命令： </p> 
<blockquote> 
 <p>         npm install axios</p> 
</blockquote> 
<h4> 调用第三方接口代码</h4> 
<h5> 调用不需要设置参数的接口</h5> 
<p>        TestView.vue文件如下： </p> 
<blockquote> 
 <p></p> 
 <p>&lt;template&gt;</p> 
 <p>  &lt;div &gt;</p> 
 <p>    &lt;ul&gt;</p> 
 <p>      &lt;!--&lt;li v-for="item in items" :key="item.id"&gt;{<!-- -->{ item }}&lt;/li&gt;--&gt;</p> 
 <p>      &lt;!--使用了Vue的指令v-html，它会将组件的data属性的值作为HTML内容进行渲染--&gt;</p> 
 <p>      &lt;div v-html="data"&gt;&lt;/div&gt;</p> 
 <p>      &lt;!--使用了Vue的插值语法{<!-- -->{ }}，它会将组件的data属性的值作为文本进行渲染--&gt;</p> 
 <p>      &lt;!--没有去掉p标签--&gt;</p> 
 <p>      &lt;div&gt;{<!-- -->{ data }}&lt;/div&gt;</p> 
 <p>    &lt;/ul&gt;</p> 
 <p>  &lt;/div&gt;</p> 
 <p>&lt;/template&gt;</p> 
 <p></p> 
 <p>&lt;script&gt;</p> 
 <p>// 导入axios模块，使用axios来发送HTTP请求了</p> 
 <p>//export default是用于导出模块的语法</p> 
 <p>import axios from 'axios';</p> 
 <p>// const data = ref()</p> 
 <p>// const  items = ref([])</p> 
 <p>export default {<!-- --></p> 
 <p>  //data()函数是用于定义组件的数据属性的方法</p> 
 <p>  //data属性被初始化为空字符串，可以用来存储数据</p> 
 <p>  data() {<!-- --></p> 
 <p>    return {<!-- --></p> 
 <p>      //items: [],</p> 
 <p>      data:''</p> 
 <p>    };  </p> 
 <p>  },</p> 
 <p>  //mounted()是一个生命周期钩子函数，它会在组件被挂载到DOM后调用</p> 
 <p>  mounted() {<!-- --></p> 
 <p>    this.fetchData();</p> 
 <p>  },</p> 
 <p>  //methods对象用于定义组件的方法</p> 
 <p>  //fetchData()方法使用axios库发送一个GET请求到指定的URL</p> 
 <p>  //通过Promise的.then()方法处理请求成功的响应，this.data = response.data将响应的数据设置到组件的data属性中</p> 
 <p>  //如果请求失败，将通过.catch()方法捕获错误，并通过console.error()方法将错误打印到控制台。</p> 
 <p>  methods: {<!-- --></p> 
 <p>    fetchData() {<!-- --></p> 
 <p>      axios.get('https://v.api.aa1.cn/api/yiyan/index.php')</p> 
 <p>        .then(response =&gt; {<!-- --></p> 
 <p>          // 将返回的数据设置到items数组</p> 
 <p>          // this.items = response.data;</p> 
 <p>          this.data = response.data</p> 
 <p>          // document.body.innerHTML = this.items，用这种方式也可以去掉返回内容中的p标签</p> 
 <p>          console.log(response.data)</p> 
 <p></p> 
 <p>        })</p> 
 <p>        .catch(error =&gt; {<!-- --></p> 
 <p>          console.error(error);</p> 
 <p>        });</p> 
 <p>    }</p> 
 <p>  }</p> 
 <p></p> 
 <p>}</p> 
 <p>&lt;/script&gt; </p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div &gt;
    &lt;ul&gt;
      &lt;!--&lt;li v-for="item in items" :key="item.id"&gt;{<!-- -->{ item }}&lt;/li&gt;--&gt;
      &lt;!--使用了Vue的指令v-html，它会将组件的data属性的值作为HTML内容进行渲染--&gt;
      &lt;div v-html="data"&gt;&lt;/div&gt;
      &lt;!--使用了Vue的插值语法{<!-- -->{ }}，它会将组件的data属性的值作为文本进行渲染--&gt;
      &lt;!--没有去掉p标签--&gt;
      &lt;div&gt;{<!-- -->{ data }}&lt;/div&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// 导入axios模块，使用axios来发送HTTP请求了
// export default是用于导出模块的语法
import axios from 'axios';
// const data = ref()
// const  items = ref([])
export default {
  //data()函数是用于定义组件的数据属性的方法
  //data属性被初始化为空字符串，可以用来存储数据
  data() {
    return {
      //items: [],
      data:''
    };  
  },
  //mounted()是一个生命周期钩子函数，它会在组件被挂载到DOM后调用
  mounted() {
    this.fetchData();
  },
  //methods对象用于定义组件的方法
  //fetchData()方法使用axios库发送一个GET请求到指定的URL
  //通过Promise的.then()方法处理请求成功的响应，this.data = response.data将响应的数据设置到组件的data属性中
  //如果请求失败，将通过.catch()方法捕获错误，并通过console.error()方法将错误打印到控制台。
  methods: {
    fetchData() {
      axios.get('https://v.api.aa1.cn/api/yiyan/index.php')
        .then(response =&gt; {
          // 将返回的数据设置到items数组
          // this.items = response.data;
          this.data = response.data
          // document.body.innerHTML = this.items，用这种方式也可以去掉返回内容中的p标签
          console.log(response.data)

        })
        .catch(error =&gt; {
          console.error(error);
        });
    }
  }
  
}
&lt;/script&gt;</code></pre> 
<h5>调用需要设置参数的接口 </h5> 
<p>        TestView2.vue文件如下：</p> 
<blockquote> 
 <p></p> 
 <p>&lt;template&gt;</p> 
 <p>  &lt;div &gt;</p> 
 <p>    &lt;ul&gt;</p> 
 <p>    &lt;!--使用Vue的事件修饰符@submit.prevent，表示在表单提交时会触发名为handleSubmit的方法。</p> 
 <p>      prevent修饰符用于阻止表单默认的提交行为，以便可以使用自定义的逻辑来处理提交事件。--&gt;</p> 
 <p>    &lt;form @submit.prevent="handleSubmit"&gt;</p> 
 <p>      &lt;!--使用Vue的双向绑定指令v-model，将输入框的值绑定到了组件的message属性。--&gt;</p> 
 <p>      &lt;input type="text" v-model="message" placeholder="请输入内容"&gt;</p> 
 <p>      &lt;input type="number" v-model="type" placeholder="请输入类型"&gt;</p> 
 <p>      &lt;button type="submit"&gt;提交&lt;/button&gt;</p> 
 <p>    &lt;/form&gt;</p> 
 <p>      {<!-- -->{ message }}</p> 
 <p>      &lt;!--v-for="(item, index) in data.data"是一个指令，表示要对data.data数组进行循环遍历。</p> 
 <p>        在每次循环中，item表示当前项的值，index表示当前项的索引。</p> 
 <p>        :key="item.id"是一个特殊的属性绑定语法，用于为循环渲染的每个项提供一个唯一的标识符。--&gt;</p> 
 <p>      &lt;li v-for="(item,index) in data.data" :key="item.id"&gt;</p> 
 <p>          {<!-- -->{index + 1 }}</p> 
 <p>          {<!-- -->{ item.riqi }}</p> 
 <p>          {<!-- -->{ item.wendu }}</p> 
 <p>          {<!-- -->{ item.tianqi }}</p> 
 <p>      &lt;/li&gt;</p> 
 <p>      &lt;/ul&gt;</p> 
 <p>  &lt;/div&gt;</p> 
 <p>&lt;/template&gt;</p> 
 <p></p> 
 <p>&lt;script&gt;</p> 
 <p>import axios from 'axios';</p> 
 <p>// const data = ref()</p> 
 <p>// const  items = ref([])</p> 
 <p>export default {<!-- --></p> 
 <p>  data() {<!-- --></p> 
 <p>    return {<!-- --></p> 
 <p>      //items: [],</p> 
 <p>      data:'',</p> 
 <p>      message: '',</p> 
 <p>      type: '1',</p> 
 <p>    };</p> 
 <p>   </p> 
 <p>  },</p> 
 <p></p> 
 <p>  mounted() {<!-- --></p> 
 <p>    this.handleSubmit()</p> 
 <p>  },</p> 
 <p>  methods: {<!-- --></p> 
 <p>    handleSubmit() {<!-- --></p> 
 <p>      axios.get('https://v.api.aa1.cn/api/api-tianqi-3/index.php', {<!-- --></p> 
 <p>          // 使用 axios.get 发送一个 GET 请求，通过第二个参数的 params 属性传递了这个参数对象，</p> 
 <p>          // 将 msg 和 type 作为查询参数传递给服务器。</p> 
 <p>          params: {<!-- --></p> 
 <p>              msg: this.message,</p> 
 <p>              type: this.type</p> 
 <p>          },</p> 
 <p>          })</p> 
 <p>          .then(response =&gt; {<!-- --></p> 
 <p>              // 在这里处理返回的数据</p> 
 <p>              this.data=response.data;</p> 
 <p>              console.log(response.data);</p> 
 <p>             </p> 
 <p>          })</p> 
 <p>          .catch(error =&gt; {<!-- --></p> 
 <p>              // 在这里处理错误</p> 
 <p>              console.error(error);</p> 
 <p>             </p> 
 <p>          });</p> 
 <p>    }</p> 
 <p>  }</p> 
 <p>}</p> 
 <p>&lt;/script&gt;</p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div &gt;
    &lt;ul&gt;
    &lt;!--使用Vue的事件修饰符@submit.prevent，表示在表单提交时会触发名为handleSubmit的方法。
      prevent修饰符用于阻止表单默认的提交行为，以便可以使用自定义的逻辑来处理提交事件。--&gt;
    &lt;form @submit.prevent="handleSubmit"&gt;
      &lt;!--使用Vue的双向绑定指令v-model，将输入框的值绑定到了组件的message属性。--&gt;
      &lt;input type="text" v-model="message" placeholder="请输入内容"&gt;
      &lt;input type="number" v-model="type" placeholder="请输入类型"&gt;
      &lt;button type="submit"&gt;提交&lt;/button&gt;
    &lt;/form&gt;
      {<!-- -->{ message }}
      &lt;!--v-for="(item, index) in data.data"是一个指令，表示要对data.data数组进行循环遍历。
        在每次循环中，item表示当前项的值，index表示当前项的索引。
        :key="item.id"是一个特殊的属性绑定语法，用于为循环渲染的每个项提供一个唯一的标识符。--&gt;
      &lt;li v-for="(item,index) in data.data" :key="item.id"&gt;
          {<!-- -->{index + 1 }} 
          {<!-- -->{ item.riqi }}
          {<!-- -->{ item.wendu }}
          {<!-- -->{ item.tianqi }}
      &lt;/li&gt;
      &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios';
// const data = ref()
// const  items = ref([])
export default {
  data() {
    return {
      //items: [],
      data:'',
      message: '',
      type: '1',
    };
    
  },
  
  mounted() {
    this.handleSubmit()
  },
  methods: {
    handleSubmit() {
      axios.get('https://v.api.aa1.cn/api/api-tianqi-3/index.php', {
          // 使用 axios.get 发送一个 GET 请求，通过第二个参数的 params 属性传递了这个参数对象，
          // 将 msg 和 type 作为查询参数传递给服务器。
          params: {
              msg: this.message,
              type: this.type
          },
          })
          .then(response =&gt; {
              // 在这里处理返回的数据
              this.data=response.data;
              console.log(response.data);
              
          })
          .catch(error =&gt; {
              // 在这里处理错误
              console.error(error);
              
          });
    }
  }
}
&lt;/script&gt;</code></pre> 
<p></p> 
<h4> 执行程序</h4> 
<p>        可以参考在vue中搭建路由：<a href="https://blog.csdn.net/m0_70819559/article/details/133853791?spm=1001.2014.3001.5501" title="3.Vue-在Vue框架中搭建路由-CSDN博客">3.Vue-在Vue框架中搭建路由-CSDN博客</a> </p> 
<p>        <span style="color:#fe2c24;">成功访问到网页后，如果没有显示，需要多刷新几次，属于网络问题。如果一直没有请求成功，则是请求次数太多，官方不会返回响应，需要等待一段时间再次发起请求，或者自行更换接口进行测试</span></p> 
<h4> 展示图 </h4> 
<p> <img alt="" height="321" src="https://images2.imgbox.com/96/ac/4W5nW6Ys_o.png" width="924"></p> 
<p><img alt="" height="505" src="https://images2.imgbox.com/2b/b6/MTLyYzoI_o.png" width="1161"></p> 
<h4>后记 </h4> 
<p>      <span style="color:#fe2c24;">  觉得有用可以点赞或收藏！ </span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9d8b0db78732a193ac423c9617455922/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何将Anaconda安装时默认的python版本改成其他版本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a21ebbbc0a00a3249cde71d206a5e305/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter Icons内置图标库MaterialIcons大全</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>