<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微服务自动化.docker-compose - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微服务自动化.docker-compose" />
<meta property="og:description" content="了解： kubernetes 也称为k8s，也是用于自动部署和管理容器应用程序的开源系统
Docker-Compose项目是Docker官方的开源项目,负责实现对Docker容器集群的快速编排 通过编写docker-compose文件可对多个服务同时进行启动/停止/更新(可定义依赖,按顺序启动服务)
docker-compose将所管理的容器分为3层结构： project 1 一个微服务项目
service N 由N个微服务组成
container N 而每个微服务又由N个节点组成 docker-compose.yml组成一个project,project里包括多个service,每个service定义了容器运行的镜像（或构建镜像）
Docker-Compose的工程配置文件默认为docker-compose.yml
前面我们使用 Docker 的时候,定义 Dockerfile 文件,然后使用 docker build、docker run 等命令操作容器. 然而微服务架构的应用系统一般包含若干个微服务,每个微服务一般都会部署多 个实例,如果每个微服务都要手动启停,
那么效率之低,维护量之大可想而知.而使用 Docker Compose 可以轻松、高效的管理容器, 它是一个用于定义和运行多容器 Docker 的应用程序工具.
三步过程 1)用dockerfile,或者镜像定义应用程序的环境,以便在任何地方复制.
2)在docker-compose.yml中定义组成应用程序的服务,以便它们可以在单独的环境中一起运行.
3)运行docker compose up启动并运行整个应用程序.
上传文件 将docker-compose-Linux-x86_64重命名为docker-compose
将刚才下载的docker-compose文件上传到centos7的/usr/local/bin/目录下 cd /usr/local/bin
添加可执行权限 chmod &#43;x /usr/local/bin/docker-compose
version: 指定 docker-compose.yml 文件的写法格式 services：
容器1：
容器2：
services：多个容器集合
然后把那个文件复制到bin目录：
cd /usr/local/bin
给文件授权：
[root@localhost ~]# chmod a&#43;x docker-compose
启动：[root@localhost ~]# ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b034c1c15b0f601b72f2913c6ba0edb6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-12T17:09:58+08:00" />
<meta property="article:modified_time" content="2024-01-12T17:09:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微服务自动化.docker-compose</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2> 了解：</h2> 
<p>kubernetes 也称为k8s，也是用于自动部署和管理容器应用程序的开源系统</p> 
<p>Docker-Compose项目是Docker官方的开源项目,负责实现对Docker容器集群的快速编排 通过编写docker-compose文件可对多个服务同时进行启动/停止/更新(可定义依赖,按顺序启动服务)</p> 
<h6>docker-compose将所管理的容器分为3层结构：</h6> 
<blockquote> 
 <p>project 1 一个微服务项目</p> 
 <p>service N 由N个微服务组成</p> 
 <p>container N 而每个微服务又由N个节点组成 </p> 
</blockquote> 
<p> docker-compose.yml组成一个project,project里包括多个service,每个service定义了容器运行的镜像（或构建镜像）</p> 
<blockquote> 
 <p>Docker-Compose的工程配置文件默认为docker-compose.yml</p> 
</blockquote> 
<p>前面我们使用 Docker 的时候,定义 Dockerfile 文件,然后使用 docker build、docker run 等命令操作容器. 然而微服务架构的应用系统一般包含若干个微服务,每个微服务一般都会部署多 个实例,如果每个微服务都要手动启停,</p> 
<p>那么效率之低,维护量之大可想而知.而使用 Docker Compose 可以轻松、高效的管理容器, 它是一个用于定义和运行多容器 Docker 的应用程序工具.</p> 
<h6>三步过程</h6> 
<p>1)用dockerfile,或者镜像定义应用程序的环境,以便在任何地方复制.</p> 
<p>2)在docker-compose.yml中定义组成应用程序的服务,以便它们可以在单独的环境中一起运行.</p> 
<p>3)运行docker compose up启动并运行整个应用程序.</p> 
<p></p> 
<ul><li>上传文件</li></ul> 
<blockquote> 
 <p>将docker-compose-Linux-x86_64重命名为docker-compose</p> 
</blockquote> 
<ul><li>将刚才下载的docker-compose文件上传到centos7的/usr/local/bin/目录下</li></ul> 
<blockquote> 
 <p>cd /usr/local/bin</p> 
</blockquote> 
<ul><li>添加可执行权限</li></ul> 
<blockquote> 
 <p>chmod +x /usr/local/bin/docker-compose</p> 
</blockquote> 
<ul><li>version: 指定 docker-compose.yml 文件的写法格式 </li></ul> 
<blockquote> 
 <p>services：</p> 
 <p>容器1：</p> 
 <p>容器2：</p> 
 <p>services：多个容器集合</p> 
 <p><img alt="" height="167" src="https://images2.imgbox.com/76/42/HlS3ags6_o.png" width="193"></p> 
</blockquote> 
<blockquote> 
 <p>然后把那个文件复制到bin目录：</p> 
 <p>cd /usr/local/bin</p> 
 <p><img alt="" height="151" src="https://images2.imgbox.com/36/7a/MJZgy9Y9_o.png" width="187"></p> 
 <p> 给文件授权：</p> 
 <p>[root@localhost ~]# chmod a+x docker-compose<br> 启动：[root@localhost ~]# ./docker-compose</p> 
 <p><br>  </p> 
</blockquote> 
<h2>docker-compose 基本指令</h2> 
<blockquote> 
 <p>查看版本信息</p> 
 <p>docker-compose -v</p> 
 <p>构建并启动容器<br> docker - compose up<br> 启动单个服务<br> docker - compose up 服务名称<br> 后台启动服务<br> docker - compose up - d<br> 停止和删除容器、网络、卷、镜像<br> docker - compose down<br> 启动指定服务或启动所有服务<br> docker - compose start [ 服务名称 ]<br> 停止指定服务或停止所有服务<br> docker - compose stop [ 服务名称 ]<br> 列出所有运行容器<br> docker - compose ps<br> 进入指定容器<br> docker - compose exec<br> 删除所有（停止状态的）服务容器<br> docker - compose rm<br> -f ：强制直接删除 , 包括非停止状态的容器<br> -v ：删除容器所挂载的数据卷<br>  </p> 
</blockquote> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0e3074e391224e9d3374714a51b814ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">认识字面量</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0094f8bd29f51f223c0d8d79ba039e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023 IoTDB Summit：天谋科技高级开发工程师苏宇荣《汇其流：如何用 IoTDB 流处理框架玩转端边云融合》...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>