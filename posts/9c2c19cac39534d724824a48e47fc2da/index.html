<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用OpenCV从一个矩阵提取子矩阵 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用OpenCV从一个矩阵提取子矩阵" />
<meta property="og:description" content="介绍opencv的两个函数：Range()和Rect()
Range()是用于表示一个范围的类。它的构造函数有两个整数参数，分别表示范围的起始和终止索引。这个范围包括起始索引但不包括终止索引。
cv::Range(int start, int end); /* 在OpenCV中，cv::Range() 主要用于 cv::Mat 的行、列、或通道的选择。例如，你可以使用 cv::Mat 的 rowRange()、colRange()、channel() 等函数，并通过 cv::Range() 指定相应的范围。 */ Rect()是用于表示一个矩形区域的类。它的构造函数有四个整数参数，分别表示矩形的左上角坐标的 x 和 y，以及矩形的宽度和高度。
cv::Rect(int x, int y, int width, int height); /* 在OpenCV中，cv::Rect() 主要用于表示矩阵的子矩阵的区域。例如，你可以使用 cv::Mat 的 rowRange()、colRange() 等函数，并通过 cv::Rect() 指定相应的区域。 */ 下面通过代码演示：
#include &lt;opencv2/opencv.hpp&gt; int main() { // 定义一个转换矩阵T /* T=[R,t 0,1] R为3x3的旋转矩阵，t为1x3的平移矩阵 */ cv::Mat T=(cv::Mat_&lt;double&gt;(4, 4) &lt;&lt; 0.9996238460064014, -0.01649257893348039, -0.02191258395290964,-0.07806970076422, 0.01627794636500941, 0.9998181209081466, -0.009937482872516265, 0.001608557714, 0.02207249323271539, 0.009577052982343131, 0.9997105006443944, -0.00261919831793, 0,0,0,1.000000000000000); std::cout &lt;&lt; &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9c2c19cac39534d724824a48e47fc2da/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-20T14:56:25+08:00" />
<meta property="article:modified_time" content="2024-01-20T14:56:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用OpenCV从一个矩阵提取子矩阵</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>介绍opencv的两个函数：Range()和Rect()</p> 
<p>Range()是用于表示一个范围的类。它的构造函数有两个整数参数，分别表示范围的起始和终止索引。这个范围包括起始索引但不包括终止索引。</p> 
<pre><code class="language-cpp">cv::Range(int start, int end);
/*
在OpenCV中，cv::Range() 主要用于 cv::Mat 的行、列、或通道的选择。例如，你可以使用 cv::Mat 
的 rowRange()、colRange()、channel() 等函数，并通过 cv::Range() 指定相应的范围。
*/
</code></pre> 
<p>Rect()是用于表示一个矩形区域的类。它的构造函数有四个整数参数，分别表示矩形的左上角坐标的 x 和 y，以及矩形的宽度和高度。</p> 
<pre><code class="language-cpp">cv::Rect(int x, int y, int width, int height);
/*
在OpenCV中，cv::Rect() 主要用于表示矩阵的子矩阵的区域。例如，你可以使用 cv::Mat 
的 rowRange()、colRange() 等函数，并通过 cv::Rect() 指定相应的区域。
*/</code></pre> 
<p>下面通过代码演示：</p> 
<pre><code class="language-cpp">#include &lt;opencv2/opencv.hpp&gt;


int main()
{
    // 定义一个转换矩阵T
    /*
        T=[R,t
            0,1]
        R为3x3的旋转矩阵，t为1x3的平移矩阵
    */
    cv::Mat T=(cv::Mat_&lt;double&gt;(4, 4) &lt;&lt; 0.9996238460064014, -0.01649257893348039, -0.02191258395290964,-0.07806970076422,
             0.01627794636500941, 0.9998181209081466, -0.009937482872516265, 0.001608557714,
             0.02207249323271539, 0.009577052982343131, 0.9997105006443944, -0.00261919831793,
             0,0,0,1.000000000000000);
    std::cout &lt;&lt; "T=" &lt;&lt; std::endl;
    std::cout &lt;&lt; T &lt;&lt; std::endl;
    std::cout &lt;&lt; "------------------------------"&lt;&lt; std::endl;

    // 使用Range()函数提取子矩阵
    // 提取旋转矩阵
    cv::Mat R = T(cv::Range(0,3),cv::Range(0,3));
    std::cout &lt;&lt; "R=" &lt;&lt; std::endl;
    std::cout &lt;&lt; R &lt;&lt; std::endl;
    std::cout &lt;&lt; "------------------------------"&lt;&lt; std::endl;

    // 提取平移矩阵
    cv::Mat t = T(cv::Range(0,3),cv::Range(3,4));
    std::cout &lt;&lt; "t=" &lt;&lt; std::endl;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    std::cout &lt;&lt; "------------------------------"&lt;&lt; std::endl;


    // 使用Rect()函数提取子矩阵
    // 提取旋转矩阵
    R = T(cv::Rect(0,0,3,3));
    std::cout &lt;&lt; "R=" &lt;&lt; std::endl;
    std::cout &lt;&lt; R &lt;&lt; std::endl;
    std::cout &lt;&lt; "------------------------------"&lt;&lt; std::endl;

    // 提取平移矩阵
    t = T(cv::Rect(3,0,1,3));
    std::cout &lt;&lt; "t=" &lt;&lt; std::endl;
    std::cout &lt;&lt; t &lt;&lt; std::endl;
    std::cout &lt;&lt; "------------------------------"&lt;&lt; std::endl;


    return 0;
}</code></pre> 
<p>运行结果：</p> 
<pre><code class="language-bash">T=
[0.9996238460064014, -0.01649257893348039, -0.02191258395290964, -0.07806970076422;
 0.01627794636500941, 0.9998181209081466, -0.009937482872516265, 0.001608557714;
 0.02207249323271539, 0.009577052982343131, 0.9997105006443944, -0.00261919831793;
 0, 0, 0, 1]
------------------------------
R=
[0.9996238460064014, -0.01649257893348039, -0.02191258395290964;
 0.01627794636500941, 0.9998181209081466, -0.009937482872516265;
 0.02207249323271539, 0.009577052982343131, 0.9997105006443944]
------------------------------
t=
[-0.07806970076422;
 0.001608557714;
 -0.00261919831793]
------------------------------
R=
[0.9996238460064014, -0.01649257893348039, -0.02191258395290964;
 0.01627794636500941, 0.9998181209081466, -0.009937482872516265;
 0.02207249323271539, 0.009577052982343131, 0.9997105006443944]
------------------------------
t=
[-0.07806970076422;
 0.001608557714;
 -0.00261919831793]
------------------------------
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a4983c6382547c22b69670c55ead88de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微服务面试题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1a19a644faa2a0356eb27f9850967f4d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">力扣：474. 一和零（动态规划）（01背包）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>