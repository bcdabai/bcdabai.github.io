<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>gdb - 暂停/恢复程序执行 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="gdb - 暂停/恢复程序执行" />
<meta property="og:description" content="GDB - 暂停/恢复程序执行 在使用GDB调试程序的时候，经常需要暂停程序，以查看程序执行情况和上下文。GDB 提供了多种暂停程序的方式，包括 break point, watch point, catch point, signals 和 thread stop. 在此这些概念直接饮用，不作翻译。 1. 设置暂停点 # set breakpoint usage： break file:function # 在文件file 中 function函数入口处暂停 break *&lt;addr&gt; # 在addr地址位置暂停 break file:line # 在文件file 中 行line处暂停 break class::function # 在 c&#43;&#43; 中使用 break class::function(type,type,...) # 在 c&#43;&#43; 中使用 # breakpoint with condition usage：break ... if &lt;condition&gt; # 设置条件断点，&#39;...&#39;可以是上面任意类型，condition是条件表达式 -------------------------------------------------------------- # set watchpoints usage: wacth &lt;expr&gt; # 设置变更 watchpoint，即当表达式值发生变化时暂停 rwatch &lt;expr&gt; # 设置&#39;读&#39; watchpoint，即当有对表达式的读取访问时暂停 awatch &lt;expr&gt; # 设置 &#39;读写&#39; watchpoint, 无论读写都暂停，注写时表达式也不一定变化 ------------------------------------------------------------------- # set catchpoints usage：catch &lt;event&gt; # 设置捕捉点，捕捉运行时事件 tcatch &lt;event&gt; # 设置临时捕捉点 #event 可以是以下关键字 # throw - C&#43;&#43; 抛出异常事件 # catch - 捕捉到C&#43;&#43;异常事件 # 这些功能很有用，有没有遇到过C&#43;&#43;程序运行退出，但又没任何core文件产生，让你找不到原因的时候，试一下这个命令吧。(后面还会有一个有帮助的命令) 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/39611363683147370c4a9b944a248ef5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-01-13T13:42:38+08:00" />
<meta property="article:modified_time" content="2017-01-13T13:42:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">gdb - 暂停/恢复程序执行</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div align="center" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 
 <span style="font-size:14px; word-wrap:break-word"><span style="word-wrap:break-word">GDB - 暂停/恢复程序执行</span></span> 
</div> 
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">
    
</div> 
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">
      
 <span style="font-size:12px; word-wrap:break-word">在使用GDB调试程序的时候，经常需要暂停程序，以查看程序执行情况和上下文。GDB 提供了多种暂停程序的方式，包括 break point, watch point, catch point, signals 和 thread stop. 在此这些概念直接饮用，不作翻译。</span> 
</div> 
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 
 <span style="font-size:12px; word-wrap:break-word"></span>  
</div> 
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 
 <span style="font-size:12px; word-wrap:break-word">1. 设置暂停点</span> 
</div> 
<div style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 
 <span style="font-size:12px; word-wrap:break-word">  </span> 
 <span style="font-size:12px; word-wrap:break-word"></span> 
</div> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)"><span style="word-wrap:break-word; color:rgb(255,153,0)"># set breakpoint</span><br style="word-wrap:break-word"> usage： break file<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>function <span style="word-wrap:break-word; color:rgb(255,153,0)"># 在文件file 中 function函数入口处暂停<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         break <span style="word-wrap:break-word; color:rgb(0,0,204)">*</span><span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>addr<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 在addr地址位置暂停 <br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         break file<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>line <span style="word-wrap:break-word; color:rgb(255,153,0)"># 在文件file 中 行line处暂停<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         break class<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span><span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>function <span style="word-wrap:break-word; color:rgb(255,153,0)"># 在 c++ 中使用<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         break class<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span><span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>function<span style="word-wrap:break-word; color:rgb(0,0,204)">(</span>type<span style="word-wrap:break-word; color:rgb(0,0,204)">,</span>type<span style="word-wrap:break-word; color:rgb(0,0,204)">,</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">)</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 在 c++ 中使用<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># breakpoint with condition<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage：break <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span> <span style="word-wrap:break-word; color:rgb(0,0,255)">if</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>condition<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置条件断点，'...'可以是上面任意类型，condition是条件表达式 <br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> --------------------------------------------------------------<br style="word-wrap:break-word"> <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># set watchpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> wacth <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>expr<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置变更 watchpoint，即当表达式值发生变化时暂停<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        rwatch <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>expr<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置'读' watchpoint，即当有对表达式的读取访问时暂停<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        awatch <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>expr<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置 '读写' watchpoint, 无论读写都暂停，注写时表达式也不一定变化<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> -------------------------------------------------------------------<br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># set catchpoints <br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage：catch <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>event<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置捕捉点，捕捉运行时事件<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        tcatch <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>event<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 设置临时捕捉点<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)">#event 可以是以下关键字<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># throw - C++ 抛出异常事件<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># catch - 捕捉到C++异常事件<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 这些功能很有用，有没有遇到过C++程序运行退出，但又没任何core文件产生，让你找不到原因的时候，试一下这个命令吧。(后面还会有一个有帮助的命令)<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> </span></code></p> </td></tr></tbody></table> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> <br style="word-wrap:break-word"> 2. 维护暂停点</p> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">    在设置了breakpoints以后，有时候需要根据具体情况对之进行修改，删除等，或设置触发breakpoints以后的行为，以下是一些维护命令。</p> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)"><span style="word-wrap:break-word; color:rgb(255,153,0)"># list breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> info breakpoints <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 查看所有的breakpoints信息, 查看breakpoint n<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        info break <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 同上<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">  --------------------------------------------------------------      <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># diable/enable breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage： disable breakpoints <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>m<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 使一些 breakpoints 失效, 无参数则针对所有breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         enable breakpoints <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>m<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 启用一些 breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         enable breakpoints once <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>m<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 启用，但在此处暂停后恢复到disable状态，即只enable这一次<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         enable breakpoints <span style="word-wrap:break-word; color:rgb(255,0,0)">delete</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>m<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 启用，在此处暂停后删除该 breakpoint<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">  ---------------------------------------------------------------       <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># delete breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> clear <span style="word-wrap:break-word; color:rgb(255,153,0)">#清除所有的breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        clear <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>function<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)">#清除所有设置在函数function上的breakpoints <br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        clear <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>line<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)">#清除所有设置在line行的breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        clear <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>file<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>function<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span><br style="word-wrap:break-word">        clear <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>file<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span>line<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span><br style="word-wrap:break-word">        <span style="word-wrap:break-word; color:rgb(255,0,0)">delete</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>breakpoints<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>m<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)">#删除m，不带break No. 则删除所有breakpoints<br style="word-wrap:break-word"> </span>      <br style="word-wrap:break-word"> ---------------------------------------------------------<br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># condition breakpoints<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> condition <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 清除 breakpoint n 的条件<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        condition <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>expr<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 修改 breakpoint n 的条件为 expr<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        ignore <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>count<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 忽略 breakpoint n 的停止条件 count 次，即前count次都把它作为无条件breakpoint对待<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> -------------------------------------------------------------       <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># set commands when pause at a breakpoint<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage： commands <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <br style="word-wrap:break-word">         <span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>command list<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><span style="word-wrap:break-word; color:rgb(0,0,204)">.</span><br style="word-wrap:break-word">         end <span style="word-wrap:break-word; color:rgb(255,153,0)"># 是 commands-end 对，由于给breakpoint n 设置暂停时执行的命令序列，如果命令为空，则清除在该breakpoint n 上的命令<br style="word-wrap:break-word"> </span></span></code></p> </td></tr></tbody></table> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 3. 单步调试</p> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">    在暂停程序以后，经常需要单步跟踪调试程序，单步调试命令如下。</p> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)">usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> step <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 类似 VC中的 step-in, 即碰到函数会进入; n 表示步长，缺省为1; 这里的1步都是以程序语句为单位<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        <span style="word-wrap:break-word; color:rgb(0,0,255)">next</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>n<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 类似 VC中的 step-over, 即碰到函数不进入，算作1步; n 表示步长，缺省为1 <br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">  --------------------------------------------------       <br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> stepi <span style="word-wrap:break-word; color:rgb(255,153,0)"># 单步跟踪，1步代表一条机器指令，而不是程序语句<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">        nexti <span style="word-wrap:break-word; color:rgb(255,153,0)"># 单步跟踪，同上<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> ----------------------------------------------------<br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)">#set step mode<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage： set step<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>mod on <span style="word-wrap:break-word; color:rgb(255,153,0)">#打开步进模式开关，这样可以在不含调试信息的程序里进行单步跟踪<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word">         set step<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>mod off <span style="word-wrap:break-word; color:rgb(255,153,0)">#关闭步进模式<br style="word-wrap:break-word"> </span><span style="font-family:NSimsun; word-wrap:break-word">-----------------------------------------------------------<br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> <span style="word-wrap:break-word; color:rgb(0,0,255)">until</span> </span><span style="word-wrap:break-word; color:rgb(255,153,0)"><span style="font-family:NSimsun; word-wrap:break-word"># 运行到循环结束，当在循环体内跟踪想跳出循环时有用</span><br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> ---------------------------------------------------        <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)">#exit function<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> finish <span style="word-wrap:break-word; color:rgb(255,153,0)">#执行到退出当前函数<br style="word-wrap:break-word"> </span></span></code></p> </td></tr></tbody></table> 
<br style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 
<span style="color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 4. 恢复执行/继续执行</span> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">     在暂停程序以后，在已经达到目的，活着为达到下一步的调试目的，经常需要恢复暂停运行的程序，以下是恢复程序执行的命令。</p> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)">usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> <span style="word-wrap:break-word; color:rgb(0,0,255)">continue</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>ignore<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>count<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 恢复运行，并且忽略在运行过程中的 igore-count 次暂停(breakpoint 触发)<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> fg <span style="word-wrap:break-word; color:rgb(0,0,204)">[</span>ignore<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>count<span style="word-wrap:break-word; color:rgb(0,0,204)">]</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 同上<br style="word-wrap:break-word"> </span></span></code></p> </td></tr></tbody></table> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 5. 处理信号</p> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">    GDB提供在调试时处理任何一种信号的能力，关于信号的知识在此不作介绍。你可以要求GDB在收到信号时停止程序或采取其它动作，相关命令如下。 </p> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)">usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> handle <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>signal<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>action<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 指示GDB在收到signal信号时采取action动作<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)">#action 取值如下:<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># stop - 收到信号时停住被调试程序，打印信号名<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># nostop - 收到信号时不停住被调试程序，仅打印信号名,提示收到信号<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># print - 收到信号时，打印信号信息<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># noprint - 收到信号时，不打印信号信息<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># pass - 收到信号时交给被调试程序处理<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># nopass - 收到信号时gdb不会让被调试程序处理该信号<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> -------------------------------------------------------<br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># list signals<br style="word-wrap:break-word"> </span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> info signals<br style="word-wrap:break-word">        info handle <span style="word-wrap:break-word; color:rgb(255,153,0)">#列出被gdb检测的信号<br style="word-wrap:break-word"> </span></span></code></p> </td></tr></tbody></table> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">    <span style="color:#ff0000; word-wrap:break-word">在你的程序无缘无故崩溃而又没有core文件时，通过处理 SIGTERM 信号定位问题，又是一种有效手段。</span></p> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px"> 6. 针对多线程的breakpoints</p> 
<p style="word-wrap:break-word; margin-top:5px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px">   如果你的程序是多线程的，那在设置breakpoints时需要考虑是否设置在所有的线程上，如果不是就需要指定线程，这样，就只有指定的线程会在运行到breakpoint位置暂停，相关命令如下。</p> 
<table border="1" cellspacing="0" cellpadding="0" width="95%" bgcolor="#f1f1f1" style="word-wrap:break-word; color:rgb(102,102,102); font-family:宋体,Arial; font-size:16px; border-collapse:collapse"><tbody style="word-wrap:break-word"><tr style="word-wrap:break-word"><td style="word-wrap:break-word; margin:0px; padding:0px"> <p style="word-wrap:break-word; margin:5px; padding-top:0px; padding-bottom:0px; line-height:24px"> <code style="word-wrap:break-word"><span style="word-wrap:break-word; color:rgb(0,0,0)"><span style="word-wrap:break-word; color:rgb(255,153,0)"># 前面设置breakpoints的方式在此仍然适用，只是需要指定 线程id, 如</span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> break <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>line<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> thread <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>thread<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>id<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> break <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>line<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> thread <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>thread<span style="word-wrap:break-word; color:rgb(0,0,204)">-</span>id<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span> <span style="word-wrap:break-word; color:rgb(0,0,255)">if</span> <span style="word-wrap:break-word; color:rgb(0,0,204)">&lt;</span>condition<span style="word-wrap:break-word; color:rgb(0,0,204)">&gt;</span><br style="word-wrap:break-word"> <br style="word-wrap:break-word"> <span style="word-wrap:break-word; color:rgb(255,153,0)"># 线程id是gdb分配的，可以通过如下方式获得</span><br style="word-wrap:break-word"> usage<span style="word-wrap:break-word; color:rgb(0,0,204)">:</span> info threads <span style="word-wrap:break-word; color:rgb(255,153,0)">#list threads infomation</span></span></code></p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/856f0d7a31c09e6ba3776b5ce9f39498/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python多线程模块：threading使用方法（参数传递）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6406167890ab234115acf4e992ba266a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux 查看用户历史记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>