<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3 äº¬ä¸œåˆ°å®¶é¡¹ç›®å®æˆ˜ç¬¬äºŒç¯‡ï¼ˆå•†å®¶è¯¦æƒ…é¡µé¢åŠè´­ç‰©è½¦å®Œæ•´é€»è¾‘å¼€å‘ï¼‰ è¿›é˜¶å¼æŒæ¡vue3å®Œæ•´çŸ¥è¯†ä½“ç³» - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue3 äº¬ä¸œåˆ°å®¶é¡¹ç›®å®æˆ˜ç¬¬äºŒç¯‡ï¼ˆå•†å®¶è¯¦æƒ…é¡µé¢åŠè´­ç‰©è½¦å®Œæ•´é€»è¾‘å¼€å‘ï¼‰ è¿›é˜¶å¼æŒæ¡vue3å®Œæ•´çŸ¥è¯†ä½“ç³»" />
<meta property="og:description" content="ç›®å½•
å°è£…axiosè¯·æ±‚ğŸ’™
å•†å®¶è¯¦æƒ…é¡µé¢çš„å®ç°Â ğŸ’œÂ é¡µé¢æ ·å¼å®ç°
é¡µé¢é˜²æŠ–
çœç•¥å·è¡¨ç¤ºå¤šä½™å†…å®¹
é€šè¿‡ watchEffect å·§å¦™çš„è¿›è¡Œä»£ç æ‹†åˆ†
åº•éƒ¨è´­ç‰©è½¦æ ·å¼å¼€å‘â¤ï¸Â è´­ç‰©è½¦æ•°æ®è”åŠ¨Â ğŸ’šÂ åŒæ­¥æ”¹å˜é€‰ä¸­æ•°å­—ä¸é‡‘é¢
æ ¹æ®è´­ç‰©è½¦é€‰ä¸­çŠ¶æ€å®ç°è®¡ç®—é‡‘é¢
æ¸…ç©ºè´­ç‰©è½¦åŠŸèƒ½
æœ¬åœ°å­˜å‚¨ä¿å­˜è´­ç‰©è½¦æ•°æ®
ä¸ªäººä¸»é¡µï¼šå°æ°å­¦å‰ç«¯
Vue3 äº¬ä¸œåˆ°å®¶é¡¹ç›®å®æˆ˜ç¬¬ä¸€ç¯‡ï¼šäº¬ä¸œåˆ°å®¶ï¼ˆé¦–é¡µåŠç™»å½•åŠŸèƒ½å¼€å‘ï¼‰
é¡¹ç›®æºç åœ¨æ–‡ç« æœ€åå“¦ğŸ™‹ğŸ™‹ğŸ™‹
å°è£…axiosè¯·æ±‚Â ğŸ’¨Â åœ¨ç¬¬ä¸€ç¯‡ä¸­æˆ‘ä»¬çš„é™„è¿‘åº—é“ºæ˜¯å†™æ­»çš„æ•°æ®ï¼Œæˆ‘ä»¬æŠŠå®ƒé€šè¿‡æ¥å£è¯·æ±‚è¿‡æ¥ã€‚Â åœ¨ util ä¸‹çš„ request.js ä¸­æˆ‘ä»¬è¿˜éœ€è¦å†™ä¸€ä¸ª get è¯·æ±‚æ¥è·å–é™„è¿‘åº—é“ºçš„æ•°æ®ï¼Œé‚£æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª axios å®ä¾‹å¯¹è±¡ï¼Œåœ¨é‡Œé¢é…ç½®å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚é‡Œéƒ½è®¾ç½® baseURL äº†ã€‚
const instance = axios.create({ baseURL: &#39;https://www.fastmock.site/mock/ae8e9031947a302fed5f92425995aa19/jd&#39;, timeout: 10000 }) è¿™æ ·æˆ‘ä»¬æŠŠåŸæ¥çš„ post è¿›è¡Œä¸€ä¸‹å°è£…ï¼š
export const post = (url, data = {}) =&gt; { return new Promise((resolve, reject) =&gt; { instance.post(url, data, { headers: { &#39;Content-Type&#39;: &#39;application/json&#39; } })." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e4d12518b975b7db46f22688f42e6b9d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-13T12:13:26+08:00" />
<meta property="article:modified_time" content="2022-07-13T12:13:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3 äº¬ä¸œåˆ°å®¶é¡¹ç›®å®æˆ˜ç¬¬äºŒç¯‡ï¼ˆå•†å®¶è¯¦æƒ…é¡µé¢åŠè´­ç‰©è½¦å®Œæ•´é€»è¾‘å¼€å‘ï¼‰ è¿›é˜¶å¼æŒæ¡vue3å®Œæ•´çŸ¥è¯†ä½“ç³»</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>ç›®å½•</strong></p> 
<p id="%E5%B0%81%E8%A3%85axios%E8%AF%B7%E6%B1%82-toc" style="margin-left:40px;"><a href="#%E5%B0%81%E8%A3%85axios%E8%AF%B7%E6%B1%82" rel="nofollow">å°è£…axiosè¯·æ±‚</a>ğŸ’™</p> 
<p id="%E5%95%86%E5%AE%B6%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#%E5%95%86%E5%AE%B6%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%AE%9E%E7%8E%B0" rel="nofollow">å•†å®¶è¯¦æƒ…é¡µé¢çš„å®ç°</a>Â ğŸ’œÂ </p> 
<p id="%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0-toc" style="margin-left:80px;"><a href="#%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0" rel="nofollow">é¡µé¢æ ·å¼å®ç°</a></p> 
<p id="%E9%A1%B5%E9%9D%A2%E9%98%B2%E6%8A%96-toc" style="margin-left:80px;"><a href="#%E9%A1%B5%E9%9D%A2%E9%98%B2%E6%8A%96" rel="nofollow">é¡µé¢é˜²æŠ–</a></p> 
<p id="%E7%9C%81%E7%95%A5%E5%8F%B7%E8%A1%A8%E7%A4%BA%E5%A4%9A%E4%BD%99%E5%86%85%E5%AE%B9-toc" style="margin-left:80px;"><a href="#%E7%9C%81%E7%95%A5%E5%8F%B7%E8%A1%A8%E7%A4%BA%E5%A4%9A%E4%BD%99%E5%86%85%E5%AE%B9" rel="nofollow">çœç•¥å·è¡¨ç¤ºå¤šä½™å†…å®¹</a></p> 
<p id="%E9%80%9A%E8%BF%87%20watchEffect%20%E5%B7%A7%E5%A6%99%E7%9A%84%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%8B%86%E5%88%86-toc" style="margin-left:80px;"><a href="#%E9%80%9A%E8%BF%87%20watchEffect%20%E5%B7%A7%E5%A6%99%E7%9A%84%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%8B%86%E5%88%86" rel="nofollow">é€šè¿‡ watchEffect å·§å¦™çš„è¿›è¡Œä»£ç æ‹†åˆ†</a></p> 
<p id="%E5%BA%95%E9%83%A8%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A0%B7%E5%BC%8F%E5%BC%80%E5%8F%91-toc" style="margin-left:40px;"><a href="#%E5%BA%95%E9%83%A8%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A0%B7%E5%BC%8F%E5%BC%80%E5%8F%91" rel="nofollow">åº•éƒ¨è´­ç‰©è½¦æ ·å¼å¼€å‘</a>â¤ï¸Â </p> 
<p id="%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE%E8%81%94%E5%8A%A8-toc" style="margin-left:40px;"><a href="#%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE%E8%81%94%E5%8A%A8" rel="nofollow">è´­ç‰©è½¦æ•°æ®è”åŠ¨</a>Â ğŸ’šÂ </p> 
<p id="%E5%90%8C%E6%AD%A5%E6%94%B9%E5%8F%98%E9%80%89%E4%B8%AD%E6%95%B0%E5%AD%97%E4%B8%8E%E9%87%91%E9%A2%9D-toc" style="margin-left:80px;"><a href="#%E5%90%8C%E6%AD%A5%E6%94%B9%E5%8F%98%E9%80%89%E4%B8%AD%E6%95%B0%E5%AD%97%E4%B8%8E%E9%87%91%E9%A2%9D" rel="nofollow">åŒæ­¥æ”¹å˜é€‰ä¸­æ•°å­—ä¸é‡‘é¢</a></p> 
<p id="%E6%A0%B9%E6%8D%AE%E8%B4%AD%E7%89%A9%E8%BD%A6%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E9%87%91%E9%A2%9D-toc" style="margin-left:80px;"><a href="#%E6%A0%B9%E6%8D%AE%E8%B4%AD%E7%89%A9%E8%BD%A6%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E9%87%91%E9%A2%9D" rel="nofollow">æ ¹æ®è´­ç‰©è½¦é€‰ä¸­çŠ¶æ€å®ç°è®¡ç®—é‡‘é¢</a></p> 
<p id="%E6%B8%85%E7%A9%BA%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD-toc" style="margin-left:80px;"><a href="#%E6%B8%85%E7%A9%BA%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD" rel="nofollow">æ¸…ç©ºè´­ç‰©è½¦åŠŸèƒ½</a></p> 
<p id="%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E4%BF%9D%E5%AD%98%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E4%BF%9D%E5%AD%98%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE" rel="nofollow">æœ¬åœ°å­˜å‚¨ä¿å­˜è´­ç‰©è½¦æ•°æ®</a></p> 
<hr id="hr-toc"> 
<p></p> 
<blockquote> 
 <p><strong>ä¸ªäººä¸»é¡µï¼š<strong><a href="https://blog.csdn.net/qq_49900295?spm=1000.2115.3001.5343" title="å°æ°å­¦å‰ç«¯">å°æ°å­¦å‰ç«¯</a></strong></strong></p> 
 <p><strong>Vue3 äº¬ä¸œåˆ°å®¶é¡¹ç›®å®æˆ˜ç¬¬ä¸€ç¯‡</strong><strong>ï¼š<strong><a class="link-info" href="https://blog.csdn.net/qq_49900295/article/details/124920585?spm=1001.2014.3001.5502" title="äº¬ä¸œåˆ°å®¶ï¼ˆé¦–é¡µåŠç™»å½•åŠŸèƒ½å¼€å‘ï¼‰">äº¬ä¸œåˆ°å®¶ï¼ˆé¦–é¡µåŠç™»å½•åŠŸèƒ½å¼€å‘ï¼‰</a></strong></strong></p> 
 <p><strong><strong>é¡¹ç›®æºç åœ¨æ–‡ç« æœ€åå“¦</strong></strong>ğŸ™‹ğŸ™‹ğŸ™‹</p> 
</blockquote> 
<h3 id="%E5%B0%81%E8%A3%85axios%E8%AF%B7%E6%B1%82">å°è£…axiosè¯·æ±‚Â ğŸ’¨Â </h3> 
<p>åœ¨ç¬¬ä¸€ç¯‡ä¸­æˆ‘ä»¬çš„é™„è¿‘åº—é“ºæ˜¯å†™æ­»çš„æ•°æ®ï¼Œæˆ‘ä»¬æŠŠå®ƒé€šè¿‡æ¥å£è¯·æ±‚è¿‡æ¥ã€‚Â </p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">åœ¨ util ä¸‹çš„ request.js ä¸­æˆ‘ä»¬è¿˜éœ€è¦å†™ä¸€ä¸ª get è¯·æ±‚æ¥è·å–é™„è¿‘åº—é“ºçš„æ•°æ®ï¼Œé‚£æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª axios å®ä¾‹å¯¹è±¡ï¼Œåœ¨é‡Œé¢é…ç½®å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨æ¯ä¸ªè¯·æ±‚é‡Œéƒ½è®¾ç½® baseURL äº†ã€‚</span></span></strong></p> 
<pre><code class="language-javascript">const instance = axios.create({
  baseURL: 'https://www.fastmock.site/mock/ae8e9031947a302fed5f92425995aa19/jd',
  timeout: 10000
})</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">è¿™æ ·æˆ‘ä»¬æŠŠåŸæ¥çš„ post è¿›è¡Œä¸€ä¸‹å°è£…ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">export const post = (url, data = {}) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    instance.post(url, data, {
      headers: {
        'Content-Type': 'application/json'
      }
    }).then((response) =&gt; {
      resolve(response)
    }, err =&gt; {
      reject(err)
    })
  })
}
</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç„¶åå†å†™ä¸€ä¸ª get è¯·æ±‚ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">export const get = (url, params = {}) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    instance.get(url, { params }).then((response) =&gt; {
      resolve(response)
    }, err =&gt; {
      reject(err)
    })
  })
}</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç°åœ¨é™„è¿‘åº—é“ºçš„æ•°æ®æˆ‘ä»¬æ˜¯å†™åœ¨ setup é‡Œï¼š</span></span></strong></p> 
<p><img alt="" height="822" src="https://images2.imgbox.com/71/dc/zhAdoimQ_o.png" width="810"></p> 
<p>ç°åœ¨æˆ‘ä»¬å°±è¦æ”¹æˆä»åç«¯æ¥å£æ¥è¯·æ±‚ç›¸å…³æ•°æ® ï¼Œåˆ æ‰è¿™äº›æ•°æ®ç„¶åæŠŠåˆšåˆšå®šä¹‰çš„getæ–¹æ³•å¼•å…¥è¿›æ¥ï¼Œå‘æ¥å£å‘é€getè¯·æ±‚ï¼Œè¿™é‡Œè¯·æ±‚çš„æ¥å£åœ¨æ¥å£æ–‡æ¡£é‡Œï¼š</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f1/7b/exJ7jh9Y_o.jpg" width="1200"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬è°ƒç”¨å°è£…çš„ get è¯·æ±‚ï¼ŒæŠŠurlè®¾ç½®ä¸ºçƒ­é—¨åº—é“ºçš„æ¥å£åœ°å€ ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">import { ref } from 'vue'
import { get } from '../../utils/request'
export default ({
  name: 'NearBy',
  setup () {
    const nearbyList = ref([])
    const getNearbyList = async () =&gt; {
      const result = await get('/api/shop/hot-list')
      console.log(result)
    }
    getNearbyList()
    return {
      nearbyList,
      getNearbyList
    }
  }
})</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æ‰“å°ä¸€ä¸‹è¿”å›çš„ç»“æœï¼Œå¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š</span></span></strong></p> 
<p><img alt="" height="231" src="https://images2.imgbox.com/9e/3f/UlcHjRCt_o.png" width="998"></p> 
<p>ç°åœ¨åç«¯çš„æ•°æ®å°±è¢«æˆ‘ä»¬æ¥æ”¶åˆ°äº†ã€‚</p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ NearBy ä¸­çš„ä»£ç ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">export default ({
  name: 'NearBy',
  setup () {
    // const router = useRouter()
    const nearbyList = ref([])
    const getNearbyList = async () =&gt; {
      const result = await get('/api/shop/hot-list')
      if (result.data.errno === 0) {
        nearbyList.value = result.data.data
      }
    }
    getNearbyList()
    return {
      nearbyList
    }
  }
})</code></pre> 
<p><span style="background-color:#fefcd8;">æŠŠåŸæ¥çš„ nearblList é€šè¿‡refè®¾ç½®ä¸ºå“åº”å¼çš„æ•°ç»„ï¼Œç„¶åæŠŠ get è¯·æ±‚å›æ¥çš„æ•°æ®èµ‹ç»™æˆ‘ä»¬å®šä¹‰å¥½çš„æ•°ç»„ï¼Œå½“ç„¶è§†å›¾æ¨¡æ¿é‡Œçš„å†…å®¹ä¹Ÿéœ€è¦æ”¹åŠ¨ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æ¥å£ä¿¡æ¯ï¼š</span></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4a/ea/07KiYIaz_o.jpg" width="1200"></p> 
<p>åœ¨åŸæ¥çš„è§†å›¾æ¨¡æ¿ä¸­ï¼Œå¾ªç¯åˆ—è¡¨é‡Œçš„ä¿¡æ¯æ—¶ï¼Œkeyæˆ‘ä»¬å®šä¹‰çš„æ˜¯ id ï¼Œä½†æ˜¯åœ¨åç«¯ç»™æˆ‘ä»¬çš„æ¥å£æ•°æ®ç»“æ„ä¸­å°±ä¸æ˜¯ id äº†ï¼Œè€Œæ˜¯ _idï¼Œæ‰€ä»¥æˆ‘ä»¬éƒ½å¾—å‚ç…§è¿™ä¸ªæ•°æ®ç»“æ„è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="nearby"&gt;
      &lt;h3 class="nearby__title"&gt;é™„è¿‘åº—é“º&lt;/h3&gt;
      &lt;div class="nearby__item" v-for="item in nearbyList" :key="item._id"&gt;
        &lt;img :src="item.imgUrl" alt="" class="nearby__item__img"&gt;
        &lt;div class="nearby__content"&gt;
          &lt;div class="nearby__content__title"&gt;{<!-- -->{item.name}}&lt;/div&gt;
          &lt;div class="nearby__content__tags"&gt;
            &lt;span class="nearby__content__tag"&gt;æœˆå”®ï¼š{<!-- -->{item.sales}}&lt;/span&gt;
            &lt;span class="nearby__content__tag"&gt;èµ·é€ï¼š{<!-- -->{item.expressLimit}}&lt;/span&gt;
            &lt;span class="nearby__content__tag"&gt;åŸºç¡€è¿è´¹ï¼š{<!-- -->{item.expressPrice}}&lt;/span&gt;
          &lt;/div&gt;
          &lt;p class="nearby__content__highlight"&gt;{<!-- -->{item.slogan}}&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">Â é‚£ä¹ˆç°åœ¨é™„è¿‘åº—é“ºæ˜¾ç¤ºçš„ä¿¡æ¯å°±æ˜¯æˆ‘ä»¬åœ¨åç«¯è¿”å›è¿‡æ¥çš„æ•°æ®äº†ï¼š</span></span></strong></p> 
<p><img alt="" height="248" src="https://images2.imgbox.com/4b/c5/V4mjASJM_o.png" width="400"></p> 
<p><span style="background-color:#cbe0f1;">æˆ‘ä»¬ä¸ºäº†è®©ä»£ç çš„é€»è¾‘æ€§ä¸å¯è¯»æ€§æ›´é«˜ï¼Œåœ¨ setup å¤–é¢å†å®šä¹‰ä¸€ä¸ªå‡½æ•°ç„¶åæŠŠ get è¯·æ±‚çš„ç›¸å…³ä»£ç éƒ½æ”¾è¿›å»ï¼Œåœ¨ setup ä¸­å†æŠŠè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼å¼•å…¥è¿›æ¥ï¼š</span></p> 
<pre><code class="language-javascript">const useNearbyList = () =&gt; {
  const nearbyList = ref([])
  const getNearbyList = async () =&gt; {
    const result = await get('/api/shop/hot-list')
    if (result.data.errno === 0) {
      nearbyList.value = result.data.data
    }
  }
  return { nearbyList, getNearbyList }
}

export default ({
  name: 'NearBy',
  setup () {
    const { nearbyList, getNearbyList } = useNearbyList()
    getNearbyList()
    return {
      nearbyList
    }
  }
})</code></pre> 
<p>è¿™æ ·æˆ‘ä»¬çš„ setup é‡Œåªå…³å¿ƒä»£ç çš„å®ç°é€»è¾‘è€Œä¸éœ€è¦å…³å¿ƒå†…éƒ¨çš„å®ç°ç»†èŠ‚ï¼Œè¿™æ ·ä»£ç çš„ç»´æŠ¤æ€§å’Œå¯è¯»æ€§å°±å¤§å¤§å¢å¼ºäº†ã€‚</p> 
<p></p> 
<h3 id="%E5%95%86%E5%AE%B6%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%AE%9E%E7%8E%B0">å•†å®¶è¯¦æƒ…é¡µé¢çš„å®ç°Â ğŸ’¨Â </h3> 
<h4 id="%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F%E5%AE%9E%E7%8E%B0">é¡µé¢æ ·å¼å®ç°</h4> 
<p>è¿™æ˜¯æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœå›¾ï¼š</p> 
<p><img alt="" height="656" src="https://images2.imgbox.com/df/4e/UsY67mGX_o.jpg" width="500"></p> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨é¡¶éƒ¨çš„å†…å®¹å’Œæˆ‘ä»¬åœ¨é™„è¿‘åº—é“ºåˆ¶ä½œçš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠé™„è¿‘åº—é“ºå…±ç”¨çš„éƒ¨åˆ†åšæˆä¸€ä¸ªç»„ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è¿™å—å¤ç”¨äº†ã€‚</span></p> 
</blockquote> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">é¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå•†å®¶è¯¦æƒ…é¡µé¢çš„è·¯ç”±ï¼Œå…ˆè¿›å…¥ router ä¸‹çš„ index.js é…ç½®è·¯ç”±ä¿¡æ¯ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  {
    path: '/shop',
    name: 'shop',
    component: () =&gt; import('../views/shop/ShopView')
  }</code></pre> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ç„¶ååœ¨ views ä¸‹åˆ›å»ºè¿™ä¸ªç»„ä»¶ï¼š</span></span></strong><br><img alt="" height="169" src="https://images2.imgbox.com/8d/a3/0cow4wpG_o.png" width="196"></p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ä¸‹é¢æˆ‘ä»¬å°±å…ˆæŠŠNearBy é‡Œå…±ç”¨çš„éƒ¨åˆ†æ‘˜ç¦»å‡ºæ¥åšæˆä¸€ä¸ªç»„ä»¶ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="shop"&gt;
        &lt;img :src="item.imgUrl" alt="" class="shop__img"&gt;
        &lt;div class="shop__content"&gt;
          &lt;div class="shop__content__title"&gt;{<!-- -->{item.name}}&lt;/div&gt;
          &lt;div class="shop__content__tags"&gt;
            &lt;span class="shop__content__tag"&gt;æœˆå”®ï¼š{<!-- -->{item.sales}}&lt;/span&gt;
            &lt;span class="shop__content__tag"&gt;èµ·é€ï¼š{<!-- -->{item.expressLimit}}&lt;/span&gt;
            &lt;span class="shop__content__tag"&gt;åŸºç¡€è¿è´¹ï¼š{<!-- -->{item.expressPrice}}&lt;/span&gt;
          &lt;/div&gt;
          &lt;p class="shop__content__highlight"&gt;{<!-- -->{item.slogan}}&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'ShopInfo',
  props: ['item']
}

&lt;/script&gt;
&lt;style lang="scss" scoped&gt;
@import '../style/viriables.scss';
.shop {
    display: flex;
    padding-top: .12rem;
    &amp;__img {
      margin-right: .16rem;
      width: .56rem;
      height: .56rem;
    }
    &amp;__content {
    padding-bottom: .12rem;
    border-bottom: 1px solid $content-fontcolor;
        &amp;__title {
        line-height: .22rem;
        font-size: .16rem;
        color:$content-fontcolor ;
        }
        &amp;__tags {
        margin-top: .08rem;
        line-height: .18rem;
        font-size: .13rem;
        color:$content-fontcolor ;
        }
        &amp;__tag {
        margin-right: .16rem;
        }
        &amp;__highlight {
        margin: .08rem 0 0 0;
        line-height: .18rem;
        font-size: .13rem;
        color: #E93B3B;
        }
  }
}
&lt;/style&gt;</code></pre> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">æˆ‘ä»¬æŠŠå…±ç”¨çš„æ¨¡æ¿å’Œæ ·å¼ä» nearby ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œå¹¶ä¸”ä¿®æ”¹ç›¸åº”çš„ç±»åï¼Œå› ä¸ºæˆ‘ä»¬åœ¨è¿™ä¸ªç»„ä»¶ä¸­éœ€è¦ç”¨åˆ° item ï¼Œæˆ‘ä»¬éœ€è¦ä»nearbyç»„ä»¶ä¸­æŠŠå®ƒä¼ è¿‡æ¥ï¼Œæˆ‘ä»¬å…ˆåœ¨ Nearby ä¸­å¼•å…¥å­ç»„ä»¶ç„¶ååœ¨è§†å›¾æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æŠŠ item ä¼ é€’ç»™å­ç»„ä»¶ï¼š</span></p> 
</blockquote> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="nearby"&gt;
      &lt;h3 class="nearby__title"&gt;é™„è¿‘åº—é“º&lt;/h3&gt;
      &lt;shop-info v-for="item in nearbyList" :key="item._id" :item="item"/&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p>è¿™æ ·æˆ‘ä»¬å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªå¯å¤ç”¨çš„ç»„ä»¶ã€‚</p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">åœ¨å•†å®¶è¯¦æƒ…é¡µé¢ä¸­æˆ‘ä»¬æŠŠè¿™ä¸ªç»„ä»¶å¼•å…¥è¿›æ¥ï¼Œå®ƒçš„æ•°æ®è¯·æ±‚æ–¹å¼å’Œ NearBy ä¸­çš„ä¸€æ ·ï¼Œåªä¸è¿‡æ¥å£æ˜¯ /api/shop/:idï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆè¯·æ±‚æ²ƒå°”ç›å•†åº—çš„æ•°æ®ï¼Œæ‰€ä»¥å†™1å°±å¯ä»¥ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="wrapper"&gt;
      &lt;shop-info :item="shopList" /&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from 'vue'
import { get } from '../../utils/request'
import ShopInfo from '../../components/ShopInfo.vue'

const useShopList = () =&gt; {
  const shopList = ref({})
  const getShopList = async () =&gt; {
    const result = await get('/api/shop/1')
    if (result.data.errno === 0) {
      shopList.value = result.data.data
    }
  }
  return { shopList, getShopList }
}

export default {
  name: 'ShopView',
  components: { ShopInfo },
  setup () {
    const { shopList, getShopList } = useShopList()
    getShopList()
    return {
      shopList
    }
  }
}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
.wrapper {
    padding: 0 .18rem;
}
&lt;/style&gt;</code></pre> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ç°åœ¨å•†å®¶è¯¦æƒ…é¡µé¢å°±æ˜¾ç¤ºå‡ºæˆ‘ä»¬æƒ³è¦çš„å†…å®¹äº†ï¼š</span></span></strong><br><img alt="" height="285" src="https://images2.imgbox.com/34/f5/12qDZIPZ_o.png" width="450"></p> 
<blockquote> 
 <p>ä½†æ˜¯åœ¨æˆ‘ä»¬çš„è¿™ä¸ªé¡µé¢ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸‹é¢çš„è¿™ä¸ªçŸ­çº¿ï¼Œä¹Ÿå°±æ˜¯åº•è¾¹æ¡†ï¼Œè¿™ä¸ªåº•è¾¹æ¡†æ ·å¼æ˜¯æˆ‘ä»¬åœ¨åšé™„è¿‘åº—é“ºçš„æ—¶å€™åŠ çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸èƒ½æŠŠä»–åˆ æ‰ï¼Œå› ä¸ºé™„è¿‘åº—é“ºä¸­ä¹Ÿéœ€è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡å†è®¾ç½®ä¸€ä¸ªå±æ€§æ¥æ§åˆ¶å­ç»„ä»¶ä¸­çš„æ ·å¼ï¼Œåœ¨å­ç»„ä»¶ä¸­è¾¹æ¡†æ ·å¼é‚£é‡Œå¤šåŠ ä¸€ä¸ªç±»ï¼Œå½“æˆ‘ä»¬è®¾ç½® --bordered è¿™ä¸ªç±»ä¸º falseçš„æ—¶å€™å°±éšè—è¿™ä¸ªå±æ€§ï¼š</p> 
</blockquote> 
<p><img alt="" height="130" src="https://images2.imgbox.com/e3/cf/FjLrsO0U_o.png" width="556"></p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">æˆ‘ä»¬åœ¨ props é‡Œå†è®¾ç½®ä¸€ä¸ªhideBorderå±æ€§æ¥æ§åˆ¶è¿™ä¸ªç±»Â ï¼š</span></span></strong></p> 
<p><img alt="" height="100" src="https://images2.imgbox.com/ce/ed/Jfdld8uv_o.png" width="335"></p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ç„¶åä¿®æ”¹å¯¹åº”çš„è§†å›¾æ¨¡æ¿é‡Œçš„è¯­å¥ï¼š</span></span></strong></p> 
<pre><code class="language-html">&lt;div :class="{'shop__content': true, 'shop__content--bordered': hideBorder ? false: true}"&gt;</code></pre> 
<p>å½“Â hideBorder å±æ€§ä¸ºtrueçš„æ—¶å€™ï¼Œ'shop__content--bordered'è¿™ä¸ªç±»å°±æ˜¯ falseï¼Œå°±ä¸æ˜¾ç¤ºè¿™ä¸ªå±æ€§ã€‚æˆ‘ä»¬åœ¨å•†å®¶è¯¦æƒ…é¡µé¢ä¼ é€’è¿™ä¸ªå±æ€§ï¼Œè®¾ç½®ä»–ä¸º trueï¼š</p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="wrapper"&gt;
      &lt;shop-info :item="shopList" :hideBorder="true"/&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/00/06/sSICQbUY_o.png" width="450"></p> 
<p>ç°åœ¨æˆ‘ä»¬çš„å•†å®¶è¯¦æƒ…é¡µé¢ä¸­å°±ä¸æ˜¾ç¤ºä¸‹é¢çš„åº•è¾¹æ¡†äº†ã€‚</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">ä¸‹é¢æˆ‘ä»¬å®ç°åœ¨é¦–é¡µå•å‡»æ²ƒå°”ç›å’Œå±±å§†ä¼šå‘˜å•†åº—æ—¶çš„è·³è½¬æ•ˆæœï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;template&gt;
    &lt;div class="nearby"&gt;
      &lt;h3 class="nearby__title"&gt;é™„è¿‘åº—é“º&lt;/h3&gt;
      &lt;router-link to="/shop" v-for="item in nearbyList" :key="item._id"&gt;
         &lt;shop-info :item="item" /&gt;
      &lt;/router-link&gt;
    &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p>ç”¨ router-link æŠŠå®ƒåŒ…è£¹èµ·æ¥ï¼Œç„¶åæŠŠå¾ªç¯æŒ‡ä»¤æ”¾åœ¨ router-link ä¸Šå°±è¡Œã€‚Â </p> 
<blockquote> 
 <p><span style="background-color:#d4e9d5;">ä½†æ˜¯å½“æˆ‘ä»¬åœ¨é¦–é¡µå•å‡»æ²ƒå°”ç›æˆ–è€…å±±å§†ä¼šå‘˜å•†åº—çš„æ—¶å€™ï¼Œä»–ä¼šè·³è½¬åˆ°å•†å“è¯¦æƒ…é¡µé¢ï¼Œä½†æ˜¯æ˜¾ç„¶æ²ƒå°”ç›å’Œå±±å§†ä¼šå‘˜å•†åº—çš„æ˜¾ç¤ºæ•°æ®ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬æ€ä¹ˆå®ç°è¿™ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</span></p> 
</blockquote> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">åœ¨æˆ‘ä»¬å•å‡»æ²ƒå°”ç›æˆ–å±±å§†ä¼šå‘˜å•†åº—çš„æ—¶å€™ï¼Œä¼šæŠŠå¯¹åº”å•†åº—çš„ id å¸¦åˆ°å•†å“è¯¦æƒ…é¡µé¢ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»¬å°±æ¥ä¿®æ”¹è·¯ç”±è·¯å¾„ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">{
    path: '/shop/:id',
    name: 'shop',
    component: () =&gt; import('../views/shop/ShopView')
}</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">ä¿®æ”¹ NearBy ä¸­çš„ router-link å¦‚ä¸‹ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;router-link :to="`/shop/${item._id}`" v-for="item in nearbyList" :key="item._id"&gt;
    &lt;shop-info :item="item" /&gt;
&lt;/router-link&gt;
</code></pre> 
<p><span style="background-color:#fefcd8;">ç°åœ¨å½“æˆ‘ä»¬å•å‡»ä¸åŒçš„å•†åº—æ—¶ï¼Œå•†åº—å¯¹åº”çš„ id å°±ä¼šè¢«å¸¦åˆ°å•†å“è¯¦æƒ…é¡µé¢ï¼Œè¯¦æƒ…é¡µé¢å°±ä¼šæ ¹æ®ä¸åŒçš„ id æ¥è·å–å¯¹åº”çš„æ•°æ®ã€‚</span></p> 
<p><img alt="" height="436" src="https://images2.imgbox.com/1c/b6/0wnrbhIZ_o.png" width="647"></p> 
<p>å½“æˆ‘ä»¬å•å‡»æ²ƒå°”ç›æ—¶ï¼Œè·¯å¾„ä¸­çš„å‚æ•° id æ˜¯1ã€‚</p> 
<p>å½“æˆ‘ä»¬å•å‡»å±±å§†ä¼šå‘˜å•†åº—æ—¶ï¼Œä¸Šé¢çš„idå°±æ˜¯2äº†ï¼Œè¿™å°±è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†ï¼š<br><img alt="" height="71" src="https://images2.imgbox.com/2a/c1/YcM5ZpOn_o.png" width="412"></p> 
<p><span style="color:#ed7976;">ç°åœ¨è¦è§£å†³çš„é—®é¢˜å°±æ˜¯ï¼Œæˆ‘å¦‚ä½•æ ¹æ®å‚æ•°æ¥è·å–å¯¹åº”çš„æ•°æ®å‘¢ï¼Œç°åœ¨æˆ‘ä»¬ä¸è®ºç‚¹å‡»å“ªä¸ªå•†åº—æ‹¿åˆ°çš„éƒ½æ˜¯ id ä¸º 1çš„æ•°æ®ã€‚</span></p> 
<p>åœ¨è·¯ç”±é‡Œæä¾›ç»™æˆ‘ä»¬äº†å¦ä¸€ä¸ªæ–¹æ³•æ¥æ‹¿åˆ°è·¯ç”±ä¸­çš„å‚æ•°ï¼Œå°±æ˜¯ useRouteã€‚</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">æˆ‘ä»¬æŠŠå®ƒå¼•å…¥è¿›æ¥ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">import { useRoute } from 'vue-router'</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">é€šè¿‡Â route.params.id æˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°è·¯ç”±å‚æ•°ä¸­Â id çš„å€¼ï¼š</span></span></strong></p> 
<p><img alt="" height="113" src="https://images2.imgbox.com/9f/8b/CP64bqfE_o.png" width="318"></p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">æˆ‘ä»¬å¯åŠ¨é¡¹ç›®ï¼Œå½“æˆ‘ä»¬å•å‡»å±±å§†ä¼šå‘˜å•†åº—æ—¶ï¼ŒÂ åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¾“å‡ºï¼š</span></span></strong></p> 
<p><img alt="" height="58" src="https://images2.imgbox.com/0d/a3/qVgGeB3V_o.png" width="163"></p> 
<p>è¿™æ ·æˆ‘ä»¬å°±æ‹¿åˆ°äº†å¯¹åº”çš„ id å€¼</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">é‚£æˆ‘ä»¬å°±ä¿®æ”¹ get è¯·æ±‚ä¸­çš„å‚æ•°ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">await get(`/api/shop/${route.params.id}`)</code></pre> 
<p><span style="background-color:#fefcd8;">è¿™æ ·å½“æˆ‘ä»¬å•å‡»ä¸åŒçš„å•†åº—æ—¶å®ƒè¿”å›çš„å°±æ˜¯å¯¹åº”çš„æ•°æ®äº†ã€‚ç”±äºæœ¬é¡¹ç›®å¹¶ä¸æ˜¯çœŸæ­£çš„åç«¯æ¥å£ï¼Œæ‰€ä»¥æ¯ä¸ªå•†åº—è¿”å›çš„éƒ½æ˜¯åŒæ ·çš„æ•°æ®ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯å­¦ä¹ è¿™ä¸ªè¿‡ç¨‹ï¼Œæ˜ç™½è¿™ä¸ªé€»è¾‘å°±è¡Œã€‚</span></p> 
<p></p> 
<h4 id="%E9%A1%B5%E9%9D%A2%E9%98%B2%E6%8A%96">é¡µé¢é˜²æŠ–</h4> 
<p><strong><span style="color:#b95514;"><span style="background-color:#fff5e6;">å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå½“æˆ‘ä»¬è¿›å…¥å•†å®¶è¯¦æƒ…é¡µé¢çš„æ—¶å€™è¿˜æ²¡æœ‰åŠ è½½å®Œæˆçš„å›¾ç‰‡ä¼šæœ‰ä¸€ä¸ªç©ºç™½çš„å±•ç¤ºï¼Œ</span></span></strong></p> 
<p><strong><span style="color:#b95514;"><span style="background-color:#fff5e6;">è¿™æ ·å°±æ˜¾çš„å¾ˆéš¾çœ‹ï¼š</span></span></strong></p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/db/4c/k3UxgUFI_o.gif" width="600"></p> 
<p><strong><span style="color:#b95514;"><span style="background-color:#fff5e6;">æˆ‘ä»¬å¯ä»¥å¯¹ä»£ç è¿›è¡Œä¸€ä¸‹ä¼˜åŒ–ï¼Œè®©å…ƒç´ åœ¨æ²¡æœ‰åŠ è½½å®Œæˆçš„æ—¶å€™ä¸æ˜¾ç¤ºï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;shop-info :item="shopList" :hideBorder="true" v-show="shopList.imgUrl"/&gt;</code></pre> 
<p><strong><span style="color:#b95514;"><span style="background-color:#fff5e6;">è¿™æ®µä»£ç çš„æ„æ€å°±æ˜¯åœ¨å›¾ç‰‡æ²¡æœ‰åŠ è½½å®Œæˆæ—¶ï¼Œå°±è®© displayä¸º none ï¼Œè¿™æ ·å°±ä¸ä¼šæ˜¾ç¤ºäº†ï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/e7/51/7hhBEM3K_o.gif" width="600"></p> 
<p>åœ¨æˆ‘ä»¬è¯¦æƒ…é¡µé¢çš„æ ·å¼ä¸­ï¼Œå¤šæ¬¡ä½¿ç”¨åˆ°äº† #333 è¿™ä¸ªé¢œè‰²ï¼Œé‚£æˆ‘ä»¬å°±æŠŠä»–æ”¾åˆ° viriables é‡Œï¼Œä½œä¸ºå˜é‡ä½¿ç”¨å®ƒï¼š</p> 
<p><img alt="" height="58" src="https://images2.imgbox.com/44/dc/fjlhwexJ_o.png" width="248"></p> 
<p><img alt="" height="272" src="https://images2.imgbox.com/46/97/8h5effqG_o.png" width="415"></p> 
<p></p> 
<h4 id="%E7%9C%81%E7%95%A5%E5%8F%B7%E8%A1%A8%E7%A4%BA%E5%A4%9A%E4%BD%99%E5%86%85%E5%AE%B9">çœç•¥å·è¡¨ç¤ºå¤šä½™å†…å®¹</h4> 
<p>è¿˜æœ‰ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç‚¹æ˜¯ï¼Œå¦‚æœç•ªèŒ„250g/ä»½è¿™é‡Œå­—æ•°å¾ˆå¤šçš„è¯ï¼Œä»–å°±ä¼šå‘ä¸‹æ¢è¡Œè¾“å‡ºï¼Œåƒè¿™æ ·ï¼š</p> 
<p><img alt="" height="416" src="https://images2.imgbox.com/37/08/O0F5cPZU_o.png" width="528"></p> 
<p>è¿™æ ·çš„è¯å°±ä¼šå½±å“åˆ°ä¸‹é¢çš„å•†å“çš„å¸ƒå±€ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä¸æ¢è¡Œï¼Œå¤šå‡ºçš„éƒ¨åˆ†ç”¨çœç•¥å·è¡¨ç¤ºã€‚</p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç”¨è¿™ä¸‰è¡Œä»£ç å°±èƒ½å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</span></span></strong></p> 
<pre><code class="language-css">overflow: hidden;
white-space: nowrap;
text-overflow: ellipsis;</code></pre> 
<p></p> 
<p><strong><span style="color:#ed7976;">ç°åœ¨æˆ‘ä»¬è¦å®ç°ç‚¹å‡»å·¦ä¾§ä¸åŒçš„åˆ†ç±»ï¼Œå³ä¾§å±•ç¤ºä¸åŒçš„æ ·å¼ï¼Œè¿™é‡Œçš„æ•°æ®æˆ‘ä»¬è¦é€šè¿‡å‘æ¨¡æ‹Ÿçš„åç«¯æ¥å£å‘é€è¯·æ±‚æ¥å®ç°ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹æ¥å£æ–‡æ¡£ï¼Œæ‰¾åˆ°å¯¹åº”çš„æ¥å£åœ°å€ï¼š</span></strong></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4a/8e/7LuZF53q_o.jpg" width="1200"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬ç‚¹å¼€å®ƒï¼Œçœ‹çœ‹æ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼š</span></span></strong></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/30/eb/RrZBBqUq_o.jpg" width="1200"></p> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">æ¥å£çš„ url æ ¼å¼æœ€åè¿˜å¸¦ä¸€ä¸ªå‚æ•°ï¼Œæ¯”å¦‚æˆ‘ä»¬ç‚¹å‡»çš„æ˜¯å…¨éƒ¨å•†å“ï¼Œä¼ é€’è¿‡å»çš„ tab å€¼å°±æ˜¯ allï¼Œç‚¹å‡»ç§’æ€ä¼ é€’çš„ tab å€¼å°±æ˜¯ seckillï¼Œç‚¹å‡»æ°´æœï¼Œä¼ é€’çš„ tab å€¼å°±æ˜¯ fruitï¼Œåç«¯æ ¹æ®è¿”å›çš„è¿™ä¸ªå‚æ•°æ¥ç»™æˆ‘ä»¬å¯¹åº”çš„æ•°æ®ã€‚</span>Â </p> 
</blockquote> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">è¿™é‡Œæˆ‘ä»¬å¯¹è¿™ä¸ªæ¥å£å‘é€ get è¯·æ±‚ï¼Œçœ‹çœ‹è¿”å›çš„ç»“æœï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  setup () {
    const getContentData = async () =&gt; {
      const result = await get('/api/shop/1/products', {
        tab: 'all'
      })
      console.log(result)
    }
    getContentData()
    return {
    }
  }</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š</span></span></strong><br><img alt="" height="269" src="https://images2.imgbox.com/55/37/6VHFGdUh_o.png" width="739"></p> 
<p>ç°åœ¨æˆ‘ä»¬å•†å“è¯¦æƒ…é¡µéœ€è¦çš„æ•°æ®å°±è¢«æˆåŠŸè·å–åˆ°äº†ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å®Œå–„æˆ‘ä»¬çš„é€»è¾‘ï¼Œç°åœ¨æˆ‘ä»¬è¦å®ç°çš„æ˜¯æŠŠè¯·æ±‚çš„æ•°æ®å±•ç¤ºåœ¨é¡µé¢ä¸Šæ›¿æ¢æˆ‘ä»¬ä¹‹å‰å†™æ­»çš„æ•°æ®ã€‚</p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">è¿™æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨é¡µé¢ä¸­å±•ç¤ºçš„æ•°æ®ï¼š</span></span></strong></p> 
<p><img alt="" height="187" src="https://images2.imgbox.com/58/90/yxxQnpkl_o.png" width="1032"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç°åœ¨æˆ‘ä»¬æ ¹æ®æ¥å£æ–‡æ¡£çš„å‚æ•°æ¥æ·»åŠ æ’å€¼è¡¨è¾¾å¼ï¼š</span></span></strong></p> 
<p><img alt="" height="977" src="https://images2.imgbox.com/33/c7/qKcL4ob3_o.jpg" width="1200"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªå¯¹è±¡æ¥æ¥æ”¶æ‰€æœ‰æ•°æ®ï¼Œå¹¶ä¸”åˆ¤æ–­å¦‚æœæ•°æ®æ²¡æœ‰é”™è¯¯ï¼Œå°±æŠŠè¯·æ±‚å›æ¥çš„æ•°æ®èµ‹ç»™å¯¹è±¡ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">setup () {
    const contentList = ref({})
    const getContentData = async () =&gt; {
      const result = await get('/api/shop/1/products', {
        tab: 'all'
      })
      if (result.data.errno === 0) {
        contentList.value = result.data.data
      }
    }
    getContentData()
    return {
      contentList
    }
  }</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç„¶åæˆ‘ä»¬åœ¨è§†å›¾æ¨¡æ¿ä¸­å¾ªç¯å•†å“æ•°æ®ï¼Œæ ¹æ®è¿”å›æ•°æ®çš„æ•°æ®ç»“æ„æ¥å†™æ’å€¼è¡¨è¾¾å¼ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;div class="product__item" v-for="item in contentList" :key="item._id"&gt;
      &lt;img class="product__item__img" src="http://www.dell-lee.com/imgs/vue3/near.png" alt=""&gt;
      &lt;div class="product__item__detail"&gt;
            &lt;h4 class="product__item__title"&gt;{<!-- -->{item.name}}&lt;/h4&gt;
            &lt;p class="product__item__sales"&gt;æœˆå”® {<!-- -->{item.sales}} ä»¶&lt;/p&gt;
            &lt;p class="product__item__price"&gt;
                  &lt;span class="product__item__yen"&gt;&amp;yen;&lt;/span&gt;{<!-- -->{item.price}}
                  &lt;span class="product__item__origin"&gt;&amp;yen;{<!-- -->{item.oldPrice}}&lt;/span&gt;
            &lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="product__number"&gt;
            &lt;span class="product__number__minus"&gt;-&lt;/span&gt;
            0
            &lt;span class="product__number__plus"&gt;+&lt;/span&gt;
      &lt;/div&gt;
&lt;/div&gt;</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</span></span></strong><br><img alt="" height="685" src="https://images2.imgbox.com/53/0f/lTLTrRu6_o.png" width="500"></p> 
<p>ç°åœ¨æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ•°æ®éƒ½æ˜¯é€šè¿‡åç«¯æ¥å£è¿”å›æ¥çš„äº†ï¼Œè¿™é‡Œå›¾ç‰‡åé¢ä¼šæ”¹å…ˆè¿™ä¹ˆåšã€‚</p> 
<p><strong><span style="color:#ed7976;">ç°åœ¨æˆ‘ä»¬è¦å®ç°çš„å°±æ˜¯å•å‡»å·¦ä¾§ä¸åŒçš„é€‰é¡¹ï¼Œèƒ½å¤Ÿè¯·æ±‚ä¸åŒçš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠ tab å€¼ä½œä¸ºå‚æ•°å‘é€ç»™æ¥å£ï¼Œå› ä¸ºæˆ‘ä»¬åˆšåŠ è½½è¿™ä¸ªé¡µé¢çš„æ—¶å€™é»˜è®¤å°±æ˜¯è¯·æ±‚å…¨éƒ¨å•†å“ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆä¿®æ”¹ä»£ç ï¼š</span></strong></p> 
<pre><code class="language-javascript">const getContentData = async (tab) =&gt; {
      const result = await get('/api/shop/1/products', { tab })
      if (result.data.errno === 0) {
        contentList.value = result.data.data
      }
    }
    getContentData('all')</code></pre> 
<p>å½“å•å‡»ç§’æ€æˆ–æ–°é²œæ°´æœçš„æ—¶å€™ï¼Œä¼šä¼ é€’ä¸åŒçš„ tab å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ç»™ä»–ä»¬éƒ½ç»‘å®šä¸åŒçš„äº‹ä»¶ã€‚</p> 
<p>å› ä¸ºæˆ‘ä»¬éœ€è¦ç»™å·¦ä¾§æ¯ä¸€ä¸ªé€‰é¡¹éƒ½ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œé‚£å°±æŠŠå·¦ä¾§çš„æ•°æ®éƒ½æ”¾åˆ°æ•°ç»„ä¸­ï¼Œé€šè¿‡ v-for å¾ªç¯æ¥å±•ç¤ºæ•°æ®å¹¶ç»‘å®šäº‹ä»¶ã€‚</p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªÂ categories å¯¹è±¡æ•°ç»„æ¥å­˜å‚¨ä¿¡æ¯ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const categories = [
      {
        name: 'å…¨éƒ¨å•†å“',
        tab: 'all'
      },
      {
        name: 'ç§’æ€',
        tab: 'seckill'
      },
      {
        name: 'æ–°é²œæ°´æœ',
        tab: 'fruit'
      }
    ]</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">é€šè¿‡v-for å¾ªç¯æ¥ç»‘å®šæ•°æ®å’Œäº‹ä»¶ï¼š</span></span></strong>Â </p> 
<pre><code class="language-javascript"> &lt;div class="category__item" v-for="item in categories" :key="item.name" @click="handleCategoryClick(item)"&gt;{<!-- -->{item.name}}&lt;/div&gt;</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œç„¶åè¾“å‡ºç‚¹å‡»çš„æ¯ä¸ªé€‰é¡¹çš„ tab å€¼ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const handleCategoryClick = (item) =&gt; {
      console.log(item.tab)
    }</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">å¯åŠ¨é¡¹ç›®ï¼Œåˆ†åˆ«ç‚¹å‡»å…¨éƒ¨å•†å“ï¼Œç§’æ€å’Œæ–°é²œæ°´æœï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¸­é¡ºåºè¾“å‡ºäº†å¯¹åº”çš„ tab å€¼ï¼š</span></span></strong></p> 
<p><img alt="" height="436" src="https://images2.imgbox.com/82/99/3bGy0A4O_o.png" width="1200"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">é‚£ç°åœ¨æˆ‘ä»¬åªéœ€è¦åœ¨æ¯ä¸ªç‚¹å‡»äº‹ä»¶ä¸­è°ƒç”¨Â getContentDataÂ  æ–¹æ³•å°±è¡Œï¼š</span></span></strong></p> 
<pre><code class="language-javascript">    const handleCategoryClick = (item) =&gt; {
      getContentData(item.tab)
    }</code></pre> 
<p>è¿™æ ·å½“æˆ‘ä»¬ç‚¹å‡»å·¦ä¾§ä¸åŒé€‰é¡¹æ—¶ï¼Œè·å–çš„å°±æ˜¯å¯¹åº”çš„æ•°æ®äº†ã€‚</p> 
<p><strong><span style="color:#ed7976;">æˆ‘ä»¬ç‚¹å‡»æ§åˆ¶å°çš„ç½‘ç»œï¼ŒæŸ¥çœ‹è¯·æ±‚å†…å®¹ï¼Œå½“æˆ‘ä»¬åˆ†åˆ«ç‚¹å‡»å…¨éƒ¨å•†å“ï¼Œç§’æ€å’Œæ–°é²œæ°´æœæ—¶ï¼Œå‘é€çš„éƒ½æ˜¯å¯¹åº”çš„ tab å€¼ï¼š</span></strong><br><img alt="" height="125" src="https://images2.imgbox.com/96/13/HAaQwuIM_o.png" width="979"></p> 
<blockquote> 
 <p>æœ‰çš„å°ä¼™ä¼´åœ¨è¿è¡Œé¡¹ç›®æ—¶å‘ç°æ•°æ®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è¿™é‡Œç”¨çš„æ˜¯ mock å¹³å°ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯çœŸå®çš„æ•°æ®ï¼Œæ˜¯æ¨¡æ‹Ÿåç«¯å†™æ­»çš„æ•°æ®ï¼Œæˆ‘ä»¬åªæ˜¯ä¸ºäº†æ¥å£è·‘é€šï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ•´å¥—é€»è¾‘æ˜¯ä¸€ç‚¹é—®é¢˜æ²¡æœ‰çš„ï¼Œåªä¸è¿‡å¹¶ä¸æ˜¯çœŸå®åç«¯ï¼Œè€Œæ˜¯æˆ‘ä»¬æ¨¡æ‹Ÿçš„åç«¯ã€‚</p> 
</blockquote> 
<p><span style="background-color:#fefcd8;">ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬åœ¨ v-for å¾ªç¯ç”Ÿæˆå·¦ä¾§çš„æ•°æ®æ—¶ï¼Œå…¨éƒ¨å•†å“é‚£é‡Œçš„èƒŒæ™¯åº”è¯¥æ˜¯ç™½è‰²çš„ï¼Œä¹‹å‰æˆ‘ä»¬ç»™äº†ä»–ä¸€ä¸ªç±»åï¼Œå› ä¸ºåœ¨ v-for å¾ªç¯ä¸­åŠ è¿™ä¸ªç±»åå°±ä¼šè®©æ‰€æœ‰é€‰é¡¹èƒŒæ™¯éƒ½å˜æˆç™½è‰²ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»™ä»–åˆ æ‰äº†ï¼Œé‚£ç°åœ¨æˆ‘ä»¬æ€ä¹ˆå†æŠŠå®ƒåŠ ä¸Šå‘¢ï¼Ÿ</span></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">é€šè¿‡åŠ¨æ€ç»‘å®šç±»åå®ç°ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;div :class="{'category__item':true, 'category__item--active': currentTab === item.tab}" v-for="item in categories" :key="item.name" @click="handleCategoryClick(item)"&gt;{<!-- -->{item.name}}&lt;/div&gt;</code></pre> 
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªÂ currentTab å±æ€§ï¼Œåœ¨setupä¸­è®¾ç½®ä»–çš„å€¼ä¸º allï¼Œå½“å¾ªç¯çš„ tab å€¼æ˜¯ all æ—¶ï¼Œå°±æ·»åŠ è¿™ä¸ªç±»åï¼Œè¿™æ ·æˆ‘ä»¬è¿™ä¸ªæ•ˆæœå°±å®ç°äº†ã€‚</p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬æŠŠå›¾ç‰‡çš„ src åœ°å€ä¹Ÿå’Œæ¥å£è¿”å›çš„å›¾ç‰‡åœ°å€ç»‘å®šä¸€ä¸‹ï¼Œè¿™æ ·å°±èƒ½ç”Ÿæˆä¸åŒçš„å›¾ç‰‡äº†ï¼š</span></span></strong></p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/eb/d6/YtlenRNb_o.png" width="602"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="801" src="https://images2.imgbox.com/60/2f/ef4pSXay_o.png" width="692"></p> 
<p></p> 
<h4 id="%E9%80%9A%E8%BF%87%20watchEffect%20%E5%B7%A7%E5%A6%99%E7%9A%84%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E6%8B%86%E5%88%86">é€šè¿‡ watchEffect å·§å¦™çš„è¿›è¡Œä»£ç æ‹†åˆ†</h4> 
<p><strong><span style="color:#ed7976;">ç°åœ¨æˆ‘ä»¬è¦å°½é‡æŠŠ setup ä¸­é€»è¾‘ç›¸åŒçš„ä»£ç è¿›è¡Œæ‹†åˆ†ï¼Œè®©æˆ‘ä»¬çš„ä»£ç å…·å¤‡æ›´å¼ºçš„é€»è¾‘æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</span></strong></p> 
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬é€šè¿‡ç»‘å®šæ ·å¼æ¥å®ç°å…¨éƒ¨å•†å“èƒŒæ™¯é¢œè‰²çš„å˜åŒ–ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯æœ‰é”™è¯¯çš„ï¼Œæˆ‘ä»¬æƒ³å®ç°çš„æ•ˆæœæ˜¯ç‚¹å‡»å“ªä¸ªé€‰é¡¹å“ªä¸ªé€‰é¡¹çš„èƒŒæ™¯éƒ½ä¼šå˜è‰²ã€‚æˆ‘ä»¬æŠŠå…³äº tab å®ç°é€»è¾‘çš„ä»£ç éƒ½æ‹†åˆ†å‡ºæ¥ï¼Œæ¬åˆ° setup çš„å¤–é¢ï¼š</p> 
<pre><code class="language-javascript">const useTabEffect = () =&gt; {
  const currentTab = ref(categories[0].tab)
  const handleTabClick = (item) =&gt; {
    currentTab.value = item.tab
  }
  return { currentTab, handleTabClick }
}</code></pre> 
<p>å› ä¸ºæˆ‘ä»¬é»˜è®¤è·³è½¬åˆ°å•†å“è¯¦æƒ…é¡µé¢æ—¶ï¼Œå…¨éƒ¨å•†å“çš„èƒŒæ™¯è‰²æ˜¯ç™½è‰²ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆå®šä¹‰ currentTab ä¸ºå•†å“ä¿¡æ¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ tab å€¼ã€‚ç„¶åæˆ‘ä»¬æŠŠåŸæ¥çš„ handleCategiryClick æ”¹ä¸º handleTabClickï¼ŒæŠŠè§†å›¾æ¨¡æ¿é‡Œçš„ç‚¹å‡»äº‹ä»¶å‡½æ•°åä¹Ÿæ”¹æˆè¿™ä¸ªï¼Œå› ä¸ºæˆ‘ä»¬è¿™ä¸ªå‡½æ•°é‡Œåªå…³å¿ƒ tab é€»è¾‘çš„å®ç°ï¼Œæ‰€ä»¥å‡½æ•°åè¦ä¸€è‡´ã€‚å½“ç‚¹å‡»å·¦ä¾§é€‰é¡¹çš„æ—¶å€™å°±æŠŠè¿™ä¸ªé€‰é¡¹çš„ tab å€¼èµ‹ç»™ currentTabçš„valueå€¼ï¼Œç„¶åæˆ‘ä»¬å†æŠŠæ•°æ®å’Œå‡½æ•° return å‡ºå»ï¼Œè¿™æ ·åœ¨ setup é‡Œå°±èƒ½æ¥æ”¶åˆ°äº†ï¼š</p> 
<pre><code class="language-javascript">const { currentTab, handleTabClick } = useTabEffect()</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">ç°åœ¨æˆ‘ä»¬æŠŠé€šè¿‡ get è¯·æ±‚è·å–æ•°æ®çš„ç›¸å…³ä»£ç ä» setup é‡ŒæŠ½ç¦»å‡ºæ¥ï¼Œåœ¨å¤–é¢å®šä¹‰ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const getContentEffect = (currentTab) =&gt; {
  const route = useRoute()
  const shopId = route.params.id
  const contentList = ref({})
  const getContentData = async () =&gt; {
    const result = await get(`/api/shop/${shopId}/products`, { tab: currentTab.value })
    if (result.data.errno === 0) {
      contentList.value = result.data.data
    }
  }
  // getContentData('all')
  watchEffect(() =&gt; {
    getContentData(currentTab)
  })
  return { route, contentList, getContentData, shopId }
}</code></pre> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">åœ¨è¿™é‡Œæˆ‘ä»¬æŠŠ currentTab ä½œä¸ºå‚æ•°ä¼ äº†è¿›æ¥ï¼Œæˆ‘ä»¬è¿™é‡Œé€šè¿‡ watchEffect æ¥ç›‘å¬Â getContentEffect è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨ watchEffect ä¸­ä¼šç«‹å³æ‰§è¡Œä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨å…¶ä¾èµ–å˜æ›´æ—¶é‡æ–°è¿è¡Œè¯¥å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœ currentTab å˜äº†é‚£ä¹ˆ getContentEffect å°±ä¼šé‡æ–°æ‰§è¡Œæ¥è·å–æ•°æ®ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ä¹ˆï¼Œè¿™æ ·æ•´ä¸ªä»£ç çš„äº†é€»è¾‘æ€§å°±éå¸¸å¼ºäº†ï¼Œæˆ‘ä»¬æœ€åé€šè¿‡ return æŠŠæ•°æ®å’Œå‡½æ•° return å‡ºæ¥ï¼Œåœ¨ setup ä¸­è°ƒç”¨ã€‚</span></p> 
</blockquote> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬çœ‹ä¸€ä¸‹ setup ç›®å‰çš„ä»£ç ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">setup () {
    const { currentTab, handleTabClick } = useTabEffect()
    const { route, contentList, getContentData, shopId } = getContentEffect(currentTab)
    return {
      contentList,
      categories,
      handleTabClick,
      currentTab,
      getContentData,
      route,
      shopId 
    }
  }</code></pre> 
<p>æ˜¯ä¸æ˜¯éå¸¸ç®€æ´ï¼Œæ¯”åŸæ¥å†™çš„ä¼˜é›…å¤šäº†ï¼Œå…ˆåœ¨è¿™ä¸ªç»„ä»¶çš„å¯ç»´æŠ¤æ€§å°±å¤§å¤§åŠ å¼ºäº†ã€‚</p> 
<h4></h4> 
<h3 id="%E5%BA%95%E9%83%A8%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%A0%B7%E5%BC%8F%E5%BC%80%E5%8F%91">åº•éƒ¨è´­ç‰©è½¦æ ·å¼å¼€å‘Â ğŸ’¨Â </h3> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">åœ¨ shop ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª CartFooter ç»„ä»¶æ¥ç¼–å†™åº•éƒ¨è´­ç‰©è½¦ï¼š</span></span></strong></p> 
<p><img alt="" height="122" src="https://images2.imgbox.com/af/c2/nySh67z1_o.png" width="187"></p> 
<p><span style="color:#1c7892;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬åœ¨ ShopView é¡µé¢ä¸­å¼•å…¥è¿™ä¸ªå­ç»„ä»¶ï¼š</span></span></p> 
<pre><code class="language-javascript">import CartFooter from './CartFooter.vue'</code></pre> 
<pre><code class="language-javascript">  components: { ShopInfo, ContentShop, CartFooter }</code></pre> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">åœ¨è§†å›¾æ¨¡æ¿ä¸­ç”¨è¿™ä¸ªå­ç»„ä»¶ï¼š</span></span></strong></p> 
<p><img alt="" height="110" src="https://images2.imgbox.com/85/db/KztzpZwP_o.png" width="289"></p> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">æˆ‘ä»¬å…ˆç»™ CartFooter ä¸€ä¸ªç®€å•çš„æ ·å¼ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div class="cart"&gt;cart&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
}
&lt;/script&gt;

&lt;style lang="scss" scoped&gt;
.cart {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: .5rem;
  background-color: pink;
}
&lt;/style&gt;
</code></pre> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">å¯åŠ¨é¡¹ç›®ï¼Œçœ‹çœ‹è¾“å‡ºçš„æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/df/32/IOeoyhlF_o.png" width="500"></p> 
<p>ç°åœ¨åº•éƒ¨æ ·å¼å°±èƒ½å±•ç¤ºå‡ºæ¥äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹åº•éƒ¨çš„å†…å®¹åšä¸€ä¸ªå®ç°</p> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">å…ˆåœ¨è§†å›¾ä¸­å®ŒæˆåŸºæœ¬çš„ dom ç»“æ„ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;template&gt;
  &lt;div class="cart"&gt;
    &lt;div class="check"&gt;
      &lt;div class="check__icon"&gt;
        &lt;img src="http://www.dell-lee.com/imgs/vue3/basket.png" alt="" class="check__icon__img"&gt;
        &lt;div class="check__icon__tag"&gt;1&lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="check__info"&gt;
        æ€»è®¡ï¼š&lt;span class="check__info__price"&gt;&amp;yen;128&lt;/span&gt;
      &lt;/div&gt;
      &lt;div class="check__btn"&gt;å»ç»“ç®—&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">ç„¶åç¼–å†™åº•éƒ¨çš„æ ·å¼ï¼š</span></span></strong></p> 
<pre><code class="language-css">.cart {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
}
.check {
  display: flex;
  height: .49rem;
  border-top: .01rem solid #F1F1F1;
  &amp;__icon {
    position: relative;
    width: .84rem;
    &amp;__img {
      display: block;
      margin: .12rem auto;
      width: .28rem;
      height: .26rem;
    }
    &amp;__tag {
      position: absolute;
      right: .2rem;
      top: .04rem;
      color: #fff;
      width: .2rem;
      height: .2rem;
      transform: scale(.5);
      background-color: #E93B3B;
      border-radius: 50%;
      font-size: .12rem;
      text-align: center;
      line-height: .2rem;
    }
  }
  &amp;__info {
    flex: 1;
    margin: auto 0;
    color: #333;
    font-size: .12rem;
    &amp;__price {
      color: #E93B3B;
      font-size: .18rem;
    }
  }
  &amp;__btn {
    width: .98rem;
    line-height: .49rem;
    text-align: center;
    color: #fff;
    font-size: .14rem;
    background-color: #4FB0F9;
  }
}</code></pre> 
<p><strong><span style="color:#1c7892;"><span style="background-color:#e7fafa;">ç°åœ¨æˆ‘ä»¬åº•éƒ¨çš„æ ·å¼å¼€å‘å°±å®Œæˆäº†ï¼Œå¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="766" src="https://images2.imgbox.com/c0/63/NAcF8137_o.png" width="500"></p> 
<p>Â </p> 
<h3 id="%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE%E8%81%94%E5%8A%A8">è´­ç‰©è½¦æ•°æ®è”åŠ¨Â ğŸ’¨Â </h3> 
<h4 id="%E5%90%8C%E6%AD%A5%E6%94%B9%E5%8F%98%E9%80%89%E4%B8%AD%E6%95%B0%E5%AD%97%E4%B8%8E%E9%87%91%E9%A2%9D">åŒæ­¥æ”¹å˜é€‰ä¸­æ•°å­—ä¸é‡‘é¢</h4> 
<p>ä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹å®ç°åŠŸèƒ½ï¼Œå…ˆä»è´­ç‰©è½¦å¼€å§‹ï¼Œå½“å•å‡»å•†å“çš„åŠ å‡å·æ—¶ï¼Œå¯¹åº”çš„é€‰ä¸­æ•°å­—å’Œæ€»è®¡é‡‘é¢ä¼šç›¸åº”æ”¹å˜ã€‚Â </p> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">å› ä¸ºæˆ‘ä»¬è´­ç‰©è½¦çš„æ•°æ®ä¸ä»…åœ¨å½“å‰è¿™ä¸ªé¡µé¢éœ€è¦ç”¨åˆ°ï¼Œåœ¨è´­ç‰©è½¦ï¼Œç»“ç®—å•†å“ç­‰å…¶ä»–é¡µé¢éƒ½éœ€è¦ç”¨åˆ°è¿™äº›æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥æŠŠè¿™äº›æ•°æ®æ”¾åœ¨å…¨å±€è¿›è¡Œç®¡ç†ã€‚è¿™å°±éœ€è¦Â  vuex äº†ã€‚</span></p> 
</blockquote> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">åœ¨ state ä»“åº“é‡Œæˆ‘ä»¬å­˜å‚¨è´­ç‰©è½¦çš„æ•°æ®ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•°æ®å­˜å‚¨çš„ç»“æ„ï¼š</span></span></strong></p> 
<pre><code class="language-javascript"> state: {
    cartList: {
      // ç¬¬ä¸€å±‚çº§æ˜¯å•†é“ºçš„ id
      1: {
        // ç¬¬äºŒå±‚æ˜¯å•†å“å†…å®¹åŠè´­ç‰©æ•°é‡
        111: {
          _id: '1',
          name: 'ç•ªèŒ„250g/ä»½',
          imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',
          sales: 10,
          price: 33.6,
          oldPrice: 39.6,
          count: 2
        },
        222: {

        }
      },
      2: {

      }
    }
  }</code></pre> 
<blockquote> 
 <p>ç¬¬ä¸€å±‚æŒ‡çš„æ˜¯å•†é“ºçš„idï¼Œå› ä¸ºæ¯ä¸ªå•†é“ºçš„è´­ç‰©è½¦æ•°æ®è‚¯å®šæ˜¯åˆ†å¼€çš„ï¼Œä¸ä¸€æ ·çš„ï¼Œä¸å¯èƒ½æˆ‘åœ¨Aå•†é“ºä¹°äº†ä¸œè¥¿ï¼Œè¿›å…¥Bå•†é“ºçš„æ—¶å€™è´­ç‰©è½¦è¿˜æœ‰è¿™ä¸ªä¸œè¥¿ã€‚ç¬¬äºŒå±‚å­˜å‚¨çš„æ˜¯æ¯ä¸ªå•†é“ºçš„æ‰€æœ‰è´§ç‰©çš„ä¿¡æ¯ï¼ŒcountæŒ‡çš„å°±æ˜¯è´­ä¹°çš„æ•°é‡ã€‚</p> 
</blockquote> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">ç°åœ¨æˆ‘ä»¬å›åˆ° ContentShop ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å…ˆå®ç°ç‚¹å‡»åŠ å‡å·çš„æ—¶å€™èƒ½å¤ŸæŠŠå•†å“åŠ åˆ°è´­ç‰©è½¦é‡Œï¼š</span></span></strong></p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/33/f9/T3pbagFy_o.png" width="489"></p> 
<p>å†ç‚¹å‡»åŠ å‡å·çš„æ—¶å€™è¦æŠŠå•†å“å­˜åˆ°è´­ç‰©è½¦é‡Œå»ï¼Œæˆ‘ä»¬æŠŠç›¸å…³é€»è¾‘å°è£…åˆ°ä¸€ä¸ªæ–¹æ³•é‡Œ</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">é¦–å…ˆæˆ‘ä»¬å¼•å…¥ vue-storeï¼š</span></span></strong></p> 
<pre><code class="language-javascript">import { useStore } from 'vuex'</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">å®šä¹‰ä¸€ä¸ª useCartEffect å‡½æ•°æ¥è·å–ä»“åº“é‡Œçš„è´­ç‰©è½¦æ•°æ®ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const useCartEffect = () =&gt; {
  const store = useStore()
  const cartList = store.state.cartList
  return { cartList }
}</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">åœ¨ setup ä¸­ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const { cartList } = useCartEffect()</code></pre> 
<p><img alt="" height="86" src="https://images2.imgbox.com/79/ca/KhTgpO4u_o.png" width="168"></p> 
<p>å½“æˆ‘ä»¬ç‚¹å‡»åŠ å‡å·æ—¶ï¼Œé‡Œé¢çš„æ•°å­—æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p> 
<p><strong><span style="color:#ed7976;">è¿™é‡Œæ”¹å˜çš„å°±æ˜¯å¯¹åº”å•†é“ºçš„å¯¹åº”å•†å“çš„ count å€¼Â </span></strong></p> 
<pre><code class="language-javascript">{<!-- -->{cartList?.[shopId]?.[item._id]?.count || 0}}</code></pre> 
<p>è¿™é‡Œå…ˆçœ‹çœ‹ state é‡Œå¯¹åº”å•†å“æœ‰æ²¡æœ‰ count ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰çš„è¯å°±å­˜å‚¨0</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">å› ä¸ºç‚¹å‡»åŠ å‡å·æ—¶æˆ‘ä»¬ä¼šæŠŠå¯¹åº”çš„ä¿¡æ¯å­˜å‚¨åˆ°ä»“åº“ä¸­ï¼Œé‚£ä¹ˆå°±éœ€è¦åŠ ä¸Šç‚¹å‡»äº‹ä»¶äº†ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;span class="product__number__plus" @click="()=&gt;{addItemToCart(shopId, item._id, item)}"&gt;+&lt;/span&gt;</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">åœ¨ useCartEffect å‡½æ•°ä¸­å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆåšä¸€ä¸ªç®€å•çš„è¾“å‡ºï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const useCartEffect = () =&gt; {
  const store = useStore()
  const cartList = store.state.cartList
  const addItemToCart = (shopId, productId, productInfo) =&gt; {
    console.log(shopId, productId, productInfo)
  }
  return { cartList, addItemToCart }
}</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">å½“æˆ‘ä»¬è¿›å…¥æ²ƒå°”ç›åº—é“ºï¼Œå…ˆåœ¨å…¨éƒ¨å•†å“é‡Œç‚¹å‡»ç•ªèŒ„é‚£é‡Œçš„åŠ å·ï¼Œå†å»ç§’æ€è¿™å—ç‚¹å‡»è½¦å˜å­é‚£é‡Œçš„åŠ å·ï¼Œçœ‹çœ‹æ§åˆ¶å°çš„è¾“å‡ºï¼š</span></span></strong></p> 
<p><img alt="" height="222" src="https://images2.imgbox.com/17/4b/2DQ3zzL6_o.png" width="1183"></p> 
<p>è¿™é‡Œç¬¬ä¸€ä¸ª 1 å°±æ˜¯ä»£è¡¨å•†é“ºï¼Œç¬¬äºŒä¸ªæ•°å­—è¡¨ç¤ºé€‰æ‹©çš„å·¦ä¾§æ çš„å†…å®¹ï¼Œç„¶åè¾“å‡ºçš„å°±æ˜¯é€‰æ‹©çš„å•†å“ä¿¡æ¯</p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">é€šè¿‡Â store.commit åŒæ­¥ä¿®æ”¹Â store ä¸­çš„æ•°æ®ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const addItemToCart = (shopId, productId, productInfo) =&gt; {
    store.commit('addItemToCart', {
      shopId, productId, productInfo
    })
  }</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">ç„¶ååœ¨ stroe çš„ mutations ä¸­æ¥æ”¶è¿™ä¸ªæ–¹æ³•</span></span></strong>ï¼š</p> 
<pre><code class="language-javascript">  mutations: {
    addItemToCart (state, payload) {
      const { shopId, productId, productInfo } = payload
      console.log(shopId, productId, productInfo)
    }
  }</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">å¯åŠ¨é¡¹ç›®ï¼Œè¿›å…¥æ²ƒå°”ç›åº—é“ºï¼Œç‚¹å‡»æ–°é²œæ°´æœä¸‹çš„å¸ç‹èŸ¹ï¼Œçœ‹çœ‹æ§åˆ¶å°è¾“å‡ºç»“æœï¼š</span></span></strong></p> 
<p><img alt="" height="120" src="https://images2.imgbox.com/a8/aa/WVQSY0zX_o.png" width="1163"></p> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">æ§åˆ¶å°èƒ½å¤Ÿæ­£å¸¸è¾“å‡ºï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥é‡æ–°ç¼–å†™é‡Œé¢çš„é€»è¾‘äº†ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">addItemToCart (state, payload) {
      const { shopId, productId, productInfo } = payload
      let shopInfo = state.cartList[shopId]
      if (!shopInfo) {
        shopInfo = {}
      }
      let product = shopInfo[productId]
      if (!product) {
        product = productInfo
        product.count = 0
      }
      product.count += 1
      shopInfo[productId] = product
      state.cartList[shopId] = shopInfo
    }</code></pre> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">ç°åœ¨æˆ‘ä»¬çš„ cartList å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢æ²¡æœ‰å­˜å‚¨ä»»ä½•ä¿¡æ¯ï¼Œå› ä¸ºåªæœ‰ç”¨æˆ·åœ¨è´­ç‰©è½¦é‡Œè¿›è¡Œæ“ä½œäº†ï¼Œæ‰ä¼šæœ‰æ•°æ®çš„å­˜å‚¨æˆ–æ”¹å˜ã€‚å½“ç”¨æˆ·ç‚¹å‡»åŠ å·æ—¶ï¼Œå…ˆåˆ¤æ–­ cartList é‡Œæœ‰æ²¡æœ‰å­˜å‚¨å•†é“ºçš„ä¿¡æ¯ï¼Œæ²¡æœ‰çš„è¯å°±å­˜å‚¨ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå†åˆ¤æ–­å•†é“ºé‡Œé¢æœ‰æ²¡æœ‰é€‰æ‹©çš„å•†å“çš„ä¿¡æ¯ï¼Œæ²¡æœ‰çš„è¯å°±æŠŠä¼ è¿‡æ¥çš„ prodectInfo è¿›è¡Œèµ‹å€¼ï¼Œå†æ·»åŠ ä¸€ä¸ª count å±æ€§ç”¨æ¥ç»Ÿè®¡æ•°é‡ã€‚å› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¯å¢åŠ çš„æ“ä½œï¼Œæ‰€ä»¥æœ€åä¸€å®šå¾—è®©æ•°é‡åŠ ä¸€ï¼Œæœ€åå†æŠŠæ”¹å˜åçš„æ•°æ®å­˜å‚¨åœ¨ state ä¸­ã€‚</span></p> 
</blockquote> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">å¯åŠ¨é¡¹ç›®ï¼Œè¿›å…¥æ²ƒå°”ç›åº—é“ºç‚¹å‡»å•†å“ä¿¡æ¯çš„åŠ å·ï¼š</span></span></strong></p> 
<p><img alt="" height="561" src="https://images2.imgbox.com/59/5b/hvgt845O_o.png" width="313"></p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">æˆ‘ä»¬å†è¿”å›å±±å§†ä¼šå‘˜å•†åº—ï¼Œçœ‹çœ‹å¯¹äºå¦ä¸€ä¸ªåº—é“ºæœ‰æ²¡æœ‰å½±å“ï¼š</span></span></strong><br><img alt="" height="583" src="https://images2.imgbox.com/9f/7e/UeMXivQz_o.png" width="307"></p> 
<p>å±±å§†ä¼šå‘˜å•†åº—é‡Œé¢çš„è´­ç‰©è½¦æ•°æ®éƒ½æ˜¯0ï¼Œè¿™æ ·æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœå°±å®ç°äº†Â </p> 
<p><span style="background-color:#fefcd8;">æˆ‘ä»¬ç»™åŠ å·åšå®Œç‚¹å‡»äº‹ä»¶åï¼Œå¦‚æœç”¨åŒæ ·çš„æ–¹æ³•å®ç°å‡å·çš„åŠŸèƒ½æ˜¾ç„¶å¯ä»¥ï¼Œä½†æ˜¯è¿™æ ·ä¼šéå¸¸å†—ä½™ï¼Œæˆ‘ä»¬å°±ä¼šå†™äº†å¾ˆå¤šé‡å¤çš„ä»£ç ï¼Œä¸‹é¢æˆ‘ä»¬å¯¹ä¹‹å‰å®šä¹‰çš„å‡½æ•°åšä¸€ä¸‹ä¿®æ”¹ã€‚</span></p> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">æˆ‘ä»¬ä¼ è¿›å»ä¸€ä¸ªæ•°å­—ï¼Œå‡å·å°±æ˜¯ -1ï¼ŒåŠ å·å°±æ˜¯ 1ï¼Œè¿™æ ·å°±èƒ½åŒºåˆ†å¼€æ¥äº†ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;span class="product__number__minus" @click="()=&gt;{changeItemToCart(shopId, item._id, item, -1)}"&gt;-&lt;/span&gt;
{<!-- -->{cartList?.[shopId]?.[item._id]?.count || 0}}
&lt;span class="product__number__plus" @click="()=&gt;{changeItemToCart(shopId, item._id, item, 1)}"&gt;+&lt;/span&gt;</code></pre> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ä¿®æ”¹å¯¹åº”ä»£ç ä¸­çš„å†…å®¹ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const useCartEffect = () =&gt; {
  const store = useStore()
  const cartList = store.state.cartList
  const changeItemToCart = (shopId, productId, productInfo, num) =&gt; {
    store.commit('changeItemToCart', {
      shopId, productId, productInfo, num
    })
  }
  return { cartList, changeItemToCart }
}</code></pre> 
<p><strong><span style="color:#1c7331;"><span style="background-color:#edf6e8;">ä¿®æ”¹ mutations é‡Œçš„å‡½æ•°ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">changeItemToCart (state, payload) {
      const { shopId, productId, productInfo, num } = payload
      let shopInfo = state.cartList[shopId]
      if (!shopInfo) {
        shopInfo = {}
      }
      let product = shopInfo[productId]
      if (!product) {
        product = productInfo
        product.count = 0
      }
      product.count = product.count + num
      if (product.count &lt; 0) { product.count = 0 }
      shopInfo[productId] = product
      state.cartList[shopId] = shopInfo
    }</code></pre> 
<p><strong>æ³¨æ„å› ä¸ºå•†å“æ•°é‡ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œæ‰€ä»¥ count å°äºé›¶çš„æ—¶å€™å†æŠŠå®ƒèµ‹ä¸º0å°±è¡Œã€‚</strong></p> 
<p>ç°åœ¨æˆ‘ä»¬å¼€å§‹åšè´­ç‰©è½¦å³ä¸Šè§’çš„æ•°å­—ï¼š<br><img alt="" height="63" src="https://images2.imgbox.com/88/ed/5f5D4QDW_o.png" width="95"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æ¯å½“è´­ç‰©è½¦é‡Œçš„å†…å®¹æ”¹å˜æ—¶ï¼Œè¿™é‡Œçš„æ•°å­—ä¹Ÿä¼šç›¸åº”å˜åŒ–ã€‚å¯¹ä»–çš„æ“ä½œåœ¨ CartFooter ç»„ä»¶ä¸­å®ç°ã€‚</span></span></strong>è¿™é‡Œæˆ‘ä»¬é€šè¿‡è®¡ç®—å±æ€§æ¥å®ç°è¿™é‡Œæ•°å­—çš„åŠ¨æ€å˜åŒ–ã€‚</p> 
<p><img alt="" height="307" src="https://images2.imgbox.com/10/43/UiODdxhV_o.png" width="391"></p> 
<p><span style="background-color:#fefcd8;">è¿™é‡Œå¹¶ä¸éš¾ï¼Œå°±æ˜¯è·å– state ä¸­å¯¹åº”åº—é“ºçš„æ•°æ®ï¼Œç„¶ååœ¨ computed ä¸­æ¥ä¸ªå¾ªç¯ï¼Œå¾ªç¯å•†é“ºé‡Œçš„æ‰€æœ‰å•†å“ä¿¡æ¯ï¼ŒæŠŠä»–ä»¬çš„ count å€¼åŠ ä¸€èµ·å°±è¡Œã€‚</span></p> 
<p>ç°åœ¨å¯¹å•†å“æ•°ç›®åšå¢å‡æ—¶è´­ç‰©è½¦ä¸Šçš„æ•°å­—ä¹Ÿä¼šåŠ¨æ€å˜åŒ–äº†ï¼š<br><img alt="" height="509" src="https://images2.imgbox.com/79/bf/vjTjW401_o.png" width="292"></p> 
<p><img alt="" height="83" src="https://images2.imgbox.com/fb/49/U3Nn9xk4_o.png" width="110"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬ç°åœ¨ç”¨ç›¸åŒçš„é€»è¾‘åšåº•éƒ¨é‡‘é¢æ€»è®¡çš„åŠŸèƒ½ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const price = computed(() =&gt; {
    let cartShop = cartCount[shopId]
    let pricesum = 0
    if (cartShop) {
      for (let i in cartShop) {
        const product = cartShop[i]
        pricesum += (product.price * product.count)
      }
    }
    return pricesum.toFixed(2)
  })</code></pre> 
<p>æœ€åå¯¹é‡‘é¢ç”¨ toFiexed æ–¹æ³•æ˜¯ä¿ç•™å°æ•°ç‚¹åä¸¤ä½çš„æ„æ€ã€‚</p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">æˆ‘ä»¬å¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/bc/6e/Wz9va2NC_o.gif" width="600"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">ç°åœ¨æˆ‘ä»¬æƒ³è¦å®ç°è¿™ç§æ˜¾ç¤ºè´­ç‰©è½¦å†…å®¹çš„æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="382" src="https://images2.imgbox.com/ec/ac/z9yZiYm9_o.png" width="500"></p> 
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å—çš„æ ·å¼å’Œæˆ‘ä»¬å•†å“ä¿¡æ¯çš„æ ·å¼ä¸€æ¨¡ä¸€æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ¨¡æ¿å’Œæ ·å¼ copy åˆ°åº•éƒ¨ç»„ä»¶ä¸­å°±è¡Œ</p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">å› ä¸ºåº•éƒ¨å¾ªç¯ç”Ÿæˆçš„æ•°æ®æ˜¯æ¥è‡ªæˆ‘ä»¬ä»“åº“ä¸­å­˜å‚¨çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥è·å–å•†é“ºä¸­å•†å“ä¿¡æ¯çš„åˆ—è¡¨ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  const productList = computed(() =&gt; {
    let productList = cartCount[shopId] || []
    return productList
  })</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">è¿™æ ·æˆ‘ä»¬å¾ªç¯çš„æ—¶å€™å¾ªç¯è¿™ä¸ªåˆ—è¡¨å°±è¡Œäº†ï¼š</span></span></strong></p> 
<p><img alt="" height="68" src="https://images2.imgbox.com/f9/f7/dXvKpqqR_o.png" width="302"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">è¿™é‡Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ item.count å°±èƒ½å®ç°å•å‡»ä¸Šé¢å•†å“çš„åŠ å‡å·ï¼Œä¸‹é¢è´­ç‰©è½¦é‡Œçš„æ•°å­—ä¹Ÿéšç€å˜åŒ–çš„æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="231" src="https://images2.imgbox.com/35/dc/4wXNIVWB_o.png" width="500"></p> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">å¯æ˜¯ç°åœ¨æˆ‘ä»¬ç‚¹ä¸‹é¢çš„åŠ å‡å·çš„æ—¶å€™ä¸Šé¢ä¸ä¼šè·Ÿç€å˜ï¼Œç°åœ¨æˆ‘ä»¬æŠŠè¿™ä¸ªåå‘é€»è¾‘ä¹Ÿåšä¸€ä¸‹ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;span class="product__number__minus" @click="()=&gt;{changeItemToCart(item, -1)}"&gt;-&lt;/span&gt;
{<!-- -->{item.count || 0}}
&lt;span class="product__number__plus" @click="()=&gt;{changeItemToCart(item, 1)}"&gt;+&lt;/span&gt;</code></pre> 
<p><strong><span style="color:#511b78;"><span style="background-color:#efedf6;">åœ¨ setup é‡Œå®šä¹‰è¿™ä¸ªç‚¹å‡»äº‹ä»¶ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">    let changeItemToCart = (item, num) =&gt; {
      item.count += num
      if (item.count &lt; 0) { item.count = 0 }
    }</code></pre> 
<p>ç°åœ¨æˆ‘ä»¬ç‚¹å‡»ä¸‹é¢çš„åŠ å‡å·æ—¶ä¸Šé¢ä¹Ÿå¯ä»¥åŠ¨æ€å˜åŒ–äº†ã€‚</p> 
<p>è¿˜æœ‰ä¸€ä¸ªç‚¹å°±æ˜¯å¦‚æœæˆ‘ä»¬ç»™è´­ç‰©è½¦ä¸­çš„æ•°é‡å‡åˆ°0äº†ï¼Œå°±å–æ¶ˆè¿™å—å†…å®¹çš„æ˜¾ç¤º</p> 
<p><span style="background-color:#fefcd8;">æœ‰çš„åŒå­¦å¯èƒ½ä¼šè¯´åœ¨é‡Œé¢åŒ…ä¸€å±‚ template ï¼Œé€šè¿‡ v-if å®ç°å¦‚æœé€‰æ‹©å•†å“çš„æ•°é‡ç­‰äº0å°±ä¸æ˜¾ç¤ºï¼Œä½†æ˜¯è¿™ä¹ˆåšæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºå¤–é¢çš„ç›’å­æœ‰ä¸€ä¸ª Padding å€¼ï¼Œæ‰€ä»¥ä¸æ˜¾ç¤ºçš„ç›’å­ä¹Ÿä¼šæœ‰ä¸€å—ç•™ç™½ï¼Œåƒè¿™æ ·ï¼š</span></p> 
<p><img alt="" height="224" src="https://images2.imgbox.com/de/21/ggifXu2W_o.png" width="605"></p> 
<p><strong><span style="color:#ed7976;">æ‰€ä»¥æ­£ç¡®çš„åšæ³•æ˜¯åº”è¯¥ v-for å¾ªç¯ template ï¼Œç„¶å v-if çš„æ˜¯ div ç›’å­ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰ç•™ç™½äº†ã€‚</span></strong>Â </p> 
<p></p> 
<h4 id="%E6%A0%B9%E6%8D%AE%E8%B4%AD%E7%89%A9%E8%BD%A6%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%E5%AE%9E%E7%8E%B0%E8%AE%A1%E7%AE%97%E9%87%91%E9%A2%9D">æ ¹æ®è´­ç‰©è½¦é€‰ä¸­çŠ¶æ€å®ç°è®¡ç®—é‡‘é¢</h4> 
<p><img alt="" height="246" src="https://images2.imgbox.com/68/fb/tHkCGjaP_o.png" width="500"></p> 
<p>Â <img alt="" height="244" src="https://images2.imgbox.com/2f/a8/JyePdpVn_o.png" width="500"></p> 
<blockquote> 
 <p>ç°åœ¨æˆ‘ä»¬æƒ³åœ¨å·¦è¾¹åŠ ä¸Šå¯¹å‹¾çš„è¿™ä¸ªå°å›¾æ ‡ï¼Œå½“æˆ‘ä»¬å¾€è´­ç‰©è½¦é‡Œæ–°å¢å•†å“çš„æ—¶å€™é»˜è®¤æ˜¯å¤„äºèƒŒæ™¯ä¸ºè“è‰²çš„å‹¾é€‰çŠ¶æ€ï¼Œå½“å¤„äºéå‹¾é€‰çŠ¶æ€æ—¶ï¼Œæ”¹å˜å•†å“çš„æ•°é¢ä¸ä¼šæ”¹å˜æ€»è®¡é‡‘é¢ï¼Œåªæœ‰å•†å“æ˜¯å‹¾é€‰çŠ¶æ€æˆ‘ä»¬æ‰èƒ½ç»Ÿè®¡é‡‘é¢Â ã€‚</p> 
</blockquote> 
<p><span style="color:#ad720d;"><strong><span style="background-color:#fefcd8;">æˆ‘ä»¬å…ˆåœ¨ mutations çš„æ–¹æ³•é‡Œæ·»åŠ æ¡ä»¶ï¼Œè®©ç‚¹å‡»åŠ å·çš„æ—¶å€™é»˜è®¤å›¾æ ‡å¤„äºé€‰å®šçŠ¶æ€ï¼š</span></strong></span></p> 
<p><img alt="" height="79" src="https://images2.imgbox.com/9c/d3/roUNI0cE_o.png" width="438"></p> 
<p>è¿™é‡Œæˆ‘ä»¬çš„å¯¹å‹¾å›¾æ ‡é€šè¿‡ v-if æ¥æ§åˆ¶æ˜¾ç¤ºä¸éšè—ï¼Œchangecheckedæ˜¯å¯¹å‹¾çš„ç‚¹å‡»äº‹ä»¶å‡½æ•°ï¼Œï¼Œä¼ å…¥åº—é“ºidå’Œå•†å“idï¼Œå®ç°å½“ç‚¹å‡»çš„æ—¶å€™è®©å¯¹å‹¾çš„çŠ¶æ€æ”¹å˜ã€‚Â </p> 
<p><img alt="" height="109" src="https://images2.imgbox.com/fa/c3/i2whcwiJ_o.png" width="753"></p> 
<p><strong><span style="color:#ad720d;"><span style="background-color:#fefcd8;">æˆ‘ä»¬å®šä¹‰è¿™ä¸ªç‚¹å‡»äº‹ä»¶ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  const changechecked = (shopId, productId) =&gt; {
    store.commit('changechecked', { shopId, productId })
  }</code></pre> 
<p><strong><span style="color:#ad720d;"><span style="background-color:#fefcd8;">ç°åœ¨æˆ‘ä»¬çœ‹ä¸€ä¸‹æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/16/c8/hOdvl26T_o.gif" width="600"></p> 
<h4></h4> 
<h4 id="%E6%B8%85%E7%A9%BA%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%8A%9F%E8%83%BD">æ¸…ç©ºè´­ç‰©è½¦åŠŸèƒ½</h4> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">é¦–å…ˆæˆ‘ä»¬å…ˆå†™ä¸€ä¸‹å…¨é€‰å’Œæ¸…ç©ºè´­ç‰©è½¦çš„æ ·å¼ï¼š</span></span></strong><br><img alt="" height="396" src="https://images2.imgbox.com/0d/b2/DESkqDId_o.png" width="500"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬å…ˆå®Œæˆæ¸…ç©ºè´­ç‰©è½¦çš„åŠŸèƒ½ï¼Œå½“å•å‡»æ¸…ç©ºè´­ç‰©è½¦æ—¶å¯ä»¥æŠŠå­˜å‚¨åœ¨ state å†…çš„æŒ‡å®šå•†å®¶çš„æ•°æ®éƒ½æ¸…ç©ºæ‰ï¼Œæˆ‘ä»¬å…ˆç»™å®ƒåŠ ä¸ªç‚¹å‡»äº‹ä»¶ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">&lt;div class="product__header__clear" @click="clearAll(shopId)"&gt;æ¸…ç©ºè´­ç‰©è½¦&lt;/div&gt;</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç„¶ååœ¨è´­ç‰©è½¦é€»è¾‘å‡½æ•°ä¸­ç¼–å†™è¿™ä¸ªå‡½æ•°ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  const clearAll = (shopId) =&gt; {
    store.commit('clearAll', { shopId })
  }</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬åœ¨ store é‡Œçš„ mutations ä¸­æ¥æ”¶è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶å®ç°å‡½æ•°çš„åŠŸèƒ½ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">    clearAll (state, payload) {
      let shopInfo = state.cartList[payload.shopId]
      shopInfo = {}
      state.cartList[payload.shopId] = shopInfo
    }</code></pre> 
<p>æˆ‘ä»¬åªè¦æŠŠå•†å®¶çš„å•†å“ä¿¡æ¯èµ‹ç»™ä¸€ä¸ªç©ºå¯¹è±¡å°±è¡Œã€‚</p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">ç°åœ¨æˆ‘ä»¬å®ç°å…¨é€‰æŒ‰é’®åŠŸèƒ½ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹è§†å›¾æ¨¡æ¿ï¼š</span></span></strong></p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/d1/cc/1afsd833_o.png" width="598"></p> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">å½“ ifAll ç­‰äº true æ—¶ï¼Œå°±æ˜¾ç¤ºèƒŒæ™¯é¢œè‰²ä¸ºè“è‰²çš„æŒ‰é’®ï¼Œç­‰äº false æ—¶å°±æ˜¾ç¤ºèƒŒæ™¯ä¸ºç™½è‰²çš„æŒ‰é’®ä»£è¡¨æ²¡æœ‰å…¨é€‰çŠ¶æ€ã€‚</span></p> 
</blockquote> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">è¿™é‡Œçš„ ifAll æˆ‘ä»¬é€šè¿‡è®¡ç®—å±æ€§å®ç°ï¼Œåªè¦æœ‰å•†å“æ²¡æœ‰è¢«é€‰æ‹©æ—¶ï¼Œå…¨é€‰æŒ‰é’®å°±æ˜¯éé€‰æ‹©çŠ¶æ€ï¼Œåªæœ‰å½“å…¨éƒ¨å•†å“éƒ½è¢«é€‰æ‹©æ—¶ï¼Œå…¨é€‰æŒ‰é’®æ‰æ˜¯é€‰å®šçŠ¶æ€ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">const ifAll = computed(() =&gt; {
    let all = true
    let cartShop = cartCount[shopId]
    if (cartShop) {
      for (let i in cartShop) {
        const product = cartShop[i]
        if (product.count &gt; 0 &amp;&amp; product.check === false) {
          all = false
        }
      }
    }
    return all
  })</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬è¿˜æƒ³å®ç°å½“ç‚¹å‡»å…¨é€‰æŒ‰é’®æ—¶ï¼Œè®©å•†å“ä¿¡æ¯ä¸­æ‰€æœ‰æœªè¢«é€‰æ‹©çš„å•†å“éƒ½å˜æˆé€‰å®šçŠ¶æ€ï¼Œå®šä¹‰ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  const changeAll = (shopId) =&gt; {
    store.commit('changeAll', { shopId })
  }</code></pre> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬åœ¨ store é‡Œçš„ mutations ä¸­æ¥æ”¶è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶å®ç°å‡½æ•°çš„åŠŸèƒ½ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">changeAll (state, payload) {
      let shopInfo = state.cartList[payload.shopId]
      for (let i in shopInfo) {
        shopInfo[i].check = true
      }
    }</code></pre> 
<blockquote> 
 <p>ç°åœ¨æˆ‘ä»¬æƒ³åœ¨ç‚¹å‡»è´­ç‰©è½¦æ—¶æ‰æ˜¾ç¤ºè´­ç‰©è½¦é‡Œçš„å†…å®¹ï¼Œæˆ‘ä»¬åœ¨ setup é‡Œå®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®é€šè¿‡ v-if æ¥æ§åˆ¶è´­ç‰©è½¦å†…å®¹çš„æ˜¾ç¤ºï¼Œä¸€å¼€å§‹è®©ä»–ä¸º falseï¼Œå†ç»™è´­ç‰©è½¦åŠ ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½è®©çŠ¶æ€å–åï¼Œè¿™æ ·å°±å®ç°äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p> 
</blockquote> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æœ€åæˆ‘ä»¬æƒ³åœ¨å±•ç¤ºè´­ç‰©è½¦ä¸­å†…å®¹æ—¶ï¼Œç»™ç›–ä½çš„éƒ¨åˆ†åŠ ä¸€ä¸ªè’™å±‚ï¼Œå½“ä¸æ˜¾ç¤ºè´­ç‰©è½¦å†…å®¹æ—¶è’™å±‚å°±éšè—ï¼Œç±»ä¼¼è¿™ç§æ•ˆæœï¼š</span></span></strong></p> 
<p><img alt="" height="729" src="https://images2.imgbox.com/06/93/jg25ryfY_o.png" width="500"></p> 
<p><img alt="" height="767" src="https://images2.imgbox.com/18/5b/3swXrDw5_o.png" width="500"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬åœ¨æœ€å¤–å±‚åŠ ä¸ªç›’å­ï¼š</span></span></strong></p> 
<p><img alt="" height="74" src="https://images2.imgbox.com/f2/0f/MAzOdoyp_o.png" width="434"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">å†ç»™ mask ä¸€ä¸ªæ ·å¼ï¼š</span></span></strong></p> 
<pre><code class="language-css">.mask {
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  z-index: 1;
  background: rgba(0,0,0,.5);
}</code></pre> 
<p>è¿™æ ·å°±èƒ½å®ç°æˆ‘ä»¬çš„æ•ˆæœäº†ï¼Œè’™å±‚çš„æ˜¾ç¤ºä¸éšè—å’Œè´­ç‰©è½¦çš„æ˜¾ç¤ºä¸éšè—éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªæ•°æ®æ§åˆ¶çš„ã€‚</p> 
<p><span style="color:#ed7976;"><strong>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å½“æˆ‘ä»¬çš„è´­ç‰©è½¦ä¸­æ²¡æœ‰å•†å“æ—¶ï¼Œç°åœ¨è¿˜ä¼šå‹¾é€‰å…¨é€‰æŒ‰é’®å’Œæ¸…ç©ºè´­ç‰©è½¦è¿™ä¸€æ ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸åº”è¯¥æ˜¾ç¤ºçš„ã€‚</strong></span></p> 
<p><img alt="" height="440" src="https://images2.imgbox.com/e6/e9/iG1t8VS7_o.png" width="604"></p> 
<p><strong><span style="color:#1a439c;"><span style="background-color:#eaf4fc;">æˆ‘ä»¬åªéœ€è¦æŠŠæ‰€æœ‰ç”¨åˆ° showproduct çš„åœ°æ–¹å†åŠ ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œè®©å½“ total å¤§äºç­‰äºé›¶çš„æ—¶å€™æ‰èƒ½æ˜¾ç¤ºï¼š</span></span></strong></p> 
<p><img alt="" height="97" src="https://images2.imgbox.com/3c/c9/aFC2h0mi_o.png" width="537"></p> 
<p>è¿™æ ·å½“è´­ç‰©è½¦ä¸­æ²¡æœ‰å•†å“æ—¶å°±ä¸ä¼šæ˜¾ç¤ºæ¸…ç©ºè´­ç‰©è½¦è¿™ä¸€æ äº†ã€‚</p> 
<p></p> 
<h4 id="%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E4%BF%9D%E5%AD%98%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%95%B0%E6%8D%AE">æœ¬åœ°å­˜å‚¨ä¿å­˜è´­ç‰©è½¦æ•°æ®</h4> 
<p>æœ€åæ¯å½“é¡µé¢åˆ·æ–°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è´­ç‰©è½¦ä¸­çš„æ•°æ®éƒ½ä¼šä¸¢å¤±ï¼Œæˆ‘ä»¬ç”¨æœ¬åœ°å­˜å‚¨æ¥è®©è´­ç‰©è½¦çš„æ•°æ®å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œåœ¨ store çš„index.jsä¸­å®šä¹‰æœ¬åœ°å­˜å‚¨çš„å­˜å‚¨å’Œè·å–å‡½æ•°ï¼š</p> 
<pre><code class="language-javascript">const setLocalStorage = (state) =&gt; {
  const { cartList } = state
  const cartListString = JSON.stringify(cartList)
  localStorage.cartList = cartListString
}
const getLocalStorage = () =&gt; {
  return JSON.parse(localStorage.cartList) || {}
}</code></pre> 
<p><strong><span style="color:#be191c;"><span style="background-color:#fef2f0;">è¿™æ · state ä¸­carListçš„å€¼å°±å¯ä»¥é€šè¿‡Â getLocalStorageÂ  ç›´æ¥è·å–ï¼š</span></span></strong></p> 
<pre><code class="language-javascript">  state: {
    cartList: getLocalStorage()
  }</code></pre> 
<blockquote> 
 <p><span style="background-color:#fefcd8;">å¹¶ä¸”æ¯å½“æˆ‘ä»¬å¯¹ carList é‡Œçš„å†…å®¹æœ‰ä¿®æ”¹æ—¶ï¼Œéƒ½è°ƒç”¨Â setLocalStorageÂ  å‡½æ•°æ¥æœ¬åœ°å­˜å‚¨æ•°æ®ã€‚è¿™æ ·æˆ‘ä»¬åœ¨åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œæ•°æ®è¿˜ä¼šå­˜åœ¨å°±ä¸ä¼šé”€æ¯äº†ã€‚</span></p> 
</blockquote> 
<p>è¿™æ ·æˆ‘ä»¬çš„è´­ç‰©è½¦çš„å…¨éƒ¨é€»è¾‘å°±éƒ½å®ç°äº†ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„å¤æ‚å‘€</p> 
<p></p> 
<p><strong>é¡¹ç›®æºç åœ°å€ï¼š</strong></p> 
<p><a class="link-info has-card" href="https://gitee.com/jie_shao1112/jingdong-home" rel="nofollow" title="https://gitee.com/jie_shao1112/jingdong-home"><span class="link-card-box"><span class="link-title">https://gitee.com/jie_shao1112/jingdong-home</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/80/0b/rZNMtQWX_o.png" alt="icon-default.png?t=M666">https://gitee.com/jie_shao1112/jingdong-home</span></span></a></p> 
<p>Â </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6b01e49a9246eca832d8d53147db3d01/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">GDB çš„ç®€å•ç”¨æ³•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/de17ff946f9c5db2644100385a285747/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">C#ä¸­await/asyncç”¨æ³•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>