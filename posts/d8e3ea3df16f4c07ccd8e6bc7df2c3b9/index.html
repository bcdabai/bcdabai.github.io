<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Maven的介绍、安装配置及工程构建 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Maven的介绍、安装配置及工程构建" />
<meta property="og:description" content="1. Maven介绍 Maven 是一款为 Java 项目管理构建、依赖管理的工具（软件），使用 Maven 可以自动化构建、测试、打包和发布项目，大大提高了开发效率和质量。
Maven就是一个软件，掌握安装、配置、以及基本功能 （项目构建、依赖管理） 的理解和使用即可！
依赖管理：
Maven 可以管理项目的依赖，包括自动下载所需依赖库、自动下载依赖需要的依赖并且保证版本没有冲突、依赖版本管理等。通过 Maven，我们可以方便地维护项目所依赖的外部库，避免版本冲突和转换错误等，而我们仅仅需要编写配置即可。
构建管理：
项目构建是指将源代码、配置文件、资源文件等转化为能够运行或部署的应用程序或库的过程
Maven 可以管理项目的编译、测试、打包、部署等构建过程。通过实现标准的构建生命周期，Maven 可以确保每一个构建过程都遵循同样的规则和最佳实践。同时，Maven 的插件机制也使得开发者可以对构建过程进行扩展和定制。主动触发构建，只需要简单的命令操作即可。
2. Maven安装和配置 2.1 Maven安装 下载地址：https://maven.apache.org/docs/history.html
各个工具选用版本：
工具版本Maven3.8.8JDK17IDEA2022.2 安装条件： maven需要本机安装java环境、必需包含java_home环境变量！
软件安装： 右键解压即可（绿色免安装）
软件结构：
bin：含有Maven的运行脚本
boot：含有plexus-classworlds类加载器框架
conf：含有Maven的核心配置文件
lib：含有Maven运行时所需要的Java类库
LICENSE、NOTICE、README.txt：针对Maven版本，第三方软件等简要介绍
2.2 Maven环境配置 配置MAVEN_HOME 配置path
测试配置是否成功 mvn -v # 如果输出版本信息说明配置成功 2.3 Maven环境配置 我们需要需改maven/conf/settings.xml配置文件，来修改maven的一些默认配置。我们主要休要修改的有三个配置：
1.依赖本地缓存位置（本地仓库位置）
2.maven下载镜像
3.maven选用编译项目的jdk版本
配置本地仓库地址
&lt;!-- localRepository | The path to the local repository maven will use to store artifacts. | | Default: ${user." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d8e3ea3df16f4c07ccd8e6bc7df2c3b9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-22T19:16:02+08:00" />
<meta property="article:modified_time" content="2024-01-22T19:16:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Maven的介绍、安装配置及工程构建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_Maven_0"></a>1. Maven介绍</h2> 
<p>Maven 是一款为 Java 项目管理构建、依赖管理的工具（软件），使用 Maven 可以自动化构建、测试、打包和发布项目，大大提高了开发效率和质量。</p> 
<p>Maven就是一个软件，掌握安装、配置、以及基本功能 <strong>（项目构建、依赖管理）</strong> 的理解和使用即可！</p> 
<ul><li> <p><strong>依赖管理：</strong></p> <p>Maven 可以管理项目的依赖，包括自动下载所需依赖库、自动下载依赖需要的依赖并且保证版本没有冲突、依赖版本管理等。通过 Maven，我们可以方便地维护项目所依赖的外部库，避免版本冲突和转换错误等，而我们仅仅需要编写配置即可。</p> </li><li> <p><strong>构建管理：</strong></p> <p>项目构建是指将源代码、配置文件、资源文件等转化为能够运行或部署的应用程序或库的过程</p> <p>Maven 可以管理项目的编译、测试、打包、部署等构建过程。通过实现标准的构建生命周期，Maven 可以确保每一个构建过程都遵循同样的规则和最佳实践。同时，Maven 的插件机制也使得开发者可以对构建过程进行扩展和定制。主动触发构建，只需要简单的命令操作即可。</p> </li></ul> 
<h2><a id="2_Maven_15"></a>2. Maven安装和配置</h2> 
<h4><a id="21_Maven_17"></a>2.1 Maven安装</h4> 
<p>下载地址：<a href="https://maven.apache.org/docs/history.html" rel="nofollow">https://maven.apache.org/docs/history.html</a></p> 
<p>各个工具选用版本：</p> 
<table><thead><tr><th>工具</th><th>版本</th></tr></thead><tbody><tr><td>Maven</td><td>3.8.8</td></tr><tr><td>JDK</td><td>17</td></tr><tr><td>IDEA</td><td>2022.2</td></tr></tbody></table> 
<p><strong>安装条件：</strong> maven需要本机安装java环境、必需包含java_home环境变量！</p> 
<p><strong>软件安装：</strong> 右键解压即可（绿色免安装）</p> 
<p><strong>软件结构：</strong></p> 
<p><strong>bin</strong>：含有Maven的运行脚本</p> 
<p>boot：含有plexus-classworlds类加载器框架</p> 
<p><strong>conf</strong>：含有Maven的核心配置文件</p> 
<p>lib：含有Maven运行时所需要的Java类库</p> 
<p>LICENSE、NOTICE、README.txt：针对Maven版本，第三方软件等简要介绍</p> 
<h4><a id="22_Maven_45"></a>2.2 Maven环境配置</h4> 
<ul><li>配置MAVEN_HOME</li></ul> 
<p><img src="https://images2.imgbox.com/84/20/qFJCYRmS_o.png" alt="在这里插入图片描述"></p> 
<ul><li>配置path<br> <img src="https://images2.imgbox.com/b1/80/JMQMCJNA_o.png" alt="在这里插入图片描述"></li><li>测试配置是否成功</li></ul> 
<pre><code class="prism language-bash">mvn <span class="token parameter variable">-v</span> 
<span class="token comment"># 如果输出版本信息说明配置成功</span>
</code></pre> 
<h4><a id="23_Maven_56"></a>2.3 Maven环境配置</h4> 
<blockquote> 
 <p>我们需要需改<strong>maven/conf/settings.xml</strong>配置文件，来修改maven的一些默认配置。我们主要休要修改的有三个配置：</p> 
 <p>1.依赖本地缓存位置（本地仓库位置）</p> 
 <p>2.maven下载镜像</p> 
 <p>3.maven选用编译项目的jdk版本</p> 
</blockquote> 
<ul><li> <p>配置本地仓库地址</p> <pre><code class="prism language-xml">  <span class="token comment">&lt;!-- localRepository
   | The path to the local repository maven will use to store artifacts.
   |
   | Default: ${user.home}/.m2/repository
  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;
  --&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>D:\ProgramData\maven-repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>配置国内阿里镜像</p> <pre><code class="prism language-xml"><span class="token comment">&lt;!--在mirrors节点(标签)下添加中央仓库镜像--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>alimaven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>aliyun maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/groups/public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>配置jdk17版本项目构建</p> <pre><code class="prism language-xml"><span class="token comment">&lt;!--在profiles节点(标签)下添加jdk编译版本--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>jdk-17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> 
<h4><a id="24_IDEAMaven_107"></a>2.4 IDEA配置本地Maven</h4> 
<p>将Maven home path 、User settings file、Local repository改为自己本地maven的路径即可。<br> <img src="https://images2.imgbox.com/20/fa/rO9UvuaD_o.png" alt="在这里插入图片描述"><br> <strong>注意</strong>：</p> 
<ul><li> <p>如果本地仓库地址不变化，只有一个原因，就是maven/conf/settings.xml配置文件编写错误！仔细检查即可！</p> </li><li> <p>一定保证User settings file对应之前修改的settings.xml的路径，若 不一致，选中Override复选框，手动选择配置文件</p> </li></ul> 
<h2><a id="3_IDEAMaven_115"></a>3. 基于IDEA创建Maven工程</h2> 
<h4><a id="31_MavenGAVP_116"></a>3.1 Maven工程的GAVP</h4> 
<p>Maven工程相对之前的项目，多出一组gavp属性，gav需要我们在创建项目的时候指定，p有默认值。</p> 
<p>Maven 中的 GAVP 是指 GroupId、ArtifactId、Version、Packaging 等四个属性的缩写，其中前三个是必要的，而 Packaging 属性为可选项。这四个属性主要为每个项目在maven仓库中做一个标识，类似人的姓名！有了具体标识，方便后期项目之间相互引用依赖等！</p> 
<p>GAVP遵循一下规则：</p> 
<ul><li> <p><strong>GroupID 格式</strong>：com.{公司/BU }.业务线.[子业务线]，最多 4 级。</p> <p>说明：{公司/BU} 例如：alibaba/taobao/tmall/aliexpress 等 BU 一级；子业务线可选。</p> <p>举例：com.taobao.tddl 或 com.alibaba.sourcing.multilang</p> </li><li> <p><strong>ArtifactID 格式</strong>：产品线名-模块名。语义不重复不遗漏，先到仓库中心去查证一下。</p> <p>举例：tc-client / uic-api / tair-tool / bookstore</p> </li><li> <p><strong>Version版本号格式推荐</strong>：主版本号.次版本号.修订号</p> <p>1） 主版本号：当做了不兼容的 API 修改，或者增加了能改变产品方向的新功能。</p> <p>2） 次版本号：当做了向下兼容的功能性新增（新增类、接口等）。</p> <p>3） 修订号：修复 bug，没有修改方法签名的功能加强，保持 API 兼容性。</p> <p>例如： 初始→1.0.0 修改bug → 1.0.1 功能调整 → 1.1.1等</p> </li><li> <p><strong>Packaging定义规则：</strong><br> ​ <br> 指示将项目打包为什么类型的文件，idea根据packaging值，识别maven项目类型！</p> <p>packaging 属性为 jar（默认值），代表普通的Java工程，打包以后是.jar结尾的文件。</p> <p>packaging 属性为 war，代表Java的web工程，打包以后.war结尾的文件。</p> <p>packaging 属性为 pom，代表不会打包，用来做继承的父工程。</p> </li></ul> 
<h4><a id="32_IdeaMaven_Java_SE_152"></a>3.2 Idea构建Maven Java SE工程</h4> 
<ul><li>Name：maven工程名</li><li>Location：工程地址</li><li>Language：语言，选Java</li><li>Build system：构建工具，选maven</li><li>JDK：Java版本，我们选17</li><li>Groupid：安装上述规则制定</li><li>Artifactid：一般与工程名相同</li></ul> 
<p><img src="https://images2.imgbox.com/37/c1/gdEDsXHb_o.png" alt="在这里插入图片描述"></p> 
<p>创建工程之后，若第一次使用maven，或者使用的是新的<strong>本地仓库</strong>，idea右下角会出现进度条，表示maven正在下载相关插件，等待下载完毕，进度条消失即可。</p> 
<p>验证maven工程是否创建成功，当创建完毕maven工程之后，idea中会自动打开Maven视图，如下图：</p> 
<ul><li>Lifecycle：maven工程的生命周期</li><li>Plugins：maven工程的相关插件</li><li>Dependencies：maven工程的相关依赖，这里因为我的项目目前还没有导入依赖，因此没有显示。</li></ul> 
<p><img src="https://images2.imgbox.com/b8/0e/J3zKt4S6_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4_IDEAMaven_173"></a>4. 基于IDEA进行Maven工程构建</h2> 
<h4><a id="41__174"></a>4.1 构建概念</h4> 
<p>项目构建是指将源代码、依赖库和资源文件等转换成可执行或可部署的应用程序的过程，在这个过程中包括编译源代码、链接依赖库、打包和部署等多个步骤。</p> 
<p>项目构建是软件开发过程中至关重要的一部分，它能够大大提高软件开发效率，使得开发人员能够更加专注于应用程序的开发和维护，而不必关心应用程序的构建细节。</p> 
<p>同时，项目构建还能够将多个开发人员的代码汇合到一起，并能够自动化项目的构建和部署，大大降低了项目的出错风险和提高开发效率。常见的构建工具包括 Maven、Gradle、Ant 等。</p> 
<h4><a id="42__180"></a>4.2 命令行构建</h4> 
<table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>mvn compile</td><td>编译项目，生成target文件</td></tr><tr><td>mvn package</td><td>打包项目，生成jar或war文件</td></tr><tr><td>mvn clean</td><td>清理编译或打包后的项目结构</td></tr><tr><td>mvn install</td><td>打包后上传到maven本地仓库</td></tr><tr><td>mvn deploy</td><td>只打包，上传到maven私服仓库</td></tr><tr><td>mvn site</td><td>生成站点</td></tr><tr><td>mvn test</td><td>执行测试源码</td></tr></tbody></table> 
<p>war包打包插件和jdk版本不匹配：pom.xml 添加以下代码即可</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- jdk17 和 war包版本插件不匹配 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>例如：</p> 
<pre><code class="prism language-bash"><span class="token comment">#清理</span>
mvn clean
<span class="token comment">#清理，并重新打包</span>
mvn clean package
<span class="token comment">#执行测试代码</span>
mvn <span class="token builtin class-name">test</span>
</code></pre> 
<h4><a id="43_IDEA_217"></a>4.3 基于IDEA构建</h4> 
<ul><li>clean：清理</li><li>compile：编译</li><li>test：测试</li><li>package：打包</li><li>install：安装</li><li>deploy：部署</li></ul> 
<p><img src="https://images2.imgbox.com/86/b2/2bNkNXfe_o.png" alt="在这里插入图片描述"><br> 注意：打包（package）和安装（install）的区别是什么</p> 
<p>打包是将工程打成jar或war文件，保存在target目录下</p> 
<p>安装是将当前工程所生成的jar或war文件，安装到本地仓库，会按照坐标保存到指定位置。</p> 
<h4><a id="44__231"></a>4.4 构建插件、命令、生命周期命令之间关系</h4> 
<ul><li> <p><strong>构建生命周期</strong></p> <p>当我们执行package命令也会自动执行compile命令！</p> <p>这种行为就是因为构建生命周期产生的！构建生命周期可以理解成是一组固定构建命令的有序集合，触发周期后的命令，会自动触发周期前的命令！！！</p> <p><strong>构建周期作用：会简化构建过程</strong></p> <p>例如：项目打包时，我们只是用package即可，前面的过程无需执行。</p> <p>主要两个构建生命周期：</p> 
  <ul><li> <p>清理周期：主要是对项目编译生成文件进行清理</p> <p>包含命令：clean </p> </li><li> <p>默认周期：定义了真正构件时所需要执行的所有步骤，它是生命周期中最核心的部分</p> <p>包含命令：compile - test - package - install - deploy</p> </li></ul> </li><li> <p><strong>插件、命令、周期三者关系（了解）</strong></p> <p>周期→包含若干命令→包含若干插件</p> <p>使用周期命令构建，简化构建过程！</p> <p>最终进行构建的是插件！</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8b67d3efc4abd9edc8911d40129eb48/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">二.用户与权限管理(二)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1d6086d9d803d562bd891106860663f3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot/java/php/node/python基于SpringBoot的小区入住管理系统【计算机毕设】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>