<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3-组件基础 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue3-组件基础" />
<meta property="og:description" content="一. 单页面应用程序 1. 何为单页面应用程序 单页面应用程序（英文名：Single Page Application）简称为 SPA，本质是一个 Web 网站中只有唯一的一个 HTML 页面，所有的功能与交互，都在这唯一的一个页面中完成。
2. 单页面应用程序的特点 SPA 将所有的功能都局限在了一个 web 页面中，仅在该 web 页面初始化时加载相应的资源。
一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转。而是利用JavaScript 动态的切换 HTML 的内容，从而实现页面与用户的交互。
3. 单页面应用程序的优点 1. 良好的交互体验
● 单页应用的内容的改变无需重新加载整个页面
● 获取数据通过 Ajax 异步获取
● 没有页面之间的跳转，不会出现 “白屏现象”
2. 良好的前后端工作分离模式
● 后端专注于提供 API 接口，更容易实现 API 接口的复用
● 前端专注于页面的渲染 更利于前端工程化的发展
3. 减轻服务器的压力
● 服务器只提供数据，不负责页面的合成与逻辑的处理，吞吐能力会提高几倍
4. 单页面应用程序的缺点 1. 首屏加载慢
解决方案：路由懒加载、代码压缩、CDN加速、网络传输压缩
2. 不利于 SEO
解决方案：SSR 服务器端渲染
5. 如何快速创建 vue 的 SPA 项目 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1788cc16d96f70c925ea65ddb5991baf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-25T14:47:27+08:00" />
<meta property="article:modified_time" content="2022-09-25T14:47:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3-组件基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <h3>一. 单页面应用程序</h3> 
</blockquote> 
<h4>1. 何为单页面应用程序</h4> 
<p>     单页面应用程序（英文名：Single Page Application）简称为 SPA，本质是一个 Web 网站中只有唯一的一个 HTML 页面，所有的功能与交互，都在这唯一的一个页面中完成。</p> 
<h4>2. 单页面应用程序的特点</h4> 
<p>    SPA 将所有的功能都局限在了一个 web 页面中，仅在该 web 页面初始化时加载相应的资源。</p> 
<p>    一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转。而是利用JavaScript 动态的切换 HTML 的内容，从而实现页面与用户的交互。</p> 
<h4>3. 单页面应用程序的优点</h4> 
<p>    1. 良好的交互体验</p> 
<p>        ● 单页应用的内容的改变无需重新加载整个页面</p> 
<p>        ● 获取数据通过 Ajax 异步获取</p> 
<p>        ● 没有页面之间的跳转，不会出现 “白屏现象”</p> 
<p>    2. 良好的前后端工作分离模式</p> 
<p>        ● 后端专注于提供 API 接口，更容易实现 API 接口的复用</p> 
<p>        ● 前端专注于页面的渲染 更利于前端工程化的发展</p> 
<p>    3. 减轻服务器的压力</p> 
<p>        ● 服务器只提供数据，不负责页面的合成与逻辑的处理，吞吐能力会提高几倍</p> 
<h4>4. 单页面应用程序的缺点</h4> 
<p>    1. 首屏加载慢</p> 
<p>        解决方案：路由懒加载、代码压缩、CDN加速、网络传输压缩</p> 
<p>    2. 不利于 SEO</p> 
<p>        解决方案：SSR 服务器端渲染</p> 
<h4>5. 如何快速创建 vue 的 SPA 项目</h4> 
<p>    1. 基于 vite 创建 SPA 项目</p> 
<p>    2. 基于 vue-cli 创建 SPA 项目</p> 
<blockquote> 
 <h3> 二. vite 的基本使用</h3> 
</blockquote> 
<h4>1. 创建 vite 项目</h4> 
<p>    按照顺序执行如下的命令，即可基于 vite 创建 vue 3.x 的工程化项目</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e8/1a/h32q5XCy_o.png"></p> 
<h4> 2. 项目结构的梳理</h4> 
<p>    使用 vite 创建的项目结构如下：</p> 
<p style="text-align:center;"> </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/21/2d/zDuvkLz8_o.png"></p> 
<p>其中：</p> 
<p>    ● node_modules 目录用来存放第三方依赖包</p> 
<p>    ● public 是公共的静态资源目录</p> 
<p>    ● src 是项目的源代码目录</p> 
<p>    ● .gitignore 是 Git 的忽略文件</p> 
<p>    ● index.html 是 SPA 单页面应用程序中唯一的 HTML 页面</p> 
<p>    ● package.json 是项目的包管理配置文件</p> 
<p>在 src 这个项目源代码目录之下，包含了如下的文件和文件夹：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a6/d5/zaxIWbiF_o.png"></p> 
<p>其中：</p> 
<p>    ● assets 目录用来存放项目中所有的静态资源文件（css、fonts等）</p> 
<p>    ● components 目录用来存放项目中所有的自定义组件</p> 
<p>    ● App.vue 是项目的根组件</p> 
<p>    ● index.css 是项目的全局样式表文件</p> 
<p>    ● main.js 是整个项目的打包入口文件</p> 
<h4>3. vite 项目的运行流程</h4> 
<p>    在工程化的项目中，vue 要做的事情很单纯：通过 main.js 把 App.vue 渲染到 index.html 的指定区域中。</p> 
<p>    1. App.vue 用来编写待渲染的模板结构</p> 
<p>    2. index.html 中需要预留一个 el 区域</p> 
<p>    3. main.js 把 App.vue 渲染到了 index.html 所预留的区域中</p> 
<blockquote> 
 <h3>三. 组件化开发思想</h3> 
</blockquote> 
<h4> 1. 何为组件化开发</h4> 
<p>    组件化开发：根据封装的思想，把页面上可重用的部分封装为组件，从而方便项目的开发和维护。</p> 
<h4> 2. 组件化开发的优点</h4> 
<p>    ● 提高了前端代码的复用性和灵活性</p> 
<p>    ● 提升了开发效率和后期的可维护性</p> 
<h4>3. vue 中的组件化开发</h4> 
<p>     vue 是一个完全支持组件化开发的框架。vue 中规定组件的后缀名是 .vue。之前接触到的 App.vue 文件本质 上就是一个 vue 的组件。</p> 
<blockquote> 
 <h3>四. vue 组件的构成</h3> 
</blockquote> 
<h4>1. vue 组件组成结构</h4> 
<p>    每个 .vue 组件都由 3 部分构成，分别为：</p> 
<p>    ● template -&gt; 组件的模板结构</p> 
<p>    ● script -&gt; 组件的 JavaScript 行为</p> 
<p>    ● style -&gt; 组件的样式</p> 
<p>其中，每个组件中必须包含 template 模板结构，而 script 行为和 style 样式是可选的组成部分。</p> 
<p>在 vue 3.x 的版本中， &lt;template &gt;支持定义多个根节点</p> 
<blockquote> 
 <h3>五. 组件的基本使用</h3> 
</blockquote> 
<h4>1. 组件的注册</h4> 
<p>    组件之间可以进行相互的引用，vue 中组件的引用原则：先注册后使用。</p> 
<p>    vue 中注册组件的方式分为“全局注册”和“局部注册”两种：</p> 
<p>    ● 被全局注册的组件，可以在全局任何一个组件内使用</p> 
<p>    ● 被局部注册的组件，只能在当前注册的范围内使用</p> 
<p><strong>应用场景：</strong></p> 
<p>    ● 如果某些组件在开发期间的使用频率很高，推荐进行全局注册</p> 
<p>    ● 如果某些组件只在特定的情况下会被用到，推荐进行局部注册</p> 
<p><strong>组件注册时名称的大小写：</strong></p> 
<p>    在进行组件的注册时，定义组件注册名称的方式有两种：</p> 
<p>    ● 使用 kebab-case 命名法（俗称短横线命名法，例如 my-swiper 和 my-search），特点：必须严格按照短横线名称进行使用</p> 
<p>    ● 使用 PascalCase 命名法（俗称帕斯卡命名法或大驼峰命名法，例如 MySwiper 和 MySearch），特点： 既可以严格按照帕斯卡名称进行使用，又可以转化为短横线名称进行使用</p> 
<p>    注意：在实际开发中，推荐使用帕斯卡命名法为组件注册名称，因为它的适用性更强 </p> 
<h4>2. 组件之间的样式冲突问题</h4> 
<p>    默认情况下，写在 .vue 组件中的样式会全局生效，因此很容易造成多个组件之间的样式冲突问题。导致组件之间样式冲突的根本原因是：</p> 
<p>    ① 单页面应用程序中，所有组件的 DOM 结构，都是基于唯一的 index.html 页面进行呈现的</p> 
<p>    ② 每个组件中的样式，都会影响整个 index.html 页面中的 DOM 元素</p> 
<p><strong>style 节点的 scoped 属性：</strong></p> 
<p>    为了提高开发效率和开发体验，vue 为 style 节点提供了 scoped 属性，从而防止组件之间的样式冲突问题：</p> 
<pre><code class="hljs">&lt;template&gt;
  &lt;div class="container"&gt;
    &lt;h3&gt;轮播图插件&lt;/h3&gt;
  &lt;/div&gt;
&lt;/template&gt;


&lt;style scoped&gt;
/* style 节点的 scoped 属性 用来自动为每个组件分配唯一的“自定义属性”，
    并自动为当前组件的 DOM 标签 和 style 样式应用这个自定义属性，防止组件的样式冲突问题 */
.container {
  border: 1px solid red;
}
&lt;/style&gt;</code></pre> 
<p style="text-align:center;"> </p> 
<p><strong>/deep/ 样式穿透 </strong></p> 
<p><strong>    </strong>如果给当前组件的 style 节点添加了 scoped 属性，则当前组件的样式对其子组件是不生效的。如果想让某些样 式对子组件生效，可以使用 /deep/ 深度选择器。</p> 
<p>注意：/deep/ 是 vue2.x 中实现样式穿透的方案。在 vue3.x 中推荐使用 :deep() 替代 /deep/</p> 
<h4><strong>3. 组件的 props</strong></h4> 
<p><strong>    </strong>为了提高组件的复用性，在封装 vue 组件时需要遵守如下的原则：</p> 
<p>    ● 组件的 DOM 结构、Style 样式要尽量复用</p> 
<p>    ● 组件中要展示的数据，尽量由组件的使用者提供</p> 
<p>为了方便使用者为组件提供要展示的数据，vue 组件提供了 props 的概念。</p> 
<p><strong>什么是组件的 props</strong></p> 
<p><strong>    </strong>props 是组件的自定义属性，组件的使用者可以通过 props 把数据传递到子组件内部，供子组件内部进行使用。示例如下：</p> 
<pre><code class="hljs">&lt;!-- 通过自定义 props 把文章的标题和作者 传递到 my-article 组件中 --&gt;
&lt;my-article title="面朝大海，春暖花开" author="海子"&gt;&lt;/my-article&gt;</code></pre> 
<p>    props 的作用：父组件通过 props 向子组件传递要展示的数据。</p> 
<p>    props 的好处：提高了组件的复用性。</p> 
<p><strong>在组件中声明 props </strong></p> 
<p><strong>    </strong>在封装 vue 组件时，可以把动态的数据项声明为 props 自定义属性。自定义属性可以在当前组件的模板结构 中被直接使用。示例代码如下：</p> 
<pre><code class="hljs">// my-article 组件的定义如下：
&lt;template&gt;
  &lt;h3&gt;标题：{<!-- -->{ title }}&lt;/h3&gt;
  &lt;h5&gt;作者：{<!-- -->{ author }}&lt;/h5&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
 props: ['title', 'author'] // 父组件传递给 my-article 组件的数据， 必须在 props 节点中声明
}
&lt;/script&gt;
</code></pre> 
<p><strong>无法使用未声明的 props</strong> </p> 
<p>    如果父组件给子组件传递了未声明的 props 属性，则这些属性会被忽略，无法被子组件使用。</p> 
<p><strong>动态绑定 props 的值</strong></p> 
<p><strong>    </strong>可以使用 v-bind 属性绑定的形式，为组件动态绑定 props 的值，示例代码如下：</p> 
<pre><code class="hljs">&lt;my-article :title="info.title" :author="'post by' + info.author"&gt;&lt;/my-article&gt;</code></pre> 
<h4>4. Class 与 Style 绑定</h4> 
<p>    在实际开发中经常会遇到动态操作元素样式的需求。因此，vue 允许开发者通过 v-bind 属性绑定指令，为元 素动态绑定 class 属性的值和行内的 style 样式。</p> 
<p><strong>动态绑定 HTML 的 class</strong> </p> 
<p>    可以通过三元表达式，动态的为元素绑定 class 的类名。</p> 
<pre><code class="hljs">&lt;h3 class="thin" :class="isItalic ? 'italic' : ''"&gt;MyDeep 组件&lt;/h3&gt;
&lt;button @click="isItalic=!isItalic"&gt;qufan&lt;/button&gt;

data() {
  return { isItalic: true }
}

.thin {
  font-weight: 200
}

.italic {
  font-style: italic
}</code></pre> 
<p> </p> 
<p><strong>以数组语法绑定 HTML 的 class</strong> </p> 
<p>    如果元素需要动态绑定多个 class 的类名，此时可以使用数组的语法格式</p> 
<pre><code class="hljs">&lt;h3 class="thin" :class="[isItalic ? 'italic' : '', isDelete ? 'delete' : '']"&gt;
    MyDeep 组件
&lt;/h3&gt;
&lt;button @click="isItalic=!isItalic"&gt;&lt;/button&gt;
&lt;button @click="isDelete=!isDelete"&gt;&lt;/button&gt;

data() {
  return {
    isItalic: true,
    isDelete: true
  }
}
</code></pre> 
<p> </p> 
<p><strong>以对象语法绑定 HTML 的 class </strong></p> 
<p>    使用数组语法动态绑定 class 会导致模板结构臃肿的问题。此时可以使用对象语法进行简化</p> 
<pre><code class="hljs">&lt;template&gt;
  &lt;h3 class="thin" :class="classObj"&gt;
    MyDeep 组件
  &lt;/h3&gt;
  &lt;button @click="classObj.italic=!classObj.italic"&gt;Italic&lt;/button&gt;
  &lt;button @click="classObj.delete=!classObj.delete"&gt;Delete&lt;/button&gt;
&lt;/template&gt;


&lt;script&gt;
data() {
  return {
    classObj: { // 对象中 属性名是 class 类名 值是布尔值
      italic: true,
      delete: false
    }
  }
}
&lt;/script&gt;

</code></pre> 
<p> </p> 
<p><strong>以对象语法绑定内联的 style</strong></p> 
<p><strong>    </strong>:style 的对象语法十分直观——看着非常像 CSS，但其实是一个 JavaScript 对象。CSS property 名可以用驼 峰式 (camelCase) 或短横线分隔 (kebab-case，记得用引号括起来) 来命名：</p> 
<pre><code class="hljs">  &lt;div :style="{color: active, fontsize: fsize + 'px', 'background-color': bgcolor}"&gt;
    组件
  &lt;/div&gt;
  &lt;button @click="fsize += 1"&gt;+1&lt;/button&gt;
  &lt;button @click="fsize -= 1"&gt;-1&lt;/button&gt;

data() {
  return {
    active: 'red',
    fsize: 30,
    bgcolor: 'pink'
  }
}


</code></pre> 
<p style="text-align:center;"> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c11f566c625ec60d6d688db42827159e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">excel使用vba校验单元格</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe2d236b78244006d53a0c12c28ac04d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Zookeeper遇到的BUG</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>