<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>idea maven项目   基于idea本身打包方式  以及使用maven插件打包的三种方式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="idea maven项目   基于idea本身打包方式  以及使用maven插件打包的三种方式" />
<meta property="og:description" content="第一种 idea自身打包插件 这种方式输出目录在out目录下
第一步
如图所示 依次选择file-projecct structure-artifacts
选择 Artifacts 然后点击&#43; 选择jar 选择 from module with dependencies
第二步 红框部分可以选择依赖jar包要不要选择 如果不要第三方点击-全部移除即可
可以导出包时不导出第三方jar
第三步
点击 Build–&gt;Build Artifacts–&gt;选择bulid即可
通过maven插件打包 这种方式jar包在target目录下
打包方式和上面不太一样 点击图示左下角 然后点击maven project 选择maven生命周期
选择package可以打包
第一种
可执行jar与依赖分开，依赖在lib目录里
1 &lt;plugin&gt; 2 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; 3 &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; 4 &lt;version&gt;2.6&lt;/version&gt; 5 &lt;configuration&gt; 6 &lt;archive&gt; 7 &lt;manifest&gt; 8 &lt;addClasspath&gt;true&lt;/addClasspath&gt; 9 &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt; 10 &lt;mainClass&gt;com.xxx.xxxService&lt;/mainClass&gt; 11 &lt;/manifest&gt; 12 &lt;/archive&gt; 13 &lt;/configuration&gt; 14 &lt;/plugin&gt; 15 &lt;plugin&gt; 16 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; 17 &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt; 18 &lt;version&gt;2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/120c19e7283225bfc5a6fe3e1bc877bf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-28T14:54:47+08:00" />
<meta property="article:modified_time" content="2018-12-28T14:54:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">idea maven项目   基于idea本身打包方式  以及使用maven插件打包的三种方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="__idea_0"></a>第一种 idea自身打包插件</h3> 
<p><strong>这种方式输出目录在out目录下</strong><br> <img src="https://images2.imgbox.com/5b/78/ROeFeplk_o.png" alt="在这里插入图片描述"><br> <strong>第一步</strong><br> 如图所示 依次选择file-projecct structure-artifacts<br> 选择 Artifacts 然后点击+ 选择jar 选择 from module with dependencies</p> 
<p><img src="https://images2.imgbox.com/1b/a2/mLzaqQ4G_o.png" alt="在这里插入图片描述"><br> <strong>第二步</strong> 红框部分可以选择依赖jar包要不要选择 如果不要第三方点击-全部移除即可<br> 可以导出包时不导出第三方jar</p> 
<p><img src="https://images2.imgbox.com/87/09/6fcUgqHX_o.png" alt="在这里插入图片描述"></p> 
<p><strong>第三步</strong><br> 点击 Build–&gt;Build Artifacts–&gt;选择bulid即可<br> <img src="https://images2.imgbox.com/98/19/9qhTJj0J_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/03/7a/0LlOtaQF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="maven_18"></a>通过maven插件打包</h3> 
<p>这种方式jar包在target目录下<br> 打包方式和上面不太一样 点击图示左下角 然后点击maven project 选择maven生命周期<br> 选择package可以打包</p> 
<p><img src="https://images2.imgbox.com/c9/0b/58MQFTNL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/18/75/Li6gwVZN_o.png" alt="在这里插入图片描述"><br> <strong>第一种</strong><br> 可执行jar与依赖分开，依赖在lib目录里</p> 
<pre><code>1            &lt;plugin&gt;
 2                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
 3                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;
 4                &lt;version&gt;2.6&lt;/version&gt;
 5                &lt;configuration&gt;
 6                    &lt;archive&gt;
 7                        &lt;manifest&gt;
 8                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;
 9                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;
10                            &lt;mainClass&gt;com.xxx.xxxService&lt;/mainClass&gt;
11                        &lt;/manifest&gt;
12                    &lt;/archive&gt;
13                &lt;/configuration&gt;
14            &lt;/plugin&gt;
15            &lt;plugin&gt;
16                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
17                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
18                &lt;version&gt;2.10&lt;/version&gt;
19                &lt;executions&gt;
20                    &lt;execution&gt;
21                        &lt;id&gt;copy-dependencies&lt;/id&gt;
22                        &lt;phase&gt;package&lt;/phase&gt;
23                        &lt;goals&gt;
24                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;
25                        &lt;/goals&gt;
26                        &lt;configuration&gt;
27                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;
28                        &lt;/configuration&gt;
29                    &lt;/execution&gt;
30                &lt;/executions&gt;
31            &lt;/plugin&gt;
</code></pre> 
<p><strong>第二种</strong><br> 把所有依赖打进同一个jar包里</p> 
<pre><code>1            &lt;plugin&gt;
 2                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
 3                &lt;configuration&gt;
 4                    &lt;descriptorRefs&gt;
 5                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
 6                    &lt;/descriptorRefs&gt;
 7                    &lt;archive&gt;
 8                        &lt;manifest&gt;
 9                            &lt;mainClass&gt;com.xxx.xxxService&lt;/mainClass&gt;
10                        &lt;/manifest&gt;
11                    &lt;/archive&gt;
12                &lt;/configuration&gt;
13                &lt;executions&gt;
14                    &lt;execution&gt;
15                        &lt;id&gt;make-assembly&lt;/id&gt;
16                        &lt;phase&gt;package&lt;/phase&gt;
17                        &lt;goals&gt;
18                            &lt;goal&gt;single&lt;/goal&gt;
19                        &lt;/goals&gt;
20                    &lt;/execution&gt;
21                &lt;/executions&gt;
22            &lt;/plugin&gt;
</code></pre> 
<p><strong>第三种</strong><br> 也是所有依赖打到一个jar包<br> <strong>transform部分自定义</strong></p> 
<pre><code>1            &lt;plugin&gt;
 2                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
 3                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
 4                &lt;version&gt;2.4.3&lt;/version&gt;
 5                &lt;executions&gt;
 6                    &lt;execution&gt;
 7                        &lt;phase&gt;package&lt;/phase&gt;
 8                        &lt;goals&gt;
 9                            &lt;goal&gt;shade&lt;/goal&gt;
10                        &lt;/goals&gt;
11                        &lt;configuration&gt;
12                            &lt;filters&gt;
13                                &lt;filter&gt;
14                                    &lt;artifact&gt;*:*&lt;/artifact&gt;
15                                    &lt;excludes&gt;
16                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;
17                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;
18                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;
19                                    &lt;/excludes&gt;
20                                &lt;/filter&gt;
21                            &lt;/filters&gt;
22                            &lt;transformers&gt;
23                                &lt;transformer
24                                        implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer"&gt;
25                                    &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;
26                                &lt;/transformer&gt;
27                                &lt;transformer
28                                        implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer"&gt;
29                                    &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;
30                                &lt;/transformer&gt;
31                                &lt;transformer
32                                        implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer"&gt;
33                                    &lt;resource&gt;META-INF/spring.tooling&lt;/resource&gt;
34                                &lt;/transformer&gt;
35                                &lt;transformer
36                                        implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"&gt;
37                                    &lt;mainClass&gt;com.xxx.xxxInvoke&lt;/mainClass&gt;
38                                &lt;/transformer&gt;
39                            &lt;/transformers&gt;
40                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;
41                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;
42                        &lt;/configuration&gt;
43                    &lt;/execution&gt;
44                &lt;/executions&gt;
45            &lt;/plugin&gt;
</code></pre> 
<h3><a id="Scala__140"></a>Scala 插件</h3> 
<pre><code> &lt;plugin&gt;
        &lt;groupId&gt;org.scala-tools&lt;/groupId&gt;
        &lt;artifactId&gt;maven-scala-plugin&lt;/artifactId&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;testCompile&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;scalaVersion&gt;${scala.version}&lt;/scalaVersion&gt;
          &lt;args&gt;
            &lt;arg&gt;-target:jvm-1.5&lt;/arg&gt;
          &lt;/args&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9076ded3173e8fdf57886b51cc470bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WebSocket（java客户端&#43;springboot服务端）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0129a8dea2e744fcdb77f1f8b0b5d22f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">（图示）B/S系统下的MVC设计模式及springMVC原理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>