<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>多维数组转一维数组（降维的各种方法） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="多维数组转一维数组（降维的各种方法）" />
<meta property="og:description" content="点击【阅读原文】，可以查看 jsliang 更多文章~
今日 LeetCode 题目解题放在公众号次条推送，小伙伴可以自行前往查看~ 一 目录 不折腾的前端，和咸鱼有什么区别
目录一 目录二 前言三 二维降一维四 递归降维五 flat() 降维六 参考文献 二 前言 在业务场景或者刷 LeetCode 的时候，曾经碰到多次碰到一个问题：
如何将二维甚至多维的数组转换成一维数组？ 讲起将多维转成一维，突然想起一个词叫做【降维打击】，下面将这种二维甚至多维的打成一维数组的方法，叫做【降维】
这篇文章和你一起探讨下转换的方法~
三 二维降一维 我们先来个简单的：
二维数组如何降级成一维数组？ 很多时候，我们的数组层次并没有那么深，只有个二维数组，所以我们可以了解下一些快捷的使用方法。
reduce() 二维降一维
const oldArr = [1, 2, [3, 4]];
const newArr = oldArr.reduce((prev, curr) =&gt; (prev.concat(curr)), []);
console.log(newArr);
// [1, 2, 3, 4]
concat() 二维将一维
const oldArr = [1, 2, [3, 4]];
const newArr = [].concat(...oldArr);
const newnewArr = Array." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/109489cb6932a12c43c5410870628fed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-11-21T09:37:48+08:00" />
<meta property="article:modified_time" content="2019-11-21T09:37:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">多维数组转一维数组（降维的各种方法）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <section style="text-align: left"> 
  <h3>点击【阅读原文】，可以查看 jsliang 更多文章~<br></h3> 
  <h3>今日 LeetCode 题目解题放在公众号次条推送，小伙伴可以自行前往查看~</h3> 
  <h3>一 目录 </h3> 
  <p><strong>不折腾的前端，和咸鱼有什么区别</strong></p> 
  <table><thead><tr><th>目录</th></tr></thead><tbody><tr><td>一 目录</td></tr><tr><td>二 前言</td></tr><tr><td>三 二维降一维</td></tr><tr><td>四 递归降维</td></tr><tr><td>五 flat() 降维</td></tr><tr><td>六 参考文献</td></tr></tbody></table> 
  <h3>二 前言 </h3> 
  <p>在业务场景或者刷 LeetCode 的时候，曾经碰到多次碰到一个问题：</p> 
  <ul><li> 
    <section>
      如何将二维甚至多维的数组转换成一维数组？ 
    </section></li></ul> 
  <blockquote> 
   <p>讲起将多维转成一维，突然想起一个词叫做【降维打击】，下面将这种二维甚至多维的打成一维数组的方法，叫做【降维】</p> 
  </blockquote> 
  <p>这篇文章和你一起探讨下转换的方法~</p> 
  <h3>三 二维降一维 </h3> 
  <p>我们先来个简单的：</p> 
  <ul><li> 
    <section>
      二维数组如何降级成一维数组？ 
    </section></li></ul> 
  <p>很多时候，我们的数组层次并没有那么深，只有个二维数组，所以我们可以了解下一些快捷的使用方法。</p> 
  <blockquote> 
   <p><code>reduce()</code> 二维降一维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [1, 2, [3, 4]];<br><br>const newArr = oldArr.reduce((prev, curr) =&gt; (prev.concat(curr)), []);<br><br>console.log(newArr);<br>// [1, 2, 3, 4]<br></code></code></pre> 
  <blockquote> 
   <p><code>concat()</code> 二维将一维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [1, 2, [3, 4]];<br><br>const newArr = [].concat(...oldArr);<br>const newnewArr = Array.prototype.concat.apply([], oldArr);<br><br>console.log(newArr);<br>// [1, 2, 3, 4]<br>console.log(newnewArr);<br>// [1, 2, 3, 4]<br></code></code></pre> 
  <blockquote> 
   <p><code>flat()</code> 二维降一维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [1, 2, [3, 4]];<br><br>const newArr = oldArr.flat();<br><br>console.log(newArr);<br>// [1, 2, 3, 4]<br></code></code></pre> 
  <h3>四 递归降维 </h3> 
  <p>既然二维降一维的小伙伴们看过之后，我们就可以进一步了解多维降一维数组了。</p> 
  <p>我们先了解下通过递归降维。</p> 
  <p>关于递归降维，这里有两个方法：</p> 
  <ul><li> 
    <section> 
     <code>forEach</code> 递归 
    </section></li><li> 
    <section> 
     <code>reduce</code> 递归 
    </section></li></ul> 
  <p>下面一一分析：</p> 
  <blockquote> 
   <p>forEach 递归降维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [<br>  1,<br>  [<br>    2, [3],<br>    [4, 5, 6],<br>    [7, 8, 9],<br>    10,<br>    11,<br>  ],<br>  12,<br>  13,<br>  14,<br>  [15, 16, 17],<br>];<br><br>const newArr = [];<br><br>const ergodic = (arr) =&gt; {<!-- --><br>  arr.forEach((item) =&gt; {<!-- --><br>    if (Array.isArray(item)) {<!-- --><br>      ergodic(item);<br>    } else {<!-- --><br>      newArr.push(item);<br>    }<br>  })<br>}<br><br>ergodic(oldArr, newArr);<br><br>console.log(newArr);<br>// [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 ]<br></code></code></pre> 
  <blockquote> 
   <p><code>Array.isArray()</code> 用于确定传递的值是否是一个 <code>Array</code>，返回 <code>true</code> 或者 <code>false</code>。</p> 
  </blockquote> 
  <p>在这个递归方法中，我们判断每一项是不是数组。</p> 
  <p>如果是，则进一步递归，直到其不是为止。</p> 
  <p>如果不是，则用新数组接收它。</p> 
  <blockquote> 
   <p>reduce 递归降维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [<br>  1,<br>  [<br>    2, [3],<br>    [4, 5, 6],<br>    [7, 8, 9],<br>    10,<br>    11<br>  ],<br>  12,<br>  13,<br>  14,<br>  [15, 16, 17],<br>];<br><br>const ergodic = (arr) =&gt; arr.reduce((prev, curr, index, list) =&gt; {<!-- --><br>  if (Array.isArray(curr)) {<!-- --><br>    return prev.concat(...ergodic(curr));<br>  }<br>  return prev.concat(curr);<br>}, []);<br><br>const newArr = ergodic(oldArr);<br><br>console.log(newArr);<br>// [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 ]<br></code></code></pre> 
  <ul><li> 
    <section>
      提问：请说出 
     <code>reduce</code> 对应的 4 个参数代表什么？ 
    </section></li></ul> 
  <h3>五 flat() 降维 </h3> 
  <p><code>flat()</code> 是 ES6 提供的一个将嵌套的数组 “拉平” 的方法。</p> 
  <blockquote> 
   <p>flat 降维</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const oldArr = [<br>  1,<br>  [<br>    2, [3],<br>    [4, 5, 6],<br>    [7, 8, 9],<br>    10,<br>    11<br>  ],<br>  12,<br>  13,<br>  14,<br>  [15, 16, 17],<br>];<br><br>const newArr = oldArr.flat(Infinity);<br><br>console.log(newArr);<br>// [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 ]<br></code></code></pre> 
  <p>关于 <code>flat()</code>，更多的可以查阅 <strong>MDN</strong>：</p> 
  <ul><li> 
    <section>
      https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat 
    </section></li></ul> 
  <p>或者查看 <strong>阮一峰</strong> 大佬的 ES6 讲解：</p> 
  <ul><li> 
    <section>
      http://es6.ruanyifeng.com/?search=%E4%B8%80%E7%BB%B4&amp;x=0&amp;y=0#docs/array#%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B%E7%9A%84-flat%EF%BC%8CflatMap 
    </section></li></ul> 
  <p>这里大致讲下这个方法：</p> 
  <ul><li> 
    <section> 
     <strong>入参</strong>： 
    </section></li></ul> 
  <p><code>arr.flat(depth)</code>。</p> 
  <p>这个 <code>depth</code> 即拉平几层的意思，就好比：</p> 
  <pre class="has"><code class="language-go"><code>// 二维数组：默认拉平一层<br>[1, 2, [3, 4, [5]]].flat();<br>// [1, 2, 3, 4, [5]]<br><br>// 四维数组：设置拉平两层<br>[1, 2, [3, 4, [5, [6, 7]]]].flat(2);<br>// [1, 2, 3, 4, 5, [6, 7]]<br><br>// 设置拉平所有层<br>[1, 2, [3, 4, [5]]].flat(Infinity);<br>// [1, 2, 3, 4, 5]<br></code></code></pre> 
  <ul><li> 
    <section> 
     <strong>注意事项</strong>： 
    </section></li></ul> 
  <p>值得注意的是：使用 <code>flat()</code> 拉平数组过程中，会移除数组的空项：</p> 
  <pre class="has"><code class="language-go"><code>[1, 2, , 4, 5].flat();<br>// [1, 2, 4, 5]<br></code></code></pre> 
  <ul><li> 
    <section> 
     <strong>扩展了解</strong>： 
    </section></li></ul> 
  <p>在你运用 <code>flat()</code> 自如的时候，不妨了解下它的同辈 <code>flatMap()</code>？</p> 
  <ul><li> 
    <section>
      阮一峰 - flatMap：http://es6.ruanyifeng.com/?search=%E4%B8%80%E7%BB%B4&amp;x=0&amp;y=0#docs/array#%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B%E7%9A%84-flat%EF%BC%8CflatMap 
    </section></li><li> 
    <section>
      MDN - flatMap：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap 
    </section></li></ul> 
  <p><code>flatMap()</code> 方法首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。</p> 
  <p>这里不一一介绍，感兴趣的可以了解下。</p> 
  <blockquote> 
   <p>flatMap() 使用</p> 
  </blockquote> 
  <pre class="has"><code class="language-go"><code>const arr = [1, 2, 3, 4];<br><br>arr.flatMap(x =&gt; x * 2);<br>// [2, 4, 6, 8]<br><br>arr.flatMap(x =&gt; [[x * 2]])<br>// [[2], [4], [6], [8]]<br></code></code></pre> 
  <h3>六 参考文献 </h3> 
  <p>致敬在前端路上不断探索的大佬们，本篇文章参考自：</p> 
  <ol><li> 
    <section>
      《JavaScript 学习笔记 - 多维数组变为一维数组》 - MADAO是不会开花的： 
     <br>https://juejin.im/post/5c9dd01ef265da612647d022 
    </section></li><li> 
    <section>
      《es6--javascript数组降维，从es5分析到es6，（详解reduce方法）欢迎补充》 - 程序喵timy： 
     <br>https://blog.csdn.net/liuchao1987330/article/details/78903151 
    </section></li><li> 
    <section>
      《数组实例的-flat，flatMap》 - 阮一峰： 
     <br>http://es6.ruanyifeng.com/?search=%E4%B8%80%E7%BB%B4&amp;x=0&amp;y=0#docs/array#%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B%E7%9A%84-flat%EF%BC%8CflatMap 
    </section></li><li> 
    <section>
      《Array.prototype.flat() - MDN：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat 
    </section></li></ol> 
  <hr> 
  <blockquote> 
   <p><strong>jsliang</strong> 广告推送：<br>也许小伙伴想了解下云服务器<br>或者小伙伴想买一台云服务器<br>或者小伙伴需要续费云服务器<br>欢迎咨询 <strong>jsliang</strong>！</p> 
  </blockquote> 
  <blockquote> 
   <p><img src="https://images2.imgbox.com/25/8e/DKbegJhE_o.png"></p> 
   jsliang 的文档库 由 梁峻荣 采用 知识共享 署名-非商业性使用-相同方式共享 4.0 国际 许可协议进行许可。 
   <br>基于https://github.com/LiangJunrong/document-library上的作品创作。 
   <br>本许可协议授权之外的使用权限可以从 https://creativecommons.org/licenses/by-nc-sa/2.5/cn/ 处获得。 
  </blockquote> 
 </section> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5d64b4bc2a5cccebf4158c208dfbdcb9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信网页授权</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3c271149b6d2eb0e0e36aaf060a4949a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">windows下copy合并文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>