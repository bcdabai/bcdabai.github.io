<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux安装nginx1.12,CentOS7.2编译安装Nginx1.12.2 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux安装nginx1.12,CentOS7.2编译安装Nginx1.12.2" />
<meta property="og:description" content="环境说明:
1、系统：CentOS最小化安装；升级软件补丁，内核和系统版本不升级；关闭SELinux和防火墙。
2、软件：安装包统一放置在/usr/src目录下，安装位置统一在/usr/local目录下。
开始安装：
[root@localhost ~]# yum -y install pcre-devel
2、安装编译需要的组件
[root@localhost~]# yum -y install zlib-devel openssl-devel
3、创建软件配套专用的用户(禁止登录及不创建家目录)[root@localhost~]# useradd www -s /sbin/nologin -M
4、进入/usr/src目录下载并解压软件包[root@localhost src]# cd /usr/src/
[root@localhost src]#tar -zxf nginx-1.12.2.tar.gz
5、进入解压的软件目录并编译配置文件
[root@localhost src]# cd nginx-1.12.2
[root@localhost nginx-1.12.2]# ./configure --user=www --group=www --prefix=/usr/local/nginx-1.12.2 --with-mail_ssl_module --with-http_stub_status_module --with-http_ssl_module --with-http_v2_module --with-http_gzip_static_module --with-http_sub_module
6、编译及安装软件
[root@localhost nginx-1.12.2]# make &amp;&amp; make install
7、创建软链接
[root@localhost nginx-1.12.2]# ln -s /usr/local/nginx-1.12.2/ /usr/local/nginx
8、检查Nginx配置文件语法
[root@localhost nginx-1.12.2]# /usr/local/nginx/sbin/nginx -t
9、把Nginx服务添加进启动自定义文件内并启动Nginx软件
echo&#34;/usr/local/nginx/sbin/nginx&#34;&gt;&gt;/etc/rc.local&amp;&amp;/usr/local/nginx/sbin/nginx" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1d6536ac60430414e608717b6426a7c4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-14T10:13:34+08:00" />
<meta property="article:modified_time" content="2021-05-14T10:13:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux安装nginx1.12,CentOS7.2编译安装Nginx1.12.2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p align="center"><img src="https://images2.imgbox.com/21/f9/J1gAbONJ_o.png" alt="228f0a6f3bfd9a7a1ed34bdd60e57b0e.png"></p> 
 <p>环境说明:</p> 
 <p>1、系统：CentOS最小化安装；升级软件补丁，内核和系统版本不升级；关闭SELinux和防火墙。</p> 
 <p>2、软件：安装包统一放置在/usr/src目录下，安装位置统一在/usr/local目录下。</p> 
 <p>开始安装：</p> 
 <p>[root@localhost ~]# yum -y install pcre-devel</p> 
 <p align="center"><img src="https://images2.imgbox.com/4d/8a/0YU1ocia_o.png" alt="558c9c53bfddb8929c9a05a289178808.png"></p> 
 <p>2、安装编译需要的组件</p> 
 <p>[root@localhost~]# yum -y install zlib-devel openssl-devel</p> 
 <p align="center"><img src="https://images2.imgbox.com/e5/5f/QMxS2qiR_o.png" alt="dedf25f2f717c37e9a2fa3fe80562493.png"></p> 
 <p>3、创建软件配套专用的用户(禁止登录及不创建家目录)[root@localhost~]# useradd www -s /sbin/nologin  -M</p> 
 <p>4、进入/usr/src目录下载并解压软件包[root@localhost src]# cd /usr/src/</p> 
 <p>[root@localhost src]#tar -zxf nginx-1.12.2.tar.gz</p> 
 <p>5、进入解压的软件目录并编译配置文件</p> 
 <p>[root@localhost src]# cd nginx-1.12.2</p> 
 <p>[root@localhost nginx-1.12.2]# ./configure --user=www --group=www --prefix=/usr/local/nginx-1.12.2 --with-mail_ssl_module --with-http_stub_status_module --with-http_ssl_module --with-http_v2_module --with-http_gzip_static_module --with-http_sub_module</p> 
 <p align="center"><img src="https://images2.imgbox.com/48/d8/2BVTpMSs_o.png" alt="7444d8b78ecec34a2fb7693321afe122.png"></p> 
 <p>6、编译及安装软件</p> 
 <p>[root@localhost nginx-1.12.2]# make &amp;&amp; make install</p> 
 <p align="center"><img src="https://images2.imgbox.com/43/36/tSCegC7H_o.png" alt="1edb13bad2cc5db5c70530a50520fa9d.png"></p> 
 <p>7、创建软链接</p> 
 <p>[root@localhost nginx-1.12.2]# ln -s /usr/local/nginx-1.12.2/ /usr/local/nginx</p> 
 <p>8、检查Nginx配置文件语法</p> 
 <p align="center">[root@localhost nginx-1.12.2]# /usr/local/nginx/sbin/nginx -t<img src="https://images2.imgbox.com/d4/21/WXqav3bN_o.png" alt="5be6035292b8dd5eb50030e49d5cc37f.png"></p> 
 <p>9、把Nginx服务添加进启动自定义文件内并启动Nginx软件</p> 
 <p>echo"/usr/local/nginx/sbin/nginx"&gt;&gt;/etc/rc.local&amp;&amp;/usr/local/nginx/sbin/nginx</p> 
 <p>10、检查端口情况判断Nginx软件是否运行正常</p> 
 <p align="center"><img src="https://images2.imgbox.com/0c/09/TUUbzQj4_o.png" alt="4ec749e12728993b575ef24e4664f198.png"></p> 
 <p>Web访问验证</p> 
 <p align="center"><img src="https://images2.imgbox.com/92/94/RzDfEqBL_o.png" alt="9411de448d03c1a5222f3865e8f2389b.png"></p> 
 <p>调整参数：</p> 
 <p>1、当我们安装完Nginx程序后首先有几个参数需要调整下，需要调整的参数为user、worker_processes、worker_connections；Nginx主配置文件位于/usr/local/nginx/conf目录下的nginx.conf[root@localhost conf]# vim nginx.conf</p> 
 <p>user  www www;#指定运行Worker进程的用户和组，根据编译安装时指定的用户及组修改，默认为nobody；例如：user www www;</p> 
 <p>worker_processesauto;#常规调优选项 Worker线程的个数；通常应该为物理CPU核心个数减1；自动为auto</p> 
 <p>#error_log  logs/error.log;</p> 
 <p>#error_log  logs/error.log  notice;</p> 
 <p>#error_log  logs/error.log  info;</p> 
 <p>#pid        logs/nginx.pid;</p> 
 <p>events{<!-- --></p> 
 <p>worker_connections51200;#常规调优选项 设定单个Worker进程所能够处理响应的最大并发请求数(worker_connections * worker_processes)；默认为1024，建议为51200，最大为65535。</p> 
 <p align="center"><img src="https://images2.imgbox.com/ad/3f/RbTJ4fwB_o.png" alt="13674839f9220e30680f92c83de7b671.png"></p> 
 <p>2、调整参数后验证配置文件是否有误</p> 
 <p align="center"><img src="https://images2.imgbox.com/41/6a/LzlkrUQY_o.png" alt="5bc276450fb61b0a71c38827936c4e6e.png"></p> 
 <p>3、重新加载配置文件或重启系统均可</p> 
 <p align="center"><img src="https://images2.imgbox.com/6b/a8/dDmWIBLC_o.png" alt="af1e57b96ecbc1718e04fa0df2ad3611.png"></p> 
 <p>----------------------------------------------------------------------------------------------------------------------------</p> 
 <p>}</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5d02932659b2aab271e64a7138cb6c9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序退出，web-view里h5音乐继续播放问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b710c0e9f544923f40d583e1f0edc67f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">加载dll动态库时LoadLibrary与LoadLibraryEx的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>