<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mybatis与Springboot整合以及Mybatis-plus与SpringBoot整合 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mybatis与Springboot整合以及Mybatis-plus与SpringBoot整合" />
<meta property="og:description" content="一、Mybatis与Springboot整合 1.创建模块springboot03 2.pom.xml &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.29&lt;/version&gt; &lt;/dependency&gt; 3.aplication.yml logging: level: com: hjl: springboot03: debug mybatis: mapper-locations: classpath:mappers/**/*.xml type-aliases-package: com.hjl.springboot03.entity server: port: 8080 spring: application: name: springboot03 datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/vue?useUnicode=true&amp;characterEncoding=UTF-8 username: root password: root logging: level: com.hjl.springboot03: debug 4.代码生成插件 4.1resources/jdbc.properties jdbc.driver=com.mysql.cj.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/vue?useUnicode=true&amp;characterEncoding=UTF-8 jdbc.username=root jdbc.password=root 4.2resources/generatorConfig.xml &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt; &lt;!DOCTYPE generatorConfiguration PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34; &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34; &gt; &lt;generatorConfiguration&gt; &lt;!-- 引入配置文件 --&gt; &lt;properties resource=&#34;jdbc.properties&#34;/&gt; &lt;!--指定数据库jdbc驱动jar包的位置--&gt; &lt;!-- &lt;classPathEntry location=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a3d639f954af8676940e3aa5ad926712/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-09T00:16:09+08:00" />
<meta property="article:modified_time" content="2023-08-09T00:16:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mybatis与Springboot整合以及Mybatis-plus与SpringBoot整合</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、Mybatis与Springboot整合</h2> 
<h4>1.创建模块springboot03</h4> 
<p><img alt="" height="990" src="https://images2.imgbox.com/9d/14/4R5KinWu_o.png" width="1098"></p> 
<p> <img alt="" height="990" src="https://images2.imgbox.com/b2/69/SIfEXh7b_o.png" width="1098"></p> 
<h4>2.pom.xml</h4> 
<pre><code class="hljs">&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;8.0.29&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<h4> 3.aplication.yml</h4> 
<pre><code class="hljs">logging:
    level:
        com:
            hjl:
                springboot03: debug
mybatis:
  mapper-locations: classpath:mappers/**/*.xml
  type-aliases-package: com.hjl.springboot03.entity
server:
  port: 8080
spring:
  application:
    name: springboot03
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/vue?useUnicode=true&amp;characterEncoding=UTF-8
    username: root
    password: root

logging:
  level:
    com.hjl.springboot03: debug
</code></pre> 
<h4>4.代码生成插件</h4> 
<h5>4.1resources/jdbc.properties</h5> 
<pre><code class="hljs">jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/vue?useUnicode=true&amp;characterEncoding=UTF-8
jdbc.username=root
jdbc.password=root
</code></pre> 
<h5>4.2resources/generatorConfig.xml</h5> 
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd" &gt;
&lt;generatorConfiguration&gt;
    &lt;!-- 引入配置文件 --&gt;
    &lt;properties resource="jdbc.properties"/&gt;

    &lt;!--指定数据库jdbc驱动jar包的位置--&gt;
    &lt;!--    &lt;classPathEntry location="D:\\SoftwareInstallPath\\repository\\mvn_repository\\mysql\\mysql-connector-java\\5.1.44\\mysql-connector-java-5.1.44.jar"/&gt;--&gt;

    &lt;!-- 一个数据库一个context --&gt;
    &lt;context id="infoGuardian"&gt;
        &lt;!-- 注释 --&gt;
        &lt;commentGenerator&gt;
            &lt;property name="suppressAllComments" value="true"/&gt;&lt;!-- 是否取消注释 --&gt;
            &lt;property name="suppressDate" value="true"/&gt; &lt;!-- 是否生成注释代时间戳 --&gt;
        &lt;/commentGenerator&gt;

        &lt;!-- jdbc连接 --&gt;
        &lt;jdbcConnection driverClass="${jdbc.driver}"
                        connectionURL="${jdbc.url}" userId="${jdbc.username}" password="${jdbc.password}"/&gt;

        &lt;!-- 类型转换 --&gt;
        &lt;javaTypeResolver&gt;
            &lt;!-- 是否使用bigDecimal， false可自动转化以下类型（Long, Integer, Short, etc.） --&gt;
            &lt;property name="forceBigDecimals" value="false"/&gt;
        &lt;/javaTypeResolver&gt;

        &lt;!-- 01 指定javaBean生成的位置 --&gt;
        &lt;!-- targetPackage：指定生成的model生成所在的包名 --&gt;
        &lt;!-- targetProject：指定在该项目下所在的路径  --&gt;
        &lt;javaModelGenerator targetPackage="com.hjl.springboot03.model"
                            targetProject="src/main/java"&gt;
            &lt;!-- 是否允许子包，即targetPackage.schemaName.tableName --&gt;
            &lt;property name="enableSubPackages" value="false"/&gt;
            &lt;!-- 是否对model添加构造函数 --&gt;
            &lt;property name="constructorBased" value="true"/&gt;
            &lt;!-- 是否针对string类型的字段在set的时候进行trim调用 --&gt;
            &lt;property name="trimStrings" value="false"/&gt;
            &lt;!-- 建立的Model对象是否 不可改变  即生成的Model对象不会有 setter方法，只有构造方法 --&gt;
            &lt;property name="immutable" value="false"/&gt;
        &lt;/javaModelGenerator&gt;

        &lt;!-- 02 指定sql映射文件生成的位置 --&gt;
        &lt;sqlMapGenerator targetPackage="com.hjl.springboot03.mapper"
                         targetProject="src/main/resources/mappers"&gt;
            &lt;!-- 是否允许子包，即targetPackage.schemaName.tableName --&gt;
            &lt;property name="enableSubPackages" value="false"/&gt;
        &lt;/sqlMapGenerator&gt;

        &lt;!-- 03 生成XxxMapper接口 --&gt;
        &lt;!-- type="ANNOTATEDMAPPER",生成Java Model 和基于注解的Mapper对象 --&gt;
        &lt;!-- type="MIXEDMAPPER",生成基于注解的Java Model 和相应的Mapper对象 --&gt;
        &lt;!-- type="XMLMAPPER",生成SQLMap XML文件和独立的Mapper接口 --&gt;
        &lt;javaClientGenerator targetPackage="com.hjl.springboot03.mapper"
                             targetProject="src/main/java" type="XMLMAPPER"&gt;
            &lt;!-- 是否在当前路径下新加一层schema,false路径com.oop.eksp.user.model， true:com.oop.eksp.user.model.[schemaName] --&gt;
            &lt;property name="enableSubPackages" value="false"/&gt;
        &lt;/javaClientGenerator&gt;

        &lt;!-- 配置表信息 --&gt;
        &lt;!-- schema即为数据库名 --&gt;
        &lt;!-- tableName为对应的数据库表 --&gt;
        &lt;!-- domainObjectName是要生成的实体类 --&gt;
        &lt;!-- enable*ByExample是否生成 example类 --&gt;
        &lt;!--&lt;table schema="" tableName="t_book" domainObjectName="Book"--&gt;
        &lt;!--enableCountByExample="false" enableDeleteByExample="false"--&gt;
        &lt;!--enableSelectByExample="false" enableUpdateByExample="false"&gt;--&gt;
        &lt;!--&amp;lt;!&amp;ndash; 忽略列，不生成bean 字段 &amp;ndash;&amp;gt;--&gt;
        &lt;!--&amp;lt;!&amp;ndash; &lt;ignoreColumn column="FRED" /&gt; &amp;ndash;&amp;gt;--&gt;
        &lt;!--&amp;lt;!&amp;ndash; 指定列的java数据类型 &amp;ndash;&amp;gt;--&gt;
        &lt;!--&amp;lt;!&amp;ndash; &lt;columnOverride column="LONG_VARCHAR_FIELD" jdbcType="VARCHAR" /&gt; &amp;ndash;&amp;gt;--&gt;
        &lt;!--&lt;/table&gt;--&gt;

        &lt;table schema="" tableName="customer" domainObjectName="Customer"
               enableCountByExample="false" enableDeleteByExample="false"
               enableSelectByExample="false" enableUpdateByExample="false"&gt;
        &lt;/table&gt;

    &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</code></pre> 
<h5>4.3pom.xml中添加插件</h5> 
<pre><code class="hljs">&lt;plugin&gt;
    &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.3.2&lt;/version&gt;
    &lt;dependencies&gt;
        &lt;!--使用Mybatis-generator插件不能使用太高版本的mysql驱动 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;8.0.29&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;configuration&gt;
        &lt;overwrite&gt;true&lt;/overwrite&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</code></pre> 
<p><img alt="" height="1020" src="https://images2.imgbox.com/41/51/y23a4rFU_o.png" width="1200"></p> 
<h4><img alt="" height="1020" src="https://images2.imgbox.com/2e/4e/qYtvATEW_o.png" width="1200">5. controller/JdbcController</h4> 
<p> </p> 
<pre><code class="hljs">package com.hjl.springboot03.controller;

import com.hjl.springboot03.mapper.CustomerMapper;
import com.hjl.springboot03.model.Customer;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;


@RestController
@RequestMapping("/jdbc")
public class JdbcController {

    @Autowired
    public CustomerMapper customerMapper;

    @GetMapping("/get")
    public Customer list(Integer cid) {
        return customerMapper.selectByPrimaryKey(cid);
    }

    @DeleteMapping("/delete")
    public int delete(Integer cid) {
        return customerMapper.deleteByPrimaryKey(cid);
    }

    @PostMapping("/add")
    public int add(Customer customer) {
        return customerMapper.insertSelective(customer);
    }
}
</code></pre> 
<h4> 6.Spboot03Application.java</h4> 
<pre><code class="hljs">package com.hjl.springboot03;

import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@MapperScan("com.zjzaki.spboot03.mapper")
@SpringBootApplication
public class Springboot03Application {

    public static void main(String[] args) {
        SpringApplication.run(Springboot03Application.class, args);
    }
}</code></pre> 
<h4>7.启动测试</h4> 
<h2>二、Mybatis-plus与SpringBoot整合</h2> 
<h4>1.新建模块springboot03plus</h4> 
<p><img alt="" height="990" src="https://images2.imgbox.com/30/b7/fgjxYh3X_o.png" width="1098"></p> 
<h4>2.pom.xml</h4> 
<p>]</p> 
<pre><code class="hljs">&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.4.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;
    &lt;version&gt;3.4.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;8.0.29&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;
    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;
    &lt;version&gt;2.3.31&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<h4>3.application.yml</h4> 
<pre><code class="hljs">server:
  port: 8080
spring:
  application:
    name: springboot03plus
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/vue?useUnicode=true&amp;characterEncoding=UTF-8
    username: root
    password: root

logging:
  level:
    com.hjl.demo: debug
mybatis-plus:
  mapper-locations: classpath:mappers/**/*.xml
  type-aliases-package: com.hjl.springboot03plus.model
</code></pre> 
<h4>4.MyBatis-Plus代码生成类</h4> 
<pre><code class="hljs">package com.hjl.springboot03plus;
import com.baomidou.mybatisplus.annotation.DbType;
import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;
import com.baomidou.mybatisplus.core.toolkit.StringPool;
import com.baomidou.mybatisplus.core.toolkit.StringUtils;
import com.baomidou.mybatisplus.generator.AutoGenerator;
import com.baomidou.mybatisplus.generator.InjectionConfig;
import com.baomidou.mybatisplus.generator.config.*;
import com.baomidou.mybatisplus.generator.config.po.TableInfo;
import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;
import com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

/**
 * mybatis-plus代码生成
 */
public class MPGenerator {

    /**
     * &lt;p&gt;
     * 读取控制台内容
     * &lt;/p&gt;
     */
    public static String scanner(String tip) {
        Scanner scanner = new Scanner(System.in);
        StringBuilder help = new StringBuilder();
        help.append("请输入" + tip);
        System.out.println(help.toString());
        if (scanner.hasNext()) {
            String ipt = scanner.next();
            if (StringUtils.isNotBlank(ipt)) {
                if ("quit".equals(ipt)) return "";
                return ipt;
            }
        }
        throw new MybatisPlusException("请输入正确的" + tip + "！");
    }

    public static void main(String[] args) {
        // 代码生成器
        AutoGenerator mpg = new AutoGenerator();

        // 1.全局配置
        GlobalConfig gc = new GlobalConfig();
        String projectPath = System.getProperty("user.dir") + "/spboot03-mp";
        System.out.println(projectPath);

        gc.setOutputDir(projectPath + "/src/main/java");
        gc.setOpen(false);
        gc.setBaseResultMap(true);//生成BaseResultMap
        gc.setActiveRecord(false);// 不需要ActiveRecord特性的请改为false
        gc.setEnableCache(false);// XML 二级缓存
        gc.setBaseResultMap(true);// XML ResultMap
        gc.setBaseColumnList(true);// XML columList
        //gc.setSwagger2(true); //实体属性 Swagger2 注解
        gc.setAuthor("lky");

        // 自定义文件命名，注意 %s 会自动填充表实体属性！
        gc.setMapperName("%sMapper");
        gc.setXmlName("%sMapper");
        gc.setServiceName("%sService");
        gc.setServiceImplName("%sServiceImpl");
        gc.setControllerName("%sController");

        gc.setIdType(IdType.AUTO);
        mpg.setGlobalConfig(gc);

        // 2.数据源配置
        DataSourceConfig dsc = new DataSourceConfig();
        dsc.setDbType(DbType.MYSQL);
        dsc.setUrl("jdbc:mysql://localhost:3306/crm?useUnicode=true&amp;characterEncoding=UTF-8");
        dsc.setDriverName("com.mysql.cj.jdbc.Driver");
        dsc.setUsername("root");
        dsc.setPassword("123456");
        mpg.setDataSource(dsc);

        // 3.包配置
        PackageConfig pc = new PackageConfig();
        String moduleName = scanner("模块名(quit退出，表示没有模块名)");
        if (StringUtils.isNotBlank(moduleName)) {
            pc.setModuleName(moduleName);
        }
        pc.setParent("com.zjzaki.spboot03mp")
                .setMapper("mapper")
                .setService("service")
                .setController("controller")
                .setEntity("model");
        mpg.setPackageInfo(pc);

        // 4.自定义配置
        InjectionConfig cfg = new InjectionConfig() {
            @Override
            public void initMap() {
                // to do nothing
            }
        };

        // 如果模板引擎是 freemarker
        String templatePath = "/templates/mapper.xml.ftl";
        // 自定义输出配置
        List&lt;FileOutConfig&gt; focList = new ArrayList&lt;&gt;();
        // 自定义配置会被优先输出
        focList.add(new FileOutConfig(templatePath) {
            @Override
            public String outputFile(TableInfo tableInfo) {
                // 自定义输出文件名 ， 如果你 Entity 设置了前后缀、此处注意 xml 的名称会跟着发生变化！！
                if (StringUtils.isNotBlank(pc.getModuleName())) {
                    return projectPath + "/src/main/resources/mappers/" + pc.getModuleName() + "/" + tableInfo.getEntityName() + "Mapper" + StringPool.DOT_XML;
                } else {
                    return projectPath + "/src/main/resources/mappers/" + tableInfo.getEntityName() + "Mapper" + StringPool.DOT_XML;
                }
            }
        });
        cfg.setFileOutConfigList(focList);
        mpg.setCfg(cfg);
        // 配置模板
        TemplateConfig templateConfig = new TemplateConfig();
        templateConfig.setXml(null);
        mpg.setTemplate(templateConfig);

        // 5.策略配置
        StrategyConfig strategy = new StrategyConfig();
        // 表名生成策略(下划线转驼峰命名)
        strategy.setNaming(NamingStrategy.underline_to_camel);
        // 列名生成策略(下划线转驼峰命名)
        strategy.setColumnNaming(NamingStrategy.underline_to_camel);
        // 是否启动Lombok配置
        strategy.setEntityLombokModel(true);
        // 是否启动REST风格配置
        strategy.setRestControllerStyle(true);
        // 自定义实体父类strategy.setSuperEntityClass("com.baomidou.mybatisplus.extension.activerecord.Model");
        // 自定义service父接口strategy.setSuperServiceClass("com.baomidou.mybatisplus.extension.service.IService");
        // 自定义service实现类strategy.setSuperServiceImplClass("com.baomidou.mybatisplus.extension.service.impl.ServiceImpl");
        // 自定义mapper接口strategy.setSuperMapperClass("com.baomidou.mybatisplus.core.mapper.BaseMapper");
        strategy.setSuperEntityColumns("id");

        // 写于父类中的公共字段plus
        strategy.setSuperEntityColumns("id");
        strategy.setInclude(scanner("表名，多个英文逗号分割").split(","));
        strategy.setControllerMappingHyphenStyle(true);

        //表名前缀(可变参数)：“t_”或”“t_模块名”，例如：t_user或t_sys_user
        strategy.setTablePrefix("t_", "t_sys_");
        //strategy.setTablePrefix(scanner("请输入表前缀"));
        mpg.setStrategy(strategy);
        mpg.setTemplateEngine(new FreemarkerTemplateEngine());
        // 执行
        mpg.execute();
    }
}

</code></pre> 
<h4>5.UserController</h4> 
<pre><code class="hljs">package com.hjl.springboot03plus.controller;


import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;
import com.hjl.springboot03plus.model.User;
import com.hjl.springboot03plus.service.UserService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * &lt;p&gt;
 *  前端控制器
 * &lt;/p&gt;
 *
 * @author lky
 * @since 2023-08-08
 */
@RestController
@RequestMapping("/user")
public class UserController {

    @Autowired
    private UserService userService;

    /**
     * 查询所有
     */
    @GetMapping("/list")
    public List&lt;User&gt; list(){
        return userService.list();
    }

    /**
     * 按条件查询
     */
    @GetMapping("/ListByCondition")
    public List&lt;User&gt; ListByCondition(User user){
        QueryWrapper w = new QueryWrapper();
        w.like("userName",user.getUserName());
        return userService.list(w);
    }

    /**
     * 查询单个
      * @param book
     * @return
     */
    @GetMapping("/load")
    public User load(User user){
        QueryWrapper w = new QueryWrapper();
        w.like("id",user.getId());
        return userService.getOne(w);
    }

    /**
     * 增加
     * @param user
     * @return
     */
    @PutMapping("/add")
    public boolean add(User user){
        boolean save = userService.save(user);
        return save;
    }

    /**
     * 修改
     * @param book
     * @return
     */
    @PostMapping("/update")
    public boolean update(User book){
        boolean save = userService.saveOrUpdate(book);
        return save;
    }

    /**
     * 删除
      * @param user
     * @return
     */
    @DeleteMapping("/delete")
    public boolean delete(User user){
        boolean save = userService.removeById(user.getId());
        return save;
    }
}
</code></pre> 
<h4>6.Springboot03plusApplication</h4> 
<pre><code class="hljs">springboot03plus
package com.hjl.springboot03plus;

import org.mybatis.spring.annotation.MapperScan;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@MapperScan("com.hjl.springboot03plus.mapper")
@SpringBootApplication
public class Springboot03plusApplication {

    public static void main(String[] args) {
        SpringApplication.run(Springboot03plusApplication.class, args);
    }
}
</code></pre> 
<h4>7.最后测试</h4> 
<h4>8. <span style="color:#fe2c24;">MyBatis-Plus联表查询</span></h4> 
<h5>8.1UserService</h5> 
<pre><code class="hljs">/**
* 查询用户角色
* @param map map集合
* @return 查询到的列表集合
*/
List&lt;Map&gt; queryUserRole(Map map);
</code></pre> 
<h5>8.2UserServiceImpl</h5> 
<pre><code class="hljs">@Autowired
private UserMapper userMapper;

/**
* 查询用户角色
*
* @param map map集合
* @return 查询到的列表集合
*/
@Override
public List&lt;Map&gt; queryUserRole(Map map) {
    return userMapper.queryUserRole(map);
}
</code></pre> 
<h5>8.3UserMapper</h5> 
<pre><code class="hljs">/**
* 查询用户角色
*
* @param map map集合
* @return 查询到的列表集合
*/
List&lt;Map&gt; queryUserRole(Map map);
</code></pre> 
<h5>8.4UserMapper.xml</h5> 
<pre><code class="hljs">&lt;select id="queryUserRole" resultType="java.util.Map"&gt;
    SELECT tu.*, tr.role_name
    FROM `t_user` as tu
    INNER JOIN `t_role` as tr
    on tu.roleId = tr.id
&lt;/select&gt;
</code></pre> 
<h5>8.5UserController</h5> 
<pre><code class="hljs">// 连表查询
@GetMapping("/userRole")
public List&lt;Map&gt; userRole(String userName){
    Map map = new HashMap();
    map.put("user_name",userName);
    List&lt;Map&gt; maps = userService.queryUserRole(map);
    return maps;
}
</code></pre> 
<h5>8.6最后测试</h5>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f7bbf37ac83b39caa793b83796e48c36/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">操作系统学习笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/64aadfedb26e5ff063d176885062b277/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">生成迁移学习 (Generative Transfer Le</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>