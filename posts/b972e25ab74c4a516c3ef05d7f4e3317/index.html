<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PCIE常用缩写及含义 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PCIE常用缩写及含义" />
<meta property="og:description" content="1.Egress和Ingress 在Switch中，数据流出的端口被称为Egress端口，Ingress指的数据流入Switch使用的端口。 2.DSP（Down Stream Port）和USP（Upper Stream Port） 对每个功能设备来讲，用来连接上下游设备的端口统称为DSP或者USP（下图图例）。
在一个PCIe系统中，upstream port 和 downstream port是固定的，但是Ingress port 和 Egress port 是不固定的，和数据包的传输方向相关。
3.流量类别(TC) TC 是在数据包内发送的一个 TLP 头字段，在端到端通过结构时没有改变。本地应用软件和系统软件应根据性能要求确定某个 TLP 使用什么样的 TC 标志。TC 字段是一个 3bits 长的字段，可以将不同的流量分成 8 种流量类别（TC0~TC7）。设备必须实现 VCO。设备或交换器要实现 TC-VC 映射逻辑，把给定 TC 号的 TLP 使用特定的 VC 号的缓冲区通过链路转发。PCIe 具有映射多个 TC到一个 VC 的能力，因而可通过提供有限数目的 VC 缓冲区支持来降低设备成本。
4.VC：虚拟通道 VC 是物理缓冲区，它通过使用发送和接收器虚拟信道缓冲区，提供一种在物理链路上支持多个独立逻辑数据流的手段。PCIe 设备可以最多实现 8 个 VC 缓冲区（VC0~VC7）。Ｅｘｔｅｎｄｅｄ ＶＣＣｏｕｎｔ字段的数值是除了 ＶＣ０以外所支持的 ＶＣ数量，为０时，表示仅支持 ＶＣ０；为 １～７时，表示额外支持１～７个 ＶＣ。
5.相位（Ｐｈａｓｅ）： ＶＣ 仲裁表的每一项表示一个相位。规范定义了三种 ＷＲＲ配置，分别有１２８、６４、３２个 表项数。具体设备所能支持的仲裁表项的个数由端口 ＶＣ能力寄存器２中的 ＶＣＡｒｂｉｔｒａｔｉｏｎＣａｐａｂｉｌｉｔｙ字段 来报告，表的大小通过写入端口 ＶＣ控制寄存器中 ＶＣ ＡｒｂｉｔｒａｔｉｏｎＳｅｌｅｃｔ字段的值来选择（参见图下）。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b972e25ab74c4a516c3ef05d7f4e3317/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-26T18:04:44+08:00" />
<meta property="article:modified_time" content="2023-07-26T18:04:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PCIE常用缩写及含义</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div id="content_views" class="htmledit_views"> 
 <h3><strong>1.Egress和Ingress</strong></h3> 
 <p>在Switch中，数据流出的端口被称为Egress端口，Ingress指的数据流入Switch使用的端口。 </p> 
 <h3><strong>2.DSP（Down Stream Port）和USP（Upper Stream Port）</strong></h3> 
 <p>对每个功能设备来讲，用来连接上下游设备的端口统称为DSP或者USP（下图图例）。</p> 
 <p>在一个PCIe系统中，upstream port 和 downstream port是固定的，但是Ingress port 和 Egress port 是不固定的，和数据包的传输方向相关。</p> 
 <p><img alt="" height="590" src="https://images2.imgbox.com/21/cc/xKkfYXDm_o.png" width="554"></p> 
 <h3><strong>3.流量类别(TC)</strong></h3> 
 <p>TC 是在数据包内发送的一个 TLP 头字段，在端到端通过结构时没有改变。本地应用软件和系统软件应根据性能要求确定某个 TLP 使用什么样的 TC 标志。TC 字段是一个 3bits 长的字段，可以将不同的流量分成 8 种流量类别（TC0~TC7）。设备必须实现 VCO。设备或交换器要实现 TC-VC 映射逻辑，把给定 TC 号的 TLP 使用特定的 VC 号的缓冲区通过链路转发。PCIe 具有映射多个 TC到一个 VC 的能力，因而可通过提供有限数目的 VC 缓冲区支持来降低设备成本。</p> 
 <p></p> 
 <h3><strong>4.VC：虚拟通道</strong></h3> 
 <p>VC 是物理缓冲区，它通过使用发送和接收器虚拟信道缓冲区，提供一种在物理链路上支持多个独立逻辑数据流的手段。PCIe 设备可以最多实现 8 个 VC 缓冲区（VC0~VC7）。Ｅｘｔｅｎｄｅｄ ＶＣＣｏｕｎｔ字段的数值是除了 ＶＣ０以外所支持的 ＶＣ数量，为０时，表示仅支持 ＶＣ０；为 １～７时，表示额外支持１～７个 ＶＣ。</p> 
 <p> <img alt="" height="223" src="https://images2.imgbox.com/de/8b/7kEuxY7Z_o.png" width="865"></p> 
 <h3>5.相位（Ｐｈａｓｅ）：</h3> 
 <p>ＶＣ 仲裁表的每一项表示一个相位。规范定义了三种 ＷＲＲ配置，分别有１２８、６４、３２个 表项数。具体设备所能支持的仲裁表项的个数由端口 ＶＣ能力寄存器２中的 ＶＣＡｒｂｉｔｒａｔｉｏｎＣａｐａｂｉｌｉｔｙ字段 来报告，表的大小通过写入端口 ＶＣ控制寄存器中 ＶＣ ＡｒｂｉｔｒａｔｉｏｎＳｅｌｅｃｔ字段的值来选择（参见图下）。</p> 
 <p> <img alt="" height="439" src="https://images2.imgbox.com/67/64/Hjr6awvv_o.png" width="865"></p> 
 <p></p> 
 <h3>8.LBC、DBI、ELBI和CDM</h3> 
 <p>LBC（Local Bus Controller）：</p> 
 <p>EP 的 LBC module 给对端 USP 或本地 CPU 提供一种通过 DBI 访问 CDM 内部寄存器及 ELBI 外部应用寄存器的机制。</p> 
 <p>DBI（data bus interface）:</p> 
 <p>是synopsys定义的访问PCIe寄存器的接口，PCIe协议规定了两种配置空间：PCI Configuration Space和 PCIe Extend configuration Space。而往往IP的生成商，会加入一个属于自己的配置空间，synopsys添加的配置空间为：Port logic Synosys Register。</p> 
 <p>如下图，EP 侧的 CPU 可以通过 DBI 接口 PCIe Controller 的 CDM 内部寄存器，也可以访问 ELBI 外部应用寄存器。</p> 
 <p>ELBI（External Local Bus Interface）:</p> 
 <p>把 PCIe Controller 收到的 Inbound 寄存器读写请求转发到外部应用寄存器。</p> 
 <p>CDM（Configuration-Dependent Module）：含标准的 PCIe 配置空间及 PCIe Controller 指定的寄存器空间（端口逻辑寄存器）。</p> 
 <p><img alt="" height="705" src="https://images2.imgbox.com/1e/26/jgzjeMHt_o.png" width="865"></p> 
 <h3>9.PCLE、VIP涉及的模块缩写&amp;定义说明:</h3> 
 <p>PMC： Power Management Controller</p> 
 <p>LBC ： Local Bus Controller</p> 
 <p>DBI ： Data Bus Interface</p> 
 <p>MSG_GEN： MessageGeneration Module</p> 
 <p>HOT PLUG：Hot Plug ControlModule</p> 
 <p>RBYP: Receive Bypass Interface</p> 
 <p>TRGT1: Receive Request Interface</p> 
 <p>ELBI: External Local Bus Interface</p> 
 <p>MSI: Message Signaled Interrupt (MSI) Interface,</p> 
 <p>MSI-X Interface，在DPDK中选择的中断模式，使用此接口。</p> 
 <p>XALI 0/1/2 : Transmit Interfaces 0/1/2</p> 
 <p>VMI : Vendor Message Interface</p> 
 <p>SII : System Information Interface</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/69/97/b8pDNgXX_o.png" width="861"></p> 
 <p><img alt="" height="150" src="https://images2.imgbox.com/a9/d4/8B1VGPAT_o.png" width="865"></p> 
 <p></p> 
 <p>10.<a href="https://so.csdn.net/so/search?q=PCIE&amp;spm=1001.2101.3001.7020" target="_blank" class="hl hl-1" rel="noopener noreferrer">PCIE</a> controller和PCIE PHY：</p> 
 <p>PIPE接口用于连接PCIE controller和PCIE PHY， controller用PIPE接口发送并行数给PHY用于并串转换等操作， PHY把串并转换得到的并行数通过PIPE接口送给controller。</p> 
 <p></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac987ae1bcef2bb4195c9a31935d2fe7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ARM架构与编程——实战：按键控制LED</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9401e28f1c44f4388856f1c9098e31cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux根目录扩容--两篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>