<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ember学习（2）：Ember的命名约定 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ember学习（2）：Ember的命名约定" />
<meta property="og:description" content="英文原址：http://emberjs.com/guides/concepts/naming-conventions/
Ember.js使用命名约定来连接你的各种对象，从而避免使用过多的引用。你需要对你的route，controller和template使用这些约定。通常你可以推测哪些名字，但是这个指导集中地给出了一个大纲，包含了所有的命名约定。在下面的列子中，“App”是我们选定的命名空间，或者说它代表了你创建的Ember应用，但是你也可以为你的应用选择任何其他的名字。我们后面将会向你展示如何创建一个Ember应用，现在让我们先专心学习这些命名约定。
The Application（应用） 当你的应用启动时，Ember会寻找下面这些对象： App.ApplicationRouteApp.ApplicationController&#34;application&#34; template Ember.js会将“application” template当做主模板来显示。如果定义了App.ApplicationController，Ember会创建一个App.ApplicationController的实例，并将设定为application template的controller。这意味着，application模板可以从这个controller中获取数据。 如果你的应用定义了App.ApplicationRoute，Ember在显示application template之前会先调用router的钩子函数。Hooks（钩子函数）被实现成方法，给你提供了一个Ember对象生命周期的扩展接口，来插入你自己的代码以改变Ember默认的行为以满足你的需要。Ember提供许多的Hook来支持你各种不同的目的（比如model和setupcontroller hook）。在下面的例子中，App.ApplicationRoute，它是一个Ember.Route对象，实现了setupController钩子函数。 下面是一个简单的例子关于如何使用route，controller和template： App.ApplicationRoute = Ember.Route.extend({ setupController: function(controller) { // `controller` is the instance of ApplicationController controller.set(&#39;title&#39;, &#34;Hello world!&#34;); } }); App.ApplicationController = Ember.Controller.extend({ appName: &#39;My First Example&#39; }); &lt;!-- application template --&gt; &lt;h1&gt;{{appName}}&lt;/h1&gt; &lt;h2&gt;{{title}}&lt;/h2&gt;在Ember应用中，你必须总是将你的controller指定成类，框架负责初始化它们，并且提供给你的模板。这使得测试你的controll变得非常简单，并且保证你的整个应用对于每种controller只共享一个对应controller的实例。 Simple Route（简单路由） 你的每个route都会有一个controller，还会有一个和route同名的template。让我们从一个简单的route开始： App.Router.map(function() { this.route(&#39;favorites&#39;); });如果你的用户导航到“/favorites”，Ember会查找下面的对象： App.FavoritesRouteApp.FavoritesControllerthe favorites template Ember会将favorites模板显示在application模板的{{outlet}}中，还会为这个模板设置一个App.FavoritesController的实例。如果你的应用定义了App.FavoritesRoute，框架会在显示模板前调用它。你猜对了，这个过程会重复的递归下去。对于一个像App.FavoritesRoute这样的route，你可能会实现一个model钩子函数，来指定你的controller使用什么model供你的模板显示。下面是一个例子： App.FavoritesRoute = Ember.Route.extend({ model: function() { // the model is an Array of all of the posts return this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/33d83da469d9e1054b8c0df4dc9bf5e4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-05-17T10:03:15+08:00" />
<meta property="article:modified_time" content="2014-05-17T10:03:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ember学习（2）：Ember的命名约定</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>英文原址：<a target="_blank" href="http://emberjs.com/guides/concepts/naming-conventions/" rel="nofollow noopener noreferrer">http://emberjs.com/guides/concepts/naming-conventions/</a></p> 
<p>Ember.js使用命名约定来连接你的各种对象，从而避免使用过多的引用。你需要对你的route，controller和template使用这些约定。通常你可以推测哪些名字，但是这个指导集中地给出了一个大纲，包含了所有的命名约定。在下面的列子中，“App”是我们选定的命名空间，或者说它代表了你创建的Ember应用，但是你也可以为你的应用选择任何其他的名字。我们后面将会向你展示如何创建一个Ember应用，现在让我们先专心学习这些命名约定。</p> 
<p><br> </p> 
<h3>The Application（应用）</h3> 
<div>
  当你的应用启动时，Ember会寻找下面这些对象： 
</div> 
<div> 
 <ul><li>App.ApplicationRoute</li><li>App.ApplicationController</li><li>"application" template</li></ul> 
 <div>
   Ember.js会将“application” template当做主模板来显示。如果定义了App.ApplicationController，Ember会创建一个App.ApplicationController的实例，并将设定为application template的controller。这意味着，application模板可以从这个controller中获取数据。 
 </div> 
</div> 
<div> 
 <br> 
</div> 
<div>
  如果你的应用定义了App.ApplicationRoute，Ember在显示application template之前会先调用router的钩子函数。Hooks（钩子函数）被实现成方法，给你提供了一个Ember对象生命周期的扩展接口，来插入你自己的代码以改变Ember默认的行为以满足你的需要。Ember提供许多的Hook来支持你各种不同的目的（比如model和setupcontroller hook）。在下面的例子中，App.ApplicationRoute，它是一个Ember.Route对象，实现了setupController钩子函数。 
</div> 
<div> 
 <br> 
</div> 
<div>
  下面是一个简单的例子关于如何使用route，controller和template： 
</div> 
<div> 
 <pre><code class="language-javascript">App.ApplicationRoute = Ember.Route.extend({
  setupController: function(controller) {
    // `controller` is the instance of ApplicationController
    controller.set('title', "Hello world!");
  }
});

App.ApplicationController = Ember.Controller.extend({
  appName: 'My First Example'
});</code></pre> 
 <br> 
 <pre><code class="language-html">&lt;!-- application template --&gt;
&lt;h1&gt;{<!-- -->{appName}}&lt;/h1&gt;

&lt;h2&gt;{<!-- -->{title}}&lt;/h2&gt;</code></pre>在Ember应用中，你必须总是将你的controller指定成类，框架负责初始化它们，并且提供给你的模板。这使得测试你的controll变得非常简单，并且保证你的整个应用对于每种controller只共享一个对应controller的实例。 
</div> 
<div> 
 <br> 
</div> 
<h3>Simple Route（简单路由）</h3> 
<div>
  你的每个route都会有一个controller，还会有一个和route同名的template。让我们从一个简单的route开始： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.route('favorites');
});</code></pre>如果你的用户导航到“/favorites”，Ember会查找下面的对象： 
</div> 
<div> 
 <ul><li>App.FavoritesRoute</li><li>App.FavoritesController</li><li>the favorites template</li></ul> 
 <div>
   Ember会将favorites模板显示在application模板的{<!-- -->{outlet}}中，还会为这个模板设置一个App.FavoritesController的实例。如果你的应用定义了App.FavoritesRoute，框架会在显示模板前调用它。你猜对了，这个过程会重复的递归下去。对于一个像App.FavoritesRoute这样的route，你可能会实现一个model钩子函数，来指定你的controller使用什么model供你的模板显示。下面是一个例子： 
 </div> 
</div> 
<div> 
 <pre><code class="language-javascript">App.FavoritesRoute = Ember.Route.extend({
  model: function() {
    // the model is an Array of all of the posts
    return this.store.find('post');
  }
});</code></pre> 
 <div>
   在这个例子里，我们没有提供FavoritesController，因为这个model是一个数组，Ember会自动的生成一个Ember.ArrayController的实例，这个实例会将数组数据呈现为model。你可以将ArrayController看成是model本身，这有两点好处： 
 </div> 
 <div>
   你可以在任何时刻替换controller的model，而不需要通知模板有关的改变 
 </div> 
 <div>
   controller本身可以提供额外的计算型属性（computed properties），或者模板特定的状态，这些都不属于model这个层次。这使得view，controller和model之间的关系可以干净的分离。 
 </div> 
 <div> 
  <br> 
 </div> 模板可以迭代访问controller的元素： 
 <br> 
 <pre><code class="language-html">&lt;ul&gt;
{<!-- -->{#each controller}}
  &lt;li&gt;{<!-- -->{title}}&lt;/li&gt;
{<!-- -->{/each}}
&lt;/ul&gt;</code></pre> 
 <br> 
 <h3>Dynamic Segments（动态字段）</h3> 
</div> 
<div>
  如果route使用了dynamic segment，这个route的model就会基于用户提供的dynamic segment的值来生成。考虑下面的router定义： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.resource('post', { path: '/posts/:post_id' });
});</code></pre>在这个例子中route的名字是post，因此Ember会查找下面的对象： 
</div> 
<div> 
 <ul><li>App.PostRoute</li><li>App.PostController</li><li>the post template</li></ul> 
</div> 
<p>你的route的model钩子函数会将:post_id参数转换成一个model，route的serialize钩子函数会将一个model数据转换回一个URL中的参数（比方说，当生成一个指向model对象的链接）。<br> </p> 
<pre><code class="language-javascript">App.PostRoute = Ember.Route.extend({
  model: function(params) {
    return this.store.find('post', params.post_id);
  },

  serialize: function(post) {
    return { post_id: post.get('id') };
  }
});</code></pre> 
<p>因为这个用法是如此的通用，它被设计成了route的默认行为。</p> 
<p>如果你的dynamic segment以_id结尾，那默认的model钩子函数会将名字的前面部分解释为定义在Application命名空间下的model的类名（post变成App.Post），然后Ember会在这个类上调用find方法，将_id部分对应的实际值作为参数传入以查找含有该id的对应实例。而默认的serialize钩子函数会将model对象的id属性返回回来以插入URL。</p> 
<p><br> </p> 
<h3>Route, Controller and Template defaults（路由，控制器和模板的默认行为）</h3> 
<div></div> 如果你没有定义post route定义一个路由处理类（App.PostRoute），Ember仍然会创建一个App.PostController的实例，然后用它来显示post模板。 
<br> 
<p>如果你没有定义一个对应的controller（App.PostController），Ember仍然会基于route的model钩子函数的返回值，给你自动创建一个。如果model钩子函数的返回值是Array，你会得到一个ArrayController，否则你会得到一个ObjectController。</p> 
<p>如果你没有定义一个对应的模板（post template），Ember不会显示任何东西</p> 
<p><br> </p> 
<h3>Nesting（嵌套）</h3> 
<div>
  你可以在resource下嵌套route： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.resource('posts', function() { // the `posts` route
    this.route('favorites');          // the `posts.favorites` route
    this.resource('post');            // the `post` route
  });
});</code></pre> 
 <br> resource是一个route，controller以及template名字的开始，即使post resource是嵌套的，它的route名字仍然是App.PostRoute，它的controller名字是App.PostController，而它的模板名字是post。当你将一个route嵌套进resource里，route的名字会被添加在resource名字的后面，以一个“.”来连接。 
</div> 
<div>
  下面是上面定义的router根据命名约定生成的route名称： 
</div> 
<div> 
 <table style="margin:1em 0px; padding:0px; border:0px; font-family:'Helvetica Neue',Helvetica,Arial,sans-serif; line-height:19.600000381469727px; font-size:14px; vertical-align:baseline; border-collapse:collapse; border-spacing:0px; width:680px; color:rgb(68,68,68); background-color:rgb(250,244,241)"><thead style="margin:0px; padding:0px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline; background-color:rgb(249,231,228)"><tr style="margin:0px; padding:0px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline"><th style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> Route Name</th><th style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> Controller</th><th style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> Route</th><th style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> Template</th></tr></thead><tbody style="margin:0px; padding:0px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline"><tr style="margin:0px; padding:0px; border-width:0px 0px 1px; border-bottom-style:solid; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline"><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">posts</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostsController</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostsRoute</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">posts</code></td></tr><tr style="margin:0px; padding:0px; border-width:0px 0px 1px; border-bottom-style:solid; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline"><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">posts.favorites</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostsFavoritesController</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostsFavoritesRoute</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">posts/favorites</code></td></tr><tr style="margin:0px; padding:0px; border-width:0px 0px 1px; border-bottom-style:solid; font-family:inherit; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; vertical-align:baseline"><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">post</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostController</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">PostRoute</code></td><td style="margin:0px; padding:5px 10px; border:0px; font-family:inherit; font-style:inherit; font-variant:inherit; line-height:inherit; font-size:14px; vertical-align:middle"> <code style="margin:0px; padding:3px; border:0px; font-family:Menlo,Courier,monospace; font-style:inherit; font-variant:inherit; font-weight:inherit; line-height:inherit; font-size:12.666666984558105px; vertical-align:baseline; color:rgb(102,102,102)">post</code></td></tr></tbody></table> 大拇指规则：将resource用于名词对应的概念，而将route用于形容词或者动词对应的概念。这能保证嵌套不会产生不可理喻的长名字，而同时可以避免一个常用的形容词和动词型的概念的名称冲突。 
</div> 
<div> 
 <br> 
</div> 
<h3>The Index Route （Index路由）</h3> 
<div>
  在每一个嵌套的层次（包括最顶层），Ember自动为“/"路径提供了一个默认的名字叫index的route。举个例子，如果你像下面这样定义： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.route('favorites');
});</code></pre>它等同于： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.route('index', { path: '/' });
  this.route('favorites');
});</code></pre>如果用户访问"/", Ember会查找如下对象： 
</div> 
<div> 
 <ul><li>App.IndexRoute</li><li>App.IndexController</li><li>the index template</li></ul> 这个index模板会被显示在application模板的{<!-- -->{outlet}}中。如果用户访问到”/favorites“，Ember就会用favorites模板来替换index模板。 
</div> 
<div> 
 <br> 
</div> 
<div>
  一个像下面这样的嵌套的路由： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.resource('posts', function() {
    this.route('favorites');
  });
});</code></pre>等同于： 
</div> 
<div> 
 <pre><code class="language-javascript">App.Router.map(function() {
  this.route('index', { path: '/' });
  this.resource('posts', function() {
    this.route('index', { path: '/' });
    this.route('favorites');
  });
});</code></pre>如果用户浏览到"/posts"，当前的route会是posts.index，Ember会找如下的对象： 
</div> 
<div> 
 <ul><li>App.PostsIndexRoute</li><li>App.PostsIndexController</li><li>The posts/index template</li></ul> 
 <div>
   首先，posts模板会被显示在application模板的{<!-- -->{outlet}}中。然后，posts/index模板会被显示在posts模板中的{<!-- -->{outlet}}处。如果用户接着导航到/posts/favorites，Ember会用posts/favorites模板替换{<!-- -->{outlet}}中之前的内容。 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9b440356ce2aa9664abe5e0c19c38f08/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ember学习（1）：Ember核心概念</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/647b3fe8f4fe4888f945be84ed386053/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">openwrt下wifi设置详细过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>