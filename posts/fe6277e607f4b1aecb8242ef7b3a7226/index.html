<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安装 Samba 网络共享服务， 可以通过网络访问我们指定的文件夹 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安装 Samba 网络共享服务， 可以通过网络访问我们指定的文件夹" />
<meta property="og:description" content="samba 是一种网络共享服务， 可以通过网络访问我们指定的文件夹。
做嵌入式开发， 大部分的时间都是在写代码或者修改代码， 这个过程我们一般是在 windows 上进行的， 然后把我们改好的代码放到 ubuntu 上进行编译， 这一步我们可以使用 tftp 软件来完成。 但是如果我们经常修改代码， 这一步就太麻烦了， 有一个简单的办法， 即可以安装 samba 文件来实现。 比如把我们 ubuntu 的存储空间指定为我们 windows 上的一个磁盘， 然后我们在这个磁盘里面创建 .c 文件， 进行我们代码的修改和编写， 可以安装 samba 文件来实现。
第一步： 下载 samba
sudo apt-get install samba
第二步： 修改 samba 配置文件
sudo vi /etc/samba/smb.conf
添加如下内容：这些信息都是 samba 的说明和设置， 把这些复制上， 格式要设置对， 使用 Tab 键缩进， 然后把注释删除， 不然可能会出错。
[ubuntu_samba]
comment = arm ubuntu samba dir #说明
path = /home/samba #共享的 samba #目录" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fe6277e607f4b1aecb8242ef7b3a7226/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-05T10:27:53+08:00" />
<meta property="article:modified_time" content="2022-01-05T10:27:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安装 Samba 网络共享服务， 可以通过网络访问我们指定的文件夹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>samba 是一种网络共享服务， 可以通过网络访问我们指定的文件夹。</p> 
<p>        做嵌入式开发， 大部分的时间都是在写代码或者修改代码， 这个过程我们一般是在 windows 上进行的， 然后把我们改好的代码放到 ubuntu 上进行编译， 这一步我们可以使用 tftp 软件来完成。 但是如果我们经常修改代码， 这一步就太麻烦了， 有一个简单的办法， 即可以安装 samba 文件来实现。 比如把我们 ubuntu 的存储空间指定为我们 windows 上的一个磁盘， 然后我们在这个磁盘里面创建 .c 文件， 进行我们代码的修改和编写， 可以安装 samba 文件来实现。<br><strong>第一步： 下载 samba</strong><br><span style="background-color:#38d8f0;">sudo apt-get install samba</span><br><img alt="" height="346" src="https://images2.imgbox.com/98/94/0DpPJfN3_o.png" width="626"></p> 
<p><strong>第二步： 修改 samba 配置文件</strong><br><span style="background-color:#38d8f0;">sudo vi /etc/samba/smb.conf</span><br>  添加如下内容：这些信息都是 samba 的说明和设置， 把这些复制上， 格式要设置对， 使用 Tab 键缩进， 然后把注释删除， 不然可能会出错。</p> 
<p><span style="background-color:#4da8ee;">[ubuntu_samba]</span><br><span style="background-color:#4da8ee;">comment = arm ubuntu samba dir #说明</span><br><span style="background-color:#4da8ee;">path = /home/samba #共享的 samba #目录</span><br><span style="background-color:#4da8ee;">available = yes #允许访问</span><br><span style="background-color:#4da8ee;">browseable = yes #可以浏览</span><br><span style="background-color:#4da8ee;">public = yes #公开</span><br><span style="background-color:#4da8ee;">writable = yes #可写</span><br><span style="background-color:#4da8ee;">create mask = 0755 #当外部创建新文件时的权限</span><br><span style="background-color:#4da8ee;">security = share #共享模式</span><br><span style="background-color:#4da8ee;">force user = root #在外部添加新文件时， 文件的所有者</span><br><span style="background-color:#4da8ee;">arm force group =root #在外部添加新文件时， 文件的所在组</span><br><img alt="" height="353" src="https://images2.imgbox.com/8f/a3/ewX2MSsh_o.png" width="574"></p> 
<p><strong> 第三步： 重启 samba</strong><br><span style="background-color:#38d8f0;">sudo service smbd restart</span></p> 
<p>它没有提示任何的报错， 就是启动成功了。 重启成功 samba 就是安装成功了。 但是有一个细节要注意，我们共享的 samba 目录， 这个目录一定要真实存在。 我们这里设置的是 /home/samba 这个路径， 来看下ubuntu， 现在我所处的路径是 /home/topeet 这个路径下 ， 返回上一级， 没有 samba 这个文件夹， 所以创建一个 samba 的文件夹。 sudo mkdir samba。如果大家这里不创建这个文件夹， 想指定别的路径下的， 大家一定要保证这个路径是真实存在的。 如果没有这个路径， windows 是访问不了的。<br><strong>第四步： 在 windows 访问你的 samba</strong><br> 也就是 /home/samba 这个目录， 我们先来查看下 ubuntu 的 IP， 直接使用 ifconfig 命令， 把 ip 复制过来。然后打开电脑， 在这个菜单栏最上面输入两个 \\ ， 然后输入我们的 ip ， 然后敲回车。 如下图所示。<br><img alt="" height="179" src="https://images2.imgbox.com/48/71/fYFu6bAY_o.png" width="725"></p> 
<p>这样就进到了指定的目录， 然后点进去，可以在这个路径下创建一个文件， 比如 .c .h 文件。 我们返回到上一目录， 点击右键， 选择映射网络驱动器， 然后点击完成。 如下图所示。<br><br><img alt="" height="141" src="https://images2.imgbox.com/c7/16/uJE5dfuY_o.png" width="661"> </p> 
<p> <img alt="" height="340" src="https://images2.imgbox.com/df/20/UOyIhe6Y_o.png" width="426"></p> 
<p>点击完成以后， 就会弹出 samba 这个界面， 再进到我的电脑， 这里我们就会发现， 网络位置这里多了一个盘符（Z） ， 如下图所示。<br><img alt="" height="302" src="https://images2.imgbox.com/8b/12/DWOLiekW_o.png" width="545"></p> 
<p>我们进入到这个盘符， 就进入到了 ubuntu 的/home/test 这个文件夹里， 比如说我在这个盘符里面创建一个 .c 文件， 如下图所示。<br>  <img alt="" height="162" src="https://images2.imgbox.com/95/61/noYwoVpm_o.png" width="550"></p> 
<p>然后我打开 ubuntu ， 我进入到 samba ， 同样就在这个路径下看到 .c 文件了。 如下图所示。<br><img alt="" height="91" src="https://images2.imgbox.com/a2/a7/y14GAyDU_o.png" width="708">比如说我现在想修改 samba.c 这个文件， 我就直接可以在指定的磁盘里面， 使用 win 上的编辑软件，比如说 notepad++ ， 我打开这个.c 文件 ， 在这里面写上一些代码， 比如说写上 hello 然后保存， 如下图所示。<br>  <img alt="" height="218" src="https://images2.imgbox.com/96/83/pZ6ryhav_o.png" width="714"></p> 
<p>在 ubuntu 使用 vi 打开 samba ， 可以看到这里被修改为 hello 了， 我们这里显示的是只读， 如下图所示。 如果我们想在 ubuntu 上修改这个 .c 文件， 还要使用管理员权限来执行。</p> 
<p><img alt="" height="379" src="https://images2.imgbox.com/21/65/orDTBcmz_o.png" width="632"><br> 使用 samba 我们也可以实现 win 和 ubuntu 互传文件， 经常和 tftp 软件搭配着来用， 比如说我们要拷贝的文件在 ubuntu 上的路径比较深比较长， 我们就可以使用 tftp 软件来实行， 如果说这个路径不深， 就在我们的根目录下或者家目录下， 我们就可以直接使用 samba 来传， 这两个软件并不是互相排斥的， tftp 软件是我们开发必备的软件， 而 samba 是提升我们开发体验的软件。 这两个软件是互相配合的。<br>  如果这里大家搭建完了之后， 仍不能访问我们的 samba ， 大家要检查下我们的网络配置， 我们可以打开控制面板， 点击程序。 如下图所示。</p> 
<p> <img alt="" height="280" src="https://images2.imgbox.com/ec/18/5eaneLiU_o.png" width="674"></p> 
<p>点击启用或关闭 windows 功能。 如下图所示。<br><img alt="" height="228" src="https://images2.imgbox.com/a4/e3/khTZqJw2_o.png" width="718">我的电脑是 windows10 的电脑， windows7 的电脑也可以参考这样设置， 然后选择启用或关闭 windows功能， 看一下里边的 SMB1.0 有没有被勾选和 SMB 直通有没有被勾选， 这两个一定要保证勾选上， 我们也要保证 ubuntu 和 windows 使用 ping 命令 ping 通的， 大家参考之前搭建 tftp 命令就可以了。 如下图所示。<br>  <img alt="" height="295" src="https://images2.imgbox.com/35/81/zCYSyKEY_o.png" width="297"></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b75ba73c0dddf9ce6e19b2d4acadf2b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">开发工具IEDA的使用技巧</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/640b0df67d3e32477007ba8514b4bcae/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">docker嵌入式开发(七)docker安装qt</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>