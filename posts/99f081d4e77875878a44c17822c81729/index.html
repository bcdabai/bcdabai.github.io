<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>dubbo安装及使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="dubbo安装及使用" />
<meta property="og:description" content="dubbo安装及使用 （新手笔记，存在错误还请指正）
尚硅谷dubbo
dubbo的github地址
dubbo官方文档
dubbo使用 dubbo安装及使用dubbo和zookeeper的关系zookeeper安装dubbo快速入门概念环境搭建引入dubbo 监控中心安装与springboot整合dubbo配置dubbo高可用 dubbo和zookeeper的关系 dubbo和zookeeper的关系
zookeeper安装 zookpper安装
dubbo快速入门 概念 Dubbo是一款高性能、轻量级的开源Java RPC框架，它提供了三大核心能力:面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。（rpc的两个核心模块即：通讯，序列化。）
设计架构：
环境搭建 一、打开zookeeper
二、安装dubbo-admin管理控制台
dubbo本身并不是一个服务软件。它其实就是一个jar包能够帮你的java程序连接到zookeeper，并利用zookeeper消费、提供服务。所以不用在Linux上启动什么dubbo服务。
但是为了让用户更好的管理监控众多的dubbo服务，官方提供了一个可视化的监控程序，不过这个监控即使不装也不影响使用。
下载地址：
dubbo-admin
进入目录，修改dubbo-admin配置：
修改 src\main\resources\application.properties 指定zookeeper地址
打包dubbo-admin,cmd中运行：
mvn clean package -Dmaven.test.skip=true 运行dubbo-admin
java -jar dubbo-admin-0.0.1-SNAPSHOT.jar 在浏览器中访问localhost:7001即可访问管理页面（用户名密码均为root）
三、创建工程
需求：
某个电商系统，订单服务需要调用用户服务获取某个用户的所有地址;我们现在需要创建两个服务模块。
订单服务web模块：创建订单等 用户服务web模块：查询用户地址等 实现：两个模块在不同的服务器并且A可以远程调用B的功能。
1、服务提供者
定义一个实体bean，和一个服务提供service
public class UserAddress implements Serializable { private Integer id; private String userAddress; private String userId; private String consignee; private String phoneNum; private String isDefault; public UserAddress() { super(); } public UserAddress(Integer id, String userAddress, String userId, String consignee, String phoneNum, String isDefault) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/99f081d4e77875878a44c17822c81729/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-21T22:33:46+08:00" />
<meta property="article:modified_time" content="2023-03-21T22:33:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">dubbo安装及使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="dubbo_0"></a>dubbo安装及使用</h2> 
<p>（<strong>新手笔记，存在错误还请指正</strong>）</p> 
<p><a href="https://www.bilibili.com/video/BV1ns411c7jV/?p=3&amp;spm_id_from=pageDriver&amp;vd_source=cbe683bfc6c904306ba7c836db82208e" rel="nofollow"><strong>尚硅谷dubbo</strong></a></p> 
<p><a href="https://github.com/apache/dubbo-spring-boot-project">dubbo的github地址</a><br> <a href="https://dubbo.apache.org/" rel="nofollow">dubbo官方文档</a></p> 
<p></p> 
<div class="toc"> 
 <h4>dubbo使用</h4> 
 <ul><li><a href="#dubbo_0" rel="nofollow">dubbo安装及使用</a></li><li><ul><li><a href="#dubbozookeeper_10" rel="nofollow">dubbo和zookeeper的关系</a></li><li><a href="#zookeeper_12" rel="nofollow">zookeeper安装</a></li><li><a href="#dubbo_14" rel="nofollow">dubbo快速入门</a></li><li><ul><li><a href="#_15" rel="nofollow">概念</a></li><li><a href="#_19" rel="nofollow">环境搭建</a></li><li><ul><li><a href="#dubbo_188" rel="nofollow">引入dubbo</a></li></ul> 
    </li><li><a href="#_296" rel="nofollow">监控中心安装</a></li><li><a href="#springboot_326" rel="nofollow">与springboot整合</a></li><li><a href="#dubbo_445" rel="nofollow">dubbo配置</a></li><li><a href="#dubbo_448" rel="nofollow">dubbo高可用</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="dubbozookeeper_10"></a>dubbo和zookeeper的关系</h3> 
<p><a href="https://blog.csdn.net/web15185420056/article/details/123888689?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167247075016800182172000%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=167247075016800182172000&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-123888689-null-null.142%5Ev68%5Econtrol,201%5Ev4%5Eadd_ask,213%5Ev2%5Et3_control1&amp;utm_term=dubbo%E5%92%8Czookeeper%E7%9A%84%E5%85%B3%E7%B3%BB&amp;spm=1018.2226.3001.4187">dubbo和zookeeper的关系</a></p> 
<h3><a id="zookeeper_12"></a>zookeeper安装</h3> 
<p><a href="https://lebron.blog.csdn.net/article/details/119155262" rel="nofollow">zookpper安装</a></p> 
<h3><a id="dubbo_14"></a>dubbo快速入门</h3> 
<h4><a id="_15"></a>概念</h4> 
<p>Dubbo是一款高性能、轻量级的开源Java RPC框架，它提供了三大核心能力:面向接口的远程方法调用，智能容错和负载均衡，以及服务自动注册和发现。（rpc的两个核心模块即：通讯，序列化。）<br> 设计架构：<br> <img src="https://images2.imgbox.com/cc/fb/dpgLJnmr_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_19"></a>环境搭建</h4> 
<p>一、打开zookeeper<br> 二、安装dubbo-admin管理控制台<br> dubbo本身并不是一个服务软件。它其实就是一个jar包能够帮你的java程序连接到zookeeper，并利用zookeeper消费、提供服务。所以不用在Linux上启动什么dubbo服务。<br> 但是为了让用户更好的管理监控众多的dubbo服务，官方提供了一个可视化的监控程序，不过这个监控即使不装也不影响使用。<br> 下载地址：<br> <a href="https://github.com/apache/incubator-dubbo-ops">dubbo-admin</a><br> 进入目录，修改dubbo-admin配置：<br> 修改 src\main\resources\application.properties 指定zookeeper地址<br> <img src="https://images2.imgbox.com/9c/f8/VvgrzjQD_o.png" alt="在这里插入图片描述"><br> 打包dubbo-admin,cmd中运行：</p> 
<pre><code>mvn clean package -Dmaven.test.skip=true 
</code></pre> 
<p>运行dubbo-admin</p> 
<pre><code>java -jar dubbo-admin-0.0.1-SNAPSHOT.jar
</code></pre> 
<p>在浏览器中访问localhost:7001即可访问管理页面（用户名密码均为root）<br> 三、创建工程<br> 需求：<br> 某个电商系统，订单服务需要调用用户服务获取某个用户的所有地址;我们现在需要创建两个服务模块。</p> 
<pre><code>订单服务web模块：创建订单等
用户服务web模块：查询用户地址等
</code></pre> 
<p>实现：两个模块在不同的服务器并且A可以远程调用B的功能。<br> 1、服务提供者<br> <img src="https://images2.imgbox.com/ba/37/H8zrbkSi_o.png" alt="在这里插入图片描述"><br> 定义一个实体bean，和一个服务提供service</p> 
<pre><code>
public class UserAddress implements Serializable {
    private Integer id;
    private String userAddress;
    private String userId;
    private String consignee;
    private String phoneNum;
    private String isDefault;

    public UserAddress() {
        super();
    }

    public UserAddress(Integer id, String userAddress, String userId, String consignee, String phoneNum, String isDefault) {
        this.id = id;
        this.userAddress = userAddress;
        this.userId = userId;
        this.consignee = consignee;
        this.phoneNum = phoneNum;
        this.isDefault = isDefault;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getUserAddress() {
        return userAddress;
    }

    public void setUserAddress(String userAddress) {
        this.userAddress = userAddress;
    }

    public String getUserId() {
        return userId;
    }

    public void setUserId(String userId) {
        this.userId = userId;
    }

    public String getConsignee() {
        return consignee;
    }

    public void setConsignee(String consignee) {
        this.consignee = consignee;
    }

    public String getPhoneNum() {
        return phoneNum;
    }

    public void setPhoneNum(String phoneNum) {
        this.phoneNum = phoneNum;
    }

    public String getIsDefault() {
        return isDefault;
    }

    public void setIsDefault(String isDefault) {
        this.isDefault = isDefault;
    }

    @Override
    public String toString() {
        return "UserAddress{" +
                "id=" + id +
                ", userAddress='" + userAddress + '\'' +
                ", userId='" + userId + '\'' +
                ", consignee='" + consignee + '\'' +
                ", phoneNum='" + phoneNum + '\'' +
                ", isDefault='" + isDefault + '\'' +
                '}';
    }
}

</code></pre> 
<pre><code>public class UserServiceImpl implements UserService {
    @Override
    public List&lt;UserAddress&gt; getUserAddressList(String userId) {
        System.out.println("UserServiceImpl.....old...");
        // TODO Auto-generated method stub
        UserAddress address1 = new UserAddress(1, "北京市昌平区宏福科技园综合楼3层", "1", "李老师", "010-56253825", "Y");
        UserAddress address2 = new UserAddress(2, "深圳市宝安区西部硅谷大厦B座3层（深圳分校）", "1", "王老师", "010-56253825", "N");
        return Arrays.asList(address1,address2);
    }
}
</code></pre> 
<p>2、服务消费者</p> 
<p>加入同样的bean实体和一个订单service</p> 
<pre><code>public class OrderServiceImpl implements OrderService {
	UserService userService;
	@Override
	public List&lt;UserAddress&gt; initOrder(String userId) {
		// TODO Auto-generated method stub
		System.out.println("用户id："+userId);
		//1、查询用户的收货地址
		List&lt;UserAddress&gt; addressList = userService.getUserAddressList(userId);
		for (UserAddress userAddress : addressList) {
			System.out.println(userAddress.getUserAddress());
		}
		return addressList;
	}
	
}

</code></pre> 
<p>但userservice和订单service在不同的工程中，这时就需要用到dubbo.</p> 
<p><strong>工程架构</strong><br> 1、分包<br> 建议将服务接口，服务模型，服务异常等均放在 API 包中，因为服务模型及异常也是 API 的一部分，同时，这样做也符合分包原则：重用发布等价原则(REP)，共同重用原则(CRP)。<br> 如果需要，也可以考虑在 API 包中放置一份 spring 的引用配置，这样使用方便，只需在 spring 加载过程中引用此配置即可，配置建议放在模块的包目录下，以免冲突，如：com/alibaba/china/xxx/dubbo-reference.xml。<br> 2、粒度<br> 服务接口尽可能大粒度，每个服务方法应代表一个功能，而不是某功能的一个步骤，否则将面临分布式事务问题，Dubbo 暂未提供分布式事务支持。<br> 服务接口建议以业务场景为单位划分，并对相近业务做抽象，防止接口数量爆炸。<br> 不建议使用过于抽象的通用接口，如：Map query(Map)，这样的接口没有明确语义，会给后期维护带来不便。<br> <strong>创建公共接口工程</strong><br> 创建公共接口工程，将上述bean和功能接口复制进去，将服务者和消费者的bean和service接口删掉：<br> <img src="https://images2.imgbox.com/12/40/lOhqa1AG_o.png" alt="在这里插入图片描述"><br> 在consumer和provider中引入公共接口依赖：</p> 
<pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;org.example&lt;/groupId&gt;
        &lt;artifactId&gt;gmall-interface&lt;/artifactId&gt;
        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre> 
<h5><a id="dubbo_188"></a>引入dubbo</h5> 
<p>为了使订单service可以成功实现远程调用用户service，需要使用dubbo进行改造。<br> 步骤：</p> 
<pre><code>1、将服务提供者注册到注册中心（暴露服务）
	1）、导入dubbo依赖（2.6.2）\操作zookeeper的客户端(curator)
	2）、配置服务提供者
 
2、让服务消费者去注册中心订阅服务提供者的服务地址
</code></pre> 
<p>首先在服务和消费模块引入依赖：</p> 
<pre><code>        &lt;!--Dubbo的起步依赖，版本2.7之后统一为rg.apache.dubb --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
            &lt;version&gt;2.6.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!--ZooKeeper客户端实现 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
            &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;
            &lt;version&gt;2.12.0&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre> 
<p>服务端provider.xml配置</p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://code.alibabatech.com/schema/dubbo
       http://code.alibabatech.com/schema/dubbo/dubbo.xsd
       "&gt;

&lt;!--    配置提供者--&gt;
    &lt;!--当前应用/服务的名字（同样的服务名字相同，不要和别的服务同名）  --&gt;
    &lt;dubbo:application name="user-service-provider"&gt;&lt;/dubbo:application&gt;
    &lt;!--指定注册中心的地址  --&gt;
    &lt;dubbo:registry address="zookeeper://127.0.0.1:2181" /&gt;
    &lt;!--使用dubbo协议，将服务暴露在20880端口  --&gt;
    &lt;dubbo:protocol name="dubbo" port="20880" /&gt;
    &lt;!-- 指定需要暴露的服务 ref:指向服务的真正实现对象--&gt;
    &lt;dubbo:service interface="com.atguigu.gmall.service.UserService" ref="userServiceImpl" /&gt;
    &lt;bean id="userServiceImpl" class="com.atguigu.gmail.service.impl.UserServiceImpl"&gt;&lt;/bean&gt;
    
&lt;/beans&gt;
</code></pre> 
<p>服务端consumer.xml配置</p> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://code.alibabatech.com/schema/dubbo
       http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd"&gt;
    &lt;context:component-scan base-package="com.atguigu.gmall.service.impl"&gt;&lt;/context:component-scan&gt;
    &lt;!-- 应用名 --&gt;
    &lt;dubbo:application name="order-service-consumer"&gt;&lt;/dubbo:application&gt;
    &lt;!-- 指定注册中心地址 --&gt;
    &lt;dubbo:registry address="zookeeper://127.0.0.1:2181" &gt;&lt;/dubbo:registry&gt;
    &lt;!-- 声明需要调用的远程服务的接口:生成远程服务代理，可以和本地bean一样使用demoService --&gt;
    &lt;dubbo:reference id="userService" interface="com.atguigu.gmall.service.UserService"&gt;&lt;/dubbo:reference&gt;

&lt;/beans&gt;
</code></pre> 
<p>在orderServiceImpl中给其加上@Service注解，将给userservice上加@Autowired注解注入容器。<br> 启动服务</p> 
<pre><code>//服务端
public class MainApplication {
    public static void main(String[] args) throws IOException {
        ClassPathXmlApplicationContext context =
                new ClassPathXmlApplicationContext("classpath:provider.xml");
        context.start();
        System.in.read();
    }
}

</code></pre> 
<pre><code>//消费端
public class MainApplication {
    @SuppressWarnings("resource")
    public static void main(String[] args) throws IOException {
        ClassPathXmlApplicationContext context =
                new ClassPathXmlApplicationContext("classpath:consumer.xml");
        OrderService order = context.getBean(OrderService.class);
        order.initOrder("1");
                System.in.read();

    }

}

</code></pre> 
<p>两个应用启动成功后在dubbo admin管理页面就可以看到相应的信息。</p> 
<p>访问initOrder请求，会调用UserService获取用户地址；<br> 调用成功。说明我们order已经可以调用远程的UserService了；</p> 
<h4><a id="_296"></a>监控中心安装</h4> 
<p>前面安装过的dubbo-admin是图形化的服务管理页面；安装时需要指定注册中心地址，即可从注册中心中获取到所有的提供者/消费者进行配置管理。</p> 
<p><strong>dubbo-monitor-simple</strong>是一个简单的监控中心；<br> 安装步骤：<br> 安装<br> 1、下载 dubbo-ops<br> <a href="https://github.com/apache/incubator-dubbo-ops">ops</a><br> 2、修改配置指定注册中心地址<br> 进入 dubbo-monitor-simple\src\main\resources\conf<br> 修改 dubbo.properties文件<br> <img src="https://images2.imgbox.com/bd/2c/rEOORsNz_o.png" alt="在这里插入图片描述"></p> 
<p>3、打包dubbo-monitor-simple</p> 
<pre><code>mvn clean package -Dmaven.test.skip=true
</code></pre> 
<p>4、解压 tar.gz 文件，并运行dubbo-monitor-simple-2.0.0中bin目录下的start.bat<br> <img src="https://images2.imgbox.com/ae/4a/Ec9q5LsZ_o.png" alt="在这里插入图片描述"></p> 
<p>如果缺少servlet-api，自行导入servlet-api再访问监控中心</p> 
<p>访问8080端口：<br> <img src="https://images2.imgbox.com/9f/93/daIS3yMB_o.png" alt="在这里插入图片描述">在consumer.xml和provider.xml中配置监控中心</p> 
<pre><code>&lt;!--    所有服务配置连接监控中心，进行监控统计--&gt;
    &lt;!-- 监控中心协议，如果为protocol="registry"，表示从注册中心发现监控中心地址，否则直连监控中心 --&gt;
    &lt;dubbo:monitor protocol="registry"&gt;&lt;/dubbo:monitor&gt;
</code></pre> 
<h4><a id="springboot_326"></a>与springboot整合</h4> 
<p>新建springboot的provider和consumer项目,将service实现复制进去，同样的将gmall-interface通用接口的依赖导入两个应用中。</p> 
<p><strong>引入dubbo和curator的依赖</strong><br> 在两个应用中引入依赖，注意springboot和dubbo的版本要适配。</p> 
<pre><code>&lt;!--    我的是springboot2.6.7--&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;
           &lt;artifactId&gt;dubbo-spring-boot-starter&lt;/artifactId&gt;
           &lt;version&gt;2.7.8&lt;/version&gt;
       &lt;/dependency&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
           &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;
           &lt;version&gt;4.3.0&lt;/version&gt;
       &lt;/dependency&gt;

       &lt;dependency&gt;
           &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
           &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt;
           &lt;version&gt;4.3.0&lt;/version&gt;
       &lt;/dependency&gt;
       &lt;dependency&gt;
           &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
           &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
           &lt;version&gt;3.4.9&lt;/version&gt;
           &lt;exclusions&gt;
               &lt;exclusion&gt;
                   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
                   &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
               &lt;/exclusion&gt;
           &lt;/exclusions&gt;
       &lt;/dependency&gt;
</code></pre> 
<p>properties文件配置：</p> 
<pre><code>提供者配置：
dubbo.application.name=boot-user-service-provider
dubbo.registry.protocol=zookeeper
dubbo.registry.address=127.0.0.1:2181
dubbo.scan.base-package=com.atguigu.gmall #配置包扫描规则，开启了的话基于不用配置@EnableDubbo了
dubbo.protocol.name=dubbo
dubbo.protocol.port=20880
dubbo.monitor.protocol=registry
#application.name就是服务名，不能跟别的dubbo提供端重复
#registry.protocol 是指定注册中心协议
#registry.address 是注册中心的地址加端口号
#protocol.name 是分布式固定是dubbo,不要改。
#base-package  注解方式要扫描的包
消费者配置：
server.port=8081  #和监控中心端口号重叠，改一下
dubbo.application.name=boot-order-service-consumer
dubbo.registry.protocol=zookeeper
dubbo.registry.address=127.0.0.1:2181
dubbo.scan.base-package=com.atguigu.gmall
dubbo.protocol.name=dubbo
dubbo.monitor.protocol=registry
</code></pre> 
<p>在要暴露的提供者服务上加上dubbo的@service注解</p> 
<pre><code>import org.apache.dubbo.config.annotation.DubboService;
@DubboService //暴露服务
@Component
public class UserServiceImpl implements UserService {

   @Override
   public List&lt;UserAddress&gt; getUserAddressList(String userId) {
   ......
   }
</code></pre> 
<p>在消费者服务中引入远程调用service注解</p> 
<pre><code>@Service
public class OrderServiceImpl implements OrderService {

  //@Autowired
   @DubboReference
  UserService userService;
  ......
  }
</code></pre> 
<p>在两个应用中要开启dubbo功能</p> 
<pre><code>@EnableDubbo //开启基于注解的dubbo功能
@SpringBootApplication
public class BootOrderServiceConsumerApplication {

    public static void main(String[] args) {
        SpringApplication.run(BootOrderServiceConsumerApplication.class, args);
    }

}
</code></pre> 
<p>在消费者服务中增加controller层</p> 
<pre><code>@Controller
public class OrderController {
	
	@Autowired
	OrderService orderService;
	
	@ResponseBody
	@RequestMapping("/initOrder")
	public List&lt;UserAddress&gt; initOrder(@RequestParam("uid")String userId) {
		return orderService.initOrder(userId);
	}

}

</code></pre> 
<p>访问如下地址</p> 
<pre><code>//随便带上一个uid
http://localhost:8081/initOrder?uid=1
</code></pre> 
<p>访问成功：<br> <img src="https://images2.imgbox.com/d5/53/ouheV66R_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="dubbo_445"></a>dubbo配置</h4> 
<p>可以看我整理的另一篇文章：<br> <a href="https://blog.csdn.net/sashaSloan/article/details/128517448?spm=1001.2014.3001.5501">dubbo配置</a></p> 
<h4><a id="dubbo_448"></a>dubbo高可用</h4> 
<p>文章地址：<br> <a href="https://blog.csdn.net/sashaSloan/article/details/128522410?spm=1001.2014.3001.5501"> dubbo高可用</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f15e4cfaa3e0281d07c29dc0e8ff78fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">element使main主内容区域撑满高度</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/451c40e1e2dc1abc4b427016606dd08d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MongoDB数据批量更新语句</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>