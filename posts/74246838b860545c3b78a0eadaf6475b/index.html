<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【JavaSE】JDBC封装（JDBC&#43;Druid&#43;Template） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【JavaSE】JDBC封装（JDBC&#43;Druid&#43;Template）" />
<meta property="og:description" content="文章目录 JDBC工具类JDBC的练习：从数据库中查询用户练习二：PreparedStatementJDBC工具类（放置更多操作给外部）JDBC配置文件 JDBC Template(数据库连接池)（Druid）JDBCＵｔｉｌｓ　（Druid）配置文件 Spring JDBC （Java DataBase Connectivity）
JDBC是定义了一套数据库的接口，他可以用统一的一套Java代码来操作数据库
JDBC怎么操作它？里面有几个常用的方法， 第一个是连接方法，还有的就是关闭方法，连接方法包括了加载驱动，建立连接，创建载体，关闭方法又包括了关闭返回集合，关闭载体，关闭连接查询语句，得到一条sql语句，然后我们可以对他进行查询。返回一个array list集合。（其中我们有用到result set meta data进行封装结果集）最后我们就可以得到这个集合，再封装成array list集合返回给调用的函数。还有一个就是update。方法update方法是对数据库进行一个更新的操作，也就是修改 我们需要知道以下步骤：
Class.forName(“com.mysql.jdbc.Driver”);Connection conn = DriverManager.getConnection(“jdbc:mysql://localhost:3306/数据库名”, “数据库用户名”, “数据库密码”);String sql = “update 表名 set 字段 = 字段值 where id = 1”;Statement stmt = Connection对象.createStatement();int count = Statement对象.executeUpdate(sql);Statement对象.close();/Connection对象.close();释放资源 JDBC工具类 public class JDBCTools { private String url = &#34;jdbc:mysql://localhost:3308/hzyc98&#34;; private String username = &#34;root&#34;; private String userpassword = &#34;mysql&#34;; private Connection conn; private Statement stmt; private ResultSet reSet; //连接的封装方法 private void connect() { try { Class." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/74246838b860545c3b78a0eadaf6475b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-04T16:11:53+08:00" />
<meta property="article:modified_time" content="2021-03-04T16:11:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JavaSE】JDBC封装（JDBC&#43;Druid&#43;Template）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#JDBC_19" rel="nofollow">JDBC工具类</a></li><li><ul><li><a href="#JDBC_91" rel="nofollow">JDBC的练习：从数据库中查询用户</a></li><li><a href="#PreparedStatement_129" rel="nofollow">练习二：PreparedStatement</a></li><li><a href="#JDBC_178" rel="nofollow">JDBC工具类（放置更多操作给外部）</a></li><li><ul><li><a href="#JDBC_277" rel="nofollow">JDBC配置文件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#JDBC_TemplateDruid_290" rel="nofollow">JDBC Template(数据库连接池)（Druid）</a></li><li><ul><li><a href="#JDBC%E3%80%80Druid_294" rel="nofollow">JDBCＵｔｉｌｓ　（Druid）</a></li><li><ul><li><a href="#_359" rel="nofollow">配置文件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Spring_JDBC_371" rel="nofollow">Spring JDBC</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>（Java DataBase Connectivity）<br> JDBC是定义了一套数据库的接口，他可以用统一的一套Java代码来操作数据库</p> 
</blockquote> 
<ul><li>JDBC怎么操作它？里面有几个常用的方法， 
  <ul><li>第一个是连接方法，还有的就是关闭方法，连接方法包括了加载驱动，建立连接，创建载体，</li><li>关闭方法又包括了关闭返回集合，关闭载体，关闭连接</li><li>查询语句，得到一条sql语句，然后我们可以对他进行查询。返回一个array list集合。（其中我们有用到result set meta data进行封装结果集）</li><li>最后我们就可以得到这个集合，再封装成array list集合返回给调用的函数。</li><li>还有一个就是update。方法update方法是对数据库进行一个更新的操作，也就是修改</li></ul> </li></ul> 
<p>我们需要知道以下步骤：</p> 
<ol><li>Class.forName(“com.mysql.jdbc.Driver”);</li><li>Connection conn = DriverManager.getConnection(“jdbc:mysql://localhost:3306/数据库名”, “数据库用户名”, “数据库密码”);</li><li>String sql = “update 表名 set 字段 = 字段值 where id = 1”;</li><li>Statement stmt = Connection对象.createStatement();</li><li>int count = Statement对象.executeUpdate(sql);</li><li>Statement对象.close();/Connection对象.close();释放资源</li></ol> 
<h2><a id="JDBC_19"></a>JDBC工具类</h2> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCTools</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3308/hzyc98"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> userpassword <span class="token operator">=</span> <span class="token string">"mysql"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Connection</span> conn<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Statement</span> stmt<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ResultSet</span> reSet<span class="token punctuation">;</span>

    <span class="token comment">//连接的封装方法</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> userpassword<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 操作查询语句，查询到该表之后返回一个集合
     * 返回一个类型为：ArrayList&lt;Map&lt;String, String&gt;&gt;的集合
     * 一条List代表着一行语句，这一行语句由Map，也就是表头和内容所组成
     *
     * @param sql 一条SQL语句，（select语句）
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> rsList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            rsList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            reSet <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//获取结果集</span>
            <span class="token class-name">ResultSetMetaData</span> rsmd <span class="token operator">=</span> reSet<span class="token punctuation">.</span><span class="token function">getMetaData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//一个reSet就是火车列表的一行数据。</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>reSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> reSetMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> c <span class="token operator">&lt;=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> c<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token class-name">String</span> columeName <span class="token operator">=</span> rsmd<span class="token punctuation">.</span><span class="token function">getColumnName</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">String</span> value <span class="token operator">=</span> reSet<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>columeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    reSetMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>columeName<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                rsList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>reSetMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> rsList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//更新数据库，使用stmt载体</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>这种方法比较万能，不是将他封装成一个固定的对象，而是将他封装成为一个万能的集合。</p> 
<h3><a id="JDBC_91"></a>JDBC的练习：从数据库中查询用户</h3> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> class 练习{

    <span class="token keyword">public</span> static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> {
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> new JDBCutil<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>findAll<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> findAll<span class="token punctuation">(</span><span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user"</span><span class="token punctuation">;</span>
        Connection conn <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        Statement stmt <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        ResultSet rs <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        try {
            conn <span class="token operator">=</span> JDBCUtils<span class="token punctuation">.</span>getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stmt <span class="token operator">=</span> conn<span class="token punctuation">.</span>createStatement<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> stmt<span class="token punctuation">.</span>executeQuery<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">User</span> u<span class="token punctuation">;</span>
            list <span class="token operator">=</span> new ArrayList<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token keyword">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
                u <span class="token operator">=</span> new <span class="token keyword">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setId<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setUname<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setPwd<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                list<span class="token punctuation">.</span><span class="token keyword">add</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        } catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> {
            e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        } finally {
            JDBCUtils<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span>stmt<span class="token punctuation">,</span>conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        }
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    }
}
</code></pre> 
<h3><a id="PreparedStatement_129"></a>练习二：PreparedStatement</h3> 
<p>解决<strong>sql注入问题</strong>：</p> 
<blockquote> 
 <p>引入PreparedStatement<br> set设置参数 使得sql执行的效率更高。</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> class JDBCutil {

    <span class="token keyword">public</span> static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws SQLException {
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> new JDBCutil<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>findAll<span class="token punctuation">(</span><span class="token string">"23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> findAll<span class="token punctuation">(</span>String id<span class="token punctuation">)</span> throws SQLException {
        Connection conn <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        Statement stmt <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        ResultSet rs <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
        PreparedStatement pstmt<span class="token punctuation">;</span>
        try {
            conn <span class="token operator">=</span> JDBCUtils<span class="token punctuation">.</span>getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user where id = ?"</span><span class="token punctuation">;</span>
            pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span>prepareStatement<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pstmt<span class="token punctuation">.</span>setString<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//            stmt = conn.createStatement();</span>
            rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span>executeQuery<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">User</span> u<span class="token punctuation">;</span>
            list <span class="token operator">=</span> new ArrayList<span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token keyword">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> {
                u <span class="token operator">=</span> new <span class="token keyword">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setId<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setUname<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                u<span class="token punctuation">.</span>setPwd<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                list<span class="token punctuation">.</span><span class="token keyword">add</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
            System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        } catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> {
            e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        } finally {
            JDBCUtils<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span> stmt<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
        }
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    }
}
</code></pre> 
<h3><a id="JDBC_178"></a>JDBC工具类（放置更多操作给外部）</h3> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> class JDBCUtils {
    private static String url<span class="token punctuation">;</span>
    private static String <span class="token keyword">user</span><span class="token punctuation">;</span>
    private static String password<span class="token punctuation">;</span>
    private static String dirver<span class="token punctuation">;</span>

    <span class="token comment">/*
     * 静态代码块用来加载jdbc中的配置文件
     * */</span>
    static {
        try {
<span class="token comment">//          Properties集合类</span>
            Properties pro <span class="token operator">=</span> new Properties<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//获取src路径下的文件的方式---&gt;ClassLoader 类加载器</span>
            ClassLoader classLoader <span class="token operator">=</span> JDBCUtils<span class="token punctuation">.</span>class<span class="token punctuation">.</span>getClassLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            URL res <span class="token operator">=</span> classLoader<span class="token punctuation">.</span>getResource<span class="token punctuation">(</span><span class="token string">"jdbc.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String path <span class="token operator">=</span> res<span class="token punctuation">.</span>getPath<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            pro<span class="token punctuation">.</span><span class="token keyword">load</span><span class="token punctuation">(</span>new FileReader<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            url <span class="token operator">=</span> pro<span class="token punctuation">.</span>getProperty<span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">user</span> <span class="token operator">=</span> pro<span class="token punctuation">.</span>getProperty<span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            password <span class="token operator">=</span> pro<span class="token punctuation">.</span>getProperty<span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dirver <span class="token operator">=</span> pro<span class="token punctuation">.</span>getProperty<span class="token punctuation">(</span><span class="token string">"driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Class<span class="token punctuation">.</span>forName<span class="token punctuation">(</span>dirver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        } catch <span class="token punctuation">(</span>IOException <span class="token operator">|</span> ClassNotFoundException e<span class="token punctuation">)</span> {
            e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        }
    }

    <span class="token comment">/**
     * 释放资源
     *
     * @param stmt
     * @param conn
     */</span>
    <span class="token keyword">public</span> static void <span class="token keyword">close</span><span class="token punctuation">(</span>Statement stmt<span class="token punctuation">,</span> Connection conn<span class="token punctuation">)</span> {
        <span class="token keyword">if</span> <span class="token punctuation">(</span>stmt <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                stmt<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }

        <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                conn<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }
    }

    <span class="token comment">/**
     * 释放资源
     *
     * @param stmt
     * @param conn
     */</span>
    <span class="token keyword">public</span> static void <span class="token keyword">close</span><span class="token punctuation">(</span>ResultSet rs<span class="token punctuation">,</span> Statement stmt<span class="token punctuation">,</span> Connection conn<span class="token punctuation">)</span> {
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                rs<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }

        <span class="token keyword">if</span> <span class="token punctuation">(</span>stmt <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                stmt<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }

        <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                conn<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }
    }

    <span class="token comment">/**
     * 获取连接
     *
     * @return 连接对象
     */</span>
    <span class="token keyword">public</span> static Connection getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span> throws SQLException {
        <span class="token keyword">return</span> DriverManager<span class="token punctuation">.</span>getConnection<span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token keyword">user</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }
}

</code></pre> 
<h4><a id="JDBC_277"></a>JDBC配置文件</h4> 
<pre><code class="prism language-sql">url<span class="token operator">=</span>jdbc:mysql:<span class="token comment">//localhost:3308/test</span>
<span class="token keyword">user</span><span class="token operator">=</span>root
password<span class="token operator">=</span>mysql
driver<span class="token operator">=</span>com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>Driver
</code></pre> 
<h2><a id="JDBC_TemplateDruid_290"></a>JDBC Template(数据库连接池)（Druid）</h2> 
<blockquote> 
 <p>使用Druid+配置文件替代JDBC工具类</p> 
</blockquote> 
<h3><a id="JDBC%E3%80%80Druid_294"></a>JDBCＵｔｉｌｓ　（Druid）</h3> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> class JDBCUtils {
    private static DataSource ds<span class="token punctuation">;</span>

    static {
        try {
            <span class="token comment">//1.加载配置文件</span>
            Properties pro <span class="token operator">=</span> new Properties<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            pro<span class="token punctuation">.</span><span class="token keyword">load</span><span class="token punctuation">(</span>JDBCUtils<span class="token punctuation">.</span>class<span class="token punctuation">.</span>getClassLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getResourceAsStream<span class="token punctuation">(</span><span class="token string">"druid.properties"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2.获取DataSource(获取连接池对象)</span>
            ds <span class="token operator">=</span> DruidDataSourceFactory<span class="token punctuation">.</span>createDataSource<span class="token punctuation">(</span>pro<span class="token punctuation">)</span><span class="token punctuation">;</span>
        } catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> {
            e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        }
    }

    <span class="token comment">/**
     * 获取连接
     */</span>
    <span class="token keyword">public</span> static Connection getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span> throws SQLException {
        <span class="token keyword">return</span> ds<span class="token punctuation">.</span>getConnection<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token comment">/**
     * 释放资源
     */</span>
    <span class="token keyword">public</span> static void <span class="token keyword">close</span><span class="token punctuation">(</span>PreparedStatement stmt<span class="token punctuation">,</span> Connection conn<span class="token punctuation">)</span> {
        <span class="token keyword">close</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> stmt<span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> static void <span class="token keyword">close</span><span class="token punctuation">(</span>ResultSet rs<span class="token punctuation">,</span> PreparedStatement stmt<span class="token punctuation">,</span> Connection conn<span class="token punctuation">)</span> {
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                rs<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }
        <span class="token keyword">if</span> <span class="token punctuation">(</span>stmt <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                stmt<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token boolean">null</span><span class="token punctuation">)</span> {
            try {
                conn<span class="token punctuation">.</span><span class="token keyword">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//归还连接</span>
            } catch <span class="token punctuation">(</span>SQLException e<span class="token punctuation">)</span> {
                e<span class="token punctuation">.</span>printStackTrace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            }
        }
    }

    <span class="token comment">/**
     * 获取连接池方法
     */</span>
    <span class="token keyword">public</span> static DataSource getDataSource<span class="token punctuation">(</span><span class="token punctuation">)</span> {
        <span class="token keyword">return</span> ds<span class="token punctuation">;</span>
    }
}

</code></pre> 
<h4><a id="_359"></a>配置文件</h4> 
<pre><code class="prism language-sql">driverClassName<span class="token operator">=</span>com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>Driver
url<span class="token operator">=</span>jdbc:mysql:<span class="token comment">//localhost:3308/test</span>
username<span class="token operator">=</span>root
password<span class="token operator">=</span>mysql
<span class="token comment">#初始个数</span>
initialSize<span class="token operator">=</span><span class="token number">5</span>
maxActive<span class="token operator">=</span><span class="token number">10</span>
maxWait<span class="token operator">=</span><span class="token number">3000</span>
</code></pre> 
<h2><a id="Spring_JDBC_371"></a>Spring JDBC</h2> 
<blockquote> 
 <p>Spring JDBC是简化了对类的封装，简化了很多不必要的操作，就是Druid+配置文件+Spring JDBC完成对数据库的简单封装。<br> 通过创建JdbcTemplate对象。依赖于DataSource 连接池：{ JdbcTemplate template = new JdbcTemplate(ds);}</p> 
</blockquote> 
<p>Spring提供的JDBC简单封装</p> 
<ul><li>使用的方法 : 
  <ul><li>update():执行DML语句。增、删、改语句</li><li>queryForMap():查询结果将结果集封装为map集合，将列名作为key，将值作为value 将这条记录封装为一个map集合</li><li>queryForList():查询结果将结果集封装为list集合</li><li>query():查询结果，将结果封装为JavaBean对象</li><li>queryForObject：查询结果，将结果封装为对象</li></ul> </li></ul> 
<blockquote> 
 <p>有几个好处：<br> 简化语句，封装程度更搞！<br> 可以将查询结果封装为指定的对象。<br> 需要注意的是：<br> 需要提前配置好JDK，一般这个Spring JDBC只能在Java1.8以上使用，否则会报错：org/springframework/boot/SpringApplication : Unsupported major.minor version 52.0</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">public</span> class template {
    private JdbcTemplate template <span class="token operator">=</span> new JdbcTemplate<span class="token punctuation">(</span>JDBCUtils<span class="token punctuation">.</span>getDataSource<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> void updatePwd<span class="token punctuation">(</span>String id<span class="token punctuation">,</span> String newPwd<span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"update user set password = ? where id = ?"</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token keyword">update</span><span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> newPwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> void <span class="token keyword">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"insert into user(username,password) values (?,?)"</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token keyword">update</span><span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> <span class="token string">"23"</span><span class="token punctuation">,</span> <span class="token string">"2323"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> void <span class="token keyword">delete</span><span class="token punctuation">(</span>String id<span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"delete from user where id = ?"</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token keyword">update</span><span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> void queryForMap<span class="token punctuation">(</span><span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user where id = ? or id = ?"</span><span class="token punctuation">;</span>
        Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> map <span class="token operator">=</span> template<span class="token punctuation">.</span>queryForMap<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> <span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token string">"12"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span> queryForList<span class="token punctuation">(</span><span class="token punctuation">)</span> {
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user"</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;&gt;</span> list <span class="token operator">=</span> template<span class="token punctuation">.</span>queryForList<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        for (Map&lt;String, Object&gt; stringObjectMap : list) {<!-- --></span>
<span class="token comment">//            System.out.println(stringObjectMap);</span>
<span class="token comment">//        }</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> queryForList_User<span class="token punctuation">(</span><span class="token punctuation">)</span>{
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user"</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> template<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> new RowMapper<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {

            <span class="token keyword">public</span> <span class="token keyword">User</span> mapRow<span class="token punctuation">(</span>ResultSet rs<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> throws SQLException {
                <span class="token keyword">User</span> <span class="token keyword">user</span> <span class="token operator">=</span> new <span class="token keyword">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">user</span><span class="token punctuation">.</span>setId<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">user</span><span class="token punctuation">.</span>setUname<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">user</span><span class="token punctuation">.</span>setPwd<span class="token punctuation">(</span>rs<span class="token punctuation">.</span>getString<span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
            }
        }<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        for (User ele : list) {<!-- --></span>
<span class="token comment">//            System.out.println(ele);</span>
<span class="token comment">//        }</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    }


    <span class="token keyword">public</span> List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> queryForList_User_2<span class="token punctuation">(</span><span class="token punctuation">)</span>{
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select * from user"</span><span class="token punctuation">;</span>
        List<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span> list <span class="token operator">=</span> template<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> new BeanPropertyRowMapper<span class="token operator">&lt;</span><span class="token keyword">User</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">User</span><span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        for (User ele : list) {<!-- --></span>
<span class="token comment">//            System.out.println(ele);</span>
<span class="token comment">//        }</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    }

    <span class="token keyword">public</span> void checkCount<span class="token punctuation">(</span><span class="token punctuation">)</span>{
        String <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"select count(*) from user"</span><span class="token punctuation">;</span>
        Long total <span class="token operator">=</span> template<span class="token punctuation">.</span>queryForObject<span class="token punctuation">(</span><span class="token keyword">sql</span><span class="token punctuation">,</span> Long<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token keyword">out</span><span class="token punctuation">.</span>println<span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
    }

}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e9dd3abb48d0c1852564a7ec2f9c108/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[Unity]Project视图收藏夹、缩放视图不见</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/460a9f1cb973a156fc673a872740eecc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pytorch--DataLoader的collate_fn参数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>