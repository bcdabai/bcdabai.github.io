<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>webpack 以及 git - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="webpack 以及 git" />
<meta property="og:description" content="要求有若干个logo图标， 在一块区域进行展示， 要求每行固定展示五个并且间距要均匀 ，不得直接设置width，
js闭包的理解
节流就是闭包
比如百度搜索 ，如果每次用户键入信息都调用api接口 ，合理吗， 如何优化，
了解webpack吗? 说说什么是code spilt，
let和const，
react要放弃哪些生命周期? 为什么?
componentWillMount
componentWillUpdate
componentsWillRecieveProps
试想，假如你在 componentWillxxx 里发起了一个付款请求。由于 render 阶段里的生命周期都可以重复执行，在 componentWillxxx 被打断 &#43; 重启多次后，就会发出多个付款请求。
比如说，这件商品单价只要 10 块钱，用户也只点击了一次付款。但实际却可能因为 componentWillxxx 被打断 &#43; 重启多次而多次调用付款接口，最终付了 50 块钱；又或者你可能会习惯在 componentWillReceiveProps 里操作 DOM（比如说删除符合某个特征的元素），那么 componentWillReceiveProps 若是执行了两次，你可能就会一口气删掉两个符合该特征的元素。
react setState何时为同步 何时为异步(或者说如何让它同步产生结果)，https://blog.51cto.com/u_15127495/2662267
用过umi或者dva吗 ，它给你原生使用redux带来的不同在于什么? 用过mobx吗 说说他和redux的异同，
说说你都会做哪些方面的优化， 简述一下webSocket …
https://blog.csdn.net/weixin_40746230/article/details/125195436 https://mp.weixin.qq.com/s?__biz=MjM5MDA2MTI1MA==&amp;mid=2649112452&amp;idx=3&amp;sn=29e5901263eae442e1829be1220d266a&amp;chksm=be581829892f913f930b5c6a5d7c31f335dfd919b93545bdd1e06c18f5413d220f1882401f04&amp;scene=27
查看所有分支简化的提交历史记录git reflog
git reset --hard
git branch查看分支
创建并切换分支git checkout -b 分支名称
git branch -d 分支名称 删除分支" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7cf4084018a8153bbf4cd1982c828c24/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-12T10:45:06+08:00" />
<meta property="article:modified_time" content="2023-01-12T10:45:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">webpack 以及 git</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <ol><li> <p>要求有若干个logo图标， 在一块区域进行展示， 要求每行固定展示五个并且间距要均匀 ，不得直接设置width，</p> </li><li> <p>js闭包的理解<br> 节流就是闭包</p> </li><li> <p>比如百度搜索 ，如果每次用户键入信息都调用api接口 ，合理吗， 如何优化，</p> </li><li> <p>了解webpack吗? 说说什么是code spilt，</p> </li><li> <p>let和const，</p> </li><li> <p>react要放弃哪些生命周期? 为什么?<br> componentWillMount<br> componentWillUpdate<br> componentsWillRecieveProps<br> 试想，假如你在 componentWillxxx 里发起了一个付款请求。由于 render 阶段里的生命周期都可以重复执行，在 componentWillxxx 被打断 + 重启多次后，就会发出多个付款请求。<br> 比如说，这件商品单价只要 10 块钱，用户也只点击了一次付款。但实际却可能因为 componentWillxxx 被打断 + 重启多次而多次调用付款接口，最终付了 50 块钱；又或者你可能会习惯在 componentWillReceiveProps 里操作 DOM（比如说删除符合某个特征的元素），那么 componentWillReceiveProps 若是执行了两次，你可能就会一口气删掉两个符合该特征的元素。</p> </li><li> <p>react setState何时为同步 何时为异步(或者说如何让它同步产生结果)，https://blog.51cto.com/u_15127495/2662267<br> <img src="https://images2.imgbox.com/5e/bc/t195ecmW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/61/9a/yKvmchfL_o.png" alt="在这里插入图片描述"></p> </li><li> 
  <ol start="8"><li>用过umi或者dva吗 ，它给你原生使用redux带来的不同在于什么?</li></ol> </li><li> 
  <ol start="9"><li>用过mobx吗 说说他和redux的异同，<br> <img src="https://images2.imgbox.com/20/3a/LNQcyuDX_o.png" alt="在这里插入图片描述"></li></ol> </li><li> 
  <ol start="10"><li>说说你都会做哪些方面的优化，</li></ol> </li><li> 
  <ol start="11"><li>简述一下webSocket</li></ol> </li><li><li> 
  <ol start="12"><li>…<br> <img src="https://images2.imgbox.com/bf/39/etQn91h5_o.png" alt="在这里插入图片描述"><br> https://blog.csdn.net/weixin_40746230/article/details/125195436</li></ol> </li></ol> 
<p><img src="https://images2.imgbox.com/36/49/sHZeYlbK_o.png" alt="在这里插入图片描述"></p> 
<p>https://mp.weixin.qq.com/s?__biz=MjM5MDA2MTI1MA==&amp;mid=2649112452&amp;idx=3&amp;sn=29e5901263eae442e1829be1220d266a&amp;chksm=be581829892f913f930b5c6a5d7c31f335dfd919b93545bdd1e06c18f5413d220f1882401f04&amp;scene=27<br> <img src="https://images2.imgbox.com/e1/da/VvHs21xY_o.png" alt="在这里插入图片描述"></p> 
<p>查看所有分支简化的提交历史记录git reflog<br> git reset --hard<br> git branch查看分支<br> 创建并切换分支git checkout -b 分支名称<br> git branch -d 分支名称 删除分支<br> git remote add origin 地址 添加远程地址<br> git fetch只是将远程仓库的最新的版本下载到本地，但是不会自动merge,相当于工作区中的文件并没有更新<br> git pull会从远程仓库获取到最新的版本并merge到本地。<br> <img src="https://images2.imgbox.com/41/57/mSkwA32P_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/1a/03/zOtiDOXg_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2b/d1/ij3N8EPa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a3/9c/RjrGbIIG_o.png" alt="在这里插入图片描述"><br> https://blog.csdn.net/weixin_53509920/article/details/120359395</p> 
<p>打包代码时会将所有 js 文件打包到一个文件中，体积太大了。我们如果只要渲染首页，就应该只加载首页的 js 文件，其他文件不应该加载。</p> 
<p>所以我们需要将打包生成的文件进行代码分割，生成多个 js 文件，渲染哪个页面就只加载某个 js 文件，这样加载的资源就少，速度就更快。</p> 
<p>代码分割（Code Split）主要做了两件事：</p> 
<ol><li>分割文件：将打包生成的文件进行分割，生成多个 js 文件。</li><li>按需加载：需要哪个文件就加载哪个文件。</li></ol> 
<p>新建文件</p> 
<p>├── public<br> ├── src<br> | ├── app.js<br> | └── main.js<br> ├── package.json<br> └── webpack.config.js</p> 
<p>webpack.config.js 配置</p> 
<p>const path = require(‘path’);<br> const HtmlWebpackPlugin = require(“html-webpack-plugin”);</p> 
<p>module.exports = {<!-- --><br> // 单入口<br> // entry: ‘./src/main.js’,<br> // 多入口<br> entry:{<!-- --><br> main: ‘./src/main.js’,<br> app: ‘./src/app.js’,<br> },<br> output: {<!-- --><br> path: path.resolve(__dirname, “dist”),<br> // [name]是webpack命名规则，使用chunk的name作为输出的文件名。<br> // 什么是chunk？打包的资源就是chunk，输出出去叫bundle。<br> // chunk的name是啥呢？<br> //比如： entry中xxx: “./src/xxx.js”, name就是xxx。注意是前面的xxx，和文件名无关。<br> // 为什么需要这样命名呢？如果还是之前写法main.js，那么打包生成两个js文件都会叫做main.js会发生覆盖。(实际上会直接报错的)<br> filename: “[name].js”,<br> // clear: true,<br> },<br> plugins: [<br> new HtmlWebpackPlugin({<!-- --><br> template:path.resolve(__dirname,“public/index.html”),<br> }),<br> ],<br> mode: “production”,<br> };<br> 下载依賴</p> 
<p>npm init -y 生成 package.json</p> 
<p>npm i webpack webpack-cli html-webpack-plugin -D 生成node包 html-webpack-plugin 插件</p> 
<p>打包 npx webpack</p> 
<p>多入口使用同一段代码 优化 // 代码分割配置 splitChunks<br> const path = require(‘path’);<br> const HtmlWebpackPlugin = require(“html-webpack-plugin”);</p> 
<p>module.exports = {<!-- --><br> // 单入口<br> // entry: ‘./src/main.js’,<br> // 多入口<br> entry:{<!-- --><br> main: ‘./src/main.js’,<br> app: ‘./src/app.js’,<br> },<br> output: {<!-- --><br> path: path.resolve(__dirname, “dist”),<br> // [name]是webpack命名规则，使用chunk的name作为输出的文件名。<br> // 什么是chunk？打包的资源就是chunk，输出出去叫bundle。<br> // chunk的name是啥呢？<br> //比如： entry中xxx: “./src/xxx.js”, name就是xxx。注意是前面的xxx，和文件名无关。<br> // 为什么需要这样命名呢？如果还是之前写法main.js，那么打包生成两个js文件都会叫做main.js会发生覆盖。(实际上会直接报错的)<br> filename: “[name].js”,<br> // clear: true,<br> },<br> plugins: [<br> new HtmlWebpackPlugin({<!-- --><br> template:path.resolve(__dirname,“public/index.html”),<br> }),<br> ],<br> mode: “production”,<br> optimization: {<!-- --><br> // 代码分割配置<br> splitChunks: {<!-- --><br> chunks: “all”, // 对所有模块都进行分割<br> // 以下是默认值<br> // minSize: 20000, // 分割代码最小的大小<br> // minRemainingSize: 0, // 类似于minSize，最后确保提取的文件大小不能为0<br> // minChunks: 1, // 至少被引用的次数，满足条件才会代码分割<br> // maxAsyncRequests: 30, // 按需加载时并行加载的文件的最大数量<br> // maxInitialRequests: 30, // 入口js文件最大并行请求数量<br> // enforceSizeThreshold: 50000, // 超过50kb一定会单独打包（此时会忽略minRemainingSize、maxAsyncRequests、maxInitialRequests）<br> // cacheGroups: { // 组，哪些模块要打包到一个组<br> // defaultVendors: { // 组名<br> // test: /[\/]node_modules[\/]/, // 需要打包到一起的模块<br> // priority: -10, // 权重（越大越高）<br> // reuseExistingChunk: true, // 如果当前 chunk 包含已从主 bundle 中拆分出的模块，则它将被重用，而不是生成新的模块<br> // },<br> // default: { // 其`他没有写的配置会使用上面的默认值<br> // minChunks: 2, // 这里的minChunks权重更大<br> // priority: -20,<br> // reuseExistingChunk: true,<br> // },<br> // },<br> // 修改配置<br> cacheGroups: {<!-- --><br> // 组，哪些模块要打包到一个组<br> // defaultVendors: { // 组名<br> // test: /[\/]node_modules[\/]/, // 需要打包到一起的模块<br> // priority: -10, // 权重（越大越高）<br> // reuseExistingChunk: true, // 如果当前 chunk 包含已从主 bundle 中拆分出的模块，则它将被重用，而不是生成新的模块<br> // },<br> default: {<!-- --><br> // 其他没有写的配置会使用上面的默认值<br> minSize: 0, // 我们定义的文件体积太小了，所以要改打包的最小文件体积<br> minChunks: 2,<br> priority: -20,<br> reuseExistingChunk: true,<br> },<br> },<br> },<br> },<br> };<br> 按需加载动态导入<br> 如果有一些初始加载用不上的资源 就不需要一上来就加载</p> 
<ol><li>修改文件</li></ol> 
<ul><li>main.js</li></ul> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./math.js'</span><span class="token punctuation">;</span>
<span class="token comment">// import count from "./count.js";</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello main"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// document.getElementById('btn').οnclick=function(){<!-- --></span>
<span class="token comment">// 	console.log(count(2,1));</span>
<span class="token comment">// };</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	  <span class="token comment">// 动态导入 --&gt; 实现按需加载</span>
	  <span class="token comment">// 即使只被引用了一次，也会代码分割</span>
	<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./count'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'模块动态加载成功'</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'模块加载失败'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>app.js</li></ul> 
<pre><code class="prism language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>public/index.html</li></ul> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Code Split<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>hello webpack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>计算<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-count.js">export default function count(x,y){
	return x-y;
	
}
单入口
开发时我们可能是单页面应用（SPA），只有一个入口（单入口）。那么我们需要这样配置：

js/math.js
 
export function mul(...args){
	 return args.reduce((p,c)=&gt;p+c,0);
}
import count  from "./js/count.js";
import sum from "./js/sum.js";
//要想webpack打包资源必须引入该资源
import "./css/iconfont.css";
import "./css/index.css";
import "./less/index.less";
import "./sass/index.sass";
import "./sass/test1.scss";
import "./styl/index.styl";
const result=count(2,1);
console.log(result);
console.log(sum(1,2,3,4));
 
document.getElementById("btn").οnclick=function(){
	  // eslint会对动态导入语法报错，需要修改eslint配置文件
	  // webpackChunkName: "math"：这是webpack动态导入模块命名的方式
	import(/*webpackChunkName: "math"*/"./js/math").then(({mul})=&gt;{
		 console.log(mul(3,3));
	});
}
 
 
if(module.hot){
	
	//判断是否支持热模块 替换功能
	module.hot.accept("./js/count.js");
	module.hot.accept("./js/sum.js");
}
 eslint会对动态导入语法报错，需要修改eslint配置文件

module.exports = {
  // 继承 Eslint 规则
  extends: ["eslint:recommended"],
  env: {
    node: true, // 启用node中全局变量
    browser: true, // 启用浏览器中全局变量
  },
  parserOptions: {
    ecmaVersion: 6, //es6
    sourceType: "module", //es module
  },
  rules: {
    "no-var": 2, // 不能使用 var 定义变量
  },
  plugins:["import"],//解決动态导入语法报错
};
打包生成带数字文件名 修改文件名 精准定位 文件  原单入口   webpack.prod.js 配置

module.exports = {
...
  output: {
    path: path.resolve(__dirname, "../dist"), // 生产模式需要输出
    filename: "static/js/main.js", // 将 js 文件输出到 static/js 目录中
	chunkFilename:'static/js/[name].js', //打包输出的其他文件命名
    clean: true,
  },
....
}
CodeSplit 统一命名  图片 JS  样式 命名
const os = require("os");
const path = require("path");
const ESLintWebpackPlugin = require("eslint-webpack-plugin");
const HtmlWebpackPlugin = require("html-webpack-plugin");
const MiniCssExtractPlugin = require("mini-css-extract-plugin");
const CssMinimizerPlugin = require("css-minimizer-webpack-plugin");
const TerserPlugin = require("terser-webpack-plugin");
const ImageMinimizerPlugin = require("image-minimizer-webpack-plugin");
 
// cpu核数
const threads = os.cpus().length;
 
// 获取处理样式的Loaders
const getStyleLoaders = (preProcessor) =&gt; {
  return [
    MiniCssExtractPlugin.loader,
    "css-loader",
    {
      loader: "postcss-loader",
      options: {
        postcssOptions: {
          plugins: [
            "postcss-preset-env", // 能解决大多数样式兼容性问题
          ],
        },
      },
    },
    preProcessor,
  ].filter(Boolean);
};
 
module.exports = {
  entry: "./src/main.js", //相对路径
  output: {
	  //所有文件输出路径
	  //__dirname node.js 的变量，代表当前文件夹的目录
    path: path.resolve(__dirname, "../dist"), // 绝对路径
	// 入口文件打包输出文件名
    filename: "static/js/[name].js", 
	//打包输出的其他文件命名
	chunkFilename:'static/js/[name].chunk.js', 
	//图片 字体等通过type:asset处理资源命名
	assetModuleFilename:"static/media/[hash:8][ext][query]",
	//自动清空上次打包内容
	//原理:在打包前，将path整个目录清空，再进行打包
    clean: true,
  },
  module: {
    rules: [
      {
        oneOf: [
          {
            // 用来匹配 .css 结尾的文件
            test: /\.css$/,
            // use 数组里面 Loader 执行顺序是从右到左
            use: getStyleLoaders(),
          },
          {
            test: /\.less$/,
            use: getStyleLoaders("less-loader"),
          },
          {
            test: /\.s[ac]ss$/,
            use: getStyleLoaders("sass-loader"),
          },
          {
            test: /\.styl$/,
            use: getStyleLoaders("stylus-loader"),
          },
          {
            test: /\.(png|jpe?g|gif|svg)$/,
            type: "asset",
            parser: {
              dataUrlCondition: {
                maxSize: 10 * 1024, // 小于10kb的图片会被base64处理
              },
            },
            // generator: {
            //   // 将图片文件输出到 static/imgs 目录中
            //   // 将图片文件命名 [hash:8][ext][query]
            //   // [hash:8]: hash值取8位
            //   // [ext]: 使用之前的文件扩展名
            //   // [query]: 添加之前的query参数
            //   filename: "static/imgs/[hash:8][ext][query]",
            // },
          },
          {
            test: /\.(ttf|woff2?|mp3|mp4|avi)$/,
            type: "asset/resource",
			//复用
            // generator: {
            //   filename: "static/media/[hash:8][ext][query]",
            // },
          },
          {
            test: /\.js$/,
            // exclude: /node_modules/, // 排除node_modules代码不编译
            include: path.resolve(__dirname, "../src"), // 也可以用包含
            use: [
              {
                loader: "thread-loader", // 开启多进程
                options: {
                  workers: threads, // 数量
                },
              },
              {
                loader: "babel-loader",
                options: {
                  cacheDirectory: true, // 开启babel编译缓存
                  cacheCompression: false, // 缓存文件不要压缩
                  plugins: ["@babel/plugin-transform-runtime"], // 减少代码体积
                },
              },
            ],
          },
        ],
      },
    ],
  },
  plugins: [
    new ESLintWebpackPlugin({
      // 指定检查文件的根目录
      context: path.resolve(__dirname, "../src"),
      exclude: "node_modules", // 默认值
      cache: true, // 开启缓存
      // 缓存目录
      cacheLocation: path.resolve(
        __dirname,
        "../node_modules/.cache/.eslintcache"
      ),
      threads, // 开启多进程
    }),
    new HtmlWebpackPlugin({
      // 以 public/index.html 为模板创建文件
      // 新的html文件有两个特点：1. 内容和源文件一致 2. 自动引入打包生成的js等资源
      template: path.resolve(__dirname, "../public/index.html"),
    }),
    // 提取css成单独文件
    new MiniCssExtractPlugin({
      // 定义输出文件名和目录
      filename: "static/css/[name].css",
	  chunkFilename:"static/css/[name].chunk.css", //动态导入的CSS命名
    }),
    // css压缩
    // new CssMinimizerPlugin(),
  ],
  optimization: {
    minimizer: [
      // css压缩也可以写到optimization.minimizer里面，效果一样的
      new CssMinimizerPlugin(),
      // 当生产模式会默认开启TerserPlugin，但是我们需要进行其他配置，就要重新写了
      new TerserPlugin({
        parallel: threads, // 开启多进程
      }),
      // 压缩图片
      new ImageMinimizerPlugin({
        minimizer: {
          implementation: ImageMinimizerPlugin.imageminGenerate,
          options: {
            plugins: [
              ["gifsicle", { interlaced: true }],
              ["jpegtran", { progressive: true }],
              ["optipng", { optimizationLevel: 5 }],
              [
                "svgo",
                {
                  plugins: [
                    "preset-default",
                    "prefixIds",
                    {
                      name: "sortAttrs",
                      params: {
                        xmlnsOrder: "alphabetical",
                      },
                    },
                  ],
                },
              ],
            ],
          },
        },
      }),
    ],
    // 代码分割配置
    splitChunks: {
      chunks: "all", // 对所有模块都进行分割
      // 其他内容用默认配置即可
    },
  },
  // devServer: {
  //   host: "localhost", // 启动服务器域名
  //   port: "3000", // 启动服务器端口号
  //   open: true, // 是否自动打开浏览器
  // },
  mode: "production",
  devtool: "source-map",

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/29f15e8185dce41d1f36c22b76810c25/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">根据pom.xml文件下载依赖</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d5a4c5ae8647f64fc88a364cde1ed7e9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python的23种设计模式(完整版带源码实例)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>