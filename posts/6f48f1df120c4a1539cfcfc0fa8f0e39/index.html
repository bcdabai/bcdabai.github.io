<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SSM整合：spring层，springMVC层-P17，18 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SSM整合：spring层，springMVC层-P17，18" />
<meta property="og:description" content="applicationContext.xml：（将三个层的配置文件整合到一个xml里面）
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&#34;&gt; &lt;import resource=&#34;spring-dao.xml&#34;/&gt; &lt;import resource=&#34;spring-service.xml&#34;/&gt; &lt;import resource=&#34;spring-mvc.xml&#34;/&gt; &lt;/beans&gt; database.properties：（数据库连接配置文件）
jdbc.driver=com.mysql.cj.jdbc.Driver jdbc.url=jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai jdbc.username=root jdbc.password=123456 spring-dao.xml：（相当于用spring来配置mybatis）
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xmlns:context=&#34;http://www.springframework.org/schema/context&#34; xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&#34;&gt; &lt;!-- 配置整合mybatis --&gt; &lt;!-- 1.关联数据库文件 --&gt; &lt;context:property-placeholder location=&#34;classpath:database.properties&#34;/&gt; &lt;!-- 2.数据库连接池 --&gt; &lt;!--数据库连接池 dbcp 半自动化操作 不能自动连接 c3p0 自动化操作（自动的加载配置文件 并且设置到对象里面） --&gt; &lt;bean id=&#34;dataSource&#34; class=&#34;com.mchange.v2.c3p0.ComboPooledDataSource&#34;&gt; &lt;!-- 配置连接池属性 --&gt; &lt;property name=&#34;driverClass&#34; value=&#34;${jdbc.driver}&#34;/&gt; &lt;property name=&#34;jdbcUrl&#34; value=&#34;${jdbc.url}&#34;/&gt; &lt;property name=&#34;user&#34; value=&#34;${jdbc.username}&#34;/&gt; &lt;property name=&#34;password&#34; value=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6f48f1df120c4a1539cfcfc0fa8f0e39/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-11T22:31:58+08:00" />
<meta property="article:modified_time" content="2022-12-11T22:31:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SSM整合：spring层，springMVC层-P17，18</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="761" src="https://images2.imgbox.com/87/95/ialoM5d3_o.png" width="452"></p> 
<p>applicationContext.xml：（将三个层的配置文件整合到一个xml里面）</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;

    &lt;import resource="spring-dao.xml"/&gt;
    &lt;import resource="spring-service.xml"/&gt;
    &lt;import resource="spring-mvc.xml"/&gt;



&lt;/beans&gt;</code></pre> 
<p>database.properties：（数据库连接配置文件）</p> 
<pre><code class="language-XML">jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/ssmbuild?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai
jdbc.username=root
jdbc.password=123456</code></pre> 
<p>spring-dao.xml：（相当于用spring来配置mybatis）</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       https://www.springframework.org/schema/context/spring-context.xsd"&gt;

    &lt;!-- 配置整合mybatis --&gt;
    &lt;!-- 1.关联数据库文件 --&gt;
    &lt;context:property-placeholder location="classpath:database.properties"/&gt;

    &lt;!-- 2.数据库连接池 --&gt;
    &lt;!--数据库连接池
        dbcp 半自动化操作 不能自动连接
        c3p0 自动化操作（自动的加载配置文件 并且设置到对象里面）
    --&gt;
    &lt;bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"&gt;
        &lt;!-- 配置连接池属性 --&gt;
        &lt;property name="driverClass" value="${jdbc.driver}"/&gt;
        &lt;property name="jdbcUrl" value="${jdbc.url}"/&gt;
        &lt;property name="user" value="${jdbc.username}"/&gt;
        &lt;property name="password" value="${jdbc.password}"/&gt;

        &lt;!--以下4个property内容是锦上添花，可以不写--&gt;
        &lt;!-- c3p0连接池的私有属性 --&gt;
        &lt;property name="maxPoolSize" value="30"/&gt;
        &lt;property name="minPoolSize" value="10"/&gt;
        &lt;!-- 关闭连接后不自动commit --&gt;
        &lt;property name="autoCommitOnClose" value="false"/&gt;
        &lt;!-- 获取连接超时时间 --&gt;
        &lt;property name="checkoutTimeout" value="10000"/&gt;
        &lt;!-- 当获取连接失败重试次数 --&gt;
        &lt;property name="acquireRetryAttempts" value="2"/&gt;
    &lt;/bean&gt;

    &lt;!-- 3.配置SqlSessionFactory对象 --&gt;
    &lt;bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;
        &lt;!-- 注入数据库连接池 --&gt;
        &lt;property name="dataSource" ref="dataSource"/&gt;
        &lt;!-- 配置MyBaties全局配置文件:mybatis-config.xml --&gt;
        &lt;property name="configLocation" value="classpath:mybatis-config.xml"/&gt;
    &lt;/bean&gt;

    &lt;!-- 4.配置扫描Dao接口包，动态实现Dao接口注入到spring容器中 也就是dao层原先的impl接口实现类--&gt;
    &lt;!--解释 ：https://www.cnblogs.com/jpfss/p/7799806.html--&gt;
    &lt;bean class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt;
        &lt;!-- 注入sqlSessionFactory --&gt;
        &lt;property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"/&gt;
        &lt;!-- 给出需要扫描Dao接口包 --&gt;
        &lt;property name="basePackage" value="com.Li.dao"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</code></pre> 
<p>spring-mvc.xml：（MVC的内容）</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd
   http://www.springframework.org/schema/mvc
   https://www.springframework.org/schema/mvc/spring-mvc.xsd"&gt;

    &lt;!-- 1.注解驱动 --&gt;
    &lt;mvc:annotation-driven /&gt;
    &lt;!-- 2.静态资源过滤--&gt;
    &lt;mvc:default-servlet-handler/&gt;

    &lt;!-- 3..扫描包：controller --&gt;
    &lt;context:component-scan base-package="com.Li.controller" /&gt;

    &lt;!-- 4.视图解析器 --&gt;
    &lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
        &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView" /&gt;
        &lt;property name="prefix" value="/WEB-INF/jsp/" /&gt;
        &lt;property name="suffix" value=".jsp" /&gt;
    &lt;/bean&gt;



&lt;/beans&gt;</code></pre> 
<p>spring-service.xml：（spring的内容，通过注解开发，编写业务）</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd"&gt;

    &lt;!--1。 扫描service下的包 --&gt;
    &lt;context:component-scan base-package="com.Li.service" /&gt;

    &lt;!--2. 将我们的业务类注入到spring，可以通过配置，也可以注解实现--&gt;
    &lt;bean id="BookServiceImpl" class="com.Li.service.BookServiceImpl"&gt;
        &lt;property name="bookMapper" ref="bookMapper"/&gt;
    &lt;/bean&gt;

    &lt;!--3. 声明式事务配置（也就是自动提交） --&gt;
    &lt;bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;
        &lt;!-- 注入数据源 --&gt;
        &lt;property name="dataSource" ref="dataSource" /&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</code></pre> 
<p>web.xml：（MVC核心DispatcherServlet）</p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0"&gt;

    &lt;!--1. 配置DispatcherServlet--&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
            &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    &lt;!--2. 乱码过滤--&gt;
    &lt;filter&gt;
        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;encoding&lt;/param-name&gt;
            &lt;param-value&gt;utf-8&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;


    &lt;!--Session过期时间,15分钟（可选操作，不是必须要写的）--&gt;
    &lt;session-config&gt;
        &lt;session-timeout&gt;15&lt;/session-timeout&gt;
    &lt;/session-config&gt;
&lt;/web-app&gt;</code></pre> 
<p></p> 
<p>这些都是准备工作。接下来要实现增删改查的具体内容了。</p> 
<p></p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/59857cbdcd6038c3781fd61936931292/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Javaweb安全——Weblogic反序列化漏洞(一)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6949e3bf2ce17babe51a3045e230618c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio中默认Botton的颜色(学习笔记）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>