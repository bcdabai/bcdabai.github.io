<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>YOLOv5 æ¨¡å‹ç»“æ„åŠä»£ç è¯¦ç»†è®²è§£ï¼ˆä¸€ï¼‰ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="YOLOv5 æ¨¡å‹ç»“æ„åŠä»£ç è¯¦ç»†è®²è§£ï¼ˆä¸€ï¼‰" />
<meta property="og:description" content="ç‹æ—­*ï¼Œæ²ˆå•¸å½¬Â *, å¼ é’Š*
(æ·®åŒ—å¸ˆèŒƒå¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢ï¼Œæ·®åŒ—å¸ˆèŒƒå¤§å­¦ç»æµä¸ç®¡ç†å­¦é™¢ï¼Œå®‰å¾½ æ·®åŒ—)
*These authors contributed to the work equllly and should be regarded as co-first authors.
ğŸŒæ¬¢è¿æ¥åˆ°æ·±åº¦å­¦ä¹ çš„ä¸–ç•ŒÂ ğŸŒˆåšå®¢ä¸»é¡µï¼šå¿äº‘é˜
ğŸ’Œæ¬¢è¿å…³æ³¨ğŸ‰ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“
ğŸŒŸæœ¬æ–‡ç”±å¿äº‘é˜åŸåˆ›ï¼
ğŸŒ æœ¬é˜¶æ®µå±äºç»ƒæ°”é˜¶æ®µï¼Œå¸Œæœ›å„ä½ä»™å‹é¡ºåˆ©å®Œæˆçªç ´
ğŸ“†é¦–å‘æ—¶é—´ï¼šğŸŒ¹2022å¹´12æœˆ6æ—¥ğŸŒ¹
âœ‰ï¸å¸Œæœ›å¯ä»¥å’Œå¤§å®¶ä¸€èµ·å®Œæˆè¿›é˜¶ä¹‹è·¯ï¼
ğŸ™ä½œè€…æ°´å¹³å¾ˆæœ‰é™ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œè¯·ç•™è¨€è½°ç‚¸å“¦ï¼ä¸‡åˆ†æ„Ÿè°¢ï¼
ç›®å½•
ğŸˆ é…ç½®æ–‡ä»¶
backboneé…ç½®æ–‡ä»¶
â€‹ç¼–è¾‘
ğŸŠæ„æˆçš„å…ƒç´ 
Conv ---CBA(convolution, batch normalization, activation)
å…³äºSiLU--sigmoid linear unit
SPP(Spatial Pyramid Pooling)/SPPF(Spatial Pyramid Pooling Fast)ç»“æ„
C3 -- cross stage partial network with 3 convolutions
ğŸ‹é¡¹ç›®ç»“æ„
ğŸˆ é…ç½®æ–‡ä»¶ åœ¨yolov5ä¸­æœ‰å¥½å‡ ç§å¾—é…ç½®æ–‡ä»¶ï¼Œè¿™å‡ ç§é…ç½®æ–‡ä»¶åªæœ‰ä¸‹é¢çš„ä¸¤ä¸ªå‚æ•°ä¸åŒï¼Œå…¶å®ƒéƒ¨åˆ†éƒ½ç›¸åŒè¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä¸ºäº†æ§åˆ¶æ¨¡å‹å¤§å°çš„ã€‚ä¸‹é¢ä»¥yolov5l.yamlä¸ºä¾‹
depth_multiple: 1.0 # model depth multiple width_multiple: 1.0 # layer channel multiple ç¬¬ä¸€éƒ¨åˆ†ï¼š" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/70b1a7e259ed6e4d27167ad93df44b51/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-06T18:45:22+08:00" />
<meta property="article:modified_time" content="2022-12-06T18:45:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">YOLOv5 æ¨¡å‹ç»“æ„åŠä»£ç è¯¦ç»†è®²è§£ï¼ˆä¸€ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p style="text-align:center;"><strong>ç‹æ—­*ï¼Œæ²ˆå•¸å½¬Â *, å¼ é’Š*</strong></p> 
 <p style="text-align:center;"><strong>(æ·®åŒ—å¸ˆèŒƒå¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢ï¼Œæ·®åŒ—å¸ˆèŒƒå¤§å­¦ç»æµä¸ç®¡ç†å­¦é™¢ï¼Œå®‰å¾½ æ·®åŒ—)</strong></p> 
 <p style="text-align:center;"><strong>*These authors contributed to the work equllly and should be regarded as co-first authors.</strong><br> Â </p> 
</blockquote> 
<blockquote> 
 <p>ğŸŒæ¬¢è¿æ¥åˆ°æ·±åº¦å­¦ä¹ çš„ä¸–ç•ŒÂ <br> ğŸŒˆåšå®¢ä¸»é¡µï¼š<a class="link-info" href="https://blog.csdn.net/zzqingyun?spm=1011.2415.3001.5343" title="å¿äº‘é˜">å¿äº‘é˜</a></p> 
 <p>ğŸ’Œæ¬¢è¿å…³æ³¨ğŸ‰ç‚¹èµğŸ‘æ”¶è—â­ï¸ç•™è¨€ğŸ“</p> 
 <p>ğŸŒŸæœ¬æ–‡ç”±å¿äº‘é˜åŸåˆ›ï¼</p> 
 <p>ğŸŒ æœ¬é˜¶æ®µå±äºç»ƒæ°”é˜¶æ®µï¼Œå¸Œæœ›å„ä½ä»™å‹é¡ºåˆ©å®Œæˆçªç ´</p> 
 <p>ğŸ“†é¦–å‘æ—¶é—´ï¼šğŸŒ¹2022å¹´12æœˆ6æ—¥ğŸŒ¹</p> 
 <p>âœ‰ï¸å¸Œæœ›å¯ä»¥å’Œå¤§å®¶ä¸€èµ·å®Œæˆè¿›é˜¶ä¹‹è·¯ï¼</p> 
 <p>ğŸ™ä½œè€…æ°´å¹³å¾ˆæœ‰é™ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œè¯·ç•™è¨€è½°ç‚¸å“¦ï¼ä¸‡åˆ†æ„Ÿè°¢ï¼</p> 
 <hr> 
 <p id="main-toc"><strong>ç›®å½•</strong></p> 
 <p id="%F0%9F%8D%88%20%E4%B8%80%E3%80%81Jupyter%20Notebook%E7%9A%84%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%88%20%E4%B8%80%E3%80%81Jupyter%20Notebook%E7%9A%84%E4%BB%8B%E7%BB%8D" rel="nofollow">ğŸˆ é…ç½®æ–‡ä»¶</a></p> 
 <p id="h_563598234_5-toc" style="margin-left:80px;"><a href="#h_563598234_5" rel="nofollow">backboneé…ç½®æ–‡ä»¶</a></p> 
 <p id="h_563598234_6-toc" style="margin-left:80px;"><a href="#h_563598234_6" rel="nofollow">â€‹ç¼–è¾‘</a></p> 
 <p id="%F0%9F%8D%8A%E4%B8%89%EF%BC%8Cjupyter%20notebook%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BD%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%8A%E4%B8%89%EF%BC%8Cjupyter%20notebook%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BD%8D%E7%BD%AE" rel="nofollow">ğŸŠæ„æˆçš„å…ƒç´ </a></p> 
 <p id="h_563598234_1-toc" style="margin-left:80px;"><a href="#h_563598234_1" rel="nofollow">Conv ---CBA(convolution, batch normalization, activation)</a></p> 
 <p id="h_563598234_2-toc" style="margin-left:80px;"><a href="#h_563598234_2" rel="nofollow">å…³äºSiLU--sigmoid linear unit</a></p> 
 <p id="h_563598234_3-toc" style="margin-left:80px;"><a href="#h_563598234_3" rel="nofollow">SPP(Spatial Pyramid Pooling)/SPPF(Spatial Pyramid Pooling Fast)ç»“æ„</a></p> 
 <p id="%C2%A0C3%20--%20cross%20stage%20partial%20network%20with%203%20convolutions-toc" style="margin-left:80px;"><a href="#%C2%A0C3%20--%20cross%20stage%20partial%20network%20with%203%20convolutions" rel="nofollow">Â C3 -- cross stage partial network with 3 convolutions</a></p> 
 <p id="%F0%9F%8D%8B%E5%9B%9B%E3%80%81Jupyter%20Notebook%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#%F0%9F%8D%8B%E5%9B%9B%E3%80%81Jupyter%20Notebook%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" rel="nofollow">ğŸ‹é¡¹ç›®ç»“æ„</a></p> 
 <p></p> 
 <p></p> 
</blockquote> 
<p><img alt="" height="535" src="https://images2.imgbox.com/34/05/qNN6ff3C_o.png" width="959"></p> 
<blockquote> 
 <h3 id="%F0%9F%8D%88%20%E4%B8%80%E3%80%81Jupyter%20Notebook%E7%9A%84%E4%BB%8B%E7%BB%8D">ğŸˆ é…ç½®æ–‡ä»¶</h3> 
 <p>Â  Â  Â åœ¨yolov5ä¸­æœ‰å¥½å‡ ç§å¾—é…ç½®æ–‡ä»¶ï¼Œè¿™å‡ ç§é…ç½®æ–‡ä»¶åªæœ‰ä¸‹é¢çš„ä¸¤ä¸ªå‚æ•°ä¸åŒï¼Œå…¶å®ƒéƒ¨åˆ†éƒ½ç›¸åŒè¿™ä¸¤ä¸ªå‚æ•°æ˜¯ä¸ºäº†æ§åˆ¶æ¨¡å‹å¤§å°çš„ã€‚ä¸‹é¢ä»¥yolov5l.yamlä¸ºä¾‹</p> 
 <pre>depth_multiple: 1.0  # model depth multiple
width_multiple: 1.0  # layer channel multiple</pre> 
 <p></p> 
 <p><img alt="" height="312" src="https://images2.imgbox.com/f1/4d/o9bQ5gAg_o.png" width="392"></p> 
 <p><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼š</strong></p> 
 <p></p> 
 <pre><code># YOLOv5 ğŸš€ by Ultralytics, GPL-3.0 license

# Parameters
nc: 80  # number of classes
depth_multiple: 1.0  # model depth multiple
width_multiple: 1.0  # layer channel multiple
anchors:
  - [10,13, 16,30, 33,23]  # P3/8
  - [30,61, 62,45, 59,119]  # P4/16
  - [116,90, 156,198, 373,326]  # P5/32
</code></pre> 
 <pre>nc: 80  # number of classes</pre> 
 <p>è¿™ä¸€éƒ¨åˆ†ä»£è¡¨æ¨¡å‹çš„ç§ç±»ï¼Œå¯¹äºcocoæ•°æ®é›†æ¥è¯´ï¼Œæœ‰80ä¸ªç±»åˆ«ã€‚</p> 
 <pre>depth_multiple: 1.0  # model depth multiple</pre> 
 <p>æ˜¯ä¸ºäº†æ§åˆ¶å±‚çš„é‡å¤çš„æ¬¡æ•°ã€‚å®ƒä¼šå’Œnumberç›¸ä¹˜åå–æ•´ï¼Œä»£è¡¨è¯¥å±‚çš„é‡å¤çš„æ•°é‡ï¼Œ</p> 
 <p><img alt="" height="467" src="https://images2.imgbox.com/66/3e/HMxePyKj_o.png" width="673"></p> 
 <p></p> 
 <p></p> 
 <pre>width_multiple: 1.0  # layer channel multiple</pre> 
 <p>æ˜¯ä¸ºäº†æ§åˆ¶è¾“å‡ºç‰¹å¾å›¾çš„é€šé“æ•°ï¼Œå®ƒä¼šå’Œå‡ºç‰¹å¾å›¾çš„é€šé“æ•°ç›¸ä¹˜ï¼Œä»£è¡¨è¯¥å±‚çš„è¾“å‡ºé€šé“æ•°ã€‚</p> 
 <p><img alt="" height="352" src="https://images2.imgbox.com/5f/3a/GfjK0RvI_o.png" width="341"></p> 
 <p></p> 
 <h4 id="h_563598234_5"><strong>backboneé…ç½®æ–‡ä»¶</strong></h4> 
 <p>backoneçš„é…ç½®åœ¨æ–‡ä»¶models/yolov5*.yamlä¸­ï¼Œä¸‹é¢ä»¥yolov5l.yamlä¸ºä¾‹ï¼Œ</p> 
 <pre><code>backbone:
  # [from, number, module, args]
  [[-1, 1, Conv, [64, 6, 2, 2]],  # 0-P1/2
   [-1, 1, Conv, [128, 3, 2]],  # 1-P2/4
   [-1, 3, C3, [128]],
   [-1, 1, Conv, [256, 3, 2]],  # 3-P3/8
   [-1, 6, C3, [256]],
   [-1, 1, Conv, [512, 3, 2]],  # 5-P4/16
   [-1, 9, C3, [512]],
   [-1, 1, Conv, [1024, 3, 2]],  # 7-P5/32
   [-1, 3, C3, [1024]],
   [-1, 1, SPPF, [1024, 5]],  # 9
  ]</code></pre> 
 <p>è¾“å…¥å›¾ç‰‡çš„å¤§å°æ˜¯640*640*3</p> 
 <p><strong>ç¬¬0å±‚ï¼šconvå±‚</strong></p> 
 <ul><li>æ¯ä¸€è¡Œä»£è¡¨yoloç½‘ç»œçš„æ¯ä¸€å±‚</li><li>ç¬¬ä¸€åˆ—è¡¨ç¤ºè¯¥å±‚è¾“å…¥ç‰¹å¾å›¾çš„æ¥æºï¼Œ-1è¡¨ç¤ºæŒ‡çš„æ˜¯ä¸Šä¸€å±‚çš„è¾“å‡ºå½“æˆè‡ªå·±çš„è¾“å…¥ã€‚</li><li>ç¬¬äºŒåˆ—ï¼Œæ˜¯ä¸ºäº†æ§åˆ¶è¯¥å±‚é‡å¤çš„æ¬¡æ•°ã€‚</li><li>ç¬¬ä¸‰åˆ—ï¼ŒæŒ‡çš„æ˜¯è¯¥å±‚çš„åå­—ã€‚</li><li>ä¸‹é¢çš„ä¸€ä¸ªåˆ—è¡¨æ˜¯è¯¥å±‚è¾“å…¥çš„å‚æ•°ï¼Œæ¯”å¦‚ç¬¬ä¸€è¡Œçš„64ä»£è¡¨è¯¥å±‚è¾“å‡ºç‰¹å¾å›¾çš„é€šé“æ•°ã€‚ï¼ˆæœ€åçš„è¾“å‡ºè¿˜è¦è¿›è¡Œç›¸å…³çš„å¤„ç†ï¼‰ã€‚6ä»£è¡¨è¯¥å±‚ç”¨çš„æ˜¯ä¸€ä¸ª6*6å¤§å°çš„å·ç§¯æ ¸ã€‚ç¬¬ä¸€ä¸ª2è¡¨ç¤ºæè¾¹2ï¼Œä¸‹ä¸€ä¸ª2æŒ‡çš„æ˜¯æ­¥é•¿æ˜¯2ã€‚</li><li>åé¢çš„æ³¨é‡Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/2.</li></ul> 
 <p><strong>ç¬¬1å±‚ï¼šconvå±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/4.</li></ul> 
 <p></p> 
 <p><strong>ç¬¬2å±‚ï¼šC3å±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°ä¸å˜.</li></ul> 
 <p></p> 
 <p><strong>ç¬¬3å±‚ï¼šconvå±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/8.</li></ul> 
 <p></p> 
 <h4 id="h_563598234_6"><img alt="" height="912" src="https://images2.imgbox.com/f7/b6/dIdBGCrR_o.png" width="1142"></h4> 
 <p><strong>ç¬¬4å±‚ï¼šC3å±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°ä¸å˜.</li></ul> 
 <p></p> 
 <p><strong>ç¬¬5å±‚ï¼šconvå±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/16.(40*40*512)</li></ul> 
 <p><strong>ç¬¬6å±‚ï¼šC3å±‚(ä¸ªæ•°æ˜¯9ï¼‰</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°ä¸å˜.</li></ul> 
 <p></p> 
 <p><strong>ç¬¬7å±‚ï¼šconvå±‚</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/16.(20*20*1024)</li></ul> 
 <p><img alt="" height="884" src="https://images2.imgbox.com/8b/13/TNyFPDWG_o.png" width="937"></p> 
 <p></p> 
 <p><strong>ç¬¬8å±‚ï¼šc3å±‚(ä¸ªæ•°æ˜¯3ï¼‰</strong></p> 
 <ul><li>é€šè¿‡è¯¥å±‚ä¹‹åç‰¹å¾å›¾çš„å¤§å°å˜æˆ<strong>åŸå›¾</strong>çš„1/16.(20*20*1024)</li></ul> 
 <p></p> 
 <p><strong>ç¬¬9å±‚ï¼šSPPFå±‚</strong></p> 
 <ul><li>ä¸»è¦æ˜¯å¯¹ä¸åŒå°ºåº¦ç‰¹å¾å›¾çš„èåˆ<strong>ã€‚</strong></li><li>ç‰¹å¾å›¾çš„å¤§å°çš„å¤§å°ä¸å˜</li></ul> 
 <p><img alt="" height="561" src="https://images2.imgbox.com/d9/51/9iJg94vN_o.png" width="925"></p> 
 <p>Â åˆ°ç¬¬ä¹å±‚ä¸ºæ­¢ï¼Œæ•´ä¸ª<strong>backboneå°±ç»“æŸäº†ï¼Œ</strong>è¿™ä¸ªéƒ¨åˆ†ä¼šå½¢æˆä¸‰ä¸ªæ¥å£ï¼Œ</p> 
 <p><strong>ç¬¬4å±‚çš„è¾“å‡ºï¼š</strong></p> 
 <p style="text-align:center;"><strong>80*80*256</strong></p> 
 <p><strong>ç¬¬6å±‚çš„è¾“å‡ºï¼š</strong></p> 
 <p style="text-align:center;"><strong>40*40*512</strong></p> 
 <p><strong>ç¬¬9å±‚çš„è¾“å‡ºï¼š</strong></p> 
 <p style="text-align:center;"><strong>20*20*1024</strong></p> 
 <p style="text-align:center;"></p> 
 <p><strong>headç½‘ç»œç»“æ„</strong></p> 
 <p>å±‚ä¸ºæ­¢headåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªéƒ¨åˆ†æ˜¯Neck,ä¸€ä¸ªéƒ¨åˆ†æ˜¯Â Detectéƒ¨åˆ†ã€‚</p> 
 <pre><code># YOLOv5 v6.0 head
head:
  [[-1, 1, Conv, [512, 1, 1]],
   [-1, 1, nn.Upsample, [None, 2, 'nearest']],
   [[-1, 6], 1, Concat, [1]],  # cat backbone P4
   [-1, 3, C3, [512, False]],  # 13
â€‹
   [-1, 1, Conv, [256, 1, 1]],
   [-1, 1, nn.Upsample, [None, 2, 'nearest']],
   [[-1, 4], 1, Concat, [1]],  # cat backbone P3
   [-1, 3, C3, [256, False]],  # 17 (P3/8-small)
â€‹
   [-1, 1, Conv, [256, 3, 2]],
   [[-1, 14], 1, Concat, [1]],  # cat head P4
   [-1, 3, C3, [512, False]],  # 20 (P4/16-medium)
â€‹
   [-1, 1, Conv, [512, 3, 2]],
   [[-1, 10], 1, Concat, [1]],  # cat head P5
   [-1, 3, C3, [1024, False]],  # 23 (P5/32-large)
â€‹
   [[17, 20, 23], 1, Detect, [nc, anchors]],  # Detect(P3, P4, P5)
  ]</code></pre> 
 <p><strong>ç¬¬10å±‚ï¼šconvå±‚</strong></p> 
 <p style="text-align:center;"><strong>20*20*512</strong></p> 
 <p><strong>ç¬¬11å±‚ï¼šUpsampleå±‚</strong></p> 
 <ul><li>ä¸æ”¹å˜é€šé“æ•°<strong>ï¼Œç‰¹å¾å›¾çš„é•¿å’Œå®½ä¼šå¢åŠ ä¸€å€</strong></li></ul> 
 <p style="text-align:center;"><strong>40*40*512</strong></p> 
 <p></p> 
 <p><strong>ç¬¬12å±‚ï¼šÂ Concatå±‚</strong></p> 
 <ul><li><strong>ä¸ç¬¬6å±‚çš„è¾“å‡º</strong>è¿›è¡Œç‰¹å¾å›¾çš„èåˆ<strong>ã€‚</strong></li></ul> 
 <p style="text-align:center;"><strong>40*40*1024</strong></p> 
 <p><strong>ç¬¬13å±‚ï¼šc3å±‚</strong></p> 
 <p style="text-align:center;"><strong>40*40*512</strong></p> 
 <p><img alt="" height="602" src="https://images2.imgbox.com/65/9a/Qz84FYKg_o.png" width="640"></p> 
 <p></p> 
 <p><strong>ç¬¬14å±‚ï¼šconvå±‚</strong></p> 
 <p style="text-align:center;"><strong>40*40*256</strong></p> 
 <p><strong>ç¬¬15å±‚ï¼šUpsampleå±‚</strong></p> 
 <ul><li>ä¸æ”¹å˜é€šé“æ•°<strong>ï¼Œç‰¹å¾å›¾çš„é•¿å’Œå®½ä¼šå¢åŠ ä¸€å€</strong></li></ul> 
 <p style="text-align:center;"><strong>80*80*256</strong></p> 
 <p></p> 
 <p><strong>ç¬¬16å±‚ï¼šÂ Concatå±‚</strong></p> 
 <ul><li><strong>ä¸ç¬¬4å±‚çš„è¾“å‡º</strong>è¿›è¡Œç‰¹å¾å›¾çš„èåˆ<strong>ã€‚</strong></li></ul> 
 <p style="text-align:center;"><strong>80*80*512</strong></p> 
 <p><strong>ç¬¬17å±‚ï¼šc3å±‚</strong></p> 
 <p style="text-align:center;"><strong>40*40*256</strong></p> 
 <p style="text-align:center;"><img alt="" height="863" src="https://images2.imgbox.com/38/ae/agCCNNJh_o.png" width="619"></p> 
 <p></p> 
 <p>ä¸¤ä¸ªå‘ä¸‹èåˆï¼š</p> 
 <p><strong>ç¬¬18å±‚ï¼šconvå±‚</strong></p> 
 <p style="text-align:center;"><strong>40*40*256</strong></p> 
 <p></p> 
 <p><strong>ç¬¬19å±‚ï¼šÂ Concatå±‚</strong></p> 
 <ul><li><strong>ä¸ç¬¬14å±‚çš„è¾“å‡º</strong>è¿›è¡Œç‰¹å¾å›¾çš„èåˆ<strong>ã€‚</strong></li></ul> 
 <p style="text-align:center;"><strong>40*40*512</strong></p> 
 <p><strong>ç¬¬20å±‚ï¼šc3å±‚</strong></p> 
 <p style="text-align:center;"><strong>40*40*512</strong></p> 
 <p style="text-align:center;"></p> 
 <p><img alt="" height="713" src="https://images2.imgbox.com/fe/48/1eO4fLab_o.png" width="869"></p> 
 <p></p> 
 <p><strong>ç¬¬21å±‚ï¼šconvå±‚</strong></p> 
 <p style="text-align:center;"><strong>20*20*512</strong></p> 
 <p></p> 
 <p><strong>ç¬¬22å±‚ï¼šÂ Concatå±‚</strong></p> 
 <ul><li><strong>ä¸ç¬¬10å±‚çš„è¾“å‡º</strong>è¿›è¡Œç‰¹å¾å›¾çš„èåˆ<strong>ã€‚</strong></li></ul> 
 <p style="text-align:center;"><strong>20*20*1024</strong></p> 
 <p><strong>ç¬¬23å±‚ï¼šc3å±‚</strong></p> 
 <p style="text-align:center;"><strong>20*20*1024</strong></p> 
 <p style="text-align:center;"><img alt="" class="left" height="709" src="https://images2.imgbox.com/8c/56/tBr1wsi2_o.png" width="900"></p> 
 <p style="text-align:center;"></p> 
 <p>Â <strong>Detect</strong></p> 
 <ul><li>æ˜¯å¯¹ç¬¬17ï¼Œ20ï¼Œ23å±‚çš„è¾“å‡ºè¿›è¡Œæ£€æµ‹ã€‚</li></ul> 
 <p></p> 
 <h3 id="%F0%9F%8D%8A%E4%B8%89%EF%BC%8Cjupyter%20notebook%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E4%BD%8D%E7%BD%AE"><a href="https://blog.csdn.net/zzqingyun/article/details/123289836?spm=1001.2014.3001.5501#%E4%B8%89%E3%80%81%E9%85%8D%E7%BD%AEPyCharm%E7%8E%AF%E5%A2%83" title="ğŸŠ">ğŸŠ</a>æ„æˆçš„å…ƒç´ </h3> 
 <h4 id="h_563598234_1"><strong>Conv ---CBA(convolution, batch normalization, activation)</strong></h4> 
 <pre><code>class Conv(nn.Module):
    # Standard convolution
    def __init__(self, c1, c2, k=1, s=1, p=None, g=1, act=True):  # ch_in, ch_out, kernel, stride, padding, groups
        super().__init__()
        self.conv = nn.Conv2d(c1, c2, k, s, autopad(k, p), groups=g, bias=False)
        self.bn = nn.BatchNorm2d(c2)
        self.act = nn.SiLU() if act is True else (act if isinstance(act, nn.Module) else nn.Identity())
â€‹
    def forward(self, x):
        return self.act(self.bn(self.conv(x)))
â€‹
    def forward_fuse(self, x):
        return self.act(self.conv(x))</code></pre> 
 <h4 id="h_563598234_2"><strong>å…³äºSiLU--sigmoid linear unit</strong></h4> 
 <p>* sigmoid(x) = x / (e^-x + 1)</p> 
 <p>åœ¨yolov5ä¸­ä½œè€…ä½¿ç”¨çš„æ˜¯<strong>SiLUè¿™ä¸ªæ¿€æ´»å‡½æ•°ï¼Œ</strong>ç”¨çš„è¿™ä¸ªå‡½æ•°æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ</p> 
 <p>è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªæå°å€¼ç‚¹ï¼Œåœ¨æ¨¡å‹è®­ç»ƒçš„æ—¶å€™æ›´æœ‰åˆ©äºæ¨¡å‹çš„æ”¶æ•›ã€‚</p> 
 <h4 id="h_563598234_3"></h4> 
 <p></p> 
 <p><img alt="" height="649" src="https://images2.imgbox.com/c2/6d/S17eBQGX_o.png" width="998"></p> 
 <p></p> 
 <h4><strong>SPP(Spatial Pyramid Pooling)/SPPF(Spatial Pyramid Pooling Fast)ç»“æ„</strong></h4> 
 <p>SPP æ˜¯ä½•å‡¯æ˜15å¹´åœ¨<a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1406.4729" rel="nofollow" title="Spatial Pyramid Pooling in Deep Convolutional Networks for Visual Recognition">Spatial Pyramid Pooling in Deep Convolutional Networks for Visual Recognition</a>ä¸­æå‡ºæ¥çš„ï¼Œåœ¨RCNNä¸­ç¬¬ä¸€é˜¶æ®µæ£€æµ‹å‡ºæ¥çš„å€™é€‰æ¡†å¤§å°ä¸ä¸€æ ·ï¼Œä¸ºäº†è®©è¿™äº›å€™é€‰æ¡†å¯ä»¥å˜æˆå›ºå®šå¤§å°é€è¿›FCå±‚ï¼ŒSPPå°±å¯ä»¥è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚<img alt="" height="566" src="https://images2.imgbox.com/0f/a8/3BSJ0xVh_o.png" width="1200"></p> 
 <p>åœ¨YOLOV5ä¸­SPPçš„ç›®çš„æ˜¯è¿›ä¸€æ­¥å¢å¤§feature mapçš„æ„Ÿå—é‡ï¼Œä½¿å¾—ç‰©ä½“åœ¨ä¸åŒçš„å°ºåº¦ä¸‹è¾“å…¥æ—¶éƒ½èƒ½å¤Ÿè¢«å¾ˆå¥½çš„æ£€æµ‹åˆ°ã€‚å¦‚ä¸‹å·¦å›¾æ‰€ç¤ºã€‚</p> 
 <p class="img-center"><img alt="" src="https://images2.imgbox.com/ae/a0/2zPfUme0_o.jpg"></p> 
 <p>SPPFæ˜¯YOLOV5ä½œè€…çªç„¶æœ‰ä¸€å¤©æƒ³å‡ºæ¥çš„ï¼Œä»–å‘ç°ç”¨è¿ç»­ä¸‰ä¸ª5x5å¤§å°çš„kernalåšpollingå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œå¦‚ä¸Šå³å›¾æ‰€ç¤ºã€‚è¾“å…¥çš„feature mapè¿ç»­è¿›å…¥3ä¸ªkernel sizeä¸º5çš„å·ç§¯ï¼Œç„¶åcancatåœ¨ä¸€èµ·ï¼Œchannelç»è¿‡å·ç§¯å‡ç»´åˆ°1024è¾“å‡ºã€‚SPPFåœ¨YOLOä¸­çš„å®ç°å¦‚ä¸‹ã€‚</p> 
 <pre><code>class SPPF(nn.Module):
    # Spatial Pyramid Pooling - Fast (SPPF) layer for YOLOv5 by Glenn Jocher
    def __init__(self, c1, c2, k=5):  # equivalent to SPP(k=(5, 9, 13))
        super().__init__()
        c_ = c1 // 2  # hidden channels
        self.cv1 = Conv(c1, c_, 1, 1)
        self.cv2 = Conv(c_ * 4, c2, 1, 1)
        self.m = nn.MaxPool2d(kernel_size=k, stride=1, padding=k // 2)
â€‹
    def forward(self, x):
        x = self.cv1(x)
        with warnings.catch_warnings():
            warnings.simplefilter('ignore')  # suppress torch 1.9.0 max_pool2d() warning
            y1 = self.m(x)
            y2 = self.m(y1)
            return self.cv2(torch.cat((x, y1, y2, self.m(y2)), 1))</code></pre> 
 <h4 id="%C2%A0C3%20--%20cross%20stage%20partial%20network%20with%203%20convolutions">Â <strong>C3 -- cross stage partial network with 3 convolutions</strong></h4> 
 <p>C3æºè‡ªäºCSPNet--cross stage patrial networks<a href="https://link.zhihu.com/?target=https%3A//github.com/WongKinYiu/CrossStagePartialNetworks" rel="nofollow" title="WongKinYiu/CrossStagePartialNetworks: Cross Stage Partial Networks (github.com)">WongKinYiu/CrossStagePartialNetworks: Cross Stage Partial Networks (github.com)</a>, CSPNetä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªè´¡çŒ®ï¼š</p> 
 <ul><li><strong>Strengthening learning ability of a CNN</strong>Â ç°æœ‰çš„CNNåœ¨è½»é‡åŒ–åï¼Œå…¶ç²¾åº¦å¤§å¤§é™ä½ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›åŠ å¼ºCNNçš„å­¦ä¹ èƒ½åŠ›ï¼Œä½¿å…¶åœ¨è½»é‡åŒ–çš„åŒæ—¶ä¿æŒè¶³å¤Ÿçš„å‡†ç¡®æ€§ã€‚æ‰€æå‡ºçš„CSPNetå¯ä»¥å¾ˆå®¹æ˜“åœ°åº”ç”¨äºResNetã€ResNeXtå’ŒDenseNetã€‚å°†CSPNetåº”ç”¨äºä¸Šè¿°ç½‘ç»œåï¼Œè®¡ç®—é‡å¯ä»10%å‡å°‘åˆ°20%ï¼Œä½†åœ¨ImageNet[2]ä¸Šè¿›è¡Œå›¾åƒåˆ†ç±»ä»»åŠ¡çš„ç²¾åº¦ä¼˜äºResNet[7]ã€ResNeXt[39]ã€DenseNet[11]ã€HarDNet[1]ã€Elastic[36]å’ŒRes2Net[5]ã€‚</li><li><strong>Removing computational bottlenecks</strong>Â è¿‡é«˜çš„è®¡ç®—ç“¶é¢ˆä¼šå¯¼è‡´æ›´å¤šçš„è®¡ç®—å‘¨æœŸæ¥å®Œæˆæ¨ç†è¿‡ç¨‹ï¼Œæˆ–è€…ä¸€äº›ç®—åŠ›å•å…ƒç»å¸¸é—²ç½®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå‡åŒ€åˆ†é…CNNä¸­å„å±‚çš„è®¡ç®—é‡ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆæå‡å„è®¡ç®—å•å…ƒçš„åˆ©ç”¨ç‡ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„èƒ½è€—ã€‚æ®æ‚‰ï¼Œæå‡ºçš„CSPNetä½¿å¾—PeleeNet[37]çš„è®¡ç®—ç“¶é¢ˆå‡å°‘äº†ä¸€åŠã€‚æ­¤å¤–ï¼Œåœ¨åŸºäºMS COCO[18]æ•°æ®é›†çš„ç‰©ä½“æ£€æµ‹å®éªŒä¸­ï¼Œæˆ‘ä»¬æå‡ºçš„æ¨¡å‹åœ¨åŸºäºYOLOv3çš„æ¨¡å‹ä¸Šæµ‹è¯•æ—¶ï¼Œå¯ä»¥æœ‰æ•ˆé™ä½80%çš„è®¡ç®—ç“¶é¢ˆã€‚</li><li><strong>Reducing memory costs</strong>Â åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨(DRAM)çš„æ™¶åœ†åˆ¶é€ æˆæœ¬éå¸¸æ˜‚è´µï¼Œè€Œä¸”è¿˜å ç”¨äº†å¤§é‡çš„ç©ºé—´ã€‚å¦‚æœèƒ½æœ‰æ•ˆé™ä½å­˜å‚¨å™¨çš„æˆæœ¬ï¼Œå°†å¤§å¤§é™ä½ASICçš„æˆæœ¬ã€‚æ­¤å¤–ï¼Œå°é¢ç§¯çš„æ™¶åœ†å¯ä»¥ç”¨äºå„ç§è¾¹ç¼˜è®¡ç®—è®¾å¤‡ã€‚åœ¨å‡å°‘å†…å­˜ä½¿ç”¨æ–¹é¢ï¼Œæˆ‘ä»¬é‡‡ç”¨cross-channel pooling[6]ï¼Œåœ¨ç‰¹å¾é‡‘å­—å¡”ç”Ÿæˆè¿‡ç¨‹ä¸­å¯¹ç‰¹å¾å›¾è¿›è¡Œå‹ç¼©ã€‚è¿™æ ·ï¼Œæå‡ºçš„CSPNetä¸æå‡ºçš„å¯¹è±¡æ£€æµ‹å™¨åœ¨ç”Ÿæˆç‰¹å¾é‡‘å­—å¡”æ—¶ï¼Œå¯ä»¥å‡å°‘PeleeNetä¸Š75%çš„å†…å­˜ä½¿ç”¨é‡ã€‚</li></ul> 
 <p>å¯¹äºCSPNetè¿™é‡Œä¸å¤šèµ˜è¿°ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹YoloV5ä¸­çš„â€œç®€åŒ–ç‰ˆCSPNetâ€ï¼ŒC3ç»“æ„ï¼Œ</p> 
 <p class="img-center"><img alt="" src="https://images2.imgbox.com/3c/94/IpDwIK1Y_o.jpg"></p> 
 <pre><code>class C3(nn.Module):
    # CSP Bottleneck with 3 convolutions
    def __init__(self, c1, c2, n=1, shortcut=True, g=1, e=0.5):  # ch_in, ch_out, number, shortcut, groups, expansion
        super().__init__()
        c_ = int(c2 * e)  # hidden channels
        self.cv1 = Conv(c1, c_, 1, 1)
        self.cv2 = Conv(c1, c_, 1, 1)
        self.cv3 = Conv(2 * c_, c2, 1)  # optional act=FReLU(c2)
        self.m = nn.Sequential(*(Bottleneck(c_, c_, shortcut, g, e=1.0) for _ in range(n)))
        # self.m = nn.Sequential(*(CrossConv(c_, c_, 3, 1, g, 1.0, shortcut) for _ in range(n)))
â€‹
    def forward(self, x):
        return self.cv3(torch.cat((self.m(self.cv1(x)), self.cv2(x)), 1))
        
class Bottleneck(nn.Module):
    # Standard bottleneck
    def __init__(self, c1, c2, shortcut=True, g=1, e=0.5):  # ch_in, ch_out, shortcut, groups, expansion
        super().__init__()
        c_ = int(c2 * e)  # hidden channels
        self.cv1 = Conv(c1, c_, 1, 1)
        self.cv2 = Conv(c_, c2, 3, 1, g=g)
        self.add = shortcut and c1 == c2
â€‹
    def forward(self, x):
        return x + self.cv2(self.cv1(x)) if self.add else self.cv2(self.cv1(x))</code></pre> 
 <hr> 
 <h3 id="%F0%9F%8D%8B%E5%9B%9B%E3%80%81Jupyter%20Notebook%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><a href="https://blog.csdn.net/zzqingyun/article/details/123289836?spm=1001.2014.3001.5501#%E5%9B%9B%E3%80%81PyCharm%E7%A0%B4%E8%A7%A3" title="ğŸ‹">ğŸ‹</a>é¡¹ç›®ç»“æ„</h3> 
 <p><strong>Â  Â  scripts</strong>æ˜¯è·å–æ•°æ®çš„ä¸€äº›è„šæœ¬ã€‚ä¸‹é¢çš„yamlæ˜¯å…³äºä¸€äº›æ•°æ®çš„å®šä¹‰ï¼Œæ¯”å¦‚cocoæ•°æ®é›†ï¼Œcoco128æŒ‡çš„æ˜¯ä»cocoæ•°æ®é›†ä¸­å–å‡º128å¼ ç”¨äºæµ‹è¯•ã€‚</p> 
 <p></p> 
 <p><img alt="" height="296" src="https://images2.imgbox.com/5c/1e/b3uDZ7hK_o.png" width="475"></p> 
 <p><strong>models</strong>ä¸­çš„yamlæŒ‡çš„æ˜¯4ä¸ªæ¨¡å‹çš„é…ç½®æ–‡ä»¶</p> 
 <p><strong>yolo.py</strong>æŒ‡çš„æ˜¯æŠŠæ¨¡å‹ç¿»è¯‘æˆæ¨¡å‹çš„ä¸€äº›æ¥å£ã€‚</p> 
 <p><strong>common</strong>æ”¾çš„æ˜¯ä¸€äº›ç½‘ç»œç»“æ„çš„å®šä¹‰</p> 
 <p></p> 
 <p><img alt="" height="289" src="https://images2.imgbox.com/b4/ef/8yCJhU9v_o.png" width="556"></p> 
 <p><strong>rus</strong>æ˜¯æˆ‘ä»¬è¿è¡Œçš„æ—¶å€™çš„ä¸€äº›è¾“å‡ºæ–‡ä»¶ã€‚</p> 
 <p>æ¯ä¸€æ¬¡è¿è¡Œå°±ä¼šç”Ÿæˆä¸€ä¸ªexpçš„æ–‡ä»¶å¤¹ã€‚</p> 
 <p><img alt="" height="88" src="https://images2.imgbox.com/c3/1d/SdiV7ne8_o.png" width="631"></p> 
 <p></p> 
 <p>Â <img alt="" height="444" src="https://images2.imgbox.com/3f/04/a4SPgiBU_o.png" width="445"></p> 
 <p><strong>utils</strong>è¿™ä¸ªé‡Œé¢ä¸»è¦æ˜¯æ”¾çš„ä¸€äº›è„šæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®å¢å¼ºç­‰ã€‚</p> 
 <p><img alt="" height="371" src="https://images2.imgbox.com/62/eb/8AlQnneg_o.png" width="527"></p> 
 <p><strong>weight</strong></p> 
 <p>yolov5s.ptæŒ‡çš„æ˜¯é¢„è®­ç»ƒæ¨¡å‹</p> 
 <p>detect.pyæ˜¯è´Ÿè´£æ¨ç†çš„æ–‡ä»¶</p> 
 <p>train.py æ˜¯è®­ç»ƒçš„æ–‡ä»¶</p> 
 <p>Â <img alt="" height="463" src="https://images2.imgbox.com/86/af/BEbxekU9_o.png" width="547"></p> 
 <p></p> 
 <p><strong>Institutional Review Board Statement: Not applicable.</strong></p> 
 <p><strong>Informed Consent Statement: Not applicable.</strong></p> 
 <p><strong>Data Availability Statement: Not applicable.</strong></p> 
 <p><strong>Author Contributions:All authors participated in the assisting performance study and approved the paper.</strong></p> 
 <p><strong>Conflicts of Interest: The authors declare no conflict of interest</strong><br> Â </p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d1402f5801c97005050ba4a60d593c6/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">MAC é€šè¿‡IDEAå¯åŠ¨tomcatï¼Œæ˜¾ç¤º80ç«¯å£è¢«å ç”¨è§£å†³åŠæ³•</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f8f56ff4d9ea388e5e51a297bbabc721/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">å…è´¹ç”ŸæˆNginxçš„Httpsä½¿ç”¨çš„SSLè¯ä¹¦</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>