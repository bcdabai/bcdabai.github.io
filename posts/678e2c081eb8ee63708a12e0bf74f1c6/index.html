<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux服务字符集--locale命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux服务字符集--locale命令" />
<meta property="og:description" content="在查看Tomcat日志中，会发现中文乱码，乱码的原因就是字符集问题。
在 Linux 中，可以使用 locale 命令查看当前系统的字符集。该命令输出当前系统所使用的语言环境信息，包括地域、编码等。
执行以下命令：
locale 输出结果可能类似于下面这样：
LANG=en_US.UTF-8 LANGUAGE=en_US:en LC_CTYPE=&#34;en_US.UTF-8&#34; LC_NUMERIC=en_US.UTF-8 LC_TIME=en_US.UTF-8 LC_COLLATE=&#34;en_US.UTF-8&#34; LC_MONETARY=en_US.UTF-8 LC_MESSAGES=&#34;en_US.UTF-8&#34; LC_PAPER=en_US.UTF-8 LC_NAME=en_US.UTF-8 LC_ADDRESS=en_US.UTF-8 LC_TELEPHONE=en_US.UTF-8 LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=en_US.UTF-8 LC_ALL= 其中，LANG 表示系统的默认编码格式，一般为 UTF-8；LC_CTYPE 表示字符集，也是当前终端的字符集设置。
除了 locale 命令，还可以通过以下命令查看当前终端的字符集设置：
echo $LANG 输出的结果与 locale 命令中的 LANG 字段相同，都代表系统的默认编码格式。
zh_CN.UTF-8和 en_US.UTF-8 en_US.UTF-8 表示英文环境下的 UTF-8 编码，而 zh_CN.UTF-8 则表示中文环境下的 UTF-8 编码。
具体来说，这两个字符集的区别在于所支持的语言和文化差异。en_US.UTF-8 适用于使用英语的国家或地区（例如美国、英国、加拿大、澳大利亚等），而 zh_CN.UTF-8 则适用于中国大陆地区。
两者之间的主要区别在于它们所支持的字符和编码方式。UTF-8 编码是一种可变长编码，支持全球范围内的所有字符，包括汉字、拉丁字母、数字、符号等。不同的语言和地区可能会使用不同的字符集来支持本地化的字符和文化需求，因此需要选择相应的字符集来满足特定的需求。
总之，选择正确的字符集对于保障文化多样性和跨国交流非常重要，特别是在开发和部署跨语言和跨地域的软件系统时。
locale报错 如果在执行 locale 命令时出现错误提示，可能是因为当前系统没有安装或者没有正确配置语言环境。
解决方案如下：
确认是否安装了所需的语言包或工具：可以尝试安装相应的语言包或工具程序。例如，在 Ubuntu 系统上，可以使用以下命令安装中文支持：
sudo apt-get install language-pack-zh-hans 检查系统语言设置：可以检查系统语言设置是否正确。可以通过以下命令查看当前系统的语言设置：
localectl status 如果需要更改系统语言设置，可以使用以下命令进行修改：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/678e2c081eb8ee63708a12e0bf74f1c6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-24T21:22:20+08:00" />
<meta property="article:modified_time" content="2023-04-24T21:22:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux服务字符集--locale命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在查看Tomcat日志中，会发现中文乱码，乱码的原因就是字符集问题。<br> 在 Linux 中，可以使用 locale 命令查看当前系统的字符集。该命令输出当前系统所使用的语言环境信息，包括地域、编码等。</p> 
<p>执行以下命令：</p> 
<pre><code class="prism language-powershell">locale
</code></pre> 
<p>输出结果可能类似于下面这样：</p> 
<pre><code class="prism language-powershell">LANG=en_US<span class="token punctuation">.</span>UTF-8
LANGUAGE=en_US:en
LC_CTYPE=<span class="token string">"en_US.UTF-8"</span>
LC_NUMERIC=en_US<span class="token punctuation">.</span>UTF-8
LC_TIME=en_US<span class="token punctuation">.</span>UTF-8
LC_COLLATE=<span class="token string">"en_US.UTF-8"</span>
LC_MONETARY=en_US<span class="token punctuation">.</span>UTF-8
LC_MESSAGES=<span class="token string">"en_US.UTF-8"</span>
LC_PAPER=en_US<span class="token punctuation">.</span>UTF-8
LC_NAME=en_US<span class="token punctuation">.</span>UTF-8
LC_ADDRESS=en_US<span class="token punctuation">.</span>UTF-8
LC_TELEPHONE=en_US<span class="token punctuation">.</span>UTF-8
LC_MEASUREMENT=en_US<span class="token punctuation">.</span>UTF-8
LC_IDENTIFICATION=en_US<span class="token punctuation">.</span>UTF-8
LC_ALL=
</code></pre> 
<p>其中，LANG 表示系统的默认编码格式，一般为 UTF-8；LC_CTYPE 表示字符集，也是当前终端的字符集设置。</p> 
<p>除了 locale 命令，还可以通过以下命令查看当前终端的字符集设置：</p> 
<pre><code class="prism language-powershell"><span class="token function">echo</span> <span class="token variable">$LANG</span>
</code></pre> 
<p>输出的结果与 locale 命令中的 LANG 字段相同，都代表系统的默认编码格式。</p> 
<h3><a id="zh_CNUTF8_en_USUTF8_39"></a>zh_CN.UTF-8和 en_US.UTF-8</h3> 
<p>en_US.UTF-8 表示英文环境下的 UTF-8 编码，而 zh_CN.UTF-8 则表示中文环境下的 UTF-8 编码。</p> 
<p>具体来说，这两个字符集的区别在于所支持的语言和文化差异。en_US.UTF-8 适用于使用英语的国家或地区（例如美国、英国、加拿大、澳大利亚等），而 zh_CN.UTF-8 则适用于中国大陆地区。</p> 
<p>两者之间的主要区别在于它们所支持的字符和编码方式。UTF-8 编码是一种可变长编码，支持全球范围内的所有字符，包括汉字、拉丁字母、数字、符号等。不同的语言和地区可能会使用不同的字符集来支持本地化的字符和文化需求，因此需要选择相应的字符集来满足特定的需求。</p> 
<p>总之，选择正确的字符集对于保障文化多样性和跨国交流非常重要，特别是在开发和部署跨语言和跨地域的软件系统时。</p> 
<h3><a id="locale_47"></a>locale报错</h3> 
<p>如果在执行 locale 命令时出现错误提示，可能是因为当前系统没有安装或者没有正确配置语言环境。</p> 
<p>解决方案如下：</p> 
<p>确认是否安装了所需的语言包或工具：可以尝试安装相应的语言包或工具程序。例如，在 Ubuntu 系统上，可以使用以下命令安装中文支持：</p> 
<pre><code class="prism language-powershell">sudo apt-get install language-pack-zh-hans
</code></pre> 
<p>检查系统语言设置：可以检查系统语言设置是否正确。可以通过以下命令查看当前系统的语言设置：</p> 
<pre><code class="prism language-powershell">localectl status
</code></pre> 
<p>如果需要更改系统语言设置，可以使用以下命令进行修改：</p> 
<pre><code class="prism language-powershell">sudo localectl <span class="token function">set-locale</span> LANG=zh_CN<span class="token punctuation">.</span>UTF-8
</code></pre> 
<p>修改当前终端的字符集设置：如果仅仅是当前终端的字符集设置有问题，可以通过以下命令来修改当前终端的字符集设置：</p> 
<pre><code class="prism language-powershell">export LANG=zh_CN<span class="token punctuation">.</span>UTF-8
</code></pre> 
<p>以上三种方法可以帮助您解决 locale 命令报错的问题。如果还有其他问题，请根据具体情况进行排查和解决。</p> 
<h3><a id="CentOS_78"></a>CentOS安装</h3> 
<p>在 CentOS 中安装中文语言包并配置 zh_CN.UTF-8 可以通过以下步骤完成：</p> 
<p>安装中文语言包</p> 
<pre><code class="prism language-powershell">sudo yum install langpacks-zh_CN
</code></pre> 
<p>配置 zh_CN.UTF-8</p> 
<p>编辑 /etc/locale.conf 文件，添加如下内容：</p> 
<pre><code class="prism language-powershell">LANG=zh_CN<span class="token punctuation">.</span>UTF-8
LC_ALL=zh_CN<span class="token punctuation">.</span>UTF-8
</code></pre> 
<p>保存文件后，执行以下命令使设置生效：</p> 
<pre><code class="prism language-powershell">source <span class="token operator">/</span>etc/locale<span class="token punctuation">.</span>conf
</code></pre> 
<p>重新登录终端</p> 
<p>最后，在重新登录终端之后，您就可以使用 locale 命令来查看当前系统的字符集设置了。</p> 
<p>需要注意的是，如果您的系统已经有其他语言包，可能会有多个语言环境可供选择。在这种情况下，您可以根据自己的需求和实际情况来选择合适的语言环境。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/460a862980cd34d511edd7b13b5b48d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">#mac# 添加快捷键开启应用程序iTerm</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db5daee9c610502972783eede3cf3783/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker中搭建Mongo副本集 实现数据库的事务处理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>