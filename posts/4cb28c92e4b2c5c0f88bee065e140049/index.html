<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux下安装mysql-8.0.30超级详细 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux下安装mysql-8.0.30超级详细" />
<meta property="og:description" content="一、下载方式一: MySQL :: Download MySQL Community Server
或者到我的百度网盘中下载---- 链接：https://pan.baidu.com/s/1hZvfZw4S4TqF7XOFu_2ekg?pwd=ziuu 提取码：ziuu --来自百度网盘超级会员V6的分享
下载方式2---或者使用 -- wget 命令下载也是可以的! 4）、下载mysql8.0安装包--- 但是此命令 在哪个目录中执行此命令下载的包就在哪里
wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.30-linux-glibc2.12-x86_64.tar.xz 下载好后---开始安装步骤:---
先关闭防火墙
临时关闭防火墙 service iptables stop 临时开启防火墙 service iptables start 永久关闭防火墙 chkconfig iptables off 永久开启防火墙 chkconfig iptables on 或者下面命令 ~~~~ 1、systemctl status firewalld.service 查看防火墙状态 2、systemctl stop firewalld.service 进行关闭防火墙 3. systemctl disable firewalld.service 永久防火墙 4、systemctl status firewalld.service 查看防火墙状态 为(&#34;disavtive（dead）&#34;) 1）、切换到 /use/local下
cd /use/local 2）、创建mysql文件夹
mkdir mysql 3).把下载好的mysql-8.0.30-linux-glibc2.12-x86_64.tar.xz 放到/usr/local/mysql目录中
4）、解压mysql8.0安装包 -- 切换到 /use/local/mysql文件夹下面，执行命令" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4cb28c92e4b2c5c0f88bee065e140049/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-17T09:03:30+08:00" />
<meta property="article:modified_time" content="2023-03-17T09:03:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux下安装mysql-8.0.30超级详细</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#ff9900;">一、下载方式一:  <a href="https://dev.mysql.com/downloads/mysql/" rel="nofollow" title="MySQL :: Download MySQL Community Server">MySQL :: Download MySQL Community Server</a></span></p> 
<p></p> 
<p><img alt="" height="630" src="https://images2.imgbox.com/99/be/SUrnh4tF_o.png" width="800"></p> 
<p><span style="color:#ff9900;"> 或者到我的百度网盘中下载---- </span></p> 
<p><span style="color:#ff9900;">链接：https://pan.baidu.com/s/1hZvfZw4S4TqF7XOFu_2ekg?pwd=ziuu <br> 提取码：ziuu <br> --来自百度网盘超级会员V6的分享</span></p> 
<p><span style="color:#ff9900;">下载方式2---或者使用  --  wget 命令下载也是可以的! </span></p> 
<p>4）、下载mysql8.0安装包--- <span style="color:#fe2c24;">但是此命令 在哪个目录中执行此命令下载的包就在哪里</span></p> 
<pre><code> wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.30-linux-glibc2.12-x86_64.tar.xz</code></pre> 
<p></p> 
<p>下载好后---开始安装步骤:---</p> 
<p>先关闭防火墙</p> 
<pre><code>临时关闭防火墙    service iptables stop  

临时开启防火墙    service iptables start



永久关闭防火墙 chkconfig iptables off  

永久开启防火墙   chkconfig iptables on


或者下面命令 ~~~~


1、systemctl status firewalld.service  查看防火墙状态

2、systemctl stop firewalld.service  进行关闭防火墙

3. systemctl disable firewalld.service 永久防火墙 

4、systemctl status firewalld.service  查看防火墙状态 为("disavtive（dead）")



</code></pre> 
<p>1）、切换到 /use/local下</p> 
<pre><code>cd /use/local
</code></pre> 
<p>2）、创建mysql文件夹</p> 
<pre><code>mkdir mysql</code></pre> 
<p> <img alt="" height="85" src="https://images2.imgbox.com/1a/a5/8LZOQG3b_o.png" width="301"></p> 
<p>3).把下载好的mysql-8.0.30-linux-glibc2.12-x86_64.tar.xz 放到/usr/local/mysql目录中</p> 
<p>4）、解压mysql8.0安装包 -- 切换到 /use/local/mysql文件夹下面，执行命令<br>  </p> 
<pre><code>tar -xvf mysql-8.0.30-linux-glibc2.12-x86_64.tar.xz </code></pre> 
<p><br> 5）、重命名解压出来的文件夹，这里改成mysql-8.0</p> 
<pre><code>mv mysql-8.0.30-linux-glibc2.12-x86_64 mysql-8.0</code></pre> 
<p><br> 6）、/use/local/mysql文件夹下创建data文件夹 存储文件</p> 
<pre><code>mkdir data</code></pre> 
<p><br> 7）、<br> 分别创建用户组以及用户和密码（如果提示已存在说明之前有创建过了）</p> 
<pre><code>groupadd mysql
useradd -g mysql mysql</code></pre> 
<p>8）、授权刚刚新建的用户</p> 
<pre><code>chown -R mysql.mysql /usr/local/mysql/mysql-8.0
chmod 750 /usr/local/mysql/data -R</code></pre> 
<p> 9）、配置环境，编辑/etc/profile文件</p> 
<pre><code>vim /etc/profile</code></pre> 
<p>在最后一行加<br> export PATH=$PATH:/usr/local/mysql/mysql-8.0/bin:/usr/local/mysql/mysql-8.0/lib<br> （新手提示：添加完之后，按 ESC 然后 冒号:，打出“：wq” 保存(如果错误使用 :q!  退出)，用来保存文件并退出）-- <span style="color:#fe2c24;">如果不会用请看我的linux命令大全的文章</span></p> 
<p><img alt="" height="186" src="https://images2.imgbox.com/6e/10/d7X5ELv3_o.png" width="625"></p> 
<p>修改完后 -- 命令--刷新</p> 
<pre><code>source /etc/profile</code></pre> 
<p> <br> 10）、编辑my.cnf文件</p> 
<pre><code>vim /etc/my.cnf</code></pre> 
<pre><code class="language-cs">[mysql]
default-character-set=utf8
[client]
socket=/var/lib/mysql/mysql.sock

[mysqld]
port=3306
user=mysql
general_log = 1
general_log_file= /var/log/mysql/mysql.log
socket=/var/lib/mysql/mysql.sock
basedir=/usr/local/mysql/mysql-8.0
datadir=/usr/local/mysql/data
log-bin=/usr/local/mysql/data/mysql-bin
innodb_data_home_dir=/usr/local/mysql/data
innodb_log_group_home_dir=/usr/local/mysql/data/
character-set-server=utf8mb4
lower_case_table_names=1
autocommit=1
default_authentication_plugin=mysql_native_password
symbolic-links=0

[mysqld_safe]
log-error=/usr/local/mysql/data/mysql.log
pid-file=/usr/local/mysql/data/mysql.pid
</code></pre> 
<p>11）、切换到/usr/local/mysql/mysql-8.0/bin目录下--并安装 libaio 环境</p> 
<pre><code>cd /usr/local/mysql/mysql-8.0/bin
yum install -y libaio</code></pre> 
<p>如果出现 libaio.so1 错误--<span style="color:#fe2c24;">就是没有安装  yum install -y libaio  </span></p> 
<p><img alt="" height="69" src="https://images2.imgbox.com/5e/d8/PfQMj9sL_o.png" width="766"></p> 
<p>libaio 安装成功!!!!!</p> 
<p><img alt="" height="521" src="https://images2.imgbox.com/8a/8a/RLo7OIHH_o.png" width="769"><br> 12)、初始化基础信息,得到数据库的初始密码（在/usr/local/mysql/mysql-8.0/bin目录下执行）</p> 
<pre><code> 
./mysqld --user=mysql --basedir=/usr/local/mysql/mysql-8.0 --datadir=/usr/local/mysql/data/ --initialize

</code></pre> 
<p>如果出现错误</p> 
<p><img alt="" height="190" src="https://images2.imgbox.com/91/d4/7REL92WU_o.png" width="1200"></p> 
<p>删除  /usr/local/mysql/data 中的所有文件即可</p> 
<pre><code>cd /usr/local/mysql
rm -rf data
</code></pre> 
<p>然后再重新12步, 初始化基础!</p> 
<p></p> 
<p><img alt="" height="345" src="https://images2.imgbox.com/f2/bd/S19zyx22_o.png" width="782"><span style="color:#fe2c24;">成功后--- 找到  <strong>root@localhost: +#_a6.a0=t(T </strong></span><span style="color:#fe2c24;"><strong> </strong> 这个是初始密码--切记切记</span></p> 
<p>如果不成功, 那就是 <span style="color:#fe2c24;">vim /etc/my.cnf  中有错误,  请删除后 再复制加入</span></p> 
<p>13）、将mysqld服务添加到系统中--赋予权限</p> 
<pre><code>cd /usr/local/mysql/mysql-8.0
cp -a ./support-files/mysql.server /etc/init.d/mysql

chown 777 /etc/my.cnf
chmod +x /etc/init.d/mysql
chkconfig --add mysql</code></pre> 
<p>14)、检查一下/var/lib/mysql是否存在，否则进行创建 --- 可以不需要</p> 
<pre><code>mkdir /var/lib/mysql </code></pre> 
<p><br> 然后再赋予权限  --- 可以不需要</p> 
<pre><code>chown -R mysql:mysql /var/lib/mysql/ </code></pre> 
<p><br> 15)、启动数据库，有SUCCESS字眼说明MySQL安装完成</p> 
<pre><code>service mysql start</code></pre> 
<p><img alt="" height="49" src="https://images2.imgbox.com/9c/69/7Z3w3i8s_o.png" width="556"></p> 
<p> 成功!!!</p> 
<p> 16). 进入数据库--</p> 
<pre><code>mysql -uroot -p</code></pre> 
<p>输入刚才初始化的密码  <span style="color:#fe2c24;"><strong>+#_a6.a0=t(T</strong></span></p> 
<p> <img alt="" height="187" src="https://images2.imgbox.com/77/4f/Io93vszT_o.png" width="498"></p> 
<p>这里如果出现错误如: 密码已经过期--使用强制跳过密码登录</p> 
<p><img alt="" height="51" src="https://images2.imgbox.com/3f/bf/jhRKvnWr_o.png" width="871"></p> 
<p> 1、修改 vim /etc/my.cnf，在 [mysqld] 小节下添加一行：</p> 
<pre><code>skip-grant-tables=1</code></pre> 
<p>2.然后重启mysql</p> 
<pre><code class="language-cs">service mysql restart</code></pre> 
<p>3.然后输入mysql -uroot -p , 直接回车进入</p> 
<p>   <img alt="" height="228" src="https://images2.imgbox.com/38/ff/FgZXfAdJ_o.png" width="679"></p> 
<p> 4.然后修改密码</p> 
<pre><code class="language-cs">update mysql.user set authentication_string=password('root') where user='root' and Host = 'localhost';

alter user 'root'@'localhost' identified by 'root';


flush privileges;
</code></pre> 
<p>在之前的版本中，密码字段的字段名是 password，5.7版本改为了 authentication_string</p> 
<p>5、退出 mysql，编辑 /etc/my.cnf 文件，删除 skip-grant-tables=1 的内容</p> 
<p>6、重启 mysqld 服务，再用新密码登录。</p> 
<p></p> 
<p></p> 
<p></p> 
<p>如果不出错就是如下: </p> 
<p><img alt="" height="260" src="https://images2.imgbox.com/7c/ca/EUg2DL56_o.png" width="598"></p> 
<p> 17) .进入数据库后---<span style="color:#fe2c24;">修改密码</span></p> 
<p>第二步：修改密码，并设置远程连接（为了可以在别的机器下面连接该mysql）</p> 
<p>1）、修改数据库root账号的密码，并设置可以远程访问（因为root默认是不能远程访问的）</p> 
<pre><code class="language-sql">ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '新密码';</code></pre> 
<p>执行flush privileges; 使密码生效</p> 
<pre><code class="language-sql">flush privileges;</code></pre> 
<p>选择数据库</p> 
<pre><code class="language-sql"> use mysql;</code></pre> 
<p>再修改远程连接并生效</p> 
<pre><code class="language-sql">update user set host='%' where user='root';</code></pre> 
<p>执行提交命令，搞定！</p> 
<pre><code>flush privileges;</code></pre> 
<p>给mysql创建新的数据库用户并授予权限<br>  </p> 
<pre><code>1)创建用户(名称随意，这里的用户名称为mysql)并可以远程访问
CREATE user 'mysql'@'%'; 
#修改密码
alter user 'mysql'@'%' identified with mysql_native_password by 'tcl.2021'; 

2)创建新的数据库
#create database 数据库名 default character set utf8mb4 collate utf8mb4_unicode_ci;
3)把新的数据库授权给新用户
#将test库的所有权限赋予mysql用户
grant all privileges on test.* to "mysql"@"%";
grant all privileges on test.* to "tcl"@"%";

4）、刷新权限
flush privileges;</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/246232e9a740ee6e4938991375bf2fb8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构线性表部分习题(二)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6dd0d0356d5d641732335d9d8685de4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">新消费到底「新」在哪里？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>