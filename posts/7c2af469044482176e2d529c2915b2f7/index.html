<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一分钟教你配置DHCP服务，超级简单一看就会！！！！！ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一分钟教你配置DHCP服务，超级简单一看就会！！！！！" />
<meta property="og:description" content="DHCP
C/S架构
Client (UDP 68) /Server(UDP 67)
1,客户端首次获取IP
4个过程
2,客户端第二次获取IP
2个过程
DHCP工作流程图
DHCP DISCOVER(广播)
DHCP OFFER（单播或广播）
DHCP REQUEST(广播)
租期—1 day
T1时间… 租期的50% — 12小时
续租：使用单播的形式发送DHCP-Resquest
T2时间… 租期的87.5% ― 21小时
续租：使用广播的形式发送DHCP-Resquest
DHCP-Release — DHCP客户端主动释放IP地址使用的数据包
拓扑图
基本步骤
1，首先要分析pc都需要啥？（ip，子网掩码，网关）
2，其次要配置接口ip（g/0/0/0, g0/0/1），并将其当做为pc的网关
3，在路由器上打开dhcp服务（dhcp enable）
4，创建IP池
5，配置IP池(IP地址，子网掩码，网关)
6，接口上选择全局配置
7，pc端打开dhcp并且应用
ipconfig进行查看即可
R2配置代码
改名就不用说了
&lt;Huawei&gt;sys
[Huawei]sys r2 开启路由器的dhcp服务
[r2]dhcp enable Info: The operation may take a few seconds. Please wait for a moment.done.
[r2]dhcp enable
创建ip池" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7c2af469044482176e2d529c2915b2f7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-27T20:53:28+08:00" />
<meta property="article:modified_time" content="2023-02-27T20:53:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一分钟教你配置DHCP服务，超级简单一看就会！！！！！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> DHCP</p> 
<p>C/S架构</p> 
<p>Client (UDP 68) /Server(UDP 67)</p> 
<p>1,客户端首次获取IP</p> 
<p>4个过程</p> 
<p>2,客户端第二次获取IP</p> 
<p>2个过程</p> 
<p>DHCP工作流程图</p> 
<p style="margin-left:0;"><img alt="" height="322" src="https://images2.imgbox.com/40/ce/pjvnzSu1_o.png" width="598"></p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;">DHCP DISCOVER(广播)</p> 
<p style="margin-left:0;">DHCP OFFER（单播或广播）</p> 
<p style="margin-left:0;">DHCP REQUEST(广播)</p> 
<p style="margin-left:0;"></p> 
<p>租期—1 day</p> 
<p style="margin-left:0;">T1时间… 租期的50% — 12小时</p> 
<p style="margin-left:0;">续租：使用单播的形式发送DHCP-Resquest</p> 
<p style="margin-left:0;">T2时间… 租期的87.5% ― 21小时</p> 
<p style="margin-left:0;">续租：使用广播的形式发送DHCP-Resquest</p> 
<p>DHCP-Release — DHCP客户端主动释放IP地址使用的数据包</p> 
<p> 拓扑图</p> 
<p><img alt="" height="668" src="https://images2.imgbox.com/c6/1c/y3cy9HTq_o.png" width="812"></p> 
<p><span style="background-color:#ffd900;"> 基本步骤</span></p> 
<p style="margin-left:0;">1，首先要分析pc都需要啥？（<span style="color:#fe2c24;">ip，子网掩码，网关</span>）</p> 
<p style="margin-left:0;">2，其次要配置接口ip（g/0/0/0, g0/0/1），并将其当做为pc的网关</p> 
<p style="margin-left:0;">3，在路由器上打开dhcp服务（dhcp enable）</p> 
<p style="margin-left:0;">4，创建IP池</p> 
<p style="margin-left:0;">5，配置IP池(IP地址，子网掩码，网关)</p> 
<p style="margin-left:0;">6，接口上选择全局配置</p> 
<p>7，pc端打开dhcp并且应用</p> 
<p style="margin-left:.375in;">ipconfig进行查看即可</p> 
<p style="margin-left:.375in;"></p> 
<p> <span style="background-color:#ff9900;">R2配置代码</span></p> 
<p style="margin-left:0;">改名就不用说了</p> 
<p style="margin-left:0;">&lt;Huawei&gt;sys</p> 
<p style="margin-left:0;">[Huawei]sys r2 </p> 
<p style="margin-left:0;"><span style="color:#fe2c24;">开启路由器的dhcp服务</span></p> 
<p style="margin-left:0;">[r2]dhcp enable </p> 
<p style="margin-left:0;">Info: The operation may take a few seconds. Please wait for a moment.done.</p> 
<p style="margin-left:0;">[r2]dhcp enable</p> 
<p style="margin-left:0;"><span style="color:#fe2c24;">创建ip池</span></p> 
<p style="margin-left:0;">[r2]ip pool 1</p> 
<p style="margin-left:0;">Info: It's successful to create an IP address pool.</p> 
<p style="margin-left:0;">[-ip-pool-1]network 192.168.1.0 mask 24 ——配置ip池的范围，以及掩码</p> 
<p style="margin-left:0;">[r2-ip-pool-1]gateway-list 192.168.1.1——配置网关地址（地址与出接口地址一致）</p> 
<p style="margin-left:0;">[r2-ip-pool-1]dns-list 114.114.114.114 8.8.8.8——配置dns服务器地址（由于这里没有电dns服务器所以就随便写了两个，前边首选，后边备选）</p> 
<p style="margin-left:0;"><span style="color:#fe2c24;">进入接口，配置出接口ip地址</span></p> 
<p style="margin-left:0;">[r2]int g 0/0/0                                    </p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/0]ip add 192.168.1.1 24</p> 
<p style="margin-left:0;">Feb 27 2023 20:20:54-08:00 r2 %%01IFNET/4/LINK_STATE(l)[2]:The line protocol IP </p> 
<p style="margin-left:0;">on the interface GigabitEthernet0/0/0 has entered the UP state. </p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/0]dis this</p> 
<p style="margin-left:0;">[V200R003C00]</p> 
<p style="margin-left:0;">#</p> 
<p style="margin-left:0;">interface GigabitEthernet0/0/0</p> 
<p style="margin-left:0;"> ip address 192.168.1.1 255.255.255.0 </p> 
<p style="margin-left:0;">#</p> 
<p style="margin-left:0;"><span style="color:#fe2c24;">并且打开出接口的dhcp全局配置</span></p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/0]dhcp select global </p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/0]int g 0/0/1</p> 
<p style="margin-left:0;"><span style="color:#fe2c24;">配置0/0/0接口ip地址</span></p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/1]ip add 192.168.2.1 24</p> 
<p style="margin-left:0;">[r2-GigabitEthernet0/0/1]dis this——不放心了可以查看一下</p> 
<p style="margin-left:0;">[V200R003C00]</p> 
<p style="margin-left:0;">#</p> 
<p style="margin-left:0;">interface GigabitEthernet0/0/1</p> 
<p style="margin-left:0;"> ip address 192.168.2.1 255.255.255.0 </p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;"><span style="background-color:#ffd900;">R3配置代码</span></p> 
<p style="margin-left:0;">R3配置基本和R2一致，所以就省略文字了。</p> 
<p style="margin-left:0;">&lt;Huawei&gt;sys</p> 
<p style="margin-left:0;">[Huawei]sys r3</p> 
<p style="margin-left:0;">[r3]dhcp enable</p> 
<p style="margin-left:0;">Info: The operation may take a few seconds. Please wait for a moment.done.</p> 
<p style="margin-left:0;">[r3]dhcp enable</p> 
<p style="margin-left:0;">[r3]ip pool 2</p> 
<p style="margin-left:0;">[r3-ip-pool-2]network 192.168.3.0 mask 24</p> 
<p style="margin-left:0;">[r3-ip-pool-2]gateway-list 192.168.3.1         </p> 
<p style="margin-left:0;">[r3-ip-pool-2]dns-list 114.114.114.114 8.8.8.8</p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;">[r3]int g 0/0/0</p> 
<p style="margin-left:0;">[r3-GigabitEthernet0/0/0]dhcp select global</p> 
<p style="margin-left:0;">[r3-GigabitEthernet0/0/0]ip add 192.168.3.1 24</p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;">[r3]int g0/0/1</p> 
<p style="margin-left:0;">[r3-GigabitEthernet0/0/1]ip add 192.168.2.2 24</p> 
<p style="margin-left:0;">Feb 27 2023 20:28:06-08:00 r3 %%01IFNET/4/LINK_STATE(l)[2]:The line protocol IP</p> 
<p style="margin-left:0;">on the interface GigabitEthernet0/0/1 has entered the UP state. </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e1ce0aaf558d1cc5de19cee17ca584a2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">假溢出的解决策略</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/473cab5a1805722877e04e001fca1582/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux中内存交换空间(swap)之创建</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>