<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Studi安卓读写NDEF智能海报源码 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android Studi安卓读写NDEF智能海报源码" />
<meta property="og:description" content="本示例使用的发卡器：https://item.taobao.com/item.htm?id=615391857885&amp;spm=a1z10.5-c.w4002-21818769070.11.1f60789ey1EsPH
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:padding=&#34;3dp&#34; tools:context=&#34;.NdefURLActivity&#34;&gt; &lt;androidx.appcompat.widget.Toolbar android:id=&#34;@&#43;id/toolbar&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;30dp&#34; android:background=&#34;?attr/colorPrimary&#34; app:navigationIcon=&#34;@drawable/baseline_arrow_back_ios_24&#34; app:titleTextColor=&#34;@color/white&#34; tools:ignore=&#34;MissingConstraints&#34; tools:layout_editor_absoluteY=&#34;0dp&#34;&gt; &lt;TextView android:id=&#34;@&#43;id/TextViewlabelDispleft&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;match_parent&#34; android:text=&#34;返回&#34; android:textColor=&#34;@color/white&#34; android:textSize=&#34;16sp&#34; android:gravity=&#34;center&#34; android:onClick=&#34;retmain&#34; /&gt; &lt;TextView android:id=&#34;@&#43;id/TextViewlabelDisp&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; android:text=&#34;NDEF_URL &#34; android:textColor=&#34;@color/white&#34; android:textSize=&#34;16sp&#34; android:gravity=&#34;center_horizontal|right|center&#34; app:layout_constraintBottom_toBottomOf=&#34;parent&#34; app:layout_constraintEnd_toEndOf=&#34;parent&#34; app:layout_constraintStart_toStartOf=&#34;@&#43;id/TextViewlabelDispleft&#34; app:layout_constraintTop_toTopOf=&#34;parent&#34; /&gt; &lt;/androidx.appcompat.widget.Toolbar&gt; &lt;TextView android:id=&#34;@&#43;id/sample_text&#34; android:layout_width=&#34;fill_parent&#34; android:layout_height=&#34;150dp&#34; android:padding=&#34;3dp&#34; android:text=&#34;操作结果&#34; android:textSize=&#34;12sp&#34; android:background=&#34;@drawable/shape4border&#34; app:layout_constraintLeft_toLeftOf=&#34;parent&#34; app:layout_constraintBottom_toBottomOf=&#34;parent&#34; /&gt; &lt;ScrollView android:id=&#34;@&#43;id/scrollViewIC&#34; android:layout_width=&#34;fill_parent&#34; android:layout_height=&#34;0dp&#34; android:layout_marginBottom=&#34;5dp&#34; app:layout_constraintLeft_toLeftOf=&#34;parent&#34; app:layout_constraintTop_toBottomOf=&#34;@&#43;id/toolbar&#34; app:layout_constraintBottom_toTopOf=&#34;@&#43;id/sample_text&#34; android:scrollbars=&#34;horizontal&#34; &gt; &lt;androidx.constraintlayout.widget.ConstraintLayout android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c1a5b8e9c20b6651b305b3bc3c3476a9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-18T17:24:31+08:00" />
<meta property="article:modified_time" content="2024-01-18T17:24:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Studi安卓读写NDEF智能海报源码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d4/e9/JEhgTmMd_o.png"></p> 
<p>本示例使用的发卡器：<a href="https://item.taobao.com/item.htm?id=615391857885&amp;spm=a1z10.5-c.w4002-21818769070.11.1f60789ey1EsPH" rel="nofollow" title="https://item.taobao.com/item.htm?id=615391857885&amp;spm=a1z10.5-c.w4002-21818769070.11.1f60789ey1EsPH">https://item.taobao.com/item.htm?id=615391857885&amp;spm=a1z10.5-c.w4002-21818769070.11.1f60789ey1EsPH</a></p> 
<pre><code class="language-XML">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="3dp"
    tools:context=".NdefURLActivity"&gt;

    &lt;androidx.appcompat.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="30dp"
        android:background="?attr/colorPrimary"
        app:navigationIcon="@drawable/baseline_arrow_back_ios_24"
        app:titleTextColor="@color/white"
        tools:ignore="MissingConstraints"
        tools:layout_editor_absoluteY="0dp"&gt;

        &lt;TextView
            android:id="@+id/TextViewlabelDispleft"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:text="返回"
            android:textColor="@color/white"
            android:textSize="16sp"
            android:gravity="center"
            android:onClick="retmain" /&gt;

        &lt;TextView
            android:id="@+id/TextViewlabelDisp"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:text="NDEF_URL  "
            android:textColor="@color/white"
            android:textSize="16sp"
            android:gravity="center_horizontal|right|center"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="@+id/TextViewlabelDispleft"
            app:layout_constraintTop_toTopOf="parent" /&gt;

    &lt;/androidx.appcompat.widget.Toolbar&gt;

    &lt;TextView
        android:id="@+id/sample_text"
        android:layout_width="fill_parent"
        android:layout_height="150dp"
        android:padding="3dp"
        android:text="操作结果"
        android:textSize="12sp"
        android:background="@drawable/shape4border"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"

        /&gt;


    &lt;ScrollView
        android:id="@+id/scrollViewIC"
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_marginBottom="5dp"

        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/toolbar"
        app:layout_constraintBottom_toTopOf="@+id/sample_text"
        android:scrollbars="horizontal"
        &gt;

        &lt;androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="3dp"         &gt;

            &lt;TextView
                android:id="@+id/textlabletitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="10dp"
                android:text="标题:"
                android:textSize="16sp"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toTopOf="parent" /&gt;

            &lt;EditText
                android:id="@+id/Edittexttitle"
                android:layout_width="350dp"
                android:layout_height="wrap_content"
                android:textSize="16sp"
                android:gravity="left"
                android:hint="百度"
                app:layout_constraintBottom_toBottomOf="@+id/textlabletitle"
                app:layout_constraintLeft_toRightOf="@+id/textlabletitle"
                app:layout_constraintTop_toTopOf="@+id/textlabletitle" /&gt;

            &lt;TextView
                android:id="@+id/textlableprefix"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="10dp"
                android:text="前缀:"
                android:textSize="16sp"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/textlabletitle" /&gt;

            &lt;Spinner
                android:id="@+id/spin_Selurlprefix"
                android:layout_width="350dp"
                android:layout_height="wrap_content"
                android:entries="@array/NdefUrlPrefix"
                android:theme="@style/my_spinner_style"
                app:layout_constraintBottom_toBottomOf="@+id/textlableprefix"
                app:layout_constraintLeft_toRightOf="@+id/textlableprefix"
                app:layout_constraintTop_toTopOf="@+id/textlableprefix" /&gt;

            &lt;EditText
                android:id="@+id/edittexturl"
                android:layout_width="match_parent"
                android:layout_height="80dp"
                android:layout_marginLeft="38dp"
                android:layout_marginTop="10dp"
                android:background="@drawable/shape4border"
                android:gravity="left"
                android:inputType="textCapCharacters"
                android:maxLines="8"
                android:hint="baidu.com"
                android:textSize="12sp"
                app:layout_constraintLeft_toRightOf="@+id/textlableprefix"
                app:layout_constraintTop_toBottomOf="@+id/spin_Selurlprefix" /&gt;

            &lt;Button
                android:id="@+id/butt_writeurltag"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_marginTop="8dp"
                android:text="将以上URL写入标签"
                android:textSize="14sp"
                android:onClick="writeurltag"
                app:layout_constraintLeft_toLeftOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/edittexturl" /&gt;

        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;


    &lt;/ScrollView&gt;


&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre> 
<p></p> 
<pre><code class="language-java">package com.usbreadertest;

import android.os.Bundle;
import android.view.MenuItem;
import android.view.View;
import android.widget.EditText;
import android.widget.Spinner;
import android.widget.TextView;

import androidx.appcompat.app.AppCompatActivity;

import com.reader.ourmifare;

public class NdefURLActivity extends AppCompatActivity {
    private TextView tv;
    private Spinner ctrselefix;
    private EditText ctrtitle;
    private EditText ctrurlinf;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_ndef_url);

        androidx.appcompat.widget.Toolbar toolbar=findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);

        tv = findViewById(R.id.sample_text);
        tv.setText("操作结果");

        ctrselefix=findViewById(R.id.spin_Selurlprefix);
        ctrselefix.setSelection(2);

        ctrurlinf=findViewById(R.id.edittexturl);
        ctrurlinf.requestFocus();

        ctrtitle=findViewById(R.id.Edittexttitle);
    }

    @Override
    public void onBackPressed(){
        super.onBackPressed();
        finish();
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        if(item.getItemId()==android.R.id.home){
            finish();
            return true;
        }
        return super.onOptionsItemSelected(item);
    }

    public void retmain(View view)
    {
        finish();
    }

    public void writeurltag(View view)  throws Exception  {
        String languagecodestr="en";
        byte[] languagecodebyte= languagecodestr.getBytes("gb2312");
        int languagecodestrlen=languagecodebyte.length;

        String urltstr=ctrurlinf.getText().toString().trim();
        if(urltstr.length()&lt;1){
            tv.setText("请输入要写入的网址！");
            ctrurlinf.requestFocus();
            return;
        }
        byte[] urlbyte=urltstr.getBytes();
        int  urllen=urlbyte.length;

        String titletstr=ctrtitle.getText().toString().trim();
        byte[] titlebyte=titletstr.getBytes();
        int titlelen=titlebyte.length;

        byte urlheaderindex = (byte)(ctrselefix.getSelectedItemId());

        ourmifare.tagbufclear();    //先清空NDEF数据缓冲
        byte status=ourmifare.tagbufadduri(languagecodebyte,languagecodestrlen,titlebyte,titlelen,urlheaderindex,urlbyte,urllen);   //生成NDEF数据缓冲
        if (status==0){
            int tagtype=NdefTextActivity.CheckCardType();    //检测发卡器上标签类型
            if(tagtype==-1){
                tv.setText("发卡器感应区未发现有效的NDEF标签！");
                return;
            }
            byte[] mypiccserial=new byte[8];
            status=NdefTextActivity.WriteTag(tagtype,mypiccserial);   //将已生成的NDEF数据写入不同的标签内
            String dispinfo=NdefTextActivity.dispwritetag(status ,mypiccserial,tagtype);
            tv.setText(dispinfo);
        }
    }
}
</code></pre> 
<p>源码下载：<a href="https://download.csdn.net/download/zhangjin7422/88756686" title="AndroidstudioRFIDNFC读写源码资源-CSDN文库">AndroidstudioRFIDNFC读写源码资源-CSDN文库</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b88507189b4ddf2df2edafd028de7b15/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件测评中心▏正式验收测试和非正式验收的优缺点简析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b45e942a715af961d225a7848f83a412/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安全狗荣获“厦门市专精特新中小企业”称号</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>