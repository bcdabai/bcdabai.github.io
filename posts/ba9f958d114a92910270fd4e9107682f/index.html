<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python3扫描指定目标IP端口的脚本 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python3扫描指定目标IP端口的脚本" />
<meta property="og:description" content="该脚本使用了Python的socket模块来进行网络连接和通信，并利用concurrent.futures模块实现了并发扫描。它接受三个命令行参数：目标IP地址、起始端口和结束端口。如果没有提供这些参数，脚本将打印出用法信息并退出。脚本使用多线程并发扫描指定的端口范围，如果端口开放，则打印出端口号、协议类型和“开放”字样。
扫描计时，端口开放的协议
执行效果： 脚本 import sys import socket import concurrent.futures from datetime import datetime # 获取命令行参数 if len(sys.argv) == 2: target = sys.argv[1] start_port = 1 end_port = 65535 elif len(sys.argv) == 4: target = sys.argv[1] start_port = int(sys.argv[2]) end_port = int(sys.argv[3]) else: print(&#34;用法: python3 portscanner.py &lt;目标IP&gt; [&lt;起始端口&gt; &lt;结束端口&gt;]&#34;) sys.exit() # 获取当前时间 time_start = datetime.now() # 打印扫描开始信息 print(&#34;-&#34; * 50) print(&#34;开始扫描: &#34; &#43; target) print(&#34;扫描时间: &#34; &#43; str(time_start)) print(&#34;-&#34; * 50) # 获取目标主机的IP地址 try: target_ip = socket." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ba9f958d114a92910270fd4e9107682f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-15T11:22:07+08:00" />
<meta property="article:modified_time" content="2023-05-15T11:22:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python3扫描指定目标IP端口的脚本</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <blockquote> 
  <p>该脚本使用了Python的socket模块来进行网络连接和通信，并利用concurrent.futures模块实现了并发扫描。它接受三个命令行参数：目标IP地址、起始端口和结束端口。如果没有提供这些参数，脚本将打印出用法信息并退出。脚本使用多线程并发扫描指定的端口范围，如果端口开放，则打印出端口号、协议类型和“开放”字样。<br></p> 
  <p>扫描计时，端口开放的协议<br></p> 
 </blockquote> 
 <pre class="has"><code class="language-go">执行效果：</code></pre> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/f2/0e/yoZ1J9XS_o.png" alt="3da643a9a2354ba736d01a86bfcbeac7.png"></p> 
 <pre class="has"><code class="language-go">脚本
import sys
import socket
import concurrent.futures
from datetime import datetime

# 获取命令行参数
if len(sys.argv) == 2:
    target = sys.argv[1]
    start_port = 1
    end_port = 65535
elif len(sys.argv) == 4:
    target = sys.argv[1]
    start_port = int(sys.argv[2])
    end_port = int(sys.argv[3])
else:
    print("用法: python3 portscanner.py &lt;目标IP&gt; [&lt;起始端口&gt; &lt;结束端口&gt;]")
    sys.exit()

# 获取当前时间
time_start = datetime.now()

# 打印扫描开始信息
print("-" * 50)
print("开始扫描: " + target)
print("扫描时间: " + str(time_start))
print("-" * 50)

# 获取目标主机的IP地址
try:
    target_ip = socket.gethostbyname(target)
except socket.gaierror:
    print("无法解析主机名")
    sys.exit()

# 定义扫描函数
def scan_port(port):
    try:
        # 创建TCP连接
        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:
            sock.settimeout(0.5)
            result = sock.connect_ex((target_ip, port))
            if result == 0:
                # 获取端口支持的协议
                protocol = socket.getservbyport(port)
                print("端口 {}: 开放 ({})".format(port, protocol))
    except Exception:
        pass

# 创建线程池并发扫描
with concurrent.futures.ThreadPoolExecutor() as executor:
    futures = []
    for port in range(start_port, end_port+1):
        futures.append(executor.submit(scan_port, port))
    concurrent.futures.wait(futures)

# 获取扫描结束时间
time_end = datetime.now()

# 打印扫描结束信息
print("-" * 50)
print("扫描完成: " + target)
print("总耗时: " + str(time_end - time_start))
print("-" * 50)</code></pre> 
 <blockquote> 
  <p><strong>波哥开启波哥帮办业务:</strong></p> 
  <p><strong>想考</strong><strong>PMP，软考</strong><strong>的可以咨询波哥，</strong><strong>波哥能保证我的渠道优于市面上90%自己找渠道的散户小朋友，绝对无坑。</strong></p> 
  <p style="text-align:center;"><strong> +V </strong><strong></strong><strong></strong></p> 
 </blockquote> 
 <pre class="has"><code class="language-go">itboge1521</code></pre> 
 <pre></pre> 
 <blockquote> 
  <p>腾讯云服务器<strong>3年408</strong><strong>复制链接</strong>或者点<strong>阅读原文</strong></p> 
 </blockquote> 
 <pre class="has"><code class="language-go">https://url.cn/0LMFe5AG</code></pre> 
 <hr> 
 <blockquote> 
  <h6>波哥</h6> 
  <p>IT行业近二十年的IT老炮。常年潜伏于国企、各一二线大厂中。硬件集成入行，直至虚拟技术、容器化。岗位历经系统集成、DBA、全栈开发、sre、项目经理、产品经理、部门总监。</p> 
  <h6>主要作品：</h6> 
  <ul><li><p>IT类资源汇聚门户：<strong>https://www.98dev.com</strong></p></li><li><p>各大短视频平台：<strong>98dev</strong></p></li><li><p>各大主要技术论坛博客：<strong>IT运维技术圈</strong></p></li><li><p>长视频教学作品：<strong>《波哥讲网络》《波哥讲git》《波哥讲gitlab》</strong></p></li><li><p>小程序：<strong>IT面试精选</strong></p></li><li><p>构建技术社区：+V <strong>itboge1521</strong> 入学习交流群</p></li></ul> 
 </blockquote> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5562a237bb8d71d96ec0d27d5bc63a0f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring Boot自动装配</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6f06ab321563987f042c9fa99ae90cb6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">umi &#43; react &#43;pptx 实现前端在线预览pptx文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>