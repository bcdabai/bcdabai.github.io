<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>鲲鹏云HCIA知识总结（一） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="鲲鹏云HCIA知识总结（一）" />
<meta property="og:description" content="前言：
大二下学期有幸参加了华为鲲鹏云的一个训练营，自开营已经过去了一周时间，期间学到了很多新的知识，也拓宽了自己的眼界(●ˇ∀ˇ●)。训练营的最终目的是通过华为的HCIA认证，因此总结一下这几天的知识点。
不得不说这几天学习的内容是挺多的，内容也很琐碎，看来想通过这个认证着实不容易，好了开始总结知识点 (ง •_•)ง
第一章 鲲鹏介绍 这章在考试大纲中占10%，而且全是理论知识，主要介绍了鲲鹏计算产业以及鲲鹏生态，华为鲲鹏处理器的架构，型号与规格，技术创新与应用场景，TaiShan200机架服务器和高密服务器，华为云鲲鹏云服务，鲲鹏计算平台的操作系统兼容性以及openEuler开源操作系统的发展和特性等内容。记录一下重点的内容。
2019年华为推出的鲲鹏920处理器是业界第一颗7nm工艺处理器。
鲲鹏生态兼容的操作系统介绍：
华为鲲鹏伙伴计划
思考题：
华为鲲鹏计算产业相关产品有哪些？（ ABC ）
A、华为鲲鹏处理器
B、TaiShan服务器
C、华为云鲲鹏云服务
围绕鲲鹏计算产业，华为提供（ ABCD ）支持。
A、云服务
B、工具链
C、社区服务
D、专业服务
华为鲲鹏处理器架构介绍： 华为鲲鹏处理器基于ARM架构。ARM是一种CPU架构，有别于Intel、AMD CPU采用的CISC复杂指令集，ARM CPU采用RISC精简指令集（reduced instruction set computer，精简指令集计算机）。
Kunpeng 920内置多种加速引擎，同时TaiShan 200服务器基于Kunpeng 920芯片提供的硬件加速解决方案，包含了对称加密、非对称加密和数字签名、压缩解压缩等算法。
Kunpeng 920加速器简介：
思考题
Kunpeng 920加速器子系统需要安装？（√）
Suse操作系统是从哪个版本开始处于Kunpeng 920的OS生态圈？（D）
A. SLES 12.3
B. SLES 12.4
C. SLES 15
D. SLES 15.1
以下哪些关于华为鲲鹏920处理器的描述是正确的？（ ABCD）
A.采用了7nm的制造工艺；
B.支持8通道的DDR4控制器；
C.支持PCIe 4.0接口，并兼容PCIe 3.0/2.0/1.0；
D.支持多种加速器；
华为鲲鹏920处理器内置了那些加速器？（ABC）
A、SSL加速引擎
B、加解密加速引擎
C、压缩解压缩加速引擎
以下哪些属于华为鲲鹏920芯片的特点？（ABC）
A. 集成最多64个自研核" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/aaddd34e2a32e6df446d4bff94c173e4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-05T16:19:56+08:00" />
<meta property="article:modified_time" content="2020-04-05T16:19:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">鲲鹏云HCIA知识总结（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/0a/55/iA7VqFiY_o.png" alt="在这里插入图片描述"><br> 前言：<br>         大二下学期有幸参加了华为鲲鹏云的一个训练营，自开营已经过去了一周时间，期间学到了很多新的知识，也拓宽了自己的眼界(●ˇ∀ˇ●)。训练营的最终目的是通过华为的HCIA认证，因此总结一下这几天的知识点。</p> 
<p>不得不说这几天学习的内容是挺多的，内容也很琐碎，看来想通过这个认证着实不容易，好了开始总结知识点 (ง •_•)ง</p> 
<h4><a id="__5"></a>第一章 鲲鹏介绍</h4> 
<p>这章在考试大纲中占10%，而且全是理论知识，主要介绍了鲲鹏计算产业以及鲲鹏生态，华为鲲鹏处理器的架构，型号与规格，技术创新与应用场景，TaiShan200机架服务器和高密服务器，华为云鲲鹏云服务，鲲鹏计算平台的操作系统兼容性以及openEuler开源操作系统的发展和特性等内容。记录一下重点的内容。</p> 
<ul><li> <p>2019年华为推出的鲲鹏920处理器是业界第一颗7nm工艺处理器。</p> </li><li> <p>鲲鹏生态兼容的操作系统介绍：<br> <img src="https://images2.imgbox.com/5e/c7/l5OExD5u_o.png" alt="在这里插入图片描述"></p> </li><li> <p>华为鲲鹏伙伴计划<br> <img src="https://images2.imgbox.com/2e/68/j7sdQqHX_o.png" alt="在这里插入图片描述"></p> </li><li> <p>思考题：</p> </li></ul> 
<ol><li> <p>华为鲲鹏计算产业相关产品有哪些？（ ABC ）<br> A、华为鲲鹏处理器<br> B、TaiShan服务器<br> C、华为云鲲鹏云服务</p> </li><li> <p>围绕鲲鹏计算产业，华为提供（ ABCD ）支持。<br> A、云服务<br> B、工具链<br> C、社区服务<br> D、专业服务</p> </li></ol> 
<ul><li>华为鲲鹏处理器架构介绍：</li></ul> 
<p>华为鲲鹏处理器基于ARM架构。ARM是一种CPU架构，有别于Intel、AMD CPU采用的<strong>CISC</strong>复杂指令集，ARM CPU采用<strong>RISC</strong>精简指令集（reduced instruction set computer，精简指令集计算机）。</p> 
<ul><li> <p>Kunpeng 920内置多种加速引擎，同时TaiShan 200服务器基于Kunpeng 920芯片提供的硬件加速解决方案，包含了<code>对称加密</code>、<code>非对称加密</code>和<code>数字签名</code>、<code>压缩解压缩</code>等算法。</p> </li><li> <p>Kunpeng 920加速器简介：<br> <img src="https://images2.imgbox.com/7e/c5/RWd1Wu9O_o.png" alt="在这里插入图片描述"></p> </li><li> <p>思考题</p> </li></ul> 
<ol><li> <p>Kunpeng 920加速器子系统需要安装？（√）</p> </li><li> <p>Suse操作系统是从哪个版本开始处于Kunpeng 920的OS生态圈？（D）<br> A. SLES 12.3<br> B. SLES 12.4<br> C. SLES 15<br> D. SLES 15.1</p> </li><li> <p>以下哪些关于华为鲲鹏920处理器的描述是正确的？（ ABCD）<br> A.采用了7nm的制造工艺；<br> B.支持8通道的DDR4控制器；<br> C.支持PCIe 4.0接口，并兼容PCIe 3.0/2.0/1.0；<br> D.支持多种加速器；</p> </li><li> <p>华为鲲鹏920处理器内置了那些加速器？（ABC）<br> A、SSL加速引擎<br> B、加解密加速引擎<br> C、压缩解压缩加速引擎</p> </li><li> <p>以下哪些属于华为鲲鹏920芯片的特点？（ABC）<br> A. 集成最多64个自研核<br> B. 支持8通道DDR4控制器<br> C. 支持CCIX接口<br> D. 只支持GE/10GE网络</p> </li></ol> 
<p><strong>TaiShan服务器系列介绍：</strong></p> 
<ul><li> <p>第一代TaiShan 100服务器是基于鲲鹏916处理器，2016年推出市场。2019年推出TaiShan 200服务器基于最新的鲲鹏920处理器，是市场的主打产品。</p> </li><li> <p>TaiShan服务器目前已经规模商用的有2280均衡型、5280存储型，X6000高密型。</p> </li></ul> 
<p><strong>思考题</strong></p> 
<ol><li> <p>以下哪项不是TaiShan服务器的优点？（D）<br> A. 国产化，自主安全可控<br> B. 多物理核心，并发性能高<br> C. 低功耗，绿色节能<br> D. 生态完备，上层应用支持好</p> </li><li> <p>TaiShan 200机架服务器包含哪些型号？(ABC)<br> A.2280<br> B.5280<br> C.2480<br> D.X6000(X6000属于高密服务器)</p> </li></ol> 
<ul><li>鲲鹏弹性云服务器优势：覆盖全场景；极致性价比；与x86实例功能一致；生态丰富。</li></ul> 
<p><strong>思考题</strong></p> 
<ol><li> <p>鲲鹏弹性云服务器的种类不包含的是 ？(D)<br> A. 通用型<br> B. 存储密集型<br> C. 内存密集型<br> D. 网络密集型</p> </li><li> <p>华为鲲鹏BMS(华为鲲鹏裸金属服务器）云服务器最高可提供多少核？(D)<br> A.32<br> B.48<br> C.64<br> D.128</p> </li><li> <p>Android手机应用在鲲鹏云服务上运行仍需要指令翻译器？（X）</p> </li><li> <p>华为鲲鹏云服务包括以下哪些？(ABCD)<br> A. 华为鲲鹏裸金属服务器<br> B. 鲲鹏弹性云服务器<br> C. 鲲鹏容器<br> D. 鲲鹏云手机</p> </li><li> <p>云手机支持哪些场景？（ABC）<br> 1、智能应用托管<br> 2、云游戏<br> 3、移动安全办公</p> </li><li> <p>华为云鲲鹏云手机优势 ？（ABCD）<br> A. 基于华为自硏芯片及硬件底座<br> B. 支持自研高性能GPU<br> C. 兼容32/64位ARM原生指令<br> D. Monbox双ZOS共内核架构</p> </li><li> <p>只有华为云提供了arm服务器?（√）</p> </li></ol> 
<ul><li>云容器引擎（Cloud Container Engine，CCE）,云容器实例（Cloud Container Instance， CCI）</li></ul> 
<p><strong>华为鲲鹏处理器OS兼容性：</strong><br> 目前鲲鹏处理器仅支持Linux类型操作系统，包括：<br> <img src="https://images2.imgbox.com/3e/16/7ZjaCsCQ_o.png" alt="在这里插入图片描述"><br> <strong>思考题：</strong></p> 
<ol><li>Linux操作系统之父是谁？<br> Linus Torvalds</li><li>TaiShan服务器支持哪个中标麒麟版本？（A）<br> A、支持NeoKylin Server v5.0 U5<br> B、支持NeoKylin Server v4.0 U4<br> C、Kylin Server v5.0 U5<br> D、Kylin Server v4.0 U4</li></ol> 
<ul><li> <p>openEuler概述：<br> openEuler是一款开源操作系统（2019年开源）。当前openEuler内核源于Linux，支持鲲鹏及其它多种处理器，能够充分释放计算芯片的潜能，是由全球开源贡献者构建的高效、稳定、安全的开源操作系统。</p> </li><li> <p>鲲鹏计算平台已经兼容的操作系统可通过<code>http://support.huawei.com/onlinetoolweb/ftca/index?serise=9</code> 链接查询。</p> </li></ul> 
<p><strong>思考题：</strong></p> 
<ol><li>欧拉操作系统可以装在以下哪些服务器上？（D）<br> A.RH5885 V5<br> B.RH5885 V3<br> C.TaiShan 100<br> D.TaiShan 200</li><li>以下那些内容不享受鲲鹏服务？（C）<br> A.购买Taishan服务器<br> B.购买鲲鹏云服务<br> C.购买RH服务器</li></ol> 
<p>I.openEuler OS是哪年开源的？（D）<br> A、2010 B、2016 C、2018 D、2019</p> 
<p>II. 请判断：A-Tune是一种通过非侵入式系统画像的负载感知方法，识别业务并匹配最佳资源模型，实时响应业务特征变化的AI自动调优系统。（√）</p> 
<p>III.哪些操作系统是国内的操作系统？<br> <img src="https://images2.imgbox.com/af/62/lnDiPm8K_o.png" alt="在这里插入图片描述"><br> Ⅳ. 鲲鹏芯片都可以应用在哪些地方？<br> Taishan服务器和华为鲲鹏云服务。</p> 
<h4><a id="__154"></a>第二章 应用移植</h4> 
<p>这章的知识点占比为<strong>25%</strong> ，介绍了华为鲲鹏平台应用移植的相关知识，并且有两个实验，包括软件迁移至鲲鹏计算平台的整个实施过程。并从服务器和容器两种应用载体出发，介绍了Kunpeng Porting Advisor迁移工具的使用和容器迁移操作步骤。</p> 
<ul><li> <p>问：在使用鲲鹏处理器时，为什么要做软件迁移？<br> 答：鲲鹏处理器与x86处理器的指令存在差异。</p> </li><li> <p>编译型语言：典型的如<code>C/C++</code> <code>Go</code>，<code>Pascal</code>语言，都属于编译型语言。编译型语言开发的程序在从x86处理器迁移到鲲鹏处理器时，必须经过重新编译才能运行。</p> </li><li> <p>从源码到程序的过程：源码需要由编译器、汇编器翻译成机器指令，再通过链接器链接库函数生成机器语言程序。机器语言必须与CPU的指令集匹配，在运行时通过加载器加载到内存，由CPU执行指令。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/f4/1a/BCIAI6ia_o.png" alt="在这里插入图片描述"></p> 
<ul><li>解释型语言：典型的如<code>Java/Python</code>语言，都属于解释型语言，解释型语言开发的程序在迁移到鲲鹏处理器时，一般不需要重新编译。</li><li>解释型语言的源代码由编译器生成字节码，然后再由虚拟机解释执行。虚拟机将不同CPU指令集的差异屏蔽，因此解释型语言的可移植性很好。但是如果程序中调用了编译型语言所开发的so库，那么这些so库需要重新移植编译。</li></ul> 
<p><img src="https://images2.imgbox.com/c1/21/0u5B1IaE_o.png" alt="在这里插入图片描述"></p> 
<ul><li>1.对于解释性语言编写的程序，可直接部署在Kunpeng平台；</li><li>2.对于C/C++等编译型语言编写的程序（开源软件、自研软件），如果可以获得源代码，可重新编译后部署；如果无法获得源代码可选用其它支持Kunpeng平台的可替代软件；如果无其它替代软件，可选用混合部署方案。</li></ul> 
<p><strong>C/C++代码builtin函数、数据类型移植</strong></p> 
<ul><li>在x86和鲲鹏处理器下，C/C++语言中默认的char类型有所不同，x86下默认的char类型是有符号的char类型，而鲲鹏处理器下则是无符号的char，因此需要移植修改。当然，也可以增加编译选项屏蔽这种差异，详细的修改方法可以参考《TaiShan代码移植指导》</li><li>Builtin函数是编译器提供的一套函数。编译器实现的builtin函数通常是通过cpu的指令实现某些频繁调用的函数，以达到很高的性能。这里的示例是crc32的校验函数，还有一个是将数据预取到cache的汇编指令，改成使用编译器自带的builtin函数。既保证了性能，又提升了可移植性。</li></ul> 
<p><strong>华为鲲鹏代码迁移工具</strong></p> 
<ul><li>处理器所支持的指令集不同，意味着开发者可能需要对代码进行跨平台的移植。为了解决用户代码移植性人工排查困难、移植经验欠缺、反复依赖编译调错定位等，投入工作量大，整体效率低的问题，华为推出<strong>Kunpeng Porting Advisor</strong>华为鲲鹏代码迁移工具。</li></ul> 
<p><strong>华为鲲鹏代码迁移工具提供CLI和Web两种访问方式，只能选择一种安装。</strong></p> 
<ul><li>CLI方式：<br> 通过命令行方式使用代码迁移工具各功能，最终移植分析结<br> 果输出到<code>.csv</code>文件，用户可以根据移植建议进行处理。</li><li>Web方式：<br> 通过浏览器远程使用代码迁移工具各功能，最终移植分析结<br> 果输出到<code>.csv</code>或者<code>.html</code>文件中，用户可以根据移植建议进行<br> 处理。工具只允许<strong>一个</strong>用户工作，<strong>不支持</strong>多用户在线和并发<br> 访问。</li><li><code>csv</code>和<code>html</code>报告中包含源码扫描的基本信息、需要移植的依赖库SO文件列表以及移植建议、需要移植的源文件列表以及源码所在行号、移植建议。</li></ul> 
<p><strong>3、容器迁移指导</strong></p> 
<ul><li>什么是容器？</li></ul> 
<p>容器是一种轻量级、可移植、自包含的软件打包技术，使应用程序可以在几乎任何地方以相同的方式运行。</p> 
<ul><li>容器与虚拟机的区别？<br> <img src="https://images2.imgbox.com/df/68/pYRkajOZ_o.png" alt="在这里插入图片描述"></li><li>对于容器，它首先是一个相对独立的运行环境，在这一点有点类似于虚拟机，但是不像虚拟机那样彻底。在容器内，应该最小化其对外界的影响，比如不能在容器内把宿主机上的资源全部消耗，这就是资源控制。</li><li>左图虚拟机的Guest OS层和Hypervisor层在docker中被Docker Engine层所替代</li><li>虚拟机的Guest OS即为虚拟机安装的操作系统，它是一个完整操作系统内核</li><li>所有的容器共享同一个 Host OS ，这使得容器在体积上要比虚拟机小很多</li></ul> 
<p><strong>Docker容器与镜像</strong></p> 
<ul><li>镜像是一个静态的概念，类似于面向对象编程中的类，容器是动态的概念，已经镜像运行起来就成为一个容器也就是类似于面向对象中的一个对象实例。</li><li>在Docker镜像分为基础镜像和父镜像，没有父镜像的镜像被称为基础镜像。用户是基于基础镜像来制作各种不同的应用镜像。这些应用镜像共享同一个基础镜像层，提高了存储效率。</li></ul> 
<p><strong>Docker容器迁移策略</strong></p> 
<ul><li>Docker容器迁移有两种策略：使用Docker pull获取镜像或使用Dockerfile构建镜像。<br> <img src="https://images2.imgbox.com/16/1c/CD1wG0Mp_o.png" alt="在这里插入图片描述"><br> <strong>思考题：</strong></li></ul> 
<ol><li> <p>鲲鹏处理器和x86处理器的add指令是一样的。（B）<br> A. True<br> B. False</p> </li><li> <p>请选岀X86处理器汇编指令 ？（BC）<br> A. Idr x0, [sp,#8] |从内存将变量b的值放入寄存器x1<br> B. add %edx,%eax |将edx(a)中的值加上eax(b)的值放入eax寄存器<br> C. mov -0x8(%rbp),%eax |从内存将变量b的值放入寄存器的x1<br> D. str x0, [spf,#5] |将甸寄存器的值存入内存(变量c)</p> </li><li> <p>以下哪些是非编译型（解释型）语言？(BC)<br> A.Pascal<br> B.Perl<br> C.Ruby<br> D.C/C++</p> </li><li> <p>纯Java语言开发的代码，无依赖的SO库文件不需要编译，可以直接在JVM（Java虚拟机）中运行。（B）<br> A. True<br> B. False</p> </li><li> <p>为什么x86架构处理器上的软件在鲲鹏处理器使用时需要移植？（ ABCD）<br> A、两种处理器的指令集不同<br> B、源代码需要按照目标处理的指令集编译成指令才能运行<br> C、编译型语言由编译器静态编译成指令和数据<br> D、解释型语言由语言的虚拟机在运行时将源码/字节码编译成指令和数据</p> </li><li> <p>Porting Advisor工具默认是访问端口是什么？（C）<br> A、8080 B、8083 C、8084 D、8086</p> </li><li> <p>Porting Advisor默认用户名和密码是什么？（C）<br> A、portadmin 默认密码为admin@9000 <br> B、Portadmin 默认密码为Admin@9000 <br> C、portadmin 默认密码为Admin@9000 <br> D、Portadmin 默认密码为admin@9000</p> </li><li> <p>对于迁移工具的CLI页面以下说法正确的是（A）<br> A、仅支持输出csv的文件<br> B、支持输出html文件<br> C、支持输出xlsx文件<br> D、支持输出doc文件</p> </li><li> <p>使用如下CLI命令进行代码分析时，以下哪个参数是可选的 ？(B)<br> A. 源代码所在路径：-S source<br> B. 编译器版本：-C compiler<br> C. 软件构建命令：—cmd cmd<br> D. 软件移植的目标操作系统的信息：—tos tos</p> </li><li> <p>华为鲲鹏代码迁移工具适用于以下哪些类型的应用程序？（ AC ）<br> A. C/C++<br> B. Java<br> C. 汇编<br> D. Python</p> </li><li> <p>华为鲲鹏代码迁移工具能够提供（ BC ）方面的移植评估结果。<br> A. 扫描源码中有多少个安装包<br> B. 扫描源码中有多少可以移植的依赖库SO文件<br> C. 扫描源码中有多少行可以移植的C/C++代码、汇编代码<br> D. 预估移植所需的工作量</p> </li><li> <p>Porting Advisor工具在移植源码过程中的作用是？（ B ）<br> A. 分析源码，并给出移植工作量<br> B. 分析源码，并给出分析报告和源码修改建议<br> C. 分析源码，并修改源码<br> D. 分析源码，并给出性能优化建议</p> </li><li> <p>以下哪条命令可以查看docker镜像？(A)<br> A. docker images<br> B. docker list<br> C. docker container ls<br> D. docker -a</p> </li><li> <p>构建docker镜像有哪些方式？( AB )<br> A、Docker pull获取镜像<br> B、Dockerfile构建镜像<br> C、Docker run<br> D、Docker ps</p> </li><li> <p>关于Dockerfile的描述，以下哪些是正确的 ？(ABD)<br> A. Dockerfile一般包含四部分内容：基础镜像信息、维护者信息、镜像操作指令容器 启动时执行指令<br> B. Dockerfile中，第一条指令必须为FROM指令<br> C. EXPOSE在Dockerfile中是必选的<br> D. 完成Dockerfile编写后，可以通过docker build命令来创建镜像</p> </li><li> <p>关于执行命令“docker ps -a”后，显示的标题含义描述，正确的是？（ABCD）<br> A. CONTAINER ID:容器的唯一表示ID<br> B. IMAGE:创建容器时使用的镜像<br> C. COMMAND:容器最后运行的命令<br> D. CREATED:创建容器的时间</p> </li><li> <p>关于Docker的镜像仓库，说法正确的是？( ABCD)<br> A.实现Docker镜像的全局存储<br> B. 提供API接口<br> C.提供Docker镜像的下载/推送/查询<br> D.可用于租户管理</p> </li><li> <p>-mabi=lp64 是编译生成应用程序为64位的鲲鹏编译选项( A)<br> A. True<br> B. False</p> </li><li> <p>在向鲲鹏处理器迁移软件时，以下哪些是可能导致编译错误或告警的原因？（ABC ）<br> A. 编译选项<br> B. 数据类型不同<br> C. 汇编指令<br> D. 弱内存序问题</p> </li><li> <p>弱内存序问题主要与如下那些因素相关？（ACE ）<br> A. 多线程<br> B. 多进程<br> C. 不同CPU之间Cache同步<br> D. 一级、二级、三级Cache间数据同步<br> E. 不同core之间Cache同步</p> </li><li> <p>以下哪个工具可以用于鲲鹏平台上进行代码迁移？©<br> A. Tuning kit( 华为鲲鹏性能优化工具)<br> B. Dependency Advisor(华为鲲鹏分析扫描工具)<br> C. Porting Advisor<br> D. GCC</p> </li></ol> 
<h4><a id="__312"></a>第三章 应用性能测试与调优</h4> 
<p>这章的知识点占比为<strong>20%</strong> ，主要介绍了在数据库、大数据和HPC场景下进行性能测试的方法，使用华为鲲鹏性能优化工具Kunpeng <strong>Tuning Kit</strong>对<code>C/C++</code>类程序和<code>Java Mixed-Mode</code>类程序进行性能分析的方法，以及对<code>NUMA</code>和线程并发数进行性能调优的案例。</p> 
<p><strong>TPCC - 测试模型</strong></p> 
<ul><li>TPC-C是针对OLTP的基准测试模型，可以衡量数据库的性能和硬件性价比，是广泛应用并关注的一种测试模型。</li><li>TPCC测试模型是一个大型的商品批发销售公司，它拥有若干个分布在不同区域的商品仓库。</li></ul> 
<ol><li> <p>TCPP模型可以支持跨平台供货？(A)<br> A、True <br> B、False</p> </li><li> <p>以下哪个不是TPCC 的交易类型？（A）<br> A、统计订单总额<br> B、新订单<br> C、支付操作<br> D、发货</p> </li></ol> 
<p><strong>TPCC - 交易类型</strong></p> 
<ul><li>新订单（New-Order）：客户输入一笔新的订货交易。</li><li>支付操作（Payment）：更新客户帐户余额以反映其支付状况。</li><li>发货（Delivery）：发货（模拟批处理交易）。</li><li>订单状态查询（Order-Status）：查询客户最近交易的状态。</li><li>库存状态查询（Stock-Level）：查询仓库库存状况，以便能够及时补货。</li></ul> 
<p><strong>TPCC - 性能衡量指标</strong></p> 
<ul><li>流量指标 <code>tpmC</code><br> 系统在执行支付操作、订单状态查询、发货和库存状态查询这四种交易时，每分钟可以处理多少个新订单交易。</li><li>性价比 <code>Price/tpmC</code><br> 测试系统的整体价格与流量指标的比值，在获得相同的流量指标即tpmC（transactions per minute，C即基准程序）值的情况下，价格越低越好。</li></ul> 
<p><strong>测试工具 — BenchmarkSQL</strong></p> 
<ul><li> <p>Java语言编写，内嵌TPCC测试脚本的TPCC基础测试程序，是对<strong>数据库</strong>进行性能测试的工具。</p> </li><li> <p>通过JDBC连接数据库，执行TPCC模型测试。</p> </li><li> <p>支持数据库：<br> Oracle<br> PostgreSQL<br> EnterpriseDB<br> DB2<br> SQL Server<br> GaussDB</p> </li></ul> 
<p><strong>测试流程</strong>：<br> <img src="https://images2.imgbox.com/7a/02/Nty1mzRt_o.png" alt="在这里插入图片描述"><br> <strong>BenchmarkSQL —场景配置</strong></p> 
<ul><li>warehouse：指定仓库数量。</li><li>loadWorkers：指定装载数据的并发数。</li><li>Terminals：指定并发用户数。</li><li>runMins：指定测试时间。</li><li>runTxnsPerTerminal：指定每个Terminal运行的事务数量，runMins必须等于0。</li><li>limitTxnsPerMin：指定每分钟总事务数。</li><li>terminalWarehouseFixed：指定每个终端是否绑定固定warehouse。</li></ul> 
<p>1个warehouse的数据大小是75M。<br> loadWorkers只是加载数据时的并发用户数。</p> 
<p><strong>思考题：</strong></p> 
<ol><li>BenchmarkSQL场景配置，以下说法哪个是正确的?（C）<br> A、runMins，runTxnsPerTerminal必须不相等<br> B、runMins，runTxnsPerTerminal都等于0<br> C、指定每个Terminal运行的事务数量，runMins必须等于0<br> D、runMins，runTxnsPerTerminal都不等于0</li></ol> 
<p><strong>BenchmarkSQL-执行测试</strong></p> 
<ul><li>衡量标准:<br> tpmC（NewOrders）:每分钟内系统处理的新订单个数<br> tpmTOTAL（TPS）每分钟内系统处理的事务总数</li></ul> 
<p><strong>思考题：</strong></p> 
<ol><li> <p>TPCC衡量标准是什么？( C ）<br> A. QphH<br> B. 响应时间<br> C. tpmC<br> D.TPS</p> </li><li> <p>BenchmarkSQL配置文件中loadWorkers指的是什么（ B ）。<br> A. 并发用户数<br> B. 数据库装载并发数<br> C. 数据库并行数<br> D. 数据库表的数量</p> </li><li> <p>BenchmarkSQL 测试中，tpmC和tpmTOTAL这两个值越大，代表性能越差？(B)<br> A、True <br> B、False</p> </li></ol> 
<p><strong>大数据基准测试套件—HiBench</strong></p> 
<p>HiBench简介：</p> 
<ul><li>开源的大数据基准测试套件。</li><li>用于评估大数据框架的速度，吞吐量和系统资源利用率。</li><li>支持的框架：hadoopbench、sparkbench、stormbench、flinkbench、gearpumpbench。</li><li>支持的开源版本组件：Hadoop、Spark、Storm、Kafka、Flink。</li><li>目前使用较多的版本：HiBench-7.0。</li><li>共计19个测试方向，可分为6种测试类别。</li></ul> 
<p><strong>趁热打铁：</strong></p> 
<ol><li>HiBench支持的框架有哪些？（ABCD ）<br> A. flinkbench<br> B. hadoopbench<br> C. stormbench<br> D. sparkbench</li></ol> 
<p><strong>HiBench - 测试分类</strong></p> 
<ul><li>共6种测试类别：<br> <img src="https://images2.imgbox.com/71/4c/aikcLuHn_o.png" alt="在这里插入图片描述"></li></ul> 
<ol><li>micro：微基准测试</li><li>ml：机器学习</li><li>sql：SQL查询</li><li>graph：图计算</li><li>websearch：Web搜索</li><li>streaming：流数据计算</li></ol> 
<p><strong>趁热打铁：</strong></p> 
<ol><li> <p>HiBench测试分类有以下几种？(ABDE)<br> A.micro<br> B.ml<br> C.Hadoop<br> D.graph<br> E.streaming</p> </li><li> <p>CPU性能和网络带宽都会影响HPC性能？(A)<br> A. Ture<br> B. False</p> </li></ol> 
<p><strong>高性能计算简介</strong>:</p> 
<ul><li>什么是HPC?<br> HPC（High Performance Computing）高性能计算，是通过高速网络将大量服务器进行互联形成计算机集群，与高性能存储一起，求解科研、工业界最复杂的科学计算问题（科学研究领域三大范式：理论科学，实验科学，计算科学）。</li></ul> 
<p><strong>HPC典型应用 - WRF</strong></p> 
<ul><li>WRF（Weather Research and Forecasting Model）是次世代的中尺度天气预报模式，包括多重区域、从几公里到数千公里的灵活分辨率、多重嵌套网格，以及与之协调的三维变分同化系统3DVAR等。</li></ul> 
<p><strong>性能测试 - WRF测试流程</strong></p> 
<ul><li>以气象行业应用WRF为例，进行单次安装测试的流程图：<br> <img src="https://images2.imgbox.com/b2/99/QlpNhLy3_o.png" alt="在这里插入图片描述"><br> <strong>思考题：</strong></li></ul> 
<ol><li>下列哪些选项可能会影响WRF性能？（ABCD）<br> A. 网络带宽<br> B. 并行线程数<br> C. 内存刷新频率<br> D. 存储读写速度</li></ol> 
<p><strong>华为鲲鹏性能优化工具</strong></p> 
<ul><li>为解决客户软件运行遇到性能问题时凭人工经验定位困难、调优能力弱的痛点，华为推出了Kunpeng <strong>Tuning Kit</strong>鲲鹏性能优化工具。</li></ul> 
<p><strong>思考题：</strong></p> 
<ol><li>使用华为鲲鹏性能优化工具对C/C++应用程序进行性能分析时，能够查看到函数源代码、汇编代码，以及函数汇编代码basic block的控制流图？（A）<br> A. True<br> B. Flase</li></ol> 
<ul><li> <p>华为鲲鹏性能优化工具部署，当前版本<strong>只支持单机</strong>部署，即将华为鲲鹏性能优化工具所有组件部署在一台服务器上，完成对该台服务器软件的性能数据采集和分析。</p> </li><li> <p>部署环境要求如下表所示：<br> <img src="https://images2.imgbox.com/6f/af/dmmUCSWQ_o.png" alt="在这里插入图片描述"><br> <strong>趁热打铁：多选题</strong></p> </li></ul> 
<ol><li>鲲鹏性能分析工具支持以下哪几种操作系统？（AB）<br> A.OpenEuler<br> B.Centos<br> C.RedHat<br> D.Neokylin</li></ol> 
<p><strong>华为鲲鹏性能优化工具访问方式</strong></p> 
<ul><li>华为鲲鹏性能优化工具部署在TaiShan服务器上，该服务器上同时运行客户的应用软件。</li><li>华为鲲鹏性能优化工具提供Web界面访问方式，用户只需要在浏览器地址栏中输入：https://部署服务器的IP:端口号即可。</li></ul> 
<p>华为鲲鹏性能优化工具支持以<strong>多用户多任务并发</strong>访问的方式使用Web界面。<br> https默认端口号为<strong>8086</strong>，请确认使用该工具之前OS防火墙已开通8086端口。</p> 
<p><strong>函数火焰图</strong></p> 
<ul><li>火焰图就是看顶层的哪个函数占据的宽度最大。只要有“平顶”（plateaus），就表示该函数可能存在性能问题。</li><li>颜色没有特殊含义，因为火焰图表示的是CPU的繁忙程度，所以一般选择暖色调。</li></ul> 
<p><strong>思考题：</strong></p> 
<ol><li> <p>华为鲲鹏性能优化工具支持从哪些维度分析应用的性能瓶颈？（AB）<br> A. C/C++<br> B. Java Mixed-Mode<br> C. Locks and Waits<br> D. LLC&amp;DDR</p> </li><li> <p>华为鲲鹏性能优化工具能够提供（ABCD）方面的性能分析结果。<br> A.分析Top热点函数<br> B.分析函数火焰图<br> C.分析热点函数代码映射<br> D.分析不同函数对应top-down模型的各指标值</p> </li></ol> 
<p><strong>NUMA</strong></p> 
<p>物理上，一个DDR只挂载在一个node上，其它node要访问这个node上的DDR需要通过片内总线（如图中的1）或片间总线（如图中的2）进行通信，内存访问延迟从高到低为：</p> 
<blockquote> 
 <p>跨Socket &gt; 跨NUMA不跨Socket &gt; NUMA内</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/9c/89/xpI3IdD0_o.png" alt="在这里插入图片描述"></p> 
<ul><li>NUMA：Non-uniform Memory Access，非一致性内存访问。</li><li>DDR：Double Data Rate SDRAM，双倍速率SDRAM，就是我们常说的内存条。</li><li>Socket：插槽，实体CPU插在主板的一个插槽上，这里代表可以在主板上独立插拔的CPU。一个主板上可以包含多个Socket。</li><li>NUMA node：NUMA节点，属于同一个node的Core共享部分资源，如内存控制器。一个Socket可以包含一个或多个NUMA node。</li><li>Core：中央处理单元，一个独立的硬件执行单元，有独立的算术逻辑单元和寄存器等。一个NUMA node可以包含多个Core。</li></ul> 
<p><strong>趁热打铁：</strong></p> 
<p>内存访问延时从高到低是（A）单选题<br> A、跨Socket&gt;跨NUMA不跨Socket&gt;NUMA内<br> B、跨NUMA不跨Socket&gt;跨Socket&gt;NUMA内<br> C、NUMA内&gt;跨NUMA不跨Socket&gt;跨Socket <br> D、跨Socket&gt;NUMA内&gt;跨NUMA不跨Socket</p> 
<p><strong>思考题：</strong></p> 
<ol><li>NUMA架构下，什么原因导致了CPU core访问不同的DDR的性能不一样？<br> 答：物理上，一个DDR只挂载在一个node上，其它node要访问这个node上的DDR需要通过片内总线或片间总线进行通信。</li></ol> 
<p>🆗以上就是本周的重点内容了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/870620b31b680976ef868f4420353060/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PING 怎么知道网络速度</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a5c57ed2af09ec0d83a3e6b8b27e85b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PAT 1103 Integer Factorization</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>