<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python222网站实战(SpringBoot&#43;SpringSecurity&#43;MybatisPlus&#43;thymeleaf&#43;layui)-友情链接管理实现 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python222网站实战(SpringBoot&#43;SpringSecurity&#43;MybatisPlus&#43;thymeleaf&#43;layui)-友情链接管理实现" />
<meta property="og:description" content="锋哥原创的Springboot&#43;Layui python222网站实战：
python222网站实战课程视频教程（SpringBoot&#43;Python爬虫实战） ( 火爆连载更新中... )_哔哩哔哩_bilibilipython222网站实战课程视频教程（SpringBoot&#43;Python爬虫实战） ( 火爆连载更新中... )共计23条视频，包括：python222网站实战课程视频教程（SpringBoot&#43;Python爬虫实战） ( 火爆连载更新中... )、第2讲 架构搭建实现、第3讲 页面系统属性动态化设计实现等，UP主更多精彩视频，请关注UP账号。https://www.bilibili.com/video/BV1yX4y1a7qM/
后端：
package com.python222.controller.admin; import com.baomidou.mybatisplus.extension.plugins.pagination.Page; import com.python222.entity.Link; import com.python222.entity.PageBean; import com.python222.service.LinkService; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.RestController; import java.util.HashMap; import java.util.Map; /** * 管理员-友情链接控制器 * @author Administrator * */ @RestController @RequestMapping(value = &#34;/admin/link&#34;) public class LinkAdminController { @Autowired private LinkService linkService; /** * 根据条件分页查询友情链接 * @param page * @param limit * @return * @throws Exception */ @RequestMapping(value = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b5d05175ea508e5c44b67bff91c5f264/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T11:20:55+08:00" />
<meta property="article:modified_time" content="2024-01-27T11:20:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python222网站实战(SpringBoot&#43;SpringSecurity&#43;MybatisPlus&#43;thymeleaf&#43;layui)-友情链接管理实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>锋哥原创的Springboot+Layui python222网站实战：</p> 
<p><a class="has-card" href="https://www.bilibili.com/video/BV1yX4y1a7qM/" rel="nofollow" title="python222网站实战课程视频教程（SpringBoot+Python爬虫实战）  ( 火爆连载更新中... )_哔哩哔哩_bilibili"><span class="link-card-box"><span class="link-title">python222网站实战课程视频教程（SpringBoot+Python爬虫实战） ( 火爆连载更新中... )_哔哩哔哩_bilibili</span><span class="link-desc">python222网站实战课程视频教程（SpringBoot+Python爬虫实战） ( 火爆连载更新中... )共计23条视频，包括：python222网站实战课程视频教程（SpringBoot+Python爬虫实战） ( 火爆连载更新中... )、第2讲 架构搭建实现、第3讲 页面系统属性动态化设计实现等，UP主更多精彩视频，请关注UP账号。</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/7f/d5/0gFedmI7_o.png" alt="icon-default.png?t=N7T8">https://www.bilibili.com/video/BV1yX4y1a7qM/</span></span></a><img alt="" src="https://images2.imgbox.com/57/dc/n6ayGbCG_o.png"></p> 
<p>后端：</p> 
<pre><code class="language-python">package com.python222.controller.admin;

import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import com.python222.entity.Link;
import com.python222.entity.PageBean;
import com.python222.service.LinkService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import java.util.HashMap;
import java.util.Map;

/**
 * 管理员-友情链接控制器
 * @author Administrator
 *
 */
@RestController
@RequestMapping(value = "/admin/link")
public class LinkAdminController {

   @Autowired
   private LinkService linkService;

   /**
    * 根据条件分页查询友情链接
    * @param page
    * @param limit
    * @return
    * @throws Exception
    */
   @RequestMapping(value = "/list")
   public Map&lt;String,Object&gt; list(@RequestParam(value="page",required=false)Integer page,@RequestParam(value="limit",required=false)Integer limit)throws Exception{
      Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();
      PageBean pageBean=new PageBean(page,limit);
      Page&lt;Link&gt; linkPage = linkService.page(new Page&lt;&gt;(pageBean.getPage(), pageBean.getPageSize()));
      resultMap.put("code", 0);
      resultMap.put("count", linkPage.getTotal());
      resultMap.put("data", linkPage.getRecords());
      return resultMap;
   }

   /**
    * 添加或者修改友情链接
    * @param link
    * @return
    */
   @RequestMapping("/save")
   public Map&lt;String,Object&gt; save(Link link){
      if(link.getId()==null){
         linkService.save(link);
      }else{
         linkService.updateById(link);
      }
      Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();
      resultMap.put("success", true);
      return resultMap;
   }

   /**
    * 删除友情链接
    * @param id
    * @return
    * @throws Exception
    */
   @RequestMapping("/delete")
   public Map&lt;String,Object&gt; delete(Integer id)throws Exception{
      Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();
      linkService.removeById(id);
      resultMap.put("success", true);
      return resultMap;
   }

   /**
    * 根据id查询友情链接实体
    * @param id
    * @return
    * @throws Exception
    */
   @RequestMapping("/findById")
   public Map&lt;String,Object&gt; findById(Integer id)throws Exception{
      Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();
      Link link=linkService.getById(id);
      resultMap.put("link", link);
      resultMap.put("success", true);
      return resultMap;
   }
}</code></pre> 
<p>前端linkManage.html</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;友情链接管理&lt;/title&gt;
&lt;link rel="stylesheet" href="/static/layui/css/layui.css"&gt;&lt;/link&gt;
&lt;link rel="stylesheet" href="/static/css/css.css"&gt;&lt;/link&gt;
&lt;/head&gt;
&lt;body&gt;


   &lt;div style="padding: 20px"&gt;
           &lt;span class="layui-breadcrumb"&gt;
           &lt;a&gt;首页&lt;/a&gt;
           &lt;a&gt;&lt;cite&gt;友情链接管理&lt;/cite&gt;&lt;/a&gt;
         &lt;/span&gt;
          &lt;div style="padding-top: 20px;"&gt;
             &lt;div&gt;
                &lt;div&gt;
                   &lt;button class="layui-btn layuiadmin-btn-list" data-type="batchdel" onclick="addLink()"&gt;添加&lt;/button&gt;
                &lt;/div&gt;
             &lt;/div&gt;
             &lt;div&gt;
                &lt;table width="100%" id="linkListTable" &gt;&lt;/table&gt;
             &lt;/div&gt;
         &lt;/div&gt;
     &lt;/div&gt;

&lt;script src="/static/layui/layui.js"&gt;&lt;/script&gt;
   &lt;script src="/static/js/jquery.js"&gt;&lt;/script&gt;
   &lt;script src="/static/js/common.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

   layui.use(['element','form','table'], function(){
       var form=layui.form;
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块
        $ = layui.jquery; // 使用jquery
        table = layui.table;

        table.render({
          elem: '#linkListTable'
          ,url:'/admin/link/list'
          ,cols: [[
           {type:'checkbox'}
              ,{field:'id', width:100,title: '编号'}
            ,{field:'name', width:200,title: '友情链接名称'}
            ,{field:'url', width:250,title: '友情链接地址'}
            ,{field:'sort', width:100, title: '排列序号',align:'center'}
              ,{field:'remark', title: '描述',align:'center'}
            ,{field:'action', width:150, title: '操作',align:'center',templet:formatAction}
          ]]
          ,page: true
        });


   });


   function deleteOne(id){
      layer.confirm('您确定要删除这条记录吗？', {
       title:"系统提示"
        ,btn: ['确定','取消'] //按钮
      }, function(){
         layer.closeAll('dialog');
         $.post("/admin/link/delete",{"id":id},function(result){
            if(result.success){
               layer.msg("删除成功！");
               table.reload("linkListTable",{});
            }else{
               layer.msg("删除失败，请联系管理员！");
            }
         },"json");
      }, function(){

      });
   }

   function addLink(){
      layer.open({
           type: 2,
           title: '添加友情链接',
           area: ['500px', '500px'],
           content: '/admin/saveLink.html' //iframe的url
         });
   }

   function modifyLink(id){
      layer.open({
           type: 2,
           title: '修改友情链接',
           area: ['500px', '500px'],
           content: '/admin/saveLink.html?id='+id //iframe的url
         });
   }


   function formatAction(d){
      return "&lt;button class='layui-btn layui-btn-normal layui-btn-xs' onclick='modifyLink("+d.id+")'&gt;&lt;i class='layui-icon layui-icon-edit'&gt;&lt;/i&gt;编辑&lt;/button&gt;&lt;button class='layui-btn layui-btn-warm layui-btn-xs' onclick='deleteOne("+d.id+")'&gt;&lt;i class='layui-icon layui-icon-delete' &gt;&lt;/i&gt;删除&lt;/button&gt;";
   }



&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p>saveLink.html</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;添加或者修改友情链接&lt;/title&gt;
&lt;link rel="stylesheet" href="/static/layui/css/layui.css"&gt;&lt;/link&gt;
&lt;style type="text/css"&gt;

   table tr td{
      padding: 10px;
   }

&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div style="padding: 20px"&gt;
   &lt;form method="post"&gt;
      &lt;table&gt;
         &lt;tr&gt;
            &lt;td&gt;友情链接名称：&lt;/td&gt;
            &lt;td&gt;&lt;input type="text" id="name" name="name" class="layui-input" style="width: 300px"/&gt;&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
            &lt;td&gt;友情链接地址：&lt;/td&gt;
            &lt;td&gt;&lt;input type="text" id="url" name="url" class="layui-input" style="width: 300px"/&gt;&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
            &lt;td&gt;友情链接描述：&lt;/td&gt;
            &lt;td&gt;
               &lt;textarea type="text" id="remark" name="remark" class="layui-input" style="width: 300px;height: 100px" &gt;&lt;/textarea&gt;
            &lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
            &lt;td&gt;排列序号：&lt;/td&gt;
            &lt;td&gt;&lt;input type="text" id="sort" name="sort" class="layui-input" style="width: 100px;display: inline;"/&gt;&amp;nbsp;&amp;nbsp;&lt;span&gt;(根据数值从小到大排序)&lt;/span&gt;&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
            &lt;td&gt;&lt;button class="layui-btn" onclick="submitData();return false;"&gt;提交&lt;/button&gt;&lt;/td&gt;
            &lt;td&gt;&lt;font id="errorInfo" color="red"&gt;&lt;/font&gt;&lt;/td&gt;
         &lt;/tr&gt;
      &lt;/table&gt;
   &lt;/form&gt;
&lt;/div&gt;
&lt;script src="/static/layui/layui.js"&gt;&lt;/script&gt;
&lt;script src="/static/js/jquery.js"&gt;&lt;/script&gt;
&lt;script src="/static/js/common.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;

    layui.use(['form'], function(){

    });

   function submitData(){
      var name=$("#name").val().trim();
      var url=$("#url").val().trim();
        var remark=$("#remark").val().trim();
      var sort=$("#sort").val().trim();
      if(name=="") {
   　　　　     　　 $("#errorInfo").text("请输入友情链接名称！");
           $("#name").focus();
   　　　　　　      return false;
   　　　}
      if(url=="") {
   　　　　     　　 $("#errorInfo").text("请输入友情链接地址！");
           $("#url").focus();
   　　　　　　      return false;
   　　　}
      if(!IsURL(url)){
          $("#errorInfo").text("友情链接地址格式不正确！");
           $("#url").focus();
   　　　　　　      return false;
      }
      if(sort=="") {
   　　　　     　　 $("#errorInfo").text("请输入排列序号！");
           $("#sort").focus();
   　　　　　　      return false;
   　　　}
   　　　if (!(/(^[1-9]\d*$)/.test(sort))) {
   　　　　　　$("#errorInfo").text("排列序号必须是正整数！");
           $("#sort").focus();
   　　　　　　return false;
   　　  }
      var id=getQueryVariable("id");
      if(id){
         $.post("/admin/link/save",{id:id,name:name,url:url,sort:sort,remark:remark},function(result){
           if(result.success){
                  layer.alert('修改成功！',function () {
                      parent.reloadPage();
                  });
           }else{
              $("#errorInfo").text(result.errorInfo);
           }
        },"json");
      }else{
         $.post("/admin/link/save",{name:name,url:url,sort:sort,remark:remark},function(result){
              if(result.success){
                      layer.alert('添加成功！',function () {
                          parent.reloadPage();
                      });
              }else{
                 $("#errorInfo").text(result.errorInfo);
              }
           },"json");
      }
   }



   function getQueryVariable(variable){
          var query = window.location.search.substring(1);
          var vars = query.split("&amp;");
          for (var i=0;i&lt;vars.length;i++) {
                  var pair = vars[i].split("=");
                  if(pair[0] == variable){return pair[1];}
          }
          return(false);
   }

   $(function(){
   　　
      var id=getQueryVariable("id");

      if(id){
         $.post("/admin/link/findById",{id:id},function(result){
              if(result.success){
                 var link=result.link;
                 $("#name").val(link.name);
                 $("#url").val(link.url);
                 $("#sort").val(link.sort);
                      $("#remark").val(link.remark);
              }else{
                      layer.alert('服务器加载有问题，请联系管理员！');
              }
           },"json");
      }
   });


&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/51d0e618d9cb6c0f3ab7215564096e75/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">漏洞复现-EduSoho任意文件读取漏洞（附漏洞检测脚本）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ec2e62faed757e429b74def6d7d0cf74/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter 点击空白处关闭软键盘，点击非TextField 关闭软键盘的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>