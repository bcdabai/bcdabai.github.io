<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>手把手带你Git入门，从下载到精通，常用git命令 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="手把手带你Git入门，从下载到精通，常用git命令" />
<meta property="og:description" content="文章目录 Git概述什么是GitGit历史Git是什么 为什么要使用Git什么是版本控制系统 Git和SVN对比SVN集中式SVN优缺点 Git分布式Git优缺点 Git工作流程四个工作区域工作流程 Git下载与安装下载window版下载64位软件包安装Git Git基础环境配置设置用户信息查看配置信息 文件的两种状态untracked未跟踪tracked已跟踪 文件加入暂存区文件加入暂存区命令文件取消暂存区命令 文件提交与删除文件提交命令修改commit记录使用--amend参数进行Commit Git基础_删除文件挽救已被删除的文件或目录 将文件添加至忽略列忽略规则 日志记录操作查看日志获取执行过的命令 比较文件差异git diff命令格式实战演习 还原文件情况I情况II情况III Git概述 什么是Git Git历史 很多人都知道，林纳斯·托瓦兹在1991年创建了开源的Linux，从此，Linux系统不断发展，已经成为最大的服务器系统软件了。
Git是什么 Git是一种代码托管技术。在开发中，Git是一种代码托管技术，很多代码托管平台也是基于Git来实现的。Git可以帮我们做到很多的事情，比如代码的版本控制，分支管理等。
注意：
我们可以把Git理解成是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。正是因为有了Git的存在，现在很多工作才可以变得相对轻松。
为什么要使用Git 什么是版本控制系统 你可以把一个版本控制系统（缩写VCS）理解为一个“数据库”，在需要的时候，它可以帮你完整地保存一个项目的快照。当你需要查看一个之前的快照（称之为“版本” ）时，版本控制系统可以显示出当前版本与上一个版本之间的所有改动的细节。
想法：
因为我们怕在原来的基础改错了东西，没法恢复，所以，我们可能会有多个毕业论文的文件。而我们写代码的时候本身就是「多人协作」的，修改是无法避免的，我们不希望有多个文件的产生，又希望能够记录每次更改的内容。“
这个软件用起来就应该像这个样子，能记录每次文件的改动：
版本文件名用户说明日期1service.doc张三删除了软件服务条款57/12 10:382service.doc张三增加了License人数限制7/12 18:093service.doc李四财务部门调整了合同金额7/13 9:514service.doc张三延长了免费升级周期7/14 15:17 注意：
结束了手动管理多个“版本”的史前时代，进入到版本控制的20世纪。
Git和SVN对比 SVN集中式 集中式版本控制系统需要找一个服务器作为大本营，所有的代码都需要提交到服务器上进行统一的管理。当你需要对代码进行改动时，需要先从服务器上下载一份拷贝，修改完成之后，还需要上传回服务器。
SVN优缺点 优点：
管理员也可以轻松掌控每个开发者的权限。代码一致性非常高。适合开发人数不多的项目开发。 缺点：
服务器压力太大，数据库容量暴增。如果不能连接到服务器上，基本上不可以工作，看上面第二步，如果服务器不能连接上，就不能提交，还原，对比等等。 Git分布式 在分布式版本控制系统中，大家都拥有一个完整的版本库，不需要联网也可以提交修改，所以中心服务器就显得不那么重要了。
注意：
Git记录版本历史==只关心文件数据的整体是否发生变化。==Git 不保存文件内容前后变化的差异数据。
Git优缺点 优点：
适合分布式开发，强调个体。公共服务器压力和数据量都不会太大。速度快、灵活。任意两个开发者之间可以很容易的解决冲突。离线工作。 缺点：
学习周期相对而言比较长。不符合常规思维。易学难精，80/20 Git工作流程 四个工作区域 Workspace： 工作区，就是你平时存放项目代码的地方
Index / Stage： 暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到文件列表信息
Repository： 仓库区（或版本库），就是安全存放数据的位置，这里面有你提交到所有版本的数据。其中HEAD指向最新放入仓库的版本
Remote： 远程仓库，托管代码的服务器，可以简单的认为是你项目组中的一台电脑用于远程数据交换" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/31f4794e97aa181ab89479a3046732aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-29T12:31:34+08:00" />
<meta property="article:modified_time" content="2024-01-29T12:31:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">手把手带你Git入门，从下载到精通，常用git命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Git_1" rel="nofollow">Git概述</a></li><li><ul><li><a href="#Git_3" rel="nofollow">什么是Git</a></li><li><ul><li><a href="#Git_7" rel="nofollow">Git历史</a></li><li><a href="#Git_14" rel="nofollow">Git是什么</a></li></ul> 
   </li><li><a href="#Git_24" rel="nofollow">为什么要使用Git</a></li><li><ul><li><a href="#_29" rel="nofollow">什么是版本控制系统</a></li></ul> 
   </li><li><a href="#GitSVN_55" rel="nofollow">Git和SVN对比</a></li><li><ul><li><a href="#SVN_60" rel="nofollow">SVN集中式</a></li><li><ul><li><a href="#SVN_66" rel="nofollow">SVN优缺点</a></li></ul> 
    </li><li><a href="#Git_79" rel="nofollow">Git分布式</a></li><li><ul><li><a href="#Git_89" rel="nofollow">Git优缺点</a></li></ul> 
   </li></ul> 
   </li><li><a href="#Git_107" rel="nofollow">Git工作流程</a></li><li><ul><li><a href="#_112" rel="nofollow">四个工作区域</a></li><li><a href="#_126" rel="nofollow">工作流程</a></li></ul> 
   </li><li><a href="#Git_139" rel="nofollow">Git下载与安装</a></li><li><ul><li><a href="#window_147" rel="nofollow">下载window版</a></li><li><a href="#64_151" rel="nofollow">下载64位软件包</a></li><li><a href="#Git_155" rel="nofollow">安装Git</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Git_159" rel="nofollow">Git基础</a></li><li><ul><li><a href="#_161" rel="nofollow">环境配置</a></li><li><ul><li><a href="#_167" rel="nofollow">设置用户信息</a></li><li><a href="#_174" rel="nofollow">查看配置信息</a></li></ul> 
   </li><li><a href="#_188" rel="nofollow">文件的两种状态</a></li><li><ul><li><a href="#untracked_200" rel="nofollow">untracked未跟踪</a></li><li><a href="#tracked_204" rel="nofollow">tracked已跟踪</a></li></ul> 
   </li><li><a href="#_263" rel="nofollow">文件加入暂存区</a></li><li><ul><li><a href="#_268" rel="nofollow">文件加入暂存区命令</a></li><li><a href="#_276" rel="nofollow">文件取消暂存区命令</a></li></ul> 
   </li><li><a href="#_286" rel="nofollow">文件提交与删除</a></li><li><ul><li><a href="#_295" rel="nofollow">文件提交命令</a></li><li><a href="#commit_309" rel="nofollow">修改commit记录</a></li><li><ul><li><a href="#amendCommit_320" rel="nofollow">使用--amend参数进行Commit</a></li></ul> 
    </li><li><a href="#Git__332" rel="nofollow">Git基础_删除文件</a></li><li><a href="#_344" rel="nofollow">挽救已被删除的文件或目录</a></li></ul> 
   </li><li><a href="#_382" rel="nofollow">将文件添加至忽略列</a></li><li><ul><li><a href="#_389" rel="nofollow">忽略规则</a></li></ul> 
   </li><li><a href="#_446" rel="nofollow">日志记录操作</a></li><li><ul><li><a href="#_451" rel="nofollow">查看日志</a></li><li><a href="#_464" rel="nofollow">获取执行过的命令</a></li></ul> 
   </li><li><a href="#_473" rel="nofollow">比较文件差异</a></li><li><ul><li><a href="#git_diff_480" rel="nofollow">git diff命令格式</a></li><li><a href="#_496" rel="nofollow">实战演习</a></li></ul> 
   </li><li><a href="#_524" rel="nofollow">还原文件</a></li><li><ul><li><a href="#I_537" rel="nofollow">情况I</a></li><li><a href="#II_545" rel="nofollow">情况II</a></li><li><a href="#III_559" rel="nofollow">情况III</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Git_1"></a>Git概述</h2> 
<h3><a id="Git_3"></a>什么是Git</h3> 
<p><img src="https://images2.imgbox.com/ca/c3/nXJ5D1Ew_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Git_7"></a>Git历史</h4> 
<p>很多人都知道，林纳斯·托瓦兹在1991年创建了开源的Linux，从此，Linux系统不断发展，已经成为最大的服务器系统软件了。</p> 
<p><img src="https://images2.imgbox.com/e6/66/pmCVHrdw_o.png" alt="img"></p> 
<h4><a id="Git_14"></a>Git是什么</h4> 
<p>Git是一种代码托管技术。在开发中，Git是一种代码托管技术，很多代码托管平台也是基于Git来实现的。Git可以帮我们做到很多的事情，比如代码的版本控制，分支管理等。</p> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>我们可以把Git理解成是一个<mark>开源的分布式版本控制系统</mark>，用于敏捷高效地处理任何或小或大的项目。正是因为有了Git的存在，现在很多工作才可以变得相对轻松。</p> 
</blockquote> 
<h3><a id="Git_24"></a>为什么要使用Git</h3> 
<p><img src="https://images2.imgbox.com/b9/3d/IF1W2OHB_o.png" alt="image-20211206103623786"></p> 
<h4><a id="_29"></a>什么是版本控制系统</h4> 
<p>你可以把一个版本控制系统（缩写VCS）理解为一个“数据库”，在需要的时候，它可以帮你完整地保存一个项目的快照。当你需要查看一个之前的快照（称之为“<mark>版本</mark>” ）时，版本控制系统可以显示出当前版本与上一个版本之间的所有改动的细节。</p> 
<p><img src="https://images2.imgbox.com/01/1e/MDccTQVY_o.png" alt="image-20211201143715284"></p> 
<blockquote> 
 <p><strong>想法：</strong></p> 
 <p>因为我们怕在原来的基础改错了东西，没法恢复，所以，我们可能会有多个毕业论文的文件。而我们写代码的时候本身就是「<strong>多人协作</strong>」的，修改是无法避免的，我们不希望有多个文件的产生，又希望能够<strong>记录每次更改的内容</strong>。“</p> 
</blockquote> 
<p>这个软件用起来就应该像这个样子，能记录每次文件的改动：</p> 
<table><thead><tr><th align="left">版本</th><th align="left">文件名</th><th align="left">用户</th><th align="left">说明</th><th align="left">日期</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">service.doc</td><td align="left">张三</td><td align="left">删除了软件服务条款5</td><td align="left">7/12 10:38</td></tr><tr><td align="left">2</td><td align="left">service.doc</td><td align="left">张三</td><td align="left">增加了License人数限制</td><td align="left">7/12 18:09</td></tr><tr><td align="left">3</td><td align="left">service.doc</td><td align="left">李四</td><td align="left">财务部门调整了合同金额</td><td align="left">7/13 9:51</td></tr><tr><td align="left">4</td><td align="left">service.doc</td><td align="left">张三</td><td align="left">延长了免费升级周期</td><td align="left">7/14 15:17</td></tr></tbody></table> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>结束了手动管理多个“版本”的史前时代，进入到版本控制的20世纪。</p> 
</blockquote> 
<h3><a id="GitSVN_55"></a>Git和SVN对比</h3> 
<p><img src="https://images2.imgbox.com/d8/07/F0j1zfJJ_o.png" alt="image-20211203184628478"></p> 
<h4><a id="SVN_60"></a>SVN集中式</h4> 
<p><mark>集中式版本控制系统</mark>需要找一个服务器作为大本营，所有的代码都需要提交到服务器上进行统一的管理。当你需要对代码进行改动时，需要先从服务器上下载一份拷贝，修改完成之后，还需要上传回服务器。</p> 
<p><img src="https://images2.imgbox.com/19/91/T8rh6VQc_o.png" alt="img"></p> 
<h5><a id="SVN_66"></a>SVN优缺点</h5> 
<p>优点：</p> 
<ol><li>管理员也可以轻松掌控每个开发者的权限。</li><li>代码一致性非常高。</li><li>适合开发人数不多的项目开发。</li></ol> 
<p>缺点：</p> 
<ol><li><mark>服务器压力太大，数据库容量暴增。</mark></li><li>如果不能连接到服务器上，基本上不可以工作，看上面第二步，如果服务器不能连接上，就不能提交，还原，对比等等。</li></ol> 
<h4><a id="Git_79"></a>Git分布式</h4> 
<p>在<mark>分布式版本控制系统</mark>中，大家都拥有一个完整的版本库，不需要联网也可以提交修改，所以中心服务器就显得不那么重要了。</p> 
<p><img src="https://images2.imgbox.com/1c/05/P6dN0dLL_o.png" alt="img"></p> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>Git记录版本历史==只关心文件数据的整体是否发生变化。==Git 不保存文件内容前后变化的差异数据。</p> 
</blockquote> 
<h5><a id="Git_89"></a>Git优缺点</h5> 
<p>优点：</p> 
<ol><li>适合分布式开发，强调个体。</li><li>公共服务器压力和数据量都不会太大。</li><li>速度快、灵活。</li><li>任意两个开发者之间可以很容易的解决冲突。</li><li>离线工作。</li></ol> 
<p>缺点：</p> 
<ol><li>学习周期相对而言比较长。</li><li>不符合常规思维。</li><li>易学难精，80/20</li></ol> 
<h3><a id="Git_107"></a>Git工作流程</h3> 
<p><img src="https://images2.imgbox.com/6e/14/uNBZThOe_o.png" alt="image-20211201150955007"></p> 
<h4><a id="_112"></a>四个工作区域</h4> 
<p><img src="https://images2.imgbox.com/e7/51/2vDZKFbi_o.png" alt="img"></p> 
<p><strong>Workspace</strong>： 工作区，就是你平时存放项目代码的地方</p> 
<p><strong>Index / Stage</strong>： 暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到文件列表信息</p> 
<p><strong>Repository</strong>： 仓库区（或版本库），就是安全存放数据的位置，这里面有你提交到所有版本的数据。其中HEAD指向最新放入仓库的版本</p> 
<p><strong>Remote</strong>： 远程仓库，托管代码的服务器，可以简单的认为是你项目组中的一台电脑用于远程数据交换</p> 
<p><img src="https://images2.imgbox.com/9b/90/2NcS4jZO_o.png" alt="image-20211206164842772"></p> 
<h4><a id="_126"></a>工作流程</h4> 
<p>Git的工作流程一般是这样的：</p> 
<ol><li>在工作目录中添加、修改文件；</li><li>将需要进行版本管理的文件放入暂存区域；</li><li>将暂存区域的文件提交到git仓库。</li></ol> 
<h3><a id="Git_139"></a>Git下载与安装</h3> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>在Windows操作系统中安装 Git之前，先从官方网站(https://git-scm.com/)下载合适的Git版本。</p> 
</blockquote> 
<h4><a id="window_147"></a>下载window版</h4> 
<p><img src="https://images2.imgbox.com/59/95/20hjyc6U_o.png" alt="image-20211201151655556"></p> 
<h4><a id="64_151"></a>下载64位软件包</h4> 
<p><img src="https://images2.imgbox.com/5c/81/W4AcPrxa_o.png" alt="image-20211201151732057"></p> 
<h4><a id="Git_155"></a>安装Git</h4> 
<p><img src="https://images2.imgbox.com/0a/20/gaZd2r93_o.png" alt="image-20211201151901140"></p> 
<h2><a id="Git_159"></a>Git基础</h2> 
<h3><a id="_161"></a>环境配置</h3> 
<p><img src="https://images2.imgbox.com/3e/4d/QuHXdXY2_o.png" alt="image-20211206113332000"></p> 
<p>当安装Git后首先要做的事情是设置用户名称和email地址。这是非常重要的，因为每次Git提交都会使用该用户信息。</p> 
<h4><a id="_167"></a>设置用户信息</h4> 
<pre><code class="prism language-gas">git config --global user.name "oldGj_"
git config --global user.email "oldGj_@163.com"
</code></pre> 
<h4><a id="_174"></a>查看配置信息</h4> 
<p>检查当前的设置</p> 
<pre><code class="prism language-gas">git config --list
git config user.name
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>通过上面的命令设置的信息会保存在~/.gitconfig文件中。</p> 
</blockquote> 
<h3><a id="_188"></a>文件的两种状态</h3> 
<p><img src="https://images2.imgbox.com/e0/cd/SMxyUKVn_o.png" alt="image-20211206111910104"></p> 
<p>版本控制就是对文件的版本控制，要对文件进行修改、提交等操作，首先要知道文件当前在什么状态，不然可能会提交了现在还不想提交的文件，或者要提交的文件没提交上。</p> 
<p><img src="https://images2.imgbox.com/d4/43/fFJIcUwg_o.png" alt="image-20211206164842772"></p> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>Git不关心文件两个版本之间的具体差别，而是关心文件的整体是否有改变，若文件被改变，在添加提交时就生成文件新版本的快照，而判断文件整体是否改变的方法就是用SHA-1算法计算文件的校验和。</p> 
</blockquote> 
<h4><a id="untracked_200"></a>untracked未跟踪</h4> 
<p><mark>未跟踪, 此文件在文件夹中, 但并没有加入到git库,</mark> 不参与版本控制. 通过git add 状态变为Staged.</p> 
<h4><a id="tracked_204"></a>tracked已跟踪</h4> 
<p>被纳入版本控制</p> 
<ul><li> <p>Unmodified</p> <p>文件已经入库, 未修改, 即版本库中的文件快照内容与文件夹中完全一致. 这种类型的文件有两种去处, 如果它被修改, 而变为Modified，如果使用git rm移出版本库, 则成为Untracked文件。</p> </li><li> <p>Modified</p> <p>文件已修改, 仅仅是修改, 并没有进行其他的操作. 这个文件也有两个去处, 通过git add可进入暂存staged状态, 使用git checkout 则丢弃修改过,返回unmodify状态, 这个git checkout即从库中取出文件, 覆盖当前修改。</p> </li><li> <p>Staged</p> <p>暂存状态. 执行git commit则将修改同步到库中, 这时库中的文件和本地文件又变为一致, 文件为Unmodify状态. 执行git reset HEAD filename取消暂存,文件状态为Modified。</p> </li></ul> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>这些文件的状态会随着我们执行Git的命令发生变化</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d4/07/AXskLEtT_o.png" alt="img"></p> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <ul><li>新建文件—&gt;Untracked</li><li>使用add命令将新建的文件加入到暂存区—&gt;Staged</li><li>使用commit命令将暂存区的文件提交到本地仓库—&gt;Unmodified</li><li>如果对Unmodified状态的文件进行修改—&gt; modified</li><li>如果对Unmodified状态的文件进行remove操作—&gt;Untracked</li></ul> 
</blockquote> 
<p><strong>查看文件状态命令</strong></p> 
<p>语法结构：</p> 
<pre><code class="prism language-gas">git status
</code></pre> 
<blockquote> 
 <p>参数：</p> 
 <ul><li>-s： 简洁输出</li></ul> 
</blockquote> 
<p><strong>例子</strong></p> 
<pre><code class="prism language-gas">$ git status
On branch master


No commits yet


Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
     a.txt
</code></pre> 
<h3><a id="_263"></a>文件加入暂存区</h3> 
<p><img src="https://images2.imgbox.com/79/6e/zY1TpUZZ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_268"></a>文件加入暂存区命令</h4> 
<p><strong>语法结构</strong></p> 
<pre><code class="prism language-gas">git add 文件名
</code></pre> 
<h4><a id="_276"></a>文件取消暂存区命令</h4> 
<p><strong>语法结构</strong></p> 
<pre><code class="prism language-gas">git reset 文件名
</code></pre> 
<h3><a id="_286"></a>文件提交与删除</h3> 
<p><img src="https://images2.imgbox.com/f3/21/901LpWX8_o.png" alt="image-20211206143419059"></p> 
<p>如果仅是通过git add命令把移动加到暂存区，还不算是完成整个流程。如果想让暂存区的内容永久保存下来，就要使用<mark>git commit</mark>命令。</p> 
<p><img src="https://images2.imgbox.com/c5/b1/UYO2ihdB_o.png" alt="image-20211207094909170"></p> 
<h4><a id="_295"></a>文件提交命令</h4> 
<p><strong>语法结构：</strong></p> 
<pre><code class="prism language-gas">git commit -m "提交信息"
</code></pre> 
<blockquote> 
 <p><strong>参数：</strong></p> 
 <ul><li>-m : 本次提交做了什么事，只要简单、清楚的文本说明即可，中英文都可以重点是说清楚，能让自己和别人很快明白就行。</li></ul> 
 <p>如果不加m参数，会进入类似vim编辑。</p> 
</blockquote> 
<h4><a id="commit_309"></a>修改commit记录</h4> 
<p>身为程序员，难免会遇到一些不太顺心的客户或项目。心情不好的时候，在代码或Commit信息中“发泄”一下情绪也是很常见的，只是这要是让客户看见了总是不好解释。</p> 
<p>要改动Commit记录有几种方式。</p> 
<ul><li>(1）把.git目录整个删除（不建议）。</li><li>(2）使用git rebase命令来改动历史记录。</li><li>(3）先把 Commit用git reset命令删除，整理后再重新Commit。</li><li>(4）使用–amend参数改动最后一次的Commit。</li></ul> 
<h5><a id="amendCommit_320"></a>使用–amend参数进行Commit</h5> 
<pre><code class="prism language-gas">git log --oneline
</code></pre> 
<p>只需要在Commit命令后面加上–amend即可</p> 
<pre><code class="prism language-gas">git commit --amend  -m "welcome to facebook"
</code></pre> 
<h4><a id="Git__332"></a>Git基础_删除文件</h4> 
<p><strong>语法结构：</strong></p> 
<pre><code class="prism language-gas">git rm 文件名
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>删除的文件只是删除工作目录的文件，我们的版本库里面还是存在的。 删除文件会把这个文件直接放入暂存区。</p> 
</blockquote> 
<h4><a id="_344"></a>挽救已被删除的文件或目录</h4> 
<p>“人有失手，马有失蹄”，人总会有不小心或状态不好的时候。不管是有意还是无心 在Git中如果不小心把文件或目录删除了，是可以挽救回来的，这也是使用版本控制系统最主要的原因之一。</p> 
<p>这里先使用rm命令，故意把项目中所有的HTML文档删除:</p> 
<pre><code class="prism language-gas">rm  *.html
ls -al
</code></pre> 
<p><img src="https://images2.imgbox.com/83/2a/gM6VEz95_o.png" alt="image-20211206150029863"></p> 
<p>可以看出当前1个文件都处于被删除（deleted）状态。</p> 
<p>可以使用git checkout命令：</p> 
<pre><code class="prism language-gas">git checkout index.html
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>当使用git checkout命令时，Git 会切换到指定的分支，但如果后面接的是文件名或路径，Git则不会切换分支，而是把文件从.git目录中复制一份到当前的工作目录。更精准地说，这个命令会把暂存区中的内容或文件拿来覆盖工作目录中。</p> 
</blockquote> 
<p>如果想把所有删除文件都挽救回来，可以使用以下命令：</p> 
<pre><code class="prism language-gas">git checkout .
</code></pre> 
<blockquote> 
 <p><strong>小技巧:</strong></p> 
 <p>这个技巧不仅可以将删除的文件挽救回来，当改动某个文件后反悔了，也可以用它把文件恢复到上一次Commit的状态。不是所有情况下都能恢复被删除的文件的。因为整个Git的记录都是放在根目录下的 .git目录中，如果这个目录被删除了，也就意味着历史记录也被删除了，那么删除的文件也就不能恢复了。</p> 
</blockquote> 
<h3><a id="_382"></a>将文件添加至忽略列</h3> 
<p><img src="https://images2.imgbox.com/3a/b4/BeHu12tm_o.png" alt="image-20211206145302319"></p> 
<p>一般我们总会有些文件无需纳入Git的管理，也不希望它们总出现在未跟踪文件列表。通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。在这种情况下，我们可以在工作目录中创建一个名为 .gitignore的文件(文件名称固定)，列出要忽略的文件模式。</p> 
<h4><a id="_389"></a>忽略规则</h4> 
<pre><code class="prism language-git"># / 表示 当前文件所在的目录


# 忽略public下的所有目录及文件
/public/*
#不忽略/public/assets，就是特例的意思，assets文件不忽略
!/public/assets


# 忽略具体的文件
index.class


# 忽略所有的class
*.class


# 忽略 a.class b.class
[ab].class

</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <ul><li>#匹配规则和linux文件匹配一样</li><li>#以斜杠“/”开头表示目录</li><li>#以星号“*”通配多个字符</li><li>#以问号“?”通配单个字符</li><li>#以方括号“[]”包含单个字符的匹配列表</li><li>#以叹号“!”表示不忽略(跟踪)匹配到的文件或目录</li></ul> 
</blockquote> 
<p><strong>例子</strong></p> 
<p>手动创建一个user.class文件</p> 
<pre><code class="prism language-gas">touch user.class
touch userDao.class
</code></pre> 
<p>创建.gitignore文件</p> 
<pre><code class="prism language-gas">touch .gitignore
</code></pre> 
<p>编写规则</p> 
<pre><code class="prism language-gas">*.class
</code></pre> 
<h3><a id="_446"></a>日志记录操作</h3> 
<p><img src="https://images2.imgbox.com/84/30/wLJDwzkB_o.png" alt="image-20211206145556062"></p> 
<h4><a id="_451"></a>查看日志</h4> 
<p><strong>语法结构：</strong></p> 
<pre><code class="prism language-gas">git log
</code></pre> 
<blockquote> 
 <p><strong>参数：</strong></p> 
 <ul><li>–graph ： 查看分支合并图</li><li>–oneline : 标记把每一个提交压缩到了一行中</li></ul> 
</blockquote> 
<h4><a id="_464"></a>获取执行过的命令</h4> 
<p><strong>语法结构：</strong></p> 
<pre><code class="prism language-gas">git reflog
</code></pre> 
<h3><a id="_473"></a>比较文件差异</h3> 
<p><img src="https://images2.imgbox.com/d2/32/f60NSo9e_o.png" alt="img"></p> 
<p>diff是指的是两个事物的不同。例如在Linux系统中，diff命令会逐行比较两个文本的差异然后显示出来。</p> 
<h4><a id="git_diff_480"></a>git diff命令格式</h4> 
<p><strong>语法结构：</strong></p> 
<pre><code class="prism language-gas">git diff [--cached]
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <ul><li><code>---</code>：标记原始文件</li><li><code>+++</code>：标记新文件</li><li><code>@@</code>：两个不同文件版本的上下文行号。</li><li><code>-</code>： 原始文件删除改行</li><li><code>+</code>：原始文件增加一行</li></ul> 
</blockquote> 
<h4><a id="_496"></a>实战演习</h4> 
<p><strong>工作文件夹比较</strong></p> 
<pre><code class="prism language-shell"><span class="token function">git</span> <span class="token function">diff</span>
</code></pre> 
<p><strong>把修改文件追加到索引区</strong></p> 
<pre><code class="prism language-shell"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> 
</code></pre> 
<p><strong>无法比较工作文件夹的修改文件</strong></p> 
<pre><code class="prism language-shell"><span class="token function">git</span> <span class="token function">diff</span>
</code></pre> 
<p><strong>索引区比较</strong></p> 
<pre><code class="prism language-shell"><span class="token function">git</span> <span class="token function">diff</span> --cached
</code></pre> 
<h3><a id="_524"></a>还原文件</h3> 
<p><img src="https://images2.imgbox.com/f8/80/H9EwQSCQ_o.png" alt="image-20211206153335762"></p> 
<p>对于恢复修改的文件，就是将文件从仓库中拉到本地工作区，即 仓库区 ----&gt; 暂存区 ----&gt; 工作区。</p> 
<p><strong>对于修改的文件有三种情况：</strong></p> 
<ul><li>只是修改了文件，没有任何 Git 操作</li><li>修改了文件，并提交到暂存区（即编辑之后，gitadd但没有gitadd但没有 git commit -m …）</li><li>修改了文件，并提交到仓库区（即编辑之后，gitadd和gitadd和 git commit -m …）</li></ul> 
<h4><a id="I_537"></a>情况I</h4> 
<p>只是修改了文件，没有任何 git 操作，直接一个命令就可回退</p> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> checkout -- aaa.txt <span class="token comment"># aaa.txt为文件名</span>
</code></pre> 
<h4><a id="II_545"></a>情况II</h4> 
<p>修改了文件，并提交到暂存区(即编辑之后，git add但没有gitadd但没有 git commit ）</p> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> log --oneline   <span class="token comment"># 可以省略</span>
$ <span class="token function">git</span> reset HEAD   <span class="token comment"># 回退到当前版本</span>
$ <span class="token function">git</span> checkout -- aaa.txt   <span class="token comment"># aaa.txt为文件名</span>
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>情况II 和 情况III 只有回退的版本不一样，对于 情况II，并没有 $ git commit，仓库版本也就不会更新和记录，所以回退的是当前版本</p> 
</blockquote> 
<h4><a id="III_559"></a>情况III</h4> 
<p>修改了文件，并提交到*<strong>仓库区*</strong>（即编辑之后git add和gitadd和 git commit -m ）</p> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> log --oneline   <span class="token comment"># 可以省略</span>
$ <span class="token function">git</span> reset HEAD^   <span class="token comment"># 回退到上一个版本</span>
$ <span class="token function">git</span> checkout -- aaa.txt   <span class="token comment"># aaa.txt为文件名</span>
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong></p> 
 <p>git reset 版本号 ---- 将暂缓区回退到指定版本,根据 $ git log --oneline 显示的版本号，可以回退到任何一个版本，也可通过 HEAD 来指定版本。</p> 
 <ul><li>HEAD 当前版本</li><li>HEAD^ 上一个版本</li><li>HEAD^^ 上上一个版本</li></ul> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/148c51dbfb0ac9c844f6d31c9946c11e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【自定义镜像—Dockerfile完全指南】常用的十三种dockerfile指令及构建Tomcat镜像例子</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/29e3e4327983914ada4a2c0324e06d0c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">idea 创建 spring boot</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>