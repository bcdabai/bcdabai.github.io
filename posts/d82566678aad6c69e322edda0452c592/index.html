<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gmsh网格剖分学习 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gmsh网格剖分学习" />
<meta property="og:description" content="Gmsh is a free 3D finite element mesh generator with a built-in CAD engine and post-processor. Its design goal is to provide a fast, light and user-friendly meshing tool with parametric input and advanced visualization capabilities.
Gmsh is built around four modules: geometry, mesh, solver and post-processing. The specification of any input to these modules is done either interactively using the graphical user interface or in ASCII text files using Gmsh’s own scripting language." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d82566678aad6c69e322edda0452c592/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-31T18:46:56+08:00" />
<meta property="article:modified_time" content="2020-03-31T18:46:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gmsh网格剖分学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>Gmsh is a free 3D finite element mesh generator with a built-in CAD engine and post-processor. Its design goal is to provide a fast, light and user-friendly meshing tool with parametric input and advanced visualization capabilities.</p> 
<p>Gmsh is built around four modules: geometry, mesh, solver and post-processing. The specification of any input to these modules is done either interactively using the graphical user interface or in ASCII text files using Gmsh’s own scripting language.</p> 
<p>The <code>.geo</code> file, in fact, is a Gmsh’s scripting file. It support both C and C++ style comments.</p> 
<p>Gmsh是一款有限元网格生成器，包含预处理、求解和后处理三大模块，分别对应于几何建模、网格优化和结果展示三项功能。</p> 
<p>打个简单比方，张三准备建一个房子，首先将轮廓线画出来（几何建模），然后计算用多少块转（离散网格），最后再贴瓷砖或刷墙（效果展示）。</p> 
<p>通过tutorial文件夹中的第一个简单例子t1.geo来认识其中的一些定义规则和相关的参数定义。<br> 通过file,open打开t1.geo，出现一个方框，然后在工具栏mesh选项下找到2D，点击后方框呗离散化为三角形网格。</p> 
<p>通过文本编辑器打开它的script t1.geo：</p> 
<pre><code class="prism language-python"><span class="token operator">/</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span>
 <span class="token operator">*</span>
 <span class="token operator">*</span>  Gmsh tutorial <span class="token number">1</span>
 <span class="token operator">*</span>
 <span class="token operator">*</span>  Variables<span class="token punctuation">,</span> elementary entities <span class="token punctuation">(</span>points<span class="token punctuation">,</span> curves<span class="token punctuation">,</span> surfaces<span class="token punctuation">)</span><span class="token punctuation">,</span> physical
 <span class="token operator">*</span>  groups <span class="token punctuation">(</span>points<span class="token punctuation">,</span> curves<span class="token punctuation">,</span> surfaces<span class="token punctuation">)</span>
 <span class="token operator">*</span>
 <span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span><span class="token operator">/</span>

<span class="token operator">//</span> The simplest construction <span class="token keyword">in</span> Gmsh's scripting language <span class="token keyword">is</span> the
<span class="token operator">//</span> `affectation<span class="token string">'. The following command defines a new variable `lc'</span><span class="token punctuation">:</span>

lc <span class="token operator">=</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>

<span class="token operator">//</span> This variable can then be used <span class="token keyword">in</span> the definition of Gmsh's simplest
<span class="token operator">//</span> `elementary entity<span class="token string">', a `Point'</span><span class="token punctuation">.</span> A Point <span class="token keyword">is</span> defined by a <span class="token builtin">list</span> of four numbers<span class="token punctuation">:</span>
<span class="token operator">//</span> three coordinates <span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y <span class="token operator">and</span> Z<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">and</span> a characteristic length <span class="token punctuation">(</span>lc<span class="token punctuation">)</span> that sets
<span class="token operator">//</span> the target element size at the point<span class="token punctuation">:</span>

Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lc<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> The distribution of the mesh element sizes <span class="token keyword">is</span> then obtained by interpolation
<span class="token operator">//</span> of these characteristic lengths throughout the geometry<span class="token punctuation">.</span> Another method to
<span class="token operator">//</span> specify characteristic lengths <span class="token keyword">is</span> to use general mesh size Fields <span class="token punctuation">(</span>see
<span class="token operator">//</span> `t10<span class="token punctuation">.</span>geo<span class="token string">'). A particular case is the use of a background mesh (see `t7.geo'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>

<span class="token operator">//</span> We can then define some additional points <span class="token keyword">as</span> well <span class="token keyword">as</span> our first curve<span class="token punctuation">.</span>  Curves
<span class="token operator">//</span> are Gmsh's second <span class="token builtin">type</span> of elementery entities<span class="token punctuation">,</span> <span class="token operator">and</span><span class="token punctuation">,</span> amongst curves<span class="token punctuation">,</span> straight
<span class="token operator">//</span> lines are the simplest<span class="token punctuation">.</span> A straight line <span class="token keyword">is</span> defined by a <span class="token builtin">list</span> of point
<span class="token operator">//</span> numbers<span class="token punctuation">.</span> In the commands below<span class="token punctuation">,</span> <span class="token keyword">for</span> example<span class="token punctuation">,</span> the line <span class="token number">1</span> starts at point <span class="token number">1</span> <span class="token operator">and</span>
<span class="token operator">//</span> ends at point <span class="token number">2</span><span class="token punctuation">:</span>

Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> lc<span class="token punctuation">}</span> <span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lc<span class="token punctuation">}</span> <span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">.3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> lc<span class="token punctuation">}</span> <span class="token punctuation">;</span>

Line<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>

<span class="token operator">//</span> The third elementary entity <span class="token keyword">is</span> the surface<span class="token punctuation">.</span> In order to define a simple
<span class="token operator">//</span> rectangular surface <span class="token keyword">from</span> the four curves defined above<span class="token punctuation">,</span> a curve loop has first
<span class="token operator">//</span> to be defined<span class="token punctuation">.</span> A curve loop <span class="token keyword">is</span> a <span class="token builtin">list</span> of connected curves<span class="token punctuation">,</span> a sign being
<span class="token operator">//</span> associated <span class="token keyword">with</span> each curve <span class="token punctuation">(</span>depending on the orientation of the curve<span class="token punctuation">)</span><span class="token punctuation">:</span>

Curve Loop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>

<span class="token operator">//</span> We can then define the surface <span class="token keyword">as</span> a <span class="token builtin">list</span> of curve loops <span class="token punctuation">(</span>only one here<span class="token punctuation">,</span> since
<span class="token operator">//</span> there are no holes<span class="token operator">-</span><span class="token operator">-</span>see `t4<span class="token punctuation">.</span>geo'<span class="token punctuation">)</span><span class="token punctuation">:</span>

Plane Surface<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>

<span class="token operator">//</span> At this level<span class="token punctuation">,</span> Gmsh knows everything to display the rectangular surface <span class="token number">6</span> <span class="token operator">and</span>
<span class="token operator">//</span> to mesh it<span class="token punctuation">.</span> An optional step <span class="token keyword">is</span> needed <span class="token keyword">if</span> we want to group elementary
<span class="token operator">//</span> geometrical entities into more meaningful groups<span class="token punctuation">,</span> e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> to define some
<span class="token operator">//</span> mathematical <span class="token punctuation">(</span><span class="token string">"domain"</span><span class="token punctuation">,</span> <span class="token string">"boundary"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> functional <span class="token punctuation">(</span><span class="token string">"left wing"</span><span class="token punctuation">,</span> <span class="token string">"fuselage"</span><span class="token punctuation">)</span> <span class="token operator">or</span>
<span class="token operator">//</span> material <span class="token punctuation">(</span><span class="token string">"steel"</span><span class="token punctuation">,</span> <span class="token string">"carbon"</span><span class="token punctuation">)</span> properties<span class="token punctuation">.</span>
<span class="token operator">//</span>
<span class="token operator">//</span> Such groups are called <span class="token string">"Physical Groups"</span> <span class="token keyword">in</span> Gmsh<span class="token punctuation">.</span> By default<span class="token punctuation">,</span> <span class="token keyword">if</span> physical
<span class="token operator">//</span> groups are defined<span class="token punctuation">,</span> Gmsh will export <span class="token keyword">in</span> output files only those elements that
<span class="token operator">//</span> belong to at least one physical group<span class="token punctuation">.</span> <span class="token punctuation">(</span>To force Gmsh to save <span class="token builtin">all</span> elements<span class="token punctuation">,</span>
<span class="token operator">//</span> whether they belong to physical groups <span class="token operator">or</span> <span class="token operator">not</span><span class="token punctuation">,</span> <span class="token builtin">set</span> <span class="token string">"Mesh.SaveAll=1;"</span><span class="token punctuation">,</span> <span class="token operator">or</span>
<span class="token operator">//</span> specify <span class="token string">"-save_all"</span> on the command line<span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token operator">//</span>
<span class="token operator">//</span> Here we define a physical curve that groups the left<span class="token punctuation">,</span> bottom <span class="token operator">and</span> right lines
<span class="token operator">//</span> <span class="token keyword">in</span> a single group <span class="token punctuation">(</span><span class="token keyword">with</span> prescribed tag <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">and</span> a physical surface <span class="token keyword">with</span> name
<span class="token operator">//</span> <span class="token string">"My surface"</span> <span class="token punctuation">(</span><span class="token keyword">with</span> an automatic tag<span class="token punctuation">)</span> containg the geometrical surface <span class="token number">1</span><span class="token punctuation">:</span>

Physical Curve<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>
Physical Surface<span class="token punctuation">(</span><span class="token string">"My surface"</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>

<span class="token operator">//</span> Note that starting <span class="token keyword">with</span> Gmsh <span class="token number">3.0</span><span class="token punctuation">,</span> models can be built using different
<span class="token operator">//</span> geometry kernels than the default <span class="token string">"built-in"</span> kernel<span class="token punctuation">.</span> By specifying
<span class="token operator">//</span>
<span class="token operator">//</span>   SetFactory<span class="token punctuation">(</span><span class="token string">"OpenCASCADE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">//</span>
<span class="token operator">//</span> <span class="token builtin">any</span> subsequent command <span class="token keyword">in</span> the <span class="token punctuation">.</span>geo <span class="token builtin">file</span> would be handled by the OpenCASCADE
<span class="token operator">//</span> geometry kernel instead of the built<span class="token operator">-</span><span class="token keyword">in</span> kernel<span class="token punctuation">.</span> A rectangular surface could
<span class="token operator">//</span> then simply be created <span class="token keyword">with</span>
<span class="token operator">//</span>
<span class="token operator">//</span>   Rectangle<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">//</span>
<span class="token operator">//</span> See tutorial<span class="token operator">/</span>t16<span class="token punctuation">.</span>geo <span class="token keyword">for</span> a complete example<span class="token punctuation">,</span> <span class="token operator">and</span> demos<span class="token operator">/</span>boolean <span class="token keyword">for</span> more<span class="token punctuation">.</span>

</code></pre> 
<p>其中，我们需要知道的四个语句：<br> 1: 定义参数 lc = 1e-2;<br> 2: 定义点 Point(1) = {0,0,0,lc};<br> 3: 定义线段 Line(1) = {1,2};<br> 4: 定义闭合线段 Line Loop(5) = {4,1,-2,3};<br> 5: 定义面 Plane Surface(6) = {5}</p> 
<p>由此，Gmsh参数化建模的流程：**通过参数定义点的属性，连接相应的点构成线段，在连接一系列线段构成封闭的面。**其中，定义点需要四个变量，分别为：三个坐标和一个定义网格剖分疏密的参数。</p> 
<h6><a id="_114"></a>几个最为实用的选项设置：</h6> 
<p>1）菜单tool中Options选项Visibility:<br> 该选项卡里Geometry和Mesh里Visibility包含了点、线、面的显示参数；<br> 2）菜单tool中Options—General—Advanced:<br> 当设置参数没有变化，也找不出原因时，回复默认设置是有效的选择；<br> 3）菜单tool中Options—General 脚本重载于编辑:<br> Gmsh支持前台和后台双重操作，也就是说，用户可以在后台编辑脚本，但后通过导航栏Geometry下面的Reload重新加载，相应实图会自动更新；</p> 
<p>除此以外，用户也可以在前台通过鼠标建模（选点、连线、取面等），对应的命令语句会自动卸乳对应的脚本文件（<strong>在导航栏的Geometry—Edit file可以自动打开脚本文件，可以非常直观的学习脚本命令</strong>）。当然用户也可以进行混合操作。</p> 
<p>一个简单里操作栗子，及其中的网格形态设置（三角形、四边形、规则四边形及网格尺寸），可以参考<a href="http://www.docin.com/p-1856905616.html" rel="nofollow">http://www.docin.com/p-1856905616.html</a>进行详细了解。</p> 
<h6><a id="_128"></a>带圆弧的形状</h6> 
<p>此处再看一下tutorial文件夹中的第四个带圆弧的例子t4.geo：</p> 
<pre><code class="prism language-python"><span class="token operator">/</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span>
 <span class="token operator">*</span>
 <span class="token operator">*</span>  Gmsh tutorial <span class="token number">4</span>
 <span class="token operator">*</span>
 <span class="token operator">*</span>  Built<span class="token operator">-</span><span class="token keyword">in</span> functions<span class="token punctuation">,</span> surface holes<span class="token punctuation">,</span> annotations<span class="token punctuation">,</span> mesh colors
 <span class="token operator">*</span>
 <span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span><span class="token operator">/</span>

<span class="token operator">//</span> As usual<span class="token punctuation">,</span> we start by defining some variables<span class="token punctuation">:</span>

cm <span class="token operator">=</span> <span class="token number">1e</span><span class="token operator">-</span><span class="token number">02</span><span class="token punctuation">;</span>
e1 <span class="token operator">=</span> <span class="token number">4.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> e2 <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">*</span> cm <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> e3 <span class="token operator">=</span>  <span class="token number">5</span> <span class="token operator">*</span> cm <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
h1 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h2 <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h3 <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h4 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> h5 <span class="token operator">=</span> <span class="token number">4.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span>
R1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> R2 <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span> r <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> cm<span class="token punctuation">;</span>
Lc1 <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
Lc2 <span class="token operator">=</span> <span class="token number">0.003</span><span class="token punctuation">;</span>

<span class="token operator">//</span> We can use <span class="token builtin">all</span> the usual mathematical functions <span class="token punctuation">(</span>note the capitalized first
<span class="token operator">//</span> letters<span class="token punctuation">)</span><span class="token punctuation">,</span> plus some useful functions like Hypot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">:</span><span class="token operator">=</span> Sqrt<span class="token punctuation">(</span>a<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> b<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

ccos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>h5<span class="token operator">*</span>R1 <span class="token operator">+</span> e2 <span class="token operator">*</span> Hypot<span class="token punctuation">(</span>h5<span class="token punctuation">,</span> Hypot<span class="token punctuation">(</span>e2<span class="token punctuation">,</span> R1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>h5<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> e2<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ssin <span class="token operator">=</span> Sqrt<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> ccos<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">//</span> Then we define some points <span class="token operator">and</span> some lines using these variables<span class="token punctuation">:</span>

Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e1<span class="token operator">-</span>e2<span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e1<span class="token operator">-</span>e2<span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3<span class="token operator">-</span>r <span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3<span class="token operator">-</span>r <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>h2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>h2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3   <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3<span class="token operator">+</span>r <span class="token punctuation">,</span> h1<span class="token operator">+</span>r <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e3<span class="token operator">+</span>r <span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e1<span class="token operator">+</span>e2<span class="token punctuation">,</span> h1   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e1<span class="token operator">+</span>e2<span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> e2   <span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>

Point<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R1 <span class="token operator">/</span> ssin<span class="token punctuation">,</span> h5<span class="token operator">+</span>R1<span class="token operator">*</span>ccos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>        <span class="token punctuation">,</span> h5        <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R1 <span class="token operator">/</span> ssin<span class="token punctuation">,</span> h5<span class="token operator">+</span>R1<span class="token operator">*</span>ccos<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>e2       <span class="token punctuation">,</span> <span class="token number">0.0</span>       <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc1<span class="token punctuation">}</span><span class="token punctuation">;</span>

Point<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span>R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>  <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> R2 <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span>  <span class="token punctuation">,</span> h1<span class="token operator">+</span>h3   <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>

Point<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span><span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">+</span>h4<span class="token operator">+</span>R2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span> Point<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span><span class="token punctuation">,</span> h1<span class="token operator">+</span>h3<span class="token operator">-</span>R2<span class="token punctuation">,</span>    <span class="token number">0</span><span class="token punctuation">,</span> Lc2<span class="token punctuation">}</span><span class="token punctuation">;</span>

Line<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span> <span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> Gmsh provides other curve primitives than straight lines<span class="token punctuation">:</span> splines<span class="token punctuation">,</span> B<span class="token operator">-</span>splines<span class="token punctuation">,</span>
<span class="token operator">//</span> circle arcs<span class="token punctuation">,</span> ellipse arcs<span class="token punctuation">,</span> etc<span class="token punctuation">.</span> Here we define a new circle arc<span class="token punctuation">,</span> starting at
<span class="token operator">//</span> point <span class="token number">14</span> <span class="token operator">and</span> ending at point <span class="token number">16</span><span class="token punctuation">,</span> <span class="token keyword">with</span> the circle's center being the point <span class="token number">15</span><span class="token punctuation">:</span>

Circle<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> Note that<span class="token punctuation">,</span> <span class="token keyword">in</span> Gmsh<span class="token punctuation">,</span> circle arcs should always be smaller than Pi<span class="token punctuation">.</span> We can then
<span class="token operator">//</span> define additional lines <span class="token operator">and</span> circles<span class="token punctuation">,</span> <span class="token keyword">as</span> well <span class="token keyword">as</span> a new surface<span class="token punctuation">:</span>

Line<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Line<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  Line<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Circle<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Line<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   Line<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    Circle<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>   Line<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span>  <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    Line<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Circle<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Circle<span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Circle<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">;</span> Circle<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Curve Loop<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">17</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Plane Surface<span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> But we still need to define the exterior surface<span class="token punctuation">.</span> Since this surface has a
<span class="token operator">//</span> hole<span class="token punctuation">,</span> its definition now requires two curves loops<span class="token punctuation">:</span>

Curve Loop<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">11</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Plane Surface<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> As a general rule<span class="token punctuation">,</span> <span class="token keyword">if</span> a surface has N holes<span class="token punctuation">,</span> it <span class="token keyword">is</span> defined by N<span class="token operator">+</span><span class="token number">1</span> curve loops<span class="token punctuation">:</span>
<span class="token operator">//</span> the first loop defines the exterior boundary<span class="token punctuation">;</span> the other loops define the
<span class="token operator">//</span> boundaries of the holes<span class="token punctuation">.</span>

<span class="token operator">//</span> Finally<span class="token punctuation">,</span> we can add some comments by embedding a post<span class="token operator">-</span>processing view
<span class="token operator">//</span> containing some strings<span class="token punctuation">:</span>

View <span class="token string">"comments"</span> <span class="token punctuation">{<!-- --></span>
  <span class="token operator">//</span> Add a text string <span class="token keyword">in</span> window coordinates<span class="token punctuation">,</span> <span class="token number">10</span> pixels <span class="token keyword">from</span> the left <span class="token operator">and</span> <span class="token number">10</span>
  <span class="token operator">//</span> pixels <span class="token keyword">from</span> the bottom<span class="token punctuation">,</span> using the StrCat function to concatenate strings<span class="token punctuation">:</span>
  T2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> StrCat<span class="token punctuation">(</span><span class="token string">"Created on "</span><span class="token punctuation">,</span> Today<span class="token punctuation">,</span> <span class="token string">" with Gmsh"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">//</span> Add a text string <span class="token keyword">in</span> model coordinates centered at <span class="token punctuation">(</span>X<span class="token punctuation">,</span>Y<span class="token punctuation">,</span>Z<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.11</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  T3<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.11</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> TextAttributes<span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">,</span> <span class="token string">"Font"</span><span class="token punctuation">,</span> <span class="token string">"Helvetica"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"Hole"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">//</span> If a string starts <span class="token keyword">with</span> `<span class="token builtin">file</span><span class="token punctuation">:</span><span class="token operator">//</span>'<span class="token punctuation">,</span> the rest <span class="token keyword">is</span> interpreted <span class="token keyword">as</span> an image
  <span class="token operator">//</span> <span class="token builtin">file</span><span class="token punctuation">.</span> For <span class="token number">3D</span> annotations<span class="token punctuation">,</span> the size <span class="token keyword">in</span> model coordinates can be specified
  <span class="token operator">//</span> after a `@<span class="token string">' symbol in the form `widthxheight'</span> <span class="token punctuation">(</span><span class="token keyword">if</span> one of `width' <span class="token operator">or</span>
  <span class="token operator">//</span> `height' <span class="token keyword">is</span> zero<span class="token punctuation">,</span> natural scaling <span class="token keyword">is</span> used<span class="token punctuation">;</span> <span class="token keyword">if</span> both are zero<span class="token punctuation">,</span> original image
  <span class="token operator">//</span> dimensions <span class="token keyword">in</span> pixels are used<span class="token punctuation">)</span><span class="token punctuation">:</span>
  T3<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.09</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> TextAttributes<span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@0.01x0"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">//</span> The <span class="token number">3D</span> orientation of the image can be specified by proving the direction
  <span class="token operator">//</span> of the bottom <span class="token operator">and</span> left edge of the image <span class="token keyword">in</span> model space<span class="token punctuation">:</span>
  T3<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0.09</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@0.01x0,0,0,1,0,1,0"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">//</span> The image can also be drawn <span class="token keyword">in</span> <span class="token string">"billboard"</span> mode<span class="token punctuation">,</span> i<span class="token punctuation">.</span>e<span class="token punctuation">.</span> always parallel to
  <span class="token operator">//</span> the camera<span class="token punctuation">,</span> by using the `<span class="token comment">#' symbol:</span>
  T3<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.12</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> TextAttributes<span class="token punctuation">(</span><span class="token string">"Align"</span><span class="token punctuation">,</span> <span class="token string">"Center"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@0.01x0#"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token operator">//</span> The size of <span class="token number">2D</span> annotations <span class="token keyword">is</span> given directly <span class="token keyword">in</span> pixels<span class="token punctuation">:</span>
  T2<span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token string">"file://t4_image.png@20x0"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token operator">//</span> Views <span class="token operator">and</span> geometrical entities can be made to respond to double<span class="token operator">-</span>click events<span class="token punctuation">:</span>

View<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>DoubleClickedCommand <span class="token operator">=</span> <span class="token string">"Printf('View[0] has been double-clicked!');"</span><span class="token punctuation">;</span>
Geometry<span class="token punctuation">.</span>DoubleClickedLineCommand <span class="token operator">=</span> "Printf<span class="token punctuation">(</span><span class="token string">'Curve %g has been double-clicked!'</span><span class="token punctuation">,</span>
  Geometry<span class="token punctuation">.</span>DoubleClickedEntityTag<span class="token punctuation">)</span><span class="token punctuation">;</span>"<span class="token punctuation">;</span>

<span class="token operator">//</span> We can also change the color of some mesh entities<span class="token punctuation">:</span>

Color Grey50<span class="token punctuation">{<!-- --></span> Surface<span class="token punctuation">{<!-- --></span> <span class="token number">22</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Purple<span class="token punctuation">{<!-- --></span> Surface<span class="token punctuation">{<!-- --></span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Red<span class="token punctuation">{<!-- --></span> Curve<span class="token punctuation">{<!-- --></span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">14</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
Color Yellow<span class="token punctuation">{<!-- --></span> Curve<span class="token punctuation">{<!-- --></span> <span class="token number">15</span><span class="token punctuation">:</span><span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

</code></pre> 
<p>对应的几何图形为：<br> <img src="https://images2.imgbox.com/86/c9/DpuAg2l7_o.jpg" alt="在这里插入图片描述"></p> 
<h6><a id="_255"></a>生成带边界条件的网格</h6> 
<p><a href="https://tlanyan.me/%E4%BD%BF%E7%94%A8gmsh%E7%94%9F%E6%88%90%E5%B8%A6%E8%BE%B9%E7%95%8C%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%BD%91%E6%A0%BC/" rel="nofollow">参考</a><br> gmsh中的元素可以分成两类：几何实体和物理实体。几何实体是网格元素的最基本组成，物理实体（物理组）则是在几何元素的基础上进行逻辑层上的分类。从架构上看，几何实体属于物理划分，物理实体则是逻辑划分。</p> 
<p>gmsh支持根据物理性质将几何实体进行归类和划分。目前所知物理实体一个非常重要的性质是设定网格的边界条件：将相同边界条件的几何元素归到同一个组下，gmsh在生成网格的时候就将物理信息写入到生成的网格信息中。</p> 
<p>物理实体的定义需要在定义的元素前加上”Physical”标识符，其余的同几何实体的定义相同。下面是一个<strong>二维机翼</strong>的gmsh定义：</p> 
<pre><code class="prism language-python">cl_1 <span class="token operator">=</span> <span class="token number">0.01</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2906701309999999</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.059599889</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.290670131</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.059599889</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">3.33066907387547e-016</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.775557561562891e-017</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.290670131</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.059599889</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">1.110223024625156e-016</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2906701309999999</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.059599889</span><span class="token punctuation">,</span> cl_1<span class="token punctuation">}</span><span class="token punctuation">;</span>
p1 <span class="token operator">=</span> newp<span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.9578477628235885</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.005808055788066277</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.9136001717514742</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.01159953317971515</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.8678598741632115</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.01728526031819392</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.8212779475631614</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.02277865740518693</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.7745191250941298</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.02800031778249978</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.7282262993505407</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.03288198060276357</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.6829880771923493</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0373694940386463</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.6393125213400493</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.04142453011683183</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.5976090881089672</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.04502500226786509</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.5581794445899648</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0481643117667218</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.521216620190355</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05084967643767647</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4868110356265319</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05309985880292391</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4549614552219337</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05494261362247144</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4255888082703554</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05641213152223604</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3985510271977428</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05754668640628761</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3736574289168878</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05838661862754537</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3506816041400513</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0589727173733007</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3293721908004415</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05934501212155738</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.309461241465114</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0595419466863262</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Spline<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">,</span> p1 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
p2 <span class="token operator">=</span> newp<span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2842729112131264</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05959035601288155</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2761001220809002</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0595451957195354</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2666300877434753</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05944430161792291</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2560533097681484</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05926870849763945</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2444412386433862</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05899746041353254</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2318090344278302</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.058605806668528</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2181439021461914</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05806365702589601</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2034209651627122</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05733392771630338</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1876150065513268</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0563705983368452</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1707120994729877</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0551163616335265</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1527237978253341</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05349978292686403</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1337063457254963</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.05143193572045287</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1137876774535901</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.04880258242681034</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.09320552798189294</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.04547617760131762</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.07236044644973513</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.04128836888014319</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.05188730831459138</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.03604437967545813</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.03274685573930983</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.02952182506630169</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.01633265015110124</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0214822334050408</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p2 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.004575175047531102</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.01169763023104438</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Spline<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">,</span> p2 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
p3 <span class="token operator">=</span> newp<span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2842687444062102</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05959033995136771</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2760902965551228</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05954510785780694</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2666128650422044</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05944404536989124</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2560272811856329</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05926814784851871</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2444053852046738</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05899642178635941</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2317627182952431</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05860407976787362</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.2180868707188054</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05806099563459484</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.203353381935633</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05733005183556716</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1875375094086677</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05636519948112355</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1706258837914739</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05510911382545057</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1526307187728704</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05349036308954442</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1336090279833125</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05142005881221923</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.1136896084213433</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.0487880588136444</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.09311108862650791</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04545900258153844</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.07227479757675123</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04126885612468364</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.05181599481494702</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.03602334947685121</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.03269491843986368</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.02950085009913444</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.01630296371554681</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.02146392080930703</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p3 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.004565723668620725</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.01168586711270097</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Spline<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">5</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">,</span> p3 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Reverse Line <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
p4 <span class="token operator">=</span> newp<span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.9578371307341608</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.005809451776204171</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.9135836204677359</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.01160162204700566</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.8678423367489414</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.01728739358632329</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.8212641228333738</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.02278029282335023</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.7745130557952343</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.02800105787177528</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.7282310363923532</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.03288159346440879</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.6830054673847058</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.03736791477271506</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.6393431339409602</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04142184433789697</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.5976522728176452</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04502141572787306</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.5582334954732195</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04816011152865139</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.5212790094647602</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05084518927366299</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4868786787883632</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05309541172223745</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4550309732288671</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05493850005863926</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.4256567607517621</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05640858514472293</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.398614100322739</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05754386310405684</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.373712570479338</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05838458613465396</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3507261053773512</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05897145133181579</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3294037189943399</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05934439706944743</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span>p4 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0.3094778295903463</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.05954178043174179</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Spline<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">7</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">17</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">18</span><span class="token punctuation">,</span> p4 <span class="token operator">+</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">;</span>


Coherence<span class="token punctuation">;</span>

cl_2 <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>

Point<span class="token punctuation">(</span><span class="token number">89</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> cl_2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> cl_2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">91</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> cl_2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Point<span class="token punctuation">(</span><span class="token number">92</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> cl_2<span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line Loop<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Line Loop<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Plane Surface<span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Physical Line<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Physical Line<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Physical Surface<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>上述文件定义了一个二维机翼的几何实体和物理实体。将其使用gmsh则可生成二维的网格。</p> 
<p><strong>注意：</strong> 如果需要导出msh格式，必须给出完整的physical定义！在上述例子中，如果没有给出最后的physical surface定义，保存成msh的格式则只有边界上的数据。话句话说，<strong>如果定义了物理实体，msh格式只会输出和physical信息的几何实体相关的网格！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2a5c084ba70465fe134e4a0830d1eb59/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Adobe Acrobat Reader DC 2019 (19.8)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/78eb2b6c9c586a04fd73fccedd1384c2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">简单方法解决火狐浏览器主页被篡改/挟持，主页变成垃圾网站的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>