<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>25.消息订阅与发布——PubSub-js - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="25.消息订阅与发布——PubSub-js" />
<meta property="og:description" content="1.什么是PubSub-js？ PubSub.js是一个用Javascript编写的基于主题的发布/订阅库，这种方式的思想与全局事件总线很相似。
PubSubJS有同步解耦，所以主题是异步开发的。这有助于使你的程序保持可预测性，因为在消费者处理主题时，主题的发起者不会被阻止。
它包含以下操作：
（1）订阅消息——对应绑定事件监听
（2）发布消息——分发事件
（3）取消消息订阅——解绑事件监听
2.主要特点 无依赖
同步解耦
ES3兼容。PubSub-js能够在任何可以执行JavaScript的地方运行。浏览器、服务器、电子阅读器、手机、游戏机
AMD/Common.JS模块支持
不修改订阅者（jquery自定义事件修改订阅者）
易于理解和使用
小于1kb压缩
3.安装PubSubJS 有几种方法可以获取PubSubJS
1.通过npm（npm install pubsub-js）安装
4.使用PubSubJS School组件
&lt;template&gt; &lt;div class=&#34;school&#34;&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import pubsub from &#39;pubsub-js&#39; export default { name:&#39;School&#39;, data() { return { } }, mounted() { this.pubId = pubsub.subscribe(&#39;hello&#39;,(msgName,data)=&gt;{ console.log(this) console.log(&#39;有人发布了hello消息，hello消息的回调执行了&#39;,msgName,data) }) }, beforeDestroy() { pubsub.unsubscribe(this.pubId) }, } &lt;/script&gt; &lt;style scoped&gt; .school{ background-color: skyblue; padding: 5px; } &lt;/style&gt; Student组件
&lt;template&gt; &lt;div class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/974a0cee27bce0c34f7f7db22f94e67f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-24T13:35:53+08:00" />
<meta property="article:modified_time" content="2022-07-24T13:35:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">25.消息订阅与发布——PubSub-js</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.什么是PubSub-js？</h2> 
<blockquote> 
 <p>PubSub.js是一个用Javascript编写的基于主题的发布/订阅库，这种方式的思想与全局事件总线很相似。</p> 
 <p>PubSubJS有同步解耦，所以主题是异步开发的。这有助于使你的程序保持可预测性，因为在消费者处理主题时，主题的发起者不会被阻止。</p> 
 <p>它包含以下操作：</p> 
 <p>（1）订阅消息——对应绑定事件监听</p> 
 <p>（2）发布消息——分发事件</p> 
 <p>（3）取消消息订阅——解绑事件监听</p> 
</blockquote> 
<h2>2.主要特点</h2> 
<blockquote> 
 <p>无依赖</p> 
 <p>同步解耦</p> 
 <p>ES3兼容。PubSub-js能够在任何可以执行JavaScript的地方运行。浏览器、服务器、电子阅读器、手机、游戏机</p> 
 <p>AMD/Common.JS模块支持</p> 
 <p>不修改订阅者（jquery自定义事件修改订阅者）</p> 
 <p>易于理解和使用</p> 
 <p>小于1kb压缩</p> 
</blockquote> 
<h2>3.安装PubSubJS</h2> 
<p>有几种方法可以获取PubSubJS</p> 
<blockquote> 
 <p>1.通过npm（npm install pubsub-js）安装</p> 
</blockquote> 
<h2>4.使用PubSubJS</h2> 
<blockquote> 
 <p>School组件</p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
	&lt;div class="school"&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
	import pubsub from 'pubsub-js'
	export default {
		name:'School',
		data() {
			return {
			}
		},
		mounted() {
			this.pubId = pubsub.subscribe('hello',(msgName,data)=&gt;{
				console.log(this)
				console.log('有人发布了hello消息，hello消息的回调执行了',msgName,data)
			})
		},
		beforeDestroy() {
			pubsub.unsubscribe(this.pubId)
		},
	}
&lt;/script&gt;

&lt;style scoped&gt;
	.school{
		background-color: skyblue;
		padding: 5px;
	}
&lt;/style&gt;</code></pre> 
<blockquote> 
 <p>Student组件</p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
	&lt;div class="student"&gt;
		&lt;button @click="sendStudentName"&gt;把学生名给School组件&lt;/button&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
	import pubsub from 'pubsub-js'
	export default {
		name:'Student',
		data() {
			return {
				studentName: "张三"
			}
		},
		mounted() {
		},
		methods: {
			sendStudentName(){
				pubsub.publish('hello',this.studentName)
			}
		},
	}
&lt;/script&gt;

&lt;style lang="less" scoped&gt;
	.student{
		background-color: pink;
		padding: 5px;
		margin-top: 30px;
	}
&lt;/style&gt;
</code></pre> 
<blockquote> 
 <p>App组件</p> 
</blockquote> 
<pre><code class="language-html">&lt;template&gt;
	&lt;div class="app"&gt;
		&lt;School/&gt;
		&lt;Student/&gt;
	&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
	import Student from './components/Student'
	import School from './components/School'

	export default {
		name:'App',
		components:{School,Student},
		data() {
			return {
			}
		}
	}
&lt;/script&gt;

&lt;style scoped&gt;
	.app{
		background-color: gray;
		padding: 5px;
	}
&lt;/style&gt;
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/88bfc37a46ca2d07e822465112c60dc8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">十分钟带你入门Nodejs</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3cd897a33156495903e4d0aa8bb3ed17/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">射频单位解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>