<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>怎样选择VoIP系统中的语音压缩编码 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="怎样选择VoIP系统中的语音压缩编码" />
<meta property="og:description" content="在VoIP系统中，语音编码是用于把话音转换成数据方式来传输，传输协议中包括了 RTP，UDP，与IP 一起成为一个完整的语音协议。我们不难想象，传输中包头也占传输的一个重要部分，在20ms 的语音封包长度，包头可以占40字节，实际语音只有20字节，这文章主要是讨论语音压缩编码对VoIP话音与传输的各种影响。至于包头的压缩，则不在这讨论范围。 在IPV4里，IP包占20字节，UDP包占8字节，RTP包头占12字节，共占40字节，此外，以太网占14字节，在每秒20msec 的负荷和以G.729编码为例，实际要传输的字节数为20＋12＋8＋20＋14＝74；传输速度应为：74字节/20msec=29.6K; 在相对的环境下，G.711编码却需要85.6K/sec的带宽。 带宽与编码 在实际的应用过程中，用户真正的关心并不是算法的原理以及采用的压缩技术，而是每种算法的使用特点，下面列出4种VoIP系统最常用的算法来进行比较。 表一 编码算法与性能比较 编码类型 G.711 G.723.1 G.729A GSM iLBC 语音编码速率(kbps) 64 5.3 8 13 13.3 RTP封包长度(ms) 20 30 20 20 30 净语音数据(bytes) 160 20 20 33 50 分组包总长度(bytes) 54&#43;160 54&#43;20 54&#43;20 54&#43;33 54&#43;50 实际总速率(kbps) 85.6 19.7 29.6 34.8 27.7 CPU需求 （MIPS） － 16 18 ~10 19 语音质量(PESQ MOS) 4.5 3.7 3.9 3.4 4.0 iLBC － 一种新的编码协议 语音质量一直是VoIP应用的主要难点，如何保证和提高IP网络传输语音的通话效果，是VoIP应用迫切需要解决的问题。&#34;iLBC&#34;编解码的出现，解决了在包交换的IP网络中，传输语音所遇到的网络丢包严重影响通话质量等实际问题，实现了&#34;语音质量的飞跃&#34;。 下图为在不同的网络丢包环境下，使用iLBC与G.729A、G.723.1编解码的语音质量比较。 无论在高丢包率条件下还是在没有丢包的条件下，iLBC的语音质量都优于目前流行的G.723.1, G.729A等标准编解码；而且丢包率越大，使用iLBC的语音质量优势越明显。通常情况下，为了衡量IP网络语音质量，将≥5％丢包率的网络情况定义为VoIP的极限网络条件。经过语音质量测试，即使在5％丢包率的情况下，iLBC仍然能够提供相当于GSM手机的语音质量。 对IP-PBX的编码要求 由表一可以看到，不同的语音编码协议有各种不同的带宽、话音质量、CPU处理要求，因此上述几种编码协议也没有一种是绝对可以取代其他的能力。G." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/732a635897023bed6b2e42ea63e8112e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-06-26T12:46:23+08:00" />
<meta property="article:modified_time" content="2013-06-26T12:46:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">怎样选择VoIP系统中的语音压缩编码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    在VoIP系统中，语音编码是用于把话音转换成数据方式来传输，传输协议中包括了 RTP，UDP，与IP 一起成为一个完整的语音协议。我们不难想象，传输中包头也占传输的一个重要部分，在20ms 的语音封包长度，包头可以占40字节，实际语音只有20字节，这文章主要是讨论语音压缩编码对VoIP话音与传输的各种影响。至于包头的压缩，则不在这讨论范围。 
<br> 
<br> 　　在IPV4里，IP包占20字节，UDP包占8字节，RTP包头占12字节，共占40字节，此外，以太网占14字节，在每秒20msec 的负荷和以G.729编码为例，实际要传输的字节数为20＋12＋8＋20＋14＝74；传输速度应为：74字节/20msec=29.6K; 在相对的环境下，G.711编码却需要85.6K/sec的带宽。 
<br> 
<br> 
<strong>带宽与编码</strong> 
<br> 
<br> 　　在实际的应用过程中，用户真正的关心并不是算法的原理以及采用的压缩技术，而是每种算法的使用特点，下面列出4种VoIP系统最常用的算法来进行比较。 
<br> 
<br> 表一 编码算法与性能比较 
<br> 
<br> 
<table align="center" border="1" cellpadding="0" cellspacing="0" width="500"><tbody><tr><td width="91"> 
    <div align="center">
      编码类型 
    </div> </td><td width="71"> 
    <div align="center">
      G.711 
    </div> </td><td width="81"> 
    <div align="center">
      G.723.1 
    </div> </td><td width="81"> 
    <div align="center">
      G.729A 
    </div> </td><td width="81"> 
    <div align="center">
      GSM 
    </div> </td><td width="81"> 
    <div align="center">
      iLBC 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      语音编码速率(kbps) 
    </div> </td><td width="71"> 
    <div align="center">
      64 
    </div> </td><td width="81"> 
    <div align="center">
      5.3 
    </div> </td><td width="81"> 
    <div align="center">
      8 
    </div> </td><td width="81"> 
    <div align="center">
      13 
    </div> </td><td width="81"> 
    <div align="center">
      13.3 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      RTP封包长度(ms) 
    </div> </td><td width="71"> 
    <div align="center">
      20 
    </div> </td><td width="81"> 
    <div align="center">
      30 
    </div> </td><td width="81"> 
    <div align="center">
      20 
    </div> </td><td width="81"> 
    <div align="center">
      20 
    </div> </td><td width="81"> 
    <div align="center">
      30 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      净语音数据(bytes) 
    </div> </td><td width="71"> 
    <div align="center">
      160 
    </div> </td><td width="81"> 
    <div align="center">
      20 
    </div> </td><td width="81"> 
    <div align="center">
      20 
    </div> </td><td width="81"> 
    <div align="center">
      33 
    </div> </td><td width="81"> 
    <div align="center">
      50 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      分组包总长度(bytes) 
    </div> </td><td width="71"> 
    <div align="center">
      54+160 
    </div> </td><td width="81"> 
    <div align="center">
      54+20 
    </div> </td><td width="81"> 
    <div align="center">
      54+20 
    </div> </td><td width="81"> 
    <div align="center">
      54+33 
    </div> </td><td width="81"> 
    <div align="center">
      54+50 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      实际总速率(kbps) 
    </div> </td><td width="71"> 
    <div align="center">
      85.6 
    </div> </td><td width="81"> 
    <div align="center">
      19.7 
    </div> </td><td width="81"> 
    <div align="center">
      29.6 
    </div> </td><td width="81"> 
    <div align="center">
      34.8 
    </div> </td><td width="81"> 
    <div align="center">
      27.7 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      CPU需求 
     <br> （MIPS） 
    </div> </td><td width="71"> 
    <div align="center">
      － 
    </div> </td><td width="81"> 
    <div align="center">
      16 
    </div> </td><td width="81"> 
    <div align="center">
      18 
    </div> </td><td width="81"> 
    <div align="center">
      ~10 
    </div> </td><td width="81"> 
    <div align="center">
      19 
    </div> </td></tr><tr><td width="91"> 
    <div align="center">
      语音质量(PESQ MOS) 
    </div> </td><td width="71"> 
    <div align="center">
      4.5 
    </div> </td><td width="81"> 
    <div align="center">
      3.7 
    </div> </td><td width="81"> 
    <div align="center">
      3.9 
    </div> </td><td width="81"> 
    <div align="center">
      3.4 
    </div> </td><td width="81"> 
    <div align="center">
      4.0 
    </div> </td></tr></tbody></table> 
<br> 
<strong>iLBC － 一种新的编码协议</strong> 
<br> 
<br> 　　语音质量一直是VoIP应用的主要难点，如何保证和提高IP网络传输语音的通话效果，是VoIP应用迫切需要解决的问题。"iLBC"编解码的出现，解决了在包交换的IP网络中，传输语音所遇到的网络丢包严重影响通话质量等实际问题，实现了"语音质量的飞跃"。 
<br> 
<br> 　　下图为在不同的网络丢包环境下，使用iLBC与G.729A、G.723.1编解码的语音质量比较。 
<br> 
<p align="center"><img src="https://images2.imgbox.com/73/43/MFDYJZjE_o.gif" alt=""><br> </p> 　　无论在高丢包率条件下还是在没有丢包的条件下，iLBC的语音质量都优于目前流行的G.723.1, G.729A等标准编解码；而且丢包率越大，使用iLBC的语音质量优势越明显。通常情况下，为了衡量IP网络语音质量，将≥5％丢包率的网络情况定义为VoIP的极限网络条件。经过语音质量测试，即使在5％丢包率的情况下，iLBC仍然能够提供相当于GSM手机的语音质量。 
<br> 
<br> 
<strong>对IP-PBX的编码要求</strong> 
<br> 
<br> 　　由表一可以看到，不同的语音编码协议有各种不同的带宽、话音质量、CPU处理要求，因此上述几种编码协议也没有一种是绝对可以取代其他的能力。G.711是胜于相对与今天内线TDM话音质量，而且无需任何CPU的处理；G.729是胜于相对占小的带宽，在同一Internet的带宽上，可以容下3倍的话音通道；但却需要更多CPU的处理能力，话音则质量逊于G.711；iLBC 类似G.729，但在有掉包率及延时的情况下，iLBC 比其他的编码都优胜。 
<br> 
<br> 　　因为以上原因，讯时捷（Switchvox）的IP-PBX 都能支持以上几种重要的语音编码协议。在局域网的环境里，有充足的带宽，所有的IP电话，语音网关都使用G.711协议，这样能达到最理想的话音效果；话音一旦进入了讯时捷IPX服务器后，讯时捷在往Internet传输话音时，便可以根据管理员的选择，对不同的连接点，自动转换成各种指定的压缩编码，达到节省带宽，高话音质量的目的。
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/516a71ccf4c295c136e1a84780de2aa7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">细菌英难2.0上线，指尖上进化！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f970a40d5f6d6b9d8821ed958ce73a43/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MODBUS TCP和MODBUS RTU的差别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>