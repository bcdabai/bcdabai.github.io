<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>为Ubuntu系统添加新的普通用户 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="为Ubuntu系统添加新的普通用户" />
<meta property="og:description" content="文章目录 1.创建一个新的普通用户2.给用户授权3.删除用户4.新增用户添加至ubuntu的sudors文件中5.提高ubuntu下访问github的速度5.1 vscode在线打开github5.1 wsl永久关闭swap功能 6.配置ubuntu国内镜像下载源的方法6.1 如果ping mirrors.tuna.tsinghua.edu.com无法ping通 7.ubuntu包的安装方法问题：Package python3 is not configured yet或者 Package ** is not configured yet或者Errors were encountered while processing 8.Ubuntu中将默认的dash改为bash9.pip很慢10. wsl2安装openssh-server11.wsl2安装docker12.wsl2将默认的NAT方式配置成网桥模式13.谷歌浏览器商店打不开怎么办？14.wsl增加组播路由15.Python默认查找包的环境16.vscode使用wsl插件出现的问题17.WSL2很卡18.vscode常用插件小结19.vim 整合插件20.curl直接下载github release文件21 git submodule问题22 ubuntu支持交叉编译23.Ubuntu 查看cpu个数及核心数23.如何在ubuntu22.04版本上安装libssl1.1?24.boost手册及安装25.WSL2端口映射26.Ubuntu 22.04 Minikube安装配置27.ubuntu 22.04 安装kubectl28.ubuntu22.04安装kOps29.在线生成asicc字符画网站30.连接dl.google.com超时的问题31.clang-tid静态检查工具32.起变量名网站CODELF33.wsl2中pip很慢34.Windows10或者Windows11主机无法PING通的解决方法35. Key is stored in legacy trusted.gpg36.wget --no-check-certificate 问题解决40.Windows设置暗黑主题方案41.pdf翻译42.ubuntu20.04 install/uninstall gcc1143.clang-format配置44.ubuntu 配置命令提示符45.wsl2中安装kali46. 1.创建一个新的普通用户 创建了可以登录的meow用户并使用/bin/bash作为shell。设置密码。为meow用户增加管理员权限。切换登录用户为meow。 $ sudo useradd -m meow -s /bin/bash $ sudo passwd meow $ sudo adduser meow sudo $ su meow 2.给用户授权 查看meow所在的组。设置meow权限为superuser。查看sudoer的文本文件(suders含义)，可以添加meow ALL=(ALL:ALL) ALL为meow设置superuser权限。 $ groups meow $ usermod -aG sudo meow $ visudo visudo默认使用vim而不是nano的方法 在顶部附近的/etc/sudoers文件中添加一行： Defaults editor=/usr/bin/vim 或者" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/93dc0be895db24079e7f0b69ebc4b85e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-20T11:17:20+08:00" />
<meta property="article:modified_time" content="2024-01-20T11:17:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">为Ubuntu系统添加新的普通用户</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1_1" rel="nofollow">1.创建一个新的普通用户</a></li><li><a href="#2_15" rel="nofollow">2.给用户授权</a></li><li><a href="#3_42" rel="nofollow">3.删除用户</a></li><li><a href="#4ubuntusudors_48" rel="nofollow">4.新增用户添加至ubuntu的sudors文件中</a></li><li><a href="#5ubuntugithub_86" rel="nofollow">5.提高ubuntu下访问github的速度</a></li><li><ul><li><a href="#51_vscodegithub_98" rel="nofollow">5.1 vscode在线打开github</a></li><li><a href="#51_wslswap_109" rel="nofollow">5.1 wsl永久关闭swap功能</a></li></ul> 
   </li><li><a href="#6ubuntu_135" rel="nofollow">6.配置ubuntu国内镜像下载源的方法</a></li><li><ul><li><a href="#61_ping_mirrorstunatsinghuaeducomping_158" rel="nofollow">6.1 如果ping mirrors.tuna.tsinghua.edu.com无法ping通</a></li></ul> 
   </li><li><a href="#7ubuntu_188" rel="nofollow">7.ubuntu包的安装方法</a></li><li><ul><li><a href="#Package_python3_is_not_configured_yet_Package__is_not_configured_yetErrors_were_encountered_while_processing_222" rel="nofollow">问题：Package python3 is not configured yet或者 Package ** is not configured yet或者Errors were encountered while processing</a></li></ul> 
   </li><li><a href="#8Ubuntudashbash_278" rel="nofollow">8.Ubuntu中将默认的dash改为bash</a></li><li><a href="#9pip_284" rel="nofollow">9.pip很慢</a></li><li><a href="#10_wsl2opensshserver_345" rel="nofollow">10. wsl2安装openssh-server</a></li><li><a href="#11wsl2docker_362" rel="nofollow">11.wsl2安装docker</a></li><li><a href="#12wsl2NAT_450" rel="nofollow">12.wsl2将默认的NAT方式配置成网桥模式</a></li><li><a href="#13_457" rel="nofollow">13.谷歌浏览器商店打不开怎么办？</a></li><li><a href="#14wsl_462" rel="nofollow">14.wsl增加组播路由</a></li><li><a href="#15Python_470" rel="nofollow">15.Python默认查找包的环境</a></li><li><a href="#16vscodewsl_476" rel="nofollow">16.vscode使用wsl插件出现的问题</a></li><li><a href="#17WSL2_496" rel="nofollow">17.WSL2很卡</a></li><li><a href="#18vscode_518" rel="nofollow">18.vscode常用插件小结</a></li><li><a href="#19vim__543" rel="nofollow">19.vim 整合插件</a></li><li><a href="#20curlgithub_release_675" rel="nofollow">20.curl直接下载github release文件</a></li><li><a href="#21_git_submodule_692" rel="nofollow">21 git submodule问题</a></li><li><a href="#22_ubuntu_696" rel="nofollow">22 ubuntu支持交叉编译</a></li><li><a href="#23Ubuntu_cpu_716" rel="nofollow">23.Ubuntu 查看cpu个数及核心数</a></li><li><a href="#23ubuntu2204libssl11_735" rel="nofollow">23.如何在ubuntu22.04版本上安装libssl1.1?</a></li><li><a href="#24boost_739" rel="nofollow">24.boost手册及安装</a></li><li><a href="#25WSL2_754" rel="nofollow">25.WSL2端口映射</a></li><li><a href="#26Ubuntu_2204_Minikube_788" rel="nofollow">26.Ubuntu 22.04 Minikube安装配置</a></li><li><a href="#27ubuntu_2204_kubectl_818" rel="nofollow">27.ubuntu 22.04 安装kubectl</a></li><li><a href="#28ubuntu2204kOps_823" rel="nofollow">28.ubuntu22.04安装kOps</a></li><li><a href="#29asicc_826" rel="nofollow">29.在线生成asicc字符画网站</a></li><li><a href="#30dlgooglecom_830" rel="nofollow">30.连接dl.google.com超时的问题</a></li><li><a href="#31clangtid_834" rel="nofollow">31.clang-tid静态检查工具</a></li><li><a href="#32CODELF_839" rel="nofollow">32.起变量名网站CODELF</a></li><li><a href="#33wsl2pip_844" rel="nofollow">33.wsl2中pip很慢</a></li><li><a href="#34Windows10Windows11PING_852" rel="nofollow">34.Windows10或者Windows11主机无法PING通的解决方法</a></li><li><a href="#35_Key_is_stored_in_legacy_trustedgpg_862" rel="nofollow">35. Key is stored in legacy trusted.gpg</a></li><li><a href="#36wget_nocheckcertificate__922" rel="nofollow">36.wget --no-check-certificate 问题解决</a></li><li><a href="#40Windows_935" rel="nofollow">40.Windows设置暗黑主题方案</a></li><li><a href="#41pdf_950" rel="nofollow">41.pdf翻译</a></li><li><a href="#42ubuntu2004_installuninstall_gcc11_956" rel="nofollow">42.ubuntu20.04 install/uninstall gcc11</a></li><li><a href="#43clangformat_972" rel="nofollow">43.clang-format配置</a></li><li><a href="#44ubuntu__1110" rel="nofollow">44.ubuntu 配置命令提示符</a></li><li><a href="#45wsl2kali_1191" rel="nofollow">45.wsl2中安装kali</a></li><li><a href="#46_1255" rel="nofollow">46.</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1_1"></a>1.创建一个新的普通用户</h3> 
<ul><li>创建了可以登录的meow用户并使用/bin/bash作为shell。</li><li>设置密码。</li><li>为meow用户增加管理员权限。</li><li>切换登录用户为meow。</li></ul> 
<pre><code class="prism language-bash">$ <span class="token function">sudo</span> <span class="token function">useradd</span> <span class="token parameter variable">-m</span> meow <span class="token parameter variable">-s</span> /bin/bash
$ <span class="token function">sudo</span> <span class="token function">passwd</span> meow
$ <span class="token function">sudo</span> adduser meow <span class="token function">sudo</span>
$ <span class="token function">su</span> meow
</code></pre> 
<h3><a id="2_15"></a>2.给用户授权</h3> 
<ul><li>查看meow所在的组。</li><li>设置meow权限为superuser。</li><li>查看sudoer的文本文件(<a href="https://zhuanlan.zhihu.com/p/112200964" rel="nofollow">suders含义</a>)，可以添加meow ALL=(ALL:ALL) ALL为meow设置superuser权限。</li></ul> 
<pre><code class="prism language-bash">$ <span class="token function">groups</span> meow
$ <span class="token function">usermod</span> <span class="token parameter variable">-aG</span> <span class="token function">sudo</span> meow
$ visudo

visudo默认使用vim而不是nano的方法
在顶部附近的/etc/sudoers文件中添加一行：
Defaults <span class="token assign-left variable">editor</span><span class="token operator">=</span>/usr/bin/vim 
</code></pre> 
<p>或者</p> 
<pre><code class="prism language-bash">wangji@DESKTOP-QNG23J0:~$ ll /etc/alternatives/editor
lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">9</span> Aug <span class="token number">30</span> 05:40 /etc/alternatives/editor -<span class="token operator">&gt;</span> /bin/nano*
wangji@DESKTOP-QNG23J0:~$ <span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-sf</span> /usr/bin/vim /etc/alternatives/editor

wangji@DESKTOP-QNG23J0:~$ <span class="token function">sudo</span> visudo
</code></pre> 
<ul><li>参考：<a href="https://www.tracymc.cn/archives/3786" rel="nofollow">如何将visudo编辑器从nano更改为vim</a></li></ul> 
<h3><a id="3_42"></a>3.删除用户</h3> 
<ul><li>会删除用户目录</li></ul> 
<pre><code class="prism language-bash">$ deluser --remove-home meow
</code></pre> 
<h3><a id="4ubuntusudors_48"></a>4.新增用户添加至ubuntu的sudors文件中</h3> 
<p>修改这2个位置，增加NOPASSWD:，注意NOPASSWD:的冒号，且前后有空格<br> <img src="https://images2.imgbox.com/e4/95/pe2iKAXW_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>一般上述方式即可，更通用</p> 
</blockquote> 
<p>如果想要单独控制某个用户，可以参照如下的方式：</p> 
<pre><code class="prism language-bash">ALL  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL:ALL<span class="token punctuation">)</span>    NOPASSWD:   ALL

用户 组<span class="token operator">=</span><span class="token punctuation">(</span>用户:组<span class="token punctuation">)</span>  NOPASSWD:  允许执行无需密码的程序
</code></pre> 
<pre><code class="prism language-cpp">sudo cp <span class="token operator">/</span>etc<span class="token operator">/</span>sudoers <span class="token operator">/</span>etc<span class="token operator">/</span>sudoers<span class="token punctuation">.</span>old
sudo chmod <span class="token operator">+</span>w <span class="token operator">/</span>etc<span class="token operator">/</span>sudoers
sudo vim <span class="token operator">/</span>etc<span class="token operator">/</span>sudoers
# 加上如下行
<span class="token operator">%</span>your_user_name<span class="token operator">%</span> ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD<span class="token operator">:</span> ALL
</code></pre> 
<blockquote> 
 <p>1 youuser ALL=(ALL) ALL<br> 2 %youuser ALL=(ALL) ALL<br> 3 youuser ALL=(ALL) NOPASSWD: ALL<br> 4 %youuser ALL=(ALL) NOPASSWD: ALL</p> 
</blockquote> 
<blockquote> 
 <p>解释如下：<br> 第一行:允许用户youuser执行sudo命令(需要输入密码).<br> 第二行:允许用户组youuser里面的用户执行sudo命令(需要输入密码).<br> 第三行:允许用户youuser执行sudo命令,并且在执行的时候不输入密码.<br> 第四行:允许用户组youuser里面的用户执行sudo命令,并且在执行的时候不输入密码.</p> 
</blockquote> 
<p>参考：</p> 
<ul><li><a href="https://www.cnblogs.com/littlefivebolg/p/9922297.html" rel="nofollow">关于Ubuntu下is not in the sudoers file解决方法</a></li><li><a href="https://www.jianshu.com/p/555acf63efbb" rel="nofollow">wsl ubuntu 取消sudo密码：</a></li></ul> 
<h3><a id="5ubuntugithub_86"></a>5.提高ubuntu下访问github的速度</h3> 
<p>ubuntu下使用github很慢的解决办法1：</p> 
<ul><li> <p><a href="https://blog.csdn.net/hn_tzy/article/details/88903642">提高ubuntu下访问github的速度</a></p> </li><li> <p>注意：因为上述修改了wsl的host，若想在wsl中持久化生效，<a href="https://jingyan.baidu.com/article/9113f81b49ed2f2b3214c7fa.html" rel="nofollow">需要修改windows的host文件以永久保存到WSL中</a></p> </li></ul> 
<p>ubuntu下使用github很慢的解决办法2：</p> 
<ul><li><a href="https://blog.csdn.net/mkaker/article/details/116272216#:~:text=Ubuntu20.04%20%E3%80%81windows10%20%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95ping%E9%80%9A,github.com%E7%9A%84%E9%97%AE%E9%A2%98%20%28%E4%BA%B2%E6%B5%8B%E6%9C%89%E6%95%88%EF%BC%8C%E9%81%BF%E5%85%8D%E5%85%A5%E5%9D%91%29%20%E5%A6%82%E6%9E%9C%E4%B8%BAUbuntu20.04%E7%B3%BB%E7%BB%9F%EF%BC%8C%E8%BF%9B%E8%A1%8C%E5%A6%82%E4%B8%8B%E6%93%8D%E4%BD%9C%EF%BC%9A%201%EF%BC%8C%E6%89%93%E5%BC%80https://www.ipaddress.com/">Ubuntu20.04 、windows10 解决无法ping通github.com的问题(亲测有效，避免入坑)</a></li></ul> 
<p>ubuntu下使用github很慢的解决办法3：</p> 
<ul><li><a href="https://ghproxy.com/" rel="nofollow">github下载代理</a></li></ul> 
<h4><a id="51_vscodegithub_98"></a>5.1 vscode在线打开github</h4> 
<p><a href="https://zhuanlan.zhihu.com/p/350330364" rel="nofollow">vscode在线打开github-非句号方式</a></p> 
<p><a href="https://cloud.tencent.com/developer/article/1871839" rel="nofollow">vscode在线打开github-句号方式</a></p> 
<h4><a id="51_wslswap_109"></a>5.1 wsl永久关闭swap功能</h4> 
<pre><code class="prism language-bash">打开Windows资源管理器,地址栏输入 %UserProfile% 回车,在该目录下创建一个文件, 名字为 .wslconfig
写入内容示例如下
<span class="token punctuation">[</span>wsl2<span class="token punctuation">]</span>
<span class="token assign-left variable">swap</span><span class="token operator">=</span><span class="token number">0</span>
</code></pre> 
<p>powershell：</p> 
<pre><code class="prism language-bash">wsl <span class="token parameter variable">--shutdown</span>
</code></pre> 
<p>参考</p> 
<ul><li><a href="https://learn.microsoft.com/zh-cn/windows/wsl/wsl-config" rel="nofollow">WSL 中的高级设置配置</a>，<a href="https://blog.csdn.net/weixin_45579994/article/details/112386425">修改 WSL2 可用内存大小和交换分区大小</a></li></ul> 
<h3><a id="6ubuntu_135"></a>6.配置ubuntu国内镜像下载源的方法</h3> 
<p>ubuntu 的apt源配置方法见：<a href="https://blog.csdn.net/u011585735/article/details/116293568">Ubuntu配置apt的国内源地址</a>，网站见：<a href="https://link.csdn.net/?target=https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b118Kl2vu" rel="nofollow">阿里云ubuntu镜像源网站</a></p> 
<ul><li>镜像地址或网站</li><li><a href="https://developer.aliyun.com/mirror/" rel="nofollow">阿里云镜像</a></li><li><a href="https://mirrors.tuna.tsinghua.edu.cn/" rel="nofollow">清华镜像</a></li><li><a href="http://mirrors.163.com/" rel="nofollow">网易镜像</a></li><li><a href="http://mirrors.sohu.com/" rel="nofollow">搜狐镜像</a></li></ul> 
<p>注意：不同的ubuntu系统需要修改镜像源的配置文件，上述的配置文件中一般为focal</p> 
<pre><code class="prism language-bash">wangji@DESKTOP-QNG23J0:~$ lsb_release <span class="token parameter variable">-a</span>
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu <span class="token number">20.04</span>.5 LTS
Release:        <span class="token number">20.04</span>
Codename:       focal
</code></pre> 
<p>所以需要参考将源的codename进行修改：<a href="https://blog.csdn.net/qq_40965177/article/details/96703426">Ubuntu更换apt源与Codename的关系</a></p> 
<h4><a id="61_ping_mirrorstunatsinghuaeducomping_158"></a>6.1 如果ping mirrors.tuna.tsinghua.edu.com无法ping通</h4> 
<ul><li>临时修改方法如下</li></ul> 
<pre><code class="prism language-bash"><span class="token number">1</span>.打开/etc/resolv.conf；

<span class="token variable">$sudo</span> <span class="token function">vim</span> /etc/resolv.conf

<span class="token number">2</span>.修改nameserver后的ip地址；

加入：

nameserver <span class="token number">8.8</span>.8.8
nameserver <span class="token number">8.8</span>.4.4
</code></pre> 
<p>永久修改请参考以下的方法</p> 
<p>wsl中永久修改/etc/resolv.conf</p> 
<ul><li>按照先修改/etc/wsl.conf。然后再修改 /etc/resolv.conf文件的流程操作即可</li><li>ref：<a href="https://askubuntu.com/questions/1347712/make-etc-resolv-conf-changes-permanent-in-wsl-2" rel="nofollow">Make /etc/resolv.conf changes permanent in WSL 2</a>，<a href="https://blog.csdn.net/weixin_44129133/article/details/124797374">WSL2 Ubuntu20.04 /etc/resolv.conf重启丢失</a></li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">rm</span> /etc/resolv.conf
<span class="token function">sudo</span> <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">'echo "nameserver 8.8.8.8" &gt; /etc/resolv.conf'</span>
<span class="token function">sudo</span> <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">'echo "[network]" &gt; /etc/wsl.conf'</span>
<span class="token function">sudo</span> <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">'echo "generateResolvConf = false" &gt;&gt; /etc/wsl.conf'</span>
<span class="token function">sudo</span> chattr +i /etc/resolv.conf
</code></pre> 
<h3><a id="7ubuntu_188"></a>7.ubuntu包的安装方法</h3> 
<p>一般所有的包基本都可以通过命令进行安装，有的是使用包，有的是开发者包，比如ostree，所以执行虾命令就可以完成包的安装</p> 
<pre><code class="prism language-bash">wangji@DESKTOP-QNG23J0:/usr/local/lib/x86_64-linux-gnu/pkgconfig$ <span class="token function">sudo</span> <span class="token function">apt-cache</span> search ostree
libendless-doc - documentation files <span class="token keyword">for</span> the Endless SDK
libostree-1-1 - content-addressed filesystem <span class="token keyword">for</span> operating system binaries <span class="token punctuation">(</span>library<span class="token punctuation">)</span>
libostree-dev - Development files <span class="token keyword">for</span> the libostree library
libostree-doc - Development documentation <span class="token keyword">for</span> the libostree library
ostree - content-addressed filesystem <span class="token keyword">for</span> operating system binaries
ostree-boot - libostree boot loader and initramfs integration
ostree-tests - content-addressed filesystem <span class="token keyword">for</span> operating system binaries - tests
</code></pre> 
<p>安装方法</p> 
<pre><code class="prism language-bash">wangji@DESKTOP-QNG23J0:/usr/local/lib/x86_64-linux-gnu/pkgconfig$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libostree-dev 
</code></pre> 
<p>默认下载包的位置：</p> 
<ul><li>ref：<a href="https://blog.csdn.net/qq_39467371/article/details/125873501">ubuntu软件默认安装位置</a></li></ul> 
<pre><code class="prism language-bash">下载的软件存放位置
 /var/cache/apt/archives
</code></pre> 
<p>查看dpkg的control信息</p> 
<pre><code class="prism language-bash">dpkg <span class="token parameter variable">--info</span> python3.8-examples_3.8.10-0ubuntu1~20.04.6_all.deb
</code></pre> 
<h4><a id="Package_python3_is_not_configured_yet_Package__is_not_configured_yetErrors_were_encountered_while_processing_222"></a>问题：Package python3 is not configured yet或者 Package ** is not configured yet或者Errors were encountered while processing</h4> 
<ul><li> <p>“dpkg: error processing package openssh-server (–configure)” on apt install</p> </li><li> <p>ref：<a href="https://segmentfault.com/q/1010000000117928" rel="nofollow">大量dpkg依赖错误</a></p> </li></ul> 
<pre><code class="prism language-bash"><span class="token number">1</span>、sudo <span class="token function">mv</span> /var/lib/dpkg/info/ /var/lib/dpkg/info_old/
<span class="token number">2</span>、sudo <span class="token function">mkdir</span> /var/lib/dpkg/info/
<span class="token number">3</span>、sudo <span class="token function">apt-get</span> update
<span class="token number">4</span>、sudo <span class="token function">apt-get</span> <span class="token parameter variable">-f</span> <span class="token function">install</span>
</code></pre> 
<p>问题：安装python3</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3.7
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python-is-python3
</code></pre> 
<p>问题4：卸载python2.7</p> 
<ul><li>ref：<a href="https://blog.csdn.net/weixin_43270713/article/details/106427544">ubuntu完全卸载python2.7</a></li></ul> 
<pre><code class="prism language-bash"><span class="token number">1</span>.卸载python2.7
<span class="token function">sudo</span> <span class="token function">apt-get</span> remove python2.7

<span class="token number">2</span>.卸载python2.7及其依赖
<span class="token function">sudo</span> <span class="token function">apt-get</span> remove --auto-remove python2.7

<span class="token number">3</span>.清除python2.7的一些配置文件
<span class="token function">sudo</span> <span class="token function">apt-get</span> purge python2.7 
<span class="token function">sudo</span> <span class="token function">apt-get</span> purge --auto-remove python2.7

</code></pre> 
<p>dpkg -L +软件包的名字，可以知道这个软件包包含了哪些文件， 这个方法可以列出所有安装后留在系统里的文件</p> 
<pre><code class="prism language-bash">dpkg <span class="token parameter variable">-L</span> packagename
</code></pre> 
<pre><code class="prism language-bash">dpkg <span class="token parameter variable">-l</span> <span class="token operator">|</span> <span class="token function">grep</span> 程序大概包含的程序名关键字

<span class="token function">sudo</span> dpkg <span class="token parameter variable">--purge</span>  libpython2.7-minimal:amd64 删除对应配置文件

即可查出安装后的文程序名，然后根据这个文件名即可完成对文件的卸载
<span class="token function">sudo</span> <span class="token function">apt</span> autoremove <span class="token parameter variable">--purge</span> 文件名
</code></pre> 
<p>ubuntu安装deb包到<a href="https://blog.csdn.net/u011436427/article/details/125402641?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167628345616800180628502%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167628345616800180628502&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-125402641-null-null.article_score_rank_blog&amp;utm_term=dpkg&amp;spm=1018.2226.3001.4450">指定目录</a></p> 
<ul><li>ref：<a href="https://blog.csdn.net/u014470361/article/details/84948020">ubuntu中apt-get的默认安装路径、安装、卸载以及查看等方法总结</a></li></ul> 
<h3><a id="8Ubuntudashbash_278"></a>8.Ubuntu中将默认的dash改为bash</h3> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> dpkg-reconfigure dash Enter
</code></pre> 
<h3><a id="9pip_284"></a>9.pip很慢</h3> 
<ul><li>ref：<br> <a href="https://www.jianshu.com/p/6b16d426f6fc" rel="nofollow">pip安装使用清华源</a><br> <a href="https://blog.csdn.net/yfhuang12/article/details/109601768">解决Ubuntu pip install下载慢的问题</a>，其中pip配置文件需要对应进行修改<br> <a href="https://support.huawei.com/enterprise/zh/doc/EDOC1100180787/d0f24174#:~:text=%E9%85%8D%E7%BD%AEpip%E6%BA%90%201%20%E4%BD%BF%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E7%94%A8%E6%88%B7%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%A6%82%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A%20cd%20~%20/.pip%20%E5%A6%82%E6%9E%9C%E6%8F%90%E7%A4%BA%E7%9B%AE%E5%BD%95%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%88%99%E6%89%A7%E8%A1%8C%E5%A6%82%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%88%9B%E5%BB%BA%EF%BC%9A%20mkdir,trusted-host%20=%20mirrors.huaweicloud.com%20timeout%20=%20120%203%20%E6%89%A7%E8%A1%8C:wq!%E5%91%BD%E4%BB%A4%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6%E3%80%82" rel="nofollow">配置pip源</a></li></ul> 
<pre><code class="prism language-bash"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>pip config <span class="token builtin class-name">set</span> global.index-url https://mirrors.huaweicloud.com/repository/pypi/simple

 /home/wangji/.config/pip/pip.conf
wangji：是你自己的用户哦

<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>使用vi pip.conf命令打开pip.conf文件，写入如下内容：
<span class="token punctuation">[</span>global<span class="token punctuation">]</span>
index-url <span class="token operator">=</span> http://mirrors.myhuaweicloud.com/pypi/web/simple
<span class="token function">format</span> <span class="token operator">=</span> columns
<span class="token punctuation">[</span>install<span class="token punctuation">]</span>
trusted-host<span class="token operator">=</span>mirrors.myhuaweicloud.com
</code></pre> 
<p>pip用于查看 某个 库的名字、版本、位置等具体信息</p> 
<pre><code class="prism language-bash">pip show xxx
<span class="token comment">#如 pip show requests#</span>

<span class="token function">sudo</span> pip show xxx是不一样的

其他命令类似

</code></pre> 
<p>eg：</p> 
<pre><code class="prism language-bash">wangji@script-wang:~/framework/framework_master$ pip show gitpython



Name: GitPython
Version: <span class="token number">3.1</span>.31
Summary: GitPython is a Python library used to interact with Git repositories
Home-page: https://github.com/gitpython-developers/GitPython
Author: Sebastian Thiel, Michael Trier
Author-email: byronimo@gmail.com, mtrier@gmail.com
License: BSD
Location: /home/wangji/.local/lib/python3.8/site-packages
Requires: gitdb
Required-by: 
wangji@script-wang:~/framework/framework_master$ 
wangji@script-wang:~/framework/framework_master$ <span class="token function">sudo</span> pip show gitpython
Name: GitPython
Version: <span class="token number">3.1</span>.31
Summary: GitPython is a Python library used to interact with Git repositories
Home-page: https://github.com/gitpython-developers/GitPython
Author: Sebastian Thiel, Michael Trier
Author-email: byronimo@gmail.com, mtrier@gmail.com
License: BSD
Location: /usr/local/lib/python3.8/dist-packages
Requires: gitdb
Required-by: 
</code></pre> 
<h3><a id="10_wsl2opensshserver_345"></a>10. wsl2安装openssh-server</h3> 
<ul><li>ref：wsl中安装openssh-server：<a href="https://blog.csdn.net/xp_lx1/article/details/78089730">会出现安装openssh-server报Depends: openssh-client (= 1:6.6p1-2ubuntu2.8)错误</a></li></ul> 
<p>启动：</p> 
<pre><code class="prism language-bash">不能使用<span class="token punctuation">(</span>直接使用就会报错<span class="token punctuation">)</span>：
<span class="token function">sudo</span> systemctl start sshd

得通过：
<span class="token function">sudo</span> /etc/init.d/ssh start 
</code></pre> 
<p>由于WSL2默认使用NAT的方式，所以需要开启端口转发，这样其他主机就可以ssh进来了<br> 参考去设置wsl2的端口转发：<a href="https://blog.csdn.net/keyiis_sh/article/details/113819244">wsl2 设置端口映射</a>，以及修改windows防火墙（进和出的规则），别人就可以访问了</p> 
<h3><a id="11wsl2docker_362"></a>11.wsl2安装docker</h3> 
<p>ubuntu：</p> 
<ul><li>ref：<a href="https://www.cnblogs.com/blxt/p/11772589.html" rel="nofollow">记一次Ubuntu19无法安装docker源</a></li></ul> 
<pre><code class="prism language-bash"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu/ <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> stable"</span>

或者 <span class="token function">vim</span> /etc/apt/sources.list中增加：
deb <span class="token punctuation">[</span>arch<span class="token operator">=</span>amd64<span class="token punctuation">]</span> https://download.docker.com/linux/ubuntu/ focal stable

focla：由<span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span>
</code></pre> 
<p>安装docker以及docker-compose</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io <span class="token parameter variable">-y</span>
</code></pre> 
<p>启动docker</p> 
<pre><code class="prism language-cpp"> sudo <span class="token operator">/</span>etc<span class="token operator">/</span>init<span class="token punctuation">.</span>d<span class="token operator">/</span>docker start
</code></pre> 
<p>可能存在的问题：</p> 
<pre><code class="prism language-bash">Got permission denied <span class="token keyword">while</span> trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get <span class="token string">"http://%2Fvar%2Frun%2Fdocker.sock/v1.24/images/json"</span><span class="token builtin class-name">:</span> dial unix /var/run/docker.sock: connect: permission denied
</code></pre> 
<ul><li>原因：</li></ul> 
<pre><code class="prism language-bash">wangji@script-wang:~/ota/OpenSource/ota-lith$ ll /var/run/docker.sock
srw-rw---- <span class="token number">1</span> root <span class="token function">docker</span> <span class="token number">0</span> Dec  <span class="token number">2</span> <span class="token number">12</span>:43 /var/run/docker.sock<span class="token operator">=</span>

可以看出，这个套接字文件所属组是docker,我们可以将该普通用户加入到docker这个组。
</code></pre> 
<ul><li>解决办法：</li></ul> 
<pre><code class="prism language-bash">
 <span class="token function">sudo</span> gpasswd <span class="token parameter variable">-a</span> username <span class="token function">docker</span>   <span class="token comment">#将普通用户username加入到docker组</span>
 $ newgrp <span class="token function">docker</span>  <span class="token comment">#更新docker组</span>
</code></pre> 
<ul><li>ref：<a href="https://blog.csdn.net/weixin_47758362/article/details/108050348#:~:text=%E8%A7%A3%E5%86%B3%20Docker%20%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E6%8F%90%E7%A4%BA%E2%80%9C%20Got%20permission%20denied%20while%20trying,weixin_42447403%E7%9A%84%E5%8D%9A%E5%AE%A2%202%E4%B8%87+%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%951%20%E4%BD%BF%E7%94%A8sudo%E8%8E%B7%E5%8F%96%E7%AE%A1%E7%90%86%E5%91%98%20%E6%9D%83%E9%99%90%20%EF%BC%8C%E8%BF%90%E8%A1%8C%20docker%20%E5%91%BD%E4%BB%A4%E3%80%82">Docker权限 “Got permission denied while trying to connect to the Docker daemon socket at unix:///var/”</a></li></ul> 
<p>防火墙问题：</p> 
<pre><code class="prism language-bash">/var/log/docker.log

Error initializing network controller: error obtaining controller instance: unable to <span class="token function">add</span> <span class="token builtin class-name">return</span> rule <span class="token keyword">in</span> DOCKER-ISOLATION-STAGE-1 chain:  <span class="token punctuation">(</span>iptables failed: iptables <span class="token parameter variable">--wait</span> <span class="token parameter variable">-A</span> DOCKER-ISOLATION-STAGE-1 <span class="token parameter variable">-j</span> RETURN: iptables v1.8.7 <span class="token punctuation">(</span>nf_tables<span class="token punctuation">)</span>:  RULE_APPEND failed <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>: rule <span class="token keyword">in</span> chain DOCKER-ISOLATION-STAGE-1
</code></pre> 
<ul><li>解决办法</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> update-alternatives <span class="token parameter variable">--config</span> iptables

选择：iptables-legacy
</code></pre> 
<ul><li> <p>ref：<a href="https://juejin.cn/post/7063767884744359973" rel="nofollow">Docker in WSL2 failed to start daemon: Error initializing network controller</a></p> </li><li> <p>ref：Docker hub使用国内镜像源：<a href="https://blog.csdn.net/m0_67394006/article/details/124480481">最新Docker hub 国内镜像方法</a></p> </li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/docker/daemon.json

<span class="token punctuation">{<!-- --></span>
  <span class="token string">"registry-mirrors"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">"https://4sjn347i.mirror.aliyuncs.com"</span>,
    <span class="token string">"https://docker.mirrors.ustc.edu.cn"</span>
  <span class="token punctuation">]</span>,
  <span class="token string">"max-concurrent-downloads"</span><span class="token builtin class-name">:</span> <span class="token number">10</span>,
  <span class="token string">"insecure-registries"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
  <span class="token string">"debug"</span><span class="token builtin class-name">:</span> true,
  <span class="token string">"experimental"</span><span class="token builtin class-name">:</span> false,
  <span class="token string">"features"</span><span class="token builtin class-name">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"buildkit"</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

接着重启docker即可
</code></pre> 
<h3><a id="12wsl2NAT_450"></a>12.wsl2将默认的NAT方式配置成网桥模式</h3> 
<p>条件：</p> 
<ul><li><strong>只有：win10专业版支持</strong></li><li>ref：<a href="https://www.cnblogs.com/khrenga/p/16435397.html#:~:text=Set-VMSwitch%20WSL%20-NetAdapterName%20%E4%BB%A5%E5%A4%AA%E7%BD%91%20echo%20%22%60n%E6%AD%A3%E5%9C%A8%E4%BF%AE%E6%94%B9WSL%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE...%22%20wsl%20--,-e%20sh%20-c./set_eth0.sh%20echo%20%22%60ndone%22%20pause%20%E5%85%B3%E9%97%AD%E6%A1%A5%E6%8E%A5%E8%84%9A%E6%9C%AC%20wsl-bridge-off.ps1" rel="nofollow">wsl关闭或者启用NAT或者桥接模式网络</a><br> <a href="https://blog.csdn.net/chubbykkk/article/details/125216708#:~:text=Set-VMSwitch%20WSL%20-SwitchType%20Internal,1%20%E7%84%B6%E5%90%8E%E6%89%A7%E8%A1%8C%20wsl%20--shutdown%20%E9%87%8D%E5%90%AFwsl%EF%BC%8C%E5%8D%B3%E5%8F%AF%E6%81%A2%E5%A4%8D%E5%8E%9F%E6%9C%89%E7%9A%84%E8%99%9A%E6%8B%9F%E5%86%85%E9%83%A8%E7%BD%91%E7%BB%9C%E3%80%82">WSL系列内容：wsl2 通过桥接网络实现被外部局域网主机直接访问(更新一键执行powershell脚本)</a></li></ul> 
<h3><a id="13_457"></a>13.谷歌浏览器商店打不开怎么办？</h3> 
<p><a href="https://zhuanlan.zhihu.com/p/86748577" rel="nofollow">如何在国内，下载Chrome应用商店中的插件</a></p> 
<h3><a id="14wsl_462"></a>14.wsl增加组播路由</h3> 
<ul><li> <p>ref：<a href="https://blog.csdn.net/xqligong/article/details/106124408">ubuntu增加组播路由</a></p> </li><li> <p>参考：<a href="https://blog.csdn.net/MeowingCat/article/details/84134449">为Ubuntu系统添加新的普通用户</a>，<a href="https://blog.csdn.net/littleleafboy/article/details/115658931">Ubuntu系统sudo不需要密码设置</a>，<a href="https://blog.csdn.net/cyan20115/article/details/106553892">使用Apt命令查找软件包– Ubuntu</a></p> </li></ul> 
<h3><a id="15Python_470"></a>15.Python默认查找包的环境</h3> 
<pre><code class="prism language-bash">python <span class="token parameter variable">-m</span> site
</code></pre> 
<h3><a id="16vscodewsl_476"></a>16.vscode使用wsl插件出现的问题</h3> 
<p>问题1：openssl error:0A000126:SSL routines::unexpected eof while reading</p> 
<ul><li>主要原因是wsl中使用wget下载vscode服务器端报错</li></ul> 
<pre><code class="prism language-bash">首先尝试升级openssl
<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssl

若不可以，则需离线安装服务器端到wsl中
<span class="token assign-left variable">commit_id</span><span class="token operator">=</span>f06011ac164ae4dc8e753a3fe7f9549844d15e35

<span class="token comment"># Download url is: https://update.code.visualstudio.com/commit:${commit_id}/server-linux-x64/stable</span>
<span class="token function">curl</span> <span class="token parameter variable">-sSL</span> <span class="token string">"https://update.code.visualstudio.com/commit:<span class="token variable">${commit_id}</span>/server-linux-x64/stable"</span> <span class="token parameter variable">-o</span> vscode-server-linux-x64.tar.gz

<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/.vscode-server/bin/<span class="token variable">${commit_id}</span>
<span class="token comment"># assume that you upload vscode-server-linux-x64.tar.gz to /tmp dir</span>
<span class="token function">tar</span> zxvf /tmp/vscode-server-linux-x64.tar.gz <span class="token parameter variable">-C</span> ~/.vscode-server/bin/<span class="token variable">${commit_id}</span> <span class="token parameter variable">--strip</span> <span class="token number">1</span>
<span class="token function">touch</span> ~/.vscode-server/bin/<span class="token variable">${commit_id}</span>/0
</code></pre> 
<h3><a id="17WSL2_496"></a>17.WSL2很卡</h3> 
<p>问题：WSL2 Vmmem占用内存很高，用着用着就卡</p> 
<ul><li>解决办法：打开cron的自启动服务，定时清内存</li></ul> 
<pre><code class="prism language-bash">（1）配置cron服务
<span class="token function">sudo</span> <span class="token function">crontab</span> <span class="token parameter variable">-e</span> 
添加：*/5 * * * * <span class="token function">sync</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token number">3</span> <span class="token operator">&gt;</span> /proc/sys/vm/drop_caches <span class="token operator">&amp;&amp;</span>  <span class="token function">touch</span> /tmp/success_drop_caches_last_run <span class="token operator">||</span> <span class="token function">touch</span> /tmp/faliure_drop_caches_last_run

（2）自动启动cron服务
<span class="token function">sudo</span> <span class="token function">vim</span> ~/.bashrc
添加：<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">cron</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token variable">)</span></span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> /etc/init.d/cron start <span class="token operator">&amp;&gt;</span> /dev/null
配置sudo命令：若配置过则不需要配置
<span class="token function">sudo</span> visudo
<span class="token function">sudo</span> <span class="token assign-left variable">ALL</span><span class="token operator">=</span>NOPASSWD: /etc/init.d/cron start

（3）在powershell中：wsl <span class="token parameter variable">--shutdown</span>

</code></pre> 
<h3><a id="18vscode_518"></a>18.vscode常用插件小结</h3> 
<p>（1）vscode使用markdown：<a href="https://zhuanlan.zhihu.com/p/399863133" rel="nofollow">VS Code 插件之 Markdown 篇</a></p> 
<ul><li>说明：若需要对markdown的表格对齐的话，建议使用markdown all in one 格式化工具，不要去用markdown-formatter(很难用)</li></ul> 
<p>（2）<a href="https://blog.csdn.net/u011436427/article/details/102469419?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-102469419-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">离线环境下仅使用vscode remote ssh方式远程连接服务器操作指南</a></p> 
<p>（3）<a href="https://blog.csdn.net/u011436427/article/details/104604779?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-104604779-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">vscode 的tab与空格设置 ，vscode使用sftp配置 ，vscode代码补全插件</a></p> 
<p>（4）<a href="https://blog.csdn.net/u011436427/article/details/116780293?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-3-116780293-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">vsocde跳转python代码，vscode实现RF框架代码跳转功能</a></p> 
<p>（5）<a href="https://blog.csdn.net/u011436427/article/details/113522667?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-4-113522667-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">vscode中使用TIMELINE和GIT插件查看代码的历史记录</a></p> 
<p>（6）<a href="https://blog.csdn.net/u011436427/article/details/103382737?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-5-103382737-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">VSCode 的扩展包C/C++ IntelliSense, debugging, and code browsing的IntelliSense功能无法使用</a></p> 
<p>（7）<a href="https://blog.csdn.net/u011436427/article/details/102981641?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167530088616800184149034%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167530088616800184149034&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-6-102981641-null-null.article_score_rank_blog&amp;utm_term=vscode&amp;spm=1018.2226.3001.4450">Windows 下 VSCode 使用 SSH 连接报 Bad owner or permissions on C:\Users\Administrator/.ssh/config 错误问题解决</a></p> 
<ul><li>ref：<a href="https://blog.csdn.net/huiruwei1020/article/details/107631502">wsl导致vmmem占用高解决办法</a></li></ul> 
<h3><a id="19vim__543"></a>19.vim 整合插件</h3> 
<p><a href="https://github.com/archibate/vimrc">vimrc</a></p> 
<ul><li>教程：<a href="https://www.bilibili.com/video/BV16S4y1m7Dr/?vd_source=32de30d5fa72b146ca37e82aa5fc5934" rel="nofollow">Vim命令全解</a></li></ul> 
<p>（1）vim搜索设置高亮</p> 
<ul><li>ref：<a href="https://blog.csdn.net/hzhsan/article/details/44228241">vim搜索设置高亮</a></li></ul> 
<pre><code class="prism language-bash">有两种方法：
<span class="token number">1</span>、临时设置：vim打开文档--<span class="token operator">&gt;</span>命令行形式输入 <span class="token builtin class-name">set</span> hlsearch。
缺点：关闭文档后，下次打开，又需要重新设置一遍。

<span class="token number">2</span>、永久设置（推荐）：在~/.vimrc中配制
<span class="token function">vim</span> ~/.vimrc
在文件中加上set hlsearch 
然后保存退出便可。
优点：一次设置，永久生效。
</code></pre> 
<p>（2）vim常用操作</p> 
<pre><code class="prism language-bash">hjkl左上下右
i当前字符前插入
a当前字符后插入
I当前行开头插入
A当前行末尾插入
o在后一行插入
O在前一行插入
v选择
V选择整行
y复制
p粘贴在当前字符后
P粘贴在当前字符前
c修改
d删除
x删除一个字符
s修改当前字符
r仅修改当前字符
f跳转到下一个字符上
t跳转到下一个字符前
<span class="token number">0</span>开头
$结尾
^除去空格的开头
w下一个单词
b上一个单词
e下一个单词的末尾
W下一个单词（无视符号）
B上一个单词（无视符号）
E下一个单词的末尾（无视符号）
ZZ保存并退出
ZQ不保存强制退出
<span class="token operator">&lt;&lt;</span>减小缩进
<span class="token operator">&gt;&gt;</span>增大缩进
<span class="token operator">==</span>自动调整缩进
<span class="token comment">#向前查找当前光标下单词</span>
*向后查找当前光标下单词
?向前查找
/向后查找
n下一个
N上一个
<span class="token punctuation">{<!-- --></span>上一段落
<span class="token punctuation">}</span>下一段落
u撤销上一次操作，ctrl+r则为反撤销操作
全词匹配：/int<span class="token punctuation">\</span><span class="token operator">&gt;</span>
不区分大小写：:set ignorecase //忽略大小写，:set noignorecase //恢复到大小写敏感
</code></pre> 
<p>vim其他操作</p> 
<pre><code class="prism language-bash">（1）vim批量注释
v或者V选中后，命令行输入:<span class="token string">'&lt;,'</span><span class="token operator">&gt;</span>norm I//
等价于26，32norm I//

批量取消注释
v或者V选中后，命令行输入:<span class="token string">'&lt;,'</span><span class="token operator">&gt;</span>norm 0x


（2）ctrl+u,ctrl+d快速翻页

（3）V选中部分批量替换
<span class="token string">'&lt;,'</span><span class="token operator">&gt;</span>s/wang/ji/g

全文替换：1,<span class="token variable">$s</span>/wang/ji/g

（4）取消高亮选中
:noh

（5）vim中打开目录
:NERDTreeToggle

（6）Plug
:PulgInstall

eg：<span class="token string">"Plug 'vim-scripts/vim-airline' -&gt;"</span>Plug <span class="token string">'vim-scripts/vim-airline'</span>
去掉前面的<span class="token string">"
"</span> no longer used vim-airline:
<span class="token string">"let g:airline#extensions#coc#enabled = 1
"</span><span class="token builtin class-name">let</span> g:airline<span class="token comment">#extensions#tabline#enabled = 1</span>
<span class="token string">"let g:airline#extensions#tabline#left_alt_sep = '|'
"</span><span class="token builtin class-name">let</span> g:airline<span class="token comment">#extensions#tabline#buffer_nr_show = 0</span>
<span class="token string">"let g:airline#extensions#tabline#formatter = 'default'
"</span><span class="token builtin class-name">let</span> g:airline<span class="token comment">#extensions#keymap#enabled = 1</span>
"let g:airline<span class="token comment">#extensions#tabline#buffer_idx_mode = 1</span>


则需要在vim下执行:PulgInstall

（7）wsl ubuntu中vim拷贝到windows剪切板
<span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> vim-gtk3
检查一下是否安装成：
<span class="token function">vim</span> <span class="token parameter variable">--version</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token punctuation">\</span>"clipboard<span class="token punctuation">\</span>"
+clipboard         +keymap            +printer           +vertsplit

vim中的内容保存至windows剪切板：
<span class="token builtin class-name">:</span><span class="token string">'&lt;,'</span><span class="token operator">&gt;</span>w <span class="token operator">!</span>clip.exe

（8）ctrl t 下面打开终端，ctrl w在终端和代码中切换
将代码拷贝到终端：y拷贝vim中的内容，然后换到终端中输入：ctrl w<span class="token punctuation">\</span>"<span class="token punctuation">\</span>"

（9）F7编译代码，编译选项：/home/wangji/.vim/tasks.ini
F5构建和运行Cmake工程

（10）gd寻找定义
可能打开多个文件F2文件往左，F3文件往右
跳转回来：ctrl o,跳转进去ctrl i

gr查看这个函数被谁引用了


</code></pre> 
<ul><li>ref：wsl vim无法复制到系统剪贴板，<a href="https://blog.csdn.net/u010020404/article/details/121915364">解决方法</a>，<a href="https://blog.csdn.net/AngelLover2017/article/details/122072001">WSL2环境下VIM的clipboard解决方案</a></li></ul> 
<h3><a id="20curlgithub_release_675"></a>20.curl直接下载github release文件</h3> 
<pre><code class="prism language-bash">方法1：
<span class="token function">curl</span> <span class="token parameter variable">-LsO</span> https://github.com/archibate/vimrc/releases/vimrc-install.sh
<span class="token comment"># -L 参数会让 HTTP 请求跟随服务器的重定向。curl 默认不跟随重定向。</span>
<span class="token comment"># -s 是silent，就是不输出详细过程</span>
<span class="token comment"># -O 把输出写到该文件中，保留远程文件的文件名</span>


方法2：
<span class="token function">git</span> clone git@github.com:archibate/vimrc.git
注释掉./vimrc/.vim/install.sh文件中的set <span class="token parameter variable">-e</span>
./vimrc/.vim/install.sh
</code></pre> 
<h3><a id="21_git_submodule_692"></a>21 git submodule问题</h3> 
<p><a href="https://blog.csdn.net/u011436427/article/details/125141206?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167654124516800213028171%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=167654124516800213028171&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-125141206-null-null.article_score_rank_blog&amp;utm_term=submodule&amp;spm=1018.2226.3001.4450">submodule</a></p> 
<h3><a id="22_ubuntu_696"></a>22 ubuntu支持交叉编译</h3> 
<ul><li>ref：<a href="https://blog.csdn.net/L_lurker/article/details/119061540">Linux环境中安装指定版本的gcc-aarch64-linux-gnu、gcc-arm-linux-gnueabi工具包</a></li></ul> 
<pre><code class="prism language-bash">会在你的环境中安装一个默认适配你环境的较新版本
 <span class="token function">sudo</span>  <span class="token function">apt-get</span> <span class="token function">install</span> gcc-aarch64-linux-gnu <span class="token parameter variable">-y</span>
查询版本号
root@bruce:/<span class="token comment"># aarch64-linux-gnu-gcc -v</span>
</code></pre> 
<pre><code class="prism language-bash">如果CMake中制定特定版本的交叉编译器，eg：
set<span class="token punctuation">(</span>CMAKE_C_COMPILER aarch64-linux-gnu-gcc-9<span class="token punctuation">)</span>
set<span class="token punctuation">(</span>CMAKE_CXX_COMPILER aarch64-linux-gnu-g++-9<span class="token punctuation">)</span>

则可以执行这个命令，ubuntu会告诉你如何安装
wangji@script-wang:~/time/timesync/build/install/bin$ aarch64-linux-gnu-g++-9
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> g++-9-aarch64-linux-gnu <span class="token parameter variable">-y</span>
</code></pre> 
<h3><a id="23Ubuntu_cpu_716"></a>23.Ubuntu 查看cpu个数及核心数</h3> 
<ul><li>ref：</li></ul> 
<pre><code class="prism language-bash">查看物理CPU个数
<span class="token function">cat</span> /proc/cpuinfo<span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"physical id"</span><span class="token operator">|</span> <span class="token function">sort</span><span class="token operator">|</span> <span class="token function">uniq</span><span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>


查看每个物理CPU中core的个数<span class="token punctuation">(</span>即核数<span class="token punctuation">)</span>
<span class="token function">cat</span> /proc/cpuinfo<span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"cpu cores"</span><span class="token operator">|</span> <span class="token function">uniq</span>

查看逻辑CPU的个数
<span class="token function">cat</span> /proc/cpuinfo<span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"processor"</span><span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>

查看线程数
<span class="token function">grep</span> <span class="token string">'processor'</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-u</span> <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>    
</code></pre> 
<h3><a id="23ubuntu2204libssl11_735"></a>23.如何在ubuntu22.04版本上安装libssl1.1?</h3> 
<p><a href="https://blog.csdn.net/qq_38798111/article/details/129848116#:~:text=%E5%A6%82%E4%BD%95%E5%9C%A8ubuntu22.04%E7%89%88%E6%9C%AC%E4%B8%8A%E5%AE%89%E8%A3%85libssl1.1?%201%20echo%20%22deb%20http://security.ubuntu.com/ubuntu%20focal-security%20main%22%20%7C,update%203%20sudo%20a%20pt-get%20install%20libssl%201.1">链接</a></p> 
<h3><a id="24boost_739"></a>24.boost手册及安装</h3> 
<p>boost中文手册：<br> <a href="http://zh.highscore.de/cpp/boost/" rel="nofollow">Boost C++ 库</a></p> 
<p>boost英文手册：<br> <a href="https://www.boost.org/doc/libs/1_55_0/doc/html/property_tree.html#boost_propertytree.intro" rel="nofollow">Chapter 22. Boost.PropertyTree</a></p> 
<p>Boost常用组件概览：<a href="https://blog.csdn.net/qq_26849233/article/details/75448816">链接</a></p> 
<p>boost安装：<br> 在Ubuntu<a href="https://blog.csdn.net/qq_41854911/article/details/119454212">上安装Boost的五种方法(全网最全，建议收藏)</a><br> <a href="https://boostorg.jfrog.io/artifactory/main/release/1.71.0/source/" rel="nofollow">main/release/1.71.0/source</a></p> 
<h3><a id="25WSL2_754"></a>25.WSL2端口映射</h3> 
<pre><code class="prism language-bash">将ip地址的对应的端口映射到宿主win10对应的端口
<span class="token comment"># netsh interface portproxy add v4tov4 listenport=[win10端口] listenaddress=0.0.0.0 connectport=[虚拟机的端口] connectaddress=[虚拟机的ip]</span>
netsh interface portproxy <span class="token function">add</span> v4tov4 <span class="token assign-left variable">listenport</span><span class="token operator">=</span><span class="token number">80</span> <span class="token assign-left variable">listenaddress</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token assign-left variable">connectport</span><span class="token operator">=</span><span class="token number">80</span> <span class="token assign-left variable">connectaddress</span><span class="token operator">=</span><span class="token number">172.29</span>.41.233

删除端口转发
netsh interface portproxy delete v4tov4 <span class="token assign-left variable">listenport</span><span class="token operator">=</span><span class="token number">80</span> <span class="token assign-left variable">listenaddress</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0


检测是否设置成功
netsh interface portproxy show all
</code></pre> 
<p>接着，还需要配置windows的防火墙规则，可以参考：<a href="https://blog.csdn.net/u011436427/article/details/125060392?ops_request_misc=&amp;request_id=d296f9d390b34664a7d97a361363ad0b&amp;biz_id=&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~koosearch~default-1-125060392-null-null.268%5Ev1%5Econtrol&amp;utm_term=vmware&amp;spm=1018.2226.3001.4450">vm虚拟机中使用NAT模式特别说明</a></p> 
<p><a href="https://blog.csdn.net/keyiis_sh/article/details/113819244">wsl2 设置端口映射</a></p> 
<ul><li>ref：<a href="https://stackoverflow.com/questions/56671520/how-can-i-install-vscode-server-in-linux-offline" rel="nofollow">How can I install vscode-server in linux offline [duplicate]</a></li></ul> 
<h3><a id="26Ubuntu_2204_Minikube_788"></a>26.Ubuntu 22.04 Minikube安装配置</h3> 
<p><a href="https://blog.csdn.net/LeoForBest/article/details/126524892">Ubuntu 22.04 Minikube安装配置</a>，<a href="https://www.cnblogs.com/dai-zhe/p/14826022.html" rel="nofollow">Minikube-ubuntu系统安装minikube</a>，<a href="https://blog.csdn.net/playagame/article/details/95629388">minikube配置</a>，<a href="https://blog.csdn.net/thinkthewill/article/details/117655879">–registry-mirror=https://registry.docker-cn.com</a></p> 
<p><a href="https://www.qinwg.cn/n/macos/05-minikube.html" rel="nofollow">MacOS 安装 minikube 后执行 “minikube start” 卡在 “Booting up control plane …”</a></p> 
<p>如果改用国内镜像源还是无法下载，则参看<a href="https://blog.csdn.net/thinkthewill/article/details/117655879">链接</a>，自己使用docker下载并重新tag<br> <img src="https://images2.imgbox.com/18/4a/6E4oG9vr_o.png" alt="在这里插入图片描述"><br> 自己docker pull然后改名字<br> <img src="https://images2.imgbox.com/92/0f/st05G9TU_o.png" alt="在这里插入图片描述"></p> 
<p>问题：</p> 
<pre><code class="prism language-bash">shaokun@shaokun:~/wangji/ota-community-edition$ <span class="token function">make</span> start
😄  minikube v1.2.0 on linux <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
✅  using image repository registry.cn-hangzhou.aliyuncs.com/google_containers
E0413 <span class="token number">18</span>:31:19.631161    <span class="token number">3057</span> start.go:559<span class="token punctuation">]</span> StartHost: Error loading existing host. Please try running <span class="token punctuation">[</span>minikube delete<span class="token punctuation">]</span>, <span class="token keyword">then</span> run <span class="token punctuation">[</span>minikube start<span class="token punctuation">]</span> again.: registry: driver not found

💣  Unable to start VM: Error loading existing host. Please try running <span class="token punctuation">[</span>minikube delete<span class="token punctuation">]</span>, <span class="token keyword">then</span> run <span class="token punctuation">[</span>minikube start<span class="token punctuation">]</span> again.: registry: driver not found

😿  Sorry that minikube crashed. If this was unexpected, we would love to hear from you:
👉  https://github.com/kubernetes/minikube/issues/new
make: *** <span class="token punctuation">[</span>Makefile:14: start-minikube<span class="token punctuation">]</span> Error <span class="token number">70</span>
shaokun@shaokun:~/wangji/ota-community-edition$ minikube delete
</code></pre> 
<p>解决：<br> 安装minikube v1.4.0版本</p> 
<h3><a id="27ubuntu_2204_kubectl_818"></a>27.ubuntu 22.04 安装kubectl</h3> 
<p><a href="https://kubernetes.io/zh-cn/docs/tasks/tools/install-kubectl-linux/" rel="nofollow">在 Linux 系统中安装并设置 kubectl</a></p> 
<h3><a id="28ubuntu2204kOps_823"></a>28.ubuntu22.04安装kOps</h3> 
<p><a href="https://kubernetes.io/zh-cn/docs/setup/production-environment/tools/kops/" rel="nofollow">kOps</a></p> 
<h3><a id="29asicc_826"></a>29.在线生成asicc字符画网站</h3> 
<p><a href="https://www.jianshu.com/p/fca56d635091" rel="nofollow">在线生成ascii字符画网站</a></p> 
<h3><a id="30dlgooglecom_830"></a>30.连接dl.google.com超时的问题</h3> 
<p><a href="https://blog.csdn.net/qq_45452172/article/details/115672411">解决Android studio 连接 dl.google.com超时的问题</a></p> 
<h3><a id="31clangtid_834"></a>31.clang-tid静态检查工具</h3> 
<p><a href="https://hokein.github.io/clang-tools-tutorial/clang-tidy.html" rel="nofollow">clang-tidy——静态代码分析框架</a></p> 
<h3><a id="32CODELF_839"></a>32.起变量名网站CODELF</h3> 
<p><a href="https://unbug.github.io/codelf/" rel="nofollow">CODELF</a></p> 
<h3><a id="33wsl2pip_844"></a>33.wsl2中pip很慢</h3> 
<p>如果已经配置pip源，还是很慢，可以执行：</p> 
<pre><code class="prism language-bash"> python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> pip wheel setuptools
</code></pre> 
<h3><a id="34Windows10Windows11PING_852"></a>34.Windows10或者Windows11主机无法PING通的解决方法</h3> 
<p>步骤：<a href="http://www.zylxyl.com/archives/2021/12/23/4579.html" rel="nofollow">Windows10或者Windows11主机无法PING通的解决方法</a></p> 
<p>检查：<br> 打开windows安全中心-&gt;打开防火墙和网络保护-&gt;打开高级设置<br> <img src="https://images2.imgbox.com/23/b9/sPWSqW9O_o.png" alt="在这里插入图片描述"><br> 可以看到入站规则中显示ICMP回显请求，说明设置成功了<br> <img src="https://images2.imgbox.com/c2/ce/uit5vTCn_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="35_Key_is_stored_in_legacy_trustedgpg_862"></a>35. Key is stored in legacy trusted.gpg</h3> 
<p>问题：</p> 
<pre><code class="prism language-bash"><span class="token function">apt-get</span> update <span class="token parameter variable">-y</span> 出现以下告警
Reading package lists<span class="token punctuation">..</span>. Done
W: https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key is stored <span class="token keyword">in</span> legacy trusted.gpg keyring <span class="token punctuation">(</span>/etc/apt/trusted.gpg<span class="token punctuation">)</span>, see the DEPRECATION section <span class="token keyword">in</span> apt-key<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token keyword">for</span> details.
</code></pre> 
<p>解决办法：<br> sudo apt-key list</p> 
<pre><code class="prism language-bash">wangji@DESKTOP-9TAUMH9:~$ apt-key list
Warning: apt-key is deprecated. Manage keyring files <span class="token keyword">in</span> trusted.gpg.d instead <span class="token punctuation">(</span>see apt-key<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">))</span>.
/etc/apt/trusted.gpg
--------------------
pub   rsa4096 <span class="token number">2015</span>-05-29 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      2EE0 EA64 E40A 89B8 4B2D  F734 99E8 2A75 642A C823
uid           <span class="token punctuation">[</span> unknown<span class="token punctuation">]</span> sbt build tool <span class="token operator">&lt;</span>scalasbt@gmail.com<span class="token operator">&gt;</span>
sub   rsa4096 <span class="token number">2015</span>-05-29 <span class="token punctuation">[</span>E<span class="token punctuation">]</span>

pub   rsa4096 <span class="token number">2017</span>-02-22 <span class="token punctuation">[</span>SCEA<span class="token punctuation">]</span>
      9DC8 <span class="token number">5822</span> 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
uid           <span class="token punctuation">[</span> unknown<span class="token punctuation">]</span> Docker Release <span class="token punctuation">(</span>CE deb<span class="token punctuation">)</span> <span class="token operator">&lt;</span>docker@docker.com<span class="token operator">&gt;</span>
sub   rsa4096 <span class="token number">2017</span>-02-22 <span class="token punctuation">[</span>S<span class="token punctuation">]</span>

/etc/apt/trusted.gpg.d/sbt.gpg
------------------------------
pub   rsa4096 <span class="token number">2015</span>-05-29 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      2EE0 EA64 E40A 89B8 4B2D  F734 99E8 2A75 642A C823
uid           <span class="token punctuation">[</span> unknown<span class="token punctuation">]</span> sbt build tool <span class="token operator">&lt;</span>scalasbt@gmail.com<span class="token operator">&gt;</span>
sub   rsa4096 <span class="token number">2015</span>-05-29 <span class="token punctuation">[</span>E<span class="token punctuation">]</span>

/etc/apt/trusted.gpg.d/ubuntu-keyring-2012-cdimage.gpg
------------------------------------------------------
pub   rsa4096 <span class="token number">2012</span>-05-11 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      <span class="token number">8439</span> 38DF 228D 22F7 B374  2BC0 D94A A3F0 EFE2 <span class="token number">1092</span>
uid           <span class="token punctuation">[</span> unknown<span class="token punctuation">]</span> Ubuntu CD Image Automatic Signing Key <span class="token punctuation">(</span><span class="token number">2012</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>cdimage@ubuntu.com<span class="token operator">&gt;</span>

/etc/apt/trusted.gpg.d/ubuntu-keyring-2018-archive.gpg
------------------------------------------------------
pub   rsa4096 <span class="token number">2018</span>-09-17 <span class="token punctuation">[</span>SC<span class="token punctuation">]</span>
      F6EC B376 <span class="token number">2474</span> EDA9 D21B  <span class="token number">7022</span> <span class="token number">8719</span> 20D1 991B C93C
uid           <span class="token punctuation">[</span> unknown<span class="token punctuation">]</span> Ubuntu Archive Automatic Signing Key <span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>ftpmaster@ubuntu.com<span class="token operator">&gt;</span>
</code></pre> 
<p>选择出现告警的key进行修复，我这里显然是docker，且仅取出上述key最后的8个字符即可<code>0EBF CD88</code></p> 
<pre><code class="prism language-bash">wangji@DESKTOP-9TAUMH9:~$ <span class="token function">sudo</span> apt-key <span class="token builtin class-name">export</span> 0EBFCD88<span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmour</span> <span class="token parameter variable">-o</span> /etc/apt/trusted.gpg.d/docker.gpg
</code></pre> 
<p>ref：</p> 
<ul><li><a href="https://itsfoss.com/key-is-stored-in-legacy-trusted-gpg/" rel="nofollow">Fixing “Key is stored in legacy trusted.gpg keyring” Issue in Ubuntu</a></li></ul> 
<h3><a id="36wget_nocheckcertificate__922"></a>36.wget --no-check-certificate 问题解决</h3> 
<p>添加 --no-check-certificate<br> 使用.wgetrc 文件(以后都就可以了)</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"check_certificate = off"</span> <span class="token operator">&gt;&gt;</span> ~/.wgetrc
</code></pre> 
<p>ref:</p> 
<ul><li><a href="https://www.cnblogs.com/rongfengliang/p/16809603.html" rel="nofollow">wget --no-check-certificate 问题解决</a></li></ul> 
<h3><a id="40Windows_935"></a>40.Windows设置暗黑主题方案</h3> 
<p><a href="https://www.xiaoheiwoo.com/best-dark-mode-extensions-google-chrome/" rel="nofollow">10 个适用于 Google Chrome 的最佳黑暗模式扩展</a></p> 
<p>最好用的感觉还是浏览器自带的<strong>暗模式</strong>：<br> Step1</p> 
<ul><li>依次点击：设置 &gt; 个性化 &gt; 颜色 &gt; 选择默认应用模式 &gt; 深色，来开启系统深色主题。</li><li>此时，Chrome的标题栏和状态栏，应该会变成深色，但是网页的主体部分没有变化。<br> <img src="https://images2.imgbox.com/b8/ad/RJtjU7mx_o.png" alt="在这里插入图片描述"><br> Step2</li><li>打开 Chrome，并在地址栏中输入（或复制+粘贴）“ chrome://flags ”，然后按 “Enter”</li><li>然后，在搜索框中，输入 “dark mode”，找到选项之后，把右侧的状态，改为 “Enable”</li><li>重新启动浏览器，即可完成设置。<br> <img src="https://images2.imgbox.com/8a/e8/b2JSDHPl_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="41pdf_950"></a>41.pdf翻译</h3> 
<p><a href="http://i.zhiyunwenxian.cn/?p=195" rel="nofollow">知云文献翻译</a></p> 
<h3><a id="42ubuntu2004_installuninstall_gcc11_956"></a>42.ubuntu20.04 install/uninstall gcc11</h3> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> add-apt-repository <span class="token parameter variable">-y</span> ppa:ubuntu-toolchain-r/test
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> gcc-11
gcc-11 <span class="token parameter variable">--version</span>
</code></pre> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> purge <span class="token parameter variable">--autoremove</span> <span class="token parameter variable">-y</span> gcc-11
<span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/apt/trusted.gpg.d/ubuntu-toolchain-r_ubuntu_test.gpg
<span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/apt/sources.list.d/ubuntu-toolchain-r-ubuntu-test-focal.list
</code></pre> 
<ul><li><a href="https://www.followchain.org/install-gcc-11-on-ubuntu/" rel="nofollow">How to install GCC 11 on Ubuntu</a></li></ul> 
<h3><a id="43clangformat_972"></a>43.clang-format配置</h3> 
<p>vscode安装clang-format插件<br> <img src="https://images2.imgbox.com/4d/3c/lN59QNCT_o.png" alt="在这里插入图片描述"></p> 
<p>jiang下属配置放到工程目录的.clang-format即可：</p> 
<pre><code class="prism language-bash">---
Language: Cpp
<span class="token comment"># BasedOnStyle: Google</span>
AccessModifierOffset: <span class="token parameter variable">-4</span>
AlignAfterOpenBracket: DontAlign
<span class="token comment"># T503 : 2-2-5</span>
AlignConsecutiveAssignments: Consecutive
AlignConsecutiveDeclarations: <span class="token boolean">false</span>
AlignConsecutiveMacros: <span class="token boolean">false</span>
AlignEscapedNewlines: Left
AlignOperands: <span class="token boolean">false</span>
AlignTrailingComments: <span class="token boolean">false</span>
AllowAllParametersOfDeclarationOnNextLine: <span class="token boolean">false</span>
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: <span class="token boolean">false</span>
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
<span class="token comment"># T503 : 2-4-1</span>
AllowShortLambdasOnASingleLine: Empty
AllowShortLoopsOnASingleLine: <span class="token boolean">false</span>
AlwaysBreakAfterReturnType: None
AlwaysBreakBeforeMultilineStrings: <span class="token boolean">true</span>
<span class="token comment"># To be included in T503</span>
AlwaysBreakTemplateDeclarations: Yes
BinPackArguments: <span class="token boolean">false</span>
BinPackParameters: <span class="token boolean">false</span>
BraceWrapping:
  <span class="token comment"># T503 : 2-2-2, 2-1-2</span>
  AfterCaseLabel: <span class="token boolean">true</span>
  AfterClass: <span class="token boolean">true</span>
  <span class="token comment"># T503 : 2-1-2</span>
  AfterControlStatement: Always
  AfterEnum: <span class="token boolean">true</span>
  AfterFunction: <span class="token boolean">true</span>
  AfterNamespace: <span class="token boolean">true</span>
  AfterObjCDeclaration: <span class="token boolean">false</span>
  AfterStruct: <span class="token boolean">true</span>
  AfterUnion: <span class="token boolean">true</span>
  AfterExternBlock: <span class="token boolean">false</span>
  BeforeCatch: <span class="token boolean">false</span>
  <span class="token comment"># T503: 2-1-2</span>
  BeforeElse: <span class="token boolean">true</span>
  IndentBraces: <span class="token boolean">false</span>
  SplitEmptyFunction: <span class="token boolean">false</span>
  SplitEmptyRecord: <span class="token boolean">false</span>
  SplitEmptyNamespace: <span class="token boolean">false</span>
BreakAfterJavaFieldAnnotations: <span class="token boolean">false</span>
BreakBeforeBinaryOperators: All
BreakBeforeBraces: Custom
BreakBeforeTernaryOperators: <span class="token boolean">true</span>
<span class="token comment"># To be included in T503</span>
BreakConstructorInitializers: BeforeComma
BreakInheritanceList: BeforeComma
BreakStringLiterals: <span class="token boolean">true</span>
<span class="token comment"># T503 : 2-1-1</span>
ColumnLimit: <span class="token number">80</span>
CommentPragmas: <span class="token string">'^ clang-format:'</span>
CompactNamespaces: <span class="token boolean">false</span>
ConstructorInitializerAllOnOneLineOrOnePerLine: <span class="token boolean">false</span>
ConstructorInitializerIndentWidth: <span class="token number">4</span>
ContinuationIndentWidth: <span class="token number">4</span>
Cpp11BracedListStyle: <span class="token boolean">true</span>
DeriveLineEnding: <span class="token boolean">false</span>
DerivePointerAlignment: <span class="token boolean">false</span>
DisableFormat: <span class="token boolean">false</span>
ExperimentalAutoDetectBinPacking: <span class="token boolean">false</span>
FixNamespaceComments: <span class="token boolean">true</span>
ForEachMacros:
  - foreach
  - Q_FOREACH
  - BOOST_FOREACH
IncludeBlocks: Preserve
<span class="token comment"># To be included in T503</span>
IncludeCategories:
  - Regex: <span class="token string">'^&lt;.*\.h&gt;'</span>
    Priority: <span class="token number">1</span>
  - Regex: <span class="token string">'^&lt;.*'</span>
    Priority: <span class="token number">2</span>
  - Regex: <span class="token string">'.*'</span>
    Priority: <span class="token number">3</span>
IncludeIsMainRegex: <span class="token string">'(Test)?$'</span>
IndentCaseLabels: <span class="token boolean">false</span>
IndentPPDirectives: BeforeHash
IndentWidth: <span class="token number">4</span>
IndentWrappedFunctionNames: <span class="token boolean">false</span>
JavaScriptQuotes: Leave
JavaScriptWrapImports: <span class="token boolean">true</span>
KeepEmptyLinesAtTheStartOfBlocks: <span class="token boolean">true</span>
MacroBlockBegin: <span class="token string">'^MR_HEADER$'</span>
MacroBlockEnd: <span class="token string">'^MR_FOOTER$'</span>
MaxEmptyLinesToKeep: <span class="token number">1</span>
NamespaceIndentation: None
ObjCBlockIndentWidth: <span class="token number">2</span>
ObjCSpaceAfterProperty: <span class="token boolean">false</span>
ObjCSpaceBeforeProtocolList: <span class="token boolean">false</span>
PenaltyBreakAssignment: <span class="token number">2</span>
PenaltyBreakBeforeFirstCallParameter: <span class="token number">1</span>
PenaltyBreakComment: <span class="token number">300</span>
PenaltyBreakFirstLessLess: <span class="token number">120</span>
PenaltyBreakString: <span class="token number">1000</span>
PenaltyExcessCharacter: <span class="token number">1000000</span>
PenaltyReturnTypeOnItsOwnLine: <span class="token number">200</span>
PointerAlignment: Left
ReflowComments: <span class="token boolean">true</span>
SortIncludes: <span class="token boolean">false</span> 
SortUsingDeclarations: <span class="token boolean">false</span>
SpaceAfterCStyleCast: <span class="token boolean">false</span>
SpaceAfterLogicalNot: <span class="token boolean">false</span>
SpaceAfterTemplateKeyword: <span class="token boolean">true</span>
SpaceBeforeAssignmentOperators: <span class="token boolean">true</span>
SpaceBeforeCpp11BracedList: <span class="token boolean">false</span>
SpaceBeforeParens: ControlStatements
SpaceBeforeRangeBasedForLoopColon: <span class="token boolean">true</span>
SpaceInEmptyBlock: <span class="token boolean">true</span>
SpaceInEmptyParentheses: <span class="token boolean">false</span>
SpacesBeforeTrailingComments: <span class="token number">2</span>
SpacesInAngles: <span class="token boolean">false</span>
SpacesInConditionalStatement: <span class="token boolean">false</span>
SpacesInContainerLiterals: <span class="token boolean">true</span>
SpacesInCStyleCastParentheses: <span class="token boolean">false</span>
SpacesInParentheses: <span class="token boolean">false</span>
SpacesInSquareBrackets: <span class="token boolean">false</span>
SpaceBeforeSquareBrackets: <span class="token boolean">false</span>
Standard: Auto
TabWidth: <span class="token number">4</span>
UseCRLF: <span class="token boolean">false</span>
UseTab: Never
<span class="token punctuation">..</span>.
</code></pre> 
<h3><a id="44ubuntu__1110"></a>44.ubuntu 配置命令提示符</h3> 
<p><a href="https://mogeko.me/posts/zh-cn/037/" rel="nofollow">Bash 命令提示符定制指南</a></p> 
<p>可用的配置如下：</p> 
<pre><code class="prism language-bash"><span class="token comment">## PS1&amp;PS2</span>
<span class="token comment">## get current branch in git repo</span>
<span class="token keyword">function</span> <span class="token function-name function">parse_git_branch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 <span class="token assign-left variable">BRANCH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">git</span> branch <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'/^[^*]/d'</span> <span class="token parameter variable">-e</span> <span class="token string">'s/* \(.*\)/\1/'</span><span class="token variable">`</span></span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">"<span class="token variable">${BRANCH}</span>"</span> <span class="token operator">==</span> <span class="token string">""</span> <span class="token punctuation">]</span>
 <span class="token keyword">then</span>
  <span class="token assign-left variable">STAT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>parse_git_dirty<span class="token variable">`</span></span>
  <span class="token builtin class-name">echo</span> <span class="token string">"[<span class="token variable">${BRANCH}</span><span class="token variable">${STAT}</span>]"</span>
 <span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">""</span>
 <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token comment">## get current status of git repo</span>
<span class="token keyword">function</span> <span class="token function-name function">parse_git_dirty</span> <span class="token punctuation">{<!-- --></span>
 <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">git</span> status <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> <span class="token function">tee</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">dirty</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"modified:"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">untracked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"Untracked files"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">ahead</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"Your branch is ahead of"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">newfile</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"new file:"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">renamed</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"renamed:"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">deleted</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">${status}</span>"</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> /dev/null <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">"deleted:"</span> <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$?</span>"</span><span class="token variable">`</span></span>
 <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">''</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${renamed}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"&gt;<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${ahead}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"*<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${newfile}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"+<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${untracked}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"?<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${deleted}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"x<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${dirty}</span>"</span> <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">bits</span><span class="token operator">=</span><span class="token string">"!<span class="token variable">${bits}</span>"</span>
 <span class="token keyword">fi</span>
 <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">"<span class="token variable">${bits}</span>"</span> <span class="token operator">==</span> <span class="token string">""</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">" <span class="token variable">${bits}</span>"</span>
 <span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">""</span>
 <span class="token keyword">fi</span>
<span class="token punctuation">}</span>

<span class="token comment">## return</span>
<span class="token keyword">function</span> <span class="token function-name function">get_return</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token assign-left variable">RETVAL</span><span class="token operator">=</span><span class="token variable">$?</span>
    <span class="token comment"># Normal</span>
    <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token entity" title="\033">\033</span>[32m▶ <span class="token entity" title="\033">\033</span>[0m"</span>
    <span class="token comment"># Ctrl + C</span>
    <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-eq</span> <span class="token number">130</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token entity" title="\033">\033</span>[32m▶ <span class="token entity" title="\033">\033</span>[0m"</span>
    <span class="token comment"># Ctrl + Z</span>
    <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-eq</span> <span class="token number">148</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token entity" title="\033">\033</span>[32m▶ <span class="token entity" title="\033">\033</span>[0m"</span>

    <span class="token comment"># Error</span>
    <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-ne</span> <span class="token number">130</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token variable">$RETVAL</span> <span class="token parameter variable">-ne</span> <span class="token number">148</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">"<span class="token entity" title="\033">\033</span>[31m✗ <span class="token entity" title="\033">\033</span>[0m"</span>
<span class="token punctuation">}</span>

<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">"\<span class="token variable"><span class="token variable">`</span>get_return<span class="token punctuation">\</span><span class="token variable">`</span></span>\[<span class="token entity" title="\e">\e</span>[36m\][\W]\[<span class="token entity" title="\e">\e</span>[m\]\[<span class="token entity" title="\e">\e</span>[35m\]\<span class="token variable"><span class="token variable">`</span>parse_git_branch<span class="token punctuation">\</span><span class="token variable">`</span></span>\[<span class="token entity" title="\e">\e</span>[m\]\[<span class="token entity" title="\e">\e</span>[33m\]<span class="token entity" title="\\">\\</span>$\[<span class="token entity" title="\e">\e</span>[m\] "</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PS2</span></span><span class="token operator">=</span><span class="token string">"\[<span class="token entity" title="\e">\e</span>[32m\]&gt;\[<span class="token entity" title="\e">\e</span>[m\] "</span>
</code></pre> 
<p>在新建一个~/.bashrc_ps1_ps2文件，然后填入上述内容；<br> 在/.bashrc中，填入以下内容即可：</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">.</span> ~/.bashrc_ps1_ps2
</code></pre> 
<h3><a id="45wsl2kali_1191"></a>45.wsl2中安装kali</h3> 
<p>（1）打开微软商店安装kali<br> <img src="https://images2.imgbox.com/3f/eb/EGLnxS6A_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>安装完毕后打开kali，可能会出现WslRegisterDistribution failed with error: 0x80004005错误<br> 在PowerShell中执行wsl --update即可</p> 
</blockquote> 
<p>（2）配置kali源</p> 
<pre><code class="prism language-bash"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">"s@http://http.kali.org/kali@https://mirrors.tuna.tsinghua.edu.cn/kali@g"</span> /etc/apt/sources.list
</code></pre> 
<p>（3）Install the dependencies</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> update 
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> kali-win-kex
</code></pre> 
<p>（4）open the GUI</p> 
<ul><li>可能需要输入密码，输入即可</li></ul> 
<pre><code class="prism language-bash">kex
</code></pre> 
<p>（5）install burpsuit</p> 
<ul><li>built-in version:</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> burpsuite 
</code></pre> 
<ul><li>free profession version(for Linux version， WIndows版本也支持)</li><li><a href="https://download.csdn.net/download/u011436427/88763705">ZIP压缩包</a>，或者从<a href="https://sites.google.com/view/pentesting-club/home" rel="nofollow">Pentesting Club</a>下载也可以</li></ul> 
<p>使用步骤如下：</p> 
<blockquote> 
 <p>下载 Zip 文件并解压。<br> 使用 Sudo 执行 Kali_Linux_Setup.sh 文件，sudo ./Kali_Linux_Setup.sh</p> 
</blockquote> 
<blockquote> 
 <p>Burp Suite Pro 激活步骤<br> 修改加载窗口中的许可证字符串 “license to Siddharth Sangwan”。<br> 从加载窗口复制许可证密钥并粘贴到 Burp Suite Pro 中，然后点击下一步。<br> 选择 Burp Suite Pro 右下方的手动激活选项。<br> 从 BurpSuite_Pro 中复制许可证请求并粘贴到加载器中。<br> 从加载器中复制许可证响应并粘贴到 Burp Suite Pro 中，然后点击下一步并完成。<br> 现在 Burp Suite Pro 已为根用户激活，要重新启动它，只需在终端运行以下命令：sudo burp</p> 
</blockquote> 
<p>结果展示：<br> <img src="https://images2.imgbox.com/6a/2d/PsVuGtUx_o.png" alt="在这里插入图片描述"></p> 
<p>启动</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> burp
</code></pre> 
<p>参考：</p> 
<ul><li><a href="https://zayxz.medium.com/install-kali-linux-on-wsl2-a3c3922fef5a" rel="nofollow">Install kali linux on wsl2</a></li><li><a href="https://learn.microsoft.com/en-us/answers/questions/1360692/how-do-i-fix-the-error-wslregisterdistribution-fai" rel="nofollow">How do i fix the error “WslRegisterDistribution failed with error: 0x80004005” which comes when I try to install kali linux?</a></li><li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/kali/" rel="nofollow">Kali 软件仓库</a></li><li><a href="https://github.com/SNGWN/Burp-Suite-Pro">Burp-Suite-Pro</a></li></ul> 
<h3><a id="46_1255"></a>46.</h3>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c2fe2d3791d5974af90ce13c2212f38a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">面试官：Redis除了缓存，还能做什么？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b79e5eac3673cd953bf38fc28f2c1b3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">带POE网络变压器与2.5G/5G/10G网络变压器产品特点介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>