<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue3&#43;vite项⽬搭建-配置环境变量env - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue3&#43;vite项⽬搭建-配置环境变量env" />
<meta property="og:description" content="1、env 文件说明 .env --- 全局默认配置文件，在所有的环境中被载入，当你指定了环境，它也会合并,并且优先级大于.env，没有指定环境时先找它 .env.development --- 指定开发环境的配置文件 .env.production --- 指定生产环境的配置文件，当 build 运行会触发此文件 2、根目录下新建文件 其中写环境变量和其它变量，必须要以VITE_开头 ( 若环境变量和其它变量不想以VITE_开头 如：以 APP_ 开头，则可以在 vite.config.ts 文件中添加 envPrefix: “APP_”) 全局环境 .env 文件 可以配置全局属性
# port 端口号 VITE_PORT = 8888 # open 运行 npm run dev 时自动打开浏览器 VITE_OPEN = false # public path 配置线上环境路径(打包)、本地通过 http-server 访问时，请置空即可 VITE_PUBLIC_PATH = /vue-next-admin-preview/ 开发环境 .env.dev 文件
# 开发环境
VITE_ENV = &#39;development&#39;
# 开发环境接口地址
VITE_API_URL = &#39;https://development/vue-next-admin-preview/&#39;
测试环境 .env.test 文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1991252b1fa671ad4bf97f0528e7d0b1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-09T14:40:00+08:00" />
<meta property="article:modified_time" content="2022-10-09T14:40:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue3&#43;vite项⽬搭建-配置环境变量env</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html" style="font-size: 16px;"> 
 <h4>1、env 文件说明</h4> 
 <div class="cnblogs_code"> 
  <pre><code class="has">.env --- 全局默认配置文件，在所有的环境中被载入，当你指定了环境，它也会合并,并且优先级大于.env，没有指定环境时先找它
.env.development --- 指定开发环境的配置文件
.env.production --- 指定生产环境的配置文件，当 build 运行会触发此文件</code>
</pre> 
 </div> 
 <h4>2、根目录下新建文件</h4> 
 <p><img src="https://images2.imgbox.com/8d/9e/HFfPmn9L_o.png" alt="" style="outline: none;"></p> 
 <h5>其中写环境变量和其它变量，必须要以VITE_开头 ( 若环境变量和其它变量不想以VITE_开头 如：以 APP_ 开头，则可以在 vite.config.ts 文件中添加 envPrefix: “APP_”)</h5> 
 <p>全局环境 <strong>.env</strong> 文件  可以配置全局属性</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has"># port 端口号
VITE_PORT = 8888

# open 运行 npm run dev 时自动打开浏览器
VITE_OPEN = false

# public path 配置线上环境路径(打包)、本地通过 http-server 访问时，请置空即可
VITE_PUBLIC_PATH = /vue-next-admin-preview/</code>
</pre> 
 </div> 
 <p>开发环境 <strong>.env.dev</strong> 文件</p> 
 <div class="cnblogs_code"> 
  <p># 开发环境<br>VITE_ENV = 'development'</p> 
  <p># 开发环境接口地址<br>VITE_API_URL = 'https://development/vue-next-admin-preview/'</p> 
 </div> 
 <p>测试环境 <strong>.env.test</strong> 文件</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has"># 线上环境
VITE_ENV = 'development'

# 测试环境
VITE_NODE_FLAG = 'test'

# 测试环境接口地址
VITE_API_URL = 'https://test/vue-next-admin-preview/'</code>
</pre> 
 </div> 
 <p>生产环境 <strong>.env.pro</strong> 文件</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has"># 线上环境
VITE_ENV = 'production'

# 生产环境
VITE_NODE_FLAG = 'pro'

# 线上环境接口地址
VITE_API_URL = 'https://production/vue-next-admin-preview/'</code>
</pre> 
 </div> 
 <p>3、在package.json 中配置模式</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">"scripts": {
    "dev": "vite --mode dev", // 运行时读取 .env 和 .env.dev文件中的配置
    "test": "vite --mode test", // 运行时读取 .env 和 .env.test 文件中的配置
    "pro": "vite --mode pro", // 运行时读取 .env 和 .env.pro 文件中的配置
    "build:dev": "vue-tsc --noEmit &amp;&amp; vite build --mode dev",   // yarn run build:dev 打包时读取 .env 和 .env.dev文件中的配置
    "build:test": "vue-tsc --noEmit &amp;&amp; vite build --mode test",  // yarn run build:test 打包时读取 .env 和 .env.test 文件中的配置    
    "build:pro": "vue-tsc --noEmit &amp;&amp; vite build --mode pro", // yarn run build:pro 打包时读取 .env 和 .env.pro 文件中的配置
    "preview": "vite preview"
  },</code>
</pre> 
 </div> 
 <p><img src="https://images2.imgbox.com/6a/e2/fbQGjt8t_o.png" alt="" style="outline: none;"></p> 
 <p>4、使用配置</p> 
 <p>使用import.meta.env来获取文件中的配置</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">console.log(import.meta.env)
console.log(import.meta.env.VITE_API_URL)
console.log(import.meta.env.VITE_PORT)
console.log(import.meta.env.VITE_NODE_FLAG)
console.log(import.meta.env.VITE_ENV)</code>
</pre> 
 </div> 
 <p>yarn run test 时</p> 
 <p><img src="https://images2.imgbox.com/74/6b/wChR2wLc_o.png" alt="" style="outline: none;"></p> 
 <p>5、在使用axios请求接口时配置基本路径</p> 
 <div class="cnblogs_code"> 
  <pre><code class="has">import axios from "axios"
export const http = axios.create({
    baseURL: import.meta.env.VITE_API_URL,
    timeout: 10000,
})</code>
</pre> 
 </div> 
 <p>原博<a name="a" rel="noopener"></a>https://blog.csdn.net/weixin_51186044/article/details/125563665?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125563665-blog-122437545.pc_relevant_multi_platform_whitelistv3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-125563665-blog-122437545.pc_relevant_multi_platform_whitelistv3&amp;utm_relevant_index=2</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2360513e3322c2f03318a789c122e894/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue .sync修饰符的用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/46b460a0085507f284764d831592f3e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mybatis详解(全)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>