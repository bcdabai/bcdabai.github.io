<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue i18n国际化 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue i18n国际化" />
<meta property="og:description" content="1、安装i18n插件，配合使用饿了么UI框架 http://element-cn.eleme.io/#/zh-CN/
npm install vue-i18n -S npm install element-ui -S 饿了么UI的组件语言也会一同更改，如图（英文状态）：
2、在src目录下，创建多语言目录i18n
langs目录下为语言配置文件，languages目录下为语言json文件, i18n.js为配置文件
3、在main.js里面添加
import ElementUI from &#39;element-ui&#39;; import &#39;element-ui/lib/theme-chalk/index.css&#39;; import i18n from &#39;./i18n/i18n&#39;; Vue.use(ElementUI); new Vue({ el: &#39;#app&#39;, router, i18n, //在此添加i18n组件 components: { App }, template: &#39;&lt;App/&gt;&#39; }); 4、i18n目录下，i18n.js
import Vue from &#39;vue&#39; import locale from &#39;element-ui/lib/locale&#39;; import VueI18n from &#39;vue-i18n&#39; import messages from &#39;./langs&#39; Vue.use(VueI18n); //从localStorage中拿到用户的语言选择，如果没有，那默认英文。 const i18n = new VueI18n({ locale: localStorage.lang || &#39;en&#39;, messages }); locale." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9ea2d3a029a6e4be939952920f00c983/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-14T16:05:10+08:00" />
<meta property="article:modified_time" content="2018-08-14T16:05:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue i18n国际化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、安装i18n插件，配合使用饿了么UI框架 <a href="http://element-cn.eleme.io/#/zh-CN/" rel="nofollow">http://element-cn.eleme.io/#/zh-CN/</a></p> 
<pre class="has"><code>npm install vue-i18n -S
npm install element-ui -S</code></pre> 
<p>饿了么UI的组件语言也会一同更改，如图（英文状态）：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ef/95/0x23spmJ_o.png"></p> 
<p>2、在src目录下，创建多语言目录i18n</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/04/56/o1qOJBCF_o.png"></p> 
<p>langs目录下为语言配置文件，languages目录下为语言json文件, i18n.js为配置文件</p> 
<p>3、在main.js里面添加</p> 
<pre class="has"><code>import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
import i18n from './i18n/i18n';

Vue.use(ElementUI);
new Vue({
  el: '#app',
  router,
  i18n,  //在此添加i18n组件
  components: { App },
  template: '&lt;App/&gt;'
});</code></pre> 
<p>4、i18n目录下，i18n.js</p> 
<pre class="has"><code>import Vue from 'vue'
import locale from 'element-ui/lib/locale';
import VueI18n from 'vue-i18n'
import messages from './langs'
Vue.use(VueI18n);
//从localStorage中拿到用户的语言选择，如果没有，那默认英文。
const i18n = new VueI18n({
  locale: localStorage.lang || 'en',
  messages
});
locale.i18n((key, value) =&gt; i18n.t(key, value)); //为了实现element插件的多语言切换

export default i18n</code></pre> 
<p>5、i18n/langs/index.js</p> 
<pre class="has"><code>import en from './en';
import cn from './cn';
export default {
  en: en,
  cn: cn
}</code></pre> 
<p>6、i18n/langs/cn.js</p> 
<pre class="has"><code>import zhLocale from 'element-ui/lib/locale/lang/zh-CN'
const cn = require('../languages/cn.json');
cn.el = zhLocale.el;
export default cn;</code></pre> 
<p>i18n/langs/en.js</p> 
<pre class="has"><code>import enLocale from 'element-ui/lib/locale/lang/en'
const en = require('../languages/en');
en.el = enLocale.el;
export default en;</code></pre> 
<p>7、languages中的json文件，按照json格式填写。例如：</p> 
<pre class="has"><code>{
  "login": {
    "language": {
      "en": "英语",
      "cn": "汉语"
    },
    "loginOut": "退出"
  }
}</code></pre> 
<p>8、vue页面使用</p> 
<pre class="has"><code>&lt;div&gt;{<!-- -->{ $t("login.loginOut") }}&lt;/div&gt;</code></pre> 
<p>9、点击切换语言</p> 
<pre class="has"><code>methods: {
    switchLang(lang)  {
      this.$i18n.locale = lang;
      handleLocalStorage('set','lang',lang); //handleLocalStorage为操作localstorage的函数
    }
}</code></pre> 
<p>10、handleLocalStorage函数（友情赠送）</p> 
<pre class="has"><code>/**
 * 对LocalStorage 进行 存， 取， 移除 操作
 * method: 'get' , 'set' , 'remove'
 */
export function handleLocalStorage(method, key, value) {
  switch (method) {
    case 'get' : {
      let temp = window.localStorage.getItem(key);
      if (temp) {
        return temp
      } else {
        return false
      }
    }
    case 'set' : {
      window.localStorage.setItem(key, value);
      break
    }
    case 'remove': {
      window.localStorage.removeItem(key);
      break
    }
    default : {
      return false
    }
  }
}</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/187c05c63409b4c7a113e6277cbc6dab/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NOIp2011数字反转</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ed7f0fa233179cd877b32fc8e399f237/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;继承与多态</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>