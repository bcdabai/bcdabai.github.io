<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32学习笔记1——软硬件基础之keil5编程与GPIO开发 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32学习笔记1——软硬件基础之keil5编程与GPIO开发" />
<meta property="og:description" content="目录
前言
一、Keil uVision5 MDK软件的安装以及一些问题的解决方案
1.1 软件安装
1.2 注意事项
二、 keil5编程与GPIO开发
2.1 第一步：使能IO口时钟
2.2 第二步：初始化IO口模式。
2.3 第三步：操作IO口，输出高低电平
2.4 综合代码 2.5 位操作
总结
前言 本人为自动化专业准大三学生，由于大创项目需要开始着手自学STM32，拥有一定的数模电知识基础与C&#43;&#43;语言编程基础（计算机二级C&#43;&#43;良好并曾获蓝桥杯软件类省三）。全程根据正点原子的开发板与配套教程进行自学，目前已学习了一周（配套视频第2讲~第15讲），总结了一点对于初学者的学习方法与学习笔记。
另：数学建模专栏主要连载2021暑期数学建模培训期间的MATLAB编程代码以供参考（曾获建模国赛省三），目前培训处于休息阶段，之后会继续连载。
开发板型号：正点原子精英STM32F103ZET6开发板
淘宝链接：https://m.tb.cn/h.fahDKDf?sm=041383
资料链接：http://www.openedv.com/docs/boards/stm32/zdyz_stm32f103_jingying.html#
一、Keil uVision5 MDK软件的安装以及一些问题的解决方案 1.1 软件安装 这里推荐一个宝藏公众号，相信对于我们自动化人来说大家应该都已知晓：软件管家
安装包以及安装教程：https://mp.weixin.qq.com/s/TCeWLme8BcOISr-n4HDBGw
1.2 注意事项 安装的过程不会出现什么问题，但实际在使用的过程中还会出现一系列的问题，首先要跟随视频学习，其次会遇到视频中没有出现的问题。以下为博主本人遇到的一些问题以及其解决方案。
keil5编译一直有一个报错
1.点魔术棒，选Target选项卡，把右上角那个Code Generation里的use default compiler version 6改成use default compiler version 5，这样就好了。
2.环境变量有问题，可以试试修改环境变量的方法：https://pan.baidu.com/s/1YPc5g87Trf8M8AhqMIkgOQ
keil5自动补全代码功能(关于STM32的)
版权声明：本文为CSDN博主「KYYZSGD」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/yjyenjoy1/article/details/107332168
keil5输入中文乱码问题一步解决！详细！
版权声明：本文为CSDN博主「阳光下午茶。」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_36687153/article/details/102631268 二、 keil5编程与GPIO开发 首先，看过原子哥视频的同学都知道有关IO口的知识是学习整个STM32过程中的重中之重；
其次，虽然原子哥已经讲的很细致了但毕竟“师傅领进门，修行在个人”，本人总结了一些有关基于库函数方向以实验1跑马灯实验为例如何初始化和使用IO口的一些重点知识。 2.1 第一步：使能IO口时钟 IO口时钟其实可以结合数电实验FPGA自带的时钟引脚进行理解，其实就是一个触发条件。重点是要掌握调用时要输入怎样的参数。
时钟使能函数RCC_APB2PeriphClockCmd()共有2个参数。以下模块为可填入的参数，其中加粗部分为分类注释。
时钟使能函数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e1eec77d8b6aa9f8776f60d7a36dea44/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-09T23:35:25+08:00" />
<meta property="article:modified_time" content="2021-08-09T23:35:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32学习笔记1——软硬件基础之keil5编程与GPIO开发</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="%E4%B8%80%E3%80%81Keil%20uVision5%20MDK%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Keil%20uVision5%20MDK%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" rel="nofollow">一、Keil uVision5 MDK软件的安装以及一些问题的解决方案</a></p> 
<p id="1.1%20%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85-toc" style="margin-left:40px;"><a href="#1.1%20%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85" rel="nofollow">1.1 软件安装</a></p> 
<p id="1.2%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-toc" style="margin-left:40px;"><a href="#1.2%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" rel="nofollow">1.2 注意事项</a></p> 
<p id="%E4%BA%8C%E3%80%81%C2%A0keil5%E7%BC%96%E7%A8%8B%E4%B8%8EGPIO%E5%BC%80%E5%8F%91-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%C2%A0keil5%E7%BC%96%E7%A8%8B%E4%B8%8EGPIO%E5%BC%80%E5%8F%91" rel="nofollow">二、 keil5编程与GPIO开发</a></p> 
<p id="2.1%C2%A0%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%BD%BF%E8%83%BDIO%E5%8F%A3%E6%97%B6%E9%92%9F-toc" style="margin-left:40px;"><a href="#2.1%C2%A0%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%BD%BF%E8%83%BDIO%E5%8F%A3%E6%97%B6%E9%92%9F" rel="nofollow">2.1 第一步：使能IO口时钟</a></p> 
<p id="2.2%C2%A0%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96IO%E5%8F%A3%E6%A8%A1%E5%BC%8F%E3%80%82-toc" style="margin-left:40px;"><a href="#2.2%C2%A0%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96IO%E5%8F%A3%E6%A8%A1%E5%BC%8F%E3%80%82" rel="nofollow">2.2 第二步：初始化IO口模式。</a></p> 
<p id="2.3%20%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%93%8D%E4%BD%9CIO%E5%8F%A3%EF%BC%8C%E8%BE%93%E5%87%BA%E9%AB%98%E4%BD%8E%E7%94%B5%E5%B9%B3-toc" style="margin-left:40px;"><a href="#2.3%20%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%93%8D%E4%BD%9CIO%E5%8F%A3%EF%BC%8C%E8%BE%93%E5%87%BA%E9%AB%98%E4%BD%8E%E7%94%B5%E5%B9%B3" rel="nofollow">2.3 第三步：操作IO口，输出高低电平</a></p> 
<p id="2.4%20%E7%BB%BC%E5%90%88%E4%BB%A3%E7%A0%81%C2%A0-toc" style="margin-left:40px;"><a href="#2.4%20%E7%BB%BC%E5%90%88%E4%BB%A3%E7%A0%81%C2%A0" rel="nofollow">2.4 综合代码 </a></p> 
<p id="2.5%20%E4%BD%8D%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#2.5%20%E4%BD%8D%E6%93%8D%E4%BD%9C" rel="nofollow">2.5 位操作</a></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<hr id="hr-toc"> 
<h2 id="%E5%89%8D%E8%A8%80">前言</h2> 
<p>本人为自动化专业准大三学生，由于大创项目需要开始着手自学STM32，拥有一定的数模电知识基础与C++语言编程基础（计算机二级C++良好并曾获蓝桥杯软件类省三）。全程根据正点原子的开发板与配套教程进行自学，目前已学习了一周（配套视频第2讲~第15讲），总结了一点对于初学者的学习方法与学习笔记。</p> 
<p>另：数学建模专栏主要连载2021暑期数学建模培训期间的MATLAB编程代码以供参考（曾获建模国赛省三），目前培训处于休息阶段，之后会继续连载。</p> 
<blockquote> 
 <p>开发板型号：正点原子精英STM32F103ZET6开发板</p> 
 <p>淘宝链接：<a href="https://m.tb.cn/h.fahDKDf?sm=041383" rel="nofollow">https://m.tb.cn/h.fahDKDf?sm=041383</a></p> 
 <p>资料链接：<a href="http://www.openedv.com/docs/boards/stm32/zdyz_stm32f103_jingying.html#" rel="nofollow">http://www.openedv.com/docs/boards/stm32/zdyz_stm32f103_jingying.html#</a></p> 
</blockquote> 
<hr> 
<h2 id="%E4%B8%80%E3%80%81Keil%20uVision5%20MDK%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">一、Keil uVision5 MDK软件的安装以及一些问题的解决方案</h2> 
<h3 id="1.1%20%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85">1.1 软件安装</h3> 
<p>这里推荐一个宝藏公众号，相信对于我们自动化人来说大家应该都已知晓：软件管家</p> 
<blockquote> 
 <p>安装包以及安装教程：<a href="https://mp.weixin.qq.com/s/TCeWLme8BcOISr-n4HDBGw" rel="nofollow">https://mp.weixin.qq.com/s/TCeWLme8BcOISr-n4HDBGw</a></p> 
</blockquote> 
<h3 id="1.2%20%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">1.2 注意事项</h3> 
<p>安装的过程不会出现什么问题，但实际在使用的过程中还会出现一系列的问题，首先要跟随视频学习，其次会遇到视频中没有出现的问题。以下为博主本人遇到的一些问题以及其解决方案。</p> 
<blockquote> 
 <p><strong>keil5编译一直有一个报错</strong></p> 
 <p>1.点魔术棒，选Target选项卡，把右上角那个Code Generation里的use default compiler version 6改成use default compiler version 5，这样就好了。</p> 
 <p>2.环境变量有问题，可以试试修改环境变量的方法：<a href="https://pan.baidu.com/s/1YPc5g87Trf8M8AhqMIkgOQ" rel="nofollow">https://pan.baidu.com/s/1YPc5g87Trf8M8AhqMIkgOQ</a></p> 
</blockquote> 
<blockquote> 
 <p><strong>keil5自动补全代码功能(关于STM32的)</strong></p> 
 <p>版权声明：本文为CSDN博主「KYYZSGD」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br> 原文链接：<a href="https://blog.csdn.net/yjyenjoy1/article/details/107332168">https://blog.csdn.net/yjyenjoy1/article/details/107332168</a></p> 
</blockquote> 
<blockquote> 
 <p><strong>keil5输入中文乱码问题一步解决！详细！</strong></p> 
 <p>版权声明：本文为CSDN博主「阳光下午茶。」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br> 原文链接：<a href="https://blog.csdn.net/qq_36687153/article/details/102631268">https://blog.csdn.net/qq_36687153/article/details/102631268</a> </p> 
</blockquote> 
<hr> 
<h2 id="%E4%BA%8C%E3%80%81%C2%A0keil5%E7%BC%96%E7%A8%8B%E4%B8%8EGPIO%E5%BC%80%E5%8F%91">二、 keil5编程与GPIO开发</h2> 
<p>首先，看过原子哥视频的同学都知道有关IO口的知识是学习整个STM32过程中的重中之重；</p> 
<p>其次，虽然原子哥已经讲的很细致了但毕竟“师傅领进门，修行在个人”，本人总结了一些有关<strong>基于库函数方向以实验1跑马灯实验为例</strong>如何初始化和使用IO口的一些重点知识。 </p> 
<h3 id="2.1%C2%A0%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%BD%BF%E8%83%BDIO%E5%8F%A3%E6%97%B6%E9%92%9F">2.1 第一步：使能IO口时钟</h3> 
<p>IO口时钟其实可以结合数电实验FPGA自带的时钟引脚进行理解，其实就是一个触发条件。重点是要掌握调用时要输入怎样的参数。</p> 
<p>时钟使能函数<strong>RCC_APB2PeriphClockCmd()</strong>共有2个参数。以下模块为可填入的参数，其中加粗部分为分类注释。</p> 
<blockquote> 
 <p><strong>时钟使能函数</strong></p> 
 <p><strong>使能IO口时钟。调用函数</strong></p> 
 <p><strong>RCC_APB2PeriphColckCmd();</strong></p> 
 <p><strong>不同的IO组，调用的时钟使能函数不一样。</strong></p> 
 <p><strong>1.1 assert_param(IS_RCC_APB2_PERIPH(RCC_APB2Periph));<br> ：</strong><br> #define RCC_APB2Periph_AFIO              ((uint32_t)0x00000001)<br> #define RCC_APB2Periph_GPIOA             ((uint32_t)0x00000004)<br> #define RCC_APB2Periph_GPIOB             ((uint32_t)0x00000008)<br> #define RCC_APB2Periph_GPIOC             ((uint32_t)0x00000010)<br> #define RCC_APB2Periph_GPIOD             ((uint32_t)0x00000020)<br> #define RCC_APB2Periph_GPIOE             ((uint32_t)0x00000040)<br> #define RCC_APB2Periph_GPIOF             ((uint32_t)0x00000080)<br> #define RCC_APB2Periph_GPIOG             ((uint32_t)0x00000100)<br> #define RCC_APB2Periph_ADC1              ((uint32_t)0x00000200)<br> #define RCC_APB2Periph_ADC2              ((uint32_t)0x00000400)<br> #define RCC_APB2Periph_TIM1              ((uint32_t)0x00000800)<br> #define RCC_APB2Periph_SPI1              ((uint32_t)0x00001000)<br> #define RCC_APB2Periph_TIM8              ((uint32_t)0x00002000)<br> #define RCC_APB2Periph_USART1            ((uint32_t)0x00004000)<br> #define RCC_APB2Periph_ADC3              ((uint32_t)0x00008000)<br> #define RCC_APB2Periph_TIM15             ((uint32_t)0x00010000)<br> #define RCC_APB2Periph_TIM16             ((uint32_t)0x00020000)<br> #define RCC_APB2Periph_TIM17             ((uint32_t)0x00040000)<br> #define RCC_APB2Periph_TIM9              ((uint32_t)0x00080000)<br> #define RCC_APB2Periph_TIM10             ((uint32_t)0x00100000)<br> #define RCC_APB2Periph_TIM11             ((uint32_t)0x00200000)</p> 
 <p><strong>1.2 assert_param(IS_FUNCTIONAL_STATE(NewState));<br> ：</strong><br> #define IS_FUNCTIONAL_STATE(STATE) (((STATE) == DISABLE) || ((STATE) == ENABLE))</p> 
</blockquote> 
<h3 id="2.2%C2%A0%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%88%9D%E5%A7%8B%E5%8C%96IO%E5%8F%A3%E6%A8%A1%E5%BC%8F%E3%80%82">2.2 第二步：初始化IO口模式。</h3> 
<p>有关GPIO的初始化底层原理我们了解即可，其实就是不断地调用库函数。重点是要掌握调用时要输入怎样的参数。</p> 
<p>初始化函数<strong>GPIO_Init()</strong>共有2个参数，其中第2个参数为结构体，其中还包含三个参数。以下模块为可填入的参数，其中加粗部分为分类注释。</p> 
<blockquote> 
 <p><strong>初始化函数</strong></p> 
 <p><strong>void GPIO_Init(GPIO_TypeDef* GPIOx, GPIO_InitTypeDef* GPIO_InitStruct);</strong></p> 
 <p><strong>1.GPIOx: GPIOA~GPIOG</strong></p> 
 <p><br><strong>2. GPIO_InitTypeDef  GPIO_InitStructure;</strong></p> 
 <p>typedef struct<br>    {<!-- --><br>      uint16_t GPIO_Pin;                           //指定要初始化的IO口         <br>     GPIOSpeed_TypeDef GPIO_Speed; //设置IO口输出速度<br>     GPIOMode_TypeDef GPIO_Mode;    //设置工作模式：8种中的一个<br>    }GPIO_InitTypeDef;<br><strong>    <br> 2.1 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5; //LED0--&gt;PB.5 端口配置<br> ：</strong><br> #define GPIO_Pin_0                 ((uint16_t)0x0001)  /*!&lt; Pin 0 selected */<br> #define GPIO_Pin_1                 ((uint16_t)0x0002)  /*!&lt; Pin 1 selected */<br> #define GPIO_Pin_2                 ((uint16_t)0x0004)  /*!&lt; Pin 2 selected */<br> #define GPIO_Pin_3                 ((uint16_t)0x0008)  /*!&lt; Pin 3 selected */<br> #define GPIO_Pin_4                 ((uint16_t)0x0010)  /*!&lt; Pin 4 selected */<br> #define GPIO_Pin_5                 ((uint16_t)0x0020)  /*!&lt; Pin 5 selected */<br> #define GPIO_Pin_6                 ((uint16_t)0x0040)  /*!&lt; Pin 6 selected */<br> #define GPIO_Pin_7                 ((uint16_t)0x0080)  /*!&lt; Pin 7 selected */<br> #define GPIO_Pin_8                 ((uint16_t)0x0100)  /*!&lt; Pin 8 selected */<br> #define GPIO_Pin_9                 ((uint16_t)0x0200)  /*!&lt; Pin 9 selected */<br> #define GPIO_Pin_10                ((uint16_t)0x0400)  /*!&lt; Pin 10 selected */<br> #define GPIO_Pin_11                ((uint16_t)0x0800)  /*!&lt; Pin 11 selected */<br> #define GPIO_Pin_12                ((uint16_t)0x1000)  /*!&lt; Pin 12 selected */<br> #define GPIO_Pin_13                ((uint16_t)0x2000)  /*!&lt; Pin 13 selected */<br> #define GPIO_Pin_14                ((uint16_t)0x4000)  /*!&lt; Pin 14 selected */<br> #define GPIO_Pin_15                ((uint16_t)0x8000)  /*!&lt; Pin 15 selected */<br> #define GPIO_Pin_All               ((uint16_t)0xFFFF)  /*!&lt; All pins selected */</p> 
 <p><strong>2.2 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;  //推挽输出<br> ：</strong><br> typedef enum<br> { GPIO_Mode_AIN = 0x0,<br>   GPIO_Mode_IN_FLOATING = 0x04,<br>   GPIO_Mode_IPD = 0x28,<br>   GPIO_Mode_IPU = 0x48,<br>   GPIO_Mode_Out_OD = 0x14,<br>   GPIO_Mode_Out_PP = 0x10,//推挽<br>   GPIO_Mode_AF_OD = 0x1C,<br>   GPIO_Mode_AF_PP = 0x18<br> }</p> 
 <p><strong>2.3 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; //IO口速度为50MHz<br> ：</strong><br> typedef enum<br> { <br>   GPIO_Speed_10MHz = 1,<br>   GPIO_Speed_2MHz, <br>   GPIO_Speed_50MHz<br> }</p> 
 <p> GPIO_Init(GPIOB, &amp;GPIO_InitStructure);     //根据设定参数初始化GPIOB.5</p> 
</blockquote> 
<h3 id="2.3%20%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%93%8D%E4%BD%9CIO%E5%8F%A3%EF%BC%8C%E8%BE%93%E5%87%BA%E9%AB%98%E4%BD%8E%E7%94%B5%E5%B9%B3">2.3 第三步：操作IO口，输出高低电平</h3> 
<p>这里主要用到了4个设置输出电平函数，其实就是通过这几个函数控制IO口输出高低电平。重点是要掌握调用时要输入怎样的参数。</p> 
<p>设置输出电平函数<strong>GPIO_SetBits()</strong>共有2个参数。以下模块为可填入的参数，其中加粗部分为分类注释。</p> 
<blockquote> 
 <p><strong>1.GPIOx: GPIOA~GPIOG</strong></p> 
 <p><strong>2.GPIO_Pin：</strong></p> 
 <p>#define GPIO_Pin_0                 ((uint16_t)0x0001)  /*!&lt; Pin 0 selected */<br> #define GPIO_Pin_1                 ((uint16_t)0x0002)  /*!&lt; Pin 1 selected */<br> #define GPIO_Pin_2                 ((uint16_t)0x0004)  /*!&lt; Pin 2 selected */<br> #define GPIO_Pin_3                 ((uint16_t)0x0008)  /*!&lt; Pin 3 selected */<br> #define GPIO_Pin_4                 ((uint16_t)0x0010)  /*!&lt; Pin 4 selected */<br> #define GPIO_Pin_5                 ((uint16_t)0x0020)  /*!&lt; Pin 5 selected */<br> #define GPIO_Pin_6                 ((uint16_t)0x0040)  /*!&lt; Pin 6 selected */<br> #define GPIO_Pin_7                 ((uint16_t)0x0080)  /*!&lt; Pin 7 selected */<br> #define GPIO_Pin_8                 ((uint16_t)0x0100)  /*!&lt; Pin 8 selected */<br> #define GPIO_Pin_9                 ((uint16_t)0x0200)  /*!&lt; Pin 9 selected */<br> #define GPIO_Pin_10                ((uint16_t)0x0400)  /*!&lt; Pin 10 selected */<br> #define GPIO_Pin_11                ((uint16_t)0x0800)  /*!&lt; Pin 11 selected */<br> #define GPIO_Pin_12                ((uint16_t)0x1000)  /*!&lt; Pin 12 selected */<br> #define GPIO_Pin_13                ((uint16_t)0x2000)  /*!&lt; Pin 13 selected */<br> #define GPIO_Pin_14                ((uint16_t)0x4000)  /*!&lt; Pin 14 selected */<br> #define GPIO_Pin_15                ((uint16_t)0x8000)  /*!&lt; Pin 15 selected */<br> #define GPIO_Pin_All               ((uint16_t)0xFFFF)  /*!&lt; All pins selected */</p> 
</blockquote> 
<h3 id="2.4%20%E7%BB%BC%E5%90%88%E4%BB%A3%E7%A0%81%C2%A0">2.4 综合代码 </h3> 
<p>有关led.h led.c main.c这三个文件的关系是：<strong>.h文件相当于两个.c文件的衔接，</strong>使得main.c能够通过led.h头文件引用led.c文件（C语言的知识，但说实话学校没怎么学有关头文件的内容）。</p> 
<p>注：这是基于看过视频以后对程序项目经过初始化后的主程序，详情还需观看配套视频前15讲。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/06/ee/aFTUWxQj_o.png"> </p> 
<p><strong>led.h 代码：</strong></p> 
<pre><code class="language-cpp">#ifndef __LED_H
#define __LED_H

void LED_Init(void);//起到衔接作用
#endif
</code></pre> 
<p><strong>led.c 代码：</strong> </p> 
<pre><code class="language-cpp">#include "led.h"
#include "stm32f10x.h"
void LED_Init(void)//主函数
{
	GPIO_InitTypeDef GPIO_InitStructure;//定义第二步的结构体
	
	//第一步：使能IO口时钟。调用函数 RCC_APB2PeriphColckCmd();不同的IO组，调用的时钟使能函数不一样。
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB,ENABLE);//GPIOB
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOE,ENABLE);//GPIOE
	
	//第二步：初始化IO口模式。调用函数 GPIO_Init();
  GPIO_InitStructure.GPIO_Mode=GPIO_Mode_Out_PP;
	GPIO_InitStructure.GPIO_Pin=GPIO_Pin_5;
	GPIO_InitStructure.GPIO_Speed=GPIO_Speed_50MHz;
	GPIO_Init(GPIOB,&amp;GPIO_InitStructure);
	
	//第三步：操作IO口，输出高低电平。GPIO_SetBits();GPIO_ResetBits();
	GPIO_SetBits(GPIOB,GPIO_Pin_5);
	
	//GPIOE同二三步
	GPIO_InitStructure.GPIO_Mode=GPIO_Mode_Out_PP;
	GPIO_InitStructure.GPIO_Pin=GPIO_Pin_5;
	GPIO_InitStructure.GPIO_Speed=GPIO_Speed_50MHz;
	GPIO_Init(GPIOE,&amp;GPIO_InitStructure);
	GPIO_SetBits(GPIOE,GPIO_Pin_5);
}
</code></pre> 
<p><strong> main.c 代码：</strong></p> 
<pre><code class="language-cpp">#include "stm32f10x.h"
#include "led.h"
#include "delay.h"
int main(void)
{
	delay_init();//延时函数
	LED_Init();//初始化IO口，通过led.h调用led.c函数
	while(1)
{
	GPIO_SetBits(GPIOB,GPIO_Pin_5);//高电平
	GPIO_SetBits(GPIOE,GPIO_Pin_5);
	delay_ms(500);//延时500ms
	
	GPIO_ResetBits(GPIOB,GPIO_Pin_5);//低电平
	GPIO_ResetBits(GPIOE,GPIO_Pin_5);
  delay_ms(500);//延时500ms
}
}
</code></pre> 
<p>注：代码最后结尾时需要加一行回车，否则会报错！</p> 
<h3 id="2.5%20%E4%BD%8D%E6%93%8D%E4%BD%9C">2.5 位操作</h3> 
<p>有关位操作，在代码上的体现仅仅是main.c不同，更为简单，但底层原理十分复杂，了解即可。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/13/c3/D4BUygUp_o.jpg"></p> 
<p> <strong> main.c 代码：</strong></p> 
<pre><code class="language-cpp">#include "stm32f10x.h"
#include "led.h"
#include "delay.h"//该头文件中已包含"sys.h"
 int main(void)
 {	
	 delay_init();//初始化延时函数
	 LED_Init();//初始化LED函数
	 while(1)
	 {
		 PBout(5)=1;//PB IO口设置为高电平灯灭（位操作，内嵌函数宏定义）
		 PEout(5)=1;//PE IO口设置为高电平灯灭（位操作，内嵌函数宏定义）
		 
		 delay_ms(500);//延时500ms
		 
		 PBout(5)=0;//PB IO口设置为低电平灯亮（位操作，内嵌函数宏定义）
		 PEout(5)=0;//PE IO口设置为低电平灯亮（位操作，内嵌函数宏定义）
		 
		 delay_ms(500);//延时500ms
		 //LED一端接3.3V，共阳极接法，低电平导通（有电位差），高电平截止（无电位差）
	 }
 }
</code></pre> 
<hr> 
<h2 id="%E6%80%BB%E7%BB%93">总结</h2> 
<p>对于STM32的学习在我看来对底层原理了解即可，重点在于会用，即会灵活调用各种库函数。</p> 
<p>目前本人对STM32只学习了不到一周的时间，可能在一些问题的理解上还有差错，还望各位大佬积极指正。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a22c74ffde779523480e4665568e0b84/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ddns文件服务器,DDNS基础配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6189169d9ff27c2bdbdd4a72cc54953/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java删除服务器的文件夹权限管理,使用Java的AclFileAttributeView获取通用文件夹权限（如GENERIC_ALL）...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>