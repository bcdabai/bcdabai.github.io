<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端——各种小问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前端——各种小问题" />
<meta property="og:description" content="1.解决video src路径改变 但视频并不会自动刷新 之前的代码
&lt;video v-for=&#34;(x,i) in video&#34; v-if=&#34;i&lt;4&#34; class=&#34;ItemPicture&#34; width=&#34;160&#34; height=&#34;120&#34; controls&gt; &lt;source :src=&#34;x.video_url&#34; type=&#34;video/mp4&#34;&gt; &lt;/video&gt; 正确的做法是。不绑定source标签里的src属性，而是绑定video标签中的src属性。改正如下：
&lt;video v-for=&#34;(x,i) in video&#34; v-if=&#34;i&lt;4&#34; class=&#34;ItemPicture&#34; width=&#34;160&#34; height=&#34;120&#34; controls :src=&#34;x.video_url&#34; type=&#34;video/mp4&#34;&gt; &lt;/video&gt; 2.html显示图片，并处理图片和图片之间的距离 显示图片：
&lt;img v-for=&#34;(x,i) in pic&#34; v-if=&#34;i&lt;4&#34; width=&#34;140px&#34; height=&#34;140px&#34;class=&#34;ItemPicture&#34; :src=&#34;x.pic_url&#34;/&gt; 处理图片之间的间距：让图片变成块级元素，在style里面设置，通过RelativePic属性关联
&lt;div class=&#34;relative-img&#34;&gt; &lt;img v-for=&#34;(x,i) in pic&#34; v-if=&#34;i&lt;4&#34; width=&#34;140px&#34; height=&#34;140px&#34;class=&#34;RelativePic&#34; :src=&#34;x.pic_url&#34;/&gt; &lt;/div&gt; &lt;!-- 格式设置 --&gt; &lt;style&gt; .class1{font-weight:bold;font-size:25px;} .class2{color:red;} .RelativePic{margin-left:5px;margin-right:5px;} &lt;/style&gt; 固定图片或容器的显示位置（绝对位置）：
&lt;style type=&#34;text/css&#34;&gt; img{ position:absolute; &lt;! 绝对位移&gt; left:300px; top:150px; } &lt;/style&gt; 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e90654c2479e4f6a01a001680ec74c02/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-25T11:38:34+08:00" />
<meta property="article:modified_time" content="2019-08-25T11:38:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端——各种小问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.解决video src路径改变 但视频并不会自动刷新</h2> 
<p>之前的代码</p> 
<pre class="has"><code class="language-html">&lt;video v-for="(x,i) in video" v-if="i&lt;4" class="ItemPicture" width="160" height="120" controls&gt;
    &lt;source :src="x.video_url" type="video/mp4"&gt;
&lt;/video&gt;</code></pre> 
<p>正确的做法是。不绑定source标签里的src属性，而是绑定video标签中的src属性。改正如下：</p> 
<pre class="has"><code class="language-html">&lt;video v-for="(x,i) in video" v-if="i&lt;4" class="ItemPicture" width="160" height="120" controls :src="x.video_url" type="video/mp4"&gt;
&lt;/video&gt;</code></pre> 
<h3>2.html显示图片，并处理图片和图片之间的距离</h3> 
<p>显示图片：</p> 
<pre class="has"><code class="language-html">&lt;img v-for="(x,i) in pic" v-if="i&lt;4" width="140px" height="140px"class="ItemPicture" :src="x.pic_url"/&gt;
</code></pre> 
<p>处理图片之间的间距：让图片变成块级元素，在style里面设置，通过RelativePic属性关联</p> 
<pre class="has"><code class="language-html">&lt;div class="relative-img"&gt;
    &lt;img v-for="(x,i) in pic" v-if="i&lt;4" width="140px" height="140px"class="RelativePic" :src="x.pic_url"/&gt;
&lt;/div&gt;

&lt;!-- 格式设置 --&gt;
 &lt;style&gt;
 .class1{font-weight:bold;font-size:25px;}
 .class2{color:red;}
 .RelativePic{margin-left:5px;margin-right:5px;}
 &lt;/style&gt;</code></pre> 
<p>固定图片或容器的显示位置（绝对位置）：</p> 
<pre class="has"><code class="language-html">&lt;style type="text/css"&gt;   
img{     
  position:absolute;   &lt;! 绝对位移&gt;
  left:300px;
  top:150px;
  } 
&lt;/style&gt;</code></pre> 
<h3>3. 元素的id属性和class属性的区别</h3> 
<p>id属性是元素唯一的标识，在一个文档中每个元素的id值都不同，而且元素只能有一个id；在一个文档中，class属性可以重复，方便设置同样的样式，可以通过class选择器选择多个元素，一个元素可以有多个class属性，通过空格隔开。</p> 
<h3>4.html加js加ajax上传图片，并发送图片到后端，接收后端返回的数据</h3> 
<p>html代码如下：</p> 
<pre class="has"><code class="language-html">&lt;form id="form1" enctype="multipart/form-data"&gt;
         
    图片:&lt;input type="file" id="file" name="imgfile"&gt;

    &lt;button type="button" id="upButton"&gt;上传&lt;/button&gt;
&lt;/form&gt;</code></pre> 
<p>js代码如下：</p> 
<pre class="has"><code class="language-javascript">  $("#upButton").on("click",function () {
    console.log("111111")
    var formData = new FormData();
    var file = document.getElementById('file').files[0];
    formData.append("file", file);

    $.ajax({
        url: "http://192.168.199.91:8889/copyBaiTeng/picSearch2",
        type: "post",
        data: formData,
        dataType: "json",
        cache: false,//上传文件无需缓存
        processData: false,//用于对data参数进行序列化处理 这里必须false
        contentType: false, //必须*/
        success: function (data) {
            console.log(data)
            Response.ifShown = true;
            Response.article = data.data_article;
            Response.video = data.data_video;
            Response.people = data.data_people;
            Response.pic = data.data_pic;
            console.log(Response.more[0]);
        }
    });
  })</code></pre> 
<p>后端代码如下：</p> 
<pre class="has"><code class="language-java">    @RequestMapping(value = "/copyBaiTeng/picSearch2", method = RequestMethod.POST)
    public RetResult&lt;String&gt; picSearch2(HttpServletRequest req, @RequestParam("file") MultipartFile file, Model m) {
        RetResult retResult = new RetResult();
        try {
            String fileName = System.currentTimeMillis()+file.getOriginalFilename();
            String destFileName="C:\\Users\\user\\Desktop\\upload"+File.separator+fileName;

            File destFile = new File(destFileName);
            destFile.getParentFile().mkdirs();
            file.transferTo(destFile);

            m.addAttribute("fileName", fileName);
            String hashcodeSearchPic = IMSocketClient.getPictureRecord(destFileName);
            System.out.println(hashcodeSearchPic);
            //
            ArrayList&lt;ModelEsPic&gt; data_pic = getEsModel.getModelPic(esClient, "hashcode", hashcodeSearchPic);
            String queryKind = data_pic.get(0).getKind();

            ArrayList&lt;ModelEsVideo&gt; data_video = getEsModel.getModelVideo(esClient, queryKind);
            ArrayList&lt;ModelEsPeople&gt; data_People = getEsModel.getModelPeople(esClient, "description", queryKind, "");
            ArrayList&lt;ModelEs&gt; data_article = getEsModel.getModel(esClient, queryKind);
            data_pic = getEsModel.getModelPic(esClient, "full_text", queryKind);


            retResult.setCode(20000).setMes("success").setData_article(data_article).setData_video(data_video).setData_pic(data_pic).setData_people(data_People);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
            retResult.setCode(50000).setMes("参数传入错误");
        } catch (IOException e) {
            e.printStackTrace();
            retResult.setCode(50000).setMes("参数传入错误");
        } catch (Exception e){
            retResult.setCode(50000).setMes("参数传入错误");
        }

        return retResult;

    }</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5cdbbeb68a323821fe5b95757528396d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ajax框架封装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e1139119018e0c1470e21156e566dfd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Zabbix使用命令总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>