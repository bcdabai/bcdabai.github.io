<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mongodb官网下载不了， MongoDB下载、安装、配置、使用，如何下载MongoDB数据库，MongoDB入门 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mongodb官网下载不了， MongoDB下载、安装、配置、使用，如何下载MongoDB数据库，MongoDB入门" />
<meta property="og:description" content="目录 一、关于MongoDB数据库：
二、MongoDB数据库下载：
1、官方下载地址： Try MongoDB Atlas Products | MongoDB
2、其他下载方式：除了上面的下载方式以外，也可以试试下面的下载链接！！
三、MongoDB数据库的安装：
四、MongoDB数据库可视(图形)化管理工具：
1、下载地址：MongoDB Compass Download | MongoDB
2、注意事项：在MongoDB Compass选择下载时，可选择对应的系统版本（这里以windows系统为例）：
五、文件功能解释：
1、MongoDB v3.6版安装目录的文件
2、 MongoDB v4.4版安装目录文件
六、环境变量配置：
1、配置MongoDB全局环境变量（就是在电脑中任何地方都可以合用mongo、mongod等命令）！
2、MongoDB数据库中的常用述语：
3、进入MongoDB数据库的语法环境：
七、MongoDB账户权限配置：
1、创建MongoDB超级管理用户：
2、修改MongoDB数据库配置：
3、重新启动MongoDB服务
4、用刚才创建好的超级管理账户连接数据库：
5、给指定的数据库存配置账户：
6、连接指定的MongoDB数据库
八、MongoDB数据库常用命令：
1、查看所有数据库：
2、查看当前所在数据库：
3、查看当前所在数据库中所有集合：
4、查看当前数据库相关信息（名称、文档个数、视图、索引、大小等）：
5、创建、打开、切换 数据库：
6、删除数据库（注：这里是删除当前所在的数据库）
7、清屏（这是Dos的命令，当窗口中的内容太多时，可以使用该命令，清除屏幕内容，保持界面清晰）：
8、MongoDB 数据库备份与恢复，集合导入与导出：
9、操作帮助命令（列出MongoDB数据库所有的操作方法）
九、启动 或 创建 指定的MongoDB数据库：
1、使用 mongod 命令： 创建 或 启动 指定的MongoDB数据库！
2、如果mongodb数据库路径太长，要输入很久，还可这样做
3、注意事项：
十、MongoDB数据库-复制集
1、为什么要用复制集？
2、在windows系统下搭建MongoDB复制集：
3、启动复制集节点
4、关联复制集节点
5、查看从节点是否正常同步数据
十一、MongoDB数据库-模型设计" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/37c0867db0338cf4928958636e2f6be4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-27T01:19:08+08:00" />
<meta property="article:modified_time" content="2022-11-27T01:19:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mongodb官网下载不了， MongoDB下载、安装、配置、使用，如何下载MongoDB数据库，MongoDB入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="%E4%B8%80%E3%80%81%E5%85%B3%E4%BA%8EMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><strong>目录</strong></h2> 
<p id="%E4%B8%80%E3%80%81%E5%85%B3%E4%BA%8EMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E5%85%B3%E4%BA%8EMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">一、关于MongoDB数据库：</a></p> 
<p id="%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E8%BD%BD%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E8%BD%BD%EF%BC%9A" rel="nofollow">二、MongoDB数据库下载：</a></p> 
<p id="1%E3%80%81%E5%AE%98%E6%96%B9%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9A%20Try%20MongoDB%20Atlas%20Products%20%7C%20MongoDB-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%AE%98%E6%96%B9%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9A%20Try%20MongoDB%20Atlas%20Products%20%7C%20MongoDB" rel="nofollow">1、官方下载地址： Try MongoDB Atlas Products | MongoDB</a></p> 
<p id="2%E3%80%81%E5%85%B6%E4%BB%96%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%99%A4%E4%BA%86%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%A4%96%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AF%95%E8%AF%95%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5%EF%BC%81%EF%BC%81-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%85%B6%E4%BB%96%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%99%A4%E4%BA%86%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%A4%96%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AF%95%E8%AF%95%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5%EF%BC%81%EF%BC%81" rel="nofollow">2、其他下载方式：除了上面的下载方式以外，也可以试试下面的下载链接！！</a></p> 
<p id="%E4%B8%89%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%9A" rel="nofollow">三、MongoDB数据库的安装：</a></p> 
<p id="%E5%9B%9B%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AF%E8%A7%86(%E5%9B%BE%E5%BD%A2)%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AF%E8%A7%86%28%E5%9B%BE%E5%BD%A2%29%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%9A" rel="nofollow">四、MongoDB数据库可视(图形)化管理工具：</a></p> 
<p id="1%E3%80%81%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9AMongoDB%20Compass%20Download%20%7C%20MongoDB-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9AMongoDB%20Compass%20Download%20%7C%20MongoDB" rel="nofollow">1、下载地址：MongoDB Compass Download | MongoDB</a></p> 
<p id="2%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A%E5%9C%A8MongoDB%20Compass%E9%80%89%E6%8B%A9%E4%B8%8B%E8%BD%BD%E6%97%B6%EF%BC%8C%E5%8F%AF%E9%80%89%E6%8B%A9%E5%AF%B9%E5%BA%94%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%EF%BC%88%E8%BF%99%E9%87%8C%E4%BB%A5windows%E7%B3%BB%E7%BB%9F%E4%B8%BA%E4%BE%8B%EF%BC%89%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A%E5%9C%A8MongoDB%20Compass%E9%80%89%E6%8B%A9%E4%B8%8B%E8%BD%BD%E6%97%B6%EF%BC%8C%E5%8F%AF%E9%80%89%E6%8B%A9%E5%AF%B9%E5%BA%94%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%EF%BC%88%E8%BF%99%E9%87%8C%E4%BB%A5windows%E7%B3%BB%E7%BB%9F%E4%B8%BA%E4%BE%8B%EF%BC%89%EF%BC%9A" rel="nofollow">2、注意事项：在MongoDB Compass选择下载时，可选择对应的系统版本（这里以windows系统为例）：</a></p> 
<p id="%E4%BA%94%E3%80%81%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E9%87%8A%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E9%87%8A%EF%BC%9A" rel="nofollow">五、文件功能解释：</a></p> 
<p id="1%E3%80%81MongoDB%20v3.6%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#1%E3%80%81MongoDB%20v3.6%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E6%96%87%E4%BB%B6" rel="nofollow">1、MongoDB v3.6版安装目录的文件</a></p> 
<p id="2%E3%80%81%20MongoDB%20v4.4%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#2%E3%80%81%20MongoDB%20v4.4%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6" rel="nofollow">2、 MongoDB v4.4版安装目录文件</a></p> 
<p id="%E5%85%AD%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%EF%BC%9A" rel="nofollow">六、环境变量配置：</a></p> 
<p id="1%E3%80%81%E9%85%8D%E7%BD%AEMongoDB%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%88%E5%B0%B1%E6%98%AF%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%AD%E4%BB%BB%E4%BD%95%E5%9C%B0%E6%96%B9%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%90%88%E7%94%A8mongo%E3%80%81mongod%E7%AD%89%E5%91%BD%E4%BB%A4%EF%BC%89%EF%BC%81-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E9%85%8D%E7%BD%AEMongoDB%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%88%E5%B0%B1%E6%98%AF%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%AD%E4%BB%BB%E4%BD%95%E5%9C%B0%E6%96%B9%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%90%88%E7%94%A8mongo%E3%80%81mongod%E7%AD%89%E5%91%BD%E4%BB%A4%EF%BC%89%EF%BC%81" rel="nofollow">1、配置MongoDB全局环境变量（就是在电脑中任何地方都可以合用mongo、mongod等命令）！</a></p> 
<p id="2%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E8%BF%B0%E8%AF%AD%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E8%BF%B0%E8%AF%AD%EF%BC%9A" rel="nofollow">2、MongoDB数据库中的常用述语：</a></p> 
<p id="3%E3%80%81%E8%BF%9B%E5%85%A5MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%AD%E6%B3%95%E7%8E%AF%E5%A2%83%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E8%BF%9B%E5%85%A5MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%AD%E6%B3%95%E7%8E%AF%E5%A2%83%EF%BC%9A" rel="nofollow">3、进入MongoDB数据库的语法环境：</a></p> 
<p id="%E4%B8%83%E3%80%81MongoDB%E8%B4%A6%E6%88%B7%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%83%E3%80%81MongoDB%E8%B4%A6%E6%88%B7%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE%EF%BC%9A" rel="nofollow">七、MongoDB账户权限配置：</a></p> 
<p id="1%E3%80%81%E5%88%9B%E5%BB%BAMongoDB%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%88%9B%E5%BB%BAMongoDB%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%EF%BC%9A" rel="nofollow">1、创建MongoDB超级管理用户：</a></p> 
<p id="2%E3%80%81%E4%BF%AE%E6%94%B9MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E4%BF%AE%E6%94%B9MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%EF%BC%9A" rel="nofollow">2、修改MongoDB数据库配置：</a></p> 
<p id="3%E3%80%81%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8MongoDB%E6%9C%8D%E5%8A%A1-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8MongoDB%E6%9C%8D%E5%8A%A1" rel="nofollow">3、重新启动MongoDB服务</a></p> 
<p id="4%E3%80%81%E7%94%A8%E5%88%9A%E6%89%8D%E5%88%9B%E5%BB%BA%E5%A5%BD%E7%9A%84%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E8%B4%A6%E6%88%B7%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E7%94%A8%E5%88%9A%E6%89%8D%E5%88%9B%E5%BB%BA%E5%A5%BD%E7%9A%84%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E8%B4%A6%E6%88%B7%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">4、用刚才创建好的超级管理账户连接数据库：</a></p> 
<p id="5%E3%80%81%E7%BB%99%E6%8C%87%E5%AE%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E9%85%8D%E7%BD%AE%E8%B4%A6%E6%88%B7%EF%BC%9A-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E7%BB%99%E6%8C%87%E5%AE%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E9%85%8D%E7%BD%AE%E8%B4%A6%E6%88%B7%EF%BC%9A" rel="nofollow">5、给指定的数据库存配置账户：</a></p> 
<p id="6%E3%80%81%E8%BF%9E%E6%8E%A5%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E8%BF%9E%E6%8E%A5%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">6、连接指定的MongoDB数据库</a></p> 
<p id="%E5%85%AB%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%85%AB%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A" rel="nofollow">八、MongoDB数据库常用命令：</a></p> 
<p id="1%E3%80%81%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">1、查看所有数据库：</a></p> 
<p id="2%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">2、查看当前所在数据库：</a></p> 
<p id="3%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%EF%BC%9A" rel="nofollow">3、查看当前所在数据库中所有集合：</a></p> 
<p id="4%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%88%E5%90%8D%E7%A7%B0%E3%80%81%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E3%80%81%E8%A7%86%E5%9B%BE%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%A4%A7%E5%B0%8F%E7%AD%89%EF%BC%89%EF%BC%9A-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%88%E5%90%8D%E7%A7%B0%E3%80%81%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E3%80%81%E8%A7%86%E5%9B%BE%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%A4%A7%E5%B0%8F%E7%AD%89%EF%BC%89%EF%BC%9A" rel="nofollow">4、查看当前数据库相关信息（名称、文档个数、视图、索引、大小等）：</a></p> 
<p id="5%E3%80%81%E5%88%9B%E5%BB%BA%E3%80%81%E6%89%93%E5%BC%80%E3%80%81%E5%88%87%E6%8D%A2%20%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E5%88%9B%E5%BB%BA%E3%80%81%E6%89%93%E5%BC%80%E3%80%81%E5%88%87%E6%8D%A2%20%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">5、创建、打开、切换 数据库：</a></p> 
<p id="6%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E6%B3%A8%EF%BC%9A%E8%BF%99%E9%87%8C%E6%98%AF%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E6%B3%A8%EF%BC%9A%E8%BF%99%E9%87%8C%E6%98%AF%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89" rel="nofollow">6、删除数据库（注：这里是删除当前所在的数据库）</a></p> 
<p id="7%E3%80%81%E6%B8%85%E5%B1%8F%EF%BC%88%E8%BF%99%E6%98%AFDos%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%BD%93%E7%AA%97%E5%8F%A3%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9%E5%A4%AA%E5%A4%9A%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%AF%A5%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%B8%85%E9%99%A4%E5%B1%8F%E5%B9%95%E5%86%85%E5%AE%B9%EF%BC%8C%E4%BF%9D%E6%8C%81%E7%95%8C%E9%9D%A2%E6%B8%85%E6%99%B0%EF%BC%89%EF%BC%9A-toc" style="margin-left:80px;"><a href="#7%E3%80%81%E6%B8%85%E5%B1%8F%EF%BC%88%E8%BF%99%E6%98%AFDos%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%BD%93%E7%AA%97%E5%8F%A3%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9%E5%A4%AA%E5%A4%9A%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%AF%A5%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%B8%85%E9%99%A4%E5%B1%8F%E5%B9%95%E5%86%85%E5%AE%B9%EF%BC%8C%E4%BF%9D%E6%8C%81%E7%95%8C%E9%9D%A2%E6%B8%85%E6%99%B0%EF%BC%89%EF%BC%9A" rel="nofollow">7、清屏（这是Dos的命令，当窗口中的内容太多时，可以使用该命令，清除屏幕内容，保持界面清晰）：</a></p> 
<p id="8%E3%80%81MongoDB%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%8C%E9%9B%86%E5%90%88%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA%EF%BC%9A-toc" style="margin-left:80px;"><a href="#8%E3%80%81MongoDB%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%8C%E9%9B%86%E5%90%88%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA%EF%BC%9A" rel="nofollow">8、MongoDB 数据库备份与恢复，集合导入与导出：</a></p> 
<p id="9%E3%80%81%E6%93%8D%E4%BD%9C%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%EF%BC%88%E5%88%97%E5%87%BAMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95%EF%BC%89-toc" style="margin-left:80px;"><a href="#9%E3%80%81%E6%93%8D%E4%BD%9C%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%EF%BC%88%E5%88%97%E5%87%BAMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95%EF%BC%89" rel="nofollow">9、操作帮助命令（列出MongoDB数据库所有的操作方法）</a></p> 
<p id="%E4%B9%9D%E3%80%81%E5%90%AF%E5%8A%A8%20%E6%88%96%20%E5%88%9B%E5%BB%BA%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B9%9D%E3%80%81%E5%90%AF%E5%8A%A8%20%E6%88%96%20%E5%88%9B%E5%BB%BA%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A" rel="nofollow">九、启动 或 创建 指定的MongoDB数据库：</a></p> 
<p id="1%E3%80%81%E4%BD%BF%E7%94%A8%20mongod%20%E5%91%BD%E4%BB%A4%EF%BC%9A%20%E5%88%9B%E5%BB%BA%20%E6%88%96%20%E5%90%AF%E5%8A%A8%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%81-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%BD%BF%E7%94%A8%20mongod%20%E5%91%BD%E4%BB%A4%EF%BC%9A%20%E5%88%9B%E5%BB%BA%20%E6%88%96%20%E5%90%AF%E5%8A%A8%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%81" rel="nofollow">1、使用 mongod 命令： 创建 或 启动 指定的MongoDB数据库！</a></p> 
<p id="2%E3%80%81%E5%A6%82%E6%9E%9Cmongodb%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B7%AF%E5%BE%84%E5%A4%AA%E9%95%BF%EF%BC%8C%E8%A6%81%E8%BE%93%E5%85%A5%E5%BE%88%E4%B9%85%EF%BC%8C%E8%BF%98%E5%8F%AF%E8%BF%99%E6%A0%B7%E5%81%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%A6%82%E6%9E%9Cmongodb%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B7%AF%E5%BE%84%E5%A4%AA%E9%95%BF%EF%BC%8C%E8%A6%81%E8%BE%93%E5%85%A5%E5%BE%88%E4%B9%85%EF%BC%8C%E8%BF%98%E5%8F%AF%E8%BF%99%E6%A0%B7%E5%81%9A" rel="nofollow">2、如果mongodb数据库路径太长，要输入很久，还可这样做</a></p> 
<p id="3%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A" rel="nofollow">3、注意事项：</a></p> 
<p id="%E5%8D%81%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%A4%8D%E5%88%B6%E9%9B%86-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%A4%8D%E5%88%B6%E9%9B%86" rel="nofollow">十、MongoDB数据库-复制集</a></p> 
<p id="1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9F-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9F" rel="nofollow">1、为什么要用复制集？</a></p> 
<p id="2%E3%80%81%E5%9C%A8windows%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%90%AD%E5%BB%BAMongoDB%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%9C%A8windows%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%90%AD%E5%BB%BAMongoDB%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9A" rel="nofollow">2、在windows系统下搭建MongoDB复制集：</a></p> 
<p id="3%E3%80%81%E5%90%AF%E5%8A%A8%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E5%90%AF%E5%8A%A8%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9" rel="nofollow">3、启动复制集节点</a></p> 
<p id="4%E3%80%81%E5%85%B3%E8%81%94%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E5%85%B3%E8%81%94%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9" rel="nofollow">4、关联复制集节点</a></p> 
<p id="5%E3%80%81%E6%9F%A5%E7%9C%8B%E4%BB%8E%E8%8A%82%E7%82%B9%E6%98%AF%E5%90%A6%E6%AD%A3%E5%B8%B8%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E6%9F%A5%E7%9C%8B%E4%BB%8E%E8%8A%82%E7%82%B9%E6%98%AF%E5%90%A6%E6%AD%A3%E5%B8%B8%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE" rel="nofollow">5、查看从节点是否正常同步数据</a></p> 
<p id="%E5%8D%81%E4%B8%80%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E4%B8%80%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1" rel="nofollow">十一、MongoDB数据库-模型设计</a></p> 
<p id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%9F-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%9F" rel="nofollow">1、什么是数据模型？</a></p> 
<p id="2%E3%80%81%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A" rel="nofollow">2、数据模型的三要素：</a></p> 
<p id="3%E3%80%81%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E6%89%8D%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%E6%96%B9%E5%BC%8F(%E6%8B%86%E5%88%86%E9%9B%86%E5%90%88(%E8%A1%A8))%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E6%89%8D%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%E6%96%B9%E5%BC%8F%28%E6%8B%86%E5%88%86%E9%9B%86%E5%90%88%28%E8%A1%A8%29%29%EF%BC%9A" rel="nofollow">3、什么时候才应该使用引用方式(拆分集合(表))：</a></p> 
<p id="4%E3%80%81MongoDB%20%E5%BC%95%E7%94%A8%E6%98%AF%E6%9C%89%E9%99%90%E5%88%B6%E7%9A%84%EF%BC%9A%C2%A0-toc" style="margin-left:80px;"><a href="#4%E3%80%81MongoDB%20%E5%BC%95%E7%94%A8%E6%98%AF%E6%9C%89%E9%99%90%E5%88%B6%E7%9A%84%EF%BC%9A%C2%A0" rel="nofollow">4、MongoDB 引用是有限制的： </a></p> 
<p id="5%E3%80%81MongoDB%20%E6%96%87%E6%A1%A3%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%89%E4%B8%AA%E8%AF%AF%E5%8C%BA%20%EF%BC%9A-toc" style="margin-left:80px;"><a href="#5%E3%80%81MongoDB%20%E6%96%87%E6%A1%A3%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%89%E4%B8%AA%E8%AF%AF%E5%8C%BA%20%EF%BC%9A" rel="nofollow">5、MongoDB 文档模型设计的三个误区 ：</a></p> 
<p id="%E5%8D%81%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9A%EF%BC%88%E5%92%8C%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%B0%B1%E6%98%AF%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5%E3%80%81%E6%94%B9%EF%BC%89-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9A%EF%BC%88%E5%92%8C%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%B0%B1%E6%98%AF%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5%E3%80%81%E6%94%B9%EF%BC%89" rel="nofollow">十二、MongoDB数据的操作：（和关系型数据库一样，就是增、删、查、改）</a></p> 
<p id="%C2%A01%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9Ainsert()%E3%80%81insertOne()%E3%80%81insertMany()-toc" style="margin-left:80px;"><a href="#%C2%A01%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9Ainsert%28%29%E3%80%81insertOne%28%29%E3%80%81insertMany%28%29" rel="nofollow"> 1、插入数据：insert()、insertOne()、insertMany()</a></p> 
<p id="2%E3%80%81%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%EF%BC%9Afind()%E3%80%81findOne()-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%EF%BC%9Afind%28%29%E3%80%81findOne%28%29" rel="nofollow">2、查找数据：find()、findOne()</a></p> 
<p id="3%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate()-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate%28%29" rel="nofollow">3、修改数据：update()</a></p> 
<p id="4%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9Aremove()%C2%A0-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9Aremove%28%29%C2%A0" rel="nofollow">4、删除数据：remove() </a></p> 
<p id="5%E3%80%81%E5%88%A0%E9%99%A4%E9%9B%86%E5%90%88%EF%BC%9Adrop()-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E5%88%A0%E9%99%A4%E9%9B%86%E5%90%88%EF%BC%9Adrop%28%29" rel="nofollow">5、删除集合：drop()</a></p> 
<p id="6%E3%80%81%E7%B4%A2%E5%BC%95%EF%BC%9A-toc" style="margin-left:80px;"><a href="#6%E3%80%81%E7%B4%A2%E5%BC%95%EF%BC%9A" rel="nofollow">6、索引：</a></p> 
<p id="%E5%8D%81%E4%B8%89%E3%80%81%E5%9C%A8Node.js%E4%B8%AD%E4%BD%BF%E7%94%A8MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:0px;"><a href="#%E5%8D%81%E4%B8%89%E3%80%81%E5%9C%A8Node.js%E4%B8%AD%E4%BD%BF%E7%94%A8MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">十三、在Node.js中使用MongoDB数据库</a></p> 
<p id="1%E3%80%81Node.js%E6%A1%86%E6%9E%B6%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1%E3%80%81Node.js%E6%A1%86%E6%9E%B6%EF%BC%9A" rel="nofollow">1、Node.js框架：</a></p> 
<p id="2%E3%80%81MongbDB%E9%A9%B1%E5%8A%A8%EF%BC%9A-toc" style="margin-left:80px;"><a href="#2%E3%80%81MongbDB%E9%A9%B1%E5%8A%A8%EF%BC%9A" rel="nofollow">2、MongbDB驱动：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>一、关于MongoDB<strong>数据库</strong>：</h2> 
<p><a href="https://www.mongodb.com/" rel="nofollow" title="MongoDB 官网https://www.mongodb.com">MongoDB 官网https://www.mongodb.com</a></p> 
<p>MongoDB 是由C++语言编写的，是一个基于分布式文件存储的<strong>开源数据库系统</strong>。</p> 
<p>MongoDB 可在<strong>高负载</strong>的情况下，添加更多的节点，可以<strong>保证服务器性能</strong>。</p> 
<p>MongoDB 可为Web应用提供<strong>可扩展</strong>的<strong>高性能</strong>数据存储解决方案。</p> 
<p>MongoDB 将数据存储在灵活的<strong>json</strong>文档中，这意味着可以直接得到从<strong>文档到文档</strong>的数据、结构等。</p> 
<p>MongoDB <strong>是免费使用的（MongoDB分<span style="color:#86ca5e;"> </span>社区版<span style="color:#86ca5e;">[在所有环境下都免费]</span> 和 企业版<span style="color:#f33b45;">[在开发环境免费，生产环境收费]</span>两个版本）</strong>。</p> 
<p>MongoDB 数据库具有可<strong>伸缩性</strong>和<strong>灵活性</strong>，可帮助你<strong>快速查询</strong>和<strong>索引</strong>你需要数据。</p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E8%BD%BD%EF%BC%9A">二、MongoDB数据库下载：</h2> 
<h4 id="1%E3%80%81%E5%AE%98%E6%96%B9%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9A%20Try%20MongoDB%20Atlas%20Products%20%7C%20MongoDB">1、官方下载地址： <a href="https://www.mongodb.com/try/download" rel="nofollow" title="Try MongoDB Atlas Products | MongoDB">Try MongoDB Atlas Products | MongoDB</a></h4> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/33/2e/9hiJPTFW_o.png">​</p> 
</div> 
<p></p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/07/94/ksHqOSX4_o.png">​</p> 
</div> 
<p></p> 
<p>在这里根据自己的需要，选择下载对应系统的MongoDB数据库版本（<span style="color:#f33b45;"><strong>注</strong>：在MongoDB版本中，是偶数：如3.2.x、3.4.x、3.6.x表示正式版【可用于生产环境】，是奇数：3.1.x、3.3.x、3.5.x表示开发版，而OS系统版本：自动给你推荐你当前适合的MongoDB数据库版本）</span>。</p> 
<p>然后点击<span style="color:#222222;"> Download按扭后</span>，进入下载页面：</p> 
<p></p> 
<div> 
 <p><img alt="" class="has" src="https://images2.imgbox.com/22/f2/57wYhfcP_o.png">​</p> 
</div> 
<p><strong><span style="color:#ff0000;">注：进入上面这个下载页面后，会自动开始下载！！！（如没反应就F5 刷新一下当前页面，由于是外网，所以就耐心点吧！）。</span></strong></p> 
<h4 id="2%E3%80%81%E5%85%B6%E4%BB%96%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%EF%BC%9A%E9%99%A4%E4%BA%86%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%E4%BB%A5%E5%A4%96%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AF%95%E8%AF%95%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5%EF%BC%81%EF%BC%81"><span style="color:#3399ea;"><strong>2、其他下载方式：除了上面的下载方式以外，也可以试试下面的下载链接！！</strong></span></h4> 
<ol><li><strong>MongoDB Windows系统64位下载地址：</strong><a href="http://www.mongodb.org/dl/win32/x86_64" rel="nofollow" title="Try MongoDB Atlas Products | MongoDB">Try MongoDB Atlas Products | MongoDB</a></li><li><strong>MongoDB Windows系统32位下载地址：</strong><a href="http://www.mongodb.org/dl/win32/i386" rel="nofollow" title="Try MongoDB Atlas Products | MongoDB">Try MongoDB Atlas Products | MongoDB</a></li><li><strong>MongoDB 全部版本下载地址：</strong><a href="http://www.mongodb.org/dl/win32" rel="nofollow" title="Try MongoDB Atlas Products | MongoDB">Try MongoDB Atlas Products | MongoDB</a></li></ol> 
<p></p> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85%EF%BC%9A">三、MongoDB数据库的安装：</h2> 
<p>MongoDB的安装非常简单，在下载完成后，接直接双击下载好的MongoDB安装包，进入MongoDB安装界面，点击Next下一步、同意条款、选择安装路径 和 日志路径、勾选是否安装MongoDB Compass（MongoDB数据库图形管理工具，类似MySQL的Navicat ），其它的步骤一直点下一步直到完成安装就OK啦。</p> 
<p>点击开始安装：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/99/07/BGpVPZen_o.png"></p> 
<p></p> 
<p>选择MongoDB安装方式：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/37/6b/zcunK8Ms_o.png"></p> 
<p></p> 
<p>选择MongoDB安装路径： </p> 
<p><strong><span style="color:#f33b45;">注意：</span>MongoDB 3.x系列版本的数据库，在安装成功后，每次在使用前都需要手动启动MongoDB服务！</strong></p> 
<pre><code>启动命令：
mongod --dbpath 数据库路径

如：
mongodb --dbapth D:/database/mydb</code></pre> 
<p><strong><span style="color:#3399ea;">现在：</span>MongoDB 4.x系列版本的数据库，在安装时默认安装(选中了 Install MongoD as a Service)服务 ，就是在开机时自动启动 MongoDB 服务，然后就可以直接使用啦！</strong></p> 
<pre><code>// 在Windows环境下：

1、运行 Win + R

2、输入 services.msc 命令便可以查看到 MongoDB Server (MongoDB) 服务啦！！</code></pre> 
<p><strong>MongoDB 4.x安装具体如下所示：</strong></p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/62/0c/KAUvzt1B_o.png">​</p> 
</div> 
<p></p> 
<p>选择MongoDB数据库图形化界面管理工具： </p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/ee/a8/BKH3MsVF_o.png">​</p> 
</div> 
<p></p> 
<p>然后就一直下一步、Next 直到 Flnish 安装完毕，到此就MongoDB就安装结束啦！</p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/2d/a2/gvWNIm5U_o.png">​</p> 
</div> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AF%E8%A7%86(%E5%9B%BE%E5%BD%A2)%E5%8C%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%9A">四、MongoDB数据库可视(图形)化管理工具：</h2> 
<h4 id="1%E3%80%81%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%EF%BC%9AMongoDB%20Compass%20Download%20%7C%20MongoDB">1、下载地址：<a href="https://www.mongodb.com/try/download/compass" rel="nofollow" title="MongoDB Compass Download | MongoDB">MongoDB Compass Download | MongoDB</a></h4> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/fa/01/i6ojYkcG_o.png">​</p> 
</div> 
<h4 id="2%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A%E5%9C%A8MongoDB%20Compass%E9%80%89%E6%8B%A9%E4%B8%8B%E8%BD%BD%E6%97%B6%EF%BC%8C%E5%8F%AF%E9%80%89%E6%8B%A9%E5%AF%B9%E5%BA%94%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%EF%BC%88%E8%BF%99%E9%87%8C%E4%BB%A5windows%E7%B3%BB%E7%BB%9F%E4%B8%BA%E4%BE%8B%EF%BC%89%EF%BC%9A"><strong>2、注意事项：在MongoDB Compass选择下载时，可选择对应的系统版本（这里以windows系统为例）：</strong></h4> 
<ul><li>zip绿色版(免安装，解压后就可以用)</li><li>msi安装版(Windows Installer的数据包，需要一步步安装到本地)</li><li>exe安装版(可执行文件，需要一步步安装到本地)</li></ul> 
<p></p> 
<p>下面是Msi安装版，安装界面：</p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/be/7e/kRBy2JrG_o.png">​</p> 
</div> 
<p>MongoDB Compass的安装没有什么好配置的，直接点击 Next 至到 Flnish 就安装结束啦！</p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/09/b2/fxTSgnEn_o.png">​</p> 
</div> 
<p>MongoDB数据库的图形化的数据库管理工具，可以在这里面对数据进行很友好的操作：如查看、编辑、导入、导出等相应的。</p> 
<div> 
 <p><img alt="" class="has" src="https://images2.imgbox.com/cd/0c/2om1f4zq_o.png">​</p> 
</div> 
<p></p> 
<p></p> 
<h2 id="%E4%BA%94%E3%80%81%E6%96%87%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%A7%A3%E9%87%8A%EF%BC%9A">五、文件功能解释：</h2> 
<h4 id="1%E3%80%81MongoDB%20v3.6%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E7%9A%84%E6%96%87%E4%BB%B6">1、MongoDB v3.6版安装目录的文件</h4> 
<div> 
 <pre class="has"><code class="language-javascript">MongoDB v3.6版 安装目录：C:\Program Files\MongoDB\Server\3.6\bin</code></pre> 
</div> 
<p><img alt="" class="has" height="541" src="https://images2.imgbox.com/f6/3a/hNpMv6HH_o.jpg" width="907"></p> 
<h4 id="2%E3%80%81%20MongoDB%20v4.4%E7%89%88%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6">2、 MongoDB v4.4版安装目录文件</h4> 
<div> 
 <pre class="has"><code>MongoDB v4.4版 安装目录：C:\Program Files\MongoDB\Server\4.4\bin</code></pre> 
</div> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/6e/df/rRoRhzI0_o.png">​</p> 
</div> 
<p></p> 
<h2 id="%E5%85%AD%E3%80%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%EF%BC%9A">六、环境变量配置：</h2> 
<h4 id="1%E3%80%81%E9%85%8D%E7%BD%AEMongoDB%E5%85%A8%E5%B1%80%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%88%E5%B0%B1%E6%98%AF%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%AD%E4%BB%BB%E4%BD%95%E5%9C%B0%E6%96%B9%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%90%88%E7%94%A8mongo%E3%80%81mongod%E7%AD%89%E5%91%BD%E4%BB%A4%EF%BC%89%EF%BC%81">1、配置MongoDB全局环境变量（就是在电脑中任何地方都可以合用mongo、mongod等命令）！</h4> 
<p><img alt="" class="has" src="https://images2.imgbox.com/de/8f/0uSnNG9v_o.jpg"></p> 
<p><span style="color:#f33b45;"><strong>注：配置完成后，重启电脑， 环境变量才生效哦！</strong></span>重启后，我们就能在系统的任何位置，使用mongo命令了：</p> 
<p>如：查看MongoDB数据库存的版本：</p> 
<pre><code>mongod -version

// 该命令会显示MongoDB数据库的相关信息，如果能显示信息，就表示已安装成功了！！！</code></pre> 
<p></p> 
<h4 id="2%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E8%BF%B0%E8%AF%AD%EF%BC%9A"><strong>2、MongoDB数据库中的常用述语：</strong></h4> 
<p>1、在MongoDB中，数据库是以<strong>文件形式存储</strong>的，数据库目录中存储了相应的数据库！</p> 
<p>2、在MongoDB中，把传统数据库中的 "<strong>表"</strong> 叫作：Collections "<strong>集合"</strong>！</p> 
<p>       3、在MongoDB中，向集合存储数据时，直接以<strong>JSON格式</strong>，进行存取操作！</p> 
<p>       4、在MongoDB中，集合中的数据叫作：Documents "<strong>文档"</strong>！</p> 
<p></p> 
<h4 id="3%E3%80%81%E8%BF%9B%E5%85%A5MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%AF%AD%E6%B3%95%E7%8E%AF%E5%A2%83%EF%BC%9A"><strong>3、进入MongoDB数据库的语法环境：</strong></h4> 
<p>在命令窗口中，输入 mongo 回车， 就进入了MongoDB数据库的语法环境了！</p> 
<p><strong>注：安装好MongoDB数据库后，默认是【非授权模式】(也就是不需要任何权限验证，直接在命令窗口中输入 mongo 回车，就连接上了)。</strong></p> 
<p><strong>MongoDB默认IP 和 端口是：mongodb://127.0.0.1:27017 或 mongodb://localhost:27017</strong></p> 
<div> 
 <p><img alt="" class="has" src="https://images2.imgbox.com/fe/5c/gavQholD_o.jpg">​</p> 
</div> 
<p></p> 
<h2 id="%E4%B8%83%E3%80%81MongoDB%E8%B4%A6%E6%88%B7%E6%9D%83%E9%99%90%E9%85%8D%E7%BD%AE%EF%BC%9A">七、MongoDB账户权限配置：</h2> 
<p><strong><span style="color:#38d8f0;">由于：</span>安装好MongoDB数据库后，默认是<span style="color:#f33b45;">【非授权模式】</span>(也就是不需要任何权限验证、不需要验证账户，直接在命令窗口中输入 mongo 回车，就可以进行相关操作)，这是非常不安全的(尤其是在生产环境中，当然如果是自己玩玩的话就无所谓了)！！</strong></p> 
<p><strong><span style="color:#956fe7;">所以：</span>为了数据的安全，我们都应该去配置数据库的访问权限 和 修改默认（mongodb://127.0.0.1:27017）连接绑定IP 和 端口号！！</strong></p> 
<h4 id="1%E3%80%81%E5%88%9B%E5%BB%BAMongoDB%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%EF%BC%9A">1、创建MongoDB管理用户：</h4> 
<ul><li><strong>创建超级管理账户：</strong></li></ul> 
<pre><code class="language-bash">#1、进入mongo语法环境
mongo 127.0.0.1:27017


#2、切换到admin数据库（默认就存在的管理数据库）
use admin


#3、添加管理员用户（用户名root 和 密码xxx 是可以自定义的 【但是要记牢哦！！】）
db.createUser({
    user："root",
    pwd："xxxxxx",
    roles: ["root"]    // 角色 root 是超级管理用户权限
}) </code></pre> 
<ul><li><strong> 创建普通管理账户：</strong></li></ul> 
<pre><code class="language-bash">#1、进入mongo语法环境
mongo 127.0.0.1:27017


#1.5、管理登录认证
db.auth("root", "xxxxxx")


#2、切换到mydbs数据库（自定义创建的数据库）
use mydbs


注：在创建用户之前，请用：db 命令，查看当前是在哪个数据库，因为添加新的用户只作用于当前数据库（这里就是作用于mydbs数据库）！！


# 创建用户
db.createUser({
    user:"username",       // 用户名
    pwd:"abc666",          // 密码
    roles:[                // 角色
        {
            role:"dbOwner", // 角色权限：dbOwner是具有该数据库的全部权限
            db:"mydbs"     // 要管理的数据库
        },
        {role:"dbOwner",db:"mydbs2"}  // 如果要管理多个数据库，可以在添加多个
    ]
})</code></pre> 
<p></p> 
<p> </p> 
<ul><li><strong>MongoDB数据库账户配置常用命令：</strong></li></ul> 
<pre><code class="language-bash"># 查看当前数据库中的所有用户
show users
或：db.getUsers()
或：db.system.users.find().pretty()  // 格式化数据结构


# 登录认证
db.auth("admin", "123456")


# 修改用户密码
db.changeUserPassword("username","abc666")

或

db.updateUser( "username", {
    pwd: "abc666"
})



# 删除用户
db.dropUser("username")  // username 是要删除的用户名

</code></pre> 
<ul><li><strong>MongoDB数据库中的内置角色：</strong></li></ul> 
<pre><code>(1)、【数据库用户角色】针对每一个数据库进行控制。
read：提供了读取所有非系统集合，以及系统集合中的system.indexes, system.js, system.namespaces
readWrite：包含了所有read权限，以及修改所有非系统集合的和系统集合中的system.js的权限.

 
(2)、【数据库管理角色】每一个数据库包含了下面的数据库管理角色。
dbOwner：该数据库的所有者，具有该数据库的全部权限。
dbAdmin：一些数据库对象的管理操作，但是没有数据库的读写权限。（参考：http://docs.mongodb.org/manual/reference/built-in-roles/#dbAdmin）
userAdmin：为当前用户创建、修改用户和角色。拥有userAdmin权限的用户可以将该数据库的任意权限赋予任意的用户。

 
(3)、【集群管理权限】admin数据库包含了下面的角色，用户管理整个系统，而非单个数据库。这些权限包含了复制集和共享集群的管理函数。
clusterAdmin：提供了最大的集群管理功能。相当于clusterManager, clusterMonitor, and hostManager和dropDatabase的权限组合。
clusterManager：提供了集群和复制集管理和监控操作。拥有该权限的用户可以操作config和local数据库（即分片和复制功能）
clusterMonitor：仅仅监控集群和复制集。
hostManager：提供了监控和管理服务器的权限，包括shutdown节点，logrotate, repairDatabase等。
备份恢复权限：admin数据库中包含了备份恢复数据的角色。包括backup、restore等等。

 
(4)、【所有数据库角色】
admin：数据库提供了一个mongod实例中所有数据库的权限角色：
readAnyDatabase：具有read每一个数据库权限。但是不包括应用到集群中的数据库。
readWriteAnyDatabase：具有readWrite每一个数据库权限。但是不包括应用到集群中的数据库。
userAdminAnyDatabase：具有userAdmin每一个数据库权限，但是不包括应用到集群中的数据库。
dbAdminAnyDatabase：提供了dbAdmin每一个数据库权限，但是不包括应用到集群中的数据库。


(5)、【超级管理员权限】
root: dbadmin到admin数据库、useradmin到admin数据库以及UserAdminAnyDatabase。但它不具有备份恢复、直接操作system.*集合的权限，但是拥有root权限的超级用户可以自己给自己赋予这些权限。


(6)、【备份恢复角色】
backup：数据库备份
restore：数据库恢复


(7)、【内部角色】
__system</code></pre> 
<p></p> 
<h4 id="2%E3%80%81%E4%BF%AE%E6%94%B9MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%EF%BC%9A">2、修改MongoDB数据库配置：</h4> 
<p>MongoDB数据库的相关配置信息，是存储在mongodb安装目录bin目录中的<strong>mongod.cfg文件</strong>中，</p> 
<p><strong>注：在修改mongod.cfg文件之前，请记得要先备份一份哦，以防万一！！</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/fc/39/sslj7fEk_o.jpg"></p> 
<p>如上图所示，开启数据库访问权限验证：<strong>修改完成后，记得要保存哦！！</strong></p> 
<p><strong>注：前面代有 # 的配置项，表示被注释(无效)状态的）</strong></p> 
<pre><code class="language-bash"># 开启数据库访问权限验证(注意：换行、缩进格式哦！！)
security: 
  authorization: enabled # disabled 关闭权限验证，enabled 开启权限验证</code></pre> 
<h4 id="3%E3%80%81%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8MongoDB%E6%9C%8D%E5%8A%A1">3、重新启动MongoDB服务</h4> 
<p><strong>注：只要修改了mongod.cfg文件，一定要重新启mongodb服务后才会生效哦！！</strong></p> 
<p>打开服务步骤：</p> 
<p>此电脑(计算机) 右键 -&gt; 管理 -&gt; 服务和应用程序 -&gt; 服务 -&gt; MongoDB Server (MongoDB) -&gt; 右键 点击 重新启动(E）或 点击左侧的（<span style="color:#3399ea;"><u>重启动</u></span>此服务）</p> 
<p>或者 Win + R 运行 services.msc 也能打开如下 服务界面，找到 MongoDB Server (MongoDB) -&gt; 右键 点击 重新启动(E）或 点击左侧的（<span style="color:#3399ea;"><u>重启动</u></span>此服务）</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/16/e0/pQEZtYAf_o.jpg"></p> 
<h4 id="4%E3%80%81%E7%94%A8%E5%88%9A%E6%89%8D%E5%88%9B%E5%BB%BA%E5%A5%BD%E7%9A%84%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E8%B4%A6%E6%88%B7%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A">4、用刚才创建好的超级管理账户连接数据库：</h4> 
<p><strong>注：重新启动mongodb服务后，用一个新的命令窗口来做操作：通过如下图所示，在配置账户权限后，直接在命令窗口中用 mongo 命令，运行相关的操作是没有响应的，只有在正确的输入账户和密码后才进行相关操作！！</strong></p> 
<p>连接本地MongoDB数据库：（不用指定 绑定IP 和 端口号）</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5f/5e/S7GDwYYu_o.jpg"></p> 
<p>连接运程MongoDB数据库：（必须指定 绑定IP 和 端口号）</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/51/d4/IA3hq7MJ_o.jpg"></p> 
<p></p> 
<h4 id="5%E3%80%81%E7%BB%99%E6%8C%87%E5%AE%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E9%85%8D%E7%BD%AE%E8%B4%A6%E6%88%B7%EF%BC%9A">5、给指定的数据库存配置账户：</h4> 
<p>这里以 myweb 数据库为例，给myweb配置一个账户，注：各个不同的数据库之间，可以创建有一个 或 多个账户，各数据库之间账户、密码都是独立的，不能互相访问！</p> 
<pre><code class="language-bash"># 给myweb数据库 创建一个名为：mupiao 的账户，角色为：dbOwner
db.createUser({
    user:"mupiao", 
    pwd: "123456", 
    roles: [{
        role: "dbOwner", 
        db: "myweb"
    }]
})</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/57/77/S4qs1qDj_o.jpg"></p> 
<h4 id="6%E3%80%81%E8%BF%9E%E6%8E%A5%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93">6、连接指定的MongoDB数据库</h4> 
<p>这里就用上面在 myweb数据库中创建的账户来演示 连接过程！</p> 
<p><strong>在命令窗口中连接：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ae/59/VTQriZWW_o.jpg"></p> 
<p><strong>在MongoDBCompass 可视化工具中连接：</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/34/f7/sbzYGpon_o.jpg"></p> 
<p></p> 
<h2 id="%E5%85%AB%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A"><strong>八、MongoDB数据库常用命令：</strong></h2> 
<p><span style="color:#3399ea;"><strong>上面就是MongoDB数据库的语法环境了，现在我们可以在命令窗口中执行一些MongoDB数据库的命令、语法啦！下面例出了一些常用的MongoDB数据库操作命令！</strong></span></p> 
<p></p> 
<h4 id="1%E3%80%81%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><strong>1、查看所有数据库：</strong></h4> 
<pre><code class="language-sql">show dbs</code></pre> 
<p></p> 
<h4 id="2%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><strong>2、查看当前所在数据库：</strong></h4> 
<div> 
 <pre class="has"><code class="language-sql">db</code></pre> 
</div> 
<p></p> 
<h4 id="3%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E6%89%80%E6%9C%89%E9%9B%86%E5%90%88%EF%BC%9A"><strong>3、查看当前所在数据库中所有集合：</strong></h4> 
<pre><code>show collections

// 查看user集合(用户表)中的所有记录
db.user.find().pretty()

// 加上.pretty() 让显示结果更友好明了！</code></pre> 
<p></p> 
<h4 id="4%E3%80%81%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%88%E5%90%8D%E7%A7%B0%E3%80%81%E6%96%87%E6%A1%A3%E4%B8%AA%E6%95%B0%E3%80%81%E8%A7%86%E5%9B%BE%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%A4%A7%E5%B0%8F%E7%AD%89%EF%BC%89%EF%BC%9A"><strong>4、查看当前数据库相关信息（名称、文档个数、视图、索引、大小等）：</strong></h4> 
<div> 
 <pre class="has"><code class="language-sql">db.stats()</code></pre> 
</div> 
<h4 id="5%E3%80%81%E5%88%9B%E5%BB%BA%E3%80%81%E6%89%93%E5%BC%80%E3%80%81%E5%88%87%E6%8D%A2%20%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A"><br><strong>5、创建、打开、切换 数据库：</strong></h4> 
<pre><code class="language-sql">use 数据库名字

// 如：use mydb</code></pre> 
<p></p> 
<p><span style="color:#f33b45;"><strong>use 这个命令很特殊：</strong></span></p> 
<p><strong><span style="color:#3399ea;">use命令具有打开、 切换、 创建数据库的功能:</span><span style="color:#f33b45;"> </span></strong></p> 
<ol><li><strong>如果打开的这个数据库</strong><span style="color:#f33b45;"><strong>存在就是打开这个数据库</strong></span><strong>。</strong></li><li><strong>如果打开的是一个</strong><span style="color:#f33b45;"><strong>不存在的数据库</strong></span><strong>(</strong><span style="color:#86ca5e;"><strong>没有这个数据库名字</strong></span><strong>)，那么就会</strong><span style="color:#f33b45;"><strong>创建一个同名的数据库。</strong></span></li></ol> 
<p><span style="color:#f33b45;"><strong>注：</strong></span>在MongoDB中创建一个新的数据库时，需要向数据库中创建一个集合(collections【就像关系数据库中的表】)，并且插入一条数据，这个数据库才能创建成功！！</p> 
<p>如：往集合中插入一条数据。可以不用先创建集合，直接往里添加数据即可：</p> 
<div> 
 <pre class="has"><code>db.user.insert({"name": "xiaoming"})     // user 就是集合(表)名

或

db.user.save({name:"沐枫", job:"Web前端"})  // 效果和上面一样，都是添加数据</code></pre> 
</div> 
<p>当命令执行后，数据库系统发现student是一个数据集合不存的，就自动创建一个集合，并随着数据的插入，数据库和集合也就真正的创建成功了。</p> 
<h4 id="6%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E6%B3%A8%EF%BC%9A%E8%BF%99%E9%87%8C%E6%98%AF%E5%88%A0%E9%99%A4%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%89"><br><strong>6、删除数据库（注：这里是删除当前所在的数据库）</strong></h4> 
<p><strong><span style="color:#f33b45;">注：这个命令一定要慎用，一旦该命令一执行一下当前所在数据库中的所有数据都玩完了！！！，除非您想删库跑路，哈哈！！</span></strong></p> 
<div> 
 <pre class="has"><code class="language-sql">db.dropDatabase()</code></pre> 
</div> 
<p></p> 
<h4 id="7%E3%80%81%E6%B8%85%E5%B1%8F%EF%BC%88%E8%BF%99%E6%98%AFDos%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%BD%93%E7%AA%97%E5%8F%A3%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9%E5%A4%AA%E5%A4%9A%E6%97%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%AF%A5%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%B8%85%E9%99%A4%E5%B1%8F%E5%B9%95%E5%86%85%E5%AE%B9%EF%BC%8C%E4%BF%9D%E6%8C%81%E7%95%8C%E9%9D%A2%E6%B8%85%E6%99%B0%EF%BC%89%EF%BC%9A"><strong>7、清屏（这是Dos的命令，当窗口中的内容太多时，可以使用该命令，清除屏幕内容，保持界面清晰）：</strong></h4> 
<div> 
 <pre class="has"><code class="language-sql">cls</code></pre> 
</div> 
<p></p> 
<h4 id="8%E3%80%81MongoDB%C2%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%EF%BC%8C%E9%9B%86%E5%90%88%E5%AF%BC%E5%85%A5%E4%B8%8E%E5%AF%BC%E5%87%BA%EF%BC%9A"><strong>8、</strong>MongoDB 数据库备份与恢复，集合导入与导出：</h4> 
<p>MongoDB数据库的备份与恢复可直接在命令行工具中完成：</p> 
<p><span style="color:#3399ea;"><strong>命令说明：</strong></span></p> 
<ul><li><strong>mongodump ：     //</strong>数据库备份</li><li><strong>mongorestore：    //</strong>数据库恢复(还原备份)</li><li><strong>mongoimport：     //</strong>没集合导入</li><li><strong>mongoexport：     //</strong>集合导出</li></ul> 
<p><span style="color:#3399ea;"><strong>参数说明：</strong></span></p> 
<ul><li><strong>-h 数据库IP地址： //</strong>如果是当前本机数据库，可以去掉-h</li><li><strong>--port 端口号：     //</strong>如果是默认端口，可以去掉--port</li><li><strong>-u 用户名：           //</strong>如果没有用户，可以不用指定-u</li><li><strong>-p 密码：              //</strong>如果没有密码，可以不用指定-p</li><li><strong>-d 或 -db 数据库名称：   //</strong>如果不指定则导出所有数据库</li><li><strong>-c 集合名称</strong></li><li><strong>-o 文件存在路径 </strong></li><li><span style="color:#f33b45;"><strong>注：每个参数前后是有空格的哦！！</strong></span></li></ul> 
<p>--authenticationDatabase  // 制定权限认证数据库，一般为 admin</p> 
<p>--drop     // 清空集合原有数据 <span style="color:#fe2c24;"><strong>慎用！！</strong></span></p> 
<p>--file xxx.json   // 指定文件</p> 
<p><strong><span style="color:#f33b45;">注：除了用命令进行导入导出以外，还可以用</span><span style="color:#f33b45;"><a href="https://www.mongodb.com/try/download/compass" rel="nofollow" title="MongoDB Compass">MongoDB Compass</a>(数据库图形管理工具)进行导入导出等操作！！</span></strong></p> 
<p>使用 <strong>mongodump </strong>命令来<strong>备份</strong> MongoDB 数据。该命令可以导出所有数据到指定目录中。mongodump 命令可以通过参数指定导出的数据量级转存的服务器。</p> 
<pre><code class="language-bash"># 语法格式：
mongodump -h 数据库IP地址 --port 端口号 -db 数据库名称 -u 用户名 -p 用户密码 -o 数据库备份输出的路径

# 例如，将名为mydbs的mongodb数据库中所有的集合数据 备份到./当前目录(就是执行这条件命令的目录)中名为back的文件夹中
mongodump -h localhost --port 27017 -u xxx -p xxx -db mydbs  -o ./back</code></pre> 
<p>使用<strong>mongorestore </strong>命令来<strong>恢复</strong>备份的数据。 </p> 
<pre><code class="language-bash"># 语法格式（参数配置和上面一样）：
mongorestore -h 数据库IP地址 --port 端口号 -u 用户名 -p 用户密码 -db 数据库名称 --authenticationDatabase admin --drop 要还原数据库存储路径【注：如在当前目录前面不用加"/"】

# 实例代码：
mongorestore -h 127.0.0.1 --port 27017 -u xxx -p xxx --db mydbs --authenticationDatabase admin --drop back/mongodump

# --authenticationDatabase admin 当提示Authentication failed 权限不足，需要增加该参数
# --drop 参数会清空原有的数据，请慎用！！！</code></pre> 
<p></p> 
<p><strong>将JSON文件形式将数据导入到数据库 指定的集合中：</strong></p> 
<p>项目开发有时候需要一些测试数据，如一条条的insert在繁琐了。所以，我们可以在代码编辑器中以json格式编辑好要插入的数据，以.json文件格式保存，然后导入到数据库中：</p> 
<p>下面就是将mydata.json文件，导入到test数据库的student集合中。</p> 
<pre><code class="language-javascript">mongoimport -d mydb -c user --drop --file D:\db\mydata.json
</code></pre> 
<p></p> 
<p><strong>以JSON文件形式将数据库 指定的集合导出：</strong></p> 
<pre><code>mongoexport -d mydb -c user -o D:\db\mydata.json</code></pre> 
<p></p> 
<h4 id="9%E3%80%81%E6%93%8D%E4%BD%9C%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%EF%BC%88%E5%88%97%E5%87%BAMongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95%EF%BC%89"><strong>9、操作帮助命令（列出MongoDB数据库所有的操作方法）</strong></h4> 
<div> 
 <pre class="has"><code class="language-sql">db.help()</code></pre> 
</div> 
<div> 
 <pre class="has"><code class="language-sql">DB methods:
        db.adminCommand(nameOrDocument) - switches to 'admin' db, and runs command [just calls db.runCommand(...)]
        db.aggregate([pipeline], {options}) - performs a collectionless aggregation on this database; returns a cursor
        db.auth(username, password)
        db.cloneDatabase(fromhost)
        db.commandHelp(name) returns the help for the command
        db.copyDatabase(fromdb, todb, fromhost)
        db.createCollection(name, {size: ..., capped: ..., max: ...})
        db.createView(name, viewOn, [{$operator: {...}}, ...], {viewOptions})
        db.createUser(userDocument)
        db.currentOp() displays currently executing operations in the db
        db.dropDatabase()
        db.eval() - deprecated
        db.fsyncLock() flush data to disk and lock server for backups
        db.fsyncUnlock() unlocks server following a db.fsyncLock()
        db.getCollection(cname) same as db['cname'] or db.cname
        db.getCollectionInfos([filter]) - returns a list that contains the names and options of the db's collections
        db.getCollectionNames()
        db.getLastError() - just returns the err msg string
        db.getLastErrorObj() - return full status object
        db.getLogComponents()
        db.getMongo() get the server connection object
        db.getMongo().setSlaveOk() allow queries on a replication slave server
        db.getName()
        db.getPrevError()
        db.getProfilingLevel() - deprecated
        db.getProfilingStatus() - returns if profiling is on and slow threshold
        db.getReplicationInfo()
        db.getSiblingDB(name) get the db at the same server as this one
        db.getWriteConcern() - returns the write concern used for any operations on this db, inherited from server object if set
        db.hostInfo() get details about the server's host
        db.isMaster() check replica primary status
        db.killOp(opid) kills the current operation in the db
        db.listCommands() lists all the db commands
        db.loadServerScripts() loads all the scripts in db.system.js
        db.logout()
        db.printCollectionStats()
        db.printReplicationInfo()
        db.printShardingStatus()
        db.printSlaveReplicationInfo()
        db.dropUser(username)
        db.repairDatabase()
        db.resetError()
        db.runCommand(cmdObj) run a database command.  if cmdObj is a string, turns it into {cmdObj: 1}
        db.serverStatus()
        db.setLogLevel(level,&lt;component&gt;)
        db.setProfilingLevel(level,slowms) 0=off 1=slow 2=all
        db.setWriteConcern(&lt;write concern doc&gt;) - sets the write concern for writes to the db
        db.unsetWriteConcern(&lt;write concern doc&gt;) - unsets the write concern for writes to the db
        db.setVerboseShell(flag) display extra information in shell output
        db.shutdownServer()
        db.stats()
        db.version() current version of the server</code></pre> 
</div> 
<p></p> 
<h2 id="%E4%B9%9D%E3%80%81%E5%90%AF%E5%8A%A8%20%E6%88%96%20%E5%88%9B%E5%BB%BA%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A">九、启动 或 创建 指定的MongoDB数据库：</h2> 
<p>MongoDB数据库是以文档形式存储的，我们可以根自己的项目需要，在各自不同的项目中，指定MongoDB数据库目录（如在Vue 或 React 项目的根目录，和 package.json文件同级的目录中，创建一个名为database的文件夹）中去创建MongoDB数据库的存储目录！</p> 
<h4 id="1%E3%80%81%E4%BD%BF%E7%94%A8%20mongod%20%E5%91%BD%E4%BB%A4%EF%BC%9A%20%E5%88%9B%E5%BB%BA%20%E6%88%96%20%E5%90%AF%E5%8A%A8%20%E6%8C%87%E5%AE%9A%E7%9A%84MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%81"><span style="color:#3399ea;"><strong>1、使用 mongod 命令： 创建 或 启动 指定的MongoDB数据库！</strong></span></h4> 
<p>mongod这个命令很特殊，和use命令一样，如果指定的目录中有数据库就是启动，没有就是创建并启动！</p> 
<div> 
 <pre><code class="language-bash">mongod --dbpath # 数据库目录
 
# 例如： 
mongod --dbpath D:\Vue\myapp\database</code></pre> 
</div> 
<h4 id="2%E3%80%81%E5%A6%82%E6%9E%9Cmongodb%E6%95%B0%E6%8D%AE%E5%BA%93%E8%B7%AF%E5%BE%84%E5%A4%AA%E9%95%BF%EF%BC%8C%E8%A6%81%E8%BE%93%E5%85%A5%E5%BE%88%E4%B9%85%EF%BC%8C%E8%BF%98%E5%8F%AF%E8%BF%99%E6%A0%B7%E5%81%9A"><span style="color:#3399ea;"><strong>2、如果mongodb数据库路径太长，要输入很久，还可这样做</strong></span></h4> 
<div> 
 <pre><code>1、在dos命令行中先输入以下命令：
 
mongod --dbpath 
 
2、需要注意思的是，在--dbpath的后面加上一个空格
 
3、找到数据库所在的目录文件夹，直接将这个文件夹拖到命令窗口中去
 
4、此时，数据库的路径有自动有啦！！</code></pre> 
</div> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/04/35/pKSYiS2D_o.png">​</p> 
</div> 
<h4 id="3%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A"><span style="color:#3399ea;"><strong>3、注意事项：</strong></span></h4> 
<p>启动成功后，一定不要关闭这个命令窗口，而且这个命令窗口中也不能再做其他操作了，然后就可以在MongoDB图形化管理工具中看查数据库 或 在项目中链接使用MongoDB数据库啦。</p> 
<p>当然在有些时候，如果想要用命令行操作MongoDB数据库的话，就要<span style="color:#f33b45;"><strong>再打开一个新Dos窗口！！！</strong></span></p> 
<p>输入mongo命令就进入了MongoDB数据库的语法环境了<span style="color:#3399ea;">（一定要先启动MongoDB数据库后，在进行MongoDB数据库的操作）</span>。</p> 
<div> 
 <p><img alt="" src="https://images2.imgbox.com/95/e1/C7Y0A6t6_o.png">​</p> 
</div> 
<p></p> 
<h2 id="%E5%8D%81%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E5%A4%8D%E5%88%B6%E9%9B%86">十、MongoDB数据库-复制集</h2> 
<h4 id="1%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9F">1、为什么要用复制集？</h4> 
<p>为了保证数据的安全，推荐使用复制集的方式来存储数据，一般复制集节点数至少要有3个，就相当于有3个MongoDB数据库，一主两从，这样一来，即便是当主节点宕机了，其他的从节点通过投票选举（所以，一般复制集节点数量不能是偶数，不然就会出现评局的状态），选出一个新的主节点出来继续工作，而且数据也不会丢失！！</p> 
<p>当然如果非企业、公司的 或 数据不重要的，只是自己个人玩一下的话就用不着，主要看自己的需求。</p> 
<h4 id="2%E3%80%81%E5%9C%A8windows%E7%B3%BB%E7%BB%9F%E4%B8%8B%E6%90%AD%E5%BB%BAMongoDB%E5%A4%8D%E5%88%B6%E9%9B%86%EF%BC%9A">2、在windows系统下搭建MongoDB复制集：</h4> 
<p><strong>1、新建MongoDB复制集节点目录，如：在D盘下的MongoDB目录下，新建3个文件夹，分别命名为：db1，db2，db3 用于存放复制集节点</strong></p> 
<p><strong>2、分别在db1，db2，db3这3个文件夹中新建一个文件命名为：mongod.conf 内容如下：</strong></p> 
<pre><code class="language-bash"># mongod.conf 文件
systemLog:
    destination: file
    path: D:\MongoDB\db1\mongod.log   # 设置日志文件存放路径
    logAppend: true
​
storage:
    dbPath: D:\MongoDB\db1   # 数据存储目录
​
net:
    bindIp: 0.0.0.0     # 数据库地址：0.0.0.0 表示所有
    port: 28017     # 数据库端口号
​
replication:
    replSetName: rs0    # 复制集节点名称</code></pre> 
<p><strong>注意：</strong></p> 
<pre><code class="language-html">* path 和 dbPath 配置项中的路径一定要和当前所有的目录名对应！如：db1，db2，db3
* port 数据库端口号也不能重复！如：28017，28018，28019</code></pre> 
<p><strong>比如：</strong>db2目录下的mongod.conf 内容如下</p> 
<pre><code class="language-python"># mongod.conf 文件
systemLog:
    destination: file
    path: D:\MongoDB\db2\mongod.log   # 设置日志文件存放路径
    logAppend: true
​
storage:
    dbPath: D:\MongoDB\db2   # 数据存储目录
​
net:
    bindIp: 0.0.0.0     # 数据库地址：0.0.0.0 表示所有
    port: 28018     # 数据库端口号
​
replication:
    replSetName: rs0    # 复制集节点名称</code></pre> 
<p></p> 
<h4 id="3%E3%80%81%E5%90%AF%E5%8A%A8%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9"><strong>3、启动复制集节点</strong></h4> 
<p>注：由于windows系统不支持fork，以所要分别用不同的命令窗口来启动，如这里有3个复制集节点，所有就要开3个命令窗口来打开，这样就会启动3个mongodb进程，并且启动后不能关闭该命令窗口，否则进程也会随之结束！！</p> 
<pre><code class="language-python"># 命令窗口1
mongod -f D:\MongoDB\db1\mongod.conf
​
# 命令窗口2
mongod -f D:\MongoDB\db2\mongod.conf
​
# 命令窗口3
mongod -f D:\MongoDB\db3\mongod.conf</code></pre> 
<p>通过以上命令启动好3个复制集节点后，可以在命令窗口中查看，mongodb的进程情况</p> 
<pre><code class="language-javascript">ps mongo</code></pre> 
<p></p> 
<h4 id="4%E3%80%81%E5%85%B3%E8%81%94%E5%A4%8D%E5%88%B6%E9%9B%86%E8%8A%82%E7%82%B9"><strong>4、关联复制集节点</strong></h4> 
<p>上面虽然创建了3个复制集节点，但它们之间还没有任何关系，还是相互独立的，所以要将们关联起来，当有数据入后3个节点都会有数据，这样一来，即便是当主节点宕机了，其他的从节点通过投票选举（所以，一般复制集节点数量不能是偶数，不然就会出现评局的状态），选出一个新的主节点出来继续工作，而且数据也不会丢失！！</p> 
<ol><li> <p>再新开一个命令窗口操作，在windows系统中查看当前hostname 主机名</p> <pre><code class="language-python">hostname
​
# MuGuiLin //这是我在windows系统中查看当前hostname 主机名</code></pre> <p>注：如果各个复制集节点之间不是在同一台服务器上(当然推荐分开部署，这里为了演示所以就在一台电脑上)，就需要对应的服务器IP 或域名</p> <p></p> </li><li> <p>然后进入28017节点</p> <pre><code class="language-bash">mongo localhost:28017</code></pre> <p></p> </li><li> <p>设置复制集主节点，在没有设置复制集主节点之前，各个节点都是一样平级的，但一般情况下，我们都将第1个端口号的节点做为主节点！</p> <pre><code class="language-python">rs.initiate()
​
# 执行以上命令后就进入复制集节点状态了

rs0:SECONDARY&gt; 回车          # 默认是从节点状态，按回车键可切换到主节点状态
​
rs0:PRIMARY&gt;                 # PRIMARY 表示进入主节点状态了
​</code></pre> <p></p> </li><li> <p>查看复制集节点状态信息 和 配置信息</p> <pre><code class="language-python">rs0:PRIMARY&gt;rs.status()

rs0:PRIMARY&gt;rs.config()
​
# 通过以上命令可以查看复制集节点的相关信息，其中"members"：[...] 数组中就是各个节点的信息，由于还没有关联其他的节点，所以现在只有一个</code></pre> <p></p> </li><li> <p>分别关联端口为28018 和 28019 的这两个复制集节点</p> <pre><code class="language-python">rs0:PRIMARY&gt;rs.add("MuGuiLin:28018")
rs0:PRIMARY&gt;rs.add("MuGuiLin:28019")
​
# 执行以上命令后，再查看复制集节点，在"members"：[] 数组中应该就有3个节点信息了
rs0:PRIMARY&gt;rs.status()</code></pre> <p>到此复制集节点的关联工作就完成了！</p> </li></ol> 
<p></p> 
<h4 id="5%E3%80%81%E6%9F%A5%E7%9C%8B%E4%BB%8E%E8%8A%82%E7%82%B9%E6%98%AF%E5%90%A6%E6%AD%A3%E5%B8%B8%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE"><strong>5、查看从节点是否正常同步数据</strong></h4> 
<p>1、先在<strong>28017主节点</strong>上插入一条数据</p> 
<pre><code class="language-python"># 进入28017节点
mongo localhost:28017
​
# 查看所以数据库
rs0:PRIMARY&gt;show dbs
​
# 向test数据库中的test集合插入一条数据
rs0:PRIMARY&gt;db.test.insert({name: "OK 666 MongoDB 数据库 复制集"})
​
# 查看当前数据库下的所有集合
rs0:PRIMARY&gt;show collections
​
# 查看test集合中的所有数据
rs0:PRIMARY&gt;db.test.find().pretty()</code></pre> 
<p><strong>writeConcern 数据写入配置：</strong></p> 
<p><span style="color:#f33b45;"><strong>注意：</strong></span>默认情况下插入数据时只要写入主节点(不管是否同步到从节点)就返回提示数据写入成功。  </p> 
<p><span style="color:#3399ea;"><strong>所以：</strong></span>如果要保证在写入数据时，所的的节点 或 指定的节点都落盘(成功写入)后，才返回提示数据写入成功。</p> 
<p><strong>writeConcern </strong>决定一个写操作落到多少个节点上才算成功。writeConcern 的取值包括：</p> 
<ul><li>0 表示发起写操作，不关心是否成功； </li><li>1~集群最大数据节点数 表示写操作需要被复制到指定节点数才算成功；</li><li>majority 表示写操作需要被复制到大多数节点上才算成功。 发起写操作的程序将阻塞到写操作到达指定的节点数为止</li></ul> 
<pre><code>例如：指定写入3个节点才算成功
rs0:SECONDARY&gt;db.test.insert({name: "插入一条测试数据 -&gt; 我要等3个复制集节点都插入成功了，我才返回功能！"},{writeConcern:{w:3}})

# writeConcern 参数说明：
w: 节点数
w: "majority"  # 大多数节点确认模式（一半以上: 共3有个节点，只要2个节点写入成功即可）
w: "all"  # 全部节点确认模式


writeConcern中的另一个参数：j 可以决定写操作到达多少个节点才算成功，journal 则定义如何才算成功。
取值包括：

j: true 表示写操作落到 journal 文件中才算成功！
j: false 表示写操作到达内存即算作成功！</code></pre> 
<p><strong>writeConcern注意事项：</strong></p> 
<ul><li>虽然多于半数的 writeConcern 都是安全的，但通常只会设置 majority，因为这是 等待写入延迟时间最短的选择；</li><li>不要设置 writeConcern 等于总节点数，因为一旦有一个节点故障，所有写操作都 将失败；</li><li>writeConcern 虽然会增加写操作延迟时间，但并不会显著增加集群压力，因此无论 是否等待，写操作最终都会复制到所有节点上。设置 writeConcern 只是让写操作 等待复制后再返回而已；</li><li>应对重要数据应用 {w: “majority”}，普通数据可以应用 {w: 1} 以确保最佳性能；</li></ul> 
<p></p> 
<p>2、在从节点28018 或 28019中查看是否有数据同步过来</p> 
<pre><code class="language-python"># 进入28019节点
mongo localhost:28019
​
# 开启从节点读的权限，默认情况下，从节点是不能读取的，所以要开启读的权限rs.slaveOk()
rs0:SECONDARY&gt; rs.slaveOk()
​
# 查看test集合中的所有数据
rs0:SECONDARY&gt;db.test.find().pretty()
​
# 执行以上查看命令后，如果能够正常显示在主节点28017上插入的数据，就表示数据已经同步过来啦！！！</code></pre> 
<p><code class="language-html"><strong>注：</strong>由于所有点节点都是在同一个电脑上或在同一个局域网内的，节点之间的数据同步速度是非常快的，一般在10ms内就能同步完成，如果是跨区域的、或是在不同的数据中心的，会受物理条件的影响，同频时间可能会延时长一点！！</code> </p> 
<p></p> 
<h2 id="%E5%8D%81%E4%B8%80%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1">十一、MongoDB数据库-模型设计</h2> 
<h4 id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%9F"><strong>1、什么是数据模型？</strong></h4> 
<p>数据模型是一组由符号、文本组成的集合，用以准确表达信息，达到有效交流、沟通的目的。</p> 
<p></p> 
<h4 id="2%E3%80%81%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%9A"><strong>2、数据模型的三要素：</strong></h4> 
<p>实体、属性、关系</p> 
<p>基础的建模实际上就是将实体、属性、关系三者进行要机的联关起来，其表达方式有：1：1 (一对一)，1 ：N (一对多)，M ：N (多对多)，然后再根据范式NF 一般选用第三范式(3NF)来进行建模；</p> 
<p>而在MongoDB的文档中基本上都可以用内嵌方式、数据方式来完成这些关系的表述，就不用像传统的关系型数据库去做分表存储啦！<span style="color:#f33b45;"><strong>而且：</strong></span><span style="color:#86ca5e;"><strong>MongoDB也可以进行分集合(表)存储的哦！！！；</strong></span></p> 
<pre><code class="language-javascript">// 可以用对象、数组来处理一对多 或 多对多的关系
{
    "username": "沐枫",
    "sex": "男",
    "job": "Web全栈",
    "image": {
        "live": "https:www.xxx.com/update/xxx.jpg",
        "travel": "https:www.xxx.com/update/xxx.jpg",
        "working": "https:www.xxx.com/update/xxx.jpg"
    },
    "addresses": [
        {"type": "住址"},
        {"type": "公司"},
        {"type": "老家"}
    ],
    "hobbys": [
        {"name": "打球"},
        {"name": "看书"},
        {"name": "上网"},
        {"name": "旅游"}
    ]
}</code></pre> 
<p>上面这种处理方式虽然好用，但是 例如：当hobby子文档数据量很多时，<strong>数据就会很冗余</strong>，好的是MongoDB从3.2版开始也<strong>可以进行分集合(表)</strong>，将hobby文档抽离成一个独立的集合user_hobby，然后进行关联查询！</p> 
<pre><code class="language-javascript">// users集合  把原来的users集合中的hobbys字段抽离到独立的user_hobby集合中
{
    "username": "沐枫",
    "sex": "男",
    "job": "Web全栈",
    "image": {
        "live": "https:www.xxx.com/update/xxx.jpg",
        "travel": "https:www.xxx.com/update/xxx.jpg",
        "working": "https:www.xxx.com/update/xxx.jpg"
    },
    "addresses": [
        {"type": "住址"},
        {"type": "公司"},
        {"type": "老家"}
    ],
    "hobbys": [1, 2, 3, 4]
}



// 新抽离出来的user_hobby集合
{
    {hobby_id": 1, "name": "打球"},
    {hobby_id": 2, "name": "看书"},
    {hobby_id": 3, "name": "上网"},
    {hobby_id": 4, "name": "旅游"}
}</code></pre> 
<p>通过引用方式 aggregate聚合框架中的 $lookup操作符 来进行关联查询</p> 
<p>例如：users集合 和 user_hobby集合 将这两个集合进行关联查询</p> 
<pre><code class="language-javascript">// users集合关联user_hobby集合
db.users.aggregate([
    {
        $lookup:
            {
                from: "user_hobby",    //目标关联集合
                localField: "hobbys",   //当前集合要关联的字段
                foreignField: "hobby_id",  //目标集合要关联的字段
                as: "new_hobby"  //查询后返回数据存放的字段名（这是动态生成的，在原来的users集合中是不存在的）
            }
    },
    {
        // ... 如果还有更多的集合需要关联查询，还可以继续关联查询下去。。。！
    }
])
</code></pre> 
<p></p> 
<h4 id="3%E3%80%81%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E6%89%8D%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%E6%96%B9%E5%BC%8F(%E6%8B%86%E5%88%86%E9%9B%86%E5%90%88(%E8%A1%A8))%EF%BC%9A"><span style="color:#3399ea;"><strong>3、什么时候才应该使用引用方式(拆分集合(表))：</strong></span></h4> 
<ul><li><strong>当内嵌文档(子文档)太大时，如数量很多 或 占用空间超过16MB时（目前最大限度16MB）；</strong></li><li><strong>当内嵌文档 或 数组等元素会频繁更新修改时；</strong></li><li><strong>当内嵌数组中的元素数量是未知的（后期可以会持续增加，没有封顶）时；</strong></li></ul> 
<p></p> 
<h4 id="4%E3%80%81MongoDB%20%E5%BC%95%E7%94%A8%E6%98%AF%E6%9C%89%E9%99%90%E5%88%B6%E7%9A%84%EF%BC%9A%C2%A0"><span style="color:#f33b45;"><strong>4、MongoDB 引用是有限制的： </strong></span></h4> 
<ul><li><strong>MongoDB 对使用引用的集合之间并无主外键检查；</strong></li><li><strong>MongoDB 使用聚合框架的 $lookup 来模仿关联查询；</strong></li><li><strong>$lookup 只支持 left outer join</strong></li><li><strong>$lookup 的关联目标（from）不能是分片集合(表)；</strong></li></ul> 
<p><strong>数据模型的三层深度：</strong></p> 
<p>概念模型，逻辑模型，物理模型</p> 
<p><strong>传统数据库模型设计：</strong>从概念到逻辑到物理，它们之间其实就是从概念模型 到 物理模型 的一个逐步细化的过程！</p> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>项目</td><td>概念模型 CDM</td><td>逻辑模型 LDM</td><td>物理模型 PDM</td></tr><tr><td>目的</td><td>描述业务系统要管理的对 象</td><td>基于概念模型，详细列出 所有实体、实体的属性及 关系</td><td>根据逻辑模型，结合数据库 的物理结构，设计具体的表 结构，字段列表及主外键</td></tr><tr><td>特点</td><td>用概念名词来描述现实中 的实体及业务规则，如 “联系人”</td><td>基于业务的描述 和数据库无关</td><td>技术实现细节 和具体的数据库类型相关</td></tr><tr><td>主要使用者</td><td>用户 需求分析师</td><td>需求分析师 架构师及开发者</td><td>开发者 DBA</td></tr></tbody></table> 
<p></p> 
<h4 id="5%E3%80%81MongoDB%20%E6%96%87%E6%A1%A3%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%89%E4%B8%AA%E8%AF%AF%E5%8C%BA%20%EF%BC%9A"><strong>5、MongoDB 文档模型设计的三个误区 ：</strong></h4> 
<ol><li>不需要模型设计</li><li>MongoDB 应该用一个超级大文档来组织所有数据</li><li>MongoDB 不支持关联或者事务</li></ol> 
<p><span style="color:#3399ea;"><strong>所以严格来讲，MongoDB 同样需要概念/逻辑建模的，文档模型设计的物理层结构可以和逻辑层类似，可以省略物理建模的具体过程。</strong></span></p> 
<p>关系模型 VS 文档模型：</p> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>项目</td><td>关系数据库</td><td>JSON 文档模型</td></tr><tr><td>模型设计层次</td><td> <p>概念模型</p> <p>逻辑模型</p> <p>物理模型</p> </td><td> <p>概念模型</p> <p>逻辑模型</p> </td></tr><tr><td>模型实体</td><td>表</td><td>集合</td></tr><tr><td>模型属性</td><td>列</td><td>字段</td></tr><tr><td>模型关系</td><td>关联关系，主外键</td><td>内嵌数组，引用字段</td></tr></tbody></table> 
<p></p> 
<h2 id="%E5%8D%81%E4%BA%8C%E3%80%81MongoDB%E6%95%B0%E6%8D%AE%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%9A%EF%BC%88%E5%92%8C%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E6%A0%B7%EF%BC%8C%E5%B0%B1%E6%98%AF%E5%A2%9E%E3%80%81%E5%88%A0%E3%80%81%E6%9F%A5%E3%80%81%E6%94%B9%EF%BC%89"><strong>十二、MongoDB数据的操作：（和关系型数据库一样，就是增、删、查、改）</strong></h2> 
<h4 id="%C2%A01%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%9Ainsert()%E3%80%81insertOne()%E3%80%81insertMany()"><br><strong> 1、插入数据：insert()、insertOne()、insertMany()</strong></h4> 
<p><strong>语法：</strong></p> 
<p><strong>db.&lt;集合&gt;.insertOne(&lt;JSON对象&gt;)</strong></p> 
<p><strong>db.&lt;</strong><strong>集合</strong><strong>&gt;.insertMany([&lt;JSON 1&gt;，</strong><strong>&lt;JSON 2&gt;，&lt;JSON 3&gt;，...&lt;JSON n&gt;</strong><strong>])</strong></p> 
<p><strong>注：插入数据时不需要专门去创建集合(表)，因为插入数据时会自动创建集合！！</strong></p> 
<ul><li>插入数据：这里以student集合【学生表】为例！</li></ul> 
<div> 
 <pre class="has"><code>db.student.insert({"name": "muguilin", "age": 28, "sex": "男", job: "Web前端"});


// 插入1条数据
db.student.insertOne({"name": "muguilin", "age": 28, "sex": "男", job: "Web前端"});


// 插入多条数据
db.student.insertMany([
    {"name": "zhangsan", "age": 32, "sex": "男", job: "JAVA"},
    {"name": "lisi", "age": 28, "sex": "女", job: "PHP"},
    {"name": "wanger", "age": 16, "sex": "男", job: "Web前端"},
]);</code></pre> 
</div> 
<p></p> 
<h4 id="2%E3%80%81%E6%9F%A5%E6%89%BE%E6%95%B0%E6%8D%AE%EF%BC%9Afind()%E3%80%81findOne()"><strong>2、查找数据：find()、findOne()</strong></h4> 
<p><strong>语法：</strong></p> 
<p><strong>db.&lt;集合&gt;.find(&lt;查询条件&gt;)</strong></p> 
<p><strong>find()还支持合用 field.sub_field 的形式查询子文档</strong></p> 
<ul><li>查找数据，如果find()中没有参数，那么将列出这个集合中的所有文档：<strong>注：find()返回的是游标</strong></li></ul> 
<pre><code>db.student.find()

//相当于下面关系数据库中的语法：
select * from student

// 在查询返回的结果后面加上.prettys()方法可以让显示效果更友好!
db.student.find().pretty()


// 查询第一条数据
db.student.findOne()
相当于：selecttop 1 * from student;
或者是：db.student.find().limit(1);</code></pre> 
<ul><li>指定查询返回的字段 (例如：查询学生集合(表)中所有的女同学，不显示id，只显示名字 和 年龄  &lt;字段名：0不显示，1显示&gt;，或者：&lt;字段名：false不显示，true显示&gt;)</li></ul> 
<pre><code>db.student.find({sex: "女"}, {_id: 0, name: 1, age: 1})
// 相当于：select name, age from student where sex = '女';

或者：1 === true， 0 === false
db.student.find({sex: "女"}, {_id: false, name: true, age: true})</code></pre> 
<ul><li>子文档查询</li></ul> 
<pre><code>db.student.find({"score.shuxue": 60 });

// 子文档查询
db.student.find({"score": {"shuxue": 60 }});

// 多个子文档查询 $elemMatch 表示必须是同一个子对象满足多个条件
db.student.find({"score": {$elemMatch: {"yuwen": 80, "shuxue": 60, "yinyu": 70 });
</code></pre> 
<p><strong>条件查询：</strong></p> 
<ul><li>精确条件查询：</li></ul> 
<div> 
 <pre class="has"><code>db.student.find({"uid":"u10010"});

或：

db.student.find({"name":"沐枫"});

// 相当于： select * from student where name = "沐枫";</code></pre> 
</div> 
<ul><li>模糊条件查询：</li></ul> 
<pre><code>// 大于查询
db.student.find({"score": {$gt: 60}})
//相当于：select * from student where score &gt; 60;


// 小于查询
db.student.find({"score": {$lt: 60}})
// 相当于：select * from student where score &lt; 60;

// 大于等于查询
db.student.find({"score": {$gte: 80}})
// 相当于：select * from student where score &gt;= 80;


// 小于等于查询
db.student.find({"score": {$lte: 80}})
// 相当于：select * from student where score &lt;= 80;


// 正则表达式查询（查找名字中以 “沐” 开头的记录）
db.student.find({"name": /^沐/g})
// 相当于：select * from student where name like '沐%';


// 正则表达式查询（查找名字中包含 “沐” 的记录）
db.student.find({"name": /沐/g})
// 相当于：select * from student where name like '%沐%';</code></pre> 
<ul><li>条件查询对照：（MongoDB 与 传统数据库 比对） </li></ul> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td colspan="2" rowspan="1">SQL（MySql、SqlServer）</td><td colspan="2" rowspan="1">MQL（MongoDB）</td></tr><tr><td>a = 1</td><td>等于</td><td>{ a : 1}</td><td>等于</td></tr><tr><td>a &lt;&gt; 1</td><td>不等于</td><td>{ a : { $ne : 1 }}</td><td>不等于 $ne：不存在 或 存在 但 不等于</td></tr><tr><td>a &gt; 1</td><td>大于</td><td>{ a : { $gt : 1 }}</td><td>大于 $gt：存在 并 大于</td></tr><tr><td>a &gt;= 1</td><td>大于等于</td><td>{ a : { $gte : 1 }}</td><td>大于等于 $gte：存在 并 大于等于</td></tr><tr><td>a &lt; 1</td><td>小于</td><td>{ a : { $lt : 1 }}</td><td>小于 $lt：存在 并 小于</td></tr><tr><td>a &lt;= 1</td><td>小于等于</td><td>{ a : { $lte : 1 } }</td><td>小于等于 $lte：存在 并 小于等于</td></tr></tbody></table> 
<p></p> 
<p><strong>逻辑查询：</strong></p> 
<ul><li>多条件查询</li></ul> 
<div> 
 <pre class="has"><code>// 查询 age &gt;= 18 并且 age &lt;= 26 
db.student.find({age: {$gte: 18, $lte: 26}});</code></pre> 
</div> 
<ul><li>逻辑与：$and</li></ul> 
<div> 
 <pre class="has"><code>db.student.find({"score": 80, "age": 18})
// 相当于：select * from student where score = 80 and age = 18;

// 另一种$and形式
db.student.find({$and:[{"score":60 , "age":12}, {"score":80 , "age":15}]})</code></pre> 
</div> 
<ul><li>逻辑或：$or (只需满足1个条件)，查找所有年龄是9岁，或者11岁的学生</li></ul> 
<div> 
 <pre class="has"><code>db.student.find({$or: [{"age": 18}, {"age": 25}]})
// 相当于：select * from student where age = 18 or age = 25;</code></pre> 
</div> 
<ul><li>查询逻辑对照：（MongoDB 与 传统数据库 比对） </li></ul> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td colspan="2" rowspan="1">SQL（MySql、SqlServer）</td><td colspan="2" rowspan="1">MQL（MongoDB）</td></tr><tr><td>a = 1 AND b = 1</td><td>并且</td><td>{ a : 1，b : 1 }  或者是 { $and : [ { a : 1 }, { b ：1 } ] }</td><td>并且 $and：匹配所有指定条件</td></tr><tr><td>a =1 OR b = 1</td><td>或</td><td>{ $or : [ { a : 1 } , { b : 1 } ] }</td><td>或 $or：匹配指定的2个 或 多个条件中的1个</td></tr><tr><td>a IS NULL</td><td>不存在</td><td>{ a : { $exists : false } }</td><td>不存在</td></tr><tr><td>a IN (1，2，3)</td><td>存在</td><td>{ a : { $in: [1, 2, 3] } }</td><td> <p>存在 $in：存在 并 并在指定的数组中</p> <p>不存在 $nin：不存在 或 不在指定的数组中</p> </td></tr></tbody></table> 
<p></p> 
<p><strong>聚合查询：</strong></p> 
<p>MongoDB聚合框架(Aggregation Framework)是一个计算框架，它可以：</p> 
<ol><li>可作用在一个 或  几个集合上</li><li>对集合中的数据进行一系列的运算</li><li>可将数据转化为所期望数据形式，如（数学计算，统计，类型，格式处理等）</li></ol> 
<p>对效果而言，聚合查询相录于传统SQL查询中的，ORDER BY，GROUP BY，LIMIT，LEFT OUTER JOIN，AS等！</p> 
<ul><li>聚合查询对照：（MongoDB 与 传统数据库 比对） </li></ul> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>步骤</td><td>作用</td><td> <p>SQL等价运算符</p> </td></tr><tr><td>$match</td><td>过滤</td><td>WhERE</td></tr><tr><td>$project</td><td>投影</td><td> <p>AS</p> </td></tr><tr><td>$sort</td><td>排序</td><td>ORDER BY</td></tr><tr><td>$group</td><td>分组</td><td>GROUP BY</td></tr><tr><td>$skip</td><td>结果限制</td><td>SKIP</td></tr><tr><td>$limit</td><td>结果限制</td><td>LIMIT</td></tr><tr><td>$lookup</td><td>左外连接(多表操作)</td><td>LEFT OUTER JOIN</td></tr><tr><td>$graphLookup</td><td>图搜索</td><td>N/A</td></tr><tr><td>$facet</td><td>分面搜索</td><td>N/A</td></tr><tr><td>$bucket</td><td>分面搜索</td><td>N/A</td></tr><tr><td>$unwind</td><td>展开数组</td><td>N/A</td></tr></tbody></table> 
<p></p> 
<ul><li>升降排序查找：（1 升序， -1 降序）</li></ul> 
<div> 
 <pre class="has"><code>// 升序
db.student.find().sort({"age": 1});

// 降序
db.student.find().sort({"age": -1});</code></pre> 
</div> 
<ul><li>查询前 10 条数据</li></ul> 
<pre><code>db.student.find().limit(10);
// 相当于：selecttop 10 * from student;</code></pre> 
<ul><li>查询第 10 条以后的数据</li></ul> 
<pre><code>db.student.find().skip(10);
// 相当于：select * from student where id not in (selecttop 10 * from student);
</code></pre> 
<ul><li>查询 10 到 20 之间的数据<strong>（这就是项目中常见的列表分页查询）</strong></li></ul> 
<pre><code>db.student.find().limit(20).skip(10);

/*
* 列表分页
* limit：就是 pageSize
* skip ：就是第几页 * pageSize
*/</code></pre> 
<ul><li>查询某个结果集的记录条数（统计数量）</li></ul> 
<pre><code>db.student.find({age: {$gte: 18}}).count();
// 相当于：select count(*) from student where age &gt;= 18;


// 如果要返回限制之后的记录数量，要使用 count(true)或者 count(非 0)
db.student.find().limit(20).skip(10).count(true);</code></pre> 
<ul><li>展开数据查询：查询某个学生各个学科的成绩</li></ul> 
<pre><code>db.student.aggregate([{$unwind: '$score'}])</code></pre> 
<ul><li>查询结果限制： 例如：查询学生集合(表)中的所有女生的姓名和年龄！</li></ul> 
<pre><code>db.student.aggregate([

    {$match: "sex": "女"},    // 只取性别为女性的

    {$skip: 100},    // 跳过100条

    {$limit: 30},    // 只取30条
    
    // 只返回姓名 和 年龄这两个字段
    {$project: {
        '姓名': 'name',
        '年龄': 'age'
    }}
])</code></pre> 
<p><strong>explain查询：</strong></p> 
<p>explain 是非常有用的工具，会帮助你获得查询方面诸多有用的信息。只要对游标调用 该方法，就可以得到查询细节。explain 会返回一个文档，而不是游标本身。</p> 
<pre><code>// 查询时加上explain() 方法会返回查询使用的索引情况，耗时和扫描文档数的统计信息
db.student.find({name:"沐枫"}).explain()


// 在explain() 方法中加上"executionStats"参数 可看查 查询具体的执行时间
db.student.find({name:"沐枫"}).explain("executionStats")</code></pre> 
<p></p> 
<h4 id="3%E3%80%81%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%EF%BC%9Aupdate()"><br><strong>3、修改数据：update()</strong></h4> 
<p><strong>语法：</strong></p> 
<p><strong>db.&lt;集合&gt;.update(&lt;查询条件&gt;，&lt;更新字段&gt;)</strong></p> 
<p><strong>db.&lt;集合&gt;.updateOne(&lt;查询条件&gt;，&lt;更新字段&gt;) 表示无论条件匹配多少记录，始终只更新第1条记录</strong></p> 
<p><strong>db.&lt;集合&gt;.updateMany([&lt;查询条件&gt;，&lt;更新字段&gt;]) 表示 条件匹配多少条 就 更新多少条</strong></p> 
<p><span style="color:#f33b45;"><strong>注：在修改(更新)时，</strong><strong>如果要更新的字段名存在 则更新数据，如果不存在 则创建并写入数据！！</strong></span></p> 
<p><strong>注：update()，updateOne()，updateMany() 方法要求更新条件部分必须具有以下参数之一，否则就报错！！</strong> </p> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><td>参数</td><td>说明</td></tr><tr><td>$set</td><td>增加</td></tr><tr><td>$unset</td><td>删除</td></tr><tr><td>$push</td><td>增加一个对象到数组底部</td></tr><tr><td>$pushAll</td><td>增加多个对象到数组底部</td></tr><tr><td> <p>$pop</p> </td><td>从数组底部删除一个对象</td></tr><tr><td>$pull</td><td>如果匹配到指定的值，从数组中删除相应的对象</td></tr><tr><td>$pullAll</td><td>如果匹配任意值，从数组中删除相应的对象</td></tr><tr><td>$addToSet</td><td>如果不存在就增加一个值到数组</td></tr></tbody></table> 
<p></p> 
<ul><li>修改名字叫做小明的，把年龄更改为16岁：</li></ul> 
<div> 
 <pre class="has"><code>db.student.update({"name":"小明"},{$set:{"age":16}});</code></pre> 
</div> 
<ul><li>查找数学成绩是70，把年龄更改为33岁：</li></ul> 
<div> 
 <pre class="has"><code>db.student.update({"score.shuxue":70},{$set:{"age":33}});</code></pre> 
</div> 
<ul><li>更改所有匹配项【默认情况下，update()方法是更新单个文档。 要更新多个文档，请使用开启update()方法中的multi选项】</li></ul> 
<div> 
 <pre class="has"><code>db.student.update({"sex":"男"},{$set:{"age":33}},{multi: true});</code></pre> 
</div> 
<ul><li>完整替换，不出现$set关键字了：</li></ul> 
<div> 
 <pre class="has"><code>db.student.update({"name":"小明"},{"name":"大明","age":16});</code></pre> 
</div> 
<p></p> 
<h4 id="4%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%EF%BC%9Aremove()%C2%A0"><strong>4、删除数据：remove() </strong></h4> 
<p><strong>语法：</strong></p> 
<p><strong>db.&lt;集合&gt;.remove(&lt;查询条件&gt;)</strong></p> 
<p><strong>注：remove() 命令需要配合查询条件使用，只要匹配到的文档就会被删除！！</strong></p> 
<ul><li>删除实例：</li></ul> 
<div> 
 <pre class="has"><code>// 指定删除 名字等于 小明的记录
db.student.remove({"name":"小明"})

// 删除 数学成绩 小于 60 以下的记录
db.student.remove({"score.shuxue": {$lt: 60 })

// 删除 student集合中所有的记录！！！
db.student.remove({})

// 语法错误
db.student.remove()</code></pre> 
</div> 
<ul><li>默认情况下，remove()方法将删除所有符合删除条件的文档。 使用开启justOne选项将删除操作限制为仅匹配文档之一。</li></ul> 
<div> 
 <pre class="has"><code>db.student.remove({"name":"小明"}, {justOne: true});</code></pre> 
</div> 
<p></p> 
<h4 id="5%E3%80%81%E5%88%A0%E9%99%A4%E9%9B%86%E5%90%88%EF%BC%9Adrop()"><strong>5、删除集合：drop()</strong></h4> 
<p><strong>语法：</strong></p> 
<p><strong>db.&lt;集合&gt;.drop()</strong></p> 
<p><span style="color:#f33b45;"><strong>注：删除后集合中的所以文档、以及相关的索引等都会被删除！！</strong></span></p> 
<pre><code>// 删除学生集合(删除学生表)
db.student.drop()</code></pre> 
<p></p> 
<h4 id="6%E3%80%81%E7%B4%A2%E5%BC%95%EF%BC%9A">6、索引：</h4> 
<p>索引是对数据库集合(表)中一列 或 多列的数据进行排序的一种结构，它可以让我们查询数据库变得更快(尤其是在数据量大的情况下)。</p> 
<p>注意：</p> 
<p>随着集合的增长，需要针对查询中大量的排序做索引。如果没有对索引的键调用 sort， MongoDB 需要将所有数据提取到内存并排序。因此在做无索引排序时，如果数据量过大以 致无法在内存中进行排序，此时 MongoDB 将会报错。</p> 
<ul><li>创建索引 （1 升序， -1 降序）</li></ul> 
<pre><code>db.student.ensureIndex({"name":1})

// 创建索引 并 指定索引名称
db.student.ensureIndex({"name":1},{"name":"studentIndex"}) </code></pre> 
<ul><li>查看当前集合索引</li></ul> 
<pre><code>db.student.getIndexes()</code></pre> 
<ul><li>删除索引</li></ul> 
<pre><code>db.student.dropIndex({"name":1})</code></pre> 
<ul><li>唯一索引（值不能重复，保证维一性，一般用xxxID）</li></ul> 
<pre><code>db.student.ensureIndex({"sid":1},{"unique":true})</code></pre> 
<ul><li>复合索引（多个索引列）</li></ul> 
<pre><code>db.student.ensureIndex({"name":1, "age":-1})</code></pre> 
<p></p> 
<p></p> 
<h2 id="%E5%8D%81%E4%B8%89%E3%80%81%E5%9C%A8Node.js%E4%B8%AD%E4%BD%BF%E7%94%A8MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93">十三、在Node.js中使用MongoDB数据库</h2> 
<p>Node.js 和 MongoDB 可以说是黄金搭配，再加上它们各自都有比较成熟的官方提供的 和 第三方提供相关框架，可以在各种复杂项目场景中使用啦！！</p> 
<h4 id="1%E3%80%81Node.js%E6%A1%86%E6%9E%B6%EF%BC%9A">1、Node.js框架：</h4> 
<p><a href="http://expressjs.com/" rel="nofollow" title="Express">Express</a> ：快速，简单，极简的<a href="https://nodejs.org/en/" rel="nofollow" title="Node.js">Node.js</a> Web框架</p> 
<p><a href="https://koa.bootcss.com/#" rel="nofollow" title="Koa">Koa</a> ：基于<a href="https://nodejs.org/en/" rel="nofollow" title="Node.js">Node.js</a> 平台的下一代 web 开发框架（由 Express 幕后的原班人马打造）</p> 
<p><a href="https://eggjs.org/zh-cn/" rel="nofollow" title="Egg">Egg</a> ：为建造而生<a href="https://nodejs.org/en/" rel="nofollow" title="Node.js">Node.js</a> 和Koa更好的企业框架和应用程序为企业级框架和应用而生</p> 
<p></p> 
<h4 id="2%E3%80%81MongbDB%E9%A9%B1%E5%8A%A8%EF%BC%9A">2、MongbDB驱动：</h4> 
<p><a href="http://mongodb.github.io/node-mongodb-native/" rel="nofollow" title="MongoDB Node.JS Driver">MongoDB Node.JS Driver</a> ：适用于MongoDB的下一代<a href="https://nodejs.org/en/" rel="nofollow" title="Node.js">Node.js</a> 驱动程序</p> 
<p><a href="https://mongoosejs.com/" rel="nofollow" title="Mongoose">Mongoose</a> ：适用于<a href="https://nodejs.org/en/" rel="nofollow" title="Node.js">Node.js</a>的优雅<a href="https://www.mongodb.com/" rel="nofollow" title="MongoDB">MongoDB</a>对象建模</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dcefb65122b6e1c814a96315fab2b129/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android中SQLite数据库查询详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a01b5cdc3681271b104a8036e152708/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis&#43;Mybatis-plus&#43;SpringBoot整合(完整版)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>