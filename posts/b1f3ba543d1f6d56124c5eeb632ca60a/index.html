<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ndk-build方式编译，Android jni中打印log报错undefined reference to `__android_log_print‘ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ndk-build方式编译，Android jni中打印log报错undefined reference to `__android_log_print‘" />
<meta property="og:description" content="一、环境搭建 android studio2021.2.1
jdk版本1.8
二、jni中日志输出配置 1.build.gradle配置
ndk下配置，ldLibs &#34;log&#34;
2.在.c文件的配置
（1）头文件的配置
#include &lt;android/log.h&gt; #define LOG_TAG &#34;TAG&#34; #define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__) #define LOGI(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__) #define LOGE(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__) （2）输出日志
LOGD(&#34;value===%d\n&#34;,value); LOGI(&#34;value===%d\n&#34;,value); Rebuild Project后报错，如下图所示：
需在Android.mk文件上配置
（3）Android.mk日志配置
#打印日志库 LOCAL_LDLIBS := -llog 根据以上三步骤，则可输出jni的native的日志 ，不同的AS、JDK版本报错可能处理方法会不一样。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b1f3ba543d1f6d56124c5eeb632ca60a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-18T09:53:56+08:00" />
<meta property="article:modified_time" content="2023-05-18T09:53:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ndk-build方式编译，Android jni中打印log报错undefined reference to `__android_log_print‘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>一、环境搭建</strong></h2> 
<p><strong>android studio2021.2.1</strong></p> 
<p><strong>jdk版本1.8</strong></p> 
<h2><strong>二、jni中日志输出配置</strong></h2> 
<p><strong>1.build.gradle配置</strong></p> 
<p>ndk下配置，ldLibs "log"</p> 
<p><img alt="" height="742" src="https://images2.imgbox.com/fe/53/1IWk4Xow_o.png" width="968"><strong> </strong></p> 
<p><strong>2.在.c文件的配置</strong></p> 
<p>（1）头文件的配置</p> 
<pre><code class="hljs">#include &lt;android/log.h&gt;
#define LOG_TAG "TAG"
#define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, __VA_ARGS__)
#define LOGI(...) __android_log_print(ANDROID_LOG_INFO, LOG_TAG, __VA_ARGS__)
#define LOGE(...) __android_log_print(ANDROID_LOG_ERROR, LOG_TAG, __VA_ARGS__)</code></pre> 
<p>（2）输出日志</p> 
<pre><code class="hljs"> LOGD("value===%d\n",value);
 LOGI("value===%d\n",value);</code></pre> 
<p><img alt="" height="970" src="https://images2.imgbox.com/d5/26/snPT4YCd_o.png" width="1009"></p> 
<p>Rebuild Project后报错，如下图所示：</p> 
<p><img alt="" height="330" src="https://images2.imgbox.com/f0/06/jBM5eyZu_o.png" width="1200"></p> 
<p> 需在Android.mk文件上配置</p> 
<p>（3）Android.mk日志配置</p> 
<pre><code class="hljs">#打印日志库
LOCAL_LDLIBS := -llog</code></pre> 
<p><img alt="" height="492" src="https://images2.imgbox.com/23/d0/14VsQANB_o.png" width="943"></p> 
<p></p> 
<p>根据以上三步骤，则可输出jni的native的日志 ，不同的AS、JDK版本报错可能处理方法会不一样。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4d7bb1b36adb52aec1a196c83002c0eb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Android】Exam8 多线程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c3caca3986cf4696ea0dfcee0e4ce717/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux 实现mysql数据库主从复制</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>