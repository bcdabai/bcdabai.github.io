<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python数据处理与分析小项目-分析员工过早离职原因 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python数据处理与分析小项目-分析员工过早离职原因" />
<meta property="og:description" content="项目介绍 背景说明 本篇通过描述性分析、相关性分析、变量之间的对比分析来解析影响公司员工离职的因素。以及公司应该思考和解决的问题。
人力资源分析数据集汇聚了对大量员工的信息数据统计，包括企业因素（如部门）、员工行为相关因素（如参与过项目数、每月工作时长、薪资水平等）、以及工作相关因素（如绩效评估、工伤事故）
数据说明 文件HR_comma_sep.csv中包含10个字段，具体信息如下：
No属性数据类型字段描述1satisfaction_levelFloat员工满意程度：0-不满意，1-满意2last_evaluationFloat国家3number_projectInteger在职期间完成的项目数量4average_montly_hoursInteger每月平均工作时长（hr）5time_spend_companyInteger 工龄（年）6work_accidentInteger是否有工伤：0-没有，1-有7leftInteger是否离职：0-在职，1-离职8promotion_last_5yearsInteger过去5年是否有升职：0-没有，1-有9salesString工作部门10salaryString工资的相对等级 数据来源 https://www.kaggle.com/mizanhadi/hr-employee-data-visualisation/data?select=HR_comma_sep.csv
百度云下载链接：
链接：https://pan.baidu.com/s/1G3uT2Bs7MUnjrFmh4vB_Xg
提取码：abcd
安装相关包
!pip install plotly==2.7.0 -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn !pip install colorlover -i https://pypi.tuna.tsinghua.edu.cn/simple --trusted-host pypi.tuna.tsinghua.edu.cn 导入相关包
import pandas as pd import numpy as np from plotly import __version__ print (__version__) from plotly.offline import init_notebook_mode, iplot init_notebook_mode(connected=True) from plotly.graph_objs import * import colorlover as cl import matplotlib.pyplot as plt import seaborn as sns colors = [&#39;#e43620&#39;, &#39;#f16d30&#39;,&#39;#d99a6c&#39;,&#39;#fed976&#39;, &#39;#b3cb95&#39;, &#39;#41bfb3&#39;,&#39;#229bac&#39;, &#39;#256894&#39;] 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a8cc1b01c5629de6a43cbe39a11564a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-09T23:32:05+08:00" />
<meta property="article:modified_time" content="2023-01-09T23:32:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python数据处理与分析小项目-分析员工过早离职原因</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>项目介绍</h3> 
<ul><li>背景说明</li></ul> 
<p>本篇通过描述性分析、相关性分析、变量之间的对比分析来解析影响公司员工离职的因素。以及公司应该思考和解决的问题。<br> 人力资源分析数据集汇聚了对大量员工的信息数据统计，包括企业因素（如部门）、员工行为相关因素（如参与过项目数、每月工作时长、薪资水平等）、以及工作相关因素（如绩效评估、工伤事故）</p> 
<ul><li>数据说明</li></ul> 
<p>文件HR_comma_sep.csv中包含10个字段，具体信息如下：</p> 
<table><thead><tr><th>No</th><th>属性</th><th>数据类型</th><th>字段描述</th></tr></thead><tbody><tr><td>1</td><td>satisfaction_level</td><td>Float</td><td>员工满意程度：0-不满意，1-满意</td></tr><tr><td>2</td><td>last_evaluation</td><td>Float</td><td>国家</td></tr><tr><td>3</td><td>number_project</td><td>Integer</td><td>在职期间完成的项目数量</td></tr><tr><td>4</td><td>average_montly_hours</td><td>Integer</td><td>每月平均工作时长（hr）</td></tr><tr><td>5</td><td>time_spend_company</td><td>Integer 工龄（年）</td><td></td></tr><tr><td>6</td><td>work_accident</td><td>Integer</td><td>是否有工伤：0-没有，1-有</td></tr><tr><td>7</td><td>left</td><td>Integer</td><td>是否离职：0-在职，1-离职</td></tr><tr><td>8</td><td>promotion_last_5years</td><td>Integer</td><td>过去5年是否有升职：0-没有，1-有</td></tr><tr><td>9</td><td>sales</td><td>String</td><td>工作部门</td></tr><tr><td>10</td><td>salary</td><td>String</td><td>工资的相对等级</td></tr></tbody></table> 
<ul><li>数据来源</li></ul> 
<p>https://www.kaggle.com/mizanhadi/hr-employee-data-visualisation/data?select=HR_comma_sep.csv</p> 
<p>百度云下载链接：<br> 链接：https://pan.baidu.com/s/1G3uT2Bs7MUnjrFmh4vB_Xg<br> 提取码：abcd</p> 
<p>安装相关包</p> 
<pre><code class="prism language-python">!pip install plotly<span class="token operator">==</span><span class="token number">2.7</span><span class="token number">.0</span>  <span class="token operator">-</span>i https<span class="token punctuation">:</span><span class="token operator">//</span>pypi<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>simple <span class="token operator">-</span><span class="token operator">-</span>trusted<span class="token operator">-</span>host pypi<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn
</code></pre> 
<pre><code class="prism language-python">!pip install colorlover <span class="token operator">-</span>i https<span class="token punctuation">:</span><span class="token operator">//</span>pypi<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>simple <span class="token operator">-</span><span class="token operator">-</span>trusted<span class="token operator">-</span>host pypi<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn
</code></pre> 
<p>导入相关包</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token keyword">from</span> plotly <span class="token keyword">import</span> __version__
<span class="token keyword">print</span> <span class="token punctuation">(</span>__version__<span class="token punctuation">)</span>

<span class="token keyword">from</span> plotly<span class="token punctuation">.</span>offline <span class="token keyword">import</span> init_notebook_mode<span class="token punctuation">,</span> iplot
init_notebook_mode<span class="token punctuation">(</span>connected<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> plotly<span class="token punctuation">.</span>graph_objs <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> colorlover <span class="token keyword">as</span> cl

<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'#e43620'</span><span class="token punctuation">,</span> <span class="token string">'#f16d30'</span><span class="token punctuation">,</span><span class="token string">'#d99a6c'</span><span class="token punctuation">,</span><span class="token string">'#fed976'</span><span class="token punctuation">,</span> <span class="token string">'#b3cb95'</span><span class="token punctuation">,</span> <span class="token string">'#41bfb3'</span><span class="token punctuation">,</span><span class="token string">'#229bac'</span><span class="token punctuation">,</span> <span class="token string">'#256894'</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code>2.7.0
</code></pre> 
<h3><a id="1_70"></a>1.数据检查与理解</h3> 
<pre><code class="prism language-python">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./HR_comma_sep.csv'</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>satisfaction_level</th><th>last_evaluation</th><th>number_project</th><th>average_montly_hours</th><th>time_spend_company</th><th>Work_accident</th><th>left</th><th>promotion_last_5years</th><th>sales</th><th>salary</th></tr></thead><tbody><tr><th>0</th><td>0.38</td><td>0.53</td><td>2</td><td>157</td><td>3</td><td>0</td><td>1</td><td>0</td><td>sales</td><td>low</td></tr><tr><th>1</th><td>0.80</td><td>0.86</td><td>5</td><td>262</td><td>6</td><td>0</td><td>1</td><td>0</td><td>sales</td><td>medium</td></tr><tr><th>2</th><td>0.11</td><td>0.88</td><td>7</td><td>272</td><td>4</td><td>0</td><td>1</td><td>0</td><td>sales</td><td>medium</td></tr><tr><th>3</th><td>0.72</td><td>0.87</td><td>5</td><td>223</td><td>5</td><td>0</td><td>1</td><td>0</td><td>sales</td><td>low</td></tr><tr><th>4</th><td>0.37</td><td>0.52</td><td>2</td><td>159</td><td>3</td><td>0</td><td>1</td><td>0</td><td>sales</td><td>low</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"共有"</span><span class="token punctuation">,</span>data<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"条员工记录，"</span><span class="token punctuation">,</span>data<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"个员工特征。"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>共有 14999 条员工记录， 10 个员工特征。
</code></pre> 
<h4><a id="11__191"></a>1.1. 检查是否存在缺失值</h4> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>satisfaction_level       0
last_evaluation          0
number_project           0
average_montly_hours     0
time_spend_company       0
Work_accident            0
left                     0
promotion_last_5years    0
sales                    0
salary                   0
dtype: int64
</code></pre> 
<h4><a id="12__215"></a>1.2. 适当的改名来更直观的理解和获取特征列</h4> 
<pre><code class="prism language-python">df <span class="token operator">=</span> data<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"sales"</span><span class="token punctuation">:</span><span class="token string">"department"</span><span class="token punctuation">,</span><span class="token string">"promotion_last_5years"</span><span class="token punctuation">:</span><span class="token string">"promotion"</span><span class="token punctuation">,</span><span class="token string">"Work_accident"</span><span class="token punctuation">:</span><span class="token string">"work_accident"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>columns
</code></pre> 
<pre><code>Index(['satisfaction_level', 'last_evaluation', 'number_project',
       'average_montly_hours', 'time_spend_company', 'work_accident', 'left',
       'promotion', 'department', 'salary'],
      dtype='object')
</code></pre> 
<h4><a id="13__233"></a>1.3. 查看数据的信息</h4> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14999 entries, 0 to 14998
Data columns (total 10 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   satisfaction_level    14999 non-null  float64
 1   last_evaluation       14999 non-null  float64
 2   number_project        14999 non-null  int64  
 3   average_montly_hours  14999 non-null  int64  
 4   time_spend_company    14999 non-null  int64  
 5   work_accident         14999 non-null  int64  
 6   left                  14999 non-null  int64  
 7   promotion             14999 non-null  int64  
 8   department            14999 non-null  object 
 9   salary                14999 non-null  object 
dtypes: float64(2), int64(6), object(2)
memory usage: 1.1+ MB
</code></pre> 
<h4><a id="14__259"></a>1.4. 展示所有类型特征的信息</h4> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span>include<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'O'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>department</th><th>salary</th></tr></thead><tbody><tr><th>count</th><td>14999</td><td>14999</td></tr><tr><th>unique</th><td>10</td><td>3</td></tr><tr><th>top</th><td>sales</td><td>low</td></tr><tr><th>freq</th><td>4140</td><td>7316</td></tr></tbody></table> 
<h4><a id="15__318"></a>1.5. 类别数字化</h4> 
<ol><li>先设置<code>salary</code>与<code>department</code>列为<strong>Category</strong>的数据类型</li><li>保存类别与对应数值的映射字典</li><li>针对<code>salary</code>和<code>department</code>这两个<code>Object</code>类型的<strong>类别</strong>特征，将其进行类别数字化。</li></ol> 
<pre><code class="prism language-python"><span class="token comment"># 1. 先设置`salary`与`department`列为**Category**的数据类型</span>
df<span class="token punctuation">[</span><span class="token string">'department'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'department'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'category'</span><span class="token punctuation">)</span><span class="token comment">#, categories=cat.categories)</span>
df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">'category'</span><span class="token punctuation">)</span><span class="token comment">#, categories=cat.categories)</span>
</code></pre> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14999 entries, 0 to 14998
Data columns (total 10 columns):
 #   Column                Non-Null Count  Dtype   
---  ------                --------------  -----   
 0   satisfaction_level    14999 non-null  float64 
 1   last_evaluation       14999 non-null  float64 
 2   number_project        14999 non-null  int64   
 3   average_montly_hours  14999 non-null  int64   
 4   time_spend_company    14999 non-null  int64   
 5   work_accident         14999 non-null  int64   
 6   left                  14999 non-null  int64   
 7   promotion             14999 non-null  int64   
 8   department            14999 non-null  category
 9   salary                14999 non-null  category
dtypes: category(2), float64(2), int64(6)
memory usage: 967.4 KB
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 保存类别</span>
<span class="token comment"># department_categories = pd.Categorical(df['department']).categories</span>
<span class="token comment"># salary_categories = pd.Categorical(df['salary']).categories</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 2. 保存类别与对应数值的映射字典</span>
salary_dict <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cat<span class="token punctuation">.</span>categories<span class="token punctuation">)</span><span class="token punctuation">)</span>
department_dict <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">enumerate</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'department'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cat<span class="token punctuation">.</span>categories<span class="token punctuation">)</span><span class="token punctuation">)</span>
salary_dict<span class="token punctuation">,</span>department_dict
</code></pre> 
<pre><code>({0: 'high', 1: 'low', 2: 'medium'},
 {0: 'IT',
  1: 'RandD',
  2: 'accounting',
  3: 'hr',
  4: 'management',
  5: 'marketing',
  6: 'product_mng',
  7: 'sales',
  8: 'support',
  9: 'technical'})
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 3. 针对`salary`和`department`这两个`Object`类型的类别特征，将其进行类别数字化。</span>
<span class="token keyword">for</span> feature <span class="token keyword">in</span> df<span class="token punctuation">.</span>columns<span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">str</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span>feature<span class="token punctuation">]</span><span class="token punctuation">.</span>dtype<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'category'</span><span class="token punctuation">:</span>
        df<span class="token punctuation">[</span>feature<span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span>feature<span class="token punctuation">]</span><span class="token punctuation">.</span>cat<span class="token punctuation">.</span>codes
        <span class="token comment"># df[feature] = pd.Categorical(df[feature]).codes</span>
        df<span class="token punctuation">[</span>feature<span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span>feature<span class="token punctuation">]</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token string">"int64"</span><span class="token punctuation">)</span> <span class="token comment"># 设置数据类型为int64</span>
</code></pre> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>satisfaction_level</th><th>last_evaluation</th><th>number_project</th><th>average_montly_hours</th><th>time_spend_company</th><th>work_accident</th><th>left</th><th>promotion</th><th>department</th><th>salary</th></tr></thead><tbody><tr><th>0</th><td>0.38</td><td>0.53</td><td>2</td><td>157</td><td>3</td><td>0</td><td>1</td><td>0</td><td>7</td><td>1</td></tr><tr><th>1</th><td>0.80</td><td>0.86</td><td>5</td><td>262</td><td>6</td><td>0</td><td>1</td><td>0</td><td>7</td><td>2</td></tr><tr><th>2</th><td>0.11</td><td>0.88</td><td>7</td><td>272</td><td>4</td><td>0</td><td>1</td><td>0</td><td>7</td><td>2</td></tr><tr><th>3</th><td>0.72</td><td>0.87</td><td>5</td><td>223</td><td>5</td><td>0</td><td>1</td><td>0</td><td>7</td><td>1</td></tr><tr><th>4</th><td>0.37</td><td>0.52</td><td>2</td><td>159</td><td>3</td><td>0</td><td>1</td><td>0</td><td>7</td><td>1</td></tr></tbody></table> 
<h4><a id="16_columns_506"></a>1.6. 改变columns的顺序</h4> 
<p>1.先设置columns的顺序<br> - 将<code>left</code>列放置于最后一列以便直观地查看<br> 2.根据排好的列表顺序应用于dataframe上</p> 
<pre><code class="prism language-python">cols <span class="token operator">=</span> df<span class="token punctuation">.</span>columns
cols <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>cols<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">list</span><span class="token punctuation">(</span>cols<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">[</span>cols<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Reordered Columns:'</span><span class="token punctuation">,</span>cols<span class="token punctuation">)</span>
</code></pre> 
<pre><code>Reordered Columns: ['satisfaction_level', 'last_evaluation', 'number_project', 'average_montly_hours', 'time_spend_company', 'work_accident', 'promotion', 'department', 'salary', 'left']
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 根据排好的列表顺序应用于dataframe上</span>
df <span class="token operator">=</span> df<span class="token punctuation">[</span>cols<span class="token punctuation">]</span>
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>satisfaction_level</th><th>last_evaluation</th><th>number_project</th><th>average_montly_hours</th><th>time_spend_company</th><th>work_accident</th><th>promotion</th><th>department</th><th>salary</th><th>left</th></tr></thead><tbody><tr><th>0</th><td>0.38</td><td>0.53</td><td>2</td><td>157</td><td>3</td><td>0</td><td>0</td><td>7</td><td>1</td><td>1</td></tr><tr><th>1</th><td>0.80</td><td>0.86</td><td>5</td><td>262</td><td>6</td><td>0</td><td>0</td><td>7</td><td>2</td><td>1</td></tr><tr><th>2</th><td>0.11</td><td>0.88</td><td>7</td><td>272</td><td>4</td><td>0</td><td>0</td><td>7</td><td>2</td><td>1</td></tr><tr><th>3</th><td>0.72</td><td>0.87</td><td>5</td><td>223</td><td>5</td><td>0</td><td>0</td><td>7</td><td>1</td><td>1</td></tr><tr><th>4</th><td>0.37</td><td>0.52</td><td>2</td><td>159</td><td>3</td><td>0</td><td>0</td><td>7</td><td>1</td><td>1</td></tr></tbody></table> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code>(14999, 10)
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14999 entries, 0 to 14998
Data columns (total 10 columns):
 #   Column                Non-Null Count  Dtype  
---  ------                --------------  -----  
 0   satisfaction_level    14999 non-null  float64
 1   last_evaluation       14999 non-null  float64
 2   number_project        14999 non-null  int64  
 3   average_montly_hours  14999 non-null  int64  
 4   time_spend_company    14999 non-null  int64  
 5   work_accident         14999 non-null  int64  
 6   promotion             14999 non-null  int64  
 7   department            14999 non-null  int64  
 8   salary                14999 non-null  int64  
 9   left                  14999 non-null  int64  
dtypes: float64(2), int64(8)
memory usage: 1.1 MB
</code></pre> 
<h3><a id="2_659"></a>2.数据探索与分析</h3> 
<h4><a id="21__662"></a>2.1. 描述性分析</h4> 
<p>**对<code>left</code>**列进行Group，进行描述性分析<a href="https://zhuanlan.zhihu.com/p/30282012" rel="nofollow">[1]</a><br> 查看在职与离职类别下，每个特征的均值</p> 
<pre><code class="prism language-python">left_summary <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
left_summary<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>satisfaction_level</th><th>last_evaluation</th><th>number_project</th><th>average_montly_hours</th><th>time_spend_company</th><th>work_accident</th><th>promotion</th><th>department</th><th>salary</th></tr><tr><th>left</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>0</th><td>0.666810</td><td>0.715473</td><td>3.786664</td><td>199.060203</td><td>3.380032</td><td>0.175009</td><td>0.026251</td><td>5.819041</td><td>1.347742</td></tr><tr><th>1</th><td>0.440098</td><td>0.718113</td><td>3.855503</td><td>207.419210</td><td>3.876505</td><td>0.047326</td><td>0.005321</td><td>6.035284</td><td>1.345842</td></tr></tbody></table> 
<pre><code class="prism language-python">df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<div> 
</div> 
<table border="1" class="dataframe"><thead><tr><th></th><th>satisfaction_level</th><th>last_evaluation</th><th>number_project</th><th>average_montly_hours</th><th>time_spend_company</th><th>work_accident</th><th>promotion</th><th>department</th><th>salary</th><th>left</th></tr></thead><tbody><tr><th>count</th><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td><td>14999.000000</td></tr><tr><th>mean</th><td>0.612834</td><td>0.716102</td><td>3.803054</td><td>201.050337</td><td>3.498233</td><td>0.144610</td><td>0.021268</td><td>5.870525</td><td>1.347290</td><td>0.238083</td></tr><tr><th>std</th><td>0.248631</td><td>0.171169</td><td>1.232592</td><td>49.943099</td><td>1.460136</td><td>0.351719</td><td>0.144281</td><td>2.868786</td><td>0.625819</td><td>0.425924</td></tr><tr><th>min</th><td>0.090000</td><td>0.360000</td><td>2.000000</td><td>96.000000</td><td>2.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td></tr><tr><th>25%</th><td>0.440000</td><td>0.560000</td><td>3.000000</td><td>156.000000</td><td>3.000000</td><td>0.000000</td><td>0.000000</td><td>4.000000</td><td>1.000000</td><td>0.000000</td></tr><tr><th>50%</th><td>0.640000</td><td>0.720000</td><td>4.000000</td><td>200.000000</td><td>3.000000</td><td>0.000000</td><td>0.000000</td><td>7.000000</td><td>1.000000</td><td>0.000000</td></tr><tr><th>75%</th><td>0.820000</td><td>0.870000</td><td>5.000000</td><td>245.000000</td><td>4.000000</td><td>0.000000</td><td>0.000000</td><td>8.000000</td><td>2.000000</td><td>0.000000</td></tr><tr><th>max</th><td>1.000000</td><td>1.000000</td><td>7.000000</td><td>310.000000</td><td>10.000000</td><td>1.000000</td><td>1.000000</td><td>9.000000</td><td>2.000000</td><td>1.000000</td></tr></tbody></table> 
<h4><a id="22__896"></a>2.2. 相关性分析</h4> 
<p>根据热力图显示，可以发现：</p> 
<ul><li><code>满意度(satisfaction_level）</code> 
  <ul><li>员工<strong>满意度</strong>（satisfaction_level）离职（left）呈较大<strong>负相关</strong>（-）关系，与<strong>完成项目数</strong>（number_project）、<strong>在公司的年份</strong>（time_spend_company）也有一定的负相关性。</li></ul> </li><li><code>绩效评估(last_evaluation)</code> 
  <ul><li>上一次的<strong>绩效评估</strong>(last_evaluation)与<strong>完成项目数</strong>（number_project）和<strong>平均每月工作时间</strong>（average_montly_hours）这两个特征呈较大的<strong>正相关</strong>（+）关系,也就是说，完成项目数越多，平均每月工作时长越长，员工能获得更高的评价。</li><li>但绩效评估与工资，晋升都没有什么相关性，所以员工得到了高绩效评价也不会升职或者涨工资。</li></ul> </li><li><code>离职（left）</code> 
  <ul><li>离职率与员工<strong>满意度</strong>（satisfaction_level）、过去5年是否有<strong>晋升</strong>（promotion_last_5years）、是否有<strong>工伤</strong>（work_accident）、<strong>工资薪酬</strong>（salary）呈<strong>负相关</strong>（-）关系。如果员工对公司不太满意，且个人价值实现不高，那么离职的可能性会很大。</li><li>离职率与员工的<strong>在公司的年份</strong>（time_spend_company）呈较大<strong>正相关</strong>（+）关系。与<strong>平均每月工作时间</strong>（average_montly_hours），所在<strong>部门</strong>（department）也呈些许正相关性。</li></ul> </li></ul> 
<pre><code class="prism language-python">corr <span class="token operator">=</span> df<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment"># pearson相关系数</span>
mask <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros_like<span class="token punctuation">(</span>corr<span class="token punctuation">)</span>
mask<span class="token punctuation">[</span>np<span class="token punctuation">.</span>tril_indices_from<span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">True</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token keyword">with</span> sns<span class="token punctuation">.</span>axes_style<span class="token punctuation">(</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>rc<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'figure.figsize'</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>corr<span class="token punctuation">,</span> 
                xticklabels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> yticklabels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> 
                cmap<span class="token operator">=</span><span class="token string">'RdBu'</span><span class="token punctuation">,</span> <span class="token comment"># cmap='YlGnBu',  # 颜色</span>
                mask<span class="token operator">=</span>mask<span class="token punctuation">,</span>   <span class="token comment"># 使用掩码只绘制矩阵的一部分</span>
                fmt<span class="token operator">=</span><span class="token string">'.3f'</span><span class="token punctuation">,</span>     <span class="token comment"># 格式设置</span>
                annot<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>    <span class="token comment"># 方格内写入数据</span>
                linewidths<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token comment"># 热力图矩阵之间的间隔大小</span>
                vmax<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span>       <span class="token comment"># 图例中最大值</span>
                square <span class="token operator">=</span> <span class="token boolean">True</span>
                <span class="token comment"># center = 0</span>
                <span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Correlation"</span><span class="token punctuation">)</span>
label_x <span class="token operator">=</span> ax<span class="token punctuation">.</span>get_xticklabels<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>setp<span class="token punctuation">(</span>label_x<span class="token punctuation">,</span>rotation<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">,</span> horizontalalignment<span class="token operator">=</span><span class="token string">'right'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/b8/fiwNKL6F_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="23_938"></a>2.3.变量分析</h4> 
<h5><a id="231__939"></a>2.3.1. 公司当前员工离职与在职的比率</h5> 
<pre><code class="prism language-python">left_count <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"left_count"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">trace <span class="token operator">=</span> Pie<span class="token punctuation">(</span>labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'在职'</span><span class="token punctuation">,</span><span class="token string">'离职'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> values <span class="token operator">=</span> left_count<span class="token punctuation">.</span>left_count<span class="token punctuation">,</span>
            hoverinfo <span class="token operator">=</span> <span class="token string">"labels + percent + name"</span><span class="token punctuation">,</span>
            marker <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>colors <span class="token operator">=</span> colors<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> hole <span class="token operator">=</span> <span class="token number">.6</span><span class="token punctuation">,</span> pull <span class="token operator">=</span> <span class="token number">.1</span><span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"员工在职与离职的比率"</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">380</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">380</span><span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span>trace<span class="token punctuation">]</span><span class="token punctuation">,</span> layout <span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/f7/6c/oxBaJKUR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="232__961"></a>2.3.2. 公司员工的满意度与入职年份的关系</h5> 
<pre><code class="prism language-python">time_mean_satifaction <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'time_spend_company'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'satisfaction_level'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"average_satisfaction"</span><span class="token punctuation">)</span> <span class="token comment"># 取满意度的均值的</span>
</code></pre> 
<pre><code class="prism language-python">trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x<span class="token operator">=</span>time_mean_satifaction<span class="token punctuation">.</span>time_spend_company<span class="token punctuation">,</span> y<span class="token operator">=</span>time_mean_satifaction<span class="token punctuation">.</span>average_satisfaction<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color <span class="token operator">=</span> colors<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span> <span class="token string">"员工满意度与公司在职时间有什么关联？"</span><span class="token punctuation">,</span>
                width <span class="token operator">=</span> <span class="token number">700</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span>
                xaxis <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"在公司时间（年）"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                yaxis <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"平均满意度"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span>trace<span class="token punctuation">]</span><span class="token punctuation">,</span>layout<span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/12/41/Wxa8Dogm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="233__980"></a>2.3.3. 公司各部门的员工离职与在职情况对比</h5> 
<p>可以看出，sales部门的离职人数最多，有1014人，其次是technical技术部门离职697人。</p> 
<pre><code class="prism language-python">depart_left_table <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>index<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'department'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
left_eles <span class="token operator">=</span> df<span class="token punctuation">.</span>left<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> l <span class="token keyword">in</span> left_eles<span class="token punctuation">:</span>
    trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x <span class="token operator">=</span> depart_left_table<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> depart_left_table<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'离职'</span> <span class="token keyword">if</span> l <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token string">'在职'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>orientation<span class="token operator">=</span><span class="token string">'h'</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>l<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>trace<span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"每个部门的离职员工数与在职员工数对比"</span><span class="token punctuation">,</span> barmode<span class="token operator">=</span><span class="token string">"stack"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">,</span>yaxis<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"部门"</span><span class="token punctuation">,</span>tickmode<span class="token operator">=</span><span class="token string">"array"</span><span class="token punctuation">,</span>tickvals<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>department_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ticktext<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>department_dict<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data<span class="token operator">=</span> data<span class="token punctuation">,</span> layout<span class="token operator">=</span>layout<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/e2/11/sTOhjNTz_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="234__1004"></a>2.3.4. 公司各部门的员工的工资水平</h5> 
<p>销售部门（sales）低工资水平（low salary）的最多，有2099人,其次是技术部门(technical)与后勤部门(support),分别为1372人与1146人。</p> 
<pre><code class="prism language-python">depart_salary_table <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>index<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'department'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># depart_salary_table</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x<span class="token operator">=</span>depart_salary_table<span class="token punctuation">.</span>index<span class="token punctuation">,</span> y<span class="token operator">=</span>depart_salary_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>name<span class="token operator">=</span>salary_dict<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>trace<span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"公司各部门的员工工资情况"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">800</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">450</span><span class="token punctuation">,</span>xaxis <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>tickmode<span class="token operator">=</span><span class="token string">"array"</span><span class="token punctuation">,</span>tickvals<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>department_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ticktext<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>department_dict<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">,</span>layout <span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/7c/f0/veijdbDs_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="235__1028"></a>2.3.5 员工薪资与离职率</h5> 
<p>低薪与中等薪资的员工离职率偏高分别是42%，26%，高薪员工只用7%的离职率。</p> 
<pre><code class="prism language-python">salary_left_table<span class="token operator">=</span>pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>index<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x<span class="token operator">=</span>salary_left_table<span class="token punctuation">.</span>index<span class="token punctuation">,</span> y<span class="token operator">=</span>salary_left_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"在职"</span> <span class="token keyword">if</span> i <span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"离职"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>trace<span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"员工薪资对离职的影响"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">580</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">350</span><span class="token punctuation">,</span>xaxis <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>tickmode<span class="token operator">=</span><span class="token string">"array"</span><span class="token punctuation">,</span>tickvals<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>salary_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ticktext<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>salary_dict<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">,</span>layout <span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/54/47/d3kN93cM_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="236_5_1049"></a>2.3.6. 员工过去5年的升职情况与离职对比</h5> 
<p>过去5年都没有升过职的员工离职率相比升过职的要高出很多。升过职的员工94%都在职。</p> 
<pre><code class="prism language-python">promotion_left_table<span class="token operator">=</span>pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>index<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'promotion'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python">promotion_dict <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">:</span><span class="token string">"没有升职"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token string">"升过职"</span><span class="token punctuation">}</span>
data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x<span class="token operator">=</span>promotion_left_table<span class="token punctuation">.</span>index<span class="token punctuation">,</span> y<span class="token operator">=</span>promotion_left_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"在职"</span> <span class="token keyword">if</span> i <span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"离职"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>trace<span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"员工过去5年是否升职对离职的影响"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">350</span><span class="token punctuation">,</span>xaxis <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>tickmode<span class="token operator">=</span><span class="token string">"array"</span><span class="token punctuation">,</span>tickvals<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>promotion_dict<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ticktext<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>promotion_dict<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">,</span>layout <span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b0/f0/zCPSsfKy_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="237__1071"></a>2.3.7. 员工绩效与离职的对比</h5> 
<p>离职员工不乏很多获得高度评价的</p> 
<pre><code class="prism language-python">eva_left_table <span class="token operator">=</span> pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>index<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'last_evaluation'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> columns<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre> 
<pre><code class="prism language-python">data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    trace <span class="token operator">=</span> Bar<span class="token punctuation">(</span>x<span class="token operator">=</span>eva_left_table<span class="token punctuation">.</span>index<span class="token punctuation">,</span> y<span class="token operator">=</span>eva_left_table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"在职"</span> <span class="token keyword">if</span> i <span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"离职"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>marker<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>trace<span class="token punctuation">)</span>
layout <span class="token operator">=</span> Layout<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">"员工的绩效评估对离职的影响"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>height<span class="token operator">=</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token comment">#xaxis = dict(tickmode="array",tickvals=list(promotion_dict.keys()),ticktext=list(promotion_dict.values())))</span>
iplot<span class="token punctuation">(</span>Figure<span class="token punctuation">(</span>data <span class="token operator">=</span> data<span class="token punctuation">,</span>layout <span class="token operator">=</span> layout<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/f9/NbUzFwz7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_1095"></a>3.总结</h3> 
<h4><a id="31__1097"></a>3.1. 离职原因分析</h4> 
<p>根据上面的👆分析，总的来看，<strong>离职员工的特征</strong>有以下几点：</p> 
<ul><li>对公司<strong>满意度低</strong>；</li><li>平均<strong>每天工作时长</strong>为10.4个小时（按一个月每周工作5天来计算），工作劳累；</li><li><strong>薪资</strong>大多为中低水平；</li><li>过去5年基本<strong>没有升过职</strong>；</li><li>离职员工大部分来自<strong>销售</strong>、<strong>技术</strong>与<strong>后勤</strong>部门，销售部门占主要；</li><li>员工离职<strong>并不是单纯的因为绩效不好</strong>，相反，有一大半的离职员工的绩效评价都很高，在0.8-1之间都存在。结合之前相关性分析的发现，高绩效并不会带来升职和加薪，这也从侧面说明了为什么许多获得高评价的员工也会离职的原因。</li></ul> 
<p><strong>所以，公司里大部分员工离职是因为满意度低、工资低、个人价值实现得不到满足。</strong></p> 
<h4><a id="32__1110"></a>3.2. 公司需要思考🤔的问题</h4> 
<ul><li>为什么获得高绩效评价的员工离职率也很高？甚至评价最高的离职员工数有170多人？为什么这部分员工等不到升职与加薪？</li><li>为什么销售部门的离职员工最多？</li><li>为什么员工对公司的满意度低？</li></ul> 
<p>公司应该为员工创造一个良好的工作氛围，待遇与职业发展，更大限度的让员工实现自身的价值，从而更好的留住员工。</p> 
<h3><a id="_1117"></a>参考</h3> 
<p><a href="https://www.kaggle.com/mizanhadi/hr-employee-data-visualisation" rel="nofollow">[1]https://www.kaggle.com/mizanhadi/hr-employee-data-visualisation</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/096b56f2219ed0265244208359ff7bbe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[ 数据结构 ] 最小生成树(MST)--------普里姆算法、克鲁斯卡尔算法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dfe8c8b33b945698fe3b9a1603e11bad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Js】前端使用xlsx.full.min.js读取和导出excel表格数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>