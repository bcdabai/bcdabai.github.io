<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络协议之以太网协议解析 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络协议之以太网协议解析" />
<meta property="og:description" content="Ethernet ：以太网协议，用于实现链路层的数据传输和地址封装（MAC），以太网是局域网使用最广泛的协议，由于部署简单，价格低廉，被IEEE委员会标准化。
封装原理：
以太网的数据帧格式如下图所示：
它由6个字节的目的MAC地址，6个字节的源MAC地址，2个字节的类型域（用于标示封装在这个Frame、里面的数据的类型）。接下来是46-1500字节的数据和4字节的帧校验。
前同步码：8字节，前7个0，1交替的字节（10101010）用来同步接收站，一个1010101011字节指出帧的开始位置。报头提供接收器同步和帧界定服务。
目标地址：标识目的通信方的MAC地址，6个字节，单播多播或者广播。单播地址叫个人、物理、硬件或MAC地址，广播地址为全1, 0xFF FF FF FF 。
源地址：标识发送端的MAC地址，6个字节，指出发送节点的单点广播地址。
以太类型：2个字节，用来指出以太网帧内所含的上层协议。即帧格式的协议标识符。对于IP报文来说，该字段值是0x0800。对于ARP信息来说，以太类型字段的值是0x0806。
以太类型值(16进制)对应协议 0x0000 -0x05DC IEEE 802.3 长度 0x0101-0x01FF 实验 0x0600 XEROX NS IDP 0x0660-0x0661 DLOG 0x0800 网际协议（IP） 0x0801 X.75 Internet 0x0802 NBS Internet 0x0803 ECMA Internet 0x0804 Chaosnet 0x0805 X.25 Level 3 0x0806 地址解析协议（ARP ： Address Resolution Protocol） 0x0808 帧中继 ARP （Frame Relay ARP） [RFC1701] 0x6559 原始帧中继（Raw Frame Relay） [RFC1701] 0x8035 动态 DARP （DRARP：Dynamic RARP）反向地址解析协议（RARP：Reverse Address Resolution Protocol） 0x8037 Novell Netware IPX 0x809B EtherTalk 0x80D5 IBM SNA Services over Ethernet 0x80F3 AppleTalk 地址解析协议（AARP：AppleTalk Address Resolution Protocol） 0x8100 以太网自动保护开关（EAPS：Ethernet Automatic Protection Switching） 0x8137 因特网包交换（IPX：Internet Packet Exchange） 0x814C 简单网络管理协议（SNMP：Simple Network Management Protocol） 0x86DD 网际协议v6（IPv6，Internet Protocol version 6） 0x8809 OAM 0x880B 点对点协议（PPP：Point-to-Point Protocol） 0x880C 通用交换管理协议（GSMP：General Switch Management Protocol） 0x8847 多协议标签交换（单播） MPLS：Multi-Protocol Label Switching &lt;unicast&gt;） 0x8848 多协议标签交换（组播）（MPLS, Multi-Protocol Label Switching &lt;multicast&gt;） 0x8863 以太网上的 PPP（发现阶段）（PPPoE：PPP Over Ethernet &lt;Discovery Stage&gt;） 0x8864 以太网上的 PPP（PPP 会话阶段） （PPPoE，PPP Over Ethernet&lt;PPP Session Stage&gt;） 0x88BB 轻量级访问点协议（LWAPP：Light Weight Access Point Protocol） 0x88CC 链接层发现协议（LLDP：Link Layer Discovery Protocol） 0x8E88 局域网上的 EAP（EAPOL：EAP over LAN） 0x9000 配置测试协议（Loopback） 0x9100 VLAN 标签协议标识符（VLAN Tag Protocol Identifier） 0x9200 VLAN 标签协议标识符（VLAN Tag Protocol Identifier） 0xFFFF 保留" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9194f10935a25ee8e6ad24ef67f71651/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-18T18:03:34+08:00" />
<meta property="article:modified_time" content="2020-04-18T18:03:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络协议之以太网协议解析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;">Ethernet ：以太网协议，用于实现链路层的数据传输和地址封装（MAC），以太网是局域网使用最广泛的协议，由于部署简单，价格低廉，被IEEE委员会标准化。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">封装原理：</p> 
<p style="margin-left:0cm;"><img alt="" height="115" src="https://images2.imgbox.com/30/22/9yWA3V9C_o.png" width="987"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">以太网的数据帧格式如下图所示：</p> 
<p style="margin-left:0cm;"><img alt="" height="255" src="https://images2.imgbox.com/87/43/ktBiydQ4_o.png" width="887"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">它由6个字节的目的MAC地址，6个字节的源MAC地址，2个字节的类型域（用于标示封装在这个Frame、里面的数据的类型）。接下来是46-1500字节的数据和4字节的帧校验。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">   <strong>前同步码</strong>：8字节，前7个0，1交替的字节（10101010）用来同步接收站，一个1010101011字节指出帧的开始位置。报头提供接收器同步和帧界定服务。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">   <strong>目标地址</strong>：标识目的通信方的MAC地址，6个字节，单播多播或者广播。单播地址叫个人、物理、硬件或MAC地址，广播地址为全1,  0xFF FF FF FF 。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">  <strong> 源地址</strong>：标识发送端的MAC地址，6个字节，指出发送节点的单点广播地址。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">   <strong>以太类型</strong>：2个字节，用来指出以太网帧内所含的上层协议。即帧格式的协议标识符。对于IP报文来说，该字段值是0x0800。对于ARP信息来说，以太类型字段的值是0x0806。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">以太类型值(16进制)对应协议 </p> 
<p style="margin-left:0cm;">0x0000 -0x05DC          IEEE 802.3 长度  </p> 
<p style="margin-left:0cm;">0x0101-0x01FF     实验  </p> 
<p style="margin-left:0cm;">0x0600                              XEROX NS IDP  </p> 
<p style="margin-left:0cm;">0x0660-0x0661                DLOG  </p> 
<p style="margin-left:0cm;">0x0800                               网际协议（IP）  </p> 
<p style="margin-left:0cm;">0x0801                             X.75  Internet  </p> 
<p style="margin-left:0cm;">0x0802                             NBS Internet  </p> 
<p style="margin-left:0cm;">0x0803                             ECMA Internet  </p> 
<p style="margin-left:0cm;">0x0804                              Chaosnet  </p> 
<p style="margin-left:0cm;">0x0805                               X.25 Level 3  </p> 
<p style="margin-left:0cm;">0x0806                               地址解析协议（ARP ： Address Resolution Protocol） </p> 
<p style="margin-left:0cm;">0x0808                             帧中继 ARP （Frame Relay ARP） [RFC1701] </p> 
<p style="margin-left:0cm;">0x6559                             原始帧中继（Raw Frame Relay） [RFC1701] </p> 
<p style="margin-left:0cm;">0x8035                               动态 DARP （DRARP：Dynamic RARP）反向地址解析协议（RARP：Reverse Address Resolution Protocol） </p> 
<p style="margin-left:0cm;">0x8037                               Novell Netware IPX  </p> 
<p style="margin-left:0cm;">0x809B                              EtherTalk  </p> 
<p style="margin-left:0cm;">0x80D5                              IBM SNA Services over Ethernet  </p> 
<p style="margin-left:0cm;">0x80F3                      AppleTalk 地址解析协议（AARP：AppleTalk Address Resolution Protocol） </p> 
<p style="margin-left:0cm;">0x8100                             以太网自动保护开关（EAPS：Ethernet Automatic Protection Switching） </p> 
<p style="margin-left:0cm;">0x8137                             因特网包交换（IPX：Internet Packet Exchange） </p> 
<p style="margin-left:0cm;">0x814C                             简单网络管理协议（SNMP：Simple Network Management Protocol） </p> 
<p style="margin-left:0cm;">0x86DD                              网际协议v6（IPv6，Internet Protocol version 6） </p> 
<p style="margin-left:0cm;">0x8809                             OAM </p> 
<p style="margin-left:0cm;">0x880B                              点对点协议（PPP：Point-to-Point Protocol） </p> 
<p style="margin-left:0cm;">0x880C                             通用交换管理协议（GSMP：General Switch Management Protocol） </p> 
<p style="margin-left:0cm;">0x8847                      多协议标签交换（单播） MPLS：Multi-Protocol Label Switching &lt;unicast&gt;） </p> 
<p style="margin-left:0cm;">0x8848                      多协议标签交换（组播）（MPLS, Multi-Protocol Label Switching &lt;multicast&gt;） </p> 
<p style="margin-left:0cm;">0x8863                      以太网上的 PPP（发现阶段）（PPPoE：PPP Over Ethernet &lt;Discovery Stage&gt;） </p> 
<p style="margin-left:0cm;">0x8864    以太网上的 PPP（PPP 会话阶段） （PPPoE，PPP Over Ethernet&lt;PPP Session Stage&gt;） </p> 
<p style="margin-left:0cm;">0x88BB                      轻量级访问点协议（LWAPP：Light Weight Access Point Protocol）  0x88CC  链接层发现协议（LLDP：Link Layer Discovery Protocol） </p> 
<p style="margin-left:0cm;">0x8E88                             局域网上的 EAP（EAPOL：EAP over LAN） </p> 
<p style="margin-left:0cm;">0x9000                             配置测试协议（Loopback） </p> 
<p style="margin-left:0cm;">0x9100                             VLAN 标签协议标识符（VLAN Tag Protocol Identifier） </p> 
<p style="margin-left:0cm;">0x9200                               VLAN 标签协议标识符（VLAN Tag Protocol Identifier）  </p> 
<p style="margin-left:0cm;">0xFFFF                              保留</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><strong>帧检验序列</strong>：4个字节。验证比特完整性。</p> 
<p style="margin-left:0cm;"><strong>以太网协议中的数据：</strong>指的是包含上层各种协议头在内和真正实际数据的总和</p> 
<p style="margin-left:0cm;"><img alt="" height="242" src="https://images2.imgbox.com/2b/7c/6PuFnk5y_o.png" width="955"></p> 
<p style="margin-left:0cm;">相关知识点解析：</p> 
<p style="margin-left:0cm;">1.MAC地址</p> 
<p style="margin-left:0cm;">①所有设备的MAC地址都是全球唯一的；</p> 
<p style="margin-left:0cm;">②MAC地址是16进制表示的，长度为48bit，采用冒号分16进制表示；</p> 
<p style="margin-left:0cm;">③MAC地址前半部分被称为“OUI代码”厂商唯一标志符，用于唯一标志一个企业/公司，例如思科、TP-LINK、华为；后半部分厂商自行分配，B8:bc:1b表示华为OUI代码，极路由Hiwifi的OUI代码为d4:ee:07</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">2.有效负载：由一个上层协议的协议数据单元PDU构成。可以发送的最大有效负载是1500字节。由于以太网的冲突检测特性，有效负载至少是46个字节。如果上层协议数据单元长度少于46个字节，必须增补到46个字节。如下抓包中的padding字段就是数据小于46个字节，填充的0</p> 
<p style="margin-left:0cm;"><img alt="" height="494" src="https://images2.imgbox.com/06/15/OXge3W2L_o.png" width="1200"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">3. 以太网协议仅仅是链路层/局域网通信中的一种标准，还有其他链路层协议，令牌网、总线网、FDDI等，以太网帧结构按IEEE划分还包括IEEE802.3和IEEE802.2标准，细分如下：</p> 
<p style="margin-left:0cm;"><img alt="" height="682" src="https://images2.imgbox.com/a7/6f/RvJ0e4WO_o.png" width="803"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e0876d2f900d5fc942da33e082c6732/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决scrapy中创建请求，部分url丢失的情况</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1be4dd81f1fe31c5fdc6279d91ee613e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python极简讲义——一本书入门数据分析与机器学习（序言）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>