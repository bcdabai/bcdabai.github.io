<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32学习记录——74HC595四位数码管显示 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32学习记录——74HC595四位数码管显示" />
<meta property="og:description" content="数模管作为STM32的一个重要外设，由于其成本低、稳定，被用于许多场景中。本篇文章来介绍下四位数码管的使用方法。
数码管显示 一、数码管的分类二、74HC595芯片（串入并出）三、原理图四、代码主要操作五、代码分析1.void HC595_GPIO_Configuration(void);2.void HC595_Send_Byte(unsigned char byte)3.void HC595_Send_Data(unsigned char num, unsigned char show_bit);4.void display(unsigned int n) 总结 一、数码管的分类 数码管分为共阴数码管和共阳数码管，共阴和共阳的区别就在于，输出1还是输出0的时候，能点亮数码管的一小段。
在这篇文章中，所使用的是由两片74HC595芯片控制的4位数码管
挂几张图
二、74HC595芯片（串入并出） 该芯片是一个8位串行输入、并行输出的位移缓存器。（缓存器在控制数码管中具有重要作用）
Q0~Q7：并行输出
Q7’：串行输出
SH_CP：移位寄存器时钟输入
ST_CP：存储寄存器时钟输入
DS：串行输入
使用两片74HC595芯片，第一片74HC595芯片的Q7口，也就是串行输出口可以向下一片的74HC595芯片的串行输入口输入数据。
第二片74HC595芯片是用于控制数码管输出显示，而第一片74HC595芯片只使用了QA、QB、QC、QD四个管脚来储存信息。
三、原理图 对于4位的数码管模块，接线选择为
VCC------------&gt;供电 DIO------------&gt;PB13 RCLK------------&gt;PB12 当八个数据完全传入缓冲区，此时拉高RCLK，八位数据便可以一次性全部输出。 SCLK------------&gt;PB15 控制串入的时钟信号线，当有一个上升沿，便传入一个数据。 GND------------&gt;接地 本文主要使用PB13 、PB12 、PB15 来控制数码管的显示数据。
以下使用数码管也是以这三个端口进行分析。
四、代码主要操作 主要是由以下四个函数构成：
void HC595_GPIO_Configuration(void); void HC595_Send_Data(unsigned char num, unsigned char show_bit); void HC595_Send_Byte(unsigned char byte)； void display(unsigned int n); 五、代码分析 1.void HC595_GPIO_Configuration(void); 该函数主要是使能接在4位数码管的主要GPIO口，如上文提到的一般：
/************************ VCC------------&gt;供电 DIO------------&gt;PB13 RCLK------------&gt;PB12 SCLK------------&gt;PB15 GND------------&gt;接地 **************************/ unsigned int num[] = {0xc0, 0xf9, 0xa4, 0xb0, 0x99, 0x92, 0x82, 0xf8, 0x80, 0x90, 0xff, 0x00}; //创建一个数组，0-9所对应的十六进制数 void HC595_GPIO_Configuration(void) { GPIO_InitTypeDef GPIO_InitStructure; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE); GPIO_InitStructure." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3779b9fa706c7660b033f428934b558e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-23T18:40:57+08:00" />
<meta property="article:modified_time" content="2021-04-23T18:40:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32学习记录——74HC595四位数码管显示</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><font color="#999AAA">数模管作为STM32的一个重要外设，由于其成本低、稳定，被用于许多场景中。本篇文章来介绍下四位数码管的使用方法。</font></p> 
<hr color="#000000" size='1"'> 
<p></p> 
<div class="toc"> 
 <h4>数码管显示</h4> 
 <ul><li><a href="#_15" rel="nofollow">一、数码管的分类</a></li><li><a href="#74HC595_24" rel="nofollow">二、74HC595芯片（串入并出）</a></li><li><a href="#_38" rel="nofollow">三、原理图</a></li><li><a href="#_53" rel="nofollow">四、代码主要操作</a></li><li><a href="#_64" rel="nofollow">五、代码分析</a></li><li><ul><li><a href="#1void_HC595_GPIO_Configurationvoid_65" rel="nofollow">1.void HC595_GPIO_Configuration(void);</a></li><li><a href="#2void_HC595_Send_Byteunsigned_char_byte_97" rel="nofollow">2.void HC595_Send_Byte(unsigned char byte)</a></li><li><a href="#3void_HC595_Send_Dataunsigned_char_num_unsigned_char_show_bit_146" rel="nofollow">3.void HC595_Send_Data(unsigned char num, unsigned char show_bit);</a></li><li><a href="#4void_displayunsigned_int_n_177" rel="nofollow">4.void display(unsigned int n)</a></li></ul> 
  </li><li><a href="#_201" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<p><br></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_15"></a>一、数码管的分类</h2> 
<p>数码管分为共阴数码管和共阳数码管，共阴和共阳的区别就在于，输出1还是输出0的时候，能点亮数码管的一小段。</p> 
<p><strong>在这篇文章中，所使用的是由两片74HC595芯片控制的4位数码管</strong><br> <img src="https://images2.imgbox.com/14/e2/RvfNQLJe_o.jpg" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/eb/fc/p8MbR78F_o.jpg" alt="在这里插入图片描述"><br> 挂几张图</p> 
<h2><a id="74HC595_24"></a>二、74HC595芯片（串入并出）</h2> 
<p>该芯片是一个8位串行输入、并行输出的位移缓存器。（缓存器在控制数码管中具有重要作用）<br> <img src="https://images2.imgbox.com/dd/aa/99R6Q0mf_o.png" alt="芯片引脚图"><br> <img src="https://images2.imgbox.com/5b/2f/CGdcrCfO_o.png" alt="16个管脚分别对应的作用">Q0~Q7：并行输出<br> Q7’：串行输出<br> SH_CP：移位寄存器时钟输入<br> ST_CP：存储寄存器时钟输入<br> DS：串行输入</p> 
<p>使用两片74HC595芯片，第一片74HC595芯片的Q7口，也就是串行输出口可以向下一片的74HC595芯片的串行输入口输入数据。<br> 第二片74HC595芯片是用于控制数码管输出显示，而第一片74HC595芯片只使用了QA、QB、QC、QD四个管脚来储存信息。</p> 
<p><img src="https://images2.imgbox.com/c5/11/n2y0TuHA_o.png" alt="两片74HC595芯片之间的联系"></p> 
<h2><a id="_38"></a>三、原理图</h2> 
<p><img src="https://images2.imgbox.com/1c/ec/wKi3ioKe_o.png" alt="原理图"><br> 对于4位的数码管模块，接线选择为</p> 
<pre><code class="prism language-c">VCC<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>供电
DIO<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>PB13
RCLK<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>PB12  当八个数据完全传入缓冲区，此时拉高RCLK，八位数据便可以一次性全部输出。
SCLK<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>PB15   控制串入的时钟信号线，当有一个上升沿，便传入一个数据。
GND<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>接地
</code></pre> 
<p>本文主要使用PB13 、PB12 、PB15 来控制数码管的显示数据。<br> 以下使用数码管也是以这三个端口进行分析。</p> 
<h2><a id="_53"></a>四、代码主要操作</h2> 
<p>主要是由以下四个函数构成：</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">HC595_GPIO_Configuration</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> num<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> show_bit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">HC595_Send_Byte</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> byte<span class="token punctuation">)</span>；
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<h2><a id="_64"></a>五、代码分析</h2> 
<h3><a id="1void_HC595_GPIO_Configurationvoid_65"></a>1.void HC595_GPIO_Configuration(void);</h3> 
<p>该函数主要是使能接在4位数码管的主要GPIO口，如上文提到的一般：</p> 
<pre><code class="prism language-c"><span class="token comment">/************************
VCC------------&gt;供电
DIO------------&gt;PB13
RCLK------------&gt;PB12  
SCLK------------&gt;PB15  
GND------------&gt;接地
**************************/</span>

<span class="token keyword">unsigned</span> <span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">0xc0</span><span class="token punctuation">,</span> <span class="token number">0xf9</span><span class="token punctuation">,</span> <span class="token number">0xa4</span><span class="token punctuation">,</span> <span class="token number">0xb0</span><span class="token punctuation">,</span> <span class="token number">0x99</span><span class="token punctuation">,</span> <span class="token number">0x92</span><span class="token punctuation">,</span> <span class="token number">0x82</span><span class="token punctuation">,</span> <span class="token number">0xf8</span><span class="token punctuation">,</span> <span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token number">0x90</span><span class="token punctuation">,</span> <span class="token number">0xff</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//创建一个数组，0-9所对应的十六进制数</span>

<span class="token keyword">void</span> <span class="token function">HC595_GPIO_Configuration</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	GPIO_InitTypeDef GPIO_InitStructure<span class="token punctuation">;</span>

	<span class="token function">RCC_APB2PeriphClockCmd</span><span class="token punctuation">(</span>RCC_APB2Periph_GPIOB<span class="token punctuation">,</span> ENABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	GPIO_InitStructure<span class="token punctuation">.</span>GPIO_Pin <span class="token operator">=</span> GPIO_Pin_12 <span class="token operator">|</span> GPIO_Pin_13 <span class="token operator">|</span> GPIO_Pin_15<span class="token punctuation">;</span>
	GPIO_InitStructure<span class="token punctuation">.</span>GPIO_Speed <span class="token operator">=</span> GPIO_Speed_50MHz<span class="token punctuation">;</span>
	GPIO_InitStructure<span class="token punctuation">.</span>GPIO_Mode <span class="token operator">=</span> GPIO_Mode_Out_PP<span class="token punctuation">;</span>
	<span class="token function">GPIO_Init</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> <span class="token operator">&amp;</span>GPIO_InitStructure<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_12<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_13<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_15<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>作用</strong>：使能相应管脚，并将其全部拉低。</p> 
<h3><a id="2void_HC595_Send_Byteunsigned_char_byte_97"></a>2.void HC595_Send_Byte(unsigned char byte)</h3> 
<pre><code class="prism language-c"><span class="token comment">/*********************************
参数：byte 所传入的数据，
  			是要显示的数字或者是对应显示的位数
**********************************/</span>
<span class="token comment">/************************
VCC------------&gt;供电
DIO------------&gt;PB13
RCLK------------&gt;PB12  
SCLK------------&gt;PB15  
GND------------&gt;接地
**************************/</span>
<span class="token comment">//串入</span>
<span class="token keyword">void</span> <span class="token function">HC595_Send_Byte</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> byte<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>byte <span class="token operator">&amp;</span> <span class="token number">0x80</span><span class="token punctuation">)</span>
			<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_15<span class="token punctuation">,</span> Bit_SET<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span>
			<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_15<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_13<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Delay_us</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_13<span class="token punctuation">,</span> Bit_SET<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">Delay_us</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		byte <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>作用</strong>：发送字节到74HC595芯片的缓冲器中。<br> <strong>分析</strong>：发送的过程很重要，需要搞清所使用的芯片是先低位发送还是先高位。<br> 如图：<br> <img src="https://images2.imgbox.com/f6/aa/cvQA44DT_o.png" alt="时序图"><br> 由74HC595的芯片手册可以知道：74HC595芯片的发送顺序是由QA，一直到QH，到目前为止，我们虽然清楚了该芯片的发送顺序，但是仍然不知道QA和QH究竟哪个是高位。<br> 而在该数据手册中，还可以发现：<br> <img src="https://images2.imgbox.com/51/c1/BKnAzwe4_o.png" alt=""><br> 这张图很明显的说明了问题的关键——QA是高位，QH是低位。<br> 由此我们知道了这个芯片是先写入最高位，再依次发送到最低位。所以在该段函数中，我们通过该数据与（&amp;）0x80，取出最高位，通过DIO口输入1/0，<strong>由于之前所提到的，唯有SCLK到达上升沿的时候，数据才能传入，于是我们在每次循环输入数据的时候，都将SCLK（PB13）拉高10us</strong> ，然后再将所要输入的byte左移一位，继续循环。<br> <em>由于两片74HC595芯片的作用，当第一片74HC595芯片的缓冲区八位都存在数据的时候，此时DIO口继续输入数据，则将会将已有数据顶置到下一片74HC595的缓冲区。</em><br> 因此所要显示数字的数据传入完成后，继续传入其所要求显示的数码管位置，该过程也同理于数字数据的传输过程。</p> 
<h3><a id="3void_HC595_Send_Dataunsigned_char_num_unsigned_char_show_bit_146"></a>3.void HC595_Send_Data(unsigned char num, unsigned char show_bit);</h3> 
<pre><code class="prism language-c"><span class="token comment">/*********************************
参数：num 所要显示的数字，
	show_bit 所显示的位数
**********************************/</span>
<span class="token comment">/************************
VCC------------&gt;供电
DIO------------&gt;PB13
RCLK------------&gt;PB12  
SCLK------------&gt;PB15  
GND------------&gt;接地
**************************/</span>
<span class="token comment">//并出</span>
<span class="token keyword">void</span> <span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> num<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span> show_bit<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">HC595_Send_Byte</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HC595_Send_Byte</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> show_bit<span class="token punctuation">)</span><span class="token punctuation">;</span>  
	
	<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_12<span class="token punctuation">,</span> Bit_RESET<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Delay_us</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">GPIO_WriteBit</span><span class="token punctuation">(</span>GPIOB<span class="token punctuation">,</span> GPIO_Pin_12<span class="token punctuation">,</span> Bit_SET<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Delay_us</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<p><strong>作用</strong>：控制4位数码管的显示位置以及显示的数字<br> <strong>分析</strong>：该函数使用之前所定义和编写的void HC595_Send_Byte(unsigned char byte)函数继续工作，需要注意的是，当数据和位置全部输入后，需要拉高RCLK（PB12）的电平，使其完成显示。</p> 
<h3><a id="4void_displayunsigned_int_n_177"></a>4.void display(unsigned int n)</h3> 
<p>最为关键的显示函数</p> 
<pre><code class="prism language-c">
<span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">static</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> thousand_bit<span class="token punctuation">,</span> hundred_bit<span class="token punctuation">,</span> ten_bit<span class="token punctuation">,</span> single_bit<span class="token punctuation">;</span>
	
	thousand_bit <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>
	hundred_bit <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
	ten_bit <span class="token operator">=</span> n <span class="token operator">%</span> <span class="token number">1000</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
	single_bit <span class="token operator">=</span> n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>
	
	<span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>thousand_bit<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>hundred_bit<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>ten_bit<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">HC595_Send_Data</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>single_bit<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>由于void HC595_Send_Data(unsigned char num, unsigned char show_bit)此函数的显示问题，一次只能显示一个位置的数字，因此需要搭配主函数中的<code>while（1）{ }</code>继续循环显示，利用人眼捕获的时间差，从而动态显示全部的数字。</p> 
<h2><a id="_201"></a>总结</h2> 
<p>以上便是4位数码管的显示方法以及其分析了。<br> 如有不足，还希望指出。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d7cca91fd2ad8e62b9ec361348699c61/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据库笔记：码的理解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0af9d03b346f7f53808762941ac793d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">D. Cut(质因子分解，倍增)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>