<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Codeforces#420 C. Okabe and Boxes - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Codeforces#420 C. Okabe and Boxes" />
<meta property="og:description" content="C. Okabe and Boxes Okabe and Super Hacker Daru are stacking and removing boxes. There are n boxes numbered from 1 to n. Initially there are no boxes on the stack.
Okabe, being a control freak, gives Daru 2*n* commands: n of which are to add a box to the top of the stack, and n of which are to remove a box from the top of the stack and throw it in the trash." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7aaec3e5a390aa39e790fd20f1a66f93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-27T22:17:28+08:00" />
<meta property="article:modified_time" content="2017-06-27T22:17:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Codeforces#420 C. Okabe and Boxes</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="c-okabe-and-boxes">C. Okabe and Boxes</h3> 
<p>Okabe and Super Hacker Daru are stacking and removing boxes. There are <em>n</em> boxes numbered from 1 to <em>n</em>. Initially there are no boxes on the stack.</p> 
<p>Okabe, being a control freak, gives Daru 2*n* commands: <em>n</em> of which are to add a box to the top of the stack, and <em>n</em> of which are to remove a box from the top of the stack and throw it in the trash. Okabe wants Daru to throw away the boxes in the order from 1 to <em>n</em>. Of course, this means that it might be impossible for Daru to perform some of Okabe’s remove commands, because the required box is not on the top of the stack.</p> 
<p>That’s why Daru can decide to wait until Okabe looks away and then reorder the boxes in the stack in any way he wants. He can do it at any point of time between Okabe’s commands, but he can’t add or remove boxes while he does it.</p> 
<p>Tell Daru the minimum number of times he needs to reorder the boxes so that he can successfully complete all of Okabe’s commands. It is guaranteed that every box is added before it is required to be removed.</p> 
<h4 id="input">Input</h4> 
<p>The first line of input contains the integer <em>n</em> (1 ≤ <em>n</em> ≤ 3·105) — the number of boxes.</p> 
<p>Each of the next 2*n* lines of input starts with a string “add” or “remove”. If the line starts with the “add”, an integer <em>x</em> (1 ≤ <em>x</em> ≤ <em>n</em>) follows, indicating that Daru should add the box with number <em>x</em> to the top of the stack.</p> 
<p>It is guaranteed that exactly <em>n</em> lines contain “add” operations, all the boxes added are distinct, and <em>n</em> lines contain “remove” operations. It is also guaranteed that a box is always added before it is required to be removed.</p> 
<h4 id="output">Output</h4> 
<p>Print the minimum number of times Daru needs to reorder the boxes to successfully complete all of Okabe’s commands.</p> 
<p>Examples</p> 
<p>input</p> 
<pre class="prettyprint"><code class=" hljs oxygene"><span class="hljs-number">3</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">2</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">3</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">remove</span></code></pre> 
<p>output</p> 
<pre class="prettyprint"><code class=" hljs ">1</code></pre> 
<p>input</p> 
<pre class="prettyprint"><code class=" hljs oxygene"><span class="hljs-number">7</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">3</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">2</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">4</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">6</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">7</span>
<span class="hljs-keyword">add</span> <span class="hljs-number">5</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">remove</span>
<span class="hljs-keyword">remove</span>
</code></pre> 
<p>output</p> 
<pre class="prettyprint"><code class=" hljs ">2</code></pre> 
<p><strong>题意：</strong></p> 
<blockquote> 
 <p>都知道栈的操作吧，现在有一个向一个栈里放东西，标号为1~n，放的顺序没有定，但是他想要出栈的时候</p> 
 <p>是从1~n的，很明显有时候栈顶不是所要的数字，那么可以借此调整整个栈，现在问需要调整几次。</p> 
</blockquote> 
<p><strong>思路：</strong></p> 
<p>分两种情况：</p> 
<ul><li>当栈顶元素和目标元素相同的时候，那么直接出栈</li><li>当不同的时候就要调整，因为每次调整之后就是所要求的顺序，那么我们连排序都省掉了。直接删除已经排好的顺序既可。</li></ul> 
<p><em>注意：这个规律不是一眼就能看出来的，所需要的是慢慢的模拟，找到规律。</em></p> 
<pre class="prettyprint"><code class="language-c++ hljs perl">
<span class="hljs-comment">#include &lt;iostream&gt;</span>
<span class="hljs-comment">#include &lt;cstdio&gt;</span>
<span class="hljs-comment">#include &lt;algorithm&gt;</span>
<span class="hljs-comment">#include &lt;cstring&gt;</span>

using namespace std;

const <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">300005</span>;

<span class="hljs-keyword">int</span> n;
char str[<span class="hljs-number">10</span>];
<span class="hljs-keyword">int</span> <span class="hljs-keyword">s</span>[maxn],<span class="hljs-keyword">pos</span>;

<span class="hljs-keyword">int</span> main()
{
    <span class="hljs-regexp">//freopen</span>(<span class="hljs-string">"in.txt"</span>,<span class="hljs-string">"r"</span>,stdin);

    scanf(<span class="hljs-string">"<span class="hljs-variable">%d</span>"</span>,&amp;n);
    <span class="hljs-keyword">pos</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">int</span> out = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n<span class="hljs-variable">*2</span>; i++) {
        scanf(<span class="hljs-string">"<span class="hljs-variable">%s</span>"</span>,str);
        <span class="hljs-keyword">if</span>(strcmp(str,<span class="hljs-string">"add"</span>) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">int</span> temp;
            scanf(<span class="hljs-string">"<span class="hljs-variable">%d</span>"</span>,&amp;temp);
            <span class="hljs-keyword">s</span>[<span class="hljs-keyword">pos</span>++] = temp;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">pos</span> != <span class="hljs-number">0</span> &amp;&amp;  <span class="hljs-keyword">s</span>[<span class="hljs-keyword">pos</span>-<span class="hljs-number">1</span>] == out) {
                <span class="hljs-keyword">pos</span>--;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-regexp">//sort</span>(<span class="hljs-keyword">s</span>,<span class="hljs-keyword">s</span>+<span class="hljs-keyword">pos</span>,cmp);
                <span class="hljs-keyword">if</span>(<span class="hljs-keyword">pos</span> != <span class="hljs-number">0</span>)
                    ans ++;
                <span class="hljs-keyword">pos</span> = <span class="hljs-number">0</span>;
            }
            out++;
        }
    }
    <span class="hljs-keyword">printf</span>(<span class="hljs-string">"<span class="hljs-variable">%d</span>\n"</span>,ans);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9fa8520b401fb0cb47cb84ad00c03ee/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【OpenCV3学习笔记 】相机标定函数 calibrateCamera( ) 使用详解（附相机标定程序和数据）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6b0de2e0572534e72c872ffff70767a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">eclipse 配置信息迁移</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>