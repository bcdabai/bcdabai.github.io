<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TwinCAT3 PLC多轴编程的方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="TwinCAT3 PLC多轴编程的方法" />
<meta property="og:description" content="测试共有13个轴，前10个轴包含基本功能，后3个轴包含独有功能。
方法一 定义每个轴的基本功能，包括上电、下电、走相对、走绝对、读位置、读状态、复位、停止等。
在Axis_Base_PTP中定义变量：
FUNCTION_BLOCK Axis_Base_PTP VAR REF: AXIS_REF; mcMoveRela: MC_MoveRelative; mcPower: MC_Power; mcStop: MC_Stop; mcMoveAbs: MC_MoveAbsolute; mcReset: MC_Reset; mcReadPosition: MC_ReadActualPosition; mcReadStatus: MC_ReadStatus; mcHalt: MC_Halt; AxisPara:ST_AxisPara; END_VAR M_PowerOn方法代码：
METHOD M_PowerOn : BOOL VAR_INPUT bExcute : BOOL; END_VAR VAR_OUTPUT bStatus : BOOL; (* B *) bBusy : BOOL; (* V *) bActive : BOOL; (* V *) bError : BOOL; (* B *) dErrorID : UDINT; (* E *) END_VAR IF bExcute THEN mcPower( Axis:= REF, Enable:= TRUE, Enable_Positive:= TRUE, Enable_Negative:= TRUE, Override:= AxisPara." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/493019e5a6c149f3a217c25aed77472a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-16T17:00:30+08:00" />
<meta property="article:modified_time" content="2020-07-16T17:00:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">TwinCAT3 PLC多轴编程的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>测试共有13个轴，前10个轴包含基本功能，后3个轴包含独有功能。</p> 
<h3><a id="_1"></a>方法一</h3> 
<p>定义每个轴的基本功能，包括上电、下电、走相对、走绝对、读位置、读状态、复位、停止等。<br> <img src="https://images2.imgbox.com/52/30/9zzNobUU_o.png" alt="在这里插入图片描述"><br> 在Axis_Base_PTP中定义变量：</p> 
<pre><code class="prism language-cpp">FUNCTION_BLOCK Axis_Base_PTP

VAR
	REF<span class="token operator">:</span> AXIS_REF<span class="token punctuation">;</span>
	mcMoveRela<span class="token operator">:</span> MC_MoveRelative<span class="token punctuation">;</span>
	mcPower<span class="token operator">:</span> MC_Power<span class="token punctuation">;</span>
	mcStop<span class="token operator">:</span> MC_Stop<span class="token punctuation">;</span>
	mcMoveAbs<span class="token operator">:</span> MC_MoveAbsolute<span class="token punctuation">;</span>
	mcReset<span class="token operator">:</span> MC_Reset<span class="token punctuation">;</span>
	mcReadPosition<span class="token operator">:</span> MC_ReadActualPosition<span class="token punctuation">;</span>
	mcReadStatus<span class="token operator">:</span> MC_ReadStatus<span class="token punctuation">;</span>
	mcHalt<span class="token operator">:</span> MC_Halt<span class="token punctuation">;</span>
	
	AxisPara<span class="token operator">:</span>ST_AxisPara<span class="token punctuation">;</span>
END_VAR
</code></pre> 
<p>M_PowerOn方法代码：</p> 
<pre><code class="prism language-cpp">METHOD M_PowerOn <span class="token operator">:</span> BOOL
VAR_INPUT
	bExcute <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
END_VAR

VAR_OUTPUT
    bStatus  <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> B <span class="token operator">*</span><span class="token punctuation">)</span>
    bBusy    <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> V <span class="token operator">*</span><span class="token punctuation">)</span>
    bActive  <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> V <span class="token operator">*</span><span class="token punctuation">)</span>
    bError   <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> B <span class="token operator">*</span><span class="token punctuation">)</span>
    dErrorID <span class="token operator">:</span> UDINT<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> E <span class="token operator">*</span><span class="token punctuation">)</span>
END_VAR
</code></pre> 
<pre><code class="prism language-cpp">IF bExcute THEN
	<span class="token function">mcPower</span><span class="token punctuation">(</span>
	Axis<span class="token operator">:</span><span class="token operator">=</span> REF<span class="token punctuation">,</span> 
	Enable<span class="token operator">:</span><span class="token operator">=</span> TRUE<span class="token punctuation">,</span> 
	Enable_Positive<span class="token operator">:</span><span class="token operator">=</span> TRUE<span class="token punctuation">,</span> 
	Enable_Negative<span class="token operator">:</span><span class="token operator">=</span> TRUE<span class="token punctuation">,</span> 
	Override<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>rOverride<span class="token punctuation">,</span> 
	BufferMode<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
	Options<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
	Status<span class="token operator">=</span><span class="token operator">&gt;</span> bStatus<span class="token punctuation">,</span> 
	Busy<span class="token operator">=</span><span class="token operator">&gt;</span> bBusy<span class="token punctuation">,</span> 
	Active<span class="token operator">=</span><span class="token operator">&gt;</span> bActive<span class="token punctuation">,</span> 
	Error<span class="token operator">=</span><span class="token operator">&gt;</span> bError<span class="token punctuation">,</span> 
	ErrorID<span class="token operator">=</span><span class="token operator">&gt;</span> dErrorID<span class="token punctuation">)</span><span class="token punctuation">;</span>
END_IF
</code></pre> 
<p>M_MoveRela方法代码：</p> 
<pre><code class="prism language-cpp">METHOD M_MoveRela <span class="token operator">:</span> BOOL
VAR_INPUT
	bLimit_1 	<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	bLimit_2 	<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	rDistance 	<span class="token operator">:</span> REAL<span class="token punctuation">;</span>
	rVelocity   <span class="token operator">:</span> REAL<span class="token punctuation">;</span>
	bExcute 	<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
END_VAR

VAR_OUTPUT
    bDone    <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> B <span class="token operator">*</span><span class="token punctuation">)</span>
    bBusy    <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> V <span class="token operator">*</span><span class="token punctuation">)</span>
    bActive  <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> V <span class="token operator">*</span><span class="token punctuation">)</span>
    bError   <span class="token operator">:</span> BOOL<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> B <span class="token operator">*</span><span class="token punctuation">)</span>
    dErrorID <span class="token operator">:</span> UDINT<span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token operator">*</span> E <span class="token operator">*</span><span class="token punctuation">)</span>
END_VAR
</code></pre> 
<pre><code class="prism language-cpp">IF rDistance<span class="token operator">&gt;</span><span class="token number">0</span> THEN
		<span class="token function">mcHalt</span><span class="token punctuation">(</span>
		Axis<span class="token operator">:</span><span class="token operator">=</span> REF<span class="token punctuation">,</span> 
		Execute<span class="token operator">:</span><span class="token operator">=</span> bLimit_1<span class="token punctuation">,</span> 
		Deceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Deceleration<span class="token punctuation">,</span> 
		Jerk<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		BufferMode<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Options<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Done<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Busy<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span>                                   
		Active<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		CommandAborted<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Error<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		ErrorID<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  
	IF NOT bLimit_1 THEN
		<span class="token function">mcMoveRela</span><span class="token punctuation">(</span>
		Axis<span class="token operator">:</span><span class="token operator">=</span> REF<span class="token punctuation">,</span> 
		Execute<span class="token operator">:</span><span class="token operator">=</span> bExcute<span class="token punctuation">,</span> 
		Distance<span class="token operator">:</span><span class="token operator">=</span> rDistance<span class="token punctuation">,</span> 
		Velocity<span class="token operator">:</span><span class="token operator">=</span> rVelocity<span class="token punctuation">,</span> 
		Acceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Acceleration<span class="token punctuation">,</span> 
		Deceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Deceleration<span class="token punctuation">,</span> 
		Jerk<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		BufferMode<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Options<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Done<span class="token operator">=</span><span class="token operator">&gt;</span> bDone<span class="token punctuation">,</span> 
		Busy<span class="token operator">=</span><span class="token operator">&gt;</span> bBusy<span class="token punctuation">,</span> 
		Active<span class="token operator">=</span><span class="token operator">&gt;</span> bActive<span class="token punctuation">,</span> 
		CommandAborted<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Error<span class="token operator">=</span><span class="token operator">&gt;</span> bError<span class="token punctuation">,</span> 
		ErrorID<span class="token operator">=</span><span class="token operator">&gt;</span> dErrorID<span class="token punctuation">)</span><span class="token punctuation">;</span>
	END_IF
	
ELSIF rDistance<span class="token operator">&lt;</span><span class="token number">0</span> THEN
		<span class="token function">mcHalt</span><span class="token punctuation">(</span>
		Axis<span class="token operator">:</span><span class="token operator">=</span> REF<span class="token punctuation">,</span> 
		Execute<span class="token operator">:</span><span class="token operator">=</span> bLimit_2<span class="token punctuation">,</span> 
		Deceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Deceleration<span class="token punctuation">,</span> 
		Jerk<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		BufferMode<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Options<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Done<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Busy<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span>                                   
		Active<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		CommandAborted<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Error<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		ErrorID<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
	IF NOT bLimit_2 THEN
		<span class="token function">mcMoveRela</span><span class="token punctuation">(</span>
		Axis<span class="token operator">:</span><span class="token operator">=</span> REF<span class="token punctuation">,</span> 
		Execute<span class="token operator">:</span><span class="token operator">=</span> bExcute<span class="token punctuation">,</span> 
		Distance<span class="token operator">:</span><span class="token operator">=</span> rDistance<span class="token punctuation">,</span> 
		Velocity<span class="token operator">:</span><span class="token operator">=</span> rVelocity<span class="token punctuation">,</span> 
		Acceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Acceleration<span class="token punctuation">,</span> 
		Deceleration<span class="token operator">:</span><span class="token operator">=</span> AxisPara<span class="token punctuation">.</span>Deceleration<span class="token punctuation">,</span> 
		Jerk<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		BufferMode<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Options<span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">,</span> 
		Done<span class="token operator">=</span><span class="token operator">&gt;</span> bDone<span class="token punctuation">,</span> 
		Busy<span class="token operator">=</span><span class="token operator">&gt;</span> bBusy<span class="token punctuation">,</span> 
		Active<span class="token operator">=</span><span class="token operator">&gt;</span> bActive<span class="token punctuation">,</span> 
		CommandAborted<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">,</span> 
		Error<span class="token operator">=</span><span class="token operator">&gt;</span> bError<span class="token punctuation">,</span> 
		ErrorID<span class="token operator">=</span><span class="token operator">&gt;</span> dErrorID<span class="token punctuation">)</span><span class="token punctuation">;</span>	
	END_IF
END_IF
</code></pre> 
<p>对于附加功能的轴11，继承Axis_Base_PTP，独有的方法M_TurnInOut另外添加。<br> Axis_Base_PTP继承自基类并定义变量：</p> 
<pre><code class="prism language-cpp">FUNCTION_BLOCK Axis11_PTP EXTENDS Axis_Base_PTP
VAR_INPUT
END_VAR

VAR_OUTPUT
	bMagnet_1  AT<span class="token operator">%</span>Q<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	bMagnet_2  AT<span class="token operator">%</span>Q<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
END_VAR

VAR
	bIn <span class="token operator">:</span> BOOL <span class="token operator">:</span><span class="token operator">=</span>FALSE<span class="token punctuation">;</span>
	bOut<span class="token operator">:</span> BOOL <span class="token operator">:</span><span class="token operator">=</span>FALSE<span class="token punctuation">;</span>
	
	TON_0<span class="token operator">:</span> TON<span class="token punctuation">;</span>
	TON_1<span class="token operator">:</span> TON<span class="token punctuation">;</span>
	
	bTemp1<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	bTemp2<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	
	MC_MoveRelative_0<span class="token operator">:</span> MC_MoveRelative<span class="token punctuation">;</span>
	mcHaltChange_0<span class="token operator">:</span> MC_Halt<span class="token punctuation">;</span>
	
END_VAR
</code></pre> 
<p>M_TurnInOut方法代码：</p> 
<pre><code class="prism language-cpp">METHOD M_TurnInOut <span class="token operator">:</span> BOOL
VAR_INPUT
	bTurnIn	 <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	bTurnOut <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	bLimit1	 <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
END_VAR

VAR_OUTPUT
END_VAR
</code></pre> 
<p><img src="https://images2.imgbox.com/bb/1f/G38kwRBj_o.png" alt="在这里插入图片描述"><br> 轴12、13等同理，省略。</p> 
<p>在Main函数中定义变量：</p> 
<pre><code class="prism language-cpp">	<span class="token comment">//定义接口及继承关系</span>
	Axis		<span class="token operator">:</span>   ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">]</span> OF Axis_Base_PTP<span class="token punctuation">;</span>
	Axis11		<span class="token operator">:</span>   Axis11_PTP<span class="token punctuation">;</span>
	Axis12		<span class="token operator">:</span>   Axis12_PTP<span class="token punctuation">;</span>
	Axis13		<span class="token operator">:</span>   Axis13_PTP<span class="token punctuation">;</span>
	
	<span class="token comment">//选择电机轴号</span>
	iAxisNum  AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> UINT<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机轴号<span class="token operator">*</span><span class="token punctuation">)</span>
	
	<span class="token comment">//定义电机运行相对距离参数</span>
	rDistance  AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> REAL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>运动距离<span class="token operator">*</span><span class="token punctuation">)</span>
	rVelocity  AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> REAL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>运动速度<span class="token operator">*</span><span class="token punctuation">)</span>
	
	<span class="token comment">//定义结构体</span>
	AxisPara<span class="token operator">:</span>ST_AxisPara<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>轴参数结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	AxisStatus<span class="token operator">:</span>ST_AxisStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>轴状态结构体<span class="token operator">*</span><span class="token punctuation">)</span>	
	PoweronStatus<span class="token operator">:</span>ST_PoweronStatus<span class="token punctuation">;</span>	<span class="token punctuation">(</span><span class="token operator">*</span>上电模块结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	PoweroffStatus<span class="token operator">:</span>ST_PoweroffStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>下电模块结构体<span class="token operator">*</span><span class="token punctuation">)</span>	
	MoveAbsStatus<span class="token operator">:</span>ST_MoveAbsStatus<span class="token punctuation">;</span>	<span class="token punctuation">(</span><span class="token operator">*</span>绝对运动模式结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	MoveRelaStatus<span class="token operator">:</span>ST_MoveRelaStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>相对运动模式结构体<span class="token operator">*</span><span class="token punctuation">)</span>	
	StopStatus<span class="token operator">:</span>ST_StopStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>停止模块结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	ResetStatus<span class="token operator">:</span>ST_ResetStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>复位模块结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	ReadPosStatus<span class="token operator">:</span>ST_ReadPosStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>读取轴位置结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	HomeStatus<span class="token operator">:</span>ST_HomeStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>寻参模块结构体<span class="token operator">*</span><span class="token punctuation">)</span>
	LimitStatus<span class="token operator">:</span>ST_LimitStatus<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>限位开关状态<span class="token operator">*</span><span class="token punctuation">)</span>
	
	<span class="token comment">//定义指令</span>
	bComPowerOn	 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>上电命令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComPowerOff	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>下电命令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComMoveRela 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>相对位置指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComStop	 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>停止指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComMoveAbs	 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>绝对位置指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComRest	 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>复位指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComReadPos	 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>读取当前位置指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bComReadStatus	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>读取电机状态指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bHome			AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机<span class="token number">13</span>寻参指令<span class="token operator">*</span><span class="token punctuation">)</span>
	bGlassForward	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机<span class="token number">12</span>更换保护玻璃前进<span class="token operator">*</span><span class="token punctuation">)</span>
	bGlassBack		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机<span class="token number">12</span>更换保护玻璃后退<span class="token operator">*</span><span class="token punctuation">)</span>
	bTurnIn			AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机<span class="token number">11</span>转入<span class="token operator">*</span><span class="token punctuation">)</span>
	bTurnOut		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span>  BOOL<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>电机<span class="token number">11</span>转出<span class="token operator">*</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-cpp">CASE iAxisNum OF
	<span class="token number">1</span><span class="token operator">:</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_PowerOn</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOn<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_PowerOff</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOff<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_MoveAbs</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_1_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_1_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveAbs<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_MoveRela</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_1_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_1_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveRela<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_Stop</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComStop<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_Reset</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComRest<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_ReadPosition</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadPos<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bValid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">,</span>lPosition<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>lPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_ReadStatus</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadStatus<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Valid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Busy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Err<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrID<span class="token punctuation">,</span>bErrorStop<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrorStop<span class="token punctuation">,</span>bDisabled<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Disabled<span class="token punctuation">,</span>bStopping<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Stopping<span class="token punctuation">,</span>bStandStill<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_StandStill<span class="token punctuation">,</span>bDiscreteMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_DiscreteMotion<span class="token punctuation">,</span>bContinuousMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ContinuousMotion<span class="token punctuation">,</span>bSynchronizedMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_SynchronizedMotion<span class="token punctuation">,</span>bHoming<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Homing<span class="token punctuation">,</span>bConstantVelocity<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ConstantVelocity<span class="token punctuation">,</span>bAccelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Accelerating<span class="token punctuation">,</span>bDecelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Decelerating<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token number">2</span><span class="token operator">:</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_PowerOn</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOn<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_PowerOff</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOff<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_MoveAbs</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_2_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_2_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveAbs<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_MoveRela</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_2_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_2_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveRela<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_Stop</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComStop<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_Reset</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComRest<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_ReadPosition</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadPos<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bValid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">,</span>lPosition<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>lPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_ReadStatus</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadStatus<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Valid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Busy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Err<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrID<span class="token punctuation">,</span>bErrorStop<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrorStop<span class="token punctuation">,</span>bDisabled<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Disabled<span class="token punctuation">,</span>bStopping<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Stopping<span class="token punctuation">,</span>bStandStill<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_StandStill<span class="token punctuation">,</span>bDiscreteMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_DiscreteMotion<span class="token punctuation">,</span>bContinuousMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ContinuousMotion<span class="token punctuation">,</span>bSynchronizedMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_SynchronizedMotion<span class="token punctuation">,</span>bHoming<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Homing<span class="token punctuation">,</span>bConstantVelocity<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ConstantVelocity<span class="token punctuation">,</span>bAccelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Accelerating<span class="token punctuation">,</span>bDecelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Decelerating<span class="token punctuation">)</span><span class="token punctuation">;</span>
		……………………
	<span class="token number">13</span><span class="token operator">:</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_PowerOn</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOn<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_PowerOff</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComPowerOff<span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweroffStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_MoveAbs</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_13_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_13_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveAbs<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveAbsStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_MoveRela</span><span class="token punctuation">(</span>bLimit_1<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_13_Limit_1<span class="token punctuation">,</span>bLimit_2<span class="token operator">:</span><span class="token operator">=</span>LimitStatus<span class="token punctuation">.</span>Axis_13_Limit_2<span class="token punctuation">,</span>rDistance<span class="token operator">:</span><span class="token operator">=</span>rDistance<span class="token punctuation">,</span>rVelocity<span class="token operator">:</span><span class="token operator">=</span>rVelocity<span class="token punctuation">,</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComMoveRela<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>MoveRelaStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_Stop</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComStop<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>StopStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_Reset</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComRest<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ResetStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_ReadPosition</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadPos<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bValid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">,</span>lPosition<span class="token operator">=</span><span class="token operator">&gt;</span>ReadPosStatus<span class="token punctuation">.</span>lPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
		Axis13<span class="token punctuation">.</span><span class="token function">M_ReadStatus</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bComReadStatus<span class="token punctuation">,</span>bValid<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Valid<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Busy<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Err<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrID<span class="token punctuation">,</span>bErrorStop<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ErrorStop<span class="token punctuation">,</span>bDisabled<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Disabled<span class="token punctuation">,</span>bStopping<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Stopping<span class="token punctuation">,</span>bStandStill<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_StandStill<span class="token punctuation">,</span>bDiscreteMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_DiscreteMotion<span class="token punctuation">,</span>bContinuousMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ContinuousMotion<span class="token punctuation">,</span>bSynchronizedMotion<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_SynchronizedMotion<span class="token punctuation">,</span>bHoming<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Homing<span class="token punctuation">,</span>bConstantVelocity<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_ConstantVelocity<span class="token punctuation">,</span>bAccelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Accelerating<span class="token punctuation">,</span>bDecelerating<span class="token operator">=</span><span class="token operator">&gt;</span>AxisStatus<span class="token punctuation">.</span>Axis_Decelerating<span class="token punctuation">)</span><span class="token punctuation">;</span>
	    Axis13<span class="token punctuation">.</span><span class="token function">M_Home</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>bHome<span class="token punctuation">,</span>bCalibrationCam<span class="token operator">:</span><span class="token operator">=</span>Axis_13_CaliCam<span class="token punctuation">,</span>bDone<span class="token operator">=</span><span class="token operator">&gt;</span>HomeStatus<span class="token punctuation">.</span>bDone<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>HomeStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>HomeStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>HomeStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>HomeStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
END_CASE
</code></pre> 
<p>运行时，先输入iAxisNum，再执行命令即可。</p> 
<h3><a id="_272"></a>方法二</h3> 
<p>定义轴基本功能，同上。区别在于Main主函数：</p> 
<p>在Main中添加Action<br> <img src="https://images2.imgbox.com/87/87/CCAmVjlO_o.png" alt="在这里插入图片描述"><br> ACT_PowerOn方法代码，其余类似。</p> 
<pre><code class="prism language-cpp">FOR i<span class="token operator">:</span><span class="token operator">=</span><span class="token number">1</span> TO <span class="token number">13</span> DO
	Axis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">M_PowerOn</span><span class="token punctuation">(</span>bExcute<span class="token operator">:</span><span class="token operator">=</span>cmdPowerOn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>bStatus<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bStatus<span class="token punctuation">,</span>bBusy<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bBusy<span class="token punctuation">,</span>bActive<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bActive<span class="token punctuation">,</span>bError<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>bErr<span class="token punctuation">,</span>dErrorID<span class="token operator">=</span><span class="token operator">&gt;</span>PoweronStatus<span class="token punctuation">.</span>dErrID<span class="token punctuation">)</span><span class="token punctuation">;</span>
END_FOR
</code></pre> 
<p>Main函数代码：</p> 
<pre><code class="prism language-cpp">	<span class="token comment">//定义接口及继承关系</span>
	Axis		<span class="token operator">:</span>   ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.10</span><span class="token punctuation">]</span> OF Axis_Base_PTP<span class="token punctuation">;</span>
	Axis11		<span class="token operator">:</span>   Axis11_PTP<span class="token punctuation">;</span>
	Axis12		<span class="token operator">:</span>   Axis12_PTP<span class="token punctuation">;</span>
	Axis13		<span class="token operator">:</span>   Axis13_PTP<span class="token punctuation">;</span>
	
	cmdPowerOn 		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdPowerOff 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdMoveRela 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdMoveAbs		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdReset 		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdStop 		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdReadPos 		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdReadStatus 	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> ARRAY<span class="token punctuation">[</span><span class="token number">1.</span><span class="token number">.13</span><span class="token punctuation">]</span> OF BOOL<span class="token punctuation">;</span>
	cmdHome			AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	cmdGlassForward	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	cmdGlassBack	AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	cmdTurnIn		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
	cmdTurnOut		AT<span class="token operator">%</span>I<span class="token operator">*</span> <span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
</code></pre> 
<p>主函数调用Action方法进行轮询：</p> 
<pre><code class="prism language-cpp"><span class="token function">ACT_PowerOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_PowerOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_MoveAbs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_MoveRela</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_Reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_ReadPos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">ACT_ReadStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>运行时，需针对每个轴的每个指令进行下发。</p> 
<h3><a id="_317"></a>方法三</h3> 
<p>利用面向对象中的接口和继承方法。借鉴示例。<br> 首先定义接口及属性方法，定义一个基类实现接口中的属性和方法，若需要再定义类继承基类。<br> <img src="https://images2.imgbox.com/fa/76/WvycPDZI_o.png" alt="在这里插入图片描述"><br> Main函数；</p> 
<pre><code class="prism language-cpp">PROGRAM MAIN
VAR
	fbGenerator1 <span class="token operator">:</span> FB_Generator<span class="token punctuation">;</span>
	fbGenerator2 <span class="token operator">:</span> FB_GeneratorEX<span class="token punctuation">;</span>
	iGenerator <span class="token operator">:</span> I_Generator<span class="token punctuation">;</span>
	tCycletime<span class="token operator">:</span> TIME <span class="token operator">:</span><span class="token operator">=</span>T#<span class="token number">3</span>S<span class="token punctuation">;</span>
	sVendor<span class="token operator">:</span> STRING<span class="token punctuation">;</span>
	change<span class="token operator">:</span> BOOL <span class="token operator">:</span><span class="token operator">=</span>TRUE<span class="token punctuation">;</span>
	output<span class="token operator">:</span> BOOL<span class="token punctuation">;</span>
END_VAR
</code></pre> 
<pre><code class="prism language-cpp">IF change THEN
	iGenerator<span class="token operator">:</span><span class="token operator">=</span>fbGenerator1<span class="token punctuation">;</span>
ELSE
	iGenerator<span class="token operator">:</span><span class="token operator">=</span>fbGenerator2<span class="token punctuation">;</span>
END_IF

output<span class="token operator">:</span><span class="token operator">=</span>iGenerator<span class="token punctuation">.</span><span class="token function">Flash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iGenerator<span class="token punctuation">.</span>Cycletime<span class="token operator">:</span><span class="token operator">=</span>tcycletime<span class="token punctuation">;</span>
sVendor<span class="token operator">:</span><span class="token operator">=</span>iGenerator<span class="token punctuation">.</span>Vendor<span class="token punctuation">;</span>
</code></pre> 
<p>运行时，通过接口切换调用不同轴模块。</p> 
<h3><a id="_348"></a>优缺点比较</h3> 
<p>方法一：上位机调用变量较少，主程序复杂；<br> 方法二：上位机调用变量较多，主程序简单；<br> 方法三：上位机调用变量较少，主程序轴联动复杂；</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2bb02ea5aa7ebe0715cb4d1c4c46ff3e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iOS14 隐私适配及部分解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a70f9e8858e3ed682e8cb31536f6148b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深入解析CSS笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>