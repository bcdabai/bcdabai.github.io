<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Apache的安装和配置 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Apache的安装和配置" />
<meta property="og:description" content="一、官网下载Apache 官网地址：https://httpd.apache.org/
点击Download---&gt;点击Files for Microsoft Windows---&gt;点击ApacheHaus---&gt;选择版本(点击Apache 2.4 VC11)-----&gt;解压下载好的压缩包文件，移动文件夹Apache24到你想要的位置。
二、安装Apache 1.移动文件Apache到E:\WAMP\Apache2.4。【解压路径最好不要用中文。】
2.命令行到Apache下面的bin目录，录入命令[ httpd -k install ]安装。
注：如果提示错误计算机中丢失 msvcr110.dll文件，请到http://www.microsoft.com/zh-CN/download/details.aspx?id=30679 这个网址来进行相关程序的下载
报错的大概意思：在启动Apache服务之前必须修正一个错误，在E:\WAMP\Apache2.4\conf 的httpd.conf文件的第39行，ServerRoot必须是有效的。
报错原因：httpd.conf里面配置的ServerRoot路径跟实际路径不一致，导致路径无效。
3.修改httpd.conf文件
4.启动Apache服务命令启动Apache服务：【 httpd -k start 】
5、安装成功验证
开始--&gt;运行--&gt;services.msc--&gt;确定（或回车键Enter）---&gt;服务列表中查看Apache服务，存在说明安装成功。
补充：了解Apache文件夹里的相关目录和文件
bin目录（主程序文件）/httpd.exe 图标(羽毛)conf目录(配置文件目录)/httpd.conf(主配置文件)和extra文件夹(扩展配置目录)/httpd-vhosts.conf(虚拟主机配置文件)htdocs目录(站点根目录)-----域名对应的目录 6.参考文章:
Apache服务器的下载与安装
Apache 下载&#43;安装
三、Apache相关配置------主机配置 1.httpd.conf------conf目录下
SRVROOT安装位置(通过在顶端定义了一个常量，在下面引用该常量来访问，好处不用多说了，之后改动只要改这一个即可，其他的都是相对路径了)
Listen 监听端口号,默认80
ServerAdmin 用于用户设置管理员邮箱（用于客户端的用户联系管理员，现在很少使用）
ServerName 域名
DocumentRoot用于设置基站点根目录（网站根目录就是存放网站文件的最顶层目录，通过URL中域名后面的第一个斜线对应映射的就是网站根目录）
Directory配置段 2.hosts文件----位置一般在C:\WINDOWS\system32\drivers\etc
注:127.0.0.1永远代表本地ip
3.httpd.exe-----bin目录下
cmd里dir可以查看当前目录的内容,cd可以更改目录的位置httpd.exe文件可以进行Apache服务的启动(httpd.exe - k start),停止(httpd.exe - k stop)和重新启动(httpd.exe - k restart)httpd.exe文件可以对配置文件进行语法检查(httpd -t) 注:在win10系统中,需要用管理员的身份运行
4.window环境变量:window的环境变量记录了很多的路径,当在cmd窗口执行一个命令时,如果当前的目录找不到我们要执行的文件时,window会找到环境变量中所记录的位置,依次进行查找,找到了就运行,找不到则报错
.“计算机”右键 → “高级系统设置” → “高级” → “环境变量” ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ce3ef37fc1a8a74e61c50e1dd8f14234/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-12T19:48:38+08:00" />
<meta property="article:modified_time" content="2022-10-12T19:48:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Apache的安装和配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、<strong>官网下载Apache</strong></h3> 
<p><strong>官网地址：https://httpd.apache.org/</strong></p> 
<p>点击Download---&gt;点击Files for Microsoft Windows---&gt;点击ApacheHaus---&gt;选择版本(点击Apache 2.4 VC11)-----&gt;解压下载好的压缩包文件，移动文件夹Apache24到你想要的位置。</p> 
<h3>二、安装Apache</h3> 
<p>1.移动文件Apache到E:\WAMP\Apache2.4。【解压路径最好不要用中文。】</p> 
<p>2.命令行到Apache下面的bin目录，录入命令[ httpd -k install ]安装。</p> 
<p>注：如果提示错误计算机中丢失 msvcr110.dll文件，请到http://www.microsoft.com/zh-CN/download/details.aspx?id=30679 这个网址来进行相关程序的<a href="http://www.microsoft.com/zh-CN/download/details.aspx?id=30679" rel="nofollow" title="下载">下载</a></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/7b/5e/HSsjVqVl_o.png"></p> 
<p>报错的大概意思：在启动Apache服务之前必须修正一个错误，在E:\WAMP\Apache2.4\conf 的httpd.conf文件的第39行，ServerRoot必须是有效的。</p> 
<p>报错原因：httpd.conf里面配置的ServerRoot路径跟实际路径不一致，导致路径无效。</p> 
<p>3.修改httpd.conf文件</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cb/89/gIf6N3gJ_o.png"></p> 
<p><strong>4.</strong>启动Apache服务命令启动Apache服务：【 httpd -k start 】</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d3/b5/y00f6VrK_o.png"></p> 
<p>5、安装成功验证</p> 
<p>开始--&gt;运行--&gt;services.msc--&gt;确定（或回车键Enter）---&gt;服务列表中查看Apache服务，存在说明安装成功。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cd/29/aAjCTjr1_o.png"></p> 
<p>补充：了解Apache文件夹里的相关目录和文件</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a3/db/aPv8E30t_o.png"></p> 
<ul><li>bin目录（主程序文件）/httpd.exe 图标(羽毛)</li><li>conf目录(配置文件目录)/httpd.conf(主配置文件)和extra文件夹(扩展配置目录)/httpd-vhosts.conf(虚拟主机配置文件)</li><li>htdocs目录(站点根目录)-----域名对应的目录</li></ul> 
<p>6.参考文章:</p> 
<p><a href="https://www.cnblogs.com/yerenyuan/p/5460336.html" rel="nofollow" title="Apache服务器的下载与安装">Apache服务器的下载与安装</a></p> 
<p><a href="https://www.cnblogs.com/lovetree/p/6385957.html" rel="nofollow" title="Apache 下载+安装">Apache 下载+安装</a></p> 
<h3>三、Apache相关配置------主机配置</h3> 
<p>1.httpd.conf------conf目录下</p> 
<ul><li> <p>SRVROOT安装位置(通过在顶端定义了一个常量，在下面引用该常量来访问，好处不用多说了，之后改动只要改这一个即可，其他的都是相对路径了)</p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ab/85/I2IAAFSj_o.png"></p> 
<ul><li> <p>Listen 监听端口号,默认80</p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/25/9c/jkf2tNa8_o.png"></p> 
<ul><li> <p>ServerAdmin 用于用户设置管理员邮箱（用于客户端的用户联系管理员，现在很少使用）</p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/06/cd/XP8Y89vW_o.png"></p> 
<ul><li> <p><em>ServerName 域名</em></p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/50/47/mIq6ZWM1_o.png"></p> 
<ul><li> <p>DocumentRoot用于设置基站点根目录（网站根目录就是存放网站文件的最顶层目录，通过URL中域名后面的第一个斜线对应映射的就是网站根目录）</p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/bc/e0/mJw9DMuH_o.png"></p> 
<ul><li>Directory配置段</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/59/62/t4oFWIuA_o.png"></p> 
<p>2.hosts文件----位置一般在C:\WINDOWS\system32\drivers\etc</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/af/48/Z4UYrARS_o.png"></p> 
<p>注:127.0.0.1永远代表本地ip</p> 
<p>3.httpd.exe-----bin目录下</p> 
<ul><li>cmd里dir可以查看当前目录的内容,cd可以更改目录的位置</li><li>httpd.exe文件可以进行Apache服务的启动(httpd.exe - k start),停止(httpd.exe - k stop)和重新启动(httpd.exe - k restart)</li><li>httpd.exe文件可以对配置文件进行语法检查(httpd -t)</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1b/c3/OTj7vMmn_o.png"></p> 
<p>注:在win10系统中,需要用管理员的身份运行</p> 
<p>4.window环境变量:window的环境变量记录了很多的路径,当在cmd窗口执行一个命令时,如果当前的目录找不到我们要执行的文件时,window会找到环境变量中所记录的位置,依次进行查找,找到了就运行,找不到则报错</p> 
<ul><li> .“计算机”右键 → “高级系统设置” → “高级” → “环境变量”</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8e/90/SjU5dnS7_o.png"></p> 
<p></p> 
<ul><li>.点击系统变量的“新建”→ 变量名"HTTPD_HOME" → 变量值“E:\WAMP\Apache2.4”（Apache安装路径）→ “确定”</li></ul> 
<p>     注意：变量值后面不能添加分号“;”,否则配置不成功。</p> 
<ul><li>.点击系统变量的“编辑”（没有时新建）→ 变量名"Path" → 变量值“%HTTPD_HOME%\bin;”（Apache的bin目录的路径）→ “确定”</li></ul> 
<p>     注意：变量值后面的分号“;”必须是英文分号。path：操作系统提供的环境变量。classpath：程序中引用的类所在的路径。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c9/e2/0fOwoe5i_o.png"></p> 
<ul><li>.设置成功后，手动重启cmd，录入命令[ httpd -k restart ]重启Apache服务。若是启动，说明系统环境变量配置成功。</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/29/63/vnYLonPu_o.png"></p> 
<ul><li>以上所在window7系统里的安装，window10里面安装更加便捷，可以自行百度</li></ul> 
<h3>四、Apache相关配置------虚拟主机配置:使用一个Apache软件配置多个主机(域名)</h3> 
<p>1.开启扩展配置文件(默认是关闭的)----httpd.conf</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c2/75/uoMgK0DV_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/67/52/nNH7auUE_o.png"></p> 
<p>2.配置虚拟主机-----httpd-vhosts.conf</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/99/74/h3lXvrQs_o.png"></p> 
<h4>3.注意的问题:</h4> 
<ul><li> <p>如果是测试需要使用配置的域名的话,需要修改host文件达到目的,原因是这个域名并不是属于自己的,没有办法修改这个域名在公网上的DNS</p> </li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0b/70/GGCFSqVY_o.png"></p> 
<ul><li>如果使用了虚拟主机,则默认必须全部使用虚拟主机,即之前的默认网站也必须通过虚拟主机方式配置,否则访问不到,参考文章:<a href="http://blog.51cto.com/skypegnu1/1532454" rel="nofollow" title="Apache HTTP Server 虚拟主机配置">Apache HTTP Server 虚拟主机配置</a></li><li> <p> Chrome 浏览器 63版本以后，所有的 .dev 和 .app 后缀的网址都将会自动将 HTTP 转到 HTTPS 上，所以如果使用上面的.dev后缀的网址,会出现在Chrome无法访问的情况,但是在其他浏览器可以正常访问,原因就出在这(确实被坑了一道!!!)</p> </li></ul> 
<h4>五、Apache相关配置------外部配置文件</h4> 
<p>1.开启外部配置文件httpd.conf中开启<strong>AllowOverride All</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c8/b4/haGucXOt_o.png"></p> 
<p>2..hatacss文件创建(只能通过编辑器另存的方式来创建)---此文件中的配置不需要重新启动Apache</p> 
<p>3.补充:自定义错误提示页面(ErrorDocument)</p> 
<p> </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8f/c9/BBtGDiGY_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dfc784c3826951087b266c7ae1cc12a3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VScode必备插件大全</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c36a287ec14e230122735b57aec3c3bd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用宝塔面板部署WordPress</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>