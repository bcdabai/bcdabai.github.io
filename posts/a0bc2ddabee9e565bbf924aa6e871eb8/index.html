<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序的自定义TabBar及Vant的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序的自定义TabBar及Vant的使用" />
<meta property="og:description" content="一、安装Vant 1、在 资源管理器 空白位置，点右键打开 在外部终端窗口打开
2、初始化NPM
npm init -y
3、安装命令
npm i @vant/weapp@1.3.3 -S --production
4、构建NPM包
在 工具 里选择构建NPM包
5、删除style:v2
在app.json里，删除&#34;style&#34;:&#34;v2&#34;
6、按需引入
// app.json &#34;usingComponents&#34;: { &#34;van-button&#34;: &#34;@vant/weapp/button/index&#34; } 7、使用
&lt;van-button type=&#34;primary&#34;&gt;按钮&lt;/van-button&gt; 二、CSS自定义样式 1、定义
element { --main-bg-color: brown; } :root { --main-bg-color: brown; } 2、使用
element { background-color: var(--main-bg-color: brown); } 三、自定义TabBar 1、配置
在app.json中的 tabBar 配置中加上 &#34;custom&#34;: true, 表示要自定义，不再使用list
为了兼容低版本，list虽然作废，但是也不能删
&#34;tabBar&#34;: { &#34;custom&#34;: true, &#34;list&#34;: [ { .... 2、新建自定义文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a0bc2ddabee9e565bbf924aa6e871eb8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-05T23:37:05+08:00" />
<meta property="article:modified_time" content="2023-08-05T23:37:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序的自定义TabBar及Vant的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、安装Vant</h2> 
<p>1、在 资源管理器 空白位置，点右键打开 在外部终端窗口打开</p> 
<p><img alt="" height="188" src="https://images2.imgbox.com/3c/ae/PyRvQtj8_o.png" width="360"></p> 
<p></p> 
<p>2、初始化NPM</p> 
<blockquote> 
 <p>npm init -y</p> 
</blockquote> 
<p>3、安装命令</p> 
<blockquote> 
 <p>npm i @vant/weapp@1.3.3 -S --production</p> 
</blockquote> 
<p>4、构建NPM包</p> 
<p>在 工具 里选择构建NPM包</p> 
<p>5、删除style:v2</p> 
<p>在app.json里，删除"style":"v2"</p> 
<p>6、按需引入</p> 
<pre><code class="language-javascript">// app.json
"usingComponents": {
     "van-button": "@vant/weapp/button/index"
}</code></pre> 
<p>7、使用</p> 
<pre><code class="language-html">&lt;van-button type="primary"&gt;按钮&lt;/van-button&gt;</code></pre> 
<h2>二、CSS自定义样式</h2> 
<p>1、定义</p> 
<pre><code class="language-css">element {
    --main-bg-color: brown;
}</code></pre> 
<pre><code class="language-css">:root {
    --main-bg-color: brown;
}</code></pre> 
<p></p> 
<p>2、使用</p> 
<pre><code class="language-css">element {
    background-color: var(--main-bg-color: brown);
}</code></pre> 
<h2>三、自定义TabBar</h2> 
<p>1、配置</p> 
<p>在app.json中的 tabBar 配置中加上 <span style="color:#be191c;">"custom": true</span>, 表示要自定义，不再使用list</p> 
<p>为了兼容低版本，list虽然作废，但是也不能删</p> 
<pre><code class="language-css">  "tabBar": {
    "custom": true,
    "list": [
      {
    ....</code></pre> 
<p>2、新建自定义文件</p> 
<p>在根目录下新建 <span style="color:#be191c;">custom-tab-bar</span>文件夹，在里面新建index文件</p> 
<p><img alt="" height="238" src="https://images2.imgbox.com/43/49/O6sQnmDU_o.png" width="230"></p> 
<p> 3、引入vant依赖</p> 
<p>vant中的tabBar组件介绍：</p> 
<p><a href="https://vant-contrib.gitee.io/vant-weapp/#/tabbar" rel="nofollow" title="Vant Weapp - 轻量、可靠的小程序 UI 组件库">Vant Weapp - 轻量、可靠的小程序 UI 组件库</a></p> 
<p><img alt="" height="279" src="https://images2.imgbox.com/8e/9f/s1UXFcww_o.png" width="552"></p> 
<p> 4、基础tabBar</p> 
<p>vant中的基本tabBar代码</p> 
<pre><code class="language-html">&lt;van-tabbar active="{<!-- -->{ active }}" bind:change="onChange"&gt;
  &lt;van-tabbar-item icon="home-o"&gt;标签&lt;/van-tabbar-item&gt;
  &lt;van-tabbar-item icon="search"&gt;标签&lt;/van-tabbar-item&gt;
  &lt;van-tabbar-item icon="friends-o"&gt;标签&lt;/van-tabbar-item&gt;
  &lt;van-tabbar-item icon="setting-o"&gt;标签&lt;/van-tabbar-item&gt;
&lt;/van-tabbar&gt;
</code></pre> 
<p>配套的JS代码</p> 
<pre><code class="language-javascript">Page({
  data: {
    active: 0,
  },
  onChange(event) {
    // event.detail 的值为当前选中项的索引
    this.setData({ active: event.detail });
  },
});</code></pre> 
<p>自定义图标的使用</p> 
<p>icon ： 表示未选中 时 显示的图标</p> 
<p>icon-active ： 表示选中 时 显示的图标</p> 
<p>info="3" ： 表示图标右上的小数字</p> 
<pre><code class="language-html">&lt;van-tabbar active="{<!-- -->{ active }}" bind:change="onChange"&gt;
  &lt;van-tabbar-item info="3"&gt;
    &lt;image
      slot="icon"
      src="{<!-- -->{ icon.normal }}"
      mode="aspectFit"
      style="width: 30px; height: 18px;"
    /&gt;
    &lt;image
      slot="icon-active"
      src="{<!-- -->{ icon.active }}"
      mode="aspectFit"
      style="width: 30px; height: 18px;"
    /&gt;
    自定义
  &lt;/van-tabbar-item&gt;
  &lt;van-tabbar-item icon="search"&gt;标签&lt;/van-tabbar-item&gt;
  &lt;van-tabbar-item icon="setting-o"&gt;标签&lt;/van-tabbar-item&gt;
&lt;/van-tabbar&gt;</code></pre> 
<p>配套的JS</p> 
<pre><code class="language-javascript">Page({
  data: {
    active: 0,
    icon: {
      normal: 'https://img.yzcdn.cn/vant/user-inactive.png',
      active: 'https://img.yzcdn.cn/vant/user-active.png',
    },
  },
  onChange(event) {
    this.setData({ active: event.detail });
  },
});
</code></pre> 
<p>最后，把标签的名字和图片都写在list数组里面</p> 
<pre><code class="language-javascript">data: {
    "list": [
      {
        "pagePath": "/pages/home/home",
        "text": "首页",
        "iconPath": "/images/tabs/home.png",
        "selectedIconPath": "/images/tabs/home-active.png"
      },
      {
        "pagePath": "/pages/message/message",
        "text": "消息",
        "iconPath": "/images/tabs/message.png",
        "selectedIconPath": "/images/tabs/message-active.png",
        info: 0
      },
      {
        "pagePath": "/pages/contact/contact",
        "text": "联系我们",
        "iconPath": "/images/tabs/contact.png",
        "selectedIconPath": "/images/tabs/contact-active.png"
      }
    ]
  }</code></pre> 
<p>使用时</p> 
<pre><code class="language-html">&lt;van-tabbar active="{<!-- -->{active}}" bind:change="onChange" active-color="#13A7A0"&gt;
	&lt;van-tabbar-item wx:for="{<!-- -->{list}}" wx:key="index" info="{<!-- -->{item.info ? item.info : ''}}"&gt;
		&lt;image slot="icon" src="{<!-- -->{item.iconPath}}" mode="aspectFit" style="width: 25px; height: 25px;" /&gt;
		&lt;image slot="icon-active" src="{<!-- -->{item.selectedIconPath}}" mode="aspectFit" style="width: 25px; height: 25px;" /&gt;
		{<!-- -->{item.text}}
	&lt;/van-tabbar-item&gt;
&lt;/van-tabbar&gt;</code></pre> 
<p>在自定义组件中使用 Vant Weapp 组件时，需在 options 开启 <span style="color:#be191c;"><code>styleIsolation: 'shared' </code></span>选项，不然修改的样式不会生效</p> 
<p>实现跳转Tab功能</p> 
<pre><code class="language-javascript">    onChange(event) {
      // event.detail 的值为当前选中项的索引
      // this.setData({ active: event.detail })
      this.updateActive(event.detail)
      wx.switchTab({
        url: this.data.list[event.detail].pagePath,
      })
    },</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/032c7afe97f873589894be1f96f8aaf8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">dvwa靶场通关（十一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b6d5e0f1d7b40846114a56888933c98/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">智能优化算法改进算法 -附matlab代码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>