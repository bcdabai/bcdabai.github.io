<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用JAVA写的贪吃蛇 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用JAVA写的贪吃蛇" />
<meta property="og:description" content="用JAVA写的贪吃蛇，Eclipse平台，2个类。内容入下：
class snake:
-----------------------
package tanchishe;
import java.awt.Color;
import java.awt.Graphics;
public class Snake {
private GamePanel panel = null;
int x = 0;
int y = 0;
public Snake(int x, int y, GamePanel panel) {
this.x = x;
this.y = y;
this.panel = panel;
}
// 画蛇身
void draw(Graphics g) {
g.setColor(new Color(255, 255, 255));
g.fillRect(x * 20, y * 20, 19, 19);
}
// 画食物
void drawfood(Graphics g) {" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ea63de9c590fb5ff051982d928a95797/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-29T18:14:49+08:00" />
<meta property="article:modified_time" content="2023-05-29T18:14:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用JAVA写的贪吃蛇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>用JAVA写的贪吃蛇，Eclipse平台，2个类。内容入下：</p> 
<p>class snake:</p> 
<p>-----------------------</p> 
<p>package tanchishe;</p> 
<p></p> 
<p>import java.awt.Color;</p> 
<p>import java.awt.Graphics;</p> 
<p></p> 
<p>public class Snake {<!-- --></p> 
<p>private GamePanel panel = null;</p> 
<p>int x = 0;</p> 
<p>int y = 0;</p> 
<p></p> 
<p>public Snake(int x, int y, GamePanel panel) {<!-- --></p> 
<p>this.x = x;</p> 
<p>this.y = y;</p> 
<p>this.panel = panel;</p> 
<p>}</p> 
<p></p> 
<p>// 画蛇身</p> 
<p>void draw(Graphics g) {<!-- --></p> 
<p>g.setColor(new Color(255, 255, 255));</p> 
<p>g.fillRect(x * 20, y * 20, 19, 19);</p> 
<p>}</p> 
<p>// 画食物</p> 
<p>void drawfood(Graphics g) {<!-- --></p> 
<p>g.setColor(new Color(255, 255, 255,255));</p> 
<p>g.fillOval(x * 20+5, y * 20+5, 10, 10);</p> 
<p>}</p> 
<p></p> 
<p>// 画蛇头</p> 
<p>void drawhead(Graphics g) {<!-- --></p> 
<p>g.setColor(new Color(255, 0, 0));</p> 
<p>g.fillRect(x * 20, y * 20, 19, 19);</p> 
<p>}</p> 
<p></p> 
<p>// 蛇头移动</p> 
<p>void move(boolean dir, int step) {<!-- --></p> 
<p>if (dir) {<!-- --></p> 
<p>x+=step;</p> 
<p>}else {<!-- --></p> 
<p>y+=step;</p> 
<p>}</p> 
<p>panel.repaint();</p> 
<p>}</p> 
<p></p> 
<p>//蛇移动</p> 
<p>public void movebody(Boolean dir, int step) {<!-- --></p> 
<p>// 蛇头移动</p> 
<p>panel.snakehead.move(dir, step);</p> 
<p>// 蛇身移动</p> 
<p>for (int i = 1; i &lt; panel.snakes.size(); i++) {<!-- --></p> 
<p>panel.snakes.get(i).x = panel.snakeroad.get(panel.snakeroad.size()-i).x;</p> 
<p>panel.snakes.get(i).y = panel.snakeroad.get(panel.snakeroad.size()-i).y;</p> 
<p>}</p> 
<p>panel.repaint();</p> 
<p>}</p> 
<p></p> 
<p>public int getX() {<!-- --></p> 
<p>return x;</p> 
<p>}</p> 
<p></p> 
<p>public void setX(int x) {<!-- --></p> 
<p>this.x = x;</p> 
<p>}</p> 
<p></p> 
<p>public int getY() {<!-- --></p> 
<p>return y;</p> 
<p>}</p> 
<p></p> 
<p>public void setY(int y) {<!-- --></p> 
<p>this.y = y;</p> 
<p>}</p> 
<p></p> 
<p>}</p> 
<p>----------------------</p> 
<p>class GamePanel:</p> 
<p>----------------------</p> 
<p>package tanchishe;</p> 
<p></p> 
<p>import java.awt.Color;</p> 
<p>import java.awt.Font;</p> 
<p>import java.awt.Graphics;</p> 
<p>import java.awt.Point;</p> 
<p>import java.awt.event.KeyAdapter;</p> 
<p>import java.awt.event.KeyEvent;</p> 
<p>import java.util.ArrayList;</p> 
<p>import javax.swing.JFrame;</p> 
<p>import javax.swing.JPanel;</p> 
<p></p> 
<p>public class GamePanel extends JPanel {<!-- --></p> 
<p></p> 
<p>private static final long serialVersionUID = 1L;</p> 
<p>Snake snakehead = null;// 蛇头</p> 
<p>Snake snakebody = null;// 蛇身</p> 
<p>Snake food = null;// 食物</p> 
<p>static JFrame mf = null;// 主窗体</p> 
<p>GameThread gt = new GameThread();// 主线程</p> 
<p>ArrayList&lt;Point&gt; snakeroad = new ArrayList&lt;&gt;();// 蛇走过的路径数组</p> 
<p>ArrayList&lt;Snake&gt; snakes = new ArrayList&lt;&gt;();// 蛇头及蛇身的数组</p> 
<p>static int width = 600;// 窗体大小</p> 
<p>int row = width / 20;// 按窗体大小及蛇的大小分成上下左右各30格</p> 
<p>int col = row;</p> 
<p>int step = 1;// 蛇每次移动间隔</p> 
<p>int threadspeed = 150;// 主线程sleep间隔</p> 
<p>int score = 0; // 分数</p> 
<p>boolean dir = false;// 蛇移动方向</p> 
<p>boolean gameflag = false;// 游戏暂停或开始判断</p> 
<p>boolean dead = false;// 游戏失败判断</p> 
<p>// 构造函数</p> 
<p></p> 
<p>public GamePanel() {<!-- --></p> 
<p>setBounds(0, 0, width, width);// 窗体大小</p> 
<p>setOpaque(false);// 窗体透明</p> 
<p>createKeyListener();// 监听键盘</p> 
<p>gt.start();// 线程开始</p> 
<p>init();// 初始化</p> 
<p>}</p> 
<p></p> 
<p>// 入口</p> 
<p>public static void main(String[] args) {<!-- --></p> 
<p>mf = new JFrame();// frame实例化</p> 
<p>mf.setSize(width + 18, width + 15 + 30);// frame大小</p> 
<p>mf.setLocationRelativeTo(null);// 屏幕居中显示</p> 
<p>mf.setLayout(null);// 布局无</p> 
<p>mf.setTitle("Sanke");// 标题</p> 
<p>mf.setResizable(false);// 不可放大</p> 
<p>mf.getContentPane().setBackground(new Color(0, 139, 0));// 设置背景色</p> 
<p>GamePanel gp = new GamePanel();// panel实例化</p> 
<p>mf.add(gp);// panel加入frame</p> 
<p>mf.setVisible(true);// 显示frame</p> 
<p></p> 
<p>}</p> 
<p></p> 
<p>// 初始化</p> 
<p>void init() {<!-- --></p> 
<p>// 蛇头存在就产生身体</p> 
<p>if (snakes.size() &gt; 0) {<!-- --></p> 
<p>snakebody = new Snake(snakes.get(snakes.size() - 1).x, snakes.get(snakes.size() - 1).y, this);</p> 
<p>snakes.add(snakebody);</p> 
<p>} else {<!-- --></p> 
<p>snakehead = new Snake(1, 1, this);// 蛇头实例化</p> 
<p>snakes.add(snakehead);</p> 
<p>}</p> 
<p>// food随机产生</p> 
<p>food = new Snake((int) (Math.random() * row), (int) (Math.random() * row), this);</p> 
<p>}</p> 
<p></p> 
<p>// 画蛇，食物，提示</p> 
<p>@Override</p> 
<p>public void paint(Graphics g) {<!-- --></p> 
<p>super.paint(g);</p> 
<p>// 蛇头</p> 
<p>if (snakes != null) {<!-- --></p> 
<p>snakes.get(0).drawhead(g);</p> 
<p>}</p> 
<p>// 蛇身体</p> 
<p>if (snakes != null) {<!-- --></p> 
<p>for (int i = 1; i &lt; snakes.size(); i++) {<!-- --></p> 
<p>snakes.get(i).draw(g);</p> 
<p>}</p> 
<p>}</p> 
<p>// food</p> 
<p>if (food != null) {<!-- --></p> 
<p>food.drawfood(g);</p> 
<p>}</p> 
<p>// 游戏失败提示</p> 
<p>if (dead) {<!-- --></p> 
<p>g.setColor(new Color(255, 255, 255, 255));</p> 
<p>g.setFont(new Font("仿宋", Font.BOLD, 30));</p> 
<p>g.drawString("游戏失败！按“空格键”继续", width / 2 - 180, width / 2);</p> 
<p>}</p> 
<p>// 游戏暂停提示</p> 
<p>if (!gameflag) {<!-- --></p> 
<p>g.setColor(new Color(255, 255, 255, 255));</p> 
<p>g.setFont(new Font("仿宋", Font.BOLD, 30));</p> 
<p>g.drawString("游戏暂停！按“P”键开始", width / 2 - 170, width / 2);</p> 
<p>}</p> 
<p>// 分数和速度显示</p> 
<p>g.setFont(new Font("Arial", Font.BOLD, 14));</p> 
<p>g.setColor(new Color(255, 255, 255, 255));</p> 
<p>g.drawString("SCORE", 3, width - 5);</p> 
<p>g.drawString(String.valueOf(score), 60, width - 5);// 显示分数</p> 
<p>g.drawString("SPEED", 100, width - 5);</p> 
<p>g.drawString(String.valueOf(threadspeed), 155, width - 5);// 显示速度</p> 
<p>g.setFont(new Font("仿宋", Font.BOLD, 14));</p> 
<p>g.drawString("按“R”重新开始游戏", width - 150, width - 5);// 重新开始游戏</p> 
<p>//画格子</p> 
<p>for(int i=0;i&lt;row;i++) {<!-- --></p> 
<p>for(int j=0;j&lt;col;j++) {<!-- --></p> 
<p>g.setColor(new Color(173,216,230,25));</p> 
<p>g.drawRect(j*20, i*20, 20, 20);</p> 
<p>}</p> 
<p>}</p> 
<p>repaint();</p> 
<p>}</p> 
<p></p> 
<p>// 主线程</p> 
<p>class GameThread extends Thread {<!-- --></p> 
<p>@Override</p> 
<p>public void run() {<!-- --></p> 
<p>while (true) {<!-- --></p> 
<p>try {<!-- --></p> 
<p>Thread.sleep(threadspeed);// 间隔150毫秒</p> 
<p>} catch (InterruptedException e) {<!-- --></p> 
<p>e.printStackTrace();</p> 
<p>}</p> 
<p>if (snakehead != null &amp; !dead &amp; gameflag) {<!-- --></p> 
<p>// 蛇头移动坐标录入snakeroad数组</p> 
<p>snakeroad.add(new Point(snakehead.x, snakehead.y));</p> 
<p>if (snakeroad.size() == snakes.size()) {<!-- --></p> 
<p>snakeroad.remove(0);// 控制snakeroad数组长度</p> 
<p>}</p> 
<p>// 蛇移动</p> 
<p>snakehead.movebody(dir, step);</p> 
<p>outofBoard();// 边界穿透</p> 
<p>dead();// 游戏失败判断</p> 
<p>hit();// 吃food判断</p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p></p> 
<p>// 边界穿透</p> 
<p>void outofBoard() {<!-- --></p> 
<p>Snake snake = null;</p> 
<p>// 四边界限</p> 
<p>for (int i = 0; i &lt; snakes.size(); i++) {<!-- --></p> 
<p>snake = snakes.get(i);</p> 
<p>if (snake.getY() &lt; 0) {<!-- --></p> 
<p>snake.setY(row - 1);</p> 
<p>} else if (snake.getY() &gt; row - 1) {<!-- --></p> 
<p>snake.setY(0);</p> 
<p>} else if (snake.getX() &lt; 0) {<!-- --></p> 
<p>snake.setX(row - 1);</p> 
<p>} else if (snake.getX() &gt; row - 1) {<!-- --></p> 
<p>snake.setX(0);</p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p></p> 
<p>// 吃food</p> 
<p>void hit() {<!-- --></p> 
<p>if (food.getX() == snakehead.x &amp; food.getY() == snakehead.y) {<!-- --></p> 
<p>init();// 新增food和蛇加长</p> 
<p>score++;// 分数增加</p> 
<p>}</p> 
<p>}</p> 
<p></p> 
<p>// 蛇头碰到蛇身体则失败</p> 
<p>void dead() {<!-- --></p> 
<p>for (int i = 0; i &lt; snakes.size(); i++) {<!-- --></p> 
<p>for (int j = 0; j &lt; snakes.size(); j++) {<!-- --></p> 
<p>if (i != j) {<!-- --></p> 
<p>if (snakes.get(j).getX() == snakes.get(i).getX() &amp;&amp; snakes.get(j).getY() == snakes.get(i).getY()) {<!-- --></p> 
<p>dead = true;</p> 
<p></p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p>}</p> 
<p></p> 
<p>// 重新开始游戏</p> 
<p>void restart() {<!-- --></p> 
<p>snakehead = null;</p> 
<p>food = null;</p> 
<p>snakes.clear();</p> 
<p>snakeroad.clear();</p> 
<p>threadspeed = 150;</p> 
<p>score = 0;</p> 
<p>dir = false;</p> 
<p>gameflag = false;</p> 
<p>dead = false;</p> 
<p>init();</p> 
<p>}</p> 
<p></p> 
<p>// 键盘监听</p> 
<p>private void createKeyListener() {<!-- --></p> 
<p>KeyAdapter l = new KeyAdapter() {<!-- --></p> 
<p>@Override</p> 
<p>public void keyPressed(KeyEvent e) {<!-- --></p> 
<p>int key = e.getKeyCode();</p> 
<p>switch (key) {<!-- --></p> 
<p>case KeyEvent.VK_P:// 按p键控制游戏暂停或开始</p> 
<p>if (!gameflag) {<!-- --></p> 
<p>gameflag = true;</p> 
<p>} else {<!-- --></p> 
<p>gameflag = false;</p> 
<p>}</p> 
<p>break;</p> 
<p>// 空格</p> 
<p>case KeyEvent.VK_SPACE:</p> 
<p>dead = false;</p> 
<p>break;</p> 
<p>// 向上</p> 
<p>case KeyEvent.VK_UP:</p> 
<p>case KeyEvent.VK_W:</p> 
<p>dir = false;</p> 
<p>step=-1;</p> 
<p>break;</p> 
<p>// 向右</p> 
<p>case KeyEvent.VK_D:</p> 
<p>case KeyEvent.VK_RIGHT:</p> 
<p>dir = true;</p> 
<p>step=1;</p> 
<p>break;</p> 
<p>// 向下</p> 
<p>case KeyEvent.VK_S:</p> 
<p>case KeyEvent.VK_DOWN:</p> 
<p>dir = false;</p> 
<p>step=1;</p> 
<p>break;</p> 
<p>// 向左</p> 
<p>case KeyEvent.VK_A:</p> 
<p>case KeyEvent.VK_LEFT:</p> 
<p>dir = true;</p> 
<p>step=-1;</p> 
<p>break;</p> 
<p>case KeyEvent.VK_1:</p> 
<p>threadspeed += 5;// 按1速度减慢5</p> 
<p>break;</p> 
<p>case KeyEvent.VK_2:</p> 
<p>if (threadspeed &gt; 0) {<!-- --></p> 
<p>threadspeed -= 5;// 按2速度加快5</p> 
<p>}</p> 
<p>break;</p> 
<p>case KeyEvent.VK_R:</p> 
<p>restart();</p> 
<p>break;</p> 
<p>}</p> 
<p>}</p> 
<p></p> 
<p>};</p> 
<p>mf.addKeyListener(l);// 主窗体增加键盘监听</p> 
<p>}</p> 
<p>}</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/754a3636ebeff179c7bcad9a652561df/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">System Java Compiler was not found in classpath</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/81d0f7b8703e5c6b05dc2234043e7ba3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记录一次vite代理不成功的奇葩问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>