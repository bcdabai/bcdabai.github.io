<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>通过Jquery和Ajax初始化加载页面数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="通过Jquery和Ajax初始化加载页面数据" />
<meta property="og:description" content="最近前端崩了。。不得不亲自爬过来学习写Jquery了。。
进入页面时，不需要任何点击，就主动通过Ajax发送post请求，并接收返回数据，在success中进行页面数据的填充
返回的json格式为{
code: 0, msg: &#34;成功&#34;, data: - { name: &#34;jjjj&#34;, email: &#34;1342746626@qq.com&#34;, password: &#34;7777777&#34;, phone: &#34;222333&#34;, address: &#34;sdsd&#34;, birthday: &#34;2018-01-02&#34;, icon: &#34;/usericon/1525692516504IWZ/2018-05-10/739c9a89-c539-49dd-baa9-d08999644c7b.png&#34; } }
&lt;script type=&#34;text/javascript&#34;&gt; //加载初始化数据 function initData(){ $.ajax({ type:&#39;GET&#39;, dataType: &#34;json&#34;, url:&#34;../user/center&#34;, /*data:{ email:$(&#34;#email&#34;).val(), password:$(&#34;#password&#34;).val() },*/ success:function(res){ alert(&#34;加载数据&#34;); if(res.code==&#34;0&#34;){ console.log(res); alert(res.msg); var info = res.data; $(&#34;#name&#34;).attr(&#34;value&#34;, info.name); $(&#34;#email&#34;).attr(&#34;value&#34;, info.email); $(&#34;#password&#34;).attr(&#34;value&#34;, info.password); $(&#34;#phone&#34;).attr(&#34;value&#34;, info.phone); $(&#34;#address&#34;).attr(&#34;value&#34;, info.address); $(&#34;#birthday&#34;).attr(&#34;value&#34;, info.birthday); $(&#34;#picture&#34;).attr(&#34;src&#34;, info.icon); }else{ alert(&#34;用户信息不合法，或邮箱已被占用&#34;); } }, error:function(){ // $(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b741205776b9cda5a83b704182bf8cbd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-05-10T17:10:11+08:00" />
<meta property="article:modified_time" content="2018-05-10T17:10:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">通过Jquery和Ajax初始化加载页面数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>最近前端崩了。。不得不亲自爬过来学习写Jquery了。。</p> 
<p>进入页面时，不需要任何点击，就主动通过Ajax发送post请求，并接收返回数据，在success中进行页面数据的填充</p> 
<p>返回的json格式为<span style="color:#000000;">{<!-- --></span></p> 
<div style="margin-left:0px;"> 
 <div style="margin-left:2em;"> 
  <strong>code</strong>:  
  <span style="color:#aa00aa;">0</span>, 
 </div> 
 <div style="margin-left:2em;"> 
  <strong>msg</strong>:  
  <span style="color:#008000;">"成功"</span>, 
 </div> 
 <div style="margin-left:2em;"> 
  <strong>data</strong>: 
  <span style="color:#ff0000;">-</span> { 
  <div style="margin-left:0px;"> 
   <div style="margin-left:2em;"> 
    <strong>name</strong>:  
    <span style="color:#008000;">"jjjj"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>email</strong>:  
    <span style="color:#008000;">"1342746626@qq.com"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>password</strong>:  
    <span style="color:#008000;">"7777777"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>phone</strong>:  
    <span style="color:#008000;">"222333"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>address</strong>:  
    <span style="color:#008000;">"sdsd"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>birthday</strong>:  
    <span style="color:#008000;">"2018-01-02"</span>, 
   </div> 
   <div style="margin-left:2em;"> 
    <strong>icon</strong>:  
    <span style="color:#008000;">"/usericon/1525692516504IWZ/2018-05-10/739c9a89-c539-49dd-baa9-d08999644c7b.png"</span> 
   </div> 
  </div> } 
 </div> 
</div> 
<p><span style="color:#000000;">}</span></p> 
<p> </p> 
<pre> </pre> 
<pre><code class="language-html hljs">&lt;script type="text/javascript"&gt;
   
    //加载初始化数据
    function initData(){
        $.ajax({
            type:'GET',
            dataType: "json",
            url:"../user/center",
            /*data:{
             email:$("#email").val(),
             password:$("#password").val()
             },*/
            success:function(res){
                alert("加载数据");
                if(res.code=="0"){
                    console.log(res);
                    alert(res.msg);
                    var info = res.data;

                    $("#name").attr("value", info.name);
                    $("#email").attr("value", info.email);
                    $("#password").attr("value", info.password);
                    $("#phone").attr("value", info.phone);
                    $("#address").attr("value", info.address);
                    $("#birthday").attr("value", info.birthday);
                    $("#picture").attr("src", info.icon);
                }else{
                    alert("用户信息不合法，或邮箱已被占用");
                }
            },
            error:function(){
//            $("#test").html("发生错误:"+jqXHR.status);
                alert("发生错误");
            }
        });
    }
    
    </code></pre> 
<pre>//注意，要放在 执行函数下方
$(window).load( function(){
    initDate()
} );</pre> 
<pre>
<code class="language-html hljs">&lt;/script&gt;</code></pre> 
<pre><code class="language-html hljs">&lt;form id="ajaxsubmit" method="post"  class="form-search"&gt;
    &lt;input type="text" value="姓名" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '姓名';}" required="" id="name" name="name" style="margin-top:10px;" placeholder="姓名"&gt;
    &lt;input type="text" value="Email" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Email';}" required="" id="email" name="email" style="margin-top:10px;" placeholder="Email"&gt;
    &lt;div class="col-md-12" style="border:1px solid gainsboro;margin-top:10px;" &gt;
        &lt;input type="password" value="123456" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '密码';}" required="" id="password" name="password" style="border:none;height:40px;width:80%;background-color: white" placeholder="123456" disabled="true"  class="col-md-10 input-small"&gt;
        &lt;input type="button" value="修改" id="btn" class="col-md-2 btn"style="width:20%;margin-top:2px;" &gt;
    &lt;/div&gt;

    &lt;input type="text" value="联系电话" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '联系电话';}" required="" id="phone" name="phone" style="margin-top:10px;" placeholder="联系电话"&gt;
    &lt;input type="text" value="家庭住址" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = '家庭住址';}" required="" id="address" name="address" style="margin-top:10px;" placeholder="家庭住址"&gt;

    &lt;div style="margin-top:10px;border:1px solid lightgrey;height:40px;background-color: #f5f5f5;line-height:40px;"  class="col-md-12"&gt;
        &lt;span class="col-md-3" style="padding-left:0;"&gt;出生年月：&lt;/span&gt;
        &lt;input type="date" id="birthday"/&gt;
    &lt;/div&gt;
    &lt;div id="box-01" &gt;
        &lt;input type="submit"  value="完善成功" id="submit" style="margin-top:30px;"&gt;
    &lt;/div&gt;

&lt;/form&gt;</code></pre> 
<pre><code class="language-html hljs">&lt;form id="upload" method="" enctype="multipart/form-data" style="text-align: center;height:100px;padding-top:20px;padding-left:10px;padding-right:10px;"&gt;
    &lt;input id="pic"  name="file" accept="image/*"  value="选择图片" type="file"  style="border: 1px solid white;margin-left:20px;height:30px;line-height:30px;width:100%;border-radius:20px;"/&gt;&lt;!--style="display: none"--&gt;
    &lt;h4  style="text-align: center"&gt;&lt;input id="upload_button" type="button" value="上传头像" style="border: 1px solid white;background-color: #d9703e;color:white;height:30px;line-height:30px;width:100px;border-radius:20px;"/&gt;&lt;/h4&gt;
&lt;/form&gt;</code></pre> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/781f26a5188bb99f5ea95cd4659f5ee1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">字符串，二进制相互转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f7df1e3300d7e2afa803f08ce0adf87/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TensorFlow学习系列之八：什么是数据流图？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>