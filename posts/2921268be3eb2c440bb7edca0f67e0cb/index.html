<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue 3 使用Vue Router路由守卫和拦截 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue 3 使用Vue Router路由守卫和拦截" />
<meta property="og:description" content="Vue 3 使用Vue Router来管理路由，路由守卫和拦截用于在导航到不同页面之前执行一些操作，例如身份验证、权限检查、数据加载等。以下是Vue 3中使用路由守卫和拦截的基本示例：
首先，确保你已经安装了Vue Router。如果还没有安装，你可以使用以下命令安装：
npm install vue-router
然后，在你的Vue项目中创建一个路由实例并配置路由规则。以下是一个示例：
// main.js
import { createApp } from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import { createRouter, createWebHistory } from &#39;vue-router&#39;
const router = createRouter({
history: createWebHistory(),
routes: [
{ path: &#39;/&#39;, component: Home },
{ path: &#39;/about&#39;, component: About },
// 其他路由规则
]
})
const app = createApp(App)
app.use(router)
app.mount(&#39;#app&#39;)
接下来，你可以使用路由守卫来拦截导航。Vue 3 提供了三种类型的路由守卫：
1、全局前置守卫：在路由导航开始之前触发，适用于全局设置。
router.beforeEach((to, from, next) =&gt; {" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2921268be3eb2c440bb7edca0f67e0cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-20T09:39:35+08:00" />
<meta property="article:modified_time" content="2023-10-20T09:39:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue 3 使用Vue Router路由守卫和拦截</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Vue 3 使用Vue Router来管理路由，路由守卫和拦截用于在导航到不同页面之前执行一些操作，例如身份验证、权限检查、数据加载等。以下是Vue 3中使用路由守卫和拦截的基本示例：</p> 
<p>首先，确保你已经安装了Vue Router。如果还没有安装，你可以使用以下命令安装：</p> 
<blockquote> 
 <p>npm install vue-router</p> 
</blockquote> 
<p>然后，在你的Vue项目中创建一个路由实例并配置路由规则。以下是一个示例：</p> 
<blockquote> 
 <p>// main.js<br> import { createApp } from 'vue'<br> import App from './App.vue'<br> import { createRouter, createWebHistory } from 'vue-router'</p> 
 <p>const router = createRouter({<!-- --><br>   history: createWebHistory(),<br>   routes: [<br>     { path: '/', component: Home },<br>     { path: '/about', component: About },<br>     // 其他路由规则<br>   ]<br> })</p> 
 <p>const app = createApp(App)<br> app.use(router)<br> app.mount('#app')</p> 
</blockquote> 
<p>接下来，你可以使用路由守卫来拦截导航。Vue 3 提供了三种类型的路由守卫：</p> 
<p><strong>1、全局前置守卫：在路由导航开始之前触发，适用于全局设置。</strong></p> 
<blockquote> 
 <p>router.beforeEach((to, from, next) =&gt; {<!-- --><br>   // 在导航前执行操作，例如身份验证检查<br>   if (to.meta.requiresAuth &amp;&amp; !isAuthenticated) {<!-- --><br>     next('/login'); // 重定向到登录页<br>   } else {<!-- --><br>     next(); // 继续导航<br>   }<br> })<br>  </p> 
</blockquote> 
<p><strong>2、路由独享守卫：在特定路由上设置的守卫。</strong></p> 
<blockquote> 
 <p>const routes = [<br>   {<!-- --><br>     path: '/dashboard',<br>     component: Dashboard,<br>     beforeEnter: (to, from, next) =&gt; {<!-- --><br>       // 在导航到特定路由前执行操作<br>       if (!hasPermission) {<!-- --><br>         next('/access-denied'); // 重定向到权限拒绝页<br>       } else {<!-- --><br>         next(); // 继续导航<br>       }<br>     }<br>   }<br> ]<br>  </p> 
</blockquote> 
<p><strong>3、组件内的守卫：在组件内部定义的守卫。</strong></p> 
<blockquote> 
 <p>export default {<!-- --><br>   beforeRouteEnter(to, from, next) {<!-- --><br>     // 在组件路由进入前执行操作<br>     if (!isAuthenticated) {<!-- --><br>       next('/login');<br>     } else {<!-- --><br>       next();<br>     }<br>   },<br>   beforeRouteLeave(to, from, next) {<!-- --><br>     // 在组件路由离开前执行操作<br>     if (unsavedChanges) {<!-- --><br>       if (confirm('您有未保存的更改，确定离开吗？')) {<!-- --><br>         next();<br>       } else {<!-- --><br>         next(false); // 取消导航<br>       }<br>     } else {<!-- --><br>       next();<br>     }<br>   }<br> }<br>  </p> 
</blockquote> 
<p>上述示例中，你可以在路由守卫中执行所需的操作，然后使用<code>next</code>函数来控制导航的继续或取消。</p> 
<p>请根据你的项目需求，选择适当的守卫类型并在路由配置中设置它们。这有助于实现身份验证、权限控制和其他与导航相关的功能。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a07d418a89097310458c5e8e49ccc669/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python技能树练习——python字符串转列表</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bbc1ef7c699840911ee732207500ce03/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">二叉树迭代遍历(使用栈)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>