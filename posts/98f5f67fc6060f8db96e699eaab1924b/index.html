<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Flink 本地安装 &amp; 构建Flink应用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Flink 本地安装 &amp; 构建Flink应用" />
<meta property="og:description" content="Flink 本地安装 &amp; 构建Flink应用 环境要求Flink 本地模式安装下载解压与启动退出 构建 Java 应用完整pom.xml静态计算实时计算 提交 Flink Job打包项目运行任务 环境要求 Maven 3.0.4 (or higher)
Java 11
Flink 本地模式安装 下载 进入flink下载页面
https://flink.apache.org/zh/downloads.html
笔者选择的版本是1.15.1
若不想打开页面，可以直接使用下载链接
https://dlcdn.apache.org/flink/flink-1.15.1/flink-1.15.1-bin-scala_2.12.tgz
文件大小 435.6MB 需要等待一段时间…
选择 Apache Flink 1.15.1 for Scala 2.12 下载
注：这篇文章写时最新版本是 Apache Flink 1.15.1
解压与启动 解压
$ tar -xzf flink-1.15.1-bin-scala_2.12.tgz
$ cd flink-1.15.1
启动
$ ./bin/start-cluster.sh
Starting cluster.
Starting standalonesession daemon on host.
Starting taskexecutor daemon on host.
查看 flink 运行状态" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/98f5f67fc6060f8db96e699eaab1924b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-24T14:54:15+08:00" />
<meta property="article:modified_time" content="2022-07-24T14:54:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Flink 本地安装 &amp; 构建Flink应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Flink 本地安装 &amp; 构建Flink应用</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">环境要求</a></li><li><a href="#Flink__6" rel="nofollow">Flink 本地模式安装</a></li><li><ul><li><a href="#_8" rel="nofollow">下载</a></li><li><a href="#_24" rel="nofollow">解压与启动</a></li><li><a href="#_40" rel="nofollow">退出</a></li></ul> 
   </li><li><a href="#_Java__43" rel="nofollow">构建 Java 应用</a></li><li><ul><li><a href="#pomxml_59" rel="nofollow">完整pom.xml</a></li><li><a href="#_273" rel="nofollow">静态计算</a></li><li><a href="#_383" rel="nofollow">实时计算</a></li></ul> 
   </li><li><a href="#_Flink_Job_441" rel="nofollow">提交 Flink Job</a></li><li><ul><li><a href="#_443" rel="nofollow">打包项目</a></li><li><a href="#_446" rel="nofollow">运行任务</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>环境要求</h3> 
<p>Maven 3.0.4 (or higher)<br> Java 11</p> 
<h3><a id="Flink__6"></a>Flink 本地模式安装</h3> 
<h4><a id="_8"></a>下载</h4> 
<p>进入flink下载页面<br> <a href="https://flink.apache.org/zh/downloads.html" rel="nofollow">https://flink.apache.org/zh/downloads.html</a></p> 
<p>笔者选择的版本是1.15.1</p> 
<p>若不想打开页面，可以直接使用下载链接<br> <a href="https://dlcdn.apache.org/flink/flink-1.15.1/flink-1.15.1-bin-scala_2.12.tgz" rel="nofollow">https://dlcdn.apache.org/flink/flink-1.15.1/flink-1.15.1-bin-scala_2.12.tgz</a></p> 
<p>文件大小 435.6MB 需要等待一段时间…</p> 
<p>选择 Apache Flink 1.15.1 for Scala 2.12 下载<br> <img src="https://images2.imgbox.com/b7/53/VeYYcplE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ac/35/bOxeZr2b_o.png" alt="在这里插入图片描述"><br> 注：这篇文章写时最新版本是 Apache Flink 1.15.1</p> 
<h4><a id="_24"></a>解压与启动</h4> 
<p>解压<br> <code>$ tar -xzf flink-1.15.1-bin-scala_2.12.tgz</code><br> <code>$ cd flink-1.15.1</code><br> 启动<br> <code>$ ./bin/start-cluster.sh</code></p> 
<p>Starting cluster.<br> Starting standalonesession daemon on host.<br> Starting taskexecutor daemon on host.</p> 
<p>查看 flink 运行状态<br> http://localhost:8081/</p> 
<p>能看到管理界面说明启动成功了<br> <img src="https://images2.imgbox.com/0b/83/svnEkkHf_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_40"></a>退出</h4> 
<p><code>$ ./bin/stop-cluster.sh</code></p> 
<h3><a id="_Java__43"></a>构建 Java 应用</h3> 
<p>运行以下程序时，Flink需是运行状态</p> 
<p>直接使用指令创建maven项目（推荐）<br> mvn archetype:generate <br> -DarchetypeGroupId=org.apache.flink <br> -DarchetypeArtifactId=flink-quickstart-java <br> -DarchetypeVersion=1.15.0 <br> -DgroupId=flink-project <br> -DartifactId=flink-project <br> -Dversion=0.1 <br> -Dpackage=myflink <br> -DinteractiveMode=false</p> 
<p>得到 flink-project/</p> 
<h4><a id="pomxml_59"></a>完整pom.xml</h4> 
<p>如下</p> 
<pre><code>&lt;!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
--&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
	&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

	&lt;groupId&gt;flink-project&lt;/groupId&gt;
	&lt;artifactId&gt;flink-project&lt;/artifactId&gt;
	&lt;version&gt;0.1&lt;/version&gt;
	&lt;packaging&gt;jar&lt;/packaging&gt;

	&lt;name&gt;Flink Quickstart Job&lt;/name&gt;

	&lt;properties&gt;
		&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
		&lt;flink.version&gt;1.15.0&lt;/flink.version&gt;
		&lt;target.java.version&gt;1.8&lt;/target.java.version&gt;
		&lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;
		&lt;maven.compiler.source&gt;${target.java.version}&lt;/maven.compiler.source&gt;
		&lt;maven.compiler.target&gt;${target.java.version}&lt;/maven.compiler.target&gt;
		&lt;log4j.version&gt;2.17.1&lt;/log4j.version&gt;
	&lt;/properties&gt;

	&lt;repositories&gt;
		&lt;repository&gt;
			&lt;id&gt;apache.snapshots&lt;/id&gt;
			&lt;name&gt;Apache Development Snapshot Repository&lt;/name&gt;
			&lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;
			&lt;releases&gt;
				&lt;enabled&gt;false&lt;/enabled&gt;
			&lt;/releases&gt;
			&lt;snapshots&gt;
				&lt;enabled&gt;true&lt;/enabled&gt;
			&lt;/snapshots&gt;
		&lt;/repository&gt;
	&lt;/repositories&gt;

	&lt;dependencies&gt;
		&lt;!-- Apache Flink dependencies --&gt;
		&lt;!-- These dependencies are provided, because they should not be packaged into the JAR file. --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
			&lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;
			&lt;version&gt;${flink.version}&lt;/version&gt;
			&lt;scope&gt;provided&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
			&lt;artifactId&gt;flink-clients&lt;/artifactId&gt;
			&lt;version&gt;${flink.version}&lt;/version&gt;
			&lt;scope&gt;provided&lt;/scope&gt;
		&lt;/dependency&gt;

		&lt;!-- Add connector dependencies here. They must be in the default scope (compile). --&gt;

		&lt;!-- Example:

		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
			&lt;artifactId&gt;flink-connector-kafka&lt;/artifactId&gt;
			&lt;version&gt;${flink.version}&lt;/version&gt;
		&lt;/dependency&gt;
		--&gt;

		&lt;!-- Add logging framework, to produce console output when running in the IDE. --&gt;
		&lt;!-- These dependencies are excluded from the application JAR by default. --&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
			&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;
			&lt;version&gt;${log4j.version}&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
			&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;
			&lt;version&gt;${log4j.version}&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
		&lt;dependency&gt;
			&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
			&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
			&lt;version&gt;${log4j.version}&lt;/version&gt;
			&lt;scope&gt;runtime&lt;/scope&gt;
		&lt;/dependency&gt;
	&lt;/dependencies&gt;

	&lt;build&gt;
		&lt;plugins&gt;

			&lt;!-- Java Compiler --&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.1&lt;/version&gt;
				&lt;configuration&gt;
					&lt;source&gt;${target.java.version}&lt;/source&gt;
					&lt;target&gt;${target.java.version}&lt;/target&gt;
				&lt;/configuration&gt;
			&lt;/plugin&gt;

			&lt;!-- We use the maven-shade plugin to create a fat jar that contains all necessary dependencies. --&gt;
			&lt;!-- Change the value of &lt;mainClass&gt;...&lt;/mainClass&gt; if your program entry point changes. --&gt;
			&lt;plugin&gt;
				&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
				&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
				&lt;version&gt;3.1.1&lt;/version&gt;
				&lt;executions&gt;
					&lt;!-- Run shade goal on package phase --&gt;
					&lt;execution&gt;
						&lt;phase&gt;package&lt;/phase&gt;
						&lt;goals&gt;
							&lt;goal&gt;shade&lt;/goal&gt;
						&lt;/goals&gt;
						&lt;configuration&gt;
							&lt;artifactSet&gt;
								&lt;excludes&gt;
									&lt;exclude&gt;org.apache.flink:flink-shaded-force-shading&lt;/exclude&gt;
									&lt;exclude&gt;com.google.code.findbugs:jsr305&lt;/exclude&gt;
									&lt;exclude&gt;org.slf4j:*&lt;/exclude&gt;
									&lt;exclude&gt;org.apache.logging.log4j:*&lt;/exclude&gt;
								&lt;/excludes&gt;
							&lt;/artifactSet&gt;
							&lt;filters&gt;
								&lt;filter&gt;
									&lt;!-- Do not copy the signatures in the META-INF folder.
									Otherwise, this might cause SecurityExceptions when using the JAR. --&gt;
									&lt;artifact&gt;*:*&lt;/artifact&gt;
									&lt;excludes&gt;
										&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;
										&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;
										&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;
									&lt;/excludes&gt;
								&lt;/filter&gt;
							&lt;/filters&gt;
							&lt;transformers&gt;
								&lt;transformer implementation="org.apache.maven.plugins.shade.resource.ServicesResourceTransformer"/&gt;
								&lt;transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer"&gt;
									&lt;mainClass&gt;myflink.DataStreamJob&lt;/mainClass&gt;
								&lt;/transformer&gt;
							&lt;/transformers&gt;
						&lt;/configuration&gt;
					&lt;/execution&gt;
				&lt;/executions&gt;
			&lt;/plugin&gt;
		&lt;/plugins&gt;

		&lt;pluginManagement&gt;
			&lt;plugins&gt;

				&lt;!-- This improves the out-of-the-box experience in Eclipse by resolving some warnings. --&gt;
				&lt;plugin&gt;
					&lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;
					&lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;
					&lt;version&gt;1.0.0&lt;/version&gt;
					&lt;configuration&gt;
						&lt;lifecycleMappingMetadata&gt;
							&lt;pluginExecutions&gt;
								&lt;pluginExecution&gt;
									&lt;pluginExecutionFilter&gt;
										&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
										&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;
										&lt;versionRange&gt;[3.1.1,)&lt;/versionRange&gt;
										&lt;goals&gt;
											&lt;goal&gt;shade&lt;/goal&gt;
										&lt;/goals&gt;
									&lt;/pluginExecutionFilter&gt;
									&lt;action&gt;
										&lt;ignore/&gt;
									&lt;/action&gt;
								&lt;/pluginExecution&gt;
								&lt;pluginExecution&gt;
									&lt;pluginExecutionFilter&gt;
										&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
										&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
										&lt;versionRange&gt;[3.1,)&lt;/versionRange&gt;
										&lt;goals&gt;
											&lt;goal&gt;testCompile&lt;/goal&gt;
											&lt;goal&gt;compile&lt;/goal&gt;
										&lt;/goals&gt;
									&lt;/pluginExecutionFilter&gt;
									&lt;action&gt;
										&lt;ignore/&gt;
									&lt;/action&gt;
								&lt;/pluginExecution&gt;
							&lt;/pluginExecutions&gt;
						&lt;/lifecycleMappingMetadata&gt;
					&lt;/configuration&gt;
				&lt;/plugin&gt;
			&lt;/plugins&gt;
		&lt;/pluginManagement&gt;
	&lt;/build&gt;
&lt;/project&gt;

</code></pre> 
<h4><a id="_273"></a>静态计算</h4> 
<p>添加 一个简单的单词计数程序<br> WordCount.class</p> 
<pre><code>import org.apache.flink.api.common.functions.FlatMapFunction;
import org.apache.flink.api.java.DataSet;
import org.apache.flink.api.java.ExecutionEnvironment;
import org.apache.flink.api.java.tuple.Tuple2;
import org.apache.flink.util.Collector;

/**
 * @author ximu
 * @date 2022/7/24
 * @description
 */
public class WordCount {
    //
    //	Program
    //

    public static void main(String[] args) throws Exception {

        // set up the execution environment
        final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();

        // get input data
        DataSet&lt;String&gt; text = env.fromElements(
                "To be, or not to be,--that is the question:--",
                "Whether 'tis nobler in the mind to suffer",
                "The slings and arrows of outrageous fortune",
                "Or to take arms against a sea of troubles,"
        );

        DataSet&lt;Tuple2&lt;String, Integer&gt;&gt; counts =
                // split up the lines in pairs (2-tuples) containing: (word,1)
                text.flatMap(new LineSplitter())
                        // group by the tuple field "0" and sum up tuple field "1"
                        .groupBy(0) //(i,1) (am,1) (chinese,1)
                        .sum(1);

        // execute and print result
        counts.print();
        
    }

    //
    // 	User Functions
    //

    /**
     * Implements the string tokenizer that splits sentences into words as a user-defined
     * FlatMapFunction. The function takes a line (String) and splits it into
     * multiple pairs in the form of "(word,1)" (Tuple2&amp;lt;String, Integer&amp;gt;).
     */
    public static final class LineSplitter implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {

        @Override
        public void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {
            // normalize and split the line
            String[] tokens = value.toLowerCase().split("\\W+");

            // emit the pairs
            for (String token : tokens) {
                if (token.length() &gt; 0) {
                    out.collect(new Tuple2&lt;String, Integer&gt;(token, 1));
                }
            }
        }
    }

}
</code></pre> 
<p>运行得到结果<br> <img src="https://images2.imgbox.com/82/bf/FaPruPz5_o.png" alt="在这里插入图片描述"><br> 如果运行报错<br> <code>错误: 无法初始化主类 myflink.WordCount</code></p> 
<p>修改pom.xml</p> 
<pre><code>&lt;dependency&gt;
	&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
	&lt;artifactId&gt;flink-clients&lt;/artifactId&gt;
	&lt;version&gt;${flink.version}&lt;/version&gt;
	&lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
	&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
	&lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;
	&lt;version&gt;${flink.version}&lt;/version&gt;
	&lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre> 
<p>修改为</p> 
<pre><code>&lt;dependency&gt;
	&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
	&lt;artifactId&gt;flink-clients&lt;/artifactId&gt;
	&lt;version&gt;${flink.version}&lt;/version&gt;
	&lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
	&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;
	&lt;artifactId&gt;flink-streaming-java&lt;/artifactId&gt;
	&lt;version&gt;${flink.version}&lt;/version&gt;
	&lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre> 
<p>即可</p> 
<h4><a id="_383"></a>实时计算</h4> 
<p>添加 一个滑动窗口的单词计数程序<br> WindowWordCount.class</p> 
<pre><code>import org.apache.flink.api.common.functions.FlatMapFunction;
import org.apache.flink.api.java.tuple.Tuple2;
import org.apache.flink.streaming.api.datastream.DataStream;
import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;
import org.apache.flink.streaming.api.windowing.assigners.TumblingProcessingTimeWindows;
import org.apache.flink.streaming.api.windowing.time.Time;
import org.apache.flink.util.Collector;

public class WindowWordCount {

    public static void main(String[] args) throws Exception {

        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();

        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; dataStream = env
                .socketTextStream("localhost", 9999)
                .flatMap(new Splitter())
                .keyBy(value -&gt; value.f0)
                .window(TumblingProcessingTimeWindows.of(Time.seconds(5)))
                .sum(1);

        dataStream.print();

        env.execute("Window WordCount");
    }

    public static class Splitter implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {
        @Override
        public void flatMap(String sentence, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) throws Exception {
            for (String word: sentence.split(" ")) {
                out.collect(new Tuple2&lt;String, Integer&gt;(word, 1));
            }
        }
    }

}
</code></pre> 
<p>请勿直接运行，因为本程序监听了本地端口9999所输入的数据，所以在运行程序之前，需要先开启端口9999<br> 在Terminal输入<br> <code>nc -lk 9999</code><br> <img src="https://images2.imgbox.com/43/2c/XYlD8B32_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-mkvsZ6ZI-1658644740596)(media/16586347433761/16586433433672.jpg)]"></p> 
<p>进入输入模式，此时启动程序 WindowWordCount<br> 程序启动完成后<br> 在Terminal输入一些数据<br> <img src="https://images2.imgbox.com/61/f9/Fk1fYcDv_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wOBQXiA1-1658644740597)(media/16586347433761/16586434534173.jpg)]"><br> 程序输出单词与出现的次数<br> <img src="https://images2.imgbox.com/c3/e4/BAMEVvRj_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-wvwCWFQW-1658644740597)(media/16586347433761/16586434700264.jpg)]"></p> 
<p>笔者使用的是5s的滑窗，可根据参数调整时间<br> <code>.window(TumblingProcessingTimeWindows.of(Time.seconds(5)))</code></p> 
<h3><a id="_Flink_Job_441"></a>提交 Flink Job</h3> 
<h4><a id="_443"></a>打包项目</h4> 
<p><code>mvn clean package -Dmaven.test.skip=true</code><br> <img src="https://images2.imgbox.com/15/28/C0PpeawF_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-DqRgAAaw-1658644740599)(media/16586347433761/16586438672595.jpg)]"></p> 
<h4><a id="_446"></a>运行任务</h4> 
<p>在flink目录下执行<br> <code>bin/flink run -c ${类相对路径} ${Jar绝对路径}</code><br> 如<br> <code>bin/flink run -c myflink.WordCount /Users/ximu/Project/Java/flink-project/target/flink-project-0.1.jar</code></p> 
<p>运行结果<br> <img src="https://images2.imgbox.com/52/04/auV6ZF5j_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-T1H8nEA3-1658644740599)(media/16586347433761/16586441670526.jpg)]"></p> 
<p>也可在Flink控制台查看任务运行状态<br> <img src="https://images2.imgbox.com/7a/96/W7qHyCFU_o.png" alt="在这里插入图片描述"></p> 
<p>好了，Flink的探索先告一段落了，欢迎给我留言～</p> 
<p>参考<br> <a href="https://github.com/wangzhiwubigdata/God-Of-BigData/blob/master/Flink/Flink%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83%28%E5%85%A5%E9%97%A8%E7%AF%872%29-%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA&amp;%E6%9E%84%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AAFlink%E5%BA%94%E7%94%A8.md">Flink从入门到放弃(入门篇2)-本地环境搭建&amp;构建第一个Flink应用.md</a></p> 
<p><a href="https://nightlies.apache.org/flink/flink-docs-release-1.15/zh/docs/dev/configuration/maven/" rel="nofollow">如何使用 Maven 配置您的项目</a></p> 
<p><a href="https://nightlies.apache.org/flink/flink-docs-release-1.15/zh/docs/dev/datastream/overview/" rel="nofollow">Flink DataStream API 编程指南</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/00e496a30bc116136c7eb7148989466a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java 自定义比较器用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5f94026029a74bc4d496f0ed8327098f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">橘子学ES16之分词三大组件以及如何自己实现自己的分词器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>