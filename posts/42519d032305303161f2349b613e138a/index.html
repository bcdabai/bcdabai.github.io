<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安装ubuntu22.04系统,GPU驱动，cuda,cudnn，python环境，pycharm - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安装ubuntu22.04系统,GPU驱动，cuda,cudnn，python环境，pycharm" />
<meta property="og:description" content="需要准备一个u盘，需要格式化，且内存不小于8g
1 下载ubuntu镜像 下载链接：
https://cn.ubuntu.com/download/desktop
2下载rufus Rufus - 轻松创建 USB 启动盘Rufus: Create bootable USB drives the easy wayhttps://rufus.ie/zh/
准备好这两个之后​​
配置好之后，点开始，然后基本下一步下一步就可以了。
１首先将source.list复制为source.list.bak备份。
cp /etc/apt/source.list /etc/apt/source.list.bak 修改完成后保存source.list文件，需要执行命令后才能生效：
sudo apt update 本文为 Ubuntu 22.04 的阿里云镜像源列表。若为其他版本，将所有jammy更改为其他版本代号即可。
常用的Ubuntu版本代号如下：
Ubuntu 22.04：jammy
Ubuntu 20.04：focal
Ubuntu 18.04：bionic
Ubuntu 16.04：xenia
vim /etc/apt/source.list １将文件内容清空，然后复制下方代码粘贴，wq保存退出即可。
deb https://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse deb-src https://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse deb https://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse deb-src https://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse deb https://mirrors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/42519d032305303161f2349b613e138a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T18:48:00+08:00" />
<meta property="article:modified_time" content="2024-01-10T18:48:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安装ubuntu22.04系统,GPU驱动，cuda,cudnn，python环境，pycharm</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>需要准备一个u盘，需要<strong>格式化</strong>，且内存不小于8g</p> 
<h4><a name="t2"></a><a id="1_ubuntu_13"></a>1 下载ubuntu镜像</h4> 
<p>下载链接：</p> 
<blockquote> 
 <p>https://cn.ubuntu.com/download/desktop</p> 
</blockquote> 
<h4>2下载rufus</h4> 
<p><a class="has-card" href="https://rufus.ie/zh/" rel="nofollow" title="Rufus - 轻松创建 USB 启动盘"><span class="link-card-box"><span class="link-title">Rufus - 轻松创建 USB 启动盘</span><span class="link-desc">Rufus: Create bootable USB drives the easy way</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/97/60/WRwNQVx9_o.png" alt="icon-default.png?t=N7T8">https://rufus.ie/zh/</span></span></a></p> 
<p> 准备好这两个之后<img alt="" height="98" src="https://images2.imgbox.com/c2/b7/8PnSIAlC_o.png" width="884">​<img alt="" height="582" src="https://images2.imgbox.com/31/0e/QTYBOQ3Z_o.png" width="422">​</p> 
<p>配置好之后，点开始，然后基本下一步下一步就可以了。</p> 
<p>１首先将source.list复制为source.list.bak备份。</p> 
<pre><code>cp /etc/apt/source.list /etc/apt/source.list.bak</code></pre> 
<p><br> 修改完成后保存source.list文件，需要执行命令后才能生效：</p> 
<pre><code>sudo apt update
</code></pre> 
<p>本文为 Ubuntu 22.04 的阿里云镜像源列表。若为其他版本，将所有jammy更改为其他版本代号即可。<br> 常用的Ubuntu版本代号如下：<br> Ubuntu 22.04：jammy<br> Ubuntu 20.04：focal<br> Ubuntu 18.04：bionic<br> Ubuntu 16.04：xenia</p> 
<pre><code>vim /etc/apt/source.list</code></pre> 
<p><br> １将文件内容清空，然后复制下方代码粘贴，wq保存退出即可。</p> 
<pre><code>deb https://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse

# deb https://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse
# deb-src https://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse</code></pre> 
<p>设定好用户密码后，另外要安装openssh-server</p> 
<div> 
 <pre><code>apt install openssh-server</code></pre> 
</div> 
<p>vi 打开sshd配置文件sshd_config ，执行命令：vi /etc/ssh/sshd_config ,打开端口注释</p> 
<p> <img alt="" height="238" src="https://images2.imgbox.com/02/9a/5uJRCdPd_o.png" width="415">​</p> 
<p>  sshd自动启动</p> 
<div> 
 <pre><code>sudo service sshd start</code></pre> 
</div> 
<p>然后再把以前硬盘永久挂载进来，由于是windows系统下的数据盘，运行 </p> 
<div> 
 <pre><code> sudo blkid </code></pre> 
</div> 
<p> <img alt="" height="280" src="https://images2.imgbox.com/9d/0f/yx4JNQgT_o.png" width="1200">​</p> 
<p> 大图</p> 
<p><img alt="" height="285" src="https://images2.imgbox.com/80/e5/cVvhqY2N_o.png" width="828"></p> 
<p>找到/dev/sdxxxx几个对应的值</p> 
<p>运行</p> 
<pre><code>vi /etc/fstab</code></pre> 
<p>把对应的内容填入，这样重启动后也可以自动加载上了。</p> 
<pre><code># /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
# / was on /dev/nvme0n1p3 during installation
UUID=42a8dba0-be1e-402e-be76-836b2d5fbfe7 /               ext4    errors=remount-ro 0       1
# /boot/efi was on /dev/nvme0n1p2 during installation
UUID=AC5C-E788  /boot/efi       vfat    umask=0077      0       1
/swapfile                                 none            swap    sw              0       0
UUID="F8A4C772A4C731C4" /mnt/data_hd_d ntfs defaults 0 0
UUID="6E68724B687211D7" /mnt/data_hd_e ntfs defaults 0 0
UUID="5AA87ADFA87AB8D9" /mnt/data_hd_f ntfs defaults 0 0</code></pre> 
<p>再运行 ，把对应的内容填入，这样重启动后也可以自动加载上了。这时重启动一下机器</p> 
<pre><code>sudo reboot</code></pre> 
<p>就可以看到在/mnt/下面就看到盘符了</p> 
<p><img alt="" height="142" src="https://images2.imgbox.com/ef/ef/dZvH0P79_o.png" width="643"></p> 
<p>查看硬盘信息</p> 
<p>df -h</p> 
<p></p> 
<p></p> 
<p>安装显卡驱动：</p> 
<p> <a href="https://www.nvidia.cn/Download/index.aspx?lang=cn#" rel="nofollow" title="官方驱动 | NVIDIA">官方驱动 | NVIDIA</a></p> 
<p><img alt="" height="336" src="https://images2.imgbox.com/9e/b2/lypvNCBK_o.png" width="864"></p> 
<p> 根据自己的显卡选择驱动。<strong>注意：下载的驱动文件要放在英语路径中！！！</strong></p> 
<p><strong>一、英伟达官网下载驱动 </strong></p> 
<p><strong>中文地址：</strong><a href="https://www.nvidia.cn/Download/index.aspx?lang=cn" rel="nofollow" title="官方驱动 | NVIDIA">官方驱动 | NVIDIA</a></p> 
<p><strong> 根据自己的显卡选择驱动。</strong></p> 
<p><img alt="" height="353" src="https://images2.imgbox.com/42/04/M2plaVVe_o.png" width="611"></p> 
<p><strong>二、更新软件列表和安装必要软件、依赖<br> 终端输入以下命令：</strong></p> 
<p><strong>    sudo apt-get update<br>      <br>     sudo apt-get install g++<br>      <br>     sudo apt-get install gcc<br>      <br>     sudo apt-get install make<br> 三、禁用默认驱动<br> 在安装NVIDIA驱动以前需要禁止系统自带显卡驱动nouveau。</strong></p> 
<p><strong>在终端输入命令打开blacklist.conf文件。</strong></p> 
<pre><code>sudo gedit /etc/modprobe.d/blacklist.conf</code></pre> 
<p><br><strong>或者新建一个单独的blacklist-nouveau.conf文件。</strong></p> 
<pre><code>sudo gedit /etc/modprobe.d/blacklist-nouveau.conf</code></pre> 
<p><br><strong>在打开的文件末尾输入并保存：</strong></p> 
<pre><code>blacklist nouveau
options nouveau modeset=0</code></pre> 
<p><br><strong>最后更新一下系统的initramfs镜像文件，在终端中输入：</strong></p> 
<pre><code>sudo update-initramfs -u</code></pre> 
<p><br><strong>完成以上步骤后，重启电脑。然后在终端中输入：</strong></p> 
<pre><code>lsmod | grep nouveau</code></pre> 
<p>如果没有输出的话就说明禁用了nouveau。参考下面文章。</p> 
<p><a class="has-card" href="https://blog.csdn.net/huiyoooo/article/details/128015155?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170478405416800226543046%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170478405416800226543046&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-128015155-null-null.142%5Ev99%5Epc_search_result_base2&amp;utm_term=ubuntu22.04%E5%AE%89%E8%A3%85%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8&amp;spm=1018.2226.3001.4187" title="【超详细】【ubunbu 22.04】 手把手教你安装nvidia驱动，有手就行，隔壁家的老太太都能安装_ubuntu安装nvidia显卡驱动-CSDN博客"><span class="link-card-box"><span class="link-title">【超详细】【ubunbu 22.04】 手把手教你安装nvidia驱动，有手就行，隔壁家的老太太都能安装_ubuntu安装nvidia显卡驱动-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/d7/ff/U8HcD8N8_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/huiyoooo/article/details/128015155?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170478405416800226543046%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170478405416800226543046&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-128015155-null-null.142%5Ev99%5Epc_search_result_base2&amp;utm_term=ubuntu22.04%E5%AE%89%E8%A3%85%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p><a href="https://developer.nvidia.com/cuda-11-8-0-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=22.04&amp;target_type=runfile_local" rel="nofollow" title="CUDA Toolkit 11.8 Downloads | NVIDIA Developer">CUDA Toolkit 11.8 Downloads | NVIDIA Developer</a></p> 
<p><img alt="" height="874" src="https://images2.imgbox.com/00/6c/oJec1W7B_o.png" width="1200"></p> 
<p></p> 
<h6>Download Installer for Linux Ubuntu 22.04 x86_64</h6> 
<p>The base installer is available for download below.</p> 
<p></p> 
<table id="targetInstallerTable"><tbody><tr><td>Base Installer</td><td></td></tr><tr><td colspan="2">Installation Instructions:</td></tr><tr><td colspan="2"> 
    <div> 
     <pre><code>wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.runsudo sh cuda_11.8.0_520.61.05_linux.run</code></pre> 
    </div> </td></tr></tbody></table> 
<p> 前面continue,accept<img alt="" height="406" src="https://images2.imgbox.com/3e/ce/9KoqqWTt_o.png" width="693"></p> 
<p> 按上面配置会报错nvidia-fs无法安装，选择不安装</p> 
<p><img alt="" height="405" src="https://images2.imgbox.com/70/9a/wtyjR3PC_o.png" width="712"></p> 
<p><a href="https://developer.nvidia.com/rdp/cudnn-archive" rel="nofollow" title="cuDNN Archive | NVIDIA Developer">cuDNN Archive | NVIDIA Developer</a></p> 
<p> <img alt="" height="726" src="https://images2.imgbox.com/50/87/vxcXm87u_o.png" width="1173"></p> 
<p></p> 
<p></p> 
<p>配置环境变量<br> 安装完成后会显示配置环境变量的说明，如下：</p> 
<p>按照说明配置即可：</p> 
<pre><code>vim ~/.bashrc</code></pre> 
<p><br> 添加以下内容：</p> 
<pre><code>export PATH=$PATH:/usr/local/cuda/bin  
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64  </code></pre> 
<p><br> 最后：</p> 
<pre><code>source ~/.bashrc
nvcc -V</code></pre> 
<p><img alt="" height="93" src="https://images2.imgbox.com/73/8f/nTjhiPHv_o.png" width="842"> 之后安装python运行环境anaconda和pycharm</p> 
<p>a</p> 
<p><a href="https://blog.csdn.net/JineD/article/details/129507719" title="Ubuntu 22.04上安装Anaconda，及 conda 的基础使用_ubuntu22安装conda-CSDN博客">Ubuntu 22.04上安装Anaconda，及 conda 的基础使用_ubuntu22安装conda-CSDN博客</a></p> 
<p>安装pycharm，当我mobaXterm运行 firefox又出错</p> 
<p><img alt="" height="69" src="https://images2.imgbox.com/34/12/MYK21CFa_o.png" width="601"></p> 
<p> 针对mkdir报错的改进方法</p> 
<pre><code>sudo mkdir /run/user/0</code></pre> 
<p> 针对 “MobaXterm X11 proxy: Unsupported authorisation protocol” 的改进方法</p> 
<pre><code>mcookie</code></pre> 
<p>得到</p> 
<p><img alt="" height="31" src="https://images2.imgbox.com/18/e0/L604PM6S_o.png" width="416"></p> 
<pre><code>xauth add localhost/unix:10 MIT-MAGIC-COOKIE-1 $(mcookie)</code></pre> 
<p><img alt="" height="238" src="https://images2.imgbox.com/1b/fe/9QKLsJf9_o.png" width="890"></p> 
<p>xauth list</p> 
<p>安装pycharm </p> 
<p><a class="has-card" href="https://blog.csdn.net/CNjcdyl/article/details/125158395?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170487436916800225580111%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170487436916800225580111&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-125158395-null-null.142%5Ev99%5Epc_search_result_base2&amp;utm_term=linux%E5%AE%89%E8%A3%85pycharm&amp;spm=1018.2226.3001.4187" title="在 Linux 环境下安装 Pycharm_linux pycharm-CSDN博客"><span class="link-card-box"><span class="link-title">在 Linux 环境下安装 Pycharm_linux pycharm-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/25/e0/Hsg45G5L_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/CNjcdyl/article/details/125158395?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170487436916800225580111%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170487436916800225580111&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-125158395-null-null.142%5Ev99%5Epc_search_result_base2&amp;utm_term=linux%E5%AE%89%E8%A3%85pycharm&amp;spm=1018.2226.3001.4187</span></span></a></p> 
<p>这样整体就差不多了还有 一个Pytorch  参才下面文章安装即可。以前windows下面<strong><code>quantize(4)</code> 方法时会报错，在linux下就不存在了，在这个平台下面就可以勉强进行训练<code>quantize(4)</code> 的模型了。</strong></p> 
<p><a href="https://blog.csdn.net/babytiger/article/details/135228911" title="win10系统gpu本地部署chatglm3-6b，从0开始安装_win10 chatglm3-6b-CSDN博客">win10系统gpu本地部署chatglm3-6b，从0开始安装_win10 chatglm3-6b-CSDN博客</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/911f375c2f24cd581467ec624b510583/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java：爬虫htmlunit</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2b853cf2626b38972a8f80ddef921c1e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win10系统gpu本地部署chatglm3-6b，从0开始安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>