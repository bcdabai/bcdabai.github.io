<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>双目测距误差评估 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="双目测距误差评估" />
<meta property="og:description" content="我修完产假回来上班了，被分到了割草机项目组，机遇与挑战并存，我啥也不会，但是这次扛下来也许就蜕变了呢，也许我是想多了，管他呢，有问题咱就解决，有活咱就干，态度摆端正，结果就不会太差。上班第一天开会安排任务，有个双目测距的任务，领导问我之前做过吗，我心想，我在SLAM里用过双目，这算做过吗？现在想想，当时应该说没做过，但是我可以做好。同事有双目测距SGBM代码，是自己根据双目立体匹配原理重新实现的，还有SIMD加速版本的，还有，，我运行起来调整一下参数，再交叉编译搞到板子上去，应该不成问题。
领导问我双目出深度的精度，我想着等我这个同事周一回来了再跟他讨论，不过问题貌似比较急，我不得不给我这同事打电话吗，他说这个精度跟很多因素有关系的，得实际测的，我想我这怎么跟领导汇报来，只能靠自己了，我就在网上搜索相关的资料，就是如何计算双目测距的精度问题，我就找到了下面这篇文章
双目视觉误差与距离关系_双目fov计算_这个不开车的老司机的博客-CSDN博客
我马上查阅了我们使用相机的资料，把参数都填上去，计算了一下，给领导一个直观的反馈。
B = 60; %mm，两个相机之间的距离，也叫基线 fs = 1.6; %mm，相机的物理焦距 ss = 1.968; %mm ，芯片的宽 %1.968 wid = 640; %pix,相机的分辨率 宽 pp = ss/wid %um 像元尺寸 dd = 0.25; %pix，视差的精度，检测的精度，亚像素 f = fs/(pp); minZ = 1000; %离相机最近的距离 maxZ = 3000; %最远距离 theta = atan((wid/2)/f); fov = 2*theta *180/pi minDepth = 0.5*B/((wid/2)/f) vdD = []; for D = minZ:maxZ d = B*f/D; dD = B*f*(1/d - 1/(d&#43;dd)); vdD = [vdD;dD]; end plot([minZ:maxZ],vdD);grid on; xlabel(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/de6e9590957c4a4f1cb3eeac430b0ea9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-14T21:28:04+08:00" />
<meta property="article:modified_time" content="2023-04-14T21:28:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">双目测距误差评估</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>我修完产假回来上班了，被分到了割草机项目组，机遇与挑战并存，我啥也不会，但是这次扛下来也许就蜕变了呢，也许我是想多了，管他呢，有问题咱就解决，有活咱就干，态度摆端正，结果就不会太差。上班第一天开会安排任务，有个双目测距的任务，领导问我之前做过吗，我心想，我在SLAM里用过双目，这算做过吗？现在想想，当时应该说没做过，但是我可以做好。同事有双目测距SGBM代码，是自己根据双目立体匹配原理重新实现的，还有SIMD加速版本的，还有，，我运行起来调整一下参数，再交叉编译搞到板子上去，应该不成问题。</p> 
<p>领导问我双目出深度的精度，我想着等我这个同事周一回来了再跟他讨论，不过问题貌似比较急，我不得不给我这同事打电话吗，他说这个精度跟很多因素有关系的，得实际测的，我想我这怎么跟领导汇报来，只能靠自己了，我就在网上搜索相关的资料，就是如何计算双目测距的精度问题，我就找到了下面这篇文章</p> 
<p><a href="https://blog.csdn.net/non_hercules/article/details/115330594" title="双目视觉误差与距离关系_双目fov计算_这个不开车的老司机的博客-CSDN博客">双目视觉误差与距离关系_双目fov计算_这个不开车的老司机的博客-CSDN博客</a></p> 
<p> 我马上查阅了我们使用相机的资料，把参数都填上去，计算了一下，给领导一个直观的反馈。</p> 
<pre><code class="hljs"> B = 60;     %mm，两个相机之间的距离，也叫基线
fs = 1.6;    %mm，相机的物理焦距
ss = 1.968;  %mm ，芯片的宽 %1.968
wid = 640;   %pix,相机的分辨率 宽
pp = ss/wid  %um  像元尺寸
dd = 0.25;    %pix，视差的精度，检测的精度，亚像素
f = fs/(pp);
minZ = 1000;  %离相机最近的距离
maxZ = 3000; %最远距离

theta = atan((wid/2)/f);
fov = 2*theta *180/pi
minDepth = 0.5*B/((wid/2)/f)

vdD = [];
for D = minZ:maxZ
    
    d = B*f/D;
    dD = B*f*(1/d - 1/(d+dd));
    vdD = [vdD;dD];
end
plot([minZ:maxZ],vdD);grid on;
xlabel("距离（毫米）");
ylabel("精确度（毫米");</code></pre> 
<p>心无杂念，一心工作。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/083f8459f3073775ab51912e19fcd594/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Web 技术标准组织</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c5167cbb1b87fa5a7594906c03cc0b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">cicflowmeter介绍以及用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>