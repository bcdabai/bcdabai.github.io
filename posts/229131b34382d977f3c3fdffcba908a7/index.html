<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python爬虫实战——获取指定博主所有专栏链接及博文链接 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python爬虫实战——获取指定博主所有专栏链接及博文链接" />
<meta property="og:description" content="Python爬虫实战——获取指定博主所有专栏链接及博文链接 0. 前言1. 第三方库的安装2. 代码3. 演示效果 0. 前言 本节学习使用爬虫来爬取指定csdn用户的所有专栏下的文章
操作系统：Windows10 专业版
开发环境：Pycahrm Comunity 2022.3
Python解释器版本：Python3.8
第三方库：requests bs4
1. 第三方库的安装 参考以下文章安装第三方库：
Python第三方库安装——使用vscode、pycharm安装Python第三方库
2. 代码 import requests from bs4 import BeautifulSoup import datetime def printk(value): print(value) exit() user = &#34;qq_53381910&#34; url = &#34;https://blog.csdn.net/{}&#34;.format(user) # 构造请求头 headers={ &#39;User-Agent&#39;: &#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36&#39; } # 发送get请求 r=requests.get(url = url,headers=headers,timeout = 5) # 处理 soup=BeautifulSoup(r.text,&#39;html.parser&#39;) # 获取用户名 div = soup." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/229131b34382d977f3c3fdffcba908a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-22T23:06:31+08:00" />
<meta property="article:modified_time" content="2023-05-22T23:06:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python爬虫实战——获取指定博主所有专栏链接及博文链接</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Python爬虫实战——获取指定博主所有专栏链接及博文链接</h4> 
 <ul><li><a href="#0__2" rel="nofollow">0. 前言</a></li><li><a href="#1__13" rel="nofollow">1. 第三方库的安装</a></li><li><a href="#2__17" rel="nofollow">2. 代码</a></li><li><a href="#3__82" rel="nofollow">3. 演示效果</a></li></ul> 
</div> 
<p></p> 
<h2><a id="0__2"></a>0. 前言</h2> 
<p>本节学习使用爬虫来爬取指定csdn用户的所有专栏下的文章</p> 
<p>操作系统：Windows10 专业版</p> 
<p>开发环境：Pycahrm Comunity 2022.3</p> 
<p>Python解释器版本：Python3.8</p> 
<p>第三方库：requests bs4</p> 
<h2><a id="1__13"></a>1. 第三方库的安装</h2> 
<p>参考以下文章安装第三方库：<br> <a href="https://blog.csdn.net/qq_53381910/article/details/129868758">Python第三方库安装——使用vscode、pycharm安装Python第三方库</a></p> 
<h2><a id="2__17"></a>2. 代码</h2> 
<pre><code class="prism language-python"><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> datetime

<span class="token keyword">def</span> <span class="token function">printk</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    exit<span class="token punctuation">(</span><span class="token punctuation">)</span>

user <span class="token operator">=</span> <span class="token string">"qq_53381910"</span>

url <span class="token operator">=</span> <span class="token string">"https://blog.csdn.net/{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
<span class="token comment"># 构造请求头</span>
headers<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
<span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36'</span>
<span class="token punctuation">}</span>
<span class="token comment"># 发送get请求</span>
r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">=</span> url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">,</span>timeout <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 处理</span>
soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">,</span><span class="token string">'html.parser'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取用户名</span>
div <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span>class_ <span class="token operator">=</span> <span class="token string">"user-profile-head-name"</span><span class="token punctuation">)</span>
username <span class="token operator">=</span> div<span class="token punctuation">.</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment"># 查找专栏链接</span>
divs <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span>class_ <span class="token operator">=</span> <span class="token string">"aside-common-box-content"</span><span class="token punctuation">)</span>
div <span class="token operator">=</span> divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
lis <span class="token operator">=</span> div<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span>

titles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
infos <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token comment"># 爬取专栏链接及链接名</span>
<span class="token keyword">for</span> li <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
    <span class="token comment"># print("####")</span>
    url <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span>
    title <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span>
    titles<span class="token punctuation">.</span>append<span class="token punctuation">(</span>title<span class="token punctuation">)</span>
    infos<span class="token punctuation">[</span>title<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"url"</span><span class="token punctuation">:</span>url<span class="token punctuation">}</span>

    <span class="token comment"># print("[+]"+title+url)</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"{}的博文.md"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"w+"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token comment"># 爬取专栏下的博文</span>
    <span class="token keyword">for</span> title <span class="token keyword">in</span> titles<span class="token punctuation">:</span>
    <span class="token comment"># if True:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"# {}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>
        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>infos<span class="token punctuation">[</span>title<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"url"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
        lis <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"column_article_list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"###########{}##########\n"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">for</span> li <span class="token keyword">in</span> lis<span class="token punctuation">:</span>
            <span class="token comment"># print(li)</span>
            title <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span>class_ <span class="token operator">=</span> <span class="token string">"column_article_desc"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>
            href <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span>href<span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"[{}]({})"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span>href<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">)</span>
            status <span class="token operator">=</span> li<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">"column_article_data"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">"span"</span><span class="token punctuation">)</span>
            <span class="token comment"># for statu in status:</span>
            <span class="token comment">#     print(statu.text.replace("\n","").replace("\n","").replace(" ",""))</span>
</code></pre> 
<h2><a id="3__82"></a>3. 演示效果</h2> 
<p>会在控制台输出爬取到的文章<br> <img src="https://images2.imgbox.com/cb/54/wI6P9lJo_o.png" alt="在这里插入图片描述"></p> 
<p>并且会生成以博主名字命名的md文档，点击即可跳转<br> <img src="https://images2.imgbox.com/d4/3d/RajogIcq_o.png" alt="在这里插入图片描述"><br> 将代码中的user替换为别人的id，qq_36232611是某个哪吒。</p> 
<p>将其文章链接全爬下来并按照专栏分类<br> <img src="https://images2.imgbox.com/4e/0a/aTUOi6kY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/12/fa/nTh6PpDy_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4fcef9f72f2996dfb5076ee07bea6bb1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【新星计划·2023】网络技术——VTP技术/协议讲解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/75abbbc1ff7a1ed03619dcc8eb57b8aa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu 开机显示 initramfs 进不了系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>