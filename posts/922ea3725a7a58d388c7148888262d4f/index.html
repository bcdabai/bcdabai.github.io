<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【20180829】【C/C&#43;&#43;基础知识】复习match函数程序 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【20180829】【C/C&#43;&#43;基础知识】复习match函数程序" />
<meta property="og:description" content="例5：实现匹配函数match：程序在输入字符串中查找一个给定的字符，如果找到，则从该字符开始打印余下的子字符串，及该字符是字符串的第几个字符；否则输出“no match found”。 拓展：在输入字符串s2中查找s1字符串。 第一次写的程序：
/* match函数：在s2中查找s1，并输出s1之后的所有字符 */ #include &lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;string.h&gt; char *match(); // 函数声明 char *match(char a[50],char b[100]) // 实现搜索的功能 { char *p1=a,*p2=b,*p; int i,len1,posit=0,locat=0; for(i=0;p1!=&#39;\0&#39;;p1&#43;&#43;) // 求s1长度，便于后面找s2中出现s1的位置 i&#43;&#43;; len1=i&#43;1; // 错误2！！！ p1=a; p2=b; while(p2!=&#39;\0&#39;) // 错误1！！！ { if(*p1!=*p2) { p2&#43;&#43;; posit&#43;&#43;; p1=a; } else { while((*p2==*p1)&amp;&amp;(p1!=&#39;\0&#39;)) { p1&#43;&#43;; p2&#43;&#43;; posit&#43;&#43;; } } if(*p1==&#39;\0&#39;) { locat=posit-len1; p=&amp;(b[locat]); } else p=NULL; } return p; } int main() // 定义一些变量，获取字符串，调用match函数，进而做下一步操作 { char s1[50],s2[100],*p; printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/922ea3725a7a58d388c7148888262d4f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-29T10:52:22+08:00" />
<meta property="article:modified_time" content="2018-08-29T10:52:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【20180829】【C/C&#43;&#43;基础知识】复习match函数程序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>例5：实现匹配函数match：程序在输入字符串中查找一个给定的字符，如果找到，则从该字符开始打印余下的子字符串，及该字符是字符串的第几个字符；否则输出“no match found”。</h4> 
<h4>拓展：在输入字符串s2中查找s1字符串。</h4> 
<p>第一次写的程序：</p> 
<pre class="has"><code class="language-cpp">/* match函数：在s2中查找s1，并输出s1之后的所有字符 */
#include &lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;string.h&gt;
char *match();   // 函数声明
char *match(char a[50],char b[100])    // 实现搜索的功能
{
	char *p1=a,*p2=b,*p;
	int i,len1,posit=0,locat=0;
	for(i=0;p1!='\0';p1++)  // 求s1长度，便于后面找s2中出现s1的位置
		i++;
	len1=i+1;   // 错误2！！！
	p1=a; p2=b; 

	while(p2!='\0')   // 错误1！！！
	{
		if(*p1!=*p2)
		{
			p2++;
			posit++;
			p1=a;
		}
		else
		{
			while((*p2==*p1)&amp;&amp;(p1!='\0'))
			{
				p1++;
				p2++;
				posit++;
			}
		}
		if(*p1=='\0')
		{
			locat=posit-len1;
			p=&amp;(b[locat]);
		}
		else
			p=NULL;
	}
	return p;

}
int main()    // 定义一些变量，获取字符串，调用match函数，进而做下一步操作
{
	char s1[50],s2[100],*p;
	printf("s1:\n");
	gets_s(s1,50);
	printf("s2:\n");
	gets_s(s2,100);
	p=match(s1,s2);
	if(p)
		printf("%s\n",p);
	else
		printf("No match found!\n");


	system("pause");
	return 0;
}</code></pre> 
<p>我的错误：</p> 
<p style="text-indent:50px;">（1）没有分清楚*p和p的区别，要判断字符串是否到了'\0'或者判断两个字符串是否相同，都要用*p！！！</p> 
<p style="text-indent:50px;">（2）求s1长度len1时求错！调试看区别：i++放在for语句表达式3中和放在for语句循环体内，结果是不同的！</p> 
<p style="text-indent:50px;">（3）在s2中搜索到s1后，应当结束搜索并输出打印后面的所有字符，但大的循环体的条件是*p2!='\0'，所以在搜索到s1后，其实还是依然在进行循环的，这里错误，所以应当再加一个限制条件！</p> 
<p style="text-indent:0;"> </p> 
<p style="text-indent:0;">修改后的程序可实现正确功能：</p> 
<pre class="has"><code class="language-cpp">/* match函数：在s2中查找s1，并输出s1之后的所有字符 */
#include &lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;string.h&gt;
char *match();   // 函数声明
char *match(char a[50],char b[100])    // 实现搜索的功能
{
	char *p1=a,*p2=b,*p;
	int i,len1,posit=0,locat=0;
	for(i=0;*p1!='\0';p1++)  // 求s1长度，便于后面找s2中出现s1的位置
		                    // 错误3！！！
		i++;
	len1=i;   // 错误2！！！
	p1=a; p2=b; 

	while((*p2!='\0')&amp;&amp;(*p1!='\0'))   // 错误1！！！
	{
		if(*p1!=*p2)
		{
			p2++;
			posit++;
			p1=a;   // 目的是：若搜索到s1的首字母，但中途又和s1不一样了，就要从s1的首字母重新开始搜索！
		}
		else
		{
			while((*p2==*p1)&amp;&amp;(p1!='\0'))
			{
				p1++;
				p2++;
				posit++;
			}
		}
		
	}
	if(*p1=='\0')
	{
		locat=posit-len1;
		p=&amp;(b[locat]);   // p是指针，因此存放地址，所以应当是数组的地址，而不是&amp;(locat)，这样会出现类型错误！
	}
	else
		p=NULL;
	return p;

}
int main()    // 定义一些变量，获取字符串，调用match函数，进而做下一步操作
{
	char s1[50],s2[100],*p;
	printf("s1:\n");
	gets_s(s1,50);
	printf("s2:\n");
	gets_s(s2,100);
	p=match(s1,s2);
	if(p)
		printf("%s\n",p);
	else
		printf("No match found!\n");


	system("pause");
	return 0;
}</code></pre> 
<p style="text-indent:0;"><img alt="" class="has" height="173" src="https://images2.imgbox.com/2d/c4/moesvAoI_o.png" width="332"> <img alt="" class="has" height="171" src="https://images2.imgbox.com/4d/31/8IWJnMgY_o.png" width="362"></p> 
<p> </p> 
<h4>心得：</h4> 
<p style="text-indent:50px;">（1）为了逻辑清晰，思维不混乱，最好在编写程序之前先用自然语言简洁描述，或者用伪代码表示出来，还要结合画图分析！</p> 
<p style="text-indent:50px;"><img alt="" class="has" height="350" src="https://images2.imgbox.com/10/f4/cr9MdNRA_o.png" width="261"></p> 
<p style="text-indent:50px;">（2）借助调试技术</p> 
<h4> </h4> 
<h4>开心♪(＾∀＾●)ﾉ</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7fcdea416317c5680ccbc8164d56810d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">unity中OnEnable()和OnDisable()</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67d0e9e0956332ad44f04f83633feb62/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hadoop与MPP是什么关系?有什么区别和联系?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>