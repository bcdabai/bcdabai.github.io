<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flutter插件中关于地图的使用flutter_map - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flutter插件中关于地图的使用flutter_map" />
<meta property="og:description" content="关于flutter插件地图的使用flutter_map flutter_map
A Dart implementation of Leaflet for Flutter apps.
一个基于leaflet的地图插件，也就是说flutter_map基于的是瓦片地图，那么在兼容性上可以说比较好用了。
横向对比
目前主要的地图插件主要有： flutter_map map_view``amap
map_view
先说下map_view这个插件，这个插件主要是用来展示google map使用。 由于一个我们都知道的原因，我们在使用这个插件的过程中相对比较困难，所以我们可是适当放弃使用这plugin。
flutter_amap
每次看到版本为0.0.1的插件总觉得哪里有问题的，这是高德推出的插件。 高德地图3d flutter组件。
展示原生android、ios高德地图，并与flutter交互。
注意：随着flutter版本的提升， 本项目也会随之更新， 目前这个版本只能在单独的controller或者activity中打开高德地图。 划线部分表示说这个版本还不是很成熟，因此我也不想用
flutter_map
这个插件就是要重点说下的了 ，下面的视频可能需要代理才能光看，示例： 视频 地址：https://pub.dartlang.org/packages/flutter_map
githubhttps://github.com/apptreesoftware/flutter_map 使用：
dependencies: flutter_map: ^0.3.0 在需要使用的地方根据自动提示添加packages
import &#39;packages:.....&#39;; 需要注意的是可能需要添加LatLng这个包
使用：
Widget build(BuildContext context) { return new FlutterMap( options: new MapOptions( center: new LatLng(51.5, -0.09),//经纬度，注意前后顺序，用于展示中心 zoom: 13.0, ), layers: [ new TileLayerOptions( urlTemplate: &#34;https://api.tiles.mapbox.com/v4/&#34; &#34;{id}/{z}/{x}/{y}@2x.png?access_token={accessToken}&#34;,//瓦片地图的URL additionalOptions: { &#39;accessToken&#39;: &#39;&lt;PUT_ACCESS_TOKEN_HERE&gt;&#39;, &#39;id&#39;: &#39;mapbox." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/63a19dc5023014e92da32ff5e9e412a0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-04T20:01:59+08:00" />
<meta property="article:modified_time" content="2018-12-04T20:01:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flutter插件中关于地图的使用flutter_map</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="关于flutter插件地图的使用flutter_map">关于flutter插件地图的使用flutter_map</h4> 
<p>flutter_map</p> 
<p>A Dart implementation of Leaflet for Flutter apps.<br> 一个基于leaflet的地图插件，也就是说flutter_map基于的是瓦片地图，那么在兼容性上可以说比较好用了。</p> 
<p>横向对比</p> 
<p>目前主要的地图插件主要有： <code>flutter_map</code> <code>map_view``amap</code></p> 
<p>map_view</p> 
<p>先说下map_view这个插件，这个插件主要是用来展示google map使用。 由于一个我们都知道的原因，我们在使用这个插件的过程中相对比较困难，所以我们可是适当放弃使用这plugin。</p> 
<p>flutter_amap</p> 
<p>每次看到版本为0.0.1的插件总觉得哪里有问题的，这是高德推出的插件。 高德地图3d flutter组件。</p> 
<p>展示原生android、ios高德地图，并与flutter交互。</p> 
<p>注意：随着flutter版本的提升， 本项目也会随之更新， 目前这个版本只能在单独的controller或者activity中打开高德地图。 划线部分表示说这个版本还不是很成熟，因此我也不想用</p> 
<p>flutter_map</p> 
<p>这个插件就是要重点说下的了 ，下面的视频可能需要代理才能光看，示例： <a href="https://drive.google.com/file/d/14srd4ERdgRr68TtLmG6Aho9L1pGOyFF7/view" rel="nofollow">视频</a> <img alt="image" class="has" src="https://images2.imgbox.com/d3/41/ItnPbyRh_o.png"></p> 
<p><a href="https://pub.dartlang.org/packages/flutter_map" rel="nofollow">地址</a>：<code>https://pub.dartlang.org/packages/flutter_map</code><br><a href="https://github.com/apptreesoftware/flutter_map">github</a><code>https://github.com/apptreesoftware/flutter_map</code> 使用：</p> 
<pre class="has"><code>dependencies:
  flutter_map: ^0.3.0
</code></pre> 
<p>在需要使用的地方根据自动提示添加packages</p> 
<pre class="has"><code>import 'packages:.....';
</code></pre> 
<p>需要注意的是可能需要添加LatLng这个包<br> 使用：</p> 
<pre class="has"><code>Widget build(BuildContext context) {
    return new FlutterMap(
      options: new MapOptions(
        center: new LatLng(51.5, -0.09),//经纬度，注意前后顺序，用于展示中心
        zoom: 13.0,
      ),
      layers: [
        new TileLayerOptions(
          urlTemplate: "https://api.tiles.mapbox.com/v4/"
              "{id}/{z}/{x}/{y}@2x.png?access_token={accessToken}",//瓦片地图的URL
          additionalOptions: {
            'accessToken': '&lt;PUT_ACCESS_TOKEN_HERE&gt;',
            'id': 'mapbox.streets',//其他附加内容
          },
        ),
        new MarkerLayerOptions(
          markers: [
            new Marker(//! 地图标记
              width: 80.0,
              height: 80.0,
              point: new LatLng(51.5, -0.09),//经纬度注意顺序
              builder: (ctx) =&gt;
              new Container(
                child: new FlutterLogo(),// 在标记的位置加上标记
              ),
            ),
          ],
        ),
      ],
    );
  }
</code></pre> 
<p>关于瓦片地图的地址</p> 
<p>根据需要将所需要的瓦片地图的地址填入上面的<code>urlTemplate</code> 一下内容摘选于github</p> 
<pre class="has"><code>TianDiTu: {
        Normal: {
            Map: "http://t{s}.tianditu.cn/DataServer?T=vec_w&amp;X={x}&amp;Y={y}&amp;L={z}",
            Annotion: "http://t{s}.tianditu.cn/DataServer?T=cva_w&amp;X={x}&amp;Y={y}&amp;L={z}"
        },
        Satellite: {
            Map: "http://t{s}.tianditu.cn/DataServer?T=img_w&amp;X={x}&amp;Y={y}&amp;L={z}",
            Annotion: "http://t{s}.tianditu.cn/DataServer?T=cia_w&amp;X={x}&amp;Y={y}&amp;L={z}"
        },
        Terrain: {
            Map: "http://t{s}.tianditu.cn/DataServer?T=ter_w&amp;X={x}&amp;Y={y}&amp;L={z}",
            Annotion: "http://t{s}.tianditu.cn/DataServer?T=cta_w&amp;X={x}&amp;Y={y}&amp;L={z}"
        },
        Subdomains: ['0', '1', '2', '3', '4', '5', '6', '7']
    },

    GaoDe: {
        Normal: {
            Map: 'http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;scale=1&amp;style=8&amp;x={x}&amp;y={y}&amp;z={z}'
        },
        Satellite: {
            Map: 'http://webst0{s}.is.autonavi.com/appmaptile?style=6&amp;x={x}&amp;y={y}&amp;z={z}',
            Annotion: 'http://webst0{s}.is.autonavi.com/appmaptile?style=8&amp;x={x}&amp;y={y}&amp;z={z}'
        },
        Subdomains: ["1", "2", "3", "4"]
    },

    Google: {
        Normal: {
            Map: "http://www.google.cn/maps/vt?lyrs=m@189&amp;gl=cn&amp;x={x}&amp;y={y}&amp;z={z}"
        },
        Satellite: {
            Map: "http://www.google.cn/maps/vt?lyrs=s@189&amp;gl=cn&amp;x={x}&amp;y={y}&amp;z={z}"
        },
        Subdomains: []
    },

    Geoq: {
        Normal: {
            Map: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",
            Color: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetColor/MapServer/tile/{z}/{y}/{x}",
            PurplishBlue: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",
            Gray: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",
            Warm: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}",
            Cold: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetCold/MapServer/tile/{z}/{y}/{x}"
        },
        Subdomains: []

    }
    // 当然还有mapbox
    "https://api.mapbox.com/v4/"
      "{id}/{z}/{x}/{y}@2x.png?access_token={accessToken}"
</code></pre> 
<p>使用mapbox： 1、创建mapbox账户获取apikey 2、打开<code>leaflet_flutter_example/lib/main.dart</code>粘贴key到：<code>additionalOptions</code>map中</p> 
<p>使用离线地图</p> 
<p><a href="https://tilemill-project.github.io/tilemill/docs/guides/osm-bright-mac-quickstart/" rel="nofollow">按照本指南获取离线地图块</a>将地图导出后.mbtiles，可以使用<a href="https://github.com/alfanhui/mbtilesToPngs">mbtilesToPng</a>解压缩<code>/{z}/{x}/{y}.png</code>。将其移动到<code>Assets</code>文件夹并将<code>Asset</code>目录添加到<code>pubspec.yaml</code>。离线地图的最低必填字段为：</p> 
<pre class="has"><code>new FlutterMap(
  options: new MapOptions(
    center: new LatLng(56.704173, 11.543808),
    minZoom: &lt;offline map minimum zoom&gt;,
    maxZoom: &lt;offline map maximum zoom&gt;,
    zoom: 13.0,
    swPanBoundary: LatLng(56.6877, 11.5089),
    nePanBoundary: LatLng(56.7378, 11.6644),
  ),
  layers: [
    new TileLayerOptions(
      offlineMode: true,
      maxZoom: &lt;offline map maximum zoom&gt;,
      urlTemplate: "assets/offlineMap/{z}/{x}/{y}.png",
    ),
  ],
),
</code></pre> 
<p>Make sure PanBoundaries are within offline map boundary to stop missing asset errors.<br> See the flutter_map_example/ folder for a working example</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e482f20be2e4e646f3036f9a5ee4b5b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL SQL Error: 1064, SQLState: 42000 错误</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1bc6c68db1fa064c91a16064a36e48e2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">FeatureToggle</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>