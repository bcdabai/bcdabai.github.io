<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux常见问题及解决方案 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux常见问题及解决方案" />
<meta property="og:description" content="Linux常见问题及解决方案汇总，持续更新……
1. 运行自己编译的程序时提示找不到.so文件 例如：
./mnist_caffe: error while loading shared libraries: libarmnn.so: cannot open shared object file: No such file ordirectory 出现该问题的原因是运行./mnist_caffe的时候找不到依赖的libarmnn.so。实际上libarmnn.so是已经编译好的文件，其所在目录是/home/lg/armnnSDK/armnn。
解决常用方法有两种，一是执行sudo gedit /etc/ld.so.conf，然后将libarmnn.so所在的目录/home/lg/armnnSDK/armnn加入其中，再执行sudo /sbin/ldconfig使其生效即可。不过一般对于自己编译生成的文件不这么做，自己编译生成的库一般采用方法二配置路径。二是执行sudo gedit ~/.bash_profile，然后加入export LD_LIBRARY_PATH=/home/lg/armnnSDK/armnn:$LD_LIBRARY_PATH。或是如果只在当前终端生效，只执行export LD_LIBRARY_PATH=/home/lg/armnnSDK/armnn:$LD_LIBRARY_PATH也是可以的。
2. 查看静态库中包含哪些.o文件 ar -tv libXXX.a
3. 查看静态库或.o中包含哪些函数 objdump -tT libXXX.a或objdump -tT libXXX.o
4. 如何生存静态库 ar -rcs libXXX.a A.o B.o
其中A.o和 B.o用下面方法生成，指定gcc -c生成的就是.o文件：
gcc -c -O3 A.c -I ./、gcc -c -O3 B.c -I ./
5. 统计文件、文件夹个数 当前目录文件个数：ls -l|grep &#34;^-&#34;| wc -l" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b31916e0ba479eab963e21f4387750ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-30T17:15:49+08:00" />
<meta property="article:modified_time" content="2023-12-30T17:15:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux常见问题及解决方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><font color="gray"><em>Linux常见问题及解决方案汇总，持续更新……</em></font></p> 
<h2><a id="font_colorblue1_sofont__2"></a><font color="blue">1. 运行自己编译的程序时提示找不到.so文件</font></h2> 
<p>例如：</p> 
<pre><code>./mnist_caffe: error while loading shared libraries: libarmnn.so: cannot open shared object file: No such file ordirectory
</code></pre> 
<p>出现该问题的原因是运行<code>./mnist_caffe</code>的时候找不到依赖的<code>libarmnn.so</code>。实际上<code>libarmnn.so</code>是已经编译好的文件，其所在目录是<code>/home/lg/armnnSDK/armnn</code>。<br> 解决常用方法有两种，一是执行<code>sudo gedit /etc/ld.so.conf</code>，然后将<code>libarmnn.so</code>所在的目录<code>/home/lg/armnnSDK/armnn</code>加入其中，再执行<code>sudo /sbin/ldconfig</code>使其生效即可。不过一般对于自己编译生成的文件不这么做，自己编译生成的库一般采用方法二配置路径。二是执行<code>sudo gedit ~/.bash_profile</code>，然后加入<code>export LD_LIBRARY_PATH=/home/lg/armnnSDK/armnn:$LD_LIBRARY_PATH</code>。或是如果只在当前终端生效，只执行<code>export LD_LIBRARY_PATH=/home/lg/armnnSDK/armnn:$LD_LIBRARY_PATH</code>也是可以的。</p> 
<h2><a id="font_colorblue2_ofont__10"></a><font color="blue">2. 查看静态库中包含哪些<code>.o</code>文件</font></h2> 
<p><code>ar -tv libXXX.a</code></p> 
<h2><a id="font_colorblue3_ofont__13"></a><font color="blue">3. 查看静态库或<code>.o</code>中包含哪些函数</font></h2> 
<p><code>objdump -tT libXXX.a</code>或<code>objdump -tT libXXX.o</code></p> 
<h2><a id="font_colorblue4_font__16"></a><font color="blue">4. 如何生存静态库</font></h2> 
<p><code>ar -rcs libXXX.a A.o B.o</code><br> 其中<code>A.o</code>和<code> B.o</code>用下面方法生成，指定<code>gcc -c</code>生成的就是<code>.o</code>文件：<br> <code>gcc -c -O3 A.c -I ./</code>、<code>gcc -c -O3 B.c -I ./</code></p> 
<h2><a id="font_colorblue5_font__21"></a><font color="blue">5. 统计文件、文件夹个数</font></h2> 
<p>当前目录文件个数：<code>ls -l|grep "^-"| wc -l</code><br> 当前目录以.o结尾的文件个数：<code>ls -l *.o|grep "^-"| wc -l</code><br> 当前目录及子目录文件个数：<code>ls -lR|grep "^-"| wc -l</code><br> 当前目录文件夹包含的文件夹个数：<code>ls -l|grep "^d"| wc -l</code><br> 当前文件夹及子文件夹包含的文件夹个数<code>ls -lR|grep "^d"| wc -l</code></p> 
<h3><a id="51__28"></a>5.1 递归地移动指定类型的文件到目的目录</h3> 
<p><code>find . -name '10-*.jpg' -exec mv {} ../ \;</code><br> <code>find . -name '*.xml' -exec mv {} ../img \;</code><br> <code>-exec mv {} ../img \; </code>运行<code>mv</code>命令；<br> <code>{}</code>代表<code>find</code>到的所有内容；<br> <code>../</code>表示移动的目标位置；<br> <code>\; </code>表示结束<code>/bin/mv</code>命令。</p> 
<h2><a id="font_colorblue6_LinuxLinuxLinuxIPCWindowsfont__35"></a><font color="blue">6. Linux系统（Linux服务器、Linux设备、IPC等）挂载Windows的目录</font></h2> 
<h3><a id="61_cifs_36"></a>6.1 <strong>cifs挂载</strong></h3> 
<p>对于嵌入式开发往往开发源码在Windows上，编译在Linux上，这时如果将Windows目录挂载到Linux下则会大大提高开发效率。<br> 对于IPC，串口登录IPC，进入IPC根目录<code>/</code>，一般挂载点选择<code>/mnt</code>或<code>/tmp</code>，也可以是其它目录。<br> <code>mount -t cifs //Windows的IP地址/Windows上要共享文件夹名字 /mnt/挂载点名字 -o username=XXX, password=XXX</code><br> 例如在windows的D盘建立了文件夹<code>win-mnt</code>，然后设置了共享，假设Windows的IP地址是<code>10.182.13.58</code>，挂载方式是：<br> <code>mount -t cifs //10.182.13.58/win-mnt ./mnt -o username=garylau, password=mypasswd</code><br> 对于Linux系统其它设备也是类似，在Linux下创建好要挂载的目录（挂载点），将Windows目录挂载到Linux挂载点即可。<br> 删除挂载：<code>umount ./mnt</code><br> 有时需要Linux下的挂载点不仅有读取的权限还要有写入的权限，此时的指令需要添加<code>dir_mode=07 77,file_mode=0777</code>，即：<br> <code>mount -t cifs //Windows的IP地址/Windows上要共享文件夹名字 /mnt/挂载点名字 -o username=XXX,password=XXX,dir_mode=0777,file_mode=0777</code><br> 如果挂载时报如下错误，则是由于NFS（Network File System，网络文件系统服务器）有多个版本，V2、V3、V4，而且各版本同时运行，因此挂载时需要说明版本号造成的。可通过指定版本号来解决：<code>mount -t cifs //Windows的IP地址/Windows上要共享文件夹名字 /mnt/挂载点名字 -o username=XXX, password=XXX, vers=2.1</code>。</p> 
<pre><code>mount error(121): Remote I/O error
Refer to the mount.cifs(8) manual page (e.g. man mount.cifs)
</code></pre> 
<h3><a id="_62_nfshttpsblogcsdnnetm0_37263637articledetails78407219locationNum5fps1_51"></a>** 6.2 <a href="https://blog.csdn.net/m0_37263637/article/details/78407219?locationNum=5&amp;fps=1">nfs挂载</a>**</h3> 
<p>先下载nfs1219.exe，使用该软件将windows下要共享给linux的目录设置为nfs格式，再使用指令<code>mount -t nfs -o nolock windowsIP:/windows盘符/盘符下路径 mnt/</code>进行挂载。例如在windows的D盘建立了文件夹<code>win-mnt</code>，然后使用软件NFS Server添加了共享路径<code>d:\win-mnt</code>，假设Windows的IP地址是10.182.13.58，挂载方式是：<code>mount -t nfs -o nolock 10.182.13.58:/d/win-mnt mnt/</code>。</p> 
<h2><a id="font_colorblue7_font_54"></a><font color="blue">7. 查找当前目录下的所有文件中是否含有某个字符串</font></h2> 
<p><code>find ./ |xargs grep -ri "VGGNetBody" </code><br> 如果想只列出文件名则加上 <code>-l</code><br> <code>find ./ |xargs grep -ri "VGGNetBody -l" </code></p> 
<h2><a id="font_colorblue8_undefined_reference_to_sqrtfont_59"></a><font color="blue">8. <code>undefined reference to sqrt</code></font></h2> 
<p>在使用<code>sqrt</code>等在<code>#include &lt;math.h&gt;</code>中的函数时虽然添加了头文件，但是在编译的时候仍然会报 <code>undefined reference to sqrt</code>的错误，此时在编译的指令中添加<code>-lm</code>即可，<a href="http://blog.sina.com.cn/s/blog_6a95e00b0100zoyz.html" rel="nofollow">参考此处</a>。</p> 
<h2><a id="font_colorblue9__Linux_Cachefont_62"></a><font color="blue">9. 如何在 Linux 中清除缓存（Cache）？</font></h2> 
<p>释放系统内存缓存：<code>/proc/sys/vm/drop_caches</code><br> 每个 Linux 系统有三种选项来清除缓存而不需要中断任何进程或服务。<br> 仅清除页面缓存（PageCache）<br> <code>sync; echo 1 &gt; /proc/sys/vm/drop_caches</code><br> 清除目录项和inode<br> <code>sync; echo 2 &gt; /proc/sys/vm/drop_caches</code><br> 清除页面缓存，目录项和inode<br> <code>sync; echo 3 &gt; /proc/sys/vm/drop_caches</code></p> 
<h2><a id="font_colorblue10_font_72"></a><font color="blue">10. 查看内存使用情况</font></h2> 
<p>查看系统中内存使用情况：<code>/proc/meminfo</code><br> 进程的内存使用情况：<code>/proc/28040/status</code><br> 查询内存总使用率：<a href="https://www.runoob.com/linux/linux-comm-free.html" rel="nofollow"><code>free</code></a><br> 查询进程 cpu 和内存使用占比：<code>top</code><br> 进程消耗内存占比和排序：<code>ps aux –sort -rss</code></p> 
<h3><a id="101_Linux_freehttpswwwrunoobcomlinuxlinuxcommfreehtml_78"></a>10.1 <a href="https://www.runoob.com/linux/linux-comm-free.html" rel="nofollow">Linux free</a>含义</h3> 
<p><a href="https://www.cnblogs.com/ultranms/p/9254160.html" rel="nofollow">linux下free命令详解</a><br> <img src="https://images2.imgbox.com/b6/2f/Ohgxocn3_o.png" alt="在这里插入图片描述"><br> Mem 行(第二行)是内存的使用情况。<br> Swap 行(第三行)是交换空间的使用情况。<br> total 列显示系统总的可用物理内存和交换空间大小。<br> used 列显示已经被使用的物理内存和交换空间。<br> free 列显示还有多少物理内存和交换空间可用使用。<br> shared 列显示被共享使用的物理内存大小。<br> buff/cache 列显示被 buffer 和 cache 使用的物理内存大小。<br> available 列显示还可以被应用程序使用的物理内存大小。</p> 
<p><a href="https://www.bilibili.com/video/BV1q54y1W7K5?vd_source=492882c48ce09de75fa2e66e87d97061" rel="nofollow">https://www.bilibili.com/video/BV1q54y1W7K5?vd_source=492882c48ce09de75fa2e66e87d97061</a></p> 
<h2><a id="font_colorblue11_linuxfont_91"></a><font color="blue">11. 查看linux系统位数</font></h2> 
<pre><code>a. getconf LONG_BIT
b. uname -a
c. uname -r
d. cat /proc/version
</code></pre> 
<h2><a id="font_colorblue12_Makefilefont_98"></a><font color="blue">12. Makefile</font></h2> 
<p>简要说明写makefile的基本步骤。<br> a. 指明搜索路径,例如<code>VPATH=src include</code>或<code>vpath %.cpp src</code>、<code>vpath %.h include</code>等；<br> b. 指明终极target，例如<code>all: run</code>；<br> c. 指明中间目标，例如<code>OBJ = main.o factorial.o hello.o</code>等；<br> d. 生成中间目标，例如<code>%.o : %.cpp</code>等；<br> e. 指明<code>clear</code>要执行的操作，例如<code>clean:; rm *.o run</code>等。<br> <strong>文件名使用通配符</strong><br> makefile中表示文件名时可以使用通配符。可使用的通配符有：<code>*</code>,<code>?</code>,<code>[...]</code>。但是在makefile中这些通配符并不是可以用在任何地方，makefile中通配符可以出现在一下两种场合：a. 可用在规则的目标、依赖中，make在读取makefile时会自动对其进行匹配处理（通配符展开）；b.可出现在规则的命令中，通配符的通配处理是在shell中执行此命令时完成的。<br> 除了这两种情况外的其它上下文中，不能直接使用通配符。而是需要通过函数<code>wildcard</code>来实现。</p> 
<h2><a id="font_colorblue13_font_109"></a><font color="blue">13. 理解内存分配</font></h2> 
<p>本小节主要参考<a href="https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&amp;mid=2247496429&amp;idx=1&amp;sn=a82a88a891891870ed9e6cc9ea688cbc&amp;chksm=f96b8019ce1c090f541e26cdc42df13c117c8ba5f01c08f18e578c742ebc12430de88c81503a&amp;sessionid=1628245844&amp;scene=126&amp;clicktime=1628246175&amp;enterid=1628246175&amp;ascene=3&amp;devicetype=android-28&amp;version=28000935&amp;nettype=ctnet&amp;abtest_cookie=AAACAA==&amp;lang=zh_CN&amp;exportkey=AQV7gaziSg0dNre6edJFoZs=&amp;pass_ticket=5vU/gMHFmYXa2g5l66egrtnSWaMNGw%2b%2bsaZaQcfZV7HmD/FoIvidSIky6De0TlNM&amp;wx_header=1" rel="nofollow">你真的理解内存分配吗？</a><font color="red"><strong>如有不妥请联系修改或删除</strong></font>。<br> <code>test_virtual_physics_address.hpp</code></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">namespace</span> test_virtual_physics_address <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_virtual_physics_address......"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_sleep</span><span class="token punctuation">(</span><span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"------------------------------"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>main.cpp</code></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"test_virtual_physics_address.hpp"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"__cplusplus: "</span> <span class="token operator">&lt;&lt;</span> __cplusplus <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    test_virtual_physics_address<span class="token double-colon punctuation">::</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The end."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>查看内存使用情况<code>cat /proc/397/status</code></p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/99/4e/VWyFAB6o_o.png" width="280" height="300" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图1 cat /proc/397/status 
</div> 
<p><code>VmRSS</code>表示进程使用的物理内存大小，但明明申请了1GB 的内存，为什么只显示使用 10560KB 的内存呢？这就涉及到物理内存与虚拟内存。</p> 
<h3><a id="font_colorblue131_font_149"></a><font color="blue">13.1 物理内存与虚拟内存</font></h3> 
<p><strong>物理内存</strong>：也就是安装在计算机中的内存条，比如安装了 2GB 大小的内存条，那么物理内存地址的范围就是 0 ~ 2GB。</p> 
<p><strong>虚拟内存</strong>：虚拟的内存地址。由于 CPU 只能使用物理内存地址，所以需要将虚拟内存地址转换为物理内存地址才能被 CPU 使用，这个转换过程由 MMU（Memory Management Unit，内存管理单元） 来完成。虚拟内存 大小不受 物理内存 大小的限制，在 32 位的操作系统中，每个进程的虚拟内存空间大小为 0 ~ 4GB。</p> 
<p>程序中使用的内存地址都是虚拟内存地址，也就是说，通过<code>malloc</code>函数申请的内存都是虚拟内存。实际上，内核会为每个进程管理其虚拟内存空间，并且会把虚拟内存空间划分为多个区域，如下图所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/f7/1f/XieHjP4u_o.png" width="306" height="520" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图1 cat /proc/397/status 
</div> 
<p>上述各区域的作用：</p> 
<ul><li>代码段：用于存放程序的可执行代码，段的基地址放在寄存器CS中，指令指针寄存器IP用来表示下一条指令在段中的偏移地址。</li><li>数据段：用于存放程序的全局变量和静态变量以及程序处理的数据，段的基地址存放在寄存器DS中。对数据段中的某个数据进行操作时，直接在汇编代码中通过立即数或寄存器来指定偏移地址。</li><li>堆空间：用于存放由<code>malloc</code>申请的内存。</li><li>栈空间：用于存放函数的参数和局部变量。</li><li>内核空间：存放 Linux 内核代码和数据。</li></ul> 
<p>段，本质上是把内存上的某一块连续的存储空间，专门存储某一类的数据。之所以能够这么做，是因为 CPU 通过以上几个寄存器，让我们这样的“安排”称为一种可能。CPU 将内存中的某个段的内容当做代码，是因为 CS:IP 指向了那里；CPU 将某个段当做栈，是因为 CS:SP 指向了那里。</p> 
<h3><a id="font_colorblue132_brkfont_167"></a><font color="blue">13.2 <code>brk</code>指针</font></h3> 
<p>通过<code>malloc</code>申请的内存地址是由堆空间分配的（其实还有可能从<code>mmap</code>区分配，这种情况暂时忽略）。在内核中，使用一个名为<code>brk</code>的指针来表示进程的堆空间的顶部，如下图2所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/9c/7a/Ulu1k8JM_o.png" width="306" height="520" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图2 brk指针 
</div> 
<p>通过移动<code>brk</code>指针就可以达到申请（向上移动）和释放（向下移动）堆空间的内存。例如申请<code>1024</code>字节时，只需要把<code>brk</code>向上移动<code>1024</code>字节即可，如下图3所示</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/f9/c2/8c1ldGDO_o.png" width="306" height="520" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图3 移动brk指针达到申请释放内存的目的 
</div> 
<p>事实上，<code>malloc</code>函数就是通过移动<code>brk</code>指针来实现申请和释放内存的，Linux 提供了一个名为<code>brk()</code>的系统调用来移动<code>brk</code>指针。</p> 
<h3><a id="font_colorblue133_font_177"></a><font color="blue">13.3 内存映射</font></h3> 
<p><code>malloc</code>函数只是移动<code>brk</code>指针，但并没有申请物理内存，虚拟内存地址必须映射到物理内存地址才能被使用。如下图4所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/35/35/9PEyFCM2_o.png" width="460" height="510" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图4 虚拟地址映射到物理地址 
</div> 
<p>虚拟地址首先经过段转换，得到线性地址；然后线性地址再经过分页转换，得到最终的物理地址。具体转换过程如图5所示：</p> 
<div align="center"> 
 <img src="https://images2.imgbox.com/a0/fa/VQ5uuU5v_o.png" width="240" height="510" alt="ellipse" align="center"> 
</div> 
<div align="center">
  图5 虚拟地址映射到物理地址过程 
</div> 
<p>只有触发缺页异常时才会触发申请新的物理内存；缺页异常触发的条件是对(没有映射过的)虚拟地址进行读写操作。Linux 内核会对缺页异常进行修复，修复过程如下：</p> 
<ul><li>获取触发缺页异常的虚拟内存地址（即读写该虚拟内存地址导致了缺页异常）。</li><li>查看此虚拟内存地址是否被申请（是否在<code>brk</code>指针内），如果不在<code>brk</code>指针内，将会导致 <code>Segmention Fault</code>错误（也就是常见的<code>coredump</code>），进程将会异常退出。</li><li>如果虚拟内存地址在<code>brk</code>指针内，那么将此虚拟内存地址映射到物理内存地址上，完成缺页异常修复过程，并且返回到触发异常的地方进行运行。<br> 由此可知，<font color="peach">不对申请的虚拟内存地址进行读写操作是不会触发申请新的物理内存</font>。所以，这就解释了在章节13开始处为什么申请<code>1GB</code>的内存，但实际上只使用了<code>10560KB</code>的物理内存。</li></ul> 
<h2><a id="14__190"></a>14. 内存对齐</h2> 
<p><a href="https://man7.org/linux/man-pages/man3/malloc.3.html" rel="nofollow">The <code>malloc()</code> and <code>calloc()</code> functions return a pointer to the allocated memory, which is <font color="red"><strong>suitably aligned for any built-in type</strong></font>.</a></p> 
<p><font color="orange">许多计算机体系结构要求特定的类型必须放在特定的内存地址上。例如它可能要求指针的地址必须是4的倍数或double的地址必须是8的倍数。如果没有这个约束条件，可能会导致运行时硬件异常。有些体系结构是如果齐位条件获得满足便提供最佳效率。 </font></p> 
<p>数据对齐分为自然对齐和强制对齐，注意这里讲的对齐是指数据地址的对齐。 自然对齐，各个类型变量的内存地址必须是其类型本身的整数倍。结构体对齐到成员最大长度类型的整数倍。</p> 
<p>不同的硬件平台对存储空间的处理上有很大的不同，有些平台对某些类型的数据只能从特定地址开始存取否则就会出错；另外一些平台可能不会出错但会影响处理效率，本来一个指令周期就可以完成的操作，可能需要两个指令周期还需要把数据拼在一起处理。例如，对于从奇数边界去访问<code>unsigned short</code>型变量，显然不符合对齐的规定。在x86上，类似的操作只会影响效率，但是在MIPS或者sparc上，可能就是一个error,因为它们要求必须字节对齐。</p> 
<h3><a id="141__199"></a>14.1 对于标准数据类型，其地址是它的长度的整数倍。</h3> 
<p>操作系统自己也是这么做的，如下代码展示了栈上(跟堆上变量只是在内存不同区而已)变量地址。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;typeinfo&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">namespace</span> test_align <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_align......\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        
        <span class="token keyword">unsigned</span> <span class="token keyword">char</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;a = %p, sizeof(a) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a's address starts with times of sizeof(a)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        
        <span class="token keyword">short</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;b = %p, sizeof(b) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b's address starts with times of sizeof(b)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;c = %p, sizeof(c) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c's address starts with times of sizeof(c)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">long</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;d = %p, sizeof(d) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d's address starts with times of sizeof(d)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">long</span> <span class="token keyword">long</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;e = %p, sizeof(e) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>e<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>e<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"e's address starts with times of sizeof(e)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;f = %p, sizeof(f) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>f<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>f<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f's address starts with times of sizeof(f)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">double</span> g <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"&amp;g = %p, sizeof(g) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>g<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">size_t</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>g<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"g's address starts with times of sizeof(g)."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>cmake -G "Visual Studio 15 2017" -A Win32 ..</code>结果如下：</p> 
<pre><code class="prism language-bash">unsigned char
<span class="token operator">&amp;</span>a <span class="token operator">=</span> 0059F743, sizeof<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
a<span class="token string">'s address starts with times of sizeof(a).

short
&amp;b = 0059F734, sizeof(b) = 2
b'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>b<span class="token punctuation">)</span>.

int
<span class="token operator">&amp;</span>c <span class="token operator">=</span> 0059F728, sizeof<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span>
c<span class="token string">'s address starts with times of sizeof(c).

long
&amp;d = 0059F71C, sizeof(d) = 4
d'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>d<span class="token punctuation">)</span>.

__int64
<span class="token operator">&amp;</span>e <span class="token operator">=</span> 0059F70C, sizeof<span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">8</span>

float
<span class="token operator">&amp;</span>f <span class="token operator">=</span> 0059F700, sizeof<span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span>
f<span class="token string">'s address starts with times of sizeof(f).

double
&amp;g = 0059F6F0, sizeof(g) = 8
g'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>g<span class="token punctuation">)</span>.
</code></pre> 
<p><code>cmake -G "Visual Studio 15 2017" -A x64 ..</code>结果如下：</p> 
<pre><code class="prism language-bash">unsigned char
<span class="token operator">&amp;</span>a <span class="token operator">=</span> 000000B7C39FFA84, sizeof<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
a<span class="token string">'s address starts with times of sizeof(a).

short
&amp;b = 000000B7C39FFAA4, sizeof(b) = 2
b'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>b<span class="token punctuation">)</span>.

int
<span class="token operator">&amp;</span>c <span class="token operator">=</span> 000000B7C39FFAC4, sizeof<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span>
c<span class="token string">'s address starts with times of sizeof(c).

long
&amp;d = 000000B7C39FFAE4, sizeof(d) = 4
d'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>d<span class="token punctuation">)</span>.

__int64
<span class="token operator">&amp;</span>e <span class="token operator">=</span> 000000B7C39FFB08, sizeof<span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">8</span>
e<span class="token string">'s address starts with times of sizeof(e).

float
&amp;f = 000000B7C39FFB24, sizeof(f) = 4
f'</span>s address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>f<span class="token punctuation">)</span>.

double
<span class="token operator">&amp;</span>g <span class="token operator">=</span> 000000B7C39FFB48, sizeof<span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">8</span>
g's address starts with <span class="token builtin class-name">times</span> of sizeof<span class="token punctuation">(</span>g<span class="token punctuation">)</span>.
</code></pre> 
<h3><a id="142__330"></a>14.2 结构体的对齐</h3> 
<p><font color="blue">结构体的自然对齐，成员变量存放的起始地址相对于结构的起始地址的偏移量必须为该变量类型所占用的字节数的倍数, 且结构的大小为该结构中占用最大空间的类型所占用的字节数的倍数</font>。</p> 
<blockquote> 
 <p>char: 偏移量必须为sizeof(char) 即1的倍数<br> short: 偏移量必须为sizeof(short) 即2的倍数<br> int: 偏移量必须为sizeof(int) 即4的倍数<br> float: 偏移量必须为sizeof(float) 即4的倍数<br> double: 偏移量必须为sizeof(double) 即8的倍数</p> 
</blockquote> 
<p>结构体对齐示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">namespace</span> test_align <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_align......\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_A_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stA<span class="token punctuation">;</span>
        
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_B_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stB<span class="token punctuation">;</span>

        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof double, int, char = %d, %d, %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stA = %d, stB = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stA<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stB<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-bash">sizeof double, int, char <span class="token operator">=</span> <span class="token number">8</span>, <span class="token number">4</span>, <span class="token number">1</span>
sizeof stA <span class="token operator">=</span> <span class="token number">24</span>, stB <span class="token operator">=</span> <span class="token number">16</span>
</code></pre> 
<h3><a id="142__375"></a>14.2 结构体中有嵌套符合成员时的对齐</h3> 
<p>当结构体中有嵌套符合成员时，复合成员相对于结构体首地址偏移量是复合成员最宽基本类型大小的整数倍。</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">namespace</span> test_align <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_align......\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_A_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stA<span class="token punctuation">;</span>
        
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_C_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c<span class="token punctuation">;</span>
           stA sta<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stC<span class="token punctuation">;</span>

        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof double, int, char = %d, %d, %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stA = %d, stC = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stA<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">sizeof</span> <span class="token keyword">double</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span>
Sizeof stA <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">,</span> stC <span class="token operator">=</span> <span class="token number">32</span>
</code></pre> 
<h3><a id="143_pragma_packn_412"></a>14.3 强制对齐<code>#pragma pack(n)</code></h3> 
<p>使用指令<code>#pragma pack(n)</code>，C编译器将按照<code>n</code>个字节对齐；使用指令<code>#pragma pack()</code>，取消自定义字节对齐方式</p> 
<p><code>#pragma pack(n)</code>用来设定变量以<code>n</code>字节对齐方式,变量存放的起始地址的偏移量：</p> 
<ol><li>如果<code>n</code>大于等于该变量所占用的字节数，那么偏移量必须满足默认的对齐方式</li><li>如果<code>n</code>小于该变量的类型所占用的字节数，那么偏移量为<code>n</code>的倍数，不用满足默认的对齐方式。</li><li>结构的总大小也有一个约束条件，如果<code>n</code>大于等于所有成员变量类型所占用的字节数，那么结构的总大小必须为占用空间最大的变量占用的空间数的倍数；否则必须是<code>n</code>的倍数。</li></ol> 
<p>示例1：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">namespace</span> test_align <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_align......\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_A_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stA<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>

<span class="token comment">// n=2,对于小于2字节的char对齐方式是2;对于大于2字节的int double使用自然对齐</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_B_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stB<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>   </span><span class="token comment">// [MinGW Makefiles] warning: alignment must be a small power of two, not 3 </span></span>
                  <span class="token comment">// [Visual Studio 15 2017] warning C4086: 杂注参数应为“1”、“2”、“4”、“8”或者“16”</span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_C_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stC<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_D_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stD<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_E_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stE<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>

<span class="token comment">// n=16,比最大的double字节数还大,则使用自然对齐方式</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_F_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stF<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>


        <span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">_ST_DEFAULT_</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c1<span class="token punctuation">;</span>
           <span class="token keyword">int</span> i<span class="token punctuation">;</span>
           <span class="token keyword">char</span> c2<span class="token punctuation">;</span>
           <span class="token keyword">double</span> d<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>stDefault<span class="token punctuation">;</span>
        
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stA = %d, stB = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stA<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stB<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stC = %d, stD = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stC<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stE = %d, stF = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stE<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stF<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof stDefault = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stDefault<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出：</p> 
<pre><code class="prism language-bash">sizeof stA <span class="token operator">=</span> <span class="token number">14</span>, stB <span class="token operator">=</span> <span class="token number">16</span>
sizeof stC <span class="token operator">=</span> <span class="token number">24</span>, stD <span class="token operator">=</span> <span class="token number">20</span>
sizeof stE <span class="token operator">=</span> <span class="token number">24</span>, stF <span class="token operator">=</span> <span class="token number">24</span>
sizeof stDefault <span class="token operator">=</span> <span class="token number">24</span>
</code></pre> 
<p>注意上面<code>#pragma pack(3)</code>时应该是使用了自然对齐方式，而不是自定义的<code>3</code>。</p> 
<p>示例2：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">namespace</span> test_align <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">auto</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testing test_align......\n"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span></span></span>
        <span class="token keyword">struct</span> <span class="token class-name">s1</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">short</span> a<span class="token punctuation">;</span>
           <span class="token keyword">long</span> b<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">struct</span> <span class="token class-name">s2</span>
        <span class="token punctuation">{<!-- --></span>
           <span class="token keyword">char</span> c<span class="token punctuation">;</span>
            s1 d<span class="token punctuation">;</span>
        <span class="token keyword">long</span> <span class="token keyword">long</span> e<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        
        <span class="token keyword">struct</span> <span class="token class-name">s3</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> c<span class="token punctuation">;</span>
            <span class="token keyword">short</span> a<span class="token punctuation">;</span>
            <span class="token keyword">long</span> b<span class="token punctuation">;</span>
            <span class="token keyword">long</span> <span class="token keyword">long</span> e<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span>

        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof s1 = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof s2 = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof s3 = %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>（Visual Studio 15 2017）输出：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">sizeof</span> s1 <span class="token operator">=</span> <span class="token number">8</span>
<span class="token keyword">sizeof</span> s2 <span class="token operator">=</span> <span class="token number">24</span>
<span class="token keyword">sizeof</span> s3 <span class="token operator">=</span> <span class="token number">16</span>
</code></pre> 
<h2><a id="15__569"></a>15. 将安装好的软件路径添加到环境变量</h2> 
<p>例如将anaconda3的bin路径添加到环境变量：<br> <code>gedit ~/.bashrc</code><br> 添加如下内容：</p> 
<pre><code class="prism language-bash"><span class="token comment"># 添加anaconda3路径</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/home/lg/05.Softwares/anaconda3/bin:<span class="token environment constant">$PATH</span>
</code></pre> 
<p>然后执行：<br> <code>source ~/.bashrc</code></p> 
<h2><a id="16__579"></a>16. 卸载软件</h2> 
<p><code>sudo apt-get remove flameshot</code>，flameshot是一款截图软件。</p> 
<h2><a id="17__581"></a>17. 查看某个目录挂载在哪个硬盘</h2> 
<p><code>df -k 目录</code>，例如<code>df -k /home</code><br> 由下图可知<code>home</code>目录挂载在磁盘<code>/dev/nvme1n1p3</code>上，挂载点是根目录<code>/</code>。<br> <img src="https://images2.imgbox.com/04/72/ALNHmDog_o.png" alt="请添加图片描述"></p> 
<h2><a id="18_Linux_586"></a>18. 查看Linux系统发行版本的命令</h2> 
<p><code>cat /etc/issue</code><br> <img src="https://images2.imgbox.com/b5/6b/yC9umE2P_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="19__589"></a>19. 查看用户组</h2> 
<p><code>cat /etc/group</code></p> 
<h2><a id="20__592"></a>20. 查看显卡型号</h2> 
<p><code>lspci | grep -i nvidia</code>或者<code>ubuntu-drivers devices</code><br> 查看驱动版本<code>sudo dpkg --list | grep nvidia-*</code>或<code>cat /proc/driver/nvidia/version</code><br> 查看ubuntu系统发布版本号<br> <code>cat /etc/issue</code>或<code>lsb_release -a</code><br> 查看内核版本号<code>uname -sr``uname -a</code><br> 查看CPU个数<code>cat /proc/cpuinfo | grep "physical id" | uniq | wc -l</code><br> 查看CPU核数<code>cat /proc/cpuinfo | grep "cpu cores" | uniq</code><br> 查看CPU型号<code>cat /proc/cpuinfo | grep 'model name' |uniq</code><br> GPU列表信息<code>nvidia-smi</code><br> 显示显卡信息<code>nvidia-settings</code><br> 查看显卡型号<code>lshw -c video</code></p> 
<h2><a id="21_ubuntu2204_605"></a>21. ubuntu22.04设置没了?</h2> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> unity-control-center
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gnome-control-center
</code></pre> 
<h2><a id="22_ubuntu_611"></a>22. ubuntu随机移动一些文件到新的文件夹</h2> 
<p>从当前文件夹随机选择 10 个文件，将它们移动到新文件夹。</p> 
<pre><code class="prism language-bash"><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">shuf</span> <span class="token parameter variable">-n</span> <span class="token number">10</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-i</span> <span class="token function">mv</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> path-to-new-folder
</code></pre> 
<h2><a id="23_ubuntuwindows_617"></a>23. ubuntu访问windows的共享文件夹</h2> 
<p><img src="https://images2.imgbox.com/91/4f/kaVBXirK_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="24__619"></a>24. 获取权限</h2> 
<p><code>sudo chown -R username folder_name</code></p> 
<h2><a id="25_tar__622"></a>25. tar 压缩、解压</h2> 
<pre><code class="prism language-bash"><span class="token comment"># c表示压缩</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> MobileFaceNet.tar.gz MobileFaceNet
<span class="token comment"># x表示解压</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> MobileFaceNet.tar.gz
</code></pre> 
<p>查看压缩包有哪些内容：</p> 
<pre><code class="prism language-bash"><span class="token function">tar</span> <span class="token parameter variable">-ztvf</span> MobileFaceNet.tar.gz
</code></pre> 
<p>参考：<a href="https://zhuanlan.zhihu.com/p/109665217" rel="nofollow">linux压缩打包命令—tar命令</a></p> 
<h2><a id="Reference_635"></a>Reference</h2> 
<ol><li><a href="https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&amp;mid=2247496429&amp;idx=1&amp;sn=a82a88a891891870ed9e6cc9ea688cbc&amp;chksm=f96b8019ce1c090f541e26cdc42df13c117c8ba5f01c08f18e578c742ebc12430de88c81503a&amp;sessionid=1628245844&amp;scene=126&amp;clicktime=1628246175&amp;enterid=1628246175&amp;ascene=3&amp;devicetype=android-28&amp;version=28000935&amp;nettype=ctnet&amp;abtest_cookie=AAACAA==&amp;lang=zh_CN&amp;exportkey=AQV7gaziSg0dNre6edJFoZs=&amp;pass_ticket=5vU/gMHFmYXa2g5l66egrtnSWaMNGw%2b%2bsaZaQcfZV7HmD/FoIvidSIky6De0TlNM&amp;wx_header=1" rel="nofollow">你真的理解内存分配吗？</a></li><li><a href="https://mp.weixin.qq.com/s/rVwPnXjiTj02YnHC4f6PGw" rel="nofollow">Linux从头学03：如何告诉 CPU，代码段、数据段、栈段在内存中什么位置？</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUxMjEyNDgyNw==&amp;mid=2247496601&amp;idx=1&amp;sn=bbaf73bfed6641c2d0681b2ad4c500c0&amp;chksm=f96b816dce1c087b1864c8a4061ddc1c687919b2f835d43ab1cbb20fbee24c0b91bef0bb10d6&amp;scene=90&amp;subscene=93&amp;sessionid=1628245844&amp;clicktime=1628245858&amp;enterid=1628245858&amp;ascene=56&amp;devicetype=android-28&amp;version=28000935&amp;nettype=ctnet&amp;abtest_cookie=AAACAA==&amp;lang=zh_CN&amp;exportkey=Af0BszuLSfgipMA9tD9Qb2U=&amp;pass_ticket=5vU/gMHFmYXa2g5l66egrtnSWaMNGw%2b%2bsaZaQcfZV7HmD/FoIvidSIky6De0TlNM&amp;wx_header=1" rel="nofollow">Linux字节对齐的那些事</a></li><li><a href="https://www.mallocfree.com/interview/c-11-align.htm#:~:text=1%EF%BC%8E%E8%87%AA%E7%84%B6%E5%AF%B9%E9%BD%90%EF%BC%9A%E5%90%84,%E5%9E%8B%E6%9C%AC%E8%BA%AB%E7%9A%84%E6%95%B4%E6%95%B0%E5%80%8D%E3%80%82" rel="nofollow">标题：自然对齐</a></li><li><a href="https://man7.org/" rel="nofollow">The Linux Programming Interface</a></li></ol> 
<div align="center"> 
 <img src="https://images2.imgbox.com/b4/f7/YYcSvPIR_o.png" width="227" height="300" alt="ellipse" align="center"> 
</div> 
<div align="center">
  The Linux Programming Interface 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ce9dfae98bebfe0ed293a6f319441c0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">1亿条数据批量插入MySQL该如何优化？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0bf7e4b84562a1f94c7f21d3539e9241/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【UE5蓝图】读取本地json文件修改窗口大小</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>