<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux查看系统资源占用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux查看系统资源占用" />
<meta property="og:description" content="在系统维护的过程中，随时可能有需要查看 CPU和内存的使用率，并根据相应信息分析系统状况的需求。本文介绍一下几种常见的Linux系统资源查看命令。
1、总体内存占用的查看
命令：free
图1 free命令查看内存占用
（1） free命令默认是以kb为单位显示的，可以用free -m 用Mb单位来显示。
（2） Mem行 ： total = used &#43; free 其中buffers和cached虽然计算在used内， 但其实为可用内存。
（3） Mem下一行：used为真实已占内存，free为真实可用内存。
（4）Swap：内存交换区的使用情况。
2、查看内存占用前五的进程
命令：ps auxw | head -1;ps auxw|sort -rn -k4|head -5
图 2.1查看内存占用前5的进程
如图2.1所示， 内存的单位是kb，VSZ是虚拟内存的占用，RSS是真实的内存的占用。 命令分解： ps auxw显示系统资源占用情况； head -1表示显示第一列，即标题列； sort -r 表示反向排序，-n表示按数字排序，-k4表示列的第4个字符。 3、查看CPU占用前三的进程
命令：ps auxw|head -1;ps auxw|sort -rn -k3|head -3
图3.1 查看cpu占用前三的进程
该命令与图2.1相仿，只是选择的资源占用情况的第3列（即cpu），用“-k3”表示。
4、查看系统整体的负载
命令：top
图4.1 top显示系统整体负载
（1）第一行： 系统时间 &#43; 系统运行时间 &#43; 几个用户 &#43; 1/5/15分钟系统平均负载
（2）第二行：进程总数(total) &#43; 正在运行进程数(running) &#43; 睡眠进程数(sleeping) &#43; 停止的进程数(stopped)&#43; 僵尸进程数(zombie)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5ad99ce2dca23c5b6625e6cac84568ef/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T14:47:19+08:00" />
<meta property="article:modified_time" content="2024-01-11T14:47:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux查看系统资源占用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在系统维护的过程中，随时可能有需要查看 CPU和内存的使用率，并根据相应信息分析系统状况的需求。本文介绍一下几种常见的Linux系统资源查看命令。</p> 
<p>1、总体内存占用的查看</p> 
<p>命令：free</p> 
<p>图1 free命令查看内存占用<br> <img src="https://images2.imgbox.com/ea/32/hs02bFwH_o.png" alt="这里写图片描述"></p> 
<p>（1） free命令默认是以kb为单位显示的，可以用free -m 用Mb单位来显示。</p> 
<p>（2） Mem行 ： total = used + free 其中buffers和cached虽然计算在used内， 但其实为可用内存。</p> 
<p>（3） Mem下一行：used为真实已占内存，free为真实可用内存。</p> 
<p>（4）Swap：内存交换区的使用情况。</p> 
<p>2、查看内存占用前五的进程</p> 
<p>命令：ps auxw | head -1;ps auxw|sort -rn -k4|head -5</p> 
<p>图 2.1查看内存占用前5的进程<br> <img src="https://images2.imgbox.com/e2/8f/n0QJXgg2_o.jpg" alt="这里写图片描述"></p> 
<pre><code> 如图2.1所示， 内存的单位是kb，VSZ是虚拟内存的占用，RSS是真实的内存的占用。

   命令分解：

   ps auxw显示系统资源占用情况；

   head -1表示显示第一列，即标题列；

   sort -r 表示反向排序，-n表示按数字排序，-k4表示列的第4个字符。
</code></pre> 
<p>3、查看CPU占用前三的进程</p> 
<p>命令：ps auxw|head -1;ps auxw|sort -rn -k3|head -3</p> 
<p>图3.1 查看cpu占用前三的进程</p> 
<p>该命令与图2.1相仿，只是选择的资源占用情况的第3列（即cpu），用“-k3”表示。<br> <img src="https://images2.imgbox.com/ba/58/gTASjduo_o.png" alt="这里写图片描述"></p> 
<p>4、查看系统整体的负载</p> 
<p>命令：top</p> 
<p>图4.1 top显示系统整体负载<br> <img src="https://images2.imgbox.com/19/7c/9CHtE0C6_o.png" alt="这里写图片描述"><br> （1）第一行： 系统时间 + 系统运行时间 + 几个用户 + 1/5/15分钟系统平均负载</p> 
<p>（2）第二行：进程总数(total) + 正在运行进程数(running) + 睡眠进程数(sleeping) + 停止的进程数(stopped)+ 僵尸进程数(zombie)</p> 
<p>（3）第三行：用户空间CPU占比(us) + 内核空间CPU占比(sy)+ CPU空置率(id)</p> 
<p>图4.2 各个任务占用资源情况<br> <img src="https://images2.imgbox.com/c0/4d/gDH8BxWl_o.png" alt="这里写图片描述"><br> 注解：</p> 
<p>PID ：进程ID</p> 
<p>USER ：用户名</p> 
<p>PR ：优先级</p> 
<p>NI ：负值表示高优先级，正值表示低优先级。</p> 
<p>VIRT ：虚拟内存</p> 
<p>RES ： 真实内存</p> 
<p>SHR ：共享内存</p> 
<p>S ：进程状态 D=不可中断的睡眠状态； R=运行； S=睡眠 ；T=跟踪/停止； Z=僵尸进程</p> 
<p>参数：</p> 
<p>top -d 2 ：每隔2秒显式所有进程的资源占用情况</p> 
<p>top -c ：每隔5秒显式进程的资源占用情况，并显示进程的命令行参数(默认只有进程名)</p> 
<p>top -p 12345 -p 6789：每隔5秒显示pid是12345和pid是6789的两个进程的资源占用情况</p> 
<p>top -d 2 -c -p 123456 ：每隔2秒显示pid是12345的进程的资源使用情况，并显式该进程启动的命令行参数</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/914e7ef4cbf158947d995fc9a8999319/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">el-form表单项自定义校验规则</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/49d958363c1f14e9ff268ea341045d47/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">通义千问Qwen-72B-Chat基于PAI的低代码微调部署实践</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>