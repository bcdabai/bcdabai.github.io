<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HBuilderX 开发uniapp打包之后定位、选择地图无法使用的原因 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HBuilderX 开发uniapp打包之后定位、选择地图无法使用的原因" />
<meta property="og:description" content="一、未配置地图key 使用定位和选择地图需要配置地图apikey，如图，可选择百度或高德地图（二选一）
云端打包地图功能需要到第三方地图平台申请应用后获取相关配置参数：
高德LBS开放平台百度LBS开放平台
配置参数需要提交云端打包后才能生效，如果需要真机运行生效请使用自定义基座 二、配置方式 高德LBS开放平台申请应用 登录 高德LBS开放平台，点击有上角的“控制台”按钮，在控制台界面左侧导航列表选择“应用管理”下的“我的应用”。
创建应用 如果已经创建应用可忽略此步骤
在“我的应用”页面，点击右侧“创建新应用”按钮，输入应用名称、选择应用类型，点击“创建”按钮创建应用。
添加Android平台应用的KEY 需要打包为Android平台原生应用时操作，否则跳过此步骤
在创建应用项的右侧点击“&#43;”按钮，添加Key：
Key名称
根据规则而填入Key名称，如“uniapp-android”服务平台
选择“Android平台”发布版安全码SHA1
应用打包时使用证书的指纹字符串（SHA1）
HBuilderX云端打包选择“使用自有证书”或本地离线打包时，填写应用使用证书的SHA1，查看证书的信息获取指纹中SHA1值，参考：Android平台签名证书(.keystore)生成指南 - DCloud问答
HBuilderX云端打包选择“公共测试证书”时，SHA1值为：97:C8:41:01:B9:14:1C:13:0D:D7:5D:74:28:A2:92:25:18:C3:6D:CD，详情参考：Android平台云端打包 - 公共测试证书 - DCloud问答
HBuilderX云端打包选择“老版本DCloud公用证书”时，SHA1值为：BA:AD:09:3A:82:82:9F:B4:32:A7:B2:8C:B4:CC:F0:E9:F3:7D:AE:58，详情参考：Android平台云端打包 - DCloud公用证书（DCloud老版证书） - DCloud问答
注意：必须添写实际打包使用证书的SHA1值，否则可能无法显示地图或无法定位PackageName
应用包名，在提交App云端打包时设置的Android包名，如“uni.UNI4D6B11E”
注意：必须填写实际打包使用的包名，否则可能无法显示地图或无法定位 点击“提交”后生产新Key，在应用下可获取：
在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“高德定位或地图”项下的“appkey_android”编辑框中
添加iOS平台应用的KEY 需要打包为iOS平台原生应用时操作，否则跳过此步骤
在创建应用项的右侧点击“&#43;”按钮，添加Key：
Key名称
根据规则而填入Key名称，如“uniapp-ios”；服务平台
选择“iOS平台”安全码Bundle ID
iOS平台应用包名Bundle ID（AppID），在提交App云端打包时设置的Bundle ID，如“uni.UNI4D6B11E”
注意：必须填写实际打包使用的Bundle ID，否则可能无法显示图片或无法定位 点击“提交”后生成新Key，在应用下可获取：
在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“高德定位或地图”项下的“appkey_ios”编辑框中
百度LBS开放平台申请应用 登录 百度LBS开放平台，点击有上角的“控制台”按钮，在控制台看板界面左侧导航列表选择“我的应用”下的“创建应用”。
创建Android平台应用 需要打包为Android平台原生应用时操作，否则跳过此步骤
在创建应用界面选择“Android SDK”：
应用名称
根据规则而填入应用名称，如“uniapp-android”应用类型
选择“Android SDK”启用服务
至少勾选“Android地图SDK（含境内外底图）”、“Android定位SDK”，建议全部勾选发布版SHA1
应用打包时使用证书的指纹字符串（SHA1）
HBuilderX云端打包选择“使用自有证书”或本地离线打包时，填写应用使用证书的SHA1，查看证书的信息获取指纹中SHA1值，参考：Android平台签名证书(.keystore)生成指南 - DCloud问答
HBuilderX云端打包选择“公共测试证书”时，SHA1值为：97:C8:41:01:B9:14:1C:13:0D:D7:5D:74:28:A2:92:25:18:C3:6D:CD，详情参考：Android平台云端打包 - 公共测试证书 - DCloud问答" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/bd27231c1afc0869293107d1913d920b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-12T15:33:01+08:00" />
<meta property="article:modified_time" content="2021-08-12T15:33:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HBuilderX 开发uniapp打包之后定位、选择地图无法使用的原因</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、未配置地图key</h3> 
<p>使用定位和选择地图需要配置地图apikey，如图，可选择百度或高德地图（二选一）</p> 
<p><img alt="" height="495" src="https://images2.imgbox.com/54/68/PxCHAESd_o.png" width="1138"></p> 
<p>云端打包地图功能需要到第三方地图平台申请应用后获取相关配置参数：</p> 
<ol><li><a href="http://lbs.amap.com/" rel="nofollow" title="高德LBS开放平台">高德LBS开放平台</a></li><li><a href="http://developer.baidu.com/map/" rel="nofollow" title="百度LBS开放平台">百度LBS开放平台</a><br><strong>配置参数需要提交云端打包后才能生效，如果需要真机运行生效请使用<a href="http://ask.dcloud.net.cn/article/35115" rel="nofollow" title="自定义基座">自定义基座</a></strong></li></ol> 
<p></p> 
<h3>二、配置方式</h3> 
<h3>高德LBS开放平台申请应用</h3> 
<p>登录 <a href="http://lbs.amap.com/" rel="nofollow" title="高德LBS开放平台">高德LBS开放平台</a>，点击有上角的“控制台”按钮，在控制台界面左侧导航列表选择“应用管理”下的“我的应用”。</p> 
<h4>创建应用</h4> 
<p><strong>如果已经创建应用可忽略此步骤</strong><br> 在“我的应用”页面，点击右侧“创建新应用”按钮，输入应用名称、选择应用类型，点击“创建”按钮创建应用。</p> 
<p style="text-align:center;"><img alt="创建应用" src="https://images2.imgbox.com/1a/20/6fxBdgwu_o.png"></p> 
<h4>添加Android平台应用的KEY</h4> 
<p><strong>需要打包为Android平台原生应用时操作，否则跳过此步骤</strong><br> 在创建应用项的右侧点击“+”按钮，添加Key：</p> 
<p style="text-align:center;"><img alt="添加Android平台Key" src="https://images2.imgbox.com/94/8f/Ves1P08C_o.png"></p> 
<ul><li>Key名称<br> 根据规则而填入Key名称，如“uniapp-android”</li><li>服务平台<br> 选择“Android平台”</li><li>发布版安全码SHA1<br> 应用打包时使用证书的指纹字符串（SHA1）<br> HBuilderX云端打包选择“使用自有证书”或本地离线打包时，填写应用使用证书的SHA1，查看证书的信息获取指纹中SHA1值，参考：<a href="https://ask.dcloud.net.cn/article/35777#keyinfo" rel="nofollow" title="Android平台签名证书(.keystore)生成指南 - DCloud问答">Android平台签名证书(.keystore)生成指南 - DCloud问答</a><br> HBuilderX云端打包选择“公共测试证书”时，SHA1值为：97:C8:41:01:B9:14:1C:13:0D:D7:5D:74:28:A2:92:25:18:C3:6D:CD，详情参考：<a href="https://ask.dcloud.net.cn/article/36522" rel="nofollow" title="Android平台云端打包 - 公共测试证书 - DCloud问答">Android平台云端打包 - 公共测试证书 - DCloud问答</a><br> HBuilderX云端打包选择“老版本DCloud公用证书”时，SHA1值为：BA:AD:09:3A:82:82:9F:B4:32:A7:B2:8C:B4:CC:F0:E9:F3:7D:AE:58，详情参考：<a href="https://ask.dcloud.net.cn/article/68" rel="nofollow" title="Android平台云端打包 - DCloud公用证书（DCloud老版证书） - DCloud问答">Android平台云端打包 - DCloud公用证书（DCloud老版证书） - DCloud问答</a><br><strong>注意：必须添写实际打包使用证书的SHA1值，否则可能无法显示地图或无法定位</strong></li><li>PackageName<br> 应用包名，在提交App云端打包时设置的Android包名，如“uni.UNI4D6B11E”<br><strong>注意：必须填写实际打包使用的包名，否则可能无法显示地图或无法定位</strong></li></ul> 
<p>点击“提交”后生产新Key，在应用下可获取：</p> 
<p style="text-align:center;"><img alt="获取Android平台Key" src="https://images2.imgbox.com/f8/d4/pll4kobo_o.png"></p> 
<p><br><strong>在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“高德定位或地图”项下的“appkey_android”编辑框中</strong></p> 
<h4>添加iOS平台应用的KEY</h4> 
<p><strong>需要打包为iOS平台原生应用时操作，否则跳过此步骤</strong><br> 在创建应用项的右侧点击“+”按钮，添加Key：</p> 
<p style="text-align:center;"><img alt="添加iOS平台Key" src="https://images2.imgbox.com/45/a8/1OYoPpVn_o.png"></p> 
<ul><li>Key名称<br> 根据规则而填入Key名称，如“uniapp-ios”；</li><li>服务平台<br> 选择“iOS平台”</li><li>安全码Bundle ID<br> iOS平台应用包名Bundle ID（AppID），在提交App云端打包时设置的Bundle ID，如“uni.UNI4D6B11E”<br><strong>注意：必须填写实际打包使用的Bundle ID，否则可能无法显示图片或无法定位</strong></li></ul> 
<p>点击“提交”后生成新Key，在应用下可获取：</p> 
<p style="text-align:center;"><img alt="获取iOS平台Key" src="https://images2.imgbox.com/20/2c/Yh0bl9Jw_o.png"></p> 
<p><br><strong>在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“高德定位或地图”项下的“appkey_ios”编辑框中</strong></p> 
<h3>百度LBS开放平台申请应用</h3> 
<p>登录 <a href="http://developer.baidu.com/map/" rel="nofollow" title="百度LBS开放平台">百度LBS开放平台</a>，点击有上角的“控制台”按钮，在控制台看板界面左侧导航列表选择“我的应用”下的“创建应用”。</p> 
<h4>创建Android平台应用</h4> 
<p><strong>需要打包为Android平台原生应用时操作，否则跳过此步骤</strong><br> 在创建应用界面选择“Android SDK”：</p> 
<p style="text-align:center;"><img alt="创建Android平台应用" src="https://images2.imgbox.com/91/ce/TPHFsia0_o.png"></p> 
<ul><li>应用名称<br> 根据规则而填入应用名称，如“uniapp-android”</li><li>应用类型<br> 选择“Android SDK”</li><li>启用服务<br> 至少勾选“Android地图SDK（含境内外底图）”、“Android定位SDK”，建议全部勾选</li><li>发布版SHA1<br> 应用打包时使用证书的指纹字符串（SHA1）<br> HBuilderX云端打包选择“使用自有证书”或本地离线打包时，填写应用使用证书的SHA1，查看证书的信息获取指纹中SHA1值，参考：<a href="https://ask.dcloud.net.cn/article/35777#keyinfo" rel="nofollow" title="Android平台签名证书(.keystore)生成指南 - DCloud问答">Android平台签名证书(.keystore)生成指南 - DCloud问答</a><br> HBuilderX云端打包选择“公共测试证书”时，SHA1值为：97:C8:41:01:B9:14:1C:13:0D:D7:5D:74:28:A2:92:25:18:C3:6D:CD，详情参考：<a href="https://ask.dcloud.net.cn/article/36522" rel="nofollow" title="Android平台云端打包 - 公共测试证书 - DCloud问答">Android平台云端打包 - 公共测试证书 - DCloud问答</a><br> HBuilderX云端打包选择“老版本DCloud公用证书”时（HBuilderX 2.3.8之前的版本叫DCloud公共证书），SHA1值为：BA:AD:09:3A:82:82:9F:B4:32:A7:B2:8C:B4:CC:F0:E9:F3:7D:AE:58，详情参考：<a href="https://ask.dcloud.net.cn/article/68" rel="nofollow" title="Android平台云端打包 - DCloud公用证书（DCloud老版证书） - DCloud问答">Android平台云端打包 - DCloud公用证书（DCloud老版证书） - DCloud问答</a><br><strong>注意：必须添写实际打包使用证书的SHA1值，否则可能无法显示地图或无法定位</strong></li><li>PackageName<br> 应用包名，在提交App云端打包时设置的Android包名，如“uni.UNI4D6B11E”<br><strong>注意：必须填写实际打包使用的包名，否则可能无法显示地图或无法定位</strong></li></ul> 
<p>点击“提交”后生成新应用，在应用列表界面会添加新创建的应用项，在“访问应用（AK）”列中点击复制按钮获取AppKey：</p> 
<p style="text-align:center;"><img alt="获取Android平台Key" src="https://images2.imgbox.com/f8/2e/HI9O63nZ_o.png"></p> 
<p><br><strong>在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“百度定位或地图”项下的“appkey_android”编辑框中</strong></p> 
<h4>创建iOS平台应用</h4> 
<p><strong>需要打包为iOS平台原生应用时操作，否则跳过此步骤</strong><br> 在创建应用界面选择“iOS SDK”：</p> 
<p style="text-align:center;"><img alt="创建iOS平台应用" src="https://images2.imgbox.com/95/4c/w3hgPjZF_o.png"></p> 
<ul><li>应用名称<br> 根据规则而填入应用名称，如“uniapp-ios”</li><li>应用类型<br> 选择“iOS SDK”</li><li>启用服务<br> 至少勾选“IOS地图SDK（含境内外底图）”，建议全部勾选</li><li>安全码<br> iOS平台应用包名Bundle ID（AppID），在提交App云端打包时设置的Bundle ID，如“uni.UNI4D6B11E”<br><strong>注意：必须填写实际打包使用的Bundle ID，否则可能无法显示图片或无法定位</strong></li></ul> 
<p>点击“提交”后生成新应用，在应用列表界面会添加新创建的应用项，在“访问应用（AK）”列中点击复制按钮获取AppKey：</p> 
<p style="text-align:center;"><img alt="获取iOS平台Key" src="https://images2.imgbox.com/b6/03/9VnxsvlU_o.png"></p> 
<p><br><strong>在HBuilderX中将此Key填入到manifest.json文件“（App）SDK配置”页面的“百度定位或地图”项下的“appkey_ios”编辑框中</strong></p> 
<p></p> 
<h3><span style="color:#fe2c24;">三、注意</span></h3> 
<h3>HBuilderX3.1.10+版本公共测试证书</h3> 
<p>可用于测试打包，不要用于正式发布，其信息如下：<br> MD5: 06:83:8C:C8:40:09:3B:9D:46:89:FC:41:9B:A1:A3:F3<br> SHA1: 97:C8:41:01:B9:14:1C:13:0D:D7:5D:74:28:A2:92:25:18:C3:6D:CD<br> SHA256: B0:1D:06:18:0D:00:3E:79:C7:B9:08:89:93:B8:E5:AE:7A:19:B0:DA:11:61:AA:09:7C:7F:39:8A:6F:51:4F:A7<br> 应用签名: 06838c40093b9d4689fc419ba1a3f3</p> 
<h4>公共测试证书下载</h4> 
<p>本地离线打包如果需要使用公共测试证书，可从<a href="https://dcloud.oss-cn-hangzhou.aliyuncs.com/keystore/Test.keystore" rel="nofollow" title="这里">这里</a>下载。<br> 证书密码：123456<br> 证书别名：android</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e1e8cb0cac40507ee81030cbfebba596/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">sofa协议服务器,HTTP 协议的基本使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a3722bcb0617ce46547c4fc1fd95c71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">服务器通过系统自带监控工具,Widows自带系统监控工具——24小时监控服务器性能...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>