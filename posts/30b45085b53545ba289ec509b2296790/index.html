<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>iperf3网络测试工具 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="iperf3网络测试工具" />
<meta property="og:description" content="一、iperf能用来做什么 测量网络带宽和网络质量提供网络延迟抖动、数据包丢失率、最大传输单元等统计信息 二、iperf3主要功能介绍 TCP
测试网络带宽支持多线程，在客户端与服务端支持多重连接报告MSS/MTU值的大小支持TCP窗口值自定义 UDP
可以设置指定带宽的UDP数据流可以测试传输延时、丢包数支持多播测试支持多线程，在客户端与服务端支持多重连接 三、iperf3下载安装 官网下载链接：
https://iperf.fr/en/iperf-download.php 四、iperf3参数说明 通用参数 -p, --port #，Server 端监听、Client 端连接的端口号；-f, --format [KMG]，报告中所用的数据单位，Kbits, Mbits, KBytes, Mbytes；-i, --interval #，每次报告的间隔，单位为秒；-F, --file name，测试所用文件的文件名。如果使用在 Client 端，发送该文件用作测试；如果使用在 Server 端，则是将数据写入该文件，而不是丢弃；-V, --verbose，运行时输出更多细节；-J, --json，运行时以 JSON 格式输出结果；-logfile f，输出到文件；-d, --debug，以 debug 模式输出结果；-v, --version，显示版本信息并退出；-h, --help，显示帮助信息并退出。 Server 端参数： -s, --server，以 Server 模式运行；-D, --daemon，在后台以守护进程运行；-I, --pidfile file，指定 pid 文件；-1, --one-off，只接受 1 次来自 Client 端的测试，然后退出。 Client 端参数 -c, --client ，以 Client 模式运行，并指定 Server 端的地址-u, --udp，以 UDP 协议进行测试-b, --bandwidth #[KMG][/#]，限制测试带宽。UDP 默认为 1Mbit/秒，TCP 默认无限制-t, --time #，以时间为测试结束条件进行测试，默认为 10 秒-n, --bytes #[KMG]，以数据传输大小为测试结束条件进行测试-k, --blockcount #[KMG]，以传输数据包数量为测试结束条件进行测试；-l, --len #[KMG]，读写缓冲区的长度，TCP 默认为 128K，UDP 默认为 8K；--cport ，指定 Client 端运行所使用的 TCP 或 UDP 端口，默认为临时端口；-P, --parallel #，测试数据流并发数量；(多线程)-R, --reverse，反向模式运行（Server 端发送，Client 端接收）-w, --window #[KMG]，设置套接字缓冲区大小，TCP 模式下为窗口大小；-C, --congestion ，设置 TCP 拥塞控制算法（仅支持 Linux 和 FreeBSD ）；-M, --set-mss #，设置 TCP/SCTP 最大分段长度（MSS，MTU 减 40 字节）；-N, --no-delay，设置 TCP/SCTP no delay，屏蔽 Nagle 算法；-4, --version4，仅使用 IPv4；-6, --version6，仅使用 IPv6；-S, --tos N，设置 IP 服务类型（TOS，Type Of Service）；-L, --flowlabel N，设置 IPv6 流标签（仅支持 Linux）；-Z, --zerocopy，使用 “zero copy”（零拷贝）方法发送数据；-O, --omit N，忽略前 n 秒的测试；-T, --title str，设置每行测试结果的前缀；--get-server-output，从 Server 端获取测试结果；--udp-counters-64bit，在 UDP 测试包中使用 64 位计数器（防止计数器溢出） 五、iperf3的使用 iperf服务端：iperf3 -s -p 8889，如下图则启动成功" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/30b45085b53545ba289ec509b2296790/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-28T15:52:48+08:00" />
<meta property="article:modified_time" content="2022-10-28T15:52:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">iperf3网络测试工具</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>一、iperf能用来做什么</h4> 
<blockquote> 
 <ol><li>测量网络带宽和网络质量</li><li>提供网络延迟抖动、数据包丢失率、最大传输单元等统计信息</li></ol> 
</blockquote> 
<h4>二、iperf3主要功能介绍</h4> 
<blockquote> 
 <p>TCP</p> 
 <ul><li>测试网络带宽</li><li>支持多线程，在客户端与服务端支持多重连接</li><li>报告MSS/MTU值的大小</li><li>支持TCP窗口值自定义</li></ul> 
</blockquote> 
<blockquote> 
 <p>UDP</p> 
 <ul><li>可以设置指定带宽的UDP数据流</li><li>可以测试传输延时、丢包数</li><li>支持多播测试</li><li>支持多线程，在客户端与服务端支持多重连接</li></ul> 
 <p></p> 
</blockquote> 
<h4>三、iperf3下载安装</h4> 
<blockquote> 
 <p>官网下载链接：</p> 
 <ul><li><a href="https://iperf.fr/en/iperf-download.php" rel="nofollow" title="https://iperf.fr/en/iperf-download.php">https://iperf.fr/en/iperf-download.php</a></li></ul> 
</blockquote> 
<h4>四、iperf3参数说明</h4> 
<blockquote> 
 <ul><li><strong>通用参数</strong> 
   <ul><li>-p, --port #，Server 端监听、Client 端连接的端口号；</li><li>-f, --format [KMG]，报告中所用的数据单位，Kbits, Mbits, KBytes, Mbytes；</li><li>-i, --interval #，每次报告的间隔，单位为秒；</li><li>-F, --file name，测试所用文件的文件名。如果使用在 Client 端，发送该文件用作测试；如果使用在 Server 端，则是将数据写入该文件，而不是丢弃；</li><li>-V, --verbose，运行时输出更多细节；</li><li>-J, --json，运行时以 JSON 格式输出结果；</li><li>-logfile f，输出到文件；</li><li>-d, --debug，以 debug 模式输出结果；</li><li>-v, --version，显示版本信息并退出；</li><li>-h, --help，显示帮助信息并退出。</li></ul></li></ul> 
</blockquote> 
<blockquote> 
 <ul><li><strong>Server 端参数：</strong> 
   <ul><li>-s, --server，以 Server 模式运行；</li><li>-D, --daemon，在后台以守护进程运行；</li><li>-I, --pidfile file，指定 pid 文件；</li><li>-1, --one-off，只接受 1 次来自 Client 端的测试，然后退出。</li></ul></li></ul> 
</blockquote> 
<blockquote> 
 <ul><li><strong>Client 端参数</strong> 
   <ul><li>-c, --client ，以 Client 模式运行，并指定 Server 端的地址</li><li>-u, --udp，以 UDP 协议进行测试</li><li>-b, --bandwidth #[KMG][/#]，限制测试带宽。UDP 默认为 1Mbit/秒，TCP 默认无限制</li><li>-t, --time #，以时间为测试结束条件进行测试，默认为 10 秒</li><li>-n, --bytes #[KMG]，以数据传输大小为测试结束条件进行测试</li><li>-k, --blockcount #[KMG]，以传输数据包数量为测试结束条件进行测试；</li><li>-l, --len #[KMG]，读写缓冲区的长度，TCP 默认为 128K，UDP 默认为 8K；</li><li>--cport ，指定 Client 端运行所使用的 TCP 或 UDP 端口，默认为临时端口；</li><li>-P, --parallel #，测试数据流并发数量；(多线程)</li><li>-R, --reverse，反向模式运行（Server 端发送，Client 端接收）</li><li>-w, --window #[KMG]，设置套接字缓冲区大小，TCP 模式下为窗口大小；</li><li>-C, --congestion ，设置 TCP 拥塞控制算法（仅支持 Linux 和 FreeBSD ）；</li><li>-M, --set-mss #，设置 TCP/SCTP 最大分段长度（MSS，MTU 减 40 字节）；</li><li>-N, --no-delay，设置 TCP/SCTP no delay，屏蔽 Nagle 算法；</li><li>-4, --version4，仅使用 IPv4；</li><li>-6, --version6，仅使用 IPv6；</li><li>-S, --tos N，设置 IP 服务类型（TOS，Type Of Service）；</li><li>-L, --flowlabel N，设置 IPv6 流标签（仅支持 Linux）；</li><li>-Z, --zerocopy，使用 “zero copy”（零拷贝）方法发送数据；</li><li>-O, --omit N，忽略前 n 秒的测试；</li><li>-T, --title str，设置每行测试结果的前缀；</li><li>--get-server-output，从 Server 端获取测试结果；</li><li>--udp-counters-64bit，在 UDP 测试包中使用 64 位计数器（防止计数器溢出）</li></ul></li></ul> 
 <p></p> 
</blockquote> 
<h4>五、iperf3的使用</h4> 
<p> <strong>iperf服务端：</strong>iperf3 -s -p 8889，如下图则启动成功</p> 
<p><img alt="" height="639" src="https://images2.imgbox.com/9b/fe/4Z7aqfKL_o.png" width="806"></p> 
<p><strong> iperf3的TCP客户端</strong>：iperf3 -c 127.0.0.1 -p 8889 -b 30M -t 300</p> 
<p><img alt="" height="698" src="https://images2.imgbox.com/df/19/RjbjQizu_o.png" width="804"></p> 
<p><strong> iperf3的UDP客户端</strong>：iperf3 -u -c 127.0.0.1 -p 8889 -b 30M -t 300</p> 
<p><img alt="" height="697" src="https://images2.imgbox.com/13/64/YbwTKvvi_o.png" width="803"></p> 
<p>在这段输出中，“Jitter”列表示抖动时间，或者称为传输延迟，“Lost/Total”列表示丢失的数据包和总的数据包数量 ，后面的0%是平均丢包的比率，“Datagrams”列显示的是总共传输数据包的数量。</p> 
<h4> 六、网络抖动和时延</h4> 
<blockquote> 
 <p>网络延迟100ms以下算是正常的。</p> 
 <p>1、1~30ms：极快，几乎察觉不出有延迟，玩任何游戏速度专都特别顺畅。属</p> 
 <p>2、31~50ms：良好，可以正常游戏，没有明显的延迟情况。</p> 
 <p>3、51~100ms：普通，对抗类游戏能感觉出明显延迟，稍有停顿。</p> 
 <p>4、&gt;100ms：差，无法正常游戏，有卡顿，丢包并掉线现象。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e5132ee71125127d41b8dbc5a0c9abc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决Mybatis配置文件Cannot find class: ${mysql.driver}问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/35ac8e327f1e0b66f7c89dc6f852b541/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pywinauto入门—使用pywinauto操作PC版微信发送消息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>