<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>安装多版本cuda - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="安装多版本cuda" />
<meta property="og:description" content="前提已经安装cuda10.0 10.2, 要安装8.0
安装 修改gCC版本 查看当前版本gcc -v
显示: gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)查看本机已安装的gcc版本ls /usr/bin/gcc*
显示: /usr/bin/gcc /usr/bin/gcc-ar /usr/bin/gcc-nm /usr/bin/gcc-ranlib /usr/bin/gcc-5 /usr/bin/gcc-ar-5 /usr/bin/gcc-nm-5 /usr/bin/gcc-ranlib-5 /usr/bin/gcc-7 /usr/bin/gcc-ar-7 /usr/bin/gcc-nm-7 /usr/bin/gcc-ranlib-7 切换版本sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 40 sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 50 sudo update-alternatives --config gcc 显示There are 2 choices for the alternative gcc (providing /usr/bin/gcc). Selection Path Priority Status ------------------------------------------------------------ * 0 /usr/bin/gcc-7 50 auto mode 1 /usr/bin/gcc-5 40 manual mode 2 /usr/bin/gcc-7 50 manual mode 在终端输入对应的编号 1 回车,成功 安装cuda 参考文献" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4d73b518785ee6a45ea757c4d79897b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-25T16:59:06+08:00" />
<meta property="article:modified_time" content="2021-04-25T16:59:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">安装多版本cuda</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前提已经安装cuda10.0 10.2, 要安装8.0</p> 
<h2><a id="_2"></a>安装</h2> 
<h3><a id="gCC_3"></a>修改gCC版本</h3> 
<ol><li>查看当前版本<code>gcc -v</code><br> 显示: <code>gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)</code></li><li>查看本机已安装的gcc版本<code>ls /usr/bin/gcc*</code><br> 显示:<pre><code> /usr/bin/gcc    /usr/bin/gcc-ar    /usr/bin/gcc-nm    /usr/bin/gcc-ranlib
 /usr/bin/gcc-5  /usr/bin/gcc-ar-5  /usr/bin/gcc-nm-5  /usr/bin/gcc-ranlib-5
 /usr/bin/gcc-7  /usr/bin/gcc-ar-7  /usr/bin/gcc-nm-7  /usr/bin/gcc-ranlib-7
</code></pre> </li><li>切换版本<pre><code>sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 40
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 50
sudo update-alternatives --config gcc
</code></pre> 显示<pre><code>There are 2 choices for the alternative gcc (providing /usr/bin/gcc).

Selection    Path            Priority   Status
------------------------------------------------------------
* 0            /usr/bin/gcc-7   50        auto mode
1            /usr/bin/gcc-5   40        manual mode
2            /usr/bin/gcc-7   50        manual mode

</code></pre> 在终端输入对应的编号 1 回车,成功</li></ol> 
<h3><a id="cuda_31"></a>安装cuda</h3> 
<p><a href="https://blog.csdn.net/ksws0292756/article/details/80120561?utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control">参考文献</a></p> 
<ol><li><a href="https://developer.nvidia.com/compute/cuda/8.0/Prod2/local_installers/cuda_8.0.61_375.26_linux-run" rel="nofollow">下载cuda8.0版本</a></li><li><code>sudo sh cuda_8.0.61_375.26_linux-run</code> 
  <ul><li>Do you accept the previously read EULA?<br> accept/decline/quit: accept</li><li>You are attempting to install on an unsupported configuration. Do you wish to continue?<br> (y)es/(n)o [ default is no ]: y</li><li>Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 375.26?<br> (y)es/(n)o/(q)uit: n</li><li>Install the CUDA 8.0 Toolkit?<br> (y)es/(n)o/(q)uit: y</li><li>Install the CUDA 8.0 Samples?<br> (y)es/(n)o/(q)uit: y<br> 报错</li></ul> <pre><code>Error: unsupported compiler: 5.5.0. Use --override to override this check.
Missing recommended library: libGLU.so
Missing recommended library: libXmu.so

Error: cannot find Toolkit in /usr/local/cuda-8.0

===========
= Summary =
===========

Driver:   Not Selected
Toolkit:  Installation Failed. Using unsupported Compiler.
Samples:  Cannot find Toolkit in /usr/local/cuda-8.0


Logfile is /tmp/cuda_install_26760.log
</code></pre> </li></ol> 
<p>根据提示安装命令改为 <code>sudo sh cuda_8.0.61_375.26_linux-run --override</code></p> 
<ol start="3"><li>切换版本<br> 进入目录查看已安装的版本</li></ol> 
<pre><code>cd /usr/local/
ls
</code></pre> 
<p>显示如下<br> <code>bin cuda cuda-10.0 cuda-10.2 cuda-8.0</code><br> 删除以前的软连接,建立新的连接,使得<code>/usr/local/cuda</code>指向<code>/usr/local/cuda-8.0</code>,然后查看软连接</p> 
<pre><code>sudo rm -rf cuda
sudo ln -s /usr/local/cuda-8.0 /usr/local/cuda
stat cuda
</code></pre> 
<p>终端显示<code>/usr/local/cuda</code>指向<code>/usr/local/cuda-8.0</code></p> 
<pre><code>File: cuda -&gt; /usr/local/cuda-8.0
  Size: 19        	Blocks: 0          IO Block: 4096   symbolic link
Device: 10305h/66309d	Inode: 3416806     Links: 1
Access: (0777/lrwxrwxrwx)  Uid: (    0/    root)   Gid: (    0/    root)
Access: 2021-04-25 16:53:54.502924102 +0800
Modify: 2021-04-25 16:53:54.502924102 +0800
Change: 2021-04-25 16:53:54.502924102 +0800
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90bc7e24c07a0dadbf7de3b41e7c5cce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java通过Http请求服务器，返回EXCEL/TXT预览页面出现中文乱码解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e552745770f36f46d9760089301f20b6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">tensorflow2中 tensor转为numpy</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>