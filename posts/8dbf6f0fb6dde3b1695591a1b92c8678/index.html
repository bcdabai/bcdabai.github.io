<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【亿信BI】esensoft亿信BI使用总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【亿信BI】esensoft亿信BI使用总结" />
<meta property="og:description" content="esensoft亿信BI使用总结 1. 百分比2. 避免除以0导致的∞符号3. 页面显示 &amp; 参数的value和txt4. 日期格式5. GRID分析区表格6. 维显示代码值7. 浮动列计算8. 拆分浮动列9. 全连接 &amp; 指标 2022/9/6 周二
记录使用亿信BI制作报表时，常用的一些函数、格式等Tips。
1. 百分比 小数值需要转为百分比，在“显示表达式”这儿加一个函数 round(self.value*100,2)&#43;‘%’
效果：
2. 避免除以0导致的∞符号 有时候做除法运算，有除数为0的情况，会出现∞无穷符号：
效果： 如果想避免出现∞无穷符号，可以用if条件 if(B3&gt;0,A3/B3,NULL)，让除数为0时结果不去计算，显示为空：
效果：
3. 页面显示 &amp; 参数的value和txt (1) 需要在分校区表格之外的地方显示文本内容，格式为 &lt;#=xxx#&gt; ，如下图的&lt;#=12345#&gt;
(2) 如果需要显示参数内容，就是 &lt;#=@paramname#&gt; ，比如我有个@date的参数，就用 &lt;#=@date#&gt;
(3) 参数有 值value 和 显示文本txt ，就比如日期这个参数来说，值和显示文本是有区别的，&lt;#=@date.value#&gt; 显示20220906，而 &lt;#=@date.txt#&gt; 则是文本形式的2022年09月06日，如果只写&lt;#=@date#&gt;就默认是value
效果：
4. 日期格式 有时候日期只精确到了年月日，但报表显示出来了后边的00:00:00
要去掉这些0，就在日期单元格的“显示表达式”处加一个函数 datetostr(self.txt,‘yyyy-mm-dd’)
效果：
5. GRID分析区表格 附加，如果我还想在外面显示最大的一个日期（右图），可以用上边第2点说过的&lt;#=xxx#&gt;在分析区表格外添加内容，用max函数算出最大日期，再用第3点中的datetostr函数把日期2022-09-02显示为2022年09月02日：
&lt;#=datetostr(max(GRID1.D2$),‘yyyy年mm月dd日’)#&gt;
效果：
其中的GRID1是分析区表格的代号，点表格左上角的十字方块会出来：
6. 维显示代码值 关联了维表的字段，在报表里会默认显示名称（如下图I列显示的就是具体内容），如果想让它仍然显示原来的代码值，可以在“显示表达式”中加一个 @id" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/8dbf6f0fb6dde3b1695591a1b92c8678/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-06T15:22:37+08:00" />
<meta property="article:modified_time" content="2022-09-06T15:22:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【亿信BI】esensoft亿信BI使用总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>esensoft亿信BI使用总结</h4> 
 <ul><li><ul><li><ul><li><a href="#1__7" rel="nofollow">1. 百分比</a></li><li><a href="#2_0_14" rel="nofollow">2. 避免除以0导致的∞符号</a></li><li><a href="#3___valuetxt_23" rel="nofollow">3. 页面显示 &amp; 参数的value和txt</a></li><li><a href="#4__35" rel="nofollow">4. 日期格式</a></li><li><a href="#5_GRID_45" rel="nofollow">5. GRID分析区表格</a></li><li><a href="#6__57" rel="nofollow">6. 维显示代码值</a></li><li><a href="#7__64" rel="nofollow">7. 浮动列计算</a></li><li><a href="#8__69" rel="nofollow">8. 拆分浮动列</a></li><li><a href="#9____72" rel="nofollow">9. 全连接 &amp; 指标</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>2022/9/6 周二<br> 记录使用亿信BI制作报表时，常用的一些函数、格式等Tips。</p> 
<hr> 
<h4><a id="1__7"></a>1. 百分比</h4> 
<p>小数值需要转为百分比，在“显示表达式”这儿加一个函数 <mark><strong>round(self.value*100,2)+‘%’</strong></mark></p> 
<p><img src="https://images2.imgbox.com/16/70/vz2pcTxm_o.png" alt="在这里插入图片描述" width="450" height="250"> <img src="https://images2.imgbox.com/5d/f9/pXT4PMM2_o.png" alt="在这里插入图片描述" width="250" height="250"></p> 
<p>效果：<br> <img src="https://images2.imgbox.com/1b/fc/WzL2hBau_o.png" alt="在这里插入图片描述" width="370" height="200"></p> 
<h4><a id="2_0_14"></a>2. 避免除以0导致的∞符号</h4> 
<p>有时候做除法运算，有除数为0的情况，会出现∞无穷符号：<br> <img src="https://images2.imgbox.com/8e/4d/z6ucXT94_o.png" alt="在这里插入图片描述" width="330" height="170">效果： <img src="https://images2.imgbox.com/92/1f/ok1VoQQw_o.png" alt="在这里插入图片描述" width="290" height="140"></p> 
<p>如果想避免出现∞无穷符号，可以用if条件 if(B3&gt;0,A3/B3,NULL)，让除数为0时结果不去计算，显示为空：<br> <img src="https://images2.imgbox.com/4a/79/y39IWqAE_o.png" alt="在这里插入图片描述" width="360" height="130">效果：<img src="https://images2.imgbox.com/bc/af/mFQRDkp3_o.png" alt="在这里插入图片描述" width="300" height="140"></p> 
<h4><a id="3___valuetxt_23"></a>3. 页面显示 &amp; 参数的value和txt</h4> 
<p>(1) 需要在分校区表格之外的地方显示文本内容，格式为 <mark><strong>&lt;#=xxx#&gt;</strong></mark> ，如下图的&lt;#=12345#&gt;</p> 
<p>(2) 如果需要显示参数内容，就是 <mark><strong>&lt;#=@paramname#&gt;</strong></mark> ，比如我有个@date的参数，就用 &lt;#=@date#&gt;</p> 
<p>(3) 参数有 值value 和 显示文本txt ，就比如日期这个参数来说，值和显示文本是有区别的，<mark><strong>&lt;#=@date.value#&gt;</strong></mark> 显示20220906，而 <mark><strong>&lt;#=@date.txt#&gt;</strong></mark> 则是文本形式的2022年09月06日，如果只写&lt;#=@date#&gt;就默认是value</p> 
<p><img src="https://images2.imgbox.com/b7/d5/2MZDJ6Ix_o.png" alt="在这里插入图片描述" width="450" height="200"></p> 
<p>效果：</p> 
<p><img src="https://images2.imgbox.com/e1/b7/X3xAOzjg_o.png" alt="在这里插入图片描述" width="480" height="180"></p> 
<h4><a id="4__35"></a>4. 日期格式</h4> 
<p>有时候日期只精确到了年月日，但报表显示出来了后边的00:00:00<br> <img src="https://images2.imgbox.com/2d/0c/sEOzz0u1_o.png" alt="在这里插入图片描述"></p> 
<p>要去掉这些0，就在日期单元格的“显示表达式”处加一个函数 <strong>datetostr(self.txt,‘yyyy-mm-dd’)</strong></p> 
<p><img src="https://images2.imgbox.com/61/7d/I6fGmky6_o.png" alt="在这里插入图片描述"></p> 
<p>效果：<br> <img src="https://images2.imgbox.com/e7/81/dFTxz5i8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5_GRID_45"></a>5. GRID分析区表格</h4> 
<p>附加，如果我还想在外面显示最大的一个日期（右图），可以用上边第2点说过的&lt;#=xxx#&gt;在分析区表格外添加内容，用max函数算出最大日期，再用第3点中的datetostr函数把日期2022-09-02显示为2022年09月02日：<br> <strong>&lt;#=datetostr(max(GRID1.D2$),‘yyyy年mm月dd日’)#&gt;</strong><br> <img src="https://images2.imgbox.com/b5/82/2Fx30Lzi_o.png" alt="在这里插入图片描述" width="500" height="200"></p> 
<p>效果：<br> <img src="https://images2.imgbox.com/9a/0e/gKa4jSqE_o.png" alt="在这里插入图片描述" width="350" height="230"></p> 
<p>其中的GRID1是分析区表格的代号，点表格左上角的十字方块会出来：</p> 
<p><img src="https://images2.imgbox.com/42/6b/7MmAg93y_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6__57"></a>6. 维显示代码值</h4> 
<p>关联了维表的字段，在报表里会默认显示名称（如下图I列显示的就是具体内容），如果想让它仍然显示原来的代码值，可以在“显示表达式”中加一个 <strong>@id</strong></p> 
<p><img src="https://images2.imgbox.com/db/f9/sF07OgkD_o.png" alt="在这里插入图片描述" width="450" height="250"><br> 效果：<br> <img src="https://images2.imgbox.com/68/d7/VL1OB9Eh_o.png" alt="在这里插入图片描述" width="240" height="180"></p> 
<h4><a id="7__64"></a>7. 浮动列计算</h4> 
<p>=SUM(B2) 只会算上B2这一个单元格<br> <strong>=SUM(B2$)</strong> 才会给B2单元格里所有浮动数据求和<br> <img src="https://images2.imgbox.com/e4/a5/1V4mupqZ_o.png" alt="在这里插入图片描述" width="320" height="250"> 效果：<img src="https://images2.imgbox.com/c5/8a/f0YqlQYd_o.png" alt="在这里插入图片描述" width="320" height="250"></p> 
<h4><a id="8__69"></a>8. 拆分浮动列</h4> 
<p>浮动列本来是会把相同的数据合并的（如下左图），勾选“<strong>拆分浮动块</strong>”后，就可以不合并（如下右图）：<br> <img src="https://images2.imgbox.com/7a/a3/gFouXLYQ_o.png" alt="在这里插入图片描述" width="210" height="250"> <img src="https://images2.imgbox.com/5e/81/DhcBqg5l_o.png" alt="在这里插入图片描述" width="230" height="220"> 效果： <img src="https://images2.imgbox.com/8f/3a/KxQLdPCV_o.png" alt="在这里插入图片描述" width="200" height="250"></p> 
<h4><a id="9____72"></a>9. 全连接 &amp; 指标</h4> 
<p>比如下图1、2、3指标列的过滤条件不相同，如果连接模式没有选全连接，则只要有数据不符合某一列的过滤条件，就会被过滤掉，包括这一整行就会被过滤掉，那我这些数据就都没有了<br> 而选择全连接，就会把不符合条件的显示为空值，能看到其他符合条件的数据：<br> <img src="https://images2.imgbox.com/35/fa/swCAEDhR_o.png" alt="在这里插入图片描述"></p> 
<p>选择全连接：</p> 
<p><img src="https://images2.imgbox.com/37/11/EUOg6PFS_o.png" alt="在这里插入图片描述"></p> 
<p>备注：</p> 
<p>（1）只有<strong>浮动列</strong>或<strong>指标</strong>才能加过滤条件</p> 
<p>（2）<strong>指标</strong>：<br> 当用的字段来自分析表单元格时<br> 若勾选指标，则在sql中计算，会受其他过滤条件等的影响<br> 不勾选指标，则在内存中求值，也就是直接用sql结果计算</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0ccddb90dca9aa31e6aef45534e5b97d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">浏览器的默认样式及去除</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/05e7cbc2d9285a1e5239130cec163cbe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C语言练习】四个整数中找出最大的一个</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>