<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>若依分离版——使用Knife4j 自动生成接口文档 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="若依分离版——使用Knife4j 自动生成接口文档" />
<meta property="og:description" content="背景： 前后端分离程序，如果需要前端开发人员和后端开发人员配合开发，则需要将接口文档并显性给前端人员
解决办法： 使用knife4j替代若依自带的swagger，因为knife4j是在swagger基础上包装的，Knife4j不仅具备友好的界面，而且使用简单，还提供了增强功能如接口测试和Mock数据生成，可大大提高开发人员的工作效率。
效果如下：
具体步骤： 1、ruoyi-admin\pom.xml模块添加整合依赖
&lt;!-- knife4j --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt; &lt;artifactId&gt;knife4j-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.0.3&lt;/version&gt; &lt;/dependency&gt; 2、修改ry-ui\views\tool\swagger\index.vue跳转地址
url: process.env.VUE_APP_BASE_API &#43; &#34;/doc.html&#34;, 3. 修改ruoyi-admin/src/main/java/com/ruoyi/web/core/config/SwaggerConfig.java的
createRestApi函数，注释掉.pathMapping(pathMapping); 4.登录系统，访问菜单系统工具/系统接口，出现如下图表示成功。
5. 给SysUser类中的的字段添加 @ApiModelProperty(value = &#34;用户序号&#34;, required = false)
/** 用户ID */ @ApiModelProperty(value = &#34;用户序号&#34;, required = false) @Excel(name = &#34;用户序号&#34;, cellType = ColumnType.NUMERIC, prompt = &#34;用户编号&#34;) private Long userId; /** 部门ID */ @ApiModelProperty(value = &#34;部门编号&#34;, required = false) @Excel(name = &#34;部门编号&#34;, type = Type.IMPORT) private Long deptId; 6." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5fe81fda11ea997010ae5f5203a9f889/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-14T11:30:41+08:00" />
<meta property="article:modified_time" content="2023-11-14T11:30:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">若依分离版——使用Knife4j 自动生成接口文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>背景：</h4> 
<p>前后端分离程序，如果需要前端开发人员和后端开发人员配合开发，则需要将接口文档并显性给前端人员</p> 
<h4>解决办法：</h4> 
<p>使用knife4j替代若依自带的swagger，因为knife4j是在swagger基础上包装的，Knife4j不仅具备友好的界面，而且使用简单，还提供了增强功能如接口测试和Mock数据生成，可大大提高开发人员的工作效率。</p> 
<p>效果如下：</p> 
<p><img alt="" height="942" src="https://images2.imgbox.com/51/2c/4PvbNzJu_o.png" width="1200"></p> 
<h4>具体步骤：</h4> 
<p>1、<code>ruoyi-admin\pom.xml</code>模块添加整合依赖</p> 
<pre><code>&lt;!-- knife4j --&gt;
&lt;dependency&gt;
	&lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;
	&lt;artifactId&gt;knife4j-spring-boot-starter&lt;/artifactId&gt;
	&lt;version&gt;3.0.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<p>2、修改<code>ry-ui\views\tool\swagger\index.vue</code>跳转地址</p> 
<pre><code>url: process.env.VUE_APP_BASE_API + "/doc.html",</code></pre> 
<p>3. 修改ruoyi-admin/src/main/java/com/ruoyi/web/core/config/SwaggerConfig.java的</p> 
<pre>createRestApi函数，注释掉.pathMapping(pathMapping);
              
   </pre> 
<p> 4.登录系统，访问菜单系统工具/系统接口，出现如下图表示成功。</p> 
<p><img alt="" height="840" src="https://images2.imgbox.com/06/8c/Wx5Piokc_o.png" width="1200"></p> 
<p>5. 给SysUser类中的的字段添加 @ApiModelProperty(value = "用户序号", required = false)</p> 
<pre><code>
    /** 用户ID */
    @ApiModelProperty(value = "用户序号", required = false)
    @Excel(name = "用户序号", cellType = ColumnType.NUMERIC, prompt = "用户编号")
    private Long userId;

    /** 部门ID */
    @ApiModelProperty(value = "部门编号", required = false)
    @Excel(name = "部门编号", type = Type.IMPORT)
    private Long deptId;</code></pre> 
<p>6. 给SysUserController添加    @ApiOperation("获取用户列表")</p> 
<pre><code>   /**
     * 获取用户列表
     */
    @PreAuthorize("@ss.hasPermi('system:user:list')")
    @ApiOperation("获取用户列表")
    @GetMapping("/list")
    public TableDataInfo list(SysUser user)
    {
        System.out.println(user.getNickName());
        startPage();
        List&lt;SysUser&gt; list = userService.selectUserList(user);
        return getDataTable(list);
    }</code></pre> 
<p>7. 重启启动，进入系统接口页面，在个性化设置里配置Host为本地地址，否则接口地址不正确</p> 
<p><img alt="" height="806" src="https://images2.imgbox.com/3b/6a/K3ASKiQJ_o.png" width="1200"></p> 
<p>8.  打开“”根据用户编号获取用户详细信息“”接口，输入userId值，点击发送，影响内容正确则ok</p> 
<p><img alt="" height="813" src="https://images2.imgbox.com/ca/f6/Op9HQQGz_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4e3cb5df556f9a170767c819046aec6d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Shiro快速入门之二</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d220acba7eb289a09f73fba5c13a75b5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装MinGW并在codeblocks下使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>