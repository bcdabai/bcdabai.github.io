<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vim中替换字符串的方法有哪些 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vim中替换字符串的方法有哪些" />
<meta property="og:description" content="这篇文章为大家带来有关vim中替换字符串的方法介绍，如果在日常学习或工作遇到这个问题，希望大家通过这篇文章的几种方法解决替换字符串的问题。
:%s/str1/str2/g 替换每一行中所有str1为str2 常用！
:s/str1/str2/g 替换当前行所有str1为str2
基本替换
:s/str1/str2/ 替换当前行第一个str1为str2
:s/str1/str2/g 替换当前行所有str1为str2
:n,$s/str1/str2/ 替换第 n 行开始到最后一行中每一行的第一个str1为str2
:n,$s/str1/str2/g 替换第 n 行开始到最后一行中每一行所有str1为str2
（n 为数字，若 n 为 .，表示从当前行开始到最后一行）
:%s/str1/str2/（等同于 :g/str1/s//str2/） 替换每一行的第一个str1为str2
:%s/str1/str2/g（等同于 :g/str1/s//str2/g） 替换每一行中所有str1为str2
可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符
:s#str1/#str2/# 替换当前行第一个str1/ 为str2/:%s&#43;/str11/str12/&#43;/str21/str22&#43; （使用&#43; 来 替换 / ）： /str11/str12/替换成/str21/str22/
文件中删除^M
问题描述：对于换行，Windows下用回车换行（0A0D）来表示，Linux下是回车（0A）来表示。这样，将window上的文件拷到Unix上用时，总会有个^M，请写个用在Unix下的过滤Windows文件的换行符（0D）的shell或c程序。有两种方法可以完成此目的：(1)使用命令：cat oldfilename | tr -d “^V^M” &gt; newfilename
(2)使用命令：sed -e “s/^V^M//” oldfilename &gt; newfilename
需要注意的是在1、2两种方法中，^V和^M指的是Ctrl&#43;V和Ctrl&#43;M。你必须要手工进行输入，而不是粘贴。
在vim中处理：首先使用vim打开文件，然后按ESC键，接着输入命令：
:%s/^V^M//
:%s/^M$//g
如果上述方法无用，则正确的解决办法是：
(1) tr -d &#34;\r&#34; &lt; old_file_name&gt;new_file_name 或者 cat oldfilename | tr -d &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c6de7e4f39469c262ac838ccfe26300e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-03T13:55:34+08:00" />
<meta property="article:modified_time" content="2022-08-03T13:55:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vim中替换字符串的方法有哪些</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">这篇文章为大家带来有关vim中替换字符串的方法介绍，如果在日常学习或工作遇到这个问题，希望大家通过这篇文章的几种方法解决替换字符串的问题。<br> :%s/str1/str2/g  替换每一行中所有str1为str2 常用！<br> :s/str1/str2/g 替换当前行所有str1为str2<br> 基本替换<br> :s/str1/str2/ 替换当前行第一个str1为str2<br> :s/str1/str2/g 替换当前行所有str1为str2<br> :n,$s/str1/str2/ 替换第 n 行开始到最后一行中每一行的第一个str1为str2<br> :n,$s/str1/str2/g 替换第 n 行开始到最后一行中每一行所有str1为str2<br> （n 为数字，若 n 为 .，表示从当前行开始到最后一行）<br> :%s/str1/str2/（等同于 :g/str1/s//str2/） 替换每一行的第一个str1为str2<br> :%s/str1/str2/g（等同于 :g/str1/s//str2/g） 替换每一行中所有str1为str2<br> 可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符<br> :s#str1/#str2/# 替换当前行第一个str1/ 为str2/:%s+/str11/str12/+/str21/str22+ （使用+ 来 替换 / ）： /str11/str12/替换成/str21/str22/<br> 文件中删除^M<br> 问题描述：对于换行，Windows下用回车换行（0A0D）来表示，Linux下是回车（0A）来表示。这样，将window上的文件拷到Unix上用时，总会有个^M，请写个用在Unix下的过滤Windows文件的换行符（0D）的shell或c程序。有两种方法可以完成此目的：(1)使用命令：cat oldfilename | tr -d “^V^M” &gt; newfilename<br> (2)使用命令：sed -e “s/^V^M//” oldfilename &gt; newfilename<br> 需要注意的是在1、2两种方法中，^V和^M指的是Ctrl+V和Ctrl+M。你必须要手工进行输入，而不是粘贴。<br> 在vim中处理：首先使用vim打开文件，然后按ESC键，接着输入命令：<br> :%s/^V^M//<br> :%s/^M$//g<br> 如果上述方法无用，则正确的解决办法是：<br> (1) tr -d "\r" &lt; old_file_name&gt;new_file_name 或者 cat oldfilename | tr -d "\r" &gt; new_file_name<br> (2) tr -d "\015"&lt; old_file_name&gt;new_file_name或者cat oldfilename | tr -d "\015" &gt; new_file_name<br> strings A&gt;B<br> 其它技巧<br> 利用 :s 命令可以实现字符串的替换。具体的用法包括：:s/str1/str2/ 用字符串 str2 替换行中首次出现的字符串 str1<br> :s/str1/str2/g 用字符串 str2 替换行中所有出现的字符串 str1<br> :.,$ s/str1/str2/g 用字符串 str2 替换正文当前行到末尾所有出现的字符串 str1<br> :1,$ s/str1/str2/g 用字符串 str2 替换正文中所有出现的字符串 str1<br> :g/str1/s//str2/g 功能同上<br> 从上述替换命令可以看到：g 放在命令末尾，表示对搜索字符串的每次出现进行替换；不加 g，表示只对搜索字符串的首次出现进行替换；g 放在命令开头，表示对正文中所有包含搜索字符串的行进行替换操作。<br> vi/vim 中可以使用 :s 命令来替换字符串。以前只会使用一种格式来全文替换，今天发现该命令有很多种写法(vi 真是强大啊，还有很多需要学习)，记录几种在此，方便以后查询。<br> 替换<br> :s/vivian/sky/ 替换当前行第一个 vivian 为 sky<br> :s/vivian/sky/g 替换当前行所有 vivian 为 sky<br> :n,$s/vivian/sky/ 替换第 n 行开始到最后一行中每一行的第一个 vivian 为 sky<br> :n,$s/vivian/sky/g 替换第 n 行开始到最后一行中每一行所有 vivian 为 sky<br> n 为数字，若 n 为 .，表示从当前行开始到最后一行<br> :%s/vivian/sky/(等同于 :g/vivian/s//sky/) 替换每一行的第一个 vivian 为 sky<br> :%s/vivian/sky/g(等同于 :g/vivian/s//sky/g) 替换每一行中所有 vivian 为 sky<br> 可以使用 # 作为分隔符，此时中间出现的 / 不会作为分隔符<br> :s#vivian/#sky/# 替换当前行第一个 vivian/ 为 sky/<br> :%s+/oradata/apras/+/user01/apras1+ (使用+ 来 替换 / )： /oradata/apras/替换成/user01/apras1/<br> * ****<br> 删除文本中的^M<br> 问题描述：对于换行,window下用回车换行(0A0D)来表示，linux下是回车(0A)来表示。这样，将window上的文件拷到unix上用时，总会有个^M.请写个用在unix下的过滤windows文件的换行符(0D)的shell或c程序。<br> · 使用命令：cat filename1 | tr -d “^V^M” &gt;newfile;<br> · 使用命令：sed -e “s/^V^M//” filename &gt;outputfilename。需要注意的是在1、2两种方法中，^V和^M指的是Ctrl+V和Ctrl+M。你必须要手工进行输入，而不是粘贴。<br> · 在vi中处理：首先使用vi打开文件，然后按ESC键，接着输入命令：%s/^V^M//。<br> · :%s/^M$//g<br> 如果上述方法无用，则正确的解决办法是：<br> · tr -d "r" dest<br> · tr -d "5" dest<br> · strings A&gt;B<br> 其它<br> 利用 :s 命令可以实现字符串的替换。具体的用法包括：<br> :s/str1/str2/ 用字符串 str2 替换行中首次出现的字符串 str1<br> :s/str1/str2/g 用字符串 str2 替换行中所有出现的字符串 str1<br> :.,$ s/str1/str2/g 用字符串 str2 替换正文当前行到末尾所有出现的字符串 str1<br> :1,$ s/str1/str2/g 用字符串 str2 替换正文中所有出现的字符串 str1<br> :g/str1/s//str2/g 功能同上<br> 从上述替换命令可以看到：g 放在命令末尾，表示对搜索字符串的每次出现进行替换;不加 g，表示只对搜索<br> 字符串的首次出现进行替换;g 放在命令开头，表示对正文中所有包含搜索字符串的行进行替换操作。<br> 关于vim中替换字符串的方法就分享到这里了，希望以上内容可以对大家有一定的帮助，可以学到更多知识。如果觉得文章不错，可以把它分享出去让更多的人看到。</p> 
<p style="margin-left:.0001pt;text-align:justify;">从一系列高度可靠，安全的解决方案中选择您的需求，这些解决方案包括国际专用电路（IPLC），国际以太网专用线（<a class="link-info" href="http://www.vecloud.com/product/iepl.html" rel="nofollow" title="IEPL专线">IEPL专线</a>）和海底电缆容量。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90964ce92b5b5ef98bedbbd02a11cf42/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">threejs加载纹理图跨域</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d45f8dc2707da1362115391281db7413/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">《Python工匠：案例、技巧与工程实践》-第1章 变量与注释-1.1基础知识-学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>