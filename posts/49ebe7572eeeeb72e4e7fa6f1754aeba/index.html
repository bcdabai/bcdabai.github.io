<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何在live server开启https - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何在live server开启https" />
<meta property="og:description" content="前言 在本地调试时live server默认开启的是http协议，如果我们想使用https协议时可以对live server进行一些配置以启用https协议。
配置步骤 1.安装mkcert 打开windows的搜索功能搜索powershell，并以管理员的身份打开。在powershell中输入命令 Get-ExecutionPolicy，如果系统返回 Restricted，则在执行命令：Set-ExecutionPolicy AllSigned ，选择 A（全是）。执行命令以下命令： Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;)) 执行 choco -? 验证是否安装成功 。安装完成后，执行命令 choco install mkcert，等待安装完成。 2.安装本地CA并将CA加入系统的信任清单中 执行命令 mkcert -install ，本地CA在目录 C:\Users\你的用户名\AppData\Local\mkcert 中。
下面是执行成功后的结果：
The local CA is already installed in the system trust store! 👍 Note: Firefox support is not available on your platform. ℹ️ The local CA is already installed in Java&#39;s trust store!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/49ebe7572eeeeb72e4e7fa6f1754aeba/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-09T17:44:26+08:00" />
<meta property="article:modified_time" content="2021-09-09T17:44:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何在live server开启https</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>         在本地调试时live server默认开启的是http协议，如果我们想使用https协议时可以对live server进行一些配置以启用https协议。</p> 
<hr> 
<h2><strong>配置步骤</strong></h2> 
<h3 id="1.%E5%AE%89%E8%A3%85mkcert"><a id="1_27"></a><br> 1.安装mkcert</h3> 
<ul><li id="main-toc">打开windows的搜索功能搜索<span style="color:#fe2c24;">powershell</span>，并以管理员的身份打开。</li><li>在powershell中输入命令 <span style="color:#fe2c24;">Get-ExecutionPolicy</span>，如果系统返回 Restricted，则在执行命令：<span style="color:#fe2c24;">Set-ExecutionPolicy AllSigned</span> ，选择 <span style="color:#fe2c24;">A</span>（全是）。</li><li>执行命令以下命令：</li></ul> 
<pre><code>Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))</code></pre> 
<ul><li>执行 <span style="color:#fe2c24;">choco -? </span>验证是否安装成功 。</li><li>安装完成后，执行命令 <span style="color:#fe2c24;">choco install mkcert</span>，等待安装完成。</li></ul> 
<h3>2.安装本地CA并将CA加入系统的信任清单中</h3> 
<p>        执行命令 <span style="color:#fe2c24;"> mkcert -install</span> ，本地CA在目录 C:\Users\<span style="color:#956fe7;">你的用户名</span>\AppData\Local\mkcert 中。</p> 
<p>        下面是执行成功后的结果：</p> 
<pre><code>The local CA is already installed in the system trust store! 👍
Note: Firefox support is not available on your platform. ℹ️
The local CA is already installed in Java's trust store! 👍</code></pre> 
<h3>3.生成凭证</h3> 
<p>        执行命令 <span style="color:#fe2c24;">mkcert example.com "*.example.com" example.test localhost 127.0.0.1 ::1</span></p> 
<p>        注意：请进入需要生成凭证的目录，凭证将在该目录下生成， 例如我指定的目录为 <span style="color:#956fe7;">D:\https</span>。</p> 
<p>        下面是执行成功后的结果：</p> 
<pre><code>Created a new certificate valid for the following names 📜
 - "example.com"
 - "*.example.com"
 - "example.test"
 - "localhost"
 - "127.0.0.1"
 - "::1"

Reminder: X.509 wildcards only go one level deep, so this won't match a.b.example.com ℹ️

The certificate is at "./example.com+5.pem" and the key at "./example.com+5-key.pem" ✅

It will expire on 9 December 2023 🗓</code></pre> 
<p>        执行完成后生成了 <span style="color:#0d0016;">example.com+5.pem</span> 和<strong> </strong><span style="color:#0d0016;">example.com+5-key.pem</span>，其中 <span style="color:#fe2c24;">example.com+5.pem </span>是证书文件，<span style="color:#fe2c24;">example.com+5-key.pem </span>是私钥。</p> 
<h3>4.设置live server的settings</h3> 
<p>        在vscode中打开命令面板，输入<span style="color:#fe2c24;"> settings</span>，点击<span style="color:#fe2c24;"> 首选项：打开工作区设置 </span>，找到 <span style="color:#fe2c24;">live server</span>。（或者找到已下载的插件中的live server插件点击管理再点击拓展设置）。</p> 
<p>        下拉找到 Live Server &gt; Settings: Https 目录，并设置图中的项和值：</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="width:116px;">enable</td><td style="width:382px;">是否启用https</td></tr><tr><td style="width:116px;">cert</td><td style="width:382px;">之前生成的证书地址</td></tr><tr><td style="width:116px;">key</td><td style="width:382px;">之前生成的密钥地址</td></tr></tbody></table> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/c1/85/5JhtxXUR_o.png"></p> 
<p>        也可以在点击<span style="color:#fe2c24;"> 在settings.json中编辑</span> 对该文件进行设置：</p> 
<pre><code>"liveServer.settings.https": {
    "enable": false, //是否启用https
    "cert": "D:\\https\\example.com+5.pem", //之前生成的证书地址
    "key": "D:\\https\\example.com+5-key.pem", //之前生成的密钥地址
    "passphrase": ""
},</code></pre> 
<hr id="hr-toc"> 
<h2>杂项</h2> 
<p>        设置后如果不想开启https协议而是用http协议的话可以更改 live server配置中的 <span style="color:#fe2c24;">liveServer.settings.https </span>的 <span style="color:#fe2c24;">enable</span> 为 <span style="color:#fe2c24;"> false</span>。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7bbb5a7afe1c442c617346339c88e484/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue项目 --- JSJDK微信分享朋友和朋友圈功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ee90f579251d2c2bccd52257f135c225/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue vite特点与优缺点</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>