<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt在linux系统上使用技巧 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt在linux系统上使用技巧" />
<meta property="og:description" content="路径表示
Windows操作系统可用&#34;\&#34;或&#34;/&#34;表示路径，Unix操作系统用&#34;/&#34;表示路径。综合，qt最好用“/”表示路径。
第三方静态库和动态库
lib文件：（依据编译器） MSVC编译器是生成.lib 文件。 mingw编译器生成.a 文件。linux平台无lib文件。
dll文件：(依据平台) windows平台是.dll 文件，unix平台是.so
对于windows的msvc系统，有.lib和.dll文件。配置LIBS&#43;= 就是配置.lib文件。
对于windows的mingw系统，有.a和.dll文件。配置LIBS&#43;= 就是配置.a文件。
对于linux系统，只有.so文件。配置LIBS&#43;= 就是配置.so文件。
第三方配置LIBS目录做法
LIBS &#43;= somepath 这个可以多行写，也可以用“\”隔行
第一种办法：
可以用-L指定目录，-l指定库的名称（无需后缀，.lib，.a, .so都适用，这样就不用区分到底是哪种）
优点：windows和linux平台通用
如在windows msvc环境下，有bin目录下有log4qt.lib、log4qt.dll。
Pro配置文件写： LIBS &#43;= -L$$PWD/../bin -llog4qt
实际上就是配置log4qt.lib。
如在linux 环境下有bin目录下只有liblog4qt.so
Pro配置文件写： LIBS &#43;= -L$$PWD/../bin -llog4qt
实际上就是配置liblog4qt.so。
第二种办法：
直接通过绝对路径和相对路径指定库的完整path（需后缀，.lib，.a, .so都适用），相对路径用$$pwd前缀，路径不允许空格。
缺点是：在windows和linux平台不通用，各自平台需要单独配置。
如在windows msvc环境下，有bin目录下有log4qt.lib、log4qt.dll。
Pro配置文件写： LIBS &#43;= $$PWD/../bin/log4qt.lib
实际上就是配置log4qt.lib。
如在linux 环境下有bin目录下只有liblog4qt.so
Pro配置文件写： LIBS &#43;= $$PWD/../bin/liblog4qt.so
实际上就是配置liblog4qt.so。
Linux下QT生成的（.so）、（.so.1）、（.so.1.0）、（.so.1.0.0）之间的区别
.so 即 linux 下的共享库（Shared library）,或称动态库
QT在生成动态库时，会默认生成（.so）、（.so.1）、（.so.1.0）、（.so.1.0.0）四个文件。其中，（.so.1.0.0）为实际的动态库文件，（.so）、（.so.1）、（.so.1.0）均为软链接，都是指向（.so.1.0.0）的链接文件，为了版本控制。
只生成一个.so文件的办法：在pro文件加上 CONFIG &#43;= plugin" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2a51efcf2dfec7f73b53bf47eab7225b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T16:38:21+08:00" />
<meta property="article:modified_time" content="2024-01-08T16:38:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt在linux系统上使用技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>路径表示</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">Windows操作系统可用"\"或"/"表示路径，Unix操作系统用"/"表示路径。综合，</span></span><strong><span style="background-color:#ffffff;"><span style="color:#fe2c24;"><strong>qt最好用“/”表示</strong></span></span></strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">路径。</span></span></p> 
<p style="text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>第三方静态库和动态库</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">lib文件：（依据编译器） MSVC编译器是生成.lib 文件。 mingw编译器生成.a 文件。</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">linux平台无lib文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">dll文件：(依据平台)    windows平台是.dll 文件，unix平台是.so</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">对于windows的msvc系统，有.lib和.dll文件。配置LIBS+= 就是配置.lib文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">对于windows的mingw系统，有.a和.dll文件。配置LIBS+= 就是配置.a文件。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">对于linux系统，只有.so文件。配置LIBS+= 就是配置.so文件。</span></span></p> 
<p style="text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>第三方配置LIBS目录做法</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">LIBS += somepath 这个可以多行写，也</span></span><span style="background-color:#ffffff;">可以用“\”隔行</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>第一种办法：</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">可以用-L指定目录，-l指定库的名称（无需后缀，.lib，.a, .so都适用，这样就不用区分到底是哪种）</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">优点：windows和linux平台通用</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">如在windows msvc环境下，有bin目录下有log4qt.lib、log4qt.dll。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">P</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">ro配置文件写： </span></span><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>LIBS += -L$$PWD/../bin -llog4qt</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">实际上就是配置log4qt.lib。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">如在linux 环境下有bin目录下只有liblog4qt.so</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">P</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">ro配置文件写： </span></span><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>LIBS += -L$$PWD/../bin -llog4qt</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">实际上就是配置liblog4qt.so。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>第二种办法：</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">直接通过绝对路径和相对路径指定库的完整path（需后缀，.lib，.a, .so都适用），相对路径用$$pwd前缀，路径不允许空格。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">缺点是：在windows和linux平台不通用，各自平台需要单独配置。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">如在windows msvc环境下，有bin目录下有log4qt.lib、log4qt.dll。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">P</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">ro配置文件写： </span></span><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>LIBS += $$PWD/../bin/log4qt.lib</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">实际上就是配置log4qt.lib。</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">如在linux 环境下有bin目录下只有liblog4qt.so</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">P</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">ro配置文件写</span></span><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>： </strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>LIBS += $$PWD/../bin/</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>liblog4qt.so</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">实际上就是配置liblog4qt.so。</span></span></p> 
<p style="text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>Linux下QT生成的（.so）、（.so.1）、（.so.1.0）、（.so.1.0.0）之间的区别</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">.so</span> <span style="background-color:#ffffff;">即 linux 下的共享库（Shared library）,或称动态库</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">QT在生成动态库时，会默认生成（.so）、（.so.1）、（.so.1.0）、（.so.1.0.0）四个文件。其中，（.so.1.0.0）为实际的动态库文件，（.so）、（.so.1）、（.so.1.0）均为软链接，都是指向（.so.1.0.0）的链接文件，为了版本控制。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">只生成一个.so文件的办法：在pro文件加上 CONFIG += plugin</span></p> 
<p style="text-align:left;"><strong><span style="background-color:#ffffff;"><strong>linux 环境变量的设置</strong></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">查看：</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">export 查看环境变量</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">echo $PATH 输出某个环境变量的值</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">设置：</span></p> 
<ol><li style="text-align:left;"><span style="background-color:#ffffff;">export PATH=/home/uusama/mysql/bin:$PATH </span><span style="background-color:#ffffff;">//</span><em><span style="background-color:#faf7ef;"><span style="color:#393939;">当前终端有效，窗口关闭后无效</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">,</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">仅对当前用户有效</span></span></em></li><li style="text-align:left;"><span style="background-color:#ffffff;">.vim ~/.bashrc 添加 export PATH=/home/uusama/mysql/bin:$PATH</span><span style="background-color:#ffffff;">//</span><em><span style="background-color:#faf7ef;"><span style="color:#393939;">仅对当前用户有效</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">,</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">永久有效</span></span></em></li><li style="text-align:left;"><span style="background-color:#ffffff;">vim /etc/profile 添加 export PATH=/home/uusama/mysql/bin:$PATH　　</span><span style="background-color:#ffffff;"> //</span><em><span style="background-color:#faf7ef;"><span style="color:#393939;">对所有用户有效</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">,</span></span></em><em><span style="background-color:#faf7ef;"><span style="color:#393939;">永久有效</span></span></em></li></ol> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">环境变量生效命令: source  如source  /etc/profile  或者source  ~/.bashrc</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;">具体参考：</span><a href="https://blog.csdn.net/baidu_16370559/article/details/108077532" title="linux 环境变量的设置_linux设置环境变量命令-CSDN博客">linux 环境变量的设置_linux设置环境变量命令-CSDN博客</a></p> 
<ol><li style="text-align:left;"><strong><span style="background-color:#ffffff;"><strong>LD_LIBRARY_PATH和PATH的区别</strong></span></strong></li></ol> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">LD_LIBRARY_PATH</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">:</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">是用于</span></span><strong><span style="background-color:#ffffff;"><span style="color:#494949;"><strong>指定动态链接库（shared library）</strong></span></span></strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">的搜索路径。在执行可执行文件时，操作系统需要加载相应的共享库文件，</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">LD_LIBRARY_PATH</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">变量定义了</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">操作系统在哪里查找这些库文件</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">.</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">PATH</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">是用于指定</span></span><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>可执行文件的搜索路径</strong></span></span></strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">。当你在终端输入一个命令时，操作系统会搜索</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">PATH</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">中指定的路径，以找到与输入命令对应的可执行文件</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">.</span></span></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>LD_LIBRARY_PATH</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>的</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>具体用法：</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">如下面test程序调用</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">liblog4qt.so动态库，那么在运行test程序的电脑上，需要设置</span></span><span style="background-color:#ffffff;">LD_LIBRARY_PATH</span><span style="background-color:#ffffff;">，如可以在</span><span style="background-color:#ffffff;">.vim ~/.bashrc</span><span style="background-color:#ffffff;">上设置。</span></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>PATH</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>的</strong></span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>具体用法：</strong></span></span></strong></p> 
<p style="margin-left:.0001pt;text-align:left;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;"><strong>在</strong></span></span></strong><span style="background-color:#ffffff;">vim /etc/profile</span><span style="background-color:#ffffff;"> 中添加qt可执行文件的路径</span></p> 
<p style="margin-left:.0001pt;text-align:left;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/11a404104323f2397caec81c157f66cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue中短时间内多次点击同一个按钮会向后端发送多个请求</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/30d3073dbff8ef2ec2170261a39229cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;之优先队列（priority_queue）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>