<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python3开发笔记（简洁版） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python3开发笔记（简洁版）" />
<meta property="og:description" content="一、开发编辑器 1. pycharm 2. IDLE（Python自带软件） 方法：Microsoft Store搜索 Python 安装
二、数据类型 Python中有以下几种主要的数据类型：
数字（Numbers）、
字符串（Strings）、
布尔值（Boolean）、
空值（None）、
列表（Lists）、
元组（Tuples）、
字典（Dictionaries）、
集合（Sets）。 1. 数字（Numbers） 在Python中，number数据类型可以分为以下几种：整数、浮点数、复数。 # 整数 num1 = 42 #【注：python定义变量的方式很简单，通过变量名 = 数据，即可定义一个变量】 num2 = 0b0110 #【注：在Python中，二进制整数使用前缀0b表示】 # 浮点数 num3 = 3.14159 # 复数 num4 = 3&#43;4j 整数、浮点数可以直接进行四则运算：
# 加法 num1 = 10 num2 = 0.5 result = num1 &#43; num2 print(result) # ==&gt; 10.5 # 减法 result = num1 - num2 print(result) # ==&gt; 9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9d0e12b69709031c66cde398eb518c4a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-14T21:15:34+08:00" />
<meta property="article:modified_time" content="2023-12-14T21:15:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python3开发笔记（简洁版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、开发编辑器</h3> 
<h4><a id="1_pycharmhttpswwwjetbrainscomcnpycharm_2"></a>1. <a href="https://www.jetbrains.com.cn/pycharm/" rel="nofollow">pycharm</a></h4> 
<h4><a id="2_IDLEPython_4"></a>2. IDLE（Python自带软件）</h4> 
<p>方法：Microsoft Store搜索 Python 安装</p> 
<h3><a id="_7"></a>二、数据类型</h3> 
<blockquote> 
 <ul><li>Python中有以下几种主要的数据类型：<br> 数字（Numbers）、<br> 字符串（Strings）、<br> 布尔值（Boolean）、<br> 空值（None）、<br> 列表（Lists）、<br> 元组（Tuples）、<br> 字典（Dictionaries）、<br> 集合（Sets）。</li></ul> 
</blockquote> 
<h4><a id="1_Numbers_20"></a>1. 数字（Numbers）</h4> 
<ul><li>在Python中，number数据类型可以分为以下几种：整数、浮点数、复数。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 整数  </span>
num1 <span class="token operator">=</span> <span class="token number">42</span> <span class="token comment">#【注：python定义变量的方式很简单，通过变量名 = 数据，即可定义一个变量】</span>
num2 <span class="token operator">=</span> <span class="token number">0b0110</span> <span class="token comment">#【注：在Python中，二进制整数使用前缀0b表示】  </span>
  
<span class="token comment"># 浮点数  </span>
num3 <span class="token operator">=</span> <span class="token number">3.14159</span>  

<span class="token comment"># 复数  </span>
num4 <span class="token operator">=</span> <span class="token number">3</span><span class="token operator">+</span><span class="token number">4j</span>
</code></pre> 
<p>整数、浮点数可以直接进行四则运算：</p> 
<pre><code class="prism language-python"><span class="token comment"># 加法</span>
num1 <span class="token operator">=</span> <span class="token number">10</span> 
num2 <span class="token operator">=</span> <span class="token number">0.5</span>
result <span class="token operator">=</span> num1 <span class="token operator">+</span> num2
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 10.5</span>
<span class="token comment"># 减法</span>
result <span class="token operator">=</span> num1 <span class="token operator">-</span> num2
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 9.5</span>
<span class="token comment"># 乘法</span>
result <span class="token operator">=</span> num1 <span class="token operator">*</span> num2
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 5.0</span>
<span class="token comment"># 除法</span>
result <span class="token operator">=</span> num1 <span class="token operator">/</span> num2
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment"># ==&gt;20.0</span>
</code></pre> 
<p>取模运算</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">33</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">99</span> <span class="token operator">%</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 9</span>
</code></pre> 
<p>地板除</p> 
<ul><li>Python除了普通除法以外，还有一个特殊的除法被称为地板除，对于地板除，结果会忽略纯小数的部分，得到整数的部分，地板除使用//进行。</li></ul> 
<pre><code class="prism language-python"><span class="token number">10</span><span class="token operator">//</span><span class="token number">4</span> <span class="token comment"># ==&gt; 2</span>
<span class="token number">10</span><span class="token operator">//</span><span class="token number">2.5</span> <span class="token comment"># ==&gt; 4.0</span>
<span class="token number">10</span><span class="token operator">//</span><span class="token number">3</span> <span class="token comment"># ==&gt; 3</span>
</code></pre> 
<p>小数点位数</p> 
<ul><li>使用Python计算小数的时候，经常需要保留小数点后若干位，可以使用round()函数来处理，这里先了解round的调用方式，使用两个参数，第一个是需要保留小数点位数的数值，第二个是保留的位数。</li></ul> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 3.3333333333333335</span>
<span class="token comment"># 使用round保留两位小数</span>
<span class="token builtin">round</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 3.33</span>
</code></pre> 
<h4><a id="2_Strings_79"></a>2. 字符串（Strings）</h4> 
<pre><code class="prism language-python"><span class="token comment">#定义一个字符串str变量</span>
<span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Hello, World!"</span>

<span class="token comment"># 字符串模板</span>
template <span class="token operator">=</span> <span class="token string">'Hello {}'</span>
<span class="token comment"># 模板数据内容</span>
world <span class="token operator">=</span> <span class="token string">'World'</span>
result <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Hello World</span>

<span class="token comment">#读取字符串某个值</span>
s <span class="token operator">=</span> <span class="token string">'ABC'</span>
a <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment"># 第一个</span>
b <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># 第二个</span>
c <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># 第三个</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># ==&gt; A</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment"># ==&gt; B</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment"># ==&gt; C</span>

<span class="token comment">#字符串切片</span>
s1 <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJK'</span>
abcd <span class="token operator">=</span> s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment"># 取字符串s1中的第一个字符到第五个字符，不包括第五个字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>abcd<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ABCD</span>
</code></pre> 
<h4><a id="3_Boolean_108"></a>3. 布尔值（Boolean）</h4> 
<pre><code class="prism language-python">b1 <span class="token operator">=</span> <span class="token boolean">True</span> <span class="token comment">#【在Python中，布尔值True和False都是关键字，首字母需要大写】</span>
b2 <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token comment">#【布尔值可以用and、or和not运算（注意and,or,not都是Python语言本身的关键字）】</span>
</code></pre> 
<p>与运算：只有两个布尔值都为 True 时，计算结果才为 True。<br> 或运算：只要有一个布尔值为 True，计算结果就是 True。<br> 非运算：把True变为False，或者把False变为True：</p> 
<pre><code class="prism language-python"><span class="token comment">#举例</span>
<span class="token boolean">True</span> <span class="token keyword">and</span> <span class="token boolean">True</span> <span class="token comment"># ==&gt; True</span>
<span class="token boolean">True</span> <span class="token keyword">and</span> <span class="token boolean">False</span> <span class="token comment"># ==&gt; False</span>
<span class="token boolean">True</span> <span class="token keyword">or</span> <span class="token boolean">True</span> <span class="token comment"># ==&gt; True</span>
<span class="token boolean">True</span> <span class="token keyword">or</span> <span class="token boolean">False</span> <span class="token comment"># ==&gt; True</span>
<span class="token keyword">not</span> <span class="token boolean">True</span> <span class="token comment"># ==&gt; False</span>
<span class="token keyword">not</span> <span class="token boolean">False</span> <span class="token comment"># ==&gt; True</span>
</code></pre> 
<h4><a id="4__None_127"></a>4. 空值（None）</h4> 
<pre><code class="prism language-python"><span class="token comment"># 空值</span>
n <span class="token operator">=</span> <span class="token boolean">None</span> <span class="token comment"># 【在Python中，None表示空值，它是一个特殊的类型，叫做NoneType】</span>
</code></pre> 
<h4><a id="5_Lists_132"></a>5. 列表（Lists）</h4> 
<ul><li>列表(list)是一种有序的容器，放入list中的元素，将会按照一定顺序排列。构造list的方法非常简单，使用中括号[]把需要放在容器里面的元素括起来，就定义了一个列表。</li></ul> 
<pre><code class="prism language-python">scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span> <span class="token comment"># 注意，字符串元素仍需要引号</span>
L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">'False'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
</code></pre> 
<ul><li>列表是有序的，因此我们可以按顺序访问列表中的元素。</li></ul> 
<pre><code class="prism language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">'False'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> L<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>

<span class="token comment">#获取L中第二个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#66</span>

<span class="token comment">#使用-1来获取最后一个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#100</span>

<span class="token comment">#使用索引的方式访问列表时，一定要特别注意不要越界</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># IndexError: list index out of range</span>

<span class="token comment">#列表和字符串一样，也支持切片</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#['Alice', 66]</span>
</code></pre> 
<ul><li>向list添加新的元素</li></ul> 
<pre><code class="prism language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span>
names<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'Candy'</span><span class="token punctuation">)</span> <span class="token comment"># append()方法：追加到列表的末尾</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ['Alice', 'Bob', 'David', 'Ellena', 'Candy']</span>
names<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'LBJ'</span><span class="token punctuation">)</span> <span class="token comment"># insert()方法需要两个参数，分别是需要插入的位置，以及需要插入的元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ['Alice', 'Bob', 'LBJ', 'David', 'Ellena', 'Candy']</span>
</code></pre> 
<ul><li>从list删除元素</li></ul> 
<pre><code class="prism language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span>
name <span class="token operator">=</span> L<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># pop()方法默认删除列表的最后一个元素，并返回</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Ellena</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token comment"># ==&gt; L = ['Alice', 'Bob', 'Candy', 'David']</span>
name2 <span class="token operator">=</span> L<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># pop()还可以接收一个参数，指定需要删除的元素的位置</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token comment"># ==&gt; L = ['Alice', 'Bob', 'David']</span>
</code></pre> 
<ul><li>替换list中的元素</li></ul> 
<pre><code class="prism language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span>
L<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Canlina'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token comment"># ['Alice', 'Bob', 'Canlina', 'David', 'Ellena']</span>
</code></pre> 
<h4><a id="6_Tuples_186"></a>6. 元组（Tuples）</h4> 
<ul><li>元组(tuple)和list一样，也是一个有序容器，在元组中，同样可以包含0个或者多个元素，并且也支持索引访问、切片等操作。</li><li>定义元组的方式是使用小括号()将元组内的元素括起来。</li></ul> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">)</span>
<span class="token comment"># 通过下标的方式访问元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; Alice</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; Ellena</span>
<span class="token comment"># 切片</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; ('Bob', 'Candy')</span>
</code></pre> 
<ul><li>tuple和list不一样的是，tuple是固定不变的，一旦变成tuple，tuple中的每一个元素都不可被改变，同时也不能再往tuple中添加数据，而list是可以的。【请注意，元组的这个特性是非常重要的，在运行上tuple的性能是list的数倍。】</li></ul> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">)</span>
<span class="token comment"># 替换元素</span>
T<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Boby'</span> <span class="token comment"># TypeError: 'tuple' object does not support item assignment</span>
</code></pre> 
<ul><li>元组类型和列表类型相互转换</li></ul> 
<pre><code class="prism language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span>
T <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ('Alice', 'Bob', 'Candy', 'David', 'Ellena')</span>
L2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L2<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ['Alice', 'Bob', 'Candy', 'David', 'Ellena']</span>
</code></pre> 
<ul><li>tuple元素的其他方法</li></ul> 
<p>（1）count：用来统计tuple中某个元素出现的次数。</p> 
<pre><code class="prism language-python">
T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 1</span>

<span class="token comment">#对于不存在的元素，count方法不会报错，而是返回0，这是合理的，因为元组里面有0个不存在的元素。</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 0</span>
</code></pre> 
<p>（2）index：可以返回指定元素的下标，当一个元素多次重复出现时，则返回第一次出现的下标位置。</p> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
T<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 10</span>
T<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 8</span>
T<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 0 # 多次出现，返回第一次出现的位置</span>

<span class="token comment">#注意，index()方法和count()方法不一样，当指定的元素不存在时，使用index()方法Python会报错。</span>
T<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># 报错 ValueError: tuple.index(x): x not in tuple</span>
</code></pre> 
<ul><li>要定义只有一个元素的tuple，需要在元素后面添加一个逗号</li></ul> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token comment"># ==&gt; (1, )</span>
</code></pre> 
<ul><li>tuple的元素也可以是tuple</li></ul> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token operator">+</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 5</span>
</code></pre> 
<ul><li>对于tuple，它和list一个最大的不同点就是tuple是不可变的，tuple里面的元素，也是不可替换的。但是这针对的是仅包含基础数据类型（数字类型、布尔类型、字符串类型）的数据，对于组合数据类型，则不受这个约束。</li></ul> 
<pre><code class="prism language-python">T <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'CH'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
L <span class="token operator">=</span> T<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token comment"># ==&gt; [3, 4]</span>
<span class="token comment"># 尝试替换L中的元素</span>
L<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">40</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span> <span class="token comment"># ==&gt; [3, 40]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token comment"># ==&gt; (1, 'CH', [3, 40])</span>
</code></pre> 
<h4><a id="7_Dictionaries_262"></a>7. 字典（Dictionaries）</h4> 
<ul><li>在dict中，每一项包含一个key和一个value，key和value是一一对应的</li></ul> 
<p>（1）读取dict元素</p> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
    <span class="token string">'David'</span><span class="token punctuation">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
    <span class="token string">'Ellena'</span><span class="token punctuation">:</span> <span class="token number">49</span><span class="token punctuation">,</span>
    <span class="token string">'Gaven'</span><span class="token punctuation">:</span> <span class="token number">86</span>
<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'Bob'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 60</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 45</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'Dodo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># 报错：KeyError: 'Dodo'</span>

<span class="token comment"># get方法读取【推荐】</span>
<span class="token comment"># print(d.get('Dodo')) # ==&gt; None 【dict本身提供get方法，把key当作参数传递给get方法，</span>
<span class="token comment"># 就可以获取对应的value，当key不存在时，也不会报错，而是返回None】</span>
</code></pre> 
<p>（2）添加dict元素</p> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
    <span class="token string">'David'</span><span class="token punctuation">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
    <span class="token string">'Ellena'</span><span class="token punctuation">:</span> <span class="token number">49</span>
<span class="token punctuation">}</span>
d<span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment"># Alice存在，将被替换</span>
d<span class="token punctuation">[</span><span class="token string">'Dodo'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">88</span>
d<span class="token punctuation">[</span><span class="token string">'Mimi'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">]</span>
d<span class="token punctuation">[</span><span class="token string">'Mimi'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
</code></pre> 
<p>（3）删除dict元素</p> 
<ul><li>pop()方法需要指定需要删除的元素的key，当key不存在时，同样会引起错误。</li></ul> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
    <span class="token string">'David'</span><span class="token punctuation">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
    <span class="token string">'Ellena'</span><span class="token punctuation">:</span> <span class="token number">49</span>
<span class="token punctuation">}</span>
d<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
d<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'LBJ'</span><span class="token punctuation">)</span> <span class="token comment"># 报错 KeyError: 'LBJ'</span>
</code></pre> 
<p>（4）dict的特点</p> 
<ul><li>查找速度快</li></ul> 
<blockquote> 
 <ul><li>dict的第一个特点是查找速度快，无论dict有10个元素还是10万个元素，查找速度都一样。而list的查找速度随着元素增加而逐渐下降。</li><li>不过dict的查找速度快不是没有代价的，dict的缺点是占用内存大，还会浪费很多内容，list正好相反，占用内存小，但是查找速度慢。</li></ul> 
</blockquote> 
<ul><li>key不可变</li></ul> 
<blockquote> 
 <p>tuple是不可变的，list是可变的，因此tuple可以作为dict的key，但是list不可以作为dict的key，否则将会报错。</p> 
</blockquote> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
    <span class="token string">'David'</span><span class="token punctuation">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
    <span class="token string">'Ellena'</span><span class="token punctuation">:</span> <span class="token number">49</span>
<span class="token punctuation">}</span>
key <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># 以tuple作为key</span>
d<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment"># {'Alice': 45, 'Bob': 60, 'Candy': 75, 'David': 86, 'Ellena': 49, (1, 2, 3): True}</span>
key2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
d<span class="token punctuation">[</span>key2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span> <span class="token comment"># 报错 TypeError: unhashable type: 'list'</span>
</code></pre> 
<ul><li>遍历dict</li></ul> 
<blockquote> 
 <p>遍历dict有两种方法， 第一种是遍历dict的所有key，并通过key获得对应的value。</p> 
</blockquote> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span>
    <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token number">75</span><span class="token punctuation">,</span>
    <span class="token string">'David'</span><span class="token punctuation">:</span> <span class="token number">86</span><span class="token punctuation">,</span>
    <span class="token string">'Ellena'</span><span class="token punctuation">:</span> <span class="token number">49</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">:</span> 
    value <span class="token operator">=</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token keyword">if</span> value <span class="token operator">&gt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token comment"># ==&gt; Candy 75</span>
<span class="token comment"># ==&gt; David 86</span>
</code></pre> 
<blockquote> 
 <p>第二种方法是通过dict提供的items()方法，items()方法会返回dict中所有的元素，每个元素包含key和value。</p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> value <span class="token operator">&gt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token comment"># ==&gt; Candy 75</span>
<span class="token comment"># ==&gt; David 86</span>
</code></pre> 
<p>（5）dict的其他方法</p> 
<ul><li>获取dict的所有key</li></ul> 
<blockquote> 
 <p>dict提供keys()函数，可以返回dict中所有的key。</p> 
</blockquote> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token comment"># ==&gt; Alice</span>
<span class="token comment"># ==&gt; Bob</span>
<span class="token comment"># ==&gt; Candy</span>
</code></pre> 
<ul><li>获取dict所有的value</li></ul> 
<blockquote> 
 <p>dict提供values()函数，可以返回dict中所有的value。</p> 
</blockquote> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token comment"># ==&gt; [50, 61, 66]</span>
<span class="token comment"># ==&gt; [80, 61, 66]</span>
<span class="token comment"># ==&gt; [88, 75, 90]</span>
</code></pre> 
<ul><li>清除所有元素</li></ul> 
<blockquote> 
 <p>dict提供clear()函数，可以直接清除dict中所有的元素。</p> 
</blockquote> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'Alice'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
d<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment"># ==&gt; {}</span>
</code></pre> 
<h4><a id="8_Sets_403"></a>8. 集合（Sets）</h4> 
<ul><li>set和list类似，拥有一系列元素，但是set和list不一样，set里面的元素是不允许重复的，并且，set里面的元素是没有顺序的。</li></ul> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set([1, 2, 3, 4, 5])</span>
</code></pre> 
<p>（1）读取set元素</p> 
<blockquote> 
 <p>由于set里面的元素是没有顺序的，因此我们不能像list那样通过索引来访问。访问set中的某个元素实际上就是判断一个元素是否在set中，这个时候我们可以使用in来判断某个元素是否在set中。</p> 
</blockquote> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">in</span> s<span class="token punctuation">)</span> <span class="token comment">#True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token keyword">in</span> s<span class="token punctuation">)</span> <span class="token comment">#False</span>
</code></pre> 
<p>（2）添加set元素</p> 
<pre><code class="prism language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token string">'David'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">]</span>
name_set <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>
name_set<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'Gina'</span><span class="token punctuation">)</span> <span class="token comment">#add：逐个添加</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name_set<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set(['Gina', 'Alice', 'Candy', 'David', 'Ellena', 'Bob'])</span>

new_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hally'</span><span class="token punctuation">,</span> <span class="token string">'Isen'</span><span class="token punctuation">,</span> <span class="token string">'Jenny'</span><span class="token punctuation">,</span> <span class="token string">'Karl'</span><span class="token punctuation">]</span>
name_set<span class="token punctuation">.</span>update<span class="token punctuation">(</span>new_names<span class="token punctuation">)</span> <span class="token comment">#update：批量添加</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name_set<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set(['Gina', 'Karl', 'Bob', 'Hally', 'Jenny', 'Alice', 'David', 'Isen', 'Ellena', 'Candy'])</span>
</code></pre> 
<p>（3）删除set元素</p> 
<blockquote> 
 <p>set提供了remove()方法允许我们删除set中的元素。如果remove的元素不在set里面的话，那么将会引发错误。</p> 
</blockquote> 
<pre><code class="prism language-python">name_set <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Jenny'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
name_set<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'Jenny'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name_set<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set(['Ellena', 'Alice'])</span>
</code></pre> 
<p>（4）set的其他方法</p> 
<ul><li>不会报错的删除方法discard()</li></ul> 
<pre><code class="prism language-python">name_set <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Jenny'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
name_set<span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token string">'LBJ'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name_set<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set(['Jenny','Ellena', 'Alice'])</span>
</code></pre> 
<ul><li>清除所有元素的方法clear()</li></ul> 
<blockquote> 
 <p>和dict一样，set也提供了clear()方法，可以快速清除set中的所有元素。</p> 
</blockquote> 
<pre><code class="prism language-python">name_set <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Jenny'</span><span class="token punctuation">,</span> <span class="token string">'Ellena'</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
name_set<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name_set<span class="token punctuation">)</span> <span class="token comment"># ==&gt; set([])</span>
</code></pre> 
<ul><li>集合的子集和超集</li></ul> 
<blockquote> 
 <p>set提供方法判断两个set之间的关系，比如两个集合set，判断其中一个set是否为另外一个set的子集或者超集。</p> 
</blockquote> 
<pre><code class="prism language-python">s1 <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 判断s1是否为s2的子集</span>
s1<span class="token punctuation">.</span>issubset<span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment"># ==&gt; True</span>
<span class="token comment"># 判断s2是否为s1的超集</span>
s2<span class="token punctuation">.</span>issuperset<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment"># ==&gt; True</span>
</code></pre> 
<ul><li>判断集合是否重合</li></ul> 
<blockquote> 
 <p>isdisjoint：用于检查两个集合是否完全独立，即它们没有任何共同的元素。</p> 
</blockquote> 
<pre><code class="prism language-python">set1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>  
set2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span>isdisjoint<span class="token punctuation">(</span>set2<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：True  </span>
  
set3 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>set1<span class="token punctuation">.</span>isdisjoint<span class="token punctuation">(</span>set3<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：False</span>

</code></pre> 
<hr> 
<p><strong>【扩展】：使用type，可以区分不同的数据类型</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">3.1415926</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token string">'Learn Python in imooc.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token number">0b1101</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
结果：
&lt;class 'float'&gt;
&lt;class 'str'&gt;
&lt;class 'int'&gt;
&lt;class 'int'&gt;
&lt;class 'list'&gt;
'''</span>
</code></pre> 
<h3><a id="_502"></a>三、循环控制语句</h3> 
<h4><a id="1_ifelse_503"></a>1. if-else相关：</h4> 
<pre><code class="prism language-python">score <span class="token operator">=</span> <span class="token number">59</span>
<span class="token keyword">if</span> score <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'抱歉，考试不及格'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">90</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，拿到卓越的成绩'</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> score <span class="token operator">&gt;=</span> <span class="token number">80</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，拿到优秀的成绩'</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，考试及格'</span><span class="token punctuation">)</span>
</code></pre> 
<p>可以使用if-elif-else语句来简化以上的逻辑。其中elif就是else if的意思。</p> 
<pre><code class="prism language-python">score <span class="token operator">=</span> <span class="token number">59</span>
<span class="token keyword">if</span> score <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'抱歉，考试不及格'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> score <span class="token operator">&gt;=</span> <span class="token number">90</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，拿到卓越的成绩'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> score <span class="token operator">&gt;=</span> <span class="token number">80</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，拿到优秀的成绩'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'恭喜你，考试及格'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2_for_530"></a>2. for循环</h4> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">'ABCD'</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> s<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment"># 注意缩进</span>
</code></pre> 
<h4><a id="3_while_537"></a>3. while循环</h4> 
<ul><li>计算1~100的和</li></ul> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> num <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">:</span>
    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token operator">+</span> num <span class="token comment"># 注意缩进</span>
    num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment"># 注意缩进</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 5050</span>
</code></pre> 
<ul><li>计算0~1000以内，所有偶数的和</li></ul> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> num <span class="token operator">&gt;</span> <span class="token number">1000</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
    <span class="token keyword">if</span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token operator">+</span> num
    num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span> <span class="token comment"># 250500</span>
</code></pre> 
<ul><li>输出字符串s中第10个以后的字符</li></ul> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span>
num <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">for</span> ch <span class="token keyword">in</span> s<span class="token punctuation">:</span>
    <span class="token keyword">if</span> num <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>
        num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">continue</span> <span class="token comment"># 当num &lt; 10时，跳过后续循环代码，继续下一次for循环</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>
    num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
</code></pre> 
<h4><a id="4__573"></a>4. 嵌套循环</h4> 
<pre><code class="prism language-python">s1 <span class="token operator">=</span> <span class="token string">'ABC'</span>
s2 <span class="token operator">=</span> <span class="token string">'123'</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> s1<span class="token punctuation">:</span>
    <span class="token keyword">for</span> y <span class="token keyword">in</span> s2<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''
结果：
A1
A2
A3
B1
B2
B3
C1
C2
C3
'''</span>
</code></pre> 
<h3><a id="_595"></a>四、函数</h3> 
<h4><a id="1__596"></a>1. 定义函数</h4> 
<ul><li>在Python中，定义一个函数要使用 def 语句，依次写出函数名、括号()、括号中的参数和冒号:，然后，在缩进块中编写函数体，函数的返回值用 return 语句返回。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> x <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span>x
result <span class="token operator">=</span> fn<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2__609"></a>2. 递归函数</h4> 
<ul><li>计算n的阶乘</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">fact</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">return</span> n <span class="token operator">*</span> fact<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
res <span class="token operator">=</span> fact<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">#120</span>
</code></pre> 
<p>我们可以拆解fact(5)计算的详细逻辑:</p> 
<blockquote> 
 <p>===&gt; fact(5)<br> ===&gt; 5 * fact(4)<br> ===&gt; 5 * (4 * fact(3))<br> ===&gt; 5 * (4 * (3 * fact(2)))<br> ===&gt; 5 * (4 * (3 * (2 * fact(1))))<br> ===&gt; 5 * (4 * (3 * (2 * 1)))<br> ===&gt; 5 * (4 * (3 * 2))<br> ===&gt; 5 * (4 * 6)<br> ===&gt; 5 * 24<br> ===&gt; 120</p> 
</blockquote> 
<h3><a id="_634"></a>五、面向对象编程</h3> 
<h4><a id="1__635"></a>1. 类的定义与实例化</h4> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">pass</span>
xiaohong <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
xiaoming <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>在Python中，pass是一个空操作语句，意思是什么都不做。pass常常用在定义一个空的类、函数、循环或条件语句等场合。</p> </li><li> <p>在以上的代码中，pass不能删除。pass是Python语法的一部分，用于定义一个空的类（如Person）。如果删除pass，Python解释器会报错，因为这不符合Python的语法规则。</p> </li><li> <p>当你创建类的实例时，如xiaohong = Person()和xiaoming = Person()，你实际上是在调用Person类的构造方法（如果定义了的话），然后创建了两个新的Person对象。这些对象是独立的，它们的属性不会互相影响。</p> </li><li> <p>如果你删除pass，你需要在类中定义一个构造方法（使用__init__方法），并在这个构造方法中初始化你想要的属性。例如：</p> </li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
xiaoming <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Xiao Ming'</span><span class="token punctuation">,</span> <span class="token string">'boy'</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
xiaohong <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Xiao Hong'</span><span class="token punctuation">,</span> <span class="token string">'girl'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xiaohong<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># Xiao Hong</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xiaohong<span class="token punctuation">.</span>sex<span class="token punctuation">)</span> <span class="token comment"># girl</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xiaohong<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment"># 14</span>
<span class="token comment"># 但当访问不存在的属性时，依然会报错</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>xiaohong<span class="token punctuation">.</span>birth<span class="token punctuation">)</span>
</code></pre> 
<ul><li>以上需要注意的是，<strong><strong>init</strong>() 方法的第一个参数必须是 self</strong>（此处self不能省略，self 也可以用别的名字，但建议使用习惯用法），后续参数则可以自由指定，和定义函数没有任何区别。定义类后，就可以相应的实例化对象了，需要注意的是，在实例化的时候，需要提供除self以外的所有参数。</li></ul> 
<h4><a id="2__665"></a>2. 类属性</h4> 
<p>在前面，实例对象绑定的属性只属于这个实例，绑定在一个实例上的属性不会影响其它实例；同样的，类也可以绑定属性，但是类的属性不属于任何一个对象，而是属于这个类。如果在类上绑定一个属性，则所有实例都可以访问类的属性，并且，所有实例访问的类属性都是同一个！也就是说，<strong>实例属性每个实例各自拥有，互相独立，而类属性有且只有一份。</strong></p> 
<p>定义类属性可以直接在 class 中定义，比如在Animal类中，加入地域的类属性：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    localtion <span class="token operator">=</span> <span class="token string">'Asia'</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
</code></pre> 
<p>在上面的代码中，localtion就是属于Animal这个类的类属性，此后，通过Animal()实例化的所有对象，都可以访问到localtion，并且得到唯一的结果。</p> 
<pre><code class="prism language-python">dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'wangwang'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
cat <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'mimi'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
<span class="token comment"># 类属性，也可以通过类名直接访问</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
</code></pre> 
<p>类属性也是可以动态添加和修改的，需要注意的是，因为类属性只有一份，所以改变了，所有实例可以访问到的类属性都会变更：</p> 
<pre><code class="prism language-python">Animal<span class="token punctuation">.</span>localtion <span class="token operator">=</span> <span class="token string">'Africa'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt;Africa</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt;Africa</span>
</code></pre> 
<ul><li>案例：请给 Animal类添加一个类属性 count，每创建一个实例，count 属性就加 1，这样就可以统计出一共创建了多少个 Animal的实例。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Animal<span class="token punctuation">.</span>count<span class="token operator">+=</span><span class="token number">1</span> <span class="token comment"># 每创建一个实例，count 属性就加 1</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'dog'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
cat <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">#2</span>
</code></pre> 
<h4><a id="3__707"></a>3. 类属性和实例属性的优先级</h4> 
<p>可以看到，属性可以分为类属性和实例属性，那么问题就来了，如果类属性和实例属性名字相同时，会怎么样？</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    localtion <span class="token operator">=</span> <span class="token string">'Asia'</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> localtion<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>localtion <span class="token operator">=</span> localtion
dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'wangwang'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'GuangDong'</span><span class="token punctuation">)</span>
cat <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'mimi'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'ChongQing'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; GuangDong</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; ChongQing</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
</code></pre> 
<p>可见，在类属性和实例属性同时存在的情况下，实例属性的优先级是要高于类属性的，在操作实例的时候，优先是操作实例的属性。</p> 
<p>那通过实例，可不可以修改类属性呢？我们来尝试一下：</p> 
<pre><code class="prism language-python">cat<span class="token punctuation">.</span>localtion <span class="token operator">=</span> <span class="token string">'Africa'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
</code></pre> 
<p>这里依然打印了Asia，可见通过实例是无法修改类的属性的，事实上，通过实例方法修改类属性，只是给实例绑定了一个对应的实例属性：</p> 
<pre><code class="prism language-python">​<span class="token comment"># 新增的实例属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>localtion<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Africa</span>
</code></pre> 
<p>因此，需要特别注意，尽量不要通过实例来修改类属性，否则很容易引发意想不到的错误。</p> 
<h4><a id="4__739"></a>4. 属性访问限制</h4> 
<p>并不是所有的属性都可以被外部访问的，这种不能被外部访问的属性称为私有属性。<strong>私有属性是以双下划线’_ _'开头的属性。</strong></p> 
<ul><li>类私有属性</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __localtion <span class="token operator">=</span> <span class="token string">'Asia'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>__localtion<span class="token punctuation">)</span> <span class="token comment"># 报错 AttributeError: type object 'Animal' has no attribute '__localtion'</span>
</code></pre> 
<ul><li>实例私有属性</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> localtion<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>__localtion <span class="token operator">=</span> localtion

dog <span class="token operator">=</span> Animal<span class="token punctuation">(</span><span class="token string">'wangwang'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'GuangDong'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># ==&gt; wangwang</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>__localtion<span class="token punctuation">)</span> <span class="token comment"># 报错 AttributeError: 'Animal' object has no attribute '__localtion'</span>
</code></pre> 
<p>在外部访问私有属性将会抛出异常，提示没有这个属性。虽然私有属性无法从外部访问，但是，从类的内部是可以访问的。私有属性是为了保护类或实例属性不被外部污染而设计的。</p> 
<h4><a id="5__765"></a>5. 定义实例方法</h4> 
<p>前面提到，私有属性没有办法从外部访问，只能在类的内部操作；那如果外部需要操作私有属性怎么办？这个时候可以通过定义类或者实例的方法来操作私有属性。</p> 
<p><strong>实例的方法指的就是在类中定义的函数，实例方法的第一个参数永远都是self</strong>，self是一个引用，指向调用该方法的实例对象本身，除此以外，其他参数和普通函数是完全一样的。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">get_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__name
</code></pre> 
<p>在上面的定义，name是实例的私有属性，从外部是无法访问的，而get_name(self) 就是一个实例方法，在实例方法里面是可以操作私有属性的，注意，它的第一个参数是self。</p> 
<p>另外，<strong>init</strong>(self, name)其实也可看做是一个特殊的实例方法。通过定义get_name(self)方法，在外部就可以通过这个方法访问私有属性了。</p> 
<pre><code class="prism language-python">​p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>get_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; Alice</span>
</code></pre> 
<h4><a id="6__787"></a>6. 定义类方法</h4> 
<p>为了操作实例对象的私有属性，我们定义了实例方法；同样的，如果需要需要操作类的私有属性，则应该定义类的方法。默认的，在class中定义的全部是实例方法，实例方法第一个参数 self 是实例本身。</p> 
<p>要在class中定义类方法，需要这么写：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __localtion <span class="token operator">=</span> <span class="token string">'Asia'</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">set_localtion</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> localtion<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cls<span class="token punctuation">.</span>__localtion <span class="token operator">=</span> localtion

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">get_localtion</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>__localtion

<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>get_localtion<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; Asia</span>
Animal<span class="token punctuation">.</span>set_localtion<span class="token punctuation">(</span><span class="token string">'Afica'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Animal<span class="token punctuation">.</span>get_localtion<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; Africa</span>
</code></pre> 
<p><strong>和实例方法不同的是，这里有两点需要特别注意：</strong></p> 
<ul><li><mark>类方法需要使用@classmethod来标记为类方法，否则定义的还是实例方法</mark></li><li><mark>类方法的第一个参数将传入类本身，通常将参数名命名为 cls</mark>，上面的 cls.__localtion 实际上相当于Animal.__localtion。</li></ul> 
<h3><a id="_816"></a>六、类的继承</h3> 
<h4><a id="1__817"></a>1. 继承类</h4> 
<p>对人类的抽象可以定义为Person类，而学生、老师等，也都是人类，所以，在Python当中，如果定义学生Student的类，可以继承Person类。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
</code></pre> 
<p>接着定义Student类，在定义Student类的时候，由于继承了Person类，所以Student类自动拥有name、gender属性，因此，在定义Student类的时候，只需要把额外的属性加上即可。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'girl'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># ==&gt; Alice</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>gender<span class="token punctuation">)</span> <span class="token comment"># ==&gt; girl</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token comment"># ==&gt; 100</span>
</code></pre> 
<p>在定义继承类的时候，有两点是需要【<strong>注意</strong>】的：</p> 
<ul><li>class Student()定义的时候，需要在括号内写明继承的类Person</li><li>在__init__()方法，需要调用super(Student, self).<strong>init</strong>(name, gender)，来初始化从父类继承过来的属性</li></ul> 
<h4><a id="2_843"></a>2.判断类型</h4> 
<p>随着我们学习步伐的前进，我们的程序会出现越来越多的类型，有我们自己定义的类，也有Python自有的str、list、dict等，他们的本质都是都是Python中的一种数据类型，这时有必要去判断数据的类型，通过函数<strong>isinstance()可以判断一个变量的类型</strong>。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

<span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Teacher<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>course <span class="token operator">=</span> course

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Tim'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> Teacher<span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Female'</span><span class="token punctuation">,</span> <span class="token string">'English'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True,p是Person类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> Student<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># False,p不是Student类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> Teacher<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># False,p不是Teacher类型</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#True,s是Person类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> Student<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#True,s是Student类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> Teacher<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#False,s不是Teacher类型</span>
</code></pre> 
<p>s 是Student类型，不是Teacher类型，这很容易理解。但是，s 也是Person类型，因为Student继承自Person，虽然它比Person多了一些属性和方法，但是，把 s 看成Person的实例也是可以的。</p> 
<p>这说明在一条继承链上，一个实例可以看成它本身的类型，也可以看成它父类的类型。</p> 
<p>isinstance也可以用于Python自有数据类型的判断。</p> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">'this is a string.'</span>
n <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; False</span>
</code></pre> 
<h4><a id="3_885"></a>3.多态</h4> 
<p>类具有继承关系，并且子类类型可以向上转型看做父类类型，如果我们从 Person 派生出 Student和Teacher ，并都写了一个who() 方法：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'I am a Person, my name is %s'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Student<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'I am a Student, my name is %s'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name

<span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> course<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Teacher<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>course <span class="token operator">=</span> course
    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'I am a Teacher, my name is %s'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name
<span class="token keyword">class</span> <span class="token class-name">Boss</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span>company<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>Boss<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> gender<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>company <span class="token operator">=</span> company

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'Tim'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> Teacher<span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Female'</span><span class="token punctuation">,</span> <span class="token string">'English'</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> Boss<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token string">'Alibaba'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># I am a Person, my name is Tim</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># I am a Student, my name is Bob</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># I am a Teacher, my name is Alice</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; I am a Person, my name is Bob</span>
</code></pre> 
<p>这种行为称为多态。从定义上来讲，Student和Teacher都拥有来自父类Person继承的who()方法，以及自己定义的who()方法。但是在实际调用的时候，会首先查找自身的定义，如果自身有定义，则优先使用自己定义的函数；如果没有定义，则顺着继承链向上找。</p> 
<h3><a id="_924"></a>七、类的特殊方法</h3> 
<h4><a id="1___str___925"></a>1. 类的__str__方法</h4> 
<p>对于Python的内建对象，比如int、dict、list等，通过str()方法，可以把这些对象转换为字符串对象输出。</p> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token number">12</span>
<span class="token builtin">str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment"># ==&gt; '12'</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
<span class="token builtin">str</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment"># ==&gt; '{1: 1, 2: 2}'</span>
l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token builtin">str</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token comment"># ==&gt; '[1, 2, 3, 4, 5]'</span>
</code></pre> 
<h4><a id="2___slots___937"></a>2. 类的__slots__方法</h4> 
<p>由于Python是动态语言，任何实例在运行期都可以动态地添加属性。比如：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
</code></pre> 
<p>此时，Student类有三个属性，name、gender、score，由于是动态语言，在运行时，可以随意添加属性。</p> 
<pre><code class="prism language-python">student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span> <span class="token comment"># ==&gt; 动态添加年龄age属性</span>
</code></pre> 
<p>如果要限制添加的属性，例如，Student类只允许添加 name、gender和score 这3个属性，就可以利用Python的一个特殊的__slots__来实现。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'gender'</span><span class="token punctuation">,</span> <span class="token string">'score'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
student <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Male'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span>
student<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span> <span class="token comment"># AttributeError: 'Student' object has no attribute 'age'</span>
</code></pre> 
<h4><a id="3__966"></a>3. 类的其他方法</h4> 
<p>在Python中，类似于__str__方法的特殊方法还有很多。这些特殊方法通常被称为“魔法方法”或“双下划线方法”。比如：</p> 
<blockquote> 
 <ul><li><strong>repr</strong>：返回一个对象的“官方”字符串表示形式。与__str__不同，__repr__的返回值应该是一个精确的、无歧义的字符串表示形式，用于调试和开发。</li><li><strong>eq</strong>：定义对象的相等性比较操作（例如obj1 == obj2）。该方法应返回一个布尔值，表示两个对象是否相等。</li><li><strong>iter</strong>：使对象成为可迭代的。该方法应返回一个迭代器对象，用于遍历对象的元素。</li><li><strong>getitem</strong>：使得对象支持下标操作（例如obj[index]）。该方法用于获取指定索引处的元素。</li><li><strong>setitem</strong>：使得对象支持下标赋值操作（例如obj[index] = value）。该方法用于设置指定索引处的元素值。</li><li><strong>delitem</strong>：使得对象支持下标删除操作（例如del obj[index]）。该方法用于删除指定索引处的元素。</li></ul> 
</blockquote> 
<h3><a id="_975"></a>八、模块</h3> 
<h4><a id="1__976"></a>1. 创建模块</h4> 
<p>Python语言本身提供了非常多的模块，比如数学模块math、cmath、decimal、statistics；文件模块pathlib、stat、shutil等；除了使用官方模块，有时候也需要自定义模块。</p> 
<p>如果我们需要创建一个tools模块，用来实现众多的工具函数，那么我们可以创建一个tools.py的文件，并在这个文件里面实现一些函数，如：say_hello()函数、say_goodbye()函数。</p> 
<pre><code class="prism language-python"><span class="token comment"># tools.py</span>
<span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">say_goodbye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'goodbye'</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2__989"></a>2. 导入模块</h4> 
<h5><a id="1_990"></a>（1）导入官方模块</h5> 
<p>Python使用import语句导入一个模块，导入官方模块，不需要考虑路径的问题，例如，导入系统自带的模块 math，直接导入即可。</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> math
</code></pre> 
<p>导入以后，你就可以认为math是一个指向已导入模块的变量，通过该变量，我们可以访问math模块中所定义的所有公开的函数、变量和类：</p> 
<pre><code class="prism language-python"><span class="token comment"># 属性：圆周率</span>
<span class="token keyword">import</span> math
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span> <span class="token comment"># 3.141592653589793</span>

<span class="token comment"># 函数：次方</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 8.0</span>
</code></pre> 
<p>如果希望导入模块的指定部分属性或函数，那么使用from…import…语句。</p> 
<pre><code class="prism language-python"><span class="token comment"># 属性：圆周率</span>
<span class="token keyword">from</span> math <span class="token keyword">import</span> pi
<span class="token keyword">print</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span> <span class="token comment"># 3.141592653589793</span>
</code></pre> 
<p>这个时候，由于pow()函数没有导入，所以是不能使用pow()函数的。如果希望导入模块里面的所有内容，那么使用from …import *语句。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> math <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pi<span class="token punctuation">)</span> <span class="token comment"># 3.141592653589793</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 8.0</span>
</code></pre> 
<p>如果从一个模块导入函数，有可能会遇到导入的函数与本文件的函数冲突的情况。例如：本文件定义了一个pow()函数，同时从math模块也导入了一个pow()函数，这种情况下就会引起冲突；事实上，这种冲突的情况经常发生。</p> 
<p>有两种方法可以解决这个问题，第一种是直接导入模块，不指定导入模块里面的具体内容；第二种方法就是使用from … import as …语句，as类似重命名，可以把导入的函数或属性重命名为别的名字。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> math <span class="token keyword">import</span> <span class="token builtin">pow</span> <span class="token keyword">as</span> mathpow
<span class="token keyword">print</span><span class="token punctuation">(</span>mathpow<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 8.0</span>
</code></pre> 
<h5><a id="2_1028"></a>（2）导入自定义模块</h5> 
<p>在pycharm中，创建了demo.py模块如下：</p> 
<pre><code class="prism language-python"><span class="token comment"># demo.py模块</span>
<span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'say_hello'</span><span class="token punctuation">)</span>
</code></pre> 
<p>假如想要在demo2模块中导入demo模块，但不知道demo在哪个文件夹目录下，此时有2种方法：</p> 
<ul><li><strong>使用__file__属性</strong>：这个属性可以返回模块文件的路径。但是，这个方法并不总是有效，特别是当模块是内置的或者是在某种特殊的环境中加载的时候。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> demo
<span class="token keyword">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>__file__<span class="token punctuation">)</span> <span class="token comment"># E:\myProject\python_project\pythonProject\demo.py</span>
</code></pre> 
<ul><li><strong>使用os模块的path.abspath()函数</strong>：可以返回给定文件或目录的绝对路径。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os
<span class="token keyword">import</span> demo
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span>demo<span class="token punctuation">.</span>__file__<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># E:\myProject\python_project\pythonProject\demo.py</span>
</code></pre> 
<p>这样，我们得到demo.py模块的路径后，就可以再demo2进行导入使用了：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
sys<span class="token punctuation">.</span>path<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'E:\\myProject\\python_project\\pythonProject'</span><span class="token punctuation">)</span> <span class="token comment"># 添加模块demo所在的目录到系统路径中 </span>
<span class="token keyword">import</span> demo
demo<span class="token punctuation">.</span>say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_1058"></a>九、输入内容</h3> 
<p>到目前为止，我们编写的程序都是直接运行的，在运行过程中并没有接收程序外部的输入。</p> 
<p>如果想向Python程序输入内容，使用input()函数即可接收外部的输入。如：</p> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'please input number: '</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>IDLE运行，效果如下：<br> <img src="https://images2.imgbox.com/2f/85/FJe2o6F2_o.png" alt="在这里插入图片描述"><br> <strong>注意</strong>：input()函数中，输入的是字符串，有时候需要转型为数字类型，否则会报错。例如：</p> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">'please input number: '</span><span class="token punctuation">)</span>
num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment">#不转为整形，下面代码将无法运行</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_1078"></a>十、函数式编程</h3> 
<h4><a id="1_map_1079"></a>1. map()</h4> 
<p>map()是 Python 内置的高阶函数，它接收一个函数 f 和一个 list，并通过把函数 f依次作用在list的每个元素上，map()函数会返回一个迭代器，可以依次迭代得到原来list的元素被函数f处理后的结果。</p> 
<p>例如，对于list [1, 2, 3, 4, 5, 6, 7, 8, 9]。<br> 如果希望把list的每个元素都作平方，就可以利用map()函数。</p> 
<p>我们定义需要传入函数f(x)=x*x，就可以利用map()函数完成这个计算：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x<span class="token operator">*</span>x

<span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token builtin">map</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> 
<span class="token comment"># 结果：[1, 4, 9, 10, 25, 36, 49, 64, 81]</span>
</code></pre> 
<h4><a id="2_reduce_1095"></a>2. reduce()</h4> 
<p>和map函数一样，reduce()函数也是Python内置的一个高阶函数。reduce()函数接收的参数和 map() 类似，一个函数 f，一个list，但行为和 map()不同，reduce()传入的函数 f 必须接收两个参数，reduce()对list的每个元素反复调用函数f，并返回最终结果值。</p> 
<p>例如，编写一个f函数，接收x和y，返回x和y的和：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>

<span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 25</span>
</code></pre> 
<p>得到的结果是25，实际过程是这样的，reduce()函数会做如下计算：</p> 
<blockquote> 
 <p>先计算头两个元素：f(1, 3)，结果为4；<br> 再把结果和第3个元素计算：f(4, 5)，结果为9；<br> 再把结果和第4个元素计算：f(9, 7)，结果为16；<br> 再把结果和第5个元素计算：f(16, 9)，结果为25；<br> 由于没有更多的元素了，计算结束，返回结果25。</p> 
</blockquote> 
<p>上述计算实际上是对 list 的所有元素求和。虽然Python内置了求和函数sum()，但是，利用reduce()求和也很简单。<br> reduce()还可以接收第3个可选参数，作为计算的初始值。如果把初始值设为100，计算：</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; 125</span>
</code></pre> 
<p>结果将变为125，因为第一轮计算是：</p> 
<p>计算初始值和第一个元素：f(100, 1)，结果为101。</p> 
<h4><a id="3_filter_1126"></a>3. filter()</h4> 
<p>filter()函数是 Python 内置的另一个有用的高阶函数，filter()函数接收一个函数 f 和一个list，这个函数 f 的作用是对每个元素进行判断，返回 True或 False，filter()根据判断结果自动过滤掉不符合条件的元素，并返回一个迭代器，可以迭代出所有符合条件的元素。</p> 
<p>例如，要从一个list [1, 4, 6, 7, 9, 12, 17]中删除偶数，保留奇数，首先，要编写一个判断奇数的函数：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">is_odd</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="4_sorted_1137"></a>4. sorted()</h4> 
<p>Python内置的 sorted()函数可对list进行排序：</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">]</span>
</code></pre> 
<p>可以看到，sorted()函数，默认是由小到大排序列表的元素。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>当list的每一个元素又是一个容器时，则会以第一个元素来排序，比如在score中，每个元素都是包含名字和成绩的一个tuple，sorted()函数则按名字首字母进行了排序并返回。</p> 
<p>对于上述排序成绩的情况，默认是按照第一个名字进行排序的，有没有办法让sorted()函数按照成绩来进行排序呢？</p> 
<p>如果需要按照成绩高低进行排序，需要指定排序的字段是成绩，sorted接受key参数，用来指定排序的字段，key的值是一个函数，接受待排序列表的元素作为参数，并返回对应需要排序的字段。因此，sorted()函数也是高阶函数。</p> 
<pre><code class="prism language-python">score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Candy'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">def</span> <span class="token function">k</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># ==&gt; 按成绩排序，成绩是第二个字段</span>

new_socre <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>score<span class="token punctuation">,</span> key<span class="token operator">=</span>k<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_socre<span class="token punctuation">)</span> <span class="token comment"># [('Bob', 62), ('Alice', 72), ('Candy', 90)]</span>

<span class="token comment"># 如果需要倒序，指定reverse参数即可</span>
new_socre2 <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>score<span class="token punctuation">,</span> key<span class="token operator">=</span>k<span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_socre2<span class="token punctuation">)</span> <span class="token comment"># [('Candy', 90), ('Alice', 72), ('Bob', 62)] </span>
</code></pre> 
<h4><a id="5_range_1169"></a>5. range()</h4> 
<p>在 Python 中，range 是一个用于生成一系列整数的函数。它可以接受一个、两个或三个参数，返回一个表示等差整数序列的可迭代对象。</p> 
<p>range 的基本语法是：</p> 
<pre><code class="prism language-python"><span class="token builtin">range</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span>
<span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">)</span>
<span class="token builtin">range</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">,</span> step<span class="token punctuation">)</span>
</code></pre> 
<ul><li>start: 序列的起始值，默认为0。</li><li>stop: 序列的结束值，但不包括该值。</li><li>step: 步长（增量），表示连续数字之间的差。默认为1。</li></ul> 
<p><mark>range 生成的序列是左闭右开的，即包括起始值，但不包括结束值。</mark></p> 
<p>++ 只有一个参数 (stop)：</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token comment"># 0</span>
<span class="token comment"># 1</span>
<span class="token comment"># 2</span>
<span class="token comment"># 3</span>
<span class="token comment"># 4</span>
</code></pre> 
<p>++ 两个参数 (start, stop)：</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token comment"># 2</span>
<span class="token comment"># 3</span>
<span class="token comment"># 4</span>
<span class="token comment"># 5</span>
<span class="token comment"># 6</span>
<span class="token comment"># 7</span>
</code></pre> 
<p>++ 三个参数 (start, stop, step)：</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token comment"># 1</span>
<span class="token comment"># 3</span>
<span class="token comment"># 5</span>
<span class="token comment"># 7</span>
<span class="token comment"># 9</span>
</code></pre> 
<p>range 还可以用于创建一个列表：</p> 
<pre><code class="prism language-python">my_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span> <span class="token comment"># [5, 8, 11, 14, 17]</span>
</code></pre> 
<p>案例：找出1到20内的所有质数</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 起始值为2，对于范围在2到20的每一个数字</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 对于从2到num-1的每一个数字</span>
        <span class="token keyword">if</span> num <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 如果num能被i整除</span>
            <span class="token keyword">break</span>  <span class="token comment"># 退出内层循环，说明num不是质数</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 如果内层循环完整执行（即未中断），则说明num是质数，打印输出</span>
<span class="token comment"># 结果：2、3、5、7、11、13、17、19</span>
</code></pre> 
<h4><a id="6__1238"></a>6. 闭包</h4> 
<p>在函数内部定义的函数和外部定义的函数是一样的，只是他们无法被外部访问：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'g()...'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f()...'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> g
f<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; f()...</span>
</code></pre> 
<p>将g的定义移入函数 f 内部，防止其他代码调用 g：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'f()...'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'g()...'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> g
f<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># ==&gt; f()...</span>
</code></pre> 
<p>假如，有这么一个 calc_sum 函数：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">calc_sum</span><span class="token punctuation">(</span>list_<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lazy_sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>list_<span class="token punctuation">)</span>
    <span class="token keyword">return</span> lazy_sum
</code></pre> 
<p>注意: 发现没法把 lazy_sum 移到 calc_sum 的外部，因为它引用了 calc_sum 的参数 list_。</p> 
<p>像这种内层函数引用了外层函数的变量（参数也算变量），然后返回内层函数的情况，称为闭包（Closure）。</p> 
<p>闭包的特点是返回的函数还引用了外层函数的局部变量，所以，要正确使用闭包，就要确保引用的局部变量在函数返回后不能变。举例如下：</p> 
<pre><code class="prism language-python"><span class="token comment"># 希望一次返回3个函数，分别计算1x1,2x2,3x3:</span>
<span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
             <span class="token keyword">return</span> i<span class="token operator">*</span>i
        fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">return</span> fs

f1<span class="token punctuation">,</span> f2<span class="token punctuation">,</span> f3 <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#9 【因为f1现在才计算i*i，但现在i的值已经变为3】</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#9</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#9</span>
</code></pre> 
<p>你可能认为调用f1()，f2()和f3()结果应该是1，4，9，但实际结果全部都是 9（请自己动手验证）。</p> 
<p>原因就是当count()函数返回了3个函数时，这3个函数所引用的变量 i 的值已经变成了3。由于f1、f2、f3并没有被调用，所以，此时他们并未计算 i*i，当 f1 被调用时，i的值已经变为3。</p> 
<p>因此，返回函数不要引用任何循环变量，或者后续会发生变化的变量。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/afb40b101495fa83fd592b907c8f1c88/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大模型应用_PrivateGPT</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/828fc75812cf4819fd03e27746734083/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">12.14打卡</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>