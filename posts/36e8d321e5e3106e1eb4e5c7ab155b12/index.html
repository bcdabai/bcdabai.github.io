<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python web实战 | 用 Flask 框架快速构建 Web 应用【实战】 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python web实战 | 用 Flask 框架快速构建 Web 应用【实战】" />
<meta property="og:description" content="概要 Python web 开发已经有了相当长的历史，从最早的 CGI 脚本到现在的全栈 Web 框架，现在已经成为了一种非常流行的方式。
Python 最早被用于 Web 开发是在 1995 年（90年代早期），当时使用 CGI 脚本编写动态 Web 页面。2004 年 Django 框架发布，它是一个高度模块化的框架，提供了许多开箱即用的功能，使得 Web 开发更加容易和快速。Flask 框架于 2010 年发布，是一个轻量级的框架，它提供了更少的默认功能，但也更灵活，允许开发者根据需要添加或删除功能。
1. 什么是 Flask？ Flask 是一款 Python 的轻量级 Web 框架，它的特点是简单易用、灵活性高。Flask 框架可以快速搭建 Web 应用程序，是一个很好的选择。Flask 框架的核心思想是 WSGI（Web Server Gateway Interface），它定义了 Web 服务器和 Web 应用程序之间的通信协议。
1.1 Flask 的优势 简单易用：Flask 框架的 API 简单易用，开发者能够快速上手。MVC设计模式。
灵活性高：Flask 框架的扩展性高，可以根据实际需求进行扩展。
轻量级：Flask 框架的代码量小，运行速度快。
文档丰富：Flask 框架的文档非常详细，开发者能够轻松查找所需信息。
1.2 Flask 的缺点 轻量级：Flask 框架的轻量级也是它的缺点之一，它的功能相对有限，需要自己进行扩展。
不适合大型应用程序：Flask 框架适合小型应用程序，对于大型应用程序来说，可能会出现性能瓶颈。这时可以考虑Django。
1.3 Flask 的基础组件 Flask 框架由以下几个基础组件组成：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/36e8d321e5e3106e1eb4e5c7ab155b12/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-28T14:29:15+08:00" />
<meta property="article:modified_time" content="2023-07-28T14:29:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python web实战 | 用 Flask 框架快速构建 Web 应用【实战】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><img alt="" height="347" src="https://images2.imgbox.com/dc/97/5rR2fFLk_o.png" width="670"></h2> 
<hr> 
<h2> 概要</h2> 
<p></p> 
<p>Python web 开发已经有了相当长的历史，从最早的 CGI 脚本到现在的全栈 Web 框架，现在已经成为了一种非常流行的方式。</p> 
<p>Python 最早被用于 Web 开发是在 1995 年（90年代早期），当时使用 CGI 脚本编写动态 Web 页面。2004 年 Django 框架发布，它是一个高度模块化的框架，提供了许多开箱即用的功能，使得 Web 开发更加容易和快速。Flask 框架于 2010 年发布，是一个轻量级的框架，它提供了更少的默认功能，但也更灵活，允许开发者根据需要添加或删除功能。</p> 
<hr> 
<p></p> 
<h3>1. 什么是 Flask？</h3> 
<p>Flask 是一款 Python 的轻量级 Web 框架，它的特点是简单易用、灵活性高。Flask 框架可以快速搭建 Web 应用程序，是一个很好的选择。Flask 框架的核心思想是 WSGI（Web Server Gateway Interface），它定义了 Web 服务器和 Web 应用程序之间的通信协议。</p> 
<h4>1.1 Flask 的优势</h4> 
<ul><li> <p>简单易用：Flask 框架的 API 简单易用，开发者能够快速上手。MVC设计模式。</p> </li><li> <p>灵活性高：Flask 框架的扩展性高，可以根据实际需求进行扩展。</p> </li><li> <p>轻量级：Flask 框架的代码量小，运行速度快。</p> </li><li> <p>文档丰富：Flask 框架的文档非常详细，开发者能够轻松查找所需信息。</p> </li></ul> 
<h4>1.2 Flask 的缺点</h4> 
<ul><li> <p>轻量级：Flask 框架的轻量级也是它的缺点之一，它的功能相对有限，需要自己进行扩展。</p> </li><li> <p>不适合大型应用程序：Flask 框架适合小型应用程序，对于大型应用程序来说，可能会出现性能瓶颈。这时可以考虑Django。</p> </li></ul> 
<h4>1.3 Flask 的基础组件</h4> 
<p>Flask 框架由以下几个基础组件组成：</p> 
<ul><li> <p>路由：定义 URL 和视图函数之间的映射关系。</p> </li><li> <p>视图函数：处理请求并返回响应。</p> </li><li> <p>模板：生成 HTML 页面。</p> </li><li> <p>表单：处理用户提交的数据。</p> </li><li> <p>扩展：实现 Flask 框架的扩展功能。</p> </li></ul> 
<h3>2. 基础使用</h3> 
<h4>2.1 安装 Flask</h4> 
<p>在开始使用 Flask 之前，需要先安装 Flask。可以使用 pip 命令进行安装：</p> 
<pre><code>pip install Flask
</code></pre> 
<h4>2.2 Hello World</h4> 
<p>下面是一个简单的示例，展示了如何使用 Flask 框架输出 "Hello World"。</p> 
<p>新建一个app.py文件，输入如下内容。</p> 
<p></p> 
<p>Linux下执行：</p> 
<p>export FLASK_APP=app.py</p> 
<p>flask run</p> 
<p>打开浏览器访问 http://127.0.0.1:5000/ 即可。</p> 
<p></p> 
<p>如果是 windows 执行：</p> 
<p>set FLASK_APP=app.py</p> 
<p>flask run</p> 
<p></p> 
<pre><code>from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello, World!'
</code></pre> 
<h4>2.3 路由和视图函数</h4> 
<p>在 Flask 中，路由和视图函数是紧密相关的。路由用于将 URL 映射到视图函数上，视图函数则处理请求并返回响应。为了实现路由和视图函数，我们可以使用 Flask 中的 <code>@app.route</code> 装饰器。下面是一个简单的示例：</p> 
<pre><code>from flask import Flask

app = Flask(__name__)

@app.route('/')
def index():
    return 'This is the index page.'

@app.route('/hello')
def hello():
    return 'Hello, World!'
</code></pre> 
<p><code>@app.route('/')</code> 和 <code>@app.route('/hello')</code> 分别定义了两个路由，<code>index()</code> 和 <code>hello()</code> 则是两个视图函数。</p> 
<h4>2.4 模板</h4> 
<p>模板是 Flask 中生成 HTML 页面的一种方式。Flask 支持多种模板引擎，包括 Jinja2、Mako、Tenjin 等。在本文中，我们使用 Jinja2 作为模板引擎。</p> 
<p>下面是一个简单的示例，展示了如何使用模板生成 HTML 页面：</p> 
<pre><code>from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html', title='Home')

@app.route('/hello')
def hello():
    return render_template('hello.html', name='Flask')
</code></pre> 
<p><code>render_template()</code> 函数用于渲染模板，第一个参数指定模板名称，第二个参数则是模板中使用的变量。</p> 
<h4>2.5 静态文件</h4> 
<p>静态文件包括 CSS、JavaScript、图片等。在 Flask 中，可以使用 <code>url_for()</code> 函数生成静态文件的 URL。</p> 
<p>下面是一个简单的示例：</p> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;{<!-- -->{ title }}&lt;/title&gt;
    &lt;link rel="stylesheet" href="{<!-- -->{ url_for('static', filename='style.css') }}"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;{<!-- -->{ title }}&lt;/h1&gt;
    &lt;p&gt;Hello, Flask!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p><code>url_for('static', filename='style.css')</code> 生成了静态文件 <code>style.css</code> 的 URL。</p> 
<h4>2.6 表单</h4> 
<p>表单是 Web 应用程序中常用的一种交互方式。在 Flask 中，可以使用 <code>request</code> 对象获取用户提交的表单数据。</p> 
<p>下面是一个简单的示例：</p> 
<pre><code>from flask import Flask, request

app = Flask(__name__)

@app.route('/login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST':
        username = request.form['username']
        password = request.form['password']
        if username == 'admin' and password == 'password':
            return 'Login success!'
        else:
            return 'Invalid username or password.'
    else:
        return '''
            &lt;form method="post"&gt;
                &lt;label&gt;Username:&lt;/label&gt;
                &lt;input type="text" name="username"&gt;
                &lt;label&gt;Password:&lt;/label&gt;
                &lt;input type="password" name="password"&gt;
                &lt;input type="submit" value="Login"&gt;
            &lt;/form&gt;
        '''
</code></pre> 
<p><code>request.form</code> 可以获取 POST 请求提交的表单数据。</p> 
<h3>3. 实战案例：构建一个 Todo （待办） 应用</h3> 
<p>接下来，我们将通过一个实战案例来介绍如何使用 Flask 框架构建一个 Todo 应用。</p> 
<h4>3.1 数据库设计</h4> 
<p>首先，我们需要设计数据库。在本文中，我们使用 MySQL 作为数据库。下面是数据库的设计：</p> 
<pre><code>CREATE TABLE `todos` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `completed` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
</code></pre> 
<h4>3.2 后端实现</h4> 
<p>接下来实现后端的功能：</p> 
<pre><code>from flask import Flask, render_template, request, redirect, url_for
import pymysql.cursors

app = Flask(__name__)
app.config['SECRET_KEY'] = 'secret'

connection = pymysql.connect(
    host='localhost',
    user='root',
    password='password',
    db='todo',
    charset='utf8mb4',
    cursorclass=pymysql.cursors.DictCursor
)

@app.route('/')
def index():
    with connection.cursor() as cursor:
        cursor.execute('SELECT * FROM `todos`')
        todos = cursor.fetchall()
    return render_template('index.html', todos=todos)

@app.route('/add', methods=['POST'])
def add():
    title = request.form['title']
    with connection.cursor() as cursor:
        cursor.execute('INSERT INTO `todos` (`title`) VALUES (%s)', title)
        connection.commit()
    return redirect(url_for('index'))

@app.route('/toggle/&lt;int:todo_id&gt;', methods=['POST'])
def toggle(todo_id):
    with connection.cursor() as cursor:
        cursor.execute('SELECT `completed` FROM `todos` WHERE `id` = %s', todo_id)
        completed = cursor.fetchone()['completed']
        cursor.execute('UPDATE `todos` SET `completed` = %s WHERE `id` = %s', (not completed, todo_id))
        connection.commit()
    return redirect(url_for('index'))

@app.route('/delete/&lt;int:todo_id&gt;', methods=['POST'])
def delete(todo_id):
    with connection.cursor() as cursor:
        cursor.execute('DELETE FROM `todos` WHERE `id` = %s', todo_id)
        connection.commit()
    return redirect(url_for('index'))
</code></pre> 
<p>解析：建立数据库连接，并定义四个路由：</p> 
<ul><li> <p><code>/</code>：显示所有的 Todo。</p> </li><li> <p><code>/add</code>：添加一个 Todo。</p> </li><li> <p><code>/toggle/</code>：标记一个 Todo 是否已完成。</p> </li><li> <p><code>/delete/</code>：删除一个 Todo。</p> </li></ul> 
<h4>3.3 前端实现</h4> 
<p>最后实现前端的功能：</p> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Todo&lt;/title&gt;
    &lt;style&gt;
        .completed {
            text-decoration: line-through;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Todo&lt;/h1&gt;
    &lt;form method="post" action="{<!-- -->{ url_for('add') }}"&gt;
        &lt;label&gt;Title:&lt;/label&gt;
        &lt;input type="text" name="title"&gt;
        &lt;input type="submit" value="Add"&gt;
    &lt;/form&gt;
    &lt;ul&gt;
        {% for todo in todos %}
            &lt;li{% if todo.completed %} class="completed"{% endif %}&gt;
                &lt;form method="post" action="{<!-- -->{ url_for('toggle', todo_id=todo.id) }}"&gt;
                    &lt;input type="checkbox" name="completed" {% if todo.completed %}checked{% endif %}&gt;
                    {<!-- -->{ todo.title }}
                &lt;/form&gt;
                &lt;form method="post" action="{<!-- -->{ url_for('delete', todo_id=todo.id) }}"&gt;
                    &lt;input type="submit" value="Delete"&gt;
                &lt;/form&gt;
            &lt;/li&gt;
        {% else %}
            &lt;p&gt;No todos.&lt;/p&gt;
        {% endfor %}
    &lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>我们使用了 Jinja2 模板引擎，展示了 Todo 列表、添加 Todo、标记 Todo 是否已完成、删除 Todo 等功能。</p> 
<h3>4. 技术总结</h3> 
<p>今天介绍了如何使用 Flask 框架进行 Web 开发，并实战开发了一个轻量级的web应用。Flask 是一款 Python 的轻量级 Web 框架，具有简单易用、灵活性高等优点，初学者也能快速上手。</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79e8c7012b245292c78d84a8efc7e102/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Autosar - 【4 AUTOSAR以太网通信架构】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/225ae12c8bf90ba346e665984adcc35d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端开发必读！7个HTML属性助你提升用户体验</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>