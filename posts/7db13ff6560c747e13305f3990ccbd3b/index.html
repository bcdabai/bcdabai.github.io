<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WSL2安装到其它目录下 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="WSL2安装到其它目录下" />
<meta property="og:description" content="提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档
文章目录 前言一、WSL2是什么？二、下载Ubuntu20.041.打开Mocrosoft Store2.导出发行版 总结 前言 最近在研究WSL2，有正好遇到WSL-GUI可用就测试了下，发现会自动装到C盘下，而且随着日常的使用会导致C盘越来越臃肿，这篇文章会教大家怎么装到其它位置，比如D盘，请大家一步步来，需要注意的地方会特别标注。
一、WSL2是什么？ WSL2是WSL的第二个版本，是基于Hyper-V的Windows子系统，WSL1和2对比有下面这些差异。
这篇文章我们基于Ubuntu20.04发行版来演示，其他发行版应该是适用的。
二、下载Ubuntu20.04 这个地方要强调一下子，必须要到Store去下载，不要下载离线包安装，实测两个安装好有差别。
1.打开Mocrosoft Store 搜索Ubuntu20.04，选择Ubuntu20.04.4 LTS（最后的4是小版本，有可能不是4，只要是20.04大版本就行了）
这个时候点击图标进去
我是已经下载好了，所以是Open，正常没下载应该是Install，下载成功就是Open了。这个包就几百兆，一会就下完了。下载完了点击Open，会提示等一会，输入账号密码就可以了。
2.导出发行版 要想安装到其它位置需要将发行版先导出到压缩包，再重新导入到指定目录。
打开一个命令行输入以下命令查看已安装的版本
wsl --list -v 记住导出的版本后续会用到。
输入以下命令开始导出，需要保证磁盘有足够的空间，建议安装完发行版就立刻操作，大概需要1G左右空间存储压缩包。
wsl --export Ubuntu-20.04 wsl-ubuntu20.04.tar 导出完之后需要取消注册发行版
wsl --unregister Ubuntu-20.04 等待导出完成，这里以存储在D盘为例，执行以下代码开始导入。
wsl --import Ubuntu-20.04 D:\Ubuntu-20.04 .\wsl-ubuntu20.04.tar --version 2 如果存储路径有空格就使用以下代码，将全路径加上单引号。
wsl --import Ubuntu-20.04 &#39;D:\Program Files\Ubuntu-20.04&#39; .\wsl-ubuntu20.04.tar --version 2 等待导入完成，这个时候登进去就是root账户，如果需要使用刚才你设置的用户执行以下代码
ubuntu2004 config --default-user &lt;你的用户&gt; 如果你的分发版是Ubuntu-20.04一定要使用“ubuntu2004”，而且如果你使用的是离线包安装的Ubuntu-20.04，这个命令会提示找不到，所以一定从Microsoft Store下载。
总结 蛮简单的，有问题可以提问。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7db13ff6560c747e13305f3990ccbd3b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-17T16:31:10+08:00" />
<meta property="article:modified_time" content="2022-08-17T16:31:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">WSL2安装到其它目录下</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>提示：文章写完后，目录可以自动生成，如何生成可参考右边的帮助文档</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_7" rel="nofollow">前言</a></li><li><a href="#WSL2_14" rel="nofollow">一、WSL2是什么？</a></li><li><a href="#Ubuntu2004_19" rel="nofollow">二、下载Ubuntu20.04</a></li><li><ul><li><a href="#1Mocrosoft_Store_22" rel="nofollow">1.打开Mocrosoft Store</a></li><li><a href="#2_32" rel="nofollow">2.导出发行版</a></li></ul> 
  </li><li><a href="#_76" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_7"></a>前言</h2> 
<p>最近在研究WSL2，有正好遇到WSL-GUI可用就测试了下，发现会自动装到C盘下，而且随着日常的使用会导致C盘越来越臃肿，这篇文章会教大家怎么装到其它位置，比如D盘，请大家一步步来，需要注意的地方会特别标注。</p> 
<hr> 
<h2><a id="WSL2_14"></a>一、WSL2是什么？</h2> 
<p>WSL2是WSL的第二个版本，是基于Hyper-V的Windows子系统，WSL1和2对比有下面这些差异。<br> <img src="https://images2.imgbox.com/9b/e5/d5Bayulo_o.png" alt="在这里插入图片描述"><br> 这篇文章我们基于Ubuntu20.04发行版来演示，其他发行版应该是适用的。</p> 
<h2><a id="Ubuntu2004_19"></a>二、下载Ubuntu20.04</h2> 
<p>这个地方要强调一下子，必须要到Store去下载，不要下载离线包安装，实测两个安装好有差别。</p> 
<h3><a id="1Mocrosoft_Store_22"></a>1.打开Mocrosoft Store</h3> 
<p>搜索Ubuntu20.04，选择Ubuntu20.04.4 LTS（最后的4是小版本，有可能不是4，只要是20.04大版本就行了）</p> 
<p><img src="https://images2.imgbox.com/03/2d/1YKnNYwP_o.png" alt="在这里插入图片描述"></p> 
<p>这个时候点击图标进去</p> 
<p><img src="https://images2.imgbox.com/df/91/3mRNb9uD_o.png" alt="在这里插入图片描述"><br> 我是已经下载好了，所以是Open，正常没下载应该是Install，下载成功就是Open了。这个包就几百兆，一会就下完了。下载完了点击Open，会提示等一会，输入账号密码就可以了。</p> 
<h3><a id="2_32"></a>2.导出发行版</h3> 
<p>要想安装到其它位置需要将发行版先导出到压缩包，再重新导入到指定目录。</p> 
<p>打开一个命令行输入以下命令查看已安装的版本</p> 
<pre><code class="prism language-bash">wsl --list -v
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/aa/mbg2FdFZ_o.png" alt="在这里插入图片描述"><br> 记住导出的版本后续会用到。<br> 输入以下命令开始导出，需要保证磁盘有足够的空间，建议安装完发行版就立刻操作，大概需要1G左右空间存储压缩包。</p> 
<pre><code class="prism language-bash">wsl --export Ubuntu-20.04 wsl-ubuntu20.04.tar
</code></pre> 
<p>导出完之后需要取消注册发行版</p> 
<pre><code class="prism language-bash">wsl --unregister Ubuntu-20.04
</code></pre> 
<p>等待导出完成，这里以存储在D盘为例，执行以下代码开始导入。</p> 
<pre><code class="prism language-bash">wsl --import Ubuntu-20.04 D:<span class="token punctuation">\</span>Ubuntu-20.04 .<span class="token punctuation">\</span>wsl-ubuntu20.04.tar --version <span class="token number">2</span>
</code></pre> 
<p>如果存储路径有空格就使用以下代码，将全路径加上单引号。</p> 
<pre><code class="prism language-bash">wsl --import Ubuntu-20.04 <span class="token string">'D:\Program Files\Ubuntu-20.04'</span> .<span class="token punctuation">\</span>wsl-ubuntu20.04.tar --version <span class="token number">2</span>
</code></pre> 
<p>等待导入完成，这个时候登进去就是root账户，如果需要使用刚才你设置的用户执行以下代码</p> 
<pre><code class="prism language-bash">ubuntu2004 config --default-user <span class="token operator">&lt;</span>你的用户<span class="token operator">&gt;</span>
</code></pre> 
<p>如果你的分发版是Ubuntu-20.04一定要使用“ubuntu2004”，而且如果你使用的是离线包安装的Ubuntu-20.04，这个命令会提示找不到，所以一定从Microsoft Store下载。</p> 
<hr> 
<h2><a id="_76"></a>总结</h2> 
<p>蛮简单的，有问题可以提问。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e4a83fe8781a9301d730b8e18c44b02d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JUC下典型的类</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/94e57000c353200505c31173a2009e0d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java.lang.NullPointerException at sun.awt.FontConfiguration.getVersion</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>