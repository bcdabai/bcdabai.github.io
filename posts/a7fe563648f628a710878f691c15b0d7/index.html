<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>设计模式 - 抽象工厂模式案例 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="设计模式 - 抽象工厂模式案例" />
<meta property="og:description" content="设计模式 - 抽象工厂模式案例 抽象工厂模式vs工厂方法模式引入两个概念产品等级结构产品族 模式结构的角色抽象工厂模式案例案例背景案例分析实现步骤代码实现(按顺序)文件结构/类图1. 抽象产品类(2个)2. 具体产品类(4个)3. 抽象工厂(1个)4. 具体工厂(2个)5. 配置类(config.xml)6. 读取配置类(XMLUtil.java)7. 客户类输出结果 模式适用环境 抽象工厂模式vs工厂方法模式 工厂方法模式中具体工厂只需要生产一种具体产品抽象工厂模式中具体工厂可以生产相关的一组具体产品，这样的一组产品称为产品族 引入两个概念 产品等级结构 产品等级结构：产品的继承结构。
比如：抽象电视机和具体品牌电视之间构成了一个产品等级结构
产品族 产品族：是指由同一个工厂生产的，位于不同产品等级结构的一组产品
比如：
① 海尔工厂生成的海尔电视机、海尔电冰箱。
② 海尔电视机、海尔电冰箱就属于同一个产品族
③ 在这里海尔电视机属于电视机产品等级结构，海尔电冰箱属于电冰箱等级结构 ，它们位于不同产品等级结构
模式结构的角色 抽象工厂 ① 定义了返回具体产品对象的方法
② 产品有几种就定义几个方法
具体工厂 ① 实现父类中 返回具体产品对象的方法
② 具体工厂的个数 = 产品族的个数 --&gt; 品牌的个数
抽象产品 ① 将业务方法抽象出来
② 抽象产品的个数 = 产品等级结构的个数 --&gt;电视机、电冰箱 (产品类别的个数)
具体产品 ① 只要指明一个产品所处的产品族，以及所属的产品等级结构，就可以唯一确定这个产品
② 实现该产品的业务方法
③ 具体产品的个数 = 产品族个数(品牌) * 产品等级结构的个数(产品类别)
比如品牌(产品族)有两个：海尔和海信
抽象产品(产品等级结构)有两个：电视机、电冰箱
则具体产品就是2 * 2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a7fe563648f628a710878f691c15b0d7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-20T10:15:34+08:00" />
<meta property="article:modified_time" content="2022-03-20T10:15:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">设计模式 - 抽象工厂模式案例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>设计模式 - 抽象工厂模式案例</h4> 
 <ul><li><a href="#vs_1" rel="nofollow">抽象工厂模式vs工厂方法模式</a></li><li><a href="#_4" rel="nofollow">引入两个概念</a></li><li><ul><li><a href="#_5" rel="nofollow">产品等级结构</a></li><li><a href="#_12" rel="nofollow">产品族</a></li></ul> 
  </li><li><a href="#_22" rel="nofollow">模式结构的角色</a></li><li><a href="#_46" rel="nofollow">抽象工厂模式案例</a></li><li><ul><li><a href="#_47" rel="nofollow">案例背景</a></li><li><a href="#_50" rel="nofollow">案例分析</a></li><li><a href="#_53" rel="nofollow">实现步骤</a></li><li><a href="#_61" rel="nofollow">代码实现(按顺序)</a></li><li><ul><li><a href="#_62" rel="nofollow">文件结构/类图</a></li><li><a href="#1_2_67" rel="nofollow">1. 抽象产品类(2个)</a></li><li><a href="#2_4_87" rel="nofollow">2. 具体产品类(4个)</a></li><li><a href="#3_1_147" rel="nofollow">3. 抽象工厂(1个)</a></li><li><a href="#4_2_160" rel="nofollow">4. 具体工厂(2个)</a></li><li><a href="#5_configxml_199" rel="nofollow">5. 配置类(config.xml)</a></li><li><a href="#6_XMLUtiljava_206" rel="nofollow">6. 读取配置类(XMLUtil.java)</a></li><li><a href="#7__250" rel="nofollow">7. 客户类</a></li><li><a href="#_271" rel="nofollow">输出结果</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_274" rel="nofollow">模式适用环境</a></li></ul> 
</div> 
<p></p> 
<h2><a id="vs_1"></a>抽象工厂模式vs工厂方法模式</h2> 
<ol><li>工厂方法模式中具体工厂只需要生产<strong>一种</strong>具体产品</li><li>抽象工厂模式中具体工厂可以生产相关的<strong>一组</strong>具体产品，这样的一组产品称为产品族</li></ol> 
<h2><a id="_4"></a>引入两个概念</h2> 
<h3><a id="_5"></a>产品等级结构</h3> 
<blockquote> 
 <p>产品等级结构：产品的继承结构。</p> 
</blockquote> 
<p>比如：抽象电视机和具体品牌电视之间构成了一个产品等级结构<br> <img src="https://images2.imgbox.com/3c/64/QL58KFD2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_12"></a>产品族</h3> 
<blockquote> 
 <p>产品族：是指由<strong>同一个工厂生产</strong>的，位于<strong>不同产品等级结构</strong>的<strong>一组</strong>产品</p> 
</blockquote> 
<p>比如：<br> ① 海尔工厂生成的海尔电视机、海尔电冰箱。<br> ② <strong>海尔电视机、海尔电冰箱就属于同一个产品族</strong><br> ③ 在这里海尔电视机属于电视机产品等级结构，海尔电冰箱属于电冰箱等级结构 ，它们位于不同产品等级结构<br> <img src="https://images2.imgbox.com/2b/b7/j7dSxOC8_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_22"></a>模式结构的角色</h2> 
<ol><li>抽象工厂</li></ol> 
<blockquote> 
 <p>① 定义了返回具体产品对象的方法<br> ② <strong>产品有几种就定义几个方法</strong></p> 
</blockquote> 
<ol start="2"><li>具体工厂</li></ol> 
<blockquote> 
 <p>① 实现父类中 返回具体产品对象的方法<br> ② <strong>具体工厂的个数</strong> = 产品族的个数 --&gt; <strong>品牌的个数</strong></p> 
</blockquote> 
<ol start="3"><li>抽象产品</li></ol> 
<blockquote> 
 <p>① 将业务方法抽象出来<br> ② <strong>抽象产品的个数</strong> = 产品等级结构的个数 --&gt;电视机、电冰箱 <strong>(产品类别的个数)</strong></p> 
</blockquote> 
<ol start="4"><li>具体产品</li></ol> 
<blockquote> 
 <p>① 只要指明一个产品所处的<strong>产品族</strong>，以及所属的<strong>产品等级结构</strong>，就可以<strong>唯一确定</strong>这个产品<br> ② 实现该产品的业务方法<br> ③ <strong>具体产品的个数 = 产品族个数(品牌) * 产品等级结构的个数(产品类别)</strong><br> 比如品牌(产品族)有两个：海尔和海信<br> 抽象产品(产品等级结构)有两个：电视机、电冰箱<br> 则具体产品就是2 * 2</p> 
</blockquote> 
<h2><a id="_46"></a>抽象工厂模式案例</h2> 
<h3><a id="_47"></a>案例背景</h3> 
<p>计算机包含内存（RAM），CPU等硬件设备，根据如图所示的“产品等级结构-产品族示意图”，使用抽象工厂模式实现计算机设备创建过程并绘制类图<br> <img src="https://images2.imgbox.com/77/2c/6Gawb10I_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_50"></a>案例分析</h3> 
<ol><li>产品族(即具体工厂 --&gt; <strong>品牌</strong>)的个数有两个：PC 和 MAC</li><li>产品等级结构(即抽象产品 --&gt; <strong>产品类别</strong>)的个数有两个：CPU 和 RAM</li></ol> 
<h3><a id="_53"></a>实现步骤</h3> 
<ol><li>编写一个抽象工厂类：AbstractFactory，<br> 两个具体工厂：PcFactory和MacFactory ，<br> 两个抽象产品类：CPU，RAM，<br> 四个具体产品类：PcCPU，MacCPU，PcRAM，MacRAM</li><li>编写一个用户类Client和辅助类XMLUtil以实现通<strong>过XML文件来制造不同的产品</strong></li><li>更改XML中的属性，观察用户类是否能使用不同的产品</li></ol> 
<h3><a id="_61"></a>代码实现(按顺序)</h3> 
<h4><a id="_62"></a>文件结构/类图</h4> 
<p><img src="https://images2.imgbox.com/c9/5c/y099UZCW_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/90/42/zYqyWGdX_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="1_2_67"></a>1. 抽象产品类(2个)</h4> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CPU</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">RAM</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_4_87"></a>2. 具体产品类(4个)</h4> 
<blockquote> 
 <p>① <strong>一个具体工厂生产一个产品族</strong>，一个产品族里有两种产品：CPU和RAM<br> ② 有两个具体工厂：<strong>PC工厂 和 MAC工厂</strong><br> ③ <strong>PC工厂生产 PcCPU 和 PcRAM</strong></p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PcCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPU</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"PC的CPU工作中..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PcRAM</span> <span class="token keyword">implements</span> <span class="token class-name">RAM</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"PC的RAM工作中..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MacCPU</span> <span class="token keyword">implements</span> <span class="token class-name">CPU</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MAC的CPU工作中..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MacRAM</span> <span class="token keyword">implements</span> <span class="token class-name">RAM</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MAC的RAM工作中..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="3_1_147"></a>3. 抽象工厂(1个)</h4> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> CPU <span class="token function">produceCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> RAM <span class="token function">produceRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="4_2_160"></a>4. 具体工厂(2个)</h4> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PcFactory</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> CPU <span class="token function">produceCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PcCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> RAM <span class="token function">produceRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PcRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MacFactory</span> <span class="token keyword">implements</span> <span class="token class-name">AbstractFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> CPU <span class="token function">produceCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MacCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> RAM <span class="token function">produceRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MacRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="5_configxml_199"></a>5. 配置类(config.xml)</h4> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>config</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>className</span><span class="token punctuation">&gt;</span></span>PcFactory<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>className</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>config</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="6_XMLUtiljava_206"></a>6. 读取配置类(XMLUtil.java)</h4> 
<pre><code class="prism language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>w3c<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>Document<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>w3c<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>Node<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>w3c<span class="token punctuation">.</span>dom<span class="token punctuation">.</span>NodeList<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>parsers<span class="token punctuation">.</span>DocumentBuilder<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>parsers<span class="token punctuation">.</span>DocumentBuilderFactory<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>xml<span class="token punctuation">.</span>parsers<span class="token punctuation">.</span>ParserConfigurationException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>File<span class="token punctuation">;</span>

<span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMLUtil</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//该方法用于从xml配置文件中提取具体类类名，并返回一个实例对象</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> Object <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//创建DOM对象</span>
            DocumentBuilderFactory dFactory <span class="token operator">=</span> DocumentBuilderFactory<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            DocumentBuilder builder <span class="token operator">=</span> dFactory<span class="token punctuation">.</span><span class="token function">newDocumentBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Document doc<span class="token punctuation">;</span>
            <span class="token comment">//这个地址从项目根目录开始读取</span>
            doc <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"src//config.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//获取包含类名的文本节点</span>
            NodeList nl <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"className"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Node classNode <span class="token operator">=</span> nl<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFirstChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String cName <span class="token operator">=</span> classNode<span class="token punctuation">.</span><span class="token function">getNodeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//通过类名生成实例对象并返回</span>
            Class <span class="token class-name">c</span> <span class="token operator">=</span> Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>cName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Object obj <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="7__250"></a>7. 客户类</h4> 
<pre><code class="prism language-java"><span class="token comment">/**
 * @author 王胖子
 * @version 1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        CPU cpu<span class="token punctuation">;</span>
        RAM ram<span class="token punctuation">;</span>
        AbstractFactory factory<span class="token punctuation">;</span>
        factory <span class="token operator">=</span> <span class="token punctuation">(</span>AbstractFactory<span class="token punctuation">)</span> XMLUtil<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cpu <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">produceCPU</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ram <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">produceRAM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cpu<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ram<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_271"></a>输出结果</h4> 
<p><img src="https://images2.imgbox.com/81/47/Pyb3fRpO_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_274"></a>模式适用环境</h2> 
<p>抽象工厂模式主要适用于：</p> 
<ol><li>一个系统不应当依赖于产品类实例如何被创建、组合和表达的细节</li><li>系统中有多于一个的产品族，但每次只使用其中某一产品族</li><li>属于同一个产品族的产品将在一起使用，这一约束必须在系统的设计中体现出来</li><li>产品等级结构稳定，在设计完成之后不会向系统中增加新的产品等级结构或者删除已有的产品等级结构</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/33dd20f487e1b73cb790d9e1554e5ac4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JVM内存模型、相关参数设置与命令查看</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b864d28e436b5ebf78db3f46cbddeda1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何使用winrar压缩工具实现：文件打包为自解压EXE类型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>