<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>粒子群算法原理|python实现|参数调优 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="粒子群算法原理|python实现|参数调优" />
<meta property="og:description" content="粒子群算法是比较有名的群体智能算法之一，其他群体智能算法还包括蚁群算法、鱼群算法、人工蜂群算法等。今天学习一下粒子群算法。
文章目录 算法原理（Inspiration）优化过程python实现参数调优w参数的设置参数 c i c_i ci​的设置速度范围的设置种群规模的设置 算法结果 算法原理（Inspiration） 粒子群算法来源于鸟群的觅食行为，一群鸟随机寻找区域内唯一食物的位置，粒子群算法中的粒子就是鸟群中的小鸟。
该算法最重要的三个变量即每只鸟拥有的信息：
当前位置（向量X）、
自己当前位置距离食物的距离（适应度P，即当前X对应的目标函数值Y）、
飞行速度（向量V，即下一步X调整的方向和速度）。
优化过程 初始化
与大多数机器学习算法一样，粒子群算法的初始值随机确定。
初始值包括鸟群的初始位置(即X) X[popsize,num_variables]，
初始位置对应的适应度(即目标函数值y) fitness[popsize]，
初始速度 V[popsize]*；
计算当前个体最优(即每只鸟所取得过的y中的最优值) fitnessinbest[popsize]、
个体最优对应的位置(即X) inbest[popsize,num_variables]、当前整体最优(即所有鸟取得过的y中的最优值) fitnessglbest、
整体最优对应的位置 glbest[num_variables]。
其中，popsize表示鸟群中鸟的数量，num_variables表示问题中自变量的个数，如一元函数中num_variables为1，二元函数为2，等等。
迭代更新
在每次鸟群按照当前速度飞行一个单位时间（即一次迭代）后，所有粒子共享信息，从而计算出自己飞行到的所有地方中距离食物最近的点（局部最优）和所有鸟群飞到的位置中距离食物最近的点（全局最优），并计算加权平均决定下一步飞行的速度和位置。
速度和位置的更新公式如下：
V k &#43; 1 = w V k &#43; c 1 r 1 ( i n b e s t i d k − X i d k ) &#43; c 2 r 2 ( g l b e s t k − X i d k ) V^{k&#43;1}=wV^k&#43;c_1r_1(inbest_{id}^k-X_{id}^k)&#43;c_2r_2(glbest^k-X_{id}^k) Vk&#43;1=wVk&#43;c1​r1​(inbestidk​−Xidk​)&#43;c2​r2​(glbestk−Xidk​)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5aef89fa40b0afe606a598a4a56170cc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-28T10:39:16+08:00" />
<meta property="article:modified_time" content="2021-05-28T10:39:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">粒子群算法原理|python实现|参数调优</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>粒子群算法是比较有名的群体智能算法之一，其他群体智能算法还包括蚁群算法、鱼群算法、人工蜂群算法等。今天学习一下粒子群算法。<br> </p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Inspiration_2" rel="nofollow">算法原理（Inspiration）</a></li><li><a href="#_9" rel="nofollow">优化过程</a></li><li><a href="#python_34" rel="nofollow">python实现</a></li><li><a href="#_97" rel="nofollow">参数调优</a></li><li><ul><li><a href="#w_115" rel="nofollow">w参数的设置</a></li><li><a href="#c_i_126" rel="nofollow">参数<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
         
          
           
            
            
              c 
             
            
              i 
             
            
           
          
            c_i 
           
          
        </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>的设置</a></li><li><a href="#_136" rel="nofollow">速度范围的设置</a></li><li><a href="#_154" rel="nofollow">种群规模的设置</a></li></ul> 
  </li><li><a href="#_174" rel="nofollow">算法结果</a></li></ul> 
</div> 
<p></p> 
<h2><a id="Inspiration_2"></a>算法原理（Inspiration）</h2> 
<p>粒子群算法来源于鸟群的觅食行为，一群鸟随机寻找区域内唯一食物的位置，粒子群算法中的粒子就是鸟群中的小鸟。</p> 
<p>该算法<strong>最重要的三个变量</strong>即每只鸟拥有的信息：<br> 当前位置（向量X）、<br> 自己当前位置距离食物的距离（适应度P，即当前X对应的目标函数值Y）、<br> 飞行速度（向量V，即下一步X调整的方向和速度）。</p> 
<h2><a id="_9"></a>优化过程</h2> 
<ol><li> <p><strong>初始化</strong><br> 与大多数机器学习算法一样，粒子群算法的<strong>初始值随机确定</strong>。<br> 初始值包括鸟群的初始位置(即X) <em>X[popsize,num_variables]</em>，<br> 初始位置对应的适应度(即目标函数值y) <em>fitness[popsize]</em>，<br> 初始速度 V[popsize]*；</p> </li><li> <p><strong>计算当前</strong>个体最优(即每只鸟所取得过的y中的最优值) <em>fitnessinbest[popsize]</em>、<br> 个体最优对应的位置(即X) <em>inbest[popsize,num_variables]</em>、当前整体最优(即所有鸟取得过的y中的最优值) <em>fitnessglbest</em>、<br> 整体最优对应的位置 <em>glbest[num_variables]</em>。</p> <p>其中，<em>popsize</em>表示鸟群中鸟的数量，<em>num_variables</em>表示问题中自变量的个数，如一元函数中<em>num_variables</em>为1，二元函数为2，等等。</p> </li><li> <p><strong>迭代更新</strong><br> 在每次鸟群按照当前速度飞行一个单位时间（即一次迭代）后，所有粒子共享信息，从而计算出自己飞行到的所有地方中距离食物最近的点（局部最优）和所有鸟群飞到的位置中距离食物最近的点（全局最优），并计算加权平均决定下一步飞行的速度和位置。</p> <p>速度和位置的更新公式如下：</p> <p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
          
          
            V 
           
           
           
             k 
            
           
             + 
            
           
             1 
            
           
          
         
           = 
          
         
           w 
          
          
          
            V 
           
          
            k 
           
          
         
           + 
          
          
          
            c 
           
          
            1 
           
          
          
          
            r 
           
          
            1 
           
          
         
           ( 
          
         
           i 
          
         
           n 
          
         
           b 
          
         
           e 
          
         
           s 
          
          
          
            t 
           
           
           
             i 
            
           
             d 
            
           
          
            k 
           
          
         
           − 
          
          
          
            X 
           
           
           
             i 
            
           
             d 
            
           
          
            k 
           
          
         
           ) 
          
         
           + 
          
          
          
            c 
           
          
            2 
           
          
          
          
            r 
           
          
            2 
           
          
         
           ( 
          
         
           g 
          
         
           l 
          
         
           b 
          
         
           e 
          
         
           s 
          
          
          
            t 
           
          
            k 
           
          
         
           − 
          
          
          
            X 
           
           
           
             i 
            
           
             d 
            
           
          
            k 
           
          
         
           ) 
          
         
        
          V^{k+1}=wV^k+c_1r_1(inbest_{id}^k-X_{id}^k)+c_2r_2(glbest^k-X_{id}^k) 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.849108em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.932438em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.13222em; vertical-align: -0.283108em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -2.41689em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.283108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.13222em; vertical-align: -0.283108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -2.41689em; margin-left: -0.07847em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.283108em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.09911em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">b</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.13222em; vertical-align: -0.283108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -2.41689em; margin-left: -0.07847em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.283108em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span><br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
          
          
            X 
           
           
           
             i 
            
           
             d 
            
           
           
           
             k 
            
           
             + 
            
           
             1 
            
           
          
         
           = 
          
          
          
            X 
           
           
           
             i 
            
           
             d 
            
           
          
            k 
           
          
         
           + 
          
          
          
            V 
           
           
           
             i 
            
           
             d 
            
           
          
            k 
           
          
         
        
          X_{id}^{k+1}=X_{id}^k+V_{id}^k 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.19055em; vertical-align: -0.301308em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.889239em;"><span class="" style="top: -2.39869em; margin-left: -0.07847em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.10313em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.301308em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.13222em; vertical-align: -0.283108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -2.41689em; margin-left: -0.07847em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.283108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.13222em; vertical-align: -0.283108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.849108em;"><span class="" style="top: -2.41689em; margin-left: -0.22222em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">d</span></span></span></span><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.283108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></p> <p>其中V表示速度，X表示个体位置，w,c,r为参数，上标k和k+1表示当前迭代和下一次迭代，<em>inbest</em>表示局部最优，<em>glbest</em>表示全局最优。<br> 同时，一轮迭代结束后，对个体最优和全局最优进行更新，即更新<em>inbest</em>、<em>glbest</em>、<em>fitnessinbest</em>和<em>fitnessglbest</em>。</p> </li><li> <p>经过多轮迭代，即可得到<em>glbest</em>和<em>fitnessglbest</em>。</p> </li></ol> 
<h2><a id="python_34"></a>python实现</h2> 
<p><strong>初始化</strong><br> V表示速度矩阵，population表示自变量矩阵，fitnessinbest表示个体最优值，fitnessglbest表示全局最优值，inbest和glbest是其分别对应的自变量取值。使用随机策略进行初始化：</p> 
<pre><code class="prism language-python"><span class="token comment">#initialize particles and speeds randomly</span>
population<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span>sizepop<span class="token punctuation">,</span>num_variable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># value of x </span>
V<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span>sizepop<span class="token punctuation">,</span>num_variable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># speed</span>
fitness<span class="token operator">=</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>sizepop<span class="token punctuation">)</span><span class="token comment">#value of y</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sizepop<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># for each particle(row)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_variable<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># for each xi(col)</span>
        population<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span>popmin<span class="token punctuation">,</span>popmax<span class="token punctuation">)</span><span class="token comment">#consistent with the range of x</span>
        V<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0.5</span><span class="token operator">*</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">#consistent with the range of speed</span>
    fitness<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>function<span class="token punctuation">.</span>fun<span class="token punctuation">(</span>population<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#calculate initial optimal values</span>
fitnessinbest<span class="token operator">=</span>copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>fitness<span class="token punctuation">)</span><span class="token comment"># local optimum y</span>
fitnessglbest<span class="token operator">=</span><span class="token builtin">max</span><span class="token punctuation">(</span>fitness<span class="token punctuation">)</span><span class="token comment">#global optimum y</span>
bestindex<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>fitness<span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>fitnessglbest<span class="token punctuation">)</span><span class="token comment">#index of global optimum</span>
glbest<span class="token operator">=</span>population<span class="token punctuation">[</span>bestindex<span class="token punctuation">]</span><span class="token comment"># the x corresponding to fitnessglbest</span>
inbest<span class="token operator">=</span>copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>population<span class="token punctuation">)</span><span class="token comment"># the x corresponding to fitnessinbest</span>
</code></pre> 
<p><strong>迭代</strong><br> 最外层循环使用i表示迭代次数，动态策略更新权重，第二层循环使用j表示各个粒子，最内层循环使用k表示自变量个数，进行迭代更新：</p> 
<pre><code class="prism language-python"><span class="token comment">#iterate for optimization</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>maxgen<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># for each iteration</span>
    w<span class="token operator">=</span>ws<span class="token operator">-</span><span class="token punctuation">(</span>ws<span class="token operator">-</span>we<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">/</span>maxgen<span class="token punctuation">)</span> <span class="token comment">#for the other functions,dynamic w performs better</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sizepop<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># for each particle</span>
        <span class="token comment">#update the speed</span>
        V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>w<span class="token operator">*</span>V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>c1<span class="token operator">*</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>inbest<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span>c2<span class="token operator">*</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>glbest<span class="token operator">-</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_variable<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>Vmax<span class="token punctuation">:</span>
                V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>Vmax
            <span class="token keyword">elif</span><span class="token punctuation">(</span>V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">&lt;</span>Vmin<span class="token punctuation">)</span><span class="token punctuation">:</span>
                V<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>Vmin
        <span class="token comment">#update the location</span>
        population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>V<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>num_variable<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>popmax<span class="token punctuation">:</span>
                population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>popmax
            <span class="token keyword">elif</span><span class="token punctuation">(</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">&lt;</span>popmin<span class="token punctuation">)</span><span class="token punctuation">:</span>
                population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span>popmin
        <span class="token comment">#update the fitness</span>
        fitness<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>function<span class="token punctuation">.</span>fun<span class="token punctuation">(</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>更新个体最优和全局最优</strong><br> 遍历每个粒子，计算其函数值是否是目前的个体最优或全局最优，若是则更新：</p> 
<pre><code class="prism language-python"><span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>sizepop<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment"># for each particle</span>
    <span class="token comment">#update the inbest</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>fitness<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>fitnessinbest<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        inbest<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        fitnessinbest<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>fitness<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token comment">#update the glbest</span>
    <span class="token keyword">if</span> fitness<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>fitnessglbest<span class="token punctuation">:</span>
        glbest<span class="token operator">=</span>population<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        fitnessglbest<span class="token operator">=</span>fitness<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
</code></pre> 
<h2><a id="_97"></a>参数调优</h2> 
<p><strong>粒子群算法涉及到的参数有</strong>：</p> 
<table><thead><tr><th>parameter</th><th>meaning</th></tr></thead><tbody><tr><td>w</td><td>速度更新时惯性的权重</td></tr><tr><td>c1, c2</td><td>速度更新时个体经验、群体经验的权重</td></tr><tr><td>maxgen</td><td>最大搜索轮数</td></tr><tr><td>popsize</td><td>群体中个体数量</td></tr><tr><td>Vmax</td><td>飞行速度的最大值</td></tr><tr><td>Vmin</td><td>飞行速度的最小值</td></tr><tr><td>num_variable</td><td>自变量维度</td></tr></tbody></table> 
<p>我们以<strong>六个常用函数为例</strong>，进行参数调优测试：<br> <img src="https://images2.imgbox.com/a1/f5/EGpxQz8z_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="w_115"></a>w参数的设置</h3> 
<p>根据速度更新公式，w表示速度更新时惯性的权重，即保持当前飞行速度的权重，主要影响粒子迭代速度的转角，与转角成反相关。在进化过程中，w决定了粒子搜索的多样性，w较大时全局搜索能力强，局部搜索能力弱，体现出粒子运动的“震荡性”；w取值较小时局部搜索能力强，全局搜索能力弱。w取值过大可能导致无法收敛到精确解，w取值过小时容易造成局部收敛。因此，平衡收敛速度与搜索精度需要动态调整权重，初始时w较大，增强全局搜索能力，随着搜索轮数增加，逐渐减小w，从而取得最优解。实验采用典型线性递减策略 进行测试，并将实验结果与恒定w的结果进行比较。<br> 典型线性递减策略中w更新公式如下：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          w 
         
        
          = 
         
        
          w 
         
        
          s 
         
        
          − 
         
         
          
          
            ( 
           
          
            w 
           
          
            s 
           
          
            − 
           
          
            w 
           
          
            e 
           
           
           
             ) 
            
           
             i 
            
           
          
          
          
            m 
           
          
            a 
           
          
            x 
           
          
            g 
           
          
            e 
           
          
            n 
           
          
         
        
       
         w=ws-\frac{(ws-we)^i}{maxgen} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 2.3821em; vertical-align: -0.88044em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.50166em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.824664em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.88044em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><br> 其中，ws为初始权重（最大值），we为最终权重（最小值），i为搜索轮数。前人研究表明，w取值范围在[0.4，0.9]时效果较好。<br> 图 绘制出6个目标函数在不同的w策略下的迭代情况，横轴表示迭代次数，纵轴表示计算误差的平方。为清晰地看出曲线间的关系及变化趋势，图3.2截取了原始图像的一部分，将曲线学习开始时误差值较大的部分和学习后期趋于稳定的部分截去，将变化趋势较为明显的部分展示如下：<br> <img src="https://images2.imgbox.com/a9/b3/eD1XTMpm_o.png" alt="在这里插入图片描述"></p> 
<center> 
 <b>w参数调优图</b> 
</center> 
<p></p> 
<p>对每种参数取值方法进行多次试验的结果显示，w取值较小且恒定时（图中绿色曲线），对于function1-function4，在搜索轮数达到5000后仍距离最优值较远，说明其全局搜索能力较差；对function5，w取值0.4时试验结果分为差异较大的两类，分别用红色和绿色曲线表示，说明求解结果受随机初始值影响较大，也是由于局部收敛问题导致的；对function6，多次试验结果都快速收敛于最优值，在收敛速度和精度上表现都最优，根据图3.2绘制的函数图像，function6与其他函数的形状有显著差别，其随机初始值更接近最优解的概率更大，因此也表现出了与其他函数不同的性质。<br> w取值较大且恒定时（图中橙色曲线），function1、2、4、5都表现出较好的全局收敛能力；function3的收敛速度较慢，但在搜索轮数达到5000轮时收敛到了比线性递减策略更为精确的最优解；而function6却未能在5000轮的搜索中收敛，说明其局部搜索能力仍存在欠缺。由此可以看出，对于不同性质的函数w取值的影响有所不同。<br> 对w使用动态递减策略时，对各方程都能够较好地收敛于最优值，且收敛速度较快，是一种适用于多数问题的参数设置策略，但对于不同问题仍需取不同的参数。此外，除线性递减策略，w的取值还有非线性递减策略、先增后减策略、自适应取值策略等动态取值的方法，每种方法各有优缺点，需要根据问题的实际情况选取最优策略 。</p> 
<h3><a id="c_i_126"></a>参数<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
        
          i 
         
        
       
      
        c_i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>的设置</h3> 
<p>速度更新公式中的c1、c2主要影响粒子对个体经验和群体经验的信任程度。c1代表了粒子的个体意识，而c2代表了粒子的群体意识 。在进化过程中，c1相对越大，粒子的搜索空间越分散，收敛速度也越慢，甚至算法会停滞为无法收敛；而c2相对越大，粒子越快地趋向同一个位置，但容易早熟收敛而错过最优解，尤其当w和c1同时较小时，粒子将直接飞向glbest。<br> <img src="https://images2.imgbox.com/59/14/BiL93uOt_o.png" alt="参数ci的设置"></p> 
<center> 
 <b>参数 ci 调优图</b> 
</center> 
<br> 
<p>上图绘制了6个目标函数在c1、c2分别取c1=c2、c1&gt;c2、c1&lt;c2时的迭代情况。横轴代表迭代次数，纵轴表示误差的平方。与图3.2类似，图3.3将原始图像中学习开始时误差值较大的部分和学习后期趋于稳定的部分截去，以便清晰地展现出变化较为明显的部分。<br> 对于c1=2，c2=0.1的情况，即图中的绿色曲线，由于粒子的“个体意识”过强，“群体意识”过弱，算法的收敛速度在各函数中的表现比其他两种情况更慢，尤其对于function5这类随机搜索结果接近最优值的概率很小的函数，c1取值过大而c2取值过小会使得算法性能表现极差。<br> 对于c1=0.1，c2=2的情况，对应图中的橙色曲线。对于研究的6个目标函数，这种参数设置的情况下收敛速度最快，且并没有出现早熟收敛而错过最优解的现象。但是当w的取值同时较小时（如w=0.4），各函数均无法收敛至最优解。由此可见，各参数的调整需要协调配合。<br> 对于c1=c2=1.49445的情况，即图中蓝色曲线，对各目标函数都能收敛至最优解，且收敛速度较快。尽管在部分函数搜索过程中表现出的搜索速度不如c1=0.1，c2=2时快，但是一种可靠、对绝大多数函数有效的取值办法，在多数案例中广泛应用。</p> 
<h3><a id="_136"></a>速度范围的设置</h3> 
<p>已有研究证明，粒子群算法中最大速度的选择不仅与问题本身性质有关，与自变量的取值范围也有密切关系。文献 中提出了最佳速度因子u，用于表示速度与自变量取值范围的比值，并使用四个函数进行实验，得出u的最佳范围为(0.059, 0.112)的结论。其中<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          u 
         
        
          = 
         
         
          
          
            V 
           
          
            m 
           
          
            a 
           
          
            x 
           
          
          
          
            X 
           
          
            m 
           
          
            a 
           
          
            x 
           
          
         
        
       
         u=\frac{Vmax}{Xmax} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.04633em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.36033em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.07847em;">X</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><br> 以u为横轴，误差的平方为纵轴，绘制本实验6个函数的图像如图3.4所示，平均误差最小时参数U、Vmax的取值范围见下表。</p> 
<p><img src="https://images2.imgbox.com/87/39/EzUGx6ZB_o.png" alt="在这里插入图片描述"> </p> 
<center> 
 <b>速度范围调优图</b> 
</center> 
<p></p> 
<center> 
 <b>速度范围调优表</b> 
</center> 
<table><thead><tr><th></th><th>fun1</th><th>fun2</th><th>fun3</th><th>fun4</th><th>fun5</th><th>fun6</th></tr></thead><tbody><tr><td>min_error</td><td>3.81E-05</td><td>1.12E-08</td><td>0</td><td>1.55E-07</td><td>0</td><td>0</td></tr><tr><td>u</td><td>0.01</td><td>0.01</td><td>\</td><td>0.13</td><td>\</td><td>\</td></tr><tr><td>Vmax</td><td>1</td><td>0.1</td><td>\</td><td>0.16</td><td>\</td><td>\</td></tr></tbody></table> 
<p>由图，不同函数的搜索误差对速度范围参数的敏感度有很大差异，在其他参数不变时，function1和function2受速度范围影响较大，function4受速度范围影响较小，而function3、5、6的搜索误差并没有随速度范围的改变而改变。<br> 本实验与文献iv均使用了function1函数作为测试函数，但得出的最优参数值u有很大差异。文献iv取自变量范围为[-10,10]，得出最优u值为0.1的结论；在本实验中自变量取值[-100,100]，此时最优u值为0.01，但两实验中Vmax的最优值都为1。由此可见，速度与自变量取值的比值虽然对速度范围的调整有一定参考意义，但仍需要根据自变量的取值范围综合考虑。本实验与文献iv得出的共同结论是，对于不同函数Vmax值有较大差异，需要根据问题实际情况决定。</p> 
<h3><a id="_154"></a>种群规模的设置</h3> 
<p>通过阅读相关文献，部分学者认为搜索精度对种群规模并不敏感 ；也有学者认为种群规模的选取与问题维度有关，且其搜索结果会同时影响到搜索时间和精度 。本实验以function1为例，探究种群规模与问题维度、搜索精度、搜索时间的关系。<br> 下表展示了function1在dimension取10、50、100时不同种群规模（sizepop）对搜索精度的影响。与文献v结论相吻合，在问题维度较小时，种群规模对搜索精度有较大影响；而维度大于40时，搜索精度对种群规模不再敏感，尤其是当维度取100时，过大的种群数量可能对搜索精度产生不好的影响。</p> 
<center> 
 <b>种群规模调优表</b> 
</center> 
<table><thead><tr><th><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            e 
           
          
            r 
           
          
            r 
           
          
            o 
           
           
           
             r 
            
           
             2 
            
           
          
         
           error^2 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.814108em; vertical-align: 0em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></th><th>sizepop=10</th><th>sizepop=40</th><th>sizepop=70</th><th>sizepop=100</th></tr></thead><tbody><tr><td>dimension=10</td><td>1.10E-05</td><td>1.96E-10</td><td>3.85E-12</td><td>2.85E-10</td></tr><tr><td>dimension=50</td><td>49.42885</td><td>0.04744</td><td>0.013147</td><td>0.010596</td></tr><tr><td>dimension=100</td><td>3285.436</td><td>24.28372</td><td>1.707335</td><td>2.837563</td></tr></tbody></table> 
<p>下图为function1在不同维度、不同种群规模下训练时间与训练精度的关系。由图可以直观地看出，当问题维度较小时，更大的种群规模可以得到更高的精度，同时搜索速度也越慢；而维度较大时，搜索速度对种群规模同样不再敏感。</p> 
<p><img src="https://images2.imgbox.com/8c/b3/fOmqEdVd_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/b0/22/OI7x3pfM_o.png" alt="在这里插入图片描述"></p> 
<center> 
 <b>种群规模调优图</b> 
</center> 
<br> 综上所述，问题维度较大时，搜索精度对种群规模不敏感；维度较小时，若侧重于减少运行时间，可将种群规模设为40左右，若侧重搜索精度，可设置为50~80，过高的种群规模不再对问题精度起到明显提高作用。 
<h2><a id="_174"></a>算法结果</h2> 
<p>使用粒子群算法得到的优化目标值见表：</p> 
<center> 
 <b>算法结果</b> 
</center> 
<table><thead><tr><th>function</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th></tr></thead><tbody><tr><td>optimization</td><td>1.7e-6</td><td>1.6e-5</td><td>0.0</td><td>7e-4</td><td>-1.0</td><td>0.0</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/33c5aa0736f4ad01e1239f0f0dd7bb13/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线程池通过execute提交任务，出现异常，会怎样?</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2a0f6d99fbc9034635050b71fc4bb3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">为什么我使用了ConcurrentHashMap，还是没有发挥性能优势?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>