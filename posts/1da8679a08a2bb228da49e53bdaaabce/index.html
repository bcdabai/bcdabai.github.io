<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【课程设计】Windows控制台上的交互界面（通过c/c&#43;&#43;，在windows控制台实现选择菜单（可通过方向键选择）） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【课程设计】Windows控制台上的交互界面（通过c/c&#43;&#43;，在windows控制台实现选择菜单（可通过方向键选择））" />
<meta property="og:description" content="【课程设计】通过c/c&#43;&#43;，在windows控制台实现选择菜单（可通过方向键选择） 【课程设计】通过c/c&#43;&#43;，在控制台实现选择菜单（可通过方向键选择）前言正文SetConsoleTextAttribute函数GotoxyCursorOpr ⋆ ⋆ ⋆ \star\star\star ⋆⋆⋆TheConsoleSizeThe Whole Code 结语参考资料每日一句 【课程设计】通过c/c&#43;&#43;，在控制台实现选择菜单（可通过方向键选择） 前言 以前做课设的时候，费了很大功夫，在windows控制台实现方向键选择菜单。希望可以在这里总结一下，也欢迎大家一起交流学习。
正文 SetConsoleTextAttribute函数 以下摘自百度百科 传送门 SetConsoleTextAttribute是Windows系统中一个可以设置控制台窗口字体颜色和背景色的计算机函数，该函数被广泛应用于软件开发中。
使用此函数前，必须包含Windows.h头文件，即#include &lt;Windows.h&gt;。原型 BOOL SetConsoleTextAttribute(HANDLE hConsoleOutput, WORD wAttributes); 宏定义以下代码： #define IN_RED SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), \ BACKGROUND_RED | \ BACKGROUND_INTENSITY) #define IN_DEFAULT SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), \ FOREGROUND_RED | \ FOREGROUND_GREEN | \ FOREGROUND_BLUE) In_Red，意味着将字体的背景变为红色；而In_DEFAULT，意味着将字体的背景变为默认状态（混合红、绿、蓝）定义函数： void ShowInRed() { IN_RED; printf(&#34;Red\n&#34;); return; } 效果展示：
我们注意到后面的语句的背景也变红了。怎么解决这个问题呢？我们只需要在printf执行完之后，调用IN_DEFAULT，将字体背景重置为默认色即可。代码： void ShowInRed() { IN_RED; printf(&#34;Red\n&#34;); IN_DEFAULT; return; } 结果：
Gotoxy void Gotoxy(int x, int y) { COORD pos = {x, y}; HANDLE hOut = GetStdHandle(STD_OUTPUT_HANDLE); SetConsoleCursorPosition(hOut, pos); return; } 该函数的用处为将光标移动到(x, y)处 CursorOpr ⋆ ⋆ ⋆ \star\star\star ⋆⋆⋆ 下面我们重点来讲以下实现原理" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1da8679a08a2bb228da49e53bdaaabce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-16T18:09:49+08:00" />
<meta property="article:modified_time" content="2022-12-16T18:09:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【课程设计】Windows控制台上的交互界面（通过c/c&#43;&#43;，在windows控制台实现选择菜单（可通过方向键选择））</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>【课程设计】通过c/c++，在windows控制台实现选择菜单（可通过方向键选择）</h4> 
 <ul><li><a href="#cc_2" rel="nofollow">【课程设计】通过c/c++，在控制台实现选择菜单（可通过方向键选择）</a></li><li><ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_7" rel="nofollow">正文</a></li><li><ul><li><a href="#SetConsoleTextAttribute_8" rel="nofollow">SetConsoleTextAttribute函数</a></li><li><a href="#Gotoxy_49" rel="nofollow">Gotoxy</a></li><li><a href="#CursorOpr_starstarstar_64" rel="nofollow">CursorOpr <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
          
           
            
            
              ⋆ 
             
            
              ⋆ 
             
            
              ⋆ 
             
            
           
             \star\star\star 
            
           
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4653em;"></span><span class="mord">⋆</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋆</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.4653em;"></span><span class="mord">⋆</span></span></span></span></span></a></li><li><a href="#TheConsoleSize_184" rel="nofollow">TheConsoleSize</a></li><li><a href="#The_Whole_Code_197" rel="nofollow">The Whole Code</a></li></ul> 
   </li><li><a href="#_388" rel="nofollow">结语</a></li><li><ul><li><a href="#_389" rel="nofollow">参考资料</a></li><li><a href="#_392" rel="nofollow">每日一句</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="cc_2"></a>【课程设计】通过c/c++，在控制台实现选择菜单（可通过方向键选择）</h2> 
<h3><a id="_3"></a>前言</h3> 
<p>以前做课设的时候，费了很大功夫，在windows控制台实现方向键选择菜单。希望可以在这里总结一下，也欢迎大家一起交流学习。</p> 
<h3><a id="_7"></a>正文</h3> 
<h4><a id="SetConsoleTextAttribute_8"></a>SetConsoleTextAttribute函数</h4> 
<ul><li>以下摘自百度百科 <a href="https://baike.baidu.com/item/SetConsoleTextAttribute?fromModule=lemma_search-box" rel="nofollow">传送门</a> 
  <ul><li>SetConsoleTextAttribute是Windows系统中一个可以设置控制台窗口字体颜色和背景色的计算机函数，该函数被广泛应用于软件开发中。<br> 使用此函数前，必须包含Windows.h头文件，即#include &lt;Windows.h&gt;。</li><li>原型 
    <ul><li>BOOL SetConsoleTextAttribute(HANDLE hConsoleOutput, WORD wAttributes);</li></ul> </li></ul> </li><li>宏定义以下代码：</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_RED</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                       <span class="token expression">BACKGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                           <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_DEFAULT</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                           <span class="token expression">FOREGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                               <span class="token expression">FOREGROUND_GREEN <span class="token operator">|</span>           </span><span class="token punctuation">\</span>
                                               <span class="token expression">FOREGROUND_BLUE<span class="token punctuation">)</span></span></span>
</code></pre> 
<ul><li>In_Red，意味着将字体的背景变为红色；而In_DEFAULT，意味着将字体的背景变为默认状态（混合红、绿、蓝）</li><li>定义函数：</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">ShowInRed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    IN_RED<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Red\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>效果展示：<br> <img src="https://images2.imgbox.com/16/c4/mXvga01j_o.png" alt="in_red"></li><li>我们注意到后面的语句的背景也变红了。怎么解决这个问题呢？我们只需要在printf执行完之后，调用IN_DEFAULT，将字体背景重置为默认色即可。</li><li>代码：</li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">ShowInRed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    IN_RED<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Red\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IN_DEFAULT<span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>结果：<br> <img src="https://images2.imgbox.com/da/fc/0cWCRIrL_o.png" alt="in_red_default"></li></ul> 
<h4><a id="Gotoxy_49"></a>Gotoxy</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    COORD pos <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
    HANDLE hOut <span class="token operator">=</span> <span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetConsoleCursorPosition</span><span class="token punctuation">(</span>hOut<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>该函数的用处为将光标移动到(x, y)处</li></ul> 
<h4><a id="CursorOpr_starstarstar_64"></a>CursorOpr <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ⋆ 
        
       
         ⋆ 
        
       
         ⋆ 
        
       
      
        \star\star\star 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4653em;"></span><span class="mord">⋆</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">⋆</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.4653em;"></span><span class="mord">⋆</span></span></span></span></span></h4> 
<p>下面我们重点来讲以下实现原理</p> 
<ul><li>原理：通过读取方向键来移动光标，然后用带背景色的字体重新覆盖原本的字体，这样就像是高亮选中了；当离开当前行，选择别的行的时候，就先用默认色覆盖当前行，然后移动光标，高亮覆盖光标后的行，实现退选和再选（如何实现可以看代码注释）</li><li>代码：</li></ul> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">UPKEY</span> <span class="token expression"><span class="token number">72</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOWNKY</span> <span class="token expression"><span class="token number">80</span> </span><span class="token comment">//宏定义上下方向键的ascii值</span></span>
<span class="token keyword">void</span> <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//主菜单</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"欢迎来到学生奖学金管理系统\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0) 退出程序\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1) 录入学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2) 显示全部学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3) 查找学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4) 删除学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5) 追加学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6) 修改学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"7) 统计学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"8) 奖学金名单\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"9) 保存文件\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"10)备份文件\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请使用↑、↓和enter来实现选择和执行命令\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"或者输入每个命令前面的数字来执行命令&lt;0 - 9&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">CursorPos1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token comment">//光标覆盖菜单</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0) 退出程序                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1) 录入学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2) 显示全部学生信息                               "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3) 查找学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4) 删除学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5) 追加学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6) 修改学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"7) 统计学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"8) 奖学金名单                                     "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"9) 保存文件                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"10)备份文件                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">CursorOpr</span><span class="token punctuation">(</span><span class="token keyword">int</span> line<span class="token punctuation">,</span> <span class="token keyword">int</span> deta<span class="token punctuation">,</span> <span class="token keyword">int</span> lower<span class="token punctuation">,</span> <span class="token keyword">int</span> upper<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token comment">/*
line：当前光标所在行数
deta：行数与菜单选项的差值。比如在main菜单中选项(0)在第2行(行数从0开始计算)，所以deta等于2，即2 - 0
upper, lower：选项的上下界
(*P)(int)：函数指针，选择哪个覆盖菜单
*/</span>
    <span class="token keyword">char</span> c1<span class="token punctuation">,</span> c2<span class="token punctuation">;</span>
    <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span>
    <span class="token punctuation">{<!-- --></span>
        c2 <span class="token operator">=</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c2 <span class="token operator">==</span> DOWNKEY<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_DEFAULT<span class="token punctuation">;</span> <span class="token comment">//选择默认色</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//覆盖，实现退选</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line <span class="token operator">==</span> upper<span class="token punctuation">)</span> <span class="token comment">//如果已经到了上界，则返回下界，实现滚动高亮</span>
                line <span class="token operator">=</span> lower<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token operator">++</span>line<span class="token punctuation">;</span> <span class="token comment">//行数+1</span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_CYAN<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c2 <span class="token operator">==</span> UPKEY<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_DEFAULT<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line <span class="token operator">==</span> lower<span class="token punctuation">)</span>
                line <span class="token operator">=</span> upper<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token operator">--</span>line<span class="token punctuation">;</span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_CYAN<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c1 <span class="token operator">=</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token char">'\r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IN_RED<span class="token punctuation">;</span>
    <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
    IN_DEFAULT<span class="token punctuation">;</span>
    <span class="token keyword">return</span> line <span class="token operator">-</span> deta<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c3/ca/FJilRGSl_o.png" alt="menu"></p> 
<h4><a id="TheConsoleSize_184"></a>TheConsoleSize</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">TheConsoleSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> chCmd<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">sprintf</span><span class="token punctuation">(</span>chCmd<span class="token punctuation">,</span> <span class="token string">"mode con cols=%d lines=%d"</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">system</span><span class="token punctuation">(</span>chCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>该函数的用处为调整控制台的大小</li></ul> 
<h4><a id="The_Whole_Code_197"></a>The Whole Code</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;conio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;windows.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_RED</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                       <span class="token expression">BACKGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                           <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_GREEN</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                         <span class="token expression">BACKGROUND_GREEN <span class="token operator">|</span>               </span><span class="token punctuation">\</span>
                                             <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_BULE</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                        <span class="token expression">BACKGROUND_BLUE <span class="token operator">|</span>                </span><span class="token punctuation">\</span>
                                            <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_YELLOW</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                          <span class="token expression">BACKGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                              <span class="token expression">BACKGROUND_GREEN <span class="token operator">|</span>           </span><span class="token punctuation">\</span>
                                              <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_CYAN</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                        <span class="token expression">BACKGROUND_GREEN <span class="token operator">|</span>               </span><span class="token punctuation">\</span>
                                            <span class="token expression">BACKGROUND_BLUE <span class="token operator">|</span>            </span><span class="token punctuation">\</span>
                                            <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_MAGENTA</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                           <span class="token expression">BACKGROUND_BLUE <span class="token operator">|</span>                </span><span class="token punctuation">\</span>
                                               <span class="token expression">BACKGROUND_RED <span class="token operator">|</span>             </span><span class="token punctuation">\</span>
                                               <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_WHITE</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                         <span class="token expression">BACKGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                             <span class="token expression">BACKGROUND_GREEN <span class="token operator">|</span>           </span><span class="token punctuation">\</span>
                                             <span class="token expression">BACKGROUND_BLUE <span class="token operator">|</span>            </span><span class="token punctuation">\</span>
                                             <span class="token expression">BACKGROUND_INTENSITY<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">IN_DEFAULT</span> <span class="token expression"><span class="token function">SetConsoleTextAttribute</span><span class="token punctuation">(</span><span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">,</span> </span><span class="token punctuation">\</span>
                                           <span class="token expression">FOREGROUND_RED <span class="token operator">|</span>                 </span><span class="token punctuation">\</span>
                                               <span class="token expression">FOREGROUND_GREEN <span class="token operator">|</span>           </span><span class="token punctuation">\</span>
                                               <span class="token expression">FOREGROUND_BLUE<span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">UPKEY</span> <span class="token expression"><span class="token number">72</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOWNKEY</span> <span class="token expression"><span class="token number">80</span></span></span>

<span class="token keyword">void</span> <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"欢迎来到学生奖学金管理系统\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0) 退出程序\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1) 录入学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2) 显示全部学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3) 查找学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4) 删除学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5) 追加学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6) 修改学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"7) 统计学生信息\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"8) 奖学金名单\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"9) 保存文件\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"10)备份文件\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"**************************************************\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请使用↑、↓和enter来实现选择和执行命令\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"或者输入每个命令前面的数字来执行命令&lt;0 - 9&gt;\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">CursorPos1</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0) 退出程序                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1) 录入学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"2) 显示全部学生信息                               "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"3) 查找学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"4) 删除学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"5) 追加学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"6) 修改学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"7) 统计学生信息                                   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"8) 奖学金名单                                     "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"9) 保存文件                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"10)备份文件                                       "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">TheConsoleSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> chCmd<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">sprintf</span><span class="token punctuation">(</span>chCmd<span class="token punctuation">,</span> <span class="token string">"mode con cols=%d lines=%d"</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">system</span><span class="token punctuation">(</span>chCmd<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    COORD pos <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span>
    HANDLE hOut <span class="token operator">=</span> <span class="token function">GetStdHandle</span><span class="token punctuation">(</span>STD_OUTPUT_HANDLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">SetConsoleCursorPosition</span><span class="token punctuation">(</span>hOut<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">CursorOpr</span><span class="token punctuation">(</span><span class="token keyword">int</span> line<span class="token punctuation">,</span> <span class="token keyword">int</span> deta<span class="token punctuation">,</span> <span class="token keyword">int</span> lower<span class="token punctuation">,</span> <span class="token keyword">int</span> upper<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token comment">/*
line：当前光标所在行数
deta：行数与菜单选项的差值。比如在main菜单中选项(0)在第2行(行数从0开始计算)，所以deta等于2，即2 - 0
upper, lower：选项的上下界
(*P)(int)：函数指针，选择哪个覆盖菜单
*/</span>
    <span class="token keyword">char</span> c1<span class="token punctuation">,</span> c2<span class="token punctuation">;</span>
    <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span>
    <span class="token punctuation">{<!-- --></span>
        c2 <span class="token operator">=</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c2 <span class="token operator">==</span> DOWNKEY<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_DEFAULT<span class="token punctuation">;</span> <span class="token comment">//选择默认色</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//覆盖，实现退选</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line <span class="token operator">==</span> upper<span class="token punctuation">)</span> <span class="token comment">//如果已经到了上界，则返回下界，实现滚动高亮</span>
                line <span class="token operator">=</span> lower<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token operator">++</span>line<span class="token punctuation">;</span> <span class="token comment">//</span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_CYAN<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c2 <span class="token operator">==</span> UPKEY<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_DEFAULT<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>line <span class="token operator">==</span> lower<span class="token punctuation">)</span>
                line <span class="token operator">=</span> upper<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token operator">--</span>line<span class="token punctuation">;</span>
            <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
            IN_CYAN<span class="token punctuation">;</span>
            <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c1 <span class="token operator">=</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token char">'\r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IN_RED<span class="token punctuation">;</span>
    <span class="token function">Gotoxy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">(</span>line <span class="token operator">-</span> deta<span class="token punctuation">)</span><span class="token punctuation">;</span>
    IN_DEFAULT<span class="token punctuation">;</span>
    <span class="token keyword">return</span> line <span class="token operator">-</span> deta<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">,</span> line <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 对应menu()的1）</span>
    <span class="token keyword">char</span> c1<span class="token punctuation">,</span> c2<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> b<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">TheConsoleSize</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c1 <span class="token operator">=</span> <span class="token function">getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">32</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            n <span class="token operator">=</span> <span class="token function">CursorOpr</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> CursorPos1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">char</span> tmp<span class="token punctuation">;</span>
            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> tmp <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span>
                n <span class="token operator">=</span> tmp <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                n <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"pause"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_388"></a>结语</h3> 
<h4><a id="_389"></a>参考资料</h4> 
<ul><li><a href="https://blog.csdn.net/LLLLQZ/article/details/110405100">https://blog.csdn.net/LLLLQZ/article/details/110405100</a></li><li><a href="https://zxfdog.blog.csdn.net/article/details/103764196" rel="nofollow">https://zxfdog.blog.csdn.net/article/details/103764196</a></li></ul> 
<h4><a id="_392"></a>每日一句</h4> 
<blockquote> 
 <p>我有迷魂招不得，雄鸡一声天下白。<br> 少年心事当拏云，谁念幽寒坐呜呃。<br> ——李贺《致酒行》</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d42622edd8d99b8a795bc45cda47b533/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装spark时输入spark-shell报错 “系统找不到指定的路径“</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2426369c70fc409acebd19f475143ce6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SonarQube:数据库统计项目质量情况</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>