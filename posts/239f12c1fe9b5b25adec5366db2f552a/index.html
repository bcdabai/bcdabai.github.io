<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c语言如何给结构体赋初值,c/c&#43;&#43; 结构体赋初值的小技巧 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c语言如何给结构体赋初值,c/c&#43;&#43; 结构体赋初值的小技巧" />
<meta property="og:description" content="该楼层疑似违规已被系统折叠 隐藏此楼查看此楼
转：https://blog.csdn.net/datase/article/details/78988320
1.CC&#43;&#43;结构体的初始化
今天看到项目中对自定义结构体初始化方式有点陌生，特在此罗列一下可用的结构体初始化的方式。
对结构体
struct A {
int b;
int c;
}
有几种初始化方式：
第一种：
struct A a = {
.b = 1,
.c = 2
};
第二种：
struct A a={
b:1,
c:2
}；
第三种：
struct A a1 = { 1, 2};
Linux内核喜欢用第一种，使用第一种和第二种时，成员初始化顺序可变。
第四种：
因为C&#43;&#43;中的struct可以看作class，结构体也可以拥有构造函数，所以我们可以通过结构体的构造函数来初始化结构体对象。
给定带有构造函数的结构体：
struct A {
A(int a,int b){
this-&gt;a=a;
this-&gt;b=b;
};
int b;
int c;
}
那么结构体对象的初始化可以像类对象的初始化那样，如下形式：
struct A a(1,2);
注意： struct如果定义了构造函数的话，就不能用大括号进行初始化了，即不能再使用前三种初始化的方式了。
2.CC&#43;&#43;结构体的赋值
变量的赋值和初始化是不一样的，初始化是在变量定义的时候完成的，是属于变量定义的一部分，赋值是在变量定义完成之后想改变变量值的时候所采取的操作。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/239f12c1fe9b5b25adec5366db2f552a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-25T05:05:16+08:00" />
<meta property="article:modified_time" content="2021-05-25T05:05:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c语言如何给结构体赋初值,c/c&#43;&#43; 结构体赋初值的小技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>该楼层疑似违规已被系统折叠 隐藏此楼查看此楼</p> 
 <p>转：https://blog.csdn.net/datase/article/details/78988320</p> 
 <p>1.CC++结构体的初始化</p> 
 <p>今天看到项目中对自定义结构体初始化方式有点陌生，特在此罗列一下可用的结构体初始化的方式。</p> 
 <p>对结构体</p> 
 <p>struct A {<!-- --></p> 
 <p>int b;</p> 
 <p>int c;</p> 
 <p>}</p> 
 <p>有几种初始化方式：</p> 
 <p>第一种：</p> 
 <p>struct A a = {<!-- --></p> 
 <p>.b = 1,</p> 
 <p>.c = 2</p> 
 <p>};</p> 
 <p>第二种：</p> 
 <p>struct A a={<!-- --></p> 
 <p>b:1,</p> 
 <p>c:2</p> 
 <p>}；</p> 
 <p>第三种：</p> 
 <p>struct A a1 = { 1, 2};</p> 
 <p>Linux内核喜欢用第一种，使用第一种和第二种时，成员初始化顺序可变。</p> 
 <p>第四种：</p> 
 <p>因为C++中的struct可以看作class，结构体也可以拥有构造函数，所以我们可以通过结构体的构造函数来初始化结构体对象。</p> 
 <p>给定带有构造函数的结构体：</p> 
 <p>struct A {<!-- --></p> 
 <p>A(int a,int b){<!-- --></p> 
 <p>this-&gt;a=a;</p> 
 <p>this-&gt;b=b;</p> 
 <p>};</p> 
 <p>int b;</p> 
 <p>int c;</p> 
 <p>}</p> 
 <p>那么结构体对象的初始化可以像类对象的初始化那样，如下形式：</p> 
 <p>struct A a(1,2);</p> 
 <p>注意： struct如果定义了构造函数的话，就不能用大括号进行初始化了，即不能再使用前三种初始化的方式了。</p> 
 <p>2.CC++结构体的赋值</p> 
 <p>变量的赋值和初始化是不一样的，初始化是在变量定义的时候完成的，是属于变量定义的一部分，赋值是在变量定义完成之后想改变变量值的时候所采取的操作。</p> 
 <p>还是给定结构体A:</p> 
 <p>struct A {<!-- --></p> 
 <p>int b;</p> 
 <p>int c;</p> 
 <p>}</p> 
 <p>注意：结构体变量的赋值是不能采用大括号的方式进行赋值的，例如下面的赋值是不允许的。</p> 
 <p>struct A a;</p> 
 <p>//错误赋值</p> 
 <p>a={1,2};</p> 
 <p>下面列出常见结构体变量赋值的方法。</p> 
 <p>第一种：</p> 
 <p>使用memset对结构体变量进行置空操作：</p> 
 <p>//按照编译器默认的方式进行初始化(如果a是全局静态存储区的变量，默认初始化为0，如果是栈上的局部变量，默认初始化为随机值)</p> 
 <p>struct A a;</p> 
 <p>memset(&amp;a,0,sizeof(a));</p> 
 <p>第二种：</p> 
 <p>依次给每一个结构体成员变量进行赋值：</p> 
 <p>struct A a;</p> 
 <p>a.b=1;</p> 
 <p>a.c=2;</p> 
 <p>第三种：</p> 
 <p>使用已有的结构体变量给另一个结构体变量赋值。也就是说结构体变量之间是可以相互赋值的。</p> 
 <p>struct A a={1,2};</p> 
 <p>struct A aa;</p> 
 <p>aa=a; //将已有的结构体变量付给aa</p> 
 <p>参考文献</p> 
 <p>[1] 2016腾讯春季校园实习招聘技术岗初试(一面)问题汇总(CC++后台)</p> 
 <p>[2] 结构体初始化</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/42794f4d5ef7e5545a1ee69b15fdb1c5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据流中的中位数 c语言,41 数据流中的中位数（时间效率）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb15df1a99746a17b645104b19222261/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【java小白入门篇】eclipse 经典快捷键</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>