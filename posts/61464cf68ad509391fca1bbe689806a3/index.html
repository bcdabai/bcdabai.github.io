<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信企业服务商如何自建代开发应用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信企业服务商如何自建代开发应用" />
<meta property="og:description" content="1、创建应用代开发模版 1.1、登录企业微信服务商后台管理，进入应用管理-&gt;应用代开发 页面，创建模版；
填写模版相关参数：
回调地址，用于模版事件回调
模版创建提交时，微信平台会发送验证信息到此地址，验证是否有效；
企业管理员扫模版的授权二维码时，发送的授权通知会调用此地址；
token
用于验证回调信息和事件信息内容中的签名是否有效
EncodingAESKey
用于模版回调事件中的信息内容的解密，模版应用后端主动发送信息到微信平台时消息的加密也使用到
1.2、模版创建完成后，模版就有了相关参数
1.3、接收推送的suite_ticket
在模版回调地址里，要有接收suite_ticket的处理逻辑，企业微信服务器会定时（每十分钟）推送ticket，
若开发者想立即获得ticket推送值，可以点击上面的模版信息里的 【刷新ticket】按钮，将直接触发推送事件；
开发人员在后端，要把每次推送过来的ticket记录到数据库或文件中。
（用于获取第三方应用凭证 suite_access_token，suite_access_token 在模版获取企业永久授权码时使用，企业永久授权码 就是 代开发应用的 secret ）
2、模版上线审核 审核完成后，模版会生成授权二维码
3、客户企业微信管理员授权 将模版的授权二维码发给客户企业微信的管理员，管理员扫码完成授权，这时，模版详情页面，就会显示授权企业客户和代开发应用。
4、代开发应用配置 点击 模版详情页面显示的 代开发应用列表里的代开发应用，配置代开发应用 ， 点击应用secret【重新获取】，微信平台会发送重新获取secret的事件到代开发应用回调地址，开发人员要在接收事件后，调用获取企业永久授权码API，取到授权企业微信的ID、永久授权码（就是密钥）、授权应用ID，把这三个参数配置到我们程序里。
注意：回调可信域名要与回调地址域名一致，域名前没有www的，这边配置的可信域名也不能有www前缀
主要配置为：
权限设置，编辑配置后，需要企业管理员授权确认才有效应用主页地址可信域名 5、上线代开发应用 提交代开发应用上线审核，审核通过后，提交应用上线。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/61464cf68ad509391fca1bbe689806a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-05T10:46:28+08:00" />
<meta property="article:modified_time" content="2023-06-05T10:46:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信企业服务商如何自建代开发应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1、创建应用代开发模版</h3> 
<p>1.1、登录企业微信服务商后台管理，进入应用管理-&gt;应用代开发 页面，创建模版；</p> 
<p>填写模版相关参数：</p> 
<ul><li> <p>回调地址，用于模版事件回调</p> 
  <blockquote> 
   <p>模版创建提交时，微信平台会发送验证信息到此地址，验证是否有效；</p> 
   <p>企业管理员扫模版的授权二维码时，发送的授权通知会调用此地址；</p> 
  </blockquote> </li><li> <p>token</p> 
  <blockquote> 
   <p>用于验证回调信息和事件信息内容中的签名是否有效</p> 
  </blockquote> </li><li> <p>EncodingAESKey</p> 
  <blockquote> 
   <p>用于模版回调事件中的信息内容的解密，模版应用后端主动发送信息到微信平台时消息的加密也使用到</p> 
  </blockquote> </li></ul> 
<p>1.2、模版创建完成后，模版就有了相关参数</p> 
<p><img src="https://images2.imgbox.com/45/5a/U5Z4UbH7_o.png" alt="image-20220107163227366"></p> 
<p>1.3、接收推送的suite_ticket</p> 
<p>在模版回调地址里，要有接收suite_ticket的处理逻辑，企业微信服务器会定时（每十分钟）推送ticket，</p> 
<p>若开发者想立即获得ticket推送值，可以点击上面的模版信息里的 【刷新ticket】按钮，将直接触发推送事件；</p> 
<p>开发人员在后端，要把每次推送过来的ticket记录到数据库或文件中。</p> 
<p><em>（用于获取第三方应用凭证 suite_access_token，suite_access_token 在模版获取企业永久授权码时使用，企业永久授权码 就是 代开发应用的 secret ）</em></p> 
<h3><a id="2_38"></a>2、模版上线审核</h3> 
<p>审核完成后，模版会生成授权二维码</p> 
<h3><a id="3_44"></a>3、客户企业微信管理员授权</h3> 
<p>将模版的授权二维码发给客户企业微信的管理员，管理员扫码完成授权，这时，模版详情页面，就会显示授权企业客户和代开发应用。</p> 
<p><img src="https://images2.imgbox.com/0a/61/DBI73GMr_o.png" alt="image-20221202171531707"></p> 
<h3><a id="4_52"></a>4、代开发应用配置</h3> 
<p>点击 模版详情页面显示的 代开发应用列表里的代开发应用，配置代开发应用 ， 点击应用secret【重新获取】，微信平台会发送重新获取secret的事件到代开发应用回调地址，开发人员要在接收事件后，调用获取企业永久授权码API，取到授权企业微信的ID、永久授权码（就是密钥）、授权应用ID，把这三个参数配置到我们程序里。</p> 
<p><strong>注意：回调可信域名要与回调地址域名一致，域名前没有www的，这边配置的可信域名也不能有www前缀</strong></p> 
<p>主要配置为：</p> 
<ul><li>权限设置，编辑配置后，需要企业管理员授权确认才有效</li><li>应用主页地址</li><li>可信域名</li></ul> 
<p><img src="https://images2.imgbox.com/dd/31/TI6ZzvyB_o.png" alt="image-20221202171631857"></p> 
<h3><a id="5_70"></a>5、上线代开发应用</h3> 
<p>提交代开发应用上线审核，审核通过后，提交应用上线。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/286ca51c22eb124fa60a6f753568269a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java数组的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7e3b5d5d3de2b780530656d4e9c5090/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">selenium模拟登陆(智慧南工)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>