<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java中实现http请求的方式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java中实现http请求的方式" />
<meta property="og:description" content="在java开发中，经常遇到需要调用第三方提供的接口服务的需求，下面对实现http请求的方式进行浅入浅析并进行实例尝试。若是普通java工程推荐使用OkHttpClient，若是spring工程推荐使用RestTemplate。
在java开发中，实现访问第三方接口服务的常见方式：
通过JDK类 Java.net.HttpURLConnection; 通过commons-httpclient封装好的HttpClient； 通过org.apache.httpcomponents封装好的CloseableHttpClient； 通过com.squareup.okhttp3封装好的OkHttpClient； 通过springboot中RestTemplate； HttpURLConnection JDK原生提供的net包，无需其他jar包，实例如下
public class HttpUrlConnectionClientUtil { /** * Http get请求 * @param httpUrl 连接 * @return 响应数据 */ public static String doGet(String httpUrl){ HttpURLConnection connection = null; InputStream is = null; BufferedReader br = null; StringBuffer result = new StringBuffer(); try { //创建连接 URL url = new URL(httpUrl); connection = (HttpURLConnection) url.openConnection(); //设置请求方式 connection.setRequestMethod(&#34;GET&#34;); //设置连接超时时间 connection.setReadTimeout(15000); //开始连接 connection.connect(); //获取响应数据 if (connection.getResponseCode() == 200) { //获取返回的数据 is = connection." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/18d0b15c1ee966aaa0e7c27f0449f831/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-26T02:18:52+08:00" />
<meta property="article:modified_time" content="2023-03-26T02:18:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java中实现http请求的方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="">在java开发中，经常遇到需要调用第三方提供的接口服务的需求，下面对实现http请求的方式进行浅入浅析并进行实例尝试。若是普通java工程推荐使用OkHttpClient，若是spring工程推荐使用RestTemplate。</p> 
 <p style="">在java开发中，实现访问第三方接口服务的常见方式：</p> 
 <blockquote class="kdocs-blockquote" style="">
   通过JDK类 
  <a class="kdocs-link" style="color:#0A6CFF;" href="https://Java.net" rel="nofollow noopener noreferrer" target="_blank">Java.net</a>.HttpURLConnection; 
  <br>通过commons-httpclient封装好的HttpClient； 
  <br>通过org.apache.httpcomponents封装好的CloseableHttpClient； 
  <br>通过com.squareup.okhttp3封装好的OkHttpClient； 
  <br>通过springboot中RestTemplate； 
 </blockquote> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h2>HttpURLConnection</h2></li></ol> 
 <p style="">JDK原生提供的net包，无需其他jar包，实例如下</p> 
 <pre class="kdocs-java"><code class="language-java">public class HttpUrlConnectionClientUtil {

    /**
     * Http get请求
     * @param httpUrl 连接
     * @return 响应数据
     */
    public static String doGet(String httpUrl){
        HttpURLConnection connection = null;
        InputStream is = null;
        BufferedReader br = null;
        StringBuffer result = new StringBuffer();
        try {
            //创建连接
            URL url = new URL(httpUrl);
            connection = (HttpURLConnection) url.openConnection();
            //设置请求方式
            connection.setRequestMethod("GET");
            //设置连接超时时间
            connection.setReadTimeout(15000);
            //开始连接
            connection.connect();
            //获取响应数据
            if (connection.getResponseCode() == 200) {
                //获取返回的数据
                is = connection.getInputStream();
                if (null != is) {
                    br = new BufferedReader(new InputStreamReader(is, "UTF-8"));
                    String temp = null;
                    while (null != (temp = br.readLine())) {
                        result.append(temp);
                    }
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (null != br) {
                try {
                    br.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            if (null != is) {
                try {
                    is.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            //关闭远程连接
            connection.disconnect();
        }
        return result.toString();
    }

    /**
     * Http post请求
     * @param httpUrl 连接
     * @param param 参数
     * @return
     */
    public static String doPost(String httpUrl, String param) {
        HttpURLConnection connection = null;
        OutputStream os = null;
        InputStream is = null;
        BufferedReader br = null;
        StringBuffer result = new StringBuffer();
        try {
            //创建连接对象
            URL url = new URL(httpUrl);
            //创建连接
            connection = (HttpURLConnection) url.openConnection();
            //设置请求方法
            connection.setRequestMethod("POST");
            //设置连接超时时间
            connection.setConnectTimeout(15000);
            //设置读取超时时间
            connection.setReadTimeout(15000);
            //DoOutput设置是否向httpUrlConnection输出，DoInput设置是否从httpUrlConnection读入，此外发送post请求必须设置这两个
            //设置是否可读取
            connection.setDoOutput(true);
            connection.setDoInput(true);
            //设置通用的请求属性
            connection.setRequestProperty("accept", "*/*");
            connection.setRequestProperty("connection", "Keep-Alive");
            connection.setRequestProperty("user-agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)");
            connection.setRequestProperty("Content-Type", "application/json;charset=utf-8");

            //拼装参数
            if (null != param &amp;&amp; !param.equals("")) {
                //设置参数
                os = connection.getOutputStream();
                //拼装参数
                os.write(param.getBytes("UTF-8"));
            }
            //读取响应
            if (connection.getResponseCode() == 200) {
                is = connection.getInputStream();
                if (null != is) {
                    br = new BufferedReader(new InputStreamReader(is, "UTF-8"));
                    String temp = null;
                    while (null != (temp = br.readLine())) {
                        result.append(temp);
                        result.append("\r\n");
                    }
                }
            }
        } catch (MalformedURLException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if(br!=null){
                try {
                    br.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            if(os!=null){
                try {
                    os.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            if(is!=null){
                try {
                    is.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            //关闭连接
            connection.disconnect();
        }
        return result.toString();
    }

    public static void main(String[] args) {
        String messageByGet = doGet("http://***");
        *** resultByGet = JSON.parseObject(messageByGet, ***.class);
        System.out.println(resultByGet);
        Map param = new HashMap&lt;&gt;();
        param.put("name","admin");
        String str = JSON.toJSONString(param);
        String messageByPost = doPost("http://***", str);
        *** resultByPost = JSON.parseObject(messageByPost, ***.class);
        System.out.println(resultByPost);
    }
}
</code></pre> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h2>HttpClient</h2></li></ol> 
 <p style="text-align:null;">HttpClient别名：HttpComponents</p> 
 <p style="text-align:null;">HttpClient可以发送get、post、put、delete、…等请求</p> 
 <blockquote class="kdocs-blockquote" style="">
   引入依赖： 
  <br>&lt;dependency&gt; 
  <br> &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; 
  <br> &lt;artifactId&gt;httpclient&lt;/artifactId&gt; 
  <br> &lt;version&gt;4.4&lt;/version&gt; 
  <br>&lt;/dependency&gt; 
 </blockquote> 
 <p style="text-align:null;">发起Get请求</p> 
 <blockquote class="kdocs-blockquote" style="">
   1创建一个客户端 CloseableHttpClient 
  <br>2创建一个get方法请求实例 HttpGet 
  <br>3发送请求 execute 
  <br>4获取响应的头信息 
  <br>5获取响应的主题内容 
  <br>6关闭响应对象 
 </blockquote> 
 <pre class="kdocs-java"><code class="language-java">public class HttpClientUtil {
    /**
     * httpClient的get请求方式
     * 使用GetMethod来访问一个URL对应的网页实现步骤：
     * 1.生成一个HttpClient对象并设置相应的参数；
     * 2.生成一个GetMethod对象并设置响应的参数；
     * 3.用HttpClient生成的对象来执行GetMethod生成的Get方法；
     * 4.处理响应状态码；
     * 5.若响应正常，处理HTTP响应内容；
     * 6.释放连接。
     * @param url
     * @param charset
     * @return
     */
    public static String doGet(String url, String charset) {
        //1.生成HttpClient对象并设置参数
        HttpClient httpClient = new HttpClient();
        //设置Http连接超时为5秒
        httpClient.getHttpConnectionManager().getParams().setConnectionTimeout(5000);
        //2.生成GetMethod对象并设置参数
        GetMethod getMethod = new GetMethod(url);
        //设置get请求超时为5秒
        getMethod.getParams().setParameter(HttpMethodParams.SO_TIMEOUT, 5000);
        //设置请求重试处理，用的是默认的重试处理：请求三次
        getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, new DefaultHttpMethodRetryHandler());
        String response = "";
        //3.执行HTTP GET 请求
        try {
            int statusCode = httpClient.executeMethod(getMethod);
            //4.判断访问的状态码
            if (statusCode != HttpStatus.SC_OK) {
                System.err.println("请求出错：" + getMethod.getStatusLine());
            }
            //5.处理HTTP响应内容
            //HTTP响应头部信息，这里简单打印
            Header[] headers = getMethod.getResponseHeaders();
            for(Header h : headers) {
                System.out.println(h.getName() + "headers:" + h.getValue());
            }
            //读取HTTP响应内容，这里简单打印网页内容
            //读取为字节数组
            byte[] responseBody = getMethod.getResponseBody();
            response = new String(responseBody, charset);
            System.out.println("response:" + response);
            //读取为InputStream，在网页内容数据量大时候推荐使用
            //InputStream response = getMethod.getResponseBodyAsStream();
        } catch (HttpException e) {
            System.out.println("请检查输入的URL!");
            e.printStackTrace();
        } catch (IOException e) {
            //发生网络异常
            System.out.println("发生网络异常!");
        } finally {
            //6.释放连接
            getMethod.releaseConnection();
        }
        return response;
    }

    /**
     * post请求
     * @param url
     * @param json
     * @return
     */
    public static String doPost(String url, JSONObject json, String charset){
        HttpClient httpClient = new HttpClient();
        PostMethod postMethod = new PostMethod(url);
        postMethod.addRequestHeader("accept", "*/*");
        postMethod.addRequestHeader("connection", "Keep-Alive");
        //设置json格式传送
        postMethod.addRequestHeader("Content-Type", "application/json;charset=utf-8");
        //必须设置下面这个Header
        postMethod.addRequestHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.81 Safari/537.36");
        //添加请求参数
        //postMethod.addParameter("params", json.toJSONString());
        try {
            postMethod.setRequestEntity(new StringRequestEntity(json.toJSONString(), "application/json", "utf-8"));
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
        String response = "";
        try {
            int code = httpClient.executeMethod(postMethod);
            if (code == 200){
                byte[] responseBody = postMethod.getResponseBody();
                response = new String(responseBody, charset);
                System.out.println("response:" + response);
                // 返回值中文乱码
                //response = postMethod.getResponseBodyAsString();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        return response;
    }

    public static void main(String[] args) {
        String messageByGet = doGet("http://***", "UTF-8");
        System.out.println(messageByGet);
        JSONObject jsonObject = new JSONObject();
        jsonObject.put("name","admin");
        String messageByPost = doPost("http://***", jsonObject, "UTF-8");
        System.out.println(messageByPost);
    }
}
</code></pre> 
 <p style="text-align:null;">/*</p> 
 <p style="text-align:null;"> * 演示：使用HttpClient发起带有参数的POST请求</p> 
 <p style="text-align:null;"> */</p> 
 <pre class="kdocs-java"><code class="language-java">public class DoPOSTParam {
    public static void main(String[] args) throws Exception {
        // 创建Httpclient对象
        CloseableHttpClient httpclient = HttpClients.createDefault();
        // 创建http POST请求，访问开源中国
        HttpPost httpPost = new HttpPost("http://www.oschina.net/search");
        // 根据开源中国的请求需要，设置post请求参数
        List&lt;NameValuePair&gt; parameters = new ArrayList&lt;NameValuePair&gt;(0);
        parameters.add(new BasicNameValuePair("scope", "project"));
        parameters.add(new BasicNameValuePair("q", "java"));
        parameters.add(new BasicNameValuePair("fromerr", "8bDnUWwC"));
        // 构造一个form表单式的实体
        UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(parameters);
        // 将请求实体设置到httpPost对象中
        httpPost.setEntity(formEntity);
        CloseableHttpResponse response = null;
        try {
            // 执行请求
            response = httpclient.execute(httpPost);
            // 判断返回状态是否为200
            if (response.getStatusLine().getStatusCode() == 200) {
                // 解析响应体
                String content = EntityUtils.toString(response.getEntity(), "UTF-8");
                System.out.println(content);
            }
        } finally {
            if (response != null) {
                response.close();
            }
            // 关闭浏览器
            httpclient.close();
        }
    }
}</code></pre> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h2>CloseableHttpClient</h2></li></ol> 
 <blockquote class="kdocs-blockquote" style="">
   &lt;dependency&gt; 
  <br> &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt; 
  <br> &lt;artifactId&gt;httpclient&lt;/artifactId&gt; 
  <br> &lt;version&gt;4.5.2&lt;/version&gt; 
  <br> &lt;/dependency&gt; 
  <br> 
 </blockquote> 
 <pre class="kdocs-java"><code class="language-java">public class CloseableHttpClientUtil {

    private static String tokenString = "";
    private static String AUTH_TOKEN_EXPIRED = "AUTH_TOKEN_EXPIRED";
    private static CloseableHttpClient httpClient = null;

    /**
     * 以get方式调用第三方接口
     * @param url
     * @param token
     * @return
     */
    public static String doGet(String url, String token) {
        //创建HttpClient对象
        CloseableHttpClient httpClient = HttpClientBuilder.create().build();
        HttpGet httpGet = new HttpGet(url);
        if (null != tokenString &amp;&amp; !tokenString.equals("")) {
            tokenString = getToken();
        }
        //api_gateway_auth_token自定义header头，用于token验证使用
        httpGet.addHeader("api_gateway_auth_token",tokenString);
        httpGet.addHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.81 Safari/537.36");
        try {
            HttpResponse response = httpClient.execute(httpGet);
            if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
                //返回json格式
                String res = EntityUtils.toString(response.getEntity());
                return res;
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }

    /**
     * 以post方式调用第三方接口
     * @param url
     * @param json
     * @return
     */
    public static String doPost(String url, JSONObject json) {
        if (null == httpClient) {
            httpClient = HttpClientBuilder.create().build();
        }
        HttpPost httpPost = new HttpPost(url);
        if (null != tokenString &amp;&amp; tokenString.equals("")) {
            tokenString = getToken();
        }
        //api_gateway_auth_token自定义header头，用于token验证使用
        httpPost.addHeader("api_gateway_auth_token", tokenString);
        httpPost.addHeader("User-Agent", "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.81 Safari/537.36");
        try {
            StringEntity stringEntity = new StringEntity(json.toString());
            stringEntity.setContentEncoding("UTF-8");
            //发送json数据需要设置contentType
            stringEntity.setContentType("application/json;charset=utf-8");
            //设置请求参数
            httpPost.setEntity(stringEntity);
            HttpResponse response = httpClient.execute(httpPost);
            if (response.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {
                //返回json格式
                String res = EntityUtils.toString(response.getEntity());
                return res;
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (httpClient != null){
                try {
                    httpClient.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
        return null;
    }

    public static void main(String[] args) {
        String messageByGet = doGet("http://***", "");
        System.out.println(messageByGet);
        JSONObject jsonObject = new JSONObject();
        jsonObject.put("name","admin");
        String response = doPost("http://***", jsonObject);
        System.out.println(response);
    }
}
</code></pre> 
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h2>OkHttpClient</h2></li></ol> 
 <blockquote class="kdocs-blockquote" style="">
   &lt;dependency&gt; 
  <br> &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; 
  <br> &lt;artifactId&gt;okhttp&lt;/artifactId&gt; 
  <br> &lt;version&gt;3.10.0&lt;/version&gt; 
  <br> &lt;/dependency&gt; 
  <br> 
 </blockquote> 
 <pre class="kdocs-java"><code class="language-java">@Slf4j
public class OkHttpClientUtil {

    private volatile static OkHttpClient client;

    private static final MediaType JSON = MediaType.parse("application/json; charset=utf-8");

    private static final int MAX_IDLE_CONNECTION = 10;

    private static final long KEEP_ALIVE_DURATION = 60;

    private static final long CONNECT_TIMEOUT = 30;

    private static final long READ_TIMEOUT = 30;

    /**
     * 单例模式(双重检查模式) 获取类实例
     *
     * @return client
     */
    private static OkHttpClient getInstance() {
        if (client == null) {
            synchronized (OkHttpClient.class) {
                if (client == null) {
                    client = new OkHttpClient.Builder()
                            .connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)
                            .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)
                            .connectionPool(new ConnectionPool(MAX_IDLE_CONNECTION, KEEP_ALIVE_DURATION,TimeUnit.MINUTES))
                            .build();
                }
            }
        }
        return client;
    }

    public static String syncPost(String url, String json) {
        RequestBody body = RequestBody.create(JSON, json);
        Request request = new Request.Builder()
                .url(url)
                .post(body)
                .build();
        try {
            Response response = OkHttpClientUtil.getInstance().newCall(request).execute();
            if (response.isSuccessful()) {
                String result = response.body().string();
                log.info("syncPost response = {}, responseBody= {}", response, result);
                return result;
            }
            String result = response.body().string();
            log.info("syncPost response = {}, responseBody= {}", response, result);
            throw new IOException("三方接口返回http状态码为" + response.code());
        } catch (Exception e) {
            log.error("syncPost() url:{} have a ecxeption {}", url, e);
            throw new RuntimeException("syncPost() have a ecxeption {}" + e.getMessage());
        }
    }

    public static String syncGet(String url, Map&lt;String, Object&gt; headParamsMap) {
        Request request;
        final Request.Builder builder = new Request.Builder().url(url);
        try {
            if (!CollectionUtils.isEmpty(headParamsMap)) {
                final Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; iterator = headParamsMap.entrySet().iterator();
                while (iterator.hasNext()) {
                    final Map.Entry&lt;String, Object&gt; entry = iterator.next();
                    builder.addHeader(entry.getKey(), (String) entry.getValue());
                }
            }
            request = builder.build();
            Response response = OkHttpClientUtil.getInstance().newCall(request).execute();
            String result = response.body().string();
            log.info("syncGet response = {},responseBody= {}", response, result);
            if (!response.isSuccessful()) {
                throw new IOException("三方接口返回http状态码为" + response.code());
            }
            return result;
        } catch (Exception e) {
            log.error("remote interface url:{} have a ecxeption {}", url, e);
            throw new RuntimeException("三方接口返回异常");
        }
    }

    public static void main(String[] args) {
        String messageByGet = syncGet("http://***", null);
        System.out.println(messageByGet);
        JSONObject jsonObject = new JSONObject();
        jsonObject.put("pageNum", 1);
        jsonObject.put("pageSize", 10);
        jsonObject.put("name","admin");
        String messageByPost = syncPost("http://***", jsonObject.toJSONString());
        System.out.println(messageByPost);
    }

}
</code></pre> 
 <ol start="5"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h2>RestTemplate</h2></li></ol> 
 <p style="">RestTemplate是Spring提供的用于访问Rest服务的客户端，RestTemplate提供了多种便捷访问远程Http服务的方法，能够大大提高客户端的编写效率。RestTemplate提供了常见的REST请求方案的模版，例如 GET 请求、POST 请求、PUT 请求、DELETE 请求以及一些通用的请求执行方法 exchange 以及 execute。</p> 
 <blockquote class="kdocs-blockquote" style="">
   &lt;dependency&gt; 
  <br> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; 
  <br> &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; 
  <br> &lt;/dependency&gt; 
  <br> 
 </blockquote> 
 <p style="">设置配置类</p> 
 <pre class="kdocs-java"><code class="language-java">@Configuration
public class RestTemplateConfig {

    @Bean
    public RestTemplate restTemplate(ClientHttpRequestFactory factory){
        return new RestTemplate(factory);
    }

    @Bean
    public ClientHttpRequestFactory simpleClientHttpRequestFactory(){
        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();
        factory.setConnectTimeout(15000);
        factory.setReadTimeout(5000);
        return factory;
    }
}
</code></pre> 
 <p style="">测试</p> 
 <pre class="kdocs-java"><code class="language-java">@Autowired
    private RestTemplate restTemplate;

    private static final String getUrl = "http://***";

    private static final String postUrl = "http://***";

    @Test
    void get1() {
        ResponseEntity&lt;ResponseData&gt; responseEntity = restTemplate.getForEntity(getUrl, ResponseData.class);
        ResponseData responseData = responseEntity.getBody();
        System.out.println(responseData);
    }

    @Test
    void get2() {
        ResponseData responseData = restTemplate.getForObject(getUrl, ResponseData.class);
        System.out.println(responseData);
    }

    @Test
    void post1() {
        Map param = new HashMap&lt;&gt;();
        param.put("name","admin");
        ResponseEntity&lt;String&gt; responseEntity = restTemplate.postForEntity(postUrl, param, String.class);
        String body = responseEntity.getBody();
        System.out.println(body);
    }

    @Test
    void post2() {
        Map param = new HashMap&lt;&gt;();
        param.put("name","admin");
        String body = restTemplate.postForObject(postUrl, param, String.class);
        System.out.println(body);
    }

    @Test
    void exchange() {
        //header参数
        HttpHeaders headers = new HttpHeaders();
        String token = "1234567890";
        headers.add("Authorization", token);
        headers.setContentType(MediaType.APPLICATION_JSON);

        //放入body中的json参数
        JSONObject jsonObject = new JSONObject();
        jsonObject.put("pageNum", 1);
        jsonObject.put("pageSize", 10);
        jsonObject.put("name","admin");

        //组装
        HttpEntity&lt;JSONObject&gt; request = new HttpEntity&lt;&gt;(jsonObject, headers);

        ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(postUrl, HttpMethod.POST, request, String.class);
        String body = responseEntity.getBody();
        System.out.println(body);
    }

</code></pre> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73784584fc9e3ebfe01ea0cd5de1512e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【STM32Cube】学习笔记（五）：红外避障传感器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8534c5553548dd5d0502b1da84641a64/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VSCode常用插件安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>