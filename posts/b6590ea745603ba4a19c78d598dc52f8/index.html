<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>log4j.xml配置详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="log4j.xml配置详解" />
<meta property="og:description" content="Xml代码
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE log4j:configuration SYSTEM &#34;log4j.dtd&#34;&gt; &lt;log4j:configuration xmlns:log4j=&#39;http://jakarta.apache.org/log4j/&#39; &gt; &lt;appender name=&#34;myConsole&#34; class=&#34;org.apache.log4j.ConsoleAppender&#34;&gt; &lt;layout class=&#34;org.apache.log4j.PatternLayout&#34;&gt; &lt;param name=&#34;ConversionPattern&#34; value=&#34;[%d{dd HH:mm:ss,SSS\} %-5p] [%t] %c{2\} - %m%n&#34; /&gt; &lt;/layout&gt; &lt;!--过滤器设置输出的级别--&gt; &lt;filter class=&#34;org.apache.log4j.varia.LevelRangeFilter&#34;&gt; &lt;param name=&#34;levelMin&#34; value=&#34;debug&#34; /&gt; &lt;param name=&#34;levelMax&#34; value=&#34;warn&#34; /&gt; &lt;param name=&#34;AcceptOnMatch&#34; value=&#34;true&#34; /&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;appender name=&#34;myFile&#34; class=&#34;org.apache.log4j.RollingFileAppender&#34;&gt; &lt;param name=&#34;File&#34; value=&#34;D:/output.log&#34; /&gt;&lt;!-- 设置日志输出文件名 --&gt; &lt;!-- 设置是否在重新启动服务时，在原有日志的基础添加新日志 --&gt; &lt;param name=&#34;Append&#34; value=&#34;true&#34; /&gt; &lt;param name=&#34;MaxBackupIndex&#34; value=&#34;10&#34; /&gt; &lt;layout class=&#34;org.apache.log4j.PatternLayout&#34;&gt; &lt;param name=&#34;ConversionPattern&#34; value=&#34;%p (%c:%L)- %m%n&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b6590ea745603ba4a19c78d598dc52f8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-12-13T20:58:52+08:00" />
<meta property="article:modified_time" content="2015-12-13T20:58:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">log4j.xml配置详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> Xml代码</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <br> &lt;?xml version="1.0" encoding="UTF-8"?&gt;     <br> &lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;     <br>         <br> &lt;log4j:configuration xmlns:log4j='http://jakarta.apache.org/log4j/' &gt;     <br>         <br>     &lt;appender name="myConsole" class="org.apache.log4j.ConsoleAppender"&gt;     <br>         &lt;layout class="org.apache.log4j.PatternLayout"&gt;     <br>             &lt;param name="ConversionPattern"        <br>                 value="[%d{dd HH:mm:ss,SSS\} %-5p] [%t] %c{2\} - %m%n" /&gt;     <br>         &lt;/layout&gt;     <br>         &lt;!--过滤器设置输出的级别--&gt;     <br>         &lt;filter class="org.apache.log4j.varia.LevelRangeFilter"&gt;     <br>             &lt;param name="levelMin" value="debug" /&gt;     <br>             &lt;param name="levelMax" value="warn" /&gt;     <br>             &lt;param name="AcceptOnMatch" value="true" /&gt;     <br>         &lt;/filter&gt;     <br>     &lt;/appender&gt;     <br>      <br>     &lt;appender name="myFile" class="org.apache.log4j.RollingFileAppender"&gt;        <br>         &lt;param name="File" value="D:/output.log" /&gt;&lt;!-- 设置日志输出文件名 --&gt;     <br>         &lt;!-- 设置是否在重新启动服务时，在原有日志的基础添加新日志 --&gt;     <br>         &lt;param name="Append" value="true" /&gt;     <br>         &lt;param name="MaxBackupIndex" value="10" /&gt;     <br>         &lt;layout class="org.apache.log4j.PatternLayout"&gt;     <br>             &lt;param name="ConversionPattern" value="%p (%c:%L)- %m%n" /&gt;     <br>         &lt;/layout&gt;     <br>     &lt;/appender&gt;     <br>        <br>     &lt;appender name="activexAppender" class="org.apache.log4j.DailyRollingFileAppender"&gt;     <br>         &lt;param name="File" value="E:/activex.log" /&gt;       <br>         &lt;param name="DatePattern" value="'.'yyyy-MM-dd'.log'" /&gt;       <br>         &lt;layout class="org.apache.log4j.PatternLayout"&gt;     <br>          &lt;param name="ConversionPattern"       <br>             value="[%d{MMdd HH:mm:ss SSS\} %-5p] [%t] %c{3\} - %m%n" /&gt;     <br>         &lt;/layout&gt;       <br>     &lt;/appender&gt;     </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">     &lt;appender name="db" class="com.myProject.util.log.ExtendAppender"&gt;   <br>         &lt;!--  &lt;layout class="org.apache.log4j.PatternLayout"&gt;   <br>             &lt;param name="ConversionPattern"   <br>                 value="insert into OPERLOG (id, logdate, loglevel, module, function, message) values (seq_OPERLOG.nextval, \'%d\',\'%p\', \'%c{1}\', \'%M\', \'%m\')" /&gt;   <br>         &lt;/layout&gt; --&gt;  <br>     &lt;/appender&gt; <br>         <br>     &lt;!-- 指定logger的设置，additivity指示是否遵循缺省的继承机制--&gt;     <br>     &lt;logger name="com.runway.bssp.activeXdemo" additivity="false"&gt;     <br>         &lt;priority value ="info"/&gt;       <br>         &lt;appender-ref ref="activexAppender" /&gt;       <br>     &lt;/logger&gt;     <br>      &lt;logger name="java.sql"&gt;  <br>         &lt;level value="INFO"/&gt;  <br>     &lt;/logger&gt;  <br>     &lt;!-- 根logger的设置--&gt;     <br>     &lt;root&gt;     <br>         &lt;priority value ="debug"/&gt;     <br>         &lt;appender-ref ref="myConsole"/&gt;     <br>         &lt;appender-ref ref="myFile"/&gt;        <br>     &lt;/root&gt;     <br> &lt;/log4j:configuration&gt;</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> (1). 输出方式appender一般有5种： <br> <br>              org.apache.<span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">log4j</span></span>.RollingFileAppender(滚动文件，自动记录最新日志) <br>              org.apache.<span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">log4j</span></span>.ConsoleAppender (控制台)  <br>              org.apache.<span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">log4j</span></span>.FileAppender (文件) <br>              org.apache.<span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">log4j</span></span>.DailyRollingFileAppender (每天产生一个日志文件) <br>              org.apache.<span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">log4j</span></span>.WriterAppender (将日志信息以流格式发送到任意指定的地方) <br> <br> <br> <br> (2). 日记记录的优先级priority，优先级由高到低分为 <br>             OFF ,FATAL ,ERROR ,WARN ,INFO ,DEBUG ,ALL。 <br>             <span class="hilite1" style="background-color:rgb(255,255,0)"><span style="background-color:rgb(255,255,255)">Log4j</span></span>建议只使用FATAL ,ERROR ,WARN ,INFO ,DEBUG这五个级别。 <br> <br> <br> <br> (3). 格式说明layout中的参数都以%开始，后面不同的参数代表不同的格式化信息（参数按字母表顺序列出）： <br>                 %c        输出所属类的全名，可在修改为 %d{Num} ,Num类名输出的维（如："org.apache.elathen.ClassName",%C{2}将输出elathen.ClassName） <br>                 %d       输出日志时间其格式为 %d{yyyy-MM-dd HH:mm:ss,SSS}，可指定格式 如 %d{HH:mm:ss} <br>                 %l        输出日志事件发生位置，包括类目名、发生线程，在代码中的行数 <br>                 %n       换行符 <br>                 %m      输出代码指定信息，如info(“message”),输出message <br>                 %p       输出优先级，即 FATAL ,ERROR 等 <br>                 %r        输出从启动到显示该log信息所耗费的毫秒数 <br>                 %t        输出产生该日志事件的线程名</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> xml declaration and DTD</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> xml配置文件的头部包括两个部分：xml声明和DTD声明。头部的格式如下：</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<pre class="code" style="font-size:14px; line-height:25.2px; background-color:rgb(255,255,255)">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;
          </pre> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N101BE" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_configuration" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> log4j:configuration (root element)</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>xmlns:log4j</strong> [#FIXED attribute] : 定义log4j的名字空间，取定值"http://jakarta.apache.org/log4j/"</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>appender</strong> [* child] : 一个appender子元素定义一个日志输出目的地</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>logger</strong> [* child] : 一个logger子元素定义一个日志写出器</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>root</strong> [? child] : root子元素定义了root logger</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N101DF" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_appender" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> appender</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> appender元素定义一个日志输出目的地。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>name</strong> [#REQUIRED attribute] : 定义appender的名字，以便被后文引用</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>class</strong> [#REQUIRED attribute] : 定义appender对象所属的类的全名</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>param</strong> [* child] : 创建appender对象时传递给类构造方法的参数</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>layout</strong> [? child] : 该appender使用的layout对象</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N10203" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_layout" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> layout</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> layout元素定义与某一个appender相联系的日志格式化器。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>class</strong> [#REQUIRED attribute] : 定义layout对象所属的类的全名</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>param</strong> [* child] : 创建layout对象时传递给类构造方法的参数</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N1021D" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_logger" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> logger</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> logger元素定义一个日志输出器。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>name</strong> [#REQUIRED attribute] : 定义logger的名字，以便被后文引用</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>additivity</strong> [#ENUM attribute] : 取值为"true"（默认）或者"false"，是否继承父logger的属性</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>level</strong> [? child] : 定义该logger的日志级别</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>appender-ref</strong> [* child] : 定义该logger的输出目的地</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N10241" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_root" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> root</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> root元素定义根日志输出器root logger。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>param</strong> [* child] : 创建root logger对象时传递给类构造方法的参数</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>level</strong> [? child] : 定义root logger的日志级别</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>appender-ref</strong> [* child] : 定义root logger的输出目的地</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N10260" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_level" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> level</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> level元素定义logger对象的日志级别。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>class</strong> [#IMPLIED attribute] : 定义level对象所属的类，默认情况下是"org.apache.log4j.Level类</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>value</strong> [#REQUIRED attribute] : 为level对象赋值。可能的取值从小到大依次为"all"、"debug"、"info"、"warn"、"error"、"fatal"和"off"。当值为"off"时表示没有任何日志信息被输出</li><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>param</strong> [* child] : 创建level对象时传递给类构造方法的参数</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N1027F" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_appender-ref" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> appender-ref</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> appender-ref元素引用一个appender元素的名字，为logger对象增加一个appender。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>ref</strong> [#REQUIRED attribute] : 一个appender元素的名字的引用</li><li style="margin:0px 0px 0.25em 30px; padding:0px">appender-ref元素没有子元素</li></ul> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> <a target="_blank" name="N10297" style="color:rgb(233,101,14); text-decoration:underline"></a><a target="_blank" name="xmlconfig_param" style="color:rgb(233,101,14); text-decoration:underline"></a></p> 
<h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> param</h4> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> param元素在创建对象时为类的构造方法提供参数。它可以成为appender、layout、filter、errorHandler、level、categoryFactory和root等元素的子元素。</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px">  </p> 
<ul style="margin:0px 0px 1.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"><li style="margin:0px 0px 0.25em 30px; padding:0px"><strong>name</strong> and <strong>value</strong> [#REQUIRED attributes] : 提供参数的一组名值对</li><li style="margin:0px 0px 0.25em 30px; padding:0px">param元素没有子元素</li></ul> 
<h3 class="underlined_10" style="line-height:1.5em; margin:0px 0px 0.5em; padding:0px; font-family:Helvetica,Tahoma,Arial,sans-serif"> 在xml文件中配置appender和layout</h3> 
<div class="section" style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; line-height:25.2px"> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> 创建不同的Appender对象或者不同的Layout对象要调用不同的构造方法。可以使用param子元素来设定不同的参数值。</p> 
 <a target="_blank" name="N102BC" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <a target="_blank" name="xmlappenderlayout_consoleappender" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px"> 创建ConsoleAppender对象</h4> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> ConsoleAppender的构造方法不接受其它的参数。</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <pre class="code" style="font-size:1em">... ... ... ...
&lt;appender name="console.log" class="org.apache.log4j.ConsoleAppender"&gt;
  &lt;layout ... &gt;
    ... ...
  &lt;/layout&gt;
&lt;/appender&gt;
... ... ... ...
          </pre> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <a target="_blank" name="N102CC" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <a target="_blank" name="xmlappenderlayout_fileappender" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px"> 创建FileAppender对象</h4> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> 可以为FileAppender类的构造方法传递两个参数：File表示日志文件名；Append表示如文件已存在，是否把日志追加到文件尾部，可能取值为"true"和"false"（默认）。</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <pre class="code" style="font-size:1em">... ... ... ...
&lt;appender name="file.log" class="org.apache.log4j.FileAppender"&gt;
  &lt;param name="File" value="/tmp/log.txt" /&gt;
  &lt;param name="Append" value="false" /&gt;
  &lt;layout ... &gt;
    ... ...
  &lt;/layout&gt;
&lt;/appender&gt;
... ... ... ...
          </pre> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <a target="_blank" name="N102DC" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <a target="_blank" name="xmlappenderlayout" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px"> 创建RollingFileAppender对象</h4> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> 除了File和Append以外，还可以为RollingFileAppender类的构造方法传递两个参数：MaxBackupIndex备份日志文件的个数（默认是1个）；MaxFileSize表示日志文件允许的最大字节数（默认是10M）。</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <pre class="code" style="font-size:1em">... ... ... ...
&lt;appender name="rollingFile.log" class="org.apache.log4j.RollingFileAppender"&gt;
  &lt;param name="File" value="/tmp/rollingLog.txt" /&gt;
  &lt;param name="Append" value="false" /&gt;
  &lt;param name="MaxBackupIndex" value="2" /&gt;
  &lt;param name="MaxFileSize" value="1024" /&gt;
  &lt;layout ... &gt;
    ... ...
  &lt;/layout&gt;
&lt;/appender&gt;
... ... ... ...
          </pre> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <a target="_blank" name="N102EC" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <a target="_blank" name="xmlappenderlayout_patternlayout" style="color:rgb(233,101,14); text-decoration:underline"></a> 
 <h4 class="underlined_5" style="font-size:1.2em; line-height:1.5em; margin:0px 0px 0.5em; padding:0px"> 创建PatternLayout对象</h4> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px"> 可以为PatternLayout类的构造方法传递参数ConversionPattern。</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px">  </p> 
 <pre class="code" style="font-size:1em">... ... ... ...
&lt;layout class="org.apache.log4j.PatternLayout&gt;
  &lt;param name="Conversion" value="%d [%t] %p - %m%n" /&gt;
&lt;/layout&gt;
... ... ... ...
</pre> 
 <pre class="code" style="font-size:1em"></pre> 
 <pre class="code" style="font-size:1em"></pre> 
 <p>转自：http://willow-na.iteye.com/blog/347340</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/06265da513f802e09bdc86bd02d00cf7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">百度静态资源cdn</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e8543b65f604d60bed080f605ff552fd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">git切换分支报错:error: pathspec &#39;origin/XXX&#39; did not match any file(s) known to git.</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>