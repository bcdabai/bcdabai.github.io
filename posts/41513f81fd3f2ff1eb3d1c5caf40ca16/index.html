<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nginx启动失败，80端口已被占用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Nginx启动失败，80端口已被占用" />
<meta property="og:description" content="#检查Nginx配置
[root@i-14fe7093 nginx]# ./sbin/nginx -t -c ./conf/nginx.conf
nginx: the configuration file /usr/local/nginx/./conf/nginx.conf syntax is ok nginx: configuration file /usr/local/nginx/./conf/nginx.conf test is successful
#不依靠残留进程，重新启动Nginx
[root@i-14fe7093 nginx]# /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/41513f81fd3f2ff1eb3d1c5caf40ca16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-02T23:46:23+08:00" />
<meta property="article:modified_time" content="2018-01-02T23:46:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Nginx启动失败，80端口已被占用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>#检查Nginx配置</strong><br></p> 
<p>[root@i-14fe7093 nginx]# ./sbin/nginx -t -c ./conf/nginx.conf</p>nginx: the configuration file /usr/local/nginx/./conf/nginx.conf syntax is ok 
<br> 
<p>nginx: configuration file /usr/local/nginx/./conf/nginx.conf test is successful</p> 
<p><br></p> 
<p><strong>#不依靠残留进程，重新启动Nginx</strong><br></p>[root@i-14fe7093 nginx]# /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br> 
<p>nginx: [emerg] still could not bind()</p> 
<p><br></p> 
<p><strong>#强制性杀死进程</strong><br></p>[root@i-14fe7093 nginx]# pkill -9 nginx 
<br>[root@i-14fe7093 nginx]# /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>nginx: [emerg] still could not bind() 
<br> 
<p><br></p> 
<p><strong>#启动Nginx方式之一</strong><br></p>[root@i-14fe7093 nginx]# /etc/init.d/nginx start 
<br>Starting nginx (via systemctl):  Job for nginx.service failed because the control process exited with error code. See "systemctl status nginx.service" and "journalctl -xe" for details.  [FAILED] 
<p><br></p> 
<p><strong>#查看Nginx服务状态</strong><br></p>[root@i-14fe7093 nginx]# systemctl status nginx.service 
<br>â— nginx.service - SYSV: Nginx is an HTTP(S) server, HTTP(S) reverse proxy and IMAP/POP3 proxy server 
<br>   Loaded: loaded (/etc/rc.d/init.d/nginx) 
<br>   Active: failed (Result: exit-code) since Tue 2018-01-02 23:19:52 CST; 38s ago 
<br>     Docs: man:systemd-sysv-generator(8) 
<br>  Process: 15553 ExecStart=/etc/rc.d/init.d/nginx start (code=exited, status=1/FAILURE) 
<br> 
<br>Jan 02 23:19:50 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80...) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80...) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80...) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80...) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] still could not bind() 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: [FAILED] 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: nginx.service: control process exite...=1 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: Failed to start SYSV: Nginx is an HT...r. 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: Unit nginx.service entered failed state. 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: nginx.service failed. 
<br> 
<p>Hint: Some lines were ellipsized, use -l to show in full.</p> 
<p><br></p> 
<p><strong>#查看系统日志</strong><br></p>[root@i-14fe7093 nginx]# journalctl -xe 
<br>Jan 02 23:19:49 i-14fe7093 systemd[1]: Starting SYSV: Nginx is an HTTP(S) server, HTTP(S) reverse proxy and IMAP/POP3 proxy server... 
<br>-- Subject: Unit nginx.service has begun start-up 
<br>-- Defined-By: systemd 
<br>-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel 
<br>-- 
<br>-- Unit nginx.service has begun starting up. 
<br>Jan 02 23:19:50 i-14fe7093 nginx[15553]: Starting nginx: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:50 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] still could not bind() 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: [FAILED] 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: nginx.service: control process exited, code=exited status=1 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: Failed to start SYSV: Nginx is an HTTP(S) server, HTTP(S) reverse proxy and IMAP/POP3 proxy server. 
<br>-- Subject: Unit nginx.service has failed 
<br>-- Defined-By: systemd 
<br>-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel 
<br>-- 
<br>-- Unit nginx.service has failed. 
<br>-- 
<br>-- The result is failed. 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: Unit nginx.service entered failed state. 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: nginx.service failed. 
<br>Jan 02 23:19:52 i-14fe7093 polkitd[1300]: Unregistered Authentication Agent for unix-process:15548:1690636 (system bus name :1.71, object path /org/freedesktop/PolicyKi 
<br>Jan 02 23:19:52 i-14fe7093 root[15630]: [euid=root]:root pts/0 2018-01-02 23:07 (10.247.123.130):[/usr/local/nginx]2018-01-02 23:19:49 root /etc/init.d/nginx start 
<br>Jan 02 23:20:01 i-14fe7093 CROND[15632]: (root) CMD (/sbin/ntpdate pool.ntp.org &gt; /dev/null 2&gt;&amp;1) 
<br>Jan 02 23:20:31 i-14fe7093 root[15675]: [euid=root]:root pts/0 2018-01-02 23:07 (10.247.123.130):[/usr/local/nginx]2018-01-02 23:20:31 root systemctl status nginx.servi 
<br>Jan 02 23:20:58 i-14fe7093 root[15685]: [euid=root]:root pts/0 2018-01-02 23:07 (10.247.123.130):[/usr/local/nginx]2018-01-02 23:20:31 root systemctl status nginx.servi 
<br>-- Logs begin at Tue 2018-01-02 18:38:04 CST, end at Tue 2018-01-02 23:20:58 CST. -- 
<br>Jan 02 23:19:49 i-14fe7093 systemd[1]: Starting SYSV: Nginx is an HTTP(S) server, HTTP(S) reverse proxy and IMAP/POP3 proxy server... 
<br>-- Subject: Unit nginx.service has begun start-up 
<br>-- Defined-By: systemd 
<br>-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel 
<br>-- 
<br>-- Unit nginx.service has begun starting up. 
<br>Jan 02 23:19:50 i-14fe7093 nginx[15553]: Starting nginx: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:50 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:51 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: nginx: [emerg] still could not bind() 
<br>Jan 02 23:19:52 i-14fe7093 nginx[15553]: [FAILED] 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: nginx.service: control process exited, code=exited status=1 
<br>Jan 02 23:19:52 i-14fe7093 systemd[1]: Failed to start SYSV: Nginx is an HTTP(S) server, HTTP(S) reverse proxy and IMAP/POP3 proxy server. 
<br>-- Subject: Unit nginx.service has failed 
<br>-- Defined-By: systemd 
<br>-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel 
<br>-- 
<br>-- Unit nginx.service has failed. 
<br>-- 
<br>-- The result is failed. 
<br>Jan 02 23:20:01 i-14fe7093 CROND[15632]: (root) CMD (/sbin/ntpdate pool.ntp.org &gt; /dev/null 2&gt;&amp;1) 
<br>Jan 02 23:20:31 i-14fe7093 root[15675]: [euid=root]:root pts/0 2018-01-02 23:07 (10.247.123.130):[/usr/local/nginx]2018-01-02 23:20:31 root systemctl status nginx.servi 
<br>Jan 02 23:20:58 i-14fe7093 root[15685]: [euid=root]:root pts/0 2018-01-02 23:07 (10.247.123.130):[/usr/local/nginx]2018-01-02 23:20:31 root systemctl status nginx.servi 
<br> 
<p><br></p> 
<p><strong># -lt  列出监听的TCP端口， -u 或 --udp 显示UDP传输协议的连线状况，-n 输出中不解析主机、端口、名称， -p 显示进程ID和名称</strong><br></p>[root@i-14fe7093 nginx]# netstat -ltunp 
<br>Active Internet connections (only servers) 
<br>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name 
<br>tcp        0      0 127.0.0.1:11211         0.0.0.0:*               LISTEN      1065/memcached 
<br>tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      1005/redis-server 1 
<br>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      816/sshd 
<br>tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      958/master 
<br>tcp        0      0 10.247.110.35:95        0.0.0.0:*               LISTEN      891/python 
<br>tcp6       0      0 :::8080                 :::*                    LISTEN      1160/java 
<br>tcp6       0      0 :::80                   :::*                    LISTEN      812/httpd 
<br>tcp6       0      0 :::22                   :::*                    LISTEN      816/sshd 
<br>tcp6       0      0 ::1:25                  :::*                    LISTEN      958/master 
<br>tcp6       0      0 :::443                  :::*                    LISTEN      812/httpd 
<br>tcp6       0      0 127.0.0.1:8006          :::*                    LISTEN      1160/java 
<br>udp        0      0 127.0.0.1:11211         0.0.0.0:*                           1065/memcached 
<br>udp        0      0 0.0.0.0:68              0.0.0.0:*                           756/dhclient 
<br>udp        0      0 0.0.0.0:28965           0.0.0.0:*                           756/dhclient 
<br> 
<p>udp6       0      0 :::50624                :::*                                756/dhclient</p> 
<p><br></p> 
<p><strong>#杀死指定PID的进程</strong><br></p> 
<p>[root@i-14fe7093 nginx]# kill 812</p> 
<p><br></p> 
<p><strong>#检验进程是否杀死</strong><br></p>[root@i-14fe7093 nginx]# netstat -ltunp 
<br>Active Internet connections (only servers) 
<br>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name 
<br>tcp        0      0 127.0.0.1:11211         0.0.0.0:*               LISTEN      1065/memcached 
<br>tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN      1005/redis-server 1 
<br>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      816/sshd 
<br>tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      958/master 
<br>tcp        0      0 10.247.110.35:95        0.0.0.0:*               LISTEN      891/python 
<br>tcp6       0      0 :::8080                 :::*                    LISTEN      1160/java 
<br>tcp6       0      0 :::22                   :::*                    LISTEN      816/sshd 
<br>tcp6       0      0 ::1:25                  :::*                    LISTEN      958/master 
<br>tcp6       0      0 127.0.0.1:8006          :::*                    LISTEN      1160/java 
<br>udp        0      0 127.0.0.1:11211         0.0.0.0:*                           1065/memcached 
<br>udp        0      0 0.0.0.0:68              0.0.0.0:*                           756/dhclient 
<br>udp        0      0 0.0.0.0:28965           0.0.0.0:*                           756/dhclient 
<br> 
<p>udp6       0      0 :::50624                :::*                                756/dhclient</p> 
<p><br></p> 
<p><strong>#重启Nginx，此时没有残留进程占用80端口了</strong><br></p>[root@i-14fe7093 nginx]# /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf 
<br> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6a6451a2b7fe36ef713c745430c69197/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TestFlight 如何获取邀请码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8fd209ec4e58e11e6e9495953d826907/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">商务本与时尚无缘？ThinkPad E系列给你不一样的答案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>