<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>hdu 5890（01背包&#43; bitset 优化） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="hdu 5890（01背包&#43; bitset 优化）" />
<meta property="og:description" content="Eighty seven Time Limit: 3000/1000 MS (Java/Others) Memory Limit: 102400/102400 K (Java/Others)
Total Submission(s): 1605 Accepted Submission(s): 515
Problem Description
Mr. Fib is a mathematics teacher of a primary school. In the next lesson, he is planning to teach children how to add numbers up. Before the class, he will prepare Ncards with numbers. The number on the i-th card is ai. In class, each turn he will remove no more than 3 cards and let students choose any ten cards, the sum of the numbers on which is 87." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/10e4c5275677bdb3bd49b060baf0658e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-11T18:36:51+08:00" />
<meta property="article:modified_time" content="2018-08-11T18:36:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">hdu 5890（01背包&#43; bitset 优化）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><span style="color:#1a5cc8;">Eighty seven</span></h2> 
<p><strong><strong><span style="color:#008000;">Time Limit: 3000/1000 MS (Java/Others)    Memory Limit: 102400/102400 K (Java/Others)<br> Total Submission(s): 1605    Accepted Submission(s): 515</span></strong></strong><br><br>  </p> 
<p><span style="color:#7ca9ed;"><strong>Problem Description</strong></span></p> 
<p><span style="color:#000000;">Mr. Fib is a mathematics teacher of a primary school. In the next lesson, he is planning to teach children how to add numbers up. Before the class, he will prepare Ncards with numbers. The number on the i-th card is ai. In class, each turn he will remove no more than 3 cards and let students choose any ten cards, the sum of the numbers on which is 87. After each turn the removed cards will be put back to their position. Now, he wants to know if there is at least one solution of each turn. Can you help him?</span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Input</strong></span></p> 
<p><span style="color:#000000;">The first line of input contains an integer t (t≤5), the number of test cases. t test cases follow.<br> For each test case, the first line consists an integer N(N≤50).<br> The second line contains N non-negative integers a1,a2,...,aN. The i-th number represents the number on the i-th card. The third line consists an integer Q(Q≤100000). Each line of the next Q lines contains three integers i,j,k, representing Mr.Fib will remove the i-th, j-th, and k-th cards in this turn. A question may degenerate while i=j, i=k or j=k.</span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Output</strong></span></p> 
<p><span style="color:#000000;">For each turn of each case, output 'Yes' if there exists at least one solution, otherwise output 'No'.</span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Sample Input</strong></span></p> 
<pre style="margin-left:0px;"> </pre> 
<p><span style="color:#000000;">1 12 1 2 3 4 5 6 7 8 9 42 21 22 10 1 2 3 3 4 5 2 3 2 10 10 10 10 11 11 10 1 1 1 2 10 1 11 12 1 10 10 11 11 12</span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Sample Output</strong></span></p> 
<pre style="margin-left:0px;"> </pre> 
<p><span style="color:#000000;">No No No Yes No Yes No No Yes Yes</span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Source</strong></span></p> 
<p><span style="color:#000000;"><a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2016+ACM%2FICPC+Asia+Regional+Qingdao+Online&amp;source=1&amp;searchmode=source" rel="nofollow">2016 ACM/ICPC Asia Regional Qingdao Online</a></span></p> 
<p><span style="color:#000000;"> </span></p> 
<p> </p> 
<p><span style="color:#7ca9ed;"><strong>Recommend</strong></span></p> 
<p><span style="color:#000000;">wange2014   |   We have carefully selected several similar problems for you:  <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6379" rel="nofollow">6379</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6378" rel="nofollow">6378</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6377" rel="nofollow">6377</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6376" rel="nofollow">6376</a> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=6375" rel="nofollow">6375</a> </span></p> 
<p><span style="color:#000000;"> </span></p> 
<p>题意： 现在给你n个数，每次查询问从点集中删去 x,y,z 三个数，你要从其他的剩下的数中能否找出10个数使得十个数相加为87？</p> 
<p>思路： 背包来做，由于n 比较小，所以我可以预先处理出所有的情况，然后用bitset 搞一搞。</p> 
<p>另附一句  bitset 真的强。 </p> 
<p>推荐题集： <a href="https://blog.csdn.net/snowy_smile/article/details/79120063">大神大神</a></p> 
<p>代码：</p> 
<pre class="has"><code>#include&lt;bits/stdc++.h&gt;

using namespace std;
const int N =55;
int a[N];
int flag[N][N][N];
int n;
bitset&lt;100&gt;dp[12];

int jud(int aa,int b,int c)
{
    for(int i=1;i&lt;=11;i++) dp[i].reset();
    dp[0][0]=1;
    for(int i=1;i&lt;=n;i++){
        for(int j=9;j&gt;=0;j--){
            if(i==aa) continue;
            if(i==b) continue;
            if(i==c) continue;
            dp[j+1]|=(dp[j]&lt;&lt;a[i]);
        }
    }
    if(dp[10][87]==1) return 1;
    return 0;
}

int main()
{
    int T;
    scanf("%d",&amp;T);
    while(T--)
    {
        scanf("%d",&amp;n);
        memset(flag,0,sizeof(flag));
        for(int i=1;i&lt;=n;i++){
            scanf("%d",&amp;a[i]);
        }

        for(int i=1;i&lt;=n;i++){
            for(int j=i;j&lt;=n;j++){
                for(int k=j;k&lt;=n;k++){
                    if(jud(i,j,k)){
                        //cout&lt;&lt;"i "&lt;&lt;i&lt;&lt;" j "&lt;&lt;j&lt;&lt;" k "&lt;&lt;k&lt;&lt;endl;
                        flag[i][j][k]=1; flag[i][k][j]=1;
                        flag[j][i][k]=1; flag[j][k][i]=1;
                        flag[k][i][j]=1; flag[k][j][i]=1;
                    }
                }
            }
        }
        int m;
        scanf("%d",&amp;m);
        while(m--)
        {
            int aa,b,c;
            scanf("%d %d %d",&amp;aa,&amp;b,&amp;c);
            if(flag[aa][b][c]) printf("Yes\n");
            else printf("No\n");
        }

    }

    return 0;
}
</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8d50b481b87041579a98ddb14c55e164/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">区块链-私链创建与智能合约部署实践</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ba508e849c043e658838a366120c8516/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python string 去掉标点符号 最佳实践</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>