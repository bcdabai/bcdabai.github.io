<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DM 数据库初始化工具 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DM 数据库初始化工具" />
<meta property="og:description" content="dminit 是 DM 数据库初始化工具。在安装 DM 的过程中，用户可以选择是否创建初始数据库。如果当时没有创建，那么在安装完成之后，可以利用创建数据库工具 dminit 来创建。
系统管理员可以利用 dminit 工具提供的各种参数，设置数据库存放路径、段页大小、是否对大小写敏感等，创建出满足用户需要的数据库。该工具位于安装目录的 /bin 目录下。
语法如下：
dminit KEYWORD=value
例如，初始化一个数据库，放在 /home/test/dmdbms 目录下，数据页 PAGE_SIZE 大小为 16 K。
./dminit PATH=/home/test/dmdbms PAGE_SIZE=16
dminit 使用较为灵活，参数较多。用户可使用“dminit HELP”快速查看各参数。
dminit HELP
格式: dminit KEYWORD=value
例如: dminit PATH=c:\dmdata PAGE_SIZE=16
关键字 说明（默认）
-----------------------------------------------------------------------------
INI_FILE 初始化文件dm.ini存放的路径
PATH 初始数据库存放的路径
CTL_PATH 控制文件路径
LOG_PATH 日志文件路径
EXTENT_SIZE 数据文件使用的簇大小(16)，可选值：16、32、64，单位：页
PAGE_SIZE 数据页大小(8)，可选值：4、8、16、32，单位：K
LOG_SIZE 日志文件大小(256)，单位为：M，范围为：64M ~ 2G
CASE_SENSITIVE 大小敏感(Y)，可选值：Y/N，1/0
CHARSET/UNICODE_FLAG 字符集(0)，可选值：0[GB18030]，1[UTF-8]，2[EUC-KR]
SEC_PRIV_MODE 权限管理模式(0)，可选值：0[TRADITION]，1[BMJ]，2[EVAL]
LENGTH_IN_CHAR VARCHAR类型长度是否以字符为单位(N)，可选值：Y/N，1/0
SYSDBA_PWD 设置SYSDBA密码(SYSDBA)，密码长度为9到48
SYSAUDITOR_PWD 设置SYSAUDITOR密码(SYSAUDITOR)，密码长度为9到48" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/99fd23177f84f2c8dd80beb5d557bbca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-19T01:19:58+08:00" />
<meta property="article:modified_time" content="2022-09-19T01:19:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DM 数据库初始化工具</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">     dminit 是 DM 数据库初始化工具。在安装 DM 的过程中，用户可以选择是否创建初始数据库。如果当时没有创建，那么在安装完成之后，可以利用创建数据库工具 dminit 来创建。</p> 
<p style="margin-left:.0001pt;text-align:justify;">系统管理员可以利用 dminit 工具提供的各种参数，设置数据库存放路径、段页大小、是否对大小写敏感等，创建出满足用户需要的数据库。该工具位于安装目录的 /bin 目录下。</p> 
<p style="margin-left:.0001pt;text-align:justify;">   语法如下：</p> 
<p style="margin-left:.0001pt;text-align:justify;">dminit KEYWORD=value</p> 
<p style="margin-left:.0001pt;text-align:justify;">例如，初始化一个数据库，放在 /home/test/dmdbms 目录下，数据页 PAGE_SIZE 大小为 16 K。</p> 
<p style="margin-left:.0001pt;text-align:justify;">./dminit PATH=/home/test/dmdbms PAGE_SIZE=16</p> 
<p style="margin-left:.0001pt;text-align:justify;">dminit 使用较为灵活，参数较多。用户可使用“dminit HELP”快速查看各参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">dminit HELP</p> 
<p style="margin-left:.0001pt;text-align:justify;">格式: dminit                              KEYWORD=value</p> 
<p style="margin-left:.0001pt;text-align:justify;">例如: dminit                              PATH=c:\dmdata PAGE_SIZE=16</p> 
<p style="margin-left:.0001pt;text-align:justify;">关键字                                           说明（默认）</p> 
<p style="margin-left:.0001pt;text-align:justify;">-----------------------------------------------------------------------------</p> 
<p style="margin-left:.0001pt;text-align:justify;">INI_FILE                               初始化文件dm.ini存放的路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">PATH                                     初始数据库存放的路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">CTL_PATH                                   控制文件路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">LOG_PATH                                  日志文件路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTENT_SIZE                             数据文件使用的簇大小(16)，可选值：16、32、64，单位：页</p> 
<p style="margin-left:.0001pt;text-align:justify;">PAGE_SIZE                                 数据页大小(8)，可选值：4、8、16、32，单位：K</p> 
<p style="margin-left:.0001pt;text-align:justify;">LOG_SIZE                             日志文件大小(256)，单位为：M，范围为：64M ~ 2G</p> 
<p style="margin-left:.0001pt;text-align:justify;">CASE_SENSITIVE                      大小敏感(Y)，可选值：Y/N，1/0</p> 
<p style="margin-left:.0001pt;text-align:justify;">CHARSET/UNICODE_FLAG            字符集(0)，可选值：0[GB18030]，1[UTF-8]，2[EUC-KR]</p> 
<p style="margin-left:.0001pt;text-align:justify;">SEC_PRIV_MODE                            权限管理模式(0)，可选值：0[TRADITION]，1[BMJ]，2[EVAL]</p> 
<p style="margin-left:.0001pt;text-align:justify;">LENGTH_IN_CHAR                          VARCHAR类型长度是否以字符为单位(N)，可选值：Y/N，1/0</p> 
<p style="margin-left:.0001pt;text-align:justify;">SYSDBA_PWD                                设置SYSDBA密码(SYSDBA)，密码长度为9到48</p> 
<p style="margin-left:.0001pt;text-align:justify;">SYSAUDITOR_PWD                         设置SYSAUDITOR密码(SYSAUDITOR)，密码长度为9到48</p> 
<p style="margin-left:.0001pt;text-align:justify;">DB_NAME                                         数据库名(DAMENG)</p> 
<p style="margin-left:.0001pt;text-align:justify;">INSTANCE_NAME                            实例名(DMSERVER)</p> 
<p style="margin-left:.0001pt;text-align:justify;">PORT_NUM                               监听端口号(5236)</p> 
<p style="margin-left:.0001pt;text-align:justify;">BUFFER                                       系统缓存大小(100)，单位M</p> 
<p style="margin-left:.0001pt;text-align:justify;">TIME_ZONE                               设置时区(+08:00)</p> 
<p style="margin-left:.0001pt;text-align:justify;">PAGE_CHECK                             页检查模式(0)，可选值：0/1/2</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_CIPHER_NAME           设置默认加密算法</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_HASH_NAME                     设置默认HASH算法</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_CRYPTO_NAME         设置根密钥加密引擎</p> 
<p style="margin-left:.0001pt;text-align:justify;">RLOG_ENC_FLAG                            设置日志文件是否加密(N)，可选值：Y/N，1/0</p> 
<p style="margin-left:.0001pt;text-align:justify;">USBKEY_PIN                              设置USBKEY PIN</p> 
<p style="margin-left:.0001pt;text-align:justify;">PAGE_ENC_SLICE_SIZE                  设置页加密分片大小，可选值：0、512、4096，单位：Byte</p> 
<p style="margin-left:.0001pt;text-align:justify;">ENCRYPT_NAME                      设置全库加密算法</p> 
<p style="margin-left:.0001pt;text-align:justify;">BLANK_PAD_MODE                       设置空格填充模式(0)，可选值：0/1</p> 
<p style="margin-left:.0001pt;text-align:justify;">SYSTEM_MIRROR_PATH               SYSTEM数据文件镜像路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">MAIN_MIRROR_PATH                    MAIN数据文件镜像</p> 
<p style="margin-left:.0001pt;text-align:justify;">ROLL_MIRROR_PATH                     回滚文件镜像路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">MAL_FLAG                                 初始化时设置dm.ini中的MAL_INI(0)</p> 
<p style="margin-left:.0001pt;text-align:justify;">ARCH_FLAG                               初始化时设置dm.ini中的ARCH_INI(0)</p> 
<p style="margin-left:.0001pt;text-align:justify;">MPP_FLAG                                 Mpp系统内的库初始化时设置dm.ini中的mpp_ini(0)</p> 
<p style="margin-left:.0001pt;text-align:justify;">CONTROL                                          初始化配置文件（配置文件格式见系统管理员手册）</p> 
<p style="margin-left:.0001pt;text-align:justify;">AUTO_OVERWRITE                        是否覆盖所有同名文件(0) 0:不覆盖 1:部分覆盖 2:完全覆盖</p> 
<p style="margin-left:.0001pt;text-align:justify;">USE_NEW_HASH                      是否使用改进的字符类型HASH算法(1)</p> 
<p style="margin-left:.0001pt;text-align:justify;">ELOG_PATH                               指定初始化过程中生成的日志文件所在路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">SYSSSO_PWD                                设置SYSSSO密码(SYSSSO)，密码长度为9到48</p> 
<p style="margin-left:.0001pt;text-align:justify;">SYSDBO_PWD                                  设置SYSDBO密码(SYSDBO)，密码长度为9到48</p> 
<p style="margin-left:.0001pt;text-align:justify;">PRIV_FLAG                                 设置权限标记，可选值：0、1</p> 
<p style="margin-left:.0001pt;text-align:justify;">AP_PORT_NUM                              ECS模式下AP协同工作的监听端口</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_FLAG                                  初始化时设置dm.ini中的DFS_INI(0)</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_PATH                                   启用dfs时指定数据文件的缺省路径</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_HOST                                  指定连接分布式系统DFS的服务地址(localhost)</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_PORT                                  指定连接分布式系统DFS的服务端口号(3332)</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_COPY_NUM                     指定分布式系统的副本数(3)</p> 
<p style="margin-left:.0001pt;text-align:justify;">DFS_DB_NAME                                指定分布式系统的中数据库名(默认与DB_NAME一致)</p> 
<p style="margin-left:.0001pt;text-align:justify;">SHARE_FLAG                             指定分布式系统中该数据库的共享属性(0)</p> 
<p style="margin-left:.0001pt;text-align:justify;">REGION_MODE                               指定分布式系统中该数据库的系统表空间数据文件的区块策略(0) 0:微区策略 1:宏区策略</p> 
<p style="margin-left:.0001pt;text-align:justify;">HUGE_WITH_DELTA                       是否仅支持创建事务型HUGE表(1) 1:是 0:否</p> 
<p style="margin-left:.0001pt;text-align:justify;">RLOG_GEN_FOR_HUGE                是否生成HUGE表REDO日志(0) 1:是 0:否</p> 
<p style="margin-left:.0001pt;text-align:justify;">PSEG_MGR_FLAG                           是否仅使用管理段记录事务信息(0) 1:是 0:否</p> 
<p style="margin-left:.0001pt;text-align:justify;">CHAR_TO_VARCHAR2                  是否允许变换定长字符类型为变长字符类型存储(Y)，可选值：Y/N，1/0</p> 
<p style="margin-left:.0001pt;text-align:justify;">HELP                                     打印帮助信息</p> 
<p style="margin-left:.0001pt;text-align:justify;">1 INI_FILE</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化文件 dm.ini 存放的路径，指定一个已经存在的 dm.ini 文件所在的绝对路径。作用是将现有 INI 文件，拷贝到新库，作为新库的 INI 文件直接使用。文件路径长度最大为 256 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">如果不指定该参数，那么 dminit 工具会直接生成一个新的 dm.ini 文件。如果指定了该参数但指定的 INI 文件不存在，那么 dminit 工具会报错无效的 INI 文件，同时生成一个新的 dm.ini 文件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">例如，指定现有 /home/test/dmdbms 库中 dm.ini，给新创建的 /home/dest/dmdbms 库使用。</p> 
<p style="margin-left:.0001pt;text-align:justify;">./dminit INI_FILE=/home/test/dmdbms/DAMENG/dm.ini PATH=/home/dest/dmdbms</p> 
<p style="margin-left:.0001pt;text-align:justify;">2 PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始数据库存放的路径。默认路径为 dminit 当前所在的工作目录。文件路径长度最大为 256 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">3 CTL_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始数据库控制文件的路径，默认值 Windows 下为 PATH\DB_NAME\dm.ctl，Linux 下为/PATH/DM_NAME/dm.ctl（PATH 和 DB_NAME 表示各自设置的值）。文件路径长度最大为 256 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">4 LOG_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始数据库日志文件的路径。默认值 Windows 下为 PATH\DB_NAME\DB_NAME01.log 和 PATH\DB_NAME\DB_NAME02.log，Linux 下为 PATH/DB_NAME/DB_NAME01.log 和 PATH/DB_NAME/DB_NAME02.log（PATH 和 DB_NAME 表示各自设置的值）。文件路径长度最大为 256 个字符。日志文件路径个数不能超过 10 个。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">修改日志文件大小可以使用 LOG_SIZE 参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">例如，创建一个数据库，包含两个日志文件 DATA01.log 和 DATA02.log。</p> 
<p style="margin-left:.0001pt;text-align:justify;">./dminit PATH=/home/dest/dmdbms LOG_PATH=/home/dest/dmdbms/DATA01.log</p> 
<p style="margin-left:.0001pt;text-align:justify;">LOG_PATH=/home/dest/dmdbms/DATA02.log</p> 
<p style="margin-left:.0001pt;text-align:justify;">5 EXTENT_SIZE</p> 
<p style="margin-left:.0001pt;text-align:justify;">数据文件使用的簇大小，即每次分配新的段空间时连续的页数。取值：16、32、64。单位：页数。缺省值 16。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">6 PAGE_SIZE</p> 
<p style="margin-left:.0001pt;text-align:justify;">数据文件使用的页大小。取值：4、8、16、32，单位：K。默认值为 8。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">选择的页大小越大，则 DM 支持的元组长度也越大，但同时空间利用率可能下降。</p> 
<p style="margin-left:.0001pt;text-align:justify;">7 LOG_SIZE</p> 
<p style="margin-left:.0001pt;text-align:justify;">重做日志文件大小。取值：64~2048 之间的整数，单位 M。默认值为 256。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">每个 DM 数据库实例至少有两个重做日志文件，循环使用，LOG_SIZE 设置每个重做日志文件的大小。</p> 
<p style="margin-left:.0001pt;text-align:justify;">修改日志文件路径可以使用 LOG_PATH 参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">8 CASE_SENSITIVE</p> 
<p style="margin-left:.0001pt;text-align:justify;">标识符大小写敏感。当大小写敏感时，小写的标识符应用""括起，否则被系统自动转换为大写；当大小写不敏感时，系统不会转换标识符的大小写，在标识符比较时也不能区分大小写。取值：Y、y、1 表示敏感；N、n、0 表示不敏感。默认值为 Y。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">9 CHARSET/UNICODE_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">字符集选项。取值：0 代表 GB18030，1 代表 UTF-8，2 代表韩文字符集 EUC-KR。默认为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">与此同时，CASE_SENSITIVE 为 N/n/0 和 CHARSET/UNICODE_FLAG 为 0 不能同时出现。</p> 
<p style="margin-left:.0001pt;text-align:justify;">10 SEC_PRIV_MODE</p> 
<p style="margin-left:.0001pt;text-align:justify;">权限管理模式。取值 0、1 和 2。0：TRADITION，表示传统模式；1：BMJ，表示专用机模式；2：EVAL，表示 EVAL 测评模式。默认为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">11 LENGTH_IN_CHAR</p> 
<p style="margin-left:.0001pt;text-align:justify;">VARCHAR 类型对象的长度是否以字符为单位。取值：1、Y 表示是，0、N 表示否。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1 或 Y：是，所有 VARCHAR 类型对象的长度以字符为单位。这种情况下，定义长度并非真正按照字符长度调整，而是将存储长度值按照理论字符长度进行放大。所以会出现实际可插入字符数超过定义长度的情况，这种情况也是允许的。同时，存储的字节长度 8188 上限仍然不变，也就是说，即使定义列长度为 8188 字符，其实际能插入的字符串占用总字节长度仍然不能超过 8188；</p> 
<p style="margin-left:.0001pt;text-align:justify;">0 或 N：否，所有 VARCHAR 类型对象的长度以字节为单位。</p> 
<p style="margin-left:.0001pt;text-align:justify;">12 SYSDBA_PWD</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置 SYSDBA 的密码，默认为 SYSDBA。密码长度为 9~48 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">13 SYSAUDITOR_PWD</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置 SYSAUDITOR 的密码，默认为 SYSAUDITOR。密码长度为 9~48 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">14 DB_NAME</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化数据库名称，默认为 DAMENG。名称为字符串，长度不能超过 128 个字符。可选参数。WINDOWS 下文件名不能包含字符/ \ * : ? &lt; &gt; " | ，LINUX 下文件名不能包含字符/\ : &lt; &gt; " |。</p> 
<p style="margin-left:.0001pt;text-align:justify;">15 INSTANCE_NAME</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化数据库实例名称，默认为 DMSERVER。名称为字符串，长度不能超过 128 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">16 PORT_NUM</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置 dm.ini 中的监听端口号，默认 5236。服务器配置此参数，有效值范围（1024~65534），发起连接端的端口在 1024~65535 之间随机分配。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">17 BUFFER</p> 
<p style="margin-left:.0001pt;text-align:justify;">系统缓存大小，以 M 为单位。推荐值：系统缓冲区大小为可用物理内存的 60%～80%。有效值范围（8~1048576），缺省值为 100。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">18 TIME_ZONE</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时区，默认为东八区(+08:00)。格式为[正负号]小时[：分钟]，其中，正负号和分钟为可选项。时区设置范围为：-12:59~+14:00。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">19 PAGE_CHECK</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否启用页面内容校验模式。取值为：0：不启用；1：简单校验；2：严格校验(使用 CRC16 算法生成校验码)。默认 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">PAGE_CHECK 主要用来和数据库镜像一起使用。当 PAGE_CHECK 为 1 或 2 时，表示开启镜像系统，默认值 0 不开启。开启镜像后，用户还需要对指定的数据文件或回滚文件创建对应的镜像文件，涉及到的建库参数有 system_mirror_path、main_mirror_path 和 roll_mirror_path，下文会详细介绍。</p> 
<p style="margin-left:.0001pt;text-align:justify;">镜像系统的运行流程：当系统需要把数据写入数据文件（或回滚文件）时，在写入以后如果数据文件（或回滚文件）创建了镜像文件，则需要把数据内容同时写入到镜像文件中。当系统需要从数据文件（或回滚文件）中读取数据时，如果数据文件（或回滚文件）中的校验信息与通过页内容生成的校验信息不一致则认为数据页已经损坏，那么系统会自动读取镜像文件中的数据继续提供服务。</p> 
<p style="margin-left:.0001pt;text-align:justify;">20 EXTERNAL_CIPHER_NAME、EXTERNAL_HASH_NAME、EXTERNAL_CRYPTO_NAME</p> 
<p style="margin-left:.0001pt;text-align:justify;">第三方加密时使用。缺省情况下，使用 DM 内部默认算法。</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_CIPHER_NAME：设置默认加密算法。备份、还原、建表等凡是用到加密算法，但是加密算法缺省的情况下，如果用户指定了第三方加密，则用此算法。密码为字符串，不能超过 32 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_HASH_NAME：设置默认 HASH 算法。用来生成加密数据的校验码。算法为字符串，不能超过 64 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">EXTERNAL_CRYPTO_NAME：设置服务器根密钥加密引擎。加密引擎提供 EXTERNAL_CIPHER_NAME 和 EXTERNAL_HASH_NAME 算法的动态库。加密引擎的使用，详细请参考《DM8 安全管理》一书加密引擎章节。密钥为字符串，不能超过 256 个字符。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">21 USBKEY_PIN</p> 
<p style="margin-left:.0001pt;text-align:justify;">USBKEY PIN 是登录第三方设备 UKEY 的密码。供使用 UKEY 的用户使用。UKEY 用于服务器端存储加密根密钥的证书，缺省使用磁盘物理文件 dm_service.prikey 存储根密钥密钥的密文。</p> 
<p style="margin-left:.0001pt;text-align:justify;">在 DM 的加密机制中，增加移动 UKEY 的使用，更能确保 SVR_KEY 的安全性，数据安全性也得到进一步提升。</p> 
<p style="margin-left:.0001pt;text-align:justify;">USBKEY PIN 为字符串，不能超过 48 个字节。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">22 PAGE_ENC_SLICE_SIZE</p> 
<p style="margin-left:.0001pt;text-align:justify;">使用数据页按扇区大小进行分片加解密时，指定数据页加解密的分片大小。可配置大小为 0、512 或 4096，单位为 byte，默认值为 4096。其中，0 表示不按分片进行加解密。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">当使用数据页分片加密即 PAGE_ENC_SLICE_SIZE 非 0 时，需要注意指定的加密算法是否支持数据页分片加密。DM 支持的加密算法中，没有“NOPAD”后缀的 ECB/CBC 加密算法不支持数据页分片加密。</p> 
<p style="margin-left:.0001pt;text-align:justify;">23 ENCRYPT_NAME</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定全库加密算法，加密密钥由 DM 自动生成。不指定时，不进行全库加密。</p> 
<p style="margin-left:.0001pt;text-align:justify;">全库加密操作流程：第一步，在创建数据库的过程中，通过参数 ENCRYPT_NAME 的设置，使用 DM 内部支持的加密算法或是第三方的加密算法对数据库文件进行加解密。第二步，在服务器启动及运行的过程中，需要对处理的所有数据页通过指定的加密算法和 DM 自动生成的密钥进行加解密处理，即如果数据页读入缓存，需要进行解密后才能使用，在缓存中的数据页进行刷盘时，需要对数据页进行加密后存储到数据文件中。</p> 
<p style="margin-left:.0001pt;text-align:justify;">ENCRYPT_NAME：全库加密使用的算法名。算法可以是 DM 内部支持的加密算法，或者是第三方的加密算法，其中 DM 支持的加密算法可通过查询动态视图 V$CIPHERS 得到，相关介绍可参见《DM8 安全管理》7.1.1 节。算法名为字符串，不能超过 128 个字节。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">24 RLOG_ENC_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">设置联机日志文件和归档日志文件是否加密。取值 Y/N，y/n，1/0，默认 N。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">如果使用第三方加密，则默认值算法为 external_cipher_name。否则使用 AES256_CFB。</p> 
<p style="margin-left:.0001pt;text-align:justify;">25 BLANK_PAD_MODE</p> 
<p style="margin-left:.0001pt;text-align:justify;">设置字符串比较时，结尾空格填充模式是否兼容 ORACLE。取值：1 兼容；0 不兼容。默认为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">26 SYSTEM_MIRROR_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定 system.dbf 文件的镜像绝对路径。默认为空。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">当 PAGE_CHECK 为 1 或 2 时，才需要指定。</p> 
<p style="margin-left:.0001pt;text-align:justify;">27 MAIN_MIRROR_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定 main.dbf 文件的镜像绝对路径。默认为空。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">当 PAGE_CHECK 为 1 或 2 时，才需要指定。</p> 
<p style="margin-left:.0001pt;text-align:justify;">28 ROLL_MIRROR_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定 roll.dbf 文件的镜像绝对路径。默认为空。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">当 PAGE_CHECK 为 1 或 2 时，才需要指定。</p> 
<p style="margin-left:.0001pt;text-align:justify;">29 MAL_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置 dm.ini 中的 MAL_INI 值。取值 0 或 1。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1 表示 MAL_INI=1，启动 MAL 系统。同时，需要配置 dmmal.ini 文件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">0 表示 MAL_INI=0，不启用 MAL 系统。</p> 
<p style="margin-left:.0001pt;text-align:justify;">30 ARCH_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置 dm.ini 中的 ARCH_INI 值。取值 0 或 1。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1 表示 ARCH_INI=1，启用归档。同时，需要配置 dmarch.ini 文件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">0 表示 ARCH_INI=0，不启用归档。</p> 
<p style="margin-left:.0001pt;text-align:justify;">31 MPP_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">MPP 系统内的库初始化时设置 dm.ini 中的 MPP_INI。取值 0 或 1。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1 表示 MPP_INI=1，启用 MPP 系统。</p> 
<p style="margin-left:.0001pt;text-align:justify;">0 表示 MPP_INI=0，不启用 MPP 系统。</p> 
<p style="margin-left:.0001pt;text-align:justify;">32 CONTROL</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定初始化配置文件路径。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">CONTROL 参数只能单独使用，和其他参数一起使用会报错。</p> 
<p style="margin-left:.0001pt;text-align:justify;">CONTROL 参数主要用于将数据文件创建在 ASM 或 DSC 环境中。CONTROL 参数和初始化配置文件，详细信息见下一章节。</p> 
<p style="margin-left:.0001pt;text-align:justify;">33 AUTO_OVERWRITE</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否覆盖建库目录下所有同名文件。取值：0 不覆盖，表示建库目录下如果没有同名文件，直接创建。如果遇到同名文件时，屏幕提示是否需要覆盖，由用户手动输入是与否（y/n，1/0）；1 部分覆盖，表示覆盖建库目录下所有同名文件；2 完全覆盖，表示先清理掉建库目录下所有文件再重新创建。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">34 USE_NEW_HASH</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否使用改进的字符类型 HASH 算法。字符类型在计算 HASH 值时所采用的 HASH 算法类别。取值：0：原始 HASH 算法；1：改进的 HASH 算法。默认值为 1。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">如果备份文件和数据库文件中该参数值不一致，则还原时会报错。</p> 
<p style="margin-left:.0001pt;text-align:justify;">35 SYSSSO_PWD</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置数据库安全员 SYSSSO 的密码，默认为 SYSSSO。密码为字符串，长度在 6 到 48 个字符之间。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">仅在安全版本下可见和可设置。</p> 
<p style="margin-left:.0001pt;text-align:justify;">36 SYSDBO_PWD</p> 
<p style="margin-left:.0001pt;text-align:justify;">初始化时设置数据库操作员 SYSDBO 的密码，默认为 SYSDBO。密码为字符串，长度在 6 到 48 个字符之间。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">仅在安全版本且 PRIV_FLAG=1 时，才有效。</p> 
<p style="margin-left:.0001pt;text-align:justify;">37 PRIV_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否是四权分立。取值：1 是，0 否。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">为了保证数据库系统的安全性，DM 数据库采用“三权分立”或“四权分立”的安全机制，“三权分立”时系统内置三种系统管理员，包括数据库管理员、数据库安全员和数据库审计员，“四权分立”时新增了一类用户，称为数据库对象操作员。它们各司其职，互相制约，有效地避免了将所有权限集中于一人的风险，保证了系统的安全性。默认情况下为“三权分立”。</p> 
<p style="margin-left:.0001pt;text-align:justify;">仅在安全版本下可见和可设置。</p> 
<p style="margin-left:.0001pt;text-align:justify;">38 ELOG_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">指定初始化过程中生成的日志文件所在路径。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">39 DFS_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定该库是否使用 DFS 存储，1 是，0 否。缺省值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">40 DFS_PATH</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定数据文件在 DFS 中的默认路径，要在路径最前加上 $。缺省为 $/db_name，db_name 是初始化库指定的。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">41 DFS_HOST</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定连接分布式系统 DFS 的服务器地址。缺省为 localhost。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">42 DFS_PORT</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定连接分布式系统 DFS 的服务端口号，有效值 1024~65534。缺省值为 3332。</p> 
<p style="margin-left:.0001pt;text-align:justify;">43 DFS__NUM</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定分布式系统的副本数。缺省为 3。</p> 
<p style="margin-left:.0001pt;text-align:justify;">44 DFS_DB_NAME</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定该库在 DMTDD 中的名字，默认是与 DB_NAME 一致。不同库不允许重名。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">45 SHARE_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定分布式系统中该数据库的共享属性，该库是否可用于配置多个 DS。取值为 0 或 1，0 表示该库只能配置到一个 DS 上；1 表示可以配置到多个 DS 上，且只能由 DSC 环境启动，默认为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">46 REGION_MODE</p> 
<p style="margin-left:.0001pt;text-align:justify;">DMTDD 专用参数。指定分布式系统中该数据库的系统表空间数据文件的区块策略。0:微区策略，1:宏区策略。缺省为 0。</p> 
<p style="margin-left:.0001pt;text-align:justify;">47 HUGE_WITH_DELTA</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否仅允许创建事务型 HUGE 表。取值：1 是，0 否。默认值为 1。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">设置为 1 时，仅允许创建事务型 HUGE 表，不允许创建非事务型 HUGE 表。</p> 
<p style="margin-left:.0001pt;text-align:justify;">48 RLOG_GEN_FOR_HUGE</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否生成 HUGE 表 REDO 日志。取值：1 是，0 否。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">此参数仅在 HUGE_WITH_DELTA 为 1 时才允许设置，也就是仅限于对事务型 HUGE 表设置是否生成 REDO 日志。</p> 
<p style="margin-left:.0001pt;text-align:justify;">49 PSEG_MGR_FLAG</p> 
<p style="margin-left:.0001pt;text-align:justify;">是否仅使用管理段记录事务信息。取值：1 是，0 否。默认值为 0。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">配置为 0 时，除了在管理段中记录事务信息外，还会在事务分配的首个回滚页中记录事务信息；配置为 1 时，仅在管理段中记录事务信息。</p> 
<p style="margin-left:.0001pt;text-align:justify;">支持将带有管理段的数据库降级到支持管理段之前的版本，配置为 0 和配置为 1 的降级策略有所不同，具体请咨询达梦技术服务人员。</p> 
<p style="margin-left:.0001pt;text-align:justify;">50 CHAR_TO_VARCHAR2</p> 
<p style="margin-left:.0001pt;text-align:justify;">用于指定是否允许把定长字符类型（CHAR）转换为变长字符类型（VARCHAR2）进行存储。取值：Y/y/1 是， N/n/0 否。默认值是 Y，可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;">51 HELP</p> 
<p style="margin-left:.0001pt;text-align:justify;">显示帮助信息。可选参数。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><a href="https://eco.dameng.com/" rel="nofollow" title="达梦数据库 - 新一代大型通用关系型数据库 | 达梦在线服务平台">达梦数据库 - 新一代大型通用关系型数据库 | 达梦在线服务平台</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/909afcdddcf8fc51739edc6b820f3778/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【STM32CubeMX——PWM配置】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1087ec3ea8c625535b5eff619bcfe4b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言入门数字特征值</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>