<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux启动nacos报错Error: Could not find or load main class Caused by: java.lang.ClassNotFoundException - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux启动nacos报错Error: Could not find or load main class Caused by: java.lang.ClassNotFoundException" />
<meta property="og:description" content=" 目录 linux下启动nacos报错：报错信息：解决方案 linux下启动nacos报错： Error: Could not find or load main class Caused by: java.lang.ClassNotFoundException 我的环境为centos7&#43;jdk17&#43;nacos2.0.3，原本以为是jdk版本太高的缘故。百度了以下大多数这样的问题都与jdk版本无关。
报错信息： 启动nacos：
在nacos/bin目录下输入下面命令
sh startup.sh -m standalone 报错信息：
输入启动命令后，没有见到熟悉的nacos启动界面，反而出现的的是
让我看/logs/start.out的日志
解决方案 日志是这样的，仔细看下日志的前半部分，不就是启动命令嘛。
java -Xms512m -Xmx512m -Xmn256m -Dnacos.standalone=true -Dnacos.member.list= -Xlog:gc*:file=/usr/software/nacos/nacos/logs/nacos_gc.log:time,tags:filecount=10,filesize=102400 -Dloader.path=/usr/software/nacos/nacos/plugins/health,/usr/software/nacos/nacos/plugins/cmdb -Dnacos.home=/usr/software/nacos/nacos -jar /usr/software/nacos/nacos/target/nacos-server.jar --spring.config.additional-location=file:/usr/software/nacos/nacos/conf/ --logging.config=/usr/software/nacos/nacos/conf/nacos-logback.xml --server.max-http-header-size=524288 把命令复制以下，使用这个命令在bin目录下启动nacos
可以看到nacos已经成功启动了。
如果已经暴露了端口就可以通过Ip访问了，如果没有暴露端口通过以下命令暴露端口：
firewall-cmd --permanent --add-port=8848/tcp firewall-cmd --reload " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d9d60c25b1f42598404fa41a94d718d6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-29T15:11:27+08:00" />
<meta property="article:modified_time" content="2021-12-29T15:11:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux启动nacos报错Error: Could not find or load main class Caused by: java.lang.ClassNotFoundException</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#linuxnacos_2" rel="nofollow">linux下启动nacos报错：</a></li><li><ul><li><a href="#_10" rel="nofollow">报错信息：</a></li><li><a href="#_22" rel="nofollow">解决方案</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="linuxnacos_2"></a>linux下启动nacos报错：</h2> 
<pre><code class="prism language-java"><span class="token class-name">Error</span><span class="token operator">:</span> <span class="token class-name">Could</span> not find or load main <span class="token keyword">class</span> 
<span class="token class-name">Caused</span> by<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>ClassNotFoundException</span>
</code></pre> 
<p>我的环境为centos7+jdk17+nacos2.0.3，原本以为是jdk版本太高的缘故。百度了以下大多数这样的问题都与jdk版本无关。</p> 
<h3><a id="_10"></a>报错信息：</h3> 
<p>启动nacos：<br> 在nacos/bin目录下输入下面命令</p> 
<pre><code class="prism language-shell"><span class="token function">sh</span> startup.sh -m standalone
</code></pre> 
<p>报错信息：<br> 输入启动命令后，没有见到熟悉的nacos启动界面，反而出现的的是<br> <img src="https://images2.imgbox.com/97/52/pB6fDl60_o.png" alt="在这里插入图片描述"><br> 让我看/logs/start.out的日志</p> 
<h3><a id="_22"></a>解决方案</h3> 
<p>日志是这样的，仔细看下日志的前半部分，不就是启动命令嘛。</p> 
<p><img src="https://images2.imgbox.com/97/ab/ZxebP8VX_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java">java   <span class="token operator">-</span><span class="token class-name">Xms512m</span> <span class="token operator">-</span><span class="token class-name">Xmx512m</span> <span class="token operator">-</span><span class="token class-name">Xmn256m</span> <span class="token operator">-</span><span class="token class-name">Dnacos</span><span class="token punctuation">.</span>standalone<span class="token operator">=</span><span class="token boolean">true</span> <span class="token operator">-</span><span class="token class-name">Dnacos</span><span class="token punctuation">.</span>member<span class="token punctuation">.</span>list<span class="token operator">=</span> <span class="token operator">-</span><span class="token class-name">Xlog</span><span class="token operator">:</span>gc<span class="token operator">*</span><span class="token operator">:</span>file<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>logs<span class="token operator">/</span>nacos_gc<span class="token punctuation">.</span>log<span class="token operator">:</span>time<span class="token punctuation">,</span>tags<span class="token operator">:</span>filecount<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>filesize<span class="token operator">=</span><span class="token number">102400</span> <span class="token operator">-</span><span class="token class-name">Dloader</span><span class="token punctuation">.</span>path<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>plugins<span class="token operator">/</span>health<span class="token punctuation">,</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>plugins<span class="token operator">/</span>cmdb <span class="token operator">-</span><span class="token class-name">Dnacos</span><span class="token punctuation">.</span>home<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos <span class="token operator">-</span>jar <span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>target<span class="token operator">/</span>nacos<span class="token operator">-</span>server<span class="token punctuation">.</span>jar  <span class="token operator">--</span>spring<span class="token punctuation">.</span>config<span class="token punctuation">.</span>additional<span class="token operator">-</span>location<span class="token operator">=</span>file<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>conf<span class="token operator">/</span> <span class="token operator">--</span>logging<span class="token punctuation">.</span>config<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>software<span class="token operator">/</span>nacos<span class="token operator">/</span>nacos<span class="token operator">/</span>conf<span class="token operator">/</span>nacos<span class="token operator">-</span>logback<span class="token punctuation">.</span>xml <span class="token operator">--</span>server<span class="token punctuation">.</span>max<span class="token operator">-</span>http<span class="token operator">-</span>header<span class="token operator">-</span>size<span class="token operator">=</span><span class="token number">524288</span>
</code></pre> 
<p>把命令复制以下，使用这个命令在bin目录下启动nacos<br> <img src="https://images2.imgbox.com/55/c0/C4wnhhUv_o.png" alt="在这里插入图片描述"></p> 
<p>可以看到nacos已经成功启动了。</p> 
<p>如果已经暴露了端口就可以通过Ip访问了，如果没有暴露端口通过以下命令暴露端口：</p> 
<pre><code class="prism language-shell">firewall-cmd --permanent --add-port<span class="token operator">=</span><span class="token number">8848</span>/tcp 
firewall-cmd --reload 
</code></pre> 
<p><img src="https://images2.imgbox.com/b6/b8/tjylMTXw_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9692687902874c92a32a5ed9f1608092/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">树的遍历之B树及其变种</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b76fc6eea5a19b2ed45b0db2dfc6d3f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Better-Scroll 移动端滚动工具</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>