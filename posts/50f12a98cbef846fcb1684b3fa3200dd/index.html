<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>深度学习1：环境安装（windows系统&#43;本机显卡） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="深度学习1：环境安装（windows系统&#43;本机显卡）" />
<meta property="og:description" content="提要 目录即步骤！安装的是 torch 2.0 （小节4.3.1），听说它有加速效果，但是对于windows，torch. compile (model) 这个语句会报错，我网上搜索的原因是 没有适配 windows。 目录 提要1.显卡信息查看1.1 在电脑上直接查看1.2 在 cmd 中查看 2.anaconda 安装3. cuda &amp; cudnn 安装3.1 CUDA 安装3.2 cudnn 安装3.3 安装错版本如何卸载 4. python 安装4.1 conda 创建新python环境4.2 更多 conda 命令4.3 拓展阅读4.3.1 python 各版本差异 5.python 库安装5.1查看已安装的库5.2下载库5.3 常用的库5.3.1 torch （注意 torch &amp; cuda 版本）5.3.2 tensorflow 6. 编译器安装6.1 vscode （推荐）6.1.1 app下载6.1.2 扩展工具下载6.1.3 运行环境 &amp; 调试环境 5.2 spyder (初学者可用) 7. 安装结果测试7.1 环境查看7.2 vscode 简单调试 1.显卡信息查看 1.1 在电脑上直接查看 （1） 方法1: 设备管理器 -&gt; 显示器适配器" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/50f12a98cbef846fcb1684b3fa3200dd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-08T22:58:00+08:00" />
<meta property="article:modified_time" content="2023-06-08T22:58:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">深度学习1：环境安装（windows系统&#43;本机显卡）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>提要</h2> 
<ol><li>目录即步骤！</li><li>安装的是 torch 2.0 （小节4.3.1），听说它有加速效果，但是对于windows，torch. compile (model) 这个语句会报错，我网上搜索的原因是 没有适配 windows。</li></ol> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_0" rel="nofollow">提要</a></li><li><a href="#1_5" rel="nofollow">1.显卡信息查看</a></li><li><ul><li><a href="#11__6" rel="nofollow">1.1 在电脑上直接查看</a></li><li><a href="#12__cmd__12" rel="nofollow">1.2 在 cmd 中查看</a></li></ul> 
  </li><li><a href="#2anaconda__20" rel="nofollow">2.anaconda 安装</a></li><li><a href="#3_cuda__cudnn__23" rel="nofollow">3. cuda &amp; cudnn 安装</a></li><li><ul><li><a href="#31_CUDA__27" rel="nofollow">3.1 CUDA 安装</a></li><li><a href="#32_cudnn__32" rel="nofollow">3.2 cudnn 安装</a></li><li><a href="#33__55" rel="nofollow">3.3 安装错版本如何卸载</a></li></ul> 
  </li><li><a href="#4_python__66" rel="nofollow">4. python 安装</a></li><li><ul><li><a href="#41_conda_python_68" rel="nofollow">4.1 conda 创建新python环境</a></li><li><a href="#42__conda__81" rel="nofollow">4.2 更多 conda 命令</a></li><li><a href="#43__89" rel="nofollow">4.3 拓展阅读</a></li><li><ul><li><a href="#431_python__90" rel="nofollow">4.3.1 python 各版本差异</a></li></ul> 
  </li></ul> 
  </li><li><a href="#5python__93" rel="nofollow">5.python 库安装</a></li><li><ul><li><a href="#51_95" rel="nofollow">5.1查看已安装的库</a></li><li><a href="#52_98" rel="nofollow">5.2下载库</a></li><li><a href="#53__120" rel="nofollow">5.3 常用的库</a></li><li><ul><li><a href="#531_torch__torch__cuda__121" rel="nofollow">5.3.1 torch （注意 torch &amp; cuda 版本）</a></li><li><a href="#532__tensorflow_135" rel="nofollow">5.3.2 tensorflow</a></li></ul> 
  </li></ul> 
  </li><li><a href="#6__137" rel="nofollow">6. 编译器安装</a></li><li><ul><li><a href="#61_vscode__138" rel="nofollow">6.1 vscode （推荐）</a></li><li><ul><li><a href="#611_app_139" rel="nofollow">6.1.1 app下载</a></li><li><a href="#612__141" rel="nofollow">6.1.2 扩展工具下载</a></li><li><a href="#613____144" rel="nofollow">6.1.3 运行环境 &amp; 调试环境</a></li></ul> 
   </li><li><a href="#52_spyder__165" rel="nofollow">5.2 spyder (初学者可用)</a></li></ul> 
  </li><li><a href="#7__169" rel="nofollow">7. 安装结果测试</a></li><li><ul><li><a href="#71__170" rel="nofollow">7.1 环境查看</a></li><li><a href="#72_vscode__173" rel="nofollow">7.2 vscode 简单调试</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1_5"></a>1.显卡信息查看</h2> 
<h3><a id="11__6"></a>1.1 在电脑上直接查看</h3> 
<p>（1） 方法1: 设备管理器 -&gt; 显示器适配器<br> 显卡型号<br> （2） 方法2: 右键 -&gt; 英伟达控制面板<br> 显卡型号+版本号</p> 
<h3><a id="12__cmd__12"></a>1.2 在 cmd 中查看</h3> 
<p>（1）nvidia-smi<br> 显卡型号+版本号+cuda版本</p> 
<p>（2）nvcc -V<br> cuda 信息</p> 
<p><strong>安装详见 小节 3.cuda &amp; cudnn 安装</strong></p> 
<h2><a id="2anaconda__20"></a>2.anaconda 安装</h2> 
<p>官网： https://www.anaconda.com/products/individual<br> 下载安装就完事儿了</p> 
<h2><a id="3_cuda__cudnn__23"></a>3. cuda &amp; cudnn 安装</h2> 
<p>关键在于 显卡驱动、cuda、cudnn、torch （或 tensorflow） 四者的<strong>版本</strong>要对上！！！</p> 
<ul><li>提示：①先看看自己的显卡型号，②根据显卡版本确定对应的 cuda，③根据cuda确定 cudnn、torch 版本</li></ul> 
<h3><a id="31_CUDA__27"></a>3.1 CUDA 安装</h3> 
<p>下载地址：<br> https://developer.nvidia.com/cuda-toolkit-archive</p> 
<ul><li>查看 <strong>cuda &amp; 与显卡驱动</strong> 对应的关系：<br> https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html</li></ul> 
<h3><a id="32_cudnn__32"></a>3.2 cudnn 安装</h3> 
<p>(1) 下载地址：<br> https://developer.nvidia.com/rdp/cudnn-archive<br> 可以看到 <strong>cudnn &amp; CUDA</strong> 的版本对应关系。</p> 
<p>(2)<strong>拷贝子文件夹</strong>（形如：bin, include, lib 等）<strong>放到cuda安装目录下</strong>（C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8）</p> 
<p>(3) 编辑环境变量</p> 
<ul><li> <p>CUDA_PATH<br> C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8<br> 一般而言，装好cuda后CUDA_PATH已经存在</p> </li><li> <p>CUDA_BIN_PATH<br> C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8\bin</p> </li><li> <p>CUDA_LIB_PATH<br> C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.8\lib\x64</p> </li><li> <p>CUDA_SDK_PATH<br> C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.8</p> </li><li> <p>CUDA_SDK_BIN_PATH<br> C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.8\bin\win64</p> </li><li> <p>CUDA_SDK_LIB_PATH<br> C:\ProgramData\NVIDIA Corporation\CUDA Samples\v11.8\common\lib\x64</p> </li></ul> 
<h3><a id="33__55"></a>3.3 安装错版本如何卸载</h3> 
<ul><li>我们打开 “<strong>应用和功能</strong>” 搜索 nvidia 进行卸载：<br> 对于含cuda字眼的，以及结尾有cuda版本号的可以卸载。<br> 如果不确定那个程序能不能删除，可以百度看看，程序什么用途的。<br> NVIDIA的软件一个个都有其独立卸载程序，不用担心卸载顺序。<br> <strong>留下：NVIDIA的图形驱动程序、NVIDIA Physx系统软件，NVIDIA GeForce Experience</strong>（如果你有这3个软件，就别卸载）。<br> 卸载：<br> 1.推荐排序。 点击顶部时间小三角排序，可发现一个叫NVIDIA Nsight HUD Launcher 的带眼睛图标的排列在较前面。然后从下往上卸载，跳过 NVIDIA图形驱动、NVIDIA Physx系统软件、NVIDIA GeForce Experience。<br> 2.软件名含cuda的，或者版本号的（如 11.8），或者SDK，以及 NVIDIA Nsight HUD等，这些都可以卸载掉。<br> 3.卸载完后，你会发现电脑—开始—所有程序，里面那个关于NVIDIA的程序文件不见了。存在的话，也可以看看里面还剩下什么，可以搜索看看。当然，C盘里面C:\Program Files\NVIDIA GPU Computing Toolkit文件也可以删除了。<br> 4.清理下电脑，主要是清理注册表</li></ul> 
<h2><a id="4_python__66"></a>4. python 安装</h2> 
<p>打开 anaconda powershell promt 终端 在里面输入相关命令。具体如下：</p> 
<h3><a id="41_conda_python_68"></a>4.1 conda 创建新python环境</h3> 
<p>conda create --name &lt;env_name&gt; python=&lt;py_version&gt;</p> 
<ul><li> <p>需要自己填写的参数<br> &lt;env_name&gt;: 环境名称 形如 py3_6_ tf_gpu、py3_10_torch_2_0 等<br> &lt;py_version&gt;: python 版本号</p> </li><li> <p>验证：<br> conda info -e 命令可以查看 环境名称 与 <strong>安装位置</strong></p> </li><li> <p>进入环境（也可切换环境）：<br> conda activate &lt;env_name&gt;</p> </li><li> <p>退出环境（回到 base）：<br> conda deactivate</p> </li></ul> 
<h3><a id="42__conda__81"></a>4.2 更多 conda 命令</h3> 
<ul><li>删除环境<br> conda remove -n &lt;env_name&gt; --all</li><li>查看库<br> conda list</li><li>克隆环境<br> conda create -n &lt;new_env_name&gt; --clone &lt;orig_env_name&gt;</li></ul> 
<h3><a id="43__89"></a>4.3 拓展阅读</h3> 
<h4><a id="431_python__90"></a>4.3.1 python 各版本差异</h4> 
<p>https://blog.csdn.net/qq_35952638/article/details/103101820</p> 
<h2><a id="5python__93"></a>5.python 库安装</h2> 
<p>conda activate &lt;env_name&gt; 进入环境后</p> 
<h3><a id="51_95"></a>5.1查看已安装的库</h3> 
<p>conda list</p> 
<h3><a id="52_98"></a>5.2下载库</h3> 
<p>pip install &lt;module_name&gt; -i &lt;url_http&gt;</p> 
<ul><li> <p>注:<br> &lt;module_name&gt; : 库名 形如 numpu<br> &lt;url_http&gt; : 镜像站网址 （也可不要 -i &lt;url_http&gt; 如果科学上网的话）</p> </li><li> <p>镜像站地址<br> http://pypi.douban.com/simple/ 豆瓣<br> http://mirrors.aliyun.com/pypi/simple/ 阿里<br> http://pypi.hustunique.com/simple/ 华中理工大学<br> http://pypi.sdutlinux.org/simple/ 山东理工大学<br> http://pypi.mirrors.ustc.edu.cn/simple/ 中国科学技术大学</p> </li><li> <p>tips<br> 网站一般用 http 而非 https 后者有加密, 下载库可能报错</p> </li><li> <p>延申阅读<br> （1）<a href="https://blog.csdn.net/a982847942/article/details/127098421">Conda创建新环境</a><br> （2）<a href="https://blog.csdn.net/ckc_csdn/article/details/110847776">解决：CondaHTTPError: HTTP 000 CONNECTION FAILED for url ＜https://repo.anaconda.com/pk gs/main/win-64/c</a><br> 简述: 这个报错 需要改 .condarc文件 的内容: 替换 https -&gt; http<br> 该文件的路径形如 C:\Users\xxxx\.condarc</p> </li></ul> 
<h3><a id="53__120"></a>5.3 常用的库</h3> 
<h4><a id="531_torch__torch__cuda__121"></a>5.3.1 torch （注意 torch &amp; cuda 版本）</h4> 
<ul><li> <p>查看 torch &amp; cuda 版本关系<br> （1） https://pytorch.org/get-started/previous-versions/<br> （2） https://gitcode.net/mirrors/pytorch/vision?utm_source=csdn_github_accelerator</p> </li><li> <p>安装 torch 2.0 - 注意 显卡(&gt;=452.39)&amp;cuda(11.8.x)&amp;cudnn(v8.9.0) 是否支持 !!!</p> </li></ul> 
<pre><code class="prism language-cpp">pip install torch<span class="token operator">==</span><span class="token number">2.0</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token operator">+</span>cu118 torchvision<span class="token operator">==</span><span class="token number">0.15</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token operator">+</span>cu118 <span class="token operator">-</span>f https<span class="token operator">:</span><span class="token comment">//download.pytorch.org/whl/torch_stable.html --trusted-host=pypi.python.org --trusted-host=pypi.org --trusted-host=files.pythonhosted.org</span>
</code></pre> 
<ul><li> <p>参考文章: https://zhuanlan.zhihu.com/p/614624869</p> </li><li> <p>延申阅读<br> （1）<a href="https://zhuanlan.zhihu.com/p/588854132" rel="nofollow">PyTorch 2.0 重磅发布：一行代码提速 30%</a></p> </li></ul> 
<h4><a id="532__tensorflow_135"></a>5.3.2 tensorflow</h4> 
<h2><a id="6__137"></a>6. 编译器安装</h2> 
<h3><a id="61_vscode__138"></a>6.1 vscode （推荐）</h3> 
<h4><a id="611_app_139"></a>6.1.1 app下载</h4> 
<p>官网下载安装即可</p> 
<h4><a id="612__141"></a>6.1.2 扩展工具下载</h4> 
<p>打开vscode -&gt; 点击左侧扩展图标(几个方块) -&gt; 搜索python -&gt; 下载扩展</p> 
<h4><a id="613____144"></a>6.1.3 运行环境 &amp; 调试环境</h4> 
<p>打开vscode<br> -&gt; 打开文件夹(文件夹里面已经有.py文件,或者创建一个空的xxx.py文件也可以)<br> -&gt; 点击左侧调试图标(虫子图标)<br> -&gt; 点击"创建launch.json文件" -&gt; 选择python<br> -&gt; 点击文件夹中的某个py文件<br> -&gt; vscode 下边栏 点击python版本的位置可以选择安装好的环境</p> 
<ul><li>注：<br> 以前我习惯于在创建 launch.json 后, 在其同级位置创建 settings.json<br> 并写入:</li></ul> 
<pre><code class="prism language-javascript"><span class="token punctuation">{<!-- --></span>
	<span class="token string-property property">"python.pythonPath"</span><span class="token operator">:</span> <span class="token string">"&lt;env_path&gt;"</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li> <p>&lt;env_path&gt; : anaconda 中 某个环境的位置(形如:C:\xxx\xxx\anaconda3\envs\py3_10_torch_2_0 ; 可用 conda info -v 查看)，</p> </li><li> <p>但是我在新电脑(win11)最近下了新的vscode后, python.pythonPath不再是可用的配置字段了，好在可以直接点击并选择环境。<br> 参考文章: <a href="https://blog.csdn.net/u013187057/article/details/83418425#:~:text=%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%20%E7%82%B9%E5%87%BBvscode%E5%B7%A6%E4%B8%8B%E8%A7%92%E7%84%B6%E5%90%8E%E9%80%89%E6%8B%A9%E7%9B%B8%E5%BA%94%E7%9A%84Anaconda%E7%8E%AF%E5%A2%83%20%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E5%BF%AB%E6%8D%B7%E9%94%AE%20ctrl%2Bp,%EF%BC%8C%E8%BE%93%E5%85%A5%20%3Eselect%20interpreter%20%E6%9D%A5%E9%80%89%E6%8B%A9%E7%9B%B8%E5%BA%94%E7%9A%84Anaconda%E7%8E%AF%E5%A2%83">vscode中选择Anaconda的python环境</a></p> </li></ul> 
<h3><a id="52_spyder__165"></a>5.2 spyder (初学者可用)</h3> 
<p>打开 annaconda -&gt; 选择环境 -&gt; 在主页面点击spyder图标下的 install<br> 优点: 1.直接下载 不用配环境, 2.操作界面友好 可调试, 3.免费 无需激活<br> 缺点: 1.不适配 git(用于代码版本控制 溯源)、 ssh(用于连接远程主机) 等工作中 程序开发常用的环境（这或许意味着在入职后需要花时间适应vscode） 2. 命令行输入参数 无法调试、运行 (如 最终需要在命令行执行 python xxx.py param1 这个例子在spyder中直接运行xxx.py 是无法输入 param1的)，当然这不是致命问题</p> 
<h2><a id="7__169"></a>7. 安装结果测试</h2> 
<h3><a id="71__170"></a>7.1 环境查看</h3> 
<p>如前文所述，查看 gpu版本（nvidia-smi）、cuda &amp; cudnn 版本(nvcc -V)、python环境 (conda info -e)、python 库(先 conda activate &lt;env_name&gt; ，然后 conda list)</p> 
<h3><a id="72_vscode__173"></a>7.2 vscode 简单调试</h3> 
<ul><li>简单测试一下 torch<br> 这里安装的是 torch 2.0 ，听说它有加速效果，但是对于windows，torch. compile (model) 这个语句会报错，我网上搜索的原因是 没有适配 windows。<br> 参考: <a href="https://github.com/pytorch/pytorch/issues/90768">(github) PyTorch 2.0 not working on Windows #90768</a></li></ul> 
<pre><code class="prism language-python"><span class="token comment">#%% import</span>
<span class="token keyword">import</span> torch
<span class="token keyword">import</span> torchvision<span class="token punctuation">.</span>models <span class="token keyword">as</span> models

<span class="token comment">#%% test</span>
<span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    model <span class="token operator">=</span> models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>
    optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">)</span>
    compiled_model <span class="token operator">=</span> torch<span class="token punctuation">.</span> <span class="token builtin">compile</span> <span class="token punctuation">(</span>model<span class="token punctuation">)</span>   <span class="token comment"># 关键一行 torch 2.0 加速似乎还没适配 windows</span>
    x <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>
    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>
    out <span class="token operator">=</span> compiled_model<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    out<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>
    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"info | test2() | start ..."</span><span class="token punctuation">)</span>
    
    model <span class="token operator">=</span> models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"info | test2() | model:"</span><span class="token punctuation">,</span> model<span class="token punctuation">)</span>
    
    optimizer <span class="token operator">=</span> torch<span class="token punctuation">.</span>optim<span class="token punctuation">.</span>SGD<span class="token punctuation">(</span>model<span class="token punctuation">.</span>parameters<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> lr<span class="token operator">=</span><span class="token number">0.01</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"info | test2() | optimizer:"</span><span class="token punctuation">,</span> optimizer<span class="token punctuation">)</span>
    
    x <span class="token operator">=</span> torch<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cuda<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"info | test2() | input shape:"</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
    
    optimizer<span class="token punctuation">.</span>zero_grad<span class="token punctuation">(</span><span class="token punctuation">)</span>
    out <span class="token operator">=</span> model<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    out<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>backward<span class="token punctuation">(</span><span class="token punctuation">)</span>
    optimizer<span class="token punctuation">.</span>step<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"info | test2() | end ..."</span><span class="token punctuation">)</span>

<span class="token comment">#%% main</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"start testing..."</span><span class="token punctuation">)</span>
    <span class="token comment"># test()</span>
    test2<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>代码参考:<a href="https://zhuanlan.zhihu.com/p/588854132" rel="nofollow">PyTorch 2.0 重磅发布：一行代码提速 30%</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/924d331b55b043e7159ad13c8c682e9d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QT——QSS技术</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5c9e137aed4dcac914df1895bee9c98f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">银河麒麟系统中离线安装jdk和tomcat</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>