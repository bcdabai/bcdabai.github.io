<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>头歌机器学习---Pandas数值统计​ Pandas数据清洗​​ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="头歌机器学习---Pandas数值统计​ Pandas数据清洗​​" />
<meta property="og:description" content="第1关 Pandas数值统计 因为series和dataframe是两个不同的对象，所以它们有自己独特的方法。接下来让我们看一个series方法的例子—Series.value_counts()方法。此方法按顺序显示列中的每个非空值及其计数。
首先，我们将从f500的dataframe中选择一个列：
sectors = f500[&#34;sector&#34;]print(type(sectors)) 输出结果：
class &#39;pandas.core.series.Series&#39; 接下来，我们将把Series.value_counts()中的“Series”替换为sectors，如下所示：
sectors_value_counts = sectors.value_counts()print(sectors_value_counts) 输出结果：
Financials 118Energy 80Technology 44Motor Vehicles &amp; Parts 34Wholesalers 28Health Care 27Food &amp; Drug Stores 20Transportation 19Telecommunications 18Retailing 17Food, Beverages &amp; Tobacco 16Materials 16Industrials 15Aerospace &amp; Defense 14Engineering &amp; Construction 13Chemicals 7Media 3Hotels, Restaurants &amp; Leisure 3Business Services 3Household Products 3Apparel 2Name: sector, dtype: int64 我们可以看到列中每个非空值及其计数。
让我们看看当我们尝试对dataframe使用Series.value_counts()方法时会发生什么。首先，我们将选择sector和industry列来创建一个名为sectors_industries的dataframe：
sectors_industries = f500[[&#34;sector&#34;, &#34;industry&#34;]]
print(type(sectors_industries))
输出结果：
&lt; class &#39;pandas." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/64933e3edd4527179e9986298be0a964/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-07T19:36:03+08:00" />
<meta property="article:modified_time" content="2023-05-07T19:36:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">头歌机器学习---Pandas数值统计​ Pandas数据清洗​​</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>第1关 <a href="https://www.educoder.net/tasks/aloevn3thj6u" rel="nofollow" title="Pandas数值统计">Pandas数值统计</a></strong> </p> 
<p>因为<code>series</code>和<code>dataframe</code>是两个不同的对象，所以它们有自己独特的方法。接下来让我们看一个<code>series</code>方法的例子—<a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.value_counts.html" rel="nofollow" title="Series.value_counts()">Series.value_counts()</a>方法。此方法按顺序显示列中的每个非空值及其计数。</p> 
<p>首先，我们将从<code>f500</code>的<code>dataframe</code>中选择一个列：</p> 
<pre></pre> 
<ol><li><code>sectors = f500["sector"]</code></li><li><code>print(type(sectors))</code></li></ol> 
<p>输出结果：</p> 
<pre></pre> 
<ol><li><code>class 'pandas.core.series.Series'</code></li></ol> 
<p>接下来，我们将把<code>Series.value_counts()</code>中的“Series”替换为<code>sectors</code>，如下所示：</p> 
<pre></pre> 
<ol><li><code>sectors_value_counts = sectors.value_counts()</code></li><li><code>print(sectors_value_counts)</code></li></ol> 
<p>输出结果：</p> 
<pre></pre> 
<ol><li><code>Financials 118</code></li><li><code>Energy 80</code></li><li><code>Technology 44</code></li><li><code>Motor Vehicles &amp; Parts 34</code></li><li><code>Wholesalers 28</code></li><li><code>Health Care 27</code></li><li><code>Food &amp; Drug Stores 20</code></li><li><code>Transportation 19</code></li><li><code>Telecommunications 18</code></li><li><code>Retailing 17</code></li><li><code>Food, Beverages &amp; Tobacco 16</code></li><li><code>Materials 16</code></li><li><code>Industrials 15</code></li><li><code>Aerospace &amp; Defense 14</code></li><li><code>Engineering &amp; Construction 13</code></li><li><code>Chemicals 7</code></li><li><code>Media 3</code></li><li><code>Hotels, Restaurants &amp; Leisure 3</code></li><li><code>Business Services 3</code></li><li><code>Household Products 3</code></li><li><code>Apparel 2</code></li><li><code>Name: sector, dtype: int64</code></li></ol> 
<p>我们可以看到列中每个非空值及其计数。</p> 
<p>让我们看看当我们尝试对<code>dataframe</code>使用<code>Series.value_counts()</code>方法时会发生什么。首先，我们将选择<code>sector</code>和<code>industry</code>列来创建一个名为<code>sectors_industries</code>的<code>dataframe</code>：</p> 
<p><code>  sectors_industries = f500[["sector", "industry"]]</code></p> 
<p><code>  print(type(sectors_industries))</code></p> 
<p>输出结果：</p> 
<p><code>  &lt; class 'pandas.core.frame.DataFrame' &gt;</code></p> 
<p>然后，我们将尝试使用<code>value_counts()</code>方法：</p> 
<p><code>  si_value_counts = sectors_industries.value_counts()</code></p> 
<p><code>  print(si_value_counts)</code></p> 
<p>因为<code>value_counts()</code>只是series的方法，所以我们得到以下错误： <code>AttributeError: 'DataFrame' object has no attribute 'value_counts'</code></p> 
<p><code>最终答案如下：</code></p> 
<pre><code>import pandas as pd
f500 = pd.read_csv('f500.csv',index_col=0)
f500.index.name = None
f500_sel = f500.iloc[[0,1,2,3,4,8]]


# 请在此添加代码
#********** Begin **********#
countries=f500_sel["country"]
country_counts=countries.value_counts()
print(countries)
print(country_counts)
#********** End **********#</code></pre> 
<p><strong>第2关 <a href="https://www.educoder.net/tasks/ij8hzgvrncl9" rel="nofollow" title="Pandas数据清洗​​​​​​​​​​​​">Pandas数据清洗​​​​​</a></strong></p> 
<p>缺失值处理：</p> 
<p>1、检查缺失值</p> 
<p><code>Pandas</code>提供了<code>isnull()</code>和<code>notnull()</code>两个函数来检测数据中的<code>NaN</code>值。<code>Series</code>和<code>DataFrame</code>对象都可以使用。</p> 
<p>2、处理缺失值</p> 
<p><code>Pandas</code>中可以通过<code>fillna()</code>函数来用非空数据填充<code>NA</code>值，如果想排除缺少的值，可以使用<code>dropna()</code>函数。删除缺失值时，可以传入<code>axis</code>参数，<code>axis=0</code>时则整行被删除，反之则整列被删除。默认值为<code>0</code>。</p> 
<p>重复值处理：</p> 
<p>检查重复值</p> 
<p><code>Pandas</code>中的<code>duplicated()</code>返回<code>bool</code>的<code>Series</code>序列表示该行是不是重复值。</p> 
<p>异常值处理：</p> 
<p>检测异常值</p> 
<p>发现异常值的方法是对数据进行描述性统计。使用<code>describe</code>函数可以生成描述统计结果，然后观察异常值的存在。超出数据正常范围的值即为异常值。</p> 
<p>异常值处理：</p> 
<p>检测到了异常值，我们需要对其进行一定的处理。而一般异常值的处理方法可大致分为以下几种：</p> 
<ul><li>直接将含有异常值的记录删除；</li><li>将异常值视为缺失值，利用缺失值处理的方法进行处理；</li><li>可用前后两个观测值的平均值修正该异常值；</li><li>直接在具有异常值的数据集上进行数据挖掘。</li></ul> 
<p>是否要删除异常值可根据实际情况考虑。因为一些模型对异常值不很敏感，即使有异常值也不影响模型效果。</p> 
<pre><code>
import pandas as pd

def clean():

 #********** Begin *********#
    
    fd1=pd.read_csv('step2/message.csv',header=0)
    fd2=fd1.dropna().drop_duplicates().reset_index()
    return fd2
 #********** End **********#

if __name__ == '__main__':
    print(clean())</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/02b05176db65fa5a1439999e4b4ef8ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">机器学习笔记（吴恩达）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0067fed2236f08e3e57bba631e76587e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装ros时遇到Website may be down</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>