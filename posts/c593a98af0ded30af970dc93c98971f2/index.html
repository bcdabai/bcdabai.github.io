<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ACwing:算法基础课 第二章Trie树，并查集，堆听课笔记 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ACwing:算法基础课 第二章Trie树，并查集，堆听课笔记" />
<meta property="og:description" content="一。Trie 树
**1.基本作用：**高效地存储和查找字符串集合的数据结构。用Trie树存储字符串的时候，字符串一般都是全小写或者是全大写并且字母的个数不会很多即限制只有26个或52个。
例如：
构造的Trie树如下：
注意，在每一个单词的最后一个字母后面打一个标记星号，说明到此为一个单词的结束。即要把每一个单词的最后一个字母打标记
2.代码如下：
#include&lt;iostream&gt; using namespace std; const int N=100010; //son表示N个节点的子节点，因为字符串都是小写字母，所以一个节点最多就只有26个子节点 //cnt[N]表示以N字符结束的单词有多少个，即结尾的标记 //idx 表示给当前节点分配一个序号下标 int son[N][26],cnt[N],idx;//注意下表为0的点，既是根节点又是空节点 char str[N];//存储输入的字符串 //存储字符串 void insert(char str[])//str[]存储的是字符串 { int p=0;//指向根节点 for(int i=0;str[i];i&#43;&#43;)//因为字符串的最后一个字符是0，所以可以这样去判断 { int u=str[i]-&#39;a&#39;;//提取出字符串中的每一个字符，转换到0-25 if(!son[p][u]) son[p][u]=&#43;&#43;idx;//如果没有就创建 p=son[p][u];//然后就指向下一个,注意这里没有else，因为无论如何都要指向下一个 } cnt[p]&#43;&#43;;//以p字符结尾的单词数量增加 } //查询字符串 int query(char str[]) { int p=0; for(int i=0;str[i];i&#43;&#43;) { int u=str[i]-&#39;a&#39;; if(!son[p][u]) return 0;//如果没有的话就直接return p=son[p][u];//注意这个没有else,因为无论如何都要指向下一个 } return cnt[p]; } //学会该处理输入输出的方法 int main() { int n; scanf(“%d”,&amp;n); while(n—) { char op[2];//细节，都用字符串读入 scanf(“%s%s”,op,str); if(op[0]==‘I’) insert(str); else printf(“%d\n”,query(str)); } return 0; } 二。并查集" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c593a98af0ded30af970dc93c98971f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-30T17:04:31+08:00" />
<meta property="article:modified_time" content="2021-10-30T17:04:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ACwing:算法基础课 第二章Trie树，并查集，堆听课笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>一。Trie 树</strong></p> 
<p>**1.基本作用：**高效地存储和查找字符串集合的数据结构。用Trie树存储字符串的时候，<strong>字符串一般都是全小写或者是全大写并且字母的个数不会很多</strong>即限制只有26个或52个。</p> 
<p>例如：<img src="https://images2.imgbox.com/92/a9/TepHxe1C_o.png" alt="在这里插入图片描述"><br> 构造的Trie树如下：</p> 
<p><img src="https://images2.imgbox.com/4f/7b/B5BljIFh_o.png" alt="在这里插入图片描述"><br> 注意，在每一个单词的最后一个字母后面打一个标记星号，说明到此为一个单词的结束。即要把每一个单词的最后一个字母打标记</p> 
<p><strong>2.代码如下：</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">100010</span><span class="token punctuation">;</span>

<span class="token comment">//son表示N个节点的子节点，因为字符串都是小写字母，所以一个节点最多就只有26个子节点</span>
<span class="token comment">//cnt[N]表示以N字符结束的单词有多少个，即结尾的标记</span>
<span class="token comment">//idx 表示给当前节点分配一个序号下标</span>

<span class="token keyword">int</span> son<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">,</span>cnt<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>idx<span class="token punctuation">;</span><span class="token comment">//注意下表为0的点，既是根节点又是空节点 </span>
<span class="token keyword">char</span> str<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存储输入的字符串</span>


<span class="token comment">//存储字符串 </span>
<span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//str[]存储的是字符串</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> p<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//指向根节点</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token comment">//因为字符串的最后一个字符是0，所以可以这样去判断 </span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> u<span class="token operator">=</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">;</span><span class="token comment">//提取出字符串中的每一个字符，转换到0-25</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>son<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> son<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">++</span>idx<span class="token punctuation">;</span><span class="token comment">//如果没有就创建</span>
		p<span class="token operator">=</span>son<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//然后就指向下一个,注意这里没有else，因为无论如何都要指向下一个</span>
	<span class="token punctuation">}</span>
	cnt<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//以p字符结尾的单词数量增加</span>
<span class="token punctuation">}</span> 


<span class="token comment">//查询字符串</span>
<span class="token keyword">int</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> p<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> u<span class="token operator">=</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token string">'a'</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>son<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//如果没有的话就直接return</span>
		p<span class="token operator">=</span>son<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//注意这个没有else,因为无论如何都要指向下一个</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cnt<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//学会该处理输入输出的方法</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
    <span class="token function">scanf</span><span class="token punctuation">(</span>“<span class="token operator">%</span>d”<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>n—<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> op<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//细节，都用字符串读入</span>
        <span class="token function">scanf</span><span class="token punctuation">(</span>“<span class="token operator">%</span>s<span class="token operator">%</span>s”<span class="token punctuation">,</span>op<span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>op<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>‘I’<span class="token punctuation">)</span> <span class="token function">insert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span>“<span class="token operator">%</span>d\n”<span class="token punctuation">,</span><span class="token function">query</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>二。并查集</strong></p> 
<p>思维强，短小代码，面试喜欢</p> 
<p>1.作用：并查集可以快速的处理如下问题：<br> (1) 将两个集合合并<br> (2) 询问两个元素是否在一个集合当中</p> 
<p>可以近乎在O（1)的时间内完成上述操作</p> 
<p>2.基本思想：每个集合用一颗树来表示。树根的编号就是整个集合的编号。每个节点存储它的父节点，p[x]表示x的父节点</p> 
<p>3.解决的问题：<br> (1) 如何判断树根：if(p[x]==x）<br> (2) 如何求x的集合的编号：while(p[x]!=x) x=p[x] 即x不是树根，那么就一直往上走，直到找到了树根<br> (3) 如何合并两个集合——加一条边就行，即把一个集合插到另外一个集合就行：假设px是x的集合编号，py是y的集合编号。p[x]=y。此时的优化操作为路径压缩：即找x的根节点的时候，一直往上走的时候，同时把父节点改成根节点。</p> 
<p><img src="https://images2.imgbox.com/7f/ca/ZdPtoz5p_o.png" alt="在这里插入图片描述"><br> 4. 代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">100010</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> p<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存的为祖宗节点 ，即每一个点所属的一个集合父节点</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token comment">//返回x节点的祖宗节点+路径压缩 </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果这一个点的祖宗节点不是自己的话，就返回其父节点的祖宗节点 </span>
	<span class="token keyword">return</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token comment">//将每一个节点初始化为自己 </span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span> op<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
		<span class="token function">scnaf</span><span class="token punctuation">(</span><span class="token string">"%s%d%d"</span><span class="token punctuation">,</span>op<span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//%s可以过滤掉空格和回车 </span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span>op<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'M'</span><span class="token punctuation">)</span> p<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//合并集合，即是将a的祖宗节点的父节点指向b集合的祖宗节点 </span>
		<span class="token keyword">else</span><span class="token comment">//判断两个集合是否是同一个集合，即判断他们的祖宗节点是否相同 </span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"Yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"No"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> 
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
 
</code></pre> 
<p>5.扩展：在更新路径的时候如何维护额外的信息之统计每一个集合内的点的数量，还可以维护节点到根节点的距离</p> 
<p>维护一个数组size记录每个集合的节点个数，且这个数组只需要保证根节点的size有效即可<br> <img src="https://images2.imgbox.com/04/64/4DxsO6bW_o.png" alt="在这里插入图片描述"><br> 代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">100010</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> p<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//存的为祖宗节点 ，即每一个点所属的一个集合父节点</span>
<span class="token keyword">int</span> size<span class="token punctuation">[</span>N<span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token comment">//用来记录每一个集合内点的数量,只保证根节点的size有意义即可 </span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token comment">//返回x节点的祖宗节点+路径压缩 </span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">!=</span>x<span class="token punctuation">)</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果这一个点的祖宗节点不是自己的话，就返回其父节点的祖宗节点 </span>
	<span class="token keyword">return</span> p<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> 
	<span class="token punctuation">{<!-- --></span>
	    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token comment">//将每一个节点初始化为自己 </span>
	    size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//每一个集合只有自己的一个点 </span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">char</span> op<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
		<span class="token function">scnaf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>op<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//%s可以过滤掉空格和回车 </span>
		
		<span class="token keyword">if</span><span class="token punctuation">(</span>op<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'C'</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> 
			<span class="token comment">//如果a和b已经在一个集合里面，则忽略，直接continue </span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> 
		    p<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//合并集合，即是将a的祖宗节点的父节点指向b集合的祖宗节点 </span>
		    <span class="token comment">//合并之后要更新根节点的集合的数量</span>
			size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+=</span>size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>
			
     	<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>op<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token comment">//判断两个集合是否是同一个集合，即判断他们的祖宗节点是否相同 </span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">==</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"Yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span> <span class="token function">puts</span><span class="token punctuation">(</span><span class="token string">"No"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span><span class="token comment">//询问某一个集合中点的数量 </span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>三。堆：如何手写一个堆</strong></p> 
<p><strong>1.堆的基本操作</strong></p> 
<p>（1）插入一个数<br> （2）求集合当中的最小值<br> （3）删除最小值<br> （4）删除任意一个元素<br> （5）修改任意一个元素</p> 
<p><strong>2.堆的基本结构</strong></p> 
<p>是一棵完全二叉树，即除了最后一层之外，其它层的节点都是满的<br> 小根堆：根节点小于等于左右两个子节点<br> 大根堆：根节点大于等于左右两个子节点</p> 
<p><strong>3.堆的存储</strong></p> 
<p>用一个一维数组来存根节点和左右节点的下标表示如下：并且下标要从1开始标<br> <img src="https://images2.imgbox.com/7a/07/fECTkBYW_o.png" alt="在这里插入图片描述"><br> 4. down(x)<br> 顾名思义即往下调整，即如果在小根堆里面有一个值变大了，那么就要往下调整，此时要和子两个节点一起比较</p> 
<p>5.up(x）<br> 顾名思义即向上调整，即如果在大根堆里面有一个值变小了，就要往上调整，只需要和父节点进行比较就可以</p> 
<p>6.利用up和down两个操作去完成堆的所有操作</p> 
<p>（1）插入一个数<br> heap[++size]; up[size];<br> 即在末尾加入一个数，然后往上调整，直到插入到它应该在的位置</p> 
<p>（2）求集合当中的最小值<br> 小根堆里面就是heap[1]</p> 
<p>（3）删除最小值<br> 利用一个技巧：就是让最后一个点覆盖掉第一个点，然后size–,因为删除最后一个点是比较容易的<br> heap[1]=heap[size];size–;<br> 然后再维护down(1),就是让根节点往下调整，调整到它应该在的位置</p> 
<p>（4）删除任意一个元素<br> heap[k]=heap[size];<br> size–;<br> 然后更新维护：down(x)或者up(x)<br> 可以一起写，但只会执行一个</p> 
<p>（5）修改任意一个元素<br> heap[size]=k;down(x)</p> 
<p><img src="https://images2.imgbox.com/16/7e/wZYjifs2_o.png" alt="在这里插入图片描述"></p> 
<p><strong>7。 如何把数组变成堆</strong></p> 
<pre><code> for(int i=n/2;i;i--) down(i);
</code></pre> 
<p><strong>8 。down操作</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">100010</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>
<span class="token keyword">int</span> h<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>size<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">down</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> t<span class="token operator">=</span>u<span class="token punctuation">;</span><span class="token comment">//t表示根节点和其子女节点的最小值</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token operator">&lt;=</span>size<span class="token operator">&amp;&amp;</span>h<span class="token punctuation">[</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>h<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span> t<span class="token operator">=</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//左子 </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;=</span>size<span class="token operator">&amp;&amp;</span>h<span class="token punctuation">[</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>h<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span> t<span class="token operator">=</span>u<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//右子</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>u<span class="token operator">!=</span>t<span class="token punctuation">)</span><span class="token comment">//说明调整了</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">swap</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">,</span>h<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token function">down</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
	 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>h<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	size<span class="token operator">=</span>n<span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">down</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//将数组变成堆</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>h<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token comment">//输出最小值</span>
		h<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>h<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
		size<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token function">down</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除最小元素 </span>
	 <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>8 。up操作</strong></p> 
<p>只需要和父节点相比</p> 
<pre><code class="prism language-cpp">
<span class="token keyword">void</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>u<span class="token operator">/</span><span class="token number">2</span><span class="token operator">&amp;&amp;</span>h<span class="token punctuation">[</span>u<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>h<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//与父节点比较 </span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">swap</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span>u<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>h<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		u<span class="token operator">/=</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
 <span class="token punctuation">}</span> 
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b888ded4af34ccc60e468d6386acc06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">雷达系统概述--距离分辨率</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d7892f0c0baa0a9fdfb101e2b91375af/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">‘project JDK is not define‘ 解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>