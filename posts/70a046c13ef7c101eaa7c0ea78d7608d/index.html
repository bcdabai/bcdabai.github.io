<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【全栈接口测试进阶系列教程】postman接口测试实战cookie，token，session鉴权，Base64，MD5，RSA加密，Sign签名，持续集成postman&#43;Newman&#43;jenkins - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【全栈接口测试进阶系列教程】postman接口测试实战cookie，token，session鉴权，Base64，MD5，RSA加密，Sign签名，持续集成postman&#43;Newman&#43;jenkins" />
<meta property="og:description" content="目录
【一：postman简介和安装以及postman的登录和注册】
一、postman下载
二、安装、注册/登陆
三、简单使用
1.postman模拟发送get请求：
2.postman模拟发送post请求：
3.post数据类型说明：
【二：postman发送get请求，post请求实战以及页签详解】
发送GET请求
响应页面
发送POST请求
【三：postman环境变量和全局变量】
1.在postman点击小齿轮，再选中manage environments　进入到环境变量添加环境变量。
２、添加测试环境的名称，变量名和对应的值。
３、做接口请求，切换到当前的测试环境下，把变量ｕｒｌ　添加
全局变量设置步骤
１、点击小眼睛进入到环境变量添加页面，点击add添加环境变量
２、新增环境输入变量名称和变量值
【四：postman三种接口关联的方式和实战详解】 一、为什么要做接口测试？
二、目前市面工具
三、接口测试
四、组合API（接口关联，接口串联，上一个接口的返回值作为下一个接口的参数）
1. json提取器
2. 正则表达式提取器
3. cookie提取器（通过cookie来取值）
五、动态参数
六、扩展
1.cookie关联2.断言3.自定义动态参数4.csv数据驱动
5.带请求头的接口6.mock7.cookie鉴权8.加密9.sign签名10.postman&#43;newman&#43;git&#43;jenkins持续集成（也叫接口自动化或接口测试）
七、postman,jmeter都有，很强大，很好用，做什么接口自动化？
【五：postman内置动态参数以及自定义动态参数】
【六：postman常规断言。动态参数断言以及全局断言】 【七：postman必须带请求头的接口测试实战以及常用请求头详解】 【八：postman流程控制语句】
流程控制
postman.setNextRequest(&#39;下一个接口名&#39;);
调试
公共函数
外部数据文件
【九：postman接口测试实战之csv或json文件实现数据驱动】 【十：postman接口测试实战之前置脚本】 前置脚本
九、接口关联
[十一：postman后置脚本]
【十二：】 postman之cookie，token，session鉴权
一、鉴权 、授权
1、cookies 和 session
2、token 鉴权
【十三：postman之console日志查看和应用调式】
[十四：postman之mcok server自定义接口服务器]
【十五：postman接口测试加密（base64.md5.rsa等）】
RSA签名就写这些，接下来写AES加密。
【十六：postman接口签名sign接口测试实战】
【一：postman简介和安装以及postman的登录和注册】 一、postman下载 postman分为chrome插件版本和客户端版本。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/70a046c13ef7c101eaa7c0ea78d7608d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-22T14:06:58+08:00" />
<meta property="article:modified_time" content="2022-12-22T14:06:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【全栈接口测试进阶系列教程】postman接口测试实战cookie，token，session鉴权，Base64，MD5，RSA加密，Sign签名，持续集成postman&#43;Newman&#43;jenkins</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p><img alt="" height="711" src="https://images2.imgbox.com/aa/21/w1PA7nYk_o.png" width="599"></p> 
<p></p> 
<p id="%E3%80%90%E4%B8%80%EF%BC%9Apostman%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8Apostman%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E5%86%8C%E3%80%91-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%B8%80%EF%BC%9Apostman%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8Apostman%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E5%86%8C%E3%80%91" rel="nofollow">【一：postman简介和安装以及postman的登录和注册】</a></p> 
<p id="1905856716-toc" style="margin-left:40px;"><a href="#1905856716" rel="nofollow">一、postman下载</a></p> 
<p id="%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E6%B3%A8%E5%86%8C%2F%E7%99%BB%E9%99%86-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E6%B3%A8%E5%86%8C%2F%E7%99%BB%E9%99%86" rel="nofollow">二、安装、注册/登陆</a></p> 
<p id="%E4%B8%89%E3%80%81%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8" rel="nofollow">三、简单使用</a></p> 
<p id="3657827688-toc" style="margin-left:40px;"><a href="#3657827688" rel="nofollow">1.postman模拟发送get请求：</a></p> 
<p id="303519381-toc" style="margin-left:40px;"><a href="#303519381" rel="nofollow">2.postman模拟发送post请求：</a></p> 
<p id="3525612802-toc" style="margin-left:40px;"><a href="#3525612802" rel="nofollow"> 3.post数据类型说明：</a></p> 
<p id="%E3%80%90%E4%BA%8C%EF%BC%9Apostman%E5%8F%91%E9%80%81get%E8%AF%B7%E6%B1%82%EF%BC%8Cpost%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E9%A1%B5%E7%AD%BE%E8%AF%A6%E8%A7%A3%E3%80%91-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%BA%8C%EF%BC%9Apostman%E5%8F%91%E9%80%81get%E8%AF%B7%E6%B1%82%EF%BC%8Cpost%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E9%A1%B5%E7%AD%BE%E8%AF%A6%E8%A7%A3%E3%80%91" rel="nofollow">【二：postman发送get请求，post请求实战以及页签详解】</a></p> 
<p id="%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82-toc" style="margin-left:80px;"><a href="#%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82" rel="nofollow">发送GET请求</a></p> 
<p id="%E5%93%8D%E5%BA%94%E9%A1%B5%E9%9D%A2-toc" style="margin-left:80px;"><a href="#%E5%93%8D%E5%BA%94%E9%A1%B5%E9%9D%A2" rel="nofollow">响应页面</a></p> 
<p id="%E5%8F%91%E9%80%81POST%E8%AF%B7%E6%B1%82-toc" style="margin-left:80px;"><a href="#%E5%8F%91%E9%80%81POST%E8%AF%B7%E6%B1%82" rel="nofollow">发送POST请求</a></p> 
<p id="%E3%80%90%E4%B8%89%EF%BC%9Apostman%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%91-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%B8%89%EF%BC%9Apostman%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%91" rel="nofollow">【三：postman环境变量和全局变量】</a></p> 
<p id="1.%E5%9C%A8postman%E7%82%B9%E5%87%BB%E5%B0%8F%E9%BD%BF%E8%BD%AE%EF%BC%8C%E5%86%8D%E9%80%89%E4%B8%ADmanage%20environments%E3%80%80%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E3%80%82-toc" style="margin-left:40px;"><a href="#1.%E5%9C%A8postman%E7%82%B9%E5%87%BB%E5%B0%8F%E9%BD%BF%E8%BD%AE%EF%BC%8C%E5%86%8D%E9%80%89%E4%B8%ADmanage%20environments%E3%80%80%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E3%80%82" rel="nofollow">1.在postman点击小齿轮，再选中manage environments　进入到环境变量添加环境变量。</a></p> 
<p id="%EF%BC%92%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%E3%80%82-toc" style="margin-left:40px;"><a href="#%EF%BC%92%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%E3%80%82" rel="nofollow">２、添加测试环境的名称，变量名和对应的值。</a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%EF%BC%93%E3%80%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9A%84%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E6%8A%8A%E5%8F%98%E9%87%8F%EF%BD%95%EF%BD%92%EF%BD%8C%E3%80%80%E6%B7%BB%E5%8A%A0-toc" style="margin-left:40px;"><a href="#%EF%BC%93%E3%80%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9A%84%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E6%8A%8A%E5%8F%98%E9%87%8F%EF%BD%95%EF%BD%92%EF%BD%8C%E3%80%80%E6%B7%BB%E5%8A%A0" rel="nofollow">３、做接口请求，切换到当前的测试环境下，把变量ｕｒｌ　添加</a></p> 
<p id="%C2%A0%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE%E6%AD%A5%E9%AA%A4-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE%E6%AD%A5%E9%AA%A4" rel="nofollow"> 全局变量设置步骤</a></p> 
<p id="%C2%A0%EF%BC%91%E3%80%81%E7%82%B9%E5%87%BB%E5%B0%8F%E7%9C%BC%E7%9D%9B%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%EF%BC%8C%E7%82%B9%E5%87%BBadd%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-toc" style="margin-left:80px;"><a href="#%C2%A0%EF%BC%91%E3%80%81%E7%82%B9%E5%87%BB%E5%B0%8F%E7%9C%BC%E7%9D%9B%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%EF%BC%8C%E7%82%B9%E5%87%BBadd%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F" rel="nofollow"> １、点击小眼睛进入到环境变量添加页面，点击add添加环境变量</a></p> 
<p id="-toc" style="margin-left:80px;"></p> 
<p id="%C2%A0%EF%BC%92%E3%80%81%E6%96%B0%E5%A2%9E%E7%8E%AF%E5%A2%83%E8%BE%93%E5%85%A5%E5%8F%98%E9%87%8F%E5%90%8D%E7%A7%B0%E5%92%8C%E5%8F%98%E9%87%8F%E5%80%BC-toc" style="margin-left:80px;"><a href="#%C2%A0%EF%BC%92%E3%80%81%E6%96%B0%E5%A2%9E%E7%8E%AF%E5%A2%83%E8%BE%93%E5%85%A5%E5%8F%98%E9%87%8F%E5%90%8D%E7%A7%B0%E5%92%8C%E5%8F%98%E9%87%8F%E5%80%BC" rel="nofollow"> ２、新增环境输入变量名称和变量值</a></p> 
<p id="%E3%80%90%E5%9B%9B%EF%BC%9Apostman%E4%B8%89%E7%A7%8D%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%E7%9A%84%E6%96%B9%E5%BC%8F%E5%92%8C%E5%AE%9E%E6%88%98%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0-toc" style="margin-left:0px;"><a href="#%E3%80%90%E5%9B%9B%EF%BC%9Apostman%E4%B8%89%E7%A7%8D%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%E7%9A%84%E6%96%B9%E5%BC%8F%E5%92%8C%E5%AE%9E%E6%88%98%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0" rel="nofollow">【四：postman三种接口关联的方式和实战详解】 </a></p> 
<p id="%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%9F-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%9F" rel="nofollow">一、为什么要做接口测试？</a></p> 
<p id="%E4%BA%8C%E3%80%81%E7%9B%AE%E5%89%8D%E5%B8%82%E9%9D%A2%E5%B7%A5%E5%85%B7-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E7%9B%AE%E5%89%8D%E5%B8%82%E9%9D%A2%E5%B7%A5%E5%85%B7" rel="nofollow">二、目前市面工具</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95" rel="nofollow">三、接口测试</a></p> 
<p id="%E5%9B%9B%E3%80%81%E7%BB%84%E5%90%88API%EF%BC%88%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%EF%BC%8C%E6%8E%A5%E5%8F%A3%E4%B8%B2%E8%81%94%EF%BC%8C%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E4%BD%9C%E4%B8%BA%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%89-toc" style="margin-left:40px;"><a href="#%E5%9B%9B%E3%80%81%E7%BB%84%E5%90%88API%EF%BC%88%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%EF%BC%8C%E6%8E%A5%E5%8F%A3%E4%B8%B2%E8%81%94%EF%BC%8C%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E4%BD%9C%E4%B8%BA%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%89" rel="nofollow">四、组合API（接口关联，接口串联，上一个接口的返回值作为下一个接口的参数）</a></p> 
<p id="1.%20json%E6%8F%90%E5%8F%96%E5%99%A8-toc" style="margin-left:80px;"><a href="#1.%20json%E6%8F%90%E5%8F%96%E5%99%A8" rel="nofollow">1. json提取器</a></p> 
<p id="2.%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8F%96%E5%99%A8-toc" style="margin-left:80px;"><a href="#2.%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8F%96%E5%99%A8" rel="nofollow">2. 正则表达式提取器</a></p> 
<p id="3.%20cookie%E6%8F%90%E5%8F%96%E5%99%A8%EF%BC%88%E9%80%9A%E8%BF%87cookie%E6%9D%A5%E5%8F%96%E5%80%BC%EF%BC%89-toc" style="margin-left:80px;"><a href="#3.%20cookie%E6%8F%90%E5%8F%96%E5%99%A8%EF%BC%88%E9%80%9A%E8%BF%87cookie%E6%9D%A5%E5%8F%96%E5%80%BC%EF%BC%89" rel="nofollow">3. cookie提取器（通过cookie来取值）</a></p> 
<p id="%E4%BA%94%E3%80%81%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0" rel="nofollow">五、动态参数</a></p> 
<p id="%C2%A0%E5%85%AD%E3%80%81%E6%89%A9%E5%B1%95-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%85%AD%E3%80%81%E6%89%A9%E5%B1%95" rel="nofollow"> 六、扩展</a></p> 
<p id="1.cookie%E5%85%B3%E8%81%942.%E6%96%AD%E8%A8%803.%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B04.csv%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8-toc" style="margin-left:80px;"><a href="#1.cookie%E5%85%B3%E8%81%942.%E6%96%AD%E8%A8%803.%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B04.csv%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8" rel="nofollow">1.cookie关联2.断言3.自定义动态参数4.csv数据驱动</a></p> 
<p id="5.%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A36.mock7.cookie%E9%89%B4%E6%9D%838.%E5%8A%A0%E5%AF%869.sign%E7%AD%BE%E5%90%8D10.postman%2Bnewman%2Bgit%2Bjenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%EF%BC%88%E4%B9%9F%E5%8F%AB%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%88%96%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%89-toc" style="margin-left:80px;"><a href="#5.%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A36.mock7.cookie%E9%89%B4%E6%9D%838.%E5%8A%A0%E5%AF%869.sign%E7%AD%BE%E5%90%8D10.postman%2Bnewman%2Bgit%2Bjenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%EF%BC%88%E4%B9%9F%E5%8F%AB%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%88%96%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%89" rel="nofollow">5.带请求头的接口6.mock7.cookie鉴权8.加密9.sign签名10.postman+newman+git+jenkins持续集成（也叫接口自动化或接口测试）</a></p> 
<p id="%C2%A0%E4%B8%83%E3%80%81postman%2Cjmeter%E9%83%BD%E6%9C%89%EF%BC%8C%E5%BE%88%E5%BC%BA%E5%A4%A7%EF%BC%8C%E5%BE%88%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%81%9A%E4%BB%80%E4%B9%88%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%9F-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B8%83%E3%80%81postman%2Cjmeter%E9%83%BD%E6%9C%89%EF%BC%8C%E5%BE%88%E5%BC%BA%E5%A4%A7%EF%BC%8C%E5%BE%88%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%81%9A%E4%BB%80%E4%B9%88%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%9F" rel="nofollow"> 七、postman,jmeter都有，很强大，很好用，做什么接口自动化？</a></p> 
<p id="%E3%80%90%E4%BA%94%EF%BC%9Apostman%E5%86%85%E7%BD%AE%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E3%80%91-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%BA%94%EF%BC%9Apostman%E5%86%85%E7%BD%AE%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E3%80%91" rel="nofollow">【五：postman内置动态参数以及自定义动态参数】</a></p> 
<p id="%E3%80%90%E5%85%AD%EF%BC%9Apostman%E5%B8%B8%E8%A7%84%E6%96%AD%E8%A8%80%E3%80%82%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E6%96%AD%E8%A8%80%E4%BB%A5%E5%8F%8A%E5%85%A8%E5%B1%80%E6%96%AD%E8%A8%80%E3%80%91%C2%A0-toc" style="margin-left:0px;"><a href="#%E3%80%90%E5%85%AD%EF%BC%9Apostman%E5%B8%B8%E8%A7%84%E6%96%AD%E8%A8%80%E3%80%82%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E6%96%AD%E8%A8%80%E4%BB%A5%E5%8F%8A%E5%85%A8%E5%B1%80%E6%96%AD%E8%A8%80%E3%80%91%C2%A0" rel="nofollow">【六：postman常规断言。动态参数断言以及全局断言】 </a></p> 
<p id="%E3%80%90%E4%B8%83%EF%BC%9Apostman%E5%BF%85%E9%A1%BB%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E8%AF%B7%E6%B1%82%E5%A4%B4%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%B8%83%EF%BC%9Apostman%E5%BF%85%E9%A1%BB%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E8%AF%B7%E6%B1%82%E5%A4%B4%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0" rel="nofollow">【七：postman必须带请求头的接口测试实战以及常用请求头详解】 </a></p> 
<p id="%E3%80%90%E5%85%AB%EF%BC%9Apostman%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E3%80%91-toc" style="margin-left:0px;"><a href="#%E3%80%90%E5%85%AB%EF%BC%9Apostman%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E3%80%91" rel="nofollow">【八：postman流程控制语句】</a></p> 
<p id="%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-toc" style="margin-left:40px;"><a href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6" rel="nofollow">流程控制</a></p> 
<p id="postman.setNextRequest('%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%90%8D')%3B-toc" style="margin-left:40px;"><a href="#postman.setNextRequest%28'%20rel=">postman.setNextRequest('下一个接口名');</a></p> 
<p id="%E8%B0%83%E8%AF%95-toc" style="margin-left:40px;"><a href="#%E8%B0%83%E8%AF%95" rel="nofollow">调试</a></p> 
<p id="%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0" rel="nofollow">公共函数</a></p> 
<p id="%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6" rel="nofollow">外部数据文件</a></p> 
<p id="%E3%80%90%E4%B9%9D%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8Bcsv%E6%88%96json%E6%96%87%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E3%80%91%C2%A0-toc" style="margin-left:0px;"><a href="#%E3%80%90%E4%B9%9D%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8Bcsv%E6%88%96json%E6%96%87%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E3%80%91%C2%A0" rel="nofollow">【九：postman接口测试实战之csv或json文件实现数据驱动】 </a></p> 
<p id="%E3%80%90%E5%8D%81%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8B%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC%E3%80%91%C2%A0-toc" style="margin-left:0px;"><a href="#%E3%80%90%E5%8D%81%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8B%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC%E3%80%91%C2%A0" rel="nofollow">【十：postman接口测试实战之前置脚本】 </a></p> 
<p id="%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC-toc" style="margin-left:40px;"><a href="#%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC" rel="nofollow">前置脚本</a></p> 
<p id="%C2%A0%E4%B9%9D%E3%80%81%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B9%9D%E3%80%81%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94" rel="nofollow"> 九、接口关联</a></p> 
<p id="%5B%E5%8D%81%E4%B8%80%EF%BC%9Apostman%E5%90%8E%E7%BD%AE%E8%84%9A%E6%9C%AC%5D-toc" style="margin-left:0px;"><a href="#%5B%E5%8D%81%E4%B8%80%EF%BC%9Apostman%E5%90%8E%E7%BD%AE%E8%84%9A%E6%9C%AC%5D" rel="nofollow">[十一：postman后置脚本]</a></p> 
<p id="%E3%80%90%E5%8D%81%E4%BA%8C%EF%BC%9A%E3%80%91%20postman%E4%B9%8Bcookie%EF%BC%8Ctoken%EF%BC%8Csession%E9%89%B4%E6%9D%83-toc" style="margin-left:0px;"><a href="#%E3%80%90%E5%8D%81%E4%BA%8C%EF%BC%9A%E3%80%91%20postman%E4%B9%8Bcookie%EF%BC%8Ctoken%EF%BC%8Csession%E9%89%B4%E6%9D%83" rel="nofollow">【十二：】 postman之cookie，token，session鉴权</a></p> 
<p id="%E4%B8%80%E3%80%81%E9%89%B4%E6%9D%83%20%E3%80%81%E6%8E%88%E6%9D%83-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E9%89%B4%E6%9D%83%20%E3%80%81%E6%8E%88%E6%9D%83" rel="nofollow">一、鉴权 、授权</a></p> 
<p id="1%E3%80%81cookies%20%E5%92%8C%20session-toc" style="margin-left:80px;"><a href="#1%E3%80%81cookies%20%E5%92%8C%20session" rel="nofollow">1、cookies 和 session</a></p> 
<p id="2%E3%80%81token%20%E9%89%B4%E6%9D%83-toc" style="margin-left:40px;"><a href="#2%E3%80%81token%20%E9%89%B4%E6%9D%83" rel="nofollow">2、token 鉴权</a></p> 
<p id="%C2%A0%E3%80%90%E5%8D%81%E4%B8%89%EF%BC%9Apostman%E4%B9%8Bconsole%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B%E5%92%8C%E5%BA%94%E7%94%A8%E8%B0%83%E5%BC%8F%E3%80%91-toc" style="margin-left:0px;"><a href="#%C2%A0%E3%80%90%E5%8D%81%E4%B8%89%EF%BC%9Apostman%E4%B9%8Bconsole%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B%E5%92%8C%E5%BA%94%E7%94%A8%E8%B0%83%E5%BC%8F%E3%80%91" rel="nofollow"> 【十三：postman之console日志查看和应用调式】</a></p> 
<p id="%5B%E5%8D%81%E5%9B%9B%EF%BC%9Apostman%E4%B9%8Bmcok%20server%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3%E6%9C%8D%E5%8A%A1%E5%99%A8%5D-toc" style="margin-left:0px;"><a href="#%5B%E5%8D%81%E5%9B%9B%EF%BC%9Apostman%E4%B9%8Bmcok%20server%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3%E6%9C%8D%E5%8A%A1%E5%99%A8%5D" rel="nofollow">[十四：postman之mcok server自定义接口服务器]</a></p> 
<p id="%C2%A0%E3%80%90%E5%8D%81%E4%BA%94%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%8A%A0%E5%AF%86%EF%BC%88base64.md5.rsa%E7%AD%89%EF%BC%89%E3%80%91-toc" style="margin-left:0px;"><a href="#%C2%A0%E3%80%90%E5%8D%81%E4%BA%94%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%8A%A0%E5%AF%86%EF%BC%88base64.md5.rsa%E7%AD%89%EF%BC%89%E3%80%91" rel="nofollow"> 【十五：postman接口测试加密（base64.md5.rsa等）】</a></p> 
<p id="RSA%E7%AD%BE%E5%90%8D%E5%B0%B1%E5%86%99%E8%BF%99%E4%BA%9B%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%86%99AES%E5%8A%A0%E5%AF%86%E3%80%82%E3%80%90%E5%8D%81%E5%85%AD%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E7%AD%BE%E5%90%8Dsign%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E3%80%91-toc" style="margin-left:0px;"><a href="#RSA%E7%AD%BE%E5%90%8D%E5%B0%B1%E5%86%99%E8%BF%99%E4%BA%9B%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%86%99AES%E5%8A%A0%E5%AF%86%E3%80%82%E3%80%90%E5%8D%81%E5%85%AD%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E7%AD%BE%E5%90%8Dsign%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E3%80%91" rel="nofollow">RSA签名就写这些，接下来写AES加密。</a></p> 
<p style="margin-left:0px;"><a href="#RSA%E7%AD%BE%E5%90%8D%E5%B0%B1%E5%86%99%E8%BF%99%E4%BA%9B%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%86%99AES%E5%8A%A0%E5%AF%86%E3%80%82%E3%80%90%E5%8D%81%E5%85%AD%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E7%AD%BE%E5%90%8Dsign%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E3%80%91" rel="nofollow">【十六：postman接口签名sign接口测试实战】</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E3%80%90%E4%B8%80%EF%BC%9Apostman%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8Apostman%E7%9A%84%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E5%86%8C%E3%80%91">【一：postman简介和安装以及postman的登录和注册】</h2> 
<h3 id="1905856716"><strong>一、postman下载</strong></h3> 
<p>postman分为chrome插件版本和客户端版本。</p> 
<p>chrome插件版本需要FQ在google应用商品下载。</p> 
<p>客户端版本可在官网下载：<a href="https://www.postman.com/" rel="nofollow" title="Postman">Postman</a></p> 
<h2 id="%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85%E3%80%81%E6%B3%A8%E5%86%8C%2F%E7%99%BB%E9%99%86">二、安装、注册/登陆</h2> 
<p>一键安装到最后，再登陆/注册</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/47/c6/0Q0DmAYG_o.png"></p> 
<p>注册/登陆的好处</p> 
<p>1）可以分享和管理你的接口用例集 2）可以跨设备同步你的数据 3）可以备份你的postman数据 4）可以建立文档页面、监控和Mock服务</p> 
<p>不注册可以点击该页面最下面灰色的”skip signing in and take me straight to the app” 跳过直接进行postman操作界面。</p> 
<h2 id="%E4%B8%89%E3%80%81%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">三、简单使用</h2> 
<h3 id="3657827688">1.postman模拟发送get请求：</h3> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ef/ce/zbKr6HrP_o.png"></p> 
<h3 id="303519381">2.postman模拟发送post请求：</h3> 
<p>(以百度搜索【新梦想软测】为例：https://www.baidu.com/s?wd=新梦想软测）</p> 
<p>使用postman模拟请求时，传递给服务器的User-Agent是postman，会导致服务器拒绝 请求，可以利用postman添加头部信息（User-Agent）的做法成功请求。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/8d/b3/ezTwxqe6_o.png"></p> 
<h3 id="3525612802"> 3.post数据类型说明：</h3> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ce/6f/uuBQgtVr_o.png"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ad/70/oGYrgxUX_o.png"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1b/aa/kGvRZ9wY_o.png"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d4/b4/Kl6VG6ew_o.png"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/16/17/St7HRZl7_o.png"></p> 
<p>none：表示不传递数据</p> 
<p>form-data：http请求中的multipart/form-data,它会将表单的数据处理为一条消息，以标签为单元，用分隔符分开。既可以上传键值对，也可以上传文件。</p> 
<p>x-www-form-urlencoded：application/x-www-from-urlencoded,会将表单内的数据转 换为键值对</p> 
<p>raw：可以上传任意格式的文本，可以上传text、json、xml、html等</p> 
<p>binary：Content-Type:application/octet-stream,只可以上传二进制数据，通常用来上传文件，由于没有键值，所以，一次只能上传一个文件。</p> 
<p>实际中可以通过接口设计文档数据说明或fiddler工具中content-type类型来确定。</p> 
<h2 id="%E3%80%90%E4%BA%8C%EF%BC%9Apostman%E5%8F%91%E9%80%81get%E8%AF%B7%E6%B1%82%EF%BC%8Cpost%E8%AF%B7%E6%B1%82%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E9%A1%B5%E7%AD%BE%E8%AF%A6%E8%A7%A3%E3%80%91">【二：postman发送get请求，post请求实战以及页签详解】</h2> 
<h4 id="%E5%8F%91%E9%80%81GET%E8%AF%B7%E6%B1%82">发送GET请求</h4> 
<p>输入URL链接点击send：https://postman-echo.com/get?username=zxj&amp;password=zxj01</p> 
<p>?后面接参数，&amp;后面连接多个参数，username=zxj,password=zxj01 这个两个就是GET的参数，即下面的params</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4d/97/7GXtfIUo_o.png"></p> 
<p>点击Bulk Edit可以实现批量编辑。</p> 
<p>想要暂时不传参数，可以将key前面的“对勾”去掉。</p> 
<h4 id="%E5%93%8D%E5%BA%94%E9%A1%B5%E9%9D%A2">响应页面</h4> 
<p>相应内容包含Cookies，Header，响应状态码，时间，大小等。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/9f/4d/qtwrIGS4_o.png"></p> 
<p>"username": "zxj",<br> "password": "zxj01"</p> 
<p>响应返回的这两个就是我们传入的参数</p> 
<h4 id="%E5%8F%91%E9%80%81POST%E8%AF%B7%E6%B1%82">发送POST请求</h4> 
<p>输入链接：https://postman-echo.com/post，Body类型是application/x-www-form-urlencoded，参数是username=zxj,password=zxj01</p> 
<p>post请求一般后面不跟？参数，直接将参数写到Body里面，真实测试场景中，接口文档会给出Body有哪些参数，数据类型是哪一种</p> 
<p>我们在测试的时候选择对应的数据类型就可以。</p> 
<p>运行结果：</p> 
<p>从返回的结果看form里的数据就是我们表单里填写的Body参数。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f4/dd/M7lpS0GI_o.png"></p> 
<p></p> 
<p>Body里面的数据分别表示：</p> 
<p>form-data:该数据形式上一篇里已经说了，当有文件时可以使用该数据形式</p> 
<p>x-www-form-urlencode 这个编码和URL参数中使用的编码相同，我们只要输入键值对，postman会正确编码键和值。但是不能上传文件类型的编码。</p> 
<p>raw:除了替换环境变量之外，请求可以包含任何内容，在编辑区可以输入任何内容。</p> 
<p>binary:二进制数据可让我们发送postman中无法输入的内容，例如图像，音频和视频文件</p> 
<p>请求页签：</p> 
<p>params：get方式传参。</p> 
<p>headers:请求头</p> 
<p>body:post方式传参。</p> 
<p>Pre-request Script:请求之前的脚本</p> 
<p>Tests：请求之后的断言。</p> 
<p>cookies：客户端发送服务器给的字典数据。</p> 
<p>Code:生成接口自动化测试脚本。</p> 
<p></p> 
<p>响应页签：</p> 
<p>Body：返回数据</p> 
<p>Pretty:将响应以JSON或者XML的格式显示。</p> 
<p>Raw:以文本的格式显示</p> 
<p>PreView:以HTML网页的形式显示</p> 
<p>Cookies:服务器发送给客户端的字典数据。</p> 
<p>Headers：响应头</p> 
<p>Test Results:断言的结果</p> 
<h2 id="%E3%80%90%E4%B8%89%EF%BC%9Apostman%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%92%8C%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E3%80%91">【三：postman环境变量和全局变量】</h2> 
<p>　在测试工作中，可能存在多套测试环境。当A环境出现问题阻塞的时候，为了不会影响测试工作，我们会切到B环境进行测试。<br> 那么在postman上也要修改对应的测试环境的地址，进行测试。所以我们可以把环境设置为变量，需要的时候随时切换。</p> 
<p></p> 
<p>环境变量步骤：</p> 
<h3 id="1.%E5%9C%A8postman%E7%82%B9%E5%87%BB%E5%B0%8F%E9%BD%BF%E8%BD%AE%EF%BC%8C%E5%86%8D%E9%80%89%E4%B8%ADmanage%20environments%E3%80%80%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E3%80%82">1.在postman点击小齿轮，再选中manage environments　进入到环境变量添加环境变量。</h3> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d1/09/E94cduxZ_o.png"></p> 
<p></p> 
<p></p> 
<p></p> 
<h3 id="%EF%BC%92%E3%80%81%E6%B7%BB%E5%8A%A0%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%E3%80%82">２、添加测试环境的名称，变量名和对应的值。</h3> 
<p>变量可以根据需求来定义，这里定义的是测试环境的IP＋端口，后面的接口请求的IP地址直接可以引用ｕｒｌ这个变量就能解决。</p> 
<p>具体的定义内容根据项目需要，可以是用户名和密码。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e6/9d/QeWmRcMg_o.png"></p> 
<p></p> 
<p></p> 
<p></p> 
<h4></h4> 
<h3 id="%EF%BC%93%E3%80%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%88%87%E6%8D%A2%E5%88%B0%E5%BD%93%E5%89%8D%E7%9A%84%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%8C%E6%8A%8A%E5%8F%98%E9%87%8F%EF%BD%95%EF%BD%92%EF%BD%8C%E3%80%80%E6%B7%BB%E5%8A%A0">３、做接口请求，切换到当前的测试环境下，把变量ｕｒｌ　添加</h3> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c3/f7/uVeNuyR0_o.png"></p> 
<p></p> 
<p></p> 
<h3 id="%C2%A0%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE%E6%AD%A5%E9%AA%A4"> 全局变量设置步骤</h3> 
<h4 id="%C2%A0%EF%BC%91%E3%80%81%E7%82%B9%E5%87%BB%E5%B0%8F%E7%9C%BC%E7%9D%9B%E8%BF%9B%E5%85%A5%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E9%A1%B5%E9%9D%A2%EF%BC%8C%E7%82%B9%E5%87%BBadd%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"> １、点击小眼睛进入到环境变量添加页面，点击add添加环境变量</h4> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/38/8d/aboYHl9E_o.png"></p> 
<p></p> 
<h4></h4> 
<h4 id="%C2%A0%EF%BC%92%E3%80%81%E6%96%B0%E5%A2%9E%E7%8E%AF%E5%A2%83%E8%BE%93%E5%85%A5%E5%8F%98%E9%87%8F%E5%90%8D%E7%A7%B0%E5%92%8C%E5%8F%98%E9%87%8F%E5%80%BC"> ２、新增环境输入变量名称和变量值</h4> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/63/67/fGuKp37E_o.png"></p> 
<h2 id="%E3%80%90%E5%9B%9B%EF%BC%9Apostman%E4%B8%89%E7%A7%8D%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%E7%9A%84%E6%96%B9%E5%BC%8F%E5%92%8C%E5%AE%9E%E6%88%98%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0">【四：postman三种接口关联的方式和实战详解】 </h2> 
<h3 id="%E4%B8%80%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9A%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%9F">一、为什么要做接口测试？</h3> 
<p><strong>1.前后端分离的架构</strong><br> 开发改了底层接口的代码。只关注于界面的功能测试（2~3个工作日），一般只测冒烟用例。</p> 
<p><strong>2.上下游的接口有改动</strong><br> xx电商（上游）——&gt;微信支付（下游）。</p> 
<p><strong>3.基于安全</strong><br> xx电商（前端，javascript验证），这种认证很容易被绕过。</p> 
<h3 id="%E4%BA%8C%E3%80%81%E7%9B%AE%E5%89%8D%E5%B8%82%E9%9D%A2%E5%B7%A5%E5%85%B7">二、目前市面工具</h3> 
<p>1.postman+newman+git+jenkins<br> 2.jmeter+ant+git+jenkins  （占比稍微高一点）</p> 
<p><strong>上面两种，多数人把它们成为接口自动化，其实叫接口测试</strong></p> 
<p><img alt="" height="48" src="https://images2.imgbox.com/64/8d/qEjUfsYf_o.png" width="797"><br><strong>params:get请求传参</strong><br> Authrization:鉴权<br> Headers:请求头<br><strong>Body:post请求传参</strong><br>         form-data:表单文件上传（Content-Type:multipart /form-data）<br>         x-www-from-urlencoded:表单提交（Content-Type:x-www-from-urlencoded）<br>         raw-json:json格式提交（Content-Type:application /json）<br>         binary:二进制文件（Content-Type:binary）<br> Pre-request-Script:请求之前的javascript脚本<br> Tests:请求之后的断言脚本<br> Settings:设置</p> 
<h3 id="%E4%B8%89%E3%80%81%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95">三、接口测试</h3> 
<p>1.有接口文档<br> swagger<br> showdoc<br> 2.没接口文档（难点：如何去粪便每个字典是否必填，长度限制，字段的含义）<br> fiddler，charles<br> jmeter录制<br><br> 字段的含义：<br> 1.见名知义<br> 2.通过页面的功能控件去判断字段的含义<br> 3.使用有道词典，翻译一下，进行猜测以及和开发进行验证<br><br><strong>get请求传参</strong>：是在接口路径的后面使用？进行传参，多个参数之间用&amp;分隔。<br><strong>post请求传参</strong>：是在body里面传参。</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b5/24/44AsGHJT_o.png" width="1045"></p> 
<p><img alt="" height="1029" src="https://images2.imgbox.com/d2/06/LcfcLVrN_o.png" width="1200"></p> 
<h3 id="%E5%9B%9B%E3%80%81%E7%BB%84%E5%90%88API%EF%BC%88%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94%EF%BC%8C%E6%8E%A5%E5%8F%A3%E4%B8%B2%E8%81%94%EF%BC%8C%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E4%BD%9C%E4%B8%BA%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%89">四、组合API（接口关联，接口串联，上一个接口的返回值作为下一个接口的参数）</h3> 
<p>postman接口关联的方式有三种场景：</p> 
<h4 id="1.%20json%E6%8F%90%E5%8F%96%E5%99%A8">1. json提取器</h4> 
<pre><code>//javascript脚本
//打印返回值
console.log(responseBody);
//json提取器
//1.先把返回的json字符串转换成一个json对象(dict字典)
var dict_data=JSON.parse(responseBody);
console.log(dict_data.access_token);
//把token设置成全局变量
pm.globals.set("ms_token",dict_data.access_token);</code></pre> 
<p><img alt="" height="1029" src="https://images2.imgbox.com/67/aa/hTWPQQLB_o.png" width="1200"></p> 
<p><img alt="" height="1027" src="https://images2.imgbox.com/34/56/37U6FzR0_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4b/6e/PTg5hcEd_o.png" width="1032"><img alt="" height="1026" src="https://images2.imgbox.com/72/4a/gNvNAMPw_o.png" width="1200"></p> 
<p>其实下面</p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/2a/5e/XtaaJDJ3_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/b8/b2/z6xN6L39_o.png" width="1042"></p> 
<p><img alt="" height="1027" src="https://images2.imgbox.com/d3/34/RLAVi1qU_o.png" width="1200"></p> 
<h4 id="2.%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8F%90%E5%8F%96%E5%99%A8"><strong>2. 正则表达式提取器</strong></h4> 
<p><br> 正则表达式<br> (.+?)：匹配任意字符，至少1个<br> (.*?)：匹配任意字符，至少0个</p> 
<p>需要的正则表达式：<strong>"access_token":"(.*?)"</strong>,</p> 
<p>标红这个值，通过正则表达式匹配出来</p> 
<pre><code>//正则表达式:match匹配，
//下面这条式子，表示用刚才生成的字符串去匹配新建的正则表达式
var zz_data=responseBody.match(new RegExp('"access_token":"(.*?)"'));
console.log(zz_data);
//通过下标取值并设置成全局变量
pm.globals.set("ms_token",zz_data[1]);</code></pre> 
<p>为什么需要用new RegExp('"access_token":"(.*?)"')？，是因为'"access_token":"(.*?)"'是表示字符串，而match匹配的是正则表达式，而字符串并不代表是正则表达式，所以把字符串通过new RegExp()的方法来把字符串转换成一个正则表达式。</p> 
<p>如果有abcdefgabwwwfgabqqqfg，则ab(.*?)fg会匹配出来三份，所以正则表达式匹配出来的可能是个数组，也可以认为是个列表。</p> 
<p><img alt="" height="1027" src="https://images2.imgbox.com/80/0f/1fuG6NFc_o.png" width="1200"></p> 
<p><img alt="" height="1028" src="https://images2.imgbox.com/95/0c/UQAZHVgh_o.png" width="1200"></p> 
<p>通过运行标记标签接口来测试正则表达式提取后的鉴权码，成功运行，说明正则表达式获取的鉴权码没问题。<img alt="" height="1030" src="https://images2.imgbox.com/e3/d0/UcoIuu30_o.png" width="1200"></p> 
<p>也可以通过运行查询标签接口，成功运行。</p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/a3/0e/cdKQO1dW_o.png" width="1200"></p> 
<h4 id="3.%20cookie%E6%8F%90%E5%8F%96%E5%99%A8%EF%BC%88%E9%80%9A%E8%BF%87cookie%E6%9D%A5%E5%8F%96%E5%80%BC%EF%BC%89"><strong>3. cookie提取器（通过cookie来取值）</strong></h4> 
<p><img alt="" height="942" src="https://images2.imgbox.com/f7/f9/zRqhpID4_o.png" width="1200"><br><img alt="" height="985" src="https://images2.imgbox.com/8a/75/wSVfQpZB_o.png" width="1200"></p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/33/5b/zPfv0S79_o.png" width="1200"></p> 
<p>要想提取出上面cookie中的csrf_token（鉴权码）应该怎么办？</p> 
<p><strong>什么是全局变量？</strong><br> 在所有接口都可以调用的变量叫全局变量</p> 
<h3 id="%E4%BA%94%E3%80%81%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0">五、动态参数</h3> 
<p>{<!-- -->{$timestamp}}：返回的是时间戳的随机数格式</p> 
<p> 先创建个标签接口来测试吧</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/26/d4/W8Sy4XCV_o.png" width="1039"></p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/86/fc/MmFLvaBW_o.png" width="1200"></p> 
<p> 通过查询标签接口可以查看到已经成功创建在列表数据了</p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/f4/d4/CIEFHWEi_o.png" width="1200"></p> 
<p> 接下来进行编辑标签接口测试</p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/f6/5c/9moa5Tk7_o.png" width="1200"></p> 
<p>已成功添加动态时间戳随机数，每次运行编辑标签接口运行动态随机数时都可以通过查询标签接口看到之前创建的标签数发生改变。</p> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/f9/21/9bZ1MyAG_o.png" width="1200"></p> 
<p></p> 
<h3 id="%C2%A0%E5%85%AD%E3%80%81%E6%89%A9%E5%B1%95"> 六、扩展</h3> 
<h4 id="1.cookie%E5%85%B3%E8%81%942.%E6%96%AD%E8%A8%803.%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B04.csv%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8">1.cookie关联<br> 2.断言<br> 3.自定义动态参数<br> 4.csv数据驱动</h4> 
<p><img alt="" height="1030" src="https://images2.imgbox.com/8b/19/IXDT936H_o.png" width="1200"></p> 
<h4 id="5.%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A36.mock7.cookie%E9%89%B4%E6%9D%838.%E5%8A%A0%E5%AF%869.sign%E7%AD%BE%E5%90%8D10.postman%2Bnewman%2Bgit%2Bjenkins%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%EF%BC%88%E4%B9%9F%E5%8F%AB%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E6%88%96%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%EF%BC%89">5.带请求头的接口<br> 6.mock<br> 7.cookie鉴权<br> 8.加密<br><strong>9.sign签名</strong><br> 10.postman+newman+git+jenkins持续集成（也叫接口自动化或接口测试）</h4> 
<h3 id="%C2%A0%E4%B8%83%E3%80%81postman%2Cjmeter%E9%83%BD%E6%9C%89%EF%BC%8C%E5%BE%88%E5%BC%BA%E5%A4%A7%EF%BC%8C%E5%BE%88%E5%A5%BD%E7%94%A8%EF%BC%8C%E5%81%9A%E4%BB%80%E4%B9%88%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96%EF%BC%9F"> 七、postman,jmeter都有，很强大，很好用，做什么接口自动化？</h3> 
<p>1.工具测试复杂的接口一定需要写代码。<br> postman：写javascript。<br> jmeter：写java和beanshell脚本。</p> 
<p>2.敏捷开发。大型项目。接口数据巨大，团队协作。</p> 
<p>3.一个项目有多种协议。</p> 
<p>4.连接数据库。postman能够连接达梦数据库。（国产数据库排名第一）</p> 
<p>5.报告。</p> 
<h2 id="%E3%80%90%E4%BA%94%EF%BC%9Apostman%E5%86%85%E7%BD%AE%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E3%80%91">【五：postman内置动态参数以及自定义动态参数】</h2> 
<p>问题：</p> 
<p>①多种环境：开发环境，测试环境，生产环境</p> 
<p>②接口关联：需要手动关联</p> 
<p>③参数需要手动修改</p> 
<p></p> 
<p><strong>Postman内置动态参数  :</strong>凡是双大括号里面有$符的都是内置动态参数</p> 
<p><strong>{<!-- -->{$</strong>timestamp<strong>}}  : </strong>生成当前时间的时间戳。</p> 
<p><strong>{<!-- -->{$</strong>randomInt<strong>}}   : </strong>生成0~1000之间的随机数 。</p> 
<p><strong>{<!-- -->{$</strong>guid<strong>}}   :</strong> 生成随机的GUID的字符串。 </p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b2/ee/a3H6cqYN_o.png"></p> 
<p><strong>Postman自定义动态参数</strong></p> 
<pre>//手动获得时间戳
var times = Date.now();
//设置为全局变量
pm.globals.set("times", times);


使用时：{<!-- -->{times}}</pre> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/bf/63/uQAaO4GA_o.png"></p> 
<h2 id="%E3%80%90%E5%85%AD%EF%BC%9Apostman%E5%B8%B8%E8%A7%84%E6%96%AD%E8%A8%80%E3%80%82%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E6%96%AD%E8%A8%80%E4%BB%A5%E5%8F%8A%E5%85%A8%E5%B1%80%E6%96%AD%E8%A8%80%E3%80%91%C2%A0">【六：postman常规断言。动态参数断言以及全局断言】 </h2> 
<p><strong>常规断言（前4种是常用的）</strong></p> 
<p>Status code: Code is 200  检查返回的状态码是否为200</p> 
<p>Response body :Contains string  检查响应中包含指定字符</p> 
<p>Response body :Json value check 检查响应中其中json的值</p> 
<p>Response body :is equal to a tring  检查响应等于一个字符串</p> 
<p></p> 
<p>Response body :Content-Type 。。。检查是否包含响应头Content-Type</p> 
<p>Response time is less than 200ms   检查请求耗时是否小于200ms</p> 
<p></p> 
<p>注意：状态断言只能有1个，业务断言可以有多个 </p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ae/e4/Vds0DAZF_o.png"></p> 
<p></p> 
<p><strong>自定义动态参数（全局变量）断言的方式：</strong></p> 
<p>pm.globals.get("times");</p> 
<p>globals["times"];</p> 
<p>globals.times;</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1f/ec/NnUWs8sf_o.png"></p> 
<p></p> 
<p></p> 
<p></p> 
<p><strong>全局断言 :</strong>作用于每一个接口</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/40/7b/uEcJe1XK_o.png"></p> 
<h2 id="%E3%80%90%E4%B8%83%EF%BC%9Apostman%E5%BF%85%E9%A1%BB%E5%B8%A6%E8%AF%B7%E6%B1%82%E5%A4%B4%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E8%AF%B7%E6%B1%82%E5%A4%B4%E8%AF%A6%E8%A7%A3%E3%80%91%C2%A0">【七：postman必须带请求头的接口测试实战以及常用请求头详解】 </h2> 
<p>测试带请求头的接口</p> 
<p>　1.访问https网页时，把设置中SSL禁用</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/2d/93/TaPMS6Tm_o.png"></p> 
<p>　2.输入请求头内容</p> 
<p>　　在headers下添加请求头所需信息</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c5/5e/mf4UtMLQ_o.png"></p> 
<p>　　或者也可点击build Edit，在页面输入框内粘贴复制好的请求头信息</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e5/93/GmLlU3Xf_o.png"></p> 
<p>　3.结果</p> 
<p>　　不输入请求头时</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f0/2c/PIBT1ZjY_o.png"></p> 
<p>　　输入请求头后</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/92/ac/ZYAZW3co_o.png"></p> 
<p>　常用请求头</p> 
<p>　　Host 请求的主机地址</p> 
<p>　　Connection 连接方式</p> 
<p>　　Access 客户端接收的数据格式</p> 
<p>　　X-Requested-With 异步请求</p> 
<p>　　User-Agent 客户端的用户类型</p> 
<p>　　Referer 来源</p> 
<p>　　Cookie cookie信息</p> 
<p>　　Content-Type 请求内容的格式</p> 
<h2 id="%E3%80%90%E5%85%AB%EF%BC%9Apostman%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E3%80%91">【八：postman流程控制语句】</h2> 
<p></p> 
<h3 id="%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6">流程控制</h3> 
<p>流程控制简言之就是设置接口的执行顺序，流程控制只有在collection runner或Newman里才生效</p> 
<p>如果需要实现多个接口的一次循环，只需在每个接口的Tests中编写脚本</p> 
<pre></pre> 
<ol><li> <h3 id="postman.setNextRequest('%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%90%8D')%3B">postman.setNextRequest('下一个接口名');</h3> </li></ol> 
<p>操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/df/87/8pndsfu3_o.png"></p> 
<p></p> 
<p>使用if进行判断来结束执行：</p> 
<pre></pre> 
<ol><li>if(globals["我的地盘::创建新列表 - 禅道"])postman.setNextRequest("null");</li><li>tests["执行完毕！"] = responseCode.code ===200;</li></ol> 
<p>我的地盘::创建新列表 - 禅道为接口B中的返回值，在接口B中将其定义成一个全局变量。接口A通过判断全局变量是否存在进而判断接口B是否执行。如全局变量存在，将终止执行，否则执行接口B。</p> 
<pre></pre> 
<ol><li>postman.setNextRequest("null");是一个终止程序作用</li></ol> 
<p></p> 
<p>【注意】</p> 
<p>1.如果不设终止条件，接口A执行完到接口B，接口B执行完又指向接口A，会构成死循环。该示例中if(globals["我的地盘::创建新列表 - 禅道"])为终止条件。</p> 
<p>2.执行前需将用来做判断的全局变量删除，否则第一次执行完接口A后就将终止执行。</p> 
<p>3.为了更清楚直观的查看运行结果，最好在每一个接口的Tests中增加一个断言，否则难以判断接口A执行的次数</p> 
<h3 id="%E8%B0%83%E8%AF%95">调试</h3> 
<p>调试有三种方式：</p> 
<p>1.使用Ctrl+Alt+c 可以打开Postman的控制台，可以查看请求和响应（只适用于客户端，不适用于Chrom 插件）</p> 
<p>2.用console.log()打印，到控制台看</p> 
<p>3.tests['这里拼出你想看的字符串'] = true在界面/报告看断言</p> 
<p></p> 
<p>使用Postman控制台查看，如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cf/b3/hv7oWe5x_o.png"></p> 
<p></p> 
<p>使用console.log()打印输出内容操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/59/c8/6JJ5xemj_o.png"></p> 
<p>使用tests['这里拼出你想看的字符串'] = true，tests并不单单是指设置断言，也可以是普通的输出某些信息，如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/92/fb/1szceaPI_o.png"></p> 
<h3 id="%E5%85%AC%E5%85%B1%E5%87%BD%E6%95%B0">公共函数</h3> 
<p>常用的公共函数分为六种，分别是：</p> 
<p>1）.判断是否超时（<strong>assertNotTimeout</strong>）：</p> 
<p>var hasResponse=postman.getResponseHeader('Content-Type')?true:false; if(!hasResponse) tests['服务端在超时前没返回任何数据，请检查相关服务、网络或反向代理设置（以下跳过其他断言）']=false;</p> 
<p>2）.未超时，显示发出的请求参数（<strong>logParams</strong>）：</p> 
<p>if(hasResponse) tests[`[INFO] 请求参数（超时没返回时不解析）：${JSON.stringify(request.data)}`]=true;</p> 
<p>3）.未超时，解析返回的JSON对象（<strong>getResponseJson</strong>）：</p> 
<p>try{if(hasResponse) var json=JSON.parse(responseBody);}catch(err){ tests['服务端没返回合法的JSON格式，请检查相关服务、网络或反向代理设置（以下跳过其他断言）']=false; tests[`[INFO] 返回：${responseBody}`]=true; console.error(err);}</p> 
<p>4）.返回元素的类型（<strong>assertType</strong>）：</p> 
<p>var assertType=(name,value,type)=&gt;{let isType=(type==='array')? Array.isArray(value):typeof value===type; tests[`${name}为${type}（实际值：${value}）`]=isType;};</p> 
<p>5）.返回元素是否与预期值一致（<strong>assertEqual</strong>）：</p> 
<p>var assertEqual=(name,actual,expected)=&gt;{tests[`${name}等于${expected}（实际值：${actual}）`]=actual===expected;};</p> 
<p>6）.返回元素是否与预期值不一致（<strong>assertNotEqual</strong>）：</p> 
<p>var assertNotEqual=(name,actual,expected)=&gt;{tests[`${name}不等于${expected}（实际值：${actual}）`]=actual!==expected;};</p> 
<p></p> 
<p>为了使用方便，所以将以上函数设置为全局变量，每行一对 key:value 的形式编辑设置成全局变量，如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0a/3c/YxIIcnvj_o.png"></p> 
<p></p> 
<p>设置好之后，来使用以上函数，使用时的代码为：</p> 
<pre></pre> 
<ol><li>eval(globals.assertNotTimeout);//判断是否超时</li><li>eval(globals.logParams);//未超时，显示发出的请求参数</li><li>eval(globals.getResponseJson);//未超时，解析返回的JSON对象</li><li>eval(globals.assertType);//返回元素的类型</li><li>eval(globals.assertEqual);//返回元素是否与预期值一致</li><li>eval(globals.assertNotEqual);//返回元素是否与预期值不一致</li></ol> 
<p>各函数的具体用法，如下详解：</p> 
<p>①第一个函数和第二个函数一起使用，先判断是否超时，若未超时，便显示发出的请求参数，操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/92/45/4KUqtlev_o.png"></p> 
<p>tests中的代码为：</p> 
<pre></pre> 
<ol><li>eval(globals.assertNotTimeout);</li><li>eval(globals.logParams);</li></ol> 
<p>②第一个函数和第三个函数一起使用，先判断是否超时，若未超时，便解析返回的JSON对象，操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1e/f7/Rt7trUnu_o.png"></p> 
<p>tests中填入如下代码：</p> 
<pre></pre> 
<ol><li>eval(globals.assertNotTimeout);</li><li>eval(globals.getResponseJson);</li><li><li>tests[json.expires_in] = 7200;</li></ol> 
<p>注意：由于getResponseJson是解析返回的JSON对象，所以接口请求返回的定是JSON才能使用</p> 
<p>③返回元素的类型（assertType），操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/80/40/C1zHLsOg_o.png"></p> 
<p>tests中代码为：</p> 
<pre></pre> 
<ol><li>eval(globals.assertType);</li><li>//assertType=(name,value,type);</li><li>//name为返回的元素key，value为该元素的值，type为该元素的类型</li><li>assertType('姓名','boss','string');</li><li>assertType('昵称','一壶清酒','string');</li><li>assertType('数字',1,'number');</li></ol> 
<p><strong>注意</strong>：此处需注意的是，<strong>数字类型</strong>并不是常说的int型，而是<strong>number</strong>，填入int会一直报错</p> 
<p>返回元素类型的值中代码：var assertType=(name,value,type)=&gt;{let isType=(type==='array')? Array.isArray(value):typeof value===type; tests[`${name}为${type}（实际值：${value}）`]=isType;};</p> 
<p>从返回元素类型的值中代码来看，该代码是一个三目运算符，重要点在于typeof中的value值，比如输入该代码：assertType('数字',1,'number');value为1，type为number，便会执行通过pass，若把type改为int，执行结果只会显示fail</p> 
<p>进行如下操作就能轻而易举明了，如下所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a3/b8/gTiZZKHu_o.png"></p> 
<p>tests中的代码为：</p> 
<pre></pre> 
<ol><li>//解释typeof</li><li>tests[typeof 'hello'] =true;//返回出来的是string，值的类型</li><li>tests[typeof 1] =true; //返回出来的是number</li></ol> 
<p>④返回元素是否与预期值一致（assertEqual），相等为true（pass），反之为false（fail），操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d7/a1/8L0BMwQn_o.png"></p> 
<p>tests中代码为：</p> 
<pre></pre> 
<ol><li>eval(globals.assertNotTimeout);</li><li>eval(globals.getResponseJson);</li><li>eval(globals.assertEqual);</li><li>//assertEqual=(name,actual,expected);</li><li>//name为返回的元素key，actual为返回的实际值，expected为预期值</li><li>assertEqual('expires_in',json.expires_in,7200);</li><li>assertEqual('expires_in',json.expires_in,7100);</li></ol> 
<p>做简单的预期结果与实际结果判断也可如下操作：</p> 
<pre></pre> 
<ol><li>eval(globals.assertEqual);</li><li>//assertEqual=(name,actual,expected);</li><li>//name为返回的元素key，actual为返回的实际值，expected为预期值</li><li>//号码相同pass，不相同fail</li><li>assertEqual('电话号码',18867210313,18867210313);</li><li>assertEqual('电话号码',18867210310,18867210313);</li></ol> 
<p>⑤返回元素是否与预期值不一致（assertNotEqual），不相等为true（pass），反之为false（fail），操作如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/32/a9/5gua9muE_o.png"></p> 
<p>tests中代码如下：</p> 
<pre></pre> 
<ol><li>eval(globals.assertNotTimeout);</li><li>eval(globals.getResponseJson);</li><li>eval(globals.assertNotEqual);</li><li>//assertNotEqual=(name,actual,expected);</li><li>//name为返回的元素key，actual为返回的实际值，expected为预期值</li><li>//号码不相等pass，相等fail</li><li>assertNotEqual('expires_in',json.expires_in,7100);</li><li>assertNotEqual('expires_in',json.expires_in,7200);</li></ol> 
<h3 id="%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6">外部数据文件</h3> 
<p>外部数据文件是Collection Runner在HTTP requests 和script中可以导入CSV文件或是JSON文件，从数据文件（即CSV或JSON文件）中使用values，为了在Postman UI中去使用它们，你需要遵循和environment or global variables一样的语法。</p> 
<p></p> 
<p>操作步骤：</p> 
<p>1.在你的Collection request中使用变量，以下的所有变量将会被数据文件中的相应的值替换</p> 
<p>2.准备你所需要运行的数据文件（JSON/CSV）</p> 
<p>CSV文件要在Collection Runner中工作，第一行必须是在request中要使用的变量名，每一行是一条用例，并表示一次迭代。</p> 
<p>JSON文件，你需要确保你的文件有键/值对数组。数组中的每个元素是键值对的对象，代表了一次迭代。key是作为变量名，values是代替request里的值。</p> 
<p>3.打开Collection Runner窗口以及选择合适的Collection或文件夹</p> 
<p>4.选择“Choose files”，从文件选择区加载数据文件，如果加载成功，你可以预览Collection Runner中执行的数据量</p> 
<p>5.设置迭代次数。每次迭代都将使用你的数据文件中的一行，如果迭代次数超过数据文件中的行数，将重复执行最后一行</p> 
<p>6.运行Collection以及观察结果</p> 
<p></p> 
<p>注意：当有多个key值，中间用英文,隔开即可，csv文件中第一行的参数名要与发送请求中设置的变量名要一致</p> 
<p>举例为百度接口，设置好参数，如下图所示：</p> 
<p><img alt="" height="138" src="https://images2.imgbox.com/ea/79/9ulKkvGl_o.png" width="423"></p> 
<p></p> 
<p></p> 
<p>配置参数，如下图所示：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/01/2d/603v2FuH_o.png"></p> 
<p>csv格式文件先制作好，再在运行时添加进来，预览效果如为：</p> 
<p><img alt="" height="85" src="https://images2.imgbox.com/03/6c/opnoLWsh_o.png" width="460"></p> 
<p></p> 
<p>最终运行效果如下图所示：</p> 
<p><img alt="" height="197" src="https://images2.imgbox.com/36/0e/1uea8Ic6_o.png" width="515"></p> 
<p></p> 
<h2 id="%E3%80%90%E4%B9%9D%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8Bcsv%E6%88%96json%E6%96%87%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E3%80%91%C2%A0">【九：postman接口测试实战之csv或json文件实现数据驱动】 </h2> 
<p>1.返回结果会出现以下返回值：既有正列也有反列</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/63/02/0cdvJNMa_o.png"></p> 
<p></p> 
<p> 2.创建数据</p> 
<p>第一种使用CVS文件</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/63/2a/Umcro5Eh_o.png"></p> 
<p></p> 
<p></p> 
<p>第二种使用JSON文件</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/da/93/z6fsdFwA_o.png"></p> 
<p></p> 
<p> 3.在postman中使用</p> 
<p>①文件中数据在postman中的使用</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/7d/f1/UFfkLPKI_o.png"></p> 
<p></p> 
<p>②编写断言脚本</p> 
<pre>if(responseBody.search("dynamicToken")!=-1){

    var  result = responseBody.match(new RegExp('"dynamicToken":"(.*?)"'));
    console.log(result[1]);
    pm.globals.set("dynamicToken", result[1]);
}
//业务断言
pm.test("Body matches string", function () {
    pm.expect(pm.response.text()).to.include(data.assert_token);
});</pre> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b2/13/DscBQ0pH_o.png"></p> 
<p></p> 
<p>③选择编辑好的文件</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b7/51/EI9wLOM7_o.png"></p> 
<p>④执行3调用列的结果展示</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/92/b0/bq3mCEwj_o.png"></p> 
<h2 id="%E3%80%90%E5%8D%81%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E4%B9%8B%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC%E3%80%91%C2%A0">【十：postman接口测试实战之前置脚本】 </h2> 
<h3 id="%E5%89%8D%E7%BD%AE%E8%84%9A%E6%9C%AC">前置脚本</h3> 
<p>前置脚本：在Pre-requests Script中编写的JavaScript脚本。一个请求在发送之前，会先去执行Pre Request Script（前置脚本）中的代码 。</p> 
<p>主要使用场景：在发送请求前需要对接口的数据做进一步处理，就都可以使用这个功能，比如说，登录接口的密码，在发送前需要做加密处理，那么就可以在前置脚本中做加密处理，再比如说，有的接口的输入参数有一些随机数，每请求一次接口参数值都会发送变化，就可以在前置脚本中编写生成随机数的代码 。</p> 
<p>案例：随机新增新闻</p> 
<p>实现步骤：</p> 
<ol><li>在前置脚本中编写生成随机数</li><li>将这个值保存成环境变量</li><li>将参数t的值替换成环境变量的值 </li></ol> 
<p>脚本：</p> 
<p>　　//生成随机整数</p> 
<p>　　var random = Math.floor(Math.random()*100+1)</p> 
<p>　　console.log("随机数",random)</p> 
<p>　　//将随机数保存为环境变量</p> 
<p>　　pm.environment.set('random',random)</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1d/e7/sCpOyANs_o.png"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b2/63/HerglF1D_o.png"></p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/2b/9a/36PrF6LI_o.png"></p> 
<h3 id="%C2%A0%E4%B9%9D%E3%80%81%E6%8E%A5%E5%8F%A3%E5%85%B3%E8%81%94"> 九、接口关联</h3> 
<p>　　在我们测试的接口中，经常出现这种情况 。上一个接口的返回数据是下一个接口的输入参数 </p> 
<p>实现思路：</p> 
<ol><li>提取上一个接口的返回数据值，</li><li>将这个数据值保存到环境变量或全局变量中</li><li>在下一个接口获取环境变量或全局变量</li></ol> 
<p>十、常见返回值获取</p> 
<pre><code>{  
    "code": 0,  
    "message": "请求成功！",  
    "data": {  
        "roles": {  
            "api": [  
                "API-USER-DELETE"  
            ],  
            "points": [  //points是数组，所以需要下标获取
                "point-user-delete",  
                "POINT-USER-UPDATE",  
                "POINT-USER-ADD"  
            ]  
        },  
        "authCache": null  
    }  
}

//获取json体数据  
var jsonData = pm.response.json()  
// 获取user_id的值,通过下标获取列表中某个元素  
var user_id = jsonData.data.roles.points[1]



获取列表的最后一个元素

{  
    "code": 0,  
    "message": "请求成功！",  
    "data": {  
        "total": 24,  
        "rows": [  
             
            {  
                "id": "1066370498633486336",  
                "mobile": "15812340003",  
                "username": "zbz"  
            },  
            {  
                "id": "1071632760222810112",  
                "mobile": "16612094236",  
                "username": "llx"  
            },  
            ...  
            {  
                "id": "1075383133106425856",  
                "mobile": "13523679872",  
                "username": "test001",  
         
            },

//获取json体数据  
var jsonData = pm.response.json()  
// 获取id的值,通过slice(-1)获取列表中最后一个元素。  
var id = jsonData.data.rows.slice(-1)[0]</code></pre> 
<h2 id="%5B%E5%8D%81%E4%B8%80%EF%BC%9Apostman%E5%90%8E%E7%BD%AE%E8%84%9A%E6%9C%AC%5D">[十一：postman后置脚本]</h2> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/c1/01/IkLumfs9_o.png"><br> 参数关联：<br> 上一个接口返回token，如何传到下个接口中？<br> 则需要写后置脚本来获取</p> 
<p></p> 
<p>1、打开登录接口，在Tests区域编写javasscript脚本解析返回response对象，从json里面提取token并设置为环境变量</p> 
<blockquote> 
 <p>//Response解析json<br> jsonData = pm.response.json();<br> //设置为环境变量<br> pm.environment.set(“token”,jsonData.token);<br>  </p> 
 <p>2、console调试脚本</p> 
</blockquote> 
<blockquote> 
 <p>console.log(jsonData);<br> connsole.log(jsonData.token);<br> 1<br> 2<br> 3、引用变量<br> {<!-- -->{token}}</p> 
 <p><img alt="" height="134" src="https://images2.imgbox.com/c7/e7/MZfnnGrm_o.png" width="484"></p> 
 <p></p> 
 <p></p> 
 <p>4、其他变量设置<br> 1）使用pm.globals来定义一个全局变量</p> 
 <p>pm.globals.set("variable_key","variable_value")；<br> 1<br> 2）使用pm.collectionVariables来定义集合变量</p> 
 <p>pm.collectionVariables.set("variable_key","variable_value");<br> 1<br> 3)使用pm.environment来定义环境变量（在当前选中的环境）</p> 
 <p>pm.environment.set("variable_key","variable_value");<br> 1<br> 4）可以unset删除变量</p> 
 <p>pm.environment.unset("variable_key");<br> 1<br> 5)部变量是您使用一下语法在请求脚本中设置的临时值</p> 
 <p>pm.variables.set("variable_key","variable_value")<br> 1<br> 5、可以在脚本中使用变量<br> 可以使用表示范围级别和.get方法的对象在脚本中检索变量当前的值：</p> 
</blockquote> 
<blockquote> 
 <p>pm.variables.get("variable_key");<br> pm.globals.get("variable_key");<br> pm.collectionVariables.get("variable_key");<br> pm.environment.get("variable_key");<br><br> 获取响应体的cookie 中的 sessionId 值</p> 
</blockquote> 
<p><img alt="" height="98" src="https://images2.imgbox.com/58/f9/7UN79Vdw_o.png" width="508"><br> // 获取返回的cookies <br> sessionId = postman.getResponseCookie("sessionId").value <br> console.log(sessionId);<br> 获取返回头部Headers中的值</p> 
<p><img alt="" height="77" src="https://images2.imgbox.com/7e/9d/eFilTQdO_o.png" width="214"></p> 
<p></p> 
<p>// 获取返回的cookies <br> server = postman.getResponseHeader("Server") <br> console.log(server);<br> 6、断言</p> 
<p><img alt="" height="186" src="https://images2.imgbox.com/83/57/Iuy0na8X_o.png" width="507"></p> 
<p></p> 
<p></p> 
<p>断言相等 .to.equal()<br> 断言字符长度 .to.lengthOf()</p> 
<blockquote> 
 <p>//校验code为0<br> pm.test("response code must to be 0", function () {<!-- --><br>     pm.expect(pm.response.json().code).to.equal(0);<br> });<br> //校验msg为login success!<br> pm.test("response msg must to be login success!", function () {<!-- --><br>     pm.expect(pm.response.json().msg).to.equal(login success!);<br> });<br> //校验token 长度为40位<br> pm.test("response token length must to be 40", function () {<!-- --><br>     pm.expect(pm.response.json().token).to.lengthOf(40);<br> });<br><br> 校验状态码和返回头部<br> 校验返回状态码是200，可以直接点击右侧快速生成代码</p> 
</blockquote> 
<p><img alt="" height="207" src="https://images2.imgbox.com/88/65/yBYBwT8b_o.png" width="502"><br> 校验Content-Type在返回头部</p> 
<p></p> 
<p> <img alt="" height="228" src="https://images2.imgbox.com/73/f8/e6Tx6dBl_o.png" width="512"></p> 
<p></p> 
<p></p> 
<blockquote> 
 <p>校验返回的头部Content-Type值为 application/json</p> 
 <p>pm.test("Content-Type header is applicatin/json",()=&gt;{<!-- --><br>    pm.expect(pm.response.heades.get('Content-Type')).toeql('application/json');<br>    });<br><br> 断言返回值与变量相等<br> 断言返回值username与环境变量username相等</p> 
 <p>pm.test("Response property matches environment vaiable", function () {<!-- --><br>     pm.expect(pm.response.json().uesrname).to.eql(pm.environment.get("username"));<br> });<br>  </p> 
</blockquote> 
<h2 id="%E3%80%90%E5%8D%81%E4%BA%8C%EF%BC%9A%E3%80%91%20postman%E4%B9%8Bcookie%EF%BC%8Ctoken%EF%BC%8Csession%E9%89%B4%E6%9D%83">【十二：】 postman之cookie，token，session鉴权</h2> 
<pre><strong>什么是cookie鉴权：</strong>
     登录接口响应头当中，有set-cookie ；
     在登录之后其他业务请求当中，请求头会带上登录返回的cookie ；
　　  cookie鉴权，分配了一块内存，服务器的压力比较大 ；

<strong>什么是token鉴权：</strong>
     token值 一般都是放在登录接口的响应数据体当中，需要提取出来；
     在登录之后其他业务的请求当中，可能是在请求头当中带上token。也可能是在请求体当中带上token，看接口的开发如何定义；
　　  token是通过加密、解密 进行认证；
　　　目前用的比较多的是 token 鉴权方式 ；
</pre> 
<p> 如何确定接口是 cookie鉴权 还是 token鉴权 ，直接问开发即可。 不建议自己抓包分析 ；</p> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81%E9%89%B4%E6%9D%83%20%E3%80%81%E6%8E%88%E6%9D%83">一、鉴权 、授权</h3> 
<p>　　问题，浏览器登录了某些网站(腾讯视频)、下次访问时为什么不要登录？</p> 
<p><strong>　　授权：相当于给一个通行证 ；</strong></p> 
<p><strong>　　鉴权：鉴定是否有权限访问 (判断有没有通行证) ；</strong></p> 
<p></p> 
<h4 id="1%E3%80%81cookies%20%E5%92%8C%20session"><strong>1、cookies 和 session</strong></h4> 
<p>（可以参考百度百科：<strong><a href="https://baike.baidu.com/item/HTTP%E6%97%A0%E7%8A%B6%E6%80%81%E5%8D%8F%E8%AE%AE/5808645?fr=aladdin" rel="nofollow" title="HTTP无状态协议 。">HTTP无状态协议 。</a></strong>）</p> 
<p><strong>HTTP无状态协议，是指协议对于事务处理没有记忆能力</strong>。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</p> 
<p></p> 
<p><strong>客户端与服务器进行动态交互的Web应用程序出现之后，HTTP无状态的特性严重阻碍了这些应用程序的实现</strong>，毕竟交互是需要承前启后的，简单的购物车程序也要知道用户到底在之前选择了什么商品。于是，<strong>两种用于保持HTTP连接状态的技术就应运而生了，一个是Cookie，而另一个则是Session。</strong>HTTP本身是一个无状态的连接协议，为了支持客户端与服务器之间的交互，我们就需要通过不同的技术为交互存储状态，而这些不同的技术就是Cookie和Session了。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/de/ad/PPwDQ3fy_o.jpg"></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/45/a3/SJtAbn1d_o.jpg"></p> 
<p></p> 
<p>演示session鉴权，测试用的网站（旧版本的课堂派，它用的是session鉴权) ：https://v4.ketangpai.com/</p> 
<p><strong>用火狐浏览器抓包时，先开启持续记录：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/9e/60/ZfesbKsM_o.png"></p> 
<p></p> 
<p>第一次发起请求 post 时，请求头没有 cookies，如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/35/50/6ldwm3Tk_o.png"></p> 
<p></p> 
<p>但是在响应头会带上 cookies：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/87/42/lOJSiSmk_o.png"></p> 
<p><strong>像这种第一次请求时，请求头没有cookie，响应头有cookie，后续发起请求时，请求头带有同一个sessionID的情况，就表示用的是 session鉴权 ；</strong>  工作中无需这样分析，直接找开发确认鉴权即可。</p> 
<p></p> 
<p><strong>cookie 参数介绍：</strong></p> 
<p><strong><strong><strong> session ID</strong></strong></strong></p> 
<p></p> 
<p><strong>Expires=&lt;date&gt; 可选</strong></p> 
<p><strong> cookie 的最长有效时间，</strong>形式为符合 HTTP-date 规范的时间戳。参考 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Date" rel="nofollow" title="Date">Date</a> 可以获取详细信息。如果没有设置这个属性，那么表示这是一个<strong>会话期 cookie </strong>。一个会话结束于客户端被关闭时，这意味着会话期 cookie 在彼时会被移除。然而，很多Web浏览器支持会话恢复功能，这个功能可以使浏览器保留所有的tab标签，然后在重新打开浏览器的时候将其还原。与此同时，cookie 也会恢复，就跟从来没有关闭浏览器一样。 北京时间=GMT时间+8小时。</p> 
<p><strong>Max-Age=&lt;non-zero-digit&gt; 可选</strong></p> 
<p><strong>在 cookie 失效之前需要经过的秒数。</strong>秒数为 0 或 -1 将会使 cookie 直接过期。一些老的浏览器（ie6、ie7 和 ie8）不支持这个属性。对于其他浏览器来说，假如二者 （指 <code>Expires</code> 和<code>Max-Age</code>） 均存在，那么 Max-Age 优先级更高。</p> 
<p></p> 
<p></p> 
<p><strong>发起一个请求必备如下3个条件：</strong></p> 
<p>请求地址：url ；<br> 请求方法：get、post 、put 、delete 等 ；<br> 请求数据：params参数 中 或 请求体中 ；</p> 
<p></p> 
<p><strong>post 请求：4种格式（content-type）</strong></p> 
<p>1、application/x-www-from-urlencode<br><strong>2、application/json  (常用)</strong><br> 3、mulitipart/form-data<br> 4、xml<br> 5、......</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/57/1d/T45P4q0d_o.png"></p> 
<p></p> 
<p>用postman 模拟发起一个登录请求。如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6a/92/lqQxjUav_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/09/1f/8TEgzMVD_o.png"></p> 
<p></p> 
<p></p> 
<h3 id="2%E3%80%81token%20%E9%89%B4%E6%9D%83">2、token 鉴权</h3> 
<p>演示网站：https://www.ketangpai.com  </p> 
<p>如何确定是 token鉴权？ 第一次请求头中无token，响应体中返回 token ，第二次 post 请求中带有 token ，第三次 post 请求中带有 token，也就是说后面的请求中都带有token的话，可以确定是token鉴权，如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c4/86/aA2WJP2h_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1a/61/E6kx0VwI_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/15/1d/9fdfmcq5_o.png"></p> 
<p></p> 
<p>用 postman 模拟发送登录：</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/a6/ad/SoNhqoZt_o.png"></p> 
<p>用 第一次登录返回的 token 发起请求：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/36/35/8Dl7Ic0F_o.png"></p> 
<h2 id="%C2%A0%E3%80%90%E5%8D%81%E4%B8%89%EF%BC%9Apostman%E4%B9%8Bconsole%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B%E5%92%8C%E5%BA%94%E7%94%A8%E8%B0%83%E5%BC%8F%E3%80%91"> 【十三：postman之console日志查看和应用调式】</h2> 
<p>建议阅读对象：已掌握postman的基本使用、了解一丢丢 JavaScript<br> 本地安装的Postman版本： Version 9.15.11</p> 
<p>1. 打开console面板<br> View —&gt; Show Postman Console</p> 
<p><img alt="" height="277" src="https://images2.imgbox.com/fb/56/KqWkX1Wk_o.png" width="551"><br> 2. 认识console面板<br> console面板中提供了丰富的功能，此处不做赘述，下图标识了一些常用的操作。<br> 模糊搜索<br> 清空记录<br> 复制信息到剪贴板<br> 时间戳是否显示<br> network是否隐藏<br> 按信息类型（log、info、warning、error）筛选</p> 
<p> <img alt="" height="735" src="https://images2.imgbox.com/96/c4/7Nd21zPS_o.png" width="952"></p> 
<p> <img alt="" height="577" src="https://images2.imgbox.com/b5/35/gXdaN0ya_o.png" width="955"></p> 
<p> <img alt="" height="444" src="https://images2.imgbox.com/ac/df/YJfgUmCu_o.png" width="938"></p> 
<p> 3. 练一练console打印日志<br> 可以根据个人需要，在[Pre-request Script] 或 [Tests]中使用（如上图所示）</p> 
<p>console.log('log信息')<br> console.info('info信息')<br> console.warn('warning信息')<br> console.error('error信息')</p> 
<h2 id="%5B%E5%8D%81%E5%9B%9B%EF%BC%9Apostman%E4%B9%8Bmcok%20server%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3%E6%9C%8D%E5%8A%A1%E5%99%A8%5D"><br> [十四：postman之mcok server自定义接口服务器]</h2> 
<p>Mock服务的用处：<br> 1、我们要测试B接口，但是他需要A接口返回的数据，可是研发速度慢，A接口还没有开发好，那我要想测试B接口咋办，那就模拟一个B接口的返回，来测试A接口</p> 
<p></p> 
<p></p> 
<p>2、模拟第三方服务，测试中你是不是会经常遇到这样的接口情况，你的接口调用了一个第三方接口，比如说调用了一个第三方的实名认证接口，有一种测试情况是第三方接口响应超时，因为第三方测试不受你控制，万一第三方又牛X的不得了，等他超时，项目都结束了，我们就可以自己mock一个第三方接口，将异常情况写死</p> 
<p>3、前后端开发联调，前端工程师比较猛，前端开发完了，但是后端接口还没搞好，那我就可以按接口文档，mock一个后端服务，来看看我前端的情况，如是后端开发好，直接接进来就好了</p> 
<p>1、创建mock服务器<br> new窗口创建步骤：<br> 1.点击左上角的New，选择弹出的窗口选择Mock Server。<br> 2.需要为即将要创建的Mock Server , 可以从已有的选择，也可以重新创建一个集合 。<br> 3.选择对应的mock名称，版本标签，环境等，点击Create Mock Server 。</p> 
<p>面板中创建<br> 1.选择集合，点击右三角，在弹出的面板中选择Mocks,点击Create a mock Server.<br> 2.在弹出的界面中输入mock server name ,version tag , environment,点击Create mock server 。</p> 
<p>Mock创建完成后结果：</p> 
<p><img alt="" height="510" src="https://images2.imgbox.com/17/88/asiXAx59_o.png" width="957"></p> 
<p></p> 
<p>注意：<br> 在创建的时候注意区分私有（创建私有域）</p> 
<p><img alt="" height="482" src="https://images2.imgbox.com/6c/8f/UXgNaq1c_o.png" width="956"></p> 
<p> <img alt="" height="372" src="https://images2.imgbox.com/a1/d3/kD3AJGMz_o.png" width="958"></p> 
<p></p> 
<p>2、创建mock请求<br> 创建请求入口</p> 
<p><img alt="" height="432" src="https://images2.imgbox.com/7d/df/1GTuO9Xw_o.png" width="948"></p> 
<p> <img alt="" height="557" src="https://images2.imgbox.com/20/d9/UYglDn6j_o.png" width="931"></p> 
<p></p> 
<p>保存好虚拟接口后，就可以使用Mock请求接口喽~</p> 
<p>3、请求接口</p> 
<p><img alt="" height="538" src="https://images2.imgbox.com/26/a6/5MuwZIN6_o.png" width="957"></p> 
<h2 id="%C2%A0%E3%80%90%E5%8D%81%E4%BA%94%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%8A%A0%E5%AF%86%EF%BC%88base64.md5.rsa%E7%AD%89%EF%BC%89%E3%80%91"> 【十五：postman接口测试加密（base64.md5.rsa等）】</h2> 
<p>最近在项目接口测试中使用postman，对于一般的非加密HTTP请求可以很方便直接的测试，但是有些需要签名验签的报文，就需要对报文进行加解密处理，在实际工作过程中，参考了网络上共享的资源，下面对自己工作过程做一次记录，以及自己遇到的问题进行补充。</p> 
<p>大体说一下流程：</p> 
<p>请求的源报文需要把参数（除sign）按照字母从a-z顺序先进行排序；</p> 
<p>对排序后参数的值拼接成字符串即成源字符串；</p> 
<p>用对方的RSA私钥对源字符串进行RSA算法加密生产签名sign值；</p> 
<p>把该值传递给参数sign，对新的报文进行AES签名得到值作为正式报文中的参数encdata的值；</p> 
<p>使用自有RSA公钥对AES密码进行RSA算法签名，得到的值作为正式报文enckey的值，新的报文生产后再发起HTTP请求。</p> 
<p>最终的报文结构：</p> 
<p><img alt="" height="113" src="https://images2.imgbox.com/01/08/L4VuuHVa_o.png" width="554"></p> 
<p></p> 
<p>"{<!-- -->{encdata}}"、"{<!-- -->{enckey}}"需要在postman中定义的变量，变量定义设置不在这里详细说明。</p> 
<p>引入forge.js</p> 
<p>因为postman自带的加密函数是cryptoJS，不能满足数字RSA-SHA1签名，即java里的SHA1WithRSA，因此需要接入第三方库，这里找到forge.js。forge的GitHub地址https://github.com/digitalbazaar/forge。</p> 
<p><img alt="" height="266" src="https://images2.imgbox.com/ee/60/PURMbhcj_o.png" width="558"></p> 
<p></p> 
<p>Forge.js两种使用方式，第一种：需要下载forge.js并在本地搭建服务，在加密过程中需要调用该服务。</p> 
<p><img alt="" height="343" src="https://images2.imgbox.com/34/4a/ns4sOYEI_o.png" width="558"></p> 
<p></p> 
<p>在Pre-request Script中使用：</p> 
<p><img alt="" height="549" src="https://images2.imgbox.com/71/ea/Q7cowZ60_o.png" width="497"></p> 
<p></p> 
<p>第二种使用方式，复制forge.js文件的所有内容，在postman中添加forgeJS变量，值设置为forge.js文件中的所有内容。</p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/6d/aa/V3Ux3R8g_o.png" width="548"></p> 
<p></p> 
<p>这里使用的第一种搭建服务的方法，因为第二种方法forge.js文件太大，导致设置变量时卡死。</p> 
<p>对源字符串进行RSA签名</p> 
<p>具体的报文拼接就不再这里详细说明，假如拼接后的源字符串为“15547905120004109231993051800161200155235582900015011385365”，然后使用RSA进行私钥签名，</p> 
<p><img alt="" height="545" src="https://images2.imgbox.com/67/eb/10tvgHcc_o.png" width="564"></p> 
<p></p> 
<p><img alt="" height="270" src="https://images2.imgbox.com/bd/e9/Nm72ATc1_o.png" width="568"></p> 
<p>这里的encrypt_key私钥，你需要换成自己项目的私钥。</p> 
<p>Encryption函数实现私钥签名，使用了forge项目中的</p> 
<p><img alt="" height="105" src="https://images2.imgbox.com/28/e5/cCRnudLw_o.png" width="439"></p> 
<p></p> 
<p>获取的签名sign需要进行Bate64编码，使用forge.util.encode64(sig)实现。</p> 
<p>在我们项目中，实际获取的sText签名需要传递给源报文参数sign，进行AES加密。</p> 
<p>var signText = '{"endDate":1554790512000,"pageNo":1,"Id":"410923199305180016","userPhone":"15011385365","sign":"'+sText+'","pageSize":200,"startDate":1552355829000}';</p> 
<h2 id="RSA%E7%AD%BE%E5%90%8D%E5%B0%B1%E5%86%99%E8%BF%99%E4%BA%9B%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E5%86%99AES%E5%8A%A0%E5%AF%86%E3%80%82%E3%80%90%E5%8D%81%E5%85%AD%EF%BC%9Apostman%E6%8E%A5%E5%8F%A3%E7%AD%BE%E5%90%8Dsign%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E3%80%91">RSA签名就写这些，接下来写AES加密。<br>  </h2> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7cf5365bccd7a0394d04b168b55f4ebf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">论坛回顾｜蚂蚁供应链安全建设实践</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43d58b6c1e4a52b7668d497dd36ec7a1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js七牛云下载视频、音频、pdf、图片</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>