<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux部署宝塔面板及安装WordPress环境 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux部署宝塔面板及安装WordPress环境" />
<meta property="og:description" content="Linux部署宝塔面板及安装WordPress环境 1. 引言2. 环境3. 安装宝塔面板4. 登录面板5. 安装LNMP6. 面板设置（可选）7. 新建站点及数据库8. 安装WordPress9. 配置 WordPress10. 访问网站11. 杂言 1. 引言 我本身已经有了一台已经部署完毕并且网站已经上线的腾讯云轻量服务器，但为了分离测试~~（xjb玩）~~，又去天翼云试用白嫖了两个月的云服务器。
同时我也发现，一般正式的云服务器的镜像没有自带宝塔Linux面板的，只有轻量服务器才可以选择自带面板。同时因为之前我在安装WordPress的时候踩了很多坑，也看了一大堆奇奇怪怪的没用的文章，所以打算以本文记录我基本的建站流程。（等明年换服务器的时候给自己参考）。
本文尽量详细描述，一直进行到安装完WordPress并实现通过IP地址能访问网站，域名解析部分暂时不搞（一来又要买个域名，二来也要备案才能访问，等明年手头的域名过期再考虑更新）。
注：发文时该服务器已过期删除，IP及账号都已废弃，不用去尝试登录本文演示用的账号了。
注2：本文所有文字图片均为本人原创，全部自己手敲and截图，无网络复制内容。
2. 环境 云服务器：CentOS7.9 64位 （1vCPUs | 1 GiB）【全新（已被重装系统）】
SSH工具：Finalshell （SSH工具安装与否无所谓，通过云服务器管理后台直接连接也行）
3. 安装宝塔面板 用宝塔面板来建站和维护非常方便，可以实现环境的快速安装及网站文件的快速添加及修改等功能。
（1）访问宝塔网站
网站：https://www.bt.cn/new/index.html
宝塔面板有 Linux 和 Windows 两种，这里肯定选择 Linux。安装方式建议选择下面的通过安装脚本安装，在线安装可能因为没配置好安全组规则而被防火墙拦截。
复制第一行的 Centos 安装脚本：
yum install -y wget &amp;&amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec （2）打开 Finalshell 连接Linux。（或通过服务器提供商提供的在线连接）
黏贴上面复制的脚本，回车。
不重要的两点：
（1）windows的复制黏贴是 ctrl &#43; c 和 ctrl &#43; v；而Linux的复制黏贴是 ctrl &#43; shirt &#43; c 和 ctrl &#43; shirt &#43; v；因此黏贴到 finalshell 时记得多按一个 shirt 键。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b82a374b89da2755fa696ee305e2cafa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-28T01:15:55+08:00" />
<meta property="article:modified_time" content="2023-11-28T01:15:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux部署宝塔面板及安装WordPress环境</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Linux部署宝塔面板及安装WordPress环境</h4> 
 <ul><li><ul><li><a href="#1__3" rel="nofollow">1. 引言</a></li><li><a href="#2__16" rel="nofollow">2. 环境</a></li><li><a href="#3__24" rel="nofollow">3. 安装宝塔面板</a></li><li><a href="#4__66" rel="nofollow">4. 登录面板</a></li><li><a href="#5_LNMP_108" rel="nofollow">5. 安装LNMP</a></li><li><a href="#6__127" rel="nofollow">6. 面板设置（可选）</a></li><li><a href="#7___136" rel="nofollow">7. 新建站点及数据库</a></li><li><a href="#8_WordPress_197" rel="nofollow">8. 安装WordPress</a></li><li><a href="#9__WordPress_232" rel="nofollow">9. 配置 WordPress</a></li><li><a href="#10__276" rel="nofollow">10. 访问网站</a></li><li><a href="#11__289" rel="nofollow">11. 杂言</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1__3"></a>1. 引言</h3> 
<p>我本身已经有了一台已经部署完毕并且网站已经上线的腾讯云轻量服务器，但为了分离测试~~（xjb玩）~~，又去天翼云试用白嫖了两个月的云服务器。</p> 
<p>同时我也发现，一般正式的云服务器的镜像没有自带宝塔Linux面板的，只有轻量服务器才可以选择自带面板。同时因为之前我在安装<code>WordPress</code>的时候踩了很多坑，也看了一大堆奇奇怪怪的没用的文章，所以打算以本文记录我基本的建站流程。（等明年换服务器的时候给自己参考）。</p> 
<p>本文尽量详细描述，一直进行到安装完<code>WordPress</code>并实现通过<code>IP</code>地址能访问网站，域名解析部分暂时不搞（一来又要买个域名，二来也要备案才能访问，等明年手头的域名过期再考虑更新）。</p> 
<p><mark>注</mark>：<strong>发文时该服务器已过期删除，IP及账号都已废弃，不用去尝试登录本文演示用的账号了。</strong></p> 
<p><mark>注2</mark>：<strong>本文所有文字图片均为本人原创，全部自己手敲and截图，无网络复制内容。</strong></p> 
<h3><a id="2__16"></a>2. 环境</h3> 
<p>云服务器：CentOS7.9 64位 （1vCPUs | 1 GiB）【全新（已被重装系统）】</p> 
<p>SSH工具：<a href="https://www.hostbuf.com/" rel="nofollow">Finalshell</a> （SSH工具安装与否无所谓，通过云服务器管理后台直接连接也行）</p> 
<h3><a id="3__24"></a>3. 安装宝塔面板</h3> 
<p>用宝塔面板来建站和维护非常方便，可以实现环境的快速安装及网站文件的快速添加及修改等功能。</p> 
<p>（1）访问宝塔网站</p> 
<p>网站：https://www.bt.cn/new/index.html</p> 
<p>宝塔面板有 Linux 和 Windows 两种，这里肯定选择 Linux。安装方式建议选择下面的通过<strong>安装脚本安装</strong>，在线安装可能因为没配置好安全组规则而被防火墙拦截。</p> 
<p><img src="https://images2.imgbox.com/f3/83/9yh7ilez_o.png" alt="installBT"></p> 
<p>复制第一行的 <code>Centos</code> 安装脚本：</p> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">wget</span> <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> <span class="token parameter variable">-O</span> install.sh https://download.bt.cn/install/install_6.0.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> install.sh ed8484bec
</code></pre> 
<p>（2）打开 <code>Finalshell</code> 连接Linux。（或通过服务器提供商提供的在线连接）</p> 
<p>黏贴上面复制的脚本，回车。</p> 
<blockquote> 
 <p>不重要的两点：</p> 
 <p>（1）windows的复制黏贴是 <code>ctrl</code> + <code>c</code> 和 <code>ctrl</code> + <code>v</code>；而Linux的复制黏贴是 <code>ctrl</code> + <code>shirt</code> + <code>c</code> 和 <code>ctrl</code> + <code>shirt</code> + <code>v</code>；因此黏贴到 <code>finalshell</code> 时记得多按一个 <code>shirt</code> 键。</p> 
 <p>（2）Linux的默认主机名（root@后面的内容）可能又臭又长，可以通过下面指令修改，然后重新连接即可完成修改。</p> 
 <pre><code class="prism language-bash">hostnamectl set-hostname 你要修改的名字
</code></pre> 
</blockquote> 
<p>（3）输入 y （yes）确认</p> 
<p><img src="https://images2.imgbox.com/07/d9/WWsv3ZbO_o.png" alt="inputy"></p> 
<h3><a id="4__66"></a>4. 登录面板</h3> 
<p>等待大概两三分钟，面板安装完成。此时会给你初始的面板访问链接，及初始账号密码，建议复制保存下来。</p> 
<p><img src="https://images2.imgbox.com/04/66/HvatoJ4Z_o.png" alt="finishInstall"></p> 
<p>外网面板地址中：</p> 
<ul><li><code>119.96.173.127</code>是我们服务器的公网 IP</li><li><code>41189</code>是 宝塔面板的运行端口。（登录后可以修改）</li><li><code>4f09b5f6</code> 是 宝塔面板的安全入口。（如果有人要企图登录你的面板，即使知道了端口，不知道安全入口也无法打开登录页面。登录后可以修改）</li></ul> 
<p><strong>忘了上面的网址 and 用户名及密码怎么办？</strong></p> 
<p>此时我们可以通过在命令行输入：<code>bt</code> 回车，然后输入 <code>14</code> 后回车，即可查看面板的基本信息。由于查看的信息不包括密码，因此可以通过 <code>bt 5</code> 修改初始密码。</p> 
<p><img src="https://images2.imgbox.com/43/37/xMrSVJ7C_o.png" alt="set"></p> 
<p>打开上面的外网面板地址，输入用户名密码即可登录。如果打不开登录界面（404），记得取云服务器管理后台放开端口。</p> 
<p>此外，由于我们没有给IP网址部署SSL证书，在访问时可能会浏览器被提示"不安全"。（我自己的刚提的服务器，安不安全我自己心里有数）。选择**“高级”<strong>，选择</strong>“继续访问”**，即可进入。</p> 
<p><img src="https://images2.imgbox.com/9e/c7/uH5qtYQr_o.png" alt="warn"></p> 
<p>登录界面：</p> 
<p><img src="https://images2.imgbox.com/85/7c/wxPMjsFR_o.png" alt="login"></p> 
<p>初次登录时要阅读同意协议，并注册绑定宝塔账号。</p> 
<p>至此，宝塔面板安装完成，下面开始网站环境的搭建。</p> 
<h3><a id="5_LNMP_108"></a>5. 安装LNMP</h3> 
<p>首次进入宝塔面板时，会提示安装套件，以方便网站部署。这里我个人选择它推荐的 LNMP ，即（Linux + Nginx + MySQL + PHP）。同时为了省时间，选择<strong>极速安装</strong>。（编译安装时间较长，但是相对稳定）<br> <img src="https://images2.imgbox.com/9d/e6/Xdf3vH4U_o.png" alt="LNMP"></p> 
<p>版本的话，推荐<code>MySql</code>和 <code>PHP</code> 使用最新版本。我个人选择 <code>MySql 8.0</code> 和 <code>PHP 8.1</code>。（之前踩过一次坑，自己在服务器通过上传 <code>MySQL</code> 官网的安装包的方式安装了<code>MySql 8.0</code>的版本，但是宝塔面板识别不出来，只能卸载然后重新在宝塔面板上安装）</p> 
<p>如果还没选择就不小心关掉了安装套件的界面，可以通过面板左侧的 <strong>“软件商城”</strong> 搜索软件进行单独安装。也可以在这里查看已安装的软件，执行卸载及更新。</p> 
<p>安装时间较长，我们可以先关掉安装面板（消息盒子）。如果想要查看安装进度，可以通过点击左上角IP旁边的小图标（如下图所示）重新打开消息面板查看。</p> 
<p><img src="https://images2.imgbox.com/f6/ab/pKDq9iZY_o.png" alt="install"></p> 
<h3><a id="6__127"></a>6. 面板设置（可选）</h3> 
<p>在左侧的面板设置中，我们可以设置面板别名，面板的账号和密码。也能修改上面初始的访问端口和安全入口。</p> 
<p><img src="https://images2.imgbox.com/d8/5a/bzujxDy7_o.png" alt="change"></p> 
<h3><a id="7___136"></a>7. 新建站点及数据库</h3> 
<p>等左上角消息盒子的任务数量变为0时说明安装全部完成。此时我们可以开始新建站点。</p> 
<p><img src="https://images2.imgbox.com/ed/8b/l58rSk4H_o.png" alt="addweb"></p> 
<ul><li>域名：由于我们还没注册域名，这里直接填写IP地址和端口号。（端口号随便取，但要避免和常见端口号3306、22、443这些冲突）(示例：119.96.173.127:666)</li><li>根目录尽量全英文。（示例：gwweb）</li><li>FTP选择**“创建”**，可以修改初始账号和密码。（账号密码后面会用到）</li><li>MySQL选择**“创建”**，可以修改初始账号和密码。（账号密码后面会用到）</li></ul> 
<p><img src="https://images2.imgbox.com/a0/eb/JEB7H0fi_o.png" alt="newweb"></p> 
<p>查看FTP：选择面板左侧 FTP 可以看到 FTP 已经启用。</p> 
<p><img src="https://images2.imgbox.com/38/68/f53OeQ55_o.png" alt="FTP"></p> 
<p><strong>查看数据库：</strong></p> 
<p>选择面板左侧数据库，可以看到我们还没有创建数据库。</p> 
<p><img src="https://images2.imgbox.com/7e/36/RBmHXIgd_o.png" alt="db"></p> 
<p>（刚刚只是设置了<strong>连接网站时所用的</strong>用户名和密码，实际上用户并未生成）登录 <code>MySQL</code> 查询目前存在用户及数据库结果如下：</p> 
<p><img src="https://images2.imgbox.com/5b/e6/xbV2AOaB_o.png" alt="select"></p> 
<p><strong>新建数据库：</strong></p> 
<p>点击**“添加数据库”**，会提示输入数据库名及用户名，并且给了随机密码。</p> 
<p>数据库名随便写，用户名和密码写新建站点时填写的用户名及密码。</p> 
<p>（注：第一行是创建数据<strong>库</strong>，将来用来保存网站的数据信息。第二行及第三行是创建连接该数据库的<strong>用户</strong>，而上一步我们创建站点时填写的就是<strong>该用户</strong>，到时候就是用该用户账号去管理我们网站的数据库信息）（可以理解为先填写了信息，再创建了符合我们刚刚填写信息的账号）【如果我理解有误，欢迎纠错】</p> 
<p><img src="https://images2.imgbox.com/58/5e/NBiXxiWi_o.png" alt="addDB"></p> 
<p>点击提交后，即可查看数据库已被创建：</p> 
<p><img src="https://images2.imgbox.com/d9/fa/CgVj7uR7_o.png" alt="finishdb"></p> 
<p>此时，再次查询 <code>MySQL</code> ，可以发现用户和数据库都被成功创建：</p> 
<p><img src="https://images2.imgbox.com/3a/f2/6YLgzCZn_o.png" alt="afterselect"></p> 
<h3><a id="8_WordPress_197"></a>8. 安装WordPress</h3> 
<p>进入 <code>WordPress</code> 官网：https://cn.wordpress.org/</p> 
<p>选择左上角 <strong>“获取WordPress”</strong> 后下滑，选择下载 <strong>“WordPress X.X.X”</strong>。关掉赞助界面，下载zip压缩包。</p> 
<p>回到宝塔面板，选择左侧**“文件”**，进入到网站的目录（网站目录时我们在新建站点时所填写的「根目录」）下面。可以看到目录下自动生成有两个html文件，404那个应该都懂，是经典的404 Not Found页面。index.html则是创建站点后自动生产的（如下图1）。这两文件可以删除（见下图2）。</p> 
<p><img src="https://images2.imgbox.com/05/a1/v4HawkyL_o.png" alt="index"></p> 
<p><img src="https://images2.imgbox.com/b8/db/RyKQgnMJ_o.png" alt="remove"></p> 
<p>回到正题，上传（直接拖拽进来）刚刚下载的压缩包到此路径。</p> 
<p><img src="https://images2.imgbox.com/de/57/dbzWdMDz_o.png" alt="upload1"></p> 
<p>解压到该路径下：</p> 
<p><img src="https://images2.imgbox.com/fd/e5/Ce33NLbP_o.png" alt="unzip"></p> 
<p>此时，会得到一个wordpress文件夹，我们把里面所有文件和文件夹全部拉到（剪切黏贴）根目录下。然后删除空的wordpress文件夹和已经解压完的压缩包。结果如下：</p> 
<p><img src="https://images2.imgbox.com/15/15/y5vHlO4F_o.png" alt="mv"></p> 
<p>此时，<code>WordPress</code> 就已经安装完成了。</p> 
<h3><a id="9__WordPress_232"></a>9. 配置 WordPress</h3> 
<p>安装完，我们还需要配置 <code>WordPress</code>。</p> 
<p>浏览器地址栏输入我们在站点设置时填写的域名+端口号：<code>119.96.173.127:666</code>。此时会自动跳到 <code>WordPress</code> 配置界面：</p> 
<p><img src="https://images2.imgbox.com/1a/5f/CtxzrkMy_o.png" alt="start"></p> 
<p>点击开始后，填写我们在宝塔面板创建站点时的信息。最后两项主机和表前缀可以不理。</p> 
<p><img src="https://images2.imgbox.com/30/5b/BXwYzRgJ_o.png" alt="initdb"></p> 
<p>点击提交后，选择开始运行安装程序：</p> 
<p><img src="https://images2.imgbox.com/ee/e7/0iVAI87u_o.png" alt="run"></p> 
<p>最后一步，填写网站信息及管理员用户密码：</p> 
<p>站点标题：即网站名称。用户名密码记得保存，后面cookie失效时还得靠此登录获得管理员权限。</p> 
<p><img src="https://images2.imgbox.com/a4/50/DLQ96TIr_o.png" alt="finalstep"></p> 
<p>安装成功后即可登录：</p> 
<p><img src="https://images2.imgbox.com/29/1c/7DCeb3xi_o.png" alt="loginwp"></p> 
<p>登录成功后即可进入仪表盘（管理后台）：</p> 
<p><img src="https://images2.imgbox.com/29/8d/yGr9196D_o.png" alt="finish"></p> 
<p>至此，安装 <code>WordPress</code> 全过程结束。</p> 
<h3><a id="10__276"></a>10. 访问网站</h3> 
<p>安装完后，即可执行安装主题，插件，导入历史信息等操作。</p> 
<p>通过访问之前设定的域名：<code>119.96.173.127:666</code>，不用备案即可查看网站。</p> 
<p>以WordPress安装完argon主题为例，导入历史文章信息后（尚未修改主题设置）：</p> 
<p><img src="https://images2.imgbox.com/1f/5d/zPTyRD0j_o.png" alt="show"></p> 
<h3><a id="11__289"></a>11. 杂言</h3> 
<p>使用IP直接访问网站，优点在于省了域名钱，省了ICP备案（备案期间要关闭网站服务，无法访问）和公安备案的时间，不用准备一系列实名审核材料。缺点是不方便记网站链接，纯数字网站看上去不安全，适合自己个人使用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb1da5b1709a47822f8fcf15652e51c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详细堆排序的实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0651aa1d9b89f2bc60faaf734552b66b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python的控制流语句使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>