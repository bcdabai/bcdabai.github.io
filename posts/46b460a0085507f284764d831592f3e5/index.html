<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mybatis详解(全) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mybatis详解(全)" />
<meta property="og:description" content="持久层技术解决方案有几种?
mybatis持久层框架
测试用例搭建
mybatis全局配置文件
mybatis映射文件
mybatis动态SQL
mybatis分页
mybatis逆向工程
持久层技术解决方案有几种?
1.JDBC技术–&gt;Connection、PreparedStatement、ResultSet
2.Spring的JdbcTemplate–&gt;Spring中对Jdbc的简单封装
3.Apache的DBUtils–&gt;它和Spring的JdbcTemplate很像，也是对Jdbc的简单封装
以上这些都不是框架(JDBC是规范、Spring的JdbcTemplate和Apache的DBUtils都只是工具类)
mybatis持久层框架
mybatis是一个用Java编写的持久层框架，它使用ORM实现了结果集的封装。
跟hibernate一样，也是需要拥有两个配置文件，全局配置文件 和 映射文件，在编写这两个映射文件之前，必须创建mybatis环境(引入jar包或者maven工程导入坐标)
ORM是Object Relational Mapping 对象关系映射。简单来说，就是把数据库表和实体类及实体类的属性对应起来，让开发者操作实体类就实现操作数据库表。
它封装了jdbc操作的很多细节，使开发者只需要关注sql语句本身，而无需关注注册驱动，创建连接等烦杂过程
测试用例搭建
搭建环境流程如下四点：
创建maven工程并导入坐标
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.43&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.10&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 创建实体类和Mapper的接口
public class User implements Serializable { private int id ; private String username; ...... } public interface IUserMapper { /** * 查询所有操作 * @return */ List&lt;User&gt; findAll(); } 创建mybatis的主配置文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/46b460a0085507f284764d831592f3e5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-09T14:42:20+08:00" />
<meta property="article:modified_time" content="2022-10-09T14:42:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mybatis详解(全)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="#oneone" rel="nofollow"><font size="2" face="宋体" color="grey">持久层技术解决方案有几种?</font></a></p> 
<p><a href="#newone" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis持久层框架</font></a></p> 
<p><a href="#onetwo" rel="nofollow"><font size="2" face="宋体" color="grey">测试用例搭建</font></a></p> 
<p><a href="#onetree" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis全局配置文件</font></a></p> 
<p><a href="#oneys" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis映射文件</font></a></p> 
<p><a href="#dongtaisql" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis动态SQL</font></a></p> 
<p><a href="#onefy" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis分页</font></a></p> 
<p><a href="#onenx" rel="nofollow"><font size="2" face="宋体" color="grey">mybatis逆向工程</font></a></p> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="oneone">持久层技术解决方案有几种?</span></font></p> 
</blockquote> 
<p><font size="2" face="宋体">1.JDBC技术–&gt;Connection、PreparedStatement、ResultSet</font></p> 
<p><font size="2" face="宋体">2.Spring的JdbcTemplate–&gt;Spring中对Jdbc的简单封装</font></p> 
<p><font size="2" face="宋体">3.Apache的DBUtils–&gt;它和Spring的JdbcTemplate很像，也是对Jdbc的简单封装</font></p> 
<p><font size="2" face="宋体" color="grey">以上这些都不是框架(JDBC是规范、Spring的JdbcTemplate和Apache的DBUtils都只是工具类)</font></p> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="newone">mybatis持久层框架</span></font></p> 
</blockquote> 
<p><font size="2" face="宋体">mybatis是一个用Java编写的持久层框架，它使用ORM实现了结果集的封装。</font></p> 
<p><font size="2" face="宋体">跟hibernate一样，也是需要拥有两个配置文件，全局配置文件 和 映射文件，在编写这两个映射文件之前，必须创建mybatis环境(引入jar包或者maven工程导入坐标)</font></p> 
<p><font size="2" face="宋体" color="grey">ORM是Object Relational Mapping 对象关系映射。简单来说，就是把数据库表和实体类及实体类的属性对应起来，让开发者操作实体类就实现操作数据库表。<br> <font size="2" face="宋体">它封装了jdbc操作的很多细节，使开发者只需要关注sql语句本身，而无需关注注册驱动，创建连接等烦杂过程</font></font></p> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="onetwo">测试用例搭建</span></font></p> 
</blockquote> 
<p><font size="3" face="宋体">搭建环境流程如下四点：</font></p> 
<ol><li> <p><font size="3" face="宋体">创建maven工程并导入坐标</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
	
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.43<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
	       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="3" face="宋体">创建实体类和Mapper的接口</font></p> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{<!-- --></span>
		
	<span class="token keyword">private</span> <span class="token keyword">int</span> id <span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IUserMapper</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">/**
	* 查询所有操作
	* @return
	*/</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><font size="3" face="宋体">创建mybatis的主配置文件</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--配置环境--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--配置Mysql的环境--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--配置事务的类型--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--配置数据源(连接池)--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--配置连接数据库的四个基本信息--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/db1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Mybatis/IuserMapper.xml<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="3" face="宋体">创建映射配置文件</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Mapper.IUserMapper<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findAll<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.Pojo.User<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
        select * from usr
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><font size="3" face="楷体" color="orange">测试方法</font></p> <pre><code class="prism language-java"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"mybatis/MapperConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建SqlSessionFactory工厂</span>
<span class="token class-name">SqlSessionFactoryBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SqlSessionFactory</span> factory <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用工厂生产SqlSession对象</span>
<span class="token class-name">SqlSession</span> session <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用SqlSession创建Mapper接口的代理对象</span>
<span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用代理对象执行方法</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>mybatis_user<span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>mybatis_user muser <span class="token operator">:</span> users<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>muser<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> </li></ol> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="onetree">mybatis全局配置文件</span></font></p> 
</blockquote> 
<p><font size="2" face="宋体">mybatis的配置文件推荐为命名mybatis-config.xml，其内容包含了会深深影响mybatis行为的设置和属性信息。使用者掌握方面有properties、settings、typeAliases、enveronments、mappers；以下是全配置文件列表：</font></p> 
<pre><code class="prism language-xml">...
<span class="token comment">&lt;!--配置--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	      
	<span class="token comment">&lt;!--属性--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span> 
	<span class="token comment">&lt;!--全局参数设置--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>     
	<span class="token comment">&lt;!--类型别名--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--类型处理器--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeHandles</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeHandles</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--对象工厂--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objectFactory</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objectFactory</span><span class="token punctuation">&gt;</span></span>   
	<span class="token comment">&lt;!--插件--&gt;</span>    
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--环境信息集合：起步学习只需要关注一下此处配置--&gt;</span> 
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--单个环境信息--&gt;</span>  
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span><span class="token punctuation">&gt;</span></span>
	    	<span class="token comment">&lt;!--事务--&gt;</span>  
	        transactionManager
	        <span class="token comment">&lt;!--数据源--&gt;</span>
	        dataSource
	    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--数据库厂商标识--&gt;</span>
	databaseIdProvider
	<span class="token comment">&lt;!--映射器--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
...
</code></pre> 
<p><font size="3" face="宋体">具体各个配置内容如下：</font></p> 
<ol><li> <p><font size="3" face="宋体">properties 标签</font></p> <p><font size="3" face="宋体">开发者可通过properties属性来实现引用配置文件。这些属性都是可外部配置且可动态替换的</font></p> <p><img src="https://images2.imgbox.com/86/e2/VWyOZAZg_o.png" alt="在这里插入图片描述"> <font size="2" color="grey">[注]<br> 1.如果两个配置文件有同一个字段，优先使用外部配置文件的<br> 2.可以直接引入外部配置文件，properties子元素中可以增加一些属性配置</font></p> <p><img src="https://images2.imgbox.com/9a/83/FIvpMFDd_o.png" alt="在这里插入图片描述"></p> </li><li> <p><font size="3" face="宋体">typeAliases 标签</font></p> <p><font size="3" face="宋体">typeAliases类型别名是为java类型设置一个短的名字，存在的意义仅在于用来减少类完全限定名的冗余。java内置内建类型别名它们都不区分大小写，注意对基本类型名称重复采用的特殊命名风格。</font></p> 
  <table><thead><tr><th>别名</th><th>映射的类型</th></tr></thead><tbody><tr><td>_byte</td><td>byte</td></tr><tr><td>_long</td><td>long</td></tr><tr><td>_int</td><td>int</td></tr><tr><td>_integer</td><td>int</td></tr><tr><td>_double</td><td>double</td></tr><tr><td>_float</td><td>float</td></tr><tr><td>_boolean</td><td>boolean</td></tr><tr><td>string</td><td>String</td></tr><tr><td>byte</td><td>Byte</td></tr><tr><td>long</td><td>Long</td></tr><tr><td>short</td><td>Short</td></tr><tr><td>int</td><td>Integer</td></tr><tr><td>Integer</td><td>Integer</td></tr><tr><td>double</td><td>Double</td></tr><tr><td>float</td><td>Float</td></tr><tr><td>boolean</td><td>Boolean</td></tr><tr><td>date</td><td>Date</td></tr><tr><td>object</td><td>Object</td></tr><tr><td>map</td><td>Map</td></tr><tr><td>hashmap</td><td>HashMap</td></tr><tr><td>list</td><td>List</td></tr><tr><td>arraylist</td><td>ArrayList</td></tr></tbody></table><p><img src="https://images2.imgbox.com/36/b3/WAez0p9L_o.png" alt="在这里插入图片描述"> <font size="2" color="grey">[注]<br> 方法二中，每一个在包中的Java bean,在没有注解的情况下，会使用bean的首字母小写的非限定类名来作为它的别名。若有注解，则别名为其注解值。(实体类上使用注解:@Alias(“user”))</font></p> </li><li> <p><font size="3" face="宋体">setting 标签</font></p> <p><font size="3" face="宋体">setting设置标签，这是Mybatis中极为重要的调整设置，它们会改变Mybatis的运行时行为</font></p> <p><img src="https://images2.imgbox.com/15/e0/XaxDqVHa_o.png" alt="在这里插入图片描述"></p> </li><li> <p><font size="3" face="宋体" color="黑体">environments标签</font></p> <p><font size="2" face="宋体">首先 看一段示例：</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!-- 配置mybatis的环境信息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置JDBC事务控制，由mybatis进行管理 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置数据源，采用dbcp连接池 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/test_1?useUnicode=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>characterEncoding=utf8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><font size="2" face="宋体">dataSource子标签的type属性表达采用何种连接池方式， 在mybatis中连接池提供了3种方式的配置<br> <font size="2" face="宋体" color="grey">我们在实际开发中都会使用连接池，因为它可以减少我们获取连接所消耗的时间，</font></font></p> <p><font size="2" face="宋体">①POOLED 方式：采用传统的javax.sql.DataSource规范中的连接池，mybatis中有针对规范的实现。下图中观察出POOLED它是从池中获取一个连接来用<br> <img src="https://images2.imgbox.com/0f/d8/MdCM925v_o.png" alt="在这里插入图片描述"><br> <font size="2" face="宋体">②UNPOOLED 方式：采用传统的获取连接的方式，虽然也实现javax.sql.DataSource接口，但是并没有使用连接池技术。下图中观察出UNPOOLED每次创建一个新的连接来用</font></font></p> <p><img src="https://images2.imgbox.com/09/57/bb9FfzOO_o.png" alt="在这里插入图片描述"></p> <p><font size="2" face="宋体">③JNDI 方式：采用服务器提供的JNDI技术实现，来获取DataSource对象，不同的服务器所能拿到DataSource是不一样的，如果不是web或者maven的war工程，是不能使用的。</font></p> </li><li> <p><font size="3" face="宋体" color="黑体">mappers标签</font></p> <p><font size="2" face="宋体">mappers映射器属性，MapperRegistry:注册绑定我们的Mapper文件。有三种方式如下：</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com/ferao/mapper/UserMapper.xml<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>	
</code></pre> <pre><code class="prism language-xml"><span class="token comment">&lt;!--该方式绑定注册时，接口和它的Mapper配置文件必须同名，且它的Mapper配置文件必须在同一个包下--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ferao.mapper.UserMapper<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre> <pre><code class="prism language-xml"><span class="token comment">&lt;!--该方式注入绑定时，接口和它的Mapper配置文件必须同名，且它的Mapper配置文件必须在同一个包下--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ferao.mapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>package</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ol> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="oneys">mybatis映射文件</span></font></p> 
</blockquote> 
<p><a href="#chuandi" rel="nofollow"><font size="2" face="宋体" color="grey">传递多个参数的方式</font></a></p> 
<p><a href="#shuru" rel="nofollow"><font size="2" face="宋体" color="grey">parameterType（输入类型）</font></a></p> 
<p><a href="#shuruleixing" rel="nofollow"><font size="2" face="宋体" color="grey">resultType（输出类型）</font></a></p> 
<p><a href="#yinshe" rel="nofollow"><font size="2" face="宋体" color="grey">resultMap（映射实体类）</font></a></p> 
<p><font size="3" face="宋体" color="黑体"><span id="chuandi">传递参数的方式</span></font></p> 
<p><font size="2" face="宋体">在mapper中传递多个参数的方式有四种：顺序传递法、@Param注解传参法、Map传参法、Java Bean传参法；</font></p> 
<p><font size="2" face="宋体" color="336666">方法1：顺序传参法</font></p> 
<p><font size="2" face="宋体">xxMapper.java</font></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> deptId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">xxMapper.xml</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UserResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    select * from user
    where user_name = #{0} and dept_id = #{1}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">#{}里面的数字代表传入参数的顺序。这种方法不建议使用，sql层表达不直观，且一旦顺序调整容易出错。</font></p> 
<p><font size="2" face="宋体" color="336666">方法2：@Param注解传参法</font></p> 
<p><font size="2" face="宋体">xxMapper.java</font></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"userName"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"deptId"</span><span class="token punctuation">)</span> deptId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">xxMapper.xml</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UserResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    select * from user
    where user_name = #{userName} and dept_id = #{deptId}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">#{}里面的名称对应的是注解@Param括号里面修饰的名称。这种方法在参数不多的情况还是比较直观的，（推荐使用）。</font></p> 
<p><font size="2" face="宋体" color="336666">方法3：Map传参法</font></p> 
<p><font size="2" face="宋体">xxMapper.java</font></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">xxMapper.xml</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.util.Map<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UserResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    select * from user
    where user_name = #{userName} and dept_id = #{deptId}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">#{}里面的名称对应的是Map里面的key名称。这种方法适合传递多个参数，且参数易变能灵活传递的情况。</font></p> 
<p><font size="2" face="宋体" color="336666">方法4：Java Bean传参法</font></p> 
<p><font size="2" face="宋体">xxMapper.java</font></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">xxMapper.xml</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.jourwon.pojo.User<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UserResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    select * from user
    where user_name = #{userName} and dept_id = #{deptId}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">#{}里面的名称对应的是User类里面的成员属性。这种方法直观，需要建一个实体类，扩展不容易，需要加属性，但代码可读性强，业务逻辑处理方便，推荐使用。（推荐使用）。</font></p> 
<p><font size="3" face="宋体" color="黑体"><span id="shuru">parameterType（输入类型）</span></font></p> 
<p><font size="2" face="宋体">**Mapper.java 可向 **Mapper.xml中输入三种类型：</font></p> 
<p><font size="2" face="宋体" color="336666">① 简单类型</font></p> 
<p><font size="2" face="宋体" color="336666">② pojo对象类型</font></p> 
<p><font size="2" face="宋体">mybaits使用OGNL表达式解析对象字段的值，#{}或者${}括号中的值为pojo属性名称</font></p> 
<p><font size="2" face="宋体" color="grey">[注]OGNL表达式：object Graphic Navigation Language (对象图导航语言)，它是通过对象的取值方法来获取数据。在写法上把gat给省略了。比如：我们获取用户的名称类中的写法：user.getUsername();<br> OGNL表达式写法：user.username<br> 那么，mybatis中为什么能直接写username,而不用user呢？因为在parameterType中已经提供了属性所属的类，所以此时不需要写对象名</font></p> 
<p><font size="2" face="宋体" color="336666">③ pojo包装对象</font></p> 
<p><font size="2" face="宋体">开发中通过pojo传递查询条件，查询条件是综合的查询条件，不仅包括用户查询条件还包括其他的查询条件（比如将用户购买商品消息也作为查询条件），这时可以使用包装对象传递输入pojo类参数中包含pojo</font></p> 
<p><font size="3" face="宋体" color="黑体"><span id="shuruleixing">resultType（输出类型）</span></font></p> 
<p><font size="2" face="宋体">可输出的类型有四种：返回一般数据类型(单条)、JavaBean 类型(单条)、List类型(多条)、Map类型</font></p> 
<p><font size="2" face="宋体" color="336666">① 一般数据类型(单条)</font></p> 
<p><font size="2" face="宋体">比如要根据Id属性获得数据库中的某个字段值，示例：</font></p> 
<pre><code class="prism language-java"><span class="token comment">//**Mapper.java</span>
<span class="token class-name">String</span> <span class="token function">getStuNameById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--**Mapper.xml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getStuNameById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>string<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select username from t_student where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体" color="336666">② JavaBean 类型(单条)</font></p> 
<p><font size="2" face="宋体">比如根据某个字段获得数据库中的信息，把查询的结果信息封装成某个javaBean类型的数据，示例：</font></p> 
<pre><code class="prism language-java"><span class="token comment">//**Mapper.java</span>
<span class="token class-name">Student</span> <span class="token function">getStuById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--**Mapper.xml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getStuById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>student<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from t_student where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>	
</code></pre> 
<p><font size="2" face="宋体" color="336666">③ List类型(多条)</font></p> 
<p><font size="2" face="宋体">有时候开发者查询的数据不止一条，比如，模糊查询，全表查询等，这时候返回的数据可能不止一条数据，对于多数据的处理可以存放在List集合中，示例：</font></p> 
<pre><code class="prism language-java"><span class="token comment">//**Mapper.java</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllStus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--
**Mapper.xml
注意这里的 resultType 返回值类型是集合内存储数据的类型，不是 'list'
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getAllStus<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>student<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from t_student
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">④ Map类型</font></p> 
<p><font size="2" face="宋体">mybatis支持将查询的数据封装成Map，如果查询的结果是一条，开发者可以把查询的数据以(表字段名，对应的值)方式存入到map中，示例：</font></p> 
<pre><code class="prism language-java"><span class="token comment">//**Mapper.java</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getStuAsMapById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- 
**Mapper.xml
注意这里的 resultType 返回值类型是 'map'
--&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getStuAsMapById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from t_student where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="3" face="宋体">如果查询的结果是多条数据，我们也可以把查询的数据以{表中某一字段名, JavaBean}方式来封装成Map</font></p> 
<p><font size="2" face="宋体">①mapper(dao)接口</font></p> 
<pre><code class="prism language-java"><span class="token comment">// 查询所有学生的信息，把数据库中的 'id' 字段作为 key,对应的 value 封装成 Student 对象</span>
<span class="token comment">// @MapKey 中的值表示用数据库中的哪个字段名作 key</span>
<span class="token annotation punctuation">@MapKey</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllStusAsMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">②Mapper.xml 映射文件</font></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--注意 resultType 返回值类型，不再是 'map'，而是 Map 的 value 对应的 JavaBean 类型--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getAllStusAsMap<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>student<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from t_student
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="3" face="宋体">返回map集合时返回的类型是List&lt;Map&lt;String, Object&gt;&gt;</font></p> 
<p><font size="2" face="宋体">①mapper(dao)接口</font></p> 
<pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllStuAsMapById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><font size="2" face="宋体">②Mapper.xml 映射文件</font></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--查询多条--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getAllStuAsMapById<span class="token punctuation">"</span></span>  <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from usr
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>	
</code></pre> 
<p><font size="3" face="宋体" color="黑体"><span id="yinshe">resultMap（映射实体类）</span></font></p> 
<p><font size="2" face="宋体">实体类属性名和表中字段名不一样时，无法映射到值，输出为Null。</font></p> 
<p><font size="2" face="宋体">这是因为mybatis会根据这些从数据库中查询到的列名，将列名转化为小写(数据库不区分大小写)去对应实体类中查询相应列名的set方法设值，由于找不到setUserName()，所以会返回Null值。</font></p> 
<p><font size="2" face="宋体">解决方案有两种：<br> 第1种：通过在查询的SQL语句中定义字段名的别名，让字段名的别名和实体类的属性名一致。</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getOrder<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.jourwon.pojo.Order<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       select order_id id, order_no orderno ,order_price price form orders where order_id=#{id};
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="2" face="宋体">第2种：通过resultMap 中的<code>&lt;result&gt;</code>来映射字段名和实体类属性名的一一对应的关系。</font></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getOrder<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>int<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orderResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 select * from orders where order_id=#{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.jourwon.pojo.Order<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orderResultMap<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!–用id属性来映射主键字段–</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!–用result属性来映射非主键字段，property为实体类属性名，column为数据库表中的属性–</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orderno<span class="token punctuation">"</span></span> <span class="token attr-name">column</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_no<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>price<span class="token punctuation">"</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_price<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reslutMap</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><font size="3" face="宋体">resultMap 属性全内容如下：</font></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--column不做限制，可以为任意表的字段，而property须为type 定义的pojo属性--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!--设置主键时使用，使用此标签配置映射关系(可能不止一个) --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span>  <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token comment">&lt;!-- 集合中的property须为oftype定义的pojo对象的属性--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pojo的集合属性<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>集合中的pojo对象<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>集合中pojo对象对应的表的主键字段<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>字段类型<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>集合中pojo对象的主键属性<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>可以为任意表的字段<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>字段类型<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>集合中的pojo对象的属性<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>	
</code></pre> 
<p><font size="3" face="宋体">接下来对各标签属性进行简单介绍：</font></p> 
<p><font size="3" face="宋体">1）resultMap 标签</font></p> 
<p><font size="3" face="宋体">type属性：指开发者需要映射到的类对象</font></p> 
<p><font size="3" face="宋体">id属性：表示reslutMap在select标签中使用时，id的名称</font></p> 
<p><font size="3" face="宋体">2）id标签</font></p> 
<pre><code class="prism language-java">	方案一 <span class="token operator">--</span><span class="token operator">&gt;</span>为列名指定别名，别名和<span class="token class-name">Java</span>实体类的属性名一致 

		 <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"findAll"</span>  resultType<span class="token operator">=</span><span class="token string">"user"</span><span class="token operator">&gt;</span>
		      select id<span class="token punctuation">,</span>username as usernames from usr <span class="token punctuation">;</span>
		 <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>	

	方案二 <span class="token operator">--</span><span class="token operator">&gt;</span> 使用结果集映射<span class="token class-name">ResultMap</span> <span class="token punctuation">[</span>推荐<span class="token punctuation">]</span>

		<span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">"UserMap"</span> type<span class="token operator">=</span><span class="token string">"User"</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>id为主键<span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>id column<span class="token operator">=</span><span class="token string">"id"</span> property<span class="token operator">=</span><span class="token string">"id"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>column 是数据库表的名称，property是对应实体类的属性名<span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>result column<span class="token operator">=</span><span class="token string">"username"</span> property<span class="token operator">=</span><span class="token string">"usernames"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
	
		<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>查询所有<span class="token operator">--</span><span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"findAll"</span>  resultMap<span class="token operator">=</span><span class="token string">"UserMap"</span><span class="token operator">&gt;</span>
	      select id<span class="token punctuation">,</span>username  from usr <span class="token punctuation">;</span>
	    <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>

	<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>标签描述<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>


	<span class="token operator">--</span><span class="token operator">&gt;</span> 
		
		column   <span class="token operator">--</span><span class="token operator">&gt;</span> 表的主键字段<span class="token punctuation">,</span>或者可以为查询语句中的别名字段
		jdbcType <span class="token operator">--</span><span class="token operator">&gt;</span> 字段类型
		property <span class="token operator">--</span><span class="token operator">&gt;</span> 映射pojo对象的主键属性
	
	result标签 <span class="token operator">--</span><span class="token operator">&gt;</span> 属性用于配置映射关系时使用

		column   <span class="token operator">--</span><span class="token operator">&gt;</span> 表的一个字段（可以为任意表的一个字段）
		jdbcType <span class="token operator">--</span><span class="token operator">&gt;</span> 字段类型
		property <span class="token operator">--</span><span class="token operator">&gt;</span> 映射到pojo对象的一个属性（须为type定义的pojo对象中的一个属性）

	association标签 <span class="token operator">--</span><span class="token operator">&gt;</span> 

		property <span class="token operator">--</span><span class="token operator">&gt;</span> pojo的一个对象属性
		javaType <span class="token operator">--</span><span class="token operator">&gt;</span> pojo关联的pojo对象

		id标签<span class="token operator">--</span><span class="token operator">&gt;</span> 
		
			column   <span class="token operator">--</span><span class="token operator">&gt;</span> 关联pojo对象对应表的主键字段
			jdbcType <span class="token operator">--</span><span class="token operator">&gt;</span> 字段类型
			property <span class="token operator">--</span><span class="token operator">&gt;</span> 关联pojo对象的主席属性	

		result标签 <span class="token operator">--</span><span class="token operator">&gt;</span>
		
			column   <span class="token operator">--</span><span class="token operator">&gt;</span> 任意表的字段
			jdbcType <span class="token operator">--</span><span class="token operator">&gt;</span> 字段类型
			property <span class="token operator">--</span><span class="token operator">&gt;</span> 关联pojo对象的属性
						
		select   <span class="token operator">--</span><span class="token operator">&gt;</span>表示所需要的哪个类的查询语句
		column   <span class="token operator">--</span><span class="token operator">&gt;</span>从resultMap中传过去用作查询参数
		ofType   <span class="token operator">--</span><span class="token operator">&gt;</span>集合属性中的对象<span class="token punctuation">(</span>可以不写<span class="token punctuation">)</span>

	collection标签 <span class="token operator">--</span><span class="token operator">&gt;</span>
	
		property <span class="token operator">--</span><span class="token operator">&gt;</span> 表示pojo类集合中的属性
		select   <span class="token operator">--</span><span class="token operator">&gt;</span>表示所需要的哪个类的查询语句
		column   <span class="token operator">--</span><span class="token operator">&gt;</span>从resultMap中传过去用作查询的参数
		ofType   <span class="token operator">--</span><span class="token operator">&gt;</span>集合属性中的对象<span class="token punctuation">(</span>可以不写<span class="token punctuation">)</span>

	<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>标签细节<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>

	id <span class="token operator">&amp;</span> result

		示例

			<span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">"id"</span> column<span class="token operator">=</span><span class="token string">"post_id"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"subject"</span> column<span class="token operator">=</span><span class="token string">"post_subject"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

		含义
		
			这些是结果映射最基本的内容，id和result都将一个列的值映射到一个简单的数据类型

			的属性或字段。这两者之间的唯一不同是，id表示的结果将是对象的标识属性，这些在

			比较对象实例时用到，这样可以提高整体的性能，尤其是缓存和嵌套结果映射的时候
	```

<span class="token operator">&gt;</span><span class="token operator">&lt;</span>font color<span class="token operator">=</span>black  size<span class="token operator">=</span><span class="token number">3</span> face <span class="token operator">=</span>宋体<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span id <span class="token operator">=</span> <span class="token string">"dongtaisql"</span> <span class="token operator">&gt;</span>mybatis动态SQL<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>font face <span class="token operator">=</span> <span class="token string">"宋体"</span> size <span class="token operator">=</span><span class="token number">2</span><span class="token operator">&gt;</span>动态sql根据不同的条件生成不同的sql语句<span class="token punctuation">.</span>所谓的动态sql，本质还是sql语句，只是开发者可以在sql层面，去执行一个逻辑代码，现在编写一个mapper接口用于测试：

```java
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryUser</span><span class="token punctuation">(</span><span class="token class-name">Map</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="dongtaisql">mybatis动态SQL</span></font></p> 
</blockquote> 
<ol><li> <p><font size="2" face="宋体" color="黑体">if标签语句示例：</font></p> <p><font size="2" face="宋体">if标签会执行所有的if标签，并进行条件判断，满足的部分进行sql拼接</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      
	  select * from usr where 1=1
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>      
	      and id =#{id}  
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
	      and username = #{username}
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">where标签语句示例：</font></p> <p><font size="2" face="宋体">动态拼接where(并且会智能的去掉第一个语句的and或者or)</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!-- where 元素只会在至少有一个子元素的条件返回sql子句的情况下，才去插入"where" 子句--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   
	  select * from usr  
		  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
			  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
			      id =#{id}
			  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
			  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
			      and username = #{username}
			  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
		  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">choose,when,otherwise标签语句示例：</font></p> <p><font size="2" face="宋体">不会执行所有的when语句，遇到满足的条件，后面的when语句不会执行,otherwise可以不写</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!--
	有时不想应用到所有的条件语句，而只想从中择其一项，针对这种情况，Mybatis提供了choose元素
	它有点像java中的switch语句 
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	  select * from usr
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
	      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
	              id =#{id}
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username != null<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
	              and username = #{username}
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
	              and id= 4
	          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
	      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">set 标签语句示例：</font></p> <p><font size="2" face="宋体">用于更新操作(并且会智能的去掉最后一个语句后面的逗号)</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!--
	这里set元素会动态前置set关键字，同时也会删除掉无关的逗号
	因为用了条件语句之后很可能就会生成的sql后面留下这些逗号
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updatePwd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    update public."user"
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>name=#{name},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pwd !=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>pwd=#{pwd},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id!=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>id=#{id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name!=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>name=#{name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>	
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">foreach 标签语句示例：</font></p> <p><font size="2" face="宋体">collection 表示迭代集合的名称，可以使用@Param注解指定，如下所示 该参数为必选</font></p> <p><font size="2" face="宋体">item 表示本次迭代获取的元素，若collection为List、Set或者数组，则表示其中的元素； 若collection为map，则代表key-value的value，该参数为必选</font></p> <p><font size="2" face="宋体">open 表示该语句以什么开始，最常用的是左括弧’(’，注意:mybatis会将该字符拼接到整体的sql语句之前，并且只拼接一次，该参数为可选项</font></p> <p><font size="2" face="宋体">close 表示该语句以什么结束，最常用的是右括弧’)’，注意:mybatis会将该字符拼接到整体的sql语句之后，该参数为可选项</font></p> <p><font size="2" face="宋体">separator mybatis会在每次迭代后给sql语句append上separator属性指定的字符，该参数为可选项</font></p> <p><font size="2" face="宋体">index 在list、Set和数组中,index表示当前迭代的位置，在map中，index代指是元素的key，该参数是可选项。</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!--
第一步:迭代集合，获取对应的item，和外部的()，拼接形成('zhangsan')
第二步:在之前的基础上拼接上逗号分隔符（'zhangsan'）,
第三步:继续迭代并拼接逗号 （'zhangsan'）,（'lisi'）,
第四步:继续迭代并拼接逗号 （'zhangsan'）,（'lisi'）,（'wangwu'）
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>,<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	（#{item}）
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>


<span class="token comment">&lt;!--
第一步:拼接open指定的开始字符 (
第二步:迭代集合，拼接对应的item, ('zhangsan'
第三步:拼接separator指定的分隔符 ('zhangsan',
第四步:迭代集合，拼接对应的item, ('zhangsan','lisi'
第五步：拼接separator指定的分隔符('zhangsan','lisi',
第六步：拼接close指定的闭合字符  ('zhangsan','lisi','wangwu') 
 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(<span class="token punctuation">"</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>,<span class="token punctuation">"</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	#{item}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">sql片段标签语句示例：</font></p> <p><font size="2" face="宋体">在mapper.xml中有些sql片段，在多个sql语句中都有用，每个都写的话显得代码冗余，可以用到代码片段，将公共部分抽取出来<br> 注意点：最好基于单表定义sql片段，并且sql片段中不要存在where标签，因为where标签会自动优化sql中的and和or</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>choose-when-id-name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id!=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>id=#{id}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name!=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>name=#{name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updatePwd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    update public."user"
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name !=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>name=#{name},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pwd !=null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>pwd=#{pwd},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>choose-when-id-name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">trim标签语句示例：</font></p> <p><font size="2" face="宋体">trim标记是一个格式化的标记，可以完成set或者是where标记的功能</font></p> <p><font size="2" face="宋体">①用 trim 改写上面的 if+where 语句</font></p> <p><font size="2" face="宋体">prefix：前缀<br> prefixoverride：去掉第一个and或者是or</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUserByUsernameAndSex<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.harvey.java01.entity.User<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    select * from user
    <span class="token comment">&lt;!-- &lt;where&gt;
            &lt;if test="username != null"&gt;
               username=#{username}
            &lt;/if&gt;

            &lt;if test="sex != null"&gt;
               and sex=#{sex}
            &lt;/if&gt;
        &lt;/where&gt;  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>where<span class="token punctuation">"</span></span> <span class="token attr-name">prefixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>and | or<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username != null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            and username=#{username}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex != null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            and sex=#{sex}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><font size="2" face="宋体">②用 trim 改写上面的 if+set 语句</font></p> <p><font size="2" face="宋体">suffix：后缀<br> <font size="2" face="宋体">suffixoverride：去掉最后一个逗号（也可以是其他的标记，就像是上面前缀中的and一样）</font></font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!-- 根据 id 更新 user 表的数据 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateUserById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ys.po.User<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    update user u
        <span class="token comment">&lt;!-- &lt;set&gt;
                &lt;if test="username != null and username != ''"&gt;
                    u.username = #{username},
                &lt;/if&gt;
                &lt;if test="sex != null and sex != ''"&gt;
                    u.sex = #{sex}
                &lt;/if&gt;
            &lt;/set&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>set<span class="token punctuation">"</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>,<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username != null and username != <span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            u.username = #{username},
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex != null and sex != <span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            u.sex = #{sex},
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>

    where id=#{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ol> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="onefy">mybatis分页</span></font></p> 
</blockquote> 
<p><font size="2" face="宋体">mybatis分页可以减少数据的处理量，分页的方式有两种：limit分页、PageHelper分页插件</font></p> 
<ol><li> <p><font size="2" face="宋体" color="黑体">limit分页方式</font></p> <p><font size="2" face="宋体">①编写xxMapper.java:</font></p> <pre><code class="prism language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserByLimit</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <p><font size="2" face="宋体">②编写xxMapper.xml:</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getUserByLimit<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	select * from usr limit #{currIndex},#{pageSize}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><font size="2" face="宋体">③编写测试service层:</font></p> <pre><code class="prism language-java"><span class="token comment">//接口</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Usr</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryUserBySql</span><span class="token punctuation">(</span><span class="token keyword">int</span> currPage<span class="token punctuation">,</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//实现类</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryUserBySql</span><span class="token punctuation">(</span><span class="token keyword">int</span> currPage<span class="token punctuation">,</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashedMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"currIndex"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>currPage<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"pageSize"</span><span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> xxMapper<span class="token punctuation">.</span><span class="token function">getUserByLimit</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p><font size="2" face="宋体" color="黑体">PageHelper分页插件</font></p> <p><font size="2" face="宋体">导入maven坐标（由于使用了sql 解析工具，所以maven也引入了 jsqlparser.jar）</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>	
</code></pre> <p><font size="2" face="宋体">配置mybatis-config.xml拦截器插件</font></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>		
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.github.pagehelper.PageHelper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>	    
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialect<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>	        
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><font size="2" color="grey">[注]配置拦截器时要知道新版拦截器是 com.github.pagehelper.PageInterceptor，而com.github.pagehelper.PageHelper 现在是一个特殊的 dialect 实现类，是分页插件的默认实现类，提供了和以前相同的用法。</font></p> <p><font size="2" color="grey">设置数据库类型时有 Oracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQL 六种数据库。</font></p> <p><font size="2" color="grey">dialect默认情况下会使用 PageHelper 方式进行分页</font></p> 
  <ol><li> <p><font size="3" face="宋体">PageHelper分页插件</font></p> <p><font size="3" face="楷体" color="orange">测试方法<br> <img src="https://images2.imgbox.com/a2/3f/hDxiDtNm_o.png" alt="在这里插入图片描述"></font></p> <p><font size="2" color="grey">[注]<br> a.只有紧跟在PageHelper.startPage方法后的第一个Mybatis的查询（Select）方法会被分页<br> b.对于带有for update的sql，会抛出运行时异常，对于这样的sql建议手动分页，毕 竟这样的sql需要重视<br> c.分页插件不支持嵌套结果映射，由于嵌套结果方式会导致结果集被折叠，因此分页查询 的结果在折叠后总数会减少，所以无法保证分页结果数量正确。</font></p> </li></ol> </li></ol> 
<blockquote> 
 <p><font size="3" face="宋体" color="black"><span id="onenx">mybatis逆向工程</span></font></p> 
</blockquote> 
<p><font size="3" face="宋体">MyBatis Generator(简称MBG)，如果实际开发中数据库的表特别多，那么我们需要手动去写每一张表的po类，xxxMapper.xml，xxxMapper.java文件，这显然需要花费巨大的精力，而且可能由于表字段太多，写错了而不知道也是可能的。<br> 所以我们在实际开发中，一般使用逆向工程方式来自动生成所需的文件。</font></p> 
<p><font size="3" face="宋体">mybatis是目前很流行的持久层框架，其逆向工程更是大大缩减了我们的开发时间。所谓mybatis逆向工程，就是mybatis通过相应插件，根据我们设计好的数据表，针对单表自动生成pojo、mapper以及mapper.xml。</font></p> 
<p><font size="3" face="宋体">插件名称是mybatis-generator-core，获取可直接在<a href="https://mvnrepository.com/" rel="nofollow">https://mvnrepository.com/</a>搜索 mybatis ,找到 MyBatis Generator Core</font></p> 
<p><font size="3" face="宋体">插件的使用流程如下：</font></p> 
<ol><li> <p><font size="3" face="宋体">添加maven依赖</font></p> <pre><code class="prism language-xml"><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.generator/mybatis-generator-core --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>			
</code></pre> </li><li> <p><font size="3" face="宋体">新增generatorConfig.xml文件</font></p> <p><font size="3" face="宋体">a.连接数据库的配置，包括数据名称，数据库用户名密码等配置</font></p> <p><font size="3" face="宋体">b.指定要生成代码的包名，包括实体类po的包名，mapper的包名等</font></p> <p><font size="3" face="宋体">c.指定数据库中哪些表需要生成文件</font></p> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">generatorConfiguration</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span> <span class="token string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  &lt;properties resource="mybatis.properties" /&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msqlTables<span class="token punctuation">"</span></span> <span class="token attr-name">targetRuntime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MyBatis3<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 生成的Java文件的编码 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javaFileEncoding<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 格式化java代码 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javaFormatter<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.api.dom.DefaultJavaFormatter<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 格式化XML代码 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xmlFormatter<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.api.dom.DefaultXmlFormatter<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.plugins.SerializablePlugin<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 一定要这枚配置命名规则，否则 EnumSupportPlugin会有问题 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.plugins.RenameExampleClassPlugin<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchString<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Example$<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>replaceString<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Criteria<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commentGenerator</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suppressAllComments<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suppressDate<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commentGenerator</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbcConnection</span> <span class="token attr-name">connectionURL</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/db1?useUnicode=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>characterEncoding=UTF-8<span class="token entity named-entity" title="&amp;">&amp;amp;</span>autoReconnect=true<span class="token punctuation">"</span></span>
                        <span class="token attr-name">driverClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span> <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token attr-name">userId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nullCatalogMeansCurrent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!--设置可以获取tables remarks信息--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>useInformationSchema<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!--设置可以获取remarks信息--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>remarks<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbcConnection</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--java类型处理器 用于处理DB中的类型到Java中的类型，默认使用JavaTypeResolverDefaultImpl--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaTypeResolver</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.generator.internal.types.JavaTypeResolverDefaultImpl<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 默认false，把JDBC DECIMAL 和 NUMERIC 类型解析为 Integer，为 true时把JDBC DECIMAL和NUMERIC类型解析为java.math.BigDecimal --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>forceBigDecimals<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaTypeResolver</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--
            targetPackage：生成的类要放的包，真实的包受enableSubPackages属性控制；
            targetProject：目标项目，指定一个存在的目录下，生成的内容会放到指定目录中，如果目录不存在，MBG不会自动建目录
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.unfair.db.model<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- for MyBatis3/MyBatis3Simple 自动为每一个生成的类创建一个构造方法，构造方法包含了所有的field；而不是使用setter； --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>constructorBased<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 从数据库返回的值被清理前后的空格  --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trimStrings<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaModelGenerator</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- targetProject:mapper映射文件生成的位置，重要！！ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.unfair.db.mapper<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sqlMapGenerator</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- targetPackage：mapper接口生成的位置，重要！！ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>XMLMAPPER<span class="token punctuation">"</span></span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.unfair.db.dao<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- enableSubPackages:是否让schema作为包的后缀 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaClientGenerator</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 指定数据库表，要生成哪些表，就写哪些表，要和数据库中对应，不能写错！ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usr<span class="token punctuation">"</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>User<span class="token punctuation">"</span></span>
               <span class="token attr-name">enableCountByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
               <span class="token attr-name">enableUpdateByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
               <span class="token attr-name">enableDeleteByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
               <span class="token attr-name">enableSelectByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
               <span class="token attr-name">selectByExampleQueryId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--
            useActualColumnNames用于指定生成实体类时是否使用实际的列名作为实体类的属性名。取值true或false:
            true :  MyBatis Generator会使用数据库中实际的字段名字作为生成的实体类的属性名。
            false : 这是默认值。如果设置为false,则MyBatis Generator会将数据库中实际的字段名字转换为Camel Case风格作为生成的实体类的属性名。
            如果明确的使用columnOverride元素指定了字段对应的实体的属性名,那么useActualColumnNames会被忽略。
            --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>useActualColumnNames<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ol start="3"><li> <p><font size="3" color="bluie">自定义生成的文件名字</font></p> <pre><code class="prism language-java">含义

	把 <span class="token class-name">MyBatisGenerator</span>  生成的 dao、model、mapper的文件 的后缀名进行更改
	比如 ， dao文件 “<span class="token class-name">BrandMapper</span><span class="token punctuation">.</span>java”  改成  “<span class="token class-name">BrandDao</span><span class="token punctuation">.</span>java”

配置内容

	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 此处是将<span class="token class-name">Example</span>改名为<span class="token class-name">Criteria</span> 当然 想改成什么都行<span class="token operator">~</span>    <span class="token operator">--</span><span class="token operator">&gt;</span>      
	<span class="token operator">&lt;</span>plugin type<span class="token operator">=</span><span class="token string">"org.mybatis.generator.plugins.RenameExampleClassPlugin"</span><span class="token operator">&gt;</span>  
			<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"searchString"</span> value<span class="token operator">=</span><span class="token string">"Example$"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 替换后<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"replaceString"</span> value<span class="token operator">=</span><span class="token string">"Criteria"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"replaceString"</span> value<span class="token operator">=</span><span class="token string">"Query"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>  
			
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 此处是将<span class="token class-name">UserMapper</span><span class="token punctuation">.</span>xml改名为<span class="token class-name">UserDao</span><span class="token punctuation">.</span>xml 当然 想改成什么都行<span class="token operator">~</span> <span class="token operator">--</span><span class="token operator">&gt;</span>        
	<span class="token operator">&lt;</span>plugin type<span class="token operator">=</span><span class="token string">"org.mybatis.generator.plugins.rename.RenameSqlMapperPlugin"</span><span class="token operator">&gt;</span>  
			 <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"searchString"</span> value<span class="token operator">=</span><span class="token string">"Mapper"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			 <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"replaceString"</span> value<span class="token operator">=</span><span class="token string">"Dao"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>  
			 
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 此处是将<span class="token class-name">UserMapper</span>改名为<span class="token class-name">UserDao</span> 接口 当然 想改成什么都行<span class="token operator">~</span>  <span class="token operator">--</span><span class="token operator">&gt;</span>        
	<span class="token operator">&lt;</span>plugin type<span class="token operator">=</span><span class="token string">"org.mybatis.generator.plugins.rename.RenameJavaMapperPlugin"</span><span class="token operator">&gt;</span>  
			 <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"searchString"</span> value<span class="token operator">=</span><span class="token string">"Mapper$"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
			 <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"replaceString"</span> value<span class="token operator">=</span><span class="token string">"Dao"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>

注意点

	<span class="token class-name">RenameExampleClassPlugin</span>、<span class="token class-name">RenameSqlMapperPlugin</span>、<span class="token class-name">RenameJavaMapperPlugin</span>

	这三个插件中 <span class="token class-name">RenameExampleClassPlugin</span>这个插件是  org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator 自带的 ，

	其他两个（<span class="token class-name">RenameSqlMapperPlugin</span>、<span class="token class-name">RenameJavaMapperPlugin</span>） 

	得根据 “<span class="token class-name">RenameExampleClassPlugin</span>” 这个例子自己写一下 ， 

	放到“src\main\java” 目录下。				
</code></pre> </li><li> <p><font size="3" color="bluie">执行generatorConfig.xml文件，生成代码</font></p> <pre><code class="prism language-java">方式

　　【方式一】java代码

　　【方式二】安装插件	

注意点

	使用逆向工程时，最好新建一个工程，如果你在原来的工程中使用，那也可以，

	但是有一定的风险，因为mybatis是根据配置文件中配置的路径来生成的文件的，

	如果你工程中有相同名字的文件，那么就会被新生成的文件所覆盖。所以实际开发中，

	我们一般新建一个工程，将生成的文件复制到自己的所需的工程中。			
</code></pre> 
    <ol><li> <p><font size="3" color="bluiz">【方式一】java代码</font></p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>etc<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">MyBatisGenerator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>xml<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationParser</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>internal<span class="token punctuation">.</span></span><span class="token class-name">DefaultShellCallback</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GeneratorTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> warnings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> overwrite <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//指定逆向工程配置文件</span>
        <span class="token class-name">File</span> configFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token class-name">GeneratorTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"/generatorConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConfigurationParser</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigurationParser</span><span class="token punctuation">(</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Configuration</span> config <span class="token operator">=</span> cp<span class="token punctuation">.</span><span class="token function">parseConfiguration</span><span class="token punctuation">(</span>configFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DefaultShellCallback</span> callback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultShellCallback</span><span class="token punctuation">(</span>overwrite<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyBatisGenerator</span> myBatisGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyBatisGenerator</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span>callback<span class="token punctuation">,</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        myBatisGenerator<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">GeneratorTest</span> generator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GeneratorTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        generator<span class="token punctuation">.</span><span class="token function">testGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>	
</code></pre> <p><img src="https://images2.imgbox.com/5e/ae/hQEOv7E5_o.png" alt="在这里插入图片描述"></p> </li><li> <p><font size="3" color="bluiz">【方式二】安装插件</font></p> <pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>build<span class="token punctuation">&gt;</span></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>plugins<span class="token punctuation">&gt;</span></span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自动生成mybatis配置文件 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token generics"><span class="token punctuation">&lt;</span>plugin<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>generator<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">-</span>generator<span class="token operator">-</span>maven<span class="token operator">-</span>plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.3</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
          <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{<!-- --></span>mysql<span class="token punctuation">.</span>version<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
          <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>slf4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>log4j<span class="token operator">-</span>over<span class="token operator">-</span>slf4j<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.7</span><span class="token number">.25</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>exclusions<span class="token punctuation">&gt;</span></span>
              <span class="token generics"><span class="token punctuation">&lt;</span>exclusion<span class="token punctuation">&gt;</span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>slf4j<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>slf4j<span class="token operator">-</span>api<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>exclusion<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>exclusions<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>configuration<span class="token punctuation">&gt;</span></span>
          <span class="token generics"><span class="token punctuation">&lt;</span>configurationFile<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{<!-- --></span>basedir<span class="token punctuation">}</span><span class="token operator">/</span>src<span class="token operator">/</span>generate<span class="token operator">/</span>generatorConfig<span class="token punctuation">.</span>xml<span class="token operator">&lt;</span><span class="token operator">/</span>configurationFile<span class="token operator">&gt;</span>
          <span class="token generics"><span class="token punctuation">&lt;</span>verbose<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>verbose<span class="token operator">&gt;</span>
          <span class="token generics"><span class="token punctuation">&lt;</span>overwrite<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>overwrite<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>configuration<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>plugins<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>build<span class="token operator">&gt;</span>
</code></pre> <pre><code class="prism language-java">	点击菜单run中<span class="token class-name">Configurations</span><span class="token punctuation">(</span>图<span class="token punctuation">)</span>

	点击加号，并选择<span class="token function">maven</span><span class="token punctuation">(</span>图<span class="token punctuation">)</span>

	在name和<span class="token class-name">Commond</span> line分别填上如上图所示，apply和<span class="token function">ok</span><span class="token punctuation">(</span>图<span class="token punctuation">)</span>

	点击如下运行<span class="token punctuation">(</span>图<span class="token punctuation">)</span>
	
	生成示例<span class="token punctuation">(</span>图<span class="token punctuation">)</span>	
</code></pre> <p><img src="https://images2.imgbox.com/28/bf/a65iOXVT_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/d4/b5/lcFeUx73_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/10/46/45Q5pSGE_o.png" alt="在这里插入图片描述"></p> </li></ol> </li></ol> </li><li> <p><font size="3" color="blue">XxxExample类的使用</font></p> 
  <ol><li> <p><font size="3" color="bluie">含义</font></p> <pre><code class="prism language-java">mybatis的逆向工程中会生成实例及实例对应的example，

这个类是专门用来对单表查询的类，即该类相当where后面的部分 

对该单表的CURD操作是脱离sql性质的

<span class="token punctuation">(</span>已经通过逆向工程生成相应的sql<span class="token punctuation">)</span>，直接在service层就可以完成相应操作。

 逆向工程生成的文件<span class="token class-name">XxxExample</span><span class="token punctuation">.</span>java中包含一个<span class="token keyword">static</span> 的内部类 <span class="token class-name">Criteria</span> ，

在<span class="token class-name">Criteria</span>中有很多方法，主要是定义SQL 语句where后的查询条件。
</code></pre> <p><img src="https://images2.imgbox.com/6d/cb/xNfgmDoa_o.png" alt="在这里插入图片描述"><br> <font size="2" color="green">注意 : 图片中userCriteria未进行自定义名称前，名称是userExample</font></p> </li><li> <p><font size="3" color="bluie">三个成员变量</font></p> <pre><code class="prism language-java"><span class="token punctuation">(</span>打开一个<span class="token class-name">Example</span>类我们会看到该类的三个成员变量<span class="token punctuation">)</span>

orderByClause		字段用于指定ORDER BY条件<span class="token punctuation">,</span>这个条件没有构造方法<span class="token punctuation">,</span>直接通过传递字符串值指定。

distinct			字段用于指定DISTINCT查询。
	
oredCriteria		字段用于自定义查询条件。	

赋值<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>

<span class="token keyword">new</span> <span class="token function">xxxExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOrderByClause</span><span class="token punctuation">(</span>“字段名 ASC”<span class="token punctuation">)</span><span class="token punctuation">;</span>		添加升序排列条件，DESC为降序

<span class="token keyword">new</span> <span class="token function">xxxExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setDistinct</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>				去除重复，<span class="token keyword">boolean</span>型，<span class="token boolean">true</span>为选择不重复的记录。			
</code></pre> </li><li> <p><font size="3" color="bluie">内部类Criteria</font></p> <pre><code class="prism language-java">含义

	在mybatis逆向工程生成的<span class="token class-name">XxxExample</span>中，包含一个<span class="token keyword">static</span>的内部类<span class="token class-name">Criteria</span>，，

	<span class="token class-name">Criteria</span>中的方法是定义SQL 语句where后的查询条件。

创建

	<span class="token class-name">Criteria</span> criteria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">xxxExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

方法

	criteria<span class="token punctuation">.</span>andXxxIsNull				添加字段xxx为<span class="token keyword">null</span>的条件	

	criteria<span class="token punctuation">.</span>andXxxIsNotNull			添加字段xxx不为<span class="token keyword">null</span>的条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxEqualTo</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>		添加xxx字段等于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxNotEqualTo</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>	添加xxx字段不等于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxGreaterThan</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>	添加xxx字段大于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxGreaterThanOrEqualTo</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
										添加xxx字段大于等于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxLessThan</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>		添加xxx字段小于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxLessThanOrEqualTo</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>	
										添加xxx字段小于等于value条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxIn</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token operator">&lt;</span>？<span class="token operator">&gt;</span><span class="token punctuation">)</span> 		添加xxx字段值在<span class="token class-name">List</span><span class="token operator">&lt;</span>？<span class="token operator">&gt;</span>条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxNotIn</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token operator">&lt;</span>？<span class="token operator">&gt;</span><span class="token punctuation">)</span> 		添加xxx字段值不在<span class="token class-name">List</span><span class="token operator">&lt;</span>？<span class="token operator">&gt;</span>条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxLike</span><span class="token punctuation">(</span>“<span class="token operator">%</span>”<span class="token operator">+</span>value<span class="token operator">+</span>”<span class="token operator">%</span>”<span class="token punctuation">)</span> 
										添加xxx字段值为value的模糊查询条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxNotLike</span><span class="token punctuation">(</span>“<span class="token operator">%</span>”<span class="token operator">+</span>value<span class="token operator">+</span>”<span class="token operator">%</span>”<span class="token punctuation">)</span> 	
										添加xxx字段值不为value的模糊查询条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxBetween</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span>value2<span class="token punctuation">)</span> 	
										添加xxx字段值在value1和value2之间条件

	criteria<span class="token punctuation">.</span><span class="token function">andXxxNotBetween</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span>value2<span class="token punctuation">)</span> 	
										添加xxx字段值不在value1和value2之间条件
</code></pre> </li><li> <p><font size="3" color="bluie">mapper接口方法</font></p> <pre><code class="prism language-java"><span class="token keyword">int</span> <span class="token function">countByExample</span><span class="token punctuation">(</span><span class="token class-name">UserExample</span> example<span class="token punctuation">)</span> 		按条件计数

<span class="token keyword">int</span> <span class="token function">deleteByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span>  			按主键删除

<span class="token keyword">int</span> <span class="token function">deleteByExample</span><span class="token punctuation">(</span><span class="token class-name">UserExample</span> example<span class="token punctuation">)</span> 		按条件查询
																										
<span class="token class-name">String</span><span class="token operator">/</span><span class="token class-name">Integer</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">)</span> 				插入数据（返回值为ID）

<span class="token class-name">User</span> <span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span>				按主键查询
																										
<span class="token class-name">List</span> <span class="token function">selectByExample</span><span class="token punctuation">(</span><span class="token class-name">UserExample</span> example<span class="token punctuation">)</span> 		按条件查询

<span class="token class-name">List</span> <span class="token function">selectByExampleWithBLOGs</span><span class="token punctuation">(</span><span class="token class-name">UserExample</span> example<span class="token punctuation">)</span> 
												按条件查询（包括BLOB字段）。只有当数据表中的字段类型有为二进制的才会产生。
												
<span class="token keyword">int</span> <span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">)</span>	 			按主键更新

<span class="token keyword">int</span> <span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">)</span>  	按主键更新值不为<span class="token keyword">null</span>的字段

<span class="token keyword">int</span> <span class="token function">updateByExample</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">,</span> <span class="token class-name">UserExample</span> example<span class="token punctuation">)</span>
												按条件更新
												
<span class="token keyword">int</span> <span class="token function">updateByExampleSelective</span><span class="token punctuation">(</span><span class="token class-name">User</span> <span class="token keyword">record</span><span class="token punctuation">,</span> <span class="token class-name">UserExample</span> example<span class="token punctuation">)</span> 
												按条件更新值不为<span class="token keyword">null</span>的字段
</code></pre> </li><li> <p><font size="3" color="bluie">应用示例</font></p> <pre><code class="prism language-java">根据主键查询<span class="token operator">:</span>

		<span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

示例

		<span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">selectByPrimaryKey</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	

		<span class="token comment">//相当于select * from user where id = 100</span>
</code></pre> <pre><code class="prism language-java">根据where后条件查询

	<span class="token function">selectByExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

示例

	<span class="token class-name">UserCriteria</span> criteria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	criteria<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andUsernameEqualTo</span><span class="token punctuation">(</span><span class="token string">"wyw"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">andUsernameIsNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	criteria<span class="token punctuation">.</span><span class="token function">setOrderByClause</span><span class="token punctuation">(</span><span class="token string">"username asc,email desc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span>list <span class="token operator">=</span> <span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>criteria<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//相当于：select * from user where username = 'wyw' and  username is null order by username asc,email desc</span>
</code></pre> <p><font size="2" color="green">createCriteria()，创建查询条件</font></p> <pre><code class="prism language-java">插入

	<span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

示例

	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">"dsfgsdfgdsfgds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span>
	user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">"wyw@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//相当于：insert into user(ID,username,password,email) values ('dsfgsdfgdsfgds','admin','admin','wyw@126.com');</span>

</code></pre> <pre><code class="prism language-java">更新数据

	<span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

示例<span class="token number">1</span>
	
	<span class="token class-name">User</span> user <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">"dsfgsdfgdsfgds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"wyw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"wyw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">"wyw@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//相当于：update user set username='wyw', password='wyw', email='wyw@163.com' where id='dsfgsdfgdsfgds'		</span>

示例<span class="token number">2</span>

	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">"dsfgsdfgdsfgds"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"wyw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//相当于：update user set password='wyw' where id='dsfgsdfgdsfgds'		</span>
</code></pre> <pre><code class="prism language-java">复杂更新

	<span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

示例

	<span class="token class-name">UserCriteria</span> criteria <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	criteria <span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andUsernameEqualTo</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span>；
	
	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"wyw"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token class-name">XxxMapper</span><span class="token punctuation">.</span><span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//相当于：update user set password='wyw' where username='admin'		</span>
</code></pre> </li></ol> </li><li> <p><font size="3" color="blue">总结</font></p> <pre><code class="prism language-java">mybatis的逆向工程实现起来其实是非常简单的，但是在不同情况下，要特别注意文件路径的问题。

其中，<span class="token class-name">XxxExample</span><span class="token punctuation">.</span>java只能实现简单条件增删改查，复杂的功能还需要自己编写sql代码来实现。

注意，在配置文件中配置对应生成文件的所在目录时，最好使用绝对路径

（若不是用maven聚合搭建的项目则不用修改）	
</code></pre> </li><li> <p><font size="3" color="blue">完整配置</font></p> <pre><code class="prism language-java">	<span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE generatorConfiguration
	        PUBLIC <span class="token string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span>
	        <span class="token string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 配置生成器 <span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>generatorConfiguration<span class="token punctuation">&gt;</span></span>
	    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 可以用于加载配置项或者配置文件，在整个配置文件中就可以使用$<span class="token punctuation">{<!-- --></span>propertyKey<span class="token punctuation">}</span>的方式来引用配置项
	        resource：配置资源加载地址，使用resource，MBG从classpath开始找，比如com<span class="token operator">/</span>myproject<span class="token operator">/</span>generatorConfig<span class="token punctuation">.</span>properties
	        url：配置资源加载地质，使用URL的方式，比如file<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">//C:/myfolder/generatorConfig.properties.</span>
	        注意，两个属性只能选址一个<span class="token punctuation">;</span>
	 
	        另外，如果使用了mybatis<span class="token operator">-</span>generator<span class="token operator">-</span>maven<span class="token operator">-</span>plugin，那么在pom<span class="token punctuation">.</span>xml中定义的properties都可以直接在generatorConfig<span class="token punctuation">.</span>xml中使用
	    <span class="token operator">&lt;</span>properties resource<span class="token operator">=</span><span class="token string">""</span> url<span class="token operator">=</span><span class="token string">""</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	     <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在MBG工作的时候，需要额外加载的依赖包
	       location属性指明加载jar<span class="token operator">/</span>zip包的全路径
	   <span class="token operator">&lt;</span>classPathEntry location<span class="token operator">=</span><span class="token string">"/Program Files/IBM/SQLLIB/java/db2java.zip"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
	     <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>
	        context<span class="token operator">:</span>生成一组对象的环境
	        id<span class="token operator">:</span>必选，上下文id，用于在生成错误时提示
	        defaultModelType<span class="token operator">:</span>指定生成对象的样式
	            <span class="token number">1</span>，conditional：类似hierarchical；
	            <span class="token number">2</span>，flat：所有内容（主键，blob）等全部生成在一个对象中；
	            <span class="token number">3</span>，hierarchical：主键生成一个<span class="token class-name">XXKey</span>对象<span class="token punctuation">(</span>key <span class="token keyword">class</span><span class="token punctuation">)</span>，<span class="token class-name">Blob</span>等单独生成一个对象，其他简单属性在一个对象中<span class="token punctuation">(</span><span class="token keyword">record</span> <span class="token keyword">class</span><span class="token punctuation">)</span>
	        targetRuntime<span class="token operator">:</span>
	            <span class="token number">1</span>，<span class="token class-name">MyBatis3</span>：默认的值，生成基于<span class="token class-name">MyBatis3</span><span class="token punctuation">.</span>x以上版本的内容，包括<span class="token class-name">XXXBySample</span>；
	            <span class="token number">2</span>，<span class="token class-name">MyBatis3Simple</span>：类似<span class="token class-name">MyBatis3</span>，只是不生成<span class="token class-name">XXXBySample</span>；
	        introspectedColumnImpl：类全限定名，用于扩展MBG
	    <span class="token operator">--</span><span class="token operator">&gt;</span>
	    <span class="token operator">&lt;</span>context id<span class="token operator">=</span><span class="token string">"mysql"</span> defaultModelType<span class="token operator">=</span><span class="token string">"hierarchical"</span> targetRuntime<span class="token operator">=</span><span class="token string">"MyBatis3Simple"</span> <span class="token operator">&gt;</span>
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自动识别数据库关键字，默认<span class="token boolean">false</span>，如果设置为<span class="token boolean">true</span>，根据<span class="token class-name">SqlReservedWords</span>中定义的关键字列表；
	            一般保留默认值，遇到数据库关键字（<span class="token class-name">Java</span>关键字），使用columnOverride覆盖
	         <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"autoDelimitKeywords"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 生成的<span class="token class-name">Java</span>文件的编码 <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"javaFileEncoding"</span> value<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 格式化java代码 <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"javaFormatter"</span> value<span class="token operator">=</span><span class="token string">"org.mybatis.generator.api.dom.DefaultJavaFormatter"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 格式化XML代码 <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"xmlFormatter"</span> value<span class="token operator">=</span><span class="token string">"org.mybatis.generator.api.dom.DefaultXmlFormatter"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> beginningDelimiter和endingDelimiter：指明数据库的用于标记数据库对象名的符号，比如ORACLE就是双引号，MYSQL默认是`反引号； <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"beginningDelimiter"</span> value<span class="token operator">=</span><span class="token string">"`"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"endingDelimiter"</span> value<span class="token operator">=</span><span class="token string">"`"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 必须要有的，使用这个配置链接数据库
	            <span class="token annotation punctuation">@TODO</span><span class="token operator">:</span>是否可以扩展
	         <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>jdbcConnection driverClass<span class="token operator">=</span><span class="token string">"com.mysql.jdbc.Driver"</span> connectionURL<span class="token operator">=</span><span class="token string">"jdbc:mysql:///pss"</span> userId<span class="token operator">=</span><span class="token string">"root"</span> password<span class="token operator">=</span><span class="token string">"admin"</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 这里面可以设置property属性，每一个property属性都设置到配置的<span class="token class-name">Driver</span>上 <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>jdbcConnection<span class="token operator">&gt;</span>
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> java类型处理器
	            用于处理DB中的类型到<span class="token class-name">Java</span>中的类型，默认使用<span class="token class-name">JavaTypeResolverDefaultImpl</span>；
	            注意一点，默认会先尝试使用<span class="token class-name">Integer</span>，<span class="token class-name">Long</span>，<span class="token class-name">Short</span>等来对应DECIMAL和 NUMERIC数据类型；
	        <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>javaTypeResolver type<span class="token operator">=</span><span class="token string">"org.mybatis.generator.internal.types.JavaTypeResolverDefaultImpl"</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>
	                <span class="token boolean">true</span>：使用<span class="token class-name">BigDecimal</span>对应DECIMAL和 NUMERIC数据类型
	                <span class="token boolean">false</span>：默认<span class="token punctuation">,</span>
	                    scale<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>length<span class="token operator">&gt;</span><span class="token number">18</span>：使用<span class="token class-name">BigDecimal</span><span class="token punctuation">;</span>
	                    scale<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>length<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span>：使用<span class="token class-name">Long</span>；
	                    scale<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>length<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>：使用<span class="token class-name">Integer</span>；
	                    scale<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>length<span class="token operator">&lt;</span><span class="token number">5</span>：使用<span class="token class-name">Short</span>；
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"forceBigDecimals"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>javaTypeResolver<span class="token operator">&gt;</span>
	 
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> java模型创建器，是必须要的元素
	            负责：<span class="token number">1</span>，key类（见context的defaultModelType）；<span class="token number">2</span>，java类；<span class="token number">3</span>，查询类
	            targetPackage：生成的类要放的包，真实的包受enableSubPackages属性控制；
	            targetProject：目标项目，指定一个存在的目录下，生成的内容会放到指定目录中，如果目录不存在，MBG不会自动建目录
	         <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>javaModelGenerator targetPackage<span class="token operator">=</span><span class="token string">"com._520it.mybatis.domain"</span> targetProject<span class="token operator">=</span><span class="token string">"src/main/java"</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>  <span class="token keyword">for</span> <span class="token class-name">MyBatis3</span><span class="token operator">/</span><span class="token class-name">MyBatis3Simple</span>
	                自动为每一个生成的类创建一个构造方法，构造方法包含了所有的field；而不是使用setter；
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"constructorBased"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在targetPackage的基础上，根据数据库的schema再生成一层<span class="token keyword">package</span>，最终生成的类放在这个<span class="token keyword">package</span>下，默认为<span class="token boolean">false</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"enableSubPackages"</span> value<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token keyword">for</span> <span class="token class-name">MyBatis3</span> <span class="token operator">/</span> <span class="token class-name">MyBatis3Simple</span>
	                是否创建一个不可变的类，如果为<span class="token boolean">true</span>，
	                那么MBG会创建一个没有setter方法的类，取而代之的是类似constructorBased的类
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"immutable"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 设置一个根对象，
	                如果设置了这个根对象，那么生成的keyClass或者recordClass会继承这个类；在<span class="token class-name">Table</span>的rootClass属性中可以覆盖该选项
	                注意：如果在key <span class="token keyword">class</span>或者<span class="token keyword">record</span> <span class="token keyword">class</span>中有root <span class="token keyword">class</span>相同的属性，MBG就不会重新生成这些属性了，包括：
	                    <span class="token number">1</span>，属性名相同，类型相同，有相同的getter<span class="token operator">/</span>setter方法；
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"rootClass"</span> value<span class="token operator">=</span><span class="token string">"com._520it.mybatis.domain.BaseDomain"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 设置是否在getter方法中，对<span class="token class-name">String</span>类型字段调用<span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法 <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"trimStrings"</span> value<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>javaModelGenerator<span class="token operator">&gt;</span>
	 
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 生成SQL map的XML文件生成器，
	            注意，在<span class="token class-name">Mybatis3</span>之后，我们可以使用mapper<span class="token punctuation">.</span>xml文件<span class="token operator">+</span><span class="token class-name">Mapper</span>接口（或者不用mapper接口），
	                或者只使用<span class="token class-name">Mapper</span>接口<span class="token operator">+</span><span class="token class-name">Annotation</span>，所以，如果 javaClientGenerator配置中配置了需要生成XML的话，这个元素就必须配置
	            targetPackage<span class="token operator">/</span>targetProject<span class="token operator">:</span>同javaModelGenerator
	         <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>sqlMapGenerator targetPackage<span class="token operator">=</span><span class="token string">"com._520it.mybatis.mapper"</span> targetProject<span class="token operator">=</span><span class="token string">"src/main/resources"</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在targetPackage的基础上，根据数据库的schema再生成一层<span class="token keyword">package</span>，最终生成的类放在这个<span class="token keyword">package</span>下，默认为<span class="token boolean">false</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"enableSubPackages"</span> value<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>sqlMapGenerator<span class="token operator">&gt;</span>
	 
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 对于mybatis来说，即生成<span class="token class-name">Mapper</span>接口，注意，如果没有配置该元素，那么默认不会生成<span class="token class-name">Mapper</span>接口
	            targetPackage<span class="token operator">/</span>targetProject<span class="token operator">:</span>同javaModelGenerator
	            type：选择怎么生成mapper接口（在<span class="token class-name">MyBatis3</span><span class="token operator">/</span><span class="token class-name">MyBatis3Simple</span>下）：
	                <span class="token number">1</span>，ANNOTATEDMAPPER：会生成使用<span class="token class-name">Mapper</span>接口<span class="token operator">+</span><span class="token class-name">Annotation</span>的方式创建（SQL生成在annotation中），不会生成对应的XML；
	                <span class="token number">2</span>，MIXEDMAPPER：使用混合配置，会生成<span class="token class-name">Mapper</span>接口，并适当添加合适的<span class="token class-name">Annotation</span>，但是XML会生成在XML中；
	                <span class="token number">3</span>，XMLMAPPER：会生成<span class="token class-name">Mapper</span>接口，接口完全依赖XML；
	            注意，如果context是<span class="token class-name">MyBatis3Simple</span>：只支持ANNOTATEDMAPPER和XMLMAPPER
	        <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>javaClientGenerator targetPackage<span class="token operator">=</span><span class="token string">"com._520it.mybatis.mapper"</span> type<span class="token operator">=</span><span class="token string">"ANNOTATEDMAPPER"</span> targetProject<span class="token operator">=</span><span class="token string">"src/main/java"</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在targetPackage的基础上，根据数据库的schema再生成一层<span class="token keyword">package</span>，最终生成的类放在这个<span class="token keyword">package</span>下，默认为<span class="token boolean">false</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"enableSubPackages"</span> value<span class="token operator">=</span><span class="token string">"true"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 可以为所有生成的接口添加一个父接口，但是MBG只负责生成，不负责检查
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"rootInterface"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>javaClientGenerator<span class="token operator">&gt;</span>
	 
	        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 选择一个table来生成相关文件，可以有一个或多个table，必须要有table元素
	            选择的table会生成一下文件：
	            <span class="token number">1</span>，SQL map文件
	            <span class="token number">2</span>，生成一个主键类；
	            <span class="token number">3</span>，除了BLOB和主键的其他字段的类；
	            <span class="token number">4</span>，包含BLOB的类；
	            <span class="token number">5</span>，一个用户生成动态查询的条件类（selectByExample<span class="token punctuation">,</span> deleteByExample），可选；
	            <span class="token number">6</span>，<span class="token class-name">Mapper</span>接口（可选）
	 
	            tableName（必要）：要生成对象的表名；
	            注意：大小写敏感问题。正常情况下，MBG会自动的去识别数据库标识符的大小写敏感度，在一般情况下，MBG会
	                根据设置的schema，catalog或tablename去查询数据表，按照下面的流程：
	                <span class="token number">1</span>，如果schema，catalog或tablename中有空格，那么设置的是什么格式，就精确的使用指定的大小写格式去查询；
	                <span class="token number">2</span>，否则，如果数据库的标识符使用大写的，那么MBG自动把表名变成大写再查找；
	                <span class="token number">3</span>，否则，如果数据库的标识符使用小写的，那么MBG自动把表名变成小写再查找；
	                <span class="token number">4</span>，否则，使用指定的大小写格式查询；
	            另外的，如果在创建表的时候，使用的<span class="token string">""</span>把数据库对象规定大小写，就算数据库标识符是使用的大写，在这种情况下也会使用给定的大小写来创建表名；
	            这个时候，请设置delimitIdentifiers<span class="token operator">=</span><span class="token string">"true"</span>即可保留大小写格式；
	 
	            可选：
	            <span class="token number">1</span>，schema：数据库的schema；
	            <span class="token number">2</span>，catalog：数据库的catalog；
	            <span class="token number">3</span>，alias：为数据表设置的别名，如果设置了alias，那么生成的所有的SELECT SQL语句中，列名会变成：alias_actualColumnName
	            <span class="token number">4</span>，domainObjectName：生成的domain类的名字，如果不设置，直接使用表名作为domain类的名字；可以设置为somepck<span class="token punctuation">.</span>domainName，那么会自动把domainName类再放到somepck包里面；
	            <span class="token number">5</span>，enableInsert（默认<span class="token boolean">true</span>）：指定是否生成insert语句；
	            <span class="token number">6</span>，enableSelectByPrimaryKey（默认<span class="token boolean">true</span>）：指定是否生成按照主键查询对象的语句（就是getById或get）；
	            <span class="token number">7</span>，enableSelectByExample（默认<span class="token boolean">true</span>）：<span class="token class-name">MyBatis3Simple</span>为<span class="token boolean">false</span>，指定是否生成动态查询语句；
	            <span class="token number">8</span>，enableUpdateByPrimaryKey（默认<span class="token boolean">true</span>）：指定是否生成按照主键修改对象的语句（即update<span class="token punctuation">)</span>；
	            <span class="token number">9</span>，enableDeleteByPrimaryKey（默认<span class="token boolean">true</span>）：指定是否生成按照主键删除对象的语句（即delete）；
	            <span class="token number">10</span>，enableDeleteByExample（默认<span class="token boolean">true</span>）：<span class="token class-name">MyBatis3Simple</span>为<span class="token boolean">false</span>，指定是否生成动态删除语句；
	            <span class="token number">11</span>，enableCountByExample（默认<span class="token boolean">true</span>）：<span class="token class-name">MyBatis3Simple</span>为<span class="token boolean">false</span>，指定是否生成动态查询总条数语句（用于分页的总条数查询）；
	            <span class="token number">12</span>，enableUpdateByExample（默认<span class="token boolean">true</span>）：<span class="token class-name">MyBatis3Simple</span>为<span class="token boolean">false</span>，指定是否生成动态修改语句（只修改对象中不为空的属性）；
	            <span class="token number">13</span>，modelType：参考context元素的defaultModelType，相当于覆盖；
	            <span class="token number">14</span>，delimitIdentifiers：参考tableName的解释，注意，默认的delimitIdentifiers是双引号，如果类似MYSQL这样的数据库，使用的是`（反引号，那么还需要设置context的beginningDelimiter和endingDelimiter属性）
	            <span class="token number">15</span>，delimitAllColumns：设置是否所有生成的SQL中的列名都使用标识符引起来。默认为<span class="token boolean">false</span>，delimitIdentifiers参考context的属性
	 
	            注意，table里面很多参数都是对javaModelGenerator，context等元素的默认属性的一个复写；
	         <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span>table tableName<span class="token operator">=</span><span class="token string">"userinfo"</span> <span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 参考 javaModelGenerator 的 constructorBased属性<span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"constructorBased"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 默认为<span class="token boolean">false</span>，如果设置为<span class="token boolean">true</span>，在生成的SQL中，table名字不会加上catalog或schema； <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"ignoreQualifiersAtRuntime"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 参考 javaModelGenerator 的 immutable 属性 <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"immutable"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 指定是否只生成domain类，如果设置为<span class="token boolean">true</span>，只生成domain类，如果还配置了sqlMapGenerator，那么在mapper XML文件中，只生成resultMap元素 <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"modelOnly"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 参考 javaModelGenerator 的 rootClass 属性
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"rootClass"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 参考javaClientGenerator 的  rootInterface 属性
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"rootInterface"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	            <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 如果设置了runtimeCatalog，那么在生成的SQL中，使用该指定的catalog，而不是table元素上的catalog
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"runtimeCatalog"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	            <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 如果设置了runtimeSchema，那么在生成的SQL中，使用该指定的schema，而不是table元素上的schema
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"runtimeSchema"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	            <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 如果设置了runtimeTableName，那么在生成的SQL中，使用该指定的tablename，而不是table元素上的tablename
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"runtimeTableName"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	            <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 注意，该属性只针对<span class="token class-name">MyBatis3Simple</span>有用；
	                如果选择的runtime是<span class="token class-name">MyBatis3Simple</span>，那么会生成一个<span class="token class-name">SelectAll</span>方法，如果指定了selectAllOrderByClause，那么会在该SQL中添加指定的这个order条件；
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"selectAllOrderByClause"</span> value<span class="token operator">=</span><span class="token string">"age desc,username asc"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 如果设置为<span class="token boolean">true</span>，生成的model类会直接使用column本身的名字，而不会再使用驼峰命名方法，比如BORN_DATE，生成的属性名字就是BORN_DATE<span class="token punctuation">,</span>而不会是bornDate <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"useActualColumnNames"</span> value<span class="token operator">=</span><span class="token string">"false"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> generatedKey用于生成生成主键的方法，
	                如果设置了该元素，MBG会在生成的<span class="token generics"><span class="token punctuation">&lt;</span>insert<span class="token punctuation">&gt;</span></span>元素中生成一条正确的<span class="token generics"><span class="token punctuation">&lt;</span>selectKey<span class="token punctuation">&gt;</span></span>元素，该元素可选
	                column<span class="token operator">:</span>主键的列名；
	                sqlStatement：要生成的selectKey语句，有以下可选项：
	                    <span class="token class-name">Cloudscape</span><span class="token operator">:</span>相当于selectKey的SQL为： <span class="token class-name">VALUES</span> <span class="token function">IDENTITY_VAL_LOCAL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    DB2       <span class="token operator">:</span>相当于selectKey的SQL为： <span class="token class-name">VALUES</span> <span class="token function">IDENTITY_VAL_LOCAL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    DB2_MF    <span class="token operator">:</span>相当于selectKey的SQL为：<span class="token class-name">SELECT</span> <span class="token function">IDENTITY_VAL_LOCAL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> FROM SYSIBM<span class="token punctuation">.</span>SYSDUMMY1
	                    <span class="token class-name">Derby</span>     <span class="token operator">:</span>相当于selectKey的SQL为：<span class="token class-name">VALUES</span> <span class="token function">IDENTITY_VAL_LOCAL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    HSQLDB    <span class="token operator">:</span>相当于selectKey的SQL为：<span class="token class-name">CALL</span> <span class="token function">IDENTITY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    <span class="token class-name">Informix</span>  <span class="token operator">:</span>相当于selectKey的SQL为：select <span class="token function">dbinfo</span><span class="token punctuation">(</span>'sqlca<span class="token punctuation">.</span>sqlerrd1'<span class="token punctuation">)</span> from systables where tabid<span class="token operator">=</span><span class="token number">1</span>
	                    <span class="token class-name">MySql</span>     <span class="token operator">:</span>相当于selectKey的SQL为：<span class="token class-name">SELECT</span> <span class="token function">LAST_INSERT_ID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    <span class="token class-name">SqlServer</span> <span class="token operator">:</span>相当于selectKey的SQL为：<span class="token class-name">SELECT</span> <span class="token function">SCOPE_IDENTITY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	                    SYBASE    <span class="token operator">:</span>相当于selectKey的SQL为：SELECT @<span class="token annotation punctuation">@IDENTITY</span>
	                    JDBC      <span class="token operator">:</span>相当于在生成的insert元素上添加useGeneratedKeys<span class="token operator">=</span><span class="token string">"true"</span>和keyProperty属性
	            <span class="token operator">&lt;</span>generatedKey column<span class="token operator">=</span><span class="token string">""</span> sqlStatement<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>
	                该元素会在根据表中列名计算对象属性名之前先重命名列名，非常适合用于表中的列都有公用的前缀字符串的时候，
	                比如列名为：CUST_ID<span class="token punctuation">,</span>CUST_NAME<span class="token punctuation">,</span>CUST_EMAIL<span class="token punctuation">,</span>CUST_ADDRESS等；
	                那么就可以设置searchString为<span class="token string">"^CUST_"</span>，并使用空白替换，那么生成的<span class="token class-name">Customer</span>对象中的属性名称就不是
	                custId<span class="token punctuation">,</span>custName等，而是先被替换为ID<span class="token punctuation">,</span>NAME<span class="token punctuation">,</span>EMAIL<span class="token punctuation">,</span>然后变成属性：id，name，email；
	 
	                注意，MBG是使用<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span>Matcher</span><span class="token punctuation">.</span>replaceAll来替换searchString和replaceString的，
	                如果使用了columnOverride元素，该属性无效；
	 
	            <span class="token operator">&lt;</span>columnRenamingRule searchString<span class="token operator">=</span><span class="token string">""</span> replaceString<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 用来修改表中某个列的属性，MBG会使用修改后的列来生成domain的属性；
	               column<span class="token operator">:</span>要重新设置的列名；
	               注意，一个table元素中可以有多个columnOverride元素哈<span class="token operator">~</span>
	             <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span>columnOverride column<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用property属性来指定列要生成的属性名称 <span class="token operator">--</span><span class="token operator">&gt;</span>
	                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"property"</span> value<span class="token operator">=</span><span class="token string">"userName"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	 
	                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> javaType用于指定生成的domain的属性类型，使用类型的全限定名
	                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"javaType"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	                 <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> jdbcType用于指定该列的JDBC类型
	                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"jdbcType"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	                 <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> typeHandler 用于指定该列使用到的<span class="token class-name">TypeHandler</span>，如果要指定，配置类型处理器的全限定名
	                    注意，mybatis中，不会生成到mybatis<span class="token operator">-</span>config<span class="token punctuation">.</span>xml中的typeHandler
	                    只会生成类似：where id <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>id<span class="token punctuation">,</span>jdbcType<span class="token operator">=</span>BIGINT<span class="token punctuation">,</span>typeHandler<span class="token operator">=</span>com<span class="token punctuation">.</span>_520it<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>MyTypeHandler<span class="token punctuation">}</span>的参数描述
	                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"jdbcType"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	                <span class="token operator">--</span><span class="token operator">&gt;</span>
	 
	                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 参考table元素的delimitAllColumns配置，默认为<span class="token boolean">false</span>
	                <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"delimitedColumnName"</span> value<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	                 <span class="token operator">--</span><span class="token operator">&gt;</span>
	            <span class="token operator">&lt;</span><span class="token operator">/</span>columnOverride<span class="token operator">&gt;</span>
	 
	            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> ignoreColumn设置一个MGB忽略的列，如果设置了改列，那么在生成的domain中，生成的SQL中，都不会有该列出现
	               column<span class="token operator">:</span>指定要忽略的列的名字；
	               delimitedColumnName：参考table元素的delimitAllColumns配置，默认为<span class="token boolean">false</span>
	 
	               注意，一个table元素中可以有多个ignoreColumn元素
	            <span class="token operator">&lt;</span>ignoreColumn column<span class="token operator">=</span><span class="token string">"deptId"</span> delimitedColumnName<span class="token operator">=</span><span class="token string">""</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	            <span class="token operator">--</span><span class="token operator">&gt;</span>
	        <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
	 
	    <span class="token operator">&lt;</span><span class="token operator">/</span>context<span class="token operator">&gt;</span>
	 
	<span class="token operator">&lt;</span><span class="token operator">/</span>generatorConfiguration<span class="token operator">&gt;</span>
</code></pre> </li></ol> 
<blockquote> 
 <p><font size="3" color="red">mybatis缓存</font></p> 
</blockquote> 
<pre><code class="prism language-java">须知

	缓存
	
		<span class="token number">1.</span>存在内存中的临时数据
	
		<span class="token number">2.</span>将用户经常查询的数据放在缓存<span class="token punctuation">(</span>内存<span class="token punctuation">)</span>中，用户去查询数据就不用从磁盘上<span class="token punctuation">(</span>关系型数据库数据文件<span class="token punctuation">)</span>

		  查询，从缓存中查询，从而提高查询效率，解决了高并发系统的性能问题

	优点

		减少和数据库的交互次数，减少系统开销，提高系统效率

	使用前提

		经常查询并且不经常改变的数据

	mybatis缓存

		mybatis包含一个非常强大的查询缓存特性，它可以非常方便地定制和配置缓存。缓存可以极大的提升

		查询效率。

		mybatis系统中默认定义了两级缓存：一级缓存和二级缓存。

		<span class="token operator">-</span>默认情况下，只有一级缓存开启<span class="token punctuation">(</span>sqlSession级别的缓存，也称为本地缓存<span class="token punctuation">)</span>

		<span class="token operator">-</span>二级缓存需要手动开启和配置，它是基于namespace级别的缓存。

		<span class="token operator">-</span>为了提高扩展性，<span class="token class-name">Mybatis</span>定义了缓存接口<span class="token class-name">Cache</span>。操作者可以通过实现<span class="token class-name">Cache</span>接口来自定义二级缓存

	一级缓存

		含义

			一级缓存也叫本地缓存<span class="token operator">:</span>

		内容

			与数据库同一次会话期间查询到的数据会放在本地缓存中

			以后如果需要获取相同的数据，直接从换缓存中拿，没必须再去查询数据库		
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1991252b1fa671ad4bf97f0528e7d0b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3&#43;vite项⽬搭建-配置环境变量env</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6f320f7620930b9b0fab6c6031ce5a15/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">开发板串口终端shell中文或者其他国家语言显示乱码或者问号？的解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>