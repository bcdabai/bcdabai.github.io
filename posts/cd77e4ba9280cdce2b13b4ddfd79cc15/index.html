<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【springboot配置】如何让springboot支持jsp页面 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【springboot配置】如何让springboot支持jsp页面" />
<meta property="og:description" content="前言：
随着时代的发展，springboot这一新兴技术受到越来越多的人们的追捧与使用，一般的开发都是基于vue&#43;springboot之类的前后端分离开发，未经配置的原生springboot是不支持jsp文件的解析的，本文我们来介绍一下如何配置springboot来支持jsp文件的解析
虽然jsp技术已经因为落后被淘汰掉了，但是对于初学者而言，都是应该熟悉并且掌握的基本知识，我可以不用，但你不能不会
非前后端分离项目，搭建能运行jsp的SSM项目 1. 通过springboot创建新项目 选择Java8版本，打包方式为war包 （这点要注意，jsp项目包含了jsp网页文件，需要打成war包才能被支持）
这边我们用的是阿里云的spring initializr ，勾选需要的模块
这边勾选需要的模块即可，spring Web为必选项
2. 配置pom依赖： 配置mysql数据库连接（笔者使用的是MySQL8）
分别添加下面的依赖文件
&lt;!--配置支持jsp--&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt; &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;/dependency&gt; 以此支持jsp
添加build文件，将jsp打包进war包
代码如下：
&lt;resources&gt; &lt;!-- 作用是打包时将jsp文件拷贝到META-INF目录下--&gt; &lt;resource&gt; &lt;!-- 指定处理哪个目录下的资源文件 --&gt; &lt;directory&gt;src/main/webapp&lt;/directory&gt; &lt;!-- 注意此次必须要放在此目录下才能被访问到因为此路径是spring boot静态资源默认访问路径可以通过 --&gt; &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt; &lt;includes&gt; &lt;include&gt;**/**&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;/resources&gt; 刷新maven 之后配置webapp文件夹
3. 添加webapp文件夹 首先在main目录下新建webapp文件夹（配置过pom文件夹后会提示）直接选择即可
之后打开模块设置
右击打开module设置
选择facets，配置web.xml文件 （截图的爆红是因为没有发现该目录下有webapp文件夹）
点击加号，新建web.xml文件
注意修改位置目录，添加src\main\webappweb.xml版本号随意（默认就行）
修改后多了web.xml文件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/cd77e4ba9280cdce2b13b4ddfd79cc15/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-27T23:27:03+08:00" />
<meta property="article:modified_time" content="2022-07-27T23:27:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【springboot配置】如何让springboot支持jsp页面</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>前言：</p> 
<p>随着时代的发展，springboot这一新兴技术受到越来越多的人们的追捧与使用，一般的开发都是基于vue+springboot之类的前后端分离开发，未经配置的原生springboot是不支持jsp文件的解析的，本文我们来介绍一下如何配置springboot来支持jsp文件的解析</p> 
<p>虽然jsp技术已经因为落后被淘汰掉了，但是对于初学者而言，都是应该熟悉并且掌握的基本知识，我可以不用，但你不能不会</p> 
<p></p> 
<h2 id="%E9%9D%9E%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%EF%BC%8C%E6%90%AD%E5%BB%BA%E8%83%BD%E8%BF%90%E8%A1%8Cjsp%E7%9A%84SSM%E9%A1%B9%E7%9B%AE">非前后端分离项目，搭建能运行jsp的SSM项目</h2> 
<h3 id="main-toc">1. 通过springboot创建新项目</h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4d/91/Bvj8AbXl_o.png" width="1200"></p> 
<p>选择Java8版本，<strong><span style="color:#fe2c24;">打包方式为war包  </span><span style="color:#0d0016;">（这点要注意，jsp项目包含了jsp网页文件，需要打成war包才能被支持）</span></strong></p> 
<p></p> 
<p>这边我们用的是阿里云的spring initializr ，勾选需要的模块</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f9/86/ehF0IGQF_o.png" width="1200"></p> 
<p>这边勾选需要的模块即可，<span style="color:#fe2c24;">spring Web为必选项</span></p> 
<h3>2. 配置pom依赖： </h3> 
<p><img alt="" height="90" src="https://images2.imgbox.com/55/da/aIbeALt0_o.png" width="331"> 配置mysql数据库连接（笔者使用的是MySQL8）</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/89/4f/7Svw1WWZ_o.png" width="1200"></p> 
<p>分别添加下面的依赖文件</p> 
<pre><code class="language-XML">&lt;!--配置支持jsp--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;jstl&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<p> 以此支持jsp</p> 
<p>添加build文件，将jsp打包进war包</p> 
<p><img alt="" height="629" src="https://images2.imgbox.com/07/83/xwOk26yv_o.png" width="1200"></p> 
<p>代码如下：</p> 
<pre><code class="language-XML">&lt;resources&gt;
&lt;!-- 作用是打包时将jsp文件拷贝到META-INF目录下--&gt;
    &lt;resource&gt;
&lt;!-- 指定处理哪个目录下的资源文件 --&gt;
        &lt;directory&gt;src/main/webapp&lt;/directory&gt;
&lt;!-- 注意此次必须要放在此目录下才能被访问到因为此路径是spring boot静态资源默认访问路径可以通过 --&gt;
        &lt;targetPath&gt;META-INF/resources&lt;/targetPath&gt;
        &lt;includes&gt;
             &lt;include&gt;**/**&lt;/include&gt;
        &lt;/includes&gt;
    &lt;/resource&gt;
&lt;/resources&gt;</code></pre> 
<p><img alt="" height="91" src="https://images2.imgbox.com/08/d8/AgtWdco5_o.png" width="141"> 刷新maven 之后配置webapp文件夹</p> 
<h3>3. 添加webapp文件夹</h3> 
<p><img alt="" height="257" src="https://images2.imgbox.com/3c/fc/bfho7ghy_o.png" width="1200"></p> 
<p>首先在main目录下新建webapp文件夹（配置过pom文件夹后会提示）直接选择即可</p> 
<p><img alt="" height="120" src="https://images2.imgbox.com/9c/92/gUjfPUDj_o.png" width="363"> </p> 
<p> 之后打开模块设置</p> 
<p><img alt="" height="732" src="https://images2.imgbox.com/15/fd/MVMD0DQ0_o.png" width="364"> 右击打开module设置</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/59/a2/mh8aU6Er_o.png" width="1200"></p> 
<p>选择facets，配置web.xml文件 （截图的爆红是因为没有发现该目录下有webapp文件夹）</p> 
<p> <img alt="" height="117" src="https://images2.imgbox.com/74/99/bywRIs2Q_o.png" width="209">   点击加号，新建web.xml文件<img alt="" height="190" src="https://images2.imgbox.com/3f/ed/JluHvlPW_o.png" width="396"></p> 
<p>注意修改位置目录，添加src\main\webapp<img alt="" height="151" src="https://images2.imgbox.com/be/38/8LTHjs6i_o.png" width="396">web.xml版本号随意（默认就行）</p> 
<p> <img alt="" height="89" src="https://images2.imgbox.com/14/9d/dMo9vpdh_o.png" width="392">修改后多了web.xml文件</p> 
<p>自行修改application.properties 配置正确的数据库配置（如果不使用数据库对jsp并没有影响，但是配置错误会导致http 500 服务器内部错误）</p> 
<p>仅供参考</p> 
<pre><code>spring:
  application:
    name: petManager
  # 数据库：
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/petDB?serverTimezone=UTC
    name: petDB
    username: root
    password: root
  # spring mvc逻辑视图映射
  mvc:
    view:
      prefix: /WEB-INF/
      suffix: .jsp
    # 静态资源文件映射
    static-path-pattern: /static/**
  web:
    resources:
      # 配置静态资源所在路径
      static-locations: classpath:/static/

# 配置mybatis
mybatis:
  #指定Mybatis的Mapper文件
  mapper-locations: classpath:/mappers/*.xml
  #指定Mybatis的实体目录
  type-aliases-package: com.yanqi.petmanager.pojo

# 指定端口
server:
  port: 8080</code></pre> 
<p>重点部分为mvc和web部分，配置MVC逻辑试图映射</p> 
<pre><code>spring:
  mvc:
    view:
      prefix: /WEB-INF/
      suffix: .jsp
    # 静态资源文件映射
    static-path-pattern: /static/**
  web:
    resources:
      # 配置静态资源所在路径
      static-locations: classpath:/static/</code></pre> 
<h3> 4. 编写测试类</h3> 
<p><img alt="" height="174" src="https://images2.imgbox.com/10/4f/evvBEbla_o.png" width="365"> 新建controller测试类测试页面，位置在main/java/用户定义的文件主目录 下</p> 
<p><img alt="" height="436" src="https://images2.imgbox.com/5c/15/8hzYSX1A_o.png" width="1200"></p> 
<p> 写测试类……</p> 
<p>同时在我们application.yml中指定的目录位置新建test.jsp（位置在webapp/WEB-INF/ 下）<img alt="" height="328" src="https://images2.imgbox.com/3b/d4/2MAqegHc_o.png" width="1200"></p> 
<p> test.jsp代码展示</p> 
<pre><code class="language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;测试&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;测试！&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre> 
<p> controller代码展示</p> 
<pre><code class="language-java">package com.yanqi.petmanager.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
public class TestController {

    @RequestMapping("/test")
    public String Test(){
        System.out.println("访问了test页面……");
        return "test";
    }

}</code></pre> 
<p> 注意！这边的return "test"; 如果报错，那就是你jsp存放的位置没有被MVC框架检查到，确认一下自己存放的位置</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/41/e4/37OTf4Rs_o.png" width="1200"></p> 
<p> 访问页面<img alt="" height="330" src="https://images2.imgbox.com/24/42/PWHnnGQE_o.png" width="415"></p> 
<p> 这样就是成功了，可以访问到jsp资源，控制台也出现了预设的输出内容</p> 
<p> </p> 
<p>项目框架：</p> 
<p><img alt="" height="784" src="https://images2.imgbox.com/44/6e/BjGDpd3k_o.png" width="458"></p> 
<p> </p> 
<p> </p> 
<p> 欢迎访问 个人博客：<a href="https://yanqi7.github.io/" rel="nofollow" title="编程日记 | Yiki-Blog">编程日记 | Yiki-Blog</a> </p> 
<p>内容还在陆续完善，欢迎交流探讨</p> 
<p></p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c765040f3276b6a2e86061e5b0761b03/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">matlab绘制三维图形（mesh，surf，contour，fimplicit3）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b3d6292d73bb6416a6c8dce1e4365b91/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue3中结合component ：is使用tabs切换组件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>