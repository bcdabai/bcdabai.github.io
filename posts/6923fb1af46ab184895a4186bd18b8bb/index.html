<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言随机数的产生之猜数字游戏——分支语句和循环语句的练习 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言随机数的产生之猜数字游戏——分支语句和循环语句的练习" />
<meta property="og:description" content="1~100以内猜数字游戏
一、猜数字的实现思路
难点：随机数的产生和循环语句、分支语句的运用
二、随机数的产生
2.1 函数 int rand（void）：生成一个随机的整数，范围为0~RAND_MAX（具体指看编译器）不需要 参数，函数返回类型为整型
函数的具体简介：
但这样产生的随机数在每次执行代码时产生的随机数一致。这样每次所猜数字的值都一样，那这个游戏就没有趣味性了。例：
根据我们的需求，我们需要的随机数需要完全随机，没有规律可言，这里我们就可以将随机数与时间结合起来，时间是在不断改变的，这里就产生了时间戳的概念。怎样才能将时间和产生的随机数结合起来呢?
查看 rand（）函数的用法，在调用 rand（）函数之前可以调用 srand（）来 生成随机数的生成器。
2.2 函数 void srand（unsigned int seed）：该函数没有返回值，传参的时候需要传一个无符号的整形。 函数作用是设置一个随机开始的起点，如果每次运用该函数都需要进行传参，那么每需要一个随机数就要传一个数字，这样就不方便。例：
int main() { srand(999); int ret = rand(); printf(&#34;%d\n&#34;, ret); return 0; } 所以我们需要传一个值，这个值会不断地变化，这样就可以联想到时间是不断地改变。
时间戳：每一个时间相对应计算机起始时间的差值，单位是秒，只要时间改变，对应的时间戳就在改变。可以通俗地理解为每一个时间对应一个不同的数值。
2.3 生成时间戳：需要用到 time_t time( time_t *timer ) 函数
time_t time( time_t *timer )函数：函数的返回值就是时间戳，其类型是，返回的就是时间戳，需 要传参的是一个指针，如果不需要用参数的时候可以传一个空 指针NULL
time_t:是C语言规定的一种类型，是一个long long的整型
我们在对srand传参的时候需要传一个无符号的整型，所以需要对time的返回值进行强制类型转换。产生随机数的代码为：
#include&lt;time.h&gt; #include&lt;stdlib.h&gt; int main() { srand((unsigned int)time(NULL)); int i= 0; for (i = 1; i &lt;= 10; i&#43;&#43;) { int ret = rand(); printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6923fb1af46ab184895a4186bd18b8bb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-30T12:21:20+08:00" />
<meta property="article:modified_time" content="2022-06-30T12:21:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言随机数的产生之猜数字游戏——分支语句和循环语句的练习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;">      <span style="color:#fe2c24;"> <strong> 1~100以内猜数字游戏</strong></span></p> 
<p><strong>一、猜数字的实现思路</strong></p> 
<p><img alt="" height="702" src="https://images2.imgbox.com/3b/d7/Fic2qdwy_o.png" width="1200"></p> 
<p> 难点：随机数的产生和循环语句、分支语句的运用</p> 
<p><strong>二、随机数的产生</strong></p> 
<p>       <span style="color:#956fe7;"><strong> 2.1 函数 int rand（void）：</strong></span>生成一个随机的整数，范围为0~RAND_MAX（具体指看编译器）不需要                                       参数，函数返回类型为整型</p> 
<p><img alt="" height="172" src="https://images2.imgbox.com/3c/18/BfRzL0j8_o.png" width="659"></p> 
<p>函数的具体简介：</p> 
<p><img alt="" height="257" src="https://images2.imgbox.com/28/40/RJDmZ3b4_o.png" width="863"></p> 
<p> <img alt="" height="217" src="https://images2.imgbox.com/4c/e8/DdkezuSi_o.png" width="867"></p> 
<p>         但这样产生的随机数在每次执行代码时产生的随机数一致。这样每次所猜数字的值都一样，那这个游戏就没有趣味性了。例：</p> 
<p><img alt="" height="793" src="https://images2.imgbox.com/d6/b4/sjelkLGt_o.png" width="1200"></p> 
<p>         根据我们的需求，我们需要的随机数需要完全随机，没有规律可言，这里我们就可以将随机数与时间结合起来，时间是在不断改变的，这里就产生了时间戳的概念。怎样才能将时间和产生的随机数结合起来呢?</p> 
<p>        查看 rand（）函数的用法，在调用 rand（）函数之前可以调用 srand（）来 生成随机数的生成器。</p> 
<p>        <span style="color:#956fe7;"><strong>2.2 函数 void srand（unsigned int seed）：</strong></span>该函数没有返回值，传参的时候需要传一个无符号的整形。 函数作用是设置一个随机开始的起点，如果每次运用该函数都需要进行传参，那么每需要一个随机数就要传一个数字，这样就不方便。例：</p> 
<p><img alt="" height="782" src="https://images2.imgbox.com/be/ff/p0wjiHyM_o.png" width="1200"></p> 
<pre><code>
int main()
{
	srand(999);
	int ret = rand();
	printf("%d\n", ret);
	return 0;
}</code></pre> 
<p>        所以我们需要传一个值，这个值会不断地变化，这样就可以联想到时间是不断地改变。</p> 
<p>        时间戳：每一个时间相对应计算机起始时间的差值，单位是秒，只要时间改变，对应的时间戳就在改变。可以通俗地理解为每一个时间对应一个不同的数值。</p> 
<p><img alt="" height="387" src="https://images2.imgbox.com/1c/a0/d8yBCjcu_o.png" width="1033"></p> 
<p>        <span style="color:#956fe7;"><strong>2.3 生成时间戳：需要用到 time_t time( time_t *<em>timer</em> ) 函数</strong></span></p> 
<p><strong>time_t</strong> <strong>time(</strong> <strong>time_t</strong> <strong>*</strong><em>timer</em> <strong>)函数：函数的返回值就是时间戳，其类型是，返回的就是时间戳，需                                                          要传参的是一个指针，如果不需要用参数的时候可以传一个空                                                          指针NULL</strong></p> 
<p><img alt="" height="302" src="https://images2.imgbox.com/2e/21/OB8iD8nL_o.png" width="881"></p> 
<p><strong>time_t:是C语言规定的一种类型，是一个long long的整型</strong><img alt="" height="130" src="https://images2.imgbox.com/fc/b9/w33L5Ws3_o.png" width="689"></p> 
<p>         我们在对srand传参的时候需要传一个无符号的整型，所以需要对time的返回值进行强制类型转换。产生随机数的代码为：</p> 
<pre><code>#include&lt;time.h&gt;
#include&lt;stdlib.h&gt;
int main()
{
	srand((unsigned int)time(NULL));
	int i= 0;
	for (i = 1; i &lt;= 10; i++)
	{
		int ret = rand();
		printf("第%d个随机值为：%d\n",i, ret);
	}
	return 0;
}</code></pre> 
<p> 随机数：</p> 
<p><img alt="" height="340" src="https://images2.imgbox.com/22/60/ADl7V7C7_o.png" width="1200"></p> 
<p><strong>三、游戏代码思路</strong></p> 
<p>       <span style="color:#fe2c24;"> 1.打印游戏菜单界面</span></p> 
<p><span style="color:#fe2c24;">        2选择是否玩游戏，选择是否不符合选项</span></p> 
<p><span style="color:#fe2c24;">        3.猜数字，与生成的随机数进行比较</span></p> 
<p><span style="color:#fe2c24;">        4.游戏结束，再次选择是否玩游戏</span></p> 
<p>代码：</p> 
<pre><code>#define _CRT_SECURE_NO_WARNINGS
#include&lt;stdio.h&gt;
#include&lt;time.h&gt;
#include&lt;stdlib.h&gt;

void menu()
{
	printf("*************************\n");
	printf("******* 0.退出游戏 ******\n");
	printf("******* 1.开始游戏 ******\n");
	printf("*************************\n");
}

void game()
{
	int n = 0;
	int ret = rand()%100+1;
	while (1)
	{
		printf("请猜数字&gt;:");
		scanf("%d", &amp;n);
		if (n &gt; ret)
		{
			printf("猜大了\n");
		}
		else if (n &lt; ret)
		{
			printf("猜小了\n");
		}
		else
		{
			printf("恭喜你，猜对了!!!\n");
			break;
		}
	}
}
int main()
{
	int input = 0;
	srand((unsigned int)time(NULL));
	do
	{
		menu();
		printf("请选择&gt;:");
		scanf("%d", &amp;input);
		switch (input)
		{
			case 0:
				printf("退出游戏\n");
				break;
			case 1:
				game();
				break;
			default:
				printf("选择错误，请重新选择\n");
				break;
		}

	} while (input);
	return 0;
}</code></pre> 
<p></p> 
<p><strong>四、带有关机惩罚的猜数字游戏</strong></p> 
<p>        若猜数字5次以后还没有猜中，将进入惩罚。</p> 
<pre><code>#define _CRT_SECURE_NO_WARNINGS
#include&lt;stdio.h&gt;
#include&lt;time.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;windows.h&gt;

void menu()
{
	printf("*************************\n");
	printf("******* 0.退出游戏 ******\n");
	printf("******* 1.开始游戏 ******\n");
	printf("*************************\n");
}

void game()
{
	int n = 0;
	int i = 5;
	int ret = rand()%100+1;
	while (i)
	{
		printf("请猜数字&gt;:");
		scanf("%d", &amp;n);
		i--;                                    //用来调整while（）中真假
		if (n &gt; ret &amp;&amp; 0 != i)
		{
			printf("猜大了,你还有%d次机会\n",i);
		}
		else if (n &lt; ret &amp;&amp; 0 != i)
		{
			printf("猜小了,你还有%d次机会\n", i);
		}
		else if(n==ret)
		{
			printf("恭喜你，猜对了!!!\n");
			break;
		}
		if (i == 0)
		{
			char arr[20] = { 0 };
			printf("5次机会已经用完，你的电脑将在30秒后关机，输入“我是猪”后取消关机\n");
			system("shutdown -s -t 30");
			while (1)
			{
				scanf("%s", arr);
				if (strcmp(arr, "我是猪") == 0)
				{
					system("shutdown -a");
					break;
				}
				else
				{
					printf("回答错误\n");
				}
			}
		}
	}
}
int main()
{
	int input = 0;
	srand((unsigned int)time(NULL));
	do
	{
		menu();
		printf("请选择&gt;:");
		scanf("%d", &amp;input);
		switch (input)
		{
			case 0:
				printf("退出游戏\n");
				break;
			case 1:
				game();
				break;
			default:
				printf("选择错误，请重新选择\n");
				break;
		}

	} while (input);
	return 0;
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c12024f5da304425b40a1592afe05948/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">浅谈图数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a5bd6d858387c578f418ad32e23c732/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python GUI案例之看图猜成语开发（第三篇）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>