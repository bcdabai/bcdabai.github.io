<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mybatis入门程序-根据id查询数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mybatis入门程序-根据id查询数据" />
<meta property="og:description" content="JAVAEE实践系列 1. Spring入门程序 2. 依赖注入实现方法 3. Bean基于注解方式的装配 4. AspectJ开发及其两种实现方法 5. Mybatis入门程序-根据id查询数据 Mybatis入门程序 JAVAEE实践系列概括一、步骤截图1. 在mysql数据库中创建mybatis06的数据库，创建t_costomer表，插入三条数据安装mysql数据库[安装MySQL可视化工具之Navicat for MySQL](https://blog.csdn.net/pc915968220/article/details/100763987?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen) 2.创建web项目，导入jar包。将mybatis的核心jar包，lib目录下的依赖包，以及mysql数据库的驱动jar包添加到web项目的lib目录下，并发布到类路径中。mysql驱动jar包的下载 3.在src目录下创建log4j.properties。mybatis默认使用log4j输出日志信息，所以配置日志文件，用于查看控制台输出的sql语句关于如何创建log4j.properties文件 4. src目录下创建po包，创建pojo类Customer，声明属性以及getter，setter方法。5. src目录下创建mapper包，创建映射文件CustomerMapper.xml6. src目录下创建MyBatis的核心配置文件mybatis-config.xml7. src目录下创建test包，创建创建测试类MybatisTest，在类中编写测试方法findCustomerByIdTest().Juint测试的使用 二、输出结果三、整体代码目录结构1. log4j.properties2. POJO类：po包下Customer.java3. 映射文件：Mapper包下CustomerMapper.xml4. 核心配置文件：mybatis-config.xml5. 测试类：Test包下MyBatisTest.java 今日感受 概括 本文包括以下内容：
Mybatis入门程序：创建mysql数据库，导入需要的jar包，编写映射文件以及核心配置文件等扩展内容包括安装mysql数据库，安装MySQL可视化工具之Navicatfor MySQL，mysql驱动jar包的下载，关于如何创建log4j.properties文件，Juint测试的使用 一、步骤截图 1. 在mysql数据库中创建mybatis06的数据库，创建t_costomer表，插入三条数据 安装mysql数据库 安装MySQL可视化工具之Navicat for MySQL 2.创建web项目，导入jar包。将mybatis的核心jar包，lib目录下的依赖包，以及mysql数据库的驱动jar包添加到web项目的lib目录下，并发布到类路径中。 mysql驱动jar包的下载 3.在src目录下创建log4j.properties。mybatis默认使用log4j输出日志信息，所以配置日志文件，用于查看控制台输出的sql语句 不要求掌握直接复制即可
关于如何创建log4j.properties文件 new–&gt;others–&gt;输入file并选择–&gt;输入文件名时加上你想要的后缀即可
4. src目录下创建po包，创建pojo类Customer，声明属性以及getter，setter方法。 客户持久化类POJO类，声明属性，及其对应的getter和setter方法
5. src目录下创建mapper包，创建映射文件CustomerMapper.xml 映射文件，里面有sql语句
select是执行查询操作的配置 ，参数如下：
id指定了其唯一标识符parameterType指定了传入参数的类型，这里表示传递给执行sql的是一个integer类型的参数resultType指定了返回结果的类型，这里表示返回的数据是Customer类型（包&#43;Customer类名） sql语句中：
定义查询的sql语句，#{}用于表示一个占位符，相当于&#34;?&#34;而’#{id}表示该占位符等待接收参数的名称是id’ 6. src目录下创建MyBatis的核心配置文件mybatis-config.xml 配置了mybatis的运行环境等信息，其主要内容是获取数据库连接
7. src目录下创建test包，创建创建测试类MybatisTest，在类中编写测试方法findCustomerByIdTest(). Juint测试的使用 二、输出结果 三、整体代码 目录结构 1. log4j.properties #Global logging configuration log4j." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3d0c590753cbfb02604fd2300386f892/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-30T16:49:13+08:00" />
<meta property="article:modified_time" content="2021-12-30T16:49:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mybatis入门程序-根据id查询数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="JAVAEE_0"></a>JAVAEE实践系列</h2> 
<font color="#999AAA"> 1. Spring入门程序 <br>2. 依赖注入实现方法 <br>3. Bean基于注解方式的装配 <br>4. AspectJ开发及其两种实现方法 <br>5. Mybatis入门程序-根据id查询数据 </font> 
<hr color="#000000" size='1"'> 
<p></p> 
<div class="toc"> 
 <h4>Mybatis入门程序</h4> 
 <ul><li><a href="#JAVAEE_0" rel="nofollow">JAVAEE实践系列</a></li><li><a href="#_17" rel="nofollow">概括</a></li><li><a href="#_24" rel="nofollow">一、步骤截图</a></li><li><ul><li><ul><li><a href="#1_mysqlmybatis06t_costomer_27" rel="nofollow">1. 在mysql数据库中创建mybatis06的数据库，创建t_costomer表，插入三条数据</a></li><li><ul><li><a href="#mysqlhttpsblogcsdnneta802976articledetails119255644utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_28" rel="nofollow">安装mysql数据库</a></li><li><a href="#MySQLNavicat_for_MySQLhttpsblogcsdnnetpc915968220articledetails100763987utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_29" rel="nofollow">[安装MySQL可视化工具之Navicat for MySQL](https://blog.csdn.net/pc915968220/article/details/100763987?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen)</a></li></ul> 
    </li><li><a href="#2webjarmybatisjarlibmysqljarweblib_34" rel="nofollow">2.创建web项目，导入jar包。将mybatis的核心jar包，lib目录下的依赖包，以及mysql数据库的驱动jar包添加到web项目的lib目录下，并发布到类路径中。</a></li><li><ul><li><a href="#mysqljarhttpsblogcsdnnetm0_37482190articledetails86497497utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_35" rel="nofollow">mysql驱动jar包的下载</a></li></ul> 
    </li><li><a href="#3srclog4jpropertiesmybatislog4jsql_38" rel="nofollow">3.在src目录下创建log4j.properties。mybatis默认使用log4j输出日志信息，所以配置日志文件，用于查看控制台输出的sql语句</a></li><li><ul><li><a href="#log4jproperties_43" rel="nofollow">关于如何创建log4j.properties文件</a></li></ul> 
    </li><li><a href="#4_srcpopojoCustomergettersetter_52" rel="nofollow">4. src目录下创建po包，创建pojo类Customer，声明属性以及getter，setter方法。</a></li><li><a href="#5_srcmapperCustomerMapperxml_58" rel="nofollow">5. src目录下创建mapper包，创建映射文件CustomerMapper.xml</a></li><li><a href="#6_srcMyBatismybatisconfigxml_73" rel="nofollow">6. src目录下创建MyBatis的核心配置文件mybatis-config.xml</a></li><li><a href="#7_srctestMybatisTestfindCustomerByIdTest_77" rel="nofollow">7. src目录下创建test包，创建创建测试类MybatisTest，在类中编写测试方法findCustomerByIdTest().</a></li><li><ul><li><a href="#Juinthttpsblogcsdnnetfulishafulishaarticledetails80158392utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_78" rel="nofollow">Juint测试的使用</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#_81" rel="nofollow">二、输出结果</a></li><li><a href="#_86" rel="nofollow">三、整体代码</a></li><li><ul><li><a href="#_87" rel="nofollow">目录结构</a></li><li><a href="#1_log4jproperties_90" rel="nofollow">1. log4j.properties</a></li><li><a href="#2_POJOpoCustomerjava_103" rel="nofollow">2. POJO类：po包下Customer.java</a></li><li><a href="#3_MapperCustomerMapperxml_150" rel="nofollow">3. 映射文件：Mapper包下CustomerMapper.xml</a></li><li><a href="#4_mybatisconfigxml_171" rel="nofollow">4. 核心配置文件：mybatis-config.xml</a></li><li><a href="#5_TestMyBatisTestjava_204" rel="nofollow">5. 测试类：Test包下MyBatisTest.java</a></li></ul> 
  </li><li><a href="#_249" rel="nofollow">今日感受</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_17"></a>概括</h2> 
<blockquote> 
 <p>本文包括以下内容：</p> 
 <ol><li>Mybatis入门程序：创建mysql数据库，导入需要的jar包，编写映射文件以及核心配置文件等</li><li>扩展内容包括安装mysql数据库，安装MySQL可视化工具之Navicatfor MySQL，mysql驱动jar包的下载，关于如何创建log4j.properties文件，Juint测试的使用</li></ol> 
</blockquote> 
<h2><a id="_24"></a>一、步骤截图</h2> 
<h4><a id="1_mysqlmybatis06t_costomer_27"></a>1. 在mysql数据库中创建mybatis06的数据库，创建t_costomer表，插入三条数据</h4> 
<h5><a id="mysqlhttpsblogcsdnneta802976articledetails119255644utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_28"></a><a href="https://blog.csdn.net/a802976/article/details/119255644?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen">安装mysql数据库</a></h5> 
<h5><a id="MySQLNavicat_for_MySQLhttpsblogcsdnnetpc915968220articledetails100763987utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_29"></a><a href="https://blog.csdn.net/pc915968220/article/details/100763987?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen">安装MySQL可视化工具之Navicat for MySQL</a></h5> 
<p><img src="https://images2.imgbox.com/76/68/2ADxfRFu_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2webjarmybatisjarlibmysqljarweblib_34"></a>2.创建web项目，导入jar包。将mybatis的核心jar包，lib目录下的依赖包，以及mysql数据库的驱动jar包添加到web项目的lib目录下，并发布到类路径中。</h4> 
<h5><a id="mysqljarhttpsblogcsdnnetm0_37482190articledetails86497497utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_35"></a><a href="https://blog.csdn.net/m0_37482190/article/details/86497497?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen">mysql驱动jar包的下载</a></h5> 
<p><img src="https://images2.imgbox.com/57/59/vU44wQwe_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3srclog4jpropertiesmybatislog4jsql_38"></a>3.在src目录下创建log4j.properties。mybatis默认使用log4j输出日志信息，所以配置日志文件，用于查看控制台输出的sql语句</h4> 
<blockquote> 
 <p>不要求掌握直接复制即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/44/84/GHxbVaXW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="log4jproperties_43"></a>关于如何创建log4j.properties文件</h5> 
<blockquote> 
 <p>new–&gt;others–&gt;输入file并选择–&gt;输入文件名时加上你想要的后缀即可<br> <img src="https://images2.imgbox.com/a9/c9/YtTdVvNf_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fb/78/YBGfLwnN_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h4><a id="4_srcpopojoCustomergettersetter_52"></a>4. src目录下创建po包，创建pojo类Customer，声明属性以及getter，setter方法。</h4> 
<blockquote> 
 <p>客户持久化类POJO类，声明属性，及其对应的getter和setter方法</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/0d/9e/mv5jsB6i_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5_srcmapperCustomerMapperxml_58"></a>5. src目录下创建mapper包，创建映射文件CustomerMapper.xml</h4> 
<blockquote> 
 <p>映射文件，里面有sql语句<br> select是执行查询操作的配置 ，参数如下：</p> 
 <ol><li>id指定了其唯一标识符</li><li>parameterType指定了传入参数的类型，这里表示传递给执行sql的是一个integer类型的参数</li><li>resultType指定了返回结果的类型，这里表示返回的数据是Customer类型（包+Customer类名）</li></ol> 
 <p>sql语句中：</p> 
 <ol><li>定义查询的sql语句，#{}用于表示一个占位符，相当于"?"</li><li>而’#{id}表示该占位符等待接收参数的名称是id’</li></ol> 
</blockquote> 
<p><img src="https://images2.imgbox.com/7a/f5/6Ej3coc5_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="6_srcMyBatismybatisconfigxml_73"></a>6. src目录下创建MyBatis的核心配置文件mybatis-config.xml</h4> 
<blockquote> 
 <p>配置了mybatis的运行环境等信息，其主要内容是获取数据库连接</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/02/1f/x8Sj9FSi_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7_srctestMybatisTestfindCustomerByIdTest_77"></a>7. src目录下创建test包，创建创建测试类MybatisTest，在类中编写测试方法findCustomerByIdTest().</h4> 
<h5><a id="Juinthttpsblogcsdnnetfulishafulishaarticledetails80158392utm_sourceappapp_version4210codeapp_1562916241uLinkIdusr1mkqgl919blen_78"></a><a href="https://blog.csdn.net/fulishafulisha/article/details/80158392?utm_source=app&amp;app_version=4.21.0&amp;code=app_1562916241&amp;uLinkId=usr1mkqgl919blen">Juint测试的使用</a></h5> 
<p><img src="https://images2.imgbox.com/27/95/DIn0ozgs_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_81"></a>二、输出结果</h2> 
<p><img src="https://images2.imgbox.com/b5/25/caVLDv0n_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_86"></a>三、整体代码</h2> 
<h3><a id="_87"></a>目录结构</h3> 
<p><img src="https://images2.imgbox.com/55/e0/nk9z2HDs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1_log4jproperties_90"></a>1. log4j.properties</h3> 
<pre><code class="prism language-java">#<span class="token class-name">Global</span> logging configuration
log4j<span class="token punctuation">.</span>rootLogger<span class="token operator">=</span>ERROR<span class="token punctuation">,</span> stdout
#<span class="token class-name">MyBatis</span> logging configuration
log4j<span class="token punctuation">.</span>logger<span class="token punctuation">.</span>com<span class="token punctuation">.</span>itheima<span class="token operator">=</span>DEBUG
#<span class="token class-name">Console</span> output<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>ConsoleAppender</span>
log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>layout<span class="token operator">=</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span>PatternLayout</span>
<span class="token class-name"><span class="token namespace">log4j<span class="token punctuation">.</span>appender<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>layout<span class="token punctuation">.</span></span>ConversionPattern</span><span class="token operator">=</span><span class="token operator">%</span><span class="token number">5</span>p <span class="token punctuation">[</span><span class="token operator">%</span>t<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token operator">%</span>m<span class="token operator">%</span>n
</code></pre> 
<h3><a id="2_POJOpoCustomerjava_103"></a>2. POJO类：po包下Customer.java</h3> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>po</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 客户持久化类POJO类，声明属性，及其对应的getter和setter方法
 * */</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span> <span class="token comment">//主键id</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span> <span class="token comment">//客户名称</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> jobs<span class="token punctuation">;</span> <span class="token comment">//职业</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span> <span class="token comment">//电话</span>
	<span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getJobs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> jobs<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setJobs</span><span class="token punctuation">(</span><span class="token class-name">String</span> jobs<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>jobs <span class="token operator">=</span> jobs<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> phone<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token class-name">String</span> phone<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>phone <span class="token operator">=</span> phone<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//右键source，里面有一个generate toString()</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token string">"Customer [id="</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">", username="</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">", jobs="</span> <span class="token operator">+</span> jobs <span class="token operator">+</span> <span class="token string">", phone="</span> <span class="token operator">+</span> phone <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>	
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="3_MapperCustomerMapperxml_150"></a>3. 映射文件：Mapper包下CustomerMapper.xml</h3> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="token comment">&lt;!-- 固定的约束信息 --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
 <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- &lt;mapper&gt;是配置文件的根元素，namespace指定了该mapper的唯一命名空间，通常是包名+sql映射文件名 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.mapper.CustomerMapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- select是执行查询操作的配置 --&gt;</span>
<span class="token comment">&lt;!-- id指定了其唯一标识符 --&gt;</span>
<span class="token comment">&lt;!-- parameterType指定了传入参数的类型，这里表示传递给执行sql的是一个integer类型的参数 --&gt;</span>
<span class="token comment">&lt;!-- resultType指定了返回结果的类型，这里表示返回的数据是Customer类型（包+Customer类名） --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findCustomerById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Integer<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.itheima.po.Customer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 		<span class="token comment">&lt;!-- 定义查询的sql语句，#{}用于表示一个占位符，相当于"?" --&gt;</span>
 		<span class="token comment">&lt;!-- 而'#{id}表示该占位符等待接收参数的名称是id' --&gt;</span>
 		select * from t_costomer where id = #{id}
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="4_mybatisconfigxml_171"></a>4. 核心配置文件：mybatis-config.xml</h3> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
 <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span>
 <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- mybatis-config.xml是核心配置文件（全局配置文件） --&gt;</span>
<span class="token comment">&lt;!-- 配置了mybatis的运行环境等信息，其主要内容是获取数据库连接 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 1. 配置环境，默认环境id是mysql --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 配置id为mysql的数据库环境 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mysql<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!-- 使用JDBC事务管理 --&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token comment">&lt;!-- 数据库连接池 --&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token comment">&lt;!-- 后面是数据库名字 --&gt;</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/mybatis06<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123456<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 2. 配置Mapper的位置（映射文件的位置） --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com/itheima/mapper/CustomerMapper.xml<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="5_TestMyBatisTestjava_204"></a>5. 测试类：Test包下MyBatisTest.java</h3> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ithiema<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">Customer</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBatisTest</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">/*
	 * 根据客户编号查询客户信息
	 * */</span>
	<span class="token comment">//Junit测试的方法前面必须写@Test</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findCustomerByIdTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">//1. 读取核心配置文件</span>
		<span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>
		<span class="token comment">//通过输入流读取配置文件</span>
		<span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//2. 根据配置文件构建sqlSessionFactory;</span>
		<span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//3. 通过sqlSessionFactory创建sqlSession</span>
		<span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//4. sqlSession执行映射文件中定义的sql，并返回映射结果</span>
		<span class="token comment">//selectOne第一个参数是select的id（包+映射文件名.select的id名）</span>
		<span class="token comment">//selectOne第二个参数是查询所需要的参数，这里查询id为1的客户</span>
		<span class="token class-name">Customer</span> customer <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token string">"com.itheima.mapper"</span><span class="token operator">+</span><span class="token string">".CustomerMapper.findCustomerById"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//打印输出结果</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>customer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//5. 关闭sqlSession </span>
		sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr color="#000000" size='1"'> 
<h2><a id="_249"></a>今日感受</h2> 
<p>自己实践写代码＋写博客真的需要很长时间，还有好几个我想写的还没写哈哈，等晚上再复习测试吧。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/406a996b4499f05d3c83206e806e4529/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">给定一个带头节点的单链表，所有数据值无序，删除介于min和max的所有值</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b7469b6afca57bc71feac6231ab2ca8a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2021年氧化工艺新版试题及氧化工艺模拟试题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>