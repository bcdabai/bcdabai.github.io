<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>磁盘SMART技术应用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="磁盘SMART技术应用" />
<meta property="og:description" content="首先简单介绍一下S.M.A.R.T.，全称为“Self-Monitoring Analysis and Reporting Technology”，即“自我监测、分析及报告技术”。是一种自动的硬盘状态检测与预警系统和规范。通过在硬盘硬件内的检测指令对硬盘的硬件如磁头、盘片、马达、电路的运行情况进行监控、记录并与厂商所设定的预设安全值进行比较，若监控情况将或已超出预设安全值的安全范围，就可以通过主机的监控硬件或软件自动向用户作出警告并进行轻微的自动修复，以提前保障硬盘数据的安全。除一些出厂时间极早的硬盘外，现在大部分硬盘均配备该项技术。
磁盘作为火星舱的主要数据存储介质，它的健康与否关系着整个火星舱的数据安全。为了更好的了解火星舱磁盘状况，我们在火星舱中引入了SMART检测工具smartctl，通过该工具可以一览磁盘的所有健康属性状况。下图是火星舱一块磁盘的SMART属性检测结果。 ARRIBUTE_NAME为属性名称，VALUE为当前值，WORST为历史最差值，THRESH为阈值，TYPE为属性类型，RAW_VALUE为原始值。
对于不同的属性，我们首先关心的是它的类型。包括一般类型“Old_age”和预损坏类型“Pre-fail”，我们也把标有“Pre-fail”类型称为的属性称为关键属性，因为这种属性可以决定一个磁盘是否即将损坏。其次我们要看的VALUE和THRESH的值，通常情况VALUE值是越大越好，如果VALUE值小于THRESH值，那就预示着该磁盘有问题了，如果关键属性的VALUE低于THRESH值，那就说明该磁盘即将损坏。
对于不同厂家的磁盘，关键属性的定义是不同的。如上图火星舱使用的西数硬盘，关键属性是1、3、5，其中：
Raw_Read_Error_Rate 表示存储器从一个硬盘表面读取数据时发生的错误率。原始值由于不同厂商的不同计 算方法而有所不同，其十进制值往往无意义的。一般来说有数值意味着磁头已出现问题了。
Start_Stop_Count 表示一个盘片启动关闭周期的统计值，只有硬盘从完全断电中启动或从睡眠模式恢复，盘片主轴电机被启动时才会记一次数。
Reallocated_Sector_Ct 记录由于损坏而被映射到无损的后备区的扇区计数。当硬盘出现损坏扇区时，可以通过将其物理空间指向到特定的无损区域进行重映射修复，从而出现坏扇区的硬盘仍可使用。但当高过一定数值后，后扇区消耗殆尽而无法再重映射修复时，这些坏扇区就会显现出来且无法自行修复。除外由于要要求磁头读取这些坏扇区时专门再移动到后备区读写数据，对硬盘读写性能也有影响。
因此只要我们监视所有磁盘的这三个属性的当前值是否低于阈值，就可以判断该磁盘是否即将损坏。如果发现有磁盘即将损坏，我们将立刻发送邮件通知管理员并且在火星舱面板点亮对应磁盘的红色预警灯，这样管理员就可以使用火星舱中的磁盘替换功能，从容的用一块未使用盘替换该盘，预防了磁盘损坏可能带来的灾难性后果。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/339a2f9abb06f277e4791faf0cdbfb3a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-08-30T17:04:43+08:00" />
<meta property="article:modified_time" content="2012-08-30T17:04:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">磁盘SMART技术应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="background-color:rgb(255,255,255)"><span style="word-wrap:normal; word-break:normal; line-height:24px; color:rgb(70,70,70); font-family:simsun; font-size:16px">    首先简单介绍一下S.M.A.R.T.，全称为“Self-Monitoring Analysis and Reporting Technology”，即“自我监测、分析及报告技术”。是一种自动的硬盘状态检测与预警系统和规范。通过在硬盘硬件内的检测指令对硬盘的硬件如磁头、盘片、马达、电路的运行情况进行监控、记录并与厂商所设定的预设安全值进行比较，若监控情况将或已超出预设安全值的安全范围，就可以通过主机的监控硬件或软件自动向用户作出警告并进行轻微的自动修复，以提前保障硬盘数据的安全。除一些出厂时间极早的硬盘外，现在大部分硬盘均配备该项技术。<br> </span></span> 
<p><span style="background-color:rgb(255,255,255)"><span style="word-wrap:normal; word-break:normal; line-height:24px; color:rgb(70,70,70); font-family:simsun; font-size:16px">    磁盘作为火星舱的主要数据存储介质，它的健康与否关系着整个火星舱的数据安全。为了更好的了解火星舱磁盘状况，我们在火星舱中引入了SMART检测工具smartctl，通过该工具可以一览磁盘的所有健康属性状况。下图是火星舱一块磁盘的SMART属性检测结果。    </span></span></p> 
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"> 
 <p><span style="background-color:rgb(255,255,255)"><span style="word-wrap:normal; word-break:normal; line-height:24px; color:rgb(70,70,70); font-family:simsun; font-size:16px"><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=7570807d010187pp&amp;url=http://s5.sinaimg.cn/orignal/7570807dhc877720645b4" rel="nofollow noopener noreferrer" target="_blank" style="text-decoration:none; color:rgb(62,115,160); font-family:simsun; font-size:16px; line-height:24px; background-color:rgb(188,211,229)"><img src="https://images2.imgbox.com/4c/bd/MRV6VDyz_o.gif" width="688" height="237" name="image_operate_55301346317087716" alt="火星舱中的SMART" title="火星舱中的SMART" style="margin:0px; padding:0px; border:0px; list-style:none"></a></span></span></p> 
</blockquote> 
<span style="background-color:rgb(255,255,255)"><span style="word-wrap:normal; word-break:normal; line-height:24px; color:rgb(70,70,70); font-family:simsun; font-size:16px">    ARRIBUTE_NAME为属性名称，VALUE为当前值，WORST为历史最差值，THRESH为阈值，TYPE为属性类型，RAW_VALUE为原始值。<br>     对于不同的属性，我们首先关心的是它的类型。包括一般类型“Old_age”和预损坏类型“Pre-fail”，我们也把标有“Pre-fail”类型称为的属性称为关键属性，因为这种属性可以决定一个磁盘是否即将损坏。其次我们要看的VALUE和THRESH的值，通常情况VALUE值是越大越好，如果VALUE值小于THRESH值，那就预示着该磁盘有问题了，如果关键属性的VALUE低于THRESH值，那就说明该磁盘即将损坏。<br>     对于不同厂家的磁盘，关键属性的定义是不同的。如上图火星舱使用的西数硬盘，关键属性是1、3、5，其中：<br>     Raw_Read_Error_Rate  表示存储器从一个硬盘表面读取数据时发生的错误率。原始值由于不同厂商的不同计 算方法而有所不同，其十进制值往往无意义的。一般来说有数值意味着磁头已出现问题了。<br>     Start_Stop_Count     表示一个盘片启动关闭周期的统计值，只有硬盘从完全断电中启动或从睡眠模式恢复，盘片主轴电机被启动时才会记一次数。<br>     Reallocated_Sector_Ct 记录由于损坏而被映射到无损的后备区的扇区计数。当硬盘出现损坏扇区时，可以通过将其物理空间指向到特定的无损区域进行重映射修复，从而出现坏扇区的硬盘仍可使用。但当高过一定数值后，后扇区消耗殆尽而无法再重映射修复时，这些坏扇区就会显现出来且无法自行修复。除外由于要要求磁头读取这些坏扇区时专门再移动到后备区读写数据，对硬盘读写性能也有影响。<br>     因此只要我们监视所有磁盘的这三个属性的当前值是否低于阈值，就可以判断该磁盘是否即将损坏。如果发现有磁盘即将损坏，我们将立刻发送邮件通知管理员并且在火星舱面板点亮对应磁盘的红色预警灯，这样管理员就可以使用火星舱中的磁盘替换功能，从容的用一块未使用盘替换该盘，预防了磁盘损坏可能带来的灾难性后果。<br> </span></span>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c43bcd44a6ac2dc9afb4809531deb0de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">判断ffmpeg读到的packet是否为关键帧</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9d0f8f6f657186a8f0f18f1ea92d1c95/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">职业规划</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>