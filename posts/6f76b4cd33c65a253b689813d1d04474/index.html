<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据分析学习笔记（三）－－numpy：内置函数（通用函数、数学与统计方法、集合） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据分析学习笔记（三）－－numpy：内置函数（通用函数、数学与统计方法、集合）" />
<meta property="og:description" content="通用函数 通用函数（ufunc）是一种对ndarray中对数据执行元素级运算的函数
# 例子数组 a = np.array([-1,2.1,0.2,2.6,9.1]) # [-1. 2.1 0.2 2.6 9.1] b = np.arange(1,len(a)&#43;1) # [1 2 3 4 5] 一元函数 函数说明例子结果abs、fabs计算整数、浮点数和复数对绝对值，对于非复数值，可以使用更快对fabsnp.abs(a)[1. 2.1 0.2 2.6 9.1]sqrt计算各元素的平方根，相当于 arr**0.5np.sqrt(b)square计算各元素的平方，相当于 arr**2np.square(b)[ 1 4 9 16 25 36 49 64 81]exp计算各元素的指数 e(x)log、log10、log2、log1p分别为自然对数（底数为e）、底数为10的log、底数为2的log、log(1&#43;x)sign计算各元素的符号 ，1（正数）、0（零）、-1（负数）np.sign(a)[-1. 1. 1. 1. 1.]ceil向上取整np.ceil(a)[-1. 3. 1. 3. 10.]floor向下取整np.floor(a)[-1. 2. 0. 2. 9.]rint四舍五入，保留dtypenp.rint(a)[-1. 2. 0. 3. 9.]modf将元素的小数和整数部分以两个独立的数组形式返回np.modf(a)(array([-0. , 0.1, 0.2, 0.6, 0.1]), array([-1., 2., 0., 2., 9.]))nonzero将所有非零元素的行与列坐标分割开，重构成两个分别关于行和列的矩阵np.nonzero(a)(array([0, 1, 2, 3, 4]),)clip切除元素np." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6f76b4cd33c65a253b689813d1d04474/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-18T19:05:13+08:00" />
<meta property="article:modified_time" content="2018-04-18T19:05:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据分析学习笔记（三）－－numpy：内置函数（通用函数、数学与统计方法、集合）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="通用函数">通用函数</h3> 
<p>通用函数（ufunc）是一种对ndarray中对数据执行元素级运算的函数</p> 
<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-comment"># 例子数组</span>
<span class="hljs-operator">a</span> = np.array([-<span class="hljs-number">1</span>,<span class="hljs-number">2.1</span>,<span class="hljs-number">0.2</span>,<span class="hljs-number">2.6</span>,<span class="hljs-number">9.1</span>])  <span class="hljs-comment"># [-1.   2.1  0.2  2.6  9.1]</span>
b = np.arange(<span class="hljs-number">1</span>,<span class="hljs-built_in">len</span>(<span class="hljs-operator">a</span>)+<span class="hljs-number">1</span>)           <span class="hljs-comment"># [1 2 3 4 5]</span></code></pre> 
<ul><li>一元函数</li></ul> 
<table><thead><tr><th>函数</th><th>说明</th><th>例子</th><th>结果</th></tr></thead><tbody><tr><td>abs、fabs</td><td>计算整数、浮点数和复数对绝对值，对于非复数值，可以使用更快对fabs</td><td>np.abs(a)</td><td>[1. 2.1 0.2 2.6 9.1]</td></tr><tr><td>sqrt</td><td>计算各元素的平方根，相当于 arr**0.5</td><td>np.sqrt(b)</td><td></td></tr><tr><td>square</td><td>计算各元素的平方，相当于 arr**2</td><td>np.square(b)</td><td>[ 1 4 9 16 25 36 49 64 81]</td></tr><tr><td>exp</td><td>计算各元素的指数 e(x)</td><td></td><td></td></tr><tr><td>log、log10、log2、log1p</td><td>分别为自然对数（底数为e）、底数为10的log、底数为2的log、log(1+x)</td><td></td><td></td></tr><tr><td>sign</td><td>计算各元素的符号 ，1（正数）、0（零）、-1（负数）</td><td>np.sign(a)</td><td>[-1. 1. 1. 1. 1.]</td></tr><tr><td>ceil</td><td>向上取整</td><td>np.ceil(a)</td><td>[-1. 3. 1. 3. 10.]</td></tr><tr><td>floor</td><td>向下取整</td><td>np.floor(a)</td><td>[-1. 2. 0. 2. 9.]</td></tr><tr><td>rint</td><td>四舍五入，保留dtype</td><td>np.rint(a)</td><td>[-1. 2. 0. 3. 9.]</td></tr><tr><td>modf</td><td>将元素的小数和整数部分以两个独立的数组形式返回</td><td>np.modf(a)</td><td>(array([-0. , 0.1, 0.2, 0.6, 0.1]), array([-1., 2., 0., 2., 9.]))</td></tr><tr><td>nonzero</td><td>将所有非零元素的行与列坐标分割开，重构成两个分别关于行和列的矩阵</td><td>np.nonzero(a)</td><td>(array([0, 1, 2, 3, 4]),)</td></tr><tr><td>clip</td><td>切除元素</td><td>np.clip(a, 0, 5) 等同于 a.clip(0,5)</td><td>[0. 2.1 0.2 2.6 5. ]</td></tr><tr><td>isnan</td><td>返回一个布尔数组，True位置的元素为NaN值</td><td></td><td></td></tr><tr><td>isfinite、isinf</td><td>返回一个布尔数组，True位置的元素为有穷的或者是无穷的</td><td></td><td></td></tr><tr><td>cos、conh、sin、sinh、tan、tanh</td><td>普通型和双曲型三角函数</td><td></td><td></td></tr><tr><td>arccos、arccosh、arcsin、arcsinh、arctan、arctanh</td><td>反三角函数</td><td></td><td></td></tr><tr><td>logical_not</td><td>计算各元素not x的真值，相当于 -arr</td><td></td><td></td></tr></tbody></table> 
<ul><li>二元函数</li></ul> 
<table><thead><tr><th>函数</th><th>说明</th><th>例子</th><th>结果</th></tr></thead><tbody><tr><td>add</td><td>相加</td><td>np.add(a,b) 等同于 a+b</td><td>[ 0. 4.1 3.2 6.6 14.1]</td></tr><tr><td>subtract</td><td>第一个数组减第二个数组</td><td>np.subtract(a,b) 等同于 a-b</td><td>[-2. 0.1 -2.8 -1.4 4.1]</td></tr><tr><td>multiply</td><td>相乘</td><td>np.multiply(a,b) 等同于 a*b</td><td>[-1. 4.2 0.6 10.4 45.5]</td></tr><tr><td>divide、floor_divide</td><td>除法或做完除法后向下取整</td><td>np.divide(a,b) 等同于 a/b；np.floor_divide(a,b) 等同于 np.floor(a/b)</td><td></td></tr><tr><td>power</td><td>pow(a,b)，a的b次方</td><td>np.power(a,b)</td><td></td></tr><tr><td>maximum、fmax</td><td>元素中最大值，fmax会忽略NaN</td><td>np.maximum(a,b) 、np.fmax(a,b)</td><td></td></tr><tr><td>minimum、fmin</td><td>元素中最小值，fmin会忽略NaN</td><td></td><td></td></tr><tr><td>mod</td><td>求模</td><td>np.mod(a,b)</td><td></td></tr><tr><td>copysign</td><td>将第二个数组中的值的符号复制给第一个数组中的值</td><td>np.copysign(b,a)</td><td>[-1. 2. 3. 4. 5.]</td></tr><tr><td>greater、greater_equal、less、less_equal、equal、not_equal</td><td>&gt;、&gt;=、&lt;、&lt;=、=、!=</td><td></td><td></td></tr><tr><td>logical_and、logical_or、logical_xor</td><td>元素级的真值逻辑运算，相当于中缀运算符&amp;、|、^</td><td></td><td></td></tr></tbody></table> 
<h3 id="数学与统计方法">数学与统计方法</h3> 
<table><thead><tr><th>函数</th><th>说明</th><th>例子</th><th>结果</th></tr></thead><tbody><tr><td>sum</td><td>对数组中全部或者某轴方向的元素求和</td><td>np.sum(a) 或 a.sum()</td><td>13.0</td></tr><tr><td>mean</td><td>算术平均数，零长度的数组的mean为NaN</td><td>np.mean(a) 或 a.mean()</td><td>2.6</td></tr><tr><td>average</td><td>加权平均，权重相同时，也可看作时算术平均</td><td>np.average(a)</td><td>2.6</td></tr><tr><td>median</td><td>中位数，一组有序数列的中间数，偶数时，取平均</td><td>np.median(a)</td><td>2.1</td></tr><tr><td>std、var</td><td>分别求标准差和方差，自由度可调（默认为n）</td><td>a.std()、a.var()</td><td>3.4991427521608776、12.244</td></tr><tr><td>min、max</td><td>最小值和最大值</td><td></td><td></td></tr><tr><td>argmin、argmax</td><td>分别为最小元素和最大元素的索引</td><td>a.argmin()、a.argmax()</td><td>0、 4</td></tr><tr><td>diff</td><td>diff(a, n=1, axis=-1),后一个与前一个的差值，参数n表示进行n轮运算，多维数组中，可通过axis控制方向</td><td>np.diff(a)</td><td>[ 3.1 -1.9 2.4 6.5]</td></tr><tr><td>cumsum</td><td>所有元素和累计和（数组）</td><td>a.cumsum()</td><td>[-1. 1.1 1.3 3.9 13. ]</td></tr><tr><td>cumprod</td><td>所有元素的累计积（数组）</td><td>np.cumprod()</td><td>[-1. -2.1 -0.42 -1.092 -9.9372]</td></tr></tbody></table> 
<p>注： <br> 上述例子是一维数组，如果是二维数组调用方法类似，不过可以使用参数 axis 指定方向，1为横向，0为竖向</p> 
<pre class="prettyprint"><code class=" hljs python">arr = np.arange(<span class="hljs-number">24</span>).reshape(<span class="hljs-number">4</span>,<span class="hljs-number">6</span>)
<span class="hljs-string">'''
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
 '''</span>
<span class="hljs-comment"># 求和</span>
arr.sum()           <span class="hljs-comment"># 276   总和</span>
arr.sum(axis=<span class="hljs-number">0</span>)     <span class="hljs-comment">#  [36 40 44 48 52 56]</span>
<span class="hljs-comment"># 算术平均数</span>
arr.mean()          <span class="hljs-comment"># 11.5      总数的算术平均数</span>
arr.mean(axis=<span class="hljs-number">1</span>)    <span class="hljs-comment"># [ 2.5  8.5 14.5 20.5] 竖向的算术平均数</span></code></pre> 
<p>关于加权平均数 ： average函数</p> 
<pre class="prettyprint"><code class=" hljs avrasm">arr = np<span class="hljs-preprocessor">.arange</span>(<span class="hljs-number">10</span>)<span class="hljs-preprocessor">.reshape</span>(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>)
<span class="hljs-string">'''</span>
[[<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>]
 [<span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span>]]
 <span class="hljs-string">'''</span>
arr<span class="hljs-preprocessor">.mean</span>()          <span class="hljs-preprocessor"># 4.5 算术平均数 </span>
np<span class="hljs-preprocessor">.average</span>(arr)     <span class="hljs-preprocessor"># 4.5 可看作是算术平均数</span>
np<span class="hljs-preprocessor">.average</span>(arr, axis=<span class="hljs-number">1</span>) <span class="hljs-preprocessor"># [2. 7.]，给出了方向</span>
np<span class="hljs-preprocessor">.average</span>(arr, weights=np<span class="hljs-preprocessor">.arange</span>(arr1<span class="hljs-preprocessor">.size</span>)<span class="hljs-preprocessor">.reshape</span>(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>))  <span class="hljs-preprocessor"># 传入了权重 6.333333333333333</span></code></pre> 
<h3 id="集合">集合</h3> 
<pre class="prettyprint"><code class=" hljs avrasm"><span class="hljs-preprocessor"># 例子数组</span>
s0 = np<span class="hljs-preprocessor">.array</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>])    <span class="hljs-preprocessor"># [1 2 3 2 1 4 5 2]</span>
s1 = np<span class="hljs-preprocessor">.arange</span>(<span class="hljs-number">0</span>,<span class="hljs-number">30</span>,<span class="hljs-number">2</span>)  <span class="hljs-preprocessor"># [ 0  2  4  6  8 10 12 14 16 18 20 22 24 26 28]</span>
s2 = np<span class="hljs-preprocessor">.arange</span>(<span class="hljs-number">0</span>,<span class="hljs-number">30</span>,<span class="hljs-number">3</span>)  <span class="hljs-preprocessor"># [ 0  3  6  9 12 15 18 21 24 27]</span></code></pre> 
<table><thead><tr><th>函数</th><th>说明</th><th>例子</th><th>结果</th></tr></thead><tbody><tr><td>unique(x)</td><td>计算x中唯一元素，并返回有序的结果</td><td>np.unique(s0)</td><td>[1 2 3 4 5]</td></tr><tr><td>intersect1d(x,y)</td><td>交集，并返回有序结果</td><td>np.intersect1d(s1,s2)</td><td>[ 0 6 12 18 24]</td></tr><tr><td>union1d(x,y)</td><td>并集，并返回有序结果</td><td>np.union1d(s1,s2)</td><td>[ 0 2 3 4 6 8 9 10 12 14 15 16 18 20 21 22 24 26 27 28]</td></tr><tr><td>setdiff1d(x,y)</td><td>集合差，即元素在x中且不再y中</td><td>np.setdiff1d(s1,s2)</td><td>[ 2 4 8 10 14 16 20 22 26 28]</td></tr><tr><td>setxor1d(x,y)</td><td>集合对称差，只存在x和y中的元素集合</td><td>np.setxor1d(s1,s2)</td><td>[ 2 3 4 8 9 10 14 15 16 20 21 22 26 27 28]</td></tr><tr><td>in1d(x,y)</td><td>得到一个”x的元素是否包含于y”的布尔行数组</td><td>np.in1d(s2,s1)</td><td>[ True False True False True False True False True False]</td></tr></tbody></table> 
<p>注：数组1和数组2的元素数量及shape都可以不同 <br> 上述例子中的s1和s2虽然都是一维的，但是数量并不相同；为了验证集合操作无关shape，我们将s1和s2的shape做一下改变</p> 
<pre class="prettyprint"><code class=" hljs python">s1 = s1.reshape(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>)
<span class="hljs-string">'''
[[ 0  2  4  6  8]
 [10 12 14 16 18]
 [20 22 24 26 28]]
 '''</span>
s2 = s2.reshape(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>)
<span class="hljs-string">'''
[[ 0  3  6  9 12]
 [15 18 21 24 27]]
 '''</span>
np.intersect1d(s1,s2)   <span class="hljs-comment"># [15 18 21 24 27]]</span>
np.union1d(s1,s2)       <span class="hljs-comment"># [ 0  2  3  4  6  8  9 10 12 14 15 16 18 20 21 22 24 26 27 28]</span>
np.setdiff1d(s2,s1)     <span class="hljs-comment"># [ 3  9 15 21 27]</span></code></pre> 
<h3 id="补充wheresortanyall">补充（where、sort、any、all）</h3> 
<ul><li><p>where</p> <p>where函数是一个三目运算符，where(condition, x, y)， <br> 完成类似下面的工作</p></li></ul> 
<pre class="prettyprint"><code class=" hljs mel"><span class="hljs-keyword">if</span>（<span class="hljs-keyword">condition</span>）：
　　x
<span class="hljs-keyword">else</span>:
　　y</code></pre> 
<p>例子1：有xarr和yarr两个数组，需要根据condition选择数据</p> 
<pre class="prettyprint"><code class=" hljs php">xarr = np.<span class="hljs-keyword">array</span>(np.arange(<span class="hljs-number">1.1</span>, <span class="hljs-number">1.6</span>, <span class="hljs-number">0.1</span>))
yarr = np.<span class="hljs-keyword">array</span>(np.arange(<span class="hljs-number">2.1</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">0.1</span>))
cond = np.<span class="hljs-keyword">array</span>([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>])</code></pre> 
<p>在python语法中：</p> 
<pre class="prettyprint"><code class=" hljs oxygene"><span class="hljs-keyword">result</span> = [x <span class="hljs-keyword">if</span> c <span class="hljs-keyword">else</span> y <span class="hljs-keyword">for</span> x, y, c <span class="hljs-keyword">in</span> zip(xarr, yarr, cond)]
输出：
[<span class="hljs-number">1.1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">1.3000000000000003</span>, <span class="hljs-number">1.4000000000000004</span>, <span class="hljs-number">2.5000000000000004</span>]
非常不方便，而且出现了数据异常问题</code></pre> 
<p>在numpy中使用where函数：</p> 
<pre class="prettyprint"><code class=" hljs oxygene"><span class="hljs-keyword">result</span> = np.<span class="hljs-keyword">where</span>(cond, xarr, yarr)
输出：
[<span class="hljs-number">1.1</span> <span class="hljs-number">2.2</span> <span class="hljs-number">1.3</span> <span class="hljs-number">1.4</span> <span class="hljs-number">2.5</span>]</code></pre> 
<p>例子2：将arr数组中小于0的部分重制为0，其余部分保留</p> 
<pre class="prettyprint"><code class=" hljs lua">arr = np.random.randn(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)  
输出：
<span class="hljs-string">[[ 0.40336609 -1.42094364 -1.1257582   0.2787659 ]
 [-0.64618146 -0.56508989  0.20527747  1.8542685 ]
 [-0.39792887  0.94738928 -0.68713023  0.60328758]
 [-0.94495984 -1.47217366  0.03280616 -0.13120201]]</span>
arr = np.where(arr&gt;<span class="hljs-number">0</span>, arr, <span class="hljs-number">0</span>)
输出：
<span class="hljs-string">[[0.40336609 0.         0.         0.2787659 ]
 [0.         0.         0.20527747 1.8542685 ]
 [0.         0.94738928 0.         0.60328758]
 [0.         0.         0.03280616 0.        ]]</span></code></pre> 
<p>例子3：复杂嵌套的情况</p> 
<pre class="prettyprint"><code class=" hljs ini"><span class="hljs-setting">cond1 = <span class="hljs-value">np.array([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>])</span></span>
<span class="hljs-setting">cond2 = <span class="hljs-value">np.array([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>])</span></span>
<span class="hljs-setting">result = <span class="hljs-value">[]</span></span></code></pre> 
<p>python语法：</p> 
<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-keyword">for</span> i <span class="hljs-operator">in</span> range(<span class="hljs-built_in">len</span>(cond1)):
    <span class="hljs-keyword">if</span> cond1[i] <span class="hljs-operator">and</span> cond2[i]:
        <span class="hljs-built_in">result</span>.append(<span class="hljs-number">0</span>)
    elif cond1[i]:
        <span class="hljs-built_in">result</span>.append(<span class="hljs-number">1</span>)
    elif cond2[i]:
        <span class="hljs-built_in">result</span>.append(<span class="hljs-number">2</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">result</span>.append(<span class="hljs-number">3</span>)
print(<span class="hljs-built_in">result</span>)           <span class="hljs-comment"># [0, 2, 0, 1, 3]</span></code></pre> 
<p>在numpy中使用where函数：</p> 
<pre class="prettyprint"><code class=" hljs applescript"><span class="hljs-constant">result</span> = np.<span class="hljs-keyword">where</span>(cond1&amp;cond2, <span class="hljs-number">0</span> ,
             np.<span class="hljs-keyword">where</span>(cond1, <span class="hljs-number">1</span>,
                  np.<span class="hljs-keyword">where</span>(cond2, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)))
<span class="hljs-type">list</span>(<span class="hljs-constant">result</span>)     <span class="hljs-comment"># [0, 2, 0, 1, 3]</span></code></pre> 
<p>注：where函数可以只传条件，返回条件对象的真值下标数组</p> 
<pre class="prettyprint"><code class=" hljs avrasm">arr = np<span class="hljs-preprocessor">.random</span><span class="hljs-preprocessor">.randn</span>(<span class="hljs-number">10</span>)
np<span class="hljs-preprocessor">.where</span>(arr&gt;<span class="hljs-number">0</span>)      <span class="hljs-preprocessor"># (array([1, 2, 3, 6, 9]),)</span></code></pre> 
<p>如果是多维数组，返回也是数组，分别返回纬度数组索引</p> 
<pre class="prettyprint"><code class=" hljs oxygene">cond1 = np.<span class="hljs-keyword">array</span>([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>])
cond2 = np.<span class="hljs-keyword">array</span>([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>])
arr = np.<span class="hljs-keyword">array</span>([cond1,cond2])
np.<span class="hljs-keyword">where</span>(arr)
# (<span class="hljs-keyword">array</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]), <span class="hljs-keyword">array</span>([<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]))
# 即 [(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>),(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>),(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>),(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>),(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)]位置</code></pre> 
<ul><li>sort 排序</li></ul> 
<pre class="prettyprint"><code class=" hljs python"><span class="hljs-comment"># 多维数组，可指定方向</span>
arr = np.random.randn(<span class="hljs-number">20</span>).reshape(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)
<span class="hljs-string">'''
[[-0.94603557 -0.18393318  0.11450866  0.40325255  0.45881851]
 [ 1.17704035 -0.41401001  0.75339636 -0.43745415  2.7929479 ]
 [-0.28784153 -1.48745643 -0.07142102 -0.5482369  -0.22610164]
 [ 1.35561729 -1.08766432  0.83278514 -1.32299757  0.04410116]]
 '''</span>
np.sort(arr, axis=<span class="hljs-number">0</span>)     <span class="hljs-comment"># 竖向排序（默认为横向排序）</span>
<span class="hljs-string">'''
[[-0.94603557 -1.48745643 -0.07142102 -1.32299757 -0.22610164]
 [-0.28784153 -1.08766432  0.11450866 -0.5482369   0.04410116]
 [ 1.17704035 -0.41401001  0.75339636 -0.43745415  0.45881851]
 [ 1.35561729 -0.18393318  0.83278514  0.40325255  2.7929479 ]]
 '''</span>
 <span class="hljs-comment"># 一维数组</span>
arr = np.array([<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>])
arr.sort()      <span class="hljs-comment"># 这种方式排序会直接改变「原」数组，使用np.sort()方式则将产生新的排序后的数组，而不改变原数组</span>
print(arr)      <span class="hljs-comment"># [2 6 4 2 1 4]</span></code></pre> 
<p>例子：我想知道一组数据的25%分位数是多少？</p> 
<pre class="prettyprint"><code class=" hljs python"><span class="hljs-comment"># 产生一组数据</span>
arr = np.random.randn(<span class="hljs-number">20</span>).reshape(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>)
<span class="hljs-comment"># 1.我们先将其转化为一维数组，并进行排序处理</span>
arr = arr.flatten()
<span class="hljs-comment"># 排序</span>
arr.sort()
<span class="hljs-comment"># 获取25%下标数据</span>
value = arr[int(<span class="hljs-number">0.25</span>*len(arr))] <span class="hljs-comment"># 获取25%分位数</span>
print(arr)
<span class="hljs-string">'''
[-1.8819284  -1.84223613 -1.55037549 -1.19713841 -0.91661269 -0.69222229
 -0.6796624  -0.65882803 -0.55325753 -0.34502426 -0.1197655   0.36925446
  0.5343373   0.62780224  0.74335279  0.82012463  1.00546263  1.08559715
  1.29212188  1.47629451]
  '''</span>
print(value)    <span class="hljs-comment"># -0.69222229</span></code></pre> 
<ul><li><p>all、any</p> <p>all：是否都是 True , 如果都是返回 True 否则 False <br> any: 是否存在 True , 如果存在 True 返回 True 否则 False</p></li></ul> 
<pre class="prettyprint"><code class=" hljs php">arr = np.<span class="hljs-keyword">array</span>([<span class="hljs-keyword">True</span>,<span class="hljs-keyword">False</span>,<span class="hljs-keyword">True</span>,<span class="hljs-keyword">True</span>,<span class="hljs-keyword">False</span>])
arr.all()    <span class="hljs-comment"># False</span>
arr.any()    <span class="hljs-comment"># True</span></code></pre> 
<p>布尔型数组的统计方法</p> 
<pre class="prettyprint"><code class=" hljs avrasm">arr = np<span class="hljs-preprocessor">.random</span><span class="hljs-preprocessor">.randn</span>(<span class="hljs-number">100</span>)
(arr&gt;<span class="hljs-number">0</span>)<span class="hljs-preprocessor">.sum</span>()      <span class="hljs-preprocessor"># 统计正值的总数 </span></code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/da8dbaf28abe7507008fe9b77f9a35d0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">phpstudy出现80端口被占用,占用进程为system</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab417eee4e599f8cb0f6eaef1648e5a0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数数并说(Count And Say)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>