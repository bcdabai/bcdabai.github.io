<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络基础(一)桥接网络 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络基础(一)桥接网络" />
<meta property="og:description" content="网络基础知识
桥接网络 桥接网络是一种网络设计技术，其目的是将两个或多个网络段连接在一起，使它们在逻辑上表现为单个网络。这通过使用网络桥来实现，网络桥工作在数据链路层（第2层），只关心MAC地址，而不关心IP地址。
下面是桥接网络如何工作的详细解释：
1. 识别问题 假设你有两个不同的局域网段，每个段上都有一些设备，它们彼此间无法直接通信。你希望这两个网络段能够彼此通信，就像它们是单个网络一样。
2. 引入桥接设备 要解决这个问题，你可以使用一个网络桥接设备（简称桥）。桥是一个智能设备，能够了解来自每个网络段的数据流，并了解如何将这些数据流相互连接。
3. 学习和转发 桥的工作方式如下：
a. 学习阶段：桥监听每个连接的网络段，学习每个端口上的设备MAC地址。通过这种方式，桥知道每个MAC地址属于哪个网络段。
b. 转发阶段：当桥收到一个数据帧时，它查看目的MAC地址，然后使用学习到的信息确定如何转发该帧。如果目标MAC在同一侧的网络段，桥不会转发。如果目标MAC在另一侧的网络段，桥会将帧转发到适当的端口。
4. 透明桥接 桥接通常是透明的，意味着网络上的设备不知道桥的存在。它们只是正常发送和接收数据帧，就像所有设备都在同一个局域网上一样。
5. 优势与使用场景 桥接网络在许多情况下非常有用。例如，当你想将不同楼层或不同建筑物的网络连接在一起时，或者当你使用虚拟化技术时，例如在虚拟机之间进行通信。
总的来说，桥接网络是一种将多个物理或逻辑网络段连接为一个统一的逻辑网络的方法。它在MAC地址级别工作，提供了一种简单有效的方式来增强和扩展局域网的连接性。
`桥如何监听每个连接网络段的? 它为什么能做到这点? 它又是如何能在不同网络段内实现通信的?它的通信原理和通信细节是怎么样的? 桥接设备（网络桥）的功能确实相当有趣且复杂
1. 如何监听每个连接的网络段 网络桥有多个端口，每个端口连接到网络的一个段。当数据帧在这个段中传输时，桥的端口会&#34;监听&#34;这些帧。
学习MAC地址：桥会检查每个经过的数据帧的源MAC地址。这些地址用于构建一个表，其中记录了每个MAC地址与桥的哪个端口相关联。这就是所谓的MAC地址表。
转发决策：当桥收到要转发的帧时，它会查看目标MAC地址，并参照MAC地址表决定如何转发。如果目标MAC地址与发送端在同一个端口，则该帧被丢弃。如果目标在另一个端口，则帧被转发到该端口。
2. 为什么能做到这一点 网络桥工作在OSI模型的第2层，也就是数据链路层。在这一层，通信是通过物理地址（MAC地址）进行的，而不是通过IP地址。由于桥接设备理解这一层的协议，因此它能够分析经过其端口的每个数据帧，并做出相应的转发决策。
3. 如何在不同网络段内实现通信 通过学习MAC地址，并将它们与特定的端口关联，桥接设备能够了解如何在不同的网络段之间转发帧。
如果目标MAC地址与源MAC地址在同一网络段（同一端口），则桥不会转发该帧。
如果目标MAC地址在不同的网络段（不同端口），则桥会将该帧转发到与目标MAC地址关联的端口。
4. 通信原理和细节 在更技术的层面上，桥接设备使用了以下几个主要步骤来执行其功能：
学习：通过不断监听经过的数据帧，桥学习了网络的拓扑结构。
转发/过滤：根据目标MAC地址的位置，桥要么转发数据帧，要么丢弃它。
隔离碰撞域：通过将每个端口视为单独的碰撞域，桥有助于降低网络拥塞。
可选的跨越VLAN：在更高级的设置中，桥还可以理解虚拟局域网（VLAN）标签，并据此做出转发决策。
总之，桥接设备通过监听和学习MAC地址，能够智能地在不同的网络段之间转发数据帧。这一过程允许不同的物理网络段在逻辑上作为一个单一的网络操作，从而实现了更灵活的网络设计和更高的效率。
桥接通常是透明的这里透明的是什么意思? 如何做到透明的? 在网络中，当我们说桥接（Bridging）是&#34;透明的&#34;，我们是指网络桥接设备对于位于局域网内的主机和其它网络设备来说是不可见的。换句话说，当数据在网络上流动时，主机不需要知道存在桥接设备，也不需要特别的配置来与桥接设备交互。桥接的透明性有以下特点：
**自动工作：**网桥设备能够自动学习网络上的MAC地址，并决定如何将帧转发到正确的目的地。它们不需要任何特殊的配置或管理。
**不改变数据包：**当数据包通过网桥时，网桥通常不会改变数据包的内容。数据包的源和目的MAC地址保持不变。
**透明转发：**网桥基于MAC地址表进行决策，以确定如何转发帧。这个过程对于发送和接收数据包的设备来说是透明的。
**不影响主机配置：**主机不需要任何特殊的配置或软件来与网桥设备协同工作。网桥与主机间的交互对主机来说是不可见的。
**与路由器的区别：**与路由器不同，网桥工作在数据链路层，并且不涉及IP地址的处理。因此，它们在网络中的存在对主机来说是透明的，而路由器在网络层工作，并可能需要更复杂的配置和交互。
**不干扰现有的网络结构：**网桥可以很容易地添加到现有网络中，以连接不同的局域网段，而不会干扰现有的网络结构和配置。
透明桥接的这些特点使得它成为连接不同局域网段或隔离网络流量的一个简单而有效的解决方案。它允许网络管理员灵活地扩展和管理网络，同时对终端用户的影响最小。
网桥的转发和局域网内寻址会不会在传输数据包存在冲突? 如何解决冲突的即数据包是由局域网内寻址还是通过网桥转发, 如果网桥转发了数据包, 那么这个数据包如果是同一个网段内的,它如何保证数据到达正确的位置?我想问的是首先局域网内寻址,还是优先网桥寻址? 是按顺序寻址,还是同时局域网内和网桥一起传输寻址
网桥（或交换机）的工作方式确保了在数据包传输过程中的寻址不会与局域网内的寻址冲突。以下是如何实现的细节：
**MAC地址学习：**网桥会自动学习网络上连接设备的MAC地址。当一个数据帧到达网桥的某个端口时，网桥会查看源MAC地址，并在其内部的地址表中记录该MAC地址与到达的端口之间的关联。
**基于MAC地址转发：**当网桥需要转发一个数据帧时，它会查看目的MAC地址，并在其地址表中查找与该地址关联的端口。如果找到匹配的端口，帧将仅转发到该端口。如果目标MAC地址与发送端在同一个端口，则该帧被丢弃（因为接收者与发送者在同一网段，不需要通过网桥）。如果目的MAC地址不在表中，则帧将在所有端口上广播（除了到达的端口）。
**冲突的解决：**网桥只转发到正确的端口，不会在不必要的端口上广播帧。这消除了数据帧的冲突，并减少了网络上的流量。当两个设备在同一个网段内通信时，由于它们的MAC地址关联的是同一个端口，网桥就会知道不需要转发该帧。
**隔离冲突域：**网桥还通过将每个端口视为单独的冲突域来减少冲突。如果在一个端口上检测到冲突，它不会传播到其他端口。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a212f16aa2d0fe0bde0547244679372e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-13T19:03:21+08:00" />
<meta property="article:modified_time" content="2023-08-13T19:03:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络基础(一)桥接网络</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>网络基础知识</p> 
<h2><a id="_4"></a>桥接网络</h2> 
<p>桥接网络是一种网络设计技术，其目的是将两个或多个网络段连接在一起，使它们在逻辑上表现为单个网络。这通过使用网络桥来实现，网络桥工作在数据链路层（第2层），只关心MAC地址，而不关心IP地址。</p> 
<p>下面是桥接网络如何工作的详细解释：</p> 
<h4><a id="1__10"></a>1. 识别问题</h4> 
<p>假设你有两个不同的局域网段，每个段上都有一些设备，它们彼此间无法直接通信。你希望这两个网络段能够彼此通信，就像它们是单个网络一样。</p> 
<h4><a id="2__14"></a>2. 引入桥接设备</h4> 
<p>要解决这个问题，你可以使用一个网络桥接设备（简称桥）。桥是一个智能设备，能够了解来自每个网络段的数据流，并了解如何将这些数据流相互连接。</p> 
<h4><a id="3__18"></a>3. 学习和转发</h4> 
<p>桥的工作方式如下：</p> 
<p>a. <strong>学习阶段</strong>：桥监听每个连接的网络段，学习每个端口上的设备MAC地址。通过这种方式，桥知道每个MAC地址属于哪个网络段。</p> 
<p>b. <strong>转发阶段</strong>：当桥收到一个数据帧时，它查看目的MAC地址，然后使用学习到的信息确定如何转发该帧。如果目标MAC在同一侧的网络段，桥不会转发。如果目标MAC在另一侧的网络段，桥会将帧转发到适当的端口。</p> 
<h4><a id="4__26"></a>4. 透明桥接</h4> 
<p>桥接通常是透明的，意味着网络上的设备不知道桥的存在。它们只是正常发送和接收数据帧，就像所有设备都在同一个局域网上一样。</p> 
<h4><a id="5__30"></a>5. 优势与使用场景</h4> 
<p>桥接网络在许多情况下非常有用。例如，当你想将不同楼层或不同建筑物的网络连接在一起时，或者当你使用虚拟化技术时，例如在虚拟机之间进行通信。</p> 
<p>总的来说，桥接网络是一种将多个物理或逻辑网络段连接为一个统一的逻辑网络的方法。它在MAC地址级别工作，提供了一种简单有效的方式来增强和扩展局域网的连接性。</p> 
<h3><a id="___38"></a>`桥如何监听每个连接网络段的? 它为什么能做到这点? 它又是如何能在不同网络段内实现通信的?它的通信原理和通信细节是怎么样的?</h3> 
<p>桥接设备（网络桥）的功能确实相当有趣且复杂</p> 
<h4><a id="1__42"></a>1. 如何监听每个连接的网络段</h4> 
<p>网络桥有多个端口，每个端口连接到网络的一个段。当数据帧在这个段中传输时，桥的端口会"监听"这些帧。</p> 
<ul><li> <p><strong>学习MAC地址</strong>：桥会检查每个经过的数据帧的源MAC地址。这些地址用于构建一个表，其中记录了每个MAC地址与桥的哪个端口相关联。这就是所谓的MAC地址表。</p> </li><li> <p><strong>转发决策</strong>：当桥收到要转发的帧时，它会查看目标MAC地址，并参照MAC地址表决定如何转发。如果目标MAC地址与发送端在同一个端口，则该帧被丢弃。如果目标在另一个端口，则帧被转发到该端口。</p> </li></ul> 
<h4><a id="2__50"></a>2. 为什么能做到这一点</h4> 
<p>网络桥工作在OSI模型的第2层，也就是数据链路层。在这一层，通信是通过物理地址（MAC地址）进行的，而不是通过IP地址。由于桥接设备理解这一层的协议，因此它能够分析经过其端口的每个数据帧，并做出相应的转发决策。</p> 
<h4><a id="3__54"></a>3. 如何在不同网络段内实现通信</h4> 
<p>通过学习MAC地址，并将它们与特定的端口关联，桥接设备能够了解如何在不同的网络段之间转发帧。</p> 
<ul><li> <p>如果目标MAC地址与源MAC地址在同一网络段（同一端口），则桥不会转发该帧。</p> </li><li> <p>如果目标MAC地址在不同的网络段（不同端口），则桥会将该帧转发到与目标MAC地址关联的端口。</p> </li></ul> 
<h4><a id="4__62"></a>4. 通信原理和细节</h4> 
<p>在更技术的层面上，桥接设备使用了以下几个主要步骤来执行其功能：</p> 
<ul><li> <p><strong>学习</strong>：通过不断监听经过的数据帧，桥学习了网络的拓扑结构。</p> </li><li> <p><strong>转发/过滤</strong>：根据目标MAC地址的位置，桥要么转发数据帧，要么丢弃它。</p> </li><li> <p><strong>隔离碰撞域</strong>：通过将每个端口视为单独的碰撞域，桥有助于降低网络拥塞。</p> </li><li> <p><strong>可选的跨越VLAN</strong>：在更高级的设置中，桥还可以理解虚拟局域网（VLAN）标签，并据此做出转发决策。</p> </li></ul> 
<p>总之，桥接设备通过监听和学习MAC地址，能够智能地在不同的网络段之间转发数据帧。这一过程允许不同的物理网络段在逻辑上作为一个单一的网络操作，从而实现了更灵活的网络设计和更高的效率。</p> 
<h3><a id="__78"></a><code>桥接通常是透明的</code>这里透明的是什么意思? 如何做到透明的?</h3> 
<p>在网络中，当我们说桥接（Bridging）是"透明的"，我们是指网络桥接设备对于位于局域网内的主机和其它网络设备来说是不可见的。换句话说，当数据在网络上流动时，主机不需要知道存在桥接设备，也不需要特别的配置来与桥接设备交互。桥接的透明性有以下特点：</p> 
<ol><li> <p>**自动工作：**网桥设备能够自动学习网络上的MAC地址，并决定如何将帧转发到正确的目的地。它们不需要任何特殊的配置或管理。</p> </li><li> <p>**不改变数据包：**当数据包通过网桥时，网桥通常不会改变数据包的内容。数据包的源和目的MAC地址保持不变。</p> </li><li> <p>**透明转发：**网桥基于MAC地址表进行决策，以确定如何转发帧。这个过程对于发送和接收数据包的设备来说是透明的。</p> </li><li> <p>**不影响主机配置：**主机不需要任何特殊的配置或软件来与网桥设备协同工作。网桥与主机间的交互对主机来说是不可见的。</p> </li><li> <p>**与路由器的区别：**与路由器不同，网桥工作在数据链路层，并且不涉及IP地址的处理。因此，它们在网络中的存在对主机来说是透明的，而路由器在网络层工作，并可能需要更复杂的配置和交互。</p> </li><li> <p>**不干扰现有的网络结构：**网桥可以很容易地添加到现有网络中，以连接不同的局域网段，而不会干扰现有的网络结构和配置。</p> </li></ol> 
<p>透明桥接的这些特点使得它成为连接不同局域网段或隔离网络流量的一个简单而有效的解决方案。它允许网络管理员灵活地扩展和管理网络，同时对终端用户的影响最小。</p> 
<h3><a id="_96"></a>网桥的转发和局域网内寻址会不会在传输数据包存在冲突?</h3> 
<p>如何解决冲突的即数据包是由局域网内寻址还是通过网桥转发, 如果网桥转发了数据包, 那么这个数据包如果是同一个网段内的,它如何保证数据到达正确的位置?我想问的是首先局域网内寻址,还是优先网桥寻址? 是按顺序寻址,还是同时局域网内和网桥一起传输寻址</p> 
<p>网桥（或交换机）的工作方式确保了在数据包传输过程中的寻址不会与局域网内的寻址冲突。以下是如何实现的细节：</p> 
<ol><li> <p>**MAC地址学习：**网桥会自动学习网络上连接设备的MAC地址。当一个数据帧到达网桥的某个端口时，网桥会查看源MAC地址，并在其内部的地址表中记录该MAC地址与到达的端口之间的关联。</p> </li><li> <p>**基于MAC地址转发：**当网桥需要转发一个数据帧时，它会查看目的MAC地址，并在其地址表中查找与该地址关联的端口。如果找到匹配的端口，帧将仅转发到该端口。如果目标MAC地址与发送端在同一个端口，则该帧被丢弃（因为接收者与发送者在同一网段，不需要通过网桥）。如果目的MAC地址不在表中，则帧将在所有端口上广播（除了到达的端口）。</p> </li><li> <p>**冲突的解决：**网桥只转发到正确的端口，不会在不必要的端口上广播帧。这消除了数据帧的冲突，并减少了网络上的流量。当两个设备在同一个网段内通信时，由于它们的MAC地址关联的是同一个端口，网桥就会知道不需要转发该帧。</p> </li><li> <p>**隔离冲突域：**网桥还通过将每个端口视为单独的冲突域来减少冲突。如果在一个端口上检测到冲突，它不会传播到其他端口。</p> </li></ol> 
<p>通过这样的方式，网桥能够精确地知道何时以及如何转发或丢弃帧。这确保了即使在不同的局域网段之间也能正确传输数据，同时还能减少不必要的流量和冲突。总的来说，网桥的存在并不干扰局域网内的正常寻址和通信，反而提高了效率和可靠性。</p> 
<h3><a id="_111"></a>网桥和路由器,交换机是什么关系?</h3> 
<p>网桥（Bridge）、路由器（Router）和交换机（Switch）都是网络设备，用于连接和管理不同的网络段或设备。下面是对它们之间关系和主要功能的简要概述：</p> 
<ol><li> <p><strong>交换机（Switch）</strong>：</p> 
  <ul><li><strong>工作层级</strong>：数据链路层（第2层）。</li><li><strong>功能</strong>：连接同一个局域网内的多个设备，并根据MAC地址转发数据帧到正确的端口。</li><li><strong>透明性</strong>：对于局域网内的设备来说，交换机的存在是透明的。</li></ul> </li><li> <p><strong>网桥（Bridge）</strong>：</p> 
  <ul><li><strong>工作层级</strong>：也在数据链路层（第2层）。</li><li><strong>功能</strong>：连接不同的局域网段，并根据MAC地址过滤和转发数据帧。它可以将流量限制在特定的网络段内，从而减少拥塞。</li><li><strong>与交换机的关系</strong>：网桥可以视为一种特殊类型的交换机，具有限制的端口数量，通常用于连接两个或更少的网络段。</li></ul> </li><li> <p><strong>路由器（Router）</strong>：</p> 
  <ul><li><strong>工作层级</strong>：网络层（第3层）。</li><li><strong>功能</strong>：连接不同的网络，如局域网和广域网，并根据IP地址转发数据包。路由器还可以执行NAT、防火墙和其他高级网络功能。</li><li><strong>与网桥和交换机的关系</strong>：路由器在OSI模型的更高层级工作，可以进行更复杂的网络操作。路由器通常具有内置的交换机功能，可以在局域网内连接多个设备。</li></ul> </li></ol> 
<p>总结：</p> 
<ul><li><strong>交换机</strong>用于连接局域网内的设备，并在第2层上工作。</li><li><strong>网桥</strong>是一种特殊类型的交换机，用于连接不同的局域网段。</li><li><strong>路由器</strong>在第3层工作，连接不同的网络，并可能包括内置的交换机功能。</li></ul> 
<p>这些设备共同协作，支持现代复杂网络的运行，各自在网络传输过程中扮演不同的角色。</p> 
<h3><a id="__138"></a>进行通信时,这三个设备的数据传输顺序怎么样的? 一个数据包先经过谁后经过谁?</h3> 
<p>数据包在这三个设备（交换机、网桥、路由器）之间的传输顺序取决于源和目的地的位置，以及网络的结构和配置。以下是几个常见的场景，说明数据包可能如何通过这些设备：</p> 
<ol><li> <p><strong>同一局域网内的通信</strong>：</p> 
  <ul><li>数据包首先经过<strong>交换机</strong>。</li><li>在同一局域网内，数据包不需要通过网桥或路由器。</li></ul> </li><li> <p><strong>跨不同局域网段但在同一广域网内的通信</strong>：</p> 
  <ul><li>数据包首先经过源设备所连接的<strong>交换机</strong>。</li><li>然后，通过<strong>网桥</strong>（如果有的话）连接到目标局域网段。</li><li>最后，到达目标局域网段的<strong>交换机</strong>，再到达目标设备。</li></ul> </li><li> <p><strong>跨不同网络（例如，从局域网到互联网）的通信</strong>：</p> 
  <ul><li>数据包首先经过源设备所连接的<strong>交换机</strong>。</li><li>如果有跨越不同局域网段的需求，数据包可能会通过<strong>网桥</strong>。</li><li>数据包然后到达<strong>路由器</strong>，该路由器负责将数据包转发到下一个网络（例如，到ISP或其他路由器）。</li><li>通过多个路由器和可能的交换机，数据包最终到达目的地网络。</li></ul> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a1b7228495b5d2598a81a77582fdd33e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ubuntu22.04&#43;cuda11.5&#43;gcc11.4第一个cuda程序示例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5ceade3157eb8368c87c39e9437dc6d9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">全网最牛，Appium自动化测试框架-关键字驱动&#43;数据驱动实战（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>