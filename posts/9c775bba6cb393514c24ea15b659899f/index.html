<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pythonocc-core报错：SetPixelFormat failed. Error code: 2000 raised from method Init of class Display3d - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pythonocc-core报错：SetPixelFormat failed. Error code: 2000 raised from method Init of class Display3d" />
<meta property="og:description" content="错误内容 使用Pythonocc-core运行时，出现以下报错
###### 3D rendering pipe initialisation ##### Display3d class initialization starting ... Aspect_DisplayConnection created. Graphic_Driver created. V3d_Viewer created. AIS_InteractiveContext created. V3d_View created WNT window created. Traceback (most recent call last): File &#34;E:/Project/camera_calibration_tool/pingzi.py&#34;, line 41, in &lt;module&gt; display, start_display, add_menu, add_function_to_menu = init_display() File &#34;F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\SimpleGui.py&#34;, line 192, in init_display win.canva.InitDriver() File &#34;F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\qtDisplay.py&#34;, line 123, in InitDriver self._display.Create(window_handle=self.GetHandle(), parent=self) File &#34;F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\OCCViewer.py&#34;, line 181, in Create self.Init(self._window_handle) File &#34;F:\Anaconda\envs\CAL\lib\site-packages\OCC\Core\Visualization.py&#34;, line 171, in Init return _Visualization." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9c775bba6cb393514c24ea15b659899f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-24T10:27:37+08:00" />
<meta property="article:modified_time" content="2022-09-24T10:27:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pythonocc-core报错：SetPixelFormat failed. Error code: 2000 raised from method Init of class Display3d</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>错误内容</h2> 
<p>使用Pythonocc-core运行时，出现以下报错</p> 
<pre><code class="prism language-python"> <span class="token comment">###### 3D rendering pipe initialisation #####</span>
Display3d <span class="token keyword">class</span> <span class="token class-name">initialization</span> starting <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Aspect_DisplayConnection created<span class="token punctuation">.</span>
Graphic_Driver created<span class="token punctuation">.</span>
V3d_Viewer created<span class="token punctuation">.</span>
AIS_InteractiveContext created<span class="token punctuation">.</span>
V3d_View created
WNT window created<span class="token punctuation">.</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"E:/Project/camera_calibration_tool/pingzi.py"</span><span class="token punctuation">,</span> line <span class="token number">41</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    display<span class="token punctuation">,</span> start_display<span class="token punctuation">,</span> add_menu<span class="token punctuation">,</span> add_function_to_menu <span class="token operator">=</span> init_display<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\SimpleGui.py"</span><span class="token punctuation">,</span> line <span class="token number">192</span><span class="token punctuation">,</span> <span class="token keyword">in</span> init_display
    win<span class="token punctuation">.</span>canva<span class="token punctuation">.</span>InitDriver<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\qtDisplay.py"</span><span class="token punctuation">,</span> line <span class="token number">123</span><span class="token punctuation">,</span> <span class="token keyword">in</span> InitDriver
    self<span class="token punctuation">.</span>_display<span class="token punctuation">.</span>Create<span class="token punctuation">(</span>window_handle<span class="token operator">=</span>self<span class="token punctuation">.</span>GetHandle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> parent<span class="token operator">=</span>self<span class="token punctuation">)</span>
  File <span class="token string">"F:\Anaconda\envs\CAL\lib\site-packages\OCC\Display\OCCViewer.py"</span><span class="token punctuation">,</span> line <span class="token number">181</span><span class="token punctuation">,</span> <span class="token keyword">in</span> Create
    self<span class="token punctuation">.</span>Init<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_window_handle<span class="token punctuation">)</span>
  File <span class="token string">"F:\Anaconda\envs\CAL\lib\site-packages\OCC\Core\Visualization.py"</span><span class="token punctuation">,</span> line <span class="token number">171</span><span class="token punctuation">,</span> <span class="token keyword">in</span> Init
    <span class="token keyword">return</span> _Visualization<span class="token punctuation">.</span>Display3d_Init<span class="token punctuation">(</span>self<span class="token punctuation">,</span> handle<span class="token punctuation">)</span>
RuntimeError<span class="token punctuation">:</span> Aspect_GraphicDeviceDefinitionErrorOpenGl_Window<span class="token punctuation">:</span><span class="token punctuation">:</span>CreateWindow<span class="token punctuation">:</span> SetPixelFormat failed<span class="token punctuation">.</span> Error code<span class="token punctuation">:</span> <span class="token number">2000</span> raised <span class="token keyword">from</span> method Init of <span class="token keyword">class</span> <span class="token class-name">Display3d</span>
</code></pre> 
<h2><a id="_25"></a>解决方法</h2> 
<p>打开运行环境文件F:\anaconda3\envs\pyocc\lib\site-packages\OCC\Display\qtDisplay.py<br> 将38行内容从：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">qtBaseViewer</span><span class="token punctuation">(</span>QtOpenGL<span class="token punctuation">.</span>QGLWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
</code></pre> 
<p>替换成</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">qtBaseViewer</span><span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
</code></pre> 
<h2><a id="_37"></a>结语</h2> 
<p>替换后成功运行√<br> 最后附上官方git连接：<a href="https://github.com/tpaviot/pythonocc-core">pythonocc-core</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e6fa632731c81ecad9f521b3527d0029/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PHP的伪静态配置之获取不到$_SERVER[‘PATH_INFO‘]的值</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4f7039c9345e4e23b950a909b7f676ec/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CAN位时序及相关参数解读</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>