<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>clickhouse学习笔记-5-函数整理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="clickhouse学习笔记-5-函数整理" />
<meta property="og:description" content=" 日期类 时间或日期截取函数（to）—— 返回非日期 函数用途举例结果toYear()取日期或时间日期的年份toYear(toDateTime(‘2018-12-11 11:12:13’)) toYear(toDate(‘2018-12-11’))2018toMonth()取日期或时间日期的月份toMonth(toDateTime(‘2018-12-11 11:12:13’)) toMonth(toDate(‘2018-12-11’))12toDayOfMonth()取日期或时间日期的天（1-31）toMonth(toDayOfMonth(‘2018-12-11 11:12:13’)) toMonth(toDayOfMonth(‘2018-12-11’))11toDayOfWeek()取日期或时间日期的星期（星期一为1，星期日为7）。toDayOfWeek(toDateTime(‘2018-12-11 11:12:13’)) toDayOfWeek(toDate(‘2018-12-11’))2toHour()取时间日期的小时toHour(toDateTime(‘2018-12-11 11:12:13’))11toMinute()取时间日期的分钟toMinute(toDateTime(‘2018-12-11 11:12:13’))12toSecond()取时间日期的秒toSecond(toDateTime(‘2018-12-11 11:12:13’))13toMonday()取时间日期最近的周一（返回日期）toMonday(toDate(‘2018-12-11’)) toMonday(toDateTime(‘2018-12-11 11:12:13’))2018-12-10toTime()将时间日期的日期固定到某一天，保留原始时间toTime(toDateTime(‘2018-12-11 11:12:13’)) 时间或日期截取函数（toStartOf）—— 返回日期 函数用途举例结果toStartOfMonth()取日期或时间日期的月份的第一天，返回日期toStartOfMonth(toDateTime(‘2018-12-11 11:12:13’)) toStartOfMonth(toDate(‘2018-12-11’))2018-12-01toStartOfQuarter()取日期或时间日期的季度的第一天，返回日期toStartOfQuarter(toDateTime(‘2018-12-11 11:12:13’)) toStartOfQuarter(toDate(‘2018-12-11’))2018-10-01toStartOfYear()取日期或时间日期的年份的第一天，返回日期toStartOfYear(toDateTime(‘2018-12-11 11:12:13’)) toStartOfYear(toDate(‘2018-12-11’))2018-01-01toStartOfMinute()截取时间日期到分钟（之后归零），返回日期toStartOfMinute(toDateTime(‘2018-12-11 11:12:13’))2018-12-11 11:12:00toStartOfFiveMinute()截取时间日期到最近的5的倍数分钟（之后归零），返回日期toStartOfFiveMinute(toDateTime(‘2018-12-11 11:12:13’))2018-12-11 11:10:00toStartOfFifteenMinutes()截取时间日期到最近的15的倍数分钟（之后归零），返回日期toStartOfFifteenMinutes(toDateTime(‘2018-12-11 11:12:13’))2018-12-11 11:00:00toStartOfHour()截取时间日期到小时（之后归零），返回日期toStartOfHour(toDateTime(‘2018-12-11 11:12:13’))2018-12-11 11:00:00toStartOfDay()截取时间日期到天（之后归零），返回日期toStartOfDay(toDateTime(‘2018-12-11 11:12:13’))2018-12-11 00:00:00timeSlot()将时间日期中，分钟大于等于30的归于30，分钟数小于30的归为00timeSlot(toDateTime(‘2018-12-11 11:33:13’))2018-12-11 11:30:00 日期或时间日期生成函数 函数用途举例结果now()生成当前时间日期now()2018-12-13 10:10:12today()生成今天的日期today()2018-12-13yesterday()生成昨天的日期yesterday()2018-12-12 类型转化类函数 函数用途举例结果toDecimal32()将数值型或者含有非数字的字符串进行精度保留toDecimal32(23.12291, 3)23.122toDecimal64()将数值型或者含有非数字的字符串进行精度保留toDecimal128()将数值型或者含有非数字的字符串进行精度保留 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/dc714ea39aff2c7d504c500c040d261e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-30T14:47:19+08:00" />
<meta property="article:modified_time" content="2021-04-30T14:47:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">clickhouse学习笔记-5-函数整理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_0"></a>日期类</h4> 
<ul><li>时间或日期截取函数（to）—— 返回非日期</li></ul> 
<table><thead><tr><th>函数</th><th>用途</th><th align="left">举例</th><th>结果</th></tr></thead><tbody><tr><td>toYear()</td><td>取日期或时间日期的年份</td><td align="left">toYear(toDateTime(‘2018-12-11 11:12:13’)) toYear(toDate(‘2018-12-11’))</td><td>2018</td></tr><tr><td>toMonth()</td><td>取日期或时间日期的月份</td><td align="left">toMonth(toDateTime(‘2018-12-11 11:12:13’)) toMonth(toDate(‘2018-12-11’))</td><td>12</td></tr><tr><td>toDayOfMonth()</td><td>取日期或时间日期的天（1-31）</td><td align="left">toMonth(toDayOfMonth(‘2018-12-11 11:12:13’)) toMonth(toDayOfMonth(‘2018-12-11’))</td><td>11</td></tr><tr><td>toDayOfWeek()</td><td>取日期或时间日期的星期（星期一为1，星期日为7）。</td><td align="left">toDayOfWeek(toDateTime(‘2018-12-11 11:12:13’)) toDayOfWeek(toDate(‘2018-12-11’))</td><td>2</td></tr><tr><td>toHour()</td><td>取时间日期的小时</td><td align="left">toHour(toDateTime(‘2018-12-11 11:12:13’))</td><td>11</td></tr><tr><td>toMinute()</td><td>取时间日期的分钟</td><td align="left">toMinute(toDateTime(‘2018-12-11 11:12:13’))</td><td>12</td></tr><tr><td>toSecond()</td><td>取时间日期的秒</td><td align="left">toSecond(toDateTime(‘2018-12-11 11:12:13’))</td><td>13</td></tr><tr><td>toMonday()</td><td>取时间日期最近的周一（返回日期）</td><td align="left">toMonday(toDate(‘2018-12-11’)) toMonday(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-10</td></tr><tr><td>toTime()</td><td>将时间日期的日期固定到某一天，保留原始时间</td><td align="left">toTime(toDateTime(‘2018-12-11 11:12:13’))</td><td></td></tr></tbody></table> 
<ul><li>时间或日期截取函数（toStartOf）—— 返回日期</li></ul> 
<table><thead><tr><th>函数</th><th>用途</th><th>举例</th><th>结果</th></tr></thead><tbody><tr><td>toStartOfMonth()</td><td>取日期或时间日期的月份的第一天，返回日期</td><td>toStartOfMonth(toDateTime(‘2018-12-11 11:12:13’)) toStartOfMonth(toDate(‘2018-12-11’))</td><td>2018-12-01</td></tr><tr><td>toStartOfQuarter()</td><td>取日期或时间日期的季度的第一天，返回日期</td><td>toStartOfQuarter(toDateTime(‘2018-12-11 11:12:13’)) toStartOfQuarter(toDate(‘2018-12-11’))</td><td>2018-10-01</td></tr><tr><td>toStartOfYear()</td><td>取日期或时间日期的年份的第一天，返回日期</td><td>toStartOfYear(toDateTime(‘2018-12-11 11:12:13’)) toStartOfYear(toDate(‘2018-12-11’))</td><td>2018-01-01</td></tr><tr><td>toStartOfMinute()</td><td>截取时间日期到分钟（之后归零），返回日期</td><td>toStartOfMinute(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-11 11:12:00</td></tr><tr><td>toStartOfFiveMinute()</td><td>截取时间日期到最近的5的倍数分钟（之后归零），返回日期</td><td>toStartOfFiveMinute(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-11 11:10:00</td></tr><tr><td>toStartOfFifteenMinutes()</td><td>截取时间日期到最近的15的倍数分钟（之后归零），返回日期</td><td>toStartOfFifteenMinutes(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-11 11:00:00</td></tr><tr><td>toStartOfHour()</td><td>截取时间日期到小时（之后归零），返回日期</td><td>toStartOfHour(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-11 11:00:00</td></tr><tr><td>toStartOfDay()</td><td>截取时间日期到天（之后归零），返回日期</td><td>toStartOfDay(toDateTime(‘2018-12-11 11:12:13’))</td><td>2018-12-11 00:00:00</td></tr><tr><td>timeSlot()</td><td>将时间日期中，分钟大于等于30的归于30，分钟数小于30的归为00</td><td>timeSlot(toDateTime(‘2018-12-11 11:33:13’))</td><td>2018-12-11 11:30:00</td></tr></tbody></table> 
<ul><li>日期或时间日期生成函数</li></ul> 
<table><thead><tr><th><strong>函数</strong></th><th><strong>用途</strong></th><th><strong>举例</strong></th><th><strong>结果</strong></th></tr></thead><tbody><tr><td>now()</td><td>生成当前时间日期</td><td>now()</td><td>2018-12-13 10:10:12</td></tr><tr><td>today()</td><td>生成今天的日期</td><td>today()</td><td>2018-12-13</td></tr><tr><td>yesterday()</td><td>生成昨天的日期</td><td>yesterday()</td><td>2018-12-12</td></tr></tbody></table> 
<h4><a id="_38"></a>类型转化类函数</h4> 
<table><thead><tr><th><strong>函数</strong></th><th><strong>用途</strong></th><th><strong>举例</strong></th><th><strong>结果</strong></th></tr></thead><tbody><tr><td>toDecimal32()</td><td>将数值型或者含有非数字的字符串进行精度保留</td><td>toDecimal32(23.12291, 3)</td><td>23.122</td></tr><tr><td>toDecimal64()</td><td>将数值型或者含有非数字的字符串进行精度保留</td><td></td><td></td></tr><tr><td>toDecimal128()</td><td>将数值型或者含有非数字的字符串进行精度保留</td><td></td><td></td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bb38d53fc8c71ef6fbb6b60a0f9a67ae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【缓存应用】谈谈redis应用场景</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9ecec1b5dbd1dc4155b2be0e51fe403/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">clickhouse学习笔记-7-数据聚合</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>