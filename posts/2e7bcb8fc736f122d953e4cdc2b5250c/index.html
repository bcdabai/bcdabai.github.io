<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shiro快速入门之一 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Shiro快速入门之一" />
<meta property="og:description" content="一、前言 Java有两个出名的安全框架，一个是Apache Shiro，另一个是Spring Security ，相对而言Shiro更简单、控制权限的粒度可粗可细，我们项目中使用的是Shiro。
二、概念 Shiro最主要的功能是验证用户身份和用户访问权限控制，比如判断用户是否分配了一个角色，或判断用户是否有完成某个操作的权限等。它不会去维护用户与权限，这需要我们自己提供接口然后注入给Shiro。
1、三大核心组件 subject 主体，可以是用户也可以是程序，主体要访问系统，系统需要对主体进行认证、授权。
securityManager: 安全管理器，主体进行认证和授权都是通过它进行。
realm 领域,可以理解为DAO，通过它存取认证、授权相关数据。
2、四大核心功能 Authentication 认证即登录，用于用户身份识别。
Authorization 授权即访问控制，判断用户是否有权限去访问受保护的资源。
Cryptography 通过加密算法保护数据安全。
Session Management 会话管理，即用户访问你应用自身携带的数据，甚至可以在非Web程序上使用。
三、最简单例子 1、build.gradle
2、AuthenticationTest.java
Shiro认证过程
1、调用subject.login(token)进行登录，其会委托给SessionManager，调用之前必须通过
SecurityUtils.setSecurityManager进行设置。
2、SecurityManager负责真正身份验证逻辑，它会委托给Authenticator进行身份验证。
3、Authenticator是真正的身份验证者。
DelegatingSubject.java
DefaultSecurityManager.java
AbstractAuthenticator.java" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2e7bcb8fc736f122d953e4cdc2b5250c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-14T10:17:18+08:00" />
<meta property="article:modified_time" content="2023-11-14T10:17:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shiro快速入门之一</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><strong>一、前言</strong></h3> 
<p>Java有两个出名的安全框架，一个是Apache Shiro，另一个是Spring Security ，相对而言Shiro更简单、控制权限的粒度可粗可细，我们项目中使用的是Shiro。</p> 
<h3><strong>二、概</strong><strong>念</strong></h3> 
<p>Shiro最主要的功能是验证用户身份和用户访问权限控制，比如判断用户是否分配了一个角色，或判断用户是否有完成某个操作的权限等。它不会去维护用户与权限，这需要我们自己提供接口然后注入给Shiro。</p> 
<h4><strong>1、三大核心组件</strong></h4> 
<ul><li> <h5><strong>subject</strong></h5> </li></ul> 
<p>            主体，可以是用户也可以是程序，主体要访问系统，系统需要对主体进行认证、授权。</p> 
<ul><li> <h5><strong>securityManager</strong>:</h5> </li></ul> 
<p>             安全管理器，主体进行认证和授权都是通过它进行。</p> 
<ul><li> <h5><strong>realm</strong></h5> </li></ul> 
<p><strong>             </strong>领域,可以理解为DAO，通过它存取认证、授权相关数据。</p> 
<h4><strong>2、四大核心功能</strong></h4> 
<ul><li> <h5><strong>Authentication</strong></h5> </li></ul> 
<p><strong>             </strong>认证即登录，用于用户身份识别。</p> 
<ul><li> <h5><strong>Authorization</strong></h5> </li></ul> 
<p><strong>             </strong>授权即访问控制，判断用户是否有权限去访问受保护的资源。</p> 
<ul><li> <h5><strong>Cryptography</strong></h5> </li></ul> 
<p><strong>             </strong>通过加密算法保护数据安全。</p> 
<ul><li> <h5>Session Management</h5> </li></ul> 
<p>             会话管理，即用户访问你应用自身携带的数据，甚至可以在非Web程序上使用。</p> 
<h3><strong>三、最简单例子</strong></h3> 
<p><strong>1、build.gradle</strong></p> 
<p><img alt="" height="64" src="https://images2.imgbox.com/7f/94/aQQiIoXd_o.png" width="679"></p> 
<p><strong>2、AuthenticationTest.java</strong></p> 
<p><img alt="" height="520" src="https://images2.imgbox.com/1f/e6/6bmeBKbq_o.png" width="710"></p> 
<p><strong>Shiro认证过程</strong></p> 
<p>1、调用subject.login(token)进行登录，其会委托给SessionManager，调用之前必须通过</p> 
<p>SecurityUtils.setSecurityManager进行设置。</p> 
<p>2、SecurityManager负责真正身份验证逻辑，它会委托给Authenticator进行身份验证。</p> 
<p>3、Authenticator是真正的身份验证者。</p> 
<p><strong>DelegatingSubject.java</strong></p> 
<p><img alt="" height="94" src="https://images2.imgbox.com/00/56/4fl3oKW1_o.png" width="764"></p> 
<p><strong>DefaultSecurityManager.java</strong></p> 
<p><img alt="" height="111" src="https://images2.imgbox.com/96/58/bQ3awuI2_o.png" width="774"></p> 
<p><strong>AbstractAuthenticator.java</strong></p> 
<p><img alt="" height="312" src="https://images2.imgbox.com/88/b4/ietBGi8X_o.png" width="721"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2124c666d9ea3d9500661fa482fbdf68/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Session、Token、Jwt三种登录方案介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4e3cb5df556f9a170767c819046aec6d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Shiro快速入门之二</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>