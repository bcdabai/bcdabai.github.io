<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>oracle常用操作 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="oracle常用操作" />
<meta property="og:description" content="oracle常用操作 一、数据泵使用步骤(搭配linux命令) 1.创建文件
（如果文件存在则不需要再次创建，只需给用户附文件的读写权限，根据需要，选择执行步骤顺序，一般情况下，dmp_file 文件已经被建好了，目录：/home/app/dmp_file）
create directory DMP_FILE as &#39;/home/app/dmp_file&#39;; 2.进入数据库中查看目录
select * from dba_directories; 3.将文件夹的读写权限给相应的用户
grant read,write on directory DMP_FILE to cams; 4.备份
（前三步需要 sqlplus 命令进入数据库中执行，第四步需要 exit 退出数据库，在外部执行 dmp 导入导出命令）
数据泵导出数据库中的数据
expdp 数据库用户/密码 DIRECTORY=上面建的文件的别名 DUMPFILE=dmp 文件名.dmp SCHEMAS=数据库用户 logfile=日志文件名.log #例如 expdp XXX/XXX DIRECTORY=DMP_FILE DUMPFILE=xxx.dmp SCHEMAS=xxx logfile=xxx.log 数据泵将dmp文件导入数据库中
impdp 数据库用户/密码 DIRECTORY=上面建的文件的别名 DUMPFILE=dmp 文件名.dmp FULL=y logfile=日志文件名.log TRANSFORM=segment_attributes #例如 impdp xxx/xxx DIRECTORY=DMP_FILE DUMPFILE=dmp文件名.dmp FULL=y logfile=xxx.log TRANSFORM=segment_attributes:n ## 二、服务器端执行 sql 脚本 概述：服务器端进入数据库执行 @sql脚本的目录 。 步骤： 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/34301c413d60160aae0daa33575fb180/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-24T23:05:39+08:00" />
<meta property="article:modified_time" content="2020-03-24T23:05:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">oracle常用操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="oracle_0"></a>oracle常用操作</h3> 
<h3><a id="linux_2"></a>一、数据泵使用步骤(搭配linux命令)</h3> 
<p><strong>1.创建文件</strong><br> （如果文件存在则不需要再次创建，只需给用户附文件的读写权限，根据需要，选择执行步骤顺序，一般情况下，dmp_file 文件已经被建好了，目录：/home/app/dmp_file）</p> 
<pre><code class="prism language-sql"><span class="token keyword">create</span>  directory  DMP_FILE  <span class="token keyword">as</span>  <span class="token string">'/home/app/dmp_file'</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>2.进入数据库中查看目录</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>  <span class="token operator">*</span>  <span class="token keyword">from</span>  dba_directories<span class="token punctuation">;</span>
</code></pre> 
<p><strong>3.将文件夹的读写权限给相应的用户</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">grant</span>  <span class="token keyword">read</span><span class="token punctuation">,</span><span class="token keyword">write</span>  <span class="token keyword">on</span>  directory  DMP_FILE  <span class="token keyword">to</span>  cams<span class="token punctuation">;</span>
</code></pre> 
<p><strong>4.备份</strong><br> （前三步需要 sqlplus 命令进入数据库中执行，第四步需要 exit 退出数据库，在外部执行 dmp 导入导出命令）<br> 数据泵导出数据库中的数据</p> 
<pre><code class="prism language-powershell">expdp  数据库用户<span class="token operator">/</span>密码  DIRECTORY=上面建的文件的别名  DUMPFILE=dmp  文件名<span class="token punctuation">.</span>dmp  SCHEMAS=数据库用户  logfile=日志文件名<span class="token punctuation">.</span>log
<span class="token comment">#例如</span>
expdp  XXX<span class="token operator">/</span>XXX DIRECTORY=DMP_FILE  DUMPFILE=xxx<span class="token punctuation">.</span>dmp  SCHEMAS=xxx  logfile=xxx<span class="token punctuation">.</span>log
</code></pre> 
<p>数据泵将dmp文件导入数据库中</p> 
<pre><code class="prism language-powershell">impdp  数据库用户<span class="token operator">/</span>密码  DIRECTORY=上面建的文件的别名  DUMPFILE=dmp  文件名<span class="token punctuation">.</span>dmp  FULL=y  logfile=日志文件名<span class="token punctuation">.</span>log  TRANSFORM=segment_attributes
<span class="token comment">#例如</span>
impdp  xxx<span class="token operator">/</span>xxx DIRECTORY=DMP_FILE  DUMPFILE=dmp文件名<span class="token punctuation">.</span>dmp  FULL=y  logfile=xxx<span class="token punctuation">.</span>log  TRANSFORM=segment_attributes:n
</code></pre> 
<pre><code>


## 二、服务器端执行 sql 脚本

概述：服务器端进入数据库执行  @sql脚本的目录  。
步骤：
1.sqlplus  命令，输入用户名、密码进入数据库
2.执行  sql  脚本。例如：@/home/app/dmp_file/function.sql


## 三、查找当前用户下的所有表（删除语句）

概述：服务器端进入数据库中执行  。
步骤：
1.sqlplus  命令，输入用户名、密码进入数据库
2.select  'drop  table  '||table_name||';'  from  cat  where  table_type  =  'TABLE';


## 四、查看数据库的编码格式

概述：服务器端进入数据库中执行  。
步骤：
1.sqlplus  命令，输入用户名、密码进入数据库
2.select  *  from  NLS_DATABASE_PARAMETERS;




</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec4d5118da994d8548ecbb810882c5bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">小程序开发日志</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a9284b7390bb3ee0a849bac4cde1140/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2.Echarts和RabbiMq</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>