<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mall4j商城实战 - 部署指南 (一篇文章带你玩转各种技术) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mall4j商城实战 - 部署指南 (一篇文章带你玩转各种技术)" />
<meta property="og:description" content="📘 Mall4j商城实战：部署指南 🦑 gitee地址 本人更改后的：https://gitee.com/yueerba/mall4cloud.git原地址：https://gitee.com/gz-yami/mall4cloud.git 🚄 部署环节 🔗 Window 子系统 &#43; Docker Desktop 安装教程🔗 部署 Mysql 8.0 数据库🔗 部署 Canal 数据库增量日志解析🔗 部署 RocketMQ 消息队列🔗 部署 Elasticsearch、Kibana 数据搜索🔗 部署 Nacos 服务注册和配置管理🔗 部署 Seata 实现分布式事务🔗 部署 Redis 分布式缓存🔗 部署 Minio 图片文件上传🔗 部署前后端到 Docker🔗 数据库分析🔗 代码功能分析 🧩 中间件部署须知 在文件编辑器上，使用全局替换的方式，将整个项目文件夹下的所有 192.168.0.105 替换为 自己的服务器的 IP mysql 配置文件必须授权为 755 ，或是 644，不然会报错。canal 的配置必须在 canal-admin 界面中重新配置方能生效（包括 server 和 instance）。rocketmq 的组件部署必须在同一网络下。es 查询必须在 es 界面上配置 product 和 order 的索引，不然服务查询会报错。nacos 启动之后，必须在线更改配置，方能保证服务的正常运行。redis 需要设置密码以提高安全性。minio 必须设置 mall4jcloud 的存储桶，并设置为可读写，为了端口不冲突，端口更改：9000——&gt; 9001 名称链接账号密码Miniohttp://127." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e6916a4eb6a5b0743294b0fd5d2479c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-24T12:17:39+08:00" />
<meta property="article:modified_time" content="2023-11-24T12:17:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mall4j商城实战 - 部署指南 (一篇文章带你玩转各种技术)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr> 
<h2><a id="_Mall4j_1"></a>📘 <strong>Mall4j商城实战：部署指南</strong></h2> 
<hr> 
<h3><a id="_gitee_4"></a>🦑 <strong>gitee地址</strong></h3> 
<hr> 
<ul><li><strong><code>本人更改后的</code></strong>：<a href="https://gitee.com/yueerba/mall4cloud.git" rel="nofollow">https://gitee.com/yueerba/mall4cloud.git</a></li><li><strong><code>原地址</code></strong>：<a href="https://gitee.com/gz-yami/mall4cloud.git" rel="nofollow">https://gitee.com/gz-yami/mall4cloud.git</a></li></ul> 
<hr> 
<h3><a id="__9"></a>🚄 <strong>部署环节</strong></h3> 
<hr> 
<ul><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134167298">Window 子系统 + Docker Desktop 安装教程</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134391534">部署 <code>Mysql 8.0</code> 数据库</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134363047">部署 <code>Canal</code> 数据库增量日志解析</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134404656">部署 <code>RocketMQ</code> 消息队列</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134421765">部署 <code>Elasticsearch</code>、<code>Kibana</code> 数据搜索</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134427220">部署 <code>Nacos</code> 服务注册和配置管理</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134427243">部署 <code>Seata</code> 实现分布式事务</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134427195">部署 <code>Redis</code> 分布式缓存</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134427208">部署 <code>Minio</code> 图片文件上传</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134430092">部署前后端到 <code>Docker</code></a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134427292">数据库分析</a></li><li>🔗 <a href="https://blog.csdn.net/yueerba126/article/details/134490167">代码功能分析</a></li></ul> 
<hr> 
<h3><a id="__28"></a>🧩 <strong>中间件部署须知</strong></h3> 
<hr> 
<blockquote> 
 <p>在文件编辑器上，使用全局替换的方式，将整个项目文件夹下的所有 <code>192.168.0.105</code> 替换为 自己的服务器的 <code>IP </code></p> 
</blockquote> 
<ol><li><code>mysql</code> 配置文件必须授权为 <code>755</code> ，或是 <code>644</code>，不然会报错。</li><li><code>canal</code> 的配置必须在 <code>canal-admin</code> 界面中重新配置方能生效（包括 <code>server</code> 和 <code>instance</code>）。</li><li><code>rocketmq</code> 的组件部署必须在同一网络下。</li><li><code>es</code> 查询必须在 <code>es</code> 界面上配置 <code>product</code> 和 <code>order</code> 的索引，不然服务查询会报错。</li><li><code>nacos</code> 启动之后，必须在线更改配置，方能保证服务的正常运行。</li><li><code>redis</code> 需要设置密码以提高安全性。</li><li><code>minio</code> 必须设置 <code>mall4jcloud</code> 的存储桶，并设置为可读写，为了端口不冲突，端口更改：<code>9000</code>——&gt; <code>9001</code></li></ol> 
<hr> 
<table><thead><tr><th align="left">名称</th><th align="left">链接</th><th align="left">账号密码</th></tr></thead><tbody><tr><td align="left">Minio</td><td align="left"><a href="http://127.0.0.1:9001/minio/login" rel="nofollow">http://127.0.0.1:9001/minio/login</a></td><td align="left"><code>admin/admin123456</code></td></tr><tr><td align="left">Elasticsearch</td><td align="left"><a href="http://127.0.0.1:5601/app/home#/" rel="nofollow">http://127.0.0.1:5601/app/home#/</a></td><td align="left">无</td></tr><tr><td align="left">RocketMQ</td><td align="left"><a href="http://127.0.0.1:8180/#/" rel="nofollow">http://127.0.0.1:8180/#/</a></td><td align="left">无</td></tr><tr><td align="left">Nacos</td><td align="left"><a href="http://127.0.0.1:8848/nacos/index.html#/login" rel="nofollow">http://127.0.0.1:8848/nacos/index.html#/login</a></td><td align="left"><code>nacos/nacos</code></td></tr><tr><td align="left">Seata</td><td align="left"><a href="http://127.0.0.1:7091/#/login" rel="nofollow">http://127.0.0.1:7091/#/login</a></td><td align="left"><code>seata/seata</code></td></tr><tr><td align="left">Canal</td><td align="left"><a href="http://127.0.0.1:8089/#/login?redirect=%2Fdashboard" rel="nofollow">http://127.0.0.1:8089/#/login?redirect=%2Fdashboard</a></td><td align="left"><code>admin/123456</code></td></tr><tr><td align="left">Swagger</td><td align="left"><a href="http://localhost:8000/doc.html#/home" rel="nofollow">http://localhost:8000/doc.html#/home</a></td><td align="left">无</td></tr></tbody></table> 
<hr> 
<h2><a id="__56"></a>📢 前言</h2> 
<ul><li><code>mall4jcloud 是一个很简单的分布式电商系统，虽然有些bug，但是总体的电商结构还算清晰，适合用于学习使用，商业版的肯定要找他们公司了。</code></li><li><code>部署的最低要求应该是16G的电脑，肯定巨卡的，笔者是24G的电脑部署的</code></li></ul> 
<hr> 
<h3><a id="__62"></a>📚 目录结构</h3> 
<hr> 
<p><img src="https://images2.imgbox.com/6f/c7/ksZuT2ko_o.png" alt="Mall4cloud商城目录结构"></p> 
<hr> 
<h3><a id="__68"></a>🏗️ 目录结构规范</h3> 
<hr> 
<p><img src="https://images2.imgbox.com/92/ea/Hx1iox72_o.png" alt="Mall4cloud商城目录结构规范"></p> 
<pre><code class="prism language-bash">mall4cloud
├─mall4cloud-api -- 内网接口
│  ├─mall4cloud-api-auth  -- 授权对内接口
│  ├─mall4cloud-api-biz  -- biz对内接口
│  ├─mall4cloud-api-leaf  -- 美团分布式id生成接口
│  ├─mall4cloud-api-multishop  -- 店铺对内接口
│  ├─mall4cloud-api-order  -- 订单对内接口
│  ├─mall4cloud-api-platform  -- 平台对内接口
│  ├─mall4cloud-api-product  -- 商品对内接口
│  ├─mall4cloud-api-rbac  -- 用户角色权限对内接口
│  ├─mall4cloud-api-search  -- 搜索对内接口
│  └─mall4cloud-api-user  -- 用户对内接口
├─mall4cloud-auth  -- 授权校验模块
├─mall4cloud-biz  -- mall4cloud 业务代码。如图片上传/短信等
├─mall4cloud-common -- 一些公共的方法
│  ├─mall4cloud-common-cache  -- 缓存相关公共代码
│  ├─mall4cloud-common-core  -- 公共模块核心（公共中的公共代码）
│  ├─mall4cloud-common-database  -- 数据库连接相关公共代码
│  ├─mall4cloud-common-order  -- 订单相关公共代码
│  ├─mall4cloud-common-product  -- 商品相关公共代码
│  ├─mall4cloud-common-rocketmq  -- rocketmq相关公共代码
│  └─mall4cloud-common-security  -- 安全相关公共代码
├─mall4cloud-gateway  -- 网关
├─mall4cloud-leaf  -- 基于美团leaf的生成id服务
├─mall4cloud-multishop  -- 商家端
├─mall4cloud-order  -- 订单服务
├─mall4cloud-payment  -- 支付服务
├─mall4cloud-platform  -- 平台端
├─mall4cloud-product  -- 商品服务
├─mall4cloud-rbac  -- 用户角色权限模块
├─mall4cloud-search  -- 搜索模块
└─mall4cloud-user  -- 用户服务
</code></pre> 
<hr> 
<h3><a id="__108"></a>🚀 <strong>项目架构组件</strong></h3> 
<hr> 
<ol><li> <p><strong>🌌 VO（<code>View Object</code>）</strong></p> 
  <ul><li><strong>描述</strong>：显示层对象，通常是 Web 向模板渲染引擎层传输的对象。</li></ul> </li><li> <p><strong>🌌 DTO（<code>Data Transfer Object</code>）</strong></p> 
  <ul><li><strong>描述</strong>：数据传输对象，前端像后台进行传输的对象，类似于param。</li></ul> </li><li> <p><strong>🌌 BO（<code>Business Object</code>）</strong></p> 
  <ul><li><strong>描述</strong>：业务对象，内部业务对象，只在内部传递，不对外进行传递。</li></ul> </li><li> <p><strong>🌌 Model</strong></p> 
  <ul><li><strong>描述</strong>：模型层，此对象与数据库表结构一一对应，通过 Mapper 层向上传输数据源对象。</li></ul> </li><li> <p><strong>🌌 Controller</strong></p> 
  <ul><li><strong>描述</strong>：主要是对外部访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。为了简单起见，一些与事务无关的代码也在这里编写。</li></ul> </li><li> <p><strong>🌌 FeignClient</strong></p> 
  <ul><li><strong>描述</strong>：由于微服务之间存在互相调用，这里是内部请求的接口。</li></ul> </li><li> <p><strong>🌌 Service 层</strong></p> 
  <ul><li><strong>描述</strong>：相对具体的业务逻辑服务层。</li></ul> </li><li> <p><strong>🌌 Manager 层</strong></p> 
  <ul><li><strong>特征</strong>： 
    <ul><li>🔗 对第三方平台封装的层，预处理返回结果及转化异常信息，适配上层接口。</li><li>🔗 对 Service 层通用能力的下沉，如缓存方案、中间件通用处理。</li><li>🔗 与 DAO 层交互，对多个 DAO 的组合复用。</li></ul> </li></ul> </li><li> <p><strong>🌌 Mapper 持久层</strong></p> 
  <ul><li><strong>描述</strong>：数据访问层，与底层 MySQL 进行数据交互。</li></ul> </li><li> <p><strong>🌌 Task 层</strong></p> 
  <ul><li><strong>描述</strong>：由于每个服务之间会存在定时任务，比如定时确认收货，定时将活动失效等情况，这里面的Task实际上连接的是 <code>xxl-job</code> 进行任务调度。</li></ul> </li><li> <p><strong>🌌 Listener</strong></p> 
  <ul><li><strong>描述</strong>：监听 <code>RocketMQ</code> 进行处理，有时候会监听 <code>easyexcel</code> 相关数据。</li></ul> </li></ol> 
<hr> 
<h3><a id="__FeignClient_149"></a>🧐 关于 <code>FeignClient</code></h3> 
<p>由于微服务之间存在互相调用，<code>Feign</code> 是http协议，理论上是为了解耦，而实际上提供方接口进行修改，调用方却没有进行修改的时候，会造成异常，所以我们抽取出来。还有就是对内暴露的接口，是很多地方都公用的，所以我们还将接口抽取了出了一个模块，方便引用。可以看到 <code>mall4cloud-api</code> 这个模块下是所有对内 <code>feign</code> 接口的信息。</p> 
<hr> 
<h3><a id="__154"></a>💻 技术选型</h3> 
<hr> 
<p><img src="https://images2.imgbox.com/02/67/jRKHrEgX_o.png" alt="Mall4cloud商城技术选型"></p> 
<hr> 
<h3><a id="__159"></a>🏛️ 系统架构图</h3> 
<hr> 
<p><img src="https://images2.imgbox.com/5c/4b/VIoCHRj6_o.png" alt="Mall4cloud商城系统架构图"></p> 
<hr> 
<h3><a id="__API__164"></a>🌐 商城部署后 API 地址</h3> 
<hr> 
<p><img src="https://images2.imgbox.com/50/9f/anjc6dTt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cf/7b/X5fdJgBQ_o.png" alt="在这里插入图片描述"></p> 
<table><thead><tr><th align="left">服务</th><th>地址</th></tr></thead><tbody><tr><td align="left">mall4cloud-gatway 网关服务</td><td><a href="http://127.0.0.1:8000" rel="nofollow">http://127.0.0.1:8000</a></td></tr><tr><td align="left">mall4cloud-auth 授权校验服务</td><td><a href="http://127.0.0.1:9101" rel="nofollow">http://127.0.0.1:9101</a></td></tr><tr><td align="left">mall4cloud-biz 业务代码服务（如图片上传/短信等）</td><td><a href="http://127.0.0.1:9000" rel="nofollow">http://127.0.0.1:9000</a></td></tr><tr><td align="left">mall4cloud-leaf 基于美团leaf的生成id服务</td><td><a href="http://127.0.0.1:9100" rel="nofollow">http://127.0.0.1:9100</a></td></tr><tr><td align="left">mall4cloud-multishop 商家服务</td><td><a href="http://127.0.0.1:9103" rel="nofollow">http://127.0.0.1:9103</a></td></tr><tr><td align="left">mall4cloud-order 订单服务</td><td><a href="http://127.0.0.1:9106" rel="nofollow">http://127.0.0.1:9106</a></td></tr><tr><td align="left">mall4cloud-payment 支付服务</td><td><a href="http://127.0.0.1:9113" rel="nofollow">http://127.0.0.1:9113</a></td></tr><tr><td align="left">mall4cloud-product 商品服务</td><td><a href="http://127.0.0.1:9114" rel="nofollow">http://127.0.0.1:9114</a></td></tr><tr><td align="left">mall4cloud-rbac 用户角色服务</td><td><a href="http://127.0.0.1:9102" rel="nofollow">http://127.0.0.1:9102</a></td></tr><tr><td align="left">mall4cloud-search 搜索服务</td><td><a href="http://127.0.0.1:9108" rel="nofollow">http://127.0.0.1:9108</a></td></tr><tr><td align="left">mall4cloud-user 用户服务</td><td><a href="http://127.0.0.1:9105" rel="nofollow">http://127.0.0.1:9105</a></td></tr></tbody></table> 
<hr> 
<h2><a id="__187"></a>🖥️ <strong>三端展示</strong></h2> 
<hr> 
<h3><a id="__191"></a>🌌 <strong>电商平台的三端概述</strong></h3> 
<ol><li> <p><strong>平台管理端</strong>：</p> 
  <ul><li><strong>用途</strong>：为平台的管理员或运营团队提供管理工具。</li><li><strong>功能</strong>： 
    <ul><li>用户管理</li><li>订单处理</li><li>商品审核</li><li>财务报告</li><li>数据分析</li></ul> </li><li><strong>权限</strong>：平台管理员拥有最高权限，能够访问和修改所有数据。</li></ul> </li><li> <p><strong>商家管理端</strong>：</p> 
  <ul><li><strong>用途</strong>：专为入驻平台的商家设计。</li><li><strong>功能</strong>： 
    <ul><li>上传商品信息</li><li>管理库存</li><li>处理订单</li><li>查看销售数据和财务报告</li></ul> </li><li><strong>权限</strong>：商家的权限通常被限制在管理自己的店铺和商品范围内。</li></ul> </li><li> <p><strong>H5端</strong>：</p> 
  <ul><li><strong>用途</strong>：面向最终用户，即购物者。</li><li><strong>功能</strong>： 
    <ul><li>浏览商品</li><li>下订单</li><li>付款</li><li>跟踪订单状态</li><li>与商家互动</li></ul> </li></ul> </li></ol> 
<hr> 
<h3><a id="__223"></a>🌌 平台管理端</h3> 
<ul><li>访问地址：<a href="http://localhost:9528/#/login" rel="nofollow"><code>http://localhost:9528/#/login</code></a> <code>admin/123456</code></li><li><img src="https://images2.imgbox.com/c9/26/CU8GqBf8_o.png" alt="平台管理端界面"></li></ul> 
<h3><a id="__227"></a>🌌 商家管理端</h3> 
<ul><li>访问地址：<a href="http://localhost:9527/#/login" rel="nofollow"><code>http://localhost:9527/#/login</code></a> <code>admin/123456</code></li><li><img src="https://images2.imgbox.com/d2/46/TtNrAAco_o.png" alt="商家管理端界面"></li></ul> 
<h3><a id="_H5_231"></a>🌌 H5端</h3> 
<ul><li>访问地址：<a href="http://localhost/" rel="nofollow"><code>http://localhost/</code></a></li><li><img src="https://images2.imgbox.com/2d/3d/RD7Y3G7r_o.jpg" alt="售卖端界面"></li></ul> 
<hr> 
<h3><a id="__237"></a>🖼️ <strong>界面功能使用介绍（顺序读）</strong></h3> 
<hr> 
<h4><a id="__241"></a>🌌 平台端</h4> 
<ul><li> <p><strong>图片管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/84/73/oHmnP6u6_o.png" alt="平台端图片管理"></li></ul> </li><li> <p><strong>分类管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/9a/9e/GnoSDDCf_o.png" alt="平台端分类管理1"></li><li><img src="https://images2.imgbox.com/90/5c/jDC5tFpo_o.png" alt="平台端分类管理2"></li></ul> </li><li> <p><strong>属性管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/70/eb/OgF7ZsNw_o.png" alt="平台端属性管理"></li></ul> </li><li> <p><strong>品牌管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/de/95/qRfCDBRx_o.png" alt="平台端品牌管理"></li></ul> </li></ul> 
<h4><a id="__256"></a>🌌 商家端</h4> 
<ul><li> <p><strong>轮播图管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/05/ea/DxUXaK0r_o.png" alt="商家端轮播图管理"></li></ul> </li><li> <p><strong>热搜管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/e4/7b/d1ys7zIH_o.png" alt="商家端热搜管理"></li></ul> </li><li> <p><strong>图片管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/a0/33/rPZgBg54_o.png" alt="商家端图片管理"></li></ul> </li><li> <p><strong>分类管理</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/47/49/FaQgUarv_o.png" alt="商家端分类管理"></li></ul> </li><li> <p><strong>商品发布</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/b4/5d/iEWqKLIu_o.png" alt="商家端商品发布1"></li><li><img src="https://images2.imgbox.com/32/ee/nHFY0oma_o.png" alt="商家端商品发布2"></li></ul> </li></ul> 
<h4><a id="_H5_274"></a>🌌 H5端</h4> 
<ul><li> <p><strong>首页</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/38/11/GWwZzuJq_o.jpg" alt="H5端首页"></li></ul> </li><li> <p><strong>账号注册</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/eb/ec/3kejaHaU_o.jpg" alt="H5端账号注册"></li></ul> </li><li> <p><strong>地址设置</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/0b/10/OY5Celgt_o.jpg" alt="H5端地址设置"></li></ul> </li><li> <p><strong>商品分类预览</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/f9/25/Dm2tdkWz_o.jpg" alt="H5端商品分类预览1"></li><li><img src="https://images2.imgbox.com/9c/ed/P0Nez4nn_o.jpg" alt="H5端商品分类预览2"></li></ul> </li><li> <p><strong>加入购物车结算</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/59/e3/mP2bOHlq_o.jpg" alt="H5端加入购物车结算"></li></ul> </li><li> <p><strong>支付</strong></p> 
  <ul><li><img src="https://images2.imgbox.com/da/35/PyzKQonV_o.jpg" alt="H5端支付"></li></ul> </li></ul> 
<h4><a id="____295"></a>🌌 商家端 - 订单管理</h4> 
<ul><li><img src="https://images2.imgbox.com/e6/14/2NkjhBC6_o.png" alt="商家端订单管理"></li></ul> 
<hr> 
<h2><a id="__301"></a>👤 常用的命令</h2> 
<hr> 
<pre><code class="prism language-bash"><span class="token comment"># 清理并复制新的配置文件</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> /root/mall4cloud/

<span class="token comment"># 创建后端日志存放文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/gateway-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/auth-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/biz-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/leaf-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/multishop-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/order-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/payment-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/product-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/rbac-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/search-logs
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/back-end/log/user-logs
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /root/mall4cloud/back-end/

<span class="token comment"># 创建前端文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/front-end/
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /root/mall4cloud/front-end/

<span class="token comment"># 创建中间件文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/mall4cloud/middleware/
<span class="token function">cp</span> <span class="token parameter variable">-R</span> /mnt/d/WORKSPACE/mall4cloud/middleware/  /root/mall4cloud/middleware/
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /root/mall4cloud/middleware/
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">755</span> /root/mall4cloud/middleware/mysql/conf.d/

<span class="token comment"># 发现树</span>
<span class="token function">find</span> /mnt/d/WORKSPACE/mall4cloud <span class="token parameter variable">-type</span> f <span class="token punctuation">\</span><span class="token punctuation">(</span> <span class="token parameter variable">-name</span> <span class="token string">"docker-compose.yml"</span> <span class="token parameter variable">-o</span> <span class="token parameter variable">-name</span> <span class="token string">"Dockerfile"</span> <span class="token parameter variable">-o</span> <span class="token parameter variable">-name</span> <span class="token string">"*.bat"</span> <span class="token punctuation">\</span><span class="token punctuation">)</span>


<span class="token comment"># 启动所有 Docker Compose 服务</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span> <span class="token parameter variable">--build</span>
<span class="token comment"># 启动一个 Docker Compose 服务</span>
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span> mall4cloud-canal

<span class="token comment"># 停止并移除所有容器</span>
<span class="token function">docker-compose</span> down
<span class="token comment"># 停止并移除特定容器</span>
<span class="token function">docker-compose</span> stop mall4cloud-canal-admin
<span class="token function">docker-compose</span> <span class="token function">rm</span> mall4cloud-canal-admin

<span class="token comment"># 重新启动一个容器</span>
<span class="token function">docker-compose</span> restart mall4cloud-mysql
<span class="token function">docker-compose</span> restart mall4cloud-canal
<span class="token function">docker-compose</span> restart mall4cloud-canal-admin

<span class="token comment"># 查看容器日志</span>
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span>
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span> mall4cloud-mysql
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span> mall4cloud-canal
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span> mall4cloud-canal-admin

<span class="token comment"># 查看容器目录</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mall4cloud-mysql <span class="token function">bash</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mall4cloud-canal <span class="token function">bash</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mall4cloud-canal-admin <span class="token function">bash</span>

<span class="token comment"># 查看docker 内存情况</span>
<span class="token function">docker</span> stats

<span class="token comment"># 专注清理悬挂镜像</span>
<span class="token function">docker</span> image prune
<span class="token function">docker</span> image prune <span class="token parameter variable">-a</span>
<span class="token comment"># 容器清理</span>
<span class="token function">docker</span> container prune
<span class="token comment"># 清理卷和网络资源</span>
<span class="token function">docker</span> volume prune
<span class="token function">docker</span> network prune
<span class="token comment"># 清理所有未使用的容器、网络和镜像，包括悬挂和中间层镜像，以综合优化 Docker 系统</span>
<span class="token function">docker</span> system prune


<span class="token comment"># mysql 相关命令</span>

<span class="token comment"># 进入mysql命令行</span>
mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>

<span class="token comment"># 创建新用户 canal，并设置其密码</span>
CREATE <span class="token environment constant">USER</span> canal IDENTIFIED BY <span class="token string">'canal'</span><span class="token punctuation">;</span>

<span class="token comment"># 授予用户 canal 对所有数据库和表的 SELECT、REPLICATION SLAVE 和 REPLICATION CLIENT 权限</span>
GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO <span class="token string">'canal'</span>@<span class="token string">'%'</span><span class="token punctuation">;</span>

<span class="token comment"># 刷新权限，使之前的 GRANT 操作立即生效</span>
FLUSH PRIVILEGES<span class="token punctuation">;</span>

<span class="token comment"># 显示当前的二进制日志格式</span>
SHOW VARIABLES LIKE <span class="token string">'binlog_format'</span><span class="token punctuation">;</span>

<span class="token comment"># 显示是否启用了二进制日志以及其名称的模式</span>
SHOW VARIABLES LIKE <span class="token string">'log_bin'</span><span class="token punctuation">;</span>

<span class="token comment"># 显示主服务器的二进制日志文件名称和位置，用于配置复制</span>
SHOW MASTER STATUS<span class="token punctuation">;</span>

<span class="token comment"># 显示为用户 canal 设置的权限</span>
SHOW GRANTS FOR <span class="token string">'canal'</span>@<span class="token string">'%%'</span><span class="token punctuation">;</span>

<span class="token comment"># 登录到 MySQL 并检查用户的身份验证插件：</span>
SELECT user, host, plugin FROM mysql.user<span class="token punctuation">;</span>

<span class="token comment"># 使用以下 SQL 命令来更新用户：</span>
ALTER <span class="token environment constant">USER</span> <span class="token string">'username'</span>@<span class="token string">'hostname'</span> IDENTIFIED WITH <span class="token string">'mysql_native_password'</span> BY <span class="token string">'password'</span><span class="token punctuation">;</span>

<span class="token comment"># 当创建新用户时，可以显式指定使用 mysql_native_password：</span>
CREATE <span class="token environment constant">USER</span> <span class="token string">'username'</span>@<span class="token string">'hostname'</span> IDENTIFIED WITH <span class="token string">'mysql_native_password'</span> BY <span class="token string">'password'</span><span class="token punctuation">;</span>

<span class="token comment"># 您可以通过运行以下命令检查 MySQL 启动时读取了哪些配置文件：</span>
mysqld <span class="token parameter variable">--verbose</span> <span class="token parameter variable">--help</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-A</span> <span class="token number">1</span> <span class="token string">"Default options"</span>
</code></pre> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa00a7031fa54a0f779773c275566f1a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【点云surface】基于多项式重建的平滑和法线估计</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4dd1928c9aed7d383e8297f76778981a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GO语言实现txt文本多行合并为一行</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>