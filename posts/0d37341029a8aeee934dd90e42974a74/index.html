<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux环境文件或者文件夹打包 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux环境文件或者文件夹打包" />
<meta property="og:description" content="1、linux zip压缩 压缩当前文件夹下所有文件，压缩为a.zip。命令行的方法是怎样。
常用格式： zip -r fileName.zip 文件夹名 （1）把/home目录下面的data目录压缩为data.zip
zip -r data.zip data #压缩data目录 （2）把/home目录下面的data.zip解压到databak目录里面
unzip data.zip -d databak （3） 覆盖源路径解压
unzip -o healthcode-catch.zip -d disaster-recovery （4）把/home目录下面的a文件夹和3.txt压缩成为a123.zip
zip -r a123.zip a 3.txt （5）把/home目录下面的t.zip直接解压到/home目录里面
unzip t.zip （6）把/home目录下面的a1.zip、a2.zip、a3.zip同时解压到/home目录里面
unzip a*.zip （7）把/home目录下面w.zip里面的所有文件解压到第一级目录
unzip -j wt.zip 2、linux tar压缩 （1）tar命令格式：
下面五个参数是独立的，压缩解压都要用到其中一个，可以和下面的命令连用但只能用其中一个。 -c: 建立压缩档案（创建一个新的tar文件） -x：解压 -t：查看内容 -r：向压缩归档文件末尾追加文件 -u：更新原压缩包中的文件 下面的参数是根据需要在压缩或解压档案时可选的。 -z：使用gzip压缩它 -j：有bz2属性的 -Z：有compress属性的 -v：详细，显示要压缩或解压缩的文件 -O：将文件解开到标准输出 -p ：使用原文件的原来属性（属性不会依据使用者而变） 参数-f是必须的。 -f: 以提供的文件名作为参数创建tar文件 （2）tar命令可以用来压缩打包单文件、多个文件、单个目录、多个目录。
常用格式： 单个文件压缩打包 tar czvf my.tar file1 多个文件压缩打包 tar czvf my." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0d37341029a8aeee934dd90e42974a74/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-29T16:58:34+08:00" />
<meta property="article:modified_time" content="2022-07-29T16:58:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux环境文件或者文件夹打包</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1、linux zip压缩</h3> 
<p>压缩当前文件夹下所有文件，压缩为a.zip。命令行的方法是怎样。</p> 
<pre><code>常用格式：
zip -r fileName.zip 文件夹名
</code></pre> 
<p> （1）把/home目录下面的data目录压缩为data.zip</p> 
<pre><code>zip -r data.zip data #压缩data目录</code></pre> 
<p> （2）把/home目录下面的data.zip解压到databak目录里面</p> 
<pre><code>unzip data.zip -d databak</code></pre> 
<p>（3） 覆盖源路径解压</p> 
<pre><code>unzip -o healthcode-catch.zip -d disaster-recovery</code></pre> 
<p>（4）把/home目录下面的a文件夹和3.txt压缩成为a123.zip</p> 
<pre><code>zip -r a123.zip a 3.txt</code></pre> 
<p>（5）把/home目录下面的t.zip直接解压到/home目录里面</p> 
<pre><code>unzip t.zip</code></pre> 
<p>（6）把/home目录下面的a1.zip、a2.zip、a3.zip同时解压到/home目录里面</p> 
<pre><code>unzip a*.zip</code></pre> 
<p>（7）把/home目录下面w.zip里面的所有文件解压到第一级目录</p> 
<pre><code>unzip -j wt.zip</code></pre> 
<h3>2、linux tar压缩</h3> 
<p>（1）tar命令格式：</p> 
<pre><code>下面五个参数是独立的，压缩解压都要用到其中一个，可以和下面的命令连用但只能用其中一个。
-c: 建立压缩档案（创建一个新的tar文件）
-x：解压
-t：查看内容
-r：向压缩归档文件末尾追加文件
-u：更新原压缩包中的文件

下面的参数是根据需要在压缩或解压档案时可选的。
-z：使用gzip压缩它
-j：有bz2属性的
-Z：有compress属性的
-v：详细，显示要压缩或解压缩的文件
-O：将文件解开到标准输出

-p ：使用原文件的原来属性（属性不会依据使用者而变）

参数-f是必须的。
-f: 以提供的文件名作为参数创建tar文件
</code></pre> 
<p>（2）tar命令可以用来压缩打包单文件、多个文件、单个目录、多个目录。</p> 
<pre><code>常用格式：

单个文件压缩打包 tar czvf my.tar file1

多个文件压缩打包 tar czvf my.tar file1 file2,…

单个目录压缩打包 tar czvf my.tar dir1

多个目录压缩打包 tar czvf my.tar dir1 dir2

解包至当前目录：tar xzvf my.tar
</code></pre> 
<pre><code>压缩为*.tar
tar -cvf test.tar test.txt
*.tar解压缩
tar -xvf test.tar</code></pre> 
<pre><code>压缩为*.gz
tar -zcvf test.tar.gz test.txt
*.gz解压缩
tar -zxvf test.tar.gz</code></pre> 
<pre><code>压缩为*.bz2
tar -jcvf test.tar.bz2 test.txt
*bz2解压缩
tar -jxvf test.tar.bz2</code></pre> 
<h3> 3、分卷压缩</h3> 
<p>（1）使用tar分卷压缩</p> 
<pre><code>格式：
tar zcvf - filedir | split -d -b 500m - filename</code></pre> 
<pre><code>样例：
tar zcvf - ./picture | split -d -b 500m - picture
</code></pre> 
<pre><code>将./picture打包，并切割为 500m 的包
输出的文件为 filename00、filename01、filename02 …
假设不加filename，则输出文件为 x00、x01、x02 …
假设不加參数 -d。则输出aa、ab、ac …</code></pre> 
<p> （2）解压分卷</p> 
<pre><code>首先将分卷包合并
cat x* &gt; myzip.tar.gz
然后解压
tar zxvf myzip.tar.gz

</code></pre> 
<pre><code>样例：
cat picture* &gt; picture.tar.gz
tar zxvf picture.tar.gz</code></pre> 
<h3>4、Linux脚本——把指定目录下的所有目录（文件夹）分别单独打包</h3> 
<p>（1）编写Linux shell 脚本完整代码如下 ——yasuo.sh</p> 
<pre><code>#!/bin/bash

function zipFile(){
  echo $1
  flist=`ls $1`
  cd $1
  echo $flist
  for f in $flist
  do
    if test -d $f
    then
      #echo "dir:$f"
      zip -r $f.zip $f
    fi
  done
}
zipFile $1
                   

</code></pre> 
<p> 注意：</p> 
<ul><li>传入参数——指定目录</li><li><code>ls</code> 获取目录下文件 到 <code>flist</code></li><li>遍历<code>flist</code>判断是否是目录，如果是目录则进行打包操作 <code>zip -r $f.zip $f</code></li></ul> 
<p>（2）应用： </p> 
<pre><code># 修改脚本属性为 可执行
chmod 755 yasuo.sh

# 指定目录即可
./yasuo.sh 123/
</code></pre> 
<p> （3）效果：</p> 
<p><img alt="" height="298" src="https://images2.imgbox.com/8b/7c/B68oGtmo_o.png" width="781"></p> 
<p><img alt="" height="272" src="https://images2.imgbox.com/08/92/I4cGr62v_o.png" width="774"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/94bff30630125c531e289f04ee488c79/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python扁平化处理嵌套序列的好办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c4674b4f878ad01bc7039cfa798fa7d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python复习笔记4——文件和目录操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>