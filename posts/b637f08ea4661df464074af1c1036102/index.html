<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【JaveWeb教程】（20） MySQL数据库开发之 基本查询、条件查询、聚合函数、分组查询、排序查询、分页查询 详细代码示例讲解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【JaveWeb教程】（20） MySQL数据库开发之 基本查询、条件查询、聚合函数、分组查询、排序查询、分页查询 详细代码示例讲解" />
<meta property="og:description" content="目录 1. 数据库操作-DQL1.1 介绍1.2 语法1.3 基本查询1.4 条件查询1.5 聚合函数1.6 分组查询1.7 排序查询1.8 分页查询1.9 案例1.9.1 案例一1.9.2 案例二 在上次学习的内容中，我们讲解了：
使用DDL语句来操作数据库以及表结构（数据库设计）使用DML语句来完成数据库中数据的增、删、改操作（数据库操作） 我们今天还是继续学习数据库操作方面的内容：查询（DQL语句）。
查询操作我们分为两部分学习：
DQL语句-单表操作DQL语句-多表操作 1. 数据库操作-DQL 1.1 介绍 DQL英文全称是Data Query Language(数据查询语言)，用来查询数据库表中的记录。
查询关键字：SELECT
查询操作是所有SQL语句当中最为常见，也是最为重要的操作。在一个正常的业务系统中，查询操作的使用频次是要远高于增删改操作的。当我们打开某个网站或APP所看到的展示信息，都是通过从数据库中查询得到的，而在这个查询过程中，还会涉及到条件、排序、分页等操作。
1.2 语法 DQL查询语句，语法结构如下：
SELECT 字段列表 FROM 表名列表 WHERE 条件列表 GROUP BY 分组字段列表 HAVING 分组后条件列表 ORDER BY 排序字段列表 LIMIT 分页参数 我们今天会将上面的完整语法拆分为以下几个部分学习：
基本查询（不带任何条件）条件查询（where）分组查询（group by）排序查询（order by）分页查询（limit） 准备一些测试数据用于查询操作：
create database db02; -- 创建数据库 use db02; -- 切换数据库 -- 员工管理(带约束) create table tb_emp ( id int unsigned primary key auto_increment comment &#39;ID&#39;, username varchar(20) not null unique comment &#39;用户名&#39;, password varchar(32) default &#39;123456&#39; comment &#39;密码&#39;, name varchar(10) not null comment &#39;姓名&#39;, gender tinyint unsigned not null comment &#39;性别, 说明: 1 男, 2 女&#39;, image varchar(300) comment &#39;图像&#39;, job tinyint unsigned comment &#39;职位, 说明: 1 班主任,2 讲师, 3 学工主管, 4 教研主管&#39;, entrydate date comment &#39;入职时间&#39;, create_time datetime not null comment &#39;创建时间&#39;, update_time datetime not null comment &#39;修改时间&#39; ) comment &#39;员工表&#39;; -- 准备测试数据 INSERT INTO tb_emp (id, username, password, name, gender, image, job, entrydate, create_time, update_time) VALUES (1, &#39;jinyong&#39;, &#39;123456&#39;, &#39;金庸&#39;, 1, &#39;1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b637f08ea4661df464074af1c1036102/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T21:29:54+08:00" />
<meta property="article:modified_time" content="2024-01-11T21:29:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JaveWeb教程】（20） MySQL数据库开发之 基本查询、条件查询、聚合函数、分组查询、排序查询、分页查询 详细代码示例讲解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#1_DQL_19" rel="nofollow">1. 数据库操作-DQL</a></li><li><ul><li><a href="#11__21" rel="nofollow">1.1 介绍</a></li><li><a href="#12__34" rel="nofollow">1.2 语法</a></li><li><a href="#13__119" rel="nofollow">1.3 基本查询</a></li><li><a href="#14__197" rel="nofollow">1.4 条件查询</a></li><li><a href="#15__382" rel="nofollow">1.5 聚合函数</a></li><li><a href="#16__477" rel="nofollow">1.6 分组查询</a></li><li><a href="#17__534" rel="nofollow">1.7 排序查询</a></li><li><a href="#18__604" rel="nofollow">1.8 分页查询</a></li><li><a href="#19__682" rel="nofollow">1.9 案例</a></li><li><ul><li><a href="#191__686" rel="nofollow">1.9.1 案例一</a></li><li><a href="#192__728" rel="nofollow">1.9.2 案例二</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/70/5f/wjokd1qS_o.png" alt="在这里插入图片描述"><br> 在上次学习的内容中，我们讲解了：</p> 
<ul><li>使用DDL语句来操作数据库以及表结构（数据库设计）</li><li>使用DML语句来完成数据库中数据的增、删、改操作（数据库操作）</li></ul> 
<p>我们今天还是继续学习数据库操作方面的内容：查询（DQL语句）。</p> 
<p>查询操作我们分为两部分学习：</p> 
<ul><li>DQL语句-单表操作</li><li>DQL语句-多表操作</li></ul> 
<h3><a id="1_DQL_19"></a>1. 数据库操作-DQL</h3> 
<h4><a id="11__21"></a>1.1 介绍</h4> 
<p>DQL英文全称是Data Query Language(数据查询语言)，用来查询数据库表中的记录。</p> 
<p>查询关键字：SELECT</p> 
<p>查询操作是所有SQL语句当中最为常见，也是最为重要的操作。在一个正常的业务系统中，查询操作的使用频次是要远高于增删改操作的。当我们打开某个网站或APP所看到的展示信息，都是通过从数据库中查询得到的，而在这个查询过程中，还会涉及到条件、排序、分页等操作。</p> 
<p><img src="https://images2.imgbox.com/7c/f3/fNKSp0T8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="12__34"></a>1.2 语法</h4> 
<p>DQL查询语句，语法结构如下：</p> 
<pre><code class="prism language-mysql">SELECT
	字段列表
FROM
	表名列表
WHERE
	条件列表
GROUP  BY
	分组字段列表
HAVING
	分组后条件列表
ORDER BY
	排序字段列表
LIMIT
	分页参数
</code></pre> 
<p>我们今天会将上面的完整语法拆分为以下几个部分学习：</p> 
<ul><li>基本查询（不带任何条件）</li><li>条件查询（where）</li><li>分组查询（group by）</li><li>排序查询（order by）</li><li>分页查询（limit）</li></ul> 
<p>准备一些测试数据用于查询操作：</p> 
<pre><code class="prism language-mysql">create database db02; -- 创建数据库
use db02; -- 切换数据库
-- 员工管理(带约束)
create table tb_emp (
    id int unsigned primary key auto_increment comment 'ID',
    username varchar(20) not null unique comment '用户名',
    password varchar(32) default '123456' comment '密码',
    name varchar(10) not null comment '姓名',
    gender tinyint unsigned not null comment '性别, 说明: 1 男, 2 女',
    image varchar(300) comment '图像',
    job tinyint unsigned comment '职位, 说明: 1 班主任,2 讲师, 3 学工主管, 4 教研主管',
    entrydate date comment '入职时间',
    create_time datetime not null comment '创建时间',
    update_time datetime not null comment '修改时间'
) comment '员工表';

-- 准备测试数据
INSERT INTO tb_emp (id, username, password, name, gender, image, job, entrydate, create_time, update_time) VALUES
    (1, 'jinyong', '123456', '金庸', 1, '1.jpg', 4, '2000-01-01', '2022-10-27 16:35:33', '2022-10-27 16:35:35'),
    (2, 'zhangwuji', '123456', '张无忌', 1, '2.jpg', 2, '2015-01-01', '2022-10-27 16:35:33', '2022-10-27 16:35:37'),
    (3, 'yangxiao', '123456', '杨逍', 1, '3.jpg', 2, '2008-05-01', '2022-10-27 16:35:33', '2022-10-27 16:35:39'),
    (4, 'weiyixiao', '123456', '韦一笑', 1, '4.jpg', 2, '2007-01-01', '2022-10-27 16:35:33', '2022-10-27 16:35:41'),
    (5, 'changyuchun', '123456', '常遇春', 1, '5.jpg', 2, '2012-12-05', '2022-10-27 16:35:33', '2022-10-27 16:35:43'),
    (6, 'xiaozhao', '123456', '小昭', 2, '6.jpg', 3, '2013-09-05', '2022-10-27 16:35:33', '2022-10-27 16:35:45'),
    (7, 'jixiaofu', '123456', '纪晓芙', 2, '7.jpg', 1, '2005-08-01', '2022-10-27 16:35:33', '2022-10-27 16:35:47'),
    (8, 'zhouzhiruo', '123456', '周芷若', 2, '8.jpg', 1, '2014-11-09', '2022-10-27 16:35:33', '2022-10-27 16:35:49'),
    (9, 'dingminjun', '123456', '丁敏君', 2, '9.jpg', 1, '2011-03-11', '2022-10-27 16:35:33', '2022-10-27 16:35:51'),
    (10, 'zhaomin', '123456', '赵敏', 2, '10.jpg', 1, '2013-09-05', '2022-10-27 16:35:33', '2022-10-27 16:35:53'),
    (11, 'luzhangke', '123456', '鹿杖客', 1, '11.jpg', 2, '2007-02-01', '2022-10-27 16:35:33', '2022-10-27 16:35:55'),
    (12, 'hebiweng', '123456', '鹤笔翁', 1, '12.jpg', 2, '2008-08-18', '2022-10-27 16:35:33', '2022-10-27 16:35:57'),
    (13, 'fangdongbai', '123456', '方东白', 1, '13.jpg', 1, '2012-11-01', '2022-10-27 16:35:33', '2022-10-27 16:35:59'),
    (14, 'zhangsanfeng', '123456', '张三丰', 1, '14.jpg', 2, '2002-08-01', '2022-10-27 16:35:33', '2022-10-27 16:36:01'),
    (15, 'yulianzhou', '123456', '俞莲舟', 1, '15.jpg', 2, '2011-05-01', '2022-10-27 16:35:33', '2022-10-27 16:36:03'),
    (16, 'songyuanqiao', '123456', '宋远桥', 1, '16.jpg', 2, '2010-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:05'),
    (17, 'chenyouliang', '12345678', '陈友谅', 1, '17.jpg', null, '2015-03-21', '2022-10-27 16:35:33', '2022-10-27 16:36:07'),
    (18, 'zhang1', '123456', '张一', 1, '2.jpg', 2, '2015-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:09'),
    (19, 'zhang2', '123456', '张二', 1, '2.jpg', 2, '2012-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:11'),
    (20, 'zhang3', '123456', '张三', 1, '2.jpg', 2, '2018-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:13'),
    (21, 'zhang4', '123456', '张四', 1, '2.jpg', 2, '2015-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:15'),
    (22, 'zhang5', '123456', '张五', 1, '2.jpg', 2, '2016-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:17'),
    (23, 'zhang6', '123456', '张六', 1, '2.jpg', 2, '2012-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:19'),
    (24, 'zhang7', '123456', '张七', 1, '2.jpg', 2, '2006-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:21'),
    (25, 'zhang8', '123456', '张八', 1, '2.jpg', 2, '2002-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:23'),
    (26, 'zhang9', '123456', '张九', 1, '2.jpg', 2, '2011-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:25'),
    (27, 'zhang10', '123456', '张十', 1, '2.jpg', 2, '2004-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:27'),
    (28, 'zhang11', '123456', '张十一', 1, '2.jpg', 2, '2007-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:29'),
    (29, 'zhang12', '123456', '张十二', 1, '2.jpg', 2, '2020-01-01', '2022-10-27 16:35:33', '2022-10-27 16:36:31');
</code></pre> 
<h4><a id="13__119"></a>1.3 基本查询</h4> 
<p>在基本查询的DQL语句中，不带任何的查询条件，语法如下：</p> 
<ul><li> <p>查询多个字段</p> <pre><code class="prism language-mysql">select 字段1, 字段2, 字段3 from  表名;
</code></pre> </li><li> <p>查询所有字段（通配符）</p> <pre><code class="prism language-mysql">select *  from  表名;
</code></pre> </li><li> <p>设置别名</p> <pre><code class="prism language-mysql">select 字段1 [ as 别名1 ] , 字段2 [ as 别名2 ]  from  表名;
</code></pre> </li><li> <p>去除重复记录</p> <pre><code class="prism language-mysql">select distinct 字段列表 from  表名;
</code></pre> </li></ul> 
<p>案例1：查询指定字段 name，entrydate并返回</p> 
<pre><code class="prism language-mysql">select name,entrydate from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/73/09/bW961c1A_o.png" alt="在这里插入图片描述"></p> 
<p>案例2：查询返回所有字段</p> 
<pre><code class="prism language-mysql">select * from tb_emp;
</code></pre> 
<blockquote> 
 <p><code>*</code>号代表查询所有字段，在实际开发中尽量少用（不直观、影响效率）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ab/4b/YKCNcRDa_o.png" alt="在这里插入图片描述"></p> 
<p>案例3：查询所有员工的 name,entrydate，并起别名(姓名、入职日期)</p> 
<pre><code class="prism language-mysql">-- 方式1：
select name AS 姓名, entrydate AS 入职日期 from tb_emp;
-- 方式2： 别名中有特殊字符时，使用''或""包含
select name AS '姓 名', entrydate AS '入职日期' from tb_emp;
-- 方式3：
select name AS "姓名", entrydate AS "入职日期" from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/24/9b/ZyzOvkQi_o.png" alt="在这里插入图片描述"></p> 
<p>案例4：查询已有的员工关联了哪几种职位(不要重复)</p> 
<pre><code class="prism language-mysql">select distinct job from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/9f/ba/NS1HKxMY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="14__197"></a>1.4 条件查询</h4> 
<p><strong>语法：</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>  字段列表  <span class="token keyword">from</span>   表名   <span class="token keyword">where</span>   条件列表 <span class="token punctuation">;</span> <span class="token comment">-- 条件列表：意味着可以有多个条件</span>
</code></pre> 
<p>学习条件查询就是学习条件的构建方式，而在SQL语句当中构造条件的运算符分为两类：</p> 
<ul><li>比较运算符</li><li>逻辑运算符</li></ul> 
<p>常用的比较运算符如下:</p> 
<table><thead><tr><th><strong>比较运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>between … and …</td><td>在某个范围之内(含最小、最大值)</td></tr><tr><td>in(…)</td><td>在in之后的列表中的值，多选一</td></tr><tr><td>like 占位符</td><td>模糊匹配(_匹配单个字符, %匹配任意个字符)</td></tr><tr><td>is null</td><td>是null</td></tr></tbody></table> 
<p>常用的逻辑运算符如下:</p> 
<table><thead><tr><th><strong>逻辑运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>and 或 &amp;&amp;</td><td>并且 (多个条件同时成立)</td></tr><tr><td>or 或 ||</td><td>或者 (多个条件任意一个成立)</td></tr><tr><td>not 或 !</td><td>非 , 不是</td></tr></tbody></table> 
<p>案例1：查询 姓名 为 杨逍 的员工</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where name = '杨逍'; -- 字符串使用''或""包含
</code></pre> 
<p><img src="https://images2.imgbox.com/e3/8d/6cWbdIt1_o.png" alt="在这里插入图片描述"></p> 
<p>案例2：查询 id小于等于5 的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where id &lt;=5;
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/c7/4Szk1OSm_o.png" alt="在这里插入图片描述"></p> 
<p>案例3：查询 没有分配职位 的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where job is null ;
</code></pre> 
<p><img src="https://images2.imgbox.com/92/78/Z8IFvTE4_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意：查询为NULL的数据时，不能使用 <code>= null</code></p> 
 <p><img src="https://images2.imgbox.com/29/04/wp39zME2_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>案例4：查询 有职位 的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where job is not null ;
</code></pre> 
<p><img src="https://images2.imgbox.com/d9/fc/XrK0F4Ue_o.png" alt="在这里插入图片描述"></p> 
<p>案例5：查询 密码不等于 ‘123456’ 的员工信息</p> 
<pre><code class="prism language-mysql">-- 方式1：
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where password &lt;&gt; '123456';
-- 方式2：
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where password != '123456';
</code></pre> 
<p><img src="https://images2.imgbox.com/67/98/ZT4dkVdj_o.png" alt="在这里插入图片描述"></p> 
<p>案例6：查询 入职日期 在 ‘2000-01-01’ (包含) 到 ‘2010-01-01’(包含) 之间的员工信息</p> 
<pre><code class="prism language-mysql">-- 方式1：
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where entrydate&gt;='2000-01-01' and entrydate&lt;='2010-01-01';
-- 方式2： between...and
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where entrydate between '2000-01-01' and '2010-01-01';
</code></pre> 
<p><img src="https://images2.imgbox.com/66/95/lt0rRoSU_o.png" alt="在这里插入图片描述"></p> 
<p>案例7：查询 入职时间 在 ‘2000-01-01’ (包含) 到 ‘2010-01-01’(包含) 之间 且 性别为女 的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where entrydate between '2000-01-01' and '2010-01-01'
      and gender = 2;
</code></pre> 
<p><img src="https://images2.imgbox.com/aa/1c/227U5C6V_o.png" alt="在这里插入图片描述"></p> 
<p>案例8：查询 职位是 2 (讲师), 3 (学工主管), 4 (教研主管) 的员工信息</p> 
<pre><code class="prism language-mysql">-- 方式1：使用or连接多个条件
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where job=2 or job=3 or job=4;
-- 方式2：in关键字
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where job in (2,3,4);
</code></pre> 
<p><img src="https://images2.imgbox.com/e0/51/r7Id2upt_o.png" alt="在这里插入图片描述"></p> 
<p>案例9：查询 姓名 为两个字的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where name like '__';  # 通配符 "_" 代表任意1个字符
</code></pre> 
<p><img src="https://images2.imgbox.com/bf/38/8zAtfbij_o.png" alt="在这里插入图片描述"></p> 
<p>案例10：查询 姓 ‘张’ 的员工信息</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where name like '张%'; # 通配符 "%" 代表任意个字符（0个 ~ 多个）
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/51/theCUEZY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="15__382"></a>1.5 聚合函数</h4> 
<p>之前我们做的查询都是横向查询，就是根据条件一行一行的进行判断，而使用聚合函数查询就是纵向查询，它是对一列的值进行计算，然后返回一个结果值。（将一列数据作为一个整体，进行纵向计算）</p> 
<p>语法：</p> 
<pre><code class="prism language-mysql">select  聚合函数(字段列表)  from  表名 ;
</code></pre> 
<blockquote> 
 <p>注意 : 聚合函数会忽略空值，对NULL值不作为统计。</p> 
</blockquote> 
<p>常用聚合函数：</p> 
<table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table> 
<blockquote> 
 <p>count ：按照列去统计有多少行数据。</p> 
 <ul><li>在根据指定的列统计的时候，如果这一列中有null的行，该行不会被统计在其中。</li></ul> 
 <p>sum ：计算指定列的数值和，如果不是数值类型，那么计算结果为0</p> 
 <p>max ：计算指定列的最大值</p> 
 <p>min ：计算指定列的最小值</p> 
 <p>avg ：计算指定列的平均值</p> 
</blockquote> 
<p>案例1：统计该企业员工数量</p> 
<pre><code class="prism language-mysql"># count(字段)
select count(id) from tb_emp;-- 结果：29
select count(job) from tb_emp;-- 结果：28 （聚合函数对NULL值不做计算）

# count(常量)
select count(0) from tb_emp;
select count('A') from tb_emp;

# count(*)  推荐此写法（MySQL底层进行了优化）
select count(*) from tb_emp;
</code></pre> 
<p>案例2：统计该企业最早入职的员工</p> 
<pre><code class="prism language-mysql">select min(entrydate) from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/53/jn1ZYuWT_o.png" alt="在这里插入图片描述"></p> 
<p>案例3：统计该企业最迟入职的员工</p> 
<pre><code class="prism language-mysql">select max(entrydate) from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/73/e5/JSK2R05F_o.png" alt="在这里插入图片描述"></p> 
<p>案例4：统计该企业员工 ID 的平均值</p> 
<pre><code class="prism language-mysql">select avg(id) from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/6d/ShPp8rbX_o.png" alt="在这里插入图片描述"></p> 
<p>案例5：统计该企业员工的 ID 之和</p> 
<pre><code class="prism language-mysql">select sum(id) from tb_emp;
</code></pre> 
<p><img src="https://images2.imgbox.com/68/fe/XfIvLxOh_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="16__477"></a>1.6 分组查询</h4> 
<p>分组： 按照某一列或者某几列，把相同的数据进行合并输出。</p> 
<blockquote> 
 <p>分组其实就是按列进行分类(指定列下相同的数据归为一类)，然后可以对分类完的数据进行合并计算。</p> 
 <p>分组查询通常会使用聚合函数进行计算。</p> 
</blockquote> 
<p>语法：</p> 
<pre><code class="prism language-mysql">select  字段列表  from  表名  [where 条件]  group by 分组字段名  [having 分组后过滤条件];
</code></pre> 
<p>案例1：根据性别分组 , 统计男性和女性员工的数量</p> 
<pre><code class="prism language-mysql">select gender, count(*)
from tb_emp
group by gender; -- 按照gender字段进行分组（gender字段下相同的数据归为一组）
</code></pre> 
<p><img src="https://images2.imgbox.com/46/12/wScPbAFo_o.png" alt="在这里插入图片描述"></p> 
<p>案例2：查询入职时间在 ‘2015-01-01’ (包含) 以前的员工 , 并对结果根据职位分组 , 获取员工数量大于等于2的职位</p> 
<pre><code class="prism language-mysql">select job, count(*)
from tb_emp
where entrydate &lt;= '2015-01-01'   -- 分组前条件
group by job                      -- 按照job字段分组
having count(*) &gt;= 2;             -- 分组后条件
</code></pre> 
<p><img src="https://images2.imgbox.com/c5/b2/4SjVDFiA_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意事项:</p> 
 <p>​ • 分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义</p> 
 <p>​ • 执行顺序：where &gt; 聚合函数 &gt; having</p> 
</blockquote> 
<p><strong>where与having区别（面试题）</strong></p> 
<ul><li>执行时机不同：where是分组之前进行过滤，不满足where条件，不参与分组；而having是分组之后对结果进行过滤。</li><li>判断条件不同：where不能对聚合函数进行判断，而having可以。</li></ul> 
<h4><a id="17__534"></a>1.7 排序查询</h4> 
<p>排序在日常开发中是非常常见的一个操作，有升序排序，也有降序排序。</p> 
<p>语法：</p> 
<pre><code class="prism language-mysql">select  字段列表  
from   表名   
[where  条件列表] 
[group by  分组字段 ] 
order  by  字段1  排序方式1 , 字段2  排序方式2 … ;
</code></pre> 
<ul><li> <p>排序方式：</p> 
  <ul><li> <p>ASC ：升序（默认值）</p> </li><li> <p>DESC：降序</p> </li></ul> </li></ul> 
<p>案例1：根据入职时间, 对员工进行升序排序</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
order by entrydate ASC; -- 按照entrydate字段下的数据进行升序排序

select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
order by  entrydate; -- 默认就是ASC（升序）
</code></pre> 
<p><img src="https://images2.imgbox.com/5f/9b/gAJIBDq8_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意事项：如果是升序, 可以不指定排序方式ASC</p> 
</blockquote> 
<p>案例2：根据入职时间，对员工进行降序排序</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
order by entrydate DESC; -- 按照entrydate字段下的数据进行降序排序
</code></pre> 
<p><img src="https://images2.imgbox.com/98/b5/ICJZ8Kpo_o.png" alt="在这里插入图片描述"></p> 
<p>案例3：根据入职时间对公司的员工进行升序排序，入职时间相同，再按照更新时间进行降序排序</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
order by entrydate ASC , update_time DESC;
</code></pre> 
<p><img src="https://images2.imgbox.com/00/65/BnQhBX1p_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意事项：如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p> 
</blockquote> 
<h4><a id="18__604"></a>1.8 分页查询</h4> 
<p>分页操作在业务系统开发时，也是非常常见的一个功能，日常我们在网站中看到的各种各样的分页条，后台也都需要借助于数据库的分页操作。</p> 
<p><img src="https://images2.imgbox.com/3c/19/RMm0YrvP_o.png" alt="在这里插入图片描述"></p> 
<p>分页查询语法：</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>  字段列表  <span class="token keyword">from</span>   表名  <span class="token keyword">limit</span>  起始索引<span class="token punctuation">,</span> 查询记录数 <span class="token punctuation">;</span>
</code></pre> 
<p>案例1：从起始索引0开始查询员工数据, 每页展示5条记录</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
limit 0 , 5; -- 从索引0开始，向后取5条记录
</code></pre> 
<p><img src="https://images2.imgbox.com/19/8a/EvspDyLT_o.png" alt="在这里插入图片描述"></p> 
<p>案例2：查询 第1页 员工数据, 每页展示5条记录</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
limit 5; -- 如果查询的是第1页数据，起始索引可以省略，直接简写为：limit 条数
</code></pre> 
<p><img src="https://images2.imgbox.com/27/cd/txkyk1p3_o.png" alt="在这里插入图片描述"></p> 
<p>案例3：查询 第2页 员工数据, 每页展示5条记录</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
limit 5 , 5; -- 从索引5开始，向后取5条记录
</code></pre> 
<p><img src="https://images2.imgbox.com/c8/34/FBMJi4ER_o.png" alt="在这里插入图片描述"></p> 
<p>案例4：查询 第3页 员工数据, 每页展示5条记录</p> 
<pre><code class="prism language-mysql">select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
limit 10 , 5; -- 从索引10开始，向后取5条记录
</code></pre> 
<p><img src="https://images2.imgbox.com/43/86/Sa0KfzJI_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>注意事项:</p> 
 <ol><li> <p>起始索引从0开始。 计算公式 ： 起始索引 = （查询页码 - 1）* 每页显示记录数</p> </li><li> <p>分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是LIMIT</p> </li><li> <p>如果查询的是第一页数据，起始索引可以省略，直接简写为 limit 条数</p> </li></ol> 
</blockquote> 
<h4><a id="19__682"></a>1.9 案例</h4> 
<p>DQL的基本语法我们学习结束了，接下来我们就运用所掌握的DQL语句的语法来完成两个案例。</p> 
<h5><a id="191__686"></a>1.9.1 案例一</h5> 
<p>案例：根据需求完成员工管理的条件分页查询</p> 
<p><img src="https://images2.imgbox.com/8c/de/3ovo6T2d_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>分析：根据输入的条件，查询第1页数据</p> 
 <ol><li> <p>在员工管理的列表上方有一些查询条件：员工姓名、员工性别，员工入职时间(开始时间~结束时间)</p> 
   <ul><li>姓名：张</li><li>性别：男</li><li>入职时间：2000-01-01 ~ 2015-12-31</li></ul> </li><li> <p>除了查询条件外，在列表的下面还有一个分页条，这就涉及到了分页查询</p> 
   <ul><li>查询第1页数据（每页显示10条数据）</li></ul> </li><li> <p>基于查询的结果，按照修改时间进行降序排序</p> </li></ol> 
 <p>结论：条件查询 + 分页查询 + 排序查询</p> 
</blockquote> 
<p>SQL语句代码：</p> 
<pre><code class="prism language-mysql">-- 根据输入条件查询第1页数据（每页展示10条记录）
-- 输入条件：
   -- 姓名：张 （模糊查询）
   -- 性别：男
   -- 入职时间：2000-01-01 ~ 2015-12-31
-- 分页： 0 , 10
-- 排序： 修改时间  DESC
select id, username, password, name, gender, image, job, entrydate, create_time, update_time
from tb_emp
where name like '张%' and gender = 1 and entrydate between '2000-01-01' and '2015-12-31'
order by update_time desc
limit 0 , 10;
</code></pre> 
<p><img src="https://images2.imgbox.com/18/19/tt8cMmYn_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="192__728"></a>1.9.2 案例二</h5> 
<p>案例：根据需求完成员工信息的统计</p> 
<p><img src="https://images2.imgbox.com/36/5f/zIhOBtO7_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>分析：以上信息统计在开发中也叫图形报表(将统计好的数据以可视化的形式展示出来)</p> 
 <ul><li>员工性别统计：以饼状图的形式展示出企业男性员人数和女性员工人数 
   <ul><li>只要查询出男性员工和女性员工各自有多少人就可以了</li></ul> </li><li>员工职位统计：以柱状图的形式展示各职位的在岗人数 
   <ul><li>只要查询出各个职位有多少人就可以了</li></ul> </li></ul> 
</blockquote> 
<p>员工性别统计：</p> 
<pre><code class="prism language-mysql">-- if(条件表达式, true取值 , false取值)
select if(gender=1,'男性员工','女性员工') AS 性别, count(*) AS 人数
from tb_emp
group by gender;
</code></pre> 
<p><img src="https://images2.imgbox.com/f2/96/Bit1F7Fe_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>if(表达式, tvalue, fvalue) ：当表达式为true时，取值tvalue；当表达式为false时，取值fvalue</p> 
</blockquote> 
<p>员工职位统计：</p> 
<pre><code class="prism language-mysql">-- case 表达式 when 值1 then 结果1  when 值2  then  结果2 ...  else  result  end
select (case job
             when 1 then '班主任'
             when 2 then '讲师'
             when 3 then '学工主管'
             when 4 then '教研主管'
             else '未分配职位'
        end) AS 职位 ,
       count(*) AS 人数
from tb_emp
group by job;
</code></pre> 
<p><img src="https://images2.imgbox.com/0c/47/DEwDtPKS_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>case 表达式 when 值1 then 结果1 [when 值2 then 结果2 …] [else result] end</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9d9fd4283774c8c607ad3c0f8f92ea01/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTB Manager ESC7 域提权</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c3fbe92629675e23462c67ef157b6a69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL安装部署-单机版</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>