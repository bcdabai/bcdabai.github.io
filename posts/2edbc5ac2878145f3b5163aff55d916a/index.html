<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【备忘录】从头搭建VUE项目，配置ROUTE路由，并使用AXIOS跨域访问后端 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【备忘录】从头搭建VUE项目，配置ROUTE路由，并使用AXIOS跨域访问后端" />
<meta property="og:description" content="文章目录 一、Nodejs/Vue安装及环境配置1、Node.js的下载和配置2、环境配置 二、安装VUE1、按指令安装：2、创建VUE-CLI项目3、使用VSCODE 打开对应的工程 三、安装ROUTE1、安装route2、配置route5、如何使用route的指令进行转跳vroute的三种转跳方式 补充知识点：关于route转跳的地址6、使用route实现类似iframe布局的效果 四、使用VUE进行前后端交互（AXIOS)一、什么是axios？和ajax对比优缺点补充知识点2：同源策略1、什么是同源策略？ —— 保证浏览器的安全性2、如何解决这个问题？————跨域请求 二、基本操作 五、使用vue脚手架搭建代理，实现前后端分离 一、Nodejs/Vue安装及环境配置 参考连接http://t.csdn.cn/cbchI
1、Node.js的下载和配置 下载地址：https://nodejs.org/en/download/，选择对应的版本下载安装位置可选，这里是默认的C盘安装，路径是C:\Program Files\nodejs 2、环境配置 分别在node里安装目录下创建node_cache和node_global两个文件夹。
打开CMD，输入如下，安装路径注意替换
npm config set prefix &#34;C:\Program Files\nodejs\node_global&#34; npm config set cache &#34;C:\Program Files\nodejs\node_cache&#34; 配置环境变量——打开系统高级设置-环境变量，添加如下变量
新建 系统变量 ，变量名 NODE_PATH ，变量值 安装路径&#43;\node_modules如
修改 用户变量的path，进行如下替换
教程的图如下
二、安装VUE 速度慢，可以配置淘宝的镜像（老师说会有bug）
配置淘宝镜像源 npm install -g cnpm --registry=https://registry.npm.taobao.org
直接修改npm的默认配置 npm config set registry https:*//registry.npm.taobao.org* 另外如果需要重装可以用到以下指令：
npm uninstall @vue/cli -g #卸载 1、按指令安装： vue-cli
cnpm install --global vue-cli	// vue-cli全局安装 vue -V	//查看版本,注意V 是大写 npm" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2edbc5ac2878145f3b5163aff55d916a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-20T15:50:47+08:00" />
<meta property="article:modified_time" content="2023-03-20T15:50:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【备忘录】从头搭建VUE项目，配置ROUTE路由，并使用AXIOS跨域访问后端</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-kimbie-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><ul><li><a href="#NodejsVue_1" rel="nofollow">一、Nodejs/Vue安装及环境配置</a></li><li><ul><li><a href="#1Nodejs_5" rel="nofollow">1、Node.js的下载和配置</a></li><li><a href="#2_10" rel="nofollow">2、环境配置</a></li></ul> 
    </li><li><a href="#VUE_39" rel="nofollow">二、安装VUE</a></li><li><ul><li><a href="#1_57" rel="nofollow">1、按指令安装：</a></li><li><a href="#2VUECLI_99" rel="nofollow">2、创建VUE-CLI项目</a></li><li><a href="#3VSCODE__129" rel="nofollow">3、使用VSCODE 打开对应的工程</a></li></ul> 
    </li><li><a href="#ROUTE_153" rel="nofollow">三、安装ROUTE</a></li><li><ul><li><ul><li><a href="#1route_155" rel="nofollow">1、安装route</a></li><li><a href="#2route_162" rel="nofollow">2、配置route</a></li><li><a href="#5route_232" rel="nofollow">5、如何使用route的指令进行转跳</a></li><li><a href="#vroute_238" rel="nofollow">vroute的三种转跳方式</a></li></ul> 
    </li></ul> 
    </li><li><a href="#_263" rel="nofollow"></a></li><li><ul><li><a href="#route_267" rel="nofollow">补充知识点：关于route转跳的地址</a></li><li><ul><li><a href="#6routeiframe_277" rel="nofollow">6、使用route实现类似iframe布局的效果</a></li></ul> 
    </li></ul> 
    </li><li><a href="#VUEAXIOS_300" rel="nofollow">四、使用VUE进行前后端交互（AXIOS)</a></li><li><ul><li><a href="#axios_304" rel="nofollow">一、什么是axios？</a></li><li><a href="#ajax_309" rel="nofollow">和ajax对比优缺点</a></li><li><a href="#2_326" rel="nofollow">补充知识点2：同源策略</a></li><li><ul><li><a href="#1___330" rel="nofollow">1、什么是同源策略？ —— 保证浏览器的安全性</a></li><li><a href="#2_336" rel="nofollow">2、如何解决这个问题？————跨域请求</a></li></ul> 
     </li><li><a href="#_353" rel="nofollow">二、基本操作</a></li></ul> 
    </li><li><a href="#vue_385" rel="nofollow">五、使用vue脚手架搭建代理，实现前后端分离</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="NodejsVue_1"></a>一、Nodejs/Vue安装及环境配置</h4> 
<blockquote> 
 <p>参考连接http://t.csdn.cn/cbchI</p> 
</blockquote> 
<h5><a id="1Nodejs_5"></a>1、Node.js的下载和配置</h5> 
<ol><li>下载地址：https://nodejs.org/en/download/，选择对应的版本下载</li><li>安装位置可选，这里是默认的C盘安装，路径是<code>C:\Program Files\nodejs</code></li></ol> 
<h5><a id="2_10"></a>2、环境配置</h5> 
<ol><li> <p>分别在node里安装目录下创建node_cache和node_global两个文件夹。</p> <img src="https://images2.imgbox.com/6a/42/IvWvng5d_o.png" alt="image-20221021113356645"> </li><li> <p>打开CMD，输入如下，安装路径注意替换</p> <pre><code class="prism language-shell"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> prefix <span class="token string">"C:\Program Files<span class="token entity" title="\n">\n</span>odejs<span class="token entity" title="\n">\n</span>ode_global"</span>
<span class="token function">npm</span> config <span class="token builtin class-name">set</span> cache <span class="token string">"C:\Program Files<span class="token entity" title="\n">\n</span>odejs<span class="token entity" title="\n">\n</span>ode_cache"</span>
</code></pre> </li><li> <p>配置环境变量——打开系统高级设置-环境变量，添加如下变量</p> 
  <ul><li> <p>新建 <strong>系统变量</strong> ，变量名 <code>NODE_PATH</code> ，变量值 <code>安装路径+\node_modules</code>如</p> <img src="https://images2.imgbox.com/f5/0a/lLepHoj6_o.png" alt="image-20221021113754697"> </li><li> <p>修改 <strong>用户变量</strong>的path，进行如下替换</p> <img src="https://images2.imgbox.com/64/6a/l3Tl2DQ8_o.png" alt="image-20221021113931769"> <p>教程的图如下</p> <p><img src="https://images2.imgbox.com/f0/61/FlCNHSwj_o.png" alt="image-20221021114002670"></p> </li></ul> </li></ol> 
<h4><a id="VUE_39"></a>二、安装VUE</h4> 
<blockquote> 
 <p><s>速度慢，可以配置淘宝的镜像</s>（老师说会有bug）</p> 
 <ul><li>配置淘宝镜像源</li></ul> 
 <p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p> 
 <ul><li>直接修改npm的默认配置</li></ul> 
 <p><code>npm config set registry https:*//registry.npm.taobao.org* </code></p> 
 <p>另外如果需要重装可以用到以下指令：</p> 
 <pre><code>npm uninstall @vue/cli -g   #卸载
</code></pre> 
</blockquote> 
<h5><a id="1_57"></a>1、按指令安装：</h5> 
<ol><li> <p>vue-cli</p> <pre><code>cnpm install --global vue-cli	 // vue-cli全局安装
vue -V			       //查看版本,注意V 是大写
</code></pre> </li><li> <p>npm</p> <pre><code>cnpm install npm -g
npm -v		       //查看版本,注意v 是小写，处理查vue是大写
</code></pre> </li><li> <p>cnpm</p> <pre><code>npm install cnpm -g		// 升级安装cnpm
或
npm install -g cnpm --registry=https://registry.npm.taobao.org
</code></pre> </li><li> <p>vue/cli安装查看</p> <pre><code>npm install -g @vue/cli
</code></pre> </li><li> <p>可选 express模块</p> <pre><code>npm install express -g 		// -g是全局安装的意思
</code></pre> </li></ol> 
<p>最终modules文件夹的内可以查到已经装好的插件</p> 
<p><img src="https://images2.imgbox.com/90/8a/9gx2QcGA_o.png" alt="image-20221021114335003"></p> 
<h5><a id="2VUECLI_99"></a>2、创建VUE-CLI项目</h5> 
<blockquote> 
 <ul><li>创建准备</li></ul> 
 <p>这一步需要管理员权限的CMD，启动管理员的CMD后使用<code>cd /d</code> 切换到项目目录下，输入<code>vue -V</code>确认无误后再执行创建指令</p> 
 <p><img src="https://images2.imgbox.com/3e/2b/I6JxLRvu_o.png" alt="image-20221021114843792"></p> 
</blockquote> 
<ol><li> <p>输入指令<code>vue create +项目名</code>，即可新建项目。</p> 
  <ul><li>注意：<strong>项目名一定不能有大写的</strong></li></ul> </li><li> <p>选择<code>VUE2项目</code>，开始进行创建</p> <img src="https://images2.imgbox.com/94/15/RAdbEVxp_o.png" alt="image-20221012162530389"> <p><img src="https://images2.imgbox.com/f6/69/BDIuf8wX_o.png" alt="image-20221021114955854"></p> </li><li> <p>根据以下的提示输入指令<code>npm run serve</code>，即<strong>可启动npm自带的web服务器，并支持访问</strong></p> <img src="https://images2.imgbox.com/e2/9f/lusJDEBL_o.png" alt="image-20221012163701355"> </li><li> <p>输入下方提示的地址即可访问vue网页</p> <p><img src="https://images2.imgbox.com/ec/84/MASm1AsJ_o.png" alt="image-20221021115110594"></p> </li></ol> 
<hr> 
<h5><a id="3VSCODE__129"></a>3、使用VSCODE 打开对应的工程</h5> 
<blockquote> 
 <p>前往微软官网下载vscode最新版</p> 
</blockquote> 
<ol><li> <p>点击打开文件夹，选择刚才创建的项目。并点击信任文件夹</p> <p><img src="https://images2.imgbox.com/fd/0d/9nZ1SbTw_o.png" alt="image-20221021115337176"></p> </li></ol> 
<img src="https://images2.imgbox.com/35/8c/m823TKcS_o.png" alt="image-20221012163908235"> 
<ol start="2"><li> <p>在选项卡找到<code>终端 —— 新建终端</code></p> <img src="https://images2.imgbox.com/40/52/kJW1OiRw_o.png" alt="image-20221021115509039"> </li><li> <p>在下方指令栏内输入<code>npm run serve</code>即可启动web服务器</p> <p><img src="https://images2.imgbox.com/6c/c7/9itV1SzS_o.png" alt="image-20221021115548939"></p> 
  <blockquote> 
   <p>这里可能会有vscode权限问题报错，目前没遇到</p> 
   <img src="https://images2.imgbox.com/95/e2/5ci23ulQ_o.png" alt="image-20221012164639031"> 
  </blockquote> </li></ol> 
<h4><a id="ROUTE_153"></a>三、安装ROUTE</h4> 
<h6><a id="1route_155"></a>1、安装route</h6> 
<p>vue没有自带路由，需要使用npm手动添加依赖</p> 
<ol><li>输入指令<code>npm install -s vue-router@3.4.0</code>可以下载对应的版本</li><li>输入指令<code>npm list vue-route</code>可以查看已存在的版本</li></ol> 
<h6><a id="2route_162"></a>2、配置route</h6> 
<ol><li> <p>创建路由表 src/route/index.js 文件</p> </li><li> <p><strong>输入一下配置</strong></p> <pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span>

<span class="token comment">// 导入页面组件</span>
<span class="token keyword">import</span> LoginView <span class="token keyword">from</span> <span class="token string">"../views/LoginView.vue"</span>
<span class="token keyword">import</span> MainView <span class="token keyword">from</span> <span class="token string">"../views/MainView.vue"</span>

<span class="token comment">// Vue模块全局加载,使用VueRouter模块</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">// 创建路由表(最常用的修改)</span>
<span class="token keyword">var</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/login"</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"login"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>LoginView<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/main"</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"main"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>MainView<span class="token punctuation">}</span>
<span class="token punctuation">]</span>


<span class="token comment">// 创建路由对象：加载路由表（相当于是固定默认代码）</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">"hash"</span><span class="token punctuation">,</span>    <span class="token comment">// 路径的模式，hash模式</span>
    routes  <span class="token comment">//当属性名和变量名一致可以简写变量名</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 导入</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span>
</code></pre> 
  <ul><li>其中<strong>导入页面组件和路由表</strong>是最常用的修改，其他的都可以当初固定格式</li><li>常见错误：注意单词<code>router</code>和<code>routes</code>的区别和拼写</li></ul> </li><li> <p>在<strong>main.js</strong>中导入路由器</p> </li></ol> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router/index.js'</span>  <span class="token comment">// 导入路由器</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">router</span><span class="token operator">:</span> router  <span class="token comment">// 添加路由器</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> 
<ol start="4"><li>最后将前面写的<code>App.vue</code>进行修改和简化</li></ol> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'App',
  components: {
  }
}
&lt;/script&gt;
</code></pre> 
<h6><a id="5route_232"></a>5、如何使用route的指令进行转跳</h6> 
<blockquote> 
 <p>原来是js中，使用<code>location.href = '地址'</code>进行转跳</p> 
</blockquote> 
<ul><li>在route中，使用<code>router.push</code>进行转跳</li></ul> 
<h6><a id="vroute_238"></a>vroute的三种转跳方式</h6> 
<p>路由切换： 声明式 <code>&lt;router-link :to=''&gt;&lt;/router-link&gt;</code></p> 
<p>​ 编程式 <code> router.push()</code></p> 
<p>​ 替换 <code>router.replace(...)</code></p> 
<pre><code class="prism language-js"><span class="token comment">// 字符串路径</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/users/eduardo'</span><span class="token punctuation">)</span>

<span class="token comment">// 带有路径的对象</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/users/eduardo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 命名的路由，并加上参数，让路由建立 url</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'eduardo'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 带查询参数，结果是 /register?plan=private</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/register'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">plan</span><span class="token operator">:</span> <span class="token string">'private'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 带 hash，结果是 /about#team</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token literal-property property">hash</span><span class="token operator">:</span> <span class="token string">'#team'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_263"></a></h4> 
<hr> 
<h5><a id="route_267"></a>补充知识点：关于route转跳的地址</h5> 
<p>使用井号<code>#</code>加上后面的路由地址，这种模式就是hash模式</p> 
<ul><li>还有一种模式叫history模式，地址栏用？进行分割</li></ul> 
<p><img src="https://images2.imgbox.com/23/6e/ZDVEdYAC_o.png" alt="image-20221013162310325"></p> 
<h6><a id="6routeiframe_277"></a>6、使用route实现类似iframe布局的效果</h6> 
<p><strong>思路整理</strong></p> 
<ol><li> <p>修改<code>index.js</code>的路由表routes的元素对象，可以添加一个children属性，用于存储内部的路由表，实现路径之间的嵌套</p> <pre><code class="prism language-js"><span class="token comment">// 创建路由表(最常用的修改)</span>
<span class="token keyword">var</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">"login"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 默认路径 重定向</span>
    <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/login"</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"login"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>LoginView<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/main"</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"main"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>MainView<span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/user"</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"user"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>UserViwer<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> </li><li> <p>修改<code>对应的.vue</code>文件，添加<code>&lt;router-view&gt;&lt;/router-view&gt;</code>标签就可以访问对应的组件</p> </li><li> <p>使用<code>&lt;route-link&gt;</code>标签，就可以实现不同路径的组件的转跳</p> </li></ol> 
<h4><a id="VUEAXIOS_300"></a>四、使用VUE进行前后端交互（AXIOS)</h4> 
<p>需要使用到axios，输入指令下载axios<code>npm install -s axios</code></p> 
<h5><a id="axios_304"></a>一、什么是axios？</h5> 
<ol><li>提供了promise的方式</li><li>用户可以自己安装</li></ol> 
<h5><a id="ajax_309"></a>和ajax对比优缺点</h5> 
<p>1.axios优点：<br> （1）从浏览器中创建 XMLHttpRequest；<br> （2）支持 Promise API；<br> （3）从 node.js 创建 http 请求；<br> （4）转换请求和响应数据；<br> （5）自动转换JSON数据。</p> 
<p>1.ajax缺点:<br> （1）基于原生的XHR开发，XHR本身的架构不清晰；<br> （2）JQuery整个项目太大，单纯使用ajax却要引入整个JQuery非常的不合理；<br> （3）不符合关注分离（Separation of Concerns）的原则；<br> （4）配置和调用方式非常混乱，而且基于事件的异步模型不友好。</p> 
<h5><a id="2_326"></a>补充知识点2：同源策略</h5> 
<blockquote> 
 <p>之前在使用ajax时，前端和后端的端口必须一直，才能发送ajax，这就是同源策略</p> 
</blockquote> 
<h6><a id="1___330"></a>1、什么是同源策略？ —— 保证浏览器的安全性</h6> 
<ol><li>协议必须一致，http或https</li><li>同一个服务器的地址必须一直，localhost</li><li>端口也必须一致</li></ol> 
<h6><a id="2_336"></a>2、如何解决这个问题？————跨域请求</h6> 
<ol><li> <p>前端的解决方案 ：jsonp。缺点是只能解决get请求</p> </li><li> <p>后端的解决方案：放开限制，让每个人都能访问，安全性就降低了</p> 
  <blockquote> 
   <p>在controller类或方法上，加入注解<code>@CrossOrigin</code></p> 
   <p>在前端就需要填写<strong>后端端口的绝对地址</strong>，比如<code>http://localhost:8880/user/login</code></p> 
  </blockquote> </li><li> <p>第三方解决方案：加入代理</p> 
  <blockquote> 
   <ul><li>在开发阶段，vue脚手架自带有代理</li><li>产品阶段：<strong>Nginx</strong> 等</li></ul> 
  </blockquote> </li></ol> 
<h5><a id="_353"></a>二、基本操作</h5> 
<pre><code class="prism language-js"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span>   <span class="token comment">// 导入</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'LoginView'</span><span class="token punctuation">,</span>   <span class="token comment">//组件名称</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">handleHerf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// url data dataType suucess</span>
            axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>  <span class="token comment">// 相当于type</span>
                <span class="token string">"url"</span><span class="token punctuation">,</span>  <span class="token comment">// 要访问的url</span>
                <span class="token punctuation">{<!-- --></span><span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 存data</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 成功时返回的事件</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 失败的时间</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/main"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 登陆的转跳</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 页面加载后的指令</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="vue_385"></a>五、使用vue脚手架搭建代理，实现前后端分离</h4> 
<p>进入<code>vue.config.js</code>。进行如下配置</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> defineConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-service'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">transpileDependencies</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">port</span><span class="token operator">:</span><span class="token number">8000</span><span class="token punctuation">,</span>  <span class="token comment">// 配置前端服务器端口</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 配置代理地址   api可以自定义</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 配置后端的地址</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span><span class="token string">"http://localhost:8888"</span><span class="token punctuation">,</span> 
        <span class="token comment">// 自动将/api替换成空</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token string-property property">'^/api'</span><span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>实现的效果</strong>：</p> 
<ul><li> <p>请求地址中含有<code>/api</code>的，都会代理到目标的地址。</p> </li><li> <p>默认实现的方式是：<strong>会在<code>/api</code>前加入target的地址</strong>。效果类似<code>http://localhost:8880/user/login</code></p> 
  <ul><li>显然这并不符合我们的需求，所以还需要添加一行配置<code> pathRewrite:{'^/api':''}</code>。相当于将/api替换成空</li></ul> </li><li> <p>在axios的请求中，地址就需要进行修改，只需要写成<code>api/user/login</code></p> <p><strong>这样，前后端的地址不同（项目不同）也能实现数据交互了</strong></p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c94631110f1487192662fbfd13d6fbe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Postgresql 的远程登录配置 pg_hba.conf</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a0bcab5f78dfcf7c9cc9085037588429/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java8日期（Date,LocalDate,LocalTime,LocalDateTime），以及处理时间的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>