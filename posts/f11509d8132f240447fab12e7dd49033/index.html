<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu20.04 安装配置 Ros2 (原) - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu20.04 安装配置 Ros2 (原)" />
<meta property="og:description" content="记录一下折磨了一周的ros2配置qaq以及踩的无数坑
第一次按照一个教程安装后，命令行输入sudo apt-update 报错 The repository &#39;http://packages.ros.org/ros/ubuntu $(lsb_release-sc) Release&#39; does not have a Release file.
卸载后，按照第二个教程安装
ROS 2 Documentation: Foxyhttps://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Debians.html
添加 gpg key 的步骤无法完成，修改后的整体安装流程如下：
Set locale sudo apt update &amp;&amp; sudo apt install locales sudo locale-gen en_US en_US.UTF-8 sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 export LANG=en_US.UTF-8 Setup Sources 确保 Ubuntu Universe repository 已启用
sudo apt install software-properties-common sudo add-apt-repository universe 教程原文：用apt方法添加 ROS2 GPG key
sudo apt update &amp;&amp; sudo apt install curl sudo curl -sSL https://raw." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f11509d8132f240447fab12e7dd49033/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-14T20:20:47+08:00" />
<meta property="article:modified_time" content="2022-12-14T20:20:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu20.04 安装配置 Ros2 (原)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>记录一下折磨了一周的ros2配置qaq以及踩的无数坑</p> 
<hr> 
<p>第一次按照一个教程安装后，命令行输入sudo apt-update 报错 <em>The repository 'http://packages.ros.org/ros/ubuntu $(lsb_release-sc) Release' does not have a Release file.</em></p> 
<p>卸载后，按照第二个教程安装</p> 
<p><a class="link-info has-card" href="https://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Debians.html" rel="nofollow" title="ROS 2 Documentation: Foxy"><span class="link-card-box"><span class="link-title">ROS 2 Documentation: Foxy</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/96/08/CNtH3qEf_o.png">https://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Debians.html</span></span></a></p> 
<p>添加 gpg key 的步骤无法完成，修改后的整体安装流程如下：</p> 
<p></p> 
<h3>Set locale</h3> 
<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install locales
sudo locale-gen en_US en_US.UTF-8
sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8
export LANG=en_US.UTF-8</code></pre> 
<h3>Setup Sources</h3> 
<p>确保 Ubuntu Universe repository 已启用</p> 
<pre><code class="language-bash">sudo apt install software-properties-common
sudo add-apt-repository universe</code></pre> 
<p>教程原文：用apt方法添加 ROS2 GPG key</p> 
<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install curl
sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg</code></pre> 
<p>用这种方法出现了拒绝连接的报错：</p> 
<p><img alt="" height="96" src="https://images2.imgbox.com/bd/77/pEeDFgGR_o.png" width="741"></p> 
<p> 于是尝试在命令行里挂梯子，解决连接问题</p> 
<pre><code class="language-bash">export http_proxy=socks5://127.0.0.1:7890
export https_proxy=socks5://127.0.0.1:7890</code></pre> 
<p>发现问题没有得到解决qwq</p> 
<p>最后决定直接打开网址下载key，把文件添加到 /usr/share/keyrings/ 目录下</p> 
<p><a class="link-info" href="https://raw.githubusercontent.com/ros/rosdistro/master/ros.key" rel="nofollow" title="https://raw.githubusercontent.com/ros/rosdistro/master/ros.key">https://raw.githubusercontent.com/ros/rosdistro/master/ros.key</a></p> 
<p>把Ubuntu翻的底朝天也没有找到usr这个文件夹（哭），但命令行可以进入<img alt="" height="116" src="https://images2.imgbox.com/fe/de/Bzo3bZi0_o.png" width="452"></p> 
<p> 推测是文件夹被隐藏，在 Home 目录下用 CtrlH 快捷键，发现了它。接下来CtrlL 再CtrlS 复制路径，用 <strong>sudo cp 原来文件路径 复制后文件路径</strong> 命令操作</p> 
<pre><code class="language-bash">sudo cp /home/ge/Downloads/ros.key /usr/share/keyrings/ros-archive-keyring.gpg</code></pre> 
<p>接下来就和教程一样了，把repository添加到 sources list</p> 
<pre><code class="language-bash">echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release &amp;&amp; echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list &gt; /dev/null</code></pre> 
<h3>Install ROS2 packages</h3> 
<pre><code class="language-bash">sudo apt update
sudo apt upgrade
sudo apt install ros-foxy-desktop python3-argcomplete
sudo apt install ros-foxy-ros-base python3-argcomplete
sudo apt install ros-dev-tools</code></pre> 
<h3>Environment Setup </h3> 
<p>如果使用的是zsh，就把命令里的 bash 替换成 zsh</p> 
<pre><code class="language-bash"># Replace ".bash" with your shell if you're not using bash
# Possible values are: setup.bash, setup.sh, setup.zsh
source /opt/ros/foxy/setup.bash</code></pre> 
<h3>Try some examples</h3> 
<p>打开另一个终端，运行一个C++ talker</p> 
<pre><code class="language-bash">source /opt/ros/foxy/setup.bash
ros2 run demo_nodes_cpp talker</code></pre> 
<p>打开另一个终端，运行一个Python listener</p> 
<pre><code class="language-bash">source /opt/ros/foxy/setup.bash
ros2 run demo_nodes_py listener</code></pre> 
<p>就这样吧有错误再更新qwq</p> 
<p></p> 
<h4>附上卸载方法：</h4> 
<pre><code class="language-bash">sudo apt remove ~nros-foxy-* &amp;&amp; sudo apt autoremove
sudo rm /etc/apt/sources.list.d/ros2.list
sudo apt update
sudo apt autoremove
# Consider upgrading for packages previously shadowed.
sudo apt upgrade</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d28de93feeada2eeb9533245e97c08e4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cherry-pick多次</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0be6c6ba58c52dab8919e7f0bda2b60/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">例1 反转一个三位数（Python）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>