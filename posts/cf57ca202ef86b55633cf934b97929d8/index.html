<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring源码分析二：BeanFactoryPostProcessor 的处理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring源码分析二：BeanFactoryPostProcessor 的处理" />
<meta property="og:description" content="文章目录 一、前言二、BeanFactoryPostProcessor &amp; BeanDefinitionRegistryPostProcessor三、代码分析1. BeanFactory2. 代码分析2.1 getBeanFactoryPostProcessors()2.2 invokeBeanFactoryPostProcessors 一、前言 本文是笔者阅读Spring源码的记录文章，由于本人技术水平有限，在文章中难免出现错误，如有发现，感谢各位指正。在阅读过程中也创建了一些衍生文章，衍生文章的意义是因为自己在看源码的过程中，部分知识点并不了解或者对某些知识点产生了兴趣，所以为了更好的阅读源码，所以开设了衍生篇的文章来更好的对这些知识点进行进一步的学习。
本文分析的方法是 AbstractApplicationContext#invokeBeanFactoryPostProcessors，是 前篇内容的继续部分。
本文衍生篇：
Spring 源码分析衍生篇八 ：ConfigurationClassPostProcessor 上篇Spring 源码分析衍生篇九 ：ConfigurationClassPostProcessor 下篇 强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！
强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！
强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！
PS : 个人感觉，实现IOC的两个核心后处理器 ：
ConfigurationClassPostProcessor 解析配置类(这里的配置类不仅仅局限于@Configuration 注解，还包括 @Import、 @ImportResource 等注解)，将解析到的需要注入到Spring容器中的bean的BeanDefinition保存起来AutowiredAnnotationBeanPostProcessor 解析bean中的 需要自动注入的bean @Autowired 和 @Inject @Value注解。 二、BeanFactoryPostProcessor &amp; BeanDefinitionRegistryPostProcessor 由于 invokeBeanFactoryPostProcessors 方法中主要就是对BeanFactoryPostProcessor 的处理，所以这里简单的介绍一下 BeanFactoryPostProcessor 及其子接口 BeanDefinitionRegistryPostProcessor。其结构如下图：
BeanFactoryPostProcessor 相比较于 BeanPostProcessor 方法是很简单的，只有一个方法，其子接口也就一个方法。但是他们俩的功能又是类似的，区别就是作用域并不相同。BeanFactoryPostProcessor的作用域范围是容器级别的。它只和你使用的容器有关。如果你在容器中定义一个BeanFactoryPostProcessor ，它仅仅对此容器中的bean进行后置处理。BeanFactoryPostProcessor 不会对定义在另一个容器中的bean进行后置处理，即使这两个容器都在同一容器中。
BeanFactoryPostProcessor 可以对 bean的定义(配置元数据)进行处理。Spring IOC 容器允许 BeanFactoryPostProcessor 在容器实际实例化任何其他bean之前读取配置元数据，并有可能修改它，也即是说 BeanFactoryPostProcessor 是直接修改了bean的定义，BeanPostProcessor 则是对bean创建过程中进行干涉。
BeanDefinitionRegistryPostProcessor 和 BeanFactoryPostProcessor 的区别在于：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/cf57ca202ef86b55633cf934b97929d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-06T14:02:48+08:00" />
<meta property="article:modified_time" content="2020-06-06T14:02:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring源码分析二：BeanFactoryPostProcessor 的处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、前言</a></li><li><a href="#BeanFactoryPostProcessor__BeanDefinitionRegistryPostProcessor_29" rel="nofollow">二、BeanFactoryPostProcessor &amp; BeanDefinitionRegistryPostProcessor</a></li><li><a href="#_59" rel="nofollow">三、代码分析</a></li><li><ul><li><a href="#1_BeanFactory_61" rel="nofollow">1. BeanFactory</a></li><li><a href="#2__67" rel="nofollow">2. 代码分析</a></li><li><ul><li><a href="#21_getBeanFactoryPostProcessors_120" rel="nofollow">2.1 getBeanFactoryPostProcessors()</a></li><li><a href="#22_invokeBeanFactoryPostProcessors_142" rel="nofollow">2.2 invokeBeanFactoryPostProcessors</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、前言</h2> 
<p>本文是笔者阅读Spring源码的记录文章，由于本人技术水平有限，在文章中难免出现错误，如有发现，感谢各位指正。在阅读过程中也创建了一些衍生文章，衍生文章的意义是因为自己在看源码的过程中，部分知识点并不了解或者对某些知识点产生了兴趣，所以为了更好的阅读源码，所以开设了衍生篇的文章来更好的对这些知识点进行进一步的学习。</p> 
<hr> 
<p>本文分析的方法是 AbstractApplicationContext#invokeBeanFactoryPostProcessors，是 <a href="https://blog.csdn.net/qq_36882793/article/details/106441853">前篇</a>内容的继续部分。</p> 
<p>本文衍生篇：</p> 
<ol><li><a href="https://blog.csdn.net/qq_36882793/article/details/106558290">Spring 源码分析衍生篇八 ：ConfigurationClassPostProcessor 上篇</a></li><li><a href="https://blog.csdn.net/qq_36882793/article/details/106652607">Spring 源码分析衍生篇九 ：ConfigurationClassPostProcessor 下篇</a></li></ol> 
<p><strong>强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！</strong><br> <strong>强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！</strong><br> <strong>强烈建议阅读完本文后阅读衍生篇内容。与后续文章有关联！！！</strong></p> 
<hr> 
<p>PS : 个人感觉，实现IOC的两个核心后处理器 ：</p> 
<ul><li><code>ConfigurationClassPostProcessor</code> 解析配置类(这里的配置类不仅仅局限于@Configuration 注解，还包括 @Import、 @ImportResource 等注解)，将解析到的需要注入到Spring容器中的bean的BeanDefinition保存起来</li><li><code>AutowiredAnnotationBeanPostProcessor</code> 解析bean中的 需要自动注入的bean @Autowired 和 @Inject @Value注解。</li></ul> 
<hr> 
<h2><a id="BeanFactoryPostProcessor__BeanDefinitionRegistryPostProcessor_29"></a>二、BeanFactoryPostProcessor &amp; BeanDefinitionRegistryPostProcessor</h2> 
<p>由于 <code>invokeBeanFactoryPostProcessors</code> 方法中主要就是对<code>BeanFactoryPostProcessor</code> 的处理，所以这里简单的介绍一下 <code>BeanFactoryPostProcessor</code> 及其子接口 <code>BeanDefinitionRegistryPostProcessor</code>。其结构如下图：<br> <img src="https://images2.imgbox.com/04/9d/mOOIyD7c_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-pYpkXpRB-1591273001011)(Spring源码分析八：AbstractApplicationContext#invokeBeanFactoryPostProcessors.assets/1591191196696.png)]"></p> 
<p><code>BeanFactoryPostProcessor</code> 相比较于 <code>BeanPostProcessor</code> 方法是很简单的，只有一个方法，其子接口也就一个方法。但是他们俩的功能又是类似的，区别就是作用域并不相同。<code>BeanFactoryPostProcessor</code>的作用域范围是容器级别的。它只和你使用的容器有关。如果你在容器中定义一个<code>BeanFactoryPostProcessor</code> ，它仅仅对此容器中的bean进行后置处理。<code>BeanFactoryPostProcessor</code> 不会对定义在另一个容器中的bean进行后置处理，即使这两个容器都在同一容器中。<br> <code>BeanFactoryPostProcessor</code> 可以对 bean的定义(配置元数据)进行处理。Spring IOC 容器允许 <code>BeanFactoryPostProcessor</code> 在容器实际实例化任何其他bean之前读取配置元数据，并有可能修改它，<strong>也即是说 BeanFactoryPostProcessor 是直接修改了bean的定义，BeanPostProcessor 则是对bean创建过程中进行干涉。</strong></p> 
<hr> 
<p><strong>BeanDefinitionRegistryPostProcessor 和 BeanFactoryPostProcessor 的区别在于：</strong></p> 
<ul><li> <p><code>BeanDefinitionRegistryPostProcessor .postProcessBeanDefinitionRegistry</code> 方法针对是<code>BeanDefinitionRegistry</code>类型的<code>ConfigurableListableBeanFactory</code>，可以实现对<code>BeanDefinition</code>的增删改查等操作，但是对于非 ConfigurableListableBeanFactory 类型的BeanFactory，并不起作用。</p> </li><li> <p><code>BeanFactoryPostProcessor .postProcessBeanFactory</code> 针对的是所有的<code>BeanFactory</code>。</p> </li><li> <p><code>postProcessBeanDefinitionRegistry</code> 的调用时机在<code>postProcessBeanFactory</code> 之前。</p> </li></ul> 
<hr> 
<p><strong>注： 关于 BeanPostProcessor ，请看前篇 ：<a href="https://blog.csdn.net/qq_36882793/article/details/106040809">Spring源码分析衍生篇四：后处理器 BeanPostProcessor</a></strong></p> 
<h2><a id="_59"></a>三、代码分析</h2> 
<h3><a id="1_BeanFactory_61"></a>1. BeanFactory</h3> 
<p>需要注意的是，我们这里的 BeanFactory 实际类型是 DefaultListableBeanFactory。这一点在 <a href="https://blog.csdn.net/qq_36882793/article/details/106441853">Spring源码分析一：容器的刷新 - refresh()</a> 中已经得到证实。</p> 
<p>下面我们看看 DefaultListableBeanFactory 的结构图如下，可以看到DefaultListableBeanFactory 实现了 BeanDefinitionRegistry 接口。这点在下面的分析中会用到。<br> <img src="https://images2.imgbox.com/61/44/A3IJ3lj6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__67"></a>2. 代码分析</h3> 
<p><code>invokeBeanFactoryPostProcessors</code> 方法的作用是<strong>激活</strong><code>BeanFactoryPostProcessor</code> 和 <code>BeanDefinitionRegistryPostProcessor</code> 。</p> 
<p>为了更好的了解下面的代码，我们先了解几个代码中的规则：</p> 
<ol><li><code>BeanFactoryPostProcessor</code> 在本次分析中分为两种类型： <code>BeanFactoryPostProcessor</code> 和其子接口 <code>BeanDefinitionRegistryPostProcessor</code> 。<code>BeanDefinitionRegistryPostProcessor</code> 相较于 <code>BeanFactoryPostProcessor</code> ，增加了一个方法如下。<br> <img src="https://images2.imgbox.com/63/22/mHk7kmjn_o.png" alt="在这里插入图片描述"><br> 需要注意的是，<code>BeanDefinitionRegistryPostProcessor#postProcessBeanDefinitionRegistry</code> 这个方法仅仅针对于 <code>BeanDefinitionRegistry</code> 类型的 BeanFactory 生效，这一点根据其入参就可以看到。<br> 总结一下即 ： <code>BeanFactoryPostProcessor</code> 针对所有的 <code>BeanFactory</code> ，即对于所有类型的BeanFactory 都会调用其方法；<code>BeanDefinitionRegistryPostProcessor</code> 仅对 <code>BeanDefinitionRegistry</code> 子类的BeanFactory 起作用，非<code>BeanDefinitionRegistry</code>类型则直接处理即可。</li></ol> 
<hr> 
<ol start="3"><li><code>BeanFactoryPostProcessor</code> 的注入分为两种方式： 
  <ol><li>配置注入方式：即通过注解或者xml的方式动态的注入到容器中的<code>BeanFactoryPostProcessor</code></li><li>硬编码注入方式: 这种方式是直接调用 <code>AbstractApplicationContext#addBeanFactoryPostProcessor</code> 方法将 <code>BeanFactoryPostProcessor</code> 添加到 <code>AbstractApplicationContext#beanFactoryPostProcessors</code> 属性中。其中</li></ol> </li></ol> 
<hr> 
<ol start="4"><li>硬编码注入的<code>BeanFactoryPostProcessor</code> 并不需要也不支持接口排序，而配置注入的方式因为Spring无法保证加载的顺序，所以通过支持PriorityOrdered、Ordered排序接口的排序。</li></ol> 
<hr> 
<ol start="6"><li>在下面代码分析中会由四个集合 
  <ol><li><code>regularPostProcessors</code> ： 记录通过硬编码方式注册的<code>BeanFactoryPostProcessor</code> 类型的处理器</li><li><code>registryProcessors</code>：记录通过硬编码方式注册的<code>BeanDefinitionRegistryPostProcessor</code> 类型的处理器</li><li><code>currentRegistryProcessors</code> ： 记录通过配置方式注册的 <code>BeanDefinitionRegistryPostProcessor</code> 类型的处理器</li><li><code>processedBeans</code> ： 记录当前已经处理过的<code>BeanFactoryPostProcessor</code> 和 <code>BeanDefinitionRegistryPostProcessor</code></li></ol> </li></ol> 
<hr> 
<p><strong>其实调用顺序可以归纳为： 硬编码先于配置，postProcessBeanDefinitionRegistry 先于postProcessBeanFactory</strong></p> 
<p>下面我们来看具体代码：<br> <code>AbstractApplicationContext#invokeBeanFactoryPostProcessors</code> 方法内容如下</p> 
<pre><code class="prism language-java">	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>ConfigurableListableBeanFactory beanFactory<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		PostProcessorRegistrationDelegate<span class="token punctuation">.</span><span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">,</span> <span class="token function">getBeanFactoryPostProcessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Detect a LoadTimeWeaver and prepare for weaving, if found in the meantime</span>
		<span class="token comment">// (e.g. through an @Bean method registered by ConfigurationClassPostProcessor)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getTempClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> null <span class="token operator">&amp;&amp;</span> beanFactory<span class="token punctuation">.</span><span class="token function">containsBean</span><span class="token punctuation">(</span>LOAD_TIME_WEAVER_BEAN_NAME<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			beanFactory<span class="token punctuation">.</span><span class="token function">addBeanPostProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LoadTimeWeaverAwareProcessor</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			beanFactory<span class="token punctuation">.</span><span class="token function">setTempClassLoader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ContextTypeMatchClassLoader</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBeanClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
</code></pre> 
<p>可以看到主要功能还是在<code>PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(beanFactory, getBeanFactoryPostProcessors());</code> 这一句上。我们先来看看 <code>getBeanFactoryPostProcessors()</code> 得到的是什么</p> 
<h4><a id="21_getBeanFactoryPostProcessors_120"></a>2.1 getBeanFactoryPostProcessors()</h4> 
<pre><code class="prism language-java">	<span class="token keyword">private</span> <span class="token keyword">final</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> beanFactoryPostProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addBeanFactoryPostProcessor</span><span class="token punctuation">(</span>BeanFactoryPostProcessor postProcessor<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Assert<span class="token punctuation">.</span><span class="token function">notNull</span><span class="token punctuation">(</span>postProcessor<span class="token punctuation">,</span> <span class="token string">"BeanFactoryPostProcessor must not be null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>beanFactoryPostProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>postProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * Return the list of BeanFactoryPostProcessors that will get applied
	 * to the internal BeanFactory.
	 */</span>
	<span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> <span class="token function">getBeanFactoryPostProcessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>beanFactoryPostProcessors<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre> 
<p>可以看到 getBeanFactoryPostProcessors() 方法仅仅是将 beanFactoryPostProcessors 集合返回了出去而已。那么 beanFactoryPostProcessors 集合是通过 set方法添加的。这就是我们上面提到过的，<strong><code>beanFactoryPostProcessors</code> 实际上是 硬编码形式注册的<code>BeanDefinitionRegistryPostProcessor</code> 类型的处理器集合。</strong></p> 
<h4><a id="22_invokeBeanFactoryPostProcessors_142"></a>2.2 invokeBeanFactoryPostProcessors</h4> 
<p>通过上一步，我们可以知道 入参中的 beanFactoryPostProcessors 集合是硬编码注册的 集合。对于下面的分析我们就好理解了。</p> 
<p>下面代码主要是对于 BeanDefinitionRegistry 类型 BeanFactory的处理以及 BeanFactoryPostProcessor 调用顺序问题的处理。实际上并不复杂。</p> 
<pre><code class="prism language-java">	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>
			ConfigurableListableBeanFactory beanFactory<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> beanFactoryPostProcessors<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

		<span class="token comment">// Invoke BeanDefinitionRegistryPostProcessors first, if any.</span>
		Set<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> processedBeans <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 对BeanDefinitionRegistry类型的处理，这里是交由BeanDefinitionRegistryPostProcessor来处理</span>
    	<span class="token comment">// 这里判断BeanFactory 如果是 BeanDefinitionRegistry 子类 则需要进行BeanDefinitionRegistryPostProcessor 的处理，否则直接按照 BeanFactoryPostProcessor处理即可。</span>
    	<span class="token comment">// 关于为什么BeanDefinitionRegistry 比较特殊上面也说过，因为BeanDefinitionRegistryPostProcessor 只能处理 BeanDefinitionRegistry 的子类，所以这里需要区分是否是 BeanDefinitionRegistry 类型</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory <span class="token keyword">instanceof</span> <span class="token class-name">BeanDefinitionRegistry</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 下面逻辑看似复杂，其实就两步：</span>
            <span class="token comment">// 1. 获取所有硬编码的 BeanDefinitionRegistryPostProcessor 类型，激活postProcessBeanDefinitionRegistry 方法</span>
            <span class="token comment">// 2. 获取所有配置的BeanDefinitionRegistryPostProcessor，激活postProcessBeanDefinitionRegistry 方法</span>
            
			BeanDefinitionRegistry registry <span class="token operator">=</span> <span class="token punctuation">(</span>BeanDefinitionRegistry<span class="token punctuation">)</span> beanFactory<span class="token punctuation">;</span>
            <span class="token comment">// 记录通过硬编码方式注册的BeanFactoryPostProcessor 类型的处理器</span>
			List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> regularPostProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          	<span class="token comment">//  记录通过硬编码方式注册的BeanDefinitionRegistryPostProcessor  类型的处理器</span>
			List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">&gt;</span></span> registryProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 遍历硬编码注册的后处理器(都保存AbstractApplicationContext#beanFactoryPostProcessors 中，这里通过参数beanFactoryPostProcessors传递过来)</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>BeanFactoryPostProcessor postProcessor <span class="token operator">:</span> beanFactoryPostProcessors<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>postProcessor <span class="token keyword">instanceof</span> <span class="token class-name">BeanDefinitionRegistryPostProcessor</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					BeanDefinitionRegistryPostProcessor registryProcessor <span class="token operator">=</span>
							<span class="token punctuation">(</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">)</span> postProcessor<span class="token punctuation">;</span>
                    <span class="token comment">// 激活 硬编码的处理器的BeanDefinitionRegistryPostProcessor.postProcessBeanDefinitionRegistry 方法。</span>
					registryProcessor<span class="token punctuation">.</span><span class="token function">postProcessBeanDefinitionRegistry</span><span class="token punctuation">(</span>registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// 保存到 registryProcessors中</span>
					registryProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>registryProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 非BeanDefinitionRegistryPostProcessor 类型的硬编码注入对象 保存到regularPostProcessors中</span>
					regularPostProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>postProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Do not initialize FactoryBeans here: We need to leave all regular beans</span>
			<span class="token comment">// uninitialized to let the bean factory post-processors apply to them!</span>
			<span class="token comment">// Separate between BeanDefinitionRegistryPostProcessors that implement</span>
			<span class="token comment">// PriorityOrdered, Ordered, and the rest.</span>
            <span class="token comment">// 记录通过配置方式注册的 BeanDefinitionRegistryPostProcessor  类型的处理器</span>
			List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">&gt;</span></span> currentRegistryProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// 获取所有的配置的 BeanDefinitionRegistryPostProcessor 的beanName</span>
			String<span class="token punctuation">[</span><span class="token punctuation">]</span> postProcessorNames <span class="token operator">=</span>
					beanFactory<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 筛选出 PriorityOrdered 接口的实现类，优先执行</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>String ppName <span class="token operator">:</span> postProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">isTypeMatch</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> PriorityOrdered<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 记录到currentRegistryProcessors中</span>
					currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					processedBeans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
            <span class="token comment">// 进行排序</span>
			<span class="token function">sortPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
			registryProcessors<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 激活 postProcessBeanDefinitionRegistry 方法</span>
			<span class="token function">invokeBeanDefinitionRegistryPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
			currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Next, invoke the BeanDefinitionRegistryPostProcessors that implement Ordered.</span>
			postProcessorNames <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token comment">// 筛选出 Ordered 接口的实现类，第二执行</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>String ppName <span class="token operator">:</span> postProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>processedBeans<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> beanFactory<span class="token punctuation">.</span><span class="token function">isTypeMatch</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> Ordered<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					processedBeans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
            <span class="token comment">// 排序</span>
			<span class="token function">sortPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
			registryProcessors<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 激活</span>
			<span class="token function">invokeBeanDefinitionRegistryPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
			currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Finally, invoke all other BeanDefinitionRegistryPostProcessors until no further ones appear.</span>
            <span class="token comment">// 最后获取没有实现排序接口的 BeanDefinitionRegistryPostProcessor ，进行激活。</span>
			<span class="token keyword">boolean</span> reiterate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>reiterate<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				reiterate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				postProcessorNames <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span>BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span>String ppName <span class="token operator">:</span> postProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>processedBeans<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
						currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> BeanDefinitionRegistryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						processedBeans<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">;</span>
						reiterate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
                <span class="token comment">// 排序</span>
				<span class="token function">sortPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
				registryProcessors<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 激活</span>
				<span class="token function">invokeBeanDefinitionRegistryPostProcessors</span><span class="token punctuation">(</span>currentRegistryProcessors<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
				currentRegistryProcessors<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// 到这里，所有的 BeanDefinitionRegistryPostProcessor 的postProcessBeanDefinitionRegistry 都已经激活结束，开始激活 postProcessBeanFactory 方法</span>
            <span class="token comment">// registryProcessors 记录的是硬编码注入的BeanDefinitionRegistryPostProcessor，这里激活的是 postProcessBeanFactory 方法</span>
			<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>registryProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// regularPostProcessors 中记录的是 硬编码注入的 BeanFactoryPostProcessor </span>
			<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>regularPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// Invoke factory processors registered with the context instance.</span>
            <span class="token comment">// 如果 beanFactory instanceof BeanDefinitionRegistry = false，那么BeanDefinitionRegistryPostProcessor.的postProcessBeanDefinitionRegistry 并不生效，就直接激活postProcessBeanFactory方法即可。</span>
            <span class="token comment">// 激活 硬编码注册的 BeanFactoryPostProcessor.postProcessBeanFactory 方法</span>
			<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>beanFactoryPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
    	<span class="token comment">// 到这一步，所有的硬编码方式注入的后处理器都处理完毕，下面开始处理配置注入的后处理器。</span>
    
    	<span class="token comment">// 获取所有后处理器的beanName,用于后面处理</span>
		String<span class="token punctuation">[</span><span class="token punctuation">]</span> postProcessorNames <span class="token operator">=</span>
				beanFactory<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span>BeanFactoryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Separate between BeanFactoryPostProcessors that implement PriorityOrdered,</span>
		<span class="token comment">// Ordered, and the rest.</span>
    	<span class="token comment">// 创建几个保存不同排序的集合，按照实现的排序接口调用</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> priorityOrderedPostProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> orderedPostProcessorNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> nonOrderedPostProcessorNames <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>String ppName <span class="token operator">:</span> postProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>processedBeans<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">// skip - already processed in first phase above</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">isTypeMatch</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> PriorityOrdered<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				priorityOrderedPostProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> BeanFactoryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">isTypeMatch</span><span class="token punctuation">(</span>ppName<span class="token punctuation">,</span> Ordered<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				orderedPostProcessorNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				nonOrderedPostProcessorNames<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ppName<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// First, invoke the BeanFactoryPostProcessors that implement PriorityOrdered.</span>
    	<span class="token comment">// 排序激活 PriorityOrdered 接口的 后处理器</span>
		<span class="token function">sortPostProcessors</span><span class="token punctuation">(</span>priorityOrderedPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>priorityOrderedPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Next, invoke the BeanFactoryPostProcessors that implement Ordered.</span>
    	<span class="token comment">// 排序激活 Ordered 接口的 后处理器</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> orderedPostProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>orderedPostProcessorNames<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>String postProcessorName <span class="token operator">:</span> orderedPostProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			orderedPostProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>postProcessorName<span class="token punctuation">,</span> BeanFactoryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">sortPostProcessors</span><span class="token punctuation">(</span>orderedPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>orderedPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Finally, invoke all other BeanFactoryPostProcessors.</span>
    	<span class="token comment">// 排序激活 没有实现排序接口的 后处理器</span>
		List<span class="token generics function"><span class="token punctuation">&lt;</span>BeanFactoryPostProcessor<span class="token punctuation">&gt;</span></span> nonOrderedPostProcessors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>nonOrderedPostProcessorNames<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>String postProcessorName <span class="token operator">:</span> nonOrderedPostProcessorNames<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			nonOrderedPostProcessors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span>postProcessorName<span class="token punctuation">,</span> BeanFactoryPostProcessor<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>nonOrderedPostProcessors<span class="token punctuation">,</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Clear cached merged bean definitions since the post-processors might have</span>
		<span class="token comment">// modified the original metadata, e.g. replacing placeholders in values...</span>
    	<span class="token comment">// 清除缓存。</span>
		beanFactory<span class="token punctuation">.</span><span class="token function">clearMetadataCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

</code></pre> 
<p>下面有一个简单的流程图：</p> 
<p><img src="https://images2.imgbox.com/a3/dc/uKv9kbJU_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p><strong>以上：内容部分参考<br> 《Spring源码深度解析》<br> 如有侵扰，联系删除。 内容仅用于自我记录学习使用。如有错误，欢迎指正</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f5e8856fc383197aa4a75231b430b872/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">互联网中常见的推荐算法合集</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a5f6976b15d80899b68c31f8841da89/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MATLAB聚类分析学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>