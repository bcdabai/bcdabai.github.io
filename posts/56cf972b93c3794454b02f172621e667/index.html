<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ä¿¡æ¯è®ºå®éªŒ-ä¿¡æºç¼–ç ç®—æ³• (Huffman and Shannonn Fanoç¼–ç C&#43;&#43;å®ç°) - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ä¿¡æ¯è®ºå®éªŒ-ä¿¡æºç¼–ç ç®—æ³• (Huffman and Shannonn Fanoç¼–ç C&#43;&#43;å®ç°)" />
<meta property="og:description" content="å®éªŒç›®çš„ 1. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”Huffmanç¼–ç  2. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”Shannon Fanoç¼–ç  3. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”LZç¼–ç  4. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”ç®—æ•°ç¼–ç  5. åˆ©ç”¨ä¸Šè¿°å‹ç¼©ç®—æ³•å‹ç¼©å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶ï¼Œåˆ†æå‹ç¼©ç®—æ³•çš„æ€§èƒ½ã€‚ ** å…ˆä¸Šæºä»£ç ï¼Œå¦‚æœå¯¹å®éªŒçš„æºä»£ç æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œè¯·åˆ°å°çŒªå˜å˜çš„ä»“åº“ä¸‹è½½**
ä¿¡æºç¼–ç æºä»£ç 
ç¬¬ä¸€ç« ï¼šHuffmanç¼–ç çš„å®ç° Huffmanç¼–ç åŸç† æ•°æ®å‹ç¼©æ˜¯ä¸€é—¨é€šä¿¡åŸç†é‡Œå’Œè®¡ç®—æœºç§‘å­¦éƒ½ä¼šæ¶‰åŠåˆ°çš„å­¦ç§‘ï¼Œåœ¨é€šä¿¡ä¸­ï¼Œä¸€èˆ¬ç§°ä¸ºä¿¡æºç¼–ç ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦é‡Œï¼Œé€šå¸¸ç§°ä¸ºæ•°æ®å‹ç¼©ï¼Œä¸¤è€…æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä»æ•°å­¦è§’åº¦çœ‹ï¼Œéƒ½æ˜¯æ˜ å°„ã€‚å‹ç¼©å¯ä»¥åˆ†ä¸ºæœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ã€‚æœ‰æŸå‹ç¼©ï¼ŒæŒ‡çš„æ˜¯å‹ç¼©ä¹‹åæ— æ³•è¿˜åŸåŸå§‹ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥è¾¾åˆ°å¾ˆé«˜çš„å‹ç¼©ç‡ï¼Œä¸»è¦åº”ç”¨äºè§†é¢‘ã€é€šè¯ã€å›¾åƒç­‰ä¿¡æ¯çš„ä¼ è¾“é¢†åŸŸã€‚æ— æŸå‹ç¼©åˆ™ç”¨äºæ–‡æœ¬æ–‡ä»¶ç­‰å¿…é¡»å®Œæ•´è¿˜åŸä¿¡æ¯çš„é¢†åŸŸã€‚
Huffmanç¼–ç æ˜¯ä¸€ç§å¯å˜é•¿ç¼–ç (VLC:ariable length coding)æ–¹å¼ï¼Œäº1952å¹´ç”±huffmanæå‡ºã€‚ä¾æ®å­—ç¬¦åœ¨éœ€è¦ç¼–ç æ–‡ä»¶ä¸­å‡ºç°çš„æ¦‚ç‡æä¾›å¯¹å­—ç¬¦çš„å”¯ä¸€ç¼–ç ï¼Œå¹¶ä¸”ä¿è¯äº†å¯å˜ç¼–ç çš„å¹³å‡ç¼–ç æœ€çŸ­ï¼Œè¢«ç§°ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œæœ‰æ—¶åˆç§°ä¸ºæœ€ä½³ç¼–ç ã€‚
Huffmanç¼–ç è¿‡ç¨‹ ç»Ÿè®¡å„ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ å½“è°ˆåˆ°ç»Ÿè®¡å­—ç¬¦è¿™é‡Œï¼Œç»è¿‡äº†ä¸€ç•ªæŠ˜è…¾ååœ¨è¿™é‡Œæˆ‘æœ‰å¾ˆå¤šæƒ³è¦æ€»ç»“çš„ï¼Œå¯¹äºæ•°å­¦ä¸“ä¸šçš„å­¦ç”Ÿæ¥è®²æˆ‘è§‰å¾—è¿™é‡Œæ˜¯ä¸€ä¸ªå¾ˆéš¾è·¨è¶Šçš„åï¼Œä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸå› åœ¨äºè¿™é‡Œæ¶‰åŠåˆ°è®¡ç®—æœºçš„å‚¨å­˜åŸç†ï¼Œæ•°æ®çš„è¯»å–ï¼Œå­˜å‚¨æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½éå¸¸æ¥è¿‘è®¡ç®—æœºåº•å±‚ï¼Œå°±æ‹¿æ•°æ®çš„å­˜å‚¨æ¥è¯´ï¼Œé¦–å…ˆæˆ‘ä»¬è¦ææ˜ç™½ä»€ä¹ˆæ˜¯ASCIIæ–‡ä»¶ï¼Œä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™ä¸¤ç±»æ–‡ä»¶è¯»å–æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œåœ¨è®¡ç®—æœºé‡Œåˆæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œè¿™é‡Œå‚è€ƒç½‘ä¸Šåšå®¢çš„å†…å®¹å¤šå¤šç†è§£æ‰å¥½ï¼Œè¿™é‡Œæˆ‘æŠ˜è…¾äº†å¾ˆä¹…ï¼Œé¦–å…ˆææ˜ç™½ASCIIå’ŒäºŒè¿›åˆ¶æ–‡ä»¶è¿™ä¸¤ä¸ªæ¦‚å¿µ(æ¦‚å¿µå¾ˆé‡è¦)ï¼Œç„¶ååˆ†æå·®åˆ«ï¼Œæœ€åå­¦ä¹ C&#43;&#43;æä¾›çš„APIï¼Œæ¯”è¾ƒä¸¤è€…çš„ä¸åŒã€‚è€Œæˆ‘ä»¬æ•°å­¦é™¢çš„åŒå­¦æ¥è§¦è®¡ç®—æœºä¹Ÿä¸å°‘ï¼Œä½†æ˜¯æ¥è§¦åº•å±‚çš„äººå¾ˆå°‘ï¼Œæ‰€ä»¥å½“è°ˆåˆ°ä¸€äº›æ•°æ®ç»“æ„ã€æ–‡ä»¶å­˜å‚¨ã€ç¡¬ä»¶ç¼–ç¨‹ç­‰ç­‰å°±ä¼šèµ¶è„šå¾ˆæ— åŠ©ï¼Œå› ä¸ºå¹³æ—¶å¤§å®¶æœ€å¤šçš„å°±æ˜¯ç”¨Matlabå®ç°ä¸€äº›ç®—æ³•ï¼Œå¯¹åº•å±‚çš„æ¥è§¦çš„å¾ˆå°‘ã€‚å½“ç„¶Huffmanç®—æ³•ä¹Ÿå¯ä»¥ç”±Matlabæ¥å®ç°ï¼Œæˆ‘ä¹Ÿçœ‹åˆ°ç½‘ä¸Šæœ‰ä¸€äº›å®ä¾‹ç¨‹åºï¼Œä½†æ€ä¹ˆè¯´å‘¢ï¼Œå¦‚æœç”¨Matlabå®ç°äº†Huffmanæˆ‘åªèƒ½è¯´ï¼Œæˆ‘å­¦ä¼šäº†Huffmanç®—æ³•ï¼Œä½†æ˜¯ä¸èƒ½è¯´æˆ‘å­¦ä¼šäº†Huffmanç¼–ç ã€‚å› ä¸ºæ•°æ®ç¼–ç è¿™ä¸œè¥¿æœ€ç›´æ¥è”ç³»çš„å°±æ˜¯æ•°æ®ä¼ è¾“ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è®¡ç®—æœºæ˜¯æ€æ ·å®ç°æ–‡ä»¶å‹ç¼©ã€ä¼ è¾“çš„è¿‡ç¨‹çš„ï¼Œå°±å¿…é¡»æ·±å…¥åº•å±‚äº†è§£å®ƒçš„æœ¬è´¨ã€‚
æ•°æ®çš„æœ¬è´¨ï¼š0å’Œ1
åœ¨æˆ‘å¼„ä¸æ˜ç™½Huffmanç¼–ç çš„æ—¶å€™ï¼Œæˆ‘å°±é—®è‡ªå·±è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šHuffmanç¼–ç æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿä¿¡æ¯è®ºæ•™ç§‘ä¹¦ä¸Šã€æ•°æ®ç»“æ„æ•™ç§‘ä¹¦ã€å„ç§Huffmanç¼–ç çš„è§£é‡Šï¼ŒHuffman ç¼–ç æ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç”¨äºæ— æŸæ•°æ®å‹ç¼©çš„ç†µç¼–ç ï¼ˆæƒç¼–ç ï¼‰ç®—æ³•ç­‰ç­‰å„ç§è§£é‡Šæ„Ÿè§‰å¾ˆå‰å®³çš„æ ·å­ã€‚å¬ç€å¥½åƒæ‡‚äº†ï¼Œä½†åˆå¥½åƒæ²¡æ‡‚ã€‚ä½†æ˜¯ä¸€è¾¹çœ‹åˆ«äººä»£ç ï¼Œä¸€è¾¹å†™è‡ªå·±ä»£ç çš„è¿‡ç¨‹ï¼Œæˆ‘å˜å¾—æœ‰äº›å¿ƒè™šï¼Œå¿ƒæƒ³æˆ‘è¿™æ˜¯åœ¨åšä»€ä¹ˆ? ç„¶ååœä¸‹æ•²æ‰“é”®ç›˜ï¼Œæƒ³äº†ä¸€äº›é—®é¢˜ã€‚åˆ«æ‹…å¿ƒï¼Œç»å¯¹ä¸æ˜¯é«˜å¤§ä¸Šçš„é—®é¢˜ï¼Œéƒ½æ˜¯ç‰¹åˆ«ç‰¹åˆ«å¼±æ™ºçš„é—®é¢˜ï¼Œæˆ‘è¯´çš„æ˜¯ç‰¹åˆ«ï¼Œå¯¹ï¼Œè€å¸ˆæ‚¨æ²¡å¬é”™ã€‚
1. ä»€ä¹ˆæ˜¯ â€ç¼–ç â€ ? æ˜¯çš„æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¹ˆå¼±æ™ºçš„é—®é¢˜ï¼Œå­¦äº†è¿™ä¹ˆä¹…ä¿¡æ¯è®ºã€Cè¯­è¨€å’Œæ•°æ®ç»“æ„æˆ‘çš„ç¡®é—®äº†è‡ªå·±ä¸€ä¸ªè¿™ä¹ˆå¼±æ™ºçš„é—®é¢˜ã€‚ä¼¼ä¹å¾ˆç®€å•ï¼Œä½†å¾€å¾€è¿™ä¹ˆç®€å•çš„é—®é¢˜æˆ‘ä»¬éƒ½å¿½ç•¥å»æ€è€ƒäº†ï¼Œæœ€åå‘ç°ï¼šå“¦ï¼ŒåŸæ¥æˆ‘ä¸€ç›´å¹²çš„æ˜¯è¿™æ ·ä¸€ä»¶äº‹ã€‚
2. ä»€ä¹ˆæ˜¯ASCIIç¼–ç ï¼Ÿä»€ä¹ˆæ˜¯ASCIIç¼–ç ï¼Œå¥½åƒå¤§å®¶éƒ½çŸ¥é“åˆ°0çš„ASCIIå€¼æ˜¯48ï¼ŒAæ‰“å¾—ASCIIå€¼æ˜¯65ï¼Œå³ä¾¿ä¸çŸ¥é“æ¯ä¸€ä¸ªå­—ç¬¦çš„ASCIIå€¼ï¼Œä¹ŸçŸ¥é“åœ¨ä»»ä½•ä¸€æœ¬Cè¯­è¨€æ•™æçš„æœ€åå‡ é¡µè‚¯å®šæœ‰ä¸€å¼ å°æœ‰ASCIIç¼–ç çš„ã€‚å…·ä½“ä»€ä¹ˆæ˜¯ASCIIæˆ‘åœ¨è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè§£é‡Šï¼Œæ•™ç§‘ä¹¦ä¹Ÿæœ‰å¾ˆå¤šï¼Œå…³é”®æ˜¯ç†è§£ã€‚
3. Huffmanä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Ÿæˆ‘è§‰çš„è¿™ä¸ªé—®é¢˜ä¹Ÿå¼±æ™ºçš„å¾ˆï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜åœ¨æˆ‘å†™Huffmanç¼–ç è¿‡ç¨‹ç»™äº†æˆ‘å¾ˆå¤§çš„å¸®åŠ©ã€‚ç­”æ¡ˆå¾ˆç®€å•ï¼šä¸ºäº†å‹ç¼©æ•°æ®ã€‚é‚£ä¹ˆæ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿè®¡ç®—æœºé‡Œæ•°æ®çš„æœ¬è´¨å°±æ˜¯0å’Œ1ï¼Œé‚£ä¹ˆæ€ä¹ˆå‹ç¼©0å’Œ1ï¼Ÿå½“ç„¶0å’Œ1ä¸èƒ½å‹ç¼©ï¼Œå‹ç¼©çš„æ˜¯0å’Œ1çš„ç»„åˆã€‚0å’Œ1çš„ç»„åˆä»£è¡¨çš„æ˜¯ä»€ä¹ˆï¼Ÿ ç»„åˆä»£è¡¨çš„æ˜¯ä¿¡æ¯ï¼Œä¸åŒçš„ç»„åˆä»£è¡¨ä¸åŒçš„ä¿¡æ¯ã€‚å›è¿‡å¤´å»æƒ³ASCIIç¼–ç ï¼ŒASCIIæ˜¯å®šé•¿ç¼–ç ï¼ŒåŸæ¥Huffmanç¼–ç å®ç°çš„æ˜¯ä¼ è¾“åŒæ ·ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä½¿å¹³å‡ç é•¿å˜å¾—æœ€å°ï¼Œè¿™æ ·å°±å®ç°äº†æ•°æ®å‹ç¼©çš„ç›®çš„ã€‚
å›ç­”å®Œä¸Šé¢è¿™äº›é—®é¢˜æˆ‘æ‰çœŸæ­£ç€æ‰‹å¼€å§‹è¿›è¡Œç¼–ç¨‹ã€‚
ä¸Šé¢è¯´é“æ•°æ®çš„è¯»å–å’Œå­˜å‚¨æ˜¯ä¸€ä¸ªå¾ˆéš¾ç»•è¿‡å»çš„åï¼Œé‚£ä¹ˆåˆ°åº•æ€ä¹ˆç»•è¿‡å»ï¼Ÿåˆšå¼€å§‹æˆ‘åœ¨çº ç»“ä¸€ä¸ªtxtæ–‡æ¡£å’Œmp4æ–‡ä»¶åœ¨æ•°æ®è¯»å–æ—¶æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæœ‰ã€‚txtæ–‡æ¡£å°±æ˜¯æˆ‘ä»¬è®²çš„ASCIIæ–‡ä»¶ï¼Œæ¯8bitä¸€ä¸ªå­—ç¬¦ï¼Œè€Œmp4æ–‡ä»¶æœ¬è´¨ä¸Šåˆæ˜¯å›¾åƒæ–‡ä»¶ã€‚è¿™é‡ŒçœŸçš„å¾ˆéš¾ç»•è¿‡æ¥ï¼Œå› ä¸ºä»¥å‰æ¥è§¦è¿‡çš„Cè¯­è¨€APIå¤§éƒ¨åˆ†æ˜¯è¯»å–å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼Œå¾ˆå°‘ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–ã€‚ä½†æ˜¯å½“è¿™æ ·æƒ³åå°±æ˜ç™½äº†ï¼šæ‰€æœ‰æ–‡ä»¶åœ¨è®¡ç®—æœºé‡Œå­˜å‚¨çš„éƒ½æ˜¯0å’Œ1ã€‚ç¼–ç çš„æ—¶å€™ä¸ç”¨å…³å¿ƒæ¯ä¸ªå­—ç¬¦å å¤šå°‘bitï¼ŒæŒ‰ç…§è‡ªå·±çš„ç¼–ç æ–¹å¼ç¼–ï¼Œåªè¦èƒ½æ¢å¤0å’Œ1æ•°æ®å³å¯ã€‚æ‰€ä»¥ï¼Œæ‰€æœ‰æ•°æ®éƒ½é€šè¿‡äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–ï¼Œä»¥äºŒè¿›åˆ¶çš„æ–¹å¼å­˜å‚¨ï¼Œè¿™æ ·å°±æ²¡æœ‰å¿…è¦æ‹…å¿ƒæ–‡ä»¶ç±»å‹æ‰€å¸¦æ¥çš„å›°æƒ‘äº†ã€‚
å…·ä½“å­—ç¬¦ç»Ÿè®¡è¿™éƒ¨åˆ†æˆ‘å†™äº†ä¸€ä¸ªcount()å‡½æ•°ã€‚å‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„åœ°å€ï¼Œè¾“å‡ºæ˜¯æ–‡ä»¶ä¸­å„ä¸ªå­—ç¬¦çš„ç»Ÿè®¡å‘é‡ã€‚å½“ç„¶è¿™ä¸ªå¾…å‹ç¼©æ–‡ä»¶ä¸èƒ½è¿‡å¤§ï¼Œå› ä¸ºé€šè¿‡è¯»zipå®ç°åŸç†åšå®¢ä¸­æˆ‘å‘ç°rarå’Œzipç­‰å‹ç¼©è½¯ä»¶ä¹‹æ‰€ä»¥é‚£ä¹ˆå¿«æ˜¯è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä»¥æˆ‘ç°åœ¨çš„æ—¶é—´å’Œèƒ½åŠ›è¿˜æä¸æ‡‚é‡Œé¢çš„ä¸€äº›ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘å†™çš„ä»£ç è¿è¡Œå¾ˆæ…¢ï¼Œä½†æ˜¯ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œå‹ç¼©æ•ˆæœä¹Ÿå¾ˆå¥½ã€‚å‡½æ•°å…·ä½“çš„å®ç°åœ¨åé¢ç®—æ³•å’Œæ€§èƒ½åˆ†æéƒ¨åˆ†è®²ã€‚
###ã€€åˆ›å»ºHuffmanæ ‘(æ ¸å¿ƒ)
æ ¹æ®å­—ç¬¦çš„é¢‘ç‡æŒ‰Huffmanç®—æ³•æ„å»ºHuffmanç®—æ³•åˆ›å»ºHuffmanæ ‘
æ­¥éª¤å¦‚ä¸‹ï¼š
ä¸ºæ¯ä¸ªç¬¦å·å»ºç«‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå¹¶åŠ ä¸Šå…¶ç›¸åº”çš„å‘ç”Ÿé¢‘ç‡å½“æœ‰ä¸€ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹å­˜åœ¨æ—¶ï¼Œè¿›è¡Œä¸‹åˆ—å¾ªç¯:
æŠŠè¿™äº›èŠ‚ç‚¹ä½œä¸ºå¸¦æƒå€¼çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå·¦å³å­æ ‘ä¸ºç©º
é€‰æ‹©ä¸¤æ£µæ ¹ç»“ç‚¹æƒå€¼æœ€å°çš„æ ‘ä½œä¸ºå·¦å³å­æ ‘æ„é€ ä¸€æ£µæ–°çš„äºŒå‰æ ‘ï¼Œä¸”è‡³æ–°çš„äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„æƒå€¼ä¸ºå…¶å·¦å³å­æ ‘ä¸Šæ ¹ç»“ç‚¹çš„æƒå€¼ä¹‹å’Œã€‚
æŠŠæƒå€¼æœ€å°çš„ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ç§»é™¤
å°†æ–°çš„äºŒå‰æ ‘åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚æœ€åå‰©ä¸‹çš„èŠ‚ç‚¹æš¨ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå­˜å‚¨ä¸ºrootèŠ‚ç‚¹ï¼Œç”¨äºåé¢å‹ç¼©ç¼–ç æ“ä½œã€‚
æ ‘çš„å»ºç«‹è¿‡ç¨‹æ˜¯ä»å¶å­èŠ‚ç‚¹å¾€ä¸Šèµ°ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ã€‚
å»ºæ ‘è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º
[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-MmzD5hDX-1584452720736)(http://picture.piggygaga.top/InformationTheory/second/CreateTRee.png â€œCreateHuffmanTreeâ€)]
ç»¿è‰²æ¤­åœ†è¡¨ç¤ºå¶å­èŠ‚ç‚¹ï¼Œæ£•è‰²èŠ‚ç‚¹è¡¨ç¤ºæ ¹èŠ‚ç‚¹ï¼Œè“è‰²æ¤­åœ†è¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ï¼Œé¦–å…ˆä»æœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å¼€å§‹åˆ›å»ºæ ‘ï¼Œç„¶åå‘ä¸Šèµ°ï¼Œå»ºæ ‘è¿‡ç¨‹ä¸­æ¯æ¬¡å»ºå®Œæ ‘çš„èŠ‚ç‚¹ä¿¡æ¯è¦ä»æ•°ç»„ä¸­åˆ é™¤èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ–¹ä¾¿åé¢çš„å»ºæ ‘æ“ä½œã€‚æ¯æ¬¡åˆ é™¤ä¸¤ä¸ªèŠ‚ç‚¹ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„åˆå¹¶èŠ‚ç‚¹ï¼Œç„¶åé‡æ–°æŒ‰é¢‘ç‡ä»å°åˆ°å¤§æ’åºï¼Œæ‰§è¡ŒåŒæ ·çš„æ“ä½œç›´åˆ°æœ€åå‰©ä¸‹æ ¹èŠ‚ç‚¹ï¼Œå°†æ ¹èŠ‚ç‚¹åœ°å€ä¿å­˜ä¸‹æ¥ï¼Œåœ¨ä¸‹ä¸€æ­¥å‹ç¼©æ•°æ®æ—¶ä½¿ç”¨ã€‚
ç»è¿‡æ­¤æ­¥éª¤ï¼Œæ¯ä¸ªå­—ç¬¦å¯¹åº”çš„Huffmanç¼–ç éƒ½å¯ä»¥å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥å°†ç¼–ç ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼Œç±»ä¼¼ASCIIç¼–ç è¡¨ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠHuffmanç¼–ç è¡¨ä¹Ÿä¿å­˜ä¸‹æ¥ã€‚ Huffmanç¼–ç  æ ¹æ®Huffman æ ‘å®ç°ç¼–ç å¹¶å°†ç¼–ç ç»“æœå’Œè¦ç¼–ç çš„æ•°æ®å»ºç«‹æ˜ å°„å…³ç³»ï¼Œå­˜å‚¨çš„å‹ç¼©æ–‡ä»¶éœ€è¦æ·»åŠ å¤´æ–‡ä»¶ï¼Œç”¨äºè§£ç ä½¿ç”¨ã€‚
é‡æ–°ä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ï¼Œæ­¤æ—¶ä¸éœ€è¦è¿›è¡Œç»Ÿè®¡å­—ç¬¦é¢‘ç‡ï¼Œåªéœ€è¦åœ¨Huffmanè¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„Huffmanç¼–ç ç„¶åå°†ç¼–ç å‹å…¥å‹ç¼©æ–‡ä»¶ä¸­ã€‚
å‹ç¼©æ–‡ä»¶åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šå¤´æ–‡ä»¶ï¼Œæ•°æ®éƒ¨åˆ†ã€‚å‹ç¼©æ–‡ä»¶çš„ç»“æ„è§ä¸‹å›¾
[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-1oeNATPi-1584452720737)(http://picture.piggygaga.top/InformationTheory/second/Huffmanfile.PNG â€œå‹ç¼©æ–‡ä»¶å†…å®¹â€)]
å‹ç¼©æ•°æ®é¦–å…ˆä»¥ä¸€ä¸ª&gt;å¼€å§‹è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªHuffmanå‹ç¼©æ•°æ®ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯åœ¨è§£å‹è¿‡ç¨‹ä¼šåˆ¤æ–­è¿™æ˜¯å¦æ˜¯ä¸€ä¸ªHuffmanç¼–ç æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ ‡è¯†ï¼Œè®¤å®šè¯¥æ–‡ä»¶ä¸å…·å¤‡Huffmanç¼–ç æ–‡ä»¶çš„ç‰¹æ€§æ€§ï¼Œä¹Ÿå°±æ²¡æœ‰åŠæ³•è§£å‹ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯å¤´æ–‡ä»¶ï¼Œå­˜å‚¨ç€å­—ç¬¦é¢‘æ•°ï¼Œè¿™æ ·åšä¹Ÿæ˜¯ä¸ºäº†è§£å‹æ–¹ä¾¿ï¼Œè§£å‹è¿‡ç¨‹å’Œå‹ç¼©è¿‡ç¨‹æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ï¼Œå°†å­—ç¬¦é¢‘æ•°å­˜è¿›å¤´æ–‡ä»¶ï¼Œåœ¨è§£å‹æ—¶éœ€è¦åˆ©ç”¨å¤´æ–‡ä»¶å­—ç¬¦é¢‘æ•°é‡æ–°å»ºç«‹ä¸€æ£µHuffmanæ ‘ï¼Œå’Œå‹ç¼©è¿‡ç¨‹çš„æ“ä½œè¿‡ç¨‹æ˜¯ä¸€æ ·çš„ã€‚æœ€åé€šè¿‡è¯»å–æºæ–‡ä»¶çš„å­—ç¬¦ï¼Œåœ¨Huffmanç¼–ç è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ç¼–ç ï¼Œå°†å­—ç¬¦ç¼–ç å‹è¿›æ•°æ®éƒ¨åˆ†ï¼Œå› ä¸ºHuffmanç¼–ç æ˜¯å¼‚å­—å¤´ç ï¼Œæ‰€ä»¥ä¸éœ€è¦åšåˆ†éš”ï¼ŒæŠŠæ‰€æœ‰æ•°æ®å‹è¿›å»å³å¯ã€‚
Huffman è§£ç  æ ¹æ®è·å–çš„Huffmanç æ¥é€†å‘è·å–ç¼–ç ä¿¡æ¯ï¼Œè€Œä¸”ä»è§£å‹æ–‡ä»¶ä¸­ä¸€æ¬¡æ€§è·å–çš„æ•°æ®æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªä¸²æ˜¯å‹ç¼©åçš„huffmanç¼–ç ï¼Œå®é™…ä¸Šæ˜¯æœºå™¨ç ã€‚
è§£ç è¿‡ç¨‹
[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-G3OeNeIZ-1584452720738)(http://picture.piggygaga.top/InformationTheory/second/decode.png â€œè§£ç è¿‡ç¨‹â€)]" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/56cf972b93c3794454b02f172621e667/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-10T22:51:45+08:00" />
<meta property="article:modified_time" content="2017-08-10T22:51:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ä¿¡æ¯è®ºå®éªŒ-ä¿¡æºç¼–ç ç®—æ³• (Huffman and Shannonn Fanoç¼–ç C&#43;&#43;å®ç°)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>å®éªŒç›®çš„</h2> 
<pre><code>1. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”Huffmanç¼–ç 
2. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”Shannon Fanoç¼–ç 
3. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”LZç¼–ç 
4. å®ç°å‹ç¼©ç¼–ç ç®—æ³•â€”â€”ç®—æ•°ç¼–ç 
5. åˆ©ç”¨ä¸Šè¿°å‹ç¼©ç®—æ³•å‹ç¼©å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶ï¼Œåˆ†æå‹ç¼©ç®—æ³•çš„æ€§èƒ½ã€‚
</code></pre> 
<p>** å…ˆä¸Šæºä»£ç ï¼Œå¦‚æœå¯¹å®éªŒçš„æºä»£ç æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œè¯·åˆ°å°çŒªå˜å˜çš„ä»“åº“ä¸‹è½½**<br> <a href="https://github.com/PiggyGaGa/Information-Theory-Source-Coding/">ä¿¡æºç¼–ç æºä»£ç </a></p> 
<h2><a id="Huffman_10"></a>ç¬¬ä¸€ç« ï¼šHuffmanç¼–ç çš„å®ç°</h2> 
<h3><a id="Huffman_11"></a>Huffmanç¼–ç åŸç†</h3> 
<p>æ•°æ®å‹ç¼©æ˜¯ä¸€é—¨é€šä¿¡åŸç†é‡Œå’Œè®¡ç®—æœºç§‘å­¦éƒ½ä¼šæ¶‰åŠåˆ°çš„å­¦ç§‘ï¼Œåœ¨é€šä¿¡ä¸­ï¼Œä¸€èˆ¬ç§°ä¸ºä¿¡æºç¼–ç ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦é‡Œï¼Œé€šå¸¸ç§°ä¸ºæ•°æ®å‹ç¼©ï¼Œä¸¤è€…æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä»æ•°å­¦è§’åº¦çœ‹ï¼Œéƒ½æ˜¯æ˜ å°„ã€‚å‹ç¼©å¯ä»¥åˆ†ä¸ºæœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ã€‚æœ‰æŸå‹ç¼©ï¼ŒæŒ‡çš„æ˜¯å‹ç¼©ä¹‹åæ— æ³•è¿˜åŸåŸå§‹ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥è¾¾åˆ°å¾ˆé«˜çš„å‹ç¼©ç‡ï¼Œä¸»è¦åº”ç”¨äºè§†é¢‘ã€é€šè¯ã€å›¾åƒç­‰ä¿¡æ¯çš„ä¼ è¾“é¢†åŸŸã€‚æ— æŸå‹ç¼©åˆ™ç”¨äºæ–‡æœ¬æ–‡ä»¶ç­‰å¿…é¡»å®Œæ•´è¿˜åŸä¿¡æ¯çš„é¢†åŸŸã€‚<br> Huffmanç¼–ç æ˜¯ä¸€ç§å¯å˜é•¿ç¼–ç (VLC:ariable length coding)æ–¹å¼ï¼Œäº1952å¹´ç”±huffmanæå‡ºã€‚ä¾æ®å­—ç¬¦åœ¨éœ€è¦ç¼–ç æ–‡ä»¶ä¸­å‡ºç°çš„æ¦‚ç‡æä¾›å¯¹å­—ç¬¦çš„å”¯ä¸€ç¼–ç ï¼Œå¹¶ä¸”ä¿è¯äº†å¯å˜ç¼–ç çš„å¹³å‡ç¼–ç æœ€çŸ­ï¼Œè¢«ç§°ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œæœ‰æ—¶åˆç§°ä¸ºæœ€ä½³ç¼–ç ã€‚</p> 
<h3><a id="Huffman_14"></a>Huffmanç¼–ç è¿‡ç¨‹</h3> 
<h4><a id="_15"></a>ç»Ÿè®¡å„ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡</h4> 
<p>å½“è°ˆåˆ°ç»Ÿè®¡å­—ç¬¦è¿™é‡Œï¼Œç»è¿‡äº†ä¸€ç•ªæŠ˜è…¾ååœ¨è¿™é‡Œæˆ‘æœ‰å¾ˆå¤šæƒ³è¦æ€»ç»“çš„ï¼Œå¯¹äºæ•°å­¦ä¸“ä¸šçš„å­¦ç”Ÿæ¥è®²æˆ‘è§‰å¾—è¿™é‡Œæ˜¯ä¸€ä¸ªå¾ˆéš¾è·¨è¶Šçš„åï¼Œä¸ºä»€ä¹ˆå‘¢ï¼ŸåŸå› åœ¨äºè¿™é‡Œæ¶‰åŠåˆ°è®¡ç®—æœºçš„å‚¨å­˜åŸç†ï¼Œæ•°æ®çš„è¯»å–ï¼Œå­˜å‚¨æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½éå¸¸æ¥è¿‘è®¡ç®—æœºåº•å±‚ï¼Œå°±æ‹¿æ•°æ®çš„å­˜å‚¨æ¥è¯´ï¼Œé¦–å…ˆæˆ‘ä»¬è¦ææ˜ç™½ä»€ä¹ˆæ˜¯ASCIIæ–‡ä»¶ï¼Œä»€ä¹ˆæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿™ä¸¤ç±»æ–‡ä»¶è¯»å–æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œåœ¨è®¡ç®—æœºé‡Œåˆæ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œè¿™é‡Œå‚è€ƒç½‘ä¸Šåšå®¢çš„å†…å®¹å¤šå¤šç†è§£æ‰å¥½ï¼Œè¿™é‡Œæˆ‘æŠ˜è…¾äº†å¾ˆä¹…ï¼Œé¦–å…ˆææ˜ç™½ASCIIå’ŒäºŒè¿›åˆ¶æ–‡ä»¶è¿™ä¸¤ä¸ªæ¦‚å¿µ(æ¦‚å¿µå¾ˆé‡è¦)ï¼Œç„¶ååˆ†æå·®åˆ«ï¼Œæœ€åå­¦ä¹ C++æä¾›çš„APIï¼Œæ¯”è¾ƒä¸¤è€…çš„ä¸åŒã€‚è€Œæˆ‘ä»¬æ•°å­¦é™¢çš„åŒå­¦æ¥è§¦è®¡ç®—æœºä¹Ÿä¸å°‘ï¼Œä½†æ˜¯æ¥è§¦åº•å±‚çš„äººå¾ˆå°‘ï¼Œæ‰€ä»¥å½“è°ˆåˆ°ä¸€äº›æ•°æ®ç»“æ„ã€æ–‡ä»¶å­˜å‚¨ã€ç¡¬ä»¶ç¼–ç¨‹ç­‰ç­‰å°±ä¼šèµ¶è„šå¾ˆæ— åŠ©ï¼Œå› ä¸ºå¹³æ—¶å¤§å®¶æœ€å¤šçš„å°±æ˜¯ç”¨Matlabå®ç°ä¸€äº›ç®—æ³•ï¼Œå¯¹åº•å±‚çš„æ¥è§¦çš„å¾ˆå°‘ã€‚å½“ç„¶Huffmanç®—æ³•ä¹Ÿå¯ä»¥ç”±Matlabæ¥å®ç°ï¼Œæˆ‘ä¹Ÿçœ‹åˆ°ç½‘ä¸Šæœ‰ä¸€äº›å®ä¾‹ç¨‹åºï¼Œä½†æ€ä¹ˆè¯´å‘¢ï¼Œå¦‚æœç”¨Matlabå®ç°äº†Huffmanæˆ‘åªèƒ½è¯´ï¼Œæˆ‘å­¦ä¼šäº†Huffmanç®—æ³•ï¼Œä½†æ˜¯ä¸èƒ½è¯´æˆ‘å­¦ä¼šäº†Huffmanç¼–ç ã€‚å› ä¸ºæ•°æ®ç¼–ç è¿™ä¸œè¥¿æœ€ç›´æ¥è”ç³»çš„å°±æ˜¯æ•°æ®ä¼ è¾“ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è®¡ç®—æœºæ˜¯æ€æ ·å®ç°æ–‡ä»¶å‹ç¼©ã€ä¼ è¾“çš„è¿‡ç¨‹çš„ï¼Œå°±å¿…é¡»æ·±å…¥åº•å±‚äº†è§£å®ƒçš„æœ¬è´¨ã€‚<br> <strong>æ•°æ®çš„æœ¬è´¨ï¼š0å’Œ1</strong><br> åœ¨æˆ‘å¼„ä¸æ˜ç™½Huffmanç¼–ç çš„æ—¶å€™ï¼Œæˆ‘å°±é—®è‡ªå·±è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šHuffmanç¼–ç æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Ÿä¿¡æ¯è®ºæ•™ç§‘ä¹¦ä¸Šã€æ•°æ®ç»“æ„æ•™ç§‘ä¹¦ã€å„ç§Huffmanç¼–ç çš„è§£é‡Šï¼ŒHuffman ç¼–ç æ˜¯ä¸€ç§ç¼–ç æ–¹å¼ï¼Œæ˜¯ä¸€ç§ç”¨äºæ— æŸæ•°æ®å‹ç¼©çš„ç†µç¼–ç ï¼ˆæƒç¼–ç ï¼‰ç®—æ³•ç­‰ç­‰å„ç§è§£é‡Šæ„Ÿè§‰å¾ˆå‰å®³çš„æ ·å­ã€‚å¬ç€å¥½åƒæ‡‚äº†ï¼Œä½†åˆå¥½åƒæ²¡æ‡‚ã€‚ä½†æ˜¯ä¸€è¾¹çœ‹åˆ«äººä»£ç ï¼Œä¸€è¾¹å†™è‡ªå·±ä»£ç çš„è¿‡ç¨‹ï¼Œæˆ‘å˜å¾—æœ‰äº›å¿ƒè™šï¼Œå¿ƒæƒ³æˆ‘è¿™æ˜¯åœ¨åšä»€ä¹ˆ? ç„¶ååœä¸‹æ•²æ‰“é”®ç›˜ï¼Œæƒ³äº†ä¸€äº›é—®é¢˜ã€‚åˆ«æ‹…å¿ƒï¼Œç»å¯¹ä¸æ˜¯é«˜å¤§ä¸Šçš„é—®é¢˜ï¼Œéƒ½æ˜¯ç‰¹åˆ«ç‰¹åˆ«å¼±æ™ºçš„é—®é¢˜ï¼Œæˆ‘è¯´çš„æ˜¯ç‰¹åˆ«ï¼Œå¯¹ï¼Œè€å¸ˆæ‚¨æ²¡å¬é”™ã€‚<br> 1. ä»€ä¹ˆæ˜¯ â€ç¼–ç â€ ? æ˜¯çš„æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¹ˆå¼±æ™ºçš„é—®é¢˜ï¼Œå­¦äº†è¿™ä¹ˆä¹…ä¿¡æ¯è®ºã€Cè¯­è¨€å’Œæ•°æ®ç»“æ„æˆ‘çš„ç¡®é—®äº†è‡ªå·±ä¸€ä¸ªè¿™ä¹ˆå¼±æ™ºçš„é—®é¢˜ã€‚ä¼¼ä¹å¾ˆç®€å•ï¼Œä½†å¾€å¾€è¿™ä¹ˆç®€å•çš„é—®é¢˜æˆ‘ä»¬éƒ½å¿½ç•¥å»æ€è€ƒäº†ï¼Œæœ€åå‘ç°ï¼šå“¦ï¼ŒåŸæ¥æˆ‘ä¸€ç›´å¹²çš„æ˜¯è¿™æ ·ä¸€ä»¶äº‹ã€‚<br> 2. ä»€ä¹ˆæ˜¯ASCIIç¼–ç ï¼Ÿä»€ä¹ˆæ˜¯ASCIIç¼–ç ï¼Œå¥½åƒå¤§å®¶éƒ½çŸ¥é“åˆ°0çš„ASCIIå€¼æ˜¯48ï¼ŒAæ‰“å¾—ASCIIå€¼æ˜¯65ï¼Œå³ä¾¿ä¸çŸ¥é“æ¯ä¸€ä¸ªå­—ç¬¦çš„ASCIIå€¼ï¼Œä¹ŸçŸ¥é“åœ¨ä»»ä½•ä¸€æœ¬Cè¯­è¨€æ•™æçš„æœ€åå‡ é¡µè‚¯å®šæœ‰ä¸€å¼ å°æœ‰ASCIIç¼–ç çš„ã€‚å…·ä½“ä»€ä¹ˆæ˜¯ASCIIæˆ‘åœ¨è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè§£é‡Šï¼Œæ•™ç§‘ä¹¦ä¹Ÿæœ‰å¾ˆå¤šï¼Œå…³é”®æ˜¯ç†è§£ã€‚<br> 3. Huffmanä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Ÿæˆ‘è§‰çš„è¿™ä¸ªé—®é¢˜ä¹Ÿå¼±æ™ºçš„å¾ˆï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜åœ¨æˆ‘å†™Huffmanç¼–ç è¿‡ç¨‹ç»™äº†æˆ‘å¾ˆå¤§çš„å¸®åŠ©ã€‚ç­”æ¡ˆå¾ˆç®€å•ï¼šä¸ºäº†å‹ç¼©æ•°æ®ã€‚é‚£ä¹ˆæ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿè®¡ç®—æœºé‡Œæ•°æ®çš„æœ¬è´¨å°±æ˜¯0å’Œ1ï¼Œé‚£ä¹ˆæ€ä¹ˆå‹ç¼©0å’Œ1ï¼Ÿå½“ç„¶0å’Œ1ä¸èƒ½å‹ç¼©ï¼Œå‹ç¼©çš„æ˜¯0å’Œ1çš„ç»„åˆã€‚0å’Œ1çš„ç»„åˆä»£è¡¨çš„æ˜¯ä»€ä¹ˆï¼Ÿ ç»„åˆä»£è¡¨çš„æ˜¯ä¿¡æ¯ï¼Œä¸åŒçš„ç»„åˆä»£è¡¨ä¸åŒçš„ä¿¡æ¯ã€‚å›è¿‡å¤´å»æƒ³ASCIIç¼–ç ï¼ŒASCIIæ˜¯å®šé•¿ç¼–ç ï¼ŒåŸæ¥Huffmanç¼–ç å®ç°çš„æ˜¯ä¼ è¾“åŒæ ·ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä½¿å¹³å‡ç é•¿å˜å¾—æœ€å°ï¼Œè¿™æ ·å°±å®ç°äº†æ•°æ®å‹ç¼©çš„ç›®çš„ã€‚<br> å›ç­”å®Œä¸Šé¢è¿™äº›é—®é¢˜æˆ‘æ‰çœŸæ­£ç€æ‰‹å¼€å§‹è¿›è¡Œç¼–ç¨‹ã€‚<br> ä¸Šé¢è¯´é“æ•°æ®çš„è¯»å–å’Œå­˜å‚¨æ˜¯ä¸€ä¸ªå¾ˆéš¾ç»•è¿‡å»çš„åï¼Œé‚£ä¹ˆåˆ°åº•æ€ä¹ˆç»•è¿‡å»ï¼Ÿåˆšå¼€å§‹æˆ‘åœ¨çº ç»“ä¸€ä¸ªtxtæ–‡æ¡£å’Œmp4æ–‡ä»¶åœ¨æ•°æ®è¯»å–æ—¶æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæœ‰ã€‚txtæ–‡æ¡£å°±æ˜¯æˆ‘ä»¬è®²çš„ASCIIæ–‡ä»¶ï¼Œæ¯8bitä¸€ä¸ªå­—ç¬¦ï¼Œè€Œmp4æ–‡ä»¶æœ¬è´¨ä¸Šåˆæ˜¯å›¾åƒæ–‡ä»¶ã€‚è¿™é‡ŒçœŸçš„å¾ˆéš¾ç»•è¿‡æ¥ï¼Œå› ä¸ºä»¥å‰æ¥è§¦è¿‡çš„Cè¯­è¨€APIå¤§éƒ¨åˆ†æ˜¯è¯»å–å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼Œå¾ˆå°‘ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–ã€‚ä½†æ˜¯å½“è¿™æ ·æƒ³åå°±æ˜ç™½äº†ï¼šæ‰€æœ‰æ–‡ä»¶åœ¨è®¡ç®—æœºé‡Œå­˜å‚¨çš„éƒ½æ˜¯0å’Œ1ã€‚ç¼–ç çš„æ—¶å€™ä¸ç”¨å…³å¿ƒæ¯ä¸ªå­—ç¬¦å å¤šå°‘bitï¼ŒæŒ‰ç…§è‡ªå·±çš„ç¼–ç æ–¹å¼ç¼–ï¼Œåªè¦èƒ½æ¢å¤0å’Œ1æ•°æ®å³å¯ã€‚æ‰€ä»¥ï¼Œæ‰€æœ‰æ•°æ®éƒ½é€šè¿‡äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–ï¼Œä»¥äºŒè¿›åˆ¶çš„æ–¹å¼å­˜å‚¨ï¼Œè¿™æ ·å°±æ²¡æœ‰å¿…è¦æ‹…å¿ƒæ–‡ä»¶ç±»å‹æ‰€å¸¦æ¥çš„å›°æƒ‘äº†ã€‚<br> å…·ä½“å­—ç¬¦ç»Ÿè®¡è¿™éƒ¨åˆ†æˆ‘å†™äº†ä¸€ä¸ªcount()å‡½æ•°ã€‚å‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„åœ°å€ï¼Œè¾“å‡ºæ˜¯æ–‡ä»¶ä¸­å„ä¸ªå­—ç¬¦çš„ç»Ÿè®¡å‘é‡ã€‚å½“ç„¶è¿™ä¸ªå¾…å‹ç¼©æ–‡ä»¶ä¸èƒ½è¿‡å¤§ï¼Œå› ä¸ºé€šè¿‡è¯»zipå®ç°åŸç†åšå®¢ä¸­æˆ‘å‘ç°rarå’Œzipç­‰å‹ç¼©è½¯ä»¶ä¹‹æ‰€ä»¥é‚£ä¹ˆå¿«æ˜¯è¿›è¡Œäº†å¾ˆå¤šä¼˜åŒ–ï¼Œä»¥æˆ‘ç°åœ¨çš„æ—¶é—´å’Œèƒ½åŠ›è¿˜æä¸æ‡‚é‡Œé¢çš„ä¸€äº›ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘å†™çš„ä»£ç è¿è¡Œå¾ˆæ…¢ï¼Œä½†æ˜¯ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œå‹ç¼©æ•ˆæœä¹Ÿå¾ˆå¥½ã€‚å‡½æ•°å…·ä½“çš„å®ç°åœ¨åé¢ç®—æ³•å’Œæ€§èƒ½åˆ†æéƒ¨åˆ†è®²ã€‚<br> ###ã€€åˆ›å»ºHuffmanæ ‘(æ ¸å¿ƒ)<br> æ ¹æ®å­—ç¬¦çš„é¢‘ç‡æŒ‰Huffmanç®—æ³•æ„å»ºHuffmanç®—æ³•åˆ›å»ºHuffmanæ ‘<br> æ­¥éª¤å¦‚ä¸‹ï¼š</p> 
<ol><li>ä¸ºæ¯ä¸ªç¬¦å·å»ºç«‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå¹¶åŠ ä¸Šå…¶ç›¸åº”çš„å‘ç”Ÿé¢‘ç‡</li><li>å½“æœ‰ä¸€ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹å­˜åœ¨æ—¶ï¼Œè¿›è¡Œä¸‹åˆ—å¾ªç¯:<br> æŠŠè¿™äº›èŠ‚ç‚¹ä½œä¸ºå¸¦æƒå€¼çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå·¦å³å­æ ‘ä¸ºç©º<br> é€‰æ‹©ä¸¤æ£µæ ¹ç»“ç‚¹æƒå€¼æœ€å°çš„æ ‘ä½œä¸ºå·¦å³å­æ ‘æ„é€ ä¸€æ£µæ–°çš„äºŒå‰æ ‘ï¼Œä¸”è‡³æ–°çš„äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„æƒå€¼ä¸ºå…¶å·¦å³å­æ ‘ä¸Šæ ¹ç»“ç‚¹çš„æƒå€¼ä¹‹å’Œã€‚<br> æŠŠæƒå€¼æœ€å°çš„ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ç§»é™¤<br> å°†æ–°çš„äºŒå‰æ ‘åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚</li><li>æœ€åå‰©ä¸‹çš„èŠ‚ç‚¹æš¨ä¸ºæ ¹èŠ‚ç‚¹ï¼Œå­˜å‚¨ä¸ºrootèŠ‚ç‚¹ï¼Œç”¨äºåé¢å‹ç¼©ç¼–ç æ“ä½œã€‚<br> æ ‘çš„å»ºç«‹è¿‡ç¨‹æ˜¯ä»å¶å­èŠ‚ç‚¹å¾€ä¸Šèµ°ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ã€‚<br> å»ºæ ‘è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-MmzD5hDX-1584452720736)(http://picture.piggygaga.top/InformationTheory/second/CreateTRee.png â€œCreateHuffmanTreeâ€)]<br> ç»¿è‰²æ¤­åœ†è¡¨ç¤ºå¶å­èŠ‚ç‚¹ï¼Œæ£•è‰²èŠ‚ç‚¹è¡¨ç¤ºæ ¹èŠ‚ç‚¹ï¼Œè“è‰²æ¤­åœ†è¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ï¼Œé¦–å…ˆä»æœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å¼€å§‹åˆ›å»ºæ ‘ï¼Œç„¶åå‘ä¸Šèµ°ï¼Œå»ºæ ‘è¿‡ç¨‹ä¸­æ¯æ¬¡å»ºå®Œæ ‘çš„èŠ‚ç‚¹ä¿¡æ¯è¦ä»æ•°ç»„ä¸­åˆ é™¤èŠ‚ç‚¹ä¿¡æ¯ï¼Œæ–¹ä¾¿åé¢çš„å»ºæ ‘æ“ä½œã€‚æ¯æ¬¡åˆ é™¤ä¸¤ä¸ªèŠ‚ç‚¹ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„åˆå¹¶èŠ‚ç‚¹ï¼Œç„¶åé‡æ–°æŒ‰é¢‘ç‡ä»å°åˆ°å¤§æ’åºï¼Œæ‰§è¡ŒåŒæ ·çš„æ“ä½œç›´åˆ°æœ€åå‰©ä¸‹æ ¹èŠ‚ç‚¹ï¼Œå°†æ ¹èŠ‚ç‚¹åœ°å€ä¿å­˜ä¸‹æ¥ï¼Œåœ¨ä¸‹ä¸€æ­¥å‹ç¼©æ•°æ®æ—¶ä½¿ç”¨ã€‚<br> ç»è¿‡æ­¤æ­¥éª¤ï¼Œæ¯ä¸ªå­—ç¬¦å¯¹åº”çš„Huffmanç¼–ç éƒ½å¯ä»¥å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥å°†ç¼–ç ä¿¡æ¯ä¿å­˜ä¸‹æ¥ï¼Œç±»ä¼¼ASCIIç¼–ç è¡¨ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠHuffmanç¼–ç è¡¨ä¹Ÿä¿å­˜ä¸‹æ¥ã€‚</li></ol> 
<h4><a id="Huffman_40"></a>Huffmanç¼–ç </h4> 
<p>æ ¹æ®Huffman æ ‘å®ç°ç¼–ç å¹¶å°†ç¼–ç ç»“æœå’Œè¦ç¼–ç çš„æ•°æ®å»ºç«‹æ˜ å°„å…³ç³»ï¼Œå­˜å‚¨çš„å‹ç¼©æ–‡ä»¶éœ€è¦æ·»åŠ å¤´æ–‡ä»¶ï¼Œç”¨äºè§£ç ä½¿ç”¨ã€‚<br> é‡æ–°ä»æ–‡ä»¶ä¸­è¯»å–ä¿¡æ¯ï¼Œæ­¤æ—¶ä¸éœ€è¦è¿›è¡Œç»Ÿè®¡å­—ç¬¦é¢‘ç‡ï¼Œåªéœ€è¦åœ¨Huffmanè¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„Huffmanç¼–ç ç„¶åå°†ç¼–ç å‹å…¥å‹ç¼©æ–‡ä»¶ä¸­ã€‚<br> å‹ç¼©æ–‡ä»¶åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼šå¤´æ–‡ä»¶ï¼Œæ•°æ®éƒ¨åˆ†ã€‚å‹ç¼©æ–‡ä»¶çš„ç»“æ„è§ä¸‹å›¾<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-1oeNATPi-1584452720737)(http://picture.piggygaga.top/InformationTheory/second/Huffmanfile.PNG â€œå‹ç¼©æ–‡ä»¶å†…å®¹â€)]<br> å‹ç¼©æ•°æ®é¦–å…ˆä»¥ä¸€ä¸ª&gt;å¼€å§‹è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªHuffmanå‹ç¼©æ•°æ®ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯åœ¨è§£å‹è¿‡ç¨‹ä¼šåˆ¤æ–­è¿™æ˜¯å¦æ˜¯ä¸€ä¸ªHuffmanç¼–ç æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ ‡è¯†ï¼Œè®¤å®šè¯¥æ–‡ä»¶ä¸å…·å¤‡Huffmanç¼–ç æ–‡ä»¶çš„ç‰¹æ€§æ€§ï¼Œä¹Ÿå°±æ²¡æœ‰åŠæ³•è§£å‹ã€‚ç¬¬äºŒéƒ¨åˆ†æ˜¯å¤´æ–‡ä»¶ï¼Œå­˜å‚¨ç€å­—ç¬¦é¢‘æ•°ï¼Œè¿™æ ·åšä¹Ÿæ˜¯ä¸ºäº†è§£å‹æ–¹ä¾¿ï¼Œè§£å‹è¿‡ç¨‹å’Œå‹ç¼©è¿‡ç¨‹æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¿‡ç¨‹ï¼Œå°†å­—ç¬¦é¢‘æ•°å­˜è¿›å¤´æ–‡ä»¶ï¼Œåœ¨è§£å‹æ—¶éœ€è¦åˆ©ç”¨å¤´æ–‡ä»¶å­—ç¬¦é¢‘æ•°é‡æ–°å»ºç«‹ä¸€æ£µHuffmanæ ‘ï¼Œå’Œå‹ç¼©è¿‡ç¨‹çš„æ“ä½œè¿‡ç¨‹æ˜¯ä¸€æ ·çš„ã€‚æœ€åé€šè¿‡è¯»å–æºæ–‡ä»¶çš„å­—ç¬¦ï¼Œåœ¨Huffmanç¼–ç è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ç¼–ç ï¼Œå°†å­—ç¬¦ç¼–ç å‹è¿›æ•°æ®éƒ¨åˆ†ï¼Œå› ä¸ºHuffmanç¼–ç æ˜¯å¼‚å­—å¤´ç ï¼Œæ‰€ä»¥ä¸éœ€è¦åšåˆ†éš”ï¼ŒæŠŠæ‰€æœ‰æ•°æ®å‹è¿›å»å³å¯ã€‚</p> 
<h4><a id="Huffman__46"></a>Huffman è§£ç </h4> 
<p>æ ¹æ®è·å–çš„Huffmanç æ¥é€†å‘è·å–ç¼–ç ä¿¡æ¯ï¼Œè€Œä¸”ä»è§£å‹æ–‡ä»¶ä¸­ä¸€æ¬¡æ€§è·å–çš„æ•°æ®æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªä¸²æ˜¯å‹ç¼©åçš„huffmanç¼–ç ï¼Œå®é™…ä¸Šæ˜¯æœºå™¨ç ã€‚<br> è§£ç è¿‡ç¨‹<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-G3OeNeIZ-1584452720738)(http://picture.piggygaga.top/InformationTheory/second/decode.png â€œè§£ç è¿‡ç¨‹â€)]<br> è§£ç è¿‡ç¨‹å…±åˆ†ä¸º3éƒ¨åˆ†ï¼Œé¦–å…ˆç¨‹åºè¯»å–å‹ç¼©æ–‡ä»¶çš„å¤´éƒ¨è·å–å­—ç¬¦é¢‘æ•°ï¼Œå¹¶æ®æ­¤æ„å»ºHuffmanæ ‘ï¼Œå…¶æ¬¡è¯»å–æ•°æ®éƒ¨åˆ†çš„Huffmanç¼–ç ï¼Œå¹¶æ ¹æ®Huffmanæ ‘å¾—åˆ°ç¼–ç çš„å­—ç¬¦å€¼ï¼Œæœ€åå°†å­—ç¬¦å‹å…¥è§£å‹æ–‡ä»¶ä¸­ï¼Œå¦‚æœè¯»åˆ°æ–‡ä»¶ç»“å°¾ï¼Œç»“æŸè§£ç è¿‡ç¨‹ã€‚</p> 
<h3><a id="HuffmanC_52"></a>Huffmanç¼–ç ç®—æ³•C++å®ç°å’Œæ€§èƒ½åˆ†æ</h3> 
<p>ç¼–ç¨‹è¯­è¨€ï¼šC++<br> ç¼–ç¨‹ç¯å¢ƒï¼šVisual studio 2015<br> æœ¬æ¬¡å®éªŒæˆ‘é‡‡ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼Œæ¯ç§ç®—æ³•å»ºç«‹ä¸€ä¸ªå¯¹è±¡ï¼ŒHuffmanç¼–ç æˆ‘å»ºç«‹äº†ä¸€ä¸ªHuffmanç±»ã€‚æ‰€æœ‰çš„ç¼–ç æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸ªç±»ã€‚<br> Huffmanç±»å¦‚ä¸‹æ‰€ç¤º</p> 
<pre><code>class Huffman
{
public:
	struct HuffmanNode
	{
		unsigned char value; //èŠ‚ç‚¹å€¼
		int frequency = 0; //èŠ‚ç‚¹é¢‘æ•°
		struct HuffmanNode *Lchild = NULL;
		struct HuffmanNode *Rchild = NULL;
	};
private:
	struct CountVector
	{
		unsigned char value; //å­—ç¬¦
		int frequency = 0;  //å­—ç¬¦é¢‘æ•°
		struct HuffmanNode *nodeAddress = NULL;
	};
	struct HuffmanCode
	{
		unsigned char value;
		int frequency = 0;
		string code;
		int codelen;
	};
	//æ ¹èŠ‚ç‚¹
	static bool mysortfunction(CountVector A, CountVector B)
	{  //ç”¨äºsortæ’åºç®—æ³•
		return A.frequency &lt; B.frequency;
	}
public:
	HuffmanNode *root;
	string fileAddress;
	long int NumOfChar = 0;
	vector&lt;CountVector&gt; charCountFrequency;  //ç”¨äºå­˜å‚¨å­—ç¬¦é¢‘æ•°
	vector&lt;HuffmanCode&gt; HuffmanCodeVec;
	Huffman(string sourcefile);  //æ„é€ å‡½æ•°
	void count();   //ç»Ÿè®¡å„ä¸ªå­—ç¬¦çš„é¢‘æ•°å‡½æ•°
	void CreateHuffmanTree(vector&lt;CountVector&gt; charFrequency);  //åˆ›å»ºhuffmanæ ‘
	void GetHuffmanCode(HuffmanNode *root, int len);
	void WriteCode(vector&lt;HuffmanCode&gt; hfCode);
	void Decode(string sourcefile, string dstfile);
};
</code></pre> 
<p>ç¨‹åºè°ƒç”¨è¿‡ç¨‹ä¸­åªä¼šç”¨åˆ°å…¬æœ‰å±æ€§å’Œå…¬æœ‰å‡½æ•°ï¼Œæ‰€ä»¥ä¸‹é¢ä¾æ¬¡ä»‹ç»å…¬æœ‰å±æ€§å’Œå…¬æœ‰å‡½æ•°çš„åŠŸèƒ½ã€‚</p> 
<ol><li>root æ˜¯HuffmanNodeç±»å‹çš„æŒ‡é’ˆï¼Œç”¨æ¥å­˜å‚¨Huffmanæ ‘çš„æ ¹èŠ‚ç‚¹çš„åœ°å€ã€‚</li><li>fileAddress æ˜¯stringç±»å‹å­—ç¬¦ä¸²ï¼Œç”¨æ¥å­˜å‚¨å¾…å‹ç¼©æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„ã€‚</li><li>NumOfCahr æ˜¯long int ç±»å‹çš„æ•°æ®ï¼Œè¡¨ç¤ºæ–‡ä»¶ä¸­å­—ç¬¦æ€»æ•°ã€‚</li><li>charCountFrequency æ˜¯CountVector ç±»å‹çš„æ•°ç»„ï¼Œå­˜å‚¨æ¯ç§å­—ç¬¦çš„é¢‘ç‡ã€‚</li><li>HuffmanCodeVec æ˜¯HuffmanCode ç±»å‹çš„æ•°ç»„ï¼Œå­˜å‚¨æ¯ç§å­—ç¬¦çš„Huffmanç¼–ç ã€‚</li><li>Huffman() æ˜¯æ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–å¯¹è±¡ã€‚</li><li>count() å‡½æ•°ç»Ÿè®¡å„ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘æ•°ï¼Œ ç»“æœå­˜åœ¨charCountFrequencyä¸­ã€‚</li><li>CreateHuffmanTree() æ„é€ Huffmanæ ‘ï¼Œç»“æœå­˜å‚¨åœ¨rootä¸­ã€‚</li><li>GetHuffmanCode() é€šè¿‡Huffmanæ ‘è·å–Huffmanç¼–ç ã€‚</li><li>WriteCode() æ–‡ä»¶å‹ç¼©å‡½æ•°ï¼Œå°†åŸå§‹æ–‡ä»¶çš„ä¿¡æ¯å‹ç¼©ä¸ºæ‹“å±•åä¸º.dadaçš„æ–‡ä»¶ã€‚</li><li>Decode() æ–‡ä»¶è§£ç å‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªHuffmanç¼–ç åçš„.dadaæ–‡ä»¶ï¼Œè¾“å‡ºåŸå§‹æ–‡ä»¶ã€‚<br> <strong>ä¸»å‡½æ•°éƒ¨åˆ†å¦‚ä¸‹å›¾ï¼š</strong></li></ol> 
<pre><code>int main()
{
	clock_t start, end, start1, end1;
	cout &lt;&lt; "ï¼-------------Huffmanå‹ç¼©ç¼–ç ---------ï¼" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------ä½œè€…ï¼šå°çŒªå˜å˜------------ï¼" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------å‹ç¼©ç¨‹åº----------------! " &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------csdn-------! " &lt;&lt; endl &lt;&lt; endl;
	string filePath;
	cout &lt;&lt; "è¯·è¾“å…¥å¾…ç¼–ç æ–‡ä»¶åœ°å€" &lt;&lt; endl &lt;&lt; endl;
	getline(cin, filePath);
	Huffman huf(filePath);
	start = clock();
	huf.count();  //è·å–å­—ç¬¦é¢‘æ•°å­˜åœ¨charCountFrequencyæ•°ç»„ä¸­
	cout &lt;&lt; huf.charCountFrequency.size() &lt;&lt; endl;
	//getchar();
	huf.CreateHuffmanTree(huf.charCountFrequency);
	huf.GetHuffmanCode(huf.root, 0);
	huf.WriteCode(huf.HuffmanCodeVec);
	end = clock();
	cout &lt;&lt; "å‹ç¼©ä½¿ç”¨æ—¶é—´ä¸º :   " &lt;&lt; double((end - start) / CLOCKS_PER_SEC) * 1000 &lt;&lt; " /ms" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------è§£ç ç¨‹åº------------!" &lt;&lt; endl &lt;&lt; endl;
	//cout &lt;&lt; "!--------------è¯·è¾“å…¥å¾…è§£ç çš„æ–‡ä»¶--------------!" &lt;&lt; endl &lt;&lt; endl;
	//string outfilePath;
	//getline(cin, outfilePath);
	//Huffman hufdecode(outfilePath);
	//huf.root = new Huffman::HuffmanNode;
	start1 = clock();
	Huffman hufde(filePath);
	hufde.Decode(filePath + ".dada", "./Out/" + filePath);
	end1 = clock();
	cout &lt;&lt; "è§£ç ä½¿ç”¨æ—¶é—´ä¸º :   " &lt;&lt; double((end1 - start1) / CLOCKS_PER_SEC) * 1000 &lt;&lt; " /ms" &lt;&lt; endl &lt;&lt; endl;
	getchar();
}
</code></pre> 
<p>æ–‡ä»¶å‹ç¼©æ­¥éª¤ï¼š<br> ç¬¬ä¸€æ­¥ï¼šè¯»å…¥å¾…å‹ç¼©çš„æ–‡ä»¶å<br> ç¬¬äºŒæ­¥ï¼šå»ºç«‹hufå¯¹è±¡ä¸ºHuffmanç±»å‹<br> ç¬¬ä¸‰æ­¥ï¼šcout()å‡½æ•°è®¡ç®—å„ä¸ªå­—ç¬¦é¢‘æ•°<br> ç¬¬å››æ­¥ï¼šCreatehuffmanTree()å»ºç«‹Huffmanæ ‘<br> ç¬¬äº”æ­¥ï¼šGetHuffmanCode()è·å–Huffmanç¼–ç <br> ç¬¬å…­æ­¥ï¼šWriteCode()å‹ç¼©æ–‡ä»¶<br> ç¬¬ä¸ƒæ­¥ï¼šDecode() è§£ç </p> 
<ol><li>æ–‡æœ¬å‹ç¼©<br> åŸå§‹æ–‡æœ¬ä¸ºä¸€ä¸ªåä¸ºhaha.txtçš„æ–‡æœ¬æ–‡æ¡£ï¼Œè¯¥æ–‡æ¡£å¤§å°ä¸º4096 bytes<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-PgHukUKC-1584452720738)(http://picture.piggygaga.top/InformationTheory/second/hahaSource.PNG â€œæ–‡æœ¬æ–‡æ¡£â€)]<br> å‹ç¼©åçš„æ–‡ä»¶ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç”¨äºŒè¿›åˆ¶æŸ¥çœ‹è½¯ä»¶æ‰“å¼€åæ˜¯ä¹±ç æ–‡ä»¶<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-Py35jVaH-1584452720739)(http://picture.piggygaga.top/InformationTheory/second/yasuo.PNG â€œäºŒè¿›åˆ¶æŸ¥çœ‹å™¨æŸ¥çœ‹â€)]<br> æ–‡ä»¶å¤§å°ä¸º10385Bytesï¼Œç­‰ç­‰ï¼Œ10385Bytesï¼Œä¸ºå•¥å˜å¤§äº†ï¼Ÿä¸æ˜¯å‹ç¼©ä¹ˆï¼Ÿ<br> è¿™ä¸ªç°è±¡åé¢è§£é‡Šï¼Œä¸‹é¢ç»§ç»­çœ‹è§£ç æ•ˆæœã€‚<br> è§£ç æ–‡ä»¶ä¸ºout.txtæ–‡ä»¶<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-4r9tvk5o-1584452720739)(http://picture.piggygaga.top/InformationTheory/second/hahaSource.PNG â€œè§£ç æ–‡ä»¶â€)]<br> æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è§£ç æ–‡ä»¶å’ŒåŸå§‹æ–‡ä»¶ä¸€æ ·ï¼Œæ‰€ä»¥æ­£ç¡®æ€§æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚<br> ä¸Šé¢è¯´é“å‹ç¼©åçš„æ–‡ä»¶åè€Œæ¯”åŸæ¥çš„æ–‡ä»¶å¤§ï¼Œå…¶å®è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºå‹ç¼©æ–‡ä»¶æ¯”åŸå§‹æ–‡ä»¶å¤šäº†æ•°æ®å¤´éƒ¨ï¼Œheadéƒ¨åˆ†ä¹Ÿæ˜¯ä¼šå ç”¨ä¸€å®šçš„ç©ºé—´çš„ï¼Œæ‰€ä»¥æ‰ä¼šäº§ç”Ÿè¿™ç§æƒ…å†µï¼Œæ‰€ä»¥Huffmanç¼–ç ä¸é€‚åˆæ–‡ä»¶å¾ˆå°çš„æ•°æ®å‹ç¼©ï¼Œæ•°æ®è¦å¤§ä¸€äº›æ‰ä¼šæœ‰æ˜æ˜¾å·®å¼‚ã€‚ç»è¿‡å®éªŒæµ‹è¯•æ–‡ä»¶å¤§äº1Måæ‰ä¼šæœ‰å‹ç¼©æ•ˆæœã€‚</li><li>å›¾åƒå‹ç¼©<br> æµ‹è¯•å›¾ç‰‡æ˜¯åŠŸå¤«ç†ŠçŒ«çš„ä¸€å¼ å›¾ç‰‡<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-ZBNkfDjh-1584452720740)(http://picture.piggygaga.top/InformationTheory/second/Abao.jpg â€œå¾…å‹ç¼©å›¾åƒâ€)]<br> å›¾ç‰‡å¤§å°ä¸º47kbï¼Œå‹ç¼©åçš„å›¾åƒä¸º48kbï¼Œå› ä¸ºå›¾ç‰‡å¤ªå°æ‰€ä»¥è¿˜æ˜¯æ²¡æœ‰æ˜æ˜¾çš„å‹ç¼©æ•ˆæœã€‚å›¾åƒæ–‡ä»¶ä¹‹æ‰€ä»¥å‹ç¼©æ•ˆæœä¸å¥½æ˜¯å› ä¸ºå›¾åƒæ ¼å¼æœ¬èº«å·²ç»æ˜¯ç»è¿‡å‹ç¼©åçš„æ–‡ä»¶ï¼Œå·²ç»ç”¨Huffmanå‹ç¼©ç®—æ³•æˆ–å…¶ä»–å‹ç¼©ç®—æ³•å‹ç¼©è¿‡äº†ï¼Œä¸åŒçš„å›¾åƒæ ¼å¼æœ‰ä¸åŒçš„å‹ç¼©ç®—æ³•ï¼Œä¸€èˆ¬é€šå¸¸æ˜¯é›†ä¸­ç®—æ³•æ··åˆä½¿ç”¨ï¼Œæ‰€ä»¥æ ¹æ®ä¿¡æ¯è®ºç†è®ºï¼Œå½“å‹ç¼©çš„æ–‡ä»¶æ¥è¿‘æœ€ä½³å‹ç¼©æ¯”æ—¶æ­¤æ—¶æ— è®ºæ€æ ·åšéƒ½æ— æ³•è¿›è¡Œæ›´ä¼˜çš„æ— æŸå‹ç¼©äº†ï¼Œæ³¨æ„è¿™é‡Œå¿…é¡»æ˜¯æ— æŸå‹ç¼©ï¼Œæœ‰æŸå‹ç¼©è¿˜æ˜¯å¯ä»¥ç»§ç»­è¿›è¡Œçš„ï¼Œè¿™é‡ŒHuffmanæ˜¯ä¸€ç§æ— æŸå‹ç¼©ç®—æ³•ã€‚<br> å‹ç¼©ç”¨æ—¶ï¼š<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-LAZnmIZJ-1584452720740)(http://picture.piggygaga.top/InformationTheory/second/KongFutime.PNG â€œå‹ç¼©ç”¨æ—¶â€)]<br> æ€»å…±æœ‰256ä¸ªå­—ç¬¦è¢«ç»Ÿè®¡å‡ºæ¥ï¼Œå‹ç¼©æ•°æ®è€—æ—¶25000msã€‚è§£ç ç”¨æ—¶å‡ ä¹ä¸º0msï¼Œæ‰€ä»¥å¯ä»¥çœ‹å‡ºè§£ç è¿‡ç¨‹ä¸éœ€è¦ç»Ÿè®¡å­—ç¬¦é¢‘æ•°ï¼Œé€Ÿåº¦ç›¸å½“å¿«ã€‚</li><li>è§†é¢‘å‹ç¼©<br> è§†é¢‘å‹ç¼©çš„æ˜¯ã€Šå½“çˆ±å·²æˆå¾€äº‹ã€‹mv<br> [å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-x5vygBPR-1584452720741)(http://picture.piggygaga.top/InformationTheory/second/Love.PNG â€œloveâ€)]<br> æ–‡ä»¶å¤§å°ä¸º7.82kbï¼Œå‹ç¼©åçš„æ–‡ä»¶å¤§å°ä¸ºï¼š7.81å‹ç¼©ç‡ä¸º99.8%<br> ç»¼ä¸Šï¼›ç¨‹åºå¯ä»¥å¯¹æ‰€æœ‰æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå½“åŸå§‹æ–‡ä»¶å°äº7Mæ—¶ï¼Œå‹ç¼©æ–‡ä»¶å¤§äºåŸå§‹æ–‡ä»¶ï¼Œå¹¶ä¸èƒ½å®ç°å‹ç¼©æ•ˆæœï¼Œå½“æ–‡ä»¶è¾¾åˆ°13Mæ—¶å‹ç¼©æ¯”ç‡å¯è¾¾åˆ°77%ï¼Œä¸”å½“æ–‡ä»¶è¶Šå¤§å‹ç¼©æ•ˆæœè¶Šå¥½</li></ol> 
<h3><a id="Huffman_181"></a>Huffmanç®—æ³•å®ç°è¿‡ç¨‹ä¸­çš„å¿ƒå¾—ä½“ä¼š</h3> 
<p>è§£ç è¿‡ç¨‹å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œå¼€å§‹å‡ºç°æ–‡ä»¶é”™è¯¯çš„ä¿¡æ¯ï¼Œåæ¥è°ƒè¯•å‘ç°rootèŠ‚ç‚¹æ²¡æœ‰èµ‹äºˆåˆå§‹çš„ç©ºé—´ï¼Œä½¿å¾—ç¨‹åºå´©æºƒã€‚åæ¥è§£å†³è¿™ä¸€é—®é¢˜ååˆå‡ºç°äº†è§£ç æ–‡ä»¶ä¹±ç çš„ç°è±¡ï¼Œè¿™ä¸ªé—®é¢˜çœŸçš„æ˜¯å¾ˆå‘ï¼Œåæ¥æ‰¾åˆ°åŸå› æ˜¯ï¼šç¼–ç å’Œè§£ç è¿‡ç¨‹ä¸­å»ºçš„æ ‘ä¸ä¸€è‡´ï¼Œå¯¼è‡´ç¼–ç å’Œè§£ç çš„å­—ç¬¦ç¼–ç ä¸èƒ½å¯¹åº”äº§ç”Ÿäº†ä¹±ç ç°è±¡ã€‚ç°åœ¨ç¨‹åºå¯ä»¥å®Œæˆç‹¬ç«‹çš„ç¼–ç ï¼Œç‹¬ç«‹çš„è§£ç å·¥ä½œã€‚æ€»ç»“ä¸€ä¸‹Huffmanç¼–ç ï¼Œé€šè¿‡ç¨‹åºå®ç°çš„Huffmanå¯ä»¥è¾¾åˆ°æ— æŸå‹ç¼©çš„ç›®çš„ï¼Œä¸”æ–‡ä»¶è¶Šå¤§å‹ç¼©çš„æ•ˆæœè¶Šå¥½ï¼Œå½“æ–‡ä»¶å¤§äº7Må·¦å³æ—¶å¯ä»¥è¾¾åˆ°å‹ç¼©çš„ç›®çš„ï¼Œæ–‡ä»¶å°äº7Må·¦å³æ—¶å¹¶ä¸èƒ½è¾¾åˆ°å‹ç¼©ç›®çš„ã€‚æ–‡ä»¶å¾ˆå¤§æ—¶å¯ä»¥è¾¾åˆ°å¾ˆé«˜çš„å‹ç¼©æ¯”ä¾‹ã€‚ä½†Huffmanæœ‰ä¸€ä¸ªå¾ˆè‡´å‘½çš„ç¼ºç‚¹ï¼šå¾ˆè€—æ—¶ã€‚æ¯æ¬¡ç¼–ç éƒ½è¦ç»Ÿè®¡å­—ç¬¦é¢‘æ•°ï¼Œåœ¨ç»Ÿè®¡å­—ç¬¦é¢‘æ•°çš„æ—¶å€™è¦éå†ä¸€æ¬¡æ–‡ä»¶ï¼Œç„¶ååˆ©ç”¨å­—ç¬¦é¢‘æ•°å‘é‡å»ºç«‹Huffmanæ ‘ï¼Œæ­¤åè¿˜è¦éå†ä¸€æ¬¡æ–‡ä»¶æ¥å‹ç¼©æ–‡ä»¶ï¼Œæ‰€ä»¥Huffmanç¼–ç éå¸¸è€—æ—¶ï¼Œä¸»è¦æ—¶é—´èŠ±è´¹åœ¨ç»Ÿè®¡å­—ç¬¦é¢‘æ•°é‚£é‡Œã€‚</p> 
<h2><a id="Shannon_Fano_183"></a>ç¬¬äºŒç« ï¼šShannon Fanoç¼–ç </h2> 
<h3><a id="_Shannon_Fano_184"></a>ä¸€. Shannon Fanoç¼–ç åŸç†</h3> 
<p>Fanoç¼–ç å’ŒHuffmanç¼–ç ç¨æœ‰ä¸åŒï¼Œå®ƒä¸æ˜¯æœ€ä½³ç¼–ç æ–¹æ³•ï¼Œä½†æœ‰æ—¶ä¹Ÿå¯ä»¥å¾—åˆ°æœ€ä½³çš„æ€§èƒ½ã€‚Huffmanæ˜¯ç”±å¶å­èŠ‚ç‚¹åˆå¹¶æ„å»ºHuffmanæ ‘ï¼Œåˆ©ç”¨çš„æ˜¯åˆå¹¶çš„æ€æƒ³ï¼Œè€ŒFanoç¼–ç æ–¹æ³•æ­£å¥½ç›¸åï¼ŒFanoç¼–ç æ˜¯ä»æ•´ä½“è¿›è¡Œåˆ†å‰²ï¼Œåˆ°æœ€åå¶å­èŠ‚ç‚¹ç»“æŸã€‚<br> é¦–å…ˆï¼Œå°†ä¿¡æºç¬¦å·ä»¥æ¦‚ç‡ä½è´±çš„æ¬¡åºæ’åˆ—èµ·æ¥ï¼Œå°†æ’åˆ—å¥½çš„ä¿¡æºç¬¦å·åˆ’åˆ†æˆä¸¤å¤§ç»„ï¼Œä½¿é­…æ—çš„æ¦‚ç‡å’Œè¿‘äºç›¸åŒï¼Œå¹¶å„èµ‹äºˆä¸€ä¸ªäºŒå…ƒå—ç¬¦å·â€˜0â€™å’Œâ€˜1â€™.ç„¶åï¼Œå°†æ¯ä¸€å¤§ç»„çš„ä¿¡æºç¬¦å·å†åˆ†æˆä¸¤ç»„ï¼Œä½¿åŒä¸€ç»„çš„ä¸¤ä¸ªå°ç»„çš„æ¦‚ç‡è¿‘äºç›¸åŒï¼Œå¹¶åˆ†åˆ«èµ‹äºˆ-ä¸ªäºŒå…ƒç ç¬¦å·ã€‚ä¾æ¬¡ä¸‹å»ï¼Œç›´è‡³æ¯ä¸ªå°ç»„åªå‰©ä¸€ä¸ªå¿ƒæ„¿ç¬¦å·ä¸ºæ­¢ã€‚æœ€åï¼Œç”±å‰å‘åè¯»å–ç ç¬¦å·åºåˆ—ã€‚è¿™æ ·ï¼Œä¿¡æºç¬¦å·æ‰€å¯¹åº”çš„ç ç¬¦å·åºåˆ—åˆ™ä¸ºç¼–å¾—çš„ç å­—ã€‚</p> 
<h3><a id="_Shannon_Fano__188"></a>äºŒ. Shannon Fano ç¼–ç è¿‡ç¨‹</h3> 
<ol><li>å­—ç¬¦é¢‘ç‡ç»Ÿè®¡<br> å’ŒHuffmanç¼–ç ç±»ä¼¼Shannon Fano ç¼–ç åŒæ ·ä¹Ÿè¦ç»è¿‡å­—ç¬¦ç»Ÿè®¡ã€‚</li><li>æ„å»ºFanoæ ‘<br> è¿™é‡Œæ˜¯å’ŒHuffmanç¼–ç ä¸ä¸€æ ·çš„åœ°æ–¹ï¼ŒHuffmanæ˜¯ç”±å¶å­èŠ‚ç‚¹å‘æ ‘æ ¹çš„æ–¹å‘é€æ­¥æ„é€ Huffmanç¼–ç æ ‘ï¼Œè€ŒShannon Fano ç¼–ç æ˜¯ä»æ ‘æ ¹é€æ¸æ‹†åˆ†æ‰§è¡Œé€’å½’æ“ä½œï¼Œæœ€åç”Ÿæˆä¸€é¢—ç¼–ç æ ‘ã€‚</li><li>è·å–Fanoç¼–ç </li><li>è¯‘ç </li></ol> 
<h3><a id="_Shannon_Fano__195"></a>äºŒ. Shannon Fano ç¼–ç çš„å®ç°å’Œæ€§èƒ½åˆ†æ</h3> 
<p>Shannon Fanoç¼–ç é€šè¿‡å»ºç«‹ä¸€ä¸ªFanoç±»å®ç°ã€‚<br> ä¸‹é¢æ˜¯Fanoç±»çš„å…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p> 
<pre><code>class Fano
{	
public:
	struct FanoNode
	{
		unsigned char value; // å­—ç¬¦
		struct FanoNode *Lchild = NULL;  //å·¦å­©å­
		struct FanoNode *Rchild = NULL;   //å³å­©å­
	};
private:
	struct CountVector
	{
		unsigned char value;
		int frequency = 0;
		struct FanoNode *nodeAddress = NULL;
	};
private:
	struct FanoCode
	{
		unsigned char value;
		int frequency;
		string code;
		int codelen;
	};
private:
	static bool mysortfunction(CountVector A, CountVector B)
	{  //æ’åºå‡½æ•°
		return A.frequency &gt; B.frequency;
	}
public:
	FanoNode *root;  //å­˜å‚¨æ ‘çš„ç»“æ„
	string fileAddress;
	long int NumOfChar;
	vector&lt;CountVector&gt; charFrequency;  //å­—ç¬¦é¢‘ç‡
	vector&lt;FanoCode&gt; FanoCodeVec;  //å­˜å‚¨Fanoç ï¼Œ åŒ…æ‹¬ç é•¿ï¼Œç å­—
	Fano();
	void count();
	void open(string add);
	void CreateTree(vector&lt;CountVector&gt; charFrequency, FanoNode *rootNode);
	void GetFanoCode(FanoNode* root, int depth);
	void WriteCode(vector&lt;FanoCode&gt; HFCode); 
	void Decode(string sourcefile, string dstfile);
private:
	void splitVec(vector&lt;CountVector&gt; charFr, vector&lt;CountVector&gt; &amp;charFr1, vector&lt;CountVector&gt; &amp;charFr2);
};
 
</code></pre> 
<p>å…³é”®å±æ€§ï¼š</p> 
<ol><li>struct FanoNode : Shannon Fanoæ ‘çš„èŠ‚ç‚¹æ•°æ®</li><li>struct CountVector : ç”¨äºå­˜å‚¨å­—ç¬¦é¢‘æ•°çš„æ•°æ®ç±»å‹</li><li>FanoCode : å­˜å‚¨Shannon Fanoç¼–ç çš„æ•°æ®ç±»å‹</li><li>FanoNode *root : å­˜å‚¨Fanoæ ‘çš„æ ¹èŠ‚ç‚¹</li><li>string fileAddress : å¾…å‹ç¼©æ–‡ä»¶çš„è·¯å¾„</li><li>vector charFrequency: ç”¨äºå­˜å‚¨æ‰€æœ‰å­—ç¬¦é¢‘æ•°çš„å‘é‡</li><li>vector FanoCodeVec : ç”¨äºå­˜å‚¨æ‰€æœ‰å­—ç¬¦çš„Shannon Fanoç¼–ç <br> å…³é”®å‡½æ•°ï¼š</li><li>void open(string fileaddress) æ‰“å¼€å¾…å‹ç¼©çš„æ–‡ä»¶</li><li>void cout() è·å–æ–‡ä»¶ä¸­æ‰€æœ‰å­—ç¬¦çš„å­—ç¬¦é¢‘æ•°ã€‚</li><li>void CreateTree(vector charFrequency, FanoNode *rootNode) è·å–Fanoæ ‘</li><li>void GetFanoCode(FanoNode* root, int depth) è·å–Fanoç¼–ç </li><li>void WriteCode(vector HFCode) å‹ç¼©æ–‡ä»¶</li><li>void Decode(string sourcefile, string dstfile) æ–‡ä»¶è§£å‹ã€‚<br> å‹ç¼©æ¯”ä¾‹<br> | | | | |<br> |:-ğŸ˜:-ğŸ˜:-ğŸ˜:-ğŸ˜<br> |åŸå§‹æ–‡ä»¶ |890Bytes(æ–‡æœ¬)|46.7kb(å›¾ç‰‡) |7.82M(è§†é¢‘)|<br> |å‹ç¼©æ–‡ä»¶| 1146Bytes| 47.9kb |7.81M|<br> |å‹ç¼©ç‡ |1.29 |1.025| 99.8%|<br> |å‹ç¼©ç”¨æ—¶ |0/s |27/s| 6400/s|<br> |è§£å‹ç”¨æ—¶| 0/s |1/s |2400/s|</li></ol> 
<p>ç”±äºç¨‹åºè®¾ç½®é—®é¢˜ï¼Œå½“æ–‡ä»¶å¤§äº13Måä¼šå †æ ˆæº¢å‡ºï¼Œè¿™é‡Œåç»­éœ€è¦è°ƒæ•´ç¨‹åºè¿›è¡Œä¼˜åŒ–ã€‚</p> 
<h3><a id="_Shannon_Fano_271"></a>ä¸‰. Shannon Fanoç¼–ç æ€»ç»“</h3> 
<p>Shannon Fanoç¼–ç å’ŒHuffmanç¼–ç æ¯”è¾ƒç±»ä¼¼ï¼Œç¼–ç è¿‡ç¨‹ä¹Ÿæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚å”¯ä¸€çš„åŒºåˆ«åœ¨ç»“æœã€‚Shannon Fanoç›¸æ¯”äºHuffmanç¼–ç ï¼Œå…¶å‹ç¼©é€Ÿç‡æ²¡æœ‰å·®å¼‚ï¼ŒåŸå› åœ¨äºä¸¤è€…éƒ½éœ€è¦çŸ¥é“æ¯ç§å­—ç¬¦çš„æ¦‚ç‡ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨ç¼–ç ä¹‹å‰å¿…é¡»ç»Ÿè®¡æ¯ç§å­—ç¬¦çš„é¢‘æ•°ã€‚å¦ä¸€æ–¹é¢ï¼ŒShannon å¹³å‡å‹ç¼©æ¯”ä¾‹è¦æ¯”Huffmançš„ä½ä¸€äº›ï¼Œè™½ç„¶æœ‰æ—¶Shannon Fanoå¯ä»¥è¾¾åˆ°æœ€ä¼˜ç¼–ç ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µæ˜¯ä¸èƒ½è¾¾åˆ°çš„ï¼Œæ‰€ä»¥å…¶å¹³å‡å‹ç¼©æ¯”ä¾‹è¦ç•¥ä½äºHuffmanç¼–ç ã€‚<br> ç”±äºç¯‡å¹…æœ‰é™ï¼Œä¸‹ä¸€ç¯‡åšå®¢ä»‹ç»LZç¼–ç å’Œç®—æ•°ç¼–ç ï¼Œæœ€åé™„ä¸ŠHuffmanç¼–ç å’ŒFanoç¼–ç çš„æºä»£ç </p> 
<p><strong>HuffmanClass.h</strong></p> 
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;fstream&gt;
#include &lt;algorithm&gt;
using namespace std;
class Huffman
{
public:
	struct HuffmanNode
	{
		unsigned char value; //èŠ‚ç‚¹å€¼
		int frequency = 0; //èŠ‚ç‚¹é¢‘æ•°
		struct HuffmanNode *Lchild = NULL;
		struct HuffmanNode *Rchild = NULL;
	};
private:
	struct CountVector
	{
		unsigned char value; //å­—ç¬¦
		int frequency = 0;  //å­—ç¬¦é¢‘æ•°
		struct HuffmanNode *nodeAddress = NULL;
	};
	struct HuffmanCode
	{
		unsigned char value;
		int frequency = 0;
		string code;
		int codelen;
	};

	//æ ¹èŠ‚ç‚¹

	static bool mysortfunction(CountVector A, CountVector B)
	{  //ç”¨äºsortæ’åºç®—æ³•
		return A.frequency &lt; B.frequency;
	}
public:
	HuffmanNode *root;
	string fileAddress;
	long int NumOfChar = 0;
	vector&lt;CountVector&gt; charCountFrequency;  //ç”¨äºå­˜å‚¨å­—ç¬¦é¢‘æ•°
	vector&lt;HuffmanCode&gt; HuffmanCodeVec;
	Huffman(string sourcefile);  //æ„é€ å‡½æ•°
	void count();   //ç»Ÿè®¡å„ä¸ªå­—ç¬¦çš„é¢‘æ•°å‡½æ•°
	void CreateHuffmanTree(vector&lt;CountVector&gt; charFrequency);  //åˆ›å»ºhuffmanæ ‘
	void GetHuffmanCode(HuffmanNode *root, int len);
	void WriteCode(vector&lt;HuffmanCode&gt; hfCode);
	void Decode(string sourcefile, string dstfile);
};

Huffman::Huffman(string sourcefile)
{
	fileAddress = sourcefile;  //åˆå§‹åŒ–æ–‡ä»¶è¯»å…¥åœ°å€
}

void Huffman::count()
{
	ifstream readfile;
	readfile.open(fileAddress, ios::in | ios::binary);
	unsigned char *now = new unsigned char;  //å­˜å‚¨å½“å‰è¯»å–åˆ°çš„å­—ç¬¦
	while (!readfile.eof())
	{
		CountVector *presentChar = new CountVector;  //è¯»å–åˆ°çš„å­—ç¬¦ä¿¡æ¯
		readfile.read((char*)now, sizeof(unsigned char));
		int flag = 0;   //æ ‡å¿—æ˜¯å¦æ˜¯æ–°å‡ºç°çš„å­—ç¬¦
		for (int i = 0; i &lt; charCountFrequency.size(); i++)
		{
			if (*now == charCountFrequency[i].value)
			{
				charCountFrequency[i].frequency++;
				NumOfChar++;
				flag = 1;
			}

		}
		if (flag == 0)
		{
			presentChar-&gt;value = *now;
			presentChar-&gt;frequency++;
			NumOfChar++;
			charCountFrequency.push_back(*presentChar);
		}
	}
	readfile.close();
}
void Huffman::CreateHuffmanTree(vector&lt;CountVector&gt; charFrequency)
{
	vector&lt;CountVector&gt;  buildtree;
	//HuffmanNode newNode;
	HuffmanNode *rootnode = new HuffmanNode;
	buildtree = charFrequency;
	sort(buildtree.begin(), buildtree.end(), mysortfunction);
	int treedepth = 0;
	while (buildtree.size() &gt; 1)
	{
		HuffmanNode *nodeLeft = new HuffmanNode,
			*nodeRight = new HuffmanNode,
			*newNode = new HuffmanNode;
		CountVector insertnew;
		if (buildtree[0].nodeAddress != NULL)
		{  //å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹çš„è¯  å·¦å³å­æ ‘çš„åœ°å€éƒ½ä¸ºNULL
			nodeLeft-&gt;Lchild = buildtree[0].nodeAddress-&gt;Lchild;
			nodeLeft-&gt;Rchild = buildtree[0].nodeAddress-&gt;Rchild;
		}
		else
		{
			nodeLeft-&gt;Lchild = NULL;
			nodeLeft-&gt;Rchild = NULL;
		}
		if (buildtree[1].nodeAddress != NULL)
		{
			nodeRight-&gt;Lchild = buildtree[1].nodeAddress-&gt;Lchild;
			nodeRight-&gt;Rchild = buildtree[1].nodeAddress-&gt;Rchild;
		}
		else
		{
			nodeRight-&gt;Lchild = NULL;
			nodeRight-&gt;Rchild = NULL;
		}
		nodeLeft-&gt;frequency = buildtree[0].frequency;
		nodeLeft-&gt;value = buildtree[0].value;
		nodeRight-&gt;frequency = buildtree[1].frequency;
		nodeRight-&gt;value = buildtree[1].value;
		newNode-&gt;frequency = nodeRight-&gt;frequency + nodeLeft-&gt;frequency;
		newNode-&gt;Lchild = nodeLeft;
		newNode-&gt;Rchild = nodeRight;
		insertnew.frequency = newNode-&gt;frequency;
		insertnew.value = 0;
		insertnew.nodeAddress = newNode;
		//vector&lt;CountVector&gt;::iterator it = buildtree.begin();
		buildtree.erase(buildtree.begin());
		//vector&lt;CountVector&gt;::iterator it = buildtree.begin();
		buildtree.erase(buildtree.begin());
		//vector&lt;CountVector&gt;::iterator it = buildtree.begin();
		buildtree.insert(buildtree.begin(), insertnew);
		sort(buildtree.begin(), buildtree.end(), mysortfunction);   //æ¯æ¬¡æ›´æ–°å®Œè¦æ’åº
		rootnode = newNode;
		treedepth++;

	}
	//cout &lt;&lt; treedepth;
	root = rootnode;
}
void  Huffman::GetHuffmanCode(HuffmanNode* root, int depth)
{
	static char code[512];
	//åˆ¤æ–­å·¦å„¿å­
	if (root-&gt;Lchild != NULL)
	{
		code[depth] = '0';
		code[depth + 1] = '\0';
		GetHuffmanCode(root-&gt;Lchild, depth + 1);
	}
	if (root-&gt;Rchild != NULL)
	{
		code[depth] = '1';
		code[depth + 1] = '\0';
		GetHuffmanCode(root-&gt;Rchild, depth + 1);
	}
	else
	{
		HuffmanCode insertCode;
		int codelength = 0;
		for (int i = 0; i &lt; charCountFrequency.size(); i++)
		{
			if (root-&gt;value == charCountFrequency[i].value)
			{
				insertCode.code = code;
				insertCode.value = charCountFrequency[i].value;
				insertCode.frequency = charCountFrequency[i].frequency;
			}
		}
		for (int j = 0; code[j] != '\0'; j++)
		{
			codelength++;
		}
		insertCode.codelen = codelength;
		HuffmanCodeVec.push_back(insertCode);
	}
}
void Huffman::WriteCode(vector&lt;HuffmanCode&gt; HFCode)
{
	//ä»æ–‡ä»¶æ€»è¯»å–å­—ç¬¦å¹¶è¿›è¡Œç¼–ç 
	int codeNum = HFCode.size();
	string address = fileAddress;
	ofstream writecode;
	ifstream read;
	read.open(address, ios::in | ios::binary);   //è¯»å…¥æ–‡ä»¶
	writecode.open(address + ".dada", ios::out | ios::binary);   //ä»¥*.dadaå‘½å
	unsigned char *now = new unsigned char; //è¯»å–çš„ å½“å‰å­—ç¬¦
	unsigned char save = 0;  //æ¯ä¸€æ¬¡ä¿å­˜ä¸€ä¸ªå­—èŠ‚çš„é•¿åº¦
	int len = 0;
	long int totalLen = 0; //æ–‡ä»¶ç¼–ç æ€»é•¿
	int last; //æœ€åå†™å…¥æ—¶çš„ä½æ•°

	for (int i = 0; i &lt; HFCode.size(); i++)
	{
		totalLen = totalLen + HFCode[i].codelen;
	}
	last = totalLen % 8;
	// å°†Huffmanç¼–ç å†™å…¥å¤´éƒ¨ï¼Œå½“ä½œå¤´æ–‡ä»¶æ–¹ä¾¿è¯‘ç æ“ä½œã€‚
	char head = '&gt;';
	writecode.write((char*)&amp;head, sizeof(char));
	writecode.write((char *)&amp;codeNum, sizeof(int));
	writecode.write((char *)&amp; last, sizeof(int));  //å†™å…¥æœ€åä¸€æ¬¡å†™å…¥çš„ä½æ•°
	for (int i = 0; i &lt; codeNum; i++)
	{    //å†™å…¥å­—ç¬¦å€¼å’Œé¢‘æ•°
		writecode.write((char*)&amp;charCountFrequency[i].value, sizeof(unsigned char));
		writecode.write((char*)&amp;charCountFrequency[i].frequency, sizeof(int));
	}
	//read.read((char*)now, 1);
	read.read((char*)now, sizeof(unsigned char));
	while (!read.eof())
	{
		int flag = 0;
		for (int i = 0; i &lt; HFCode.size(); i++)
		{
			if (*now == HFCode[i].value)
			{
				flag = 1;
				for (int j = 0; j &lt; HFCode[i].codelen; j++)
				{
					if (len != 0)
						save = save &lt;&lt; 1;
					save = save | (HFCode[i].code[j] - '0');
					len++;
					if (len == 8)
					{
						writecode.write((char *)&amp;save, sizeof(unsigned char));
						save = 0;
						len = 0;
					}
				}
			}
		}
		if (flag == 0)
		{
			cout &lt;&lt; *now &lt;&lt; "æ²¡åœ¨è¡¨ä¸­æ‰¾åˆ°" &lt;&lt; endl;
		}
		read.read((char*)now, sizeof(unsigned char));
		//*now = read.get();
	}
	if (len != 0)
	{
		writecode.write((char*)&amp;save, sizeof(unsigned char));
	}
	read.close();
	writecode.close();

}
void Huffman::Decode(string sourcefile, string dstfile)
{
	ifstream read;
	ofstream write;
	vector&lt;CountVector&gt; arr;
	unsigned char now;  //è¯»å–çš„å½“å‰å­—ç¬¦
	int last = 0;   //æœ€åä¸€æ¬¡è¯»å–çš„ä½æ•°
	int n; //å­—ç¬¦ç§æ•°
	read.open(sourcefile, ios::in | ios::binary);  //è¯»å–è§£ç æ–‡ä»¶
	write.open(dstfile, ios::out | ios::binary); //æ‰“å¼€è§£ç åçš„æ–‡ä»¶
	read.read((char*)&amp;now, sizeof(now));
	if (!(now == '&gt;'))
	{
		cout &lt;&lt; "è¯¥æ–‡ä»¶çš„Huffmanç¼–ç æ ¼å¼ä¸æ­£ç¡®" &lt;&lt; endl &lt;&lt; endl;
		read.close();
		return;
	}
	read.read((char*)&amp;n, sizeof(int));
	read.read((char*)&amp;last, sizeof(last));

	for (int i = 0; i &lt; n; i++)
	{
		CountVector *insert = new CountVector;

		read.read((char*)&amp;(insert-&gt;value), sizeof(unsigned char));
		read.read((char*)&amp;(insert-&gt;frequency), sizeof(int));
		arr.push_back(*insert);
	}
	this-&gt;root = new HuffmanNode;
	CreateHuffmanTree(arr);
	GetHuffmanCode(root, 0);
	HuffmanNode *pNow = root;
	unsigned char *temp = new unsigned char; //æ¯æ¬¡è¯»ä¸€ä¸ªå­—èŠ‚
	read.read((char*)temp, sizeof(unsigned char));
	while (!read.eof())
	{
		unsigned char *ifLast = new unsigned char; //ç”¨äºåˆ¤æ–­æ˜¯å¦è¯»åˆ°æ–‡ä»¶æœ«å°¾
		read.read((char*)ifLast, sizeof(unsigned char));
		int i;
		if (read.eof())
		{
			i = last - 1;
		}
		else
		{
			i = 7;
		}
		for (; i &gt;= 0; i--)
		{
			if ((*temp &gt;&gt; i &amp; 1) == 0)   //å‘å³ç§»åŠ¨7ä½åˆ¤æ–­è¯»å‡ºçš„æ˜¯0 è¿˜æ˜¯1 
				pNow = pNow-&gt;Lchild;
			else
				pNow = pNow-&gt;Rchild;
			if (pNow-&gt;Lchild == NULL &amp;&amp; pNow-&gt;Rchild == NULL)
			{
				write.write((char*)&amp;(pNow-&gt;value), sizeof(unsigned char));
				pNow = root;
			}
		}
		temp = ifLast;
	}
	read.close();
	write.close();
}

</code></pre> 
<p><strong>HuffmanMain.cpp</strong></p> 
<pre><code>#include &lt;string&gt;
#include "huffmanClass.h"
#include &lt;time.h&gt;
int main()
{
	clock_t start, end, start1, end1;
	cout &lt;&lt; "ï¼-------------Huffmanå‹ç¼©ç¼–ç ---------ï¼" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------ä½œè€…ï¼šå°çŒªå˜å˜------------ï¼" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------å‹ç¼©ç¨‹åº----------------! " &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------csdn-------! " &lt;&lt; endl &lt;&lt; endl;
	string filePath;
	cout &lt;&lt; "è¯·è¾“å…¥å¾…ç¼–ç æ–‡ä»¶åœ°å€" &lt;&lt; endl &lt;&lt; endl;
	getline(cin, filePath);
	Huffman huf(filePath);
	start = clock();
	huf.count();  //è·å–å­—ç¬¦é¢‘æ•°å­˜åœ¨charCountFrequencyæ•°ç»„ä¸­
	cout &lt;&lt; huf.charCountFrequency.size() &lt;&lt; endl;
	//getchar();
	huf.CreateHuffmanTree(huf.charCountFrequency);
	huf.GetHuffmanCode(huf.root, 0);
	huf.WriteCode(huf.HuffmanCodeVec);
	end = clock();
	cout &lt;&lt; "å‹ç¼©ä½¿ç”¨æ—¶é—´ä¸º :   " &lt;&lt; double((end - start) / CLOCKS_PER_SEC) * 1000 &lt;&lt; " /ms" &lt;&lt; endl &lt;&lt; endl;
	cout &lt;&lt; "!--------------è§£ç ç¨‹åº------------!" &lt;&lt; endl &lt;&lt; endl;
	//cout &lt;&lt; "!--------------è¯·è¾“å…¥å¾…è§£ç çš„æ–‡ä»¶--------------!" &lt;&lt; endl &lt;&lt; endl;
	//string outfilePath;
	//getline(cin, outfilePath);
	//Huffman hufdecode(outfilePath);
	//huf.root = new Huffman::HuffmanNode;
	start1 = clock();
	Huffman hufde(filePath);
	hufde.Decode(filePath + ".dada", "./Out/" + filePath);
	end1 = clock();
	cout &lt;&lt; "è§£ç ä½¿ç”¨æ—¶é—´ä¸º :   " &lt;&lt; double((end1 - start1) / CLOCKS_PER_SEC) * 1000 &lt;&lt; " /ms" &lt;&lt; endl &lt;&lt; endl;
`
	getchar();
}

</code></pre> 
<p><strong>ShannonFano.h</strong></p> 
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;fstream&gt;
#include &lt;algorithm&gt;
using namespace std;
class Fano
{	
public:
	struct FanoNode
	{
		unsigned char value; // å­—ç¬¦
		struct FanoNode *Lchild = NULL;  //å·¦å­©å­
		struct FanoNode *Rchild = NULL;   //å³å­©å­
	};
private:
	struct CountVector
	{
		unsigned char value;
		int frequency = 0;
		struct FanoNode *nodeAddress = NULL;
	};
private:
	struct FanoCode
	{
		unsigned char value;
		int frequency;
		string code;
		int codelen;
	};
private:
	static bool mysortfunction(CountVector A, CountVector B)
	{  //æ’åºå‡½æ•°
		return A.frequency &gt; B.frequency;
	}
public:
	FanoNode *root;  //å­˜å‚¨æ ‘çš„ç»“æ„
	string fileAddress;
	long int NumOfChar;
	vector&lt;CountVector&gt; charFrequency;  //å­—ç¬¦é¢‘ç‡
	vector&lt;FanoCode&gt; FanoCodeVec;  //å­˜å‚¨Fanoç ï¼Œ åŒ…æ‹¬ç é•¿ï¼Œç å­—
	Fano();
	void count();
	void open(string add);
	void CreateTree(vector&lt;CountVector&gt; charFrequency, FanoNode *rootNode);
	void GetFanoCode(FanoNode* root, int depth);
	void WriteCode(vector&lt;FanoCode&gt; HFCode); 
	void Decode(string sourcefile, string dstfile);
private:
	void splitVec(vector&lt;CountVector&gt; charFr, vector&lt;CountVector&gt; &amp;charFr1, vector&lt;CountVector&gt; &amp;charFr2);
};
Fano::Fano()
{
	NumOfChar = 0;
}
void Fano::open(string add)
{
	fileAddress = add;
}
void Fano::count()
{
	ifstream readfile;
	readfile.open(fileAddress, ios::in | ios::binary);
	unsigned char *now = new unsigned char;  //Â´Ã¦Â´Â¢ÂµÂ±Ã‡Â°Â¶ÃÃˆÂ¡ÂµÂ½ÂµÃ„Ã—Ã–Â·Ã»
	while (!readfile.eof())
	{
		CountVector *presentChar = new CountVector;  //Â¶ÃÃˆÂ¡ÂµÂ½ÂµÃ„Ã—Ã–Â·Ã»ÃÃ…ÃÂ¢
		readfile.read((char*)now, sizeof(unsigned char));
		int flag = 0;   //Â±ÃªÃ–Â¾ÃŠÃ‡Â·Ã±ÃŠÃ‡ÃÃ‚Â³Ã¶ÃÃ–ÂµÃ„Ã—Ã–Â·Ã»
		for (int i = 0; i &lt; charFrequency.size(); i++)
		{
			if (*now == charFrequency[i].value)
			{
				charFrequency[i].frequency++;
				NumOfChar++;
				flag = 1;
			}

		}
		if (flag == 0)
		{
			presentChar-&gt;value = *now;
			presentChar-&gt;frequency++;
			NumOfChar++;
			charFrequency.push_back(*presentChar);
		}
	}
	readfile.close();
}
void Fano::CreateTree(vector&lt;CountVector&gt; charFr, FanoNode *rootNode)
{
	vector&lt;CountVector&gt; buildtree = charFr;
	if (buildtree.size() == 1)
	{
		//root-&gt;Lchild = new FanoNode;
		//root-&gt;Rchild = new FanoNode;
		rootNode-&gt;Lchild = NULL;
		rootNode-&gt;Rchild = NULL;
		rootNode-&gt;value = buildtree[0].value;
	
	}
	else
	{
		sort(buildtree.begin(), buildtree.end(), mysortfunction);
		vector&lt;CountVector&gt; charFr1, charFr2;
		splitVec(buildtree, charFr1, charFr2);
		rootNode-&gt;Lchild = new FanoNode;
		CreateTree(charFr1, rootNode-&gt;Lchild);
		rootNode-&gt;Rchild = new FanoNode;
		CreateTree(charFr2, rootNode-&gt;Rchild);
		rootNode-&gt;value = 0;
	}
	return;
}
void Fano::splitVec(vector&lt;CountVector&gt; charFr, vector&lt;CountVector&gt; &amp;charFr1, vector&lt;CountVector&gt; &amp;charFr2)
{
	int length = charFr.size();
	if (length == 1)
	{
		cout &lt;&lt; "æ‹†åˆ†çš„æ•°ç»„é•¿åº¦ä¸å¤Ÿ" &lt;&lt; endl;
	}
	long int NumOfCharf = 0;
	for (int i = 0; i &lt; length; i++)
	{
		NumOfCharf = NumOfCharf + charFr[i].frequency;

	}
	double ratio = 0;
	int splitIndex = 0;  //åˆ‡å‰²å¤„çš„ç´¢å¼•
	for (int i = 0; i &lt; length; i++)
	{
		ratio = ratio + double(charFr[i].frequency / NumOfCharf);
		if (ratio &gt; 0.5)
		{
			if (i &gt; 0)
			{
				splitIndex = i - 1;
				break;
			}
			else
			{
				splitIndex = i;
				break;
			}
			
		}
	}
	for (int i = 0; i &lt; splitIndex + 1; i++)
	{
		charFr1.push_back(charFr[i]);
	}
	for (int i = splitIndex + 1; i &lt; charFr.size(); i++)
	{
		charFr2.push_back(charFr[i]);
	}
}
void  Fano::GetFanoCode(FanoNode* root, int depth)
{
	static char code[512];
	//Ã…ÃÂ¶ÃÃ—Ã³Â¶Ã¹Ã—Ã“
	if (root-&gt;Lchild != NULL)
	{
		code[depth] = '0';
		code[depth + 1] = '\0';
		GetFanoCode(root-&gt;Lchild, depth + 1);
	}
	if (root-&gt;Rchild != NULL)
	{
		code[depth] = '1';
		code[depth + 1] = '\0';
		GetFanoCode(root-&gt;Rchild, depth + 1);
	}
	else
	{
		FanoCode insertCode;
		int codelength = 0;
		for (int i = 0; i &lt; charFrequency.size(); i++)
		{
			if (root-&gt;value == charFrequency[i].value)
			{
				insertCode.code = code;
				insertCode.value = charFrequency[i].value;
				insertCode.frequency = charFrequency[i].frequency;
			}
		}
		for (int j = 0; code[j] != '\0'; j++)
		{
			codelength++;
		}
		insertCode.codelen = codelength;
		FanoCodeVec.push_back(insertCode);
	}
}
void Fano::WriteCode(vector&lt;FanoCode&gt; HFCode)
{
	//è¯»å–æ–‡ä»¶å¹¶å†™å…¥æ•°æ®
	int codeNum = HFCode.size();
	string address = fileAddress;
	ofstream writecode;
	ifstream read;
	read.open(address, ios::in | ios::binary);   //ä»¥äºŒè¿›åˆ¶æ–¹å¼è¯»å–
	writecode.open(address + ".dada", ios::out | ios::binary);   //ä»¥äºŒè¿›åˆ¶æ–¹å¼å†™å…¥
	unsigned char *now = new unsigned char; //å­˜å‚¨å­—ç¬¦å€¼
	unsigned char save = 0;  //ä¿å­˜å½“å‰å­—ç¬¦
	int len = 0;
	long int totalLen = 0; //æ€»é•¿
	int last; //ç»“å°¾å­—ç¬¦é•¿åº¦

	for (int i = 0; i &lt; HFCode.size(); i++)
	{
		totalLen = totalLen + HFCode[i].codelen;
	}
	last = totalLen % 8;
	//
	char head = '&gt;';
	writecode.write((char*)&amp;head, sizeof(char));
	writecode.write((char *)&amp;codeNum, sizeof(int));
	writecode.write((char *)&amp; last, sizeof(int));  //ÃÂ´ÃˆÃ«Ã—Ã®ÂºÃ³Ã’Â»Â´ÃÃÂ´ÃˆÃ«ÂµÃ„ÃÂ»ÃŠÃ½
	for (int i = 0; i &lt; codeNum; i++)
	{    //ÃÂ´ÃˆÃ«Ã—Ã–Â·Ã»Ã–ÂµÂºÃÃ†ÂµÃŠÃ½
		writecode.write((char*)&amp;HFCode[i].value, sizeof(HFCode[i].value));
		writecode.write((char*)&amp;HFCode[i].frequency, sizeof(HFCode[i].frequency));
	}
	//read.read((char*)now, 1);
	read.read((char*)now, sizeof(unsigned char));
	while (!read.eof())
	{
		int flag = 0;
		for (int i = 0; i &lt; HFCode.size(); i++)
		{
			if (*now == HFCode[i].value)
			{
				flag = 1;
				for (int j = 0; j &lt; HFCode[i].codelen; j++)
				{
					if (len != 0)
						save = save &lt;&lt; 1;
					save = save | (HFCode[i].code[j] - '0');
					len++;
					if (len == 8)
					{
						writecode.write((char *)&amp;save, sizeof(unsigned char));
						save = 0;
						len = 0;
					}
				}

			}
		}
		if (flag == 0)
		{
			cout &lt;&lt; *now &lt;&lt; "æ²¡æœ‰æ‰¾åˆ°è¯¥å­—ç¬¦å±æ€§" &lt;&lt; endl;
		}
		read.read((char*)now, sizeof(unsigned char));
		//*now = read.get();
	}
	if (len != 0)
	{
		writecode.write((char*)&amp;save, sizeof(unsigned char));
	}
	read.close();
	writecode.close();
}
void Fano::Decode(string sourcefile, string dstfile)
{
	ifstream read;
	ofstream write;
	vector&lt;CountVector&gt; arr;
	unsigned char now;  //è¯»å–çš„å½“å‰å­—ç¬¦
	int last = 0;   //æœ€åä¸€æ¬¡è¯»å–çš„ä½æ•°
	int n; //å­—ç¬¦ç§æ•°
	read.open(sourcefile, ios::in | ios::binary);  //è¯»å–è§£ç æ–‡ä»¶
	write.open(dstfile, ios::out | ios::binary); //æ‰“å¼€è§£ç åçš„æ–‡ä»¶
	read.read((char*)&amp;now, sizeof(now));
	if (!(now == '&gt;'))
	{
		cout &lt;&lt; "è¯¥æ–‡ä»¶çš„Huffmanç¼–ç æ ¼å¼ä¸æ­£ç¡®" &lt;&lt; endl &lt;&lt; endl;
		read.close();
		return;
	}
	read.read((char*)&amp;n, sizeof(int));
	read.read((char*)&amp;last, sizeof(last));

	for (int i = 0; i &lt; n; i++)
	{
		CountVector *insert = new CountVector;

		read.read((char*)&amp;(insert-&gt;value), sizeof(unsigned char));
		read.read((char*)&amp;(insert-&gt;frequency), sizeof(int));
		arr.push_back(*insert);
	}
	this-&gt;root = new FanoNode;
	CreateTree(arr, root);
	GetFanoCode(root, 0);
	FanoNode *pNow = root;
	unsigned char *temp = new unsigned char; //æ¯æ¬¡è¯»ä¸€ä¸ªå­—èŠ‚
	read.read((char*)temp, sizeof(unsigned char));
	while (!read.eof())
	{
		unsigned char *ifLast = new unsigned char; //ç”¨äºåˆ¤æ–­æ˜¯å¦è¯»åˆ°æ–‡ä»¶æœ«å°¾
		read.read((char*)ifLast, sizeof(unsigned char));
		int i;
		if (read.eof())
		{
			i = last - 1;
		}
		else
		{
			i = 7;
		}
		for (; i &gt;= 0; i--)
		{
			if ((*temp &gt;&gt; i &amp; 1) == 0)   //å‘å³ç§»åŠ¨7ä½åˆ¤æ–­è¯»å‡ºçš„æ˜¯0 è¿˜æ˜¯1 
				pNow = pNow-&gt;Lchild;
			else
				pNow = pNow-&gt;Rchild;
			if (pNow-&gt;Lchild == NULL &amp;&amp; pNow-&gt;Rchild == NULL)
			{
				write.write((char*)&amp;(pNow-&gt;value), sizeof(unsigned char));
				pNow = root;
			}
		}
		temp = ifLast;
	}
	read.close();
	write.close();
}
</code></pre> 
<p><strong>Fano.cpp</strong></p> 
<pre><code>#include "fano.h"
#include &lt;string&gt;
#include &lt;time.h&gt;
int main()
{
	string filepath;
	cout &lt;&lt; "è¯·è¾“å…¥å¾…å‹ç¼©æ–‡ä»¶çš„åœ°å€" &lt;&lt; endl &lt;&lt; endl;
	getline(cin, filepath);
	clock_t start, end;
	start = clock();
	/*
	Fano myFano;
	myFano.open(filepath);
	myFano.count();
	myFano.root = new Fano::FanoNode;
	myFano.CreateTree(myFano.charFrequency, myFano.root);
	myFano.GetFanoCode(myFano.root, 0);
	myFano.WriteCode(myFano.FanoCodeVec);
	end = clock();
	cout &lt;&lt; "å‹ç¼©æ–‡ä»¶ç”¨æ—¶ï¼š" &lt;&lt; double((end - start) / CLOCKS_PER_SEC) &lt;&lt; "/s" &lt;&lt; endl;
	*/
	Fano myfanoDecode;
	myfanoDecode.open(filepath);
	myfanoDecode.Decode(filepath + ".dada", "./Result/ " + filepath);
	end = clock();
	cout &lt;&lt; "è§£å‹æ–‡ä»¶ç”¨æ—¶:" &lt;&lt; double((start - end) / CLOCKS_PER_SEC) &lt;&lt; "/s" &lt;&lt; endl;
	getchar();

}
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d79ef7d1b2cf1dd60a688bf3b4056e8b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Eclipse_SVNæ–‡ä»¶å†²çªã€æ ‡è®°ä¸ºåˆå¹¶</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db7ad391d660fc3ccf879c73463d32a2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">set&#43; vectorçš„è¯¦è§£åŠç”¨æ³•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>