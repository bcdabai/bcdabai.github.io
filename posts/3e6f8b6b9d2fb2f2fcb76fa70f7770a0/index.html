<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Docker】docker部署springboot项目 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Docker】docker部署springboot项目" />
<meta property="og:description" content="1.打jar包 jar包的位置
2.编写Dockerfile文件 FROM openjdk:8 //使用jdk8，没有会自动给你下载 RUN apt-get update &amp;&amp; apt-get install iputils-ping -y //给容器安装ping命令 ADD pansh-demo(2).jar app.jar //构建的镜像时，把宿主机的文件添加到镜像中 CMD [&#34;--server.port=8088&#34;] //容器启动时运行的命令 EXPOSE 8088	//暴露端口8088 ENTRYPOINT [&#34;java&#34;,&#34;jar&#34;,&#34;/app.jar&#34;] //容器启动时运行的命令 3.把Dockerfile文件和jar包文件放到linux文件夹下 Xshell和XFTP的使用详解 这篇文章写了怎么把文件放到你的linux目录下。
4.构建镜像 $ sudo docker build -t vpx . //构建镜像(需要在你的Dockerfile目录下) 注意最后有一个 点 5.构建成功 $ sudo docker images //查看镜像 如果构建发现这个错误：
manifest for java:8 not found: manifest unknown: manifest unknown ，没有找到对应的jdk 把Dockerfile文件里面的 FROM java:8 改为 FROM openjdk:8
6.发布运行 $ sudo docker run -d -P --name 自定义项目名字 镜像名字 //运行镜像 $ sudo docker ps -a //查看全部运行容器 $ sudo docker logs -f 容器id	//查看容器运行日志(如果运行失败那就去这里看) 如果日志报以下错误：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3e6f8b6b9d2fb2f2fcb76fa70f7770a0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-14T14:32:34+08:00" />
<meta property="article:modified_time" content="2023-03-14T14:32:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Docker】docker部署springboot项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1jar_0"></a>1.打jar包</h3> 
<p><img src="https://images2.imgbox.com/17/3e/Hnt8Mxpi_o.png" alt="在这里插入图片描述"></p> 
<p><strong>jar包的位置</strong></p> 
<p><img src="https://images2.imgbox.com/b8/f2/TQ2ZqnmJ_o.png" alt="在这里插入图片描述"><br> <br></p> 
<h3><a id="2Dockerfile_7"></a>2.编写Dockerfile文件</h3> 
<pre><code class="prism language-xml">FROM openjdk:8                                          //使用jdk8，没有会自动给你下载

RUN apt-get update &amp;&amp; apt-get install iputils-ping -y   //给容器安装ping命令

ADD pansh-demo(2).jar app.jar                                   //构建的镜像时，把宿主机的文件添加到镜像中

CMD ["--server.port=8088"]                              //容器启动时运行的命令

EXPOSE 8088								                //暴露端口8088

ENTRYPOINT ["java","jar","/app.jar"]                    //容器启动时运行的命令

</code></pre> 
<br> 
<h3><a id="3Dockerfilejarlinux_27"></a>3.把Dockerfile文件和jar包文件放到linux文件夹下</h3> 
<p><a href="https://editor.csdn.net/md/?articleId=127835458" rel="nofollow"><br> Xshell和XFTP的使用详解</a> 这篇文章写了怎么把文件放到你的linux目录下。</p> 
<p><img src="https://images2.imgbox.com/42/b8/iff4kz9i_o.png" alt="在这里插入图片描述"><br> <br></p> 
<h3><a id="4_35"></a>4.构建镜像</h3> 
<pre><code class="prism language-xml">$ sudo docker build -t vpx .  //构建镜像(需要在你的Dockerfile目录下)
</code></pre> 
<h2><a id="_font_colorredfonthttpsimgblogcsdnimgcn5217b1f6ff764430a11ea9dc62c90ce7png_40"></a>注意最后有一个 <font color="red">点</font><img src="https://images2.imgbox.com/c9/41/NJjNpGib_o.png" alt="在这里插入图片描述"></h2> 
<br> 
<h3><a id="5_43"></a>5.构建成功</h3> 
<pre><code class="prism language-xml">$ sudo docker images  //查看镜像
</code></pre> 
<p><img src="https://images2.imgbox.com/3f/9c/IgZgvBHK_o.png" alt="在这里插入图片描述"></p> 
<p>如果构建发现这个错误：</p> 
<pre><code class="prism language-xml">manifest for java:8 not found: manifest unknown: manifest unknown ，没有找到对应的jdk
</code></pre> 
<p>把Dockerfile文件里面的 <code>FROM java:8</code> 改为 <code>FROM openjdk:8</code><br> <br></p> 
<h3><a id="6_58"></a>6.发布运行</h3> 
<pre><code class="prism language-xml">$ sudo docker run -d -P --name 自定义项目名字 镜像名字  //运行镜像
$ sudo docker ps -a                                   //查看全部运行容器
$ sudo docker logs -f 容器id						  //查看容器运行日志(如果运行失败那就去这里看)
</code></pre> 
<p>如果日志报以下错误：</p> 
<pre><code class="prism language-xml">thread "main" java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/JarLauncher，jdk的版本不一致，你改到你项目对应的jdk就ok。
</code></pre> 
<p><img src="https://images2.imgbox.com/07/67/mKt7zEwC_o.png" alt="在这里插入图片描述"></p> 
<p>使用 <code>$ curl localhost:49163</code> 测试你的java项目有么有成功启动，你自己访问你后台路径也是可以的。</p> 
<p><img src="https://images2.imgbox.com/e9/6a/S1H6Ypw7_o.png" alt="在这里插入图片描述"><br> 怎么在外部访问你的项目呢</p> 
<p><strong>ip + 端口</strong> ： ip是你虚拟机的地址 ，端口是你映射出去的端口</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e418b3bad0990ad46ebdfa8c9bc6ea9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VI/VIM批量删除</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c41cb4bf29f6c61bf47e822c466bbd51/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OSPF协议介绍❶(数据包、链路状态数据结构、工作过程的七个状态、三张相关表、网络类型)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>