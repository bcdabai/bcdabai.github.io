<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>QCustomplot（五）QCPAxisRect进行子绘图 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="QCustomplot（五）QCPAxisRect进行子绘图" />
<meta property="og:description" content="子绘图是比较复杂的，你几乎需要掌握QCustomPlot所有类及其含义。那么需要掌握的类有：
QCPAxis 描述轴行为，轴需要依赖QCPAxisRectQCPAxisRect 描述矩形区域，区域依赖于QCPCustomPlotQCPLayoutGrid 网格形排列矩形区域，类似于QGridLayoutQCustomPlot 默认行为及对象QLegend 图例 一、QCPAxis 轴对象 1.1 构造 QCPAxis::QCPAxis (QCPAxisRect * parent, AxisType type); 可以看出QCPAxis依赖与QCPAxisRect对象的，关于第二个参数enum QCPAxis::AxisType，就是表明其在矩形中的位置：
枚举类型编号含义atLeft0x01Axis is vertical and on the left side of the axis rectatRight0x02Axis is vertical and on the right side of the axis rectatTop0x04Axis is horizontal and on the top side of the axis rectatBottom0x08Axis is horizontal and on the bottom side of the axis rect 1.2 可以设置哪些内容？ 构造时用到的两个参数对象是可以返回的：
AxisType axisType () const QCPAxisRect * axisRect () const 关于网格有以下内容可供设置：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/018d2af7cc8199199e5fe6d376c106ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-16T10:41:09+08:00" />
<meta property="article:modified_time" content="2022-09-16T10:41:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">QCustomplot（五）QCPAxisRect进行子绘图</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>子绘图是比较复杂的，你几乎需要掌握QCustomPlot所有类及其含义。那么需要掌握的类有：</p> 
<ul><li>QCPAxis 描述轴行为，轴需要依赖QCPAxisRect</li><li>QCPAxisRect 描述矩形区域，区域依赖于QCPCustomPlot</li><li>QCPLayoutGrid 网格形排列矩形区域，类似于QGridLayout</li><li>QCustomPlot 默认行为及对象</li><li>QLegend 图例</li></ul> 
<p><img src="https://images2.imgbox.com/7e/61/tMyk03UM_o.png" alt="1"></p> 
<h4><a id="QCPAxis__9"></a>一、QCPAxis 轴对象</h4> 
<h5><a id="11__10"></a>1.1 构造</h5> 
<pre><code class="prism language-cpp"><span class="token class-name">QCPAxis</span><span class="token double-colon punctuation">::</span><span class="token function">QCPAxis</span> <span class="token punctuation">(</span>QCPAxisRect <span class="token operator">*</span> parent<span class="token punctuation">,</span> AxisType type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>可以看出QCPAxis依赖与QCPAxisRect对象的，关于第二个参数<code>enum QCPAxis::AxisType</code>，就是表明其在矩形中的位置：</p> 
<table><thead><tr><th>枚举类型</th><th>编号</th><th>含义</th></tr></thead><tbody><tr><td>atLeft</td><td>0x01</td><td>Axis is vertical and on the left side of the axis rect</td></tr><tr><td>atRight</td><td>0x02</td><td>Axis is vertical and on the right side of the axis rect</td></tr><tr><td>atTop</td><td>0x04</td><td>Axis is horizontal and on the top side of the axis rect</td></tr><tr><td>atBottom</td><td>0x08</td><td>Axis is horizontal and on the bottom side of the axis rect</td></tr></tbody></table> 
<h5><a id="12__22"></a>1.2 可以设置哪些内容？</h5> 
<p>构造时用到的两个参数对象是可以返回的：</p> 
<pre><code class="prism language-cpp">AxisType <span class="token function">axisType</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
QCPAxisRect <span class="token operator">*</span> <span class="token function">axisRect</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
</code></pre> 
<p>关于网格有以下内容可供设置：<br> <img src="https://images2.imgbox.com/9c/db/I2IlBRGd_o.png" alt="2"><br> 关于留白，有以下内容可供设置：<br> <img src="https://images2.imgbox.com/33/d6/0Tko7sOd_o.png" alt="1"></p> 
<h4><a id="QCPAxisRec__32"></a>二、QCPAxisRec 矩形区域</h4> 
<p>QCPAxisRect是多个轴围成的一个矩形区域，也就是坐标轴，其构造方法如下：</p> 
<pre><code class="prism language-cpp"><span class="token function">QCPAxisRect</span> <span class="token punctuation">(</span>QCustomPlot <span class="token operator">*</span>parentPlot<span class="token punctuation">,</span> <span class="token keyword">bool</span> setupDefaultAxes<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>第一个参数是父对象QCustomplot，第二个参数是否设置默认轴（四个轴，但是只显示左下）。构造函数告诉我们，QCPAxisRec必须依赖与一个父对象QCustomPlot。</p> 
<h5><a id="21_SetFullAxesBox__38"></a>2.1 SetFullAxesBox 设置完全矩形区域</h5> 
<p>这个函数为一个矩形区域设置四个默认坐标轴，上下和左右的轴属性完全一样；Tick Label左右默认不显示。</p> 
<h5><a id="22_addAxisaddAxes__41"></a>2.2 addAxis和addAxes 添加一个轴</h5> 
<pre><code class="prism language-cpp">QCPAxis <span class="token operator">*</span> <span class="token class-name">QCPAxisRect</span><span class="token double-colon punctuation">::</span><span class="token function">addAxis</span> <span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>AxisType type<span class="token punctuation">,</span> QCPAxis <span class="token operator">*</span> axis <span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QList<span class="token operator">&lt;</span>QCPAxis <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token class-name">QCPAxisRect</span><span class="token double-colon punctuation">::</span><span class="token function">addAxes</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>AxisTypes types<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>addAxis函数将往矩形区域特定位置添加一个轴（上下左右），第二个参数是一个QCPAxis对象指针，</p> 
<ul><li>轴由内部创建。axis 为空指针，表示由内部创建并维护这个轴的生命周期，请不要直接delete返回的轴指针，而是使用removeAxis删除；</li><li>轴是外部实例。axis为指向实例的指针，表示这个轴是用户自行创建的，注意轴类型应该与自行创建的时候一致，否则轴将会添加失败；此外，不应该多次添加同一个轴实例。</li></ul> 
<p><strong>无论是内部还是外部，轴生命周期都由QCustomPlot控制，同一个位置可以添加多个轴。</strong></p> 
<h5><a id="23_axis_axes__52"></a>2.3 axis 、axes 方法选取轴实例</h5> 
<ul><li>特定位置轴个数：<code>int QCPAxisRect::axisCount(QCPAxis type) const</code>返回，</li><li>选择某个轴实例可以通过<code>QCPAxis *QCPAxisRect::axis(QCPAxis::AxisType type,int index=0) const</code></li><li>所有轴实例：<code>QList&lt;QCPAxis *&gt; QCPAxisRect::axes(QCPAxis::AxisType types)const</code><br> <code>QList&lt;QCPAxis * &gt; QCPAxisRect::axes ( ) const</code></li></ul> 
<p>那么选取轴实例有什么用呢？答：可以控制轴标签、tick等属性</p> 
<h5><a id="23_removeAxis__60"></a>2.3 removeAxis 移除特定轴</h5> 
<p>添加好的轴可以通过<code>bool QCPAxisRect:removeAxis(QCPAxis *axis)</code></p> 
<h4><a id="QCPLayoutGrid___63"></a>三、QCPLayoutGrid 将坐标轴按网格排列</h4> 
<p>什么是网格布局？网格布局就是将一个子元素按照网格的形状排列。元素对象有：<br> <img src="https://images2.imgbox.com/c0/48/PT3hdrUM_o.png" alt="2"></p> 
<h5><a id="31_QCPLayoutGrid_66"></a>3.1 构造一个QCPLayoutGrid</h5> 
<pre><code class="prism language-cpp"><span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">QCPLayoutGrid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>成员函数rowCount和columnCount可以返回当前布局行和列个数。</p> 
<h5><a id="32_addElement__72"></a>3.2 addElement 增加一个元素</h5> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">addElement</span><span class="token punctuation">(</span>QCPLayoutElement <span class="token operator">*</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> column<span class="token punctuation">,</span>QCPLayoutElement <span class="token operator">*</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>向布局中增加一个元素，如果对应行列不存在将会扩展它。</p> 
<h5><a id="33_element_hasElement__79"></a>3.3 element hasElement 获取一个元素</h5> 
<pre><code class="prism language-cpp">QCPLayoutElement <span class="token operator">*</span> <span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> column<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">hasElement</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token punctuation">,</span><span class="token keyword">int</span> column<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="32_simplifyExpandTo__85"></a>3.2 simplify、ExpandTo 合并和扩充</h5> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">QCPLayoutGrid</span><span class="token double-colon punctuation">::</span><span class="token function">expandTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> newRowCount<span class="token punctuation">,</span><span class="token keyword">int</span> <span class="token keyword">new</span> ColumnCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">simplify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="QCPLayer__90"></a>四、QCPLayer 图层</h4> 
<h5><a id="41_QCPLayerQCPLayerable_91"></a>4.1 QCPLayer和QCPLayerable</h5> 
<p>Layer是可能包含对象的、控制渲染顺序的对象。对于QCustomPlot对象内部具有一个渲染顺序列表，在绘制时将会连续画出QCPLayerable对象。</p> 
<p>QCPLayer包含有序的QCPLayerable对象，QCPLayerable是所有可见对象的基类，如：axes、grids、graph和item等。</p> 
<h5><a id="42__96"></a>4.2 默认图层</h5> 
<p>背景层、网格层、主层、坐标轴层、图例层和矩形选择区域层。</p> 
<p>默认情况下，QCustomPlot有六个图层，分别是：“background” “grid” “main” “axes” “legend”和“overlay”（注意顺序）。最先绘制的是“overlay”层，它只包含QCustomPlot选中的矩形（QCustomPlot::selectionRect），往后分别是“axes”和“legend”，表示默认轴和图示，在中间，有一个“main”层，它默认不含任何东西且为默认图层（QCustomPlot::setCurrentLayer）。这也就意味着所有可绘制的对象将会默认在此层，接着是QCPGrid对象（与QCPAxis紧密相连）。轴矩形区域应该绘制在所有图层后边，以便显示数据内容，因此QCPAxisRect实例被放在"background"层，当然你可以设置每个对象所在的图层（QCPLayerable::setLayer）。</p> 
<h5><a id="43__101"></a>4.3 控制图层渲染顺序</h5> 
<p>在绘制时控制图层非常简单：使用QCustomPlot::addLayer方法创建一个指定层的图层，如在“main”上层，然后用QCustomPlot::setCurrentLayer设置设置为你刚刚创建的图层，接下来的事情，只需要和往常一样创建图层上的对象即可，因为你设置了当前图层，所以对象都将会放置在该图层。如果你觉得比较麻烦，可以创建出了图层之后直接使用QCPLayer::setLayer将所有对象放在指定图层。你甚至可以移动整个图层的内容，方法是QCustomPlot::moveLayer。在同一图层内点的对象是覆盖形式的，删除一个图层不会删除对应的的对象QCustomPlot::removeLayer。</p> 
<h4><a id="QCPLegend__104"></a>五、QCPLegend 图例</h4> 
<p>该对象管理了一个QCustomPlot的一个图例。它是一个小的Box区域，包含名称和图标。通过QCPAbstarctPlottable::adddToLegend来填充QCPLegend内容，对于主图示（QCustomPlot::legend）仅需设置QCustomPlot::setAutoAddPlottableToLegend为true（默认行为）就可以自动创建一些legend项，legend是一个与特定可绘制对象相关的对象，可以被QCPAbstractPlottable::removeFromLegend去除。</p> 
<p>此外，QCPLegend提供了一些接口增加和直接管理这些legend：item、itemWithPlottable、itemCount、addItem、removeItem等。因为QCPLegend是从QCPLayoutGrid继承而来的，因此通过对象QCPLayoutElement可以将legend添加到任意位置，legend是QCPLayoutElement的元素，默认情况下每一个QCustomPlot只有一个legend（QCustomPlot::legend），表示主轴的内嵌布局中（QCPAxisRect::insetLayout），你可以通过QCPLayoutInset实现在矩形区域移动，使用QCPLayout/QCPLayoutElement接口实现矩形外移动。</p> 
<h4><a id="_110"></a>六、子绘图实例</h4> 
<p>终于看完了QCPAxis、QCPAxisRect和QCPLayoutGrid，最后补充一些QCustomPlot本身的一些方法就可以进行子绘图了：</p> 
<pre><code class="prism language-cpp">QCPGraph <span class="token operator">*</span><span class="token function">addGraph</span><span class="token punctuation">(</span>QCPAxis <span class="token operator">*</span>keyAxis<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">,</span>QCPAxis <span class="token operator">*</span>valueAxis<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//默认是左下两个轴，你也可以指定特定的轴</span>
QCPGraph <span class="token operator">*</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span><span class="token punctuation">;</span>
QCPGraph <span class="token operator">*</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token function">removeGraph</span><span class="token punctuation">(</span>QCPGraph <span class="token operator">*</span> graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token function">removeGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">bool</span> <span class="token function">clearGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">graphCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">;</span>
QCPLayoutGrid <span class="token operator">*</span> <span class="token class-name">QCustomPlot</span><span class="token double-colon punctuation">::</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span><span class="token punctuation">;</span><span class="token comment">//返回顶层QCustomPlot的布局，通常内容只是一个矩形区域</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token comment">//Generate data</span>
QVector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> x<span class="token punctuation">,</span>ys<span class="token punctuation">,</span>yc<span class="token punctuation">,</span>y_cs<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">double</span> xi<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span>M_PI<span class="token punctuation">;</span>xi<span class="token operator">&lt;</span><span class="token number">2</span><span class="token operator">*</span>M_PI<span class="token punctuation">;</span>xi<span class="token operator">+=</span><span class="token number">0.1</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    x<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>xi<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ys<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>xi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    yc<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>xi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    y_cs<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>xi<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">cos</span><span class="token punctuation">(</span>xi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Create Rectangle Area and add to QCustomplot</span>
QCPAxisRect <span class="token operator">*</span> R00<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QCPAxisRect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token punctuation">)</span><span class="token punctuation">;</span>
QCPAxisRect <span class="token operator">*</span> R10<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QCPAxisRect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token punctuation">)</span><span class="token punctuation">;</span>
QCPAxisRect <span class="token operator">*</span> R20<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">QCPAxisRect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>R00<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>R10<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">plotLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>R20<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Draw graphs with data</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>R00<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atBottom<span class="token punctuation">)</span><span class="token punctuation">,</span>R00<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atLeft<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>R10<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atBottom<span class="token punctuation">)</span><span class="token punctuation">,</span>R10<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atLeft<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">addGraph</span><span class="token punctuation">(</span>R20<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atBottom<span class="token punctuation">)</span><span class="token punctuation">,</span>R20<span class="token operator">-&gt;</span><span class="token function">axis</span><span class="token punctuation">(</span>QCPAxis<span class="token double-colon punctuation">::</span>atLeft<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>ys<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"y=sin(x)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>yc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"y=cos(x)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_cs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">rescaleAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"y=cos(x)+sin(x)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Add Legends</span>
QCPLegend <span class="token operator">*</span>arLegend00<span class="token operator">=</span><span class="token keyword">new</span> QCPLegend<span class="token punctuation">;</span>
R00<span class="token operator">-&gt;</span><span class="token function">insetLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span>arLegend00<span class="token punctuation">,</span>Qt<span class="token double-colon punctuation">::</span>AlignTop<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>AlignRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend00<span class="token operator">-&gt;</span><span class="token function">setLayer</span><span class="token punctuation">(</span><span class="token string">"legend"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend00<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">QCPPlottableLegendItem</span><span class="token punctuation">(</span>arLegend00<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

QCPLegend <span class="token operator">*</span>arLegend10<span class="token operator">=</span><span class="token keyword">new</span> QCPLegend<span class="token punctuation">;</span>
R10<span class="token operator">-&gt;</span><span class="token function">insetLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span>arLegend10<span class="token punctuation">,</span>Qt<span class="token double-colon punctuation">::</span>AlignTop<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>AlignRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend10<span class="token operator">-&gt;</span><span class="token function">setLayer</span><span class="token punctuation">(</span><span class="token string">"legend"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend10<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">QCPPlottableLegendItem</span><span class="token punctuation">(</span>arLegend10<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

QCPLegend <span class="token operator">*</span>arLegend20<span class="token operator">=</span><span class="token keyword">new</span> QCPLegend<span class="token punctuation">;</span>
R20<span class="token operator">-&gt;</span><span class="token function">insetLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">addElement</span><span class="token punctuation">(</span>arLegend20<span class="token punctuation">,</span>Qt<span class="token double-colon punctuation">::</span>AlignTop<span class="token operator">|</span>Qt<span class="token double-colon punctuation">::</span>AlignRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend20<span class="token operator">-&gt;</span><span class="token function">setLayer</span><span class="token punctuation">(</span><span class="token string">"legend"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arLegend20<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">QCPPlottableLegendItem</span><span class="token punctuation">(</span>arLegend20<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>ui<span class="token operator">-&gt;</span>qcust_curve<span class="token operator">-&gt;</span><span class="token function">graph</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/04/80/HAaSCOo4_o.png" alt="1"></p> 
<hr> 
<p>[1] https://www.qcustomplot.com/index.php/support/forum/314</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9dfa649a8b94f59833519aa913d143c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring事务源码详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/64942e384e2cd65e739a62abc7c8c3e1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">防爆认证书那几个字母代表什么意思呢？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>