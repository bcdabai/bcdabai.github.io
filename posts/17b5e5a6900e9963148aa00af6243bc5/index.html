<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux之Shell脚本编程入门 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux之Shell脚本编程入门" />
<meta property="og:description" content="Linux之Shell脚本编程入门 文章目录 Linux之Shell脚本编程入门Shell脚本编程入门1. 脚本格式2. 第一个Shell脚本：hello World3.第二个 shell脚本：duo命令处理4. shell中变量4.1 常用系统变量4.2 自定义变量4.3 特殊字符: $n4.4 特殊变量: $#4.5 特殊变量: ∗ 与 *与 ∗与@4.6 特殊变量: $? 5. 运算符5.1 基本语法5.2 实操案例 6. 条件判断6.1 基本语法6.2 常用判断条件6.3 实操案例 7.流程控制7.1 if 判断7.2 case 语句7.3 for循环7.4 while 循环7.5 read读取控制台输入 What is Shell？
Shell是一个命令行解释器，它接收应用程序/用户命令，然后调用系统操作内核。
Shell还是一个功能相当强大的编程语言，易编写、易调试、灵活性强。
Shell脚本编程入门 查看Linux系统已提供的shell解释器 cat /etc/shells 查看当前系统使用的默认shell解释器 echo $SHELL 1. 脚本格式 脚本一**#！/bin/bash**开头(指定解析器)
2. 第一个Shell脚本：hello World # 1. touch hello.sh # 2.vim hello.sh # 3.输入下面内容 #！/bin/bash echo &#34;Hello World!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/17b5e5a6900e9963148aa00af6243bc5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-19T08:25:55+08:00" />
<meta property="article:modified_time" content="2024-01-19T08:25:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux之Shell脚本编程入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="LinuxShell_0"></a>Linux之Shell脚本编程入门</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#LinuxShell_0" rel="nofollow">Linux之Shell脚本编程入门</a></li><li><a href="#Shell_8" rel="nofollow">Shell脚本编程入门</a></li><li><ul><li><a href="#1__22" rel="nofollow">1. 脚本格式</a></li><li><a href="#2_Shellhello_World_26" rel="nofollow">2. 第一个Shell脚本：hello World</a></li><li><a href="#3_shellduo_62" rel="nofollow">3.第二个 shell脚本：duo命令处理</a></li><li><a href="#4_shell_75" rel="nofollow">4. shell中变量</a></li><li><ul><li><a href="#41__77" rel="nofollow">4.1 常用系统变量</a></li><li><a href="#42__93" rel="nofollow">4.2 自定义变量</a></li><li><a href="#43__n_137" rel="nofollow">4.3 特殊字符: $n</a></li><li><a href="#44___161" rel="nofollow">4.4 特殊变量: $#</a></li><li><a href="#45___188" rel="nofollow">4.5 特殊变量: <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
          
           
            
            
              ∗ 
             
            
              与 
             
            
           
             *与 
            
           
         </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">∗</span><span class="mord cjk_fallback">与</span></span></span></span></span>@</a></li><li><a href="#46___214" rel="nofollow">4.6 特殊变量: $?</a></li></ul> 
   </li><li><a href="#5__234" rel="nofollow">5. 运算符</a></li><li><ul><li><a href="#51__236" rel="nofollow">5.1 基本语法</a></li><li><a href="#52__242" rel="nofollow">5.2 实操案例</a></li></ul> 
   </li><li><a href="#6__289" rel="nofollow">6. 条件判断</a></li><li><ul><li><a href="#61__291" rel="nofollow">6.1 基本语法</a></li><li><a href="#62__297" rel="nofollow">6.2 常用判断条件</a></li><li><a href="#63__327" rel="nofollow">6.3 实操案例</a></li></ul> 
   </li><li><a href="#7_400" rel="nofollow">7.流程控制</a></li><li><ul><li><a href="#71_if__402" rel="nofollow">7.1 if 判断</a></li><li><a href="#72_case__464" rel="nofollow">7.2 case 语句</a></li><li><a href="#73_for_503" rel="nofollow">7.3 for循环</a></li><li><a href="#74_while__629" rel="nofollow">7.4 while 循环</a></li><li><a href="#75_read_663" rel="nofollow">7.5 read读取控制台输入</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>What is Shell？</p> 
 <p>Shell是一个<strong>命令行解释器</strong>，它接收应用程序/用户命令，然后调用系统操作内核。</p> 
 <p>Shell还是一个功能相当强大的编程语言，易编写、易调试、灵活性强。</p> 
</blockquote> 
<h2><a id="Shell_8"></a>Shell脚本编程入门</h2> 
<ol><li>查看Linux系统已提供的shell解释器</li></ol> 
<pre><code class="prism language-sh"><span class="token function">cat</span> /etc/shells
</code></pre> 
<ol start="2"><li>查看当前系统使用的默认shell解释器</li></ol> 
<pre><code class="prism language-sh"><span class="token builtin class-name">echo</span> <span class="token environment constant">$SHELL</span>
</code></pre> 
<h3><a id="1__22"></a>1. 脚本格式</h3> 
<p>脚本一**#！/bin/bash**开头(指定解析器)</p> 
<h3><a id="2_Shellhello_World_26"></a>2. 第一个Shell脚本：hello World</h3> 
<pre><code class="prism language-sh"><span class="token comment"># 1. touch hello.sh</span>

<span class="token comment"># 2.vim hello.sh</span>

<span class="token comment"># 3.输入下面内容</span>
<span class="token comment">#！/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Hello World!"</span>

<span class="token comment">#4.执行hello.sh</span>
<span class="token function">sh</span> hello.sh 
<span class="token comment">#或 bash hello.sh</span>
<span class="token comment">#或使用绝对路径：</span>
<span class="token comment"># sh /home/myShell/hello.sh</span>
<span class="token comment"># bash /home/myShell/hello.sh</span>
<span class="token comment"># 5.打印结果</span>
Hello World<span class="token operator">!</span>

<span class="token comment">#6.使用./hello.sh 执行时提示权限不够</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># ./hello.sh</span>
-bash: ./hello.sh: 权限不够
<span class="token comment"># 6.1 授权</span>
<span class="token function">chmod</span> <span class="token number">777</span> hello.sh
<span class="token comment"># 6.2 再使用 ./ 执行hello.sh</span>
./hello.sh 
<span class="token comment">#或使用绝对路径，如下:</span>
/home/myShell/hello.sh 
</code></pre> 
<blockquote> 
 <p>为什么使用 <strong>sh 或bash</strong>执行shell脚本时不需要执行权限，而使用**./**执行shell脚本时需要执行权限呢？</p> 
 <ol><li>使用sh或bash时，本质时bash解析器帮你执行脚本，所以脚本本身不需要执行权限；</li><li>使用./执行shell时,本质是脚本需要自己执行，所有需要执行权限</li></ol> 
</blockquote> 
<h3><a id="3_shellduo_62"></a>3.第二个 shell脚本：duo命令处理</h3> 
<p>需求：创建一个shell脚本，本脚本可以在 /home/myShell/目录下建立test.txt文件,并向test.txt文件中增加“I love shell”;</p> 
<ol><li>创建一个名为“appendStr.sh”的shell脚本，内容如下：</li></ol> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">cd</span> /home/myShell/
<span class="token function">touch</span> test.txt
<span class="token builtin class-name">echo</span> <span class="token string">"I love shell"</span> <span class="token operator">&gt;&gt;</span> test.txt
</code></pre> 
<h3><a id="4_shell_75"></a>4. shell中变量</h3> 
<h4><a id="41__77"></a>4.1 常用系统变量</h4> 
<p>$HOME $PWD $ SHELL $USER等</p> 
<pre><code class="prism language-sh"><span class="token builtin class-name">echo</span> <span class="token environment constant">$HOME</span>

<span class="token builtin class-name">echo</span> <span class="token environment constant">$PWD</span>

<span class="token builtin class-name">echo</span> <span class="token environment constant">$SHELL</span>

<span class="token builtin class-name">echo</span> <span class="token environment constant">$USER</span>
</code></pre> 
<h4><a id="42__93"></a>4.2 自定义变量</h4> 
<ul><li>基本语法</li></ul> 
<ol><li>定义变量：变量名=值【注意：= 两边不能有空格】</li></ol> 
<pre><code class="prism language-sh"><span class="token comment"># 定义一个变量A，赋值为Ａ</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 取变量的值</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$A</span>
</code></pre> 
<ol start="2"><li>撤销变量：unset 变量名</li></ol> 
<pre><code class="prism language-she">unset A 
</code></pre> 
<ol start="3"><li>声明一个静态变量：readonly 变量名，注意：不能unset，重启系统后失效</li></ol> 
<pre><code class="prism language-shell"><span class="token builtin class-name">readonly</span> <span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token number">2</span>
</code></pre> 
<ul><li>定义变量的规则</li></ul> 
<ol><li> <p>变量名可以由字母、数字和下划线组成，但不能以数字开头，环境变量名建议大写；</p> </li><li> <p>赋值符号(=)两边不能有空格；</p> </li><li> <p>在bash,中变量默认类型都是字符串类型，无法直接进行数字运算；</p> </li><li> <p>变量的值如果有空格，需要使用双引号或单引号括起来,如下</p> </li></ol> 
<pre><code class="prism language-shell"><span class="token assign-left variable">D</span><span class="token operator">=</span><span class="token string">"I love shell"</span> 或  <span class="token assign-left variable">D</span><span class="token operator">=</span><span class="token string">'I love shell'</span>
</code></pre> 
<ol start="5"><li>可把变量提升为全局环境变量，可供其他Shell程序使用</li></ol> 
<pre><code class="prism language-shell"><span class="token builtin class-name">export</span> 变量名
</code></pre> 
<h4><a id="43__n_137"></a>4.3 特殊字符: $n</h4> 
<ol><li>基本语法</li></ol> 
<p>$n: n为数字，$0代表该脚本名称，$1-<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         9 
        
       
         代表第一个至第九个参数，十以上的参数需要用大括号括起来，如 
        
       
      
        9代表第一个至第九个参数，十以上的参数需要用大括号括起来，如 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">9</span><span class="mord cjk_fallback">代表第一个至第九个参数，十以上的参数需要用大括号括起来，如</span></span></span></span></span>{10}</p> 
<ul><li> <p>实操案例</p> </li><li> <p>输出该及爱哦本文件名称，输入参数1和输入参数2的值</p> </li></ul> 
<p>新建文件名为 paramaters.sh 的shell,内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$0</span>  <span class="token variable">$1</span>  <span class="token variable">$2</span>"</span>
</code></pre> 
<p>执行paramaters.sh</p> 
<pre><code class="prism language-sh"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh inputoutput.sh a b </span>
inputoutput.sh  a  b
</code></pre> 
<h4><a id="44___161"></a>4.4 特殊变量: $#</h4> 
<p>$#功能描述：获取所有输入参数的个数；如果定义了参数但为输入，则为0；常用与循环</p> 
<ul><li>实操案例</li></ul> 
<p>以paramaters.sh为例</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$0</span>  <span class="token variable">$1</span>  <span class="token variable">$2</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>

<span class="token comment"># 不输入参数的情况 </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh paramaters.sh </span>
inputoutput.sh    
<span class="token number">0</span>
<span class="token comment"># 输入参数的情况</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh paramaters.sh hello "this is shell"</span>
inputoutput.sh  hello  this is shell
<span class="token number">2</span>

<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh paramaters.sh hello "this is shell" world</span>
inputoutput.sh  hello  this is shell
<span class="token number">3</span>
</code></pre> 
<h4><a id="45___188"></a>4.5 特殊变量: <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ∗ 
        
       
         与 
        
       
      
        *与 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord">∗</span><span class="mord cjk_fallback">与</span></span></span></span></span>@</h4> 
<p><span class="katex--inline">KaTeX parse error: Undefined control sequence: \* at position 1: \̲*̲:这个变量代表命令行中所有的参…</span>*是把所有的参数看成一个整体；</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         @ 
        
       
         : 
        
       
         这个变量也代表命令行中所有的参数，但 
        
       
      
        @:这个变量也代表命令行中所有的参数，但 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">@</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord cjk_fallback">这个变量也代表命令行中所有的参数，但</span></span></span></span></span>@把每个参数区分对待</p> 
<ul><li>实操案例</li></ul> 
<pre><code class="prism language-shell"><span class="token comment">#  paramaters.sh 内容如下</span>
<span class="token comment">#!/bin/bashi-R4CM-srv myShell]# </span>
<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$0</span> <span class="token variable">$1</span> <span class="token variable">$2</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$*</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$@</span>

<span class="token comment"># 执行</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># bash paramaters.sh p1 p2 p3</span>
paramaters.sh p1 p2
<span class="token number">3</span>
p1 p2 p3   <span class="token comment"># $* 输出所有参数</span>
p1 p2 p3   <span class="token comment"># $@ 输出所有参数</span>
</code></pre> 
<h4><a id="46___214"></a>4.6 特殊变量: $?</h4> 
<p>$?: 最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0(具体是哪个参数，由命令自己来决定)，则证明上一个命令执行不正确</p> 
<ul><li>实操案例：</li></ul> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sss</span>
-bash: sss: 未找到命令
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">127</span> <span class="token comment">#未正确执行</span>

<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># ./hello.sh </span>
Hello World<span class="token operator">!</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span> <span class="token comment"># 正确执行</span>
</code></pre> 
<h3><a id="5__234"></a>5. 运算符</h3> 
<h4><a id="51__236"></a>5.1 基本语法</h4> 
<ol><li>“<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          ( 
         
        
          ( 
         
        
          运算式 
         
        
          ) 
         
        
          ) 
         
        
          ”或“ 
         
        
       
         ((运算式))” 或 “ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">((</span><span class="mord cjk_fallback">运算式</span><span class="mclose">))</span><span class="mord">”</span><span class="mord cjk_fallback">或</span><span class="mord">“</span></span></span></span></span>[运算式]”</li><li>expr + , - , *, / , % [expr 加，减，乘，除，取余] 
  <ul><li>注意：<strong>expr 与运算的数值及运算符之间要有空格</strong></li></ul> </li></ol> 
<h4><a id="52__242"></a>5.2 实操案例</h4> 
<ol><li>使用 “<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          ( 
         
        
          ( 
         
        
          运算式 
         
        
          ) 
         
        
          ) 
         
        
          ”或“ 
         
        
       
         ((运算式))” 或 “ 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">((</span><span class="mord cjk_fallback">运算式</span><span class="mclose">))</span><span class="mord">”</span><span class="mord cjk_fallback">或</span><span class="mord">“</span></span></span></span></span>[运算式]” 进行计算</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 加法</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># ADD=$((2+3))</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $ADD</span>
<span class="token number">5</span>
<span class="token comment"># 加、除、减</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># SUB=$[(3+5)/2-2]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $SUB</span>
<span class="token number">2</span>
<span class="token comment"># 混合运算</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># MULT=$[(5+5)-4*3/2%5]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $MULT</span>
<span class="token number">9</span>
</code></pre> 
<ol start="2"><li>使用expr 计算</li></ol> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 4+3</span>
<span class="token number">4</span>+3
<span class="token comment"># + </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 4 + 3</span>
<span class="token number">7</span>
<span class="token comment"># - </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 6 - 3</span>
<span class="token number">3</span>
<span class="token comment"># * </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 5 \* 3</span>
<span class="token number">15</span>
<span class="token comment"># /</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 6 / 3</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr 6 % 5</span>
<span class="token number">1</span>
<span class="token comment"># 计算 （2 + 4） * 5 的值</span>
<span class="token comment"># 先使用``包住括号内的运算，然后在*5，如下：</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># expr `expr 2 + 4` \* 5</span>
<span class="token number">30</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre> 
<h3><a id="6__289"></a>6. 条件判断</h3> 
<h4><a id="61__291"></a>6.1 基本语法</h4> 
<p>[condition] (注意condition前后要有空格)</p> 
<p>注意：条件非空即为true,[yuan]返回true,[]返回false</p> 
<h4><a id="62__297"></a>6.2 常用判断条件</h4> 
<ol><li>两个整数之间比较</li></ol> 
<table><thead><tr><th>比较符</th><th>说明</th></tr></thead><tbody><tr><td>=</td><td>字符串比较</td></tr><tr><td>-lt</td><td>小于(less than)</td></tr><tr><td>-le</td><td>小于等于(less equal)</td></tr><tr><td>-eq</td><td>等于(equal)</td></tr><tr><td>-gt</td><td>大于(greater than)</td></tr><tr><td>-ge</td><td>大于等于(greater than)</td></tr><tr><td>-ne</td><td>不等于(Not equal)</td></tr></tbody></table> 
<ol start="2"><li>按照文件权限进行判断</li></ol> 
<table><thead><tr><th>判断符</th><th>说明</th></tr></thead><tbody><tr><td>-r</td><td>有读的权限(read)</td></tr><tr><td>-w</td><td>有写的权限(write)</td></tr><tr><td>-x</td><td>有执行权限(execute)</td></tr></tbody></table> 
<ol start="3"><li>按照文件类型进行判断</li></ol> 
<table><thead><tr><th>判断符</th><th>说明</th></tr></thead><tbody><tr><td>-f</td><td>文件存在并且是一个常规的文件(file)</td></tr><tr><td>-e</td><td>文件存在(existence)</td></tr><tr><td>-d</td><td>文件存在并是一个目录(directory)</td></tr></tbody></table> 
<h4><a id="63__327"></a>6.3 实操案例</h4> 
<ol><li>数字比较运算</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 1 &gt; 2 ?</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ 1 -gt 2  ] </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">127</span>

<span class="token comment"># 1 &lt; 2 ?</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ 1 -lt 2  ] </span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>

<span class="token comment"># 3-1 = 2 ?</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ $((3-1)) -eq 2 ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
</code></pre> 
<ol start="2"><li>文件权限判断练习</li></ol> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># ll</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">32</span> <span class="token number">3</span>月   <span class="token number">3</span> <span class="token number">13</span>:00 hello.sh

<span class="token comment"># hello.sh 文件 是否有可写权限？</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -w hello.sh ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span> <span class="token comment"># 有</span>
<span class="token comment"># hello.sh 文件 是否有可读权限？</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -r hello.sh ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span> <span class="token comment"># 有</span>
<span class="token comment"># hello.sh 文件 是否有可执行权限？</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -e hello.sh ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span> <span class="token comment"># 有 </span>
</code></pre> 
<ol start="3"><li>文件类型练习</li></ol> 
<pre><code class="prism language-shell"><span class="token comment"># 查看 /home/myShell/test.txt 文件存在且是一个常规文件？</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -f /home/myShell/test.txt ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>

<span class="token number">0</span> <span class="token comment"># 存在</span>
<span class="token comment"># 查看 /home/myShell/aaa.txt 文件是否存在</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -e /home/myShell/aaa.txt ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span> <span class="token comment"># 不存在</span>

<span class="token comment"># /home/myShell 是否为一个目录</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># [ -d /home/myShell ]</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span> <span class="token comment">#是目录</span>
</code></pre> 
<ol start="4"><li>多条判断</li></ol> 
<p>&amp;&amp; ： 表示前一条命令执行成功时，才执行后一条命</p> 
<p>|| ： 表示上一条命令执行失败后，才执行下一条命令</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span> condition <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> OK <span class="token operator">||</span> <span class="token builtin class-name">echo</span> NotOK

<span class="token punctuation">[</span> condition <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> NotOK

</code></pre> 
<h3><a id="7_400"></a>7.流程控制</h3> 
<h4><a id="71_if__402"></a>7.1 if 判断</h4> 
<ol><li>基本语法</li></ol> 
<pre><code class="prism language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token comment"># 程序代码</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token comment"># 程序代码</span>
<span class="token keyword">fi</span>
<span class="token comment"># 或者</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
  	<span class="token comment"># 程序代码</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
  <span class="token keyword">then</span> 
  	<span class="token comment"># ...</span>
<span class="token keyword">fi</span>  	
</code></pre> 
<p>注意：</p> 
<ul><li> <p>[ 条件判断式 ]，中括号和条件判断式之间必须有空格</p> </li><li> <p>if 后要有空格</p> </li><li> <p>实操案例：</p> </li></ul> 
<p>a. 输入一个数字，如果输入的是1、2、3，则输出具体的数字，否则什么也输出</p> 
<p>b. 新建一个shell文件，名称为：control_if.sh ,内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-eq</span> <span class="token string">"1"</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the number 1"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-eq</span> <span class="token string">"2"</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the number 2"</span>
<span class="token keyword">fi</span>      
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-eq</span> <span class="token string">"3"</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the number 3"</span>
<span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the other number"</span>
<span class="token keyword">fi</span>
</code></pre> 
<p>c. 执行control_if.sh</p> 
<pre><code class="prism language-shell"><span class="token comment"># 不带参数执行</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh controll_if.sh </span>
controll_if.sh: 第 <span class="token number">2</span> 行:<span class="token punctuation">[</span>: -eq: 期待一元表达式
controll_if.sh: 第 <span class="token number">5</span> 行:<span class="token punctuation">[</span>: -eq: 期待一元表达式
controll_if.sh: 第 <span class="token number">9</span> 行:<span class="token punctuation">[</span>: -eq: 期待一元表达式

<span class="token comment"># 执行controll_if.sh 并带参数1</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh controll_if.sh 1</span>
You entered the number <span class="token number">1</span>
</code></pre> 
<h4><a id="72_case__464"></a>7.2 case 语句</h4> 
<ol><li>基本语法</li></ol> 
<pre><code class="prism language-shell"><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span>
	<span class="token string">"值1"</span>）
		如果变了的值等于1，则执行程序1
		<span class="token punctuation">;</span><span class="token punctuation">;</span>
	<span class="token string">"值2"</span>）
    	如果变量的值等于2，则执行程序2
    	<span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>	
<span class="token keyword">esac</span>    
</code></pre> 
<ol start="2"><li>实操案例：</li></ol> 
<p>新建control_case.sh，内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
<span class="token string">"1"</span><span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the number 1"</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"2"</span><span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"You entered the number 2"</span>         
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> 
<p>执行control_case.sh</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># bash control_case.sh  1</span>
You entered the number <span class="token number">1</span>
</code></pre> 
<h4><a id="73_for_503"></a>7.3 for循环</h4> 
<ol><li>基本语法1</li></ol> 
<pre><code class="prism language-shell"><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span>初始值<span class="token punctuation">;</span>循环控制条件<span class="token punctuation">;</span>变量变化<span class="token punctuation">))</span></span> 
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>
</code></pre> 
<p>实操案例：新建一个control_for.sh，内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">result</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
        <span class="token assign-left variable">result</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$result</span>+<span class="token variable">$i</span><span class="token punctuation">]</span> 
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$result</span>
</code></pre> 
<ol start="2"><li>基本语法2</li></ol> 
<pre><code class="prism language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>
</code></pre> 
<p>实操案例：</p> 
<ul><li>打印所有输入参数1</li></ul> 
<p>创建shell脚本control_for_one.sh，内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># $* 任意参数(是个整体)</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$*</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">" I love <span class="token variable">$i</span>"</span>
<span class="token keyword">done</span>

<span class="token comment"># $@ 任意参数(逐个区分)</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">" I love <span class="token variable">$j</span>"</span>
<span class="token keyword">done</span>
</code></pre> 
<p>执行shell control_for_one.sh</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh control_for_one.sh a b c d e </span>
 I love a
 I love b
 I love c
 I love d
 I love e
</code></pre> 
<ul><li>打印所有输入参数2</li></ul> 
<p>实操案例：</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># $*与$@ 不加双引号时看不出来区别</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$*</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">" I love <span class="token variable">$i</span>"</span>
<span class="token keyword">done</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">"I love <span class="token variable">$j</span>"</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">"====================================="</span>

<span class="token comment"># $*与$@ 加双引号时区明显</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">m</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$*</span>"</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">"I love <span class="token variable">$m</span>"</span>
<span class="token keyword">done</span> 

<span class="token keyword">for</span> <span class="token for-or-select variable">n</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$@</span>"</span>
<span class="token keyword">do</span> 
        <span class="token builtin class-name">echo</span> <span class="token string">"I love <span class="token variable">$n</span>"</span>
<span class="token keyword">done</span>
</code></pre> 
<p>执行结果</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh control_for_one.sh a b c d e </span>
 I love a
 I love b
 I love c
 I love d
 I love e
I love a
I love b
I love c
I love d
I love e
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
I love a b c d e
I love a
I love b
I love c
I love d
I love e
</code></pre> 
<h4><a id="74_while__629"></a>7.4 while 循环</h4> 
<ol><li>基本语法</li></ol> 
<pre><code class="prism language-shell"><span class="token keyword">while</span> <span class="token punctuation">[</span>条件表达式<span class="token punctuation">]</span>
<span class="token keyword">do</span>
	<span class="token comment">#code</span>
<span class="token keyword">done</span>	
</code></pre> 
<ol start="2"><li>实操案例:请1+100的和</li></ol> 
<p>创建control_while.sh,内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-le</span> <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
        <span class="token assign-left variable">s</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$s<span class="token operator">+</span>$i<span class="token variable">))</span></span>    
        <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>$i<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$s</span>
</code></pre> 
<p>执行</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># sh control_while.sh </span>
<span class="token number">5050</span>
</code></pre> 
<h4><a id="75_read_663"></a>7.5 read读取控制台输入</h4> 
<ol><li>基本语法</li></ol> 
<p>read [选项] [参数]</p> 
<p>选项：</p> 
<ul><li>-p:指定读取值是的提示符；</li><li>-t:指定读取值时等待的时间(单位：秒)</li></ul> 
<p>参数：</p> 
<p>变量：指定读取的变量名</p> 
<ol start="2"><li>实操案例：</li></ol> 
<ul><li>提示10秒内，读取控制台输入的名称;10秒后失效</li></ul> 
<p>新建read.sh，内容如下</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-t</span> <span class="token number">10</span> <span class="token parameter variable">-p</span> <span class="token string">"Please enter your name in ten second "</span> NAME
<span class="token builtin class-name">echo</span> <span class="token variable">$NAME</span>
</code></pre> 
<p>执行</p> 
<pre><code class="prism language-shell"><span class="token comment"># 10 秒内输入 aa</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># bash read.sh </span>
Please enter your name <span class="token keyword">in</span> ten second aa 
aa
<span class="token comment"># 10 秒内再输入 cc</span>
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># cc</span>
cc: 致命错误：没有输入文件
编译中断。
<span class="token punctuation">[</span>root@MiWiFi-R4CM-srv myShell<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cfe236feb19b772e06b0b8363e2b7126/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一键操控，随时随地，轻松管理你的设备！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e020bbbc6400fe2ebd8e3457aa0e594a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CAS实现SSO单点登录之服务搭建</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>