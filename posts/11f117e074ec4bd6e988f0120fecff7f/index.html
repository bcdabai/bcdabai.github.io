<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue&#43;elementUi&#43;el-upload实现上传、获取本机服务器路径、URL、document、createObjectURL、getElementsByClassName - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue&#43;elementUi&#43;el-upload实现上传、获取本机服务器路径、URL、document、createObjectURL、getElementsByClassName" />
<meta property="og:description" content="目录 HTMLJavaScriptcreateObjectURLgetElementsByClassNameHTMLCollectionURLdocument注意 HTML &lt;el-upload action=&#34;&#34; :limit=&#34;1&#34; :on-change=&#34;handleChange&#34; :auto-upload=&#34;false&#34; :file-list=&#34;fileList&#34; :show-file-list=&#34;false&#34; &gt; &lt;span&gt;选择文件&lt;/span&gt; &lt;/el-upload&gt; JavaScript export default { data() { return { fileList: [] }; }, methods: { // 选择文件 handleChange(file, fileLists) { console.log(file); console.log(fileLists); // 本地服务器路径 console.log(URL.createObjectURL(file.raw)); // 虚拟盘符 // JavaScript无法获取本地文件路径 // JavaScript不支持对本地资源的操作 console.log(document.getElementsByClassName(&#34;el-upload__input&#34;)[0].value); }, }, }; createObjectURL MDN
URL.createObjectURL()静态方法会创建一个DOMString，其中包含一个表示参数中给出的对象的URL。这个URL的生命周期和创建它的窗口中的document绑定。这个新的URL对象表示指定的File对象或Blob对象。
getElementsByClassName 菜鸟教程
getElementsByClassName()方法返回文档中所有指定类名的元素集合，作为NodeList对象。
NodeList对象代表一个有顺序的节点列表。NodeList对象 我们可通过节点列表中的节点索引号来访问列表中的节点(索引号由0开始)。
你可以使用NodeList对象的length属性来确定指定类名的元素个数，并循环各个元素来获取你需要的那个元素。
MDN
返回一个包含了所有指定类名的子元素的类数组对象。当在document对象上调用时，会搜索整个DOM文档，包含根节点。你也可以在任意元素上调用getElementsByClassName()方法，它将返回的是以当前元素为根节点，所有指定类名的子元素。
HTMLCollection 定义
HTMLCollection对象是HTML元素的类似数组的列表。
诸如getElementsByTagName之类的方法会返回HTMLCollection。
属性和方法
属性/方法描述item()返回HTMLCollection中指定索引处的元素。length返回HTMLCollection中的元素数。namedItem()返回HTMLCollection中有指定ID或名称的元素。 URL MDN
URL接口用于解析，构造，规范化和编码URL。它通过提供允许您轻松阅读和修改URL组件的属性来工作。通常，通过在调用URL的构造函数时将URL指定为字符串或提供相对URL和基本URL来创建新的URL对象。然后，您可以轻松读取URL的已解析组成部分或对URL进行更改。
如果浏览器尚不支持URL()构造函数，则可以使用Window中的Window.URL (en-US)属性。确保检查您的任何目标浏览器是否要求对此添加前缀。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/11f117e074ec4bd6e988f0120fecff7f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-28T18:12:34+08:00" />
<meta property="article:modified_time" content="2023-06-28T18:12:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue&#43;elementUi&#43;el-upload实现上传、获取本机服务器路径、URL、document、createObjectURL、getElementsByClassName</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#HTML_3" rel="nofollow">HTML</a></li><li><a href="#JavaScript_18" rel="nofollow">JavaScript</a></li><li><a href="#createObjectURL_44" rel="nofollow">createObjectURL</a></li><li><a href="#getElementsByClassName_49" rel="nofollow">getElementsByClassName</a></li><li><a href="#HTMLCollection_60" rel="nofollow">HTMLCollection</a></li><li><a href="#URL_74" rel="nofollow">URL</a></li><li><a href="#document_80" rel="nofollow">document</a></li><li><a href="#_95" rel="nofollow">注意</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="HTML_3"></a>HTML</h2> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-upload</span>
	<span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span>
	<span class="token attr-name">:limit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span>
	<span class="token attr-name">:on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>
	<span class="token attr-name">:auto-upload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>
	<span class="token attr-name">:file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileList<span class="token punctuation">"</span></span>
	<span class="token attr-name">:show-file-list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>
<span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>选择文件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-upload</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<hr> 
<h2><a id="JavaScript_18"></a>JavaScript</h2> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
		<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">fileList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 选择文件</span>
		<span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> fileLists</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fileLists<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 本地服务器路径</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// 虚拟盘符</span>
			<span class="token comment">// JavaScript无法获取本地文件路径</span>
			<span class="token comment">// JavaScript不支持对本地资源的操作</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">"el-upload__input"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="createObjectURL_44"></a>createObjectURL</h2> 
<p><strong>MDN</strong></p> 
<blockquote> 
 <p><strong><code>URL.createObjectURL()</code>静态方法会创建一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" rel="nofollow">DOMString</a>，其中包含一个表示参数中给出的对象的<code>URL</code>。这个<code>URL</code>的生命周期和创建它的窗口中的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document" rel="nofollow">document</a>绑定。这个新的<code>URL</code>对象表示指定的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/File" rel="nofollow">File</a>对象或<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" rel="nofollow">Blob</a>对象。</strong></p> 
</blockquote> 
<hr> 
<h2><a id="getElementsByClassName_49"></a>getElementsByClassName</h2> 
<p><strong>菜鸟教程</strong></p> 
<blockquote> 
 <p><strong><code>getElementsByClassName()</code>方法返回文档中所有指定类名的元素集合，作为<code>NodeList</code>对象。<br> <code>NodeList</code>对象代表一个有顺序的节点列表。<code>NodeList</code>对象 我们可通过节点列表中的节点索引号来访问列表中的节点(索引号由<code>0</code>开始)。<br> <mark>你可以使用<code>NodeList</code>对象的<code>length</code>属性来确定指定类名的元素个数，并循环各个元素来获取你需要的那个元素。</mark></strong></p> 
</blockquote> 
<hr> 
<p><strong>MDN</strong></p> 
<blockquote> 
 <p><strong>返回一个包含了所有指定类名的子元素的类数组对象。当在<code>document</code>对象上调用时，会搜索整个<code>DOM</code>文档，包含根节点。你也可以在任意元素上调用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getElementsByClassName" rel="nofollow">getElementsByClassName()</a>方法，它将返回的是以当前元素为根节点，所有指定类名的子元素。</strong></p> 
</blockquote> 
<hr> 
<h2><a id="HTMLCollection_60"></a>HTMLCollection</h2> 
<p><strong>定义</strong></p> 
<blockquote> 
 <p><strong><code>HTMLCollection</code>对象是<code>HTML</code>元素的类似数组的列表。<br> 诸如<code>getElementsByTagName</code>之类的方法会返回<code>HTMLCollection</code>。</strong></p> 
</blockquote> 
<hr> 
<p><strong>属性和方法</strong></p> 
<table><thead><tr><th>属性/方法</th><th align="left">描述</th></tr></thead><tbody><tr><td><code>item()</code></td><td align="left">返回<code>HTMLCollection</code>中指定索引处的元素。</td></tr><tr><td><code>length</code></td><td align="left">返回<code>HTMLCollection</code>中的元素数。</td></tr><tr><td><code>namedItem()</code></td><td align="left">返回<code>HTMLCollection</code>中有指定<code>ID</code>或名称的元素。</td></tr></tbody></table> 
<hr> 
<h2><a id="URL_74"></a>URL</h2> 
<p><strong>MDN</strong></p> 
<blockquote> 
 <p><strong><code>URL</code>接口用于解析，构造，规范化和编码<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/URL" rel="nofollow">URL</a>。它通过提供允许您轻松阅读和修改<code>URL</code>组件的属性来工作。通常，通过在调用<code>URL</code>的构造函数时将<code>URL</code>指定为字符串或提供相对<code>URL</code>和基本<code>URL</code>来创建新的<code>URL</code>对象。然后，您可以轻松读取<code>URL</code>的已解析组成部分或对<code>URL</code>进行更改。<br> 如果浏览器尚不支持<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL/URL" rel="nofollow">URL()</a>构造函数，则可以使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" rel="nofollow">Window</a>中的<a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" rel="nofollow">Window.URL (en-US)</a>属性。确保检查您的任何目标浏览器是否要求对此添加前缀。</strong></p> 
</blockquote> 
<hr> 
<h2><a id="document_80"></a>document</h2> 
<p><strong>菜鸟教程</strong></p> 
<blockquote> 
 <p><strong>当浏览器载入<code>HTML</code>文档, 它就会成为<code>Document</code>对象。<br> <code>Document</code>对象是<code>HTML</code>文档的根节点。<br> <code>Document</code>对象使我们可以从脚本中对<code>HTML</code>页面中的所有元素进行访问。<br> <mark><code>Document</code>对象是<code>Window</code>对象的一部分，可通过<code>window.document</code>属性对其进行访问。</mark></strong></p> 
</blockquote> 
<hr> 
<p><strong>MDN</strong></p> 
<blockquote> 
 <p><strong><code>Document</code>接口表示任何在浏览器中载入的网页，并作为网页内容的入口，也就是<a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_object_model/Using_the_Document_Object_Model" rel="nofollow">DOM树(en-US)</a>。<br> <code>DOM</code>树包含了像<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body" rel="nofollow">&lt;body&gt;</a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/table" rel="nofollow">&lt;table&gt;</a>这样的元素，以及<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element" rel="nofollow">大量其他元素</a>。它向网页文档本身提供了全局操作功能，能解决如何获取页面的<code>URL</code>，如何在文档中创建一个新的元素这样的问题。<br> <code>EventTarget &lt;= Node &lt;= Document</code><br> <code>Document</code>接口描述了任何类型的文档的通用属性与方法。根据不同的文档类型(例如<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML" rel="nofollow">HTML</a>、<a href="https://developer.mozilla.org/en-US/docs/Web/XML" rel="nofollow">XML(en-US)</a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG" rel="nofollow">SVG</a>，……)，还能使用更多<code>API</code>。使用"<code>text/html</code>"作为内容类型(<code>content type</code>)的<code>HTML</code>文档，还实现了<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLDocument" rel="nofollow">HTMLDocument</a>接口，而<code>XML</code>和<code>SVG</code>文档则(额外)实现了<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLDocument" rel="nofollow">XMLDocument</a>接口。</strong></p> 
</blockquote> 
<hr> 
<h2><a id="_95"></a>注意</h2> 
<blockquote> 
 <p><strong><mark><code>JavaScript</code>不支持对本地资源的操作，除了选择文件上传和存储到本的一些操作外，其他操作本地资源均不支持。</mark></strong></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f0648210bda1d3d2bc456f0a3c3b4300/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SourceTree推送拉取的时候一直等待，转圈，不断尝试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b968b34bf1f2dea589fa5616933ba1c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux常用命令（持续更新中）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>