<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于Java——SpringBoot的洗浴会所管理系统 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于Java——SpringBoot的洗浴会所管理系统" />
<meta property="og:description" content="目录
1.前言
2.系统内容
2.1 登录页面、
2.2 注册页面
2.3 系统首页
2.4 服务列表
2.5 服务修改
2.6 会员管理
2.7 会员录入
3.部分代码
3.1 实体类
3.11 admin
3.12 item
3.2 Dao层
3.2.1 admindao
3.2.2 itemdao
3.2.3 memberdao
3.3 Controller 层
3.3.1 admincontroller
3.3.2 itemcontroller
3.3.3 membercontroller
1.前言 学校安排两周的项目实践学习，所以学了一段时间的SpringBoot，因为SpringMvc还没有学完，如果单独学起来SpringBoot并且做项目的话很难，还好在项目实践老师的带领下多多少少领会点了东西，尤其对于基于注解开发的整个流程框架的步骤以及逻辑实现原理。其次学到了不少JavaScript,的知识。以及前端框架的灵活运用。在此次系统中运用了SpringBoot框架集成Maven依赖,以及前端框架Bootstrap开发，很多东西直接调用，大大减少了代码量。
2.系统内容 2.1 登录页面、 登录页面首先搭建前端页面，然后根据后端数据库表中相关信息做出判断。并且附有注册的超链接。
2.2 注册页面 注册页面也是先搭建前端页面，在这里用到了一个阿里云功能，就是根据邮箱发验证码然后根据验证码进行注册，有点符合日常系统的使用规范性。注册成功后则将数据写进后端数据库表中。
2.3 系统首页 系统首页没有太多的后端逻辑功能，就是在用户登录成功后通过后端将管理员的名字保存到本地浏览器中，然后在前端中获取，最后展示到页面中。
2.4 服务列表 服务列表页面中包含的前后端知识，比较多。当在页面刷新完成时，数据就会显示在页面这是利用Jquery里面的一些知识完成的我也没有深入研究。其次对于页面中的分页，要实现前后端逻辑功能，并且在页面中附有模糊查询的搜索框，也需要后端的支持。
2.5 服务修改 服务修改在后端要发两次请求，首先是查询该id的对象信息，输出到页面中，当做出修改后，再次发出保存的请求。
2.6 会员管理 会员管理等同于服务列表页面，只不过增加了批量删除，会员录入的功能。
2.7 会员录入 录入修改信息，写到了一块，首先前端通过输入手机号等相关信息，然后后端通过手机信息查询是否有该对象，如果没有则执行录入新会员功能，如果有的话则执行修改功能。
3.部分代码 3.1 实体类 3.11 admin package tech." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/df4e35004aa150c30e5aadcb87061074/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-11T19:04:34+08:00" />
<meta property="article:modified_time" content="2022-07-11T19:04:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于Java——SpringBoot的洗浴会所管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1.%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#1.%E5%89%8D%E8%A8%80" rel="nofollow">1.前言</a></p> 
<p id="2.%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9-toc" style="margin-left:0px;"><a href="#2.%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9" rel="nofollow">2.系统内容</a></p> 
<p id="2.1%20%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E3%80%81-toc" style="margin-left:40px;"><a href="#2.1%20%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E3%80%81" rel="nofollow">2.1 登录页面、</a></p> 
<p id="%C2%A02.2%20%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2-toc" style="margin-left:40px;"><a href="#%C2%A02.2%20%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2" rel="nofollow"> 2.2 注册页面</a></p> 
<p id="2.3%20%E7%B3%BB%E7%BB%9F%E9%A6%96%E9%A1%B5-toc" style="margin-left:40px;"><a href="#2.3%20%E7%B3%BB%E7%BB%9F%E9%A6%96%E9%A1%B5" rel="nofollow">2.3 系统首页</a></p> 
<p id="2.4%20%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8-toc" style="margin-left:40px;"><a href="#2.4%20%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8" rel="nofollow">2.4 服务列表</a></p> 
<p id="2.5%20%E6%9C%8D%E5%8A%A1%E4%BF%AE%E6%94%B9-toc" style="margin-left:40px;"><a href="#2.5%20%E6%9C%8D%E5%8A%A1%E4%BF%AE%E6%94%B9" rel="nofollow">2.5 服务修改</a></p> 
<p id="2.6%20%E4%BC%9A%E5%91%98%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#2.6%20%E4%BC%9A%E5%91%98%E7%AE%A1%E7%90%86" rel="nofollow">2.6 会员管理</a></p> 
<p id="2.7%20%E4%BC%9A%E5%91%98%E5%BD%95%E5%85%A5-toc" style="margin-left:40px;"><a href="#2.7%20%E4%BC%9A%E5%91%98%E5%BD%95%E5%85%A5" rel="nofollow">2.7 会员录入</a></p> 
<p id="3.%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81-toc" style="margin-left:0px;"><a href="#3.%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81" rel="nofollow">3.部分代码</a></p> 
<p id="3.1%20%E5%AE%9E%E4%BD%93%E7%B1%BB-toc" style="margin-left:40px;"><a href="#3.1%20%E5%AE%9E%E4%BD%93%E7%B1%BB" rel="nofollow">3.1 实体类</a></p> 
<p id="3.11%20admin-toc" style="margin-left:80px;"><a href="#3.11%20admin" rel="nofollow">3.11 admin</a></p> 
<p id="3.12%20item-toc" style="margin-left:80px;"><a href="#3.12%20item" rel="nofollow">3.12 item</a></p> 
<p id="3.2%20Dao%E5%B1%82-toc" style="margin-left:40px;"><a href="#3.2%20Dao%E5%B1%82" rel="nofollow">3.2 Dao层</a></p> 
<p id="3.2.1%20admindao-toc" style="margin-left:80px;"><a href="#3.2.1%20admindao" rel="nofollow">3.2.1 admindao</a></p> 
<p id="3.2.2%20itemdao-toc" style="margin-left:80px;"><a href="#3.2.2%20itemdao" rel="nofollow">3.2.2 itemdao</a></p> 
<p id="3.2.3%20memberdao-toc" style="margin-left:80px;"><a href="#3.2.3%20memberdao" rel="nofollow">3.2.3 memberdao</a></p> 
<p id="3.3%20Controller%20%E5%B1%82-toc" style="margin-left:40px;"><a href="#3.3%20Controller%20%E5%B1%82" rel="nofollow">3.3 Controller 层</a></p> 
<p id="3.3.1%20admincontroller-toc" style="margin-left:80px;"><a href="#3.3.1%20admincontroller" rel="nofollow">3.3.1 admincontroller</a></p> 
<p id="3.3.2%20itemcontroller-toc" style="margin-left:80px;"><a href="#3.3.2%20itemcontroller" rel="nofollow">3.3.2 itemcontroller</a></p> 
<p id="3.3.3%20membercontroller-toc" style="margin-left:80px;"><a href="#3.3.3%20membercontroller" rel="nofollow">3.3.3 membercontroller</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1.%E5%89%8D%E8%A8%80">1.前言</h2> 
<p>学校安排两周的项目实践学习，所以学了一段时间的SpringBoot，因为SpringMvc还没有学完，如果单独学起来SpringBoot并且做项目的话很难，还好在项目实践老师的带领下多多少少领会点了东西，尤其对于基于注解开发的整个流程框架的步骤以及逻辑实现原理。其次学到了不少JavaScript,的知识。以及前端框架的灵活运用。在此次系统中运用了SpringBoot框架集成Maven依赖,以及前端框架Bootstrap开发，很多东西直接调用，大大减少了代码量。</p> 
<h2 id="2.%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AE%B9">2.系统内容</h2> 
<h3 id="2.1%20%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2%E3%80%81">2.1 登录页面、</h3> 
<p><img alt="" height="821" src="https://images2.imgbox.com/d7/12/YS41xeCG_o.png" width="1200"></p> 
<p>登录页面首先搭建前端页面，然后根据后端数据库表中相关信息做出判断。并且附有注册的超链接。</p> 
<h3 id="%C2%A02.2%20%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2"> 2.2 注册页面</h3> 
<p><img alt="" height="802" src="https://images2.imgbox.com/e0/e5/s2eJQB9F_o.png" width="1200"></p> 
<p> 注册页面也是先搭建前端页面，在这里用到了一个阿里云功能，就是根据邮箱发验证码然后根据验证码进行注册，有点符合日常系统的使用规范性。注册成功后则将数据写进后端数据库表中。</p> 
<h3 id="2.3%20%E7%B3%BB%E7%BB%9F%E9%A6%96%E9%A1%B5">2.3 系统首页</h3> 
<p><img alt="" height="819" src="https://images2.imgbox.com/58/4f/R0g7Te04_o.png" width="1200"></p> 
<p> 系统首页没有太多的后端逻辑功能，就是在用户登录成功后通过后端将管理员的名字保存到本地浏览器中，然后在前端中获取，最后展示到页面中。</p> 
<h3 id="2.4%20%E6%9C%8D%E5%8A%A1%E5%88%97%E8%A1%A8">2.4 服务列表</h3> 
<p><img alt="" height="800" src="https://images2.imgbox.com/30/74/hUDbw9dS_o.png" width="1200"></p> 
<p> 服务列表页面中包含的前后端知识，比较多。当在页面刷新完成时，数据就会显示在页面这是利用Jquery里面的一些知识完成的我也没有深入研究。其次对于页面中的分页，要实现前后端逻辑功能，并且在页面中附有模糊查询的搜索框，也需要后端的支持。</p> 
<h3 id="2.5%20%E6%9C%8D%E5%8A%A1%E4%BF%AE%E6%94%B9">2.5 服务修改</h3> 
<p><img alt="" height="771" src="https://images2.imgbox.com/68/a7/FggPDOHJ_o.png" width="1200"></p> 
<p> 服务修改在后端要发两次请求，首先是查询该id的对象信息，输出到页面中，当做出修改后，再次发出保存的请求。</p> 
<h3 id="2.6%20%E4%BC%9A%E5%91%98%E7%AE%A1%E7%90%86">2.6 会员管理</h3> 
<p><img alt="" height="806" src="https://images2.imgbox.com/b1/b9/OGssKHh1_o.png" width="1200"></p> 
<p> 会员管理等同于服务列表页面，只不过增加了批量删除，会员录入的功能。</p> 
<h3 id="2.7%20%E4%BC%9A%E5%91%98%E5%BD%95%E5%85%A5">2.7 会员录入</h3> 
<p><img alt="" height="819" src="https://images2.imgbox.com/9c/c4/aNXouLVG_o.png" width="1200"></p> 
<p></p> 
<p>录入修改信息，写到了一块，首先前端通过输入手机号等相关信息，然后后端通过手机信息查询是否有该对象，如果没有则执行录入新会员功能，如果有的话则执行修改功能。</p> 
<h2 id="3.%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81">3.部分代码</h2> 
<h3 id="3.1%20%E5%AE%9E%E4%BD%93%E7%B1%BB">3.1 实体类</h3> 
<h4 id="3.11%20admin">3.11 admin</h4> 
<pre><code class="language-java">package tech.aistar.model.pojo;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;
import java.io.Serializable;

@NoArgsConstructor
@AllArgsConstructor
@Data
@Entity
@Table(name="t_admin")
public class Admin implements Serializable {
    @Id
    @GeneratedValue
    private Integer id;
    private String username;
    private String password;
    private String email;
}
</code></pre> 
<h4 id="3.12%20item">3.12 item</h4> 
<pre><code class="language-java">package tech.aistar.model.pojo;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;

@NoArgsConstructor
@AllArgsConstructor
@Data
@Entity
@Table(name="t_item")
public class Item {
    @Id
    @GeneratedValue
    private Integer id;
    private String iname;//项目名称
    private Integer price;//项目价格
    private String itime;//项目时间
    private String location;//项目所在楼层

}
</code></pre> 
<p>3.13 member</p> 
<pre><code class="language-java">package tech.aistar.model.pojo;

import com.fasterxml.jackson.annotation.JsonFormat;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.stereotype.Component;

import javax.persistence.*;
import java.util.Date;
@Component
@NoArgsConstructor
@AllArgsConstructor
@Data
@Entity //实体类
@Table(name="t_member")
public class Member {
   @Id
   @GeneratedValue
    private  Integer id;
    private String name;
    private Integer age;//
    private String gender;
    private String tel;
    private String money;//消费
    private String items;//服务
    @Column(columnDefinition = "datetime")
    @JsonFormat(timezone = "GMT+8",pattern = "yyyy-MM-dd HH:mm:ss")
    private Date createDate;
}
</code></pre> 
<p>3.14 resultreturn</p> 
<pre><code class="language-java">package tech.aistar.model.pojo;

import java.io.Serializable;

public class ResultReturn implements Serializable {
    private String code;
    private String msg;
    private Object data;

    public ResultReturn() {

    }

    public ResultReturn(String code, String msg) {
        this.code = code;
        this.msg = msg;
    }

    public ResultReturn(String code, String msg, Object data) {
        this.code = code;
        this.msg = msg;
        this.data = data;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getMsg() {
        return msg;
    }

    public void setMsg(String msg) {
        this.msg = msg;
    }

    public Object getData() {
        return data;
    }

    public void setData(Object data) {
        this.data = data;
    }

    @Override
    public String toString() {
        return "ResultReturn{" +
                "code='" + code + '\'' +
                ", msg='" + msg + '\'' +
                ", data=" + data +
                '}';
    }
}
</code></pre> 
<h3 id="3.2%20Dao%E5%B1%82">3.2 Dao层</h3> 
<h4 id="3.2.1%20admindao">3.2.1 admindao</h4> 
<pre><code class="language-java">package tech.aistar.dao;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import tech.aistar.model.pojo.Admin;

import javax.transaction.Transactional;

@Transactional
public interface IAdminDao extends JpaRepository&lt;Admin,Integer&gt; {
    //判断用户是否存在
    @Query(value = "select * from t_admin where username=?1",nativeQuery = true)
    Admin loadByUsername(String username);


}
</code></pre> 
<h4 id="3.2.2%20itemdao">3.2.2 itemdao</h4> 
<pre><code class="language-java">package tech.aistar.dao;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import tech.aistar.model.pojo.Admin;
import tech.aistar.model.pojo.Item;

import javax.transaction.Transactional;
import java.util.List;
@Transactional
public interface IItemDao extends JpaRepository&lt;Item,Integer&gt; {
    //分页
    Page&lt;Item&gt; findById(Integer id, Pageable pageable);

    //修改
//根据id查询相关信息
    @Query(value = "select * from t_item where id=?1",nativeQuery = true)
   Item loadById(Integer id);

    //
    Item saveAndFlush(Item item);
    //模糊查询
    //@Modifying
    @Query(value = "select * from t_item where iname like %?1%",nativeQuery = true)
    Page&lt;Item&gt; findByNamelike(String name,Pageable pageable);
}
</code></pre> 
<h4 id="3.2.3%20memberdao">3.2.3 memberdao</h4> 
<pre><code class="language-java">package tech.aistar.dao;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import tech.aistar.model.pojo.Admin;
import tech.aistar.model.pojo.Item;
import tech.aistar.model.pojo.Member;

import javax.transaction.Transactional;
import java.util.List;
@Transactional
public interface IMemberDao  extends JpaRepository&lt;Member,Integer&gt;{
    @Modifying
    @Query("delete from Member where id=?1")
    int delById(Integer id);

    @Query(value = "select * from t_member where name=?1" ,nativeQuery = true)
    Member loadByName(String name);
    @Query(value = "select * from t_member where id=?1" ,nativeQuery = true)
    Member loadById(Integer id);
    @Query(value = "select * from t_member where tel=?1" ,nativeQuery = true)
    Member loadByTel(String tel);
}
</code></pre> 
<h3 id="3.3%20Controller%20%E5%B1%82">3.3 Controller 层</h3> 
<h4 id="3.3.1%20admincontroller">3.3.1 admincontroller</h4> 
<pre><code class="language-java">package tech.aistar.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.SimpleMailMessage;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import tech.aistar.model.pojo.Admin;
import tech.aistar.model.pojo.ResultReturn;
import tech.aistar.service.IAdminService;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;
@RestController
@RequestMapping("admin")
public class AdminCoutroller {
    @Autowired
    private IAdminService adminService;
    @Autowired
    private JavaMailSender sender;
    //登录
    @PostMapping("login")
    public ResultReturn login(HttpServletRequest request,String user,String password){
        //调用Service中根据用户名查找用户的方法
        Admin admin=adminService.loadByUsername(user);
        //判断该admin是否为null
        if(admin==null){
            return new ResultReturn("404","sory,用户不存在！");
        }
        else {
            System.out.println(admin.getPassword());
            if(password.equals(admin.getPassword())){
                return new ResultReturn("200","登录成功！",admin.getUsername());
            }
            else{
                return  new ResultReturn("5xx","登录失败！");
            }
        }
    }
    //向邮箱发送验证码
    @GetMapping("sendCode")
    public ResultReturn sendCode( HttpServletRequest request ,String email) {
        //发送验证码到email中去.
        SimpleMailMessage msg=new SimpleMailMessage();
        //设置发送⽅ - application-dev.yml =&gt; username
        msg.setFrom("1573267651@qq.com");
        msg.setSubject("阿⾥云验证码");
        //随机⼀个6位数
        int codeInt = (int) (Math.random()*100000+900000);
        String code = String.valueOf(codeInt);//int类型=&gt;String类型
        msg.setText(code);
        msg.setTo(email);
        //发送
        sender.send(msg);
        //将刚刚生成的验证码存储到session中
        HttpSession session=request.getSession();
        session.setAttribute("Code",code);
        return new ResultReturn("200","查收邮件!查看验证码!");
    }
    //注册
    @PostMapping("register")
    public ResultReturn register(HttpServletRequest request,String username,String pwd,String pwd2,String email, String code){
        //判断输入的用户名是否存在
        Admin admin=adminService.loadByUsername(username);

        if(admin!=null){
            return new ResultReturn("404","sorry,该用户存在！");
        }
        else{

        HttpSession session=request.getSession();
            String codeSession=(String) session.getAttribute("Code");
            System.out.println(codeSession);
            if (null==codeSession){
                return new ResultReturn("500","sorry,请先发送验证码！");
            }
            //验证码的比较
            if (codeSession.equals(code)&amp;&amp;pwd.equals(pwd2)){
                //往表中添加相关信息
                Admin admin1=new Admin();
                admin1.setUsername(username);
                admin1.setPassword(pwd);
                admin1.setEmail(email);
                //保存
                adminService.save(admin1);
                return new ResultReturn("200","注册成功！");
            }
            else {
                return  new ResultReturn("402","密码不一致！或验证码错误");
            }
            //return  new ResultReturn("5xx","注册失败！");
        }
    }

}
</code></pre> 
<h4 id="3.3.2%20itemcontroller">3.3.2 itemcontroller</h4> 
<pre><code class="language-java">package tech.aistar.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Page;
import org.springframework.web.bind.annotation.*;
import tech.aistar.model.pojo.Item;
import tech.aistar.model.pojo.ResultReturn;
import tech.aistar.service.IItemService;

import java.util.List;

@RestController
@RequestMapping("item")
public class ItemController {
    @Autowired
    private IItemService itemService;

    @GetMapping("index")
    public ResultReturn index(String name, @RequestParam(defaultValue = "1") Integer
            pageNum,@RequestParam(defaultValue = "4") Integer pageSize) {
        //System.out.println("status:"+status);
        //查询所有的信息
        Page&lt;Item&gt; page = itemService.loadAll(name, pageNum, pageSize);
        //将这个数据返回到前端
        //@ResponseBody=&gt;jackson⼯具=&gt;java对象转换成json字符串
        //需要对⽇期进⾏进⼀步处理
        return new ResultReturn("200", "所有核酸样本信息", page);
    }
    @GetMapping("update")
    public ResultReturn update(Integer id){
        Item item=itemService.loadById(id);
        return new ResultReturn("200","查询成功",item);
    }
    @PostMapping("update2")
    public ResultReturn update2(String name,Integer price,String time,String location,Integer id){
            Item item=itemService.loadById(id);
            //修改属性
        item.setIname(name);
        item.setPrice(price);
        item.setItime(time);
        item.setLocation(location);
        item.setId(id);
        //保存
        itemService.saveAndflush(item);
        return new ResultReturn("200","修改成功！");
    }
}
</code></pre> 
<h4 id="3.3.3%20membercontroller">3.3.3 membercontroller</h4> 
<pre><code class="language-java">package tech.aistar.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Page;
import org.springframework.web.bind.annotation.*;
import tech.aistar.dao.IMemberDao;
import tech.aistar.model.pojo.Item;
import tech.aistar.model.pojo.Member;
import tech.aistar.model.pojo.ResultReturn;
import tech.aistar.service.IMemberService;

import java.util.Date;

@RestController
@RequestMapping("member") //根据模块先定义一个路径
public class MemberController {
    @Autowired
    private IMemberService memberService;
    @Autowired
    private IMemberDao memberDao;
    @GetMapping("index")
    public ResultReturn index(@RequestParam(defaultValue = "1") Integer pageNum, @RequestParam(defaultValue = "4") Integer pageSize){

        //查询所有的信息
        Page&lt;Member&gt; page = memberService.loadAll(pageNum,pageSize);
        //将这个数据返回到前端
        //@ResponseBody=&gt;jackson⼯具=&gt;java对象转换成json字符串
        //需要对⽇期进⾏进⼀步处理
        return new ResultReturn("200","所有会员信息",page);

    }
    @GetMapping("search")
    public ResultReturn search(String tel){

        //查询所有的信息
        Member member = memberService.loadBytel(tel);
        if(member==null){
            return new ResultReturn("404","会员不存在");
        }
        //将这个数据返回到前端
        //@ResponseBody=&gt;jackson⼯具=&gt;java对象转换成json字符串
        //需要对⽇期进⾏进⼀步处理
        return new ResultReturn("200","查询成功",member);

    }
    @PostMapping("del")
    public ResultReturn del(Integer id){
        int count = memberService.delById(id);
        if(count!=0)
            return new ResultReturn("200","删除成功!");
        return new ResultReturn("500","删除失败!");
    }

    @PostMapping("delMore")
    public ResultReturn delMore(String sids){
        //字符串处理
        if(null!=sids &amp;&amp; sids.length()&gt;0){
            //切割
            String[] arr = sids.split(":");
            for (String id : arr) {
                //corejava - 基操
                //String类型转成Integer类型[包装类型]
                memberService.delById(Integer.valueOf(id));
            }
        }
        return new ResultReturn("200","删除成功!");
    }

    @PostMapping("add")
    public ResultReturn add(Member member){
        System.out.println("tel:"+member.getTel()+"money:"+member.getMoney());
        if(member.getMoney().equals("")||member.getTel().equals("")){
            return new ResultReturn("500","新会员录⼊失败!");
        }
        Member member1 = memberDao.loadByTel(member.getTel());
        if(member1==null){
//            if(member.getMoney()==null||member.getTel()==null){
//                return new ResultReturn("500","新会员录⼊失败!");
//            }
            //添加功能
            member.setCreateDate(new Date());
            //member.setMoney(100);
            memberService.save(member);
            return new ResultReturn("200","新会员录⼊成功!");
      }else {
            //修改功能
            member1.setName(member.getName());
            member1.setAge(member.getAge());
            member1.setGender(member.getGender());
            member1.setTel(member.getTel());
            member1.setCreateDate(new Date());
            member1.setMoney(member.getMoney());
            member1.setItems(member.getItems());
            memberDao.saveAndFlush(member1);
            return new ResultReturn("404","会员信息修改成功！");
        }

//        //查询数据--修改功能
//        Member member2 =memberDao.loadByTel(member.getTel()).get();
//        member2.setName(member.getName());
//        member2.setAge(member.getAge());
//        member2.setGender(member.getGender());
//        member2.setTel(member.getTel());
//        member2.setCreateDate(new Date());
//        member2.setMoney(member.getMoney());
//        member2.setItems(member.getItems());
//        memberDao.saveAndFlush(member2);
//        return new ResultReturn("404","会员信息修改成功！");
    }
}

</code></pre> 
<p>其他代码就不一一上传了，ctrl+c,ctrl+v其实也挺累的，有兴趣的一起交流吧。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b255d79bc05ad197fc720e2257c39d95/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;八股文(一)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/41b45db9a3d75ce127751ce4d46f4e56/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Java】常见习题练习</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>