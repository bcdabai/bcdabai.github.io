<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 智能语音机器人（改进版） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 智能语音机器人（改进版）" />
<meta property="og:description" content="本篇为改进版，之前部分代码存在错误，部分网站api也已经失效，现在更换api，并对部分代码进行重写。
本次在Pycharm上测试
相关模块如下：
baidu-aip==4.16.11 beautifulsoup4==4.12.2 chardet==5.1.0 lxml==4.9.2 PyAudio==0.2.13 pycryptodome==3.18.0 pygame==2.4.0 pyttsx3==2.90 requests==2.31.0 wxPython==4.2.1 废话不多说，先上效果图
功能一：人机互动 功能二：播放音乐 功能三：天气 功能四：一句话新闻 把以下参数更换成你自己的 # 百度需要的参数 APP_ID = &#39;000000&#39; API_KEY = &#39;xxxxxx&#39; SECRET_KEY = &#39;xxxxxx&#39; # 图灵机器人需要的参数 tuling_apiKey = &#34;xxxxxx&#34; tuling_userId = &#34;000000&#34; # 易客云需要的参数 yikeyun_appid = &#39;000000&#39; yikeyun_appsecret = &#39;xxxxxx&#39; 易客云平台（https://yikeapi.com/account）
图灵机器人
http://www.tuling123.com/member/robot/index.jhtml
百度语音识别api 介绍请看
https://ai.baidu.com/tech/speech?_=1687103124997
控制台：
https://console.bce.baidu.com/ai/?fromai=1#/ai/speech/overview/index
按照这些步骤一步一步创建自己的应用，完成个人实名认证可以有一定的免费使用量，创建应用完成后，从”我的应用“ 即可看到相应的userid, apikey 等。
import pyaudio import wave import win32com.client from aip import AipSpeech import base64 import random from binascii import hexlify from Crypto." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4a2987a18e2a5bf2fb04038f2ce77292/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-20T00:00:28+08:00" />
<meta property="article:modified_time" content="2023-06-20T00:00:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 智能语音机器人（改进版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本篇为改进版，之前部分代码存在错误，部分网站api也已经失效，现在更换api，并对部分代码进行重写。</p> 
<p>本次在Pycharm上测试<br> 相关模块如下：</p> 
<pre><code class="prism language-python">baidu<span class="token operator">-</span>aip<span class="token operator">==</span><span class="token number">4.16</span><span class="token number">.11</span>
beautifulsoup4<span class="token operator">==</span><span class="token number">4.12</span><span class="token number">.2</span>
chardet<span class="token operator">==</span><span class="token number">5.1</span><span class="token number">.0</span>
lxml<span class="token operator">==</span><span class="token number">4.9</span><span class="token number">.2</span>
PyAudio<span class="token operator">==</span><span class="token number">0.2</span><span class="token number">.13</span>
pycryptodome<span class="token operator">==</span><span class="token number">3.18</span><span class="token number">.0</span>
pygame<span class="token operator">==</span><span class="token number">2.4</span><span class="token number">.0</span>
pyttsx3<span class="token operator">==</span><span class="token number">2.90</span>
requests<span class="token operator">==</span><span class="token number">2.31</span><span class="token number">.0</span>
wxPython<span class="token operator">==</span><span class="token number">4.2</span><span class="token number">.1</span>
</code></pre> 
<p>废话不多说，先上效果图</p> 
<p><img src="https://images2.imgbox.com/8a/70/cAMmKc4l_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_24"></a>功能一：人机互动</h3> 
<p><img src="https://images2.imgbox.com/ec/5e/QCP8OVEo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_26"></a>功能二：播放音乐</h3> 
<p><img src="https://images2.imgbox.com/fa/ab/9G6xu16p_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_31"></a>功能三：天气</h3> 
<p><img src="https://images2.imgbox.com/30/4e/5tFEF5eE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_34"></a>功能四：一句话新闻</h3> 
<p><img src="https://images2.imgbox.com/31/bd/M689kgFP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_40"></a>把以下参数更换成你自己的</h3> 
<pre><code class="prism language-python"><span class="token comment"># 百度需要的参数</span>
APP_ID <span class="token operator">=</span> <span class="token string">'000000'</span>
API_KEY <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>
SECRET_KEY <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>
<span class="token comment"># 图灵机器人需要的参数</span>
tuling_apiKey <span class="token operator">=</span> <span class="token string">"xxxxxx"</span>
tuling_userId <span class="token operator">=</span> <span class="token string">"000000"</span>
<span class="token comment"># 易客云需要的参数</span>
yikeyun_appid <span class="token operator">=</span> <span class="token string">'000000'</span>
yikeyun_appsecret <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>
</code></pre> 
<p>易客云平台（https://yikeapi.com/account）<br> <img src="https://images2.imgbox.com/9c/61/S3za5uq2_o.png" alt="请添加图片描述"></p> 
<p>图灵机器人<br> http://www.tuling123.com/member/robot/index.jhtml<br> <img src="https://images2.imgbox.com/f9/c5/NoHNGPeh_o.png" alt="请添加图片描述"></p> 
<p>百度语音识别api 介绍请看<br> https://ai.baidu.com/tech/speech?_=1687103124997</p> 
<p>控制台：<br> https://console.bce.baidu.com/ai/?fromai=1#/ai/speech/overview/index<br> <img src="https://images2.imgbox.com/9a/54/b5ChIK1M_o.png" alt="在这里插入图片描述"><br> 按照这些步骤一步一步创建自己的应用，完成个人实名认证可以有一定的免费使用量，创建应用完成后，从”我的应用“ 即可看到相应的userid, apikey 等。</p> 
<pre><code class="prism language-python">
<span class="token keyword">import</span> pyaudio
<span class="token keyword">import</span> wave
<span class="token keyword">import</span> win32com<span class="token punctuation">.</span>client
<span class="token keyword">from</span> aip <span class="token keyword">import</span> AipSpeech
<span class="token keyword">import</span> base64
<span class="token keyword">import</span> random
<span class="token keyword">from</span> binascii <span class="token keyword">import</span> hexlify
<span class="token keyword">from</span> Crypto<span class="token punctuation">.</span>Cipher <span class="token keyword">import</span> AES
<span class="token keyword">import</span> json
<span class="token keyword">import</span> time
<span class="token keyword">import</span> wx
<span class="token keyword">import</span> pyttsx3
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> chardet
<span class="token keyword">import</span> pygame
<span class="token keyword">import</span> win32com<span class="token punctuation">.</span>client

<span class="token comment"># 百度需要的参数</span>
APP_ID <span class="token operator">=</span> <span class="token string">'000000'</span>
API_KEY <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>
SECRET_KEY <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>
<span class="token comment"># 图灵机器人需要的参数</span>
tuling_apiKey <span class="token operator">=</span> <span class="token string">"xxxxxx"</span>
tuling_userId <span class="token operator">=</span> <span class="token string">"000000"</span>
<span class="token comment"># 易客云需要的参数</span>
yikeyun_appid <span class="token operator">=</span> <span class="token string">'000000'</span>
yikeyun_appsecret <span class="token operator">=</span> <span class="token string">'xxxxxx'</span>



speaker <span class="token operator">=</span> win32com<span class="token punctuation">.</span>client<span class="token punctuation">.</span>Dispatch<span class="token punctuation">(</span><span class="token string">"SAPI.SpVoice"</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">record</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 各路参数</span>
    CHUNK <span class="token operator">=</span> <span class="token number">1024</span>
    FORMAT <span class="token operator">=</span> pyaudio<span class="token punctuation">.</span>paInt16
    CHANNELS <span class="token operator">=</span> <span class="token number">1</span>
    RATE <span class="token operator">=</span> <span class="token number">16000</span>
    RECORD_SECONDS <span class="token operator">=</span> <span class="token number">5</span>
    WAVE_OUTPUT_FILENAME <span class="token operator">=</span> file_path
    pau <span class="token operator">=</span> pyaudio<span class="token punctuation">.</span>PyAudio<span class="token punctuation">(</span><span class="token punctuation">)</span>
    stream <span class="token operator">=</span> pau<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">format</span><span class="token operator">=</span>FORMAT<span class="token punctuation">,</span>
                      channels<span class="token operator">=</span>CHANNELS<span class="token punctuation">,</span>
                      rate<span class="token operator">=</span>RATE<span class="token punctuation">,</span>
                      <span class="token builtin">input</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
                      frames_per_buffer<span class="token operator">=</span>CHUNK<span class="token punctuation">,</span> <span class="token punctuation">)</span>
    frames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"开始录音"</span><span class="token punctuation">)</span>
    speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"开始录音"</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>RATE <span class="token operator">/</span> CHUNK <span class="token operator">*</span> RECORD_SECONDS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> stream<span class="token punctuation">.</span>read<span class="token punctuation">(</span>CHUNK<span class="token punctuation">)</span>
        frames<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"录音结束"</span><span class="token punctuation">)</span>
    speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"录音结束"</span><span class="token punctuation">)</span>
    stream<span class="token punctuation">.</span>stop_stream<span class="token punctuation">(</span><span class="token punctuation">)</span>
    stream<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pau<span class="token punctuation">.</span>terminate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    wf <span class="token operator">=</span> wave<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>WAVE_OUTPUT_FILENAME<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span>
    wf<span class="token punctuation">.</span>setnchannels<span class="token punctuation">(</span>CHANNELS<span class="token punctuation">)</span>
    wf<span class="token punctuation">.</span>setsampwidth<span class="token punctuation">(</span>pau<span class="token punctuation">.</span>get_sample_size<span class="token punctuation">(</span>FORMAT<span class="token punctuation">)</span><span class="token punctuation">)</span>
    wf<span class="token punctuation">.</span>setframerate<span class="token punctuation">(</span>RATE<span class="token punctuation">)</span>
    wf<span class="token punctuation">.</span>writeframes<span class="token punctuation">(</span><span class="token string">b''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>frames<span class="token punctuation">)</span><span class="token punctuation">)</span>
    wf<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">voice2text</span><span class="token punctuation">(</span>APP_ID<span class="token punctuation">,</span> API_KEY<span class="token punctuation">,</span> SECRET_KEY<span class="token punctuation">,</span> file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    client <span class="token operator">=</span> AipSpeech<span class="token punctuation">(</span>APP_ID<span class="token punctuation">,</span> API_KEY<span class="token punctuation">,</span> SECRET_KEY<span class="token punctuation">)</span>
    ret <span class="token operator">=</span> client<span class="token punctuation">.</span>asr<span class="token punctuation">(</span>get_data<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'pcm'</span><span class="token punctuation">,</span> <span class="token number">16000</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">'dev_pid'</span><span class="token punctuation">:</span> <span class="token number">1536</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">[</span><span class="token string">'result'</span><span class="token punctuation">]</span>
<span class="token keyword">def</span> <span class="token function">get_data</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>
        <span class="token keyword">return</span> fp<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment">#人机互动</span>
engine <span class="token operator">=</span> pyttsx3<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 向api发送请求</span>
<span class="token keyword">def</span> <span class="token function">get_response</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    apiUrl  <span class="token operator">=</span><span class="token string">'http://openapi.turingapi.com/openapi/api/v2'</span>
    data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">"reqType"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"perception"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"inputText"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"text"</span><span class="token punctuation">:</span>  msg
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"selfInfo"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"location"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string">"city"</span><span class="token punctuation">:</span> <span class="token string">"北京"</span><span class="token punctuation">,</span>
                <span class="token string">"province"</span><span class="token punctuation">:</span> <span class="token string">"北京"</span><span class="token punctuation">,</span>
                <span class="token string">"street"</span><span class="token punctuation">:</span> <span class="token string">"信息路"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"userInfo"</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">"apiKey"</span><span class="token punctuation">:</span> tuling_apiKey<span class="token punctuation">,</span>
            <span class="token string">"userId"</span><span class="token punctuation">:</span> tuling_userId<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>apiUrl<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'results'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'values'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'text'</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
        engine<span class="token punctuation">.</span>runAndWait<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span>

<span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> chat_message
    <span class="token comment"># 存放的文件名称</span>
    file_path <span class="token operator">=</span> <span class="token string">"./data/chat-audio.wav"</span>

    <span class="token comment"># 先调用录音函数</span>
    record<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token comment"># 语音转成文字的内容</span>
    chat_message <span class="token operator">=</span> voice2text<span class="token punctuation">(</span>APP_ID<span class="token punctuation">,</span> API_KEY<span class="token punctuation">,</span> SECRET_KEY<span class="token punctuation">,</span> file_path<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>chat_message<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">chatwithrobot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    i<span class="token operator">=</span><span class="token number">0</span>
    <span class="token keyword">while</span> i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">:</span>
        say<span class="token punctuation">(</span><span class="token punctuation">)</span>
        get_response<span class="token punctuation">(</span>chat_message<span class="token punctuation">)</span>
        i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"5次对话已经结束！"</span><span class="token punctuation">)</span>


<span class="token comment">#音乐播放</span>

<span class="token keyword">class</span> <span class="token class-name">GetMusic</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>key <span class="token operator">=</span> GetParamsAndEncSecKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36'</span><span class="token punctuation">,</span>
            <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://music.163.com/'</span><span class="token punctuation">}</span>
        self<span class="token punctuation">.</span>session <span class="token operator">=</span> requests<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>headers <span class="token operator">=</span> self<span class="token punctuation">.</span>headers
        self<span class="token punctuation">.</span>conmment_url <span class="token operator">=</span> <span class="token string">'https://music.163.com/weapi/v1/resource/comments/R_SO_4_{}?csrf_token='</span>  <span class="token comment"># 评论</span>
        self<span class="token punctuation">.</span>lyric_url <span class="token operator">=</span> <span class="token string">'https://music.163.com/weapi/song/lyric?csrf_token='</span>  <span class="token comment"># 歌词</span>
        self<span class="token punctuation">.</span>music_url <span class="token operator">=</span> <span class="token string">'https://music.163.com/weapi/song/enhance/player/url?csrf_token='</span>  <span class="token comment"># 歌曲</span>
        self<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'https://music.163.com/weapi/cloudsearch/get/web?csrf_token='</span>  <span class="token comment"># 搜索歌曲列表，无歌曲链接</span>
    <span class="token keyword">def</span> <span class="token function">get_params_and_encSecKey</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> song<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取什么就返回所需要两个参数
        1. 歌曲
        2. 歌词
        3. 评论  默认
        4. 搜索的歌曲列表
        :param song:
        :return:
        '''</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>song<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"ids"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>song<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"br"</span><span class="token punctuation">:</span> <span class="token number">128000</span><span class="token punctuation">,</span> <span class="token string">"csrf_token"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">}</span>
        <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>song<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token keyword">and</span> song<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"id"</span><span class="token punctuation">:</span> song<span class="token punctuation">,</span> <span class="token string">"lv"</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"tv"</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"csrf_token"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">}</span>
        <span class="token keyword">elif</span> song <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"hlpretag"</span><span class="token punctuation">:</span> <span class="token string">"&lt;span class=\"s-fc7\"&gt;"</span><span class="token punctuation">,</span> <span class="token string">"hlposttag"</span><span class="token punctuation">:</span> <span class="token string">"&lt;/span&gt;"</span><span class="token punctuation">,</span> <span class="token string">"s"</span><span class="token punctuation">:</span> song<span class="token punctuation">,</span> <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"offset"</span><span class="token punctuation">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>
                    <span class="token string">"total"</span><span class="token punctuation">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span> <span class="token string">"limit"</span><span class="token punctuation">:</span> <span class="token string">"30"</span><span class="token punctuation">,</span> <span class="token string">"csrf_token"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">}</span>
        song <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>key<span class="token punctuation">.</span>get<span class="token punctuation">(</span>song<span class="token punctuation">)</span>
        <span class="token keyword">return</span> data
    <span class="token keyword">def</span> <span class="token function">get_music_list_info</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取歌曲详情：歌名+歌曲id+作者
        :param name:
        :return:
        '''</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params_and_encSecKey<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        res <span class="token operator">=</span> self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>self<span class="token punctuation">.</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>  <span class="token comment"># 歌曲</span>
        song_info <span class="token operator">=</span> res<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'result'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'songs'</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> song <span class="token keyword">in</span> song_info<span class="token punctuation">:</span>
            song_name <span class="token operator">=</span> song<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
            song_id <span class="token operator">=</span> song<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span>
            songer <span class="token operator">=</span> song<span class="token punctuation">[</span><span class="token string">'ar'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>song_name<span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">,</span> song_id<span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">,</span> songer<span class="token punctuation">)</span>
            <span class="token keyword">global</span> SongName  <span class="token comment"># 定义为全局变量</span>
            <span class="token keyword">global</span> SongId  <span class="token comment"># 定义为全局变量</span>
            <span class="token keyword">global</span> Songer  <span class="token comment"># 定义为全局变量</span>
            SongName<span class="token operator">=</span>song_name
            SongId<span class="token operator">=</span>song_id
            Songer<span class="token operator">=</span>songer
            self<span class="token punctuation">.</span>get_music_url<span class="token punctuation">(</span>song_id<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>get_music_lyric<span class="token punctuation">(</span>song_id<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>get_music_comment<span class="token punctuation">(</span>song_id<span class="token punctuation">)</span>
            <span class="token keyword">break</span>
    <span class="token keyword">def</span> <span class="token function">get_music_url</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取歌曲URL链接
        :param id:
        :return:
        '''</span>
        <span class="token keyword">global</span> Song_url  <span class="token comment"># 定义为全局变量</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params_and_encSecKey<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>self<span class="token punctuation">.</span>music_url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
        song_url <span class="token operator">=</span> res<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'url'</span><span class="token punctuation">]</span>
        Song_url<span class="token operator">=</span>song_url
        <span class="token comment">#print(song_url)</span>
    <span class="token keyword">def</span> <span class="token function">get_music_lyric</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> id_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取歌词
        :param id_str:
        :return:
        '''</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params_and_encSecKey<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>id_str<span class="token punctuation">)</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lyric_url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
        lyric <span class="token operator">=</span> res<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'lrc'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'lyric'</span><span class="token punctuation">]</span>
        <span class="token comment">#print(lyric)</span>
    <span class="token keyword">def</span> <span class="token function">get_music_comment</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> song_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取歌曲评论: 评论人+内容+头像
        :param song_id:
        :return:
        '''</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params_and_encSecKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
        comment <span class="token operator">=</span> self<span class="token punctuation">.</span>session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>self<span class="token punctuation">.</span>conmment_url<span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>song_id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
        com_list <span class="token operator">=</span> comment<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'hotComments'</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> com <span class="token keyword">in</span> com_list<span class="token punctuation">:</span>
            content <span class="token operator">=</span> com<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>
            nickname <span class="token operator">=</span> com<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'nickname'</span><span class="token punctuation">]</span>
            user_img <span class="token operator">=</span> com<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'avatarUrl'</span><span class="token punctuation">]</span>
            <span class="token comment">#print(nickname, '!!!!' + content + '!!!!', user_img)</span>
<span class="token keyword">class</span> <span class="token class-name">GetParamsAndEncSecKey</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>txt <span class="token operator">=</span> <span class="token string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span>
        self<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>self<span class="token punctuation">.</span>txt<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 16为随机数</span>
        self<span class="token punctuation">.</span>first_key <span class="token operator">=</span> <span class="token string">'0CoJUm6Qyw8W8jud'</span>
    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> song<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取加密的参数
        params是两次加密的
        :param song:
        :return:
        '''</span>
        res <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params<span class="token punctuation">(</span>song<span class="token punctuation">,</span> self<span class="token punctuation">.</span>first_key<span class="token punctuation">)</span>
        params <span class="token operator">=</span> self<span class="token punctuation">.</span>get_params<span class="token punctuation">(</span>res<span class="token punctuation">,</span> self<span class="token punctuation">.</span>i<span class="token punctuation">)</span>
        encSecKey <span class="token operator">=</span> self<span class="token punctuation">.</span>get_encSecKey<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string">'params'</span><span class="token punctuation">:</span> params<span class="token punctuation">,</span>
            <span class="token string">'encSecKey'</span><span class="token punctuation">:</span> encSecKey
        <span class="token punctuation">}</span>
    <span class="token keyword">def</span> <span class="token function">get_params</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> data<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获得params,加密字符长度要是16的倍数
        :param data:
        :param key:
        :return:
        '''</span>
        iv <span class="token operator">=</span> <span class="token string">'0102030405060708'</span>
        num <span class="token operator">=</span> <span class="token number">16</span> <span class="token operator">-</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">16</span>
        data <span class="token operator">=</span> data <span class="token operator">+</span> num <span class="token operator">*</span> <span class="token builtin">chr</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment"># 补足</span>
        cipher <span class="token operator">=</span> AES<span class="token punctuation">.</span>new<span class="token punctuation">(</span>key<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> AES<span class="token punctuation">.</span>MODE_CBC<span class="token punctuation">,</span> iv<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> cipher<span class="token punctuation">.</span>encrypt<span class="token punctuation">(</span>data<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        result_str <span class="token operator">=</span> base64<span class="token punctuation">.</span>b64encode<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result_str
    <span class="token keyword">def</span> <span class="token function">get_encSecKey</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        获取encSecKey，256个字符串
        hexlify---&gt;转换为btyes类型
        pow---&gt;两个参数是幂,三个参数是先幂在取余
        format(rs, 'x').zfill(256)--&gt;256位的16进制
        :return:
        '''</span>
        enc_key <span class="token operator">=</span> <span class="token string">'010001'</span>
        modulus <span class="token operator">=</span> <span class="token string">'00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7'</span>
        rs <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>hexlify<span class="token punctuation">(</span>self<span class="token punctuation">.</span>i<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>enc_key<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>modulus<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">format</span><span class="token punctuation">(</span>rs<span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">music</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    file_path<span class="token operator">=</span><span class="token string">"./data/music.wav"</span>

    <span class="token comment"># 先调用录音函数</span>
    record<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token comment"># 语音转成文字的内容</span>
    song_message <span class="token operator">=</span> voice2text<span class="token punctuation">(</span>APP_ID<span class="token punctuation">,</span> API_KEY<span class="token punctuation">,</span> SECRET_KEY<span class="token punctuation">,</span> file_path<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>song_message<span class="token punctuation">)</span>
    song_name <span class="token operator">=</span> song_message<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'播放'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    Msuic <span class="token operator">=</span> GetMusic<span class="token punctuation">(</span><span class="token punctuation">)</span>
    Msuic<span class="token punctuation">.</span>get_music_list_info<span class="token punctuation">(</span>song_name<span class="token punctuation">)</span>
    songid<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">(</span>SongId<span class="token punctuation">)</span>

    headers <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string">'User-agent'</span><span class="token punctuation">:</span>
                <span class="token string">'Mozilla/5.0 (X11; Linux x86_64; rv:57.0)Gecko/20100101 Firefox/57.0'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span>

    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://music.163.com/song/media/outer/url?id="</span> <span class="token operator">+</span> songid <span class="token operator">+</span> <span class="token string">".mp3"</span><span class="token punctuation">,</span>
                             headers <span class="token operator">=</span> headers<span class="token punctuation">)</span>
    content <span class="token operator">=</span> response<span class="token punctuation">.</span>content
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./data/'</span><span class="token operator">+</span>SongName<span class="token operator">+</span><span class="token string">'.mp3'</span><span class="token punctuation">,</span> mode <span class="token operator">=</span> <span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>content<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>SongName <span class="token operator">+</span> <span class="token string">"  "</span> <span class="token operator">+</span> <span class="token string">"下载完成"</span><span class="token punctuation">)</span>

    engine <span class="token operator">=</span> pyttsx3<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token string">"即将为您播放 "</span><span class="token operator">+</span>Songer<span class="token operator">+</span><span class="token string">' 的 '</span><span class="token operator">+</span>SongName<span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>runAndWait<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    filename <span class="token operator">=</span> <span class="token string">'./data/'</span> <span class="token operator">+</span> SongName<span class="token operator">+</span><span class="token string">'.mp3'</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>load<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>music<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#天气播报</span>
<span class="token keyword">def</span> <span class="token function">weather</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 存放的文件名称</span>
    file_path<span class="token operator">=</span><span class="token string">'./data/weather-audio.wav'</span>

    <span class="token comment"># 先调用录音函数</span>
    record<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    <span class="token comment"># 语音转成文字的内容</span>
    weather_message <span class="token operator">=</span>voice2text<span class="token punctuation">(</span>APP_ID<span class="token punctuation">,</span> API_KEY<span class="token punctuation">,</span> SECRET_KEY<span class="token punctuation">,</span> file_path<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>weather_message<span class="token punctuation">)</span>
    <span class="token comment">#抓取中国天气网指定城主天气</span>
    <span class="token comment">#input_message=['播放杭州天气情况']</span>
    input2<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>weather_message<span class="token punctuation">)</span>  <span class="token comment">#转换成字符串</span>
    city_name<span class="token operator">=</span>input2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>

    s1 <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'https://v0.yiketianqi.com/api?unescape=1&amp;version=v61&amp;appid=</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>yikeyun_appid<span class="token punctuation">}</span></span><span class="token string">&amp;appsecret=</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>yikeyun_appsecret<span class="token punctuation">}</span></span><span class="token string">&amp;city='</span></span>

    url<span class="token operator">=</span>s1<span class="token operator">+</span>city_name  <span class="token comment">#拼接 url</span>
    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    r<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span>
    <span class="token comment"># 提取相关天气信息</span>
    date<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"date"</span><span class="token punctuation">]</span>
    templow<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"tem2"</span><span class="token punctuation">]</span>
    temphigh<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"tem1"</span><span class="token punctuation">]</span>
    tempnow<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"tem"</span><span class="token punctuation">]</span>
    week<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"week"</span><span class="token punctuation">]</span>
    tip<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"air_tips"</span><span class="token punctuation">]</span>
    weather<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'wea_day'</span><span class="token punctuation">]</span>
    add<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"city"</span><span class="token punctuation">]</span>
    wind<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'win'</span><span class="token punctuation">]</span>
    WS<span class="token operator">=</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"win_speed"</span><span class="token punctuation">]</span>
    t <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 当前时间的纪元值</span>
    fmt <span class="token operator">=</span> <span class="token string">"%H %M"</span>
    now <span class="token operator">=</span> time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span>fmt<span class="token punctuation">,</span> t<span class="token punctuation">)</span> <span class="token comment"># 将纪元值转化为包含时、分的字符串</span>
    now <span class="token operator">=</span> now<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span> <span class="token comment">#以空格切割，将时、分放入名为now的列表中</span>
    hour <span class="token operator">=</span> now<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    minute <span class="token operator">=</span> now<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    wea<span class="token operator">=</span><span class="token string">'你好，今天是%s%s，现在北京时间%s时%s分，%s天气 %s，气温%s摄氏度~%s摄氏度，现在为%s摄氏度，%s,风力%s，%s'</span><span class="token operator">%</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span>week<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>add<span class="token punctuation">,</span>weather<span class="token punctuation">,</span>templow<span class="token punctuation">,</span>temphigh<span class="token punctuation">,</span>tempnow<span class="token punctuation">,</span>wind<span class="token punctuation">,</span>WS<span class="token punctuation">,</span>tip<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>wea<span class="token punctuation">)</span>
    engine <span class="token operator">=</span> pyttsx3<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token string">'即将为您播放'</span><span class="token operator">+</span>city_name<span class="token operator">+</span><span class="token string">"天气情况"</span><span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span>wea<span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>runAndWait<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token comment">#新闻播报</span>
<span class="token keyword">def</span> <span class="token function">news</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">get_content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        url<span class="token operator">=</span><span class="token string">"https://news.topurl.cn/"</span> <span class="token comment"># 爬取一名话新闻网科技类新闻</span>
        headers<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.109 Safari/537.36'</span><span class="token punctuation">}</span>
        rqg<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span> <span class="token comment"># 开始爬取，设置headers信息来伪装成浏览器请求数据</span>
        rqg<span class="token punctuation">.</span>encoding<span class="token operator">=</span>chardet<span class="token punctuation">.</span>detect<span class="token punctuation">(</span>rqg<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'encoding'</span><span class="token punctuation">]</span>
        html<span class="token operator">=</span>rqg<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token comment">#换化编码为utf-8</span>
        soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token string">'lxml'</span><span class="token punctuation">)</span>
        soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#格式化soup对象</span>
        <span class="token keyword">return</span> soup
    soup2<span class="token operator">=</span>get_content<span class="token punctuation">(</span><span class="token punctuation">)</span>
    target<span class="token operator">=</span>soup2<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">'news-wrap'</span><span class="token punctuation">)</span> <span class="token comment">#取新闻标题</span>
    Tag<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> tag <span class="token keyword">in</span> target<span class="token punctuation">:</span>
        Tag<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tag<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#取新闻标题文本添加到列表中</span>
    list_news <span class="token operator">=</span> Tag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'\u2003'</span><span class="token punctuation">)</span>
    list_news<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 删除最后一个空项</span>

    engine <span class="token operator">=</span> pyttsx3<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token string">'即将为您播放新闻'</span><span class="token punctuation">)</span>
    engine<span class="token punctuation">.</span>runAndWait<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> news <span class="token keyword">in</span> list_news<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span>
        engine<span class="token punctuation">.</span>say<span class="token punctuation">(</span>news<span class="token punctuation">)</span>
        engine<span class="token punctuation">.</span>runAndWait<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#GUI界面</span>

speaker <span class="token operator">=</span> win32com<span class="token punctuation">.</span>client<span class="token punctuation">.</span>Dispatch<span class="token punctuation">(</span><span class="token string">"SAPI.SpVoice"</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Panel1</span><span class="token punctuation">(</span>wx<span class="token punctuation">.</span>Panel<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""class Panel1 creates a panel with an image on it, inherits wx.Panel"""</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># create the panel</span>
        wx<span class="token punctuation">.</span>Panel<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            image_file <span class="token operator">=</span> <span class="token string">'./image/bg.png'</span>
            bmp1 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Image<span class="token punctuation">(</span>image_file<span class="token punctuation">,</span> wx<span class="token punctuation">.</span>BITMAP_TYPE_ANY<span class="token punctuation">)</span><span class="token punctuation">.</span>ConvertToBitmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>bitmap1 <span class="token operator">=</span> wx<span class="token punctuation">.</span>StaticBitmap<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> bmp1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> IOError<span class="token punctuation">:</span>
            <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Image file is not found"</span><span class="token punctuation">)</span> <span class="token operator">%</span> image_file
            <span class="token keyword">raise</span> SystemExit
        pic1 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Image<span class="token punctuation">(</span><span class="token string">"./image/hudong.png"</span><span class="token punctuation">,</span> wx<span class="token punctuation">.</span>BITMAP_TYPE_ANY<span class="token punctuation">)</span><span class="token punctuation">.</span>ConvertToBitmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
        pic2 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Image<span class="token punctuation">(</span><span class="token string">"./image/yinyue.png"</span><span class="token punctuation">,</span> wx<span class="token punctuation">.</span>BITMAP_TYPE_ANY<span class="token punctuation">)</span><span class="token punctuation">.</span>ConvertToBitmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
        pic3 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Image<span class="token punctuation">(</span><span class="token string">"./image/tianqiqing.png"</span><span class="token punctuation">,</span> wx<span class="token punctuation">.</span>BITMAP_TYPE_ANY<span class="token punctuation">)</span><span class="token punctuation">.</span>ConvertToBitmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
        pic4 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Image<span class="token punctuation">(</span><span class="token string">"./image/xinwen.png"</span><span class="token punctuation">,</span> wx<span class="token punctuation">.</span>BITMAP_TYPE_ANY<span class="token punctuation">)</span><span class="token punctuation">.</span>ConvertToBitmap<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">#绘图按钮1，默认风格3D</span>
        self<span class="token punctuation">.</span>button1 <span class="token operator">=</span> wx<span class="token punctuation">.</span>BitmapButton<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bitmap1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pic1<span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">420</span><span class="token punctuation">)</span><span class="token punctuation">,</span>style<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>Bind<span class="token punctuation">(</span>wx<span class="token punctuation">.</span>EVT_BUTTON<span class="token punctuation">,</span> self<span class="token punctuation">.</span>On1Click<span class="token punctuation">,</span> self<span class="token punctuation">.</span>button1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button1<span class="token punctuation">.</span>SetDefault<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">#绘图按钮2，默认风格3D</span>
        self<span class="token punctuation">.</span>button2 <span class="token operator">=</span> wx<span class="token punctuation">.</span>BitmapButton<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bitmap1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pic2<span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">420</span><span class="token punctuation">)</span><span class="token punctuation">,</span>style<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>Bind<span class="token punctuation">(</span>wx<span class="token punctuation">.</span>EVT_BUTTON<span class="token punctuation">,</span> self<span class="token punctuation">.</span>On2Click<span class="token punctuation">,</span> self<span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button2<span class="token punctuation">.</span>SetDefault<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">#绘图按钮3，默认风格3D</span>
        self<span class="token punctuation">.</span>button3 <span class="token operator">=</span> wx<span class="token punctuation">.</span>BitmapButton<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bitmap1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pic3<span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">,</span>style<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>Bind<span class="token punctuation">(</span>wx<span class="token punctuation">.</span>EVT_BUTTON<span class="token punctuation">,</span> self<span class="token punctuation">.</span>On3Click<span class="token punctuation">,</span> self<span class="token punctuation">.</span>button3<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button3<span class="token punctuation">.</span>SetDefault<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">#绘图按钮4，默认风格3D</span>
        self<span class="token punctuation">.</span>button4 <span class="token operator">=</span> wx<span class="token punctuation">.</span>BitmapButton<span class="token punctuation">(</span>self<span class="token punctuation">.</span>bitmap1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> pic4<span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">)</span><span class="token punctuation">,</span>style<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>Bind<span class="token punctuation">(</span>wx<span class="token punctuation">.</span>EVT_BUTTON<span class="token punctuation">,</span> self<span class="token punctuation">.</span>On4Click<span class="token punctuation">,</span> self<span class="token punctuation">.</span>button4<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>button4<span class="token punctuation">.</span>SetDefault<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">On1Click</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"人机交互"</span><span class="token punctuation">)</span>
        speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"您已选择人机交互模式 "</span><span class="token punctuation">)</span>
        chatwithrobot<span class="token punctuation">(</span><span class="token punctuation">)</span>
        event<span class="token punctuation">.</span>Skip<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">On2Click</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"音乐播放"</span><span class="token punctuation">)</span>
        speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"您已选择音乐播放模式 "</span><span class="token punctuation">)</span>
        music<span class="token punctuation">(</span><span class="token punctuation">)</span>
        event<span class="token punctuation">.</span>Skip<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">On3Click</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"天气播报"</span><span class="token punctuation">)</span>
        speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"您已选择天气播报模式 "</span><span class="token punctuation">)</span>
        weather<span class="token punctuation">(</span><span class="token punctuation">)</span>
        event<span class="token punctuation">.</span>Skip<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">On4Click</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"新闻播报"</span><span class="token punctuation">)</span>
        speaker<span class="token punctuation">.</span>Speak<span class="token punctuation">(</span><span class="token string">"您已选择新闻播报模式 "</span><span class="token punctuation">)</span>
        news<span class="token punctuation">(</span><span class="token punctuation">)</span>
        event<span class="token punctuation">.</span>Skip<span class="token punctuation">(</span><span class="token punctuation">)</span>


app <span class="token operator">=</span> wx<span class="token punctuation">.</span>App<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
frame1 <span class="token operator">=</span> wx<span class="token punctuation">.</span>Frame<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">'Robot'</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># create the class instance</span>
panel1 <span class="token operator">=</span> Panel1<span class="token punctuation">(</span>frame1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
frame1<span class="token punctuation">.</span>Show<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>MainLoop<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h3><a id="_509"></a>代码及图片地址：</h3> 
<p><a href="https://gitee.com/ouaqq/python-voice-robot.git" rel="nofollow">https://gitee.com/ouaqq/python-voice-robot.git</a></p> 
<p>欢迎给个小小的star</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0dcb3d3ca57b7f3efb565cfcde621370/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">docker开启远程访问并配置IDEA连接</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/846d3ed6cf9fa6c826615745d36a5cba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu 下防火墙UFW使用介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>