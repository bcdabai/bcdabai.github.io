<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Map与Json之间的转化 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Map与Json之间的转化" />
<meta property="og:description" content="1.Map转化成JSON
package com.dbzhang.demo; import java.io.IOException; import java.util.HashMap; import java.util.Map; import com.fasterxml.jackson.core.JsonParseException; import com.fasterxml.jackson.core.type.TypeReference; import com.fasterxml.jackson.databind.JsonMappingException; import com.fasterxml.jackson.databind.ObjectMapper; public class Json2Map { /** * 该方法主要是用来将json字符串转化成map集合 * @param args * @throws IOException * @throws JsonMappingException * @throws JsonParseException */ public static void main(String[] args){ String json = &#34;{\&#34;name\&#34;:\&#34;zdb\&#34;,\&#34;age\&#34;:\&#34;26\&#34;}&#34;; Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;(); ObjectMapper mapper = new ObjectMapper(); try { map = mapper.readValue(json, new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() { }); System.out.println(map); } catch (JsonParseException e) { e." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1cbd15504edf94052f598507080d5e12/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-06-12T07:22:08+08:00" />
<meta property="article:modified_time" content="2018-06-12T07:22:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Map与Json之间的转化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1.Map转化成JSON</p> 
<pre><code class="language-java">package com.dbzhang.demo;


import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;
public class Json2Map {


<span style="white-space:pre;">	</span>/**
<span style="white-space:pre;">	</span> * 该方法主要是用来将json字符串转化成map集合
<span style="white-space:pre;">	</span> * @param args
<span style="white-space:pre;">	</span> * @throws IOException 
<span style="white-space:pre;">	</span> * @throws JsonMappingException 
<span style="white-space:pre;">	</span> * @throws JsonParseException 
<span style="white-space:pre;">	</span> */
<span style="white-space:pre;">	</span>public static void main(String[] args){
<span style="white-space:pre;">		</span>
<span style="white-space:pre;">		</span>String json = "{\"name\":\"zdb\",\"age\":\"26\"}";
<span style="white-space:pre;">		</span>Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();
<span style="white-space:pre;">		</span>ObjectMapper mapper = new ObjectMapper();
<span style="white-space:pre;">		</span>try {
<span style="white-space:pre;">			</span>map = mapper.readValue(json, new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() {
<span style="white-space:pre;">			</span>});
<span style="white-space:pre;">			</span>System.out.println(map);
<span style="white-space:pre;">		</span>} catch (JsonParseException e) {
<span style="white-space:pre;">			</span>e.printStackTrace();
<span style="white-space:pre;">		</span>} catch (JsonMappingException e) {
<span style="white-space:pre;">			</span>e.printStackTrace();
<span style="white-space:pre;">		</span>} catch (IOException e) {
<span style="white-space:pre;">			</span>e.printStackTrace();
<span style="white-space:pre;">		</span>}
<span style="white-space:pre;">		</span>
<span style="white-space:pre;">	</span>}


}</code></pre> 
<pre><code class="language-java">输出结果如下：</code></pre> 
<img src="https://images2.imgbox.com/27/a1/Q9WV3MKD_o.png" alt=""> 
<p>2.将Map转化成JSON:<br></p> 
<pre><code class="language-java">package com.dbzhang.demo;

import java.util.HashMap;
import java.util.Map;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;

public class Map2Json {

	/**
	 * 这个类主要将map转化成json
	 * @param args
	 */
	public static void main(String[] args) {
		
		ObjectMapper mapper = new ObjectMapper();
		Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();
		String json = "";
		map.put("name", "zdb");
		map.put("age", "25");
		try {
			json = mapper.writeValueAsString(map);
			System.out.println(json);
		} catch (JsonProcessingException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
	}

}
</code></pre> 
<p>输出结果：</p> 
<p><img src="https://images2.imgbox.com/12/e7/7nckt3kW_o.png" alt=""><br></p> 
<p>3.map转成Json文件：</p> 
<pre><code class="language-html">package com.dbzhang.demo;

import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.fasterxml.jackson.core.JsonGenerationException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.ObjectMapper;

public class Map2JsonFile {

	/**
	 * 这个方法主要是用来将map转化成Json文件
	 * @param args
	 */
	public static void main(String[] args) {
		ObjectMapper mapper = new ObjectMapper();
		Map&lt;String,Object&gt; map = new HashMap&lt;String,Object&gt;();
		map.put("name", "lisi");
		map.put("age", 28);
		List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();
		list.add("登上");
		list.add("旅游");
		map.put("hobby", list);
		try {
			mapper.writeValue(new File("F:/json.text"), map);
		} catch (JsonGenerationException e) {
			e.printStackTrace();
		} catch (JsonMappingException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}

	}

}
</code></pre> 
<p>输出结果：</p> 
<p><img src="https://images2.imgbox.com/8f/ca/W1jHCPqw_o.png" alt=""><br></p> 
<p><img src="https://images2.imgbox.com/76/e1/mh1GR482_o.png" alt=""><br></p> 
<p><br></p> 
<p> </p> 
<p>汇总：所需要的包：</p> 
<p><img src="https://images2.imgbox.com/fc/a9/lKMbBSp8_o.png" alt=""><br></p> 
<p><br></p> 
<p><br></p> 
<p><br></p> 
<p><br></p> 
<a href="#" rel="nofollow" title="摘录并分享到移动设备" class="okmemo-phone"></a> 
<a href="#" rel="nofollow" title="摘录到方片收集" class="okmemo-clip"></a>请使用手机"扫一扫"x
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/773c6e6e684f2cb7510b5997254aee69/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA  第五次实验：类的多态性</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe5e558e3a457beda8335a6a6a3415ce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">-xzvf的具体意思</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>