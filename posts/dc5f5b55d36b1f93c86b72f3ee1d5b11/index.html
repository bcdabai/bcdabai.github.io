<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>解决elementuiplus的button组件点击之后仍然是hover的问题以及修改主题颜色之后button的颜色问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="解决elementuiplus的button组件点击之后仍然是hover的问题以及修改主题颜色之后button的颜色问题" />
<meta property="og:description" content="最近遇到了elementui的button组件的问题，到目前位置官网也是这样的。自己摸索着修复这个问题。
1、解决hover的问题 1、在文件见中定义一个scss文件（css文件好像不行，必须是sacc），在里面写以下内容。
.el-button.el-button--primary:not(.is-disabled):focus { background-color: var(--el-color-primary); } .el-button.is-link:not(.is-disabled):focus { color: var(--el-button-text-color) !important; background-color: none !important; } .el-button.el-button--small:not(.is-disabled, .el-button--primary):focus { background-color: none !important; } 2、在main.ts引入它就行了
3、效果
4、存在的问题：只要点击一次之后 就不会有hover效果了。但是点击其他区域之后又有了。由于项目中对hover效果不是很敏感 所有就没有深入了。
2、解决修改主题之后颜色没有正确的问题 问题复现：
修改问题：
在您的修改主题色的地方加上以上代码就行了
import { useChangeColor } from &#39;@/utils/theme&#39; const { getLightColor, getDarkColor } = useChangeColor() /** * 切换主题颜色 * @param color 选择的主题颜色 */ function changeThemeColor(color: string) { document.documentElement.style.setProperty(&#34;--el-color-primary&#34;, color); document.documentElement.style.setProperty(&#39;--el-color-primary-dark-2&#39;, `${getDarkColor(color, 0.1)}`) for (let i = 1; i &lt;= 9; i&#43;&#43;) { document." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/dc5f5b55d36b1f93c86b72f3ee1d5b11/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-06T16:11:36+08:00" />
<meta property="article:modified_time" content="2023-12-06T16:11:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">解决elementuiplus的button组件点击之后仍然是hover的问题以及修改主题颜色之后button的颜色问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>最近遇到了elementui的button组件的问题，到目前位置官网也是这样的。自己摸索着修复这个问题。</p> 
<h2>1、解决hover的问题</h2> 
<p>1、在文件见中定义一个scss文件（css文件好像不行，必须是sacc），在里面写以下内容。</p> 
<pre><code class="language-css">.el-button.el-button--primary:not(.is-disabled):focus {
  background-color: var(--el-color-primary);
}
.el-button.is-link:not(.is-disabled):focus {
  color: var(--el-button-text-color) !important;
  background-color: none !important;
}
.el-button.el-button--small:not(.is-disabled, .el-button--primary):focus {
  background-color: none !important;
}</code></pre> 
<p>2、在main.ts引入它就行了</p> 
<p>3、效果</p> 
<p><img alt="" height="66" src="https://images2.imgbox.com/82/64/ZxDwI5xz_o.gif" width="94"></p> 
<p>4、存在的问题：只要点击一次之后 就不会有hover效果了。但是点击其他区域之后又有了。由于项目中对hover效果不是很敏感 所有就没有深入了。</p> 
<h2>2、解决修改主题之后颜色没有正确的问题</h2> 
<p>问题复现：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/08/d1/WjIYUkX2_o.gif"></p> 
<p>修改问题：</p> 
<p> 在您的修改主题色的地方加上以上代码就行了</p> 
<pre><code class="language-javascript">import { useChangeColor } from '@/utils/theme'
const { getLightColor, getDarkColor } = useChangeColor()
/**
 * 切换主题颜色
 * @param color 选择的主题颜色
 */
function changeThemeColor(color: string) {
  document.documentElement.style.setProperty("--el-color-primary", color);
  document.documentElement.style.setProperty('--el-color-primary-dark-2', `${getDarkColor(color, 0.1)}`)
  for (let i = 1; i &lt;= 9; i++) {
    document.documentElement.style.setProperty(`--el-color-primary-light-${i}`, `${getLightColor(color, i / 10)}`)
  }
  // 将选中的颜色存到pinia中
  settingsStore.changeSetting({ key: "themeColor", value: color });
}</code></pre> 
<p>theme.ts</p> 
<pre><code class="language-javascript">import { ElMessage } from 'element-plus'

/**
 * 颜色转换函数
 * @method hexToRgb hex 颜色转 rgb 颜色
 * @method rgbToHex rgb 颜色转 Hex 颜色
 * @method getDarkColor 加深颜色值
 * @method getLightColor 变浅颜色值
 */
export function useChangeColor() {
  // str 颜色值字符串
  const hexToRgb = (str: string): any =&gt; {
    let hexs: any = ''
    let reg = /^#(?:[0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$/
    if (!reg.test(str)) {
      ElMessage.warning('输入错误的hex')
      return ''
    }
    str = str.replace('#', '')
    hexs = str.match(/../g)
    for (let i = 0; i &lt; 3; i++) hexs[i] = parseInt(hexs[i], 16)
    return hexs
  }
  // r 代表红色 | g 代表绿色 | b 代表蓝色
  const rgbToHex = (r: any, g: any, b: any): string =&gt; {
    let reg = /^\d{1,3}$/
    if (!reg.test(r) || !reg.test(g) || !reg.test(b)) {
      ElMessage.warning('输入错误的rgb颜色值')
      return ''
    }
    let hexs = [r.toString(16), g.toString(16), b.toString(16)]
    for (let i = 0; i &lt; 3; i++) if (hexs[i].length == 1) hexs[i] = `0${hexs[i]}`
    return `#${hexs.join('')}`
  }
  // color 颜色值字符串 | level 变浅的程度，限0-1之间
  const getDarkColor = (color: string, level: number): string =&gt; {
    let reg = /^#(?:[0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$/
    if (!reg.test(color)) {
      ElMessage.warning('输入错误的hex颜色值')
      return ''
    }
    let rgb = useChangeColor().hexToRgb(color)
    for (let i = 0; i &lt; 3; i++) rgb[i] = Math.floor(rgb[i] * (1 - level))
    return useChangeColor().rgbToHex(rgb[0], rgb[1], rgb[2])
  }
  // color 颜色值字符串 | level 加深的程度，限0-1之间
  const getLightColor = (color: string, level: number): string =&gt; {
    let reg = /^#(?:[0-9A-Fa-f]{3}|[0-9A-Fa-f]{6}|[0-9A-Fa-f]{8})$/
    if (!reg.test(color)) {
      ElMessage.warning('输入错误的hex颜色值')
      return ''
    }
    let rgb = useChangeColor().hexToRgb(color)
    for (let i = 0; i &lt; 3; i++) rgb[i] = Math.floor((255 - rgb[i]) * level + rgb[i])
    return useChangeColor().rgbToHex(rgb[0], rgb[1], rgb[2])
  }
  return {
    hexToRgb,
    rgbToHex,
    getDarkColor,
    getLightColor
  }
}</code></pre> 
<p>效果 </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/f2/a4/IFEiSNoW_o.gif"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/496aca305bcfb2e5e47c51f3567d45c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C&#43;&#43;[面向对象的程序设计]_基础入门（上）(万字总结)（建议收藏！！！）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ff988232b02ac72792f9bef8d75d1c8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">淘宝权益玩法平台的Serverless化实践</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>