<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>遍历子网所有ip地址，寻找空闲ip - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="遍历子网所有ip地址，寻找空闲ip" />
<meta property="og:description" content=" 在cmd窗口下输入如下代码：
for /l %i in (1,1,255) do ping -n 1 -w 60 10.183.27.%i | find &#34;Reply&#34; &gt;&gt; d:\pingall27.log 得到如下结果
上图中，有reply的代表该IP已经被占用。但是观察红框中 22--&gt;25之间缺少23 24 则说明23/24 是空闲IP地址；同理29--&gt;40之间也是空闲地址。
需要注意的是：没有reply的并不代表一定是空闲地址，也有可能是该IP地址所属的主机开启了防火墙，导致你ping不通该地址。
以下是代码解释：
这段命令是一个Windows批处理命令，用于批量ping一系列IP地址并将结果保存到日志文件中。我将为你详细解释每部分的功能： for /l %i in (1,1,255)：这是一个for循环，/l参数表示对一个数字序列进行迭代。这里，数字序列从1开始，每次增加1，直到255。%i是循环变量的表示。 do ping -n 1 -w 60 10.183.27.%i：这是在每次循环中要执行的操作。ping命令用于发送ICMP回应请求到目标主机。 -n 1：表示只发送一个ping请求。 -w 60：表示等待每个回应的超时时间为60毫秒。 10.183.27.%i：这是目标IP地址的格式。它表示从10.183.27.1到10.183.27.255的所有IP地址。通过使用%i，我们可以为每个循环迭代生成一个不同的IP地址。 |：这是一个管道符号，用于将前一个命令的输出传递给后一个命令作为输入。 find &#34;Reply&#34;：这是一个find命令，用于搜索特定的字符串。在这里，它搜索字符串&#34;Reply&#34;，这通常表示ping请求成功地得到了回应。 &gt;&gt; d:\pingall27.log：这将上述find命令的输出追加到名为&#34;pingall27.log&#34;的文件中。如果文件不存在，它将被创建。如果文件已存在，新的输出将被追加到文件的末尾，而不是覆盖现有内容。 综上所述，这个命令将ping从10.183.27.1到10.183.27.255的所有IP地址，并将每个成功回应的IP地址及其对应的ping时间追加到一个日志文件中。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/0b5fd151bb1f1272ba746e2622a32672/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-23T13:35:30+08:00" />
<meta property="article:modified_time" content="2024-01-23T13:35:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">遍历子网所有ip地址，寻找空闲ip</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在cmd窗口下输入如下代码：</p> 
<pre><code class="hljs">for /l %i in (1,1,255) do ping -n 1 -w 60 10.183.27.%i | find "Reply" &gt;&gt; d:\pingall27.log</code></pre> 
<p>得到如下结果</p> 
<p><img alt="" height="850" src="https://images2.imgbox.com/71/be/lOkwAzYE_o.png" width="667"></p> 
<p>上图中，有reply的代表该IP已经被占用。但是观察红框中 22--&gt;25之间缺少23 24 则说明23/24 是空闲IP地址；同理29--&gt;40之间也是空闲地址。</p> 
<p><span style="color:#fe2c24;"><strong>需要注意的是：没有reply的并不代表一定是空闲地址，也有可能是该IP地址所属的主机开启了防火墙，导致你ping不通该地址。</strong></span></p> 
<p></p> 
<p><span style="color:#fe2c24;"><strong>以下是代码解释：</strong></span></p> 
<pre><code class="hljs">这段命令是一个Windows批处理命令，用于批量ping一系列IP地址并将结果保存到日志文件中。我将为你详细解释每部分的功能：

    for /l %i in (1,1,255)：这是一个for循环，/l参数表示对一个数字序列进行迭代。这里，数字序列从1开始，每次增加1，直到255。%i是循环变量的表示。

    do ping -n 1 -w 60 10.183.27.%i：这是在每次循环中要执行的操作。ping命令用于发送ICMP回应请求到目标主机。
        -n 1：表示只发送一个ping请求。 
        -w 60：表示等待每个回应的超时时间为60毫秒。 
        10.183.27.%i：这是目标IP地址的格式。它表示从10.183.27.1到10.183.27.255的所有IP地址。通过使用%i，我们可以为每个循环迭代生成一个不同的IP地址。

    |：这是一个管道符号，用于将前一个命令的输出传递给后一个命令作为输入。

    find "Reply"：这是一个find命令，用于搜索特定的字符串。在这里，它搜索字符串"Reply"，这通常表示ping请求成功地得到了回应。

    &gt;&gt; d:\pingall27.log：这将上述find命令的输出追加到名为"pingall27.log"的文件中。如果文件不存在，它将被创建。如果文件已存在，新的输出将被追加到文件的末尾，而不是覆盖现有内容。

综上所述，这个命令将ping从10.183.27.1到10.183.27.255的所有IP地址，并将每个成功回应的IP地址及其对应的ping时间追加到一个日志文件中。</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c0b9345cc16efe2b5012ba1472dfe8a2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">flutter 中使用flutter_slidable 实现左滑显示删除、修改菜单，仿微信</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c8429eab5d99a2b64b083f9b56e1fd39/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Microsoft Visual Studio 2022的安装与使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>