<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ansible常用模块 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ansible常用模块" />
<meta property="og:description" content="copy模块
目的：把主控端/root目录下的a.sh文件拷贝到到指定节点上
命令：ansible 10.1.1.113 -m copy -a &#39;src=/root/a.sh dest=/tmp/&#39;
file模块
目的：更改指定节点上/tmp/t.sh的权限为755，属主和属组为root
命令：ansible all -m file -a &#34;dest=/tmp/t.sh mode=755 owner=root group=root&#34;
cron模块：
目的：在指定节点上定义一个计划任务，每隔3分钟到主控端更新一次时间
命令：ansible all -m cron -a &#39;name=&#34;custom job&#34; minute=*/3 hour=* day=* month=* weekday=* job=&#34;/usr/sbin/ntpdate 172.16.254.139&#34;&#39;
group模块：
目的：在所有节点上创建一个组名为nolinux，gid为2014的组
命令：ansible all -m group -a &#39;gid=2014 name=nolinux&#39;
user模块：
目的：在指定节点上创建一个用户名为nolinux，组为nolinux的用户
命令：ansible 10.1.1.113 -m user -a &#39;name=nolinux groups=nolinux state=present&#39;
yum模块：
目的：在指定节点上安装 lrzsz 服务
命令：ansible all -m yum -a &#34;state=present name=httpd&#34;
service模块：
目的：启动指定节点上的 puppet 服务，并让其开机自启动" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/85ddbff0746f74ae618e0c2ecc3b3da3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-17T16:05:00+08:00" />
<meta property="article:modified_time" content="2017-08-17T16:05:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ansible常用模块</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>copy模块<br> 目的：把主控端/root目录下的a.sh文件拷贝到到指定节点上<br> 命令：ansible 10.1.1.113 -m copy -a 'src=/root/a.sh dest=/tmp/'</p> 
 <p><br>file模块<br> 目的：更改指定节点上/tmp/t.sh的权限为755，属主和属组为root<br> 命令：ansible all -m file -a "dest=/tmp/t.sh mode=755 owner=root group=root"</p> 
 <p>cron模块：<br> 目的：在指定节点上定义一个计划任务，每隔3分钟到主控端更新一次时间<br> 命令：ansible all -m cron -a 'name="custom job" minute=*/3 hour=* day=* month=* weekday=* job="/usr/sbin/ntpdate 172.16.254.139"'</p> 
 <p>group模块：<br> 目的：在所有节点上创建一个组名为nolinux，gid为2014的组<br> 命令：ansible all -m group -a 'gid=2014 name=nolinux'</p> 
 <p><br>user模块：<br> 目的：在指定节点上创建一个用户名为nolinux，组为nolinux的用户<br> 命令：ansible 10.1.1.113 -m user -a 'name=nolinux groups=nolinux state=present'</p> 
 <p>yum模块：<br> 目的：在指定节点上安装 lrzsz 服务<br> 命令：ansible all -m yum -a "state=present name=httpd"</p> 
 <p><br>service模块：<br> 目的：启动指定节点上的 puppet 服务，并让其开机自启动<br> 命令：ansible 10.1.1.113 -m service -a 'name=puppet state=restarted enabled=yes'</p> 
 <p><br>script模块：<br> 目的：在指定节点上执行/root/a.sh脚本(该脚本是在ansible控制节点上的)<br> 命令：ansible 10.1.1.113 -m script -a '/root/a.sh'</p> 
 <p>ping模块：<br> 目的：检查指定节点机器是否还能连通<br> 命令：ansible 10.1.1.113 -m ping</p> 
 <p>command模块：<br> 目的：在指定节点上运行hostname命令<br> 命令：ansible 10.1.1.113 -m command -a 'hostname'</p> 
 <p>raw模块：<br> 目的：在10.1.1.113节点上运行hostname命令<br> 命令：ansible 10.1.1.113 -m raw-a 'hostname|tee'</p> 
 <p>get_url模块：<br> 目的：将http://10.1.1.116/favicon.ico文件下载到指定节点的/tmp目录下<br> 命令：ansible 10.1.1.113 -m get_url -a 'url=http://10.1.1.116/favicon.ico dest=/tmp'</p> 
 <p>synchronize模块：<br> 目的：将主控方/root/a目录推送到指定节点的/tmp目录下<br> 命令：ansible 10.1.1.113 -m synchronize -a 'src=/root/a dest=/tmp/ compress=yes'<br> 执行效果：<br>delete=yes 使两边的内容一样（即以推送方为主）<br>compress=yes 开启压缩，默认为开启<br>--exclude=.Git 忽略同步.git结尾的文件<br>mode=pull 更改推送模式为拉取模式<br> 目的：将10.1.1.113节点的/tmp/a目录拉取到主控节点的/root目录下<br> 命令：ansible 10.1.1.113 -m synchronize -a 'mode=pull src=/tmp/a dest=/root/'</p> 
</div> 
<p>转载于:https://www.cnblogs.com/creazylinux/p/7382258.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c6b6364a0bb885c6cde9004296f7015/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大话 Select、Poll、Epoll</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8adab01d6f12566e65f3599cf46242b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">dp 电子科大本部食堂的饭卡有一种很诡异的设计，即在购买之前判断余额。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>