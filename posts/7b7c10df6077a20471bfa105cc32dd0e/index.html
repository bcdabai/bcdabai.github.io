<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【服务器】无法进行ssh连接的问题逐一排查以及解决方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【服务器】无法进行ssh连接的问题逐一排查以及解决方法" />
<meta property="og:description" content="一、检查服务器网络 先检查是否是网络的问题。按快捷键Win&#43;R，在弹出的对话框中输入cmd。
点击确定运行。在cmd窗口输入ping一下服务器的ip地址。
如果出现请求超时，解决办法如下：
在服务器端输入ifconfig命令，查看要连接的网络的状态。如果服务器网卡正常，可能是连接时输入的ip地址错误，在xshell客户端输入正确的ip重新连接即可；否则就要重新配置网卡。
二、 检查端口是否开启 如果ip地址可以ping通，就要排查端口问题。在cmd窗口中，用telnet命令进行测试。
1. 如果显示连接失败，可能是端口未开，需要在服务器上查看端口信息。 netstat -ntlp|grep 22 2. 输入命令后，如果没有22端口的信息，就需要开放端口号。执行以下命令后再使用xshell重新连接服务器。 三、 检查SSH服务 ps -le|grep ssh 上图表示SSH服务已开启。如果没有启动，则需要执行命令“service ssh start”启动服务，然后重连服务器。
四、查看运行状态并启动ssh服务时报错 查看ssh运行状态：
systemctl status sshd.service 发现服务未启动，尝试使用命令
/etc/init.d/sshd start 启动服务，结果失败
使用命令journalctl -xe查看失败的具体原因，发现：
sshd: /lib/libcrypto.so.10: version `OPENSSL_1.0.2’ not found (required by sshd)
此时执行：
cp /usr/lib64/libcrypto.so.10 /usr/lib 最后重启ssh即可
1. 无法loading libgcc_s.so.1的问题 再次报错：
rpm: error while loading shared libraries: libgcc_s.so.1: cannot open
shared object file: No such file or directory" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7b7c10df6077a20471bfa105cc32dd0e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-19T15:29:42+08:00" />
<meta property="article:modified_time" content="2022-11-19T15:29:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【服务器】无法进行ssh连接的问题逐一排查以及解决方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、检查服务器网络</h2> 
<p>先检查是否是网络的问题。按快捷键Win+R，在弹出的对话框中输入cmd。<br> <img src="https://images2.imgbox.com/78/4f/5NRSVuZp_o.png" alt="在这里插入图片描述"><br> 点击确定运行。在cmd窗口输入ping一下服务器的ip地址。</p> 
<p><img src="https://images2.imgbox.com/33/4f/lSppOZeQ_o.png" alt="在这里插入图片描述"></p> 
<p>如果出现请求超时，解决办法如下：</p> 
<p>在服务器端输入ifconfig命令，查看要连接的网络的状态。如果服务器网卡正常，可能是连接时输入的ip地址错误，在xshell客户端输入正确的ip重新连接即可；否则就要重新配置网卡。</p> 
<h2><a id="__11"></a>二、 检查端口是否开启</h2> 
<p>如果ip地址可以ping通，就要排查端口问题。在cmd窗口中，用telnet命令进行测试。<br> <img src="https://images2.imgbox.com/33/47/0h0xkFIw_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1__14"></a>1. 如果显示连接失败，可能是端口未开，需要在服务器上查看端口信息。</h3> 
<pre><code class="prism language-bash"><span class="token function">netstat</span> -ntlp<span class="token operator">|</span><span class="token function">grep</span> <span class="token number">22</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/95/66/rlvJvN3I_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_22xshell_21"></a>2. 输入命令后，如果没有22端口的信息，就需要开放端口号。执行以下命令后再使用xshell重新连接服务器。</h3> 
<p><img src="https://images2.imgbox.com/1c/2d/XUn88OnQ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_SSH_25"></a>三、 检查SSH服务</h2> 
<pre><code class="prism language-bash"><span class="token function">ps</span> -le<span class="token operator">|</span><span class="token function">grep</span> <span class="token function">ssh</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3d/72/Z6PM9Nyg_o.png" alt="在这里插入图片描述"></p> 
<p>上图表示SSH服务已开启。如果没有启动，则需要执行命令“<code>service ssh start</code>”启动服务，然后重连服务器。</p> 
<h2><a id="ssh_35"></a>四、查看运行状态并启动ssh服务时报错</h2> 
<p>查看ssh运行状态：</p> 
<pre><code class="prism language-bash">systemctl status sshd.service
</code></pre> 
<p>发现服务未启动，尝试使用命令</p> 
<pre><code class="prism language-bash">/etc/init.d/sshd start
</code></pre> 
<p>启动服务，结果失败</p> 
<p>使用命令<code>journalctl -xe</code>查看失败的具体原因，发现：</p> 
<blockquote> 
 <p>sshd: /lib/libcrypto.so.10: version `OPENSSL_1.0.2’ not found (required by sshd)</p> 
</blockquote> 
<p>此时执行：</p> 
<pre><code class="prism language-bash"><span class="token function">cp</span> /usr/lib64/libcrypto.so.10 /usr/lib
</code></pre> 
<p>最后重启ssh即可</p> 
<h3><a id="1_loading_libgcc_sso1_60"></a>1. 无法loading libgcc_s.so.1的问题</h3> 
<p>再次报错：</p> 
<blockquote> 
 <p>rpm: error while loading shared libraries: libgcc_s.so.1: cannot open<br> shared object file: No such file or directory<br> <br> libgcc_s.so.1: cannot open shared object file: No such file or<br> directory</p> 
</blockquote> 
<p>这是系统乱删rpm导致再次安装包时出现 error while loading shared libraries: libgcc_s.so.1所产生的问题</p> 
<p>解决：</p> 
<p>安装<code>libgcc_s.so.1</code>包</p> 
<pre><code class="prism language-bash"><span class="token comment"># For RedHat (or similar distributions):</span>
yum <span class="token function">install</span> libgcc_s.so.1

<span class="token comment"># For Debian (or similar distributions):</span>
<span class="token function">apt-get</span> <span class="token function">install</span> libgcc_s.so.1
</code></pre> 
<h3><a id="2_libgcc_yum_install_libgcc_sso1_83"></a>2. 安装libgcc 时</h3> 
<blockquote> 
 <p>Error: Multilib version problems found. This often means that the root<br> cause is something else and multilib version checking is just<br> pointing out that there is a problem. Eg.:</p> 
</blockquote> 
<pre><code>     1. You have an upgrade for libgcc which is missing some
        dependency that another package requires. Yum is trying to
        solve this by installing an older version of libgcc of the
        different architecture. If you exclude the bad architecture
        yum will tell you what the root cause is (which package
        requires what). You can try redoing the upgrade with
        --exclude libgcc.otherarch ... this should give you an error
        message showing the root cause of the problem.
   
     2. You have multiple architectures of libgcc installed, but
        yum can only see an upgrade for one of those arcitectures.
        If you don't want/need both architectures anymore then you
        can remove the one with the missing update and everything
        will work.
   
     3. You have duplicate versions of libgcc installed already.
        You can use "yum check" to get yum show these errors.
   
   ...you can also use --setopt=protected_multilib=false to remove
   this checking, however this is almost never the correct thing to
   do as something else is very likely to go wrong (often causing
   much more problems).
   
   Protected multilib versions: libgcc-4.4.7-4.el6.i686 != libgcc-4.4.7-3.el6.x86_64
   You could try using --skip-broken to work around the problem
   You could try running: rpm -Va --nofiles –nodigest
</code></pre> 
<p>原理：<br> 这是由于多个libgcc版本冲突所导致。libgcc_x86_64的版本与libgcc不同。尝试在安装libgcc_s库的同时更新libgcc_s_64库：</p> 
<p>解决方案：</p> 
<pre><code class="prism language-bash">yum <span class="token function">install</span> libgcc.x86_64 libgcc_s.so.1
</code></pre> 
<p>此时重启服务器以及重启ssh服务——成功解决！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3fc3acd1d12f0b50a1c342cdf9fcd61c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Git切换分支（创建本地分支，远程分支，合并分支代码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bf410fa1271bfaa2cf1f731b95bfbc67/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">UE4基础学习笔记———零碎知识04</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>