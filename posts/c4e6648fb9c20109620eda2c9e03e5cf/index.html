<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Linux&#43;opencv】安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Linux&#43;opencv】安装" />
<meta property="og:description" content="一、搭建编译环境 在Linux系统下使用C&#43;&#43;开发opencv项目，首先要搭建C/C&#43;&#43;开发环境。
1、在终端输入以下代码，以安装C/C&#43;&#43;编译器（GCC/G&#43;&#43;）。
sudo apt install gcc sudo apt install g&#43;&#43; 2、安装cmake编译工具
（在openCV2.2版本之后，需要用cmake来生成Makefile文件，在安装OpenCV之前，要安装cmake以及cmake依赖库）
sudo apt install cmake 二、安装相关依赖库 1、安装libgtk
(GTK是一个Linux平台下基于Xwindows图形窗口的图形用户编程接口工具，可以借助它开开发Linux平台下基于Xwindows的图形用户界面)
sudo apt install libgtk2.0-dev 2、安装pkg-config
(在Linux系统下安装第三方软件时要用到第三方软件的头文件以及相关库，在编译时指定库和头文件是十分麻烦的，而pkg-config能够把这些头文件和库文件的位置指出来给编译器使用)
sudo apt install pkg-config 三、安装OpenCV 1、在OpenCV官网下载sources。
（https://opencv.org/releases/）
2、打开安装包所在位置，在终端输入：
（解压安装包）
unzip opencv-4.5.5.zip 3、解压完成后，在当前目录下会生成opencv-x.x.x文件夹，在终端输入：
（进入该文件夹）
cd opencv-x.x.x 4、在此路径下新建一个编译目录build。
mkdir build 5、进行cmake-make编译
cmake .. make -j2 make -j2是指2核同时编译，可以根据自己的核数进行调整，比如-j5，核数越多编译速度就越快。
以上操作如果不成功的话尝试以下命令
cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local .. make -j2 6、在终端输入sudo make install进行安装
sudo make install 四、配置环境变量 1、进入root权限，在终端输入：
sudo -i vim /etc/ld." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c4e6648fb9c20109620eda2c9e03e5cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-19T10:57:52+08:00" />
<meta property="article:modified_time" content="2023-10-19T10:57:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Linux&#43;opencv】安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、搭建编译环境</h2> 
<p>在Linux系统下使用C++开发opencv项目，首先要搭建C/C++开发环境。</p> 
<p>1、在终端输入以下代码，以安装C/C++编译器（GCC/G++）。</p> 
<pre><code class="language-cpp">sudo apt install gcc
sudo apt install g++</code></pre> 
<p>2、安装cmake编译工具</p> 
<p>（在openCV2.2版本之后，需要用cmake来生成Makefile文件，在安装OpenCV之前，要安装cmake以及cmake依赖库）</p> 
<pre><code class="language-cpp">sudo apt install cmake</code></pre> 
<h2>二、安装相关依赖库</h2> 
<p>1、安装libgtk</p> 
<p>(GTK是一个Linux平台下基于Xwindows图形窗口的图形用户编程接口工具，可以借助它开开发Linux平台下基于Xwindows的图形用户界面)</p> 
<pre><code class="language-cpp">sudo apt install libgtk2.0-dev</code></pre> 
<p>2、安装pkg-config</p> 
<p>(在Linux系统下安装第三方软件时要用到第三方软件的头文件以及相关库，在编译时指定库和头文件是十分麻烦的，而pkg-config能够把这些头文件和库文件的位置指出来给编译器使用)</p> 
<pre><code class="language-cpp">sudo apt install pkg-config</code></pre> 
<h2>三、安装OpenCV</h2> 
<p>1、在OpenCV官网下载sources。</p> 
<p>（https://opencv.org/releases/）</p> 
<p>2、打开安装包所在位置，在终端输入：</p> 
<p>（解压安装包）</p> 
<pre><code class="language-cpp">unzip opencv-4.5.5.zip</code></pre> 
<p> 3、解压完成后，在当前目录下会生成opencv-x.x.x文件夹，在终端输入：</p> 
<p>（进入该文件夹）</p> 
<pre><code class="language-cpp">cd opencv-x.x.x</code></pre> 
<p>4、在此路径下新建一个编译目录build。</p> 
<pre><code class="language-cpp">mkdir build</code></pre> 
<p>5、进行cmake-make编译</p> 
<pre><code class="language-cpp">cmake ..
make -j2</code></pre> 
<p>make -j2是指2核同时编译，可以根据自己的核数进行调整，比如-j5，核数越多编译速度就越快。</p> 
<p>   以上操作如果不成功的话尝试以下命令</p> 
<pre><code class="hljs">cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr/local ..
make -j2</code></pre> 
<p>6、在终端输入sudo make install进行安装</p> 
<pre><code class="language-cpp">sudo make install</code></pre> 
<h2 style="background-color:transparent;"> 四、配置环境变量</h2> 
<p>1、进入root权限，在终端输入：</p> 
<pre><code class="language-cpp">sudo -i
vim /etc/ld.so.conf.d/opencv.conf</code></pre> 
<p>2、在vim中进入编辑模式输入：/usr/local/lib,退出保存。</p> 
<ul><li>按下“i”进入插入模式</li><li>输入“/usr/local/lib”</li><li>按下“Esc”退出插入模式</li><li>保存并退出Vim：按下'Shift'键，然后输入'：'，接着输入‘wq’并按下'Enter'。</li></ul> 
<p>3、在终端输入：vim /etc/bash.bashrc,进入bash.bashrc文件，在尾行输入：</p> 
<p>PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/lic/pkgconfig</p> 
<p>export PKG_CONFIG_PATH</p> 
<p>4、配置成功，退出root。</p> 
<p>exit</p> 
<h2>五、OpenCV测试</h2> 
<p>1、在终端输入：ldconfig -v | grep opencv</p> 
<p>(检查opencv是否安装成功)</p> 
<h2><strong>六、配置中可能遇到的问题</strong></h2> 
<p>1、如果出现Perhaps you should add the directory containing `opencv.pc' to the PKG_CONFIG_PATH environment variable的报错</p> 
<p><a class="link-info has-card" href="https://blog.csdn.net/cassidybo/article/details/125984893?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Linux%20opencv%E5%AE%89%E8%A3%85&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-125984893.nonecase&amp;spm=1018.2226.3001.4187" title="https://blog.csdn.net/cassidybo/article/details/125984893?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Linux%20opencv%E5%AE%89%E8%A3%85&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-125984893.nonecase&amp;spm=1018.2226.3001.4187"><span class="link-card-box"><span class="link-title">https://blog.csdn.net/cassidybo/article/details/125984893?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Linux%20opencv%E5%AE%89%E8%A3%85&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-125984893.nonecase&amp;spm=1018.2226.3001.4187</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/8c/64/nVkWw2hl_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/cassidybo/article/details/125984893?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=Linux%20opencv%E5%AE%89%E8%A3%85&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-125984893.nonecase&amp;spm=1018.2226.3001.4187</span></span></a>2、在尝试在linux系统中对opencv进行环境安装和配置时出现了一下报错sudo -i root@rose-virtual-machine:~# vim /etc/ld.so.conf.d/opencv.conf root@rose-virtual-machine:~# vim /etc/bash.bashrc root@rose-virtual-machine:~# ldconfig -v | grep opencv /sbin/ldconfig.real: 多次给出路径“/usr/local/lib” (from /etc/ld.so.conf.d/opencv.conf:1 and /etc/ld.so.conf.d/libc.conf:2) /sbin/ldconfig.real: 无法对 /usr/local/lib/x86_64-linux-gnu 进行 stat 操作: 没有那个文件或目录 /sbin/ldconfig.real: 多次给出路径“/usr/lib/x86_64-linux-gnu” (from /etc/ld.so.conf.d/x86_64-linux-gnu.conf:4 and /etc/ld.so.conf.d/x86_64-linux-gnu.conf:3) /sbin/ldconfig.real: 多次给出路径“/lib/x86_64-linux-gnu” (from &lt;builtin&gt;:0 and /etc/ld.so.conf.d/x86_64-linux-gnu.conf:3) /sbin/ldconfig.real: 多次给出路径“/usr/lib/x86_64-linux-gnu” (from &lt;builtin&gt;:0 and /etc/ld.so.conf.d/x86_64-linux-gnu.conf:3) /sbin/ldconfig.real: 多次给出路径“/usr/lib” (from &lt;builtin&gt;:0 and &lt;builtin&gt;:0) /sbin/ldconfig.real: /lib/x86_64-linux-gnu/ld-linux-x86-64.so.2 is the dynamic linker, ignoring root@rose-virtual-machine:~#</p> 
<pre><code class="hljs">sudo apt-get install libopencv-dev
</code></pre> 
<p>使用包管理软件（如‘apt’或‘yum’）来安装opencv。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/431ab79035c3b04123884f252bc24f50/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Javaweb初学——【JSP&#43;Servlet&#43;JDBC】登录注册简单实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dccdface8a4ab4f6f81d875d1525b699/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Serializable 和Parcelable的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>