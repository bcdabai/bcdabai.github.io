<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring宣布旧的Spring Security OAuth彻底停止维护，连文档仓库都没了 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring宣布旧的Spring Security OAuth彻底停止维护，连文档仓库都没了" />
<meta property="og:description" content="Spring Security团队正式宣布Spring Security OAuth终止维护，到达生命的终点。
目前官网的主页已经高亮提醒彻底停止维护。
旧的Spring Security OAuth项目终止到2.5.2.RELEASE版本，该项目将不会再进行任何的迭代，包括Bug修复，之前胖哥已经提醒该项目即将停止维护，有心的同学已经进行了迁移。
2020年就已经宣布了EOL时间表 项目文档和代码仓库被移除 目前该项目的官方文档已经正式从spring.io移除，文档已经指向404，这连文档也没有了。新增了OAuth2授权服务器Spring Authorization Server的文档。
不仅仅文档被移除，连项目的仓库也被迁移到Spring的过期项目仓库spring-attic并被标记为read-only。
Spring Security OAuth仓库已经迁移 Spring Security OAuth的Spring Boot自动配置代码仓库也一并被迁移，也就是说Spring Boot相关的自动配置也被移除。
Spring Security OAuth2 Boot仓库被迁移 从这种情况看来大约Spring Security OAuth的确是死了。难道就没有可用的了吗？当然不是。
迁移指南 这是胖哥总结的迁移指南。
依赖项检查 那么如何检查你的项目是否用了旧的OAuth2设施呢？当然是对依赖进行检查。以下清单中的依赖任何版本的都是过期的，都需要迁移：
&lt;dependency&gt; &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt; &lt;artifactId&gt;spring-security-oauth-parent&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt; &lt;artifactId&gt;spring-security-oauth&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt; &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security&lt;/groupId&gt; &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt; &lt;/dependency&gt; 你可以通过mvn dependency:tree来检查依赖树是否集成了上述依赖项。
新的OAuth2替代方案 ❝ 需要开发者掌握OAuth2.0、OAuth2.1、OIDC 1.0的一些知识。
Spring Security 5中集成了OAuth2 Client和Resource Server两个模块。如果有迁移的需要，建议迁移至最新的Spring Security 5.7.x，方便向Spring 6过渡。以Spring Boot为例，首先要集成Spring Security：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/76cf6e555b9f50449eaefd405d71919c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-02T10:56:28+08:00" />
<meta property="article:modified_time" content="2022-06-02T10:56:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring宣布旧的Spring Security OAuth彻底停止维护，连文档仓库都没了</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/9c/6f/c9Xtg21B_o.gif" alt="32019599f6a4fdeb3985ec32c606a9a4.gif"></p> 
 <p style="text-align:justify;"><strong>Spring Security</strong>团队正式宣布<strong>Spring Security OAuth</strong>终止维护，到达生命的终点。</p> 
 <img src="https://images2.imgbox.com/11/32/nqTQoy1z_o.png" alt="d7d976158040517ea0747ad2ee197251.png"> 
 <p style="text-align:justify;">目前官网的主页已经高亮提醒彻底停止维护。</p> 
 <img src="https://images2.imgbox.com/b8/36/hOSyvE2d_o.png" alt="d7e7281238b8a4ddd8be38c566ea5ad9.png"> 
 <p style="text-align:justify;">旧的<strong>Spring Security OAuth</strong>项目终止到<strong>2.5.2.RELEASE</strong>版本，该项目将不会再进行任何的迭代，包括<strong>Bug</strong>修复，之前胖哥已经提醒该项目即将停止维护，有心的同学已经进行了迁移。</p> 
 <img src="https://images2.imgbox.com/91/6f/uGYm1Fnv_o.png" alt="9d371443bf505926aa2b49d960001878.png"> 
 <figcaption>
   2020年就已经宣布了EOL时间表 
 </figcaption> 
 <h3>项目文档和代码仓库被移除</h3> 
 <p style="text-align:justify;">目前该项目的官方文档已经正式从<strong>spring.io</strong>移除，文档已经指向<strong>404</strong>，这连文档也没有了。新增了<strong>OAuth2</strong>授权服务器<strong>Spring Authorization Server</strong>的文档。</p> 
 <img src="https://images2.imgbox.com/b0/e2/2vKllDd7_o.png" alt="68f2ac8ab22c8b8b4452f160bc8adf6d.png"> 
 <p style="text-align:justify;">不仅仅文档被移除，连项目的仓库也被迁移到<strong>Spring</strong>的过期项目仓库<code>spring-attic</code>并被标记为<strong>read-only</strong>。</p> 
 <img src="https://images2.imgbox.com/f5/27/mJBgXwM8_o.png" alt="a5f16fdd19fa6681dbf58863c553c05d.png"> 
 <figcaption>
   Spring Security OAuth仓库已经迁移 
 </figcaption> 
 <p style="text-align:justify;"><strong>Spring Security OAuth</strong>的<strong>Spring Boot</strong>自动配置代码仓库也一并被迁移，也就是说Spring Boot相关的自动配置也被移除。</p> 
 <img src="https://images2.imgbox.com/a3/3e/YWrh116H_o.png" alt="f9a6432b91acdf2b168d4a810b29f6fa.png"> 
 <figcaption>
   Spring Security OAuth2 Boot仓库被迁移 
 </figcaption> 
 <p style="text-align:justify;">从这种情况看来大约<strong>Spring Security OAuth</strong>的确是死了。难道就没有可用的了吗？当然不是。</p> 
 <h3>迁移指南</h3> 
 <p style="text-align:justify;">这是胖哥总结的迁移指南。</p> 
 <h4>依赖项检查</h4> 
 <p style="text-align:justify;">那么如何检查你的项目是否用了旧的OAuth2设施呢？当然是对依赖进行检查。以下清单中的<strong>依赖任何版本</strong>的都是过期的，都需要迁移：</p> 
 <pre class="has"><code class="language-go">&lt;dependency&gt;  
                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;
                &lt;artifactId&gt;spring-security-oauth-parent&lt;/artifactId&gt;
        &lt;/dependency&gt;
  &lt;dependency&gt;  
                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;
                &lt;artifactId&gt;spring-security-oauth&lt;/artifactId&gt;
        &lt;/dependency&gt;
  &lt;dependency&gt;  
                &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;
                &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
         &lt;artifactId&gt;spring-security-jwt&lt;/artifactId&gt;
  &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
 <p style="text-align:justify;">你可以通过<code>mvn dependency:tree</code>来检查依赖树是否集成了上述依赖项。</p> 
 <h4>新的OAuth2替代方案</h4> 
 <blockquote> 
  ❝ 
  <p style="text-align:justify;">需要开发者掌握<strong>OAuth2.0</strong>、<strong>OAuth2.1</strong>、<strong>OIDC 1.0</strong>的一些知识。</p> 
 </blockquote> 
 <p style="text-align:justify;"><strong>Spring Security 5</strong>中集成了<strong>OAuth2 Client</strong>和<strong>Resource Server</strong>两个模块。如果有迁移的需要，建议迁移至最新的<strong>Spring Security 5.7.x</strong>，方便向<strong>Spring 6</strong>过渡。以<strong>Spring Boot</strong>为例，首先要集成<strong>Spring Security</strong>：</p> 
 <pre class="has"><code class="language-go">&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
 <blockquote> 
  ❝ 
  <p style="text-align:justify;">这里建议使用最新版本，目前是2.7。</p> 
 </blockquote> 
 <h5>集成OAuth2 Client依赖</h5> 
 <p style="text-align:justify;"><strong>OAuth2 Client</strong>依赖于<strong>Spring Security</strong>，不能单独使用：</p> 
 <pre class="has"><code class="language-go">&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
 <h5>集成Resource Server依赖</h5> 
 <p style="text-align:justify;"><strong>Resource Server</strong>同样也依赖于<strong>Spring Security</strong>，不能单独使用：</p> 
 <pre class="has"><code class="language-go">&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;
        &lt;/dependency&gt;</code></pre> 
 <h5>集成OAuth2授权服务器依赖</h5> 
 <p style="text-align:justify;">目前<strong>Spring</strong>生态中的<strong>OAuth2</strong>授权服务器是<strong>Spring Authorization Server</strong>，目前已具备生产就绪能力。在最新的<strong>0.3.0</strong>版本中，官方文档正式在<strong>spring.io</strong>上线，需要你知道的是它必须在<strong>Java 11</strong>及以上版本才能使用。它也作为一个<strong>Spring Security</strong>子模块，不能单独使用：</p> 
 <pre class="has"><code class="language-go">&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;
            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;
            &lt;version&gt;0.3.0&lt;/version&gt;
        &lt;/dependency&gt;</code></pre> 
 <p style="text-align:justify;">透露一下，该项目的<strong>Spring Boot Starter</strong>也将在不久实装。</p> 
 <h5>学习指南</h5> 
 <p style="text-align:justify;">胖哥近几个月一直在对新的<strong>OAuth2</strong>相关的进行系统化总结。因此你只要关注胖哥，总能获得相关的知识和实战干货分享。当然这里胖哥也给出了一些参考的文献：</p> 
 <ul><li><p><strong>OAuth2框架</strong>：https://oauth.net</p></li><li><p><strong>OIDC 1.0协议</strong>：https://openid.net</p></li><li><p><strong>Spring Security</strong>: <strong>Spring</strong> 官方文档或者胖哥公众号回复 <strong>2021开工福利</strong> 和 <strong>2022开工福利</strong></p></li><li><p><strong>新的Spring Security OAuth2</strong>：http://felord.cn</p></li><li><p><strong>OAuth2系列教程、源码解读</strong>：https://blog.csdn.net/qq_35067322/category_11691173.html</p></li></ul> 
 <p style="text-align:justify;">项目参考<strong>DEMO</strong>:</p> 
 <ul><li><p><strong>Spring Security 5 学习</strong>：https://gitee.com/felord/security-learning</p></li><li><p><strong>Spring Security OAuth2 教程</strong>：https://github.com/NotFound403/spring-security-oauth2-tutorial</p></li><li><p><strong>授权服务器控制台Id Server</strong>：https://github.com/NotFound403/id-server</p></li><li><p><strong>登录扩展插件</strong>：https://github.com/NotFound403/spring-security-login-extension</p></li></ul> 
 <h3>总结</h3> 
 <p style="text-align:justify;">旧的<strong>Spring Security OAuth</strong>过期，其实也不必恐慌，除非你们在这一方面的架构需要继续迭代。不过随着新的方案面世，旧方案的可维护性会大大降低，有条件的还是要迁移一下的。<strong>Spring Cloud</strong>也将会在未来某个时间点做出一些调整以适应新的架构。请持续关注，后面会及时带来相关的消息。</p> 
 <p style="text-align:center;"><img src="https://images2.imgbox.com/32/76/rULtaHmj_o.gif" alt="8c81149796fcb70641bb3e99ec9ad01b.gif"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b9d72c08221a47e6079b235678f6de1a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">windows系统日志查询</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c1924e4041d77bb0374441fb9c5472b9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">日常问题01 —— 微信开发者工具代码被覆盖了如何恢复</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>