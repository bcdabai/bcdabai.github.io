<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java微信公众号--3--网页授权的一些问题 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java微信公众号--3--网页授权的一些问题" />
<meta property="og:description" content="前面在写微信公众号开发的时候，我一直有提到一个问题，那就是域名的问题，然后在补充下一个问题是，如果你看了 爱慕课上面讲的网页授权还是发现成功不了，那就可能是HTTPS请求的方式有问题了
目前以测试号为例
这个域名相对于来说就没有那么多的要求，就会简单很多 而关于这个域名，就不要出现二级域名的情况，避免跨域请求的出现； 如果你的域名不对的话可能会出现的问题：微信公众号—-多次请求，状态码（40001）
近段时间通过慕课的伙伴还发现一个这种问题，就是当你和慕课上面的代码一模一样的话，可能这个问题也会存在，就是微信公众号—-多次请求，状态码（40001） debug了下发现问题出现在HTTPS请求这边，可以用这篇文章中HTTPS请求进行代替慕课网中的请求：Java—发送HTTPS请求
下面我贴一下我的代码： 接口配置信息的URL：花生壳 网页授权回调页面域名：NATAPP jar包
代码结构： util： util里面的代码：Java—发送HTTPS请求这里面的是一样的
pojo： Info.java
package pojo; import java.util.List; /** * 通过网页授权获取用户信息 * Created by admin on 2017/11/15. */ public class Info { // 用户标识 private String openid; // 用户昵称 private String nickname; // 性别（1是男性，2是女性，0是未知） private int sex; // 国家 private String country; // 省份 private String province; // 城市 private String city; // 用户头像链接 private String headimgurl; // 用户特权信息 private List&lt;String&gt; privilege; public String getOpenid() { return openid; } public void setOpenid(String openid) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c7af0037e87ae8481e0a325ec6f5f1af/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-13T10:38:19+08:00" />
<meta property="article:modified_time" content="2017-12-13T10:38:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java微信公众号--3--网页授权的一些问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前面在写微信公众号开发的时候，我一直有提到一个问题，那就是域名的问题，然后在补充下一个问题是，如果你看了 爱慕课上面讲的网页授权还是发现成功不了，那就可能是HTTPS请求的方式有问题了</p> 
<p>目前以测试号为例</p> 
<p><br> <br> 这个域名相对于来说就没有那么多的要求，就会简单很多 <br> <img src="https://images2.imgbox.com/6a/d6/VWXZ2InR_o.png" alt="这里写图片描述" title=""></p> 
<p><br> <br> 而关于这个域名，就不要出现二级域名的情况，避免跨域请求的出现； <br> <img src="https://images2.imgbox.com/56/37/6oeHhbme_o.png" alt="这里写图片描述" title=""></p> 
<p>如果你的域名不对的话可能会出现的问题：<a href="http://blog.csdn.net/qq_38637558/article/details/78549928">微信公众号—-多次请求，状态码（40001）</a></p> 
<p>近段时间通过慕课的伙伴还发现一个这种问题，就是当你和慕课上面的代码一模一样的话，可能这个问题也会存在，就是<a href="http://blog.csdn.net/qq_38637558/article/details/78549928">微信公众号—-多次请求，状态码（40001）</a> <br> debug了下发现问题出现在HTTPS请求这边，可以用这篇文章中HTTPS请求进行代替慕课网中的请求：<a href="http://blog.csdn.net/qq_38637558/article/details/78668349">Java—发送HTTPS请求</a></p> 
<p>下面我贴一下我的代码： <br> 接口配置信息的URL：花生壳 <br> 网页授权回调页面域名：NATAPP <br> <a href="https://pan.baidu.com/s/1hrDRw24" rel="nofollow">jar包</a></p> 
<p>代码结构： <br> <img src="https://images2.imgbox.com/ff/4b/G5Wmm37P_o.png" alt="这里写图片描述" title=""></p> 
<p>util： <br> util里面的代码：<a href="http://blog.csdn.net/qq_38637558/article/details/78668349">Java—发送HTTPS请求</a>这里面的是一样的</p> 
<p>pojo： <br> Info.java</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> pojo;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-javadoc">/**
 * 通过网页授权获取用户信息
 * Created by admin on 2017/11/15.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Info</span> {<!-- --></span>
    <span class="hljs-comment">// 用户标识</span>
    <span class="hljs-keyword">private</span> String openid;
    <span class="hljs-comment">// 用户昵称</span>
    <span class="hljs-keyword">private</span> String nickname;
    <span class="hljs-comment">// 性别（1是男性，2是女性，0是未知）</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> sex;
    <span class="hljs-comment">// 国家</span>
    <span class="hljs-keyword">private</span> String country;
    <span class="hljs-comment">// 省份</span>
    <span class="hljs-keyword">private</span> String province;
    <span class="hljs-comment">// 城市</span>
    <span class="hljs-keyword">private</span> String city;
    <span class="hljs-comment">// 用户头像链接</span>
    <span class="hljs-keyword">private</span> String headimgurl;
    <span class="hljs-comment">// 用户特权信息</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; privilege;

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getOpenid</span>() {
        <span class="hljs-keyword">return</span> openid;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOpenid</span>(String openid) {
        <span class="hljs-keyword">this</span>.openid = openid;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getNickname</span>() {
        <span class="hljs-keyword">return</span> nickname;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setNickname</span>(String nickname) {
        <span class="hljs-keyword">this</span>.nickname = nickname;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getSex</span>() {
        <span class="hljs-keyword">return</span> sex;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSex</span>(<span class="hljs-keyword">int</span> sex) {
        <span class="hljs-keyword">this</span>.sex = sex;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getCountry</span>() {
        <span class="hljs-keyword">return</span> country;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCountry</span>(String country) {
        <span class="hljs-keyword">this</span>.country = country;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getProvince</span>() {
        <span class="hljs-keyword">return</span> province;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setProvince</span>(String province) {
        <span class="hljs-keyword">this</span>.province = province;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getCity</span>() {
        <span class="hljs-keyword">return</span> city;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCity</span>(String city) {
        <span class="hljs-keyword">this</span>.city = city;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getHeadimgurl</span>() {
        <span class="hljs-keyword">return</span> headimgurl;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHeadimgurl</span>(String headimgurl) {
        <span class="hljs-keyword">this</span>.headimgurl = headimgurl;
    }

    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">getPrivilege</span>() {
        <span class="hljs-keyword">return</span> privilege;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPrivilege</span>(List&lt;String&gt; privilege) {
        <span class="hljs-keyword">this</span>.privilege = privilege;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Info{"</span> +
                <span class="hljs-string">"openid='"</span> + openid + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", nickname='"</span> + nickname + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", sex="</span> + sex +
                <span class="hljs-string">", country='"</span> + country + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", province='"</span> + province + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", city='"</span> + city + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", headimgurl='"</span> + headimgurl + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", privilege="</span> + privilege +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre> 
<p>Token.java</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> pojo;

<span class="hljs-javadoc">/**
 * 网页授权信息
 * Created by admin on 2017/11/15.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Token</span> {<!-- --></span>
    <span class="hljs-comment">// 网页授权接口调用凭证</span>
    <span class="hljs-keyword">private</span> String access_token;
    <span class="hljs-comment">// 凭证有效时长</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> expires_in;
    <span class="hljs-comment">// 用于刷新凭证</span>
    <span class="hljs-keyword">private</span> String refresh_token;
    <span class="hljs-comment">// 用户标识</span>
    <span class="hljs-keyword">private</span> String openid;
    <span class="hljs-comment">// 用户授权作用域</span>
    <span class="hljs-keyword">private</span> String scope;

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getAccess_token</span>() {
        <span class="hljs-keyword">return</span> access_token;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAccess_token</span>(String access_token) {
        <span class="hljs-keyword">this</span>.access_token = access_token;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getExpires_in</span>() {
        <span class="hljs-keyword">return</span> expires_in;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setExpires_in</span>(<span class="hljs-keyword">int</span> expires_in) {
        <span class="hljs-keyword">this</span>.expires_in = expires_in;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getRefresh_token</span>() {
        <span class="hljs-keyword">return</span> refresh_token;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRefresh_token</span>(String refresh_token) {
        <span class="hljs-keyword">this</span>.refresh_token = refresh_token;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getOpenid</span>() {
        <span class="hljs-keyword">return</span> openid;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOpenid</span>(String openid) {
        <span class="hljs-keyword">this</span>.openid = openid;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getScope</span>() {
        <span class="hljs-keyword">return</span> scope;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setScope</span>(String scope) {
        <span class="hljs-keyword">this</span>.scope = scope;
    }

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Token{"</span> +
                <span class="hljs-string">"access_token='"</span> + access_token + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", expires_in="</span> + expires_in +
                <span class="hljs-string">", refresh_token='"</span> + refresh_token + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", openid='"</span> + openid + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", scope='"</span> + scope + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre> 
<p>servlet: <br> BaseServlet.java</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> servlet;

<span class="hljs-keyword">import</span> com.google.gson.Gson;

<span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;

<span class="hljs-javadoc">/**
 * Created by admin on 2017/12/7.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> {<!-- --></span>
    <span class="hljs-keyword">private</span> String APPID = <span class="hljs-string">"wx2e****a800****"</span>;
    <span class="hljs-keyword">private</span> String APPSECET = <span class="hljs-string">"4****34****e****0c2****4f5****"</span>;

    Gson gson = <span class="hljs-keyword">new</span> Gson();

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getAPPID</span>() {
        <span class="hljs-keyword">return</span> APPID;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title">getAPPSECET</span>() {
        <span class="hljs-keyword">return</span> APPSECET;
    }
}
</code></pre> 
<p>LoginServlet.java</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-keyword">package</span> servlet;

<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.net.URLEncoder;
<span class="hljs-keyword">import</span> javax.servlet.ServletException;
<span class="hljs-keyword">import</span> javax.servlet.annotation.WebServlet;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="hljs-annotation">@WebServlet</span>(<span class="hljs-string">"/wxLogin"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseServlet</span>{<!-- --></span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span>(HttpServletRequest req, HttpServletResponse resp)
            <span class="hljs-keyword">throws</span> ServletException, IOException {
                String backUrl = <span class="hljs-string">"http://dqvzxy.natappfree.cc/WeixinAuth/callBack"</span>;
                String url=<span class="hljs-string">"https://open.weixin.qq.com/connect/oauth2/authorize?appid="</span>+getAPPID()
                        + <span class="hljs-string">"&amp;redirect_uri="</span>+URLEncoder.encode(backUrl)
                        + <span class="hljs-string">"&amp;response_type=code"</span>
                        + <span class="hljs-string">"&amp;scope=snsapi_userinfo"</span>
                        + <span class="hljs-string">"&amp;state=STATE#wechat_redirect"</span>;
                resp.sendRedirect(url);
    }
}
</code></pre> 
<p>CallBackServlet.java</p> 
<pre class="prettyprint"><code class=" hljs java"><span class="hljs-comment">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */</span>
<span class="hljs-keyword">package</span> servlet;

<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> javax.servlet.ServletException;
<span class="hljs-keyword">import</span> javax.servlet.annotation.WebServlet;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="hljs-keyword">import</span> pojo.Info;
<span class="hljs-keyword">import</span> pojo.Token;
<span class="hljs-keyword">import</span> util.HttpsREQUEST;


<span class="hljs-annotation">@WebServlet</span>(<span class="hljs-string">"/callBack"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CallBackServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseServlet</span> {<!-- --></span>

    <span class="hljs-annotation">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span>(HttpServletRequest req, HttpServletResponse resp) <span class="hljs-keyword">throws</span> ServletException, IOException {
        String code = req.getParameter(<span class="hljs-string">"code"</span>);
        System.out.println(<span class="hljs-string">"....."</span> + code);

<span class="hljs-comment">//        页面授权第二步，通过code换取 access_token openid</span>
        String url = <span class="hljs-string">"https://api.weixin.qq.com/sns/oauth2/access_token?appid="</span> + getAPPID()
                + <span class="hljs-string">"&amp;secret="</span> + getAPPSECET()
                + <span class="hljs-string">"&amp;code="</span> + code
                + <span class="hljs-string">"&amp;grant_type=authorization_code"</span>;
        String s = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">try</span> {
<span class="hljs-comment">//            发送HTTPS请求, GET请求这个文档有写，然后注意是GET或者POST都是大写 没有参数所以最后一个为null，</span>
            s = HttpsREQUEST.HttpsRequest(url, <span class="hljs-string">"GET"</span>, <span class="hljs-keyword">null</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
<span class="hljs-comment">//        Gson的使用 ： Json字符串转化为到java实体的</span>
        Token token = gson.fromJson(s, Token.class);
<span class="hljs-comment">//        实体类的封装获取</span>
        String access_token = token.getAccess_token();
        String openid = token.getOpenid();

<span class="hljs-comment">//        页面授权第四步，通过 access_token openid 换取 用户信息  下面就和上面的一样了</span>
        String infoUrl = <span class="hljs-string">"https://api.weixin.qq.com/sns/userinfo?access_token="</span> + access_token
                + <span class="hljs-string">"&amp;openid="</span> + openid
                + <span class="hljs-string">"&amp;lang=zh_CN "</span>;
        String info = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">try</span> {
            info = HttpsREQUEST.HttpsRequest(infoUrl, <span class="hljs-string">"GET"</span>, <span class="hljs-keyword">null</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
        Info infos = gson.fromJson(info, Info.class);

        <span class="hljs-comment">//1、使用用户信息直接登录，无需注册和绑定</span>
        req.setAttribute(<span class="hljs-string">"info"</span>, infos);
        req.getRequestDispatcher(<span class="hljs-string">"/newjsp.jsp"</span>).forward(req, resp);
    }

}
</code></pre> 
<p>index.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%@page contentType=<span class="hljs-string">"text/html"</span> pageEncoding=<span class="hljs-string">"UTF-8"</span>%&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">http-equiv</span>=<span class="hljs-value">"Content-Type"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"text/html; charset=UTF-8"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=device--width,initial-scale=1.0"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>JSP Page<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"font-size: 40px;text-align: center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/WeixinAuth/wxLogin"</span>&gt;</span>微信登录<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre> 
<p>newjsp.jsp</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="vbscript">&lt;%@page contentType=<span class="hljs-string">"text/html"</span> pageEncoding=<span class="hljs-string">"UTF-8"</span>%&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">http-equiv</span>=<span class="hljs-value">"Content-Type"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"text/html; charset=UTF-8"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>JSP Page<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        登录成功！
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>用户昵称${info.nickname}<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>用户头像<span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"vertical-align: top;"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100px"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100px"</span> <span class="hljs-attribute">alt</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"${info.headimgurl}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre> 
<p>网页授权大概就到这里了，后续有机会的话应该会帖微信支付的代码</p> 
<p><a href="http://blog.csdn.net/qq_38637558/article/details/78631667" target="_blank" rel="noopener noreferrer">Java微信公众号–1–基本配置接入开发者模式</a></p> 
<p><a href="http://blog.csdn.net/qq_38637558/article/details/78668252" target="_blank" rel="noopener noreferrer">Java微信公众号–2–微信菜单和消息管理</a></p> 
<p><a href="http://blog.csdn.net/qq_38637558/article/details/78668349" target="_blank" rel="noopener noreferrer">Java—发送HTTPS请求</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/460ed1dec5485d50b37cdfd3cf1f4b57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SQLSERVER 2012 HADR_DATABASE_WAIT_FOR_TRANSITION_TO_VERSIONING  等待事件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f59c2dda8e8152be15fb93333bb8120e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oracle学习之sid_name</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>