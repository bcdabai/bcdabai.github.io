<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springboot基础篇（快速入门 &#43; 完整项目案例） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="springboot基础篇（快速入门 &#43; 完整项目案例）" />
<meta property="og:description" content="目录 1.springboot简介2.REST风格1.简介2.RESTful 3.复制工程4.属性配置1.application.properties2.application.yml、.yaml3.关于写配置文件的时候没有提示的解决方案4.yaml1.语法格式2.读取数据3.封装对象 5.整合第三方技术1.整合Junit1.实现2.注意事项 2.整合mybatis3.整合mybatis-plus4.整合Druid 6.完结案例1.项目初始化2.数据库搭建&amp;数据源配置3.测试Mybatis-plus1.增删改查2.分页查询3.条件查询 4.业务层开发1.业务接口与实体类2.测试类3.MP业务层快速开发 5.表现层开发1.表现层代码2.接口测试3.表现层消息一致性处理4.异常消息处理 6.前后端协议联调 1.springboot简介 SpringBoot程序优点：
起步依赖（简化依赖配置）
parent
所有SpringBoot项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的
自动配置（简化常用工程相关配置）
stater
SpringBoot中常见项目名称，定义了当前项目使用的所有依赖坐标，以达到减少依赖配置的目的
引导类
springboot的启动方式：
SpringBoot的引导类是Boot工程的执行入口，运行main方法就可以启动项目 SpringBoot工程运行后初始化Spring容器，扫描引导类所在包加载bean
辅助功能（内置服务器，……）
内嵌Tomcat
2.REST风格 1.简介 REST（Representational State Transfer）： 表现形式状态转换。
传统风格资源描述形式：
http://localhost/user/getById?id=1
http://localhost/user/saveUserREST风格描述形式：
http://localhost/user/id=1
http://localhost/user优点： 隐藏资源的访问行为，无法通过地址得知对资源是何种操作 书写简化 REST风格访问资源时使用 行为动作 区分对资源进行了何种操作
查询 GET新增/修改 POST修改/更新 PUT删除 DELETE 2.RESTful RESTful：按照REST风格对资源进行访问。
通过 @RequestMapping 注解的路径设置，通过 @PathVariable 注解绑定参数
@PostMapping @GetMapping @DeleteMapping @PutMapping @RestController 类注解
基于SpringMVC的RESTful开发控制器类定义上方
设置当前控制器类为RESTful风格，等同于@Controller与@RresponseBody组合 @RequestBody、 @RequestParam 、 @PathVariable 和 @Vaild 注解的使用及区别
3.复制工程 原则：
保留工程基础结构抹掉原始工程痕迹 步骤：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f1d9a272d47f3191ac1e7f8f12b1b65c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-17T10:00:44+08:00" />
<meta property="article:modified_time" content="2022-11-17T10:00:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springboot基础篇（快速入门 &#43; 完整项目案例）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1springboot_2" rel="nofollow">1.springboot简介</a></li><li><a href="#2REST_24" rel="nofollow">2.REST风格</a></li><li><ul><li><a href="#1_25" rel="nofollow">1.简介</a></li><li><a href="#2RESTful_43" rel="nofollow">2.RESTful</a></li></ul> 
  </li><li><a href="#3_58" rel="nofollow">3.复制工程</a></li><li><a href="#4_70" rel="nofollow">4.属性配置</a></li><li><ul><li><a href="#1applicationproperties_71" rel="nofollow">1.application.properties</a></li><li><a href="#2applicationymlyaml_77" rel="nofollow">2.application.yml、.yaml</a></li><li><a href="#3_82" rel="nofollow">3.关于写配置文件的时候没有提示的解决方案</a></li><li><a href="#4yaml_88" rel="nofollow">4.yaml</a></li><li><ul><li><a href="#1_90" rel="nofollow">1.语法格式</a></li><li><a href="#2_160" rel="nofollow">2.读取数据</a></li><li><a href="#3_211" rel="nofollow">3.封装对象</a></li></ul> 
  </li></ul> 
  </li><li><a href="#5_285" rel="nofollow">5.整合第三方技术</a></li><li><ul><li><a href="#1Junit_287" rel="nofollow">1.整合Junit</a></li><li><ul><li><a href="#1_289" rel="nofollow">1.实现</a></li><li><a href="#2_314" rel="nofollow">2.注意事项</a></li></ul> 
   </li><li><a href="#2mybatis_325" rel="nofollow">2.整合mybatis</a></li><li><a href="#3mybatisplus_395" rel="nofollow">3.整合mybatis-plus</a></li><li><a href="#4Druid_398" rel="nofollow">4.整合Druid</a></li></ul> 
  </li><li><a href="#6_421" rel="nofollow">6.完结案例</a></li><li><ul><li><a href="#1_429" rel="nofollow">1.项目初始化</a></li><li><a href="#2_439" rel="nofollow">2.数据库搭建&amp;数据源配置</a></li><li><a href="#3Mybatisplus_520" rel="nofollow">3.测试Mybatis-plus</a></li><li><ul><li><a href="#1_524" rel="nofollow">1.增删改查</a></li><li><a href="#2_578" rel="nofollow">2.分页查询</a></li><li><a href="#3_612" rel="nofollow">3.条件查询</a></li></ul> 
   </li><li><a href="#4_634" rel="nofollow">4.业务层开发</a></li><li><ul><li><a href="#1_636" rel="nofollow">1.业务接口与实体类</a></li><li><a href="#2_693" rel="nofollow">2.测试类</a></li><li><a href="#3MP_750" rel="nofollow">3.MP业务层快速开发</a></li></ul> 
   </li><li><a href="#5_820" rel="nofollow">5.表现层开发</a></li><li><ul><li><a href="#1_821" rel="nofollow">1.表现层代码</a></li><li><a href="#2_866" rel="nofollow">2.接口测试</a></li><li><a href="#3_874" rel="nofollow">3.表现层消息一致性处理</a></li><li><a href="#4_939" rel="nofollow">4.异常消息处理</a></li></ul> 
   </li><li><a href="#6_1015" rel="nofollow">6.前后端协议联调</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1springboot_2"></a>1.springboot简介</h2> 
<p><strong>SpringBoot程序优点：</strong></p> 
<ul><li> <p><strong>起步依赖（简化依赖配置）</strong></p> </li><li> 
  <ul><li><font color="red">parent</font><br> 所有SpringBoot项目要继承的项目，定义了若干个坐标版本号（依赖管理，而非依赖），以达到减少依赖冲突的目的<br> <img src="https://images2.imgbox.com/13/35/JgrX5Vub_o.png" width="33%"><img src="https://images2.imgbox.com/a7/92/vNsGc7yM_o.png" width="33%"><img src="https://images2.imgbox.com/ce/52/v4JZeGqx_o.png" width="33%"></li></ul> </li><li> <p><strong>自动配置（简化常用工程相关配置）</strong></p> </li><li> 
  <ul><li><font color="red">stater</font><br> SpringBoot中常见项目名称，定义了当前项目使用的所有依赖坐标，以达到减少依赖配置的目的<br> <img src="https://images2.imgbox.com/cc/6d/p8erKwkH_o.png" width="33%"><img src="https://images2.imgbox.com/3f/8c/mfLPSRj3_o.png" width="33%"></li></ul> </li><li> <p><strong>引导类</strong><br> springboot的启动方式：</p> </li><li> 
  <ul><li>SpringBoot的引导类是Boot工程的执行入口，运行main方法就可以启动项目</li></ul> </li><li> 
  <ul><li>SpringBoot工程运行后初始化Spring容器，扫描引导类所在包加载bean<br> <img src="https://images2.imgbox.com/97/9f/RvZoy1zb_o.png" width="66%"></li></ul> </li><li> <p><strong>辅助功能（内置服务器，……）</strong></p> </li><li> 
  <ul><li>内嵌Tomcat<br> <img src="https://images2.imgbox.com/e7/75/cLnADwiA_o.png" width="33%"><img src="https://images2.imgbox.com/72/78/XKyNXLym_o.png" width="33%"><img src="https://images2.imgbox.com/a4/d8/LpewSkAC_o.png" width="33%"></li></ul> </li></ul> 
<h2><a id="2REST_24"></a>2.REST风格</h2> 
<h3><a id="1_25"></a>1.简介</h3> 
<p><strong>REST（Representational State Transfer）</strong>： 表现形式状态转换。</p> 
<ul><li>传统风格资源描述形式：<br> <em>http://localhost/user/getById?id=1</em><br> <em>http://localhost/user/saveUser</em></li><li>REST风格描述形式：<br> <em>http://localhost/user/id=1</em><br> <em>http://localhost/user</em></li><li>优点：</li><li> 
  <ul><li>隐藏资源的访问行为，无法通过地址得知对资源是何种操作</li></ul> </li><li> 
  <ul><li>书写简化</li></ul> </li></ul> 
<p><strong>REST风格访问资源时使用 <em>行为动作</em> 区分对资源进行了何种操作</strong></p> 
<ul><li>查询 <font color="red">GET</font></li><li>新增/修改 <font color="red">POST</font></li><li>修改/更新 <font color="red">PUT</font></li><li>删除 <font color="red">DELETE</font></li></ul> 
<h3><a id="2RESTful_43"></a>2.RESTful</h3> 
<p><strong>RESTful</strong>：按照REST风格对资源进行访问。</p> 
<ul><li>通过 <code>@RequestMapping</code> 注解的路径设置，通过 <code>@PathVariable</code> 注解绑定参数<br> <img src="https://images2.imgbox.com/e2/b7/eMTyc3OD_o.png" width="66%"></li><li> 
  <ul><li><code>@PostMapping</code></li></ul> </li><li> 
  <ul><li><code>@GetMapping</code></li></ul> </li><li> 
  <ul><li><code>@DeleteMapping</code></li></ul> </li><li> 
  <ul><li><code>@PutMapping</code></li></ul> </li><li><code>@RestController</code> 类注解<br> 基于SpringMVC的RESTful开发控制器类定义上方<br> 设置当前控制器类为RESTful风格，等同于<code>@Controller</code>与<code>@RresponseBody</code>组合</li></ul> 
<p><a href="https://blog.csdn.net/weixin_49770443/article/details/109311246">@RequestBody、 @RequestParam 、 @PathVariable 和 @Vaild 注解的使用及区别</a></p> 
<h2><a id="3_58"></a>3.复制工程</h2> 
<p><strong>原则：</strong></p> 
<ul><li>保留工程基础结构</li><li>抹掉原始工程痕迹</li></ul> 
<p><strong>步骤：</strong></p> 
<ul><li>在工作空间中复制对应工程，并修改工程名称</li><li>删除与Idea相关配置文件，仅保留<code>src</code>目录与<code>pom.xml</code>文件</li><li>修改<code>pom.xml</code>文件中的<code>artifactId</code>与新工程/模块名相同</li><li>删除name标签（可选）</li><li>保留备份工程供后期使用</li></ul> 
<h2><a id="4_70"></a>4.属性配置</h2> 
<h3><a id="1applicationproperties_71"></a>1.application.properties</h3> 
<img src="https://images2.imgbox.com/9c/ea/nmJTyw01_o.png" width="66%"> 
<p><strong>SpringBoot内置属性查询：</strong> <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties" rel="nofollow">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties</a></p> 
<h3><a id="2applicationymlyaml_77"></a>2.application.yml、.yaml</h3> 
<img src="https://images2.imgbox.com/f8/c9/lAaiwLoC_o.png" width="66%"> 
<p><strong>SpringBoot配置文件加载顺序：</strong> <em>application.properties</em> &gt; <em>application.yml</em> &gt; <em>application.yaml</em></p> 
<h3><a id="3_82"></a>3.关于写配置文件的时候没有提示的解决方案</h3> 
<img src="https://images2.imgbox.com/5a/ed/jTkRneKk_o.png" width="66%"> 
<p>如果点击不了OK的解决方案：</p> 
<ul><li>在输入框里面填入配置文件的名</li></ul> 
<h3><a id="4yaml_88"></a>4.yaml</h3> 
<h4><a id="1_90"></a>1.语法格式</h4> 
<p><strong>YAML（YAML Ain’t Markup Language）:</strong> 一种数据序列化格式。</p> 
<p><strong>优点：</strong></p> 
<ul><li>容易阅读</li><li>容易与脚本语言交互</li><li>以数据为核心，重数据轻格式</li></ul> 
<p><strong>YAML文件扩展名：</strong></p> 
<ul><li>.yml（主流）</li><li>.yaml</li></ul> 
<p><strong>yaml语法规则：</strong></p> 
<ul><li>大小写敏感</li><li>属性层级关系使用多行描述，每行结尾使用<code>:</code>结束</li><li>使用缩进表示层级关系，同层级左侧对齐，只允许使用空格（不允许使用Tab键）</li><li>属性值前面添加空格（属性名与属性值之间使用冒号+空格作为分隔）</li><li><code>#</code> 表示注释</li><li>核心规则：<strong>数据前面要加空格与冒号隔开</strong></li></ul> 
<hr> 
<p><strong>字面值表示方式：</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">boolean</span><span class="token punctuation">:</span> <span class="token boolean important">TRUE</span> <span class="token comment">#TRUE,true,True,FALSE,false，False均可</span>
<span class="token key atrule">float</span><span class="token punctuation">:</span> <span class="token number">3.14</span> <span class="token comment">#6.8523015e+5 #支持科学计数法</span>
<span class="token key atrule">int</span><span class="token punctuation">:</span> <span class="token number">123</span> <span class="token comment">#0b1010_0111_0100_1010_1110 #支持二进制、八进制、十六进制</span>
<span class="token key atrule">null</span><span class="token punctuation">:</span> <span class="token null important">~</span> <span class="token comment">#使用~表示null</span>
<span class="token key atrule">string</span><span class="token punctuation">:</span> HelloWorld <span class="token comment">#字符串可以直接书写</span>
<span class="token key atrule">string2</span><span class="token punctuation">:</span> <span class="token string">"Hello World"</span> <span class="token comment">#可以使用双引号包裹特殊字符</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> <span class="token datetime number">2022-06-10</span> <span class="token comment">#日期必须使用yyyy-MM-dd格式</span>
<span class="token key atrule">datetime</span><span class="token punctuation">:</span> <span class="token datetime number">2022-06-10T15:02:31+08:00</span> <span class="token comment">#时间和日期之间使用T连接，最后使用+代表时区</span>
</code></pre> 
<hr> 
<p><strong>数组表示方式：</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">subject</span><span class="token punctuation">:</span> 
 <span class="token punctuation">-</span> Java
 <span class="token punctuation">-</span> 前端
 <span class="token punctuation">-</span> 大数据
<span class="token key atrule">enterprise</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> itcast
 <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">16</span>
 <span class="token key atrule">subject</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> Java
  <span class="token punctuation">-</span> 前端
  <span class="token punctuation">-</span> 大数据
<span class="token key atrule">likes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>王者荣耀<span class="token punctuation">,</span>刺激战场<span class="token punctuation">]</span> <span class="token comment">#数组书写缩略格式</span>

<span class="token key atrule">users</span><span class="token punctuation">:</span> <span class="token comment">#对象数组格式</span>
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Tom
   <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">4</span>
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Jerry
   <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">5</span>
<span class="token key atrule">users</span><span class="token punctuation">:</span> <span class="token comment">#对象数组格式二</span>
 <span class="token punctuation">-</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> Tom
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">4</span>
 <span class="token punctuation">-</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> Jerry
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment">#对象数组缩略格式</span>
<span class="token key atrule">users2</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span> name<span class="token punctuation">:</span>Tom <span class="token punctuation">,</span> age<span class="token punctuation">:</span><span class="token number">4</span> <span class="token punctuation">}</span> <span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> name<span class="token punctuation">:</span>Jerry <span class="token punctuation">,</span> age<span class="token punctuation">:</span><span class="token number">5</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>
</code></pre> 
<h4><a id="2_160"></a>2.读取数据</h4> 
<p><strong>使用<code>@Value</code>读取单个数据，属性名引用方式：${一级属性名.二级属性名……}</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">lesson</span><span class="token punctuation">:</span> SpringBoot

<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">82</span>

<span class="token key atrule">enterprise</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> itcast
 <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">16</span>
 <span class="token key atrule">tel</span><span class="token punctuation">:</span> <span class="token number">4006184000</span>
 <span class="token key atrule">subject</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> Java
  <span class="token punctuation">-</span> 前端
  <span class="token punctuation">-</span> 大数据
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${lesson}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lessonName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${server.port}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${enterprise.subject[1]}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> subject_01<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<p><strong>在配置文件中可以使用属性名引用方式引用属性</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">baseDir</span><span class="token punctuation">:</span> /usr/local/fire
<span class="token key atrule">center</span><span class="token punctuation">:</span>
 <span class="token key atrule">dataDir</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>baseDir<span class="token punctuation">}</span>/data
 <span class="token key atrule">tmpDir</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>baseDir<span class="token punctuation">}</span>/tmp
 <span class="token key atrule">logDir</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>baseDir<span class="token punctuation">}</span>/log
 <span class="token key atrule">msgDir</span><span class="token punctuation">:</span> $<span class="token punctuation">{<!-- --></span>baseDir<span class="token punctuation">}</span>/msgDir
</code></pre> 
<p><strong>属性值中如果出现转移字符，需要使用双引号包裹</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">lesson</span><span class="token punctuation">:</span> <span class="token string">"Spring\tboot\nlesson"</span>
</code></pre> 
<h4><a id="3_211"></a>3.封装对象</h4> 
<p><strong>封装全部数据到Environment对象</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">lesson</span><span class="token punctuation">:</span> SpringBoot

<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">82</span>

<span class="token key atrule">enterprise</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> itcast
 <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">16</span>
 <span class="token key atrule">tel</span><span class="token punctuation">:</span> <span class="token number">4006184000</span>
 <span class="token key atrule">subject</span><span class="token punctuation">:</span> 
  <span class="token punctuation">-</span> Java
  <span class="token punctuation">-</span> 前端
  <span class="token punctuation">-</span> 大数据
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${lesson}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> lessonName<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${server.port}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>	
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${enterprise.subject[1]}"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> subject_01<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<p><strong>自定义对象封装指定数据</strong> <code>@ConfigurationProperties(prefix = "")</code></p> 
<pre><code class="prism language-yml"><span class="token key atrule">lesson</span><span class="token punctuation">:</span> SpringBoot

<span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">82</span>

<span class="token key atrule">enterprise</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> itcast
 <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">16</span>
 <span class="token key atrule">tel</span><span class="token punctuation">:</span> <span class="token number">4006184000</span>
 <span class="token key atrule">subject</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Java
  <span class="token punctuation">-</span> 前端
  <span class="token punctuation">-</span> 大数据
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"enterprise"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Enterprise</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> subject<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">Enterprise</span> enterprise<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="5_285"></a>5.整合第三方技术</h2> 
<h3><a id="1Junit_287"></a>1.整合Junit</h3> 
<h4><a id="1_289"></a>1.实现</h4> 
<p><strong>导入测试对应的starter：</strong></p> 
<pre><code class="prism language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>测试类使用@SpringBootTest修饰：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">SpringbootDemo1ApplicationTests</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p><strong>使用自动装配的形式添加要测试的对象（impl实现类）</strong></p> 
<h4><a id="2_314"></a>2.注意事项</h4> 
<p>正确的测试类路径应该与引导类路径一致，如下：<br> <img src="https://images2.imgbox.com/33/57/D36enYMh_o.png" width="66%"></p> 
<p>当路径不一致的时候，如下：<br> <img src="https://images2.imgbox.com/1e/f2/EQC8coIT_o.png" width="66%"><br> 此时测试类就无法依赖注入，需要做以下配置（任选其一）：</p> 
<ul><li><code>@SpringBootTest(classes = SpringbootDemo1Application.class)</code></li><li><code>@ContextConfiguration(classes = SpringbootDemo1Application.class)</code></li></ul> 
<h3><a id="2mybatis_325"></a>2.整合mybatis</h3> 
<p><strong>导入依赖：</strong></p> 
<pre><code class="prism language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>设置数据源参数：</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
	<span class="token key atrule">datasource</span><span class="token punctuation">:</span>
		<span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
		<span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/book
		<span class="token key atrule">username</span><span class="token punctuation">:</span> root
		<span class="token key atrule">password</span><span class="token punctuation">:</span> root
</code></pre> 
<blockquote> 
 <p><strong>注意：</strong> SpringBoot版本低于2.4.3(不含)，Mysql驱动版本大于8.0时，需要在url连接串中配置时区<br> <code>jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</code><br> 或在MySQL数据库端配置时区解决此问题</p> 
</blockquote> 
<p><strong>定义实体类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> price<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>定义数据层接口与映射配置：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from book"</span><span class="token punctuation">)</span>
	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试类中注入dao接口，测试功能：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot08MybatisApplicationTests</span> <span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">BookDao</span> bookDao<span class="token punctuation">;</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testGetById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">Book</span> book <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3mybatisplus_395"></a>3.整合mybatis-plus</h3> 
<p><a href="https://blog.csdn.net/qq_41402200/article/details/88891511"><strong>https://blog.csdn.net/qq_41402200/article/details/88891511</strong></a></p> 
<h3><a id="4Druid_398"></a>4.整合Druid</h3> 
<pre><code class="prism language-xml">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">main</span><span class="token punctuation">:</span>
    <span class="token key atrule">banner-mode</span><span class="token punctuation">:</span> off
 <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
 <span class="token key atrule">druid</span><span class="token punctuation">:</span>
  <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
  <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/ssm_db<span class="token punctuation">?</span>serverTimezone=UTC
  <span class="token key atrule">username</span><span class="token punctuation">:</span> root
  <span class="token key atrule">password</span><span class="token punctuation">:</span> root
</code></pre> 
<h2><a id="6_421"></a>6.完结案例</h2> 
<p>项目完整目录结构：</p> 
<center> 
 <img src="https://images2.imgbox.com/97/26/fBboIGhx_o.png" width="33%"> 
 <img src="https://images2.imgbox.com/30/be/Nbrq8MlV_o.png" width="39.9%"> 
</center> 
<h3><a id="1_429"></a>1.项目初始化</h3> 
<p><strong>项目初始化：</strong></p> 
<center> 
 <img src="https://images2.imgbox.com/2c/f0/aiz8wU4m_o.png" width="66%"> 
 <center> 
  <img src="https://images2.imgbox.com/67/72/6xVFxnq0_o.png" width="66%"> 
  <center> 
   <img src="https://images2.imgbox.com/56/ba/voQQidUg_o.png" width="66%"> 
   <center> 
    <img src="https://images2.imgbox.com/e7/75/v6n7QqpD_o.png" width="66%"> 
   </center> 
  </center> 
 </center> 
</center> 
<h3><a id="2_439"></a>2.数据库搭建&amp;数据源配置</h3> 
<p><strong>SQL语句：</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token identifier"><span class="token punctuation">`</span>spbt<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token identifier"><span class="token punctuation">`</span>spbt<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token identifier"><span class="token punctuation">`</span>sp_book<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
	<span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">'主键id'</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>type<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'书籍类型'</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'书籍名称'</span><span class="token punctuation">,</span>
	<span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'书籍描述'</span>
<span class="token punctuation">)</span><span class="token keyword">default</span> <span class="token keyword">charset</span><span class="token operator">=</span>utf8 <span class="token keyword">comment</span> <span class="token string">'书籍表'</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>sp_book<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>type<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token keyword">values</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'地球往事'</span><span class="token punctuation">,</span><span class="token string">'《三体》三部曲第一部，作品讲述了地球人类文明和三体文明的信息交流、生死搏杀及两个文明在宇宙中的兴衰历程。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'黑暗森林'</span><span class="token punctuation">,</span><span class="token string">'《三体》三部曲第二部，作品讲述了地球人类文明和三体文明的信息交流、生死搏杀及两个文明在宇宙中的兴衰历程。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'死神永生'</span><span class="token punctuation">,</span><span class="token string">'《三体》三部曲第三部，作品讲述了地球人类文明和三体文明的信息交流、生死搏杀及两个文明在宇宙中的兴衰历程。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'将夜'</span><span class="token punctuation">,</span><span class="token string">'这本小说讲述的是一段可歌可泣可笑可爱的草根崛起史，一个物质要求宁滥勿缺的开朗少年行。小说基于修真世界，却又胜于修真，讲述了人定胜天，花开彼岸天的历史，引人深思。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'雪中悍刀行'</span><span class="token punctuation">,</span><span class="token string">'该小说讲述一个关于庙堂权争与刀剑交错的时代，一个暗潮涌动粉墨登场的江湖。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'都市'</span><span class="token punctuation">,</span><span class="token string">'大国重工'</span><span class="token punctuation">,</span><span class="token string">'国家重大装备办处长冯啸辰穿越到了1980年，看他如何与同代人一道，用汗水和智慧，铸就大国重工。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'架空'</span><span class="token punctuation">,</span><span class="token string">'赘婿'</span><span class="token punctuation">,</span><span class="token string">'本书主要讲述了主角从现代金融界巨头的身份回到了古代，进入一个商贾之家最没地位的赘婿身体后，涉及到一系列家国天下事的故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'北京折叠'</span><span class="token punctuation">,</span><span class="token string">'该小说讲述北京在未来按照社会阶层被分成三个空间，生活在第三空间的垃圾工老刀穿越三层空间送信的故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'鬼怪'</span><span class="token punctuation">,</span><span class="token string">'地煞七十二变'</span><span class="token punctuation">,</span><span class="token string">'地煞七十二般变化，每一般变化，就是一项神通。一本神奇的黄壳书将李长安送回古代世界，每斩杀一个妖魔，就获得一项神通。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'魔幻'</span><span class="token punctuation">,</span><span class="token string">'诡秘之主'</span><span class="token punctuation">,</span><span class="token string">'作品融汇了克苏鲁风格、西方魔幻元素、第一次工业革命时代风情和蒸汽朋克情怀。这是一个蒸汽与机械的世界，这是一段“愚者”的传说。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'幻想'</span><span class="token punctuation">,</span><span class="token string">'第一序列'</span><span class="token punctuation">,</span><span class="token string">'作品讲述了主角任小粟通过吸收正能量一步步崛起，同时逐渐改变了世界的故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'人文'</span><span class="token punctuation">,</span><span class="token string">'明朝那些事儿'</span><span class="token punctuation">,</span><span class="token string">'作品主要讲述的是从1344年到1644年这三百年间关于明朝的一些故事 。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'人文'</span><span class="token punctuation">,</span><span class="token string">'三国那些事儿'</span><span class="token punctuation">,</span><span class="token string">'本书分为上下两篇，上篇为读者介绍了三国里的著名人物，下篇讲述了发生在这些人物身上的经典故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'都市'</span><span class="token punctuation">,</span><span class="token string">'余罪'</span><span class="token punctuation">,</span><span class="token string">'警校学生余罪从一场特殊的选拔开始，进入了生活和社会矛盾之中，成为一个卧底，是一种挑战，也是一种难以想象的痛苦生活的开始。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'安德的游戏'</span><span class="token punctuation">,</span><span class="token string">'第三次虫族入侵已迫在眉睫，而地球舰队尚未找到任何抵抗的可能。世界即将毁灭。人类最后的救世主 ，是一个六岁的儿童——安德。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'死者代言人'</span><span class="token punctuation">,</span><span class="token string">'安德遭遇了一起残忍而离奇的虐杀事件。安德隐匿身份，再次踏入一个异生物星球。随着调查的深入，他一步步走向异种生物的圈套，而真相，居然与他童年的那段回忆有千丝万缕的联系……'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'安德的影子'</span><span class="token punctuation">,</span><span class="token string">'当安德和队员们全力以赴挑战最后的难关时，只有一人早已知晓这背后残酷的真相。他是影子，在英雄如阳光照射大地之时，只有影子能承接必然尾随而至的黑暗。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'惊悚'</span><span class="token punctuation">,</span><span class="token string">'我有一座冒险屋'</span><span class="token punctuation">,</span><span class="token string">'作该作品讲述主人公陈歌在翻旧物时寻得黑色手机，在手机的指引下探寻世界的另一面。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'科幻'</span><span class="token punctuation">,</span><span class="token string">'星门'</span><span class="token punctuation">,</span><span class="token string">'传说，在那古老的星空深处，伫立着一道血与火侵染的红色之门。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'凡人修仙传'</span><span class="token punctuation">,</span><span class="token string">'小说讲述了一个普通的山村穷小子，偶然之下，跨入到一个江湖小门派，虽然资质平庸，但依靠自身努力和合理算计最后修炼成仙的故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'惊悚'</span><span class="token punctuation">,</span><span class="token string">'地狱公寓'</span><span class="token punctuation">,</span><span class="token string">'在这公寓内，如果住户房间的墙壁上出现了血字，住户就必须完成血字任务，一旦违背就会死亡。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'求魔'</span><span class="token punctuation">,</span><span class="token string">'该书主要讲述了主角苏铭不甘命运被掌控，与命运斗争的故事。修仙觅长生，热血任逍遥，踏莲曳波涤剑骨，凭虚御风塑圣魂。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'仙逆'</span><span class="token punctuation">,</span><span class="token string">'作该小说讲述的是一个平庸的少年，踏入仙途，如何一步一步走向巅峰，凭一己之力扬名修真界的故事。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'诗集'</span><span class="token punctuation">,</span><span class="token string">'炸裂志'</span><span class="token punctuation">,</span><span class="token string">'陈年喜以其平实婉转的文字，在诗句中建构了一个中年男人的世界，以白雪抗衡黑洞，以爱感悟生死，以诗超越世间。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span><span class="token string">'仙侠'</span><span class="token punctuation">,</span><span class="token string">'大奉打更人'</span><span class="token punctuation">,</span><span class="token string">'作者巧妙地将俗世朝堂背景，百家文化与仙侠修炼结合起来，并设计了一个个精妙的案件作为引线，一步步展现出了一个波澜壮阔的全新世界'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>创建实体类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>配置数据源：</strong></p> 
<pre><code class="prism language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
      <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/spbt<span class="token punctuation">?</span>serverTimezone=UTC
      <span class="token key atrule">username</span><span class="token punctuation">:</span> root
      <span class="token key atrule">password</span><span class="token punctuation">:</span> admin

<span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span>
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">db-config</span><span class="token punctuation">:</span>
      <span class="token comment"># 表前缀</span>
      <span class="token key atrule">table-prefix</span><span class="token punctuation">:</span> sp_
      <span class="token comment"># 设置数据库的自增策略</span>
      <span class="token key atrule">id-type</span><span class="token punctuation">:</span> auto
  <span class="token comment"># 开启mybatis-plus的运行日志</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl
</code></pre> 
<h3><a id="3Mybatisplus_520"></a>3.测试Mybatis-plus</h3> 
<p><strong>注意：</strong> mybatis-plus不用提交事务。</p> 
<h4><a id="1_524"></a>1.增删改查</h4> 
<p><strong>mapper接口:</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">QueryBookMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookMapperTests</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">BookMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"一念永恒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"仙侠"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"一念成沧海，一念化桑田。一念斩千魔，一念诛万仙。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"韩老魔的杀人夺宝一路升级的传奇故事"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapper<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testDelet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        mapper<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_578"></a>2.分页查询</h4> 
<ul><li>设定分页对象 <em>IPage</em></li><li><em>IPage</em> 对象中封装了分页操作中的所有数据<br> <font color="#999aaa">当前页码值、每页数据总量、最大页码值、数据总量、数据</font></li><li>分页操作是在MyBatisPlus的常规操作基础上增强得到，内部是动态的拼写SQL语句，因此需要增强对应的功能，<br> 使用 <em>MyBatisPlus拦截器</em> 实现</li><li></ul> 
<pre><code class="prism language-java">    <span class="token comment">/*分页查询*/</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p><a href="https://mybatis-plus.com/en/guide/interceptor.html#mybatisplusinterceptor" rel="nofollow"><strong>分页查询工具类</strong></a></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MPConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MybatisPlusInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PaginationInnerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> interceptor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_612"></a>3.条件查询</h4> 
<ul><li>使用<code>QueryWrapper</code>对象封装查询条件，推荐使用<code>LambdaQueryWrapper</code>对象，所有查询操作封装成方法调用</li></ul> 
<pre><code class="prism language-java">    <span class="token comment">/*条件*/</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetBy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        <span class="token comment">/*  一般写法
        QueryWrapper&lt;Book&gt; qw = new QueryWrapper&lt;&gt;();
        qw.like("type","仙");
        mapper.selectList(qw);*/</span>

        <span class="token comment">/*Lambda写法*/</span>
        <span class="token class-name">String</span> type <span class="token operator">=</span> <span class="token string">"仙"</span><span class="token punctuation">;</span>
        <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> lqw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        lqw<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span>type<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token operator">::</span><span class="token function">getType</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>lqw<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h3><a id="4_634"></a>4.业务层开发</h3> 
<h4><a id="1_636"></a>1.业务接口与实体类</h4> 
<p><strong>业务接口：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Boolean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentPage<span class="token punctuation">,</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p><strong>实现类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookMapper</span> mapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> mapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token keyword">int</span> currentPage<span class="token punctuation">,</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token punctuation">(</span>currentPage<span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> page<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_693"></a>2.测试类</h4> 
<p>选中实体类名，<em>Ctrl shift t</em> 快速创建测试类</p> 
<center> 
 <img src="https://images2.imgbox.com/e0/3a/onLTKKzz_o.png" width="66%"> 
 <center> 
  <img src="https://images2.imgbox.com/e9/b1/liucSp6Y_o.png" width="66%"> 
 </center> 
</center> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookServiceImplTest</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token class-name">BookServiceImpl</span> bookService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"诛仙"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"仙侠"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"天地不仁，以万物为刍狗"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"高人雅士、王者之痴、匹夫之怒、美人之勇、凡人琐事"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        bookService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        bookService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        bookService<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">getPage</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3MP_750"></a>3.MP业务层快速开发</h4> 
<p><strong>接口：</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IBookService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>实现类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IBookServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BookMapper</span><span class="token punctuation">,</span> <span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">IBookService</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>测试类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">IBookServiceImplTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">IBookServiceImpl</span> iBookService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iBookService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>iBookService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testSave</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"重生之超级战舰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token string">"科幻"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"探索宇宙之中的奥秘，和系外行星，各种恒星，白矮星，中子星，黑洞，类星体等进行亲密接触，和各种宇宙文明进行血腥厮杀，探寻被隐藏在重重迷雾之后的宇宙真理……"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iBookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        book<span class="token punctuation">.</span><span class="token function">setDescription</span><span class="token punctuation">(</span><span class="token string">"韩老魔的杀人夺宝一路升级的传奇故事"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iBookService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testDelet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        iBookService<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*分页*/</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">testGetPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        iBookService<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>注意：</strong> 如果有特殊的业务需求，可以在 <em>IBookService</em> 中重写方法。</p> 
<h3><a id="5_820"></a>5.表现层开发</h3> 
<h4><a id="1_821"></a>1.表现层代码</h4> 
<p><strong>使用REST风格写接口：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">IBookService</span> iBookService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> iBookService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> iBookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PutMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> iBookService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> iBookService<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> iBookService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"{currentPage}/{pageSize}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> currentPage<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>currentPage<span class="token punctuation">,</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        iBookService<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> page<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_866"></a>2.接口测试</h4> 
<p><strong>本文采用的测试工具是： <font color="red">ApiPost</font></strong></p> 
<center> 
 <img src="https://images2.imgbox.com/30/ef/HwxNWImb_o.png" width="11%"> 
 <center> 
  <img src="https://images2.imgbox.com/4f/e4/anCviA5q_o.png" width="99%"> 
 </center> 
</center> 
<p><strong>接口测试目录文档：</strong> <a href="https://console-docs.apipost.cn/preview/7f61bffaaafd5a1c/44eae2dee5dca510" rel="nofollow">https://console-docs.apipost.cn/preview/7f61bffaaafd5a1c/44eae2dee5dca510</a></p> 
<h4><a id="3_874"></a>3.表现层消息一致性处理</h4> 
<p>设计表现层返回结果的模型类，用于后端与前端进行数据格式统一，也称为<strong>前后端数据协议</strong>。</p> 
<p><strong>工具类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 标志接口是否成功执行</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">;</span>
    <span class="token comment">// 调用接口返回数据格式</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>升级版的表现层：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookControllerPro</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">IBookService</span> iBookService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> iBookService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PostMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span>iBookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@PutMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span>iBookService<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span><span class="token string">"{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span>iBookService<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"{id}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> iBookService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"{currentPage}/{pageSize}"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> currentPage<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">int</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>currentPage<span class="token punctuation">,</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> iBookService<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="4_939"></a>4.异常消息处理</h4> 
<p><strong>工具类：</strong></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 标志接口是否成功执行</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">;</span>
    <span class="token comment">// 调用接口返回数据格式</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>
    <span class="token comment">// 返回状态信息</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> flag<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>flag <span class="token operator">=</span> flag<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RestControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProjectExceptionAdvice</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@ExceptionHandler</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">doException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"服务器故障，稍后再试"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>新增接口修改：</p> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@PostMapping</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> iBookService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span>flag<span class="token punctuation">,</span> flag <span class="token operator">?</span> <span class="token string">"新增成功"</span> <span class="token operator">:</span> <span class="token string">"新增失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<p>前端save接口调用：</p> 
<pre><code class="prism language-js">            <span class="token comment">//添加</span>
            <span class="token function">handleAdd</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">"/books"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>formData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 判断是否添加成功</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// 关闭弹窗</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>dialogFormVisible <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'新增成功'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token comment">// this.$message.error('新增失败');</span>
                        <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 重新加载一下数据</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h3><a id="6_1015"></a>6.前后端协议联调</h3> 
<p><strong><a href="https://github.com/Crashinging/ssmp">项目代码地址</a>：git@github.com:Crashinging/ssmp.git</strong></p> 
<p>本部分到此为止了…</p> 
<center> 
 <img src="https://images2.imgbox.com/1c/2b/FRevpVdq_o.png" width="25%"> 
</center>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9df81aad25fd5434809dfd28fb56853b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何将视频的每一帧提取成图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1e14fb9b32e7f8503a7c67a6a5a4209/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS标准内置对象 数组 的 34 个方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>