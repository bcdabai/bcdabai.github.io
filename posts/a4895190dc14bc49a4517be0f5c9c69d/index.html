<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【JS】url传参中文乱码的解决方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【JS】url传参中文乱码的解决方法" />
<meta property="og:description" content="1、escape 和 unescape escape()不能直接用于URL编码，它的真正作用是返回一个字符的Unicode编码值。
采用unicode字符集对指定的字符串除0-255以外进行编码。所有的空格符、标点符号、特殊字符以及更多有联系非ASCII字符都将被转化成%xx格式的字符编码（xx等于该字符在字符集表里面的编码的16进制数字）。比如，空格符对应的编码是%20。
escape不编码字符有69个：*，&#43;，-，.，/，@，_，0-9，a-z，A-Z。
escape()函数用于js对字符串进行编码，不常用。
//跳转页 location.href = &#39;./test.html?&#39;&#43;escape(&#39;name=张三&amp;age=18&#39;) //接收页 var str = unescape(location.search.substr(1)); //url显示 &#39;test.html?name%3D%u5F20%u4E09%26age%3D18&#39; 注意：使用此方法时，不能对整个url进行编码，仅可对传参进行编码，因为会对 “?”等进行编码，导致路径错误，所以一般不用该方法。
2、encodeURI 和 decodeURI 把URI字符串采用UTF-8编码格式转化成escape各式的字符串。
encodeURI不编码字符有82个：!，#，$，&amp;，&#39;，(，)，*，&#43;，,，-，.，/，:，;，=，?，@，_，~，0-9，a-z，A-Z
encodeURI()用于整个url编码
//跳转页 location.href = encodeURI(&#39;./test.html?name=张三&amp;age=18&#39;); //接收页 var str = decodeURI(location.search.substr(1)); //url显示 &#39;test.html?name=张三&amp;age=18&#39; 3、encodeURIComponent 和 decodeURIComponent 与encodeURI()的不同的是，“; / ? : @ &amp; = &#43; $ , #”，这些在encodeURI()中不被编码的符号，在encodeURIComponent()中统统会被编码。至于具体的编码方法，两者是一样。把URI字符串采用UTF-8编码格式转化成escape格式的字符串。
//跳转页 location.href = &#39;./test.html?&#39;&#43;encodeURIComponent(&#39;name=张三&amp;age=18&#39;); //接收页 var str = decodeURIComponent(location.search.substr(1)); //url显示 &#39;test.html?name%3D张三%26age%3D18&#39; 注意：使用此方法时，不能对整个url进行编码，仅可对传参进行编码，因为会对 “?”等进行编码，导致路径错误，所以一般不用该方法。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a4895190dc14bc49a4517be0f5c9c69d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-13T09:27:28+08:00" />
<meta property="article:modified_time" content="2022-07-13T09:27:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【JS】url传参中文乱码的解决方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1escape__unescape_0"></a>1、escape 和 unescape</h3> 
<p>escape()不能直接用于URL编码，它的真正作用是返回一个字符的Unicode编码值。</p> 
<p>采用unicode字符集对指定的字符串除0-255以外进行编码。所有的空格符、标点符号、特殊字符以及更多有联系非ASCII字符都将被转化成%xx格式的字符编码（xx等于该字符在字符集表里面的编码的16进制数字）。比如，空格符对应的编码是%20。<br> escape不编码字符有69个：*，+，-，.，/，@，_，0-9，a-z，A-Z。</p> 
<p>escape()函数用于js对字符串进行编码，不常用。</p> 
<pre><code class="prism language-javascript"><span class="token comment">//跳转页</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'./test.html?'</span><span class="token operator">+</span><span class="token function">escape</span><span class="token punctuation">(</span><span class="token string">'name=张三&amp;age=18'</span><span class="token punctuation">)</span>
 
<span class="token comment">//接收页</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">unescape</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//url显示</span>
<span class="token string">'test.html?name%3D%u5F20%u4E09%26age%3D18'</span>
</code></pre> 
<blockquote> 
 <p>注意：使用此方法时，不能对整个url进行编码，仅可对传参进行编码，因为会对 “?”等进行编码，导致路径错误，所以一般不用该方法。</p> 
</blockquote> 
<h3><a id="2encodeURI__decodeURI_22"></a>2、encodeURI 和 decodeURI</h3> 
<p>把URI字符串采用UTF-8编码格式转化成escape各式的字符串。<br> encodeURI不编码字符有82个：!，#，$，&amp;，'，(，)，*，+，,，-，.，/，:，;，=，?，@，_，~，0-9，a-z，A-Z</p> 
<p>encodeURI()用于整个url编码</p> 
<pre><code class="prism language-javascript"><span class="token comment">//跳转页</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token string">'./test.html?name=张三&amp;age=18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//接收页</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//url显示</span>
<span class="token string">'test.html?name=张三&amp;age=18'</span>
</code></pre> 
<h3><a id="3encodeURIComponent__decodeURIComponent_39"></a>3、encodeURIComponent 和 decodeURIComponent</h3> 
<p>与encodeURI()的不同的是，“; / ? : @ &amp; = + $ , #”，这些在encodeURI()中不被编码的符号，在encodeURIComponent()中统统会被编码。至于具体的编码方法，两者是一样。把URI字符串采用UTF-8编码格式转化成escape格式的字符串。</p> 
<pre><code class="prism language-javascript"><span class="token comment">//跳转页</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'./test.html?'</span><span class="token operator">+</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token string">'name=张三&amp;age=18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//接收页</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//url显示</span>
<span class="token string">'test.html?name%3D张三%26age%3D18'</span>
</code></pre> 
<blockquote> 
 <p>注意：使用此方法时，不能对整个url进行编码，仅可对传参进行编码，因为会对 “?”等进行编码，导致路径错误，所以一般不用该方法。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d8e7aecbfcf78e8e7be85d7c9344f1e3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线段树详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/076305204d7a73366549bfdfaccdb7f4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言-矩阵转置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>