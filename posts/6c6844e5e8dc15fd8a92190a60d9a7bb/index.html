<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>最好的ADB教程，从下载安装到使用【win&#43; linux】 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="最好的ADB教程，从下载安装到使用【win&#43; linux】" />
<meta property="og:description" content="Best Adb Tutorials 由于在工作中常用到的adb命令，在此总结，基本是很全乎了，以供后续查阅，欢迎补充！
一、什么是adb adb的全称为Android Debug Bridge,安卓调试桥。
是安卓设备和电脑之间的中间件,是官方提供的用于操作安卓设备的工具。 二、adb用来干什么? adb的使用场景不仅仅局限于安卓手机,安卓平板、部分游戏手柄、安卓vr等安卓设备均可使用。
在PC终端进入安卓设备shell,通过命令行操作安卓设备; pc和安卓安卓设备之间传输文件; 打开、关闭安卓设备或其应用; 模拟点击、输入、滑动等操作; 输出设备信息、性能指标信息 三、adb工作原理: adb采用客户端-服务器模式(C/S模式),分为: PC: 客户端:client 服务器:server MACHINE:(安卓设备) 守护进程:daemon 流程:服务器监听5037端口,接受客户端发来的指令发送给移动设备端adbd。
常用端口：5555端口和移动端建立连接,5554则是和控制台建连接。
四、ADB下载安装: 最新版本的ADB下载(包含多系统版本) ：入口 linux 下载 在线安装: sudo apt-get install android-tools-adb 离线安装：参考资料 windows配置ADB环境: 打开控制面板 &gt;系统和安全&gt;系统&gt;高级系统设置 在系统变量中新建ANDROID_HOME变量，赋值路径(platform-tools的上一级目录例如：C:\Users\SweetOrange\AppData\Local\Android\Sdk) 在系统变量path中添加%ANDROID_HOME%\platform-tools cmd进入终端 安装配置部分可以参考这篇博客：入口 五、连接移动设备以及查看设备连接状态 本文以安卓手机真机为例说明，下同。 adb真机调试使用前提: 真机插入USB数据线打开调试模式,PC端安装手机驱动,弹出是否允许调试点击是
adb调试手机需要打开手机开发者模式、USB调试 弹出的USB配置窗口建议选择文件传输 特殊命令还需要打开其他开关,例如无线调试的时候需要提前打开无线调试开关 检查 adb 是否安装成功: 执行 adb shell 是否进入安卓设备shell 正常情况下可以进入到安卓设备的内环境使用命令行进行操作 执行 adb --version 是否有adb 版本显示 以上有一个成功就说明安装成功 获取设备序列号：
adb shell getprop ro.serialno adb get-serialno adb devices 获取更加详细的设备信息,含序列号、型号等：adb devices -l 获取型号： adb -d shell getprop ro." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6c6844e5e8dc15fd8a92190a60d9a7bb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-29T15:52:03+08:00" />
<meta property="article:modified_time" content="2023-08-29T15:52:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">最好的ADB教程，从下载安装到使用【win&#43; linux】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Best_Adb_Tutorials_1"></a>Best Adb Tutorials</h2> 
<p>由于在工作中常用到的adb命令，在此总结，基本是很全乎了，以供后续查阅，欢迎补充！<br></p> 
<h3><a id="adb_6"></a>一、什么是adb</h3> 
<p>adb的全称为Android Debug Bridge,安卓调试桥。<br> <b>是安卓设备和电脑之间的中间件,是官方提供的用于操作安卓设备的工具</b>。 <br></p> 
<h3><a id="adb_13"></a>二、adb用来干什么?</h3> 
<p>adb的使用场景不仅仅局限于安卓手机,安卓平板、部分游戏手柄、安卓vr等安卓设备均可使用。</p> 
<ul><li>在PC终端进入安卓设备shell,通过命令行操作安卓设备; <br></li><li>pc和安卓安卓设备之间传输文件; <br></li><li>打开、关闭安卓设备或其应用; <br></li><li>模拟点击、输入、滑动等操作; <br></li><li>输出设备信息、性能指标信息</li></ul> 
<h3><a id="adb_23"></a>三、adb工作原理:</h3> 
<p>adb采用客户端-服务器模式(C/S模式),分为: <br><br> PC: <br><br> 客户端:client <br><br> 服务器:server <br></p> 
<p>MACHINE:(安卓设备) <br><br> 守护进程:daemon <br><br> 流程:服务器监听5037端口,接受客户端发来的指令发送给移动设备端adbd。</p> 
<p>常用端口：5555端口和移动端建立连接,5554则是和控制台建连接。</p> 
<h3><a id="ADB_36"></a>四、ADB下载安装:</h3> 
<p>最新版本的ADB下载(包含多系统版本) ：<a href="https://adbshell.com/" rel="nofollow">入口</a> <br></p> 
<h4><a id="linux__40"></a>linux 下载</h4> 
<p>在线安装: <code>sudo apt-get install android-tools-adb </code><br><br> 离线安装：<a href="https://www.jianshu.com/p/59799fa142e9" rel="nofollow">参考资料</a> <br></p> 
<h4><a id="windowsADB__br_45"></a>windows配置ADB环境: <br></h4> 
<ul><li>打开控制面板 &gt;系统和安全&gt;系统&gt;高级系统设置 <br></li><li>在系统变量中新建ANDROID_HOME变量，赋值路径(platform-tools的上一级目录例如：C:\Users\SweetOrange\AppData\Local\Android\Sdk) <br></li><li>在系统变量path中添加%ANDROID_HOME%\platform-tools <br></li><li>cmd进入终端 <br></li></ul> 
<p>安装配置部分可以参考这篇博客：<a href="https://blog.csdn.net/kasumi8874/article/details/123756858">入口</a> <br></p> 
<h3><a id="_54"></a>五、连接移动设备以及查看设备连接状态</h3> 
<p>本文以安卓手机真机为例说明，下同。 <br><br> adb真机调试使用前提: <br></p> 
<ul><li>真机插入USB数据线打开调试模式,PC端安装手机驱动,弹出是否允许调试点击是<br></li><li>adb调试手机需要打开手机开发者模式、USB调试 弹出的USB配置窗口建议选择文件传输 <br></li><li>特殊命令还需要打开其他开关,例如无线调试的时候需要提前打开无线调试开关 <br></li></ul> 
<p>检查 adb 是否安装成功: <br></p> 
<ul><li>执行 <code>adb shell </code>是否进入安卓设备shell <br><br> 正常情况下可以进入到安卓设备的内环境使用命令行进行操作 <br></li><li>执行 <code>adb --version </code>是否有adb 版本显示 <br><br> 以上有一个成功就说明安装成功 <br></li></ul> 
<p>获取设备序列号：</p> 
<pre><code>adb shell getprop ro.serialno    
adb get-serialno 
adb devices
</code></pre> 
<p>获取更加详细的设备信息,含序列号、型号等：<code>adb devices -l </code></p> 
<p>获取型号： <code>adb -d shell getprop ro.product.model </code></p> 
<p>获取厂商: <code>adb -d shell getprop ro.product.brand </code></p> 
<p>获取连接状态: <code>adb get-status </code><br> 结果:</p> 
<pre><code>device：设备正常连接  
offline：连接出现异常,设备无响应
error: no devices/emulators found、unknown-没有连接设备 
</code></pre> 
<p>获取运营商: <code>adb shell getprop gsm.sim.operator.alpha </code></p> 
<h4><a id="__br_91"></a>无线调试连接方法: <br></h4> 
<p>最终实现无线连接必须以安卓设备和PC已经连接同一个无线网络为前提。 <br></p> 
<ul><li>借助USB数据线(常用机型任意安卓版本): <br> 
  <ul><li>先连接USB数据线打开usb调试,如有弹窗选择文件传输</li><li>执然后行 <code>adb tcpip </code>[设置一个端口号]</li><li>再执行<code>adb connect [手机ip]:[端口号]</code>即可 <br><br> adb tcpip [设置一个端口号] 是在手机上开辟一个新的端口,用于监听, <br><br> 然后当PC端执行adb connect [手机ip]:[端口号]时,将会通过设置的连接手机端口和无线网进行连接； <br></li></ul> </li><li>无需USB数据线(安卓11及以上): <code>adb pair [IP]:[port] </code><br><br> 这里的端口和IP都是在手机上显示的,需要在安卓手机设置中打开无线调试 <br></li></ul> 
<p>从无线模式重新连接到USB命令:<code>adb usb </code><br></p> 
<p><b>在linux下能用的命令，在此基本都能用！</b></p> 
<p><b>在win没有grep命令，但是可以使用findstr替换。</b><br> <strong>ps: 如果是华为、荣耀手机，还需要打开“仅充电”模式下允许Usb调试，否则拔线状态就会变成offline.</strong></p> 
<h3><a id="adb_108"></a>六、adb命令格式:</h3> 
<p><code>adb [-d | -e | -s &lt;serialNumber&gt;] &lt;command&gt; </code><br></p> 
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>一台设备不需要以下命令,默认会操作已连接的设备:</td><td>-d 指定当前唯一通过USB连接安卓设备为命令目标</td></tr><tr><td></td><td>-e 指定当前唯一运行的模拟器为命令目标</td></tr><tr><td></td><td>-s [device名字 ]指定相应的设备为命令目标</td></tr></tbody></table> 
<p>以上[ ] 内为可选,如果只有一个模拟器在运行或者只连接了一个设备,系统会默认将 adb 命令发送至该设备 <br></p> 
<p>Ps: <code>adb shell [其他命令] </code><br><br> 直接执行这样的长命令 == 先执行 adb shell,再执行括号内的其他命令;这两个效果是一样的 <br><br> Eg:<code>adb shell ls -a</code>== 先执行<code>adb shell</code>,再执行<code>ls -a </code><br></p> 
<h3><a id="_126"></a>七、安装应用:</h3> 
<p>安装包在PC端: <br><br> 普通安装: <code>adb install &lt;apk路径&gt; </code>//原来安卓设备中没有安装该应用 <br><br> 覆盖安装: <code>adb install -r &lt;apk路径&gt; </code>//安卓设备中已经安装该应用,使用这个安装包覆盖之前版本 <br><br> 授权安装: <code>adb install -g &lt;apk路径&gt; </code>//授予安装软件运行中的所有权限,不必在软件运行用到权限时一一来授权所需权限 <br><br> 安装成功会返回成功提示： “Success”; <br></p> 
<p>卸载: <code>adb unstall 包名 </code><br><br> 卸载但是保留数据缓存: <code>adb uninstal - k &lt; 包名&gt; </code><br></p> 
<p>安装包在安卓端: <code>adb shell pm install [路径][ **.apk] </code><br></p> 
<p>当然也可以先推进到安卓设备再安装: <code>adb push [**.apk] [路径] &amp;&amp; adb shell pm install [路径][ **.apk] </code><br></p> 
<h3><a id="adb__br_142"></a>八、adb启动页面: <br></h3> 
<p><code>adb start am -n [包名 + 页面名] </code><br></p> 
<p>获取当前页面名: <code>adb shell "dumpsys windows |grep mCurrentFocus" </code><br><br> package包:android应用唯一的标识 <br><br> Activity:应用页面,一个页面就是一个activity <br><br> 监控手机运行的软件，显示包名： <code>adb shell am monitor</code> <br><br> adb打开页面 ： <code>adb logcat ActivityManager:I | findstr "cmp" </code><br></p> 
<h3><a id="adb___br_152"></a>九、adb 其他命令: <br></h3> 
<p><code>activity manger:am </code><br><br> <code>package manger:pm </code><br></p> 
<p>获取imei:</p> 
<p><code>adb shell service call iphonesubinfo 1 </code>//获取字符串需要处理 <br><br> <code>adb shell getprop ro.ril.oem.imei </code>//直接获取imei字符串,不需要处理 <br></p> 
<p>查看当前日期: <code>adb shell date </code><br><br> 查看目录结构: <code>adb shell ls </code><br><br> 查看当前CPU使用情况: <code>adb shell cat/proc/cpuinfo </code><br><br> 查看当前内存使用情况: <code>adb shell cat/proc/meminfo </code><br></p> 
<p>查看安卓设备应用</p> 
<pre><code>adb shell pm  list packages  
adb shell pm  list packages -s           //列举系统应用 -s:system
adb shell pm  list packages -3           //列举第三方应用
adb shell pm  list packages -f           //还能显示出路径
adb shell pm list packages  [tencent]    //查看腾讯系软件包（包名带有tencent的）
</code></pre> 
<p>借助强大的dump工具, 可以获取很多系统相关信息 <br><br> 查看安卓设备硬盘存储空间以及各应用使用存储空间情况: <code>adb shell dumpsys diskstats </code>//剥离应用名字、应用数据大小、应用缓存等信息Cpp代码。 <br></p> 
<p>查看安卓设备状态: <code>adb shell dumpstate </code></p> 
<p>清除应用数据: <code>adb shell pm clear[包名] </code><br><br> 进入应用缓存数据位置: <code>cd /data/data/[包名] </code><br></p> 
<p>截屏并存到/sdcard/: <code>adb shell screencap /sdcard/screen.png </code><br><br> 录屏并存到/sdcard/: <code>adb shell screenrecord /sdcard/demo.mp4 </code><br></p> 
<h3><a id="PC__br_186"></a>十、安卓设备和PC传输文件(非常常用) <br></h3> 
<p><code>adb push PC路径 安卓设备路径 </code><br></p> 
<p><code>adb pull 安卓设备路径 PC路径 </code></p> 
<h3><a id="adbadb_logcat__br_192"></a>十一、adb查看安卓设备日志:adb logcat <br></h3> 
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>日志的级别:</td><td>V-明细verbose(最低优先级)</td></tr><tr><td></td><td>D―调试debug</td></tr><tr><td></td><td>l一信息info</td></tr><tr><td></td><td>W-警告warn</td></tr><tr><td></td><td>E一错误error</td></tr><tr><td></td><td>F一严重错误fatal</td></tr><tr><td></td><td>S-无记载silent(最高优先级,绝不会输出任何内容)</td></tr></tbody></table> 
<p>adb查看安卓设备日志:<code>adb logcat </code></p> 
<p>后缀分析: <br><br>     -v color 使用不同颜色来显示每个优先级 <br><br>      -f [安卓设备端的文件名] 将日志输出到文件名中,保存到PC端 <br></p> 
<p>将日志存放到PC端： <code>adb logcat&gt; pc端文件路径</code><br></p> 
<p>依据条件过滤日志: <br></p> 
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>查看日志帮助命令:</td><td>adb logcat --help</td></tr><tr><td></td><td>adb logcat -v time "*:</td></tr><tr><td></td><td>adb logcat ActivityManger:D '*:</td></tr></tbody></table> 
<p>如果设置的过滤条件为日志级别的话,将会过滤出该等级以及该等级以上等级的日志:<br> <code>adb logcat "*:W" 过滤日志级别为W以及已上的日志 </code></p> 
<h3><a id="__br_223"></a>十二、模拟按键操作: <br></h3> 
<p>1、模拟按键: <code>adb shell input keyevent [命令] </code>// 括号内一般为数字,不同数字代表不同操作 <br></p> 
<p>2、模拟输入: <code>adb shell input text [文本](仅支持英文,不支持中文和一些符号) </code><br></p> 
<p>3、模拟页面的滑动事件:<code>adb shell swipe (x1,y1)(x2,y2) </code><br><br> 　   后面可以加时间,单位:毫秒 <br></p> 
<p>4、模拟返回: <code>adb shell input keyevent 4 </code><br><br> 　   模拟返回主页: <code>adb shell input keyevent 3 </code><br></p> 
<p>5、模拟拨号: <br><br>    按好号码但是不拨出: <code>adb shell service call phone 1 s16 [ 号码 ] </code><br><br>    按好号码直接拨出: <code>adb shell am start -a android.intent.action.CALL -d tel:[ 号码 ] </code>// 如果安卓设备是双卡则需要选择拨出卡号 <br></p> 
<p>6、模拟点击(x,y)处: <code>adb shell input tap (x,y) </code><br><br> 　   左上角为 0 0,右下角则较为大的值(不同安卓设备不同) v</p> 
<p>7、搜狗语音输入: <code>adb shell input tap 656 1513 </code>(误打误撞碰见的) <br></p> 
<p>8、模拟长按开机键重启安卓设备: <code>adb reboot </code></p> 
<p>9、模拟开启无线网: <code>adb shell svc wifi enable </code><br><br>      模拟关闭无线网: <code>adb shell svc wifi disable </code></p> 
<p>10、启用移动数据: <code>adb shell svc data enable </code><br><br>      禁用移动数据: <code>adb shell svc data disable </code></p> 
<h3><a id="adb__254"></a>十三、adb 获取性能指标:</h3> 
<p>查看当前CPU使用情况: <code>adb shell dumpsys cpuinfo(均值) </code></p> 
<p>查看当前系统内存使用情况: <code>adb shell dumpsys meminfo </code><br><br> 查看某个应用内存使用情况: <code>adb shell dumpsys meminfo [应用包名] </code>PS:如何获取参照前节</p> 
<p>同linux:top和ps作用是相同的,top是实时动态刷新的 <br><br> 实时查看进程信息(进程号等,和linux是一样的): <code>adb shell top (实时) adb shell ps -ef </code><br><br> linux某个进程信息: <code>adb shell top |grep [包名] </code><br><br> windows查看进程信息: <code>adb shell top | findstr [包名] </code><br><br> top 后面可以加参数-d 1 表示每一秒打印一次 <br></p> 
<p>电池信息: <code>adb shell dumpsys battery </code><br><br> 将电池信息保存到XXX.txt中去: <code>adb shell dumpsys batterystats &gt; xxx.txt </code>// <br></p> 
<p>无线网ip: <code>adb shell ip addr show wlan0 | grep -oE 'inet ([0-9]{1,3}.{3})([0-9]{1,3})' |grep -oE '([0-9]{1,3}.{3})([0-9]{1,3})' </code><br> 查看本机热点Ip: <code>adb shell ip addr ap0 </code><br></p> 
<p>性能相关的具体用法:[官网](https : / /developer.android.com/ docs )<br></p> 
<p>注意:[ ]不必在命令行中出现,直接写里面的东西即可</p> 
<h3><a id="_uri__277"></a>十四、从内容解析器读取值,可以通过其 uri 访问它</h3> 
<p>例如:可以使用 uri 获取短信: <br><br> <code>adb shell content query --uri content://sms --projection _id,address,body,read,date,type </code><br><br> 在终端中执行这个命令,你会得到这样的结果 <br></p> 
<pre><code>行:0 _id=2,地址=5554,正文=测试,读取=1,日期=1469533087074,类型=2  &lt;br&gt;

行:1 _id=1, address=5554, body=Hi, read=1, date=1469533011944, type=2  &lt;br&gt;
</code></pre> 
<p>例如:可以使用特定的 uri 获取特定的短信 <br></p> 
<pre><code>content://sms/inbox 
content://sms/sent
adb shell content query --uri content://sms/sent --projection _id,address,body,read,date,type
adb shell content query --uri content://mms/inbox  --projection _id,address,body,read,date,type
</code></pre> 
<p>获取通话记录：<code>adb shell content query --uri content://call_log/calls </code></p> 
<h3><a id="__br_299"></a>十五、常见问题自查、解决方式: <br></h3> 
<p>1、查看adb 版本,版本过低的话及时升级版本 <br><br> 2、查看安卓设备接和PC接口处是否连接好 <br><br> 3、环境变量是否设置好 <br><br> 4、手机开发者模式和USB调试开关是否正确打开? <br><br> 5、重新开启<br> 　   杀掉adb : <code>adb kill-server </code><br><br> 　   重启adb : <code>adb start-server </code><br></p> 
<ul><li>一般至此就不会有问题了</li></ul> 
<h3><a id="_309"></a>十六、其他的安装、学习资料文档</h3> 
<ul><li><a href="https://adbdownload.com/" rel="nofollow">最新版本安装网站</a> <br></li><li><a href="https://adbshell.com/" rel="nofollow">adb shell 网站</a> <br></li><li><a href="https://developer.android.com/studio/command-line/adb?hl=zh-cn" rel="nofollow">安卓官方的adb中文学习文档</a> <br></li><li><a href="https://blog.csdn.net/lb245557472/article/details/84068519?">CSDN上比较好学习文档</a><br></li><li><a href="https://www.cnblogs.com/hujingnb/p/10282238.html" rel="nofollow">adb keyevent 代码</a><br></li><li><a href="https://github.com/mzlogin/awesome-adb">ADB git-awesome-adb</a> <br></li></ul> 
<p><b>[adb远比我想象中的更好用!!!] </b> <br></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6d3e40c50914e6c069cfa8fef402869d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue3中keep-alive的使用及结合transition使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cbf65e6738bac21612709d22cc604116/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SOLO实例分割模型训练过程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>