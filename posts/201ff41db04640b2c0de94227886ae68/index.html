<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>zabbix学习随笔（一）：zabbix离线安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="zabbix学习随笔（一）：zabbix离线安装" />
<meta property="og:description" content="这里写自定义目录标题 zabbix安装1、安装环境2、下载安装包3、数据库安装与初始化4、安装服务与依赖5、修改配置6、启动服务7、配置agent zabbix安装 碰到一些不大不小的坑，解决起来也不难，多是依赖问题，由于从来没有接触过zabbix，所以网上一些理所当然认为就该如此操作的东西我也看不懂，只能各种猜各种尝试，好在没有费多长时间就解决了。
我会把遇到的坑都详细列出来，避免后来者踩到同样的坑里面
1、安装环境 操作系统：Centos7.7
数据库：mysql5.7
zabbix：4.2.8
2、下载安装包 公司服务器没有接入外网，只有一台服务器有外网，因此选择离线安装的方式
zabbix的官网没法下载安装包，因此在清华的源站下载
https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/4.2/rhel/7/x86_64/
我这里使用的mysql版的zabbix，因为mysql使用了多年已经习惯，不喜欢mysql的也可以使用别的数据库版本的
把所有的包都下载下来准没错
其中还包括一些依赖
[root@linux1 zabbix]# ll 总用量 10216 -rw-r--r--. 1 root root 56448 6月 1 15:53 fping-3.10-1.el7.rf.x86_64.rpm -rw-r--r--. 1 root root 59584 6月 2 09:08 php-bcmath-5.4.16-48.el7.x86_64.rpm -rw-r--r--. 1 root root 578968 6月 2 09:09 php-common-5.4.16-48.el7.x86_64.rpm -rw-r--r--. 1 root root 517760 6月 2 09:13 php-mbstring-5.4.16-48.el7.x86_64.rpm -rw-r--r--. 1 root root 427304 6月 2 09:08 zabbix-agent-4.2.8-1.el7.x86_64.rpm -rw-r--r--. 1 root root 298540 6月 2 09:08 zabbix-get-4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/201ff41db04640b2c0de94227886ae68/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-10T10:54:17+08:00" />
<meta property="article:modified_time" content="2020-06-10T10:54:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">zabbix学习随笔（一）：zabbix离线安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>这里写自定义目录标题</h4> 
 <ul><li><a href="#zabbix_2" rel="nofollow">zabbix安装</a></li><li><ul><li><a href="#1_7" rel="nofollow">1、安装环境</a></li><li><a href="#2_11" rel="nofollow">2、下载安装包</a></li><li><a href="#3_38" rel="nofollow">3、数据库安装与初始化</a></li><li><a href="#4_101" rel="nofollow">4、安装服务与依赖</a></li><li><a href="#5_143" rel="nofollow">5、修改配置</a></li><li><a href="#6_170" rel="nofollow">6、启动服务</a></li><li><a href="#7agent_182" rel="nofollow">7、配置agent</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="zabbix_2"></a>zabbix安装</h2> 
<p>碰到一些不大不小的坑，解决起来也不难，多是依赖问题，由于从来没有接触过zabbix，所以网上一些理所当然认为就该如此操作的东西我也看不懂，只能各种猜各种尝试，好在没有费多长时间就解决了。<br> 我会把遇到的坑都详细列出来，避免后来者踩到同样的坑里面</p> 
<h3><a id="1_7"></a>1、安装环境</h3> 
<p>操作系统：Centos7.7<br> 数据库：mysql5.7<br> zabbix：4.2.8</p> 
<h3><a id="2_11"></a>2、下载安装包</h3> 
<p>公司服务器没有接入外网，只有一台服务器有外网，因此选择离线安装的方式<br> zabbix的官网没法下载安装包，因此在清华的源站下载<br> https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/4.2/rhel/7/x86_64/<br> 我这里使用的mysql版的zabbix，因为mysql使用了多年已经习惯，不喜欢mysql的也可以使用别的数据库版本的<br> 把所有的包都下载下来准没错<br> 其中还包括一些依赖</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># ll</span>
总用量 10216
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root   56448 6月   1 15:53 fping<span class="token operator">-</span>3<span class="token punctuation">.</span>10<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>rf<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root   59584 6月   2 09:08 php<span class="token operator">-</span>bcmath<span class="token operator">-</span>5<span class="token punctuation">.</span>4<span class="token punctuation">.</span>16<span class="token operator">-</span>48<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  578968 6月   2 09:09 php<span class="token operator">-</span>common<span class="token operator">-</span>5<span class="token punctuation">.</span>4<span class="token punctuation">.</span>16<span class="token operator">-</span>48<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  517760 6月   2 09:13 php<span class="token operator">-</span>mbstring<span class="token operator">-</span>5<span class="token punctuation">.</span>4<span class="token punctuation">.</span>16<span class="token operator">-</span>48<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  427304 6月   2 09:08 zabbix<span class="token operator">-</span>agent<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  298540 6月   2 09:08 zabbix<span class="token operator">-</span>get<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  784360 6月   2 09:08 zabbix<span class="token operator">-</span>java<span class="token operator">-</span>gateway<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  987248 6月   2 09:08 zabbix<span class="token operator">-</span>proxy<span class="token operator">-</span>mysql<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  946096 6月   2 09:08 zabbix<span class="token operator">-</span>proxy<span class="token operator">-</span>sqlite3<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root   13868 6月   2 09:08 zabbix<span class="token operator">-</span>release<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token operator">-</span>2<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root  329840 6月   2 09:08 zabbix<span class="token operator">-</span>sender<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root 2423316 6月   2 09:08 zabbix<span class="token operator">-</span>server<span class="token operator">-</span>mysql<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root 2987924 6月   2 09:08 zabbix<span class="token operator">-</span>web<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root   10140 6月   2 09:08 zabbix<span class="token operator">-</span>web<span class="token operator">-</span>japanese<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch<span class="token punctuation">.</span>rpm
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root    9668 6月   2 09:08 zabbix<span class="token operator">-</span>web<span class="token operator">-</span>mysql<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch<span class="token punctuation">.</span>rpm
</code></pre> 
<h3><a id="3_38"></a>3、数据库安装与初始化</h3> 
<p>不贴数据库配置的步骤了，mysql的安装还是很简单的，下载了安装包，一个一个装就可以了，只是其中有一个坑是必须卸载系统自带的mariadb-lib，应该是叫这个名，不然无法安装mysql-lib这个包<br> 创建数据库和zabbix的mysql用户</p> 
<pre><code class="prism language-powershell">mysql&gt; create database zabbix<span class="token punctuation">;</span>
mysql&gt; grant all on zabbix<span class="token punctuation">.</span><span class="token operator">*</span> to <span class="token string">'zabbix'</span>@<span class="token string">'%'</span> identified by <span class="token string">'123456'</span> with grant option<span class="token punctuation">;</span>
</code></pre> 
<p>导入zabbix需要的表，sql文件在<br> /usr/share/doc/zabbix-server-mysql-4.2.8/create.sql.gz<br> 我的数据库不在zabbix-server的服务器上，在另一个服务器<br> 讲文件传送到目标服务器并解压</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux4 mysql]</span><span class="token comment"># gunzip create.sql.gz </span>
<span class="token namespace">[root@linux4 mysql]</span><span class="token comment"># ll</span>
<span class="token operator">-</span>rw<span class="token operator">-</span>r-<span class="token operator">-</span>r-<span class="token operator">-</span><span class="token punctuation">.</span> 1 root root    6248581 6月   2 09:21 create<span class="token punctuation">.</span>sql
<span class="token comment">#进入解压目录</span>
<span class="token namespace">[root@linux4 mysql]</span><span class="token comment"># cd /sga/mysql</span>
<span class="token namespace">[root@linux4 mysql]</span><span class="token comment"># mysql -uroot -p123456</span>
mysql: <span class="token namespace">[Warning]</span> <span class="token keyword">Using</span> a password on the command line interface can be insecure<span class="token punctuation">.</span>
Welcome to the MySQL monitor<span class="token punctuation">.</span>  Commands <span class="token keyword">end</span> with <span class="token punctuation">;</span> or \g<span class="token punctuation">.</span>
Your MySQL connection id is 47221
Server version: 5<span class="token punctuation">.</span>7<span class="token punctuation">.</span>29 MySQL Community Server <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> 2000<span class="token punctuation">,</span> 2020<span class="token punctuation">,</span> Oracle and<span class="token operator">/</span>or its affiliates<span class="token punctuation">.</span> All rights reserved<span class="token punctuation">.</span>

Oracle is a registered trademark of Oracle Corporation and<span class="token operator">/</span>or its
affiliates<span class="token punctuation">.</span> Other names may be trademarks of their respective
owners<span class="token punctuation">.</span>

<span class="token function">Type</span> <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help<span class="token punctuation">.</span> <span class="token function">Type</span> <span class="token string">'\c'</span> to clear the current input statement<span class="token punctuation">.</span>

mysql&gt; show databases<span class="token punctuation">;</span>
<span class="token operator">+</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Database           <span class="token punctuation">|</span>
<span class="token operator">+</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> information_schema <span class="token punctuation">|</span>
<span class="token punctuation">|</span> activity           <span class="token punctuation">|</span>
<span class="token punctuation">|</span> azkaban            <span class="token punctuation">|</span>
<span class="token punctuation">|</span> dataCenter_buffer  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> dataCenter_detail  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> hive               <span class="token punctuation">|</span>
<span class="token punctuation">|</span> mysql              <span class="token punctuation">|</span>
<span class="token punctuation">|</span> nacos              <span class="token punctuation">|</span>
<span class="token punctuation">|</span> performance_schema <span class="token punctuation">|</span>
<span class="token punctuation">|</span> scm                <span class="token punctuation">|</span>
<span class="token punctuation">|</span> sys                <span class="token punctuation">|</span>
<span class="token punctuation">|</span> zabbix             <span class="token punctuation">|</span>
<span class="token operator">+</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">--</span>-<span class="token operator">-</span><span class="token operator">+</span>
12 rows in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; use zabbix
Reading table information <span class="token keyword">for</span> completion of table and column names
You can turn off this feature to get a quicker startup with <span class="token operator">-</span>A

Database changed
mysql&gt; source create<span class="token punctuation">.</span>sql
</code></pre> 
<p>导入成功！</p> 
<h3><a id="4_101"></a>4、安装服务与依赖</h3> 
<p>libmysqlclient.so.18()(64bit)和libmysqlclient.so.18(libmysqlclient_18)(64bit)为mysql中的<br> <strong>mysql-community-libs-compat-5.7.29-1.el7.x86_64.rpm</strong><br> 在下载的mysql包里面有<br> <strong>OpenIPMI</strong><br> 直接使用安装光盘中的镜像yum安装即可<br> <strong>fping</strong><br> 下载地址<br> http://rpmfind.net/linux/rpm2html/search.php?query=fping<br> http://rpmfind.net/linux/dag/redhat/el7/en/x86_64/dag/RPMS/fping-3.10-1.el7.rf.x86_64.rpm<br> <strong>httpd</strong><br> 直接使用安装光盘中的镜像yum安装即可<br> [root@linux3 zabbix]# yum install -y httpd<br> <strong>php</strong><br> 这里有个坑，我把所有的php都安装了，导致安装新下载的php-common时出现冲突<br> [root@linux3 zabbix]# yum install -y php*<br> <strong>php-common</strong><br> 下载地址<br> http://rpmfind.net/linux/centos/7.8.2003/os/x86_64/Packages/php-common-5.4.16-48.el7.x86_64.rpm<br> 安装时需要卸载系统原来的php-common<br> <strong>php-bcmath</strong><br> 下载地址<br> http://www.rpmfind.net/linux/centos/7.8.2003/os/x86_64/Packages/php-bcmath-5.4.16-48.el7.x86_64.rpm<br> <strong>php-mbstring</strong><br> http://www.rpmfind.net/linux/centos/7.8.2003/os/x86_64/Packages/php-mbstring-5.4.16-48.el7.x86_64.rpm<br> 安装zabbix-web-4.2.8-1.el7.noarch.rpm和zabbix-web-mysql-4.2.8-1.el7.noarch.rpm时有个坑，因为这两个包互相依赖，单独安装一个包就会依赖另一个包，经过一番百度发现可以两个一起装<br> zabbix-web-database = 4.2.8-1.el7 被 zabbix-web-4.2.8-1.el7.noarch 需要<br> 同时安装两个包</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># rpm -ivh zabbix-web-4.2.8-1.el7.noarch.rpm zabbix-web-mysql-4.2.8-1.el7.noarch.rpm </span>
</code></pre> 
<p>到这里依赖就安装完成了，一共安装了5个包</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># rpm -qa | grep zabbix</span>
zabbix<span class="token operator">-</span>get<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
zabbix<span class="token operator">-</span>web<span class="token operator">-</span>mysql<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch
zabbix<span class="token operator">-</span>server<span class="token operator">-</span>mysql<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
zabbix<span class="token operator">-</span>web<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>noarch
zabbix<span class="token operator">-</span>agent<span class="token operator">-</span>4<span class="token punctuation">.</span>2<span class="token punctuation">.</span>8<span class="token operator">-</span>1<span class="token punctuation">.</span>el7<span class="token punctuation">.</span>x86_64
</code></pre> 
<h3><a id="5_143"></a>5、修改配置</h3> 
<p>修改时区</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># vi /etc/php.ini</span>

<span class="token namespace">[Date]</span>
<span class="token punctuation">;</span> Defines the default timezone used by the datefunctions
<span class="token punctuation">;</span> http:<span class="token operator">/</span><span class="token operator">/</span>php<span class="token punctuation">.</span>net<span class="token operator">/</span>date<span class="token punctuation">.</span>timezone
date<span class="token punctuation">.</span>timezone=Asia<span class="token operator">/</span>Shanghai

<span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># vi /etc/httpd/conf.d/zabbix.conf</span>

php_value date<span class="token punctuation">.</span>timezone Asia<span class="token operator">/</span>Shanghai

<span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># service httpd restart</span>
</code></pre> 
<p>修改zabbix-server配置，添加了数据库信息</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># vim /etc/zabbix/zabbix_server.conf </span>
DBHost=192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>0<span class="token punctuation">.</span>14
DBName=zabbix
DBPassword=123456
DBUser=zabbix
</code></pre> 
<h3><a id="6_170"></a>6、启动服务</h3> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># systemctl enable zabbix-server.service </span>
<span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># systemctl start zabbix-server.service</span>
<span class="token namespace">[root@linux1 zabbix]</span><span class="token comment"># service httpd start</span>
</code></pre> 
<p>登陆地址：使用了默认的80端口，如果是生产环境的话最好换成别的端口<br> http://192.168.0.11/zabbix/<br> 一路下一步就配置好了!<br> <img src="https://images2.imgbox.com/42/9a/taHp12TP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/56/71/slhbaNiK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7agent_182"></a>7、配置agent</h3> 
<p>在需要监控的服务器上安装<br> zabbix-agent-4.2.8-1.el7.x86_64.rpm<br> 安装完成后修改agent配置</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@linux10 zabbix]</span><span class="token comment"># vim /etc/zabbix/zabbix_agentd.conf</span>

Server=192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>0<span class="token punctuation">.</span>11
ServerActive=192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>0<span class="token punctuation">.</span>11
Hostname=linux10
HostMetadata=system<span class="token punctuation">.</span>uname

<span class="token namespace">[root@linux10 zabbix]</span><span class="token comment"># service zabbix-agent start</span>
</code></pre> 
<p>至此，zabbix的离线安装就完成了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/233887b8268a42e7fe92df67875239bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JS 中向数组末尾添加元素的push方法【学习记录】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/221e7d3c605ca6f97c864bd1bb947af1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ZYNQ学习日志-------软硬件调试</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>