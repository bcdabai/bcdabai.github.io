<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>http协议为何不安全？教你使用抓包抓取到登录时输入的账号密码！ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="http协议为何不安全？教你使用抓包抓取到登录时输入的账号密码！" />
<meta property="og:description" content=" 前言 大家可以发现，在2023年，基本上需要用户输入数据的网站都是使用https协议，简单来说就是比http更安全，使用了更高级的加密方式，即使部分网站使用http协议，用户输入数据也会使用哈希函数或者其他加密方式，http协议为什么不安全呢？我们不妨亲自抓包感受一下，自己输入的账号密码可以直接被获取，我最近正在学习网络的东西，老师在课堂演示了一遍，我觉得很有意思，于是自己找了一个网站试一下，如果有什么问题欢迎大家批评指正。
抓包软件：科来（wireshark比较流行，科来全中文界面，而且可以帮你分析数据，对于初学者来说比较友好）
1、先设置过滤条件，只捕获http的数据包 2、点击上方的TCP会话 3、打开网站（我这里随便找了一个学校官网） 账号我随便写了一个当天日期，2023年4月1日，密码是123456，验证码是a7ru，然后点击登录 然后系统提示账号密码错误，不过没关系，本来就是编的。 4、打开科来查看 ok，我们发现有两条记录，一般是数据比较大的那一个会有我们的账号密码，我们点击第一个 URL中，POST是提交账号密码的，我们点击POST的那一行，下一步点击数据流，科来会自动帮你分析： 然后会发现这么一行数据： userAccount=&amp;userPassword=&amp;RANDOMCODE=a7ru&amp;encoded=MjAyMzA0MDE%3D%25%25%25MTIzNDU2 这行数据有一个关键字：password，而且那个a7ru是不是很眼熟？没错，就是我们当时输入账号密码的时候那个验证码，那也就是说着一行数据就有我们的账号密码,但是我们该如何分析呢？ userAccount：用户账号，值为空 userPassword：用户密码，值为空 RANDOMCODE：随机码，值为a7ru encoded：编码值，值为MjAyMzA0MDE%3D%25%25%25MTIzNDU2 这个字符串经过了 Base64 编码，并且包含了一个编码后的分隔符 “%%%”，当一个字符串包含百分号 “%” 时，通常表示它经过了 URL 编码，即使用特殊的编码方式将特殊字符转换为可在 URL 中安全传输的形式。在 URL 编码中，字符 “%” 用 “%25” 表示。因此，“%3D%25%25%25” 实际上是被编码的 “=%%%” 字符串。将 “%25%25%25” 转换为 “%%%”，就得到了 “=%%%”，这是一个编码后的分隔符，用于分隔两个编码的值。 MjAyMzA0MDE%3D%25%25%25MTIzNDU2 -&gt; MjAyMzA0MDE%%%MTIzNDU2 然后将编码后的字符串部分 “MjAyMzA0MDE” 和&#34;MTIzNDU2&#34;解码，可以使用任何 Base64 解码工具或库进行解码: MjAyMzA0MDE-&gt;20230401 MTIzNDU2-&gt;123456 因此，完整的解码后的字符串为 “20230401%%%123456”。是不是和我们账号密码一模一样嘞，如果我们连到了别人网络，别人可以通过这种方式抓取你的数据包，从而得到你的账号密码。而且这种已经属于Base64编码加密过的数据，有些http包数据直接就是明文显示：user=xxx&amp;password=xxxx，甚至不需要解码，更加的不安全。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/679b5a00ac740c53686f608a330db011/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-01T14:17:36+08:00" />
<meta property="article:modified_time" content="2023-04-01T14:17:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">http协议为何不安全？教你使用抓包抓取到登录时输入的账号密码！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p><strong>大家可以发现，在2023年，基本上需要用户输入数据的网站都是使用https协议，简单来说就是比http更安全，使用了更高级的加密方式，即使部分网站使用http协议，用户输入数据也会使用哈希函数或者其他加密方式，http协议为什么不安全呢？我们不妨亲自抓包感受一下，自己输入的账号密码可以直接被获取，我最近正在学习网络的东西，老师在课堂演示了一遍，我觉得很有意思，于是自己找了一个网站试一下，如果有什么问题欢迎大家批评指正。<br> 抓包软件：科来（wireshark比较流行，科来全中文界面，而且可以帮你分析数据，对于初学者来说比较友好）</strong></p> 
<h3><a id="1http_4"></a>1、先设置过滤条件，只捕获http的数据包</h3> 
<p><img src="https://images2.imgbox.com/94/ec/AP9qH6ep_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/36/8e/iBzeQbFk_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="2TCP_8"></a>2、点击上方的TCP会话</h3> 
<p><img src="https://images2.imgbox.com/8f/dc/WERojy3a_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_10"></a>3、打开网站（我这里随便找了一个学校官网）</h3> 
<h4><a id="202341123456a7ru_11"></a>账号我随便写了一个当天日期，2023年4月1日，密码是123456，验证码是a7ru，然后点击登录</h4> 
<p><img src="https://images2.imgbox.com/52/3e/ZxyjBmSM_o.jpg" alt="在这里插入图片描述"></p> 
<h4><a id="_13"></a>然后系统提示账号密码错误，不过没关系，本来就是编的。</h4> 
<p><img src="https://images2.imgbox.com/b5/01/tM5lX0Y8_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="4_17"></a>4、打开科来查看</h3> 
<h4><a id="ok_18"></a>ok，我们发现有两条记录，一般是数据比较大的那一个会有我们的账号密码，我们点击第一个</h4> 
<p><img src="https://images2.imgbox.com/8b/89/IC0eflpe_o.jpg" alt="在这里插入图片描述"></p> 
<h4><a id="URLPOSTPOST_20"></a>URL中，POST是提交账号密码的，我们点击POST的那一行，下一步点击数据流，科来会自动帮你分析：</h4> 
<p><img src="https://images2.imgbox.com/70/bb/Y7UzmmGE_o.jpg" alt="在这里插入图片描述"></p> 
<h4><a id="_22"></a>然后会发现这么一行数据：</h4> 
<pre><code class="prism language-c">userAccount<span class="token operator">=</span><span class="token operator">&amp;</span>userPassword<span class="token operator">=</span><span class="token operator">&amp;</span>RANDOMCODE<span class="token operator">=</span>a7ru<span class="token operator">&amp;</span>encoded<span class="token operator">=</span>MjAyMzA0MDE<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">%</span><span class="token number">25</span><span class="token operator">%</span><span class="token number">25</span><span class="token operator">%</span><span class="token number">25</span>MTIzNDU2
</code></pre> 
<h4><a id="passworda7ru_27"></a>这行数据有一个关键字：password，而且那个a7ru是不是很眼熟？没错，就是我们当时输入账号密码的时候那个验证码，那也就是说着一行数据就有我们的账号密码,但是我们该如何分析呢？</h4> 
<pre><code class="prism language-bash">userAccount：用户账号，值为空
userPassword：用户密码，值为空
RANDOMCODE：随机码，值为a7ru
encoded：编码值，值为MjAyMzA0MDE%3D%25%25%25MTIzNDU2
</code></pre> 
<h4><a id="_Base64_____URL__URL__URL____25_3D252525____252525____36"></a>这个字符串经过了 Base64 编码，并且包含了一个编码后的分隔符 “%%%”，当一个字符串包含百分号 “%” 时，通常表示它经过了 URL 编码，即使用特殊的编码方式将特殊字符转换为可在 URL 中安全传输的形式。在 URL 编码中，字符 “%” 用 “%25” 表示。因此，“%3D%25%25%25” 实际上是被编码的 “=%%%” 字符串。将 “%25%25%25” 转换为 “%%%”，就得到了 “=%%%”，这是一个编码后的分隔符，用于分隔两个编码的值。</h4> 
<pre><code class="prism language-cpp">MjAyMzA0MDE<span class="token operator">%</span><span class="token number">3</span>D<span class="token operator">%</span><span class="token number">25</span><span class="token operator">%</span><span class="token number">25</span><span class="token operator">%</span><span class="token number">25</span>MTIzNDU2 <span class="token operator">-&gt;</span> MjAyMzA0MDE<span class="token operator">%</span><span class="token operator">%</span><span class="token operator">%</span>MTIzNDU2
</code></pre> 
<h4><a id="_MjAyMzA0MDE_MTIzNDU2_Base64__41"></a>然后将编码后的字符串部分 “MjAyMzA0MDE” 和"MTIzNDU2"解码，可以使用任何 Base64 解码工具或库进行解码:</h4> 
<pre><code class="prism language-csharp">MjAyMzA0MDE<span class="token operator">-&gt;</span><span class="token number">20230401</span>
MTIzNDU2<span class="token operator">-&gt;</span><span class="token number">123456</span>
</code></pre> 
<h4><a id="_20230401123456Base64httpuserxxxpasswordxxxx_48"></a>因此，完整的解码后的字符串为 “20230401%%%123456”。是不是和我们账号密码一模一样嘞，如果我们连到了别人网络，别人可以通过这种方式抓取你的数据包，从而得到你的账号密码。而且这种已经属于Base64编码加密过的数据，有些http包数据直接就是明文显示：user=xxx&amp;password=xxxx，甚至不需要解码，更加的不安全。</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5682173a124c67db2f6158a8323233bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【模板】最近公共祖先（LCA）——暴力&#43;倍增</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/290dd7eccd9df07fd28f2eefbbc75202/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">newrelic 与 springboot 整合 保姆级</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>