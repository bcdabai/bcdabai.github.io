<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Zabbix6.0 的部署、自定义监控服务 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Zabbix6.0 的部署、自定义监控服务" />
<meta property="og:description" content="目录
一、概述
二、 zabbix
1.zabbix简介
2.zabbix监控原理
3. Zabbix 6.0 新特性
3.1Zabbix server高可用防止硬件故障或计划维护期的停机
3.2 Zabbix 6.0 LTS新增Kubernetes监控功能，可以在Kubernetes系统从多个维度采集指标
4. Zabbix 6.0 功能组件
4.1Zabbix Server
4.2数据库
4.3Web 界面
4.4Zabbix Agent
4.5Zabbix Proxy
4.6Java Gateway
三、部署 Zabbix 6.0
1.关闭 selinux 与防火墙
2.部署 Nginx &#43; PHP 环境并测试
2.1安装 nginx
2.2安装 php
2.3修改 nginx 配置
2.4修改 php 配置
2.5创建目录和测试文件,启动服务
2.6测试访问（hosts解析)
3.部署数据库，要求 MySQL 5.7 或 Mariadb 10.5 及以上版本
3.1配置 Mariadb yum源
3.2初始化数据库
3.3创建数据库并指定字符集
3.4创建 zabbix 数据库用户并授权" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/72483b12a22f31fb3007ffad52037f4f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-06T19:36:40+08:00" />
<meta property="article:modified_time" content="2023-07-06T19:36:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Zabbix6.0 的部署、自定义监控服务</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0" rel="nofollow">一、概述</a></p> 
<p id="%E4%BA%8C%E3%80%81%C2%A0zabbix-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%C2%A0zabbix" rel="nofollow">二、 zabbix</a></p> 
<p id="1.zabbix%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#1.zabbix%E7%AE%80%E4%BB%8B" rel="nofollow">1.zabbix简介</a></p> 
<p id="2.zabbix%E7%9B%91%E6%8E%A7%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#2.zabbix%E7%9B%91%E6%8E%A7%E5%8E%9F%E7%90%86" rel="nofollow">2.zabbix监控原理</a></p> 
<p id="3.%C2%A0Zabbix%206.0%20%E6%96%B0%E7%89%B9%E6%80%A7-toc" style="margin-left:40px;"><a href="#3.%C2%A0Zabbix%206.0%20%E6%96%B0%E7%89%B9%E6%80%A7" rel="nofollow">3. Zabbix 6.0 新特性</a></p> 
<p id="3.1Zabbix%20server%E9%AB%98%E5%8F%AF%E7%94%A8%E9%98%B2%E6%AD%A2%E7%A1%AC%E4%BB%B6%E6%95%85%E9%9A%9C%E6%88%96%E8%AE%A1%E5%88%92%E7%BB%B4%E6%8A%A4%E6%9C%9F%E7%9A%84%E5%81%9C%E6%9C%BA-toc" style="margin-left:80px;"><a href="#3.1Zabbix%20server%E9%AB%98%E5%8F%AF%E7%94%A8%E9%98%B2%E6%AD%A2%E7%A1%AC%E4%BB%B6%E6%95%85%E9%9A%9C%E6%88%96%E8%AE%A1%E5%88%92%E7%BB%B4%E6%8A%A4%E6%9C%9F%E7%9A%84%E5%81%9C%E6%9C%BA" rel="nofollow">3.1Zabbix server高可用防止硬件故障或计划维护期的停机</a></p> 
<p id="3.2%C2%A0Zabbix%206.0%20LTS%E6%96%B0%E5%A2%9EKubernetes%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8Kubernetes%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%A4%9A%E4%B8%AA%E7%BB%B4%E5%BA%A6%E9%87%87%E9%9B%86%E6%8C%87%E6%A0%87-toc" style="margin-left:80px;"><a href="#3.2%C2%A0Zabbix%206.0%20LTS%E6%96%B0%E5%A2%9EKubernetes%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8Kubernetes%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%A4%9A%E4%B8%AA%E7%BB%B4%E5%BA%A6%E9%87%87%E9%9B%86%E6%8C%87%E6%A0%87" rel="nofollow">3.2 Zabbix 6.0 LTS新增Kubernetes监控功能，可以在Kubernetes系统从多个维度采集指标</a></p> 
<p id="4.%C2%A0Zabbix%206.0%20%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6-toc" style="margin-left:40px;"><a href="#4.%C2%A0Zabbix%206.0%20%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6" rel="nofollow">4. Zabbix 6.0 功能组件</a></p> 
<p id="4.1Zabbix%20Server-toc" style="margin-left:80px;"><a href="#4.1Zabbix%20Server" rel="nofollow">4.1Zabbix Server</a></p> 
<p id="4.2%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:80px;"><a href="#4.2%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">4.2数据库</a></p> 
<p id="4.3Web%20%E7%95%8C%E9%9D%A2-toc" style="margin-left:80px;"><a href="#4.3Web%20%E7%95%8C%E9%9D%A2" rel="nofollow">4.3Web 界面</a></p> 
<p id="4.4Zabbix%20Agent-toc" style="margin-left:80px;"><a href="#4.4Zabbix%20Agent" rel="nofollow">4.4Zabbix Agent</a></p> 
<p id="4.5Zabbix%20Proxy-toc" style="margin-left:80px;"><a href="#4.5Zabbix%20Proxy" rel="nofollow">4.5Zabbix Proxy</a></p> 
<p id="4.6Java%20Gateway-toc" style="margin-left:80px;"><a href="#4.6Java%20Gateway" rel="nofollow">4.6Java Gateway</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2%20Zabbix%206.0-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2%20Zabbix%206.0" rel="nofollow">三、部署 Zabbix 6.0</a></p> 
<p id="%C2%A01.%E5%85%B3%E9%97%AD%20selinux%20%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99-toc" style="margin-left:40px;"><a href="#%C2%A01.%E5%85%B3%E9%97%AD%20selinux%20%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99" rel="nofollow"> 1.关闭 selinux 与防火墙</a></p> 
<p id="2.%E9%83%A8%E7%BD%B2%20Nginx%20%2B%20PHP%20%E7%8E%AF%E5%A2%83%E5%B9%B6%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#2.%E9%83%A8%E7%BD%B2%20Nginx%20%2B%20PHP%20%E7%8E%AF%E5%A2%83%E5%B9%B6%E6%B5%8B%E8%AF%95" rel="nofollow">2.部署 Nginx + PHP 环境并测试</a></p> 
<p id="2.1%E5%AE%89%E8%A3%85%20nginx-toc" style="margin-left:80px;"><a href="#2.1%E5%AE%89%E8%A3%85%20nginx" rel="nofollow">2.1安装 nginx</a></p> 
<p id="2.2%E5%AE%89%E8%A3%85%20php-toc" style="margin-left:80px;"><a href="#2.2%E5%AE%89%E8%A3%85%20php" rel="nofollow">2.2安装 php</a></p> 
<p id="2.3%E4%BF%AE%E6%94%B9%20nginx%20%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.3%E4%BF%AE%E6%94%B9%20nginx%20%E9%85%8D%E7%BD%AE" rel="nofollow">2.3修改 nginx 配置</a></p> 
<p id="2.4%E4%BF%AE%E6%94%B9%20php%20%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#2.4%E4%BF%AE%E6%94%B9%20php%20%E9%85%8D%E7%BD%AE" rel="nofollow">2.4修改 php 配置</a></p> 
<p id="2.5%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6%2C%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1-toc" style="margin-left:80px;"><a href="#2.5%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6%2C%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1" rel="nofollow">2.5创建目录和测试文件,启动服务</a></p> 
<p id="2.6%E6%B5%8B%E8%AF%95%E8%AE%BF%E9%97%AE%EF%BC%88hosts%E8%A7%A3%E6%9E%90)-toc" style="margin-left:80px;"><a href="#2.6%E6%B5%8B%E8%AF%95%E8%AE%BF%E9%97%AE%EF%BC%88hosts%E8%A7%A3%E6%9E%90%29" rel="nofollow">2.6测试访问（hosts解析)</a></p> 
<p id="3.%E9%83%A8%E7%BD%B2%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E8%A6%81%E6%B1%82%20MySQL%205.7%20%E6%88%96%20Mariadb%2010.5%20%E5%8F%8A%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC-toc" style="margin-left:40px;"><a href="#3.%E9%83%A8%E7%BD%B2%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E8%A6%81%E6%B1%82%20MySQL%205.7%20%E6%88%96%20Mariadb%2010.5%20%E5%8F%8A%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC" rel="nofollow">3.部署数据库，要求 MySQL 5.7 或 Mariadb 10.5 及以上版本</a></p> 
<p id="3.1%E9%85%8D%E7%BD%AE%20Mariadb%20yum%E6%BA%90-toc" style="margin-left:80px;"><a href="#3.1%E9%85%8D%E7%BD%AE%20Mariadb%20yum%E6%BA%90" rel="nofollow">3.1配置 Mariadb yum源</a></p> 
<p id="3.2%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93-toc" style="margin-left:80px;"><a href="#3.2%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93" rel="nofollow">3.2初始化数据库</a></p> 
<p id="3.3%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86-toc" style="margin-left:80px;"><a href="#3.3%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86" rel="nofollow">3.3创建数据库并指定字符集</a></p> 
<p id="3.4%E5%88%9B%E5%BB%BA%20zabbix%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E5%B9%B6%E6%8E%88%E6%9D%83-toc" style="margin-left:80px;"><a href="#3.4%E5%88%9B%E5%BB%BA%20zabbix%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E5%B9%B6%E6%8E%88%E6%9D%83" rel="nofollow">3.4创建 zabbix 数据库用户并授权</a></p> 
<p id="3.5%E5%90%91%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%BC%E5%85%A5%20zabbix%20%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#3.5%E5%90%91%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%BC%E5%85%A5%20zabbix%20%E6%95%B0%E6%8D%AE" rel="nofollow">3.5向数据库导入 zabbix 数据</a></p> 
<p id="4.%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20zabbix%20Server%20%E6%9C%8D%E5%8A%A1%E7%AB%AF-toc" style="margin-left:40px;"><a href="#4.%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20zabbix%20Server%20%E6%9C%8D%E5%8A%A1%E7%AB%AF" rel="nofollow">4.编译安装 zabbix Server 服务端</a></p> 
<p id="4.1%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%EF%BC%8C%E5%88%9B%E5%BB%BA%20zabbix%20%E7%94%A8%E6%88%B7-toc" style="margin-left:80px;"><a href="#4.1%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%EF%BC%8C%E5%88%9B%E5%BB%BA%20zabbix%20%E7%94%A8%E6%88%B7" rel="nofollow">4.1安装依赖包，创建 zabbix 用户</a></p> 
<p id="4.2%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-toc" style="margin-left:80px;"><a href="#4.2%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85" rel="nofollow">4.2编译安装</a></p> 
<p id="4.3%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC-toc" style="margin-left:80px;"><a href="#4.3%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC" rel="nofollow">4.3检查版本</a></p> 
<p id="4.4%E4%BF%AE%E6%94%B9%20zabbix%20server%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%86%E7%A0%81-toc" style="margin-left:80px;"><a href="#4.4%E4%BF%AE%E6%94%B9%20zabbix%20server%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%86%E7%A0%81" rel="nofollow">4.4修改 zabbix server 配置文件，修改数据库的密码</a></p> 
<p id="4.5%E5%87%86%E5%A4%87%20systemctl%20%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#4.5%E5%87%86%E5%A4%87%20systemctl%20%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%96%87%E4%BB%B6" rel="nofollow">4.5准备 systemctl 服务管理文件</a></p> 
<p id="5.%E9%83%A8%E7%BD%B2%20Web%20%E5%89%8D%E7%AB%AF%EF%BC%8C%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE-toc" style="margin-left:40px;"><a href="#5.%E9%83%A8%E7%BD%B2%20Web%20%E5%89%8D%E7%AB%AF%EF%BC%8C%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE" rel="nofollow">5.部署 Web 前端，进行访问</a></p> 
<p id="6.%E5%AE%89%E8%A3%85%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E5%AE%9E%E7%8E%B0%20zabbix%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%87%AA%E6%88%91%E7%9B%91%E6%8E%A7-toc" style="margin-left:40px;"><a href="#6.%E5%AE%89%E8%A3%85%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E5%AE%9E%E7%8E%B0%20zabbix%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%87%AA%E6%88%91%E7%9B%91%E6%8E%A7" rel="nofollow">6.安装 zabbix 客户端，实现 zabbix 服务端自我监控</a></p> 
<p id="7.%E8%A7%A3%E5%86%B3%20zabbix-server%20Web%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98-toc" style="margin-left:40px;"><a href="#7.%E8%A7%A3%E5%86%B3%20zabbix-server%20Web%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98" rel="nofollow">7.解决 zabbix-server Web页面中文乱码问题</a></p> 
<p id="%E5%9B%9B%E3%80%81%E6%B7%BB%E5%8A%A0%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E6%B7%BB%E5%8A%A0%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF" rel="nofollow">四、添加 zabbix 客户端</a></p> 
<p id="1.%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99-toc" style="margin-left:40px;"><a href="#1.%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99" rel="nofollow">1.关闭防火墙</a></p> 
<p id="2.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E9%85%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5-toc" style="margin-left:40px;"><a href="#2.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E9%85%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5" rel="nofollow">2.服务端和客户端都配置时间同步</a></p> 
<p id="3.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E8%AE%BE%E7%BD%AE%20hosts%20%E8%A7%A3%E6%9E%90-toc" style="margin-left:40px;"><a href="#3.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E8%AE%BE%E7%BD%AE%20hosts%20%E8%A7%A3%E6%9E%90" rel="nofollow">3.服务端和客户端都设置 hosts 解析</a></p> 
<p id="4.%E8%AE%BE%E7%BD%AE%20zabbix%20%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%BA%90%EF%BC%8C%E5%AE%89%E8%A3%85%20zabbix-agent2-toc" style="margin-left:40px;"><a href="#4.%E8%AE%BE%E7%BD%AE%20zabbix%20%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%BA%90%EF%BC%8C%E5%AE%89%E8%A3%85%20zabbix-agent2" rel="nofollow">4.设置 zabbix 的下载源，安装 zabbix-agent2</a></p> 
<p id="5.%E4%BF%AE%E6%94%B9%20agent2%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#5.%E4%BF%AE%E6%94%B9%20agent2%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">5.修改 agent2 配置文件</a></p> 
<p id="6.%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%20zabbix-agent2%20%E7%9A%84%E8%BF%9E%E9%80%9A%E6%80%A7-toc" style="margin-left:40px;"><a href="#6.%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%20zabbix-agent2%20%E7%9A%84%E8%BF%9E%E9%80%9A%E6%80%A7" rel="nofollow">6.在服务端验证 zabbix-agent2 的连通性</a></p> 
<p id="7.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%20agent%20%E4%B8%BB%E6%9C%BA-toc" style="margin-left:40px;"><a href="#7.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%20agent%20%E4%B8%BB%E6%9C%BA" rel="nofollow">7.在 Web 页面中添加 agent 主机</a></p> 
<p id="%E4%BA%94%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E5%86%85%E5%AE%B9-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E5%86%85%E5%AE%B9" rel="nofollow">五、自定义监控内容</a></p> 
<p id="1.%C2%A0%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%20key-toc" style="margin-left:40px;"><a href="#1.%C2%A0%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%20key" rel="nofollow">1. 在客户端创建自定义 key</a></p> 
<p id="1.1%E6%98%8E%E7%A1%AE%E9%9C%80%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%20linux%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:80px;"><a href="#1.1%E6%98%8E%E7%A1%AE%E9%9C%80%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%20linux%20%E5%91%BD%E4%BB%A4" rel="nofollow">1.1明确需要执行的 linux 命令</a></p> 
<p id="1.2%E5%88%9B%E5%BB%BA%20zabbix%20%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%87%AA%E5%AE%9A%E4%B9%89%20key-toc" style="margin-left:80px;"><a href="#1.2%E5%88%9B%E5%BB%BA%20zabbix%20%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%87%AA%E5%AE%9A%E4%B9%89%20key" rel="nofollow">1.2创建 zabbix 的监控项配置文件，用于自定义 key</a></p> 
<p id="1.3%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%E6%96%B0%E5%BB%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9-toc" style="margin-left:80px;"><a href="#1.3%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%E6%96%B0%E5%BB%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9" rel="nofollow">1.3在服务端验证新建的监控项</a></p> 
<p id="2.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E9%A1%B9%E6%A8%A1%E6%9D%BF-toc" style="margin-left:40px;"><a href="#2.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E9%A1%B9%E6%A8%A1%E6%9D%BF" rel="nofollow">2.在 Web 页面创建自定义监控项模板</a></p> 
<p id="2.1%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF-toc" style="margin-left:80px;"><a href="#2.1%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF" rel="nofollow">2.1创建模板</a></p> 
<p id="2.2%E5%88%9B%E5%BB%BA%E7%9B%91%E6%8E%A7%E9%A1%B9-toc" style="margin-left:80px;"><a href="#2.2%E5%88%9B%E5%BB%BA%E7%9B%91%E6%8E%A7%E9%A1%B9" rel="nofollow">2.2创建监控项</a></p> 
<p id="2.3%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%88%E5%BD%93%E7%9B%91%E6%8E%A7%E9%A1%B9%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9B%91%E6%8E%A7%E7%9A%84%E5%80%BC%E5%90%8E%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E9%A2%84%E8%AE%BE%E7%9A%84%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%AF%B9%E6%AF%94%EF%BC%8C%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%8A%A5%E8%AD%A6%EF%BC%89-toc" style="margin-left:80px;"><a href="#2.3%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%88%E5%BD%93%E7%9B%91%E6%8E%A7%E9%A1%B9%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9B%91%E6%8E%A7%E7%9A%84%E5%80%BC%E5%90%8E%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E9%A2%84%E8%AE%BE%E7%9A%84%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%AF%B9%E6%AF%94%EF%BC%8C%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%8A%A5%E8%AD%A6%EF%BC%89" rel="nofollow">2.3创建触发器（当监控项获取到监控的值后和触发器预设的值进行对比，判断是否报警）</a></p> 
<p id="2.4%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BD%A2-toc" style="margin-left:80px;"><a href="#2.4%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BD%A2" rel="nofollow">2.4创建图形</a></p> 
<p id="2.5%E5%B0%86%E4%B8%BB%E6%9C%BA%E4%B8%8E%E6%A8%A1%E6%9D%BF%E5%85%B3%E8%81%94%E8%B5%B7%E6%9D%A5%EF%BC%88%E4%B8%80%E4%B8%AA%E4%B8%BB%E6%9C%BA%E5%8F%AF%E4%BB%A5%E5%85%B3%E8%81%94%E5%A4%9A%E4%B8%AA%E6%A8%A1%E6%9D%BF%EF%BC%89-toc" style="margin-left:80px;"><a href="#2.5%E5%B0%86%E4%B8%BB%E6%9C%BA%E4%B8%8E%E6%A8%A1%E6%9D%BF%E5%85%B3%E8%81%94%E8%B5%B7%E6%9D%A5%EF%BC%88%E4%B8%80%E4%B8%AA%E4%B8%BB%E6%9C%BA%E5%8F%AF%E4%BB%A5%E5%85%B3%E8%81%94%E5%A4%9A%E4%B8%AA%E6%A8%A1%E6%9D%BF%EF%BC%89" rel="nofollow">2.5将主机与模板关联起来（一个主机可以关联多个模板）</a></p> 
<p id="2.6%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6-toc" style="margin-left:80px;"><a href="#2.6%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6" rel="nofollow">2.6设置邮件报警</a></p> 
<p id="3.%E6%B5%8B%E8%AF%95%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6-toc" style="margin-left:40px;"><a href="#3.%E6%B5%8B%E8%AF%95%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6" rel="nofollow">3.测试邮件报警</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0">一、概述</h2> 
<p>Zabbix 是一款可监控网络的众多参数以及服务器、虚拟机、应用程序、服务、数据库、网站、云等的健康状况和完整性。Zabbix 使用灵活的通知机制，允许用户为几乎任何事件配置基于电子邮件的警报。这允许对服务器问题做出快速反应。Zabbix 基于存储的数据提供报告和数据可视化功能。这使得 Zabbix 成为容量规划的理想选择。</p> 
<p>Zabbix是一款能够监控各种网络参数以及服务器健康性和完整性的软件。Zabbix使用灵活的通知机制，允许用户为几乎任何事件配置基于邮件的告警。这样可以快速反馈服务器的问题。基于已存储的数据，Zabbix提供了出色的报告和数据可视化功能。</p> 
<p>作为一个运维，需要会使用监控系统查看服务器系统性能、应用服务状态和网站流量指标等，利用监控系统的数据去了解网站上线发布的结果和健康状态。</p> 
<p>利用一个优秀的监控软件，我们可以:</p> 
<ul><li>通过一个友好的界面进行浏览整个网站所有的服务器状态</li><li>可以在 Web 前端方便的查看监控数据</li><li>可以回溯寻找事故发生时系统的问题和报警情况</li></ul> 
<h2 id="%E4%BA%8C%E3%80%81%C2%A0zabbix">二、 zabbix</h2> 
<h3 id="1.zabbix%E7%AE%80%E4%BB%8B">1.zabbix简介</h3> 
<ul><li>zabbix 是一个基于 Web 界面的提供分布式系统监视以及网络监视功能的企业级的开源解决方案。</li><li>zabbix 能监视各种网络参数，保证服务器系统的安全运营；并提供灵活的通知机制以让系统管理员快速定位/解决存在的各种问题。</li><li>zabbix 由 2 部分构成，zabbix server 与可选组件 zabbix agent。通过 C/S 模式采集数据，通过 B/S 模式在 Web 端展示和配置。</li><li>zabbix server 可以通过 zabbix agent，SNMP协议，端口监视等方法提供对远程服务器/网络状态的监视，数据收集等功能，它可以运行在 Linux 等平台上。</li><li>zabbix agent 需要安装在被监视的目标服务器上，它主要完成对硬件信息或与操作系统有关的内存，CPU 等信息的收集。</li></ul> 
<h3 id="2.zabbix%E7%9B%91%E6%8E%A7%E5%8E%9F%E7%90%86">2.zabbix监控原理</h3> 
<p><img alt="" height="489" src="https://images2.imgbox.com/67/3a/wiwwuyqj_o.jpg" width="720"></p> 
<ol><li> zabbix agent 安装在被监控的主机上，zabbix agent 负责定期收集客户端本地各项数据，并发送至 zabbix server 端</li><li>Zabbix 要监控 Tomcat 服务或其它 JAVA 程序，需要使用 Java Gateway 做为代理，才能从 JAVA 程序中获取数据。</li><li>zabbix server 收到数据后， 将数据存储到数据库中。当监控服务器较多，部署zabbix proxy，可以有效地减少zabbix的负载压力。</li><li>用户基于 Zabbix Web 可以看到数据在前端展现图像。当 zabbix 监控某个具体的项目， 该项目会设置一个触发器阈值， 当被监控的指标超过该触发器设定的阈值，会进行一些必要的动作，动作包括：发送信息（邮件、微信、短信）、发送命令（shell 命令、reboot、restart、 install 等）。</li></ol> 
<h3 id="3.%C2%A0Zabbix%206.0%20%E6%96%B0%E7%89%B9%E6%80%A7">3. Zabbix 6.0 新特性</h3> 
<h4 id="3.1Zabbix%20server%E9%AB%98%E5%8F%AF%E7%94%A8%E9%98%B2%E6%AD%A2%E7%A1%AC%E4%BB%B6%E6%95%85%E9%9A%9C%E6%88%96%E8%AE%A1%E5%88%92%E7%BB%B4%E6%8A%A4%E6%9C%9F%E7%9A%84%E5%81%9C%E6%9C%BA">3.1Zabbix server高可用防止硬件故障或计划维护期的停机</h4> 
<ul><li>原生选择加入HA群集配置</li><li>定义一个或多个备用节点</li><li>实时监控Zabbix server群集节点的状态</li><li>不需要外部工具即可将Zabbix server配置为HA群集模式</li></ul> 
<h4 id="3.2%C2%A0Zabbix%206.0%20LTS%E6%96%B0%E5%A2%9EKubernetes%E7%9B%91%E6%8E%A7%E5%8A%9F%E8%83%BD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8Kubernetes%E7%B3%BB%E7%BB%9F%E4%BB%8E%E5%A4%9A%E4%B8%AA%E7%BB%B4%E5%BA%A6%E9%87%87%E9%9B%86%E6%8C%87%E6%A0%87">3.2 Zabbix 6.0 LTS新增Kubernetes监控功能，可以在Kubernetes系统从多个维度采集指标</h4> 
<ul><li>Kubernetes节点和pods的自动发现和监控</li><li>无代理方式采集Kubernetes pods和节点的信息</li><li>获取Kubernetes节点主机高水平信息</li></ul> 
<h3 id="4.%C2%A0Zabbix%206.0%20%E5%8A%9F%E8%83%BD%E7%BB%84%E4%BB%B6">4. Zabbix 6.0 功能组件</h3> 
<h4 id="4.1Zabbix%20Server">4.1Zabbix Server</h4> 
<ul><li>zabbix 服务端守护进程，是 Zabbix 软件的核心组件，Zabbix Agent 向其报告可用性、系统完整性信息和统计信息。</li><li>Zabbix Server 也是存储所有配置信息、统计信息和操作信息的核心存储库。</li><li>Zabbix Server 也是 Zabbix 监控系统的告警中心。在监控的系统中出现任何异常，将发出通知给管理员。</li><li>基本的 Zabbix Server 的功能分解成为三个不同的组件。他们是：Zabbix server、Web 前端、数据库。</li><li>Zabbix 的所有配置信息都存储在 Server 和 Web 前端进行交互的数据库中。例如，当你通过 Web 前端（或者API）新增一个监控项时， 它会被添加到数据库的监控项表里。然后，Zabbix server 以每分钟一次的频率查询监控项表中的有效项，接着将它存储在 Zabbix server 中的缓存里。 这就是为什么 Zabbix 前端所做的任何更改需要花费两分钟左右才能显示在最新的数据段的原因。</li></ul> 
<h4 id="4.2%E6%95%B0%E6%8D%AE%E5%BA%93">4.2数据库</h4> 
<p>所有配置信息以及 Zabbix 采集到的数据都被持久存储在数据库中。<br> 可以支持 MySQL、PostgreSQL、Oracle、DB2、TimescaleDB 等多种数据库。</p> 
<h4 id="4.3Web%20%E7%95%8C%E9%9D%A2">4.3Web 界面</h4> 
<p>Web 界面是 Zabbix Server 的一部分，用于实现展示和配置的界面。通常（但不一定）和 Zabbix server 运行在同一台物理机器上。<br> 基于 Apache/Nginx + PHP 实现，早期只支持 LAMP 架构，从 Zabbix5.0 开始支持 LNMP 。 </p> 
<h4 id="4.4Zabbix%20Agent">4.4Zabbix Agent</h4> 
<p>客户端守护进程，部署在被监控目标上，用于主动监控本地资源和应用程序，并将收集的数据发送给 Zabbix Server。从 Zabbix5.0 开始支技 Zabbix Agent2 。</p> 
<h4 id="4.5Zabbix%20Proxy">4.5Zabbix Proxy</h4> 
<p>zabbix 分布式代理守护进程，可以代替 Zabbix Server 采集性能和可用性数据。Zabbix Proxy 在 Zabbix 的部署是可选部分。<br> Zabbix Proxy 的部署可以很好的分担单个 Zabbix Server 的负载。<br> 通常监控大于 500 台主机时使用，需要进行分布式监控架构部署。</p> 
<h4 id="4.6Java%20Gateway">4.6Java Gateway</h4> 
<p>Zabbix 要监控 Tomcat 服务或其它 JAVA 程序（比例 Elasticsearch、ZooKeeper），需要使用 Java Gateway 做为代理，才能从 JAVA 程序中获取数据。</p> 
<h2 id="%E4%B8%89%E3%80%81%E9%83%A8%E7%BD%B2%20Zabbix%206.0">三、部署 Zabbix 6.0</h2> 
<ul><li>系统：CentOS 7 不支持 yum 方式安装 Zabbix 6.0 服务端</li><li>安装方式：Zabbix 服务端采用编译安装的方式，zabbix 客户端采用 yum 安装的方式</li></ul> 
<h3 id="%C2%A01.%E5%85%B3%E9%97%AD%20selinux%20%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99"> 1.关闭 selinux 与防火墙</h3> 
<pre><code>systemctl disable --now firewalld
setenforce 0
hostnamectl set-hostname zbx-server</code></pre> 
<p><img alt="" height="214" src="https://images2.imgbox.com/19/ee/scDJe8nP_o.png" width="869"></p> 
<h3 id="2.%E9%83%A8%E7%BD%B2%20Nginx%20%2B%20PHP%20%E7%8E%AF%E5%A2%83%E5%B9%B6%E6%B5%8B%E8%AF%95">2.部署 Nginx + PHP 环境并测试</h3> 
<h4 id="2.1%E5%AE%89%E8%A3%85%20nginx">2.1安装 nginx</h4> 
<pre><code>cat &gt; /etc/yum.repos.d/nginx.repo &lt;&lt; 'EOF'
[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true
EOF

yum install -y nginx</code></pre> 
<p><img alt="" height="328" src="https://images2.imgbox.com/05/3c/3EEjjpSl_o.png" width="896"></p> 
<h4 id="2.2%E5%AE%89%E8%A3%85%20php">2.2安装 php</h4> 
<pre><code>curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
yum install -y epel-release
rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
yum -y install php72w php72w-cli php72w-common php72w-devel php72w-embedded php72w-gd php72w-mbstring php72w-pdo php72w-xml php72w-fpm php72w-mysqlnd php72w-opcache php72w-ldap php72w-bcmath</code></pre> 
<h4 id="2.3%E4%BF%AE%E6%94%B9%20nginx%20%E9%85%8D%E7%BD%AE">2.3修改 nginx 配置</h4> 
<pre><code>vim /etc/nginx/conf.d/zbx.conf
server {
  listen 80;
  server_name zbx.abc.com;
  root /var/www/zbx;
  
  location / {
    index index.php;
  }
  
  location ~ \.php$ {
    root /var/www/zbx
    fastcgi_pass 127.0.0.1:9000;
    fastcgi_index index.php;
    fastcgi_param SCRIPT_FILENAME /var/www/zbx$fastcgi_script_name;
    include fastcgi_params;
  }
}</code></pre> 
<h4 id="2.4%E4%BF%AE%E6%94%B9%20php%20%E9%85%8D%E7%BD%AE">2.4修改 php 配置</h4> 
<pre><code>vim /etc/php-fpm.d/www.conf
user = nginx
group = nginx

vim /etc/php.ini
max_execution_time = 300		# 368行
max_input_time = 600			# 378行
post_max_size = 80M				# 656行
date.timezone = Asia/Shanghai	# 877行</code></pre> 
<h4 id="2.5%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E5%92%8C%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6%2C%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1">2.5创建目录和测试文件,启动服务</h4> 
<pre><code>mkdir -p /var/www/zbx

vim /var/www/zbx/index.php
&lt;?php
phpinfo();
?&gt;

systemctl enable --now nginx php-fpm</code></pre> 
<h4 id="2.6%E6%B5%8B%E8%AF%95%E8%AE%BF%E9%97%AE%EF%BC%88hosts%E8%A7%A3%E6%9E%90)">2.6测试访问（hosts解析)</h4> 
<pre><code>修改 C:\Windows\System32\drivers\etc\hosts
192.168.88.50 zbx.abc.com

浏览器访问：http://zbx.abc.com/index.php
</code></pre> 
<p><img alt="" height="815" src="https://images2.imgbox.com/38/f1/PdsGzk0O_o.png" width="1200">  </p> 
<h3 id="3.%E9%83%A8%E7%BD%B2%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E8%A6%81%E6%B1%82%20MySQL%205.7%20%E6%88%96%20Mariadb%2010.5%20%E5%8F%8A%E4%BB%A5%E4%B8%8A%E7%89%88%E6%9C%AC">3.部署数据库，要求 MySQL 5.7 或 Mariadb 10.5 及以上版本</h3> 
<h4 id="3.1%E9%85%8D%E7%BD%AE%20Mariadb%20yum%E6%BA%90">3.1配置 Mariadb yum源</h4> 
<pre><code class="language-bash">cat &gt; /etc/yum.repos.d/mariadb.repo &lt;&lt; EOF
[mariadb]
name = MariaDB
baseurl = http://mirrors.aliyun.com/mariadb/yum/10.5/centos7-amd64/
gpgkey = http://mirrors.aliyun.com/mariadb/yum/RPM-GPG-KEY-MariaDB
gpgcheck = 1
enabled=1
EOF

yum install -y mariadb-server mariadb

systemctl enable --now mariadb</code></pre> 
<p><img alt="" height="326" src="https://images2.imgbox.com/c0/a6/JVKN1DTo_o.png" width="893"></p> 
<h4 id="3.2%E5%88%9D%E5%A7%8B%E5%8C%96%E6%95%B0%E6%8D%AE%E5%BA%93">3.2初始化数据库</h4> 
<pre><code class="language-bash">mysql_secure_installation
分别输入 回车 -&gt; n -&gt; Y (设置root密码，如123456) -&gt; 后面一路 Y

mysql -u root -p123456</code></pre> 
<h4 id="3.3%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86">3.3创建数据库并指定字符集</h4> 
<pre><code class="language-bash">CREATE DATABASE zabbix character set utf8 collate utf8_bin;</code></pre> 
<h4 id="3.4%E5%88%9B%E5%BB%BA%20zabbix%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E5%B9%B6%E6%8E%88%E6%9D%83">3.4创建 zabbix 数据库用户并授权</h4> 
<pre><code class="language-bash">GRANT all ON zabbix.* TO 'zabbix'@'localhost' IDENTIFIED BY 'zabbix';
GRANT all ON zabbix.* TO 'zabbix'@'%' IDENTIFIED BY 'zabbix';
flush privileges;
</code></pre> 
<p><img alt="" height="275" src="https://images2.imgbox.com/ca/53/UU6T014P_o.png" width="1200"></p> 
<h4 id="3.5%E5%90%91%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%BC%E5%85%A5%20zabbix%20%E6%95%B0%E6%8D%AE">3.5向数据库导入 zabbix 数据</h4> 
<pre><code class="language-bash">上传源码包 zabbix-6.0.13.tar.gz 到 /opt 目录
cd /opt
tar xf zabbix-6.0.13.tar.gz

ls /opt/zabbix-6.0.13/database/mysql
data.sql  double.sql  history_pk_prepare.sql  images.sql  Makefile.am  Makefile.in  schema.sql

#按照顺利导入数据库
cd /opt/zabbix-6.0.13/database/mysql
mysql -uroot -p123456 zabbix &lt; schema.sql
mysql -uroot -p123456 zabbix &lt; images.sql
mysql -uroot -p123456 zabbix &lt; data.sql
mysql -uroot -p123456 zabbix &lt; double.sql
mysql -uroot -p123456 zabbix &lt; history_pk_prepare.sql</code></pre> 
<h3 id="4.%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%20zabbix%20Server%20%E6%9C%8D%E5%8A%A1%E7%AB%AF">4.编译安装 zabbix Server 服务端</h3> 
<h4 id="4.1%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85%EF%BC%8C%E5%88%9B%E5%BB%BA%20zabbix%20%E7%94%A8%E6%88%B7">4.1安装依赖包，创建 zabbix 用户</h4> 
<pre><code class="language-bash">yum install -y mysql-devel pcre-devel openssl-devel zlib-devel libxml2-devel net-snmp-devel net-snmp libssh2-devel OpenIPMI-devel libevent-devel openldap-devel libcurl-devel fping gcc gcc-c++ make

useradd -s /sbin/nologin -M zabbix</code></pre> 
<h4 id="4.2%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85">4.2编译安装</h4> 
<pre><code class="language-bash">cd /opt/zabbix-6.0.13/

./configure \
--sysconfdir=/etc/zabbix/ \
--enable-server \
--with-mysql \
--with-net-snmp \
--with-libxml2 \
--with-ssh2 \
--with-openipmi \
--with-zlib \
--with-libpthread \
--with-libevent \
--with-openssl \
--with-ldap \
--with-libcurl \
--with-libpcre

make install</code></pre> 
<h4 id="4.3%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC">4.3检查版本</h4> 
<pre><code class="language-bash">zabbix_server --version
</code></pre> 
<p><img alt="" height="354" src="https://images2.imgbox.com/51/4e/EqUntORL_o.png" width="1200"></p> 
<h4 id="4.4%E4%BF%AE%E6%94%B9%20zabbix%20server%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%86%E7%A0%81">4.4修改 zabbix server 配置文件，修改数据库的密码</h4> 
<pre><code class="language-bash">vim /etc/zabbix/zabbix_server.conf 
......
LogFile=/var/log/zabbix_server.log		# 38行，指定 zabbix 日志路径
DBPassword=zabbix					    # 123行，指定 zabbix 数据库的密码

#创建日志文件，并修改属组和属主权限
touch /var/log/zabbix_server.log
chown zabbix.zabbix /var/log/zabbix_server.log </code></pre> 
<h4 id="4.5%E5%87%86%E5%A4%87%20systemctl%20%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E6%96%87%E4%BB%B6">4.5准备 systemctl 服务管理文件</h4> 
<pre><code class="language-bash">vim /usr/lib/systemd/system/zabbix-server.service 
[Unit]
Description=Zabbix Server with MySQL DB
After=syslog.target network.target mysqld.service

[Service]
Type=simple
ExecStart=/usr/local/sbin/zabbix_server -f
User=zabbix

[Install]
WantedBy=multi-user.target


systemctl daemon-relead
systemctl enable --now zabbix-server

netstat -lntp | grep 10051            #zabbix_server 默认监听 10051 端口</code></pre> 
<p><img alt="" height="222" src="https://images2.imgbox.com/ac/77/WOyiehKD_o.png" width="1200"></p> 
<h3 id="5.%E9%83%A8%E7%BD%B2%20Web%20%E5%89%8D%E7%AB%AF%EF%BC%8C%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE">5.部署 Web 前端，进行访问</h3> 
<pre><code class="language-bash">cp -r /opt/zabbix-6.0.13/ui/* /var/www/zbx
#设置的user和group为nginx
chown -R nginx.nginx /var/www/zbx

浏览器访问：http://zbx.abc.com/ 
【Default language】选择 Chinese(zh_CN)，点击下一步
【密码】输入 zabbix，点击下一步
【Zabbix主机名称】输入 Zabbix-监控；【默认时区】选择 Asia/Shanghai，点击下一步

安装完成后，默认的登录账号和密码为：Admin/zabbix</code></pre> 
<p><img alt="" height="291" src="https://images2.imgbox.com/60/95/FGnoWEbf_o.png" width="1200"></p> 
<p><img alt="" height="678" src="https://images2.imgbox.com/15/6d/DRKR32qF_o.png" width="808"> <img alt="" height="910" src="https://images2.imgbox.com/3a/5e/coNr29s3_o.png" width="1200"></p> 
<h3 id="6.%E5%AE%89%E8%A3%85%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%8C%E5%AE%9E%E7%8E%B0%20zabbix%20%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%87%AA%E6%88%91%E7%9B%91%E6%8E%A7">6.安装 zabbix 客户端，实现 zabbix 服务端自我监控</h3> 
<pre><code class="language-bash">rpm -ivh https://repo.zabbix.com/zabbix/6.0/rhel/7/x86_64/zabbix-release-6.0-4.el7.noarch.rpm
sed -i 's#https://repo.zabbix.com#https://mirrors.aliyun.com/zabbix#' /etc/yum.repos.d/zabbix.repo

#zabbix 5.0 版本开始采用 golang 语言开发的新版本客户端 agent2
yum install -y zabbix-agent2

systemctl enable --now zabbix-agent2

netstat -lntp | grep 10050			#客户端 zabbix_agent2 默认监听 10050 端口</code></pre> 
<h3 id="7.%E8%A7%A3%E5%86%B3%20zabbix-server%20Web%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">7.解决 zabbix-server Web页面中文乱码问题</h3> 
<pre><code class="language-bash">yum install -y wqy-microhei-fonts

\cp -f /usr/share/fonts/wqy-microhei/wqy-microhei.ttc /var/www/zbx/assets/fonts/DejaVuSans.ttf

刷新浏览器页面</code></pre> 
<p><img alt="" height="902" src="https://images2.imgbox.com/db/91/oGb0qSQ0_o.png" width="1200"></p> 
<p><img alt="" height="960" src="https://images2.imgbox.com/43/99/WzJ07Dgv_o.png" width="1200"></p> 
<p><img alt="" height="957" src="https://images2.imgbox.com/d2/11/VeX8okVj_o.png" width="1200"></p> 
<h2 id="%E5%9B%9B%E3%80%81%E6%B7%BB%E5%8A%A0%20zabbix%20%E5%AE%A2%E6%88%B7%E7%AB%AF">四、添加 zabbix 客户端</h2> 
<h3 id="1.%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99">1.关闭防火墙</h3> 
<pre><code class="language-bash">systemctl disable --now firewalld
setenforce 0
hostnamectl set-hostname zbx-agent01</code></pre> 
<h3 id="2.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E9%85%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5">2.服务端和客户端都配置时间同步</h3> 
<pre><code class="language-bash">yum install -y ntpdate
ntpdate -u ntp.aliyun.com</code></pre> 
<p><img alt="" height="83" src="https://images2.imgbox.com/99/98/R8m9yz04_o.png" width="966"> </p> 
<h3 id="3.%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%83%BD%E8%AE%BE%E7%BD%AE%20hosts%20%E8%A7%A3%E6%9E%90">3.服务端和客户端都设置 hosts 解析</h3> 
<pre><code class="language-bash">cat &gt; /etc/hosts &lt;&lt; EOF
192.168.88.50 zbx-server
192.168.88.60 zbx-agent01
EOF</code></pre> 
<p><img alt="" height="222" src="https://images2.imgbox.com/de/92/VauV1LNq_o.png" width="903"></p> 
<h3 id="4.%E8%AE%BE%E7%BD%AE%20zabbix%20%E7%9A%84%E4%B8%8B%E8%BD%BD%E6%BA%90%EF%BC%8C%E5%AE%89%E8%A3%85%20zabbix-agent2">4.设置 zabbix 的下载源，安装 zabbix-agent2</h3> 
<pre><code class="language-bash">rpm -ivh https://repo.zabbix.com/zabbix/6.0/rhel/7/x86_64/zabbix-release-6.0-4.el7.noarch.rpm
sed -i 's#https://repo.zabbix.com#https://mirrors.aliyun.com/zabbix#' /etc/yum.repos.d/zabbix.repo

yum install -y zabbix-agent2</code></pre> 
<h3 id="5.%E4%BF%AE%E6%94%B9%20agent2%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">5.修改 agent2 配置文件</h3> 
<pre><code class="language-bash">vim /etc/zabbix/zabbix_agent2.conf
......
Server=192.168.88.50			#80行，指定 zabbix 服务端的 IP 地址
ServerActive=192.168.88.50		#133行，指定 zabbix 服务端的 IP 地址
Hostname=zbx-agent01			#144行，指定当前 zabbix 客户端的主机名


//启动 zabbix-agent2
systemctl start zabbix-agent2
systemctl enable zabbix-agent2

netstat -natp | grep zabbix
tcp6       0      0 :::10050                :::*                    LISTEN      43654/zabbix_agent2 </code></pre> 
<h3 id="6.%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%20zabbix-agent2%20%E7%9A%84%E8%BF%9E%E9%80%9A%E6%80%A7">6.在服务端验证 zabbix-agent2 的连通性</h3> 
<pre><code class="language-bash">yum install -y zabbix-get				#安装 zabbix 主动获取数据的命令

zabbix_get -s '192.168.80.30' -p 10050 -k 'agent.ping'
1

zabbix_get -s '192.168.80.30' -p 10050 -k 'system.hostname'
zbx-agent01

#常用的键值
agent.ping												#服务端与客户端是否连通，返回1表示可达，返回非表示不可达
system.hostname											#系统主机名
agent.hostname											#客户端主机名
net.if.in[if,&lt;mode&gt;]									#网络接口进入的流量统计，if表示网卡名称，带&lt;&gt;的参数表示可以省略
net.if.out[if,&lt;mode&gt;]									#网络接口流出的流量统计
proc.num[&lt;name&gt;,&lt;user&gt;,&lt;state&gt;,&lt;cmdline&gt;,&lt;zone&gt;]		#进程数
net.tcp.port[&lt;ip&gt;,port]	                                #检查是否能建立tcp连接到指定端口，返回0表示不能连接，返回1表示可以连接</code></pre> 
<p><img alt="" height="143" src="https://images2.imgbox.com/81/b4/u6LMCKyh_o.png" width="1164"></p> 
<h3 id="7.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%20agent%20%E4%B8%BB%E6%9C%BA">7.在 Web 页面中添加 agent 主机</h3> 
<pre><code class="language-bash">点击左边菜单栏【配置】中的【主机】，点击【创建主机】
【主机名称】输入 zbx-agent01
【可见的名称】输入 zbx-agent01-192.168.88.60
【模板】搜索 Linux ，选择 Linux by Zabbix agent
【群组】选择 Linux servers
【Interfaces】点击添加 客户端，【IP地址】输入 192.168.88.60

#监控模板下载地址
https://share.zabbix.com/
https://monitoringartist.github.io/zabbix-searcher/
https://git.zabbix.com/projects/ZBX/repos/zabbix/browse/templates</code></pre> 
<p><img alt="" height="722" src="https://images2.imgbox.com/b8/8f/mmYo10z5_o.png" width="1200"></p> 
<p><img alt="" height="397" src="https://images2.imgbox.com/af/0f/dABYmOjt_o.png" width="1200"> </p> 
<h2 id="%E4%BA%94%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E5%86%85%E5%AE%B9">五、自定义监控内容</h2> 
<blockquote> 
 <p><strong>案列：</strong>自定义监控客户端服务器登录的人数<br><strong>需求：</strong>限制登录人数不超过 3 个，超过 3 个就发出报警信息</p> 
</blockquote> 
<h3 id="1.%C2%A0%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%20key">1. 在客户端创建自定义 key</h3> 
<h4 id="1.1%E6%98%8E%E7%A1%AE%E9%9C%80%E8%A6%81%E6%89%A7%E8%A1%8C%E7%9A%84%20linux%20%E5%91%BD%E4%BB%A4">1.1明确需要执行的 linux 命令</h4> 
<pre><code class="language-bash">#查看用户并统计个数
who | wc -l</code></pre> 
<h4 id="1.2%E5%88%9B%E5%BB%BA%20zabbix%20%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E7%94%A8%E4%BA%8E%E8%87%AA%E5%AE%9A%E4%B9%89%20key">1.2创建 zabbix 的监控项配置文件，用于自定义 key</h4> 
<pre><code class="language-bash">vim /etc/zabbix/zabbix_agent2.conf
#可以将自定义的监控项配置文件创建在 zabbix_agent2.d 目录中
281 Include=/etc/zabbix/zabbix_agent2.d/*.conf
#自定义监控项的格式如下
321 #	Format: UserParameter=&lt;key&gt;,&lt;shell command&gt;

cd /etc/zabbix/zabbix_agent2.d/

vim UserParameter_login.conf
UserParameter=login.user,who|wc -l

systemctl restart zabbix-agent2.service</code></pre> 
<p><img alt="" height="335" src="https://images2.imgbox.com/22/94/ncNk0jb9_o.png" width="903"></p> 
<h4 id="1.3%E5%9C%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%AA%8C%E8%AF%81%E6%96%B0%E5%BB%BA%E7%9A%84%E7%9B%91%E6%8E%A7%E9%A1%B9">1.3在服务端验证新建的监控项</h4> 
<pre><code class="language-bash">zabbix_get -s '192.168.80.30' -p 10050 -k 'login.user'</code></pre> 
<p><img alt="" height="240" src="https://images2.imgbox.com/ef/d6/8pwqwJ05_o.png" width="858"></p> 
<h3 id="2.%E5%9C%A8%20Web%20%E9%A1%B5%E9%9D%A2%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E9%A1%B9%E6%A8%A1%E6%9D%BF">2.在 Web 页面创建自定义监控项模板</h3> 
<h4 id="2.1%E5%88%9B%E5%BB%BA%E6%A8%A1%E6%9D%BF">2.1创建模板</h4> 
<pre><code class="language-bash">点击左边菜单栏【配置】中的【模板】，点击【创建模板】
【模板名称】设置成 Template Login User
【可见的名称】设置成 Template Login User
【群组】选择 Template
【描述】可自定义
点击 【添加】，此时就可在【名称】中搜索到 Template Login User 了</code></pre> 
<p><img alt="" height="633" src="https://images2.imgbox.com/92/c0/fvXBHy4i_o.png" width="1200"><img alt="" height="573" src="https://images2.imgbox.com/05/ee/iU6iMqGB_o.png" width="1200"></p> 
<h4 id="2.2%E5%88%9B%E5%BB%BA%E7%9B%91%E6%8E%A7%E9%A1%B9">2.2创建监控项</h4> 
<pre><code class="language-bash">点击 Template Login User 模板进入
点击上方菜单栏【监控项】，点击【创建监控项】
【名称】设置成 Number of login users
【键值】设置成 login.user			#键值必须要与自定义的监控项配置文件中设置的保持一致
【更新间隔】设置成 10s
【历史数据保留时长】Storage period	30d		#保留时间可自定义设置
点击 【添加】</code></pre> 
<p><img alt="" height="920" src="https://images2.imgbox.com/c1/b2/fNDTqBEt_o.png" width="1200"> </p> 
<h4 id="2.3%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%88%E5%BD%93%E7%9B%91%E6%8E%A7%E9%A1%B9%E8%8E%B7%E5%8F%96%E5%88%B0%E7%9B%91%E6%8E%A7%E7%9A%84%E5%80%BC%E5%90%8E%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E9%A2%84%E8%AE%BE%E7%9A%84%E5%80%BC%E8%BF%9B%E8%A1%8C%E5%AF%B9%E6%AF%94%EF%BC%8C%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%8A%A5%E8%AD%A6%EF%BC%89">2.3创建触发器（当监控项获取到监控的值后和触发器预设的值进行对比，判断是否报警）</h4> 
<pre><code class="language-bash">点击上方菜单栏【触发器】，点击【创建触发器】
【名称】设置成 Number of login users is greater than 3
【严重性】设置成 一般严重		#根据严重程度可自定义设置
【表达式】点击添加，【监控项】点击选择 Number of login users，【功能】选择 last()，【结果】选择 &gt; 3，点击 【插入】
点击 【添加】</code></pre> 
<p><img alt="" height="346" src="https://images2.imgbox.com/e8/f7/C4VaT7oI_o.png" width="1129"></p> 
<h4 id="2.4%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BD%A2">2.4创建图形</h4> 
<pre><code class="language-bash">点击上方菜单栏【图形】，点击【创建图形】
【名称】设置成 Number of login users
【宽】、【高】可直接采用默认值
【监控项】点击添加勾选相关监控项 Number of login users，【功能】选择 最大，其它可保持默认值
点击 【添加】</code></pre> 
<p><img alt="" height="765" src="https://images2.imgbox.com/76/4f/toiaQyOa_o.png" width="1200"></p> 
<h4 id="2.5%E5%B0%86%E4%B8%BB%E6%9C%BA%E4%B8%8E%E6%A8%A1%E6%9D%BF%E5%85%B3%E8%81%94%E8%B5%B7%E6%9D%A5%EF%BC%88%E4%B8%80%E4%B8%AA%E4%B8%BB%E6%9C%BA%E5%8F%AF%E4%BB%A5%E5%85%B3%E8%81%94%E5%A4%9A%E4%B8%AA%E6%A8%A1%E6%9D%BF%EF%BC%89">2.5将主机与模板关联起来（一个主机可以关联多个模板）</h4> 
<pre><code class="language-bash">点击左边菜单栏【配置】中的【主机】，点击你要关联的主机
【模板】搜索 login，选择 Template Login User，点击【更新】

此时就点击【监测】中的【主机】，点击你关联主机的【图形】，即可查看到相关的监控项指标
在第2页的中间位置
</code></pre> 
<p><img alt="" height="803" src="https://images2.imgbox.com/96/dc/TOoXyza5_o.png" width="1200"> <img alt="" height="577" src="https://images2.imgbox.com/d5/ab/aMhUIgxo_o.png" width="1180"></p> 
<p><img alt="" height="500" src="https://images2.imgbox.com/a1/48/UMHTCn9U_o.png" width="1200"></p> 
<h4 id="2.6%E8%AE%BE%E7%BD%AE%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6">2.6设置邮件报警</h4> 
<pre><code class="language-bash">点击左边菜单栏【管理】中的【报警媒介类型】，点击【创建媒体类型】
【名称】设置成 qq_Email
【SMTP服务器】设置成 smtp.qq.com
【SMTP服务器端口】设置成 25
【SMTP HELO】设置成 qq.com
【SMTP电邮】设置成 自己的邮箱地址，例如 qwe4546456@qq.com
【认证】选择 用户名和密码
【用户名称】设置成 自己的邮箱地址，例如 qwe4546456@qq.com
【密码】可登录QQ邮箱页面，点击【设置】--&gt;【账户】中的【生成授权码】，通过短信获取授权码
【描述】可自定义
点击上方菜单栏【Message templates】，点击【添加】，【Message type】选择 问题，点击【更新】
点击 【添加】，并测试功能</code></pre> 
<p><img alt="" height="309" src="https://images2.imgbox.com/17/69/gH35Zief_o.png" width="1200"> <img alt="" height="636" src="https://images2.imgbox.com/60/45/ZNKYwzjo_o.png" width="1200"></p> 
<p><img alt="" height="840" src="https://images2.imgbox.com/48/07/4pp3ymQL_o.png" width="1200"></p> 
<p><img alt="" height="328" src="https://images2.imgbox.com/7c/82/yfdBq1MZ_o.png" width="1162"><img alt="" height="419" src="https://images2.imgbox.com/79/f5/lKEEtC2H_o.png" width="821"></p> 
<pre><code class="language-bash">点击左边菜单栏【User settings】--&gt;【Profile】--&gt;【报警媒介】，点击【添加】
【类型】选择 qq_Email
【收件人】设置成 qwe4546456@wo.cn
【当启用时】设置成 1-7,00:00-24:00
【如果存在严重性则使用】勾选需要的严重性
点击 【添加】
再点击 【更新】</code></pre> 
<p><img alt="" height="511" src="https://images2.imgbox.com/ff/92/GMxPRukJ_o.png" width="834"> </p> 
<pre><code class="language-bash">点击左边菜单栏【配置】-&gt;【动作】-&gt;【Trigger actions】
选择相对应的动作名称点击进入，点击 【添加】
【类型】选择 触发器，【操作者】选择 等于，【触发器】点击选择 Nunber of login users is greater than 3
点击【添加】
勾选 【已启动】
点击 【更新】</code></pre> 
<p><img alt="" height="468" src="https://images2.imgbox.com/45/b3/Bc561lSV_o.png" width="892"> <img alt="" height="416" src="https://images2.imgbox.com/0e/ca/HvELZgh4_o.png" width="1058"></p> 
<h3 id="3.%E6%B5%8B%E8%AF%95%E9%82%AE%E4%BB%B6%E6%8A%A5%E8%AD%A6">3.测试邮件报警</h3> 
<pre><code class="language-bash">增加测试客户端的用户登录数超过触发器预设的值，查看【监测】--&gt;【仪表板】，确认报警</code></pre> 
<p><img alt="" height="461" src="https://images2.imgbox.com/12/89/FUNg5GQR_o.png" width="1200"> <img alt="" height="837" src="https://images2.imgbox.com/0a/c1/DXQJjnbF_o.png" width="1200"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ac6351cbe480f86b4fed62b989be867/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MODBUSTCP和MODBUSRTU数据帧对比</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e68f36e2f54169eb4ec52a9dad96975/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python端口扫描器—多线程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>