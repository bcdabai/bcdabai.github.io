<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql运维知识总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql运维知识总结" />
<meta property="og:description" content="mysql运维
windows下登录mysql：mysql -uroot -p(在cmd下执行)，然后输入密码即可
如果发现如图所下所示的内容，说明没有配环境变量
在系统变量Path下新增一条路径（到bin目录）即可
查询所有数据库：show databases;
选择某数据库：use test_database；(test_database是你的数据库名)
查询数据库种的所有表：show tables;
表信息操作：
select * from test_table;（test_table是你的表名）
truncate table test_table; 或者 delete from test_table where 1=1;（删除test_table的表数据保留表结构）
update test_table set table_column_name=&#39;123&#39; where table_column_name=&#39;&#39; (更新表的数据)
insert into table_name (列1, 列2,...) VALUES (值1, 值2,....) （插入数据）
数据导出操作：
select * from test_table into outfile &#39;C:/test.txt&#39;
当我们第一次执行这种导出操作时会报这样的问题：
我们来查看一下secure-file-priv这个变量的值（show variables like &#39;%secure%&#39;;）
secure-file-priv的值有三种情况：
secure_file_prive=null ––限制mysqld 不允许导入导出secure_file_priv=/path/ – --限制mysqld的导入导出只能发生在默认的/path/目录下secure_file_priv=’’ – --不对mysqld 的导入 导出做限制 这时我们需要修改my.ini文件
打开my.ini，修改内容为下图
，
然后重启mysql（在服务中找到mysql，右键重启即可）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/cad84d46f33e1715ccc7a5b3dceee434/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-26T15:09:06+08:00" />
<meta property="article:modified_time" content="2023-12-26T15:09:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql运维知识总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>mysql运维</p> 
<p>windows下登录mysql：mysql -uroot -p(在cmd下执行)，然后输入密码即可</p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/63/fb/ZiQJEIcO_o.png" width="682"></p> 
<p>如果发现如图所下所示的内容，说明没有配环境变量</p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/b4/9d/hv8sJRUD_o.png" width="434"></p> 
<p>在系统变量Path下新增一条路径（到bin目录）即可</p> 
<p><img alt="" height="65" src="https://images2.imgbox.com/ee/51/TZNZc9s5_o.png" width="608"></p> 
<p>查询所有数据库：show databases;</p> 
<p>选择某数据库：use  test_database；(test_database是你的数据库名)</p> 
<p>查询数据库种的所有表：show tables;</p> 
<p>表信息操作：</p> 
<p>select * from test_table;（test_table是你的表名）</p> 
<p>truncate table test_table;    或者  delete from test_table where 1=1;（删除test_table的表数据保留表结构）</p> 
<p>update test_table set table_column_name='123' where table_column_name='' (更新表的数据)</p> 
<p>insert into table_name (列1, 列2,...) VALUES (值1, 值2,....) （插入数据）</p> 
<p>数据导出操作：</p> 
<p>select * from test_table into outfile 'C:/test.txt'</p> 
<p>当我们第一次执行这种导出操作时会报这样的问题：</p> 
<p><img alt="" height="17" src="https://images2.imgbox.com/bd/8f/OUpEIlvK_o.png" width="959"></p> 
<p>我们来查看一下secure-file-priv这个变量的值（show variables like '%secure%';）</p> 
<p><img alt="" height="124" src="https://images2.imgbox.com/02/1c/z9hRzDXr_o.png" width="650"></p> 
<p>secure-file-priv的值有三种情况：</p> 
<ul><li>secure_file_prive=null ––限制mysqld 不允许导入导出</li><li>secure_file_priv=/path/ – --限制mysqld的导入导出只能发生在默认的/path/目录下</li><li>secure_file_priv=’’ – --不对mysqld 的导入 导出做限制</li></ul> 
<p>这时我们需要修改my.ini文件</p> 
<p><img alt="" height="214" src="https://images2.imgbox.com/52/7a/EPUiClY6_o.png" width="640"></p> 
<p>打开my.ini，修改内容为下图</p> 
<p><img alt="" height="115" src="https://images2.imgbox.com/a8/6e/C3dS0yll_o.png" width="697">，</p> 
<p>然后重启mysql（在服务中找到mysql，右键重启即可）</p> 
<p><img alt="" height="605" src="https://images2.imgbox.com/5c/71/wMMiH2AO_o.png" width="1034"></p> 
<p>然后我们再次登录到mysql，查看secure的信息（可以看到secure_file_priv变成空了）</p> 
<p><img alt="" height="157" src="https://images2.imgbox.com/c7/04/9t4RlsXX_o.png" width="363"></p> 
<p>然后我们再次执行到处操作：</p> 
<p><img alt="" height="37" src="https://images2.imgbox.com/ba/55/x8673Fni_o.png" width="785"></p> 
<p>又出现了权限问题，别着急我们继续研究</p> 
<p>最终我们通过如下方式成功导出，导出位置为C:/tmp/test.txt</p> 
<p><img alt="" height="47" src="https://images2.imgbox.com/a1/9d/VK7F5KJv_o.png" width="639"></p> 
<p></p> 
<p>导出为sql文件：</p> 
<p>导出整个数据库：mysqldump -uroot -p databases_name &gt; c:\test.sql</p> 
<p><img alt="" height="44" src="https://images2.imgbox.com/12/40/UlqhB35r_o.png" width="649"></p> 
<p>导出单个表的数据：mysqldump -uroot -p databases_name table_name &gt; c:test_table.sql</p> 
<p><img alt="" height="47" src="https://images2.imgbox.com/37/57/9TfSeJAz_o.png" width="873"></p> 
<p></p> 
<p>导入sql数据到数据库：</p> 
<p>先创建数据库</p> 
<p><img alt="" height="41" src="https://images2.imgbox.com/63/87/0gMQjKw9_o.png" width="298"></p> 
<p>然后运行命令 ：mysql -uroot -p database_name &lt; c:\test.sql</p> 
<p><img alt="" height="52" src="https://images2.imgbox.com/05/99/3sXfoSi0_o.png" width="584"></p> 
<p></p> 
<p>mysql下载</p> 
<p>最新版下载：<a href="https://dev.mysql.com/downloads/windows/installer/" rel="nofollow" title="MySQL :: Download MySQL Installer">MySQL :: Download MySQL Installer</a></p> 
<p>历史版本下载：<a href="https://downloads.mysql.com/archives/installer/" rel="nofollow" title="MySQL :: Download MySQL Installer (Archived Versions)">MySQL :: Download MySQL Installer (Archived Versions)</a></p> 
<p>我选择最新的5.7版本，即5.7.37（注意mysql安装有两种方法，一种是msi安装，另一种是zip解压安装，第二种方法需要自己配环境，我觉得挺麻烦的还容易出错，所以我用的msi安装方式）</p> 
<p><img alt="" height="496" src="https://images2.imgbox.com/0e/8d/GAfhDhAu_o.png" width="1200"></p> 
<blockquote> 
 <p>utf8_unicode_ci和utf8_general_ci的区别：</p> 
 <p>utf8_unicode_ci使用Unicode标准中定义的Unicode排序算法,而utf8_general_ci是一种更简单的排序算法，排序更快，但会导致"不太准确"的排序结果（这个不太准确可以忽略不计）.</p> 
</blockquote> 
<blockquote> 
 <p>mysql查询时如何增加一个序号字段：</p> 
 <pre><code class="hljs">SET @row_number = 0;
-- 注意这里不能直接使用,*
SELECT @row_number:=@row_number+1,t.* FROM test_table t;</code></pre> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e8b2d6b29fcc8ffc65b724700f9a498/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript 中的双等号（==）和三等号（===）有何不同？何时使用它们？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e9ea2ba72768521f7ec7a4fb8551eeb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于Mysql运维人员必备技能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>