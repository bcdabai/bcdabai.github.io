<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot Admin，贼好使 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot Admin，贼好使" />
<meta property="og:description" content="Spring Boot Admin（SBA）是一个开源的社区项目，用于管理和监控 Spring Boot 应用程序。应用程序可以通过 http 的方式，或 Spring Cloud 服务发现机制注册到 SBA 中，然后就可以实现对 Spring Boot 项目的可视化管理和查看了。
Spring Boot Admin 可以监控 Spring Boot 单机或集群项目，它提供详细的健康 （Health）信息、内存信息、JVM 系统和环境属性、垃圾回收信息、日志设置和查看、定时任务查看、Spring Boot 缓存查看和管理等功能。接下来我们一起来搭建和使用吧。
它最终的展示效果如下： 1.搭建SBA监控端 我们需要创建一个 Spring Boot Admin 项目，用来监控和管理我们的 Spring Boot 项目，搭建的方式和创建普通的 Spring Boot 项目类似，具体步骤如下。 使用 Idea 创建一个 Spring Boot 项目： 这里需要注意，需要添加 Spring Boot Admin（Server）服务端框架的支持，如下图所示： 也就是创建的 Spring Boot 项目需要添加以下两个重要的框架支持：
&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;de.codecentric&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt; &lt;/dependency&gt; 复制代码 1.1 开启SBA服务 创建完项目之后，需要在启动类上开启 SBA 服务：
import de." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5a0cc31010535f0b12b5187ca5ce345f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-14T13:30:08+08:00" />
<meta property="article:modified_time" content="2022-01-14T13:30:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot Admin，贼好使</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"><img alt="Spring Boot Admin，贼好使！" src="https://images2.imgbox.com/31/6c/aTXkzE57_o.png"></p> 
<p>Spring Boot Admin（SBA）是一个开源的社区项目，用于管理和监控 Spring Boot 应用程序。应用程序可以通过 http 的方式，或 Spring Cloud 服务发现机制注册到 SBA 中，然后就可以实现对 Spring Boot 项目的可视化管理和查看了。</p> 
<p>Spring Boot Admin 可以监控 Spring Boot 单机或集群项目，它提供详细的健康 （Health）信息、内存信息、JVM 系统和环境属性、垃圾回收信息、日志设置和查看、定时任务查看、Spring Boot 缓存查看和管理等功能。接下来我们一起来搭建和使用吧。</p> 
<p>它最终的展示效果如下： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/b0/1b/LxiHn6kr_o.png"></p> 
<h3>1.搭建SBA监控端</h3> 
<p>我们需要创建一个 Spring Boot Admin 项目，用来监控和管理我们的 Spring Boot 项目，搭建的方式和创建普通的 Spring Boot 项目类似，具体步骤如下。 使用 Idea 创建一个 Spring Boot 项目： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/d6/5b/cUwewVuK_o.png"></p> 
<p> </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/62/7a/sgLyRojm_o.png"></p> 
<p> 这里需要注意，需要添加 Spring Boot Admin（Server）服务端框架的支持，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/94/61/lGUbMgNs_o.png"></p> 
<p> 也就是创建的 Spring Boot 项目需要添加以下两个重要的框架支持：</p> 
<pre><code>&lt;dependency&gt;
   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;
&lt;/dependency&gt;
复制代码</code></pre> 
<h4>1.1 开启SBA服务</h4> 
<p>创建完项目之后，需要在启动类上开启 SBA 服务：</p> 
<pre><code>import de.codecentric.boot.admin.server.config.EnableAdminServer;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@EnableAdminServer // 添加此行代码
@SpringBootApplication 
public class SbaserverApplication {
    public static void main(String[] args) {
        SpringApplication.run(SbaserverApplication.class, args);
    }
}
复制代码</code></pre> 
<h4>1.2 配置SBA端口号</h4> 
<p>在 application.properties 中配置一个项目的端口号就可以直接启动了，我配置的端口号是 9001：</p> 
<pre><code>server.port=9001
复制代码</code></pre> 
<blockquote> 
 <p>PS：配置端口号的主要目的是为了不和其他 Spring Boot 项目冲突，如果 SBA 是单独部署此步骤可以忽略。</p> 
</blockquote> 
<p>启动项目之后，就可以看到 SBA 的主页了，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/11/d4/hCgv5tiq_o.png"></p> 
<p> 此时 SBA 中还没有添加任何需要监控的项目，接下来我们再创建一个 Spring Boot 项目，加入到 SBA 中来进行监控和管理吧。</p> 
<h3>2.创建一个普通SpringBoot项目</h3> 
<p>首先，我们需要创建一个普通的 Spring Boot 项目，具体的创建步骤这里就不演示了。当创建好 Spring Boot 项目之后，需要在这个 Spring Boot 项目中需要添加 SBA 客户端框架的支持，也就是在 pom.xml 中配置如下内容：</p> 
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;de.codecentric&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;
&lt;/dependency&gt;
复制代码</code></pre> 
<p>然后在 application.properties 文件中配置 SBA 服务器端地址，也就是咱们第一步创建 SBA 项目的地址，配置内容如下：</p> 
<pre><code># 当前项目端口号
server.port=8080
# Spring Boot Admin 监控服务器端地址
spring.boot.admin.client.url=http://localhost:9001
复制代码</code></pre> 
<p>其中“spring.boot.admin.client.url”为 SBA 监控地址。</p> 
<h3>3.SpringBootAdmin监控总览</h3> 
<p>配置完以上信息之后，此时查看 Spring Boot Admin 页面中就有被监控的 Spring Boot 项目了，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/da/84/kpLdbgLV_o.png"></p> 
<p> 也可以点击“应用墙”查看 Spring Boot Admin 中所有被监控的 Spring Boot 项目，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/40/13/dqDbWSI0_o.png"></p> 
<p> 点击应用进入详情页面，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/1d/b0/MIzkV7z4_o.png"></p> 
<p> </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/f1/14/gbpGQiu2_o.png"></p> 
<p> 事件日志中包含 Spring Boot 各种状态的展示（UP 为正常、OFFLINE 为异常）和发生的时间，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/e2/e4/slkLfKDQ_o.png"></p> 
<h3>4.SpringBoot异常监控</h3> 
<p>当我们手动把被监控的 Spring Boot 项目停止之后，在 Spring Boot Admin 中就可以查看到一个应用已经被停掉了，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/f4/d9/mbdZ3h2K_o.png"></p> 
<p> 我们也可以通过事件日志查看 Spring Boot 宕机的具体时间，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/5b/ba/bDeY4Fag_o.png"></p> 
<h3>5.配置查看更多监控项</h3> 
<p>通过上面的内容我们可以看出，监控的 Spring Boot 选项还是比较少的，怎么才能查看更多的监控项呢？ 要解决这个问题，我们需要在被监控的 Spring Boot 项目中添加 spring-boot-starter-actuator 框架的支持，并开启查看所有监控项的配置才行，最终展示效果如下： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/55/ce/Q9CKsMaO_o.png"></p> 
<p> 接下来我们来配置一下这些监控项。</p> 
<h4>5.1 添加actuator框架支持</h4> 
<p>在被监控的 Spring Boot 项目中添加 actuator 框架支持，也就是在 pom.xml 中添加以下配置：</p> 
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
复制代码</code></pre> 
<p>手动点击 Maven 导入依赖包（如果开启了自动导入，此步骤可忽略）。</p> 
<h4>5.2 配置开放所有监控项</h4> 
<p>在被监控的 Spring Boot 项目中添加以下配置：</p> 
<pre><code># 开启监控所有项
management.endpoints.web.exposure.include=*
复制代码</code></pre> 
<p>以上的配置是开放监控所有选项，配置完之后，重启此 Spring Boot 项目，然后再刷新 Spring Boot Admin 更多的监控项就展示出来了，如下图所示： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/3a/61/Fun0KKAr_o.png"></p> 
<h4>5.3 监控项目预览</h4> 
<p>将 Spring Boot 的所有监控项都开启之后，通过 SBA 就可以查看以下内容了：</p> 
<ul><li>启动时间、累计运行时间；</li><li>进程和线程数量和占用的 CPU 资源；</li><li>垃圾回收详情信息，回收次数和花费时间；</li><li>JVM 线程转储、内存转储详情和对应的文件下载；</li><li>可以查看和配置 Spring Boot 项目中的日志级别；</li><li>查看 Spring Boot 项目性能监控；</li><li>查看 Spring Boot 运行环境信息；</li><li>查看 Spring Boot 所有类信息；</li><li>查看 Spring Boot 中的定时任务；</li><li>查看和管理 Spring Boot 项目中的所有缓存。</li></ul> 
<p>以下是几个重要页面的截图，我们一起来看。</p> 
<p>5.3.1 查看运行环境</p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/0a/49/u9VTSheh_o.png"></p> 
<p> </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/68/2d/DLPnixKY_o.png"></p> 
<p>5.3.2 查看定时任务</p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/8d/c9/q0jCwrPZ_o.png"></p> 
<p>5.3.3 项目日志级别配置</p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/68/54/VaHhZ1Rb_o.png"></p> 
<p> 我们可以通过 Spring Boot Admin 来动态的配置项目中的日志级别。</p> 
<p>5.3.4 JVM线程和内存查看</p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/57/de/NriKmpKA_o.png"></p> 
<p>5.3.5 查看SpringBoot所有缓存</p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/e2/15/n02wPSSB_o.png"></p> 
<p> 当然我们还可以对这些缓存进行删除操作。</p> 
<h3>6.查看项目实时日志</h3> 
<p>想要查看监控项目中的日志信息，有一个前提条件，前提条件是你被监控的 Spring Boot 项目，必须配置了日志的保存路径或者日志保存文件名，只有配置这两项中的任意一项，你的 Spring Boot 项目才会将日志保存到磁盘上，这样才能通过 SBA 查看到，我配置的是日志路径，在 Spring Boot 的 application.properties 配置文件中添加以下配置：</p> 
<pre><code># 设置日志保存路径
logging.file.path=C:\\work\\log
复制代码</code></pre> 
<p>设置完成之后，重启你的 Spring Boot 项目，然后刷新 SBA 页面，最终展示效果如下： </p> 
<p style="text-align:center;"><img alt="image.png" src="https://images2.imgbox.com/84/ee/gssJ2crT_o.png"></p> 
<p> 此时我们就可以查看实时的日志信息了，当然你也可以随时下载日志，如果需要的话。</p> 
<h3>总结</h3> 
<p>Spring Boot Admin（SBA）是一个社区开源项目，用于管理和监视 Spring Boot 应用程序，它提供详细的健康 （Health）信息、内存信息、JVM 系统和环境属性、垃圾回收信息、日志设置和查看、定时任务查看、Spring Boot 缓存查看和管理等功能。</p> 
<p>我们需要创建一个 SBA 服务器端用来监控一个或多个 Spring Boot 项目，被监控的 Spring Boot 项目要添加 SBA Client 框架的支持，且添加 actuator 框架和相应的配置，就可以实现对 Spring Boot 项目的完美监控了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d8729fa771eeb0dac8d4d3fa01c41c26/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">7-1 哈夫曼编码(实验) 最全代码解析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e213150b96785e8ce06625fe08a0e2d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">状态机-面向对象编程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>