<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tween.js 使用文档 --- Three.js - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Tween.js 使用文档 --- Three.js" />
<meta property="og:description" content="Tween.js官网文档：tween.js user guide | tween.js (tweenjs.github.io)
Tween.js 基本使用 1. 引入Tween.js import TWEEN from &#34;./tween.js-master/dist/tween.esm.js&#34; 2. 定义基本Tween动画 目的：将model模型的位置，从原来的(0,0,0)位置，经过1s移动到(20,50,30)的位置。
模式一：
// 1 设置动画 const action=new TWEEN.Tween({x:0,y:0,z:0}) // 初始值 .to({x:20,y:50,z:30},1000) // 目标值，毫秒数 // 在动画执行期，不断被调用。其中obj为&#34;to&#34;里面的内容 .onUpdate(function(obj){ model.position.x=obj.x; // x:20 model.position.y=obj.y; model.position.z=obj.z; }) .start() // 2 启动动画 function loop(){ // 更新动画 TWEEN.update() requestAnimationFrame(render); } 模式二：
const action=new TWEEN.Tween(model.position) // 初始值：模型的初始位置 .to({x:20,y:50,z:30},1000) // 目标值，毫秒数 .start() 3 字段说明 const action=new TWEEN.Tween(需添加动画的属性) 字段含义示例备注start执行动画action.start( ) action.start(num).start(毫秒数)：延迟n毫秒之后运行动画stop停止动画action.stop( )停止的动画必须为正在运行的动画chain链式执行动画actA.chain(actB,actC)1. 当actA动画执行完后,立即执行actB和actC动画，其中B和C同时被执行。2. 前提:actA." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/5165b116b43dcee0c6b07f0bc661e616/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T15:54:37+08:00" />
<meta property="article:modified_time" content="2024-01-24T15:54:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Tween.js 使用文档 --- Three.js</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a class="link-info" href="https://tweenjs.github.io/tween.js/docs/user_guide.html" rel="nofollow" title="Tween.js官网文档：tween.js user guide | tween.js (tweenjs.github.io)">Tween.js官网文档：tween.js user guide | tween.js (tweenjs.github.io)</a></p> 
<p></p> 
<h2>Tween.js 基本使用</h2> 
<blockquote> 
 <h3>1. 引入Tween.js</h3> 
</blockquote> 
<pre><code class="language-javascript">import TWEEN from "./tween.js-master/dist/tween.esm.js"</code></pre> 
<p> </p> 
<blockquote> 
 <h3>2. 定义基本Tween动画 </h3> 
</blockquote> 
<p><strong>目的</strong>：将model模型的位置，从原来的(0,0,0)位置，经过1s移动到(20,50,30)的位置。</p> 
<p>模式一：</p> 
<p> </p> 
<pre><code class="language-javascript">// 1 设置动画
const action=new TWEEN.Tween({x:0,y:0,z:0}) // 初始值
    .to({x:20,y:50,z:30},1000) // 目标值，毫秒数
    // 在动画执行期，不断被调用。其中obj为"to"里面的内容
    .onUpdate(function(obj){ 
        model.position.x=obj.x; // x:20
        model.position.y=obj.y;
        model.position.z=obj.z;
    })
    .start()

// 2 启动动画
function loop(){
    // 更新动画
    TWEEN.update() 
    requestAnimationFrame(render);
}
</code></pre> 
<p></p> 
<p>模式二：</p> 
<pre><code class="language-javascript">const action=new TWEEN.Tween(model.position) // 初始值：模型的初始位置
    .to({x:20,y:50,z:30},1000) // 目标值，毫秒数
    .start()</code></pre> 
<h3> 3 字段说明</h3> 
<p>const action=new TWEEN.Tween(需添加动画的属性) </p> 
<table><thead><tr><th>字段</th><th>含义</th><th>示例</th><th>备注</th></tr></thead><tbody><tr><td>start</td><td>执行动画</td><td>action.start( ) action.start(num)</td><td>.start(毫秒数)：延迟<code>n毫秒</code>之后运行动画</td></tr><tr><td>stop</td><td>停止动画</td><td>action.stop( )</td><td>停止的动画必须为正在运行的动画</td></tr><tr><td>chain</td><td>链式执行动画</td><td>actA.chain(actB,actC)</td><td>1. 当<code>actA</code>动画执行完后,立即执行<code>actB</code>和<code>actC</code>动画，其中B和C同时被执行。2. 前提:actA.start( ), actB和actC不需要开启.start( )</td></tr><tr><td>repeat</td><td>重复执行动画</td><td>action.repeat(num) action.repeat(Infinity)</td><td>1. num 重复执行的次数 2. Infinity 无限循环</td></tr><tr><td>yoyo</td><td>重复执行时是否衔接（起始值-结束值-起始值）溜溜球</td><td>action.yoyo(true)</td><td>只有在<code>repeat( )</code>独立使用时有效</td></tr><tr><td>delay</td><td>延迟执行动画</td><td>action.delay(num)</td><td><code>action.delay(1000).start( )</code> 延迟1000毫秒后执行动画,<code>delay</code>在<code>start</code>之前</td></tr><tr><td>to</td><td>控制动画结束时的目标值+动画持续时间(毫秒)</td><td>action.to(object,num)</td><td></td></tr><tr><td>easing</td><td>缓动动画</td><td>TWEEN.Easing.<code>easing函数</code>.<code>easing类型</code></td><td><code>easing函数</code>:算法-&gt;运动效果 <code>easing函数</code>:算法起作用的地方<code>In</code>、<code>Out</code>、<code>InOut</code></td></tr><tr><td>onUpdate</td><td>在动画播放时，一直被调用</td><td>onUpdate(function)</td><td>function(obj){ } 形参obj指目标值(to( )的第1个参数)</td></tr><tr><td>onStart</td><td>动画开始播放时被调用一次</td><td>onStart(function)</td><td></td></tr><tr><td>onComplete</td><td>动画结束时被调用一次</td><td>onComplete(function)</td><td></td></tr></tbody></table> 
<p>警告：调用 <code>actA.chain（actB）</code> 实际上修改了actA，所以<code>chain</code> 的返回值只是actA，不是一个新的tween。</p> 
<p>警告：<code>yoyo(true)</code> 只有在<code>repeat(Infinity||200)</code>单独使用时有效</p> 
<h3>4 easing 缓动动画 </h3> 
<p> <a class="link-info" href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftweenjs%2Ftween.js%2Fblob%2Fmaster%2Fexamples%2F03_graphs.html" rel="nofollow" title="地址：/tween.js-master/examples/03_graphs.html 官方网址 · GitHub">地址：/tween.js-master/examples/03_graphs.html 官方网址 · GitHub</a></p> 
<p><img alt="" height="767" src="https://images2.imgbox.com/05/ec/PteszN5S_o.png" width="1200"> </p> 
<p> </p> 
<pre><code class="language-javascript">// 动画开始缓动-类比加速器
action.easing(TWEEN.Easing.Sinusoidal.In);
// 动画结束时缓动-类比减速刹车
action.easing(TWEEN.Easing.Sinusoidal.Out);
// 同时设置In和Out
action.easing(TWEEN.Easing.Sinusoidal.InOut);
</code></pre> 
<p> </p> 
<h3>5 例：相机旋转+模型淡入淡出动画</h3> 
<p><strong>目的：</strong></p> 
<ol><li>当镜头移动时，镜头始终对准model模型，模型呈现淡入的效果</li><li>当移动返回时，镜头始终对准model模型，模型呈现淡出的效果</li></ol> 
<p>镜头移动动画：</p> 
<pre><code class="language-javascript">const cameraAct=new TWEEN.Tween(camera.position)
    .to({x:-100},3000)
    // 相机移动时，焦点始终为模型的位置
    .onUpdate(function(){
        camera.lookAt(model.position)
    })
    .start()
</code></pre> 
<h3> </h3> 
<p>模型淡入动画：</p> 
<pre><code class="language-javascript">const meshActIn = new TWEEN.Tween({ opacity: 0.0 })
    .to({ opacity: 1.0 }, 3000)
    // 动画开始：开启材质的透明度
    .onStart(function () {
        mat.transparent = true;
    })
    .onUpdate(function (obj) {
        mat.opacity = obj.opacity;
    })
    // 动画结束：关闭材质的透明度
    .onComplete(function () {
        mat.transparent = false;
    })
    .start();</code></pre> 
<p> 模型淡出动画：</p> 
<pre><code class="language-javascript">const meshActOut =new TWEEN.Tween({opacity:mat.opacity})
    .to({opacity:0.0}, 3000)
    // 动画开始：允许透明opacity属性才能生效
    .onStart(function(){
        material.transparent = true;
    })
    .onUpdate(function(obj){
        material.opacity = obj.opacity
    })
    .start();
</code></pre> 
<p></p> 
<p>备注</p> 
<ol><li>材质需开启<code>transparent</code>，才能设置透明程度<code>opacity</code> <pre><code class="language-javascript">const mat = new THREE.MeshLambertMaterial({
    color: 0x00ffff,
    transparent: true,
    opacity: 0.8,
});</code></pre> <p></p> </li><li>调用 <code>actA.chain（actB）</code> 实际上修改了actA，所以<code>chain</code> 的返回值只是actA，不是一个新的tween。</li><li><code>yoyo(true)</code> 只有在<code>repeat(Infinity||200)</code>单独使用时有效</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e70ea79cfb6caa225cdf176948d83977/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Apache httpd为windows11搭建代理服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43095276f43f0f63bcae7b7d5ce2bf79/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【计算机网络】中小型校园网构建与配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>