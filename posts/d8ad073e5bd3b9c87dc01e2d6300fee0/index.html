<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Git 开发日常 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Git 开发日常" />
<meta property="og:description" content="Traditional Ways [分支名]$ git checkout -b dev #开发的时候创建一条自己的分支 ############################ ########## 开发 ############# ############################ [dev] $ git rebase -i master #合并提交记录 # 切换到 master 分支拉取最新代码 [dev] $ git checkout master [master]$ git pull [master]$ git checkout dev # 将最新代码合并到 dev 分支 [dev] $ git rebase master #有冲突解决冲突，继续：git rebase --continue # 推送远程 [dev]$ git push origin dev:dev [gitlab-web] 在网页端提交 Merge Request 或开发负责人(有 master 权限的人)自己合并 [dev] $ git checkout master [master]$ git merge dev Tips: 重心放在本地。除了 git push, 其他常用命令不会对远程仓库造成破坏性影响" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d8ad073e5bd3b9c87dc01e2d6300fee0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-22T17:23:43+08:00" />
<meta property="article:modified_time" content="2024-01-22T17:23:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Git 开发日常</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Traditional_Ways_0"></a>Traditional Ways</h2> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>分支名<span class="token punctuation">]</span>$ <span class="token function">git</span> checkout <span class="token parameter variable">-b</span> dev   <span class="token comment">#开发的时候创建一条自己的分支</span>
<span class="token comment">############################</span>
<span class="token comment">########## 开发 #############</span>
<span class="token comment">############################</span>
<span class="token punctuation">[</span>dev<span class="token punctuation">]</span>   $ <span class="token function">git</span> rebase <span class="token parameter variable">-i</span> master  <span class="token comment">#合并提交记录</span>
<span class="token comment"># 切换到 master 分支拉取最新代码</span>
<span class="token punctuation">[</span>dev<span class="token punctuation">]</span>   $ <span class="token function">git</span> checkout master
<span class="token punctuation">[</span>master<span class="token punctuation">]</span>$ <span class="token function">git</span> pull
<span class="token punctuation">[</span>master<span class="token punctuation">]</span>$ <span class="token function">git</span> checkout dev
<span class="token comment"># 将最新代码合并到 dev 分支</span>
<span class="token punctuation">[</span>dev<span class="token punctuation">]</span>   $ <span class="token function">git</span> rebase master     <span class="token comment">#有冲突解决冲突，继续：git rebase --continue</span>
<span class="token comment"># 推送远程</span>
<span class="token punctuation">[</span>dev<span class="token punctuation">]</span>$ <span class="token function">git</span> push origin dev:dev

<span class="token punctuation">[</span>gitlab-web<span class="token punctuation">]</span> 在网页端提交 Merge Request
或开发负责人<span class="token punctuation">(</span>有 master 权限的人<span class="token punctuation">)</span>自己合并
<span class="token punctuation">[</span>dev<span class="token punctuation">]</span>   $ <span class="token function">git</span> checkout master
<span class="token punctuation">[</span>master<span class="token punctuation">]</span>$ <span class="token function">git</span> merge dev
</code></pre> 
<p>Tips: 重心放在本地。除了 <code>git push</code>, 其他常用命令不会对远程仓库造成破坏性影响</p> 
<h2><a id="_24"></a>常用命令</h2> 
<h3><a id="_25"></a>一、版本回退</h3> 
<ul><li>回退 <code>git add</code></li></ul> 
<pre><code class="prism language-shell"><span class="token comment"># git restore 在 2.23.0 中引入（与 git switch 一起）专为 unstage</span>
<span class="token function">git</span> restore <span class="token parameter variable">--staged</span> <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
<span class="token comment"># 旧版</span>
<span class="token function">git</span> reset <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
<span class="token comment"># To unstage a specific file</span>
<span class="token function">git</span> reset HEAD <span class="token operator">&lt;</span>file<span class="token operator">&gt;</span>
<span class="token comment"># To unstage all files from the current change set:</span>
<span class="token function">git</span> reset
</code></pre> 
<ul><li>回退 <code>git commit</code></li></ul> 
<pre><code class="prism language-shell"><span class="token comment"># 1. 实验：本地回退版本，硬回退(适合自己一个人玩，回退私人仓库的)</span>
$ <span class="token function">git</span> reset <span class="token parameter variable">--hard</span> origin/master	<span class="token comment">#本地分支和远程分支保持一致</span>
$ <span class="token function">git</span> reset <span class="token parameter variable">--hard</span> Oldid			<span class="token comment">#回退旧版本</span>
$ <span class="token function">git</span> push <span class="token parameter variable">-f</span>						<span class="token comment">#优点：版本线会比较干净 (但如果别人已经拉到本地, 别人再次拉取更新将会造成冲突)</span>
<span class="token comment"># git 2.30 更新了2个参数</span>
$ <span class="token function">git</span> push --force-with-lease --force-if-includes
<span class="token comment">## 第一个很好理解, 如果最新的更新没有他人就推送成功</span>
<span class="token comment">## 第二个其实应该叫 --force-if-local-head-matches-remote-head </span>

<span class="token comment"># 2. 真正的远程回退：revert，意思是撤销某次提交。它会产生一个新的提交，虽然代码回退了，但是版本依然是向前的,所以，当你用revert回退之后，所有人pull之后，他们的代码也自动的回退了。</span>
$ <span class="token function">git</span> revert HEAD~1 	<span class="token comment">#从0开始, 这是回退上上次</span>
HEAD^1<span class="token operator">==</span>HEAD~1  HEAD^^<span class="token operator">==</span>HEAD~2<span class="token operator">!=</span>HEAD^2

<span class="token comment"># 3.错的太远了直接将代码全部删掉，用正确代码替代</span>
</code></pre> 
<ul><li>使用 <code>git checkout &lt;file&gt;</code> 回退 
  <ul><li>前面加 <code>--</code> 是文件, 后面加 <code>--</code> 是分支</li><li><code>git checkout</code> 不能重置已经 <code>git add</code> 过的文件</li></ul> </li></ul> 
<blockquote> 
 <p>在 <code>git</code> 中，双破折号 <code>--</code> 用于区分命令选项和参数。它的作用是明确告诉 <code>git</code>，其后的内容应该被视为参数，而不是选项</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">git</span> checkout file_path
<span class="token comment"># or 如果分支名和文件夹名相同, 则需要在前面添加 -- 来指定是文件</span>
<span class="token function">git</span> checkout -- file_path

<span class="token comment"># ps: 在后面添加 -- 是指定分支</span>
<span class="token function">git</span> checkout develop --
</code></pre> 
<h3><a id="_74"></a>二、分支管理</h3> 
<pre><code class="prism language-shell"><span class="token comment"># 0 如果有分支和文件夹名称重复, 可在后面加 "--" 来特定为分支</span>
$ <span class="token function">git</span> checkout develop --
<span class="token comment"># 1. 新分支同步到远程分支</span>
$ <span class="token function">git</span> push <span class="token punctuation">[</span>-u<span class="token punctuation">]</span> origin local-branch:remote-branch
or
<span class="token comment">## Failure to perform the –set-upstream step will causes pushes of the new branch to the remote repo to fail with the following error:</span>
<span class="token comment">## fatal: The current branch has no upstream branch</span>
$ <span class="token function">git</span> push –set-upstream origin new-branch
$ <span class="token function">git</span> push <span class="token parameter variable">-u</span> origin new-branch

<span class="token comment"># 2. 本地拉取远程分支(默认只有主分支会拉) -t, --track[=(direct|inherit)] When creating a new branch, set up "upstream" configuration</span>
$ <span class="token function">git</span> checkout <span class="token parameter variable">-t</span> origin/branchName

<span class="token comment"># 3. 删除远程分支</span>
$ <span class="token function">git</span> push origin :dev					<span class="token comment">#推送一个空分支(:前面为空)到远程分支，其实就相当于删除远程分支</span>
or 
$ <span class="token function">git</span> push origin <span class="token parameter variable">--delete</span> <span class="token operator">&lt;</span>remote-branchname<span class="token operator">&gt;</span>	<span class="token comment">#git push origin -d 另外,-dr(-d加-r)只删除git branch -r列表中的{追踪分支}，并不删除远程分支。</span>

<span class="token comment"># 4. 新建空白分支</span>
$ <span class="token function">git</span> checkout <span class="token parameter variable">--orphan</span> null_branch		<span class="token comment"># 必须初始化提交，再push：git commit -am "Init commit."</span>
$ <span class="token function">git</span> <span class="token function">rm</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">--cached</span> <span class="token builtin class-name">.</span>
$ <span class="token function">git</span> commit <span class="token parameter variable">-am</span> <span class="token string">"init commit"</span>			<span class="token comment"># 必须提交初始化commit，再push到远程仓库</span>
</code></pre> 
<h5><a id="_Git_httptcsdncnl1iRB_100"></a><a href="http://t.csdn.cn/l1iRB" rel="nofollow">如何转移 Git 仓库</a></h5> 
<h3><a id="_102"></a>三、跟踪(远程与本地相关联)</h3> 
<pre><code class="prism language-shell"><span class="token comment"># 1. 建立连接(曾经是set-upstream后面改为set-uptream-to)</span>
$ <span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span>origin/dev   
$ <span class="token function">git</span> branch <span class="token parameter variable">-u</span> origin/dev

<span class="token comment"># 2. 取消对master的跟踪</span>
$ <span class="token function">git</span> branch --unset-upstream master

<span class="token comment"># 3. 查看当前分支的upstream(跟踪情况)</span>
$ <span class="token function">git</span> branch <span class="token parameter variable">-vv</span>
</code></pre> 
<h3><a id="tag_115"></a>四、打tag标签</h3> 
<p>tag 标签是指向commit的死指针，分支是指向commit的活指针。<br> tag 在不同分支能看到，是因为该提交记录在不同分支都有，tag与commit绑定。（stash也能在不同分支看到，但这是因为stash与暂存区有关，不同分支都共用的一个暂存区）</p> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> tag v0.1  <span class="token comment"># "v0.1"就是tag名</span>
<span class="token comment"># 当没有指定哪一条提交记录是默认为HEAD，也就是当前最近的一条提交记录。</span>
$ <span class="token function">git</span> tag v0.1 f52c633  <span class="token comment"># 指定提交记录打tag</span>
$ <span class="token function">git</span> tag  <span class="token comment"># 查看所有tag标签</span>
$ <span class="token function">git</span> tag <span class="token parameter variable">-a</span> v0.1 <span class="token parameter variable">-m</span> <span class="token string">"描述信息"</span>
$ <span class="token function">git</span> show v0.1 <span class="token comment"># 查看标签的说明文字</span>
$ <span class="token function">git</span> tag <span class="token parameter variable">-d</span> v0.1 <span class="token comment"># 删除</span>
<span class="token comment"># tag 只存在本地，不会自动推送到远程。</span>
$ <span class="token function">git</span> push origin v1.0 <span class="token comment"># 推送一条</span>
$ <span class="token function">git</span> push origin <span class="token parameter variable">--tags</span> <span class="token comment"># 推送所有tag</span>
<span class="token comment"># 删除远程tag</span>
$ <span class="token function">git</span> tag <span class="token parameter variable">-d</span> v0.1 <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> push origin :refs/tags/v0.1
<span class="token comment"># 查看效果</span>
$ <span class="token function">git</span> ls-remote <span class="token parameter variable">--tags</span> origin
</code></pre> 
<h3><a id="Git_Rebase_135"></a>五、Git Rebase</h3> 
<p>把dev分支接到master的后面</p> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> rebase <span class="token operator">&lt;</span>new base<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>branch name<span class="token operator">&gt;</span>

<span class="token punctuation">[</span>master分支<span class="token punctuation">]</span>$ <span class="token function">git</span> checkout dev
<span class="token punctuation">[</span>  dev 分支<span class="token punctuation">]</span>$ <span class="token function">git</span> rebase master <span class="token punctuation">[</span>dev<span class="token punctuation">]</span>    <span class="token comment"># master 合到 dev, 以 master 为基准</span>

master在前, dev在后   <span class="token operator">&lt;</span> 新基准 <span class="token operator">&gt;</span>   <span class="token operator">&lt;</span> 分支名 <span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="git_rebase_i1_146"></a>六、<a href="https://www.jianshu.com/p/4a8f4af4e803" rel="nofollow">git rebase -i</a></h3> 
<ul><li>语法: <code>git rebase -i [startpoint] [endpoint]</code></li></ul> 
<blockquote> 
 <p>其中 -i 的意思是 --interactive ( 交互式的进行, 即vi式 ), 不写 endpoint 默认为 HEAD , 并且该区间为 (start,end] 前开后闭区间.</p> 
 <p>startpoint endpoint 不允许设为初次提交 (最好不要在 初次提交 中提交代码, 本应该提交的是 README.md 之类)</p> 
</blockquote> 
<pre><code class="prism language-bash">p pick：保留该 commit（缩写 p）
r reword：保留该 commit，但我需要修改该commit的注释（缩写 r）
e edit：保留该commit, 但我要停下来修改该提交<span class="token punctuation">(</span>不仅仅修改注释<span class="token punctuation">)</span>（缩写 e）
s squash：将该commit和前一个commit合并（squash 压碎, 缩写 s）
f fixup：将该commit和前一个commit合并，但我不要保留该提交的注释信息（缩写 f）
x exec：执行shell命令（缩写 x）
d drop：我要丢弃该commit（缩写 d）
</code></pre> 
<p>p 原样、r 改msg、e 修改提交、s 压缩并编辑、f 直接与上一个压缩、d 丢弃</p> 
<ul><li>示例</li></ul> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> rebase <span class="token parameter variable">-i</span> 36224db <span class="token punctuation">(</span>ps:不包含36224db这条记录, 如需要包含则写36224db^<span class="token punctuation">)</span>  
或
$ <span class="token function">git</span> rebase <span class="token parameter variable">-i</span> HEAD~3 
</code></pre> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> rebase <span class="token parameter variable">-i</span> master	<span class="token comment">#表示基于master合并多次提交，并改变自己的历史提交记录，以保持远程仓库的历史为一条直线，不会有merge一行</span>
会进入两个选项：pick、s代表跳过
还会有commit信息重新编辑
</code></pre> 
<ul><li><a href="https://www.cnblogs.com/techflow/p/14200154.html" rel="nofollow">修改之前提交的信息</a></li></ul> 
<pre><code class="prism language-shell"><span class="token function">git</span> rebase <span class="token parameter variable">-i</span> HEAD~3
<span class="token comment"># pick 修改为 edit 或 e</span>
<span class="token comment"># 修改之前提交的信息</span>
<span class="token function">git</span> <span class="token function">add</span>
<span class="token function">git</span> commit <span class="token parameter variable">--amend</span>
<span class="token function">git</span> rebase <span class="token parameter variable">--continue</span>
<span class="token comment"># (END)</span>
<span class="token comment"># 还有其他命令 git rebase --abort 中止</span>
<span class="token comment"># continue 之后导致空补丁显示已经应用, 根据提示信息进行跳过 git rebase --skip</span>
<span class="token function">git</span> show 50f6a1ab <span class="token comment"># 查看 50f6a1ab 这个 commit记录</span>
</code></pre> 
<ul><li>拆分提交 (i.e., 不使用 --amend)</li></ul> 
<pre><code class="prism language-shell"><span class="token function">git</span> reset HEAD^
<span class="token function">git</span> <span class="token function">add</span> main/*
<span class="token function">git</span> ci <span class="token parameter variable">-m</span> <span class="token string">'fix:step 1 XXX'</span>
<span class="token function">git</span> <span class="token function">add</span> test/*
<span class="token function">git</span> ci <span class="token parameter variable">-m</span> <span class="token string">'fix:step 2 XXX'</span>
<span class="token function">git</span> rebase <span class="token parameter variable">--continue</span>
</code></pre> 
<ul><li>更改提交顺序 (其余步骤省略)</li></ul> 
<pre><code class="prism language-shell">pick A change A
pick B change B
pick C change C
<span class="token comment"># 修改弹出的交互文件</span>
pick B change B
pick A change A
pick C change C
</code></pre> 
<h4><a id="Git_Rebase__onto__216"></a>七、Git Rebase &lt;新内容分支&gt; --onto &lt;旧分支&gt;</h4> 
<ul><li>复制某个区间的提交记录到另一个分支</li></ul> 
<pre><code class="prism language-shell">~第一步: 
$ <span class="token function">git</span> rebase 90bc0045b^ 5de0da9f2 <span class="token parameter variable">--onto</span> master 
onto意思为: <span class="token function">git</span> rebase <span class="token operator">&lt;</span>after this commit<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>to this commit<span class="token operator">&gt;</span> <span class="token parameter variable">--onto</span> <span class="token operator">&lt;</span>new base<span class="token operator">&gt;</span> 
~此时master的HEAD处于游离状态<span class="token punctuation">(</span>detached HEAD<span class="token punctuation">)</span>, git只是将区间部分的提交内容复制一份粘贴到了master所指向的提交后面, 我们需要将master所指向的HEAD设置为当前指向的提交id.
$ <span class="token function">git</span> checkout master
$ <span class="token function">git</span> reset <span class="token parameter variable">--hard</span>  0c72e64 <span class="token punctuation">(</span>左边为, checkout master显示的id<span class="token punctuation">)</span>
</code></pre> 
<ul><li>如果是单独挑选几个游离的提交进行复制, 可以使用 <code>git cherry-pick</code></li></ul> 
<pre><code class="prism language-shell">$ <span class="token function">git</span> checkout dev
$ <span class="token function">git</span> cherry-pick 60cd8ab 1988bca d83549a
意思是: 复制上面三个提交记录到dev分支<span class="token punctuation">(</span>这个三个提交是其他分支的<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_234"></a>八、密钥生成</h3> 
<ul><li>生成密钥，用于连接远程仓库无需使用密码，原理见我的另一篇<a href="https://blog.csdn.net/howeres/article/details/112387222">博客</a>；</li></ul> 
<pre><code class="prism language-shell">$ ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">"your_email@example.com"</span>
-- <span class="token parameter variable">-t</span> 代表 <span class="token builtin class-name">type</span> 指定要创建的密钥类型。可以使用：<span class="token string">"rsa1"</span><span class="token punctuation">(</span>SSH-1<span class="token punctuation">)</span> <span class="token string">"rsa"</span><span class="token punctuation">(</span>SSH-2<span class="token punctuation">)</span> <span class="token string">"dsa"</span><span class="token punctuation">(</span>SSH-2<span class="token punctuation">)</span>
-- <span class="token parameter variable">-C</span> comment，提供一个新注释；
-- <span class="token parameter variable">-c</span> 要求修改私钥和公钥文件中的注释；只支持 RSA1 密钥；程序将提示输入私钥文件名、密语<span class="token punctuation">(</span>如果存在<span class="token punctuation">)</span>、新注释。

$ ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-b</span> <span class="token number">4096</span> <span class="token parameter variable">-C</span> <span class="token string">"your_email@example.com"</span>
-- <span class="token parameter variable">-b</span> bits 指定密钥长度。对于RSA密钥，最小要求768位，默认是2048位。DSA密钥必须恰好是1024位<span class="token punctuation">(</span>FIPS <span class="token number">186</span>-2 标准的要求<span class="token punctuation">)</span>。
</code></pre> 
<ul><li>上面的密钥对生成在~/.ssh/目录下，我们可以生成在当前文件夹下另作它用。</li></ul> 
<pre><code class="prism language-bash">$ ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">"注释"</span> <span class="token parameter variable">-f</span> <span class="token string">"文件名"</span>
</code></pre> 
<h3><a id="ssh_251"></a>九、".ssh文件夹"迁移</h3> 
<ul><li>以下是迁移文件夹到Linux系统电脑上, 达到复制密钥的目的. (当然, 你可以重新生成密钥并添加GitHub)</li></ul> 
<pre><code class="prism language-shell">$ <span class="token function">chmod</span> <span class="token number">755</span> ~/.ssh/  
$ <span class="token function">chmod</span> <span class="token number">600</span> ~/.ssh/id_rsa ~/.ssh/id_rsa*  
$ <span class="token function">chmod</span> <span class="token number">644</span> ~/.ssh/known_hosts 
<span class="token comment">#在~/.ssh/目录下</span>
$ <span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>ssh-agent <span class="token parameter variable">-s</span><span class="token variable">)</span></span>"</span>    <span class="token comment"># eval (start the ssh-agent in the background) ssh-agent -s (Agent pid 59566 添加生成的 SSH key 到 ssh-agent)</span>
--ssh-agent是一种控制用来保存公钥身份验证所使用的私钥的程序
--其实ssh-agent就是一个密钥管理器，运行ssh-agent以后，使用ssh-add将私钥交给ssh-agent保管，其他程序需要身份验证的时候可以将验证申请交给ssh-agent来完成整个认证过程。

$ ssh-add    <span class="token comment">#默认不写是加id_rsa</span>
$ ssh-add id_rsa_github

$ <span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com  <span class="token comment">#测试连接</span>
<span class="token comment">##</span>
</code></pre> 
<h3><a id="_269"></a>十、暂存与版本回退</h3> 
<pre><code class="prism language-shell">--闪存
$ <span class="token function">git</span> stash
$ <span class="token function">git</span> stash list		   <span class="token comment">#看有哪些闪存</span>
$ <span class="token function">git</span> stash show stash@<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment">#看该闪存有哪些更改</span>
--闪回
$ <span class="token function">git</span> stash pop
$ <span class="token function">git</span> status
$ <span class="token function">git</span> stash pop <span class="token parameter variable">--index</span>
--如果原来的文件修改已经添加到暂存区的，但用git stash pop 恢复进度后，修改却还在工作区，暂存区的修改被撤销了。这里运行git stash pop命令时带上一个 <span class="token parameter variable">--index</span> 的选项来告诉git重新应用被暂存的变更。

--撤销未保存的修改的
$ <span class="token function">git</span> checkout -- filename

--撤销add的
$ <span class="token function">git</span> reset HEAD a.txt
$ <span class="token function">git</span> log <span class="token parameter variable">--oneline</span>

--撤销本地commit
$ <span class="token function">git</span> reset <span class="token parameter variable">--soft</span> HEAD~1
--选项–soft 的作用就是把最新那次提交的所有改动撤回到暂存区。

--不再跟踪某个文件
$ <span class="token function">git</span> <span class="token function">rm</span> <span class="token parameter variable">--cached</span> a.txt  <span class="token comment"># -r 删除文件夹 目录可为.</span>
$ <span class="token function">git</span> restore <span class="token parameter variable">--staged</span> a.txt <span class="token comment"># 两句效果一样，任选一句喜欢的</span>
</code></pre> 
<h3><a id="assumeunchanged__yaml__296"></a>十一、<code>assume-unchanged</code> 忽略 yaml 配置文件的修改</h3> 
<ul><li>通常我们修改部分配置文件,只为了让项目在本地运行起来</li><li>我们不想提交修改, 然后又不想让他们占着位置changelist的位置</li></ul> 
<pre><code class="prism language-bash"><span class="token comment"># 忽略</span>
$ <span class="token function">git</span> update-index --assume-unchanged src/main/resources/test.txt
<span class="token comment"># 取消忽略</span>
$ <span class="token function">git</span> update-index --no-assume-unchanged src/main/resources/test.txt
<span class="token comment"># 查找忽略的文件(找到众多目录中, 以h开头标记的目录)</span>
$ <span class="token function">git</span> ls-files <span class="token parameter variable">-v</span> <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'^h'</span>
</code></pre> 
<h3><a id="_gitignore_308"></a>十二、全局忽略 .gitignore</h3> 
<ul><li>git 的全局配置文件在当前用户目录的 <code>.gitconfig</code> 文件下</li><li>将自定义的全局 <code>.gitignore</code> 文件的绝对地址到配置 config 文件里</li><li>推荐在当前用户目录下新建 <code>.gitignore</code> 文件，写入</li></ul> 
<pre><code class="prism language-shell">target/
out/
dist/
*.iml
.idea/
.svn/
.vscode/
.DS_Store
.AppleDouble
</code></pre> 
<ul><li>然后在命令行输入 git config 命令 core.excludesfile</li></ul> 
<pre><code class="prism language-shell"><span class="token comment">## win 下使用 cmd 方式</span>
$ <span class="token function">git</span> config <span class="token parameter variable">--global</span> core.excludesfile %USERPROFILE%<span class="token punctuation">\</span>.gitignore
<span class="token comment">## linux / macOS</span>
$ <span class="token function">git</span> config <span class="token parameter variable">--global</span> core.excludesfile ~/.gitignore
</code></pre> 
<ul><li>全局忽略配置会立即生效</li></ul> 
<p>or <code>vim ~/.gitconfig</code></p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>core<span class="token punctuation">]</span>
    autocrlf <span class="token operator">=</span> input
    excludesfile <span class="token operator">=</span> ~/.gitignoreh
<span class="token punctuation">[</span>init<span class="token punctuation">]</span>
    defaultBranch <span class="token operator">=</span> master
<span class="token punctuation">[</span>alias<span class="token punctuation">]</span>
    st <span class="token operator">=</span> status
    ci <span class="token operator">=</span> commit <span class="token parameter variable">-m</span>
    cl <span class="token operator">=</span> clone
    co <span class="token operator">=</span> checkout
    mwps <span class="token operator">=</span> push <span class="token parameter variable">-o</span> merge_request.create <span class="token parameter variable">-o</span> <span class="token assign-left variable">merge_request.target</span><span class="token operator">=</span>develop <span class="token parameter variable">-o</span> merge_request.remove_source_branch <span class="token parameter variable">-o</span> merge_request.merge_when_pipeline_succeeds
    <span class="token comment">## skip-worktree assumes that the user intends to change the file.</span>
    <span class="token comment"># ignore = !git update-index --skip-worktree</span>
    <span class="token comment"># unignore = !git update-index --no-skip-worktree</span>
    <span class="token comment"># --查找忽略的文件(找到众多目录中, 以h开头标记的目录)</span>
    <span class="token comment"># lsi = !git ls-files -v |grep '^h'</span>
    
    <span class="token comment">## assume-unchanged assumes that the user will not change the file.</span>
    ignore <span class="token operator">=</span> <span class="token operator">!</span>git update-index --assume-unchanged
    unignore <span class="token operator">=</span> <span class="token operator">!</span>git update-index --no-assume-unchanged
    lsi <span class="token operator">=</span> <span class="token operator">!</span>git ls-files <span class="token parameter variable">-v</span> <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'^S'</span>
</code></pre> 
<h3><a id="assumeunchanged_and_skipworktree_whats_the_difference_359"></a>十三、<code>--assume-unchanged</code> and <code>--skip-worktree</code> what’s the difference.</h3> 
<ol><li>git update-index --assume-unchanged</li><li>git update-index --skip-worktree</li><li>git ls-files -v</li></ol> 
<p>whereas skip-worktree assumes that the user intends to change the file, assume-unchanged assumes that the user will not change the file. The intention is different.</p> 
<h4><a id="assumeunchanged__h_367"></a><code>--assume-unchanged</code> 简介 (<code>'^h'</code>)</h4> 
<p>The –assume-unchanged option tells Git to temporarily assume that a tracked file has not been modified in the working tree. Therefore, changes made won’t be reflected in the staging area.<br> –asassume -unchanged 选项告诉 Git 暂时假定在工作树中未修改跟踪的文件。因此，所做的更改不会反映在暂存区域中.</p> 
<p>the <code>h</code> tag indicates that <code>assume-unchanged.txt</code> is marked with the assumed-unchanged option.<br> 在这里，<code>h</code> 标签表示用 assumed-unchanged option.</p> 
<p>Although mainly used for that purpose, the assume-unchanged option was never meant to ignore changes to tracked files. It’s designed for cases where it’s expensive to check whether a group of files have been modified. What happens if we want to optimize resource usage on slow filesystems: git omits any checking against the target file and won’t compare its versions in the working directory and in the index.<br> 虽然主要用于此目的，但假设不变选项从未打算忽略对跟踪文件的更改。它专为检查一组文件是否已被修改的成本很高的情况而设计。如果我们想优化慢速文件系统上的资源使用会发生什么：git 省略了对目标文件的任何检查，并且不会在工作目录和索引中比较其版本。</p> 
<h4><a id="skipworktree__S_378"></a><code>--skip-worktree</code> 简介 (<code>'^S'</code>)</h4> 
<p>The –skip-worktree option ignores uncommitted changes in a file that is already tracked. Regardless of any modification made in the working tree, git will always use the file content and attributes from the staging area. This is useful when we want to add local changes to a file without pushing them to the upstream:<br> –skip-worktree 选项忽略已跟踪的文件中未提交的更改。无论在工作树中进行任何修改，git 都将始终使用暂存区域中的文件内容和属性。当我们想要将本地更改添加到文件而不将它们推送到上游时，这很有用：</p> 
<p>This option is automatically unset when the file changes in the index i.e., if the file’s been changed upstream and we pull it.<br> 当索引中的文件更改时，此选项会自动取消设置，即文件已在上游更改并且被我们拉取时自动取消.</p> 
<p>the <code>S</code> indicates that skip-worktree.txt is marked with the skip-worktree option<br> 当使用命令3时, <code>S</code> 代表 skip-worktree option</p> 
<h4><a id="_388"></a>区别</h4> 
<ol><li>两者非常相似, 同时使用时, 优先使用 skip<br> <code>--skip-worktree takes precedence over --assume-unchanged bit when both are set.</code></li><li>skip 签出分支没有问题<br> <code>There's no issue when checking out a branch when a file has the --skip-worktree option on. But, --assume-unchanged will raise an error</code></li><li>assume 性能更好, 但 skip 更加方便.</li><li>assume 一般用于大文件.</li></ol> 
<h3><a id="Git_message__396"></a>十四、Git message 编写</h3> 
<p>feat:更新了若干功能<br> fix:修复了一些已知问题<br> build:一些影响构建系统的更新<br> chore:家务活<br> ci:更改了ci配置<br> docs:对文档做出了一些修改<br> test:新增或修改测试文件<br> refactor:重构了代码<br> perf:性能提升<br> revert:撤销更改</p> 
<pre><code class="prism language-shell">feat<span class="token punctuation">(</span>npm<span class="token punctuation">)</span>:描述

正文

脚注
</code></pre> 
<p>@see https://github.com/pvdlg/conventional-changelog-metahub#commit-types</p> 
<h3><a id="Git__ohmyzsh__418"></a>十五、Git + oh-my-zsh 缩写</h3> 
<pre><code class="prism language-shell">-<span class="token operator">=</span><span class="token string">'cd -'</span>
<span class="token assign-left variable">g</span><span class="token operator">=</span>git
<span class="token assign-left variable">ga</span><span class="token operator">=</span><span class="token string">'git add'</span>
<span class="token assign-left variable">gaa</span><span class="token operator">=</span><span class="token string">'git add --all'</span>
<span class="token assign-left variable">gam</span><span class="token operator">=</span><span class="token string">'git am'</span>
<span class="token assign-left variable">gama</span><span class="token operator">=</span><span class="token string">'git am --abort'</span>
<span class="token assign-left variable">gamc</span><span class="token operator">=</span><span class="token string">'git am --continue'</span>
<span class="token assign-left variable">gams</span><span class="token operator">=</span><span class="token string">'git am --skip'</span>
<span class="token assign-left variable">gamscp</span><span class="token operator">=</span><span class="token string">'git am --show-current-patch'</span>
<span class="token assign-left variable">gap</span><span class="token operator">=</span><span class="token string">'git apply'</span>
<span class="token assign-left variable">gapa</span><span class="token operator">=</span><span class="token string">'git add --patch'</span>
<span class="token assign-left variable">gapt</span><span class="token operator">=</span><span class="token string">'git apply --3way'</span>
<span class="token assign-left variable">gau</span><span class="token operator">=</span><span class="token string">'git add --update'</span>
<span class="token assign-left variable">gav</span><span class="token operator">=</span><span class="token string">'git add --verbose'</span>
<span class="token assign-left variable">gb</span><span class="token operator">=</span><span class="token string">'git branch'</span>
<span class="token assign-left variable">gbD</span><span class="token operator">=</span><span class="token string">'git branch -D'</span>
<span class="token assign-left variable">gba</span><span class="token operator">=</span><span class="token string">'git branch -a'</span>
<span class="token assign-left variable">gbd</span><span class="token operator">=</span><span class="token string">'git branch -d'</span>
<span class="token assign-left variable">gbda</span><span class="token operator">=</span><span class="token string">'git branch --no-color --merged | command grep -vE "^([+*]|\s*($(git_main_branch)|$(git_develop_branch))\s*$)" | command xargs git branch -d 2&gt;/dev/null'</span>
<span class="token assign-left variable">gbl</span><span class="token operator">=</span><span class="token string">'git blame -b -w'</span>
<span class="token assign-left variable">gbnm</span><span class="token operator">=</span><span class="token string">'git branch --no-merged'</span>
<span class="token assign-left variable">gbr</span><span class="token operator">=</span><span class="token string">'git branch --remote'</span>
<span class="token assign-left variable">gbs</span><span class="token operator">=</span><span class="token string">'git bisect'</span>
<span class="token assign-left variable">gbsb</span><span class="token operator">=</span><span class="token string">'git bisect bad'</span>
<span class="token assign-left variable">gbsg</span><span class="token operator">=</span><span class="token string">'git bisect good'</span>
<span class="token assign-left variable">gbsr</span><span class="token operator">=</span><span class="token string">'git bisect reset'</span>
<span class="token assign-left variable">gbss</span><span class="token operator">=</span><span class="token string">'git bisect start'</span>
<span class="token assign-left variable">gc</span><span class="token operator">=</span><span class="token string">'git commit -v'</span>
<span class="token string">'gc!'</span><span class="token operator">=</span><span class="token string">'git commit -v --amend'</span>
<span class="token assign-left variable">gca</span><span class="token operator">=</span><span class="token string">'git commit -v -a'</span>
<span class="token string">'gca!'</span><span class="token operator">=</span><span class="token string">'git commit -v -a --amend'</span>
<span class="token assign-left variable">gcam</span><span class="token operator">=</span><span class="token string">'git commit -a -m'</span>
<span class="token string">'gcan!'</span><span class="token operator">=</span><span class="token string">'git commit -v -a --no-edit --amend'</span>
<span class="token string">'gcans!'</span><span class="token operator">=</span><span class="token string">'git commit -v -a -s --no-edit --amend'</span>
<span class="token assign-left variable">gcas</span><span class="token operator">=</span><span class="token string">'git commit -a -s'</span>
<span class="token assign-left variable">gcasm</span><span class="token operator">=</span><span class="token string">'git commit -a -s -m'</span>
<span class="token assign-left variable">gcb</span><span class="token operator">=</span><span class="token string">'git checkout -b'</span>
<span class="token assign-left variable">gcd</span><span class="token operator">=</span><span class="token string">'git checkout $(git_develop_branch)'</span>
<span class="token assign-left variable">gcf</span><span class="token operator">=</span><span class="token string">'git config --list'</span>
<span class="token assign-left variable">gcl</span><span class="token operator">=</span><span class="token string">'git clone --recurse-submodules'</span>
<span class="token assign-left variable">gclean</span><span class="token operator">=</span><span class="token string">'git clean -id'</span>
<span class="token assign-left variable">gcm</span><span class="token operator">=</span><span class="token string">'git checkout $(git_main_branch)'</span>
<span class="token assign-left variable">gcmsg</span><span class="token operator">=</span><span class="token string">'git commit -m'</span>
<span class="token string">'gcn!'</span><span class="token operator">=</span><span class="token string">'git commit -v --no-edit --amend'</span>
<span class="token assign-left variable">gco</span><span class="token operator">=</span><span class="token string">'git checkout'</span>
<span class="token assign-left variable">gcor</span><span class="token operator">=</span><span class="token string">'git checkout --recurse-submodules'</span>
<span class="token assign-left variable">gcount</span><span class="token operator">=</span><span class="token string">'git shortlog -sn'</span>
<span class="token assign-left variable">gcp</span><span class="token operator">=</span><span class="token string">'git cherry-pick'</span>
<span class="token assign-left variable">gcpa</span><span class="token operator">=</span><span class="token string">'git cherry-pick --abort'</span>
<span class="token assign-left variable">gcpc</span><span class="token operator">=</span><span class="token string">'git cherry-pick --continue'</span>
<span class="token assign-left variable">gcs</span><span class="token operator">=</span><span class="token string">'git commit -S'</span>
<span class="token assign-left variable">gcsm</span><span class="token operator">=</span><span class="token string">'git commit -s -m'</span>
<span class="token assign-left variable">gcss</span><span class="token operator">=</span><span class="token string">'git commit -S -s'</span>
<span class="token assign-left variable">gcssm</span><span class="token operator">=</span><span class="token string">'git commit -S -s -m'</span>
<span class="token assign-left variable">gd</span><span class="token operator">=</span><span class="token string">'git diff'</span>
<span class="token assign-left variable">gdca</span><span class="token operator">=</span><span class="token string">'git diff --cached'</span>
<span class="token assign-left variable">gdct</span><span class="token operator">=</span><span class="token string">'git describe --tags $(git rev-list --tags --max-count=1)'</span>
<span class="token assign-left variable">gdcw</span><span class="token operator">=</span><span class="token string">'git diff --cached --word-diff'</span>
<span class="token assign-left variable">gds</span><span class="token operator">=</span><span class="token string">'git diff --staged'</span>
<span class="token assign-left variable">gdt</span><span class="token operator">=</span><span class="token string">'git diff-tree --no-commit-id --name-only -r'</span>
<span class="token assign-left variable">gdup</span><span class="token operator">=</span><span class="token string">'git diff @{upstream}'</span>
<span class="token assign-left variable">gdw</span><span class="token operator">=</span><span class="token string">'git diff --word-diff'</span>
<span class="token assign-left variable">gf</span><span class="token operator">=</span><span class="token string">'git fetch'</span>
<span class="token assign-left variable">gfa</span><span class="token operator">=</span><span class="token string">'git fetch --all --prune --jobs=10'</span>
<span class="token assign-left variable">gfg</span><span class="token operator">=</span><span class="token string">'git ls-files | grep'</span>
<span class="token assign-left variable">gfo</span><span class="token operator">=</span><span class="token string">'git fetch origin'</span>
<span class="token assign-left variable">gg</span><span class="token operator">=</span><span class="token string">'git gui citool'</span>
<span class="token assign-left variable">gga</span><span class="token operator">=</span><span class="token string">'git gui citool --amend'</span>
<span class="token assign-left variable">ggpull</span><span class="token operator">=</span><span class="token string">'git pull origin "$(git_current_branch)"'</span>
<span class="token assign-left variable">ggpur</span><span class="token operator">=</span>ggu
<span class="token assign-left variable">ggpush</span><span class="token operator">=</span><span class="token string">'git push origin "$(git_current_branch)"'</span>
<span class="token assign-left variable">ggsup</span><span class="token operator">=</span><span class="token string">'git branch --set-upstream-to=origin/$(git_current_branch)'</span>
<span class="token assign-left variable">ghh</span><span class="token operator">=</span><span class="token string">'git help'</span>
<span class="token assign-left variable">gignore</span><span class="token operator">=</span><span class="token string">'git update-index --assume-unchanged'</span>
<span class="token assign-left variable">gignored</span><span class="token operator">=</span><span class="token string">'git ls-files -v | grep "^[[:lower:]]"'</span>
git-svn-dcommit-push<span class="token operator">=</span><span class="token string">'git svn dcommit &amp;&amp; git push github $(git_main_branch):svntrunk'</span>
<span class="token assign-left variable">gk</span><span class="token operator">=</span><span class="token string">'\gitk --all --branches &amp;!'</span>
<span class="token assign-left variable">gke</span><span class="token operator">=</span><span class="token string">'\gitk --all $(git log -g --pretty=%h) &amp;!'</span>
<span class="token assign-left variable">gl</span><span class="token operator">=</span><span class="token string">'git pull'</span>
<span class="token assign-left variable">glg</span><span class="token operator">=</span><span class="token string">'git log --stat'</span>
<span class="token assign-left variable">glgg</span><span class="token operator">=</span><span class="token string">'git log --graph'</span>
<span class="token assign-left variable">glgga</span><span class="token operator">=</span><span class="token string">'git log --graph --decorate --all'</span>
<span class="token assign-left variable">glgm</span><span class="token operator">=</span><span class="token string">'git log --graph --max-count=10'</span>
<span class="token assign-left variable">glgp</span><span class="token operator">=</span><span class="token string">'git log --stat -p'</span>
<span class="token assign-left variable">glo</span><span class="token operator">=</span><span class="token string">'git log --oneline --decorate'</span>
<span class="token assign-left variable">globurl</span><span class="token operator">=</span><span class="token string">'noglob urlglobber '</span>
<span class="token assign-left variable">glod</span><span class="token operator">=</span><span class="token string">'git log --graph --pretty='</span><span class="token punctuation">\</span>'<span class="token string">'%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset'</span><span class="token punctuation">\</span>'
<span class="token assign-left variable">glods</span><span class="token operator">=</span><span class="token string">'git log --graph --pretty='</span><span class="token punctuation">\</span>'<span class="token string">'%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset'</span><span class="token punctuation">\</span>'<span class="token string">' --date=short'</span>
<span class="token assign-left variable">glog</span><span class="token operator">=</span><span class="token string">'git log --oneline --decorate --graph'</span>
<span class="token assign-left variable">gloga</span><span class="token operator">=</span><span class="token string">'git log --oneline --decorate --graph --all'</span>
<span class="token assign-left variable">glol</span><span class="token operator">=</span><span class="token string">'git log --graph --pretty='</span><span class="token punctuation">\</span>'<span class="token string">'%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset'</span><span class="token punctuation">\</span>'
<span class="token assign-left variable">glola</span><span class="token operator">=</span><span class="token string">'git log --graph --pretty='</span><span class="token punctuation">\</span>'<span class="token string">'%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset'</span><span class="token punctuation">\</span>'<span class="token string">' --all'</span>
<span class="token assign-left variable">glols</span><span class="token operator">=</span><span class="token string">'git log --graph --pretty='</span><span class="token punctuation">\</span>'<span class="token string">'%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset'</span><span class="token punctuation">\</span>'<span class="token string">' --stat'</span>
<span class="token assign-left variable">glp</span><span class="token operator">=</span>_git_log_prettily
<span class="token assign-left variable">gluc</span><span class="token operator">=</span><span class="token string">'git pull upstream $(git_current_branch)'</span>
<span class="token assign-left variable">glum</span><span class="token operator">=</span><span class="token string">'git pull upstream $(git_main_branch)'</span>
<span class="token assign-left variable">gm</span><span class="token operator">=</span><span class="token string">'git merge'</span>
<span class="token assign-left variable">gma</span><span class="token operator">=</span><span class="token string">'git merge --abort'</span>
<span class="token assign-left variable">gmom</span><span class="token operator">=</span><span class="token string">'git merge origin/$(git_main_branch)'</span>
<span class="token assign-left variable">gmtl</span><span class="token operator">=</span><span class="token string">'git mergetool --no-prompt'</span>
<span class="token assign-left variable">gmtlvim</span><span class="token operator">=</span><span class="token string">'git mergetool --no-prompt --tool=vimdiff'</span>
<span class="token assign-left variable">gmum</span><span class="token operator">=</span><span class="token string">'git merge upstream/$(git_main_branch)'</span>
<span class="token assign-left variable">gp</span><span class="token operator">=</span><span class="token string">'git push'</span>
<span class="token assign-left variable">gpd</span><span class="token operator">=</span><span class="token string">'git push --dry-run'</span>
<span class="token assign-left variable">gpf</span><span class="token operator">=</span><span class="token string">'git push --force-with-lease'</span>
<span class="token string">'gpf!'</span><span class="token operator">=</span><span class="token string">'git push --force'</span>
<span class="token assign-left variable">gpoat</span><span class="token operator">=</span><span class="token string">'git push origin --all &amp;&amp; git push origin --tags'</span>
<span class="token assign-left variable">gpr</span><span class="token operator">=</span><span class="token string">'git pull --rebase'</span>
<span class="token assign-left variable">gpristine</span><span class="token operator">=</span><span class="token string">'git reset --hard &amp;&amp; git clean -dffx'</span>
<span class="token assign-left variable">gpsup</span><span class="token operator">=</span><span class="token string">'git push --set-upstream origin $(git_current_branch)'</span>
<span class="token assign-left variable">gpu</span><span class="token operator">=</span><span class="token string">'git push upstream'</span>
<span class="token assign-left variable">gpv</span><span class="token operator">=</span><span class="token string">'git push -v'</span>
<span class="token assign-left variable">gr</span><span class="token operator">=</span><span class="token string">'git remote'</span>
<span class="token assign-left variable">gra</span><span class="token operator">=</span><span class="token string">'git remote add'</span>
<span class="token assign-left variable">grb</span><span class="token operator">=</span><span class="token string">'git rebase'</span>
<span class="token assign-left variable">grba</span><span class="token operator">=</span><span class="token string">'git rebase --abort'</span>
<span class="token assign-left variable">grbc</span><span class="token operator">=</span><span class="token string">'git rebase --continue'</span>
<span class="token assign-left variable">grbd</span><span class="token operator">=</span><span class="token string">'git rebase $(git_develop_branch)'</span>
<span class="token assign-left variable">grbi</span><span class="token operator">=</span><span class="token string">'git rebase -i'</span>
<span class="token assign-left variable">grbm</span><span class="token operator">=</span><span class="token string">'git rebase $(git_main_branch)'</span>
<span class="token assign-left variable">grbo</span><span class="token operator">=</span><span class="token string">'git rebase --onto'</span>
<span class="token assign-left variable">grbom</span><span class="token operator">=</span><span class="token string">'git rebase origin/$(git_main_branch)'</span>
<span class="token assign-left variable">grbs</span><span class="token operator">=</span><span class="token string">'git rebase --skip'</span>
<span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">'grep --color=auto --exclude-dir={.bzr,CVS,.git,.hg,.svn,.idea,.tox}'</span>
<span class="token assign-left variable">grev</span><span class="token operator">=</span><span class="token string">'git revert'</span>
<span class="token assign-left variable">grh</span><span class="token operator">=</span><span class="token string">'git reset'</span>
<span class="token assign-left variable">grhh</span><span class="token operator">=</span><span class="token string">'git reset --hard'</span>
<span class="token assign-left variable">grm</span><span class="token operator">=</span><span class="token string">'git rm'</span>
<span class="token assign-left variable">grmc</span><span class="token operator">=</span><span class="token string">'git rm --cached'</span>
<span class="token assign-left variable">grmv</span><span class="token operator">=</span><span class="token string">'git remote rename'</span>
<span class="token assign-left variable">groh</span><span class="token operator">=</span><span class="token string">'git reset origin/$(git_current_branch) --hard'</span>
<span class="token assign-left variable">grrm</span><span class="token operator">=</span><span class="token string">'git remote remove'</span>
<span class="token assign-left variable">grs</span><span class="token operator">=</span><span class="token string">'git restore'</span>
<span class="token assign-left variable">grset</span><span class="token operator">=</span><span class="token string">'git remote set-url'</span>
<span class="token assign-left variable">grss</span><span class="token operator">=</span><span class="token string">'git restore --source'</span>
<span class="token assign-left variable">grst</span><span class="token operator">=</span><span class="token string">'git restore --staged'</span>
<span class="token assign-left variable">grt</span><span class="token operator">=</span><span class="token string">'cd "$(git rev-parse --show-toplevel || echo .)"'</span>
<span class="token assign-left variable">gru</span><span class="token operator">=</span><span class="token string">'git reset --'</span>
<span class="token assign-left variable">grup</span><span class="token operator">=</span><span class="token string">'git remote update'</span>
<span class="token assign-left variable">grv</span><span class="token operator">=</span><span class="token string">'git remote -v'</span>
<span class="token assign-left variable">gsb</span><span class="token operator">=</span><span class="token string">'git status -sb'</span>
<span class="token assign-left variable">gsd</span><span class="token operator">=</span><span class="token string">'git svn dcommit'</span>
<span class="token assign-left variable">gsh</span><span class="token operator">=</span><span class="token string">'git show'</span>
<span class="token assign-left variable">gsi</span><span class="token operator">=</span><span class="token string">'git submodule init'</span>
<span class="token assign-left variable">gsps</span><span class="token operator">=</span><span class="token string">'git show --pretty=short --show-signature'</span>
<span class="token assign-left variable">gsr</span><span class="token operator">=</span><span class="token string">'git svn rebase'</span>
<span class="token assign-left variable">gss</span><span class="token operator">=</span><span class="token string">'git status -s'</span>
<span class="token assign-left variable">gst</span><span class="token operator">=</span><span class="token string">'git status'</span>
<span class="token assign-left variable">gsta</span><span class="token operator">=</span><span class="token string">'git stash push'</span>
<span class="token assign-left variable">gstaa</span><span class="token operator">=</span><span class="token string">'git stash apply'</span>
<span class="token assign-left variable">gstall</span><span class="token operator">=</span><span class="token string">'git stash --all'</span>
<span class="token assign-left variable">gstc</span><span class="token operator">=</span><span class="token string">'git stash clear'</span>
<span class="token assign-left variable">gstd</span><span class="token operator">=</span><span class="token string">'git stash drop'</span>
<span class="token assign-left variable">gstl</span><span class="token operator">=</span><span class="token string">'git stash list'</span>
<span class="token assign-left variable">gstp</span><span class="token operator">=</span><span class="token string">'git stash pop'</span>
<span class="token assign-left variable">gsts</span><span class="token operator">=</span><span class="token string">'git stash show --text'</span>
<span class="token assign-left variable">gstu</span><span class="token operator">=</span><span class="token string">'gsta --include-untracked'</span>
<span class="token assign-left variable">gsu</span><span class="token operator">=</span><span class="token string">'git submodule update'</span>
<span class="token assign-left variable">gsw</span><span class="token operator">=</span><span class="token string">'git switch'</span>
<span class="token assign-left variable">gswc</span><span class="token operator">=</span><span class="token string">'git switch -c'</span>
<span class="token assign-left variable">gswd</span><span class="token operator">=</span><span class="token string">'git switch $(git_develop_branch)'</span>
<span class="token assign-left variable">gswm</span><span class="token operator">=</span><span class="token string">'git switch $(git_main_branch)'</span>
<span class="token assign-left variable">gtl</span><span class="token operator">=</span><span class="token string">'gtl(){ git tag --sort=-v:refname -n -l "${1}*" }; noglob gtl'</span>
<span class="token assign-left variable">gts</span><span class="token operator">=</span><span class="token string">'git tag -s'</span>
<span class="token assign-left variable">gtv</span><span class="token operator">=</span><span class="token string">'git tag | sort -V'</span>
<span class="token assign-left variable">gunignore</span><span class="token operator">=</span><span class="token string">'git update-index --no-assume-unchanged'</span>
<span class="token assign-left variable">gunwip</span><span class="token operator">=</span><span class="token string">'git log -n 1 | grep -q -c "\--wip--" &amp;&amp; git reset HEAD~1'</span>
<span class="token assign-left variable">gup</span><span class="token operator">=</span><span class="token string">'git pull --rebase'</span>
<span class="token assign-left variable">gupa</span><span class="token operator">=</span><span class="token string">'git pull --rebase --autostash'</span>
<span class="token assign-left variable">gupav</span><span class="token operator">=</span><span class="token string">'git pull --rebase --autostash -v'</span>
<span class="token assign-left variable">gupom</span><span class="token operator">=</span><span class="token string">'git pull --rebase origin $(git_main_branch)'</span>
<span class="token assign-left variable">gupomi</span><span class="token operator">=</span><span class="token string">'git pull --rebase=interactive origin $(git_main_branch)'</span>
<span class="token assign-left variable">gupv</span><span class="token operator">=</span><span class="token string">'git pull --rebase -v'</span>
<span class="token assign-left variable">gwch</span><span class="token operator">=</span><span class="token string">'git whatchanged -p --abbrev-commit --pretty=medium'</span>
<span class="token assign-left variable">gwip</span><span class="token operator">=</span><span class="token string">'git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit --no-verify --no-gpg-sign -m "--wip-- [skip ci]"'</span>
<span class="token assign-left variable">gwt</span><span class="token operator">=</span><span class="token string">'git worktree'</span>
<span class="token assign-left variable">gwta</span><span class="token operator">=</span><span class="token string">'git worktree add'</span>
<span class="token assign-left variable">gwtls</span><span class="token operator">=</span><span class="token string">'git worktree list'</span>
<span class="token assign-left variable">gwtmv</span><span class="token operator">=</span><span class="token string">'git worktree move'</span>
<span class="token assign-left variable">gwtrm</span><span class="token operator">=</span><span class="token string">'git worktree remove'</span>

<span class="token assign-left variable">hexo</span><span class="token operator">=</span><span class="token string">'npx hexo'</span>
<span class="token assign-left variable">his</span><span class="token operator">=</span>history
<span class="token assign-left variable">history</span><span class="token operator">=</span>omz_history
<span class="token assign-left variable">l</span><span class="token operator">=</span><span class="token string">'ls -lah'</span>
<span class="token assign-left variable">la</span><span class="token operator">=</span><span class="token string">'ls -lAh'</span>
<span class="token assign-left variable">ll</span><span class="token operator">=</span><span class="token string">'ls -alF'</span>
<span class="token assign-left variable">ls</span><span class="token operator">=</span><span class="token string">'ls -G'</span>
<span class="token assign-left variable">lsa</span><span class="token operator">=</span><span class="token string">'ls -lah'</span>
<span class="token assign-left variable">md</span><span class="token operator">=</span><span class="token string">'mkdir -p'</span>
</code></pre> 
<h3><a id="_613"></a>十六、统计代码行数</h3> 
<pre><code class="prism language-shell"><span class="token function">git</span> log <span class="token parameter variable">-1</span> <span class="token parameter variable">--skip</span> <span class="token number">5</span> <span class="token parameter variable">--pretty</span><span class="token operator">=</span>tformat: <span class="token parameter variable">--numstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{ add += $1; subs += $2; loc += $1 - $2 } END { printf "added lines: %s, removed lines: %s, total lines: %s\n", add, subs, loc }'</span> -
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2ae6206ea99170a2a8c0c37072e1bfe4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Servlet</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9275af68373e94d1787b51ffd6e10a07/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">socks5代理怎么设置切换IP地址？怎么把动态ip改成静态ip？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>