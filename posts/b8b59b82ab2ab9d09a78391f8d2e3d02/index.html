<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue通信、传值的多种方式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue通信、传值的多种方式" />
<meta property="og:description" content="一、通过路由带参数进行传值 1、两个组件 A和B,A组件通过query把orderId传递给B组件（触发事件可以是点击事件、钩子函数等）
this.$router.push({ path: &#39;/conponentsB&#39;, query: { orderId: 123 } }) // 跳转到B 2、在B组件中获取A组件传递过来的参数
this.$route.query.orderId 二、通过设置 Session Storage缓存的形式进行传递 1、两个组件A和B，在A组件中设置缓存orderData
const orderData = { &#39;orderId&#39;: 123, &#39;price&#39;: 88 } sessionStorage.setItem(&#39;缓存名称&#39;, JSON.stringify(orderData)) 2、B组件就可以获取在A中设置的缓存了
const dataB = JSON.parse(sessionStorage.getItem(&#39;缓存名称&#39;)) 此时 dataB 就是数据 orderData
三、父子组件之间的传值 （一）父组件往子组件传值props 1、定义父组件，父组件传递 number这个数值给子组件，如果传递的参数很多，推荐使用json数组{}的形式。
2、定义子组件，子组件通过 props方法获取父组件传递过来的值。props中可以定义能接收的数据类型，如果不符合会报错。
3、假如接收的参数 是动态的，比如 input输入的内容 v-model的形式。
4、父子组件传值，数据是异步请求，有可能数据渲染时报错
（二）子组件往父组件传值，通过emit事件 四、不同组件之间传值，通过eventBus 小项目少页面用eventBus，大项目多页面使用 vuex
1、定义一个新的vue实例专门用于传递数据，并导出
2、定义传递的方法名和传输内容，点击事件或钩子函数触发eventBus.emit事件
3、接收传递过来的数据
五、vuex进行传值 1、 vuex主要是是做数据交互，父子组件传值可以很容易办到，但是兄弟组件间传值（兄弟组件下又有父子组件），或者大型spa单页面框架项目，页面多并且一层嵌套一层的传值，异常麻烦，用vuex来维护共有的状态或数据会显得得心应手
src新建一个vuex文件夹
vuex文件夹里新建一个store.js
安装vuex cnpm install vuex --save
在刚才创建的store.js 中引入vue、vuex 引入vue" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/b8b59b82ab2ab9d09a78391f8d2e3d02/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-05T23:17:56+08:00" />
<meta property="article:modified_time" content="2023-01-05T23:17:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue通信、传值的多种方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">一、通过路由带参数进行传值</span></h3> 
 <p style="">1、两个组件 A和B,A组件通过query把orderId传递给B组件（触发事件可以是点击事件、钩子函数等）</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">this.$router.push({ path: '/conponentsB', query: { orderId: 123 } }) // 跳转到B</code></pre> 
 <p style="">2、在B组件中获取A组件传递过来的参数</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">this.$route.query.orderId</code></pre> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">二、通过设置 Session Storage缓存的形式进行传递</span></h3> 
 <p style="">1、两个组件A和B，在A组件中设置缓存orderData</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">const orderData = { 'orderId': 123, 'price': 88 }
 
sessionStorage.setItem('缓存名称', JSON.stringify(orderData))</code></pre> 
 <p style="">2、B组件就可以获取在A中设置的缓存了</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">const dataB = JSON.parse(sessionStorage.getItem('缓存名称'))</code></pre> 
 <p style="">此时 dataB 就是数据 orderData</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">三、父子组件之间的传值</span></h3> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">（一）父组件往子组件传值props</span></h4> 
 <p style="text-align:left;">1、定义父组件，父组件传递 number这个数值给子组件，如果传递的参数很多，推荐使用json数组{}的形式。</p> 
 <p style="text-align:left;">2、定义子组件，子组件通过 props方法获取父组件传递过来的值。props中可以定义能接收的数据类型，如果不符合会报错。</p> 
 <p style="text-align:left;">3、假如接收的参数 是动态的，比如 input输入的内容 v-model的形式。</p> 
 <p style="text-align:left;">4、父子组件传值，数据是异步请求，有可能数据渲染时报错</p> 
 <h4 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">（二）子组件往父组件传值，通过emit事件</span></h4> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">四、不同组件之间传值，通过eventBus</span></h3> 
 <p style=""><span class="kdocs-color" style="background-color:#FBF5B3;">小项目少页面用eventBus，大项目多页面使用 vuex</span></p> 
 <p style="text-align:left;">1、定义一个新的vue实例专门用于传递数据，并导出</p> 
 <p style="text-align:left;">2、定义传递的方法名和传输内容，点击事件或钩子函数触发eventBus.emit事件</p> 
 <p style="text-align:left;">3、接收传递过来的数据</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">五、vuex进行传值</span></h3> 
 <p style="">1、 vuex主要是是做数据交互，父子组件传值可以很容易办到，但是兄弟组件间传值（兄弟组件下又有父子组件），或者大型spa单页面框架项目，页面多并且一层嵌套一层的传值，异常麻烦，用vuex来维护共有的状态或数据会显得得心应手</p> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p> src新建一个vuex文件夹</p></li></ol> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>vuex文件夹里新建一个store.js</p></li></ol> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>安装vuex cnpm install vuex --save</p></li></ol> 
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p> 在刚才创建的store.js 中引入vue、vuex 引入vue</p></li></ol> 
 <p style="">2、VueX的核心概念</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">state</span></span></p> 
 <p style="">vuex中的数据源，我们需要保存的数据就保存在这</p> 
 <p style="">获取state中数据的方法：</p> 
 <p style="">（一）this.$store.state</p> 
 <p style="">（二）在组件中引入mapState</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">Mutation</span></span></p> 
 <p style="">可以更改state中的数据，好处：有益于监控所有数据的变化；坏处：不能执行异步操作</p> 
 <p style="">组件访问方式1： this.$store.commit('add',传递的参数首先需要定义一个参数)</p> 
 <p style="">组件访问方式2：import {mapMutation} from ...</p> 
 <p style="">在methods里面使用 ...mapMutation(['add','abc','在mutations里面定义的函数名'])</p> 
 <p style="">在methods直接调用this.add</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">Action</span></span></p> 
 <p style="">专门处理异步任务（不能直接修改state中的数据，只能通过context.commit('add')去出发mutation里面的方法）</p> 
 <p style="">组件访问方式1：$this.store.dispatch('addasync','传递的参数')</p> 
 <p style="">组件访问方式2：import {mapAction} from ...</p> 
 <p style="">在methods里面使用 ...mapAction(['addasync','在action里面定义的函数名'])</p> 
 <p style="">在methods直接调用this.addasync</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">Getter</span></span></p> 
 <p style="">用于对store中的数据进行加工处理形成新的数据</p> 
 <p style="">使用方法同上，只不过名字需要改一下</p> 
 <p style=""><span class="kdocs-fontSize" style="font-size:13pt;"><span class="kdocs-bold" style="font-weight:bold;">modules</span></span></p> 
 <p style="">modules，就是模块化的意思，因为是单一状态树，怕我们在state里面写的东西太多了，不好进行查找，那我们可以在我们的modules里面重新定义我们的一个模块，就是相当于一个store，里面也有我们所需要的五个属性，所进行的操作也是一样的</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/95fe9acc45a852df12cfd9bc7c95a46a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA中Ignored pom 问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/32a7f2111bbf15777198f13675240032/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python中字典取值的两种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>