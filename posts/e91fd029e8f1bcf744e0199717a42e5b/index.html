<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据库基础--多表查询 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据库基础--多表查询" />
<meta property="og:description" content="在数据库查询过程中无法避免的需要从两张表中同时查询数据，此时我们需要用到各式各样的多表查询方式。接下来，简单介绍一下数据库基础的多表查询方式，以便于让大家更好的了解多表查询的过程。
多表查询 项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：
一对多（多对一）
多对多
实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键。
一对一
一对一关系，用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率
多表查询 概述：指从多张表中查询数据
笛卡尔积：笛卡尔积是指在数学中，两个集合A和B的所有组合情况。在多表查询是，需要消除无效的笛卡尔积)
多表查询分类： 连接查询
内连接：相当于查询A、B交集部分数据
外连接：
左外连接：查询左表所有数据，以及两张表交集部分数据
右外连接：查询右表所有数据，以及两张表交集部分数据
自连接：当前表与自身的连接查询，自连接必须使用别名
子查询
内连接
内连接查询的是两张表交集的部分
隐式内连接：
select 字段列表 from 表1，表2 where 条件...;
显式内连接：
select 字段列表 from 表1 inner on 表2 on 连接条件...;
外连接
左外连接
相当于查询表1 （左表）的所有数据 包含表1和表2交集部分的数据
select 字段列表 from 表1 left outer o n 表2 on 条件
右外连接
相当于查询表2 （右表）的所有数据 包含表1和表2交集部分的数据
select 字段列表 from 表1 right outer oin 表2 on 条件
可以查询内连接查询不到的数据" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e91fd029e8f1bcf744e0199717a42e5b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-17T20:41:08+08:00" />
<meta property="article:modified_time" content="2023-03-17T20:41:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据库基础--多表查询</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在数据库查询过程中无法避免的需要从两张表中同时查询数据，此时我们需要用到各式各样的多表查询方式。接下来，简单介绍一下数据库基础的多表查询方式，以便于让大家更好的了解多表查询的过程。</p> 
<h2></h2> 
<h3>多表查询</h3> 
<p>项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</p> 
<p>一对多（多对一）</p> 
<p>多对多</p> 
<p>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键。</p> 
<p>一对一</p> 
<p>一对一关系，用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率</p> 
<p></p> 
<h3>多表查询</h3> 
<p>概述：指从多张表中查询数据</p> 
<p>笛卡尔积：笛卡尔积是指在数学中，两个集合A和B的所有组合情况。在多表查询是，需要消除无效的笛卡尔积)</p> 
<p></p> 
<h4>多表查询分类：</h4> 
<p>连接查询</p> 
<p>内连接：相当于查询A、B交集部分数据</p> 
<p>外连接：</p> 
<p>左外连接：查询左表所有数据，以及两张表交集部分数据</p> 
<p>右外连接：查询右表所有数据，以及两张表交集部分数据</p> 
<p>自连接：当前表与自身的连接查询，自连接必须使用别名</p> 
<p>子查询</p> 
<p></p> 
<p><strong>内连接</strong></p> 
<p>内连接查询的是两张表交集的部分</p> 
<p>隐式内连接：</p> 
<p>select 字段列表 from 表1，表2 where 条件...;</p> 
<p>显式内连接：</p> 
<p>select 字段列表 from 表1 inner on 表2 on 连接条件...;</p> 
<p></p> 
<p></p> 
<p><strong>外连接</strong></p> 
<p>左外连接</p> 
<p>相当于查询表1 （左表）的所有数据 包含表1和表2交集部分的数据</p> 
<p>select 字段列表 from 表1 left outer o n 表2 on 条件</p> 
<p>右外连接</p> 
<p>相当于查询表2 （右表）的所有数据 包含表1和表2交集部分的数据</p> 
<p>select 字段列表 from 表1 right outer oin 表2 on 条件</p> 
<p>可以查询内连接查询不到的数据</p> 
<p></p> 
<p><strong>自连接：</strong></p> 
<p>可以是内连接查询，也可以是外连接查询。</p> 
<p>select 字段列表 from 表A 别名A join 表A 别名B on 条件...;</p> 
<p></p> 
<p><strong>联合查询：</strong></p> 
<p>把多次查询的结果合并起来，形成一个新的查询结果集。</p> 
<p>select 字段列表 from 表A...</p> 
<p>union[all]</p> 
<p>select 字段列表 from 表B...;</p> 
<p>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。</p> 
<p>union all 会将全部的数据直接合并在一起，union会对合并之后的数据去重。</p> 
<p></p> 
<p><strong>子查询</strong></p> 
<p>概念：SQL语句中嵌套SELECT语句，称为嵌套查询，又称子查询。</p> 
<p>子查询外部的语句可以是insert/ update/delete/select中的任何一个。</p> 
<p>根据子查询结果不同，分为：</p> 
<p>标量子查询（子查询结果为单个值）</p> 
<p>列子查询（查询结果为一列）</p> 
<p>行子查询（一行）</p> 
<p>表子查询（查询结果为多行多列）</p> 
<p>根据子查询位置，分为：where之后,from之后,select之后</p> 
<p></p> 
<p>子查询返回的结果是单个值（数字，字符串，日期等），最简单的形式，这种子查询称为标量子查询</p> 
<p>常用的操作符： = &lt;&gt; &gt; &gt;= &lt; &lt;=</p> 
<p></p> 
<p></p> 
<p><strong>列子查询</strong></p> 
<p>子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。</p> 
<p>常用的操作符：in,not in ,any , some , all</p> 
<p><img alt="" height="342" src="https://images2.imgbox.com/5a/40/rARVyJIO_o.png" width="1200"></p> 
<p> </p> 
<p><strong>行子查询</strong></p> 
<p>返回的结果值是一行（可以是多列），这种子查询称为行子查询。</p> 
<p>常用的操作符：=、&lt;&gt;、in、not in 、</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/461a2dad7e849347499d2074baffabb6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">计算机网络 互联网模拟实验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/01b8de87a106b7c25b02f4b73ee942d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GitLab 部署忘记root密码修改</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>