<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AD中画四层板遇到的过程即问题（全） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AD中画四层板遇到的过程即问题（全）" />
<meta property="og:description" content="因学校课程设计需要完成一个四层板的设计，文章主要包括我总结易忘记的步骤以及在整个过程中遇到的问题。
首先是原理图的报错问题，我在一个端口报了两个错，分别是duplicate net names wire和***has one pin。我那个端口分布在两个原理图中，当时查了很多，关于has one pin的解决并没有什么网络标号没放上等等这种错误，然后决定另辟蹊径一下，去仔细查了duplicate net names wire这个错误，也是最前面的几条都没有用，最后还是用了最根本的设置方面的问题。
解决方法：1.进入altium designer编辑器，点击project--project options进入。2.进入project options。点击上面的option选项卡。3.将net identifier scope定义的范围修改为global，点击OK按钮即可。问题顺利解决。
上面的问题解决后，那个端口两个错误就都不报了，但是又出现了总原理图的问题，总的绿色原理图上的所有引脚都报错，最后采用了暴力解法，直接把总原理图移除那个工程放到下图这个位置
重新编译后，问题解决。最后还有数据线和地址线的一堆warning,直接决定摆烂，不改进入PCB的绘制。
在PCB的绘制中，首先需要直到怎么修改AD中的单位，因为后面的板边界还有字体什么的不能一直用mil看，很别扭。
这里有个快捷键比较简单，一键换成mm单位：ctrl&#43;Q,我的会弹出一个界面，不用管，我关掉看了眼已经变过来了。
后面画PCB的时候发现再摁一下换不回来，又查了另一种方法，发现这个更方便好用。
之后就是关于PCB布局，在之前的实习中因为时间原因，画两层板比较仓促，这次寒假好好学习了一下，总结如下：
关于新建工程这种比较简单，直接省略。
首先需要确定板子的大小，这个根据需要，自行决定板子的大小，之后在下图两个的其中一个place----&gt;line。
Mechanical 1:机械层1，该层可用于设计PCB的机械外形。
Keep-Out Layer:禁止布线层，可用于设计PCB的机械外形。
在设计板子大小时，自我认为有点笨了，我是先画了一条横线，双击编辑其长度，再竖着画条线，双击编辑长度，拖动把他们连在一起，再画剩下的两面。封闭面画好后就可以进行框的粗细设置，全选四条线设置。（右下角往左上角括，只要碰到就会被选到；左上角往右下角括，必须一个东西全进去才行。）接下来 可以进行这层的锁定，这个我没查到至今还不会觉得不锁定也行，自己小心一点别碰到。
接着，我的建议是画辅助线，这个利于布局，在丝印层Top-Over layer进行辅助线的绘制，我当时是这样绘制的，这样便于放置核心的芯片
关于器件如何旋转90度，我觉得就是双击改角度比较方便，毕竟还是转90度的时候用到的多，把空格转的角度改了后面会不方便。
接下来可以进行层的设置，因为默认是两层，需要增加两层板，首先进入层的设置模块
（快捷键：D&#43;K，打开层叠设置）
在其中右键任意一层，可以在其上方或下方添加层，我是怎增加plane，不加signal,因为中间两层我准备一层做Vcc,一层做GND，如下图
注：signal:信号层，又叫正片层，同Top layer和Bottom layer
plane:负片层，专用于4层板以上的电源或地走线
设置完保存后，可以在PCB下面栏里看见自己新加的两层。在这里，可以用层和视图的设置，个人认为比较好用，快捷键：键盘“L键”；左键单击工作区左下角也可以打开层和视图的设置，如图
之后右键单击对应的层可对当前层进行操作。
之间还要进行PCB的规则设置，这个根据老师的要求来。
接下来就可以进行PCB的绘制。为了方便绘制，可以将AD的界面分成两面。如下图
windows-----&gt;之后可进行水平或垂直分割。
接下来把元件放在板子周围：首先需要将所有元器件选中，之后如下图
之后可以发现元件位于板子周围。
导入后发现芯片有绿色的引脚：
PCB 芯片封装的引脚中心距一般有1.27mm、0.8mm、0.65mm、0.5mm、0.4mm等多种规格。而引脚数从4到368。这就造成芯片的焊盘间距不同，一般默认的焊盘间距为10mil，如果小于10mil，芯片的引脚在PCB中会显示为绿色，视为无法导通。
解决办法：1.点击软件的Design--&gt;Rules 2.再点击ecectrical--&gt;clearcnce 3.在忽略同一封装内的焊盘间距打勾，就可以解决系统默认规则的不能小于10mil间距，再点击应用即可。问题解决。
四层板中对于元器件的布局很有讲究，这里有个快捷键：L（自动切换到底层）
PCB布局时，我建议是按模块布局，在原理图中选中，在PCB按上面说过的矩形布局，可以直接将一个模块的器件全部筛选出来，这里建议将原理图改成只选器件再选中一个模块。
上图为筛选后的状态。
这里推荐一个布局小工具，个人觉得非常好用：
PCB布线之前我建议是预处理一下，不然有的东西比如丝印层会阻挡视线。
右键选中想隐藏的层，这样整个界面就变得干净了。
之后PCB布线时，一般是先连信号线，最后连Vcc和GND,所以我们可以先将电源和地线隐藏。快捷键：N
选中NET之后，随便点一下，输入想隐藏的线，就可以将电源和地的线全部隐藏起来。处理之后就可以进行布线了。这里面有个高亮显示的很好用，如果看不太清的话，可以进行调试。快捷键：ctrl&#43;D
箭头往左拉，越左越亮。（这里面也可以隐藏文字，用处多多，大家自己挖掘）
接着疯狂ctrl&#43;w就可以布线啦。过孔快捷键：ctrl&#43;shift&#43;滚轮
注意一个点：垂直分割窗口时，要在PCB那个界面点一下，tools那个模块才能是全的。
对于四层板的电源和地线，我本人查了很多资料。首先还是将这两层分块。
1.查看平面分割管理器。平面分割管理器记录着内电层的分割数量、网络连接情况。
·首先查看已经存在的分割，右下角pannels打开pcb。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/80426bc33614dc6c8dac139cf14f5e79/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-11T12:17:00+08:00" />
<meta property="article:modified_time" content="2023-02-11T12:17:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AD中画四层板遇到的过程即问题（全）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        因学校课程设计需要完成一个四层板的设计，文章主要包括我总结易忘记的步骤以及在整个过程中遇到的问题。</p> 
<p> </p> 
<p>        首先是原理图的报错问题，我在一个端口报了两个错，分别是<strong>duplicate net names wire</strong>和<strong>***has one pin</strong>。我那个端口分布在两个原理图中，当时查了很多，关于has one pin的解决并没有什么网络标号没放上等等这种错误，然后决定另辟蹊径一下，去仔细查了duplicate net names wire这个错误，也是最前面的几条都没有用，最后还是用了最根本的设置方面的问题。</p> 
<p><strong>解决方法</strong>：1.进入altium designer编辑器，点击project--project options进入。2.进入project options。点击上面的option选项卡。3.将net identifier scope定义的范围修改为global，点击OK按钮即可。问题顺利解决。</p> 
<p>        上面的问题解决后，那个端口两个错误就都不报了，但是又出现了总原理图的问题，总的<strong>绿色原理图上的所有引脚都报错</strong>，最后采用了暴力解法，直接把总原理图移除那个工程放到下图这个位置</p> 
<p class="img-center"><img alt="" height="61" src="https://images2.imgbox.com/df/db/P7w0et8X_o.png" width="221"></p> 
<p></p> 
<p> 重新编译后，问题解决。最后还有数据线和地址线的一堆warning,直接决定摆烂，不改进入PCB的绘制。</p> 
<p>        在PCB的绘制中，首先需要直到怎么修改AD中的单位，因为后面的板边界还有字体什么的不能一直用mil看，很别扭。</p> 
<p>这里有个快捷键比较简单，<strong>一键换成mm单位</strong>：ctrl+Q,我的会弹出一个界面，不用管，我关掉看了眼已经变过来了。</p> 
<p>后面画PCB的时候发现再摁一下换不回来，又查了另一种方法，发现这个更方便好用。</p> 
<p class="img-center"><img alt="" height="568" src="https://images2.imgbox.com/c0/9d/SR4GsCn0_o.png" width="210"></p> 
<p>        之后就是关于PCB布局，在之前的实习中因为时间原因，画两层板比较仓促，这次寒假好好学习了一下，总结如下：</p> 
<p>        关于新建工程这种比较简单，直接省略。</p> 
<p>        首先需要确定板子的大小，这个根据需要，自行决定板子的大小，之后在下图两个的其中一个place----&gt;line。</p> 
<p class="img-center"><img alt="" height="37" src="https://images2.imgbox.com/aa/ad/fCs4ShY0_o.png" width="107"></p> 
<p class="img-center"><img alt="" height="24" src="https://images2.imgbox.com/ca/f0/yVwsMPV5_o.png" width="169"></p> 
<p>Mechanical 1:机械层1，该层可用于设计PCB的机械外形。</p> 
<p>Keep-Out Layer:禁止布线层，可用于设计PCB的机械外形。</p> 
<p>        在设计板子大小时，自我认为有点笨了，我是先画了一条横线，双击编辑其长度，再竖着画条线，双击编辑长度，拖动把他们连在一起，再画剩下的两面。封闭面画好后就可以进行框的粗细设置，全选四条线设置。（右下角往左上角括，只要碰到就会被选到；左上角往右下角括，必须一个东西全进去才行。）接下来 可以进行这层的锁定，这个我没查到至今还不会觉得不锁定也行，自己小心一点别碰到。</p> 
<p>        接着，我的建议是画辅助线，这个利于布局，在丝印层Top-Over layer进行辅助线的绘制，我当时是这样绘制的，这样便于放置核心的芯片</p> 
<p class="img-center"><img alt="" height="344" src="https://images2.imgbox.com/88/8d/jupA7AGi_o.png" width="353"></p> 
<p>关于器件如何旋转90度，我觉得就是双击改角度比较方便，毕竟还是转90度的时候用到的多，把空格转的角度改了后面会不方便。</p> 
<p>        接下来可以进行层的设置，因为默认是两层，需要增加两层板，首先进入层的设置模块</p> 
<p>（快捷键：D+K，打开层叠设置）</p> 
<p class="img-center"><img alt="" height="298" src="https://images2.imgbox.com/51/b3/s5gRqk8q_o.png" width="291"></p> 
<p>在其中右键任意一层，可以在其上方或下方添加层，我是怎增加plane，不加signal,因为中间两层我准备一层做Vcc,一层做GND，如下图</p> 
<p>注：signal:信号层，又叫正片层，同Top layer和Bottom layer</p> 
<p>       plane:负片层，专用于4层板以上的电源或地走线</p> 
<p><img alt="" height="229" src="https://images2.imgbox.com/db/1b/2nICVYDo_o.png" width="1091"></p> 
<p>设置完保存后，可以在PCB下面栏里看见自己新加的两层。在这里，可以用层和视图的设置，个人认为比较好用，快捷键：键盘“L键”；左键单击工作区左下角也可以打开层和视图的设置，如图</p> 
<p class="img-center"><img alt="" height="35" src="https://images2.imgbox.com/a2/50/dpsChnvE_o.png" width="61"></p> 
<p> 之后右键单击对应的层可对当前层进行操作。</p> 
<p>        之间还要进行PCB的规则设置，这个根据老师的要求来。</p> 
<p>        接下来就可以进行PCB的绘制。为了方便绘制，可以<strong>将AD的界面分成两面</strong>。如下图</p> 
<p class="img-center"><img alt="" height="248" src="https://images2.imgbox.com/0d/65/490DCBBw_o.png" width="238"></p> 
<p> windows-----&gt;之后可进行水平或垂直分割。</p> 
<p>        接下来<strong>把元件放在板子周围</strong>：首先需要将所有元器件选中，之后如下图</p> 
<p class="img-center"><img alt="" height="295" src="https://images2.imgbox.com/17/46/a3A4Piib_o.png" width="568"></p> 
<p> 之后可以发现元件位于板子周围。</p> 
<p>        导入后发现<strong>芯片有绿色的引脚</strong>：</p> 
<p>        PCB 芯片封装的引脚中心距一般有1.27mm、0.8mm、0.65mm、0.5mm、0.4mm等多种规格。而引脚数从4到368。这就造成芯片的焊盘间距不同，一般默认的焊盘间距为10mil，如果小于10mil，芯片的引脚在PCB中会显示为绿色，视为无法导通。</p> 
<p><strong>解决办法</strong>：1.点击软件的Design--&gt;Rules 2.再点击ecectrical--&gt;clearcnce 3.在忽略同一封装内的焊盘间距打勾，就可以解决系统默认规则的不能小于10mil间距，再点击应用即可。问题解决。</p> 
<p class="img-center"><img alt="" height="382" src="https://images2.imgbox.com/70/15/JXGgfxlM_o.png" width="499"></p> 
<p> 四层板中对于元器件的布局很有讲究，这里有个快捷键：L（自动切换到底层）</p> 
<p>        PCB布局时，我建议是按模块布局，在原理图中选中，在PCB按上面说过的矩形布局，可以直接将一个模块的器件全部<strong>筛选</strong>出来，这里建议将原理图改成只选器件再选中一个模块。</p> 
<p class="img-center"><img alt="" height="153" src="https://images2.imgbox.com/0a/f7/5caY1NeH_o.png" width="366"></p> 
<p>上图为筛选后的状态。</p> 
<p> 这里推荐一个<strong>布局小工具</strong>，个人觉得非常好用：</p> 
<p class="img-center"><img alt="" height="271" src="https://images2.imgbox.com/c7/65/fuhuhCL9_o.png" width="311"></p> 
<p>         PCB布线之前我建议是预处理一下，不然有的东西比如丝印层会阻挡视线。</p> 
<p class="img-center"><img alt="" height="269" src="https://images2.imgbox.com/4e/d9/rCcA82Vc_o.png" width="249"></p> 
<p> 右键选中想隐藏的层，这样整个界面就变得干净了。</p> 
<p>        之后PCB布线时，一般是先连信号线，最后连Vcc和GND,所以我们可以先将电源和地线隐藏。快捷键：N</p> 
<p class="img-center"><img alt="" height="90" src="https://images2.imgbox.com/f4/a6/WW2RxDtk_o.png" width="293"></p> 
<p>选中NET之后，随便点一下，输入想隐藏的线，就可以将电源和地的线全部隐藏起来。处理之后就可以进行布线了。这里面有个高亮显示的很好用，如果看不太清的话，可以进行调试。快捷键：ctrl+D</p> 
<p class="img-center"><img alt="" height="661" src="https://images2.imgbox.com/db/9a/Nan6ynwX_o.png" width="285"></p> 
<p>箭头往左拉，越左越亮。（这里面也可以隐藏文字，用处多多，大家自己挖掘）</p> 
<p>         接着疯狂ctrl+w就可以布线啦。过孔快捷键：ctrl+shift+滚轮</p> 
<p>注意一个点：垂直分割窗口时，要在PCB那个界面点一下，tools那个模块才能是全的。</p> 
<p>        对于四层板的电源和地线，我本人查了很多资料。首先还是将这两层分块。</p> 
<p>1.查看平面分割管理器。平面分割管理器记录着内电层的分割数量、网络连接情况。</p> 
<p><strong>·</strong>首先查看已经存在的分割，右下角pannels打开pcb。</p> 
<p><strong>·</strong>选择split plane editor,打开平面分割管理器。</p> 
<p><strong>·</strong>因为还没进行分割，所以内电层每层的分割数量只有1，且网络为No net。</p> 
<p>2.接下来开始电源分割的操作。</p> 
<p>首先切换到工作层，快捷键：P+L（屏幕上方的快捷工具栏也能找到它）,放置线条，注意一定要是闭合区域，用于实现单个电源网络的分割。这里的线条宽度我选择了12mil，大家根据个人的规则修改。</p> 
<p>分割之后连线就变得简单起来了，电源和地只需要打孔便可。</p> 
<h3></h3> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2aab533ed9afe39c0dde0c8d1b87de8d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis常见架构及其原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a95b56553bd4d56d5f2492c558106df1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">H264视频码流结构分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>