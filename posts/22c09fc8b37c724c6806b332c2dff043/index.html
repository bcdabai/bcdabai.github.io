<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>联通光猫上海贝尔阿尔卡特 100A-AA 刷 OpenWRT - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="联通光猫上海贝尔阿尔卡特 100A-AA 刷 OpenWRT" />
<meta property="og:description" content="硬件信息 https://openwrt.org/toh/alcatel-sbell/rg100a-aa
https://openwrt.org/toh/hwdata/alcatel-sbell/alcatel-sbell_rg100a-aa
刷入 Openwrt 固件下载地址：
https://archive.openwrt.org/releases/19.07.4/targets/brcm63xx/generic/openwrt-19.07.4-brcm63xx-generic-RG100A-squashfs-cfe.bin
也可以下载以前版本的固件
访问下面的网址，打到 brcm63xx 架构，然后搜索 RA100
https://downloads.openwrt.org/
1、连接设备，有线网卡 IP 地址设置为 DHCP 自动获取，将有线网卡连接到光猫 LAN1口，打开浏览器，访问 http://192.168.1.1
用户名：光猫背面
密码：光猫背面
进入光猫界面后，地址栏输入
http://192.168.1.1/backupsettings.conf
提示出错不用理会，现在下载目录中会有一个 backupsettings.conf 文件。
2、使用 vscode 打开 backupsettings.conf
找到如下区域
&lt;sysUserName value=&#34;cncadmin&#34;/&gt; &lt;sysPassword value=&#34;Y25jYWRtaW4=&#34;/&gt; &lt;ctUserName value=&#34;cncadmin&#34;/&gt; &lt;ctPassword value=&#34;Y25jYWRtaW4=&#34;/&gt; 密码是加过密的了，猜测与用户名相同
3、关闭光猫电源，将网线连接到 LAN4 口，按住 Reset 后通电，所有灯亮，然后电源灯和LAN4亮，过等待，直到只有 LAN4 口灯亮起。
4、使用浏览器访问 http://192.168.1.1，可能需要设置一下网卡的 IP 地址为 192.168.1.2/255.255.255.0，显示 cfe 升级登陆（没错，就是这个字）页面
输入 2 步骤中的用户名和密码
5、选择下载 openwrt 固件，openwrt-19.07.4-brcm63xx-generic-RG100A-squashfs-cfe.bin，点击 升级软件 按钮。
6、等待所有灯亮起，这是重启加电的标志，如果此时 ping 192.168.1.1 -t 没有回包，换个接口，比如 LAN3。直到收到回包，使用浏览器访问 http://192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/22c09fc8b37c724c6806b332c2dff043/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-26T16:35:32+08:00" />
<meta property="article:modified_time" content="2020-12-26T16:35:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">联通光猫上海贝尔阿尔卡特 100A-AA 刷 OpenWRT</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>硬件信息</h3> 
<p>https://openwrt.org/toh/alcatel-sbell/rg100a-aa<br> https://openwrt.org/toh/hwdata/alcatel-sbell/alcatel-sbell_rg100a-aa</p> 
<h3><a id="_Openwrt_4"></a>刷入 Openwrt</h3> 
<p>固件下载地址：<br> https://archive.openwrt.org/releases/19.07.4/targets/brcm63xx/generic/openwrt-19.07.4-brcm63xx-generic-RG100A-squashfs-cfe.bin</p> 
<p>也可以下载以前版本的固件<br> 访问下面的网址，打到 brcm63xx 架构，然后搜索 RA100</p> 
<p>https://downloads.openwrt.org/</p> 
<p>1、连接设备，有线网卡 IP 地址设置为 DHCP 自动获取，将有线网卡连接到光猫 LAN1口，打开浏览器，访问 http://192.168.1.1<br> 用户名：光猫背面<br> 密码：光猫背面<br> 进入光猫界面后，地址栏输入<br> http://192.168.1.1/backupsettings.conf<br> 提示出错不用理会，现在下载目录中会有一个 backupsettings.conf 文件。<br> 2、使用 vscode 打开 backupsettings.conf<br> 找到如下区域</p> 
<pre><code>&lt;sysUserName value="cncadmin"/&gt;
&lt;sysPassword value="Y25jYWRtaW4="/&gt;
&lt;ctUserName value="cncadmin"/&gt;
&lt;ctPassword value="Y25jYWRtaW4="/&gt;
</code></pre> 
<p>密码是加过密的了，猜测与用户名相同<br> 3、关闭光猫电源，将网线连接到 LAN4 口，按住 Reset 后通电，所有灯亮，然后电源灯和LAN4亮，过等待，直到只有 LAN4 口灯亮起。<br> 4、使用浏览器访问 http://192.168.1.1，可能需要设置一下网卡的 IP 地址为 192.168.1.2/255.255.255.0，显示 cfe 升级登陆（没错，就是这个字）页面<br> 输入 2 步骤中的用户名和密码<br> 5、选择下载 openwrt 固件，openwrt-19.07.4-brcm63xx-generic-RG100A-squashfs-cfe.bin，点击 升级软件 按钮。<br> 6、等待所有灯亮起，这是重启加电的标志，如果此时 ping 192.168.1.1 -t 没有回包，换个接口，比如 LAN3。直到收到回包，使用浏览器访问 http://192.168.1.1。用户名 root 密码为空。</p> 
<h3><a id="_33"></a>添加网络打印服务器功能</h3> 
<p>1、使用浏览器访问 http://192.168.1.1。用户名 root 密码为空。<br> Network-Switch<br> 可以看出 LAN 的标号与光猫上标的正好相反<br> 新建 VLAN ID 2<br> 把 VLAN ID 1 里的 LAN4 选择为 off<br> VLAN ID 2 里的 LAN4 设置为 untagged<br> VLAN 1 2 里的 CPU 都要设置为 taged<br> Save &amp; Apply<br> <img src="https://images2.imgbox.com/00/b4/BcWwifIW_o.png" alt="在这里插入图片描述"><br> 2、Network-Interface<br> WAN-Physical Settings-Interface 设置为 eth1.2<br> <img src="https://images2.imgbox.com/e5/34/ucqVAByO_o.png" alt="在这里插入图片描述"></p> 
<p>WAN 6 同上<br> LAN-Physical Settings-Interface eth1.1 radio0.network1<br> <img src="https://images2.imgbox.com/5c/a8/w8P6PgDQ_o.png" alt="在这里插入图片描述"></p> 
<p>将外网的网线插入光猫标记的 LAN1 端口，实际上 Openwrt 认为它是 LAN4，现在已经是 vlan2 了，它被指定为 WAN。</p> 
<p>3、电脑网卡 ip 自动获取<br> 4、安装 p910nd kmod-usb-printer luci-app-p910nd<br> ssh root@192.168.1.1<br> opkg install p910nd<br> opkg install kmod-usb-printer<br> opkg luci-app-p910nd<br> 5、重启<br> reboot<br> 6、Services-p910nd - Printer server<br> enable 选中<br> Save &amp; Apply<br> <img src="https://images2.imgbox.com/dd/84/BAi2Gnmd_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_cups_67"></a>关于 cups</h3> 
<p>据说 cups 可以实现 AirPrint，但是自从 12.09 之后就不再支持 CPUS了。我编译了 github 上的 cups ，在最新版本的 openwrt 上，安装 ipk 时提示架构错误。<br> cups 在 pandorabox 上是有的，不知道 pandorabox 有没有支持这个光猫的固件。<br> pandarabox 下载地址<br> http://downloads.pangubox.com:6380/pandorabox/<br> k2p 上可用的 cups 包<br> http://downloads.pangubox.com:6380/pandorabox/19.02/packages/mipsel_1004kc_dsp/packages/<br> k2p 没有 usb 接口，所以还得自己焊接一个 usb 插座。</p> 
<h3><a id="Openwrt__cups__76"></a>Openwrt + cups 源码编译</h3> 
<p>https://openwrt.org/docs/guide-developer/quickstart-build-images<br> https://github.com/TheMMcOfficial/cups-for-openwrt</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ae7d2c4dad8e714581838ddb3788262/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">idea中配置项目的运行内存大小</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5c96dbcd491b5a0dbb98942bf1c5669/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">留言板：简单的留言功能实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>