<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PyQT5介绍及基本使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PyQT5介绍及基本使用" />
<meta property="og:description" content="文章目录 PyQt51. PyQt5的下载与安装1.1 PyQt5介绍1.2 windows PyQt5的安装 2.PyQt5基本UI2.1 第一个PyQt程序2.2 argv2.3 模块介绍 3.基本UI3.1 按钮QPushButton3.2 文本QLabel3.3 输入框3.4 调整窗口大小3.5 调整窗口显示屏幕中间3.6 设置窗口icon 4.布局4.1 QBoxLayout4.1.1 垂直布局4.1.2 水平布局 4.2 QGridLayout网格布局 4.3 QFormLayout4.4 抽屉布局 5. 窗口5.1 分类5.2 QWidget5.2 QMainWindow5.3 QDialog 6. 信号与槽6.1 信号与槽介绍6.2 案例6.3 自定义信号 7.Qt Designer7.1 介绍7.2 下载7.3 安装&amp;运行7.4 使用QT Designer7.5 使用流程 PyQt5 1. PyQt5的下载与安装 1.1 PyQt5介绍 Qt（官方发音 [kju:t]）是一个跨平台的C&#43;&#43;开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序
Qt 是纯 C&#43;&#43; 开发的，正常情况下需要先学习C语言、然后在学习C&#43;&#43;然后才能使用Qt开发带界面的程序
多亏了开源社区使得Qt 还可以用Python、Ruby、Perl 等脚本语言进行开发。
Qt 支持的操作系统有很多，例如通用操作系统 Windows、Linux、Unix，智能手机系统Android、iOS， 嵌入式系统等等。可以说是跨平台的
QT官网：https://doc.qt.io/qt-5/index.html
PyQt的开发者是英国的“Riverbank Computing”公司。它提供了GPL（简单的说，以GPL协议发布到网上的素材，你可以使用，也可以更改，但是经过你更改然后再次发布的素材必须也遵守GPL协议，主要要求是必须开源，而且不能删减原作者的声明信息等）与商业协议两种授权方式，因此它可以免费地用于自由软件的开发。
PyQt可以运行于Microsoft Windows、Mac OS X、Linux以及Unix的多数变种上。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/49538eb22ec7887ebb9caf31781d6626/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-17T10:47:34+08:00" />
<meta property="article:modified_time" content="2023-06-17T10:47:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PyQT5介绍及基本使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#PyQt5_1" rel="nofollow">PyQt5</a></li><li><ul><li><a href="#1_PyQt5_3" rel="nofollow">1. PyQt5的下载与安装</a></li><li><ul><li><a href="#11_PyQt5_5" rel="nofollow">1.1 PyQt5介绍</a></li><li><a href="#12_windows_PyQt5_49" rel="nofollow">1.2 windows PyQt5的安装</a></li></ul> 
   </li><li><a href="#2PyQt5UI_103" rel="nofollow">2.PyQt5基本UI</a></li><li><ul><li><a href="#21_PyQt_105" rel="nofollow">2.1 第一个PyQt程序</a></li><li><a href="#22_argv_132" rel="nofollow">2.2 argv</a></li><li><a href="#23__142" rel="nofollow">2.3 模块介绍</a></li></ul> 
   </li><li><a href="#3UI_156" rel="nofollow">3.基本UI</a></li><li><ul><li><a href="#31_QPushButton_160" rel="nofollow">3.1 按钮QPushButton</a></li><li><a href="#32_QLabel_191" rel="nofollow">3.2 文本QLabel</a></li><li><a href="#33__263" rel="nofollow">3.3 输入框</a></li><li><a href="#34__300" rel="nofollow">3.4 调整窗口大小</a></li><li><a href="#35__335" rel="nofollow">3.5 调整窗口显示屏幕中间</a></li><li><a href="#36_icon_393" rel="nofollow">3.6 设置窗口icon</a></li></ul> 
   </li><li><a href="#4_421" rel="nofollow">4.布局</a></li><li><ul><li><a href="#41_QBoxLayout_430" rel="nofollow">4.1 QBoxLayout</a></li><li><ul><li><a href="#411__436" rel="nofollow">4.1.1 垂直布局</a></li><li><a href="#412__502" rel="nofollow">4.1.2 水平布局</a></li></ul> 
    </li><li><a href="#42_QGridLayout_587" rel="nofollow">4.2 QGridLayout</a></li><li><ul><li><a href="#_589" rel="nofollow">网格布局</a></li></ul> 
    </li><li><a href="#43_QFormLayout_647" rel="nofollow">4.3 QFormLayout</a></li><li><a href="#44__712" rel="nofollow">4.4 抽屉布局</a></li></ul> 
   </li><li><a href="#5__799" rel="nofollow">5. 窗口</a></li><li><ul><li><a href="#51__801" rel="nofollow">5.1 分类</a></li><li><a href="#52_QWidget_817" rel="nofollow">5.2 QWidget</a></li><li><a href="#52_QMainWindow_852" rel="nofollow">5.2 QMainWindow</a></li><li><a href="#53_QDialog_906" rel="nofollow">5.3 QDialog</a></li></ul> 
   </li><li><a href="#6__941" rel="nofollow">6. 信号与槽</a></li><li><ul><li><a href="#61__943" rel="nofollow">6.1 信号与槽介绍</a></li><li><a href="#62__977" rel="nofollow">6.2 案例</a></li><li><a href="#63__1021" rel="nofollow">6.3 自定义信号</a></li></ul> 
   </li><li><a href="#7Qt_Designer_1117" rel="nofollow">7.Qt Designer</a></li><li><ul><li><a href="#71__1119" rel="nofollow">7.1 介绍</a></li><li><a href="#72__1123" rel="nofollow">7.2 下载</a></li><li><a href="#73__1129" rel="nofollow">7.3 安装&amp;运行</a></li><li><a href="#74_QT_Designer_1143" rel="nofollow">7.4 使用QT Designer</a></li><li><a href="#75__1149" rel="nofollow">7.5 使用流程</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="PyQt5_1"></a>PyQt5</h2> 
<h3><a id="1_PyQt5_3"></a>1. PyQt5的下载与安装</h3> 
<h4><a id="11_PyQt5_5"></a>1.1 PyQt5介绍</h4> 
<p>Qt（官方发音 <code>[kju:t]</code>）是一个跨平台的C++开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序</p> 
<p>Qt 是纯 C++ 开发的，正常情况下需要先学习C语言、然后在学习C++然后才能使用Qt开发带界面的程序</p> 
<p>多亏了开源社区使得<strong>Qt 还可以用Python、Ruby、Perl 等脚本语言进行开发。</strong></p> 
<p><strong>Qt 支持的操作系统有很多，例如通用操作系统 Windows、Linux、Unix，智能手机系统Android、iOS， 嵌入式系统等等</strong>。可以说是跨平台的</p> 
<p>QT官网：https://doc.qt.io/qt-5/index.html</p> 
<p>PyQt的开发者是英国的“Riverbank Computing”公司。它提供了GPL（简单的说，以GPL协议发布到网上的素材，你可以使用，也可以更改，但是经过你更改然后再次发布的素材必须也遵守GPL协议，主要要求是必须开源，而且不能删减原作者的声明信息等）与商业协议两种授权方式，因此它可以免费地用于自由软件的开发。</p> 
<p><strong>PyQt可以运行于Microsoft Windows、Mac OS X、Linux以及Unix的多数变种上</strong>。</p> 
<p>PyQt是Python语言的GUI（Graphical User Interface，简称 GUI，又称图形用户接口）编程解决方案之一</p> 
<p>可以用来代替Python内置的<code>Tkinter</code>。其它替代者还有<code>PyGTK</code>、<code>wxPython</code>等，与Qt一样，PyQt是一个自由软件</p> 
<p>文档相关地址：https://www.riverbankcomputing.com/software/pyqt/</p> 
<p>比较不错的参考资料：https://wiki.python.org/moin/PyQt/Tutorials</p> 
<ul><li> <p>Qt (C++ 语言 GUI )</p> </li><li> <p>PyQt = Python + Qt技术</p> </li><li> <p>Tkinter</p> <p>Python官方采用的标准库，优点是作为Python标准库、稳定、发布程序较小，缺点是控件相对较少。</p> </li><li> <p>wxPython</p> <p>基于wxWidgets的Python库，优点是控件比较丰富，缺点是稳定性相对差点、文档少、用户少。</p> </li><li> <p>PySide2、PyQt5</p> <p>基于Qt 的Python库，优点是控件比较丰富、跨平台体验好、文档完善、用户多。</p> <p>缺点是 库比较大，发布出来的程序比较大。</p> <p>PyQt5 的开发者是英国的“Riverbank Computing”公司 ， 而 PySide2 则是 qt 针对python语言提供的专门</p> </li></ul> 
<h4><a id="12_windows_PyQt5_49"></a>1.2 windows PyQt5的安装</h4> 
<ol><li>执行命令，允许创建虚拟环境</li></ol> 
<pre><code>pip install virtualenv
pip install virtualenvwrapper-win
</code></pre> 
<ol start="2"><li>创建新的虚拟环境</li></ol> 
<pre><code>mkvirtualenv -p python3 py3-qt --no-download
</code></pre> 
<ol start="3"><li>安装pyqt5（命令行）</li></ol> 
<pre><code class="prism language-shell">workon py3-qt  <span class="token comment">#切换到py3-qt环境</span>
pip <span class="token function">install</span> pyqt5 -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<p><img src="https://images2.imgbox.com/49/11/8WTozxQj_o.png" alt="image-20230515225937502"></p> 
<ol start="4"><li>版本测试</li></ol> 
<pre><code class="prism language-python"><span class="token comment"># 如果执行成功，没有任何错误提示，则表明环境搭建成功</span>
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets

<span class="token comment"># 当然也可以查看PyQt版本</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>QT_VERSION_STR<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8b/61/xp3rb6T3_o.png" alt="image-20230515230526200"></p> 
<ul><li>pip加速国内镜像</li></ul> 
<pre><code>阿里云  https://mirrors.aliyun.com/pypi/simple/

中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/

豆瓣(douban) https://pypi.douban.com/simple/

清华大学 https://pypi.tuna.tsinghua.edu.cn/simple/

中国科学技术大学 https://pypi.mirrors.ustc.edu.cn/simple/

</code></pre> 
<h3><a id="2PyQt5UI_103"></a>2.PyQt5基本UI</h3> 
<h4><a id="21_PyQt_105"></a>2.1 第一个PyQt程序</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget <span class="token comment"># 1.导入模块</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># 2.创建一个 QApplication 对象，指向QApplication ，接受命令行参数</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    <span class="token comment">#  3. 创建一个  QWidget对象</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 4. 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt"</span><span class="token punctuation">)</span>

    <span class="token comment"># 5. 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/28/fe/1a0mSxtK_o.png" alt="image-20230515230700956"></p> 
<h4><a id="22_argv_132"></a>2.2 argv</h4> 
<pre><code>import sys

print(sys.argv)
</code></pre> 
<p><img src="https://images2.imgbox.com/30/4a/aw3rVqXY_o.png" alt="image-20230515231412243"></p> 
<h4><a id="23__142"></a>2.3 模块介绍</h4> 
<p>PyQt中有非常多的功能模块,开发中最常用的功能模块主要有三个:</p> 
<ul><li><strong>QtCore</strong>:包含了核心的非GUI的功能。主要和时间、文件与文件夹、各种数据、流、URLs、mime类文件、进程与线程一起使用</li><li><strong>QtGui</strong>:包含了窗口系统、事件处理、2D图像、基本绘画、字体和文字类</li><li><strong>QtWidgets</strong>:包含了一些列创建桌面应用的UI元素</li></ul> 
<p>可以参考PyQt官网的所有模块，地址：https://www.riverbankcomputing.com/static/Docs/PyQt5/module_index.html#ref-module-index</p> 
<p>C++具体实现的API文档，地址：https://doc.qt.io/qt-5/qtwidgets-module.html</p> 
<p><strong>用到什么功能就它相关的api或者别人分享的使用心得，这是学习最快的方式</strong></p> 
<h3><a id="3UI_156"></a>3.基本UI</h3> 
<p>窗口内的所有控件，若想在窗口中显示，都需要表示它的父亲是谁，而不能直接使用 show 函数显示</p> 
<h4><a id="31_QPushButton_160"></a>3.1 按钮QPushButton</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt程序"</span><span class="token punctuation">)</span>

    <span class="token comment"># 在窗口里面添加控件</span>
    btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"按钮"</span><span class="token punctuation">)</span>

    <span class="token comment"># 设置按钮的父亲是当前窗口，等于是添加到窗口中显示</span>
    btn<span class="token punctuation">.</span>setParent<span class="token punctuation">(</span>w<span class="token punctuation">)</span>

    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/6c/a1/XVsheZLG_o.png" alt="image-20230515231855120"></p> 
<h4><a id="32_QLabel_191"></a>3.2 文本QLabel</h4> 
<p>纯文本控件名称为 <code> QLabel</code> ， 位于 <code>PyQt5.QtWidgets</code> 里面</p> 
<p>纯文本控件仅仅作为标识显示而已，类似输入内容前的一段标签提示（账号 、密码）</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLabel
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt"</span><span class="token punctuation">)</span>

    <span class="token comment"># # 下面创建一个Label，然后调用方法指定父类</span>
    <span class="token comment"># label = QLabel("账号: ", w)</span>
    <span class="token comment"># # 设置父对象</span>
    <span class="token comment"># label.setParent(w)</span>

    <span class="token comment"># 下面创建一个Label（纯文本），在创建的时候指定了父对象</span>
    label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"账号: "</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>

    <span class="token comment"># 显示位置与大小 ： x, y , w, h</span>
    label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/dd/6d/cYeVbtrC_o.png" alt="image-20230515232214756"></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLabel

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt"</span><span class="token punctuation">)</span>

    <span class="token comment"># # 下面创建一个Label，然后调用方法指定父类</span>
    <span class="token comment"># label = QLabel("账号: ", w)</span>
    <span class="token comment"># 设置父对象</span>
    <span class="token comment"># label.setParent(w)</span>

    <span class="token comment"># 下面创建一个Label（纯文本），在创建的时候指定了父对象</span>
    label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"账号: "</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>

    <span class="token comment"># 显示位置与大小 ： x, y , w, h</span>
    label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/71/dd/hGXWedXR_o.png" alt="image-20230515232244255"></p> 
<h4><a id="33__263"></a>3.3 输入框</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt"</span><span class="token punctuation">)</span>

    <span class="token comment"># 纯文本</span>
    label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"账号"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>

    <span class="token comment"># 文本框</span>
    edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>w<span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入账号"</span><span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>

    <span class="token comment"># 在窗口里面添加控件</span>
    btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"注册"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token comment"># x,y,w,h</span>
    btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="34__300"></a>3.4 调整窗口大小</h4> 
<ul><li>resize</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt5程序"</span><span class="token punctuation">)</span>

    <span class="token comment"># 窗口的大小</span>
    w<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token comment"># 纯文本</span>
    label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"账号"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token comment"># 设置位置x,y,w,h</span>
    label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token comment"># 文本框</span>
    edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>w<span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入账号"</span><span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token comment"># 在窗口里面添加控件</span>
    btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"注册"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<h4><a id="35__335"></a>3.5 调整窗口显示屏幕中间</h4> 
<ul><li>move：移动屏幕</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span>QDesktopWidget

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"第一个PyQt5程序"</span><span class="token punctuation">)</span>

    <span class="token comment"># 窗口的大小</span>
    w<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>

    <span class="token comment"># 调整到左上角</span>
    <span class="token comment"># w.move(0,0)</span>

    <span class="token comment"># 获取屏幕中心点</span>
    center <span class="token operator">=</span> QDesktopWidget<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"center:"</span><span class="token punctuation">,</span>center<span class="token punctuation">)</span>
    x <span class="token operator">=</span> center<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span>
    y <span class="token operator">=</span> center<span class="token punctuation">.</span>y<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># print(x/2,y/2)</span>
    w<span class="token punctuation">.</span>move<span class="token punctuation">(</span>x<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span>y<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token comment"># 纯文本</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>frameSize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getRect<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 居中显示</span>
    old_x<span class="token punctuation">,</span>old_y<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height <span class="token operator">=</span> w<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getRect<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>move<span class="token punctuation">(</span>x<span class="token operator">-</span>width<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">,</span>y<span class="token operator">-</span>height<span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>


    label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"账号"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    <span class="token comment"># 设置位置x,y,w,h</span>
    label<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token comment"># 文本框</span>
    edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span>w<span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入账号"</span><span class="token punctuation">)</span>
    edit<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token comment"># 在窗口里面添加控件</span>
    btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"注册"</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span>
    btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/d5/15/PxXKohBs_o.png" alt="image-20230519234729204"></p> 
<h4><a id="36_icon_393"></a>3.6 设置窗口icon</h4> 
<p><a href="https://www.easyicon.net/" rel="nofollow">可下载icon网址</a></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    <span class="token comment"># 创建一个QWidget</span>
    w <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"看看我图标帅吗"</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置图标</span>
    w<span class="token punctuation">.</span>setWindowIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'test.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 显示QWidget</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/4c/42/GwMMFUdk_o.png" alt="image-20230519235041396"></p> 
<h3><a id="4_421"></a>4.布局</h3> 
<p>在Qt里面布局分为四个大类 ：</p> 
<ul><li>QBoxLayout</li><li>QGridLayout</li><li>QFormLayout</li><li>QStackedLayout</li></ul> 
<h4><a id="41_QBoxLayout_430"></a>4.1 QBoxLayout</h4> 
<p>直译为：盒子布局</p> 
<p>一般使用它的两个子类<code>QHBoxLayout</code> 和 <code>QVBoxLayout</code> 负责水平和垂直布局</p> 
<h5><a id="411__436"></a>4.1.1 垂直布局</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QGroupBox<span class="token punctuation">,</span> QMainWindow
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 切记一定要调用父类的__init__方法，因为它里面有很多对UI空间的初始化操作</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置大小</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置标题</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"垂直布局"</span><span class="token punctuation">)</span>
        <span class="token comment"># 垂直布局</span>
        layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 作用是在布局器中增加一个伸缩量，里面的参数表示QSpacerItem的个数，默认值为零</span>
        <span class="token comment"># 会将你放在layout中的空间压缩成默认的大小</span>

        <span class="token comment"># 下面的笔试1：1：1：2 : 2</span>
        layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># 按钮1</span>
        btn1 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"按钮1"</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加到布局器中</span>
        <span class="token comment"># layout.addWidget(btn1, Qt.AlignmentFlag.AlignTop)</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn1<span class="token punctuation">)</span>

        layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># 按钮2</span>
        btn2 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"按钮2"</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加到布局器</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn2<span class="token punctuation">)</span>

        layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># 按钮3</span>
        btn3 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"按钮3"</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加到布局器</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn3<span class="token punctuation">)</span>

        layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        btn4 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"按钮4"</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加到布局器</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn4<span class="token punctuation">)</span>

        layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    <span class="token comment"># 创建一个QWidget子类</span>
    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/59/ff/y9PEi51i_o.png" alt="image-20230520000242070"></p> 
<h5><a id="412__502"></a>4.1.2 水平布局</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QGroupBox<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QHBoxLayout<span class="token punctuation">,</span> QRadioButton


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 最外层的垂直布局，包含两部分：爱好和性别</span>
        container <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># -----创建第1个组，添加多个组件-----</span>
        <span class="token comment"># hobby 主要是保证他们是一个组。</span>
        hobby_box <span class="token operator">=</span> QGroupBox<span class="token punctuation">(</span><span class="token string">"爱好"</span><span class="token punctuation">)</span>
        <span class="token comment"># v_layout 保证三个爱好是垂直摆放</span>
        v_layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        btn1 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"抽烟"</span><span class="token punctuation">)</span>
        btn2 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"喝酒"</span><span class="token punctuation">)</span>
        btn3 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"烫头"</span><span class="token punctuation">)</span>
        <span class="token comment"># 添加到v_layout中</span>
        v_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn1<span class="token punctuation">)</span>
        v_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn2<span class="token punctuation">)</span>
        v_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn3<span class="token punctuation">)</span>
        <span class="token comment"># 把v_layout添加到hobby_box中</span>
        hobby_box<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>v_layout<span class="token punctuation">)</span>

        <span class="token comment"># -----创建第2个组，添加多个组件-----</span>
        <span class="token comment"># 性别组</span>
        gender_box <span class="token operator">=</span> QGroupBox<span class="token punctuation">(</span><span class="token string">"性别"</span><span class="token punctuation">)</span>
        <span class="token comment"># 性别容器</span>
        h_layout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 性别选项</span>
        btn4 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"男"</span><span class="token punctuation">)</span>
        btn5 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"女"</span><span class="token punctuation">)</span>
        <span class="token comment"># 追加到性别容器中</span>
        h_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn4<span class="token punctuation">)</span>
        h_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn5<span class="token punctuation">)</span>
        <span class="token comment"># 添加到 box中</span>
        gender_box<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>h_layout<span class="token punctuation">)</span>

        <span class="token comment"># 把爱好的内容添加到容器中</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>hobby_box<span class="token punctuation">)</span>
        <span class="token comment"># 把性别的内容添加到容器中</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>gender_box<span class="token punctuation">)</span>


        <span class="token comment"># 音乐标签</span>
        music_box <span class="token operator">=</span> QGroupBox<span class="token punctuation">(</span><span class="token string">"音乐"</span><span class="token punctuation">)</span>
        m_layout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        btn6 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"古风"</span><span class="token punctuation">)</span>
        btn7 <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span><span class="token string">"流行"</span><span class="token punctuation">)</span>

        m_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn6<span class="token punctuation">)</span>
        m_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn7<span class="token punctuation">)</span>

        music_box<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>m_layout<span class="token punctuation">)</span>


        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>music_box<span class="token punctuation">)</span>




        <span class="token comment"># 设置窗口显示的内容是最外层容器</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>container<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/50/03/jNjbVrQW_o.png" alt="image-20230526230756063"></p> 
<h4><a id="42_QGridLayout_587"></a>4.2 QGridLayout</h4> 
<h5><a id="_589"></a>网格布局</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QGridLayout


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"计算器"</span><span class="token punctuation">)</span>
        <span class="token comment"># 准备数据</span>
        data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"7"</span><span class="token punctuation">,</span> <span class="token string">"8"</span><span class="token punctuation">,</span> <span class="token string">"9"</span><span class="token punctuation">,</span> <span class="token string">"+"</span><span class="token punctuation">,</span> <span class="token string">"("</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"4"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">,</span> <span class="token string">"6"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">")"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">,</span> <span class="token string">"&lt;-"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token number">3</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"0"</span><span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token comment"># 整体垂直布局</span>
        layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 输入框</span>
        edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        edit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入内容"</span><span class="token punctuation">)</span>
        <span class="token comment"># 把输入框添加到容器中</span>
        layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>edit<span class="token punctuation">)</span>
        <span class="token comment"># 网格布局</span>
        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 循环创建追加进去</span>
        <span class="token keyword">for</span> line_number<span class="token punctuation">,</span> line_data <span class="token keyword">in</span> data<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 此时line_number是第几行，line_data是当前行的数据</span>
            <span class="token keyword">for</span> col_number<span class="token punctuation">,</span> number <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>line_data<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 此时col_number是第几列，number是要显示的符号</span>
                btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>number<span class="token punctuation">)</span>
                <span class="token comment"># grid.addWidget(btn)</span>
                grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn<span class="token punctuation">,</span> line_number<span class="token punctuation">,</span> col_number<span class="token punctuation">)</span>

        <span class="token comment"># 把网格布局追加到容器中</span>
        layout<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>layout<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/11/ef/1YBhSMI2_o.png" alt="image-20230526231843507"></p> 
<h4><a id="43_QFormLayout_647"></a>4.3 QFormLayout</h4> 
<p>一般适用于提交数据<strong>form表单</strong>。比如： 登录，注册类似的场景</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QVBoxLayout<span class="token punctuation">,</span> QFormLayout<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QApplication<span class="token punctuation">,</span> QWidget


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 设定当前Widget的宽高(可以拉伸大小)</span>
        <span class="token comment"># self.resize(300, 200)</span>
        <span class="token comment"># 禁止改变宽高（不可以拉伸）</span>
        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

        <span class="token comment"># 外层容器</span>
        container <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 表单容器</span>
        form_layout <span class="token operator">=</span> QFormLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建1个输入框</span>
        edit <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        edit<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入账号"</span><span class="token punctuation">)</span>
        form_layout<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">"账号："</span><span class="token punctuation">,</span> edit<span class="token punctuation">)</span>

        <span class="token comment"># 创建另外1个输入框</span>
        edit2 <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        edit2<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入密码"</span><span class="token punctuation">)</span>
        form_layout<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">"密码："</span><span class="token punctuation">,</span> edit2<span class="token punctuation">)</span>

        <span class="token comment"># 将from_layout添加到垂直布局器中</span>
        container<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>form_layout<span class="token punctuation">)</span>

        <span class="token comment"># 按钮</span>
        login_btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"登录"</span><span class="token punctuation">)</span>
        login_btn<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>

        <span class="token comment"># 把按钮添加到容器中，并且指定它的对齐方式</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>login_btn<span class="token punctuation">,</span> alignment<span class="token operator">=</span>Qt<span class="token punctuation">.</span>AlignRight<span class="token punctuation">)</span>

        <span class="token comment"># 设置当前Widget的布局器，从而显示这个布局器中的子控件</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>container<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/53/0a/6wpQzHUe_o.png" alt="image-20230526232028808"></p> 
<h4><a id="44__712"></a>4.4 抽屉布局</h4> 
<p>提供了多页面切换的布局，一次只能看到一个界面。 <strong>抽屉布局</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QStackedLayout<span class="token punctuation">,</span> QLabel


<span class="token keyword">class</span> <span class="token class-name">Window1</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        QLabel<span class="token punctuation">(</span><span class="token string">"我辈岂是蓬蒿人"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:green;"</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Window2</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        QLabel<span class="token punctuation">(</span><span class="token string">"人生得以须尽欢"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:red;"</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>create_stacked_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">create_stacked_layout</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 创建堆叠(抽屉)布局</span>
        self<span class="token punctuation">.</span>stacked_layout <span class="token operator">=</span> QStackedLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 创建单独的Widget</span>
        win1 <span class="token operator">=</span> Window1<span class="token punctuation">(</span><span class="token punctuation">)</span>
        win2 <span class="token operator">=</span> Window2<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 将创建的2个Widget添加到抽屉布局器中</span>
        self<span class="token punctuation">.</span>stacked_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>win1<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>stacked_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>win2<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 设置Widget大小以及固定宽高</span>
        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">)</span>

        <span class="token comment"># 1. 创建整体的布局器</span>
        container <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 2. 创建1个要显示具体内容的子Widget</span>
        widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>stacked_layout<span class="token punctuation">)</span>
        widget<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color:grey;"</span><span class="token punctuation">)</span>

        <span class="token comment"># 3. 创建2个按钮，用来点击进行切换抽屉布局器中的Widget</span>
        btn_press1 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"抽屉1"</span><span class="token punctuation">)</span>
        btn_press2 <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"抽屉2"</span><span class="token punctuation">)</span>
        <span class="token comment"># 给按钮添加事件（即点击后要调用的函数）</span>
        btn_press1<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_press1_clicked<span class="token punctuation">)</span>
        btn_press2<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_press2_clicked<span class="token punctuation">)</span>

        <span class="token comment"># 4. 将需要显示的空间添加到布局器中</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>widget<span class="token punctuation">)</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_press1<span class="token punctuation">)</span>
        container<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_press2<span class="token punctuation">)</span>

        <span class="token comment"># 5. 设置当前要显示的Widget，从而能够显示这个布局器中的控件</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>container<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">btn_press1_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 设置抽屉布局器的当前索引值，即可切换显示哪个Widget</span>
        self<span class="token punctuation">.</span>stacked_layout<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">btn_press2_clicked</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 设置抽屉布局器的当前索引值，即可切换显示哪个Widget</span>
        self<span class="token punctuation">.</span>stacked_layout<span class="token punctuation">.</span>setCurrentIndex<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    win<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/f1/d1/qEmHP1xN_o.png" alt="image-20230526232309149"></p> 
<h3><a id="5__799"></a>5. 窗口</h3> 
<h4><a id="51__801"></a>5.1 分类</h4> 
<p>在Qt中，生成窗口有三种方式： <code>QWidget</code> | <code>QMainWindow</code> | <code>QDialog</code></p> 
<ol><li>QWidget</li></ol> 
<p>控件和窗口的父类 ，自由度高（什么都东西都没有），没有划分菜单、工具栏、状态栏、主窗口 等区域</p> 
<ol start="2"><li>QMainWindow</li></ol> 
<p>是<code> QWidget</code>的子类，包含菜单栏，工具栏，状态栏，标题栏等，中间部分则为主窗口区域</p> 
<ol start="3"><li>QDialog</li></ol> 
<p>对话框窗口的基类</p> 
<h4><a id="52_QWidget_817"></a>5.2 QWidget</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span>  sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QWidget<span class="token punctuation">,</span> QLabel <span class="token punctuation">,</span> QApplication

<span class="token keyword">class</span> <span class="token class-name">mywnd</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>mywnd<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"这是文字~~"</span> <span class="token punctuation">)</span>
        label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"font-size:30px;color:red"</span><span class="token punctuation">)</span>
        label<span class="token punctuation">.</span>setParent<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> mywnd<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">#设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"qwidget"</span><span class="token punctuation">)</span>

    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/95/a9/YLyT6QT2_o.png" alt="image-20230526232850921"></p> 
<h4><a id="52_QMainWindow_852"></a>5.2 QMainWindow</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QMainWindow<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QApplication


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        label <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">"这是文字~~"</span><span class="token punctuation">)</span>
        label<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"font-size:30px;color:red"</span><span class="token punctuation">)</span>

        <span class="token comment"># 调用父类中的menuBar，从而对菜单栏进行操作</span>
        menu <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># 如果是Mac的话，菜单栏不会在Window中显示而是屏幕顶部系统菜单栏位置</span>
        <span class="token comment"># 下面这一行代码使得Mac也按照Windows的那种方式在Window中显示Menu</span>
        menu<span class="token punctuation">.</span>setNativeMenuBar<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>

        file_menu <span class="token operator">=</span> menu<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"文件"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"新建"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"打开"</span><span class="token punctuation">)</span>
        file_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"保存"</span><span class="token punctuation">)</span>

        edit_menu <span class="token operator">=</span> menu<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">"编辑"</span><span class="token punctuation">)</span>
        edit_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"复制"</span><span class="token punctuation">)</span>
        edit_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"粘贴"</span><span class="token punctuation">)</span>
        edit_menu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span><span class="token string">"剪切"</span><span class="token punctuation">)</span>

        <span class="token comment"># 设置中心内容显示</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>label<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"我是窗口标题...."</span><span class="token punctuation">)</span>
    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/40/39/UILUg2ZU_o.png" alt="image-20230526233306456"></p> 
<h4><a id="53_QDialog_906"></a>5.3 QDialog</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QDialog<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QApplication


<span class="token keyword">class</span> <span class="token class-name">MyDialog</span><span class="token punctuation">(</span>QDialog<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        ok_btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"确定"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        ok_btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyDialog<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置窗口标题</span>
    w<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"对话框"</span><span class="token punctuation">)</span>
    <span class="token comment"># 展示窗口</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 程序进行循环等待状态</span>
    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/fc/96/oOZQnX8F_o.png" alt="image-20230526233352946"></p> 
<h3><a id="6__941"></a>6. 信号与槽</h3> 
<h4><a id="61__943"></a>6.1 信号与槽介绍</h4> 
<p>一、说明<br> 信号和槽是 Qt的核心内容</p> 
<ol><li>信号(signal)<br> 其实就是事件（按钮点击 、内容发生改变 、窗口的关闭事件） 或者是 状态 （check选中了， togglebutton 切换。）</li></ol> 
<p>当程序触发了某种状态或者发生了某种事件（比如：按钮被点击了, 内容改变等等），那么即可发射出来一个信号。</p> 
<ol start="2"><li> <p>槽( slot)<br> 若想捕获这个信号，然后执行相应的逻辑代码，那么就需要使用到槽 ， 槽实际上是一个函数， 当信号发射出来后，会执行与之绑定的槽函数</p> </li><li> <p>将信号与槽链接<br> 为了能够实现，当点击某个按钮时执行某个逻辑，需要把具体的信号和具体的槽函数绑定到一起.</p> </li></ol> 
<p>操作大体流程如下</p> 
<pre><code class="prism language-python">对象<span class="token punctuation">.</span>信号<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>槽函数<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/f0/3e/suKPlXUL_o.png" alt="img"></p> 
<pre><code class="prism language-python">当出现了某一种信号（某一种事件）的时候，我们需要执行一段代码（用函数来包装这份代码。）
</code></pre> 
<p>解决办法</p> 
<pre><code class="prism language-python">信号和槽
</code></pre> 
<h4><a id="62__977"></a>6.2 案例</h4> 
<p>功能：接收信号</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 更改当前Widge的宽高</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        <span class="token comment"># 创建一个按钮</span>
        btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"点我点我"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 设置窗口位置、宽高</span>
        btn<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        <span class="token comment"># 将按钮被点击时触发的信号与我们定义的函数（方法）进行绑定</span>
        <span class="token comment"># 注意：这里没有()，即写函数的名字，而不是名字()</span>
        btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>click_my_btn<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">click_my_btn</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 槽函数，点击按钮则调用该函数</span>
        <span class="token comment"># 这里的参数正好是信号发出，传递的参数</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"点击按钮啦~"</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/40/eb/mkkT1oqt_o.png" alt="image-20230526234343799"></p> 
<h4><a id="63__1021"></a>6.3 自定义信号</h4> 
<p>除了接收Qt自带的信号之外，我们也可以自行定义信号，在合适的时机，自行发射信号</p> 
<p>自定义信号需要使用到 <code>pyqtSignal</code>来声明信号 ，并且需要在类中的函数之外声明</p> 
<p>如果会自定义信号，那么信号和槽基本上也就掌握了。否则永远只会接收别人发射出的信号</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">import</span> time

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> <span class="token operator">*</span>


<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 声明一个信号 只能放在函数的外面</span>
    my_signal <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg_history <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 用来存放消息</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建一个整体布局器</span>
        container <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># 用来显示检测到漏洞的信息</span>
        self<span class="token punctuation">.</span>msg <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">440</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
        <span class="token comment"># print(self.msg.frameSize())</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>setWordWrap<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 自动换行</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>  <span class="token comment"># 靠上</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">"background-color: yellow; color: red;"</span><span class="token punctuation">)</span>

        <span class="token comment"># 创建一个滚动对象</span>
        scroll <span class="token operator">=</span> QScrollArea<span class="token punctuation">(</span><span class="token punctuation">)</span>
        scroll<span class="token punctuation">.</span>setWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>

        <span class="token comment"># 创建垂直布局器，用来添加自动滚动条</span>
        v_layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        v_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>scroll<span class="token punctuation">)</span>

        <span class="token comment"># 创建水平布局器</span>
        h_layout <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"开始检测"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        <span class="token comment"># 绑定按钮的点击，点击按钮则开始检测</span>
        btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>check<span class="token punctuation">)</span>
        h_layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 伸缩器</span>
        h_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn<span class="token punctuation">)</span>
        h_layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># 操作将要显示的控件以及子布局器添加到container</span>
        container<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>v_layout<span class="token punctuation">)</span>
        container<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>h_layout<span class="token punctuation">)</span>

        <span class="token comment"># 设置布局器</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>container<span class="token punctuation">)</span>

        <span class="token comment"># 绑定信号和槽</span>
        self<span class="token punctuation">.</span>my_signal<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>my_slot<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">my_slot</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 更新内容</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg_history<span class="token punctuation">.</span>append<span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>self<span class="token punctuation">.</span>msg_history<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">440</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>frameSize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>repaint<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新内容，如果不更新可能没有显示新内容</span>

    <span class="token keyword">def</span> <span class="token function">check</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> ip <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"192.168.1.%d"</span> <span class="token operator">%</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            msg <span class="token operator">=</span> <span class="token string">"模拟，正在检查 %s 上的漏洞...."</span> <span class="token operator">%</span> ip
            <span class="token comment"># print(msg)</span>
            <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                <span class="token comment"># 表示发射信号 对象.信号.发射(参数)</span>
                self<span class="token punctuation">.</span>my_signal<span class="token punctuation">.</span>emit<span class="token punctuation">(</span>msg <span class="token operator">+</span> <span class="token string">"【发现漏洞】"</span><span class="token punctuation">)</span>
            time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    w <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    w<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/b4/f8/gbgu53KH_o.png" alt="image-20230526235615971"></p> 
<h3><a id="7Qt_Designer_1117"></a>7.Qt Designer</h3> 
<h4><a id="71__1119"></a>7.1 介绍</h4> 
<p>纯靠代码来编写界面，效率属实是有点底，今天我们用另外一个辅助设计图形化的软件 <code>QT Designer</code></p> 
<h4><a id="72__1123"></a>7.2 下载</h4> 
<p>Mac版本：[http://download.codetutor.top/software/Mac/Qt%20Designer.dmg](http://download.codetutor.top/software/Mac/Qt Designer.dmg)</p> 
<p>Windows版本：[http://download.codetutor.top/software/win/Qt%20Designer%20Setup.exe](http://download.codetutor.top/software/win/Qt Designer Setup.exe)</p> 
<h4><a id="73__1129"></a>7.3 安装&amp;运行</h4> 
<p>安装过程很简单，按照正常软件安装即可，安装后的图片如下图：</p> 
<p><img src="https://images2.imgbox.com/93/65/hIGclW8G_o.png" alt="image-20201123214407351"></p> 
<p><strong>但Mac平台用户要注意，运行时会出现如下图问题</strong>：</p> 
<p><img src="https://images2.imgbox.com/01/64/ZSLKYgZX_o.png" alt="img"></p> 
<p><strong>解决办法</strong>：在“应用程序”文件夹，按住<code>control</code>键然后运行。只需要这种方式运行第一次即可，以后运行就像普通软件一样打开</p> 
<p><img src="https://images2.imgbox.com/78/61/FyqTM9uU_o.png" alt="image-20201123214951153"></p> 
<h4><a id="74_QT_Designer_1143"></a>7.4 使用QT Designer</h4> 
<p>Mac运行之后的效果如下：</p> 
<p><img src="https://images2.imgbox.com/72/2e/VUtAAgS7_o.png" alt="image-20201123215209758"></p> 
<h4><a id="75__1149"></a>7.5 使用流程</h4> 
<p>1.创建一个基于QWidget的界面</p> 
<p><img src="https://images2.imgbox.com/f7/2a/tD5kLhsv_o.png" alt="image-20201123215321248"></p> 
<p>2.此时会创建一个新的窗口，如下效果</p> 
<p><img src="https://images2.imgbox.com/07/0e/uV7JjTzM_o.png" alt="image-20201123215359517"></p> 
<p>3.拖动想要的控件</p> 
<p><img src="https://images2.imgbox.com/9a/7d/AmwPHEmJ_o.png" alt="image-20201123215551661"></p> 
<p>4.选中控件，看属性</p> 
<p><img src="https://images2.imgbox.com/62/c7/FG3j7lc0_o.png" alt="image-20201123215750887"></p> 
<p>5.修改属性</p> 
<p><img src="https://images2.imgbox.com/b4/8e/ID2nx2GX_o.png" alt="image-20201123215829602"></p> 
<p>6.如果没有看到preperty等窗口怎么办？看下图</p> 
<p><img src="https://images2.imgbox.com/89/e9/s0Pi6uwF_o.png" alt="image-20201123220059274"></p> 
<p>7.信号与槽（没有没有看到Singal/Slot Editor请按照上一步操作进行显示）</p> 
<p><img src="https://images2.imgbox.com/00/52/XlX1hDUu_o.png" alt="image-20201123220951729"></p> 
<p>8.预览效果</p> 
<p><img src="https://images2.imgbox.com/ea/43/6dAkdWRk_o.png" alt="image-20201123221137373"></p> 
<p>9.保存</p> 
<p><img src="https://images2.imgbox.com/5c/0a/oj1UorC1_o.png" alt="image-20201123221409036"></p> 
<p>10.python代码使用<code>test.ui</code>文件</p> 
<p>若要加载ui文件，则需要导入 <code>uic</code> 模块 , 它位于<code>PyQt5</code> 中</p> 
<pre><code class="prism language-python"><span class="token triple-quoted-string string">"""
动态加载ui文件
"""</span>

<span class="token keyword">import</span> sys

<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> uic

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    ui <span class="token operator">=</span> uic<span class="token punctuation">.</span>loadUi<span class="token punctuation">(</span><span class="token string">"./test.ui"</span><span class="token punctuation">)</span>
    <span class="token comment"># 展示窗口</span>
    ui<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/27/60/aELKuOtv_o.png" alt="image-20201123221857466"></p> 
<p><a href="https://doc.itprojects.cn/0001.zhishi/python.0008.pyqt5rumen/index.html#/README" rel="nofollow">参考资料</a></p> 
<p><a href="https://www.itprojects.cn/" rel="nofollow">www.itprojects.cn</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/857d8e441f49a987e695413a1527078e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MSoffice(excel,word,ppt)暴力破解密码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aeca892526fd0268724b648de589a435/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【论文写作】LaTeX学习笔记：一文入门LaTeX（超详细）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>