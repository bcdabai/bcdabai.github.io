<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 中使用 string-escape 将带转义的字节码字符串转换为 utf-8 字符串 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 中使用 string-escape 将带转义的字节码字符串转换为 utf-8 字符串" />
<meta property="og:description" content="今天在调试 Intel Edison 上搜索 Wi-Fi 功能时，遇到一个问题，当搜索到的 Wi-Fi 名称带有中文时，代码中获取到的字符串是十六进制字节码的形式，如 \x91\xb8 这样的。但当我进入断点查看时，看到的结果是像这样: \\xe5\\xb0\\x8f\\xe7\\xb1\\xb3\\xe6\\x89\\x8b\\xe6\\x9c\\xba。很明显这是 \ 字符被转义了。我尝试直接通过 decode 方法转换编码，但是不行；直接 print 出来倒是可以得到正常的十六进制字节码的形式，但这不是我想要的；然后又尝试使用 replace 方法替换掉 \\，事实证明这个思路就是错误的，所有尝试方法的结果如图： 困惑了很久，最终求教于高手，高手点拨后，问题得以解决，原来是可以直接使用 decode 方法的，只是传入的编码参数需要指定为 string-escape，才能正常转码，如图： 解决问题之后，经过总结，发现我在这次调试过程中暴露了三大问题：
不应该直接将 \\xe5\\xb0\\x8f\\xe7\\xb1\\xb3\\xe6\\x89\\x8b\\xe6\\x9c\\xba 复制到交互环境里测试，因为此时复制进去的内容，不是，或者说不能确保是内存中的正确形式。要调试这样的编码问题，一般来说应该将内容保存进一个文本文件，写最小应用进行调试。基础知识不足，看的书太少，没有真正理解数据在计算机中的表示形式，导致闷头乱撞，浪费时间。思考问题时局限性太大，思路放不开，钻进牛角尖出不来。在事实证明当前道路走不通的情况下应该及时转变思考方向，避免浪费时间。 最终深刻体会了一个已经看过很多遍的道理：不懂不可怕，可怕的是压根不知道。
多看书，多学习，多思考，多总结。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/db464b4d8058d09b55eeb87dd228d605/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-12-16T23:24:34+08:00" />
<meta property="article:modified_time" content="2015-12-16T23:24:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 中使用 string-escape 将带转义的字节码字符串转换为 utf-8 字符串</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>今天在调试 Intel Edison 上搜索 Wi-Fi 功能时，遇到一个问题，当搜索到的 Wi-Fi 名称带有中文时，代码中获取到的字符串是十六进制字节码的形式，如 <code>\x91\xb8</code> 这样的。但当我进入断点查看时，看到的结果是像这样: <code>\\xe5\\xb0\\x8f\\xe7\\xb1\\xb3\\xe6\\x89\\x8b\\xe6\\x9c\\xba</code>。很明显这是 <code>\</code> 字符被转义了。我尝试直接通过 <code>decode</code> 方法转换编码，但是不行；直接 <code>print</code> 出来倒是可以得到正常的十六进制字节码的形式，但这不是我想要的；然后又尝试使用 <code>replace</code> 方法替换掉 <code>\\</code>，事实证明这个思路就是错误的，所有尝试方法的结果如图： <br> <img src="https://images2.imgbox.com/4c/85/F4RZlpGT_o.png" alt="这里写图片描述" title=""> <br> <img src="https://images2.imgbox.com/69/a6/ItDPja4A_o.png" alt="这里写图片描述" title=""></p> 
<p>困惑了很久，最终求教于高手，高手点拨后，问题得以解决，原来是可以直接使用 <code>decode</code> 方法的，只是传入的编码参数需要指定为 <code>string-escape</code>，才能正常转码，如图： <br> <img src="https://images2.imgbox.com/19/9c/crdrUV3w_o.png" alt="这里写图片描述" title=""></p> 
<p>解决问题之后，经过总结，发现我在这次调试过程中暴露了三大问题：</p> 
<ol><li>不应该直接将 <code>\\xe5\\xb0\\x8f\\xe7\\xb1\\xb3\\xe6\\x89\\x8b\\xe6\\x9c\\xba</code> 复制到交互环境里测试，因为此时复制进去的内容，不是，或者说不能确保是内存中的正确形式。要调试这样的编码问题，一般来说应该将内容保存进一个文本文件，写最小应用进行调试。</li><li>基础知识不足，看的书太少，没有真正理解数据在计算机中的表示形式，导致闷头乱撞，浪费时间。</li><li>思考问题时局限性太大，思路放不开，钻进牛角尖出不来。在事实证明当前道路走不通的情况下应该及时转变思考方向，避免浪费时间。</li></ol> 
<p>最终深刻体会了一个已经看过很多遍的道理：不懂不可怕，可怕的是压根不知道。</p> 
<hr> 
<p>多看书，多学习，多思考，多总结。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/36a073f54b7f5339b9407cb40cdd1b85/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">性能监控的好工具 - NewRelic</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/835b6c333ace687d2bfbef1a85add641/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">newrelic  安装使用  new relic</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>