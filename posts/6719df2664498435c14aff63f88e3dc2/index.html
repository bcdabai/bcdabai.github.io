<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue2&#43;wangEditor5富文本编辑器（图片视频上传）并加锚链接 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue2&#43;wangEditor5富文本编辑器（图片视频上传）并加锚链接" />
<meta property="og:description" content="目录 一、wangEditor文本编辑器使用1、安装使用2、上传图片、视频 二、添加锚链接 一、wangEditor文本编辑器使用 官网：https://www.wangeditor.com/v5/installation.html#npm
1、安装使用 安装
yarn add @wangeditor/editor # 或者 npm install @wangeditor/editor --save yarn add @wangeditor/editor-for-vue # 或者 npm install @wangeditor/editor-for-vue --save 在main.js中引入样式
import &#39;@wangeditor/editor/dist/css/style.css&#39; 在使用编辑器的页面引入js
import { Editor, Toolbar } from &#34;@wangeditor/editor-for-vue&#34;; components: { Editor, Toolbar }, 模板
&lt;template&gt; &lt;div&gt; &lt;div style=&#34;border: 1px solid #ccc; margin-top: 10px&#34;&gt; &lt;!-- 工具栏 --&gt; &lt;Toolbar style=&#34;border-bottom: 1px solid #ccc&#34; :editor=&#34;editor&#34; :defaultConfig=&#34;toolbarConfig&#34; /&gt; &lt;!-- 编辑器 --&gt; &lt;Editor style=&#34;height: 400px; overflow-y: hidden&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/6719df2664498435c14aff63f88e3dc2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-16T15:48:59+08:00" />
<meta property="article:modified_time" content="2023-06-16T15:48:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue2&#43;wangEditor5富文本编辑器（图片视频上传）并加锚链接</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#wangEditor_2" rel="nofollow">一、wangEditor文本编辑器使用</a></li><li><ul><li><ul><li><a href="#1_4" rel="nofollow">1、安装使用</a></li><li><a href="#2_89" rel="nofollow">2、上传图片、视频</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_153" rel="nofollow">二、添加锚链接</a></li></ul> 
</div> 
<p></p> 
<h2><a id="wangEditor_2"></a>一、wangEditor文本编辑器使用</h2> 
<p>官网：<a href="https://www.wangeditor.com/v5/installation.html#npm" rel="nofollow">https://www.wangeditor.com/v5/installation.html#npm</a></p> 
<h4><a id="1_4"></a>1、安装使用</h4> 
<p>安装</p> 
<pre><code class="prism language-javascript">yarn add @wangeditor<span class="token operator">/</span>editor
# 或者 npm install @wangeditor<span class="token operator">/</span>editor <span class="token operator">--</span>save
yarn add @wangeditor<span class="token operator">/</span>editor<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">-</span>vue
# 或者 npm install @wangeditor<span class="token operator">/</span>editor<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">-</span>vue <span class="token operator">--</span>save
</code></pre> 
<p>在main.js中引入样式</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token string">'@wangeditor/editor/dist/css/style.css'</span>
</code></pre> 
<p>在使用编辑器的页面引入js</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> <span class="token class-name">Editor</span><span class="token punctuation">,</span> <span class="token class-name">Toolbar</span> <span class="token punctuation">}</span> from <span class="token string">"@wangeditor/editor-for-vue"</span><span class="token punctuation">;</span>
components<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token class-name">Editor</span><span class="token punctuation">,</span> <span class="token class-name">Toolbar</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>模板</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"border: 1px solid #ccc; margin-top: 10px"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 工具栏 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Toolbar
        style<span class="token operator">=</span><span class="token string">"border-bottom: 1px solid #ccc"</span>
        <span class="token operator">:</span>editor<span class="token operator">=</span><span class="token string">"editor"</span>
        <span class="token operator">:</span>defaultConfig<span class="token operator">=</span><span class="token string">"toolbarConfig"</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 编辑器 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Editor
        style<span class="token operator">=</span><span class="token string">"height: 400px; overflow-y: hidden"</span>
        <span class="token operator">:</span>defaultConfig<span class="token operator">=</span><span class="token string">"editorConfig"</span>
        v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"html"</span>
        @onChange<span class="token operator">=</span><span class="token string">"onChange"</span>
        @onCreated<span class="token operator">=</span><span class="token string">"onCreated"</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> 
<p>js</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Editor<span class="token punctuation">,</span> Toolbar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@wangeditor/editor-for-vue"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MyEditor"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> Editor<span class="token punctuation">,</span> Toolbar <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">editor</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">html</span><span class="token operator">:</span> <span class="token string">"&lt;p&gt;hello&amp;nbsp;world&lt;/p&gt;"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">toolbarConfig</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">editorConfig</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请输入内容..."</span><span class="token punctuation">,</span>
        <span class="token comment">// 所有的菜单配置，都要在 MENU_CONF 属性下</span>
        <span class="token constant">MENU_CONF</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">onCreated</span><span class="token punctuation">(</span><span class="token parameter">editor</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>editor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 【注意】一定要用 Object.seal() 否则会报错</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token parameter">editor</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"onChange"</span><span class="token punctuation">,</span> editor<span class="token punctuation">.</span><span class="token function">getHtml</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// onChange 时获取编辑器最新内容</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> editor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>editor<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>editor <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    editor<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 组件销毁时，及时销毁 editor ，重要！！！</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>到这一步编辑完就可以正常显示了</p> 
<p><img src="https://images2.imgbox.com/69/66/qityRNl6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_89"></a>2、上传图片、视频</h4> 
<p>1）上传到后台接口的可直接按照文档这个配置就行接口返回格式也要可文档上一致<br> <img src="https://images2.imgbox.com/8d/59/M17tqtMk_o.png" alt="在这里插入图片描述"><br> 2）自定义上传（一般上传到别的服务器上，我这边是上传到七牛云服务器上）<img src="https://images2.imgbox.com/ec/ee/1Yx9NMky_o.png" alt=""><br> 在data配置上传图片、视频</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">editorConfig</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请输入内容..."</span><span class="token punctuation">,</span>
        <span class="token comment">// 所有的菜单配置，都要在 MENU_CONF 属性下</span>
        <span class="token constant">MENU_CONF</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">uploadImage</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function-variable function">customUpload</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> insertFn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">let</span> resultUrl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">upqiniu</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> file<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">insertFn</span><span class="token punctuation">(</span>resultUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">uploadVideo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function-variable function">customUpload</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> insertFn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">let</span> resultUrl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">upqiniu</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> file<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token function">insertFn</span><span class="token punctuation">(</span>resultUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>this.upqiniu是我写的上传服务器的代码，最终将接口返回的地址return出去就行</p> 
<pre><code class="prism language-javascript"> <span class="token function">upqiniu</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">useCdnDomain</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//表示是否使用 cdn 加速域名，为布尔值，true 表示使用，默认为 false。</span>
          <span class="token literal-property property">region</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 根据具体提示修改上传地区,当为 null 或 undefined 时，自动分析上传域名区域</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> putExtra <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">fname</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">upload_pic_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">//文件原文件名</span>
          <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//用来放置自定义变量</span>
          <span class="token literal-property property">mimeType</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//用来限制上传文件类型，为 null 时表示不对文件类型限制；限制类型放到数组里： ["image/png", "image/jpeg", "image/gif"]</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> observable <span class="token operator">=</span> qiniu<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>
          file<span class="token punctuation">,</span>
          <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">upload_pic_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">,</span>
          putExtra<span class="token punctuation">,</span>
          config
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        observable<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 主要用来展示进度</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">errResult</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 失败报错信息</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 接收成功后返回的信息</span>
            <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">"http://image.gewu.pro/"</span> <span class="token operator">+</span> result<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h2><a id="_153"></a>二、添加锚链接</h2> 
<p>需求是在富文本编辑器里编辑的时候可以将标题提出来显示在左边，并且编辑完在查看的时候点击左边的标题能跳到对应的标题位置，这里我用的是锚链接实现</p> 
<p><img src="https://images2.imgbox.com/38/ea/fM1LeoVz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/60/ad/rjd0ijAu_o.png" alt="在这里插入图片描述"></p> 
<p>1、在编辑框的onchange事件里将带有h1-h2的标签都提出来并且加上锚链接</p> 
<pre><code class="prism language-javascript"> <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;h[1-6][\s\S]*?h[1-6]&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//所有的h标签</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>titleArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//添加锚链接的标题</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hArr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>hArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 标题</span>
          <span class="token keyword">let</span> text <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;[^&gt;]+&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>titleArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a href="#miao</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>2、在编辑器保存的时候将文章的标题加上id</p> 
<pre><code class="prism language-javascript"> 		<span class="token keyword">let</span> zhengwen <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>html<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hArr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>hArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token comment">// 替换文章标签</span>
              <span class="token keyword">let</span> itemArr <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              itemArr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> id="miao</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">let</span> xinItem <span class="token operator">=</span> itemArr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              zhengwen <span class="token operator">=</span> zhengwen<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> xinItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
  <span class="token comment">// 最后将zhengwen （编辑器的文章内容）和 titleArr 单独传给接口查看的时候就能实现锚链接的功能</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c2/99/pmW1vHhL_o.gif" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5eef33b3cd635fd3d61192d1c52f2916/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入浅出Git教程（转载）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/350c60d2f5a6b9dc671c447c78ec1a86/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux部署docker（最详细docker，一看就会）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>