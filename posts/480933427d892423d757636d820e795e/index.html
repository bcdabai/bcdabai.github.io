<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python-ldap的API使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python-ldap的API使用" />
<meta property="og:description" content="官网：python-ldap — python-ldap 3.4.3 documentation
下面是一个简单的 Python LDAP 代码示例，用于连接到 LDAP 服务器并检索用户信息：
import ldap # Set the LDAP server URI and bind credentials LDAP_URI = &#39;ldap://ldap.example.com&#39; LDAP_USERNAME = &#39;cn=admin,dc=example,dc=com&#39; LDAP_PASSWORD = &#39;adminpassword&#39; # Connect to the LDAP server ldap_conn = ldap.initialize(LDAP_URI) ldap_conn.simple_bind_s(LDAP_USERNAME, LDAP_PASSWORD) # Search for a user by their email address search_filter = &#39;(mail=user@example.com)&#39; search_base = &#39;ou=people,dc=example,dc=com&#39; attrs = [&#39;uid&#39;, &#39;givenName&#39;, &#39;sn&#39;, &#39;mail&#39;] result = ldap_conn.search_s(search_base, ldap.SCOPE_SUBTREE, search_filter, attrs) # Print the user information if result: dn, entry = result[0] uid = entry." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/480933427d892423d757636d820e795e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-14T10:55:40+08:00" />
<meta property="article:modified_time" content="2023-04-14T10:55:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python-ldap的API使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>官网：<a href="https://www.python-ldap.org/en/python-ldap-3.4.3/" rel="nofollow" title="python-ldap — python-ldap 3.4.3 documentation">python-ldap — python-ldap 3.4.3 documentation</a></p> 
<p></p> 
<p>下面是一个简单的 Python LDAP 代码示例，用于连接到 LDAP 服务器并检索用户信息：</p> 
<pre><code class="language-python">import ldap

# Set the LDAP server URI and bind credentials
LDAP_URI = 'ldap://ldap.example.com'
LDAP_USERNAME = 'cn=admin,dc=example,dc=com'
LDAP_PASSWORD = 'adminpassword'

# Connect to the LDAP server
ldap_conn = ldap.initialize(LDAP_URI)
ldap_conn.simple_bind_s(LDAP_USERNAME, LDAP_PASSWORD)

# Search for a user by their email address
search_filter = '(mail=user@example.com)'
search_base = 'ou=people,dc=example,dc=com'
attrs = ['uid', 'givenName', 'sn', 'mail']
result = ldap_conn.search_s(search_base, ldap.SCOPE_SUBTREE, search_filter, attrs)

# Print the user information
if result:
    dn, entry = result[0]
    uid = entry.get('uid', [''])[0]
    first_name = entry.get('givenName', [''])[0]
    last_name = entry.get('sn', [''])[0]
    email = entry.get('mail', [''])[0]
    print(f'User: {uid}\nFirst name: {first_name}\nLast name: {last_name}\nEmail: {email}')
else:
    print('User not found')

# Close the LDAP connection
ldap_conn.unbind()</code></pre> 
<p>这个示例连接到一个 LDAP 服务器，使用管理员凭据进行身份验证，然后搜索具有特定电子邮件地址的用户。它检索用户的 uid，名字，姓氏和电子邮件，并将它们打印到控制台上。最后，它关闭了 LDAP 连接。你可以根据需要修改搜索过滤器，搜索基础和属性列表。</p> 
<p>实例：</p> 
<pre><code class="language-python">import ldap

LDAP_SERVER = 'ldap://10.33.32.135'
LDAP_BIND = 'ou=People,dc=vivo,dc=lan'
LDAP_PASS = 'Lu2Kiaw'
BASE_DN = 'dc=vivo,dc=lan'
SEARCH_FILTER = '(&amp;(objectClass=posixAccount)(uid=11136711))'

def ldap_search():
    ldap_conn = ldap.initialize(LDAP_SERVER)
    ldap_conn.protocol_version = 3
    ldap_conn.simple_bind(LDAP_BIND, LDAP_PASS)
    search_result = ldap_conn.search_s(BASE_DN, ldap.SCOPE_SUBTREE, SEARCH_FILTER)
    if search_result:
        for dn, attrs in search_result:
            print('DN: {}'.format(dn))
            for attr, value in attrs.items():
                print('{}: {}'.format(attr, value))
	else:
		print('No results found.')


if __name__ == '__main__':
	ldap_search()
#ldap_add_mem("141a49b683a57267e82f620889e3c887","72156781")</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1df66817245ad3a21308f37dae1ac9d5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UE5 如何通过Content下文件夹路径加载里面的资源</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/93da59c27cd45c38fb0d00e01ffbdd01/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何学习Python</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>