<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络-第三章-数据链路层 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络-第三章-数据链路层" />
<meta property="og:description" content="数据链路层 数据链路层属于计算机网络的底层。数据链路层使用的信道主要有： （1）点对点信道
（2）广播信道
本章节重要内容：（1）数据链路层的点对点信道和广播信道的特点，以及这两种信道所使用的的协议（ppp）协议以及（CSMA/CD协议）的特点。
（2）数据链路层的三个基本问题：封装成桢、透明传输和差错检测。
（3）以太网MAC层的硬件地址。
（4）适配器、转发器、集线器、网桥、以太网交换机的作用以及使用场合。
计算机网络-第三章-数据链路层 数据链路层属于计算机网络的底层。数据链路层使用的信道主要有： （1）点对点信道
（2）广播信道
使用点对点通信的数据链路层 数据链路和帧：
链路是从结点到相邻结点的一段物理线路中间没有任何其他交换结点；数据链路是必须有一条物理线路外还必须要有的通信协议来控制这些数据协议来控制这些数据传输。常用的方法是使用网络适配器（硬件、软件）
数据链路层的协议数据单元——帧
三个基本问题：封装成帧、透明传输、差错检测。下面一一介绍这三个问题；
1 封装成帧：是在一段数据的前后分别添加首部和尾部。首部和尾部的重要作用是进行帧定界。关于所传送帧的数据部分长度上限——最大传送单元（MTU，Maximum Transfer Unit)
2 透明传输 ；透明这个词得特殊理解，所谓“透明”便是：某一个实际存在的事物看起来却好像不存在一样。那么透明传输的理解就是：不管所传数据是什么样的比特组合，都应当能够在链路上传送
3 差错检测；
在实际的链路传输中可能会产生差错，0可能会变成1,1变成0这种比特差错；误码率：出错的比特占比比特总数比率。为了保证数据传输的可靠性就必须采用各种差错检测方法，在数据链路层较多使用CRC循环冗余检验。
CRC冗余检验原理：
1 先在K个数据的后面添加供差错检验用的n位冗余码；
2 发出（k&#43;n）位
3 进行模2运算。
4 得出余数若为0便没错。
最后再强调一下，在数据链路层若仅仅使用循环冗余检验 CRC,差错检测技术，则只能做到对帧的无差端接受，即：“凡是接收端数据链路层接受的帧，我们都能以非常接近于1的概率认为在传输过程中没有产生差错”。接收丢弃的帧虽然曾收到了，但最终还
是有差错被丢弃，即没有被接受。以上所述通常都是这样认为小
“凡是接收端数据链路层接受的帧均无差错”。
点对点协议PPP ppp协议数据链路层广泛使用的协议
ppp协议需要满足：
1 简单 2封装成帧 3透明性 4多种网络层协议 5多种类型链路 6差错建议 7检测连接状态 8最大传送单位 9网络层地址协商 10数据压缩协商 PPP协议组成： 一个将IP数据报封到串行链路的方法。PPP既支持异步链路（无奇偶校验的8比特数据），也支持面向比特的同步链路。一个用来建立、配置和测试数据链路的链路控制协议LCP（Link Control Protocol）。通信的双方可协商一些选项。在[RFC 1661]中定义了11种类型的LCP分组。
3.一套网络控制协议NCP（Network Control Protocol），支持不同的网络层协议，如IP、OSI的网络层、DECnet、AppleTalk等。 PPP协议帧格式： 字节填充： 示例：异步传输时有转义字符0x7D（01111101）使用字节填充。
1把信息字段中出现的每一个0x7E字节转变为2字节序列(0x7D，0x5E)。
2若信息字段中出现一个0x7D的字节(即出现了和转义字符一样的比特组合)，则把转义字符0x7D转变为2字节序列(0x7D，0x5D)。
3若信息字段中出现ASCII码的控制字符(即数值小于0x20的字符)，则在该字符前面要加入一个0x7D字节，同时将该字符的编码加以改变。例如，出现0x03(在控制字符中是“传输结束”ETX)就要把它转变为2字节序列的(0x7D，0x23)。
零比特填充：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/d5b70718090e304b787b7ffde4f7f1d0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-15T22:29:50+08:00" />
<meta property="article:modified_time" content="2022-04-15T22:29:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络-第三章-数据链路层</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>数据链路层</h3> 
<h5><a id="_3"></a>数据链路层属于计算机网络的底层。数据链路层使用的信道主要有：</h5> 
<p>（1）点对点信道<br> （2）广播信道<br> 本章节重要内容：（1）数据链路层的点对点信道和广播信道的特点，以及这两种信道所使用的的协议（ppp）协议以及（CSMA/CD协议）的特点。<br> （2）数据链路层的三个基本问题：封装成桢、透明传输和差错检测。<br> （3）以太网MAC层的硬件地址。<br> （4）适配器、转发器、集线器、网桥、以太网交换机的作用以及使用场合。</p> 
<h3><a id="_11"></a>计算机网络-第三章-数据链路层</h3> 
<h5><a id="_15"></a>数据链路层属于计算机网络的底层。数据链路层使用的信道主要有：</h5> 
<p><strong>（1）点对点信道<br> （2）广播信道</strong></p> 
<h6><a id="_21"></a>使用点对点通信的数据链路层</h6> 
<p>数据链路和帧：</p> 
<p><em>链路是从结点到相邻结点的一段物理线路中间没有任何其他交换结点；数据链路是必须有一条物理线路外还必须要有的通信协议来控制这些数据协议来控制这些数据传输。常用的方法是使用网络适配器（硬件、软件）</em></p> 
<p><em><strong>数据链路层的协议数据单元——帧</strong></em><br> <strong>三个基本问题</strong>：<em>封装成帧、透明传输、差错检测。下面一一介绍这三个问题；</em><br> <strong>1 封装成帧</strong>：是在一段数据的前后分别添加首部和尾部。首部和尾部的重要作用是进行帧定界。关于所传送帧的数据部分长度上限——最大传送单元（MTU，Maximum Transfer Unit)<br> <img src="https://images2.imgbox.com/9e/f4/rpbYCmuG_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2 透明传输</strong> ；透明这个词得特殊理解，所谓“透明”便是：某一个实际存在的事物看起来却好像不存在一样。那么透明传输的理解就是：不管所传数据是什么样的比特组合，都应当能够在链路上传送</p> 
<p><strong>3 差错检测；</strong></p> 
<p>在实际的链路传输中可能会产生差错，0可能会变成1,1变成0这种比特差错；误码率：出错的比特占比比特总数比率。为了保证数据传输的可靠性就必须采用各种差错检测方法，在数据链路层较多使用CRC循环冗余检验。</p> 
<p><strong>CRC冗余检验原理</strong>：<br> 1 先在K个数据的后面添加供差错检验用的n位冗余码；<br> 2 发出（k+n）位<br> 3 进行模2运算。<br> 4 得出余数若为0便没错。<br> <img src="https://images2.imgbox.com/cd/92/JOJBAviw_o.png" alt="在这里插入图片描述"></p> 
<p><em>最后再强调一下，在数据链路层若仅仅使用循环冗余检验 CRC,差错检测技术，则只能做到对帧的无差端接受，即：“凡是接收端数据链路层接受的帧，我们都能以非常接近于1的概率认为在传输过程中没有产生差错”。接收丢弃的帧虽然曾收到了，但最终还<br> 是有差错被丢弃，即没有被接受。以上所述通常都是这样认为小<br> “凡是接收端数据链路层接受的帧均无差错”。</em></p> 
<h6><a id="PPP_57"></a>点对点协议PPP</h6> 
<p><strong>ppp协议数据链路层广泛使用的协议</strong><br> ppp协议需要满足：</p> 
<pre><code class="prism language-bash"><span class="token number">1</span> 简单
<span class="token number">2</span>封装成帧
<span class="token number">3</span>透明性
<span class="token number">4</span>多种网络层协议
<span class="token number">5</span>多种类型链路
<span class="token number">6</span>差错建议
<span class="token number">7</span>检测连接状态
<span class="token number">8</span>最大传送单位
<span class="token number">9</span>网络层地址协商
<span class="token number">10</span>数据压缩协商
</code></pre> 
<h6><a id="PPP_77"></a>PPP协议组成：</h6> 
<ol><li>一个将IP数据报封到串行链路的方法。PPP既支持异步链路（无奇偶校验的8比特数据），也支持面向比特的同步链路。</li><li>一个用来建立、配置和测试数据链路的链路控制协议LCP（Link Control Protocol）。通信的双方可协商一些选项。在[RFC 1661]中定义了11种类型的LCP分组。<br> 3.一套网络控制协议NCP（Network Control Protocol），支持不同的网络层协议，如IP、OSI的网络层、DECnet、AppleTalk等。</li></ol> 
<h6><a id="PPP_84"></a>PPP协议帧格式：</h6> 
<p><img src="https://images2.imgbox.com/97/22/xL5ZUkVu_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_89"></a>字节填充：</h6> 
<p>示例：异步传输时有转义字符0x7D（01111101）使用字节填充。<br> 1把信息字段中出现的每一个0x7E字节转变为2字节序列(0x7D，0x5E)。<br> 2若信息字段中出现一个0x7D的字节(即出现了和转义字符一样的比特组合)，则把转义字符0x7D转变为2字节序列(0x7D，0x5D)。<br> 3若信息字段中出现ASCII码的控制字符(即数值小于0x20的字符)，则在该字符前面要加入一个0x7D字节，同时将该字符的编码加以改变。例如，出现0x03(在控制字符中是“传输结束”ETX)就要把它转变为2字节序列的(0x7D，0x23)。<br> <img src="https://images2.imgbox.com/ea/35/gmHN7iAU_o.png" alt="在这里插入图片描述"></p> 
<p>零比特填充：<br> 在发送端，当一串比特流尚未加上标志字段时，先用硬件扫描整个帧。只要发现5个连续1，则立即填入一个0。因此经过这种零比特填充后的数据，就可以保证不会出现6个连续1。在接收一个帧时，先找到F字段以确定帧的边界。接着再用硬件对其中的比特流进行扫描。每当发现5个连续1时，就将这5个连续1后的一个0删除，以还原成原来的比特流。这样就保证了在所传送的比特流中，不管出现什么样的比特组合，也不至于引起帧边界的判断错误。例如：某一非标志字段（0 1 0 0 1 1 1 1 1 1 0 0 0 1 0 1 0）中恰好出现“01111110”，被误认为是标志字段，则发送端连续发送5 个“1”后，填入1个“0”：0 1 0 0 1 1 1 1 1 0 1 0 0 0 1 0 1 0，接收端将5 个连1 之后的“0”删除：0 1 0 0 1 1 1 1 1 1 0 0 0 1 0 1 0<br> <img src="https://images2.imgbox.com/20/29/LfPSsxSi_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="ppp_102"></a>ppp协议工作状态</h6> 
<p><em>1配置确认帧；<br> 2 配置否认帧；<br> 3 配置拒绝帧；</em></p> 
<h5><a id="_109"></a>使用广播信道的数据链路层</h5> 
<p>局域网的数据链路层<br> <em><strong>局域网</strong>：<br> 网络为一个单位所拥有、且地理范围和站点数目均有限。<br> 局域网拓扑：星形网、环形网、总线网</em><br> <em><strong>共享信道</strong></em>：<br> <em>1静态划分；<br> 2动态媒体接入控制（多点接入）{随机接入、受控接入）</em></p> 
<p><strong>以太网的两个标准</strong>：<em>DIX Ethernet V2与IEEE的802.3</em></p> 
<h6><a id="_123"></a>适配器（网卡）作用</h6> 
<blockquote> 
 <p>进行数据数据串行传输和并行传输的转换。<br> 1 它是主机与介质的桥梁设备 　<br> 2 实现主机与介质之间的电信号匹配 　<br> 3 提供数据缓冲能力<br> 4 控制数据传送的功能(网卡一方面负责接收网络上传过来的数据包，解包后，将数据通过上的总线传输给本地计算机;另一方面它将本地计算机上的数据打包后送入网络。)</p> 
</blockquote> 
<h5><a id="CSMACD_133"></a>CSMA/CD协议（载波监听多点接入/碰撞检测）</h5> 
<p><strong>多点接入</strong>：在总线型网络，许多计算机以多点接入的方式连接在一根总线上。<br> <strong>载波监听</strong>：利用电子技术检测有无其他计算机也在发送。无论何时都要不停的对信道进行检测。<br> <strong>碰撞检测</strong>：就是“边发送边监听”</p> 
<h5><a id="_142"></a>传播时延对载波监听的影响：</h5> 
<p><img src="https://images2.imgbox.com/56/cd/nzdtezcw_o.png" alt="在这里插入图片描述"></p> 
<p>*CSMA/CD协议不可能同时进行发送和接受（但必须进行边发送边监听信道）故而只能进行双向交替通信（半双工通信）。<br> *<br> <em>截断二进制指数退避；强化碰撞；具体的详细见后期详解</em>。</p> 
<h5><a id="_150"></a>以太网的信道利用率</h5> 
<blockquote> 
 <p>a=t/T0；极限信道利用率：Smax=1/（1+a） 只有当参数啊远小于1 才能尽可能得到很高的极限信道利用率。</p> 
</blockquote> 
<h5><a id="MAC_156"></a>以太网的MAC层</h5> 
<p><strong>MAC层硬件地址</strong>：硬件地址又称物理地址或MAC地址。<br> 对三种帧的理解：<br> <strong>单播帧</strong>：一对一，收到的帧的MAC地址与本站的硬件地址相同。<br> <strong>广播帧</strong>：一对全体，发送给本局域网所有的站点的帧。<br> <strong>多播帧</strong>：一对多，发送给本局域网上一部分站点的帧。</p> 
<h6><a id="MAChttpsimgblogcsdnimgcn3b15765033774a01882ffcbdad9a07c3pngxossprocessimagewatermarktype_d3F5LXplbmhlaQshadow_50text_Q1NETiBAa29rb3Rhbwsize_20color_FFFFFFt_70g_sex_16_165"></a>MAC帧格式：<img src="https://images2.imgbox.com/06/11/1zYwrnAD_o.png" alt="在这里插入图片描述"></h6> 
<h5><a id="_168"></a>以太网交换机的自学习功能</h5> 
<p>下图是以太网交换机的交换表：<br> <img src="https://images2.imgbox.com/de/3a/gvXOY0fa_o.png" alt="在这里插入图片描述"></p> 
<p>收到一个帧的时候，先检查源MAC地址，看看自己维护的一个地址表中有没有这个地址。如果有，则2；如果没有，则将这个MAC地址、进入的端口、进入的时间放入这个表中； 2.检查目的MAC地址，然后到该表中查找，如果有匹配项，则按照表项中的端口号进行转发；如果没有，则转发到除进口之外的其他所有端口。</p> 
<p>交换机的工作原理中，交换机之间的MAC地址学习室通过端口泛洪的方式</p> 
<p><strong><code>下图是本章的思维导图</code></strong></p> 
<p><img src="https://images2.imgbox.com/60/67/S5Us3YvM_o.png" alt="在这里插入图片描述"><br> <strong><code>写作不易，如果本文对你有用的话 一键三连呀！（点赞转发加收藏）</code></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0453ccb13be1587c8c973c974de688db/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">matlab 用古典雅可比方法求矩阵特征根 （仅使用基础函数）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0d129c52318235148c9fded9e9a951e4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【laravel5.1】Blade模板继承简要使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>