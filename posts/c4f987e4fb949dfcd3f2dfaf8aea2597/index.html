<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LINUX 安装mysql5.6.50 RPM - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LINUX 安装mysql5.6.50 RPM" />
<meta property="og:description" content="今天要做一个MySql数据库的主从备份，由于现有的数据库，是使用宝塔安装的5.6.50版本，因此需要在新购买的服务器上安装MySql5.6.50版本，记录一下安装过程的碰见的各种问题
1.下载安装包
抖店云上的系统是CentOS 7.9 64位，因此下载Redhat 7系统下面的安装包
下载地址：https://downloads.mysql.com/archives/community/
只需要下载这两个安装包即可。
2.安装mysql
2.1将下载好的包上传到服务器上
2.2使用命令安装
安装依赖包
yum -y install libaio.so.1 libgcc_s.so.1 libstdc&#43;&#43;.so.6 libncurses.so.5 --setopt=protected_multilib=false
yum update libstdc&#43;±4.4.7-4.el6.x86_64
安装 mysql-client
rpm -ivh MySQL-client-5.6.22-1.el6.i686.rpm
安装 mysql-server
rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm
2.3碰到问题
1.安装mysql-server的时候碰见问题，输入命令rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm的时候返回，error: Failed dependencies，意思是 失败的依赖 解决方法：
在安装包后面加两个参数，如
rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm --nodeps --force
安装时不再分析包之间的依赖关系而直接安装。
2.安装完成之后，启动mysql服务，service mysql start的时候返回：/usr/sbin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory
网上是说这是Linux-centos版本的问题，有的版本缺少libaio.so.1文件。因此需要安装libaio。
安装之前检查一下libaio位置：wheris libaio." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c4f987e4fb949dfcd3f2dfaf8aea2597/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-21T10:25:07+08:00" />
<meta property="article:modified_time" content="2023-09-21T10:25:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LINUX 安装mysql5.6.50 RPM</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>今天要做一个MySql数据库的主从备份，由于现有的数据库，是使用宝塔安装的5.6.50版本，因此需要在新购买的服务器上安装MySql5.6.50版本，记录一下安装过程的碰见的各种问题</p> 
<p>1.下载安装包</p> 
<p>抖店云上的系统是CentOS 7.9 64位，因此下载Redhat 7系统下面的安装包</p> 
<p>下载地址：<a href="https://downloads.mysql.com/archives/community/" rel="nofollow" title="https://downloads.mysql.com/archives/community/">https://downloads.mysql.com/archives/community/</a></p> 
<p><img alt="" height="816" src="https://images2.imgbox.com/b9/bb/M9LbR03c_o.png" width="1200"></p> 
<p> 只需要下载这两个安装包即可。</p> 
<p>2.安装mysql</p> 
<p>2.1将下载好的包上传到服务器上</p> 
<p>2.2使用命令安装</p> 
<p>安装依赖包<br> yum -y install libaio.so.1 libgcc_s.so.1 libstdc++.so.6 libncurses.so.5 --setopt=protected_multilib=false<br> yum update libstdc+±4.4.7-4.el6.x86_64<br> 安装 mysql-client<br> rpm -ivh MySQL-client-5.6.22-1.el6.i686.rpm<br> 安装 mysql-server<br> rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm</p> 
<p>2.3碰到问题</p> 
<p>1.安装mysql-server的时候碰见问题，输入命令rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm的时候返回，<strong>error: Failed dependencies</strong>，意思是 失败的依赖 </p> 
<p>解决方法：</p> 
<p>在安装包后面加两个参数，如</p> 
<p>rpm -ivh MySQL-server-5.6.22-1.el6.i686.rpm --nodeps --force<br> 安装时不再分析包之间的依赖关系而直接安装。</p> 
<p>2.安装完成之后，启动mysql服务，service mysql start的时候返回：/<strong>usr/sbin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory</strong></p> 
<p>网上是说这是Linux-centos版本的问题，有的版本缺少<strong>libaio.so.1</strong>文件。因此需要安装libaio。</p> 
<p>安装之前检查一下libaio位置：wheris libaio.so.1</p> 
<p>如果没有检测到，手动安装一下：yum install -y libaio</p> 
<p>3.安装完libaio之后，再次启动mysql服务，返回：<strong>Failed to start mysqld.service: Unit not found</strong></p> 
<p>网上查到的方法是需要安装mysql-server</p> 
<p>通过命令安装：yum install -y mysql-server的时候又返回：<strong>Loaded plugins: fastestmirror, versionlock Loading mirror speeds from cached</strong></p> 
<p>a.首先解决Loaded plugins: fastestmirror</p> 
<p>注：fastestmirror是yum的一个加速插件，这里是插件提示信息是插件不能用了。</p> 
<p>解决办法：先给它禁用了</p> 
<p>1.修改配置文件</p> 
<p>vim  /etc/yum/pluginconf.d/fastestmirror.conf<br> 由enabled = 1修改为enabled = 0 意思是禁用它</p> 
<p>vim /etc/yum.conf</p> 
<p>修改为plugins=0 不使用插件</p> 
<p>b.然后再解决Loading mirror speeds from cached</p> 
<p>修改YUM源</p> 
<p>依次输入下面命令</p> 
<p>cd /etc/yum.repos.d/<br> mv CentOS-Base.repo CentOS-Base.repo.backup<br> wget http://mirrors.163.com/.help/CentOS6-Base-163.repo<br> mv CentOS6-Base-163.repo CentOS-Base.repo<br> yum clean all</p> 
<p>最后再安装yum install -y mysql-server就成功了</p> 
<p>4.再次启动mysql，返回：<strong>Starting MySQL.230510 17:37:30 mysqld_safe error: log-error set to '/var/log/mariadb/mariadb.log', however file don't exists. Create writable for user 'mysql'.</strong></p> 
<p>打开/etc/my.cnf文件，发现mysqld_dafe里面的log-error=/var/log/mariadb/mariadb.log，但是系统里面没有该路径，新建该文件，并授权</p> 
<p>mkdir  /var/log/mariadb<br> touch /var/log/mariadb/mariadb.log<br> chown -R mysql:mysql /var/log/mariadb/</p> 
<p>5.再次启动mysql，这回报错<strong>Starting MySQL..The server quit without updating PID file (/var/lib/mysql/iv-ycciye8exn7gran.pid)</strong></p> 
<p>网上搜索，出现的PID file的六种解决方法，我这边都不适用，因此进入/var/log/mariadb/mariadb.log日志里面查看，发现错误信息：/usr/sbin/mysqld: Table 'mysql.plugin' doesn't exist。</p> 
<p>table ‘mysql.host’不存在的原因是因为新安装的mysql服务后，一般需要执行数据库初始化操作 ，从而生成与权限相关的表，执行命令如下：</p> 
<p>/usr/bin/mysql_install_db --user=mysql</p> 
<p>注：以上命令中的mysql_install_db与你安装的mysql服务位置有关，如果不知道在哪，可以使用find / -name mysql_install_db找到其位置，然后执行上面的命令。</p> 
<p>如果报这个错，日志里面没有任何报错，配置文件、目录权限都对着，可以使用以下命令查看，是否缺少依赖文件<br> /usr/local/mysql/bin/mysqld -V</p> 
<p>主要是学会自己能找到错误原因，每个人的情况都不一样</p> 
<p>至此，终于可以正常启动mysql服务</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4b92e9bc55e02483ef2af5267c37adcd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">小程序开发一个多少钱啊</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a805e86f1a4a883efb7b6092ed03c4fe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">云计算（Docker）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>