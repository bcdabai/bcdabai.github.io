<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Java虚拟机常用性能监控和故障处理工具 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Java虚拟机常用性能监控和故障处理工具" />
<meta property="og:description" content="1.jps：虚拟机进程状况工具 JDK的很多小工具的名字都参考了UNIX命令的命名方式，jps（JVM Process Status Tool）是其中 的典型。除了名字像UNIX的ps命令之外，它的功能也和ps命令类似：可以列出正在运行的虚拟机进 程，并显示虚拟机执行主类（Main Class，main()函数所在的类）名称以及这些进程的本地虚拟机唯一 ID（LVMID，Local Virtual Machine Identifier）。虽然功能比较单一，但它绝对是使用频率最高的JDK 命令行工具，因为其他的JDK工具大多需要输入它查询到的LVMID来确定要监控的是哪一个虚拟机进 程。对于本地虚拟机进程来说，LVMID与操作系统的进程ID（PID，Process Identifier）是一致的，使 用Windows的任务管理器或者UNIX的ps命令也可以查询到虚拟机进程的LVMID，但如果同时启动了 多个虚拟机进程，无法根据进程名称定位时，那就必须依赖jps命令显示主类的功能才能区分了。
public class JavaVMStackOOM { private void dontStop() { while (true) { } } public void stackLeakByThread() { Thread thread = new Thread(new Runnable() { @Override public void run() { dontStop(); } }); thread.start(); } public static void main(String[] args) { JavaVMStackOOM javaVMStackOOM = new JavaVMStackOOM(); javaVMStackOOM.stackLeakByThread(); System.out.println(System.getProperties()); } } 启动上边测试程序查看进程状态
2. jstat：虚拟机统计信息监视工具 jstat（JVM Statistics Monitoring Tool）是用于监视虚拟机各种运行状态信息的命令行工具。它可 以显示本地或者远程[1]虚拟机进程中的类加载、内存、垃圾收集、即时编译等运行时数据，在没有 GUI图形界面、只提供了纯文本控制台环境的服务器上，它将是运行期定位虚拟机性能问题的常用工具。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/56ef9e01b8eddd3371821ee3c6296ecc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-07T17:40:47+08:00" />
<meta property="article:modified_time" content="2022-03-07T17:40:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Java虚拟机常用性能监控和故障处理工具</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1jps_0"></a>1.jps：虚拟机进程状况工具</h2> 
<p>JDK的很多小工具的名字都参考了UNIX命令的命名方式，jps（JVM Process Status Tool）是其中 的典型。除了名字像UNIX的ps命令之外，它的功能也和ps命令类似：可以列出正在运行的虚拟机进 程，并显示虚拟机执行主类（Main Class，main()函数所在的类）名称以及这些进程的本地虚拟机唯一 ID（LVMID，Local Virtual Machine Identifier）。虽然功能比较单一，但它绝对是使用频率最高的JDK 命令行工具，因为其他的JDK工具大多需要输入它查询到的LVMID来确定要监控的是哪一个虚拟机进 程。对于本地虚拟机进程来说，LVMID与操作系统的进程ID（PID，Process Identifier）是一致的，使 用Windows的任务管理器或者UNIX的ps命令也可以查询到虚拟机进程的LVMID，但如果同时启动了 多个虚拟机进程，无法根据进程名称定位时，那就必须依赖jps命令显示主类的功能才能区分了。</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaVMStackOOM</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dontStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stackLeakByThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        Thread thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">dontStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        JavaVMStackOOM javaVMStackOOM <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JavaVMStackOOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        javaVMStackOOM<span class="token punctuation">.</span><span class="token function">stackLeakByThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">getProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>启动上边测试程序查看进程状态<br> <img src="https://images2.imgbox.com/c3/79/8TA85Oih_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/72/03/mpNuFDoU_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2_jstat_32"></a>2. jstat：虚拟机统计信息监视工具</h2> 
<p>jstat（JVM Statistics Monitoring Tool）是用于监视虚拟机各种运行状态信息的命令行工具。它可 以显示本地或者远程[1]虚拟机进程中的类加载、内存、垃圾收集、即时编译等运行时数据，在没有 GUI图形界面、只提供了纯文本控制台环境的服务器上，它将是运行期定位虚拟机性能问题的常用工具。<br> 还是进行如上程序查询<br> <img src="https://images2.imgbox.com/4a/60/aggCQpSp_o.png" alt="在这里插入图片描述">表4-2 jstat工具主要选项<br> <img src="https://images2.imgbox.com/57/4d/3siTHSCp_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/eb/f7/dCHmoWuG_o.png" alt="在这里插入图片描述"><br> <em><strong>还有一个样例数据</strong></em><br> <img src="https://images2.imgbox.com/c8/97/nZUZmhVo_o.png" alt="在这里插入图片描述"><br> 查询结果表明：这台服务器的新生代Eden区（E，表示Eden）使用了6.2%的空间，2个Survivor区 （S0、S1，表示Survivor0、Survivor1）里面都是空的，老年代（O，表示Old）和永久代（P，表示 Permanent）则分别使用了41.42%和47.20%的空间。程序运行以来共发生Minor GC（YGC，表示Young GC）16次，总耗时0.105秒；发生Full GC（FGC，表示Full GC）3次，总耗时（FGCT，表示Full GC Time）为0.472秒；所有GC总耗时（GCT，表示GC Time）为0.577秒。</p> 
<h2><a id="3jinfoJava_41"></a>3.jinfo：Java配置信息工具</h2> 
<p>jinfo（Configuration Info for Java）的作用是实时查看和调整虚拟机各项参数。使用jps命令的-v参 数可以查看虚拟机启动时显式指定的参数列表，但如果想知道未被显式指定的参数的系统默认值，除 了去找资料外，就只能使用jinfo的-flag选项进行查询了（如果只限于JDK 6或以上版本的话，使用java- XX：+PrintFlagsFinal查看参数默认值也是一个很好的选择）。jinfo还可以使用-sysprops选项把虚拟机 进程的System.getProperties()的内容打印出来。这个命令在JDK 5时期已经随着Linux版的JDK发布，当 时只提供了信息查询的功能，JDK 6之后，jinfo在Windows和Linux平台都有提供，并且加入了在运行期 修改部分参数值的能力（可以使用-flag[+|-]name或者-flag name=value在运行期修改一部分运行期可写的 虚拟机参数值）。在JDK 6中，jinfo对于Windows平台功能仍然有较大限制，只提供了最基本的-flag选 项。</p> 
<pre><code class="prism language-java">C<span class="token operator">:</span>\Users\ADMIN<span class="token operator">&gt;</span>jinfo <span class="token number">18948</span>
Java System Properties<span class="token operator">:</span>
#Mon Mar <span class="token number">07</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">13</span><span class="token operator">:</span><span class="token number">43</span> CST <span class="token number">2022</span>
java<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token function">Java</span><span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment
sun<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\bin
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">25.311</span><span class="token operator">-</span>b11
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>vendor<span class="token operator">=</span>Oracle Corporation
java<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>url<span class="token operator">=</span>http\<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>java<span class="token punctuation">.</span>oracle<span class="token punctuation">.</span>com<span class="token operator">/</span>
path<span class="token punctuation">.</span>separator<span class="token operator">=</span><span class="token punctuation">;</span>
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>name<span class="token operator">=</span>Java <span class="token function">HotSpot</span><span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span><span class="token operator">-</span>Bit Server VM
file<span class="token punctuation">.</span>encoding<span class="token punctuation">.</span>pkg<span class="token operator">=</span>sun<span class="token punctuation">.</span>io
user<span class="token punctuation">.</span>script<span class="token operator">=</span>
user<span class="token punctuation">.</span>country<span class="token operator">=</span>CN
sun<span class="token punctuation">.</span>java<span class="token punctuation">.</span>launcher<span class="token operator">=</span>SUN_STANDARD
sun<span class="token punctuation">.</span>os<span class="token punctuation">.</span>patch<span class="token punctuation">.</span>level<span class="token operator">=</span>
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>name<span class="token operator">=</span>Java Virtual Machine Specification
user<span class="token punctuation">.</span>dir<span class="token operator">=</span>D\<span class="token operator">:</span>\\IdeaProject\\ScalaDemo2
java<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">1.8</span><span class="token number">.0</span>_311<span class="token operator">-</span>b11
java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>graphicsenv<span class="token operator">=</span>sun<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>Win32GraphicsEnvironment
java<span class="token punctuation">.</span>endorsed<span class="token punctuation">.</span>dirs<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\endorsed
os<span class="token punctuation">.</span>arch<span class="token operator">=</span>amd64
java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>tmpdir<span class="token operator">=</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\AppData\\Local\\Temp\\
line<span class="token punctuation">.</span>separator<span class="token operator">=</span>\r\n
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>vendor<span class="token operator">=</span>Oracle Corporation
user<span class="token punctuation">.</span>variant<span class="token operator">=</span>
os<span class="token punctuation">.</span>name<span class="token operator">=</span>Windows <span class="token number">10</span>
sun<span class="token punctuation">.</span>jnu<span class="token punctuation">.</span>encoding<span class="token operator">=</span>GBK
java<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\bin<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\Sun\\Java\\bin<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\system32<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Common Files\\Oracle\\Java\\javapath<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\Common Files\\Oracle\\Java\\javapath<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\system32<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\System32\\Wbem<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\System32\\WindowsPowerShell\\v1<span class="token punctuation">.</span><span class="token number">0</span>\\<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\System32\\OpenSSH\\<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\Intel\\<span class="token function">Intel</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> Management Engine Components\\DAL<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Intel\\<span class="token function">Intel</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> Management Engine Components\\DAL<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\jdk\\JDK11\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\jdk\\JDK11\\jre\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Git\\Git\\cmd<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Git\\Git\\cmd<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\sdk\\tools<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\sdk\\platform<span class="token operator">-</span>tools<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Docker\\Docker\\resources\\bin<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\ProgramData\\DockerDesktop\\version<span class="token operator">-</span>bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\openssl\\openssl<span class="token operator">-</span><span class="token number">0.9</span><span class="token number">.8</span>k_X64\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\NodeJS\\<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Appium\\Appium\\node_modules\\<span class="token punctuation">.</span>bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Appium\\Appium<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\flutter\\fluttersdk\\flutter\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Scala\\Scala<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Mysql\\mysql<span class="token operator">-</span><span class="token number">8.0</span><span class="token number">.28</span><span class="token operator">-</span>winx64\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\Cygwin\\bin<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\FreeType\\freetype<span class="token operator">-</span><span class="token number">2.10</span><span class="token number">.1</span>\\freetype<span class="token operator">-</span><span class="token number">2.10</span><span class="token number">.1</span>\\include<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\FreeType\\freetype<span class="token operator">-</span><span class="token number">2.10</span><span class="token number">.1</span>\\freetype<span class="token operator">-</span><span class="token number">2.10</span><span class="token number">.1</span>\\lib<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\AppData\\Local\\Microsoft\\WindowsApps<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\AppData\\Roaming\\npm<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\AppData\\Local\\Coursier\\data\\bin<span class="token punctuation">;</span><span class="token punctuation">.</span>
java<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>name<span class="token operator">=</span>Java Platform API Specification
java<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">52.0</span>
sun<span class="token punctuation">.</span>management<span class="token punctuation">.</span>compiler<span class="token operator">=</span>HotSpot <span class="token number">64</span><span class="token operator">-</span>Bit Tiered Compilers
os<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">10.0</span>
user<span class="token punctuation">.</span>home<span class="token operator">=</span>C\<span class="token operator">:</span>\\Users\\ADMIN
user<span class="token punctuation">.</span>timezone<span class="token operator">=</span>Asia<span class="token operator">/</span>Shanghai
java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>printerjob<span class="token operator">=</span>sun<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>windows<span class="token punctuation">.</span>WPrinterJob
file<span class="token punctuation">.</span>encoding<span class="token operator">=</span>UTF<span class="token operator">-</span><span class="token number">8</span>
java<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">1.8</span>
java<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span>path<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\charsets<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\deploy<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\access<span class="token operator">-</span>bridge<span class="token operator">-</span><span class="token number">64.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\cldrdata<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\dnsns<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\jaccess<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\jfxrt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\localedata<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\nashorn<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\sunec<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\sunjce_provider<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\sunmscapi<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\sunpkcs11<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext\\zipfs<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\javaws<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jce<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jfr<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jfxswt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jsse<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\management<span class="token operator">-</span>agent<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\plugin<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\resources<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\rt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\IdeaProject\\ScalaDemo2\\out\\production\\ScalaDemo2<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\<span class="token punctuation">.</span>ivy2\\cache\\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\\scala<span class="token operator">-</span>library\\jars\\scala<span class="token operator">-</span>library<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\<span class="token punctuation">.</span>ivy2\\cache\\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\\scala<span class="token operator">-</span>reflect\\jars\\scala<span class="token operator">-</span>reflect<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Users\\ADMIN\\<span class="token punctuation">.</span>ivy2\\cache\\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\\scala<span class="token operator">-</span>library\\srcs\\scala<span class="token operator">-</span>library<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token operator">-</span>sources<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>D\<span class="token operator">:</span>\\idea\\IntelliJ IDEA <span class="token number">2021.1</span><span class="token number">.3</span>\\lib\\idea_rt<span class="token punctuation">.</span>jar
user<span class="token punctuation">.</span>name<span class="token operator">=</span>ADMIN
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">1.8</span>
sun<span class="token punctuation">.</span>java<span class="token punctuation">.</span>command<span class="token operator">=</span>JavaVMStackOOM
java<span class="token punctuation">.</span>home<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre
sun<span class="token punctuation">.</span>arch<span class="token punctuation">.</span>data<span class="token punctuation">.</span>model<span class="token operator">=</span><span class="token number">64</span>
user<span class="token punctuation">.</span>language<span class="token operator">=</span>zh
java<span class="token punctuation">.</span>specification<span class="token punctuation">.</span>vendor<span class="token operator">=</span>Oracle Corporation
awt<span class="token punctuation">.</span>toolkit<span class="token operator">=</span>sun<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>windows<span class="token punctuation">.</span>WToolkit
java<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>info<span class="token operator">=</span>mixed mode
java<span class="token punctuation">.</span>version<span class="token operator">=</span><span class="token number">1.8</span><span class="token number">.0</span>_311
java<span class="token punctuation">.</span>ext<span class="token punctuation">.</span>dirs<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\ext<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Windows\\Sun\\Java\\lib\\ext
sun<span class="token punctuation">.</span>boot<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span>path<span class="token operator">=</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\resources<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\rt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\sunrsasign<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jsse<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jce<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\charsets<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\lib\\jfr<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C\<span class="token operator">:</span>\\Program Files\\Java\\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\\jre\\classes
java<span class="token punctuation">.</span>vendor<span class="token operator">=</span>Oracle Corporation
file<span class="token punctuation">.</span>separator<span class="token operator">=</span>\\
java<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span>url<span class="token punctuation">.</span>bug<span class="token operator">=</span>http\<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugreport<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>com<span class="token operator">/</span>bugreport<span class="token operator">/</span>
sun<span class="token punctuation">.</span>io<span class="token punctuation">.</span>unicode<span class="token punctuation">.</span>encoding<span class="token operator">=</span>UnicodeLittle
sun<span class="token punctuation">.</span>cpu<span class="token punctuation">.</span>endian<span class="token operator">=</span>little
sun<span class="token punctuation">.</span>desktop<span class="token operator">=</span>windows
sun<span class="token punctuation">.</span>cpu<span class="token punctuation">.</span>isalist<span class="token operator">=</span>amd64

VM Flags<span class="token operator">:</span>
<span class="token operator">-</span>XX<span class="token operator">:</span>CICompilerCount<span class="token operator">=</span><span class="token number">3</span> <span class="token operator">-</span>XX<span class="token operator">:</span>InitialHeapSize<span class="token operator">=</span><span class="token number">266338304</span> <span class="token operator">-</span>XX<span class="token operator">:</span>MaxHeapSize<span class="token operator">=</span><span class="token number">4259315712</span> <span class="token operator">-</span>XX<span class="token operator">:</span>MaxNewSize<span class="token operator">=</span><span class="token number">1419771904</span> <span class="token operator">-</span>XX<span class="token operator">:</span>MinHeapDeltaBytes<span class="token operator">=</span><span class="token number">524288</span> <span class="token operator">-</span>XX<span class="token operator">:</span>NewSize<span class="token operator">=</span><span class="token number">88604672</span> <span class="token operator">-</span>XX<span class="token operator">:</span>OldSize<span class="token operator">=</span><span class="token number">177733632</span> <span class="token operator">-</span>XX<span class="token operator">:</span>ThreadStackSize<span class="token operator">=</span><span class="token number">5120</span> <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>UseCompressedClassPointers <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>UseCompressedOops <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>UseFastUnorderedTimeStamps <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">-</span>UseLargePagesIndividualAllocation <span class="token operator">-</span>XX<span class="token operator">:</span><span class="token operator">+</span>UseParallelGC

VM Arguments<span class="token operator">:</span>
jvm_args<span class="token operator">:</span> <span class="token operator">-</span>Xss5M <span class="token operator">-</span>javaagent<span class="token operator">:</span>D<span class="token operator">:</span>\idea\IntelliJ IDEA <span class="token number">2021.1</span><span class="token number">.3</span>\lib\idea_rt<span class="token punctuation">.</span>jar<span class="token operator">=</span><span class="token number">59028</span><span class="token operator">:</span>D<span class="token operator">:</span>\idea\IntelliJ IDEA <span class="token number">2021.1</span><span class="token number">.3</span>\bin <span class="token operator">-</span>Dfile<span class="token punctuation">.</span>encoding<span class="token operator">=</span>UTF<span class="token operator">-</span><span class="token number">8</span>
java_command<span class="token operator">:</span> JavaVMStackOOM
java_class_path <span class="token punctuation">(</span>initial<span class="token punctuation">)</span><span class="token operator">:</span> C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\charsets<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\deploy<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\access<span class="token operator">-</span>bridge<span class="token operator">-</span><span class="token number">64.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\cldrdata<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\dnsns<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\jaccess<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\jfxrt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\localedata<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\nashorn<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\sunec<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\sunjce_provider<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\sunmscapi<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\sunpkcs11<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\ext\zipfs<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\javaws<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\jce<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\jfr<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\jfxswt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\jsse<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\management<span class="token operator">-</span>agent<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\plugin<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\resources<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Program Files\Java\jdk1<span class="token punctuation">.</span><span class="token number">8.0</span>_311\jre\lib\rt<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>D<span class="token operator">:</span>\IdeaProject\ScalaDemo2\out\production\ScalaDemo2<span class="token punctuation">;</span>C<span class="token operator">:</span>\Users\ADMIN\<span class="token punctuation">.</span>ivy2\cache\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\scala<span class="token operator">-</span>library\jars\scala<span class="token operator">-</span>library<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Users\ADMIN\<span class="token punctuation">.</span>ivy2\cache\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\scala<span class="token operator">-</span>reflect\jars\scala<span class="token operator">-</span>reflect<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token punctuation">.</span>jar<span class="token punctuation">;</span>C<span class="token operator">:</span>\Users\ADMIN\<span class="token punctuation">.</span>ivy2\cache\org<span class="token punctuation">.</span>scala<span class="token operator">-</span>lang\scala<span class="token operator">-</span>library\srcs\scala<span class="token operator">-</span>library<span class="token operator">-</span><span class="token number">2.13</span><span class="token number">.8</span><span class="token operator">-</span>sources<span class="token punctuation">.</span>jar<span class="token punctuation">;</span>D<span class="token operator">:</span>\idea\IntelliJ IDEA <span class="token number">2021.1</span><span class="token number">.3</span>\lib\idea_rt<span class="token punctuation">.</span>jar
Launcher Type<span class="token operator">:</span> SUN_STANDARD
</code></pre> 
<p>查询CMSInitiatingOccupancyFraction参数值</p> 
<pre><code class="prism language-java">C<span class="token operator">:</span>\Users\ADMIN<span class="token operator">&gt;</span>jinfo <span class="token operator">-</span>flag CMSInitiatingOccupancyFraction <span class="token number">18948</span>
<span class="token operator">-</span>XX<span class="token operator">:</span>CMSInitiatingOccupancyFraction<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<h2><a id="4jmapJava_119"></a>4.jmap：Java内存映像工具</h2> 
<p>jmap（Memory Map for Java）命令用于生成堆转储快照（一般称为heapdump或dump文件）。如<br> 果不使用jmap命令，要想获取Java堆转储快照也还有一些比较“暴力”的手段：譬如在第2章中用过的-<br> XX：+HeapDumpOnOutOfMemoryError参数，可以让虚拟机在内存溢出异常出现之后自动生成堆转储<br> 快照文件，通过-XX：+HeapDumpOnCtrlBreak参数则可以使用[Ctrl]+[Break]键让虚拟机生成堆转储快<br> 照文件，又或者在Linux系统下通过Kill-3命令发送进程退出信号“恐吓”一下虚拟机，也能顺利拿到堆转<br> 储快照。<br> jmap的作用并不仅仅是为了获取堆转储快照，它还可以查询finalize执行队列、Java堆和方法区的<br> 详细信息，如空间使用率、当前用的是哪种收集器等。<br> 和jinfo命令一样，jmap有部分功能在Windows平台下是受限的，除了生成堆转储快照的-dump选项<br> 和用于查看每个类的实例、空间占用统计的-histo选项在所有操作系统中都可以使用之外，其余选项都<br> 只能在Linux/Solaris中使用。<br> <img src="https://images2.imgbox.com/fa/47/6rbLILw5_o.png" alt="在这里插入图片描述"><br> 测试</p> 
<pre><code class="prism language-java">C<span class="token operator">:</span>\Users\ADMIN\Downloads<span class="token operator">&gt;</span>jmap <span class="token operator">-</span>dump<span class="token operator">:</span>format<span class="token operator">=</span>b<span class="token punctuation">,</span>file<span class="token operator">=</span>dump<span class="token punctuation">.</span>txt <span class="token number">18948</span>
Heap dump file created
</code></pre> 
<p>文件部分内容</p> 
<pre><code class="prism language-java"><span class="token number">4</span>a41 <span class="token number">5641</span> <span class="token number">2050</span> <span class="token number">524f</span> <span class="token number">4649</span> <span class="token number">4</span>c45 <span class="token number">2031</span> <span class="token number">2e30</span>
<span class="token number">2e31</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0800</span> <span class="token number">0001</span> <span class="token number">7f</span><span class="token number">63</span> <span class="token number">4</span>c7d <span class="token number">5e01</span>
<span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0015</span> <span class="token number">0000</span> <span class="token number">0210</span> faea <span class="token number">1</span>b80
<span class="token number">4d</span><span class="token number">41</span> <span class="token number">585f</span> <span class="token number">534d</span> <span class="token number">414</span>c <span class="token number">4</span>c5f <span class="token number">5445</span> <span class="token number">4e01</span> <span class="token number">0000</span>
<span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0011</span> <span class="token number">0000</span> <span class="token number">0210</span> f96a eab0 <span class="token number">6</span>a61
<span class="token number">7661</span> <span class="token number">2e6</span>e <span class="token number">6574</span> <span class="token number">2e01</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0031</span>
<span class="token number">0000</span> <span class="token number">0210</span> f963 b000 <span class="token number">284</span>c <span class="token number">6</span>a61 <span class="token number">7661</span> <span class="token number">2f</span><span class="token number">75</span>
<span class="token number">7469</span> <span class="token number">6</span>c2f <span class="token number">5365</span> <span class="token number">743</span>c <span class="token number">5445</span> <span class="token number">3</span>b3e <span class="token number">3</span>b4c <span class="token number">6</span>a61
<span class="token number">7661</span> <span class="token number">2f</span><span class="token number">6</span>c <span class="token number">616</span>e <span class="token number">672f</span> <span class="token number">4f</span><span class="token number">62</span> <span class="token number">6</span>a65 <span class="token number">6374</span> <span class="token number">3</span>b29
<span class="token number">5601</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0013</span> <span class="token number">0000</span> <span class="token number">0210</span> de6c
<span class="token number">3e30</span> <span class="token number">6</span>c69 <span class="token number">6e6</span>b <span class="token number">4d</span><span class="token number">65</span> <span class="token number">7468</span> <span class="token number">6f</span><span class="token number">64</span> <span class="token number">2001</span> <span class="token number">0000</span>
<span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0013</span> <span class="token number">0000</span> <span class="token number">0210</span> fae1 b120 <span class="token number">6</span>c61
<span class="token number">6e67</span> <span class="token number">7461</span> <span class="token number">6753</span> <span class="token number">6574</span> <span class="token number">7301</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span>
<span class="token number">001</span>a <span class="token number">0000</span> <span class="token number">0210</span> f96a <span class="token number">9860</span> <span class="token number">7479</span> <span class="token number">7065</span> <span class="token number">2063</span>
<span class="token number">616</span>e <span class="token number">2774</span> <span class="token number">2062</span> <span class="token number">6520</span> <span class="token number">6e75</span> <span class="token number">6</span>c6c <span class="token number">0100</span> <span class="token number">0000</span>
<span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">1</span>c00 <span class="token number">0002</span> <span class="token number">10f</span><span class="token number">9</span> <span class="token number">626d</span> d069 <span class="token number">7341</span>
<span class="token number">6</span>c70 <span class="token number">6861</span> <span class="token number">4e75</span> <span class="token number">6d</span><span class="token number">65</span> <span class="token number">7269</span> <span class="token number">6353</span> <span class="token number">7472</span> <span class="token number">696</span>e
<span class="token number">6701</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0033</span> <span class="token number">0000</span> <span class="token number">0210</span> de6c
<span class="token number">7970</span> <span class="token number">284</span>c <span class="token number">6</span>a61 <span class="token number">7661</span> <span class="token number">2f</span><span class="token number">6</span>c <span class="token number">616</span>e <span class="token number">672f</span> <span class="token number">436</span>c
</code></pre> 
<h2><a id="5jhat_163"></a>5.jhat：虚拟机堆转储快照分析工具</h2> 
<p>JDK提供jhat（JVM Heap Analysis Tool）命令与jmap搭配使用，来分析jmap生成的堆转储快照。 jhat内置了一个微型的HTTP/Web服务器，生成堆转储快照的分析结果后，可以在浏览器中查看。不过 实事求是地说，在实际工作中，除非手上真的没有别的工具可用，否则多数人是不会直接使用jhat命令 来分析堆转储快照文件的，主要原因有两个方面。一是一般不会在部署应用程序的服务器上直接分析 堆转储快照，即使可以这样做，也会尽量将堆转储快照文件复制到其他机器[1]上进行分析，因为分析 工作是一个耗时而且极为耗费硬件资源的过程，既然都要在其他机器上进行，就没有必要再受命令行 工具的限制了。另外一个原因是jhat的分析功能相对来说比较简陋，后文将会介绍到的VisualVM，以 及专业用于分析堆转储快照文件的Eclipse Memory Analyzer、IBM HeapAnalyzer[2]等工具，都能实现 比jhat更强大专业的分析功能。代码清单4-3演示了使用jhat分析上一节采用jmap生成的Eclipse IDE的内 存快照文件。<br> 由于我本地该命令不能使用,借用资料内容<br> 使用jhat分析dump文件</p> 
<pre><code class="prism language-java">jhat eclipse<span class="token punctuation">.</span>bin 
Reading from eclipse<span class="token punctuation">.</span>bin<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
Dump file created Fri Nov <span class="token number">19</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">21</span> CST <span class="token number">2010</span> 
Snapshot read<span class="token punctuation">,</span> resolving<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
Resolving <span class="token number">1225951</span> objects<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
Chasing references<span class="token punctuation">,</span> expect <span class="token number">245</span> dots<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
Eliminating duplicate references<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
Snapshot resolved<span class="token punctuation">.</span> 
Started HTTP server on port <span class="token number">7000</span> 
Server is ready<span class="token punctuation">.</span> 
</code></pre> 
<p>屏幕显示“Server is ready.”的提示后，用户在浏览器中输入http://localhost:7000/可以看到分析结<br> 果，如图4-3所示。<br> 分析结果默认以包为单位进行分组显示，分析内存泄漏问题主要会使用到其中的“Heap<br> Histogram”（与jmap-histo功能一样）与OQL页签的功能，前者可以找到内存中总容量最大的对象，后<br> 者是标准的对象查询语言，使用类似SQL的语法对内存中的对象进行查询统计。如果读者需要了解具<br> 体OQL的语法和使用方法<br> <img src="https://images2.imgbox.com/88/80/ADnaav6n_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="6jstackJava_189"></a>6.jstack：Java堆栈跟踪工具</h2> 
<p>jstack（Stack Trace for Java）命令用于生成虚拟机当前时刻的线程快照（一般称为threaddump或者 javacore文件）。线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈的集合，生成线程快照的 目的通常是定位线程出现长时间停顿的原因，如线程间死锁、死循环、请求外部资源导致的长时间挂 起等，都是导致线程长时间停顿的常见原因。线程出现停顿时通过jstack来查看各个线程的调用堆栈， 就可以获知没有响应的线程到底在后台做些什么事情，或者等待着什么资源。<br> <img src="https://images2.imgbox.com/df/29/0gWBpRuo_o.png" alt="在这里插入图片描述"><br> 同样测试程序查询结果</p> 
<pre><code class="prism language-java">C<span class="token operator">:</span>\Users\ADMIN\Downloads<span class="token operator">&gt;</span>jstack <span class="token operator">-</span>l <span class="token number">18948</span>
<span class="token number">2022</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">42</span>
Full thread dump Java <span class="token function">HotSpot</span><span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span><span class="token operator">-</span>Bit Server VM <span class="token punctuation">(</span><span class="token number">25.311</span><span class="token operator">-</span>b11 mixed mode<span class="token punctuation">)</span><span class="token operator">:</span>

<span class="token string">"DestroyJavaVM"</span> #<span class="token number">12</span> prio<span class="token operator">=</span><span class="token number">5</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de654800</span> nid<span class="token operator">=</span><span class="token number">0x5720</span> waiting on condition <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Thread-0"</span> #<span class="token number">11</span> prio<span class="token operator">=</span><span class="token number">5</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210faf42000</span> nid<span class="token operator">=</span><span class="token number">0x5910</span> runnable <span class="token punctuation">[</span><span class="token number">0x000000ec26efe000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE
        at JavaVMStackOOM<span class="token punctuation">.</span><span class="token function">dontStop</span><span class="token punctuation">(</span>JavaVMStackOOM<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span>
        at JavaVMStackOOM<span class="token punctuation">.</span>access$<span class="token function">000</span><span class="token punctuation">(</span>JavaVMStackOOM<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span>
        at JavaVMStackOOM$<span class="token number">1.</span><span class="token function">run</span><span class="token punctuation">(</span>JavaVMStackOOM<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">748</span><span class="token punctuation">)</span>

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Service Thread"</span> #<span class="token number">10</span> daemon prio<span class="token operator">=</span><span class="token number">9</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210faeb8800</span> nid<span class="token operator">=</span><span class="token number">0x5584</span> runnable <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"C1 CompilerThread2"</span> #<span class="token number">9</span> daemon prio<span class="token operator">=</span><span class="token number">9</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210fae02000</span> nid<span class="token operator">=</span><span class="token number">0x43b8</span> waiting on condition <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"C2 CompilerThread1"</span> #<span class="token number">8</span> daemon prio<span class="token operator">=</span><span class="token number">9</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210fadff800</span> nid<span class="token operator">=</span><span class="token number">0x5820</span> waiting on condition <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"C2 CompilerThread0"</span> #<span class="token number">7</span> daemon prio<span class="token operator">=</span><span class="token number">9</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210fadfb800</span> nid<span class="token operator">=</span><span class="token number">0x581c</span> waiting on condition <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Monitor Ctrl-Break"</span> #<span class="token number">6</span> daemon prio<span class="token operator">=</span><span class="token number">5</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210fadf4800</span> nid<span class="token operator">=</span><span class="token number">0x4d74</span> runnable <span class="token punctuation">[</span><span class="token number">0x000000ec260fe000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE
        at java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>SocketInputStream<span class="token punctuation">.</span><span class="token function">socketRead0</span><span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>SocketInputStream<span class="token punctuation">.</span><span class="token function">socketRead</span><span class="token punctuation">(</span>SocketInputStream<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">116</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>SocketInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>SocketInputStream<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">171</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>net<span class="token punctuation">.</span>SocketInputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>SocketInputStream<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">141</span><span class="token punctuation">)</span>
        at sun<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>StreamDecoder<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>StreamDecoder<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">284</span><span class="token punctuation">)</span>
        at sun<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>StreamDecoder<span class="token punctuation">.</span><span class="token function">implRead</span><span class="token punctuation">(</span>StreamDecoder<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">326</span><span class="token punctuation">)</span>
        at sun<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>cs<span class="token punctuation">.</span>StreamDecoder<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>StreamDecoder<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">178</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> locked <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b91c250<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>InputStreamReader<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">184</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>BufferedReader<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>BufferedReader<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">161</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>BufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span>BufferedReader<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">324</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> locked <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b91c250<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>BufferedReader<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span>BufferedReader<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">389</span><span class="token punctuation">)</span>
        at com<span class="token punctuation">.</span>intellij<span class="token punctuation">.</span>rt<span class="token punctuation">.</span>execution<span class="token punctuation">.</span>application<span class="token punctuation">.</span>AppMainV2$<span class="token number">1.</span><span class="token function">run</span><span class="token punctuation">(</span>AppMainV2<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">48</span><span class="token punctuation">)</span>

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Attach Listener"</span> #<span class="token number">5</span> daemon prio<span class="token operator">=</span><span class="token number">5</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210f9649800</span> nid<span class="token operator">=</span><span class="token number">0x36a8</span> waiting on condition <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Signal Dispatcher"</span> #<span class="token number">4</span> daemon prio<span class="token operator">=</span><span class="token number">9</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210f9649000</span> nid<span class="token operator">=</span><span class="token number">0x5a7c</span> runnable <span class="token punctuation">[</span><span class="token number">0x0000000000000000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> RUNNABLE

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Finalizer"</span> #<span class="token number">3</span> daemon prio<span class="token operator">=</span><span class="token number">8</span> os_prio<span class="token operator">=</span><span class="token number">1</span> tid<span class="token operator">=</span><span class="token number">0x00000210f961a000</span> nid<span class="token operator">=</span><span class="token number">0x4a7c</span> in Object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0x000000ec251fe000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> WAITING <span class="token punctuation">(</span>on object monitor<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
        <span class="token operator">-</span> waiting on <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b608ee0<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>ReferenceQueue$Lock<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>ReferenceQueue<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>ReferenceQueue<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">144</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> locked <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b608ee0<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>ReferenceQueue$Lock<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>ReferenceQueue<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>ReferenceQueue<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">165</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>Finalizer$FinalizerThread<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>Finalizer<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">216</span><span class="token punctuation">)</span>

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"Reference Handler"</span> #<span class="token number">2</span> daemon prio<span class="token operator">=</span><span class="token number">10</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210f960f800</span> nid<span class="token operator">=</span><span class="token number">0x372c</span> in Object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0x000000ec24cfe000</span><span class="token punctuation">]</span>
   java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">.</span>State<span class="token operator">:</span> WAITING <span class="token punctuation">(</span>on object monitor<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
        <span class="token operator">-</span> waiting on <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b606c00<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>Reference$Lock<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">502</span><span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>Reference<span class="token punctuation">.</span><span class="token function">tryHandlePending</span><span class="token punctuation">(</span>Reference<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">191</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> locked <span class="token generics function"><span class="token punctuation">&lt;</span>0x000000076b606c00<span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span>a java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>Reference$Lock<span class="token punctuation">)</span>
        at java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>Reference$ReferenceHandler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>Reference<span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">153</span><span class="token punctuation">)</span>

   Locked ownable synchronizers<span class="token operator">:</span>
        <span class="token operator">-</span> None

<span class="token string">"VM Thread"</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210f95e8000</span> nid<span class="token operator">=</span><span class="token number">0x4e4c</span> runnable

<span class="token string">"GC task thread#0 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de66b000</span> nid<span class="token operator">=</span><span class="token number">0x55b0</span> runnable

<span class="token string">"GC task thread#1 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de66c800</span> nid<span class="token operator">=</span><span class="token number">0x4fec</span> runnable

<span class="token string">"GC task thread#2 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de66d800</span> nid<span class="token operator">=</span><span class="token number">0x5ad8</span> runnable

<span class="token string">"GC task thread#3 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de670000</span> nid<span class="token operator">=</span><span class="token number">0x50f4</span> runnable

<span class="token string">"GC task thread#4 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de671000</span> nid<span class="token operator">=</span><span class="token number">0x5b10</span> runnable

<span class="token string">"GC task thread#5 (ParallelGC)"</span> os_prio<span class="token operator">=</span><span class="token number">0</span> tid<span class="token operator">=</span><span class="token number">0x00000210de674000</span> nid<span class="token operator">=</span><span class="token number">0x5634</span> runnable

<span class="token string">"VM Periodic Task Thread"</span> os_prio<span class="token operator">=</span><span class="token number">2</span> tid<span class="token operator">=</span><span class="token number">0x00000210faec5000</span> nid<span class="token operator">=</span><span class="token number">0x293c</span> waiting on condition

JNI global references<span class="token operator">:</span> <span class="token number">12</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73e86ab8e5b937c7afead0cfbd26520f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">课堂同步练习选择题（第三章）题库信阳师范学院柳春华老师</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17449b27221657c47d97e60704d1861c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">自己的网站被劫持跳转时该怎么解决？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>