<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lua学习笔记——异常处理pcall、xpcall - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Lua学习笔记——异常处理pcall、xpcall" />
<meta property="og:description" content="Lua学习笔记——异常处理pcall、xpcall、debug 目录 1、博客介绍
（1）pcall
（2）xpcall
3、推送
4、结语
1、博客介绍 本篇文章记录lua学习知识点，异常处理的方法pcall、xpcall、debug
2、内容
（1）pcall pcall有两个参数，写法pcall(parm1,parm2)，参数parma1为需要执行的方法，参数parm2为参数1方法的参数，pcall(~,~)返回一个布尔值，具体的写法如下，如果testFunc可以在接受参数后正常执行不出错，那么将会执行body1和body2的内容，反之则执行body3的内容。
function testFunc(num) -- body1 end if pcall(testFunc,2) then -- body2 else -- body3 end （2）xpcall pcall的进阶版，参数一同样是需要执行的方法，参数二则是一个错误处理函数，可以在这个函数内打印错误相关的堆栈信息并返回错误信息，则xpcall的两个返回值分别是状态和错误信息。
function testFunc(num) error(&#39;error..&#39;) end function dealMsg(msg) print(msg) print(debug.traceback()) return msg end local statue,mag = xpcall(testFunc,dealMsg) 3、推送 Github：https://github.com/KingSun5
4、结语 若是觉得博主的文章写的不错，不妨关注一下博主，点赞一下博文，另博主能力有限，若文中有出现什么错误的地方，欢迎各位评论指摘。
QQ交流群：806091680（Chinar）
该群为CSDN博主Chinar所创，推荐一下！我也在群里！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/53bea458b2e886c4aec18f258620fe12/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-18T23:50:46+08:00" />
<meta property="article:modified_time" content="2020-03-18T23:50:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Lua学习笔记——异常处理pcall、xpcall</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><span style="color:#3399ea;">                                 Lua学习笔记——异常处理pcall、xpcall、debug</span></h4> 
<hr> 
<h2 id="main-toc"><span style="color:#3399ea;">目录</span></h2> 
<p id="1%E3%80%81%E5%8D%9A%E5%AE%A2%E4%BB%8B%E7%BB%8D-toc" style="margin-left:0px;"><a href="#1%E3%80%81%E5%8D%9A%E5%AE%A2%E4%BB%8B%E7%BB%8D" rel="nofollow">1、博客介绍</a></p> 
<p id="%EF%BC%881%EF%BC%89pcall-toc" style="margin-left:40px;"><a href="#%EF%BC%881%EF%BC%89pcall" rel="nofollow">（1）pcall</a></p> 
<p id="%EF%BC%882%EF%BC%89xpcall-toc" style="margin-left:40px;"><a href="#%EF%BC%882%EF%BC%89xpcall" rel="nofollow">（2）xpcall</a></p> 
<p id="3%E3%80%81%E6%8E%A8%E9%80%81-toc" style="margin-left:0px;"><a href="#3%E3%80%81%E6%8E%A8%E9%80%81" rel="nofollow">3、推送</a></p> 
<p id="4%E3%80%81%E7%BB%93%E8%AF%AD-toc" style="margin-left:0px;"><a href="#4%E3%80%81%E7%BB%93%E8%AF%AD" rel="nofollow">4、结语</a></p> 
<hr> 
<h2 id="1%E3%80%81%E5%8D%9A%E5%AE%A2%E4%BB%8B%E7%BB%8D"><span style="color:#3399ea;"><strong>1、博客介绍</strong></span></h2> 
<p>本篇文章记录lua学习知识点，异常处理的方法pcall、xpcall、debug</p> 
<hr> 
<p>2、内容</p> 
<h3 id="%EF%BC%881%EF%BC%89pcall"><span style="color:#3399ea;">（1）pcall</span></h3> 
<blockquote> 
 <p>pcall有两个参数，写法pcall(parm1,parm2)，参数parma1为需要执行的方法，参数parm2为参数1方法的参数，pcall(~,~)返回一个布尔值，具体的写法如下，如果testFunc可以在接受参数后正常执行不出错，那么将会执行body1和body2的内容，反之则执行body3的内容。</p> 
</blockquote> 
<pre><code>function testFunc(num)
    -- body1
end

if pcall(testFunc,2) then
    -- body2
else
    -- body3
end</code></pre> 
<h3 id="%EF%BC%882%EF%BC%89xpcall"><span style="color:#3399ea;">（2）xpcall</span></h3> 
<blockquote> 
 <p>pcall的进阶版，参数一同样是需要执行的方法，参数二则是一个错误处理函数，可以在这个函数内打印错误相关的堆栈信息并返回错误信息，则xpcall的两个返回值分别是状态和错误信息。</p> 
</blockquote> 
<pre><code>function testFunc(num)
    error('error..')
end

function dealMsg(msg)
    print(msg)
    print(debug.traceback())
    return msg
end

local statue,mag = xpcall(testFunc,dealMsg)</code></pre> 
<hr> 
<h2 id="3%E3%80%81%E6%8E%A8%E9%80%81"><span style="color:#3399ea;"><strong>3、推送</strong></span></h2> 
<p><br> Github：https://github.com/KingSun5</p> 
<hr> 
<h2 id="4%E3%80%81%E7%BB%93%E8%AF%AD"><span style="color:#3399ea;"><strong>4、结语</strong></span></h2> 
<p><br>         若是觉得博主的文章写的不错，不妨关注一下博主，点赞一下博文，另博主能力有限，若文中有出现什么错误的地方，欢迎各位评论指摘。</p> 
<p>       QQ交流群：806091680（Chinar）</p> 
<p>       该群为CSDN博主Chinar所创，推荐一下！我也在群里！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ae7ec2a0881cb08fc8b3c5845c8ffae6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">七大原则&#43;23种设计模式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e621a620a6f1c5170db4869df1d1d0a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AttributeError: &#39;NoneType&#39; object has no attribute &#39;find_all&#39;(添加请求头信息)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>