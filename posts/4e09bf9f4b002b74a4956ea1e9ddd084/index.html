<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Jetpack Compose 入门教程之Text - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jetpack Compose 入门教程之Text" />
<meta property="og:description" content="这个文本显示组件应该是我们最常用的组件,下面会非常细 归纳
实例 下面一一演示这些属性与控制逻辑
文本的展示 Text组件 所有构造方法都是text:String,要想用string.xml里面的字符串资源 得使用
stringResource方法,其相似方法如下 /* * Copyright 2019 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &#34;License&#34;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4e09bf9f4b002b74a4956ea1e9ddd084/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-07T16:45:28+08:00" />
<meta property="article:modified_time" content="2023-09-07T16:45:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Jetpack Compose 入门教程之Text</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>这个文本显示组件应该是我们最常用的组件,下面会非常细</h2> 
<p></p> 
<h2>归纳<br><img alt="" height="1200" src="https://images2.imgbox.com/1e/23/3KJ2QxA7_o.png" width="1200"></h2> 
<h2>实例</h2> 
<p><br> 下面一一演示这些属性与控制逻辑</p> 
<h3>文本的展示</h3> 
<p><br> Text组件 所有构造方法都是text:String,要想用string.xml里面的字符串资源 得使用</p> 
<pre>stringResource方法,其相似方法如下

</pre> 
<pre><code class="language-Kotlin">/*
 * Copyright 2019 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package androidx.compose.ui.res

import androidx.annotation.ArrayRes
import androidx.annotation.PluralsRes
import androidx.annotation.StringRes
import androidx.compose.runtime.Composable
import androidx.compose.runtime.ReadOnlyComposable

/**
 * Load a string resource.
 *
 * @param id the resource identifier
 * @return the string data associated with the resource
 */
@Composable
@ReadOnlyComposable
fun stringResource(@StringRes id: Int): String {
    val resources = resources()
    return resources.getString(id)
}

/**
 * Load a string resource with formatting.
 *
 * @param id the resource identifier
 * @param formatArgs the format arguments
 * @return the string data associated with the resource
 */
@Composable
@ReadOnlyComposable
fun stringResource(@StringRes id: Int, vararg formatArgs: Any): String {
    val resources = resources()
    return resources.getString(id, *formatArgs)
}

/**
 * Load a string resource.
 *
 * @param id the resource identifier
 * @return the string data associated with the resource
 */
@Composable
@ReadOnlyComposable
fun stringArrayResource(@ArrayRes id: Int): Array&lt;String&gt; {
    val resources = resources()
    return resources.getStringArray(id)
}

/**
 * Load a plurals resource.
 *
 * @param id the resource identifier
 * @param count the count
 * @return the pluralized string data associated with the resource
 */
@Composable
@ReadOnlyComposable
fun pluralStringResource(@PluralsRes id: Int, count: Int): String {
    val resources = resources()
    return resources.getQuantityString(id, count)
}

/**
 * Load a plurals resource with provided format arguments.
 *
 * @param id the resource identifier
 * @param count the count
 * @param formatArgs arguments used in the format string
 * @return the pluralized string data associated with the resource
 */
@Composable
@ReadOnlyComposable
fun pluralStringResource(@PluralsRes id: Int, count: Int, vararg formatArgs: Any): String {
    val resources = resources()
    return resources.getQuantityString(id, count, *formatArgs)
}
</code></pre> 
<table border="1" cellpadding="1" cellspacing="1" style="width:609px;"><thead><tr><th>作用</th><th style="width:282px;">方法</th></tr></thead><tbody><tr><td> <pre>stringResource(@StringRes id: Int)</pre> </td><td style="width:282px;">获取xml指定id字符串资源</td></tr><tr><td> <pre>stringResource(@StringRes id: Int, vararg formatArgs: Any)</pre> </td><td style="width:282px;">获取xml指定id字符串资源,且格式化占位符号</td></tr><tr><td> <pre>stringArrayResource(@ArrayRes id: Int)</pre> </td><td style="width:282px;"> <pre>获取xml指定id字符串资源数组,返回是数组
&lt;string-array name="xxx"...</pre> </td></tr><tr><td> <pre>pluralStringResource(@PluralsRes id: Int, count: Int)</pre> </td><td style="width:282px;">根据数字的不同自动选择不同的<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;spm=1001.2101.3001.7020" title="字符串">字符串</a>显示，特别是单复数。<br> 特别是不同国家的语言对应不同的单复数。</td></tr><tr><td> <pre>pluralStringResource(@PluralsRes id: Int, count: Int, vararg formatArgs: Any)</pre> </td><td style="width:282px;"> <p>根据数字的不同自动选择不同的<a href="https://so.csdn.net/so/search?q=%E5%AD%97%E7%AC%A6%E4%B8%B2&amp;spm=1001.2101.3001.7020" title="字符串">字符串</a>显示，特别是单复数。<br> 特别是不同国家的语言对应不同的单复数。</p> </td></tr></tbody></table> 
<p></p> 
<pre><code class="language-Kotlin"> @Composable
    fun showXMLString(){
        Text(text = stringResource(id = R.string.app_name))
    }</code></pre> 
<p>文字颜色<br> color属性,但是是Color对象,暂时没看到支持resource的 得转换,估计也是md设计的原因 希望使用CompositionLocal来嫁接,其内置了很多常用色</p> 
<p><img alt="" height="331" src="https://images2.imgbox.com/ab/4d/xmfFQEeO_o.png" width="285"></p> 
<pre><code class="language-Kotlin">  @Composable
    fun showTextColor(){
        Text(text = stringResource(id = R.string.app_name), color = Color.Yellow)
    }</code></pre> 
<h3>文字大小</h3> 
<p><br> fontSize:UnitType类型<br><img alt="" height="259" src="https://images2.imgbox.com/9c/6e/kZTXTstN_o.png" width="534"></p> 
<p>UnitType 支持sp 和em,app一般用sp,em 网页用得多,估计是为跨平台考虑,kotlin在数字上的拓展转化单位<br><img alt="" height="372" src="https://images2.imgbox.com/1d/37/1F6zwaHt_o.png" width="398"></p> 
<pre><code class="language-Kotlin"> @Composable
    fun showTextSize(){
        Text(text = stringResource(id = R.string.app_name), fontSize =30.sp )
    }</code></pre> 
<p><img alt="" height="190" src="https://images2.imgbox.com/24/1a/nhFPkhqw_o.png" width="412"></p> 
<p>文字粗细<br> fontWeight属性<br> 类型是FontWeight,已经提前预置了很多static常量,当然也可以自己new,常用的</p> 
<p>FontWeight.Bold<br> FontWeight.Medium</p> 
<p>FontWeight.Normal</p> 
<pre><code>class FontWeight(val weight: Int) : Comparable&lt;FontWeight&gt; {

    companion object {
        /** [Thin] */
        @Stable
        val W100 = FontWeight(100)
        /** [ExtraLight] */
        @Stable
        val W200 = FontWeight(200)
        /** [Light] */
        @Stable
        val W300 = FontWeight(300)
        /** [Normal] / regular / plain */
        @Stable
        val W400 = FontWeight(400)
        /** [Medium] */
        @Stable
        val W500 = FontWeight(500)
        /** [SemiBold] */
        @Stable
        val W600 = FontWeight(600)
        /** [Bold] */
        @Stable
        val W700 = FontWeight(700)
        /** [ExtraBold] */
        @Stable
        val W800 = FontWeight(800)
        /** [Black] */
        @Stable
        val W900 = FontWeight(900)

        /** Alias for [W100] */
        @Stable
        val Thin = W100
        /** Alias for [W200] */
        @Stable
        val ExtraLight = W200
        /** Alias for [W300] */
        @Stable
        val Light = W300
        /** The default font weight - alias for [W400] */
        @Stable
        val Normal = W400
        /** Alias for [W500] */
        @Stable
        val Medium = W500
        /** Alias for [W600] */
        @Stable
        val SemiBold = W600
        /**
         * A commonly used font weight that is heavier than normal - alias for [W700]
         */
        @Stable
        val Bold = W700
        /** Alias for [W800] */
        @Stable
        val ExtraBold = W800
        /** Alias for [W900] */
        @Stable
        val Black = W900

        /** A list of all the font weights. */
        internal val values: List&lt;FontWeight&gt; = listOf(
            W100,
            W200,
            W300,
            W400,
            W500,
            W600,
            W700,
            W800,
            W900
        )
    }

    init {
        require(weight in 1..1000) {
            "Font weight can be in range [1, 1000]. Current value: $weight"
        }
    }

}
</code></pre> 
<pre><code class="language-Kotlin">    @Composable
    fun showFontWeight(){
        Text(text = stringResource(id = R.string.app_name), fontWeight = FontWeight.Bold )
    }</code></pre> 
<p><img alt="" height="148" src="https://images2.imgbox.com/ba/bc/tnQY7rJK_o.png" width="377"></p> 
<h3>文字对齐方式</h3> 
<p><br> textAlign属性,类型TextAlign对象,固定五6个常量对象<br><img alt="" height="323" src="https://images2.imgbox.com/9b/74/rYa36VFl_o.png" width="351"><br> 文字居中实例</p> 
<pre><code class="language-Kotlin">  @Composable
    fun showTextAlign(){
        Text(text = "textAlign", textAlign = TextAlign.Center, modifier = Modifier.width(150.dp).background(Color.Blue))
    }</code></pre> 
<p><img alt="" height="317" src="https://images2.imgbox.com/54/27/KwpeVLdr_o.png" width="388"><br>  </p> 
<h3>文字阴影</h3> 
<p>文字阴影没有一级属性,估计也是不常用,放在了style里面,style的类型是TextStyle,其实所有控制样式的一级属性最后都会merge到TextStyle对象里面,所以能通过一级属性控制的 也基本能通过TextStyle来控制</p> 
<p><img alt="" height="658" src="https://images2.imgbox.com/30/19/0lzmxQei_o.png" width="484"></p> 
<p><img alt="" height="455" src="https://images2.imgbox.com/ef/fe/VCZna0XO_o.png" width="448"></p> 
<pre><code class="language-Kotlin">  @Composable
    fun showTextShadow(){
        Text(text = "textShadow",
            style = TextStyle(shadow = Shadow(color = Color.Gray,
            offset = Offset(10.0f,10.0f),
            blurRadius=3f)))
    }
</code></pre> 
<p><img alt="" height="529" src="https://images2.imgbox.com/fc/87/SqQQ47Cq_o.png" width="473"></p> 
<p>文字字体<br> fontFamily属性,内置了6种字体<br><img alt="" height="423" src="https://images2.imgbox.com/3c/45/kEJTOyhG_o.png" width="369"></p> 
<pre><code class="language-Kotlin"> @Composable
    fun showFontFamily(){
        Column(modifier = Modifier.padding(10.dp)) {
            Text(text = "FontFamily", fontFamily = FontFamily.Serif)
            Text(text = "FontFamily", fontFamily = FontFamily.SansSerif)
        }
    }</code></pre> 
<p><img alt="" height="329" src="https://images2.imgbox.com/b4/5b/sH3tKu0U_o.png" width="354"></p> 
<p>您可以使用 <code>fontFamily</code> 属性来处理 <code>res/font</code> 文件夹中定义的自定义字体和字型：</p> 
<p>font 文件夹的图示" class="l10n-absolute-url-src screenshot" l10n-attrs-original-order="src,alt,width,class" src="https://developer.android.com/static/images/jetpack/compose/text-font-folder.png" width="400" /&gt;</p> 
<p>此示例展示了如何根据这些字体文件以及使用 <a href="https://developer.android.google.cn/reference/kotlin/androidx/compose/ui/text/font/package-summary?hl=zh-cn#Font%28kotlin.Int,androidx.compose.ui.text.font.FontWeight,androidx.compose.ui.text.font.FontStyle%29" rel="nofollow" title="Font 函数">Font 函数</a>定义 <code>fontFamily</code>：</p> 
<pre><code class="language-Kotlin">val firaSansFamily = FontFamily(
        Font(R.font.firasans_light, FontWeight.Light),
        Font(R.font.firasans_regular, FontWeight.Normal),
        Font(R.font.firasans_italic, FontWeight.Normal, FontStyle.Italic),
        Font(R.font.firasans_medium, FontWeight.Medium),
        Font(R.font.firasans_bold, FontWeight.Bold)
)</code></pre> 
<h3>富文本样式</h3> 
<p><br> AnnotatedString类型,类型Android spanString,ios attributeString</p> 
<p>通过spanStyle 来可以控制文字样式 字重 颜色,背景色等等<br><img alt="" height="361" src="https://images2.imgbox.com/ec/ad/cau3nw7I_o.png" width="346"></p> 
<pre><code class="language-Kotlin"> @Composable
    fun MultipleStylesInText() {
        Text(
            buildAnnotatedString {
                withStyle(style = SpanStyle(color = Color.Blue)) {
                    append("H")
                }
                append("ello ")

                withStyle(style = SpanStyle(fontWeight = FontWeight.Bold, color = Color.Red)) {
                    append("W")
                }
                append("orld")
            }
        )
    }</code></pre> 
<p><img alt="" height="398" src="https://images2.imgbox.com/04/ec/uWkeQt6O_o.png" width="363"></p> 
<p>还可以设置段落样式，如下设置段落间距</p> 
<pre><code class="language-Kotlin">@Composable
    fun ParagraphStyleDemo() {
        Text(
            buildAnnotatedString {
                withStyle(style = ParagraphStyle(lineHeight = 30.sp)) {
                    withStyle(style = SpanStyle(color = Color.Blue)) {
                        append("Hello\n")
                    }
                    withStyle(
                        style = SpanStyle(
                            fontWeight = FontWeight.Bold,
                            color = Color.Red
                        )
                    ) {
                        append("World\n")
                    }
                    append("Compose")
                }
            }
        )
    }</code></pre> 
<p><img alt="" height="266" src="https://images2.imgbox.com/f6/da/BeBSwTFn_o.png" width="308"></p> 
<h3>行数限制</h3> 
<p><br> maxLines,android 开发用得比较常见,不多说,看效果<br>  </p> 
<pre><code class="language-Kotlin"> @Composable
    fun showMaxLine(){
        Box(modifier = Modifier.width(100.dp)) {
            Text("床前明月光,疑是地上双,举头望明月,低头思故乡", maxLines = 2, modifier = Modifier
                .padding(15.dp)
                .background(Color.Gray))
        }
    }</code></pre> 
<p><img alt="" height="336" src="https://images2.imgbox.com/6f/bc/kU5ZLacR_o.png" width="244"></p> 
<h3>文字溢出</h3> 
<p>用于控制文字截断得时候表现形式,如尾部三个点 <br><img alt="" height="332" src="https://images2.imgbox.com/cd/e4/0GheBHeL_o.png" width="331"></p> 
<p>相比于Android 还是特别少</p> 
<pre><code class="language-Kotlin">   Text("床前明月光,疑是地上双,举头望明月,低头思故乡",
                maxLines = 2,
                overflow = TextOverflow.Ellipsis,
                modifier = Modifier
                .padding(15.dp)
                .background(Color.Gray))</code></pre> 
<p><img alt="" height="460" src="https://images2.imgbox.com/9f/55/b38P5RIW_o.png" width="375"></p> 
<h3>文字选中</h3> 
<p><br> compose 需要套一个SelectionContainer才能实现长按划选文字<br>  </p> 
<pre><code class="language-Kotlin">    @Composable
    fun showSelectableText() {
        SelectionContainer {
            Text("支持划选的文字")
        }
    }</code></pre> 
<p><img alt="" height="562" src="https://images2.imgbox.com/2a/ad/bH9Uti1c_o.png" width="384"></p> 
<p>而且还支持多个Text组件实现划选</p> 
<pre><code class="language-Kotlin">  @Composable
    fun showMutiSelectableText() {
        SelectionContainer(modifier = Modifier.padding(10.dp)) {
            Column {
                Text("支持划选的文字第一个")
                Text("支持划选的文字第二个")
                Text("支持划选的文字第三个")
            }
        }
    }</code></pre> 
<p><img alt="" height="506" src="https://images2.imgbox.com/b9/26/Xvoyw0Fj_o.png" width="345"></p> 
<p>当然也支持局部屏蔽 不让划选</p> 
<pre><code class="language-Kotlin">   @Composable
    fun showMutiSelectableText() {
        SelectionContainer(modifier = Modifier.padding(10.dp)) {
            Column {
                Text("支持划选的文字第一个")
                DisableSelection {
                    Text("支持划选的文字第二个")
                }
                Text("支持划选的文字第三个")
            }
        }
    }</code></pre> 
<p><br><img alt="" height="318" src="https://images2.imgbox.com/13/7a/vXnUhE2x_o.png" width="441"></p> 
<p></p> 
<h3>点击文字的位置</h3> 
<p><br> ClickableText可以获取点击文字的位置</p> 
<pre><code class="language-Kotlin">@Composable
    fun showClickableText(){
        ClickableText(text = AnnotatedString("这个文字支持点击位置获取"), onClick ={ offset-&gt;
            println("===========&gt;点击位置${offset}");
            Toast.makeText(this,"点击未知${offset}",Toast.LENGTH_SHORT);
        })
    }</code></pre> 
<p><img alt="" height="213" src="https://images2.imgbox.com/c6/e6/rhXbgVWh_o.png" width="422"></p> 
<p>所有实例<a class="link-info" href="https://github.com/NBXXF/Jetpack_Compose_Study/blob/master/app/src/main/java/com/xxf/jetpack/compose/study/TextActivity.kt" title="demo地址">demo地址</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/94dc281548eae8f8a875922c3625be30/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unity3D | FPS游戏_人物相关</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0289b812fe5cf10f5d528280e4d46582/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ICCV2021 Exploring Cross-Image Pixel Contrast for Semantic Segmentation (Oral)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>