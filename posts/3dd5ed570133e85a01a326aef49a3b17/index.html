<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MapStruct复制失败，属性为null，与lombok有关系 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MapStruct复制失败，属性为null，与lombok有关系" />
<meta property="og:description" content="只要我不努力，老板就永远也过不上他想要的生活
前言 今天我搭建项目的时候发现，使用MapStruct复制对象失败了，复制后所有的对象属性都为null。我一再检查，确信自己依赖没有引入错误，也没有什么特殊的配置，就是很简单的一个对象复制。
然后我就在网上查，网上找，都不尽如意。我之前搭的一个demo就一下子成功了，没有丝毫问题。于是我就把那个demo与这个项目比对一下，到底有什么区别，是什么导致那个demo能成功，这个项目就失败呢？
与Lombok有关系 终于让我发现了问题所在，大家可能觉得是不是lombok版本的问题？出乎我的意料，它不是版本问题，而是依赖引入的顺序问题。这怎么可能呢？我来来回回做了两遍实验，确认了这个事实。
将lombok的依赖放在它的上面就解决了这个问题
问题复现 首先我们复现一下问题，看以下代码是个很简单的对象拷贝，但是它的结果却是null
这是怎么回事呢？我们知道MapStruct会生成一个实现类，我们就看看这个实现类里的代码是怎么样的？
这就很奇怪了，怎么没有set get方法，lombok失效了吗？这个代码妥妥的都是null啊。于是我就跟之前的一个demo对比。尤其是pom文件，终于让我发现了华点。
我发现，lombok的顺序不一样，成功的demo在MapStruct上边，失败的本项目在MapStruct下边。当我想到这个的时候，我的第一反应是怎么可能呢？当然，有人可能会问为什么不是lombok版本的问题呢？关于版本问题我已经试过了，依然是失败的。
于是，我就没报什么希望，随便试一试，把lombok往前放，从最下面放在了最上面
然后再运行开头的那个方法，它竟然成功了。这就很神奇了。这个依赖的引入顺序怎么会影响它的编译呢？
希望遇到这个问题的同学，注意一下，很小的问题，但是很奇葩。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3dd5ed570133e85a01a326aef49a3b17/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T14:43:52+08:00" />
<meta property="article:modified_time" content="2024-01-10T14:43:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MapStruct复制失败，属性为null，与lombok有关系</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>只要我不努力，老板就永远也过不上他想要的生活</p> 
</blockquote> 
<h4><a id="a_namet0aa_id_1a_2"></a><a id="_1"></a>前言</h4> 
<p>今天我搭建项目的时候发现，<strong>使用MapStruct复制对象失败了，复制后所有的对象属性都为null</strong>。我一再检查，确信自己依赖没有引入错误，也没有什么特殊的配置，就是很简单的一个对象复制。<br> 然后我就在网上查，网上找，都不尽如意。我之前搭的一个demo就一下子成功了，没有丝毫问题。于是我就把那个demo与这个项目比对一下，到底有什么区别，是什么导致那个demo能成功，这个项目就失败呢？</p> 
<h4><a id="a_namet1aa_idLombok_4aLombok_7"></a><a id="Lombok_4"></a>与Lombok有关系</h4> 
<p>终于让我发现了问题所在，大家可能觉得是不是lombok版本的问题？出乎我的意料，它不是版本问题，而是依赖引入的顺序问题。这怎么可能呢？我来来回回做了两遍实验，确认了这个事实。<br> <code>将lombok的依赖放在它的上面就解决了这个问题</code></p> 
<h4><a id="a_namet2aa_id_7a_12"></a><a id="_7"></a>问题复现</h4> 
<p>首先我们复现一下问题，看以下代码是个很简单的对象拷贝，但是它的结果却是null<br> <img src="https://images2.imgbox.com/c6/89/3zf874bk_o.png" alt="请添加图片描述"><br> 这是怎么回事呢？我们知道MapStruct会生成一个实现类，我们就看看这个实现类里的代码是怎么样的？<br> <img src="https://images2.imgbox.com/ac/f6/bfDHAiSg_o.png" alt="请添加图片描述"><br> 这就很奇怪了，怎么没有set get方法，lombok失效了吗？这个代码妥妥的都是null啊。于是我就跟之前的一个demo对比。尤其是pom文件，终于让我发现了华点。<br> <img src="https://images2.imgbox.com/95/35/fiahPptM_o.png" alt="请添加图片描述"><br> 我发现，<strong>lombok的顺序不一样，成功的demo在MapStruct上边，失败的本项目在MapStruct下边</strong>。当我想到这个的时候，我的第一反应是怎么可能呢？当然，有人可能会问为什么不是lombok版本的问题呢？关于版本问题我已经试过了，依然是失败的。<br> 于是，我就没报什么希望，随便试一试，把lombok往前放，从最下面放在了最上面<br> <img src="https://images2.imgbox.com/e7/ab/GkeHjbet_o.png" alt="请添加图片描述"><br> 然后再运行开头的那个方法，它竟然成功了。这就很神奇了。这个依赖的引入顺序怎么会影响它的编译呢？<br> 希望遇到这个问题的同学，注意一下，很小的问题，但是很奇葩。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9451ad15f07e7839603ec81c9e0ab62e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">R语言【utils】——read.table()：以表格式读取文件，并从中创建一个数据帧，其中大小写对应于行，变量对应于文件中的字段。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f6fde0a97d9cd657f9df0baebdbb485e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">YOLOv8-Seg推理详解及部署实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>