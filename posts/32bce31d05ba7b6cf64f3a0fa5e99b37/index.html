<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数字式温度计的设计 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数字式温度计的设计" />
<meta property="og:description" content="根据前期的设计要求，我们需要设计一个数字式温度测量计，能够实现将温度信号实时转换成实际方便查看的形式输出。
目录
题目要求
设计思路
电路模块
温度传感器电路
A/D转换电路
数码管显示电路
仿真显示
题目要求 以下为题目的设计参考电路，该参考电路是摘自文章《MC14433在数字温度表中的应用》。其主要分为以下几部分：显示数码管、A/D转换芯片、4511芯片和MC1413芯片。显示数码管用来显示具体的温度数值、A/D芯片用来将LM50温度传感器的连续模拟信号转换为数字信号输出、4511芯片用于将A/D芯片输出的信号译码并从数码管输出、MC1413是用来驱动数码管的芯片。
设计思路 由于本次设计是需要设计一个数字温度显示器，我们主要将设计分为两大部分：温度检测部分和数字显示部分。温度显示部分主要是使用传感器将温度信号转换为电压信号，而数字显示部分主要将温度显示部分的模拟信号转换为数字信号并且输入到数码管显示。
电路模块 温度传感器电路 首先是温度传感器模块，温度传感器模块这里我们使用的是LM50模块，这个模块的的温度转换公式是：U=-10t&#43;500(mv)。即温度每升高/降低一摄氏度，那么电压输出就会降低/升高10mv，而当期初始输入为0℃时，其输出为500mv。其电路的连接形式如下左图所示，而当其输入为0℃时，其具体的输出电压数值如下右图所示。
A/D转换电路 A/D转换电路这里，由于我们没有找到MC14433芯片，根据对比，我们选取性能比较相近的三位半A/D转换芯片TC7107芯片，该芯片是一款高性能,低功耗的三位半 A/D 转换器。三位半的意思是其可以外接4个数码管，其中三个分别可以显示数值0-9，而剩下一个可以显示数值0/1。该芯片的引脚接法如下图所示，该图我摘自TC7107的技术说明手册。
首先是OSC1、OSC2和OSC3引脚，这几个引脚主要控制产生振荡信号，即48kHZ的时钟信号，以此实现对A/D芯片的各项功能的协调控制。
其中VIN&#43;、VIN-和ACOM引脚主要是温度传感器电压的输入端，这里需要注意的是将VIN-要与引脚ACOM相连。
引脚VBUFF、CAZ和VINT分别是集成电阻器的大小、自动调零电容器的大小和积分器大小。其中CAZ的大小将影响输入的系统噪声，一般是0.47μF用于200mV，而0.047μF用于2V。而VBUFF是集成的电阻器，当取200mV全量程时为47kΩ、当取2V量程时为470kΩ。它们的具体取值参数如下图所示：
而对于VREF&#43;、VREF-和C&#43;REF分别是控制量程和当存在较大共模电压时的处理处理引脚。一般如果量程为200mV时引脚VREF&#43;和VREF-间电压为100mV，而当量程为2V时引脚VREF&#43;和VREF-间电压为1V，并且该电压还会影响输出的电压的
对于当VREF&#43;和VREF-这两个引脚之间的电压值将确定输入电压变化恒定时，输出电压的变化值，也就是一格刻度的数值，它们的具体转换公式如下所示：
而我们选择的量程是0-2V，所以我们引脚连接的具体方式如下图所示：
数码管显示电路 TC7107含有七段译码器显示驱动器，所以可以驱动外接的4个共阳级7SEG-MPX1-CA数码管进行温度数值显示，四个数码管分别显示符号位、十位和个位、小数位。而由于其内部已经集成了译码电路和驱动电路，所以不用再外接MC1413和4511芯片。
首先第一个数码管用于显示正负号，其只需要外接到特定的的引脚和驱动引脚，即可显示中间一段，该引脚接到A/D引脚POL，结合说明书所示，当该引脚输入电压为大于0时，其表现特点为不亮，而当引脚输入电压小于或等于0时，其表现特点为亮。
其余3个数码管的显示引脚分别外到A/D芯片的Ai～Gi引脚即可，当引脚输入电压小于0时即可实现数码管点亮。值得注意的是个位和小数位之间需要数码管显示一个小数点，为此数码管三的小数显示引脚要接地。
仿真显示 根据上面的电路接法，如果我们就这样就进行仿真的话，发现数码管显示的数值并不等于输入的温度数值。
从上面的仿真结果可以看出，当输入温度为0摄氏度时，其输出的数码管显示为52.4℃，与0℃相差大概50℃。仔细观察不难看出，主要关系是当温度输入为0℃时，LM50电压的输出为500mv。
如果我们在LM50与A/D转换电路之间加上一个减法电路减去50mv后再去仿真，可以看出输出结果是不同的，添加后的仿真结果如下图所示，但是因为没有处理小数点，所以结果会相对来说有一定偏差：
当输入为15℃
当输入为17℃
当输入为-3℃" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/32bce31d05ba7b6cf64f3a0fa5e99b37/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-20T17:30:56+08:00" />
<meta property="article:modified_time" content="2024-01-20T17:30:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数字式温度计的设计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>       根据前期的设计要求，我们需要设计一个数字式温度测量计，能够实现将温度信号实时转换成实际方便查看的形式输出。</p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82-toc" style="margin-left:0px;"><a href="#%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82" rel="nofollow">题目要求</a></p> 
<p id="%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF-toc" style="margin-left:0px;"><a href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF" rel="nofollow">设计思路</a></p> 
<p id="%E7%94%B5%E8%B7%AF%E6%A8%A1%E5%9D%97-toc" style="margin-left:0px;"><a href="#%E7%94%B5%E8%B7%AF%E6%A8%A1%E5%9D%97" rel="nofollow">电路模块</a></p> 
<p id="%E6%B8%A9%E5%BA%A6%E4%BC%A0%E6%84%9F%E5%99%A8%E7%94%B5%E8%B7%AF-toc" style="margin-left:40px;"><a href="#%E6%B8%A9%E5%BA%A6%E4%BC%A0%E6%84%9F%E5%99%A8%E7%94%B5%E8%B7%AF" rel="nofollow">温度传感器电路</a></p> 
<p id="A%2FD%E8%BD%AC%E6%8D%A2%E7%94%B5%E8%B7%AF-toc" style="margin-left:40px;"><a href="#A%2FD%E8%BD%AC%E6%8D%A2%E7%94%B5%E8%B7%AF" rel="nofollow">A/D转换电路</a></p> 
<p id="%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E7%94%B5%E8%B7%AF-toc" style="margin-left:40px;"><a href="#%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E7%94%B5%E8%B7%AF" rel="nofollow">数码管显示电路</a></p> 
<p id="%E4%BB%BF%E7%9C%9F%E6%98%BE%E7%A4%BA-toc" style="margin-left:0px;"><a href="#%E4%BB%BF%E7%9C%9F%E6%98%BE%E7%A4%BA" rel="nofollow">仿真显示</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E9%A2%98%E7%9B%AE%E8%A6%81%E6%B1%82">题目要求</h2> 
<p>        以下为题目的设计参考电路，该参考电路是摘自文章《MC14433在数字温度表中的应用》。其主要分为以下几部分：显示数码管、A/D转换芯片、4511芯片和MC1413芯片。显示数码管用来显示具体的温度数值、A/D芯片用来将LM50温度传感器的连续模拟信号转换为数字信号输出、4511芯片用于将A/D芯片输出的信号译码并从数码管输出、MC1413是用来驱动数码管的芯片。</p> 
<p class="img-center"><img alt="" height="435" src="https://images2.imgbox.com/d7/18/6dA7xijy_o.png" width="538"></p> 
<h2 id="%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF">设计思路</h2> 
<p style="margin-left:0;text-align:justify;">        由于本次设计是需要设计一个数字温度显示器，我们主要将设计分为两大部分：温度检测部分和数字显示部分。温度显示部分主要是使用传感器将温度信号转换为电压信号，而数字显示部分主要将温度显示部分的模拟信号转换为数字信号并且输入到数码管显示。</p> 
<h2 id="%E7%94%B5%E8%B7%AF%E6%A8%A1%E5%9D%97" style="margin-left:0px;text-align:justify;">电路模块</h2> 
<h3 id="%E6%B8%A9%E5%BA%A6%E4%BC%A0%E6%84%9F%E5%99%A8%E7%94%B5%E8%B7%AF" style="margin-left:0px;text-align:justify;">温度传感器电路</h3> 
<p>        首先是温度传感器模块，温度传感器模块这里我们使用的是LM50模块，这个模块的的温度转换公式是：U=-10t+500(mv)。即温度每升高/降低一摄氏度，那么电压输出就会降低/升高10mv，而当期初始输入为0℃时，其输出为500mv。其电路的连接形式如下左图所示，而当其输入为0℃时，其具体的输出电压数值如下右图所示。</p> 
<p><img alt="" height="313" src="https://images2.imgbox.com/63/12/QAA1tyRC_o.png" width="247"><img alt="" height="314" src="https://images2.imgbox.com/2f/18/cnXghMSP_o.png" width="304"></p> 
<h3 id="A%2FD%E8%BD%AC%E6%8D%A2%E7%94%B5%E8%B7%AF">A/D转换电路</h3> 
<p>        A/D转换电路这里，由于我们没有找到MC14433芯片，根据对比，我们选取性能比较相近的三位半A/D转换芯片TC7107芯片，该芯片是一款高性能,低功耗的三位半 A/D 转换器。三位半的意思是其可以外接4个数码管，其中三个分别可以显示数值0-9，而剩下一个可以显示数值0/1。该芯片的引脚接法如下图所示，该图我摘自TC7107的技术说明手册。</p> 
<p class="img-center"><img alt="" height="436" src="https://images2.imgbox.com/6c/c6/gNfKbzNJ_o.png" width="479"></p> 
<p style="margin-left:0;text-align:left;">        首先是OSC1、OSC2和OSC3引脚，这几个引脚主要控制产生振荡信号，即48kHZ的时钟信号，以此实现对A/D芯片的各项功能的协调控制。<img alt="" height="175" src="https://images2.imgbox.com/5b/e6/9TVhGRaq_o.png" width="1163"></p> 
<p style="margin-left:0;text-align:left;">        其中VIN+、VIN-和ACOM引脚主要是温度传感器电压的输入端，这里需要注意的是将VIN-要与引脚ACOM相连。</p> 
<p style="margin-left:0;text-align:left;">        引脚VBUFF、CAZ和VINT分别是集成电阻器的大小、自动调零电容器的大小和积分器大小。其中CAZ的大小将影响输入的系统噪声，一般是0.47μF用于200mV，而0.047μF用于2V。而VBUFF是集成的电阻器，当取200mV全量程时为47kΩ、当取2V量程时为470kΩ。它们的具体取值参数如下图所示：</p> 
<p style="margin-left:0;text-align:left;"><img alt="" height="205" src="https://images2.imgbox.com/e2/1c/tAxUrCTQ_o.png" width="1156"></p> 
<p style="margin-left:0;text-align:left;">        而对于VREF+、VREF-和C+REF分别是控制量程和当存在较大共模电压时的处理处理引脚。一般如果量程为200mV时引脚VREF+和VREF-间电压为100mV，而当量程为2V时引脚VREF+和VREF-间电压为1V，并且该电压还会影响输出的电压的</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="237" src="https://images2.imgbox.com/c1/ae/VqVPj1xU_o.png" width="1124"></p> 
<p style="margin-left:0;text-align:justify;">        对于当VREF+和VREF-这两个引脚之间的电压值将确定输入电压变化恒定时，输出电压的变化值，也就是一格刻度的数值，它们的具体转换公式如下所示：</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="49" src="https://images2.imgbox.com/ba/1a/TouTDwnL_o.png" width="106"></p> 
<p>而我们选择的量程是0-2V，所以我们引脚连接的具体方式如下图所示：</p> 
<p><img alt="" height="540" src="https://images2.imgbox.com/b6/d3/tYdiLmyB_o.png" width="475"></p> 
<h3 id="%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA%E7%94%B5%E8%B7%AF">数码管显示电路</h3> 
<p style="margin-left:0;text-align:left;">        TC7107含有七段译码器显示驱动器，所以可以驱动外接的4个共阳级7SEG-MPX1-CA数码管进行温度数值显示，四个数码管分别显示符号位、十位和个位、小数位。而由于其内部已经集成了译码电路和驱动电路，所以不用再外接MC1413和4511芯片。</p> 
<p style="margin-left:0;text-align:left;">       首先第一个数码管用于显示正负号，其只需要外接到特定的的引脚和驱动引脚，即可显示中间一段，该引脚接到A/D引脚POL，结合说明书所示，当该引脚输入电压为大于0时，其表现特点为不亮，而当引脚输入电压小于或等于0时，其表现特点为亮。</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="376" src="https://images2.imgbox.com/26/1e/eBQVF7KB_o.png" width="1157"></p> 
<p style="margin-left:0;text-align:left;">        其余3个数码管的显示引脚分别外到A/D芯片的Ai～Gi引脚即可，当引脚输入电压小于0时即可实现数码管点亮。值得注意的是个位和小数位之间需要数码管显示一个小数点，为此数码管三的小数显示引脚要接地。</p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="423" src="https://images2.imgbox.com/00/cc/gDM1meMW_o.png" width="572"></p> 
<h2 id="%E4%BB%BF%E7%9C%9F%E6%98%BE%E7%A4%BA" style="margin-left:0px;text-align:justify;">仿真显示</h2> 
<p>         根据上面的电路接法，如果我们就这样就进行仿真的话，发现数码管显示的数值并不等于输入的温度数值。</p> 
<p><img alt="" height="336" src="https://images2.imgbox.com/e1/f9/8znqin1y_o.png" width="674"></p> 
<p>        从上面的仿真结果可以看出，当输入温度为0摄氏度时，其输出的数码管显示为52.4℃，与0℃相差大概50℃。仔细观察不难看出，主要关系是当温度输入为0℃时，LM50电压的输出为500mv。</p> 
<p><img alt="" height="396" src="https://images2.imgbox.com/55/8d/i6hYBe5Z_o.png" width="424"></p> 
<p>        如果我们在LM50与A/D转换电路之间加上一个减法电路减去50mv后再去仿真，可以看出输出结果是不同的，添加后的仿真结果如下图所示，但是因为没有处理小数点，所以结果会相对来说有一定偏差：</p> 
<p><strong>当输入为15℃</strong></p> 
<p><img alt="" height="848" src="https://images2.imgbox.com/de/d4/3J9V87tf_o.png" width="1200"></p> 
<p><strong>当输入为17℃</strong></p> 
<p><img alt="" height="817" src="https://images2.imgbox.com/84/1e/blIknN1G_o.png" width="1200"></p> 
<p><strong>当输入为-3℃</strong></p> 
<p><img alt="" height="846" src="https://images2.imgbox.com/ac/49/UK7lD19p_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6cc62ca0a2ecab9f09d1699562cb7738/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell编程-5</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/226ea48ee651088fde4bb0ac8aa875ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构——单链表上基本操作的实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>