<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>dockeréƒ¨ç½² spring-boot é¡¹ç›®ï¼ŒéªŒè¯ç è·å–æŠ¥é”™çš„è§£å†³æ–¹æ³• - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="dockeréƒ¨ç½² spring-boot é¡¹ç›®ï¼ŒéªŒè¯ç è·å–æŠ¥é”™çš„è§£å†³æ–¹æ³•" />
<meta property="og:description" content="é—®é¢˜æè¿° åœ¨ docker éƒ¨ç½² spring-boot é¡¹ç›®åï¼Œå¯åŠ¨é¡¹ç›®æ—¶ï¼ŒéªŒè¯ç è·å–æŠ¥é”™ï¼š
2020-10-21 16:13:03.603 ERROR 9 --- [ XNIO-1 task-2] c.e.c.s.handler.GlobalExceptionHandler : å…¨å±€å¼‚å¸¸ä¿¡æ¯ ex=null java.lang.NullPointerException: null at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264) at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219) at sun.awt.FontConfiguration.init(FontConfiguration.java:107) at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:774) at sun.font.SunFontManager$2.run(SunFontManager.java:431) at java.security.AccessController.doPrivileged(Native Method) at sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:376) at sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35) at sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:57) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:423) at java.lang.Class.newInstance(Class.java:442) at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83) at java.security.AccessController.doPrivileged(Native Method) at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74) at java.awt.Font.getFont2D(Font.java:491) at java.awt.Font.access$000(Font.java:224) at java.awt.Font$FontAccessImpl.getFont2D(Font.java:228) at sun.font.FontUtilities.getFont2D(FontUtilities.java:180) at sun.java2d.SunGraphics2D.checkFontInfo(SunGraphics2D.java:670) at sun.java2d.SunGraphics2D.getFontInfo(SunGraphics2D.java:831) at sun." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/576ab89e6a522717709730ea574601f2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-12T10:09:12+08:00" />
<meta property="article:modified_time" content="2023-10-12T10:09:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">dockeréƒ¨ç½² spring-boot é¡¹ç›®ï¼ŒéªŒè¯ç è·å–æŠ¥é”™çš„è§£å†³æ–¹æ³•</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>é—®é¢˜æè¿°</h2> 
<p>åœ¨ docker éƒ¨ç½² spring-boot é¡¹ç›®åï¼Œå¯åŠ¨é¡¹ç›®æ—¶ï¼ŒéªŒè¯ç è·å–æŠ¥é”™ï¼š</p> 
<pre><code class="prism language-bash"><span class="token number">2020</span>-10-21 <span class="token number">16</span>:13:03.603 ERROR <span class="token number">9</span> --- <span class="token punctuation">[</span> XNIO-1 task-2<span class="token punctuation">]</span> c.e.c.s.handler.GlobalExceptionHandler <span class="token builtin class-name">:</span> å…¨å±€å¼‚å¸¸ä¿¡æ¯ <span class="token assign-left variable">ex</span><span class="token operator">=</span>null

java.lang.NullPointerException: null
at sun.awt.FontConfiguration.getVersion<span class="token punctuation">(</span>FontConfiguration.java:1264<span class="token punctuation">)</span>
at sun.awt.FontConfiguration.readFontConfigFile<span class="token punctuation">(</span>FontConfiguration.java:219<span class="token punctuation">)</span>
at sun.awt.FontConfiguration.init<span class="token punctuation">(</span>FontConfiguration.java:107<span class="token punctuation">)</span>
at sun.awt.X11FontManager.createFontConfiguration<span class="token punctuation">(</span>X11FontManager.java:774<span class="token punctuation">)</span>
at sun.font.SunFontManager<span class="token variable">$2</span>.run<span class="token punctuation">(</span>SunFontManager.java:431<span class="token punctuation">)</span>
at java.security.AccessController.doPrivileged<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
at sun.font.SunFontManager.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>SunFontManager.java:376<span class="token punctuation">)</span>
at sun.awt.FcFontManager.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>FcFontManager.java:35<span class="token punctuation">)</span>
at sun.awt.X11FontManager.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>X11FontManager.java:57<span class="token punctuation">)</span>
at sun.reflect.NativeConstructorAccessorImpl.newInstance0<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
at sun.reflect.NativeConstructorAccessorImpl.newInstance<span class="token punctuation">(</span>NativeConstructorAccessorImpl.java:62<span class="token punctuation">)</span>
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance<span class="token punctuation">(</span>DelegatingConstructorAccessorImpl.java:45<span class="token punctuation">)</span>
at java.lang.reflect.Constructor.newInstance<span class="token punctuation">(</span>Constructor.java:423<span class="token punctuation">)</span>
at java.lang.Class.newInstance<span class="token punctuation">(</span>Class.java:442<span class="token punctuation">)</span>
at sun.font.FontManagerFactory<span class="token variable">$1</span>.run<span class="token punctuation">(</span>FontManagerFactory.java:83<span class="token punctuation">)</span>
at java.security.AccessController.doPrivileged<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
at sun.font.FontManagerFactory.getInstance<span class="token punctuation">(</span>FontManagerFactory.java:74<span class="token punctuation">)</span>
at java.awt.Font.getFont2D<span class="token punctuation">(</span>Font.java:491<span class="token punctuation">)</span>
at java.awt.Font.access<span class="token variable">$000</span><span class="token punctuation">(</span>Font.java:224<span class="token punctuation">)</span>
at java.awt.Font<span class="token variable">$FontAccessImpl</span>.getFont2D<span class="token punctuation">(</span>Font.java:228<span class="token punctuation">)</span>
at sun.font.FontUtilities.getFont2D<span class="token punctuation">(</span>FontUtilities.java:180<span class="token punctuation">)</span>
at sun.java2d.SunGraphics2D.checkFontInfo<span class="token punctuation">(</span>SunGraphics2D.java:670<span class="token punctuation">)</span>
at sun.java2d.SunGraphics2D.getFontInfo<span class="token punctuation">(</span>SunGraphics2D.java:831<span class="token punctuation">)</span>
at sun.java2d.pipe.GlyphListPipe.drawString<span class="token punctuation">(</span>GlyphListPipe.java:50<span class="token punctuation">)</span>
at sun.java2d.pipe.ValidatePipe.drawString<span class="token punctuation">(</span>ValidatePipe.java:165<span class="token punctuation">)</span>
at sun.java2d.SunGraphics2D.drawString<span class="token punctuation">(</span>SunGraphics2D.java:2926<span class="token punctuation">)</span>
at cn.hutool.core.img.GraphicsUtil.drawString<span class="token punctuation">(</span>GraphicsUtil.java:113<span class="token punctuation">)</span>
at cn.hutool.core.img.GraphicsUtil.drawStringColourful<span class="token punctuation">(</span>GraphicsUtil.java:77<span class="token punctuation">)</span>
at cn.hutool.captcha.LineCaptcha.drawString<span class="token punctuation">(</span>LineCaptcha.java:75<span class="token punctuation">)</span>
at cn.hutool.captcha.LineCaptcha.createImage<span class="token punctuation">(</span>LineCaptcha.java:58<span class="token punctuation">)</span>
at cn.hutool.captcha.AbstractCaptcha.createCode<span class="token punctuation">(</span>AbstractCaptcha.java:102<span class="token punctuation">)</span>
at cn.hutool.captcha.AbstractCaptcha.getCode<span class="token punctuation">(</span>AbstractCaptcha.java:126<span class="token punctuation">)</span>
at com.entfrm.auth.controller.CaptchaController.randomImage<span class="token punctuation">(</span>CaptchaController.java:65<span class="token punctuation">)</span>
at sun.reflect.NativeMethodAccessorImpl.invoke0<span class="token punctuation">(</span>Native Method<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="_43"></a>è§£å†³æ–¹æ¡ˆï¼š</h2> 
<blockquote> 
 <p>ç»è¿‡æŸ¥è¯¢ï¼Œåº”è¯¥æ˜¯å­—ä½“ç¯å¢ƒé—®é¢˜ï¼Œéœ€è¦åœ¨DockerFileåŠ ä¸Š<em><strong>apk add --update ttf-dejavu fontconfig</strong></em></p> 
</blockquote> 
<p>æ·»åŠ åçš„DockerFile(ç¤ºä¾‹)å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-powershell"><span class="token keyword">FROM</span> openjdk:8-jdk-alpine

MAINTAINER <span class="token function">cat</span>

RUN mkdir <span class="token operator">-</span>p <span class="token operator">/</span>demo/springboot/logs \
    <span class="token operator">/</span>demo/springboot/temp \
    <span class="token operator">/</span>demo/skywalking/agent &amp;&amp;\
   sed <span class="token operator">-</span>i <span class="token string">'s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g'</span> <span class="token operator">/</span>etc/apk/repositories &amp;&amp;\
   apk add <span class="token operator">--</span>update ttf-dejavu fontconfig &amp;&amp; <span class="token function">rm</span> <span class="token operator">-</span>rf <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>cache/apk/<span class="token operator">*</span>

WORKDIR <span class="token operator">/</span>demo/springboot

ENV SERVER_PORT=9217

EXPOSE $<span class="token punctuation">{<!-- --></span>SERVER_PORT<span class="token punctuation">}</span>

ADD <span class="token operator">/</span>demo-springboot<span class="token punctuation">.</span>jar app<span class="token punctuation">.</span>jar

ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"java"</span><span class="token punctuation">,</span> \
            <span class="token string">"-Djava.security.egd=file:/dev/./urandom"</span><span class="token punctuation">,</span> \
            <span class="token string">"-Dserver.port=${SERVER_PORT}"</span><span class="token punctuation">,</span> \
<span class="token comment">#            "-Dskywalking.agent.service_name=demo-springboot", \</span>
<span class="token comment">#            "-javaagent:/demo/skywalking/agent/skywalking-agent.jar", \</span>
            <span class="token string">"-jar"</span><span class="token punctuation">,</span> <span class="token string">"app.jar"</span><span class="token punctuation">]</span>
</code></pre> 
<p>é‡æ–°åˆ¶ä½œé•œåƒï¼Œå¹¶è¿è¡Œï¼Œé—®é¢˜è§£å†³ï¼</p> 
<h2><a id="_78"></a>æ€»ç»“</h2> 
<p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©è¦è®²çš„å†…å®¹ï¼Œæœ¬æ–‡ä»…ä»…å¯¹dockeréƒ¨ç½² spring-booté¡¹ç›®ï¼ŒéªŒè¯ç è·å–æŠ¥é”™çš„è§£å†³æ–¹æ³•ï¼Œå¸Œæœ›èƒ½ç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒï¼Œè‹¥æœ‰é”™è¯¯åŠä¸è¶³ä¹‹å¤„è¯·åœ¨ä¸‹æ–¹è¯„è®ºç•™è¨€</p> 
<p>â­•å…³æ³¨åšä¸»ï¼Œä¸è¿·è·¯ â­•</p> 
<blockquote> 
 <p>åˆ›ä½œä¸æ˜“ï¼Œå…³æ³¨ğŸ’–ã€ç‚¹èµğŸ‘ã€æ”¶è—ğŸ‰å°±æ˜¯å¯¹ä½œè€…æœ€å¤§çš„é¼“åŠ±ğŸ‘ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºç•™è¨€ğŸ§</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2d023576ca988ea7a90359e1683a9a73/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€pythonã€‘æ±‚å¤šå˜é‡/æ ·æœ¬ï¼ˆçŸ©é˜µï¼‰ä¹‹é—´çš„ç›¸å…³æ€§ç³»æ•°</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f25319b8677f62a1fafb6792767c4f4f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">VMwareå¦‚ä½•å½»åº•å¸è½½åˆ é™¤å¹²å‡€è¯¦ç»†æ•™ç¨‹</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>