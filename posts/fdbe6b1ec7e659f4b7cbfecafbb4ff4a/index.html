<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue-video-player使用及修改样式 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue-video-player使用及修改样式" />
<meta property="og:description" content="首先下载并引入(main.js引入)：
import VideoPlayer from &#39;vue-video-player&#39;; require(&#39;video.js/dist/video-js.css&#39;); require(&#39;vue-video-player/src/custom-theme.css&#39;); const hls = require(&#39;videojs-contrib-hls&#39;) Vue.use(VideoPlayer) Vue.use(hls) 使用:
&lt;div class=&#34;my_play&#34;&gt; &lt;video-player class=&#34;video-player vjs-custom-skin&#34; id=&#34;my_video&#34; ref=&#34;videoPlayer&#34; :playsinline=&#34;true&#34; :options=&#34;playerOptions&#34; @play=&#34;onplayFn($event)&#34; @pause=&#34;onpauseFn($event)&#34; @ended=&#34;onendedFn($event)&#34; &gt;&lt;/video-player&gt; &lt;/div&gt; js部分:
data() { return { isText: false, isCollection: false, isInput: false, active: 1, discussText: &#34;&#34;, voteNums: 322, //票数 playerOptions: { playbackRates: [0.7, 1.0, 1.5, 2.0], //播放速度 autoplay: true, //如果true,浏览器准备好时开始回放。 muted: false, // 默认情况下将会消除任何音频。 loop: false, // 导致视频一结束就重新开始。 preload: &#34;auto&#34;, // 建议浏览器在&lt;video&gt;加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持） language: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fdbe6b1ec7e659f4b7cbfecafbb4ff4a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-21T09:28:13+08:00" />
<meta property="article:modified_time" content="2022-06-21T09:28:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue-video-player使用及修改样式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>首先下载并引入(main.js引入)：</p> 
<pre><code>import VideoPlayer from 'vue-video-player';
require('video.js/dist/video-js.css');
require('vue-video-player/src/custom-theme.css');
const hls = require('videojs-contrib-hls')
Vue.use(VideoPlayer)
Vue.use(hls)</code></pre> 
<p>使用:</p> 
<pre><code>  &lt;div class="my_play"&gt;
        &lt;video-player
          class="video-player vjs-custom-skin"
          id="my_video"
          ref="videoPlayer"
          :playsinline="true"
          :options="playerOptions"
          @play="onplayFn($event)"
          @pause="onpauseFn($event)"
          @ended="onendedFn($event)"
        &gt;&lt;/video-player&gt;
      &lt;/div&gt;</code></pre> 
<p>js部分:</p> 
<pre><code>  data() {
    return {
      isText: false,
      isCollection: false,
      isInput: false,
      active: 1,
      discussText: "",
      voteNums: 322, //票数
      playerOptions: {
        playbackRates: [0.7, 1.0, 1.5, 2.0], //播放速度
        autoplay: true, //如果true,浏览器准备好时开始回放。
        muted: false, // 默认情况下将会消除任何音频。
        loop: false, // 导致视频一结束就重新开始。
        preload: "auto", // 建议浏览器在&lt;video&gt;加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）
        language: "zh-CN",
        aspectRatio: "16:9", // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如"16:9"或"4:3"）
        fluid: true, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。
        sources: [
          {
            type: "", //这里的种类支持很多种：基本视频格式、直播、流媒体等，具体可以参看git网址项目
            src: "", //url地址
          },
        ],
        poster: "https://wotyu.999.cn/video/MediaPlay/4.png", //你的封面地址
        // width: document.documentElement.clientWidth, //播放器宽度
        notSupportedMessage: "此视频暂无法播放，请稍后再试", //允许覆盖Video.js无法播放媒体源时显示的默认信息。
        controlBar: {
          timeDivider: true,
          durationDisplay: true,
          remainingTimeDisplay: false,
          fullscreenToggle: true, //全屏按钮
        },
      },
      videoImg:'https://wotyu.999.cn/video/MediaPlay/4.png',
      isVideoImg:true,
      isPlayBtn:true,
    };
  },
  computed: {
    player() {
      return this.$refs.videoPlayer.player;
    },
  },
  mounted() {
  },
  methods: {
    onplayFn() {
      this.isVideoImg=false;
      this.isPlayBtn=false;
         document.getElementsByClassName("vjs-big-play-button")[0].style.opacity =
        0;
      document.getElementsByClassName("vjs-big-play-button")[0].style.display =
        "none";
      const myPlayer = this.$refs.videoPlayer.player;
      myPlayer.play();
    },
    onpauseFn() {
         document.getElementsByClassName("vjs-big-play-button")[0].style.opacity =
        0;
    },
    onendedFn() {
      this.isPlayBtn=true;
       document.getElementsByClassName("vjs-big-play-button")[0].style.display =
        "none";
        document.getElementsByClassName("vjs-big-play-button")[0].style.opacity =
        0;
        // 
    },
  },</code></pre> 
<p>因为我是自定义播放按钮的 所以原来的播放按钮要隐藏掉，所以在播放事件和播放结束事件那都设置了 document.getElementsByClassName("vjs-big-play-button")[0].style.opacity =<br>         0;<br>       document.getElementsByClassName("vjs-big-play-button")[0].style.display =<br>         "none";</p> 
<p>我使用的时候 这个视频高度没有完全撑满我的外层盒子my_play，所以要把里面的盒子高度100%，直接写类名也没有生效，我就换了一种方式写</p> 
<pre><code>  .my_play {
    height: 100%;
    width: 100%;
    background-color: #ed4a00;
      ::v-deep {
      .video-player {
        height: 100%;
        width: 100%;
        .video-js {
          video {
            object-fit: contain;
          }
          &amp;.vjs-fluid {
            height: 100% !important;
          
          }
        }
      }
      .hide_video {
        video {
          display: none;
        }
      }
    }
  }</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8edc9acf99ab582b634afef6db5d2c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网络编程笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/398c62e2cd43eb43fe8d3697cc6135f8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Windows下配置yolov5并且实现cpu以及安装CUDA和cudnn实现gpu运行</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>