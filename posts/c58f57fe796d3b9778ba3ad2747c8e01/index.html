<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>docker-compose启动hyperf项目 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="docker-compose启动hyperf项目" />
<meta property="og:description" content="多人开发hyper项目，减少环境的搭建，会在安装好hyperf项目后没人分配一个git账号，在服务器上单独启动一个个人开发环境。
本文以代码已经拉取下来部署到git。
master分钟的hyperf可以正常运行，各种组件已安装在服务器(可以参考上一篇hyperf运行环境搭建)
使用docker-compose启动 拉取代码到本地自己的分支(比如dev),在dev分支的根目录下面创建文件
docker-compose和dockerfile文件
dockerfile，内容如下：
FROM hyperf/hyperf:7.2-alpine-cli WORKDIR /hyperf-skeleton CMD [&#34;php&#34;,&#34;bin/hyperf.php&#34;,&#34;start&#34;] docker-compose.yml 内容如下：
version: &#34;3&#34; services: nginx_dev: build: context: ./ dockerfile: Dockerfile ports: - 9502:9501 volumes: - ./:/hyperf-skeleton - ./nginx/nginx.conf:/etc/nginx/nginx.conf - ./nginx/logs:/var/log/nginx 注意：nginx_dev 容器名称每人对应自己的不要重复，ports映射端口每人不要重复
进入根目录下面docker-compose up启动，注意如果不是根目录下就需要指定启动文件路径
docker-compose -f /www/docker-compose/docker-compose.yml up
执行结果，如果是首次执行需要拉取镜像。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c58f57fe796d3b9778ba3ad2747c8e01/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-10T15:29:46+08:00" />
<meta property="article:modified_time" content="2021-03-10T15:29:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">docker-compose启动hyperf项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>多人开发hyper项目，减少环境的搭建，会在安装好hyperf项目后没人分配一个git账号，在服务器上单独启动一个个人开发环境。<br> 本文以代码已经拉取下来部署到git。<br> master分钟的hyperf可以正常运行，各种组件已安装在服务器(可以参考上一篇hyperf运行环境搭建)</p> 
<h3><a id="dockercompose_4"></a>使用docker-compose启动</h3> 
<p>拉取代码到本地自己的分支(比如dev),在dev分支的根目录下面创建文件<br> docker-compose和dockerfile文件<br> dockerfile，内容如下：</p> 
<pre><code class="prism language-bash">FROM hyperf/hyperf:7.2-alpine-cli

WORKDIR /hyperf-skeleton
CMD <span class="token punctuation">[</span><span class="token string">"php"</span>,<span class="token string">"bin/hyperf.php"</span>,<span class="token string">"start"</span><span class="token punctuation">]</span>
</code></pre> 
<p>docker-compose.yml 内容如下：</p> 
<pre><code class="prism language-bash">version: <span class="token string">"3"</span>
services:
  nginx_dev:
    build:
      context: ./
      dockerfile: Dockerfile
    ports:
      - 9502:9501
    volumes:
      - ./:/hyperf-skeleton
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      - ./nginx/logs:/var/log/nginx

</code></pre> 
<p>注意：<em><strong>nginx_dev 容器名称每人对应自己的不要重复，ports映射端口每人不要重复</strong></em><br> 进入根目录下面docker-compose up启动，注意如果不是根目录下就需要指定启动文件路径<br> docker-compose -f /www/docker-compose/docker-compose.yml up</p> 
<p>执行结果，如果是首次执行需要拉取镜像。<img src="https://images2.imgbox.com/1f/13/zG2vyO27_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7bdfdc63ef1ba0fba9ea558164a9d8b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在php中是什么意思,PHP中的::是什么意思？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6fc1e19b28d278ec5de69d5612030a2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">BP神经网络python代码实现#超详细-小白快速入门</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>