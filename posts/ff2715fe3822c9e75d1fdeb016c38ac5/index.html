<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue使用element ui实现下拉列表分页的功能！！！ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue使用element ui实现下拉列表分页的功能！！！" />
<meta property="og:description" content="“ 大家好，我是雄雄，欢迎关注微信公众号：雄雄的小课堂。
” 前几天做了个功能，需求是使用利用element ui如何给下拉列表分页，经过网上查找，自己摸索，已经完成，今天来记录一下吧。
实现的效果 image-20211103160459223 当时因为下拉框中的数据过多，所以想到使用分页的方式来实现。
现在来看看具体的实现吧。
准备分页的组件 分页组件的代码是从网上拼凑的，代码如下：
&lt;template&gt; &lt;el-select v-model=&#34;childSelectedValue&#34; :filterable=&#34;remote&#34; multiple :loading=&#34;loading&#34; :remote=&#34;remote&#34; :size=&#34;size&#34; :remote-method=&#34;remoteMethod&#34; :clearable=&#34;clearable&#34; @change=&#34;handleChange&#34; @clear=&#34;handleClear&#34; @focus=&#34;handleFocus&#34; :style=&#34;{width: &#39;93%&#39;}&#34; :placeholder=&#34;placeholder&#34;&gt; &lt;el-option v-for=&#34;item in optionSource&#34; :key=&#34;item[valueKey]&#34; :label=&#34;item[labelKey]&#34; :value=&#34;item[valueKey]&#34;&gt; &lt;/el-option&gt; &lt;el-pagination small layout=&#34;prev, pager, next&#34; @current-change=&#34;changeNumber&#34; :hide-on-single-page=&#34;true&#34; :page-size=&#34;paginationOption.pageSize&#34; :current-page=&#34;paginationOption.currentPage&#34; :pager-count=&#34;paginationOption.pagerCount&#34; :total=&#34;paginationOption.total&#34;&gt; &lt;/el-pagination&gt; &lt;/el-select&gt; &lt;/template&gt; &lt;script&gt; export default { name: &#39;PaginationSelect&#39;, props: { //此参数只是为了父组件实现 v-model指令接受参数用，子组件中无实际意义 // 在子组件中通过监听childSelectedValue值，来触发 input 事件，实现子父组件数据绑定 value:{ type:String, default: &#39;&#39; }, valueKey:{//传入的option数组中，要作为最终选择项的键值名称 type:String }, labelKey:{//传入的option数组中，要作为显示项的键值名称 type:String }, clearable	:{//是否支持清除，默认支持 type:Boolean, default:true }, remote:{//是否支持远程搜索，默认支持 type:Boolean, default:false }, size:{//组件尺寸，配置项同select String | medium/small/mini type:String, default:&#39;medium&#39; }, loading:{//远程数据加载状态显示 type:Boolean, default:false }, placeholder	:{ type:String, default:&#39;给谁用&#39; }, optionSource:{//下拉框组件数据源 type:Array, required:true }, paginationOption:{//分页配置项 type:Object, default:function () { return { pageSize:5,//每页显示条数 6条刚好 currentPage:1,//当前页 pagerCount:5,//按钮数，超过时会折叠 total:10 //总条数 } } } }, data () { return { childSelectedValue:this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ff2715fe3822c9e75d1fdeb016c38ac5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-04T06:00:00+08:00" />
<meta property="article:modified_time" content="2021-11-04T06:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue使用element ui实现下拉列表分页的功能！！！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align:left;"><img src="https://images2.imgbox.com/e1/c0/catE794x_o.png" alt="41665d768e934367ff2885eb7db21df4.png"></p> 
 <blockquote> 
  “ 
  <p>大家好，我是雄雄，欢迎关注微信公众号：雄雄的小课堂。</p> 
  ” 
 </blockquote> 
 <p>前几天做了个功能，需求是使用利用element ui如何给下拉列表分页，经过网上查找，自己摸索，已经完成，今天来记录一下吧。</p> 
 <h5>实现的效果</h5> 
 <img src="https://images2.imgbox.com/7d/79/JPamF8dj_o.png" alt="2757f8c8847a33fd603b772cfeee1e95.png"> 
 <figcaption>
   image-20211103160459223 
 </figcaption> 
 <p>当时因为下拉框中的数据过多，所以想到使用分页的方式来实现。</p> 
 <p>现在来看看具体的实现吧。</p> 
 <h5>准备分页的组件</h5> 
 <p>分页组件的代码是从网上拼凑的，代码如下：</p> 
 <pre class="has"><code class="language-go">&lt;template&gt;
  &lt;el-select v-model="childSelectedValue"
             :filterable="remote"
             multiple
             :loading="loading"
             :remote="remote"
             :size="size"
             :remote-method="remoteMethod"
             :clearable="clearable"
             @change="handleChange"
             @clear="handleClear"
             @focus="handleFocus"
             :style="{width: '93%'}"
             :placeholder="placeholder"&gt;
    &lt;el-option
      v-for="item in optionSource"
      :key="item[valueKey]"
      :label="item[labelKey]"
      :value="item[valueKey]"&gt;
    &lt;/el-option&gt;

    &lt;el-pagination
      small
      layout="prev, pager, next"
      @current-change="changeNumber"
      :hide-on-single-page="true"
      :page-size="paginationOption.pageSize"
      :current-page="paginationOption.currentPage"
      :pager-count="paginationOption.pagerCount"
      :total="paginationOption.total"&gt;
    &lt;/el-pagination&gt;
  &lt;/el-select&gt;
&lt;/template&gt;

&lt;script&gt;

export default {
  name: 'PaginationSelect',
  props: {
    //此参数只是为了父组件实现 v-model指令接受参数用，子组件中无实际意义
    // 在子组件中通过监听childSelectedValue值，来触发 input 事件，实现子父组件数据绑定
    value:{
      type:String,
      default: ''
    },
    valueKey:{//传入的option数组中，要作为最终选择项的键值名称
      type:String
    },
    labelKey:{//传入的option数组中，要作为显示项的键值名称
      type:String
    },
    clearable	:{//是否支持清除，默认支持
      type:Boolean,
      default:true
    },
    remote:{//是否支持远程搜索，默认支持
      type:Boolean,
      default:false
    },
    size:{//组件尺寸，配置项同select  String | medium/small/mini
      type:String,
      default:'medium'
    },
    loading:{//远程数据加载状态显示
      type:Boolean,
      default:false
    },
    placeholder	:{
      type:String,
      default:'给谁用'
    },
    optionSource:{//下拉框组件数据源
      type:Array,
      required:true
    },
    paginationOption:{//分页配置项
      type:Object,
      default:function () {
        return {
          pageSize:5,//每页显示条数  6条刚好
          currentPage:1,//当前页
          pagerCount:5,//按钮数，超过时会折叠
          total:10 //总条数
        }
      }
    }
  },
  data () {
    return {
      childSelectedValue:this.value,

    }
  },
  watch:{
    //监听子组件中选择的值得变化，每当选择一个项后，触发input事件，
    // 将子组件中选择的值通过input事件传递给父组件，实现父组件中v-model绑定的值的双向绑定
    childSelectedValue(val){
      this.$emit("input",val);
    },
    value(val){
      if(val!=null &amp;&amp; val.length&lt;1){
        this.childSelectedValue = '';
      }
    }
  },
  mounted(){
  },
  methods:{
    //子组件分页器，页码选择事件，父组件中监听子组件的 pageNationChange 事件，获取当前页码
    changeNumber(val){
      //此处的val是页码
      this.$emit("pageNationChange",val);
    },
    // 远程调用方法，在父组件中实现远程方法
    remoteMethod(val){
      if(val!=null &amp;&amp; val.length&gt;0){
        //只有输入的字符串长度大于1时，触发
        this.$emit("remote-method",val);
      }else{
        this.childSelectedValue = ' '
      }
    },
    //使组件支持change事件
    handleChange(val){
      this.$emit("change",val);
    },
    //使组件支持clear事件
    handleClear(val){
      this.$emit("clear",val);
    },
    //解决远程搜索无结果时，显示清除按钮问题
    handleFocus(){
      if(this.childSelectedValue.length&lt;1){
        this.childSelectedValue = ''
      }
    }
  }
}
&lt;/script&gt;


&lt;style scoped&gt;

&lt;/style&gt;</code></pre> 
 <p>关键代码都有注释，所以这里就不过多解释。直接放到项目中即可使用，下面再来看看怎么使用。</p> 
 <h5>父组件的写法</h5> 
 <p>父组件中的代码，网上不全，基本上都是自己整理的，首先在需要写下拉列表的地方写：</p> 
 <pre class="has"><code class="language-go">&lt;!--添加人员 --&gt;
        &lt;el-form-item label="选择人员"  &gt;
          &lt;pagination-select
            @pageNationChange="pageNationChange"
            @change="getAthIdsAdd"
            :optionSource="athListAllByLocal"
            v-model="fanganform.pbeizhu"
            labelKey="aname"
            valueKey="id"
            :paginationOption="setSelectPage"
          &gt;
          &lt;/pagination-select&gt;
        &lt;/el-form-item&gt;</code></pre> 
 <p><code>pageNationChange</code>为下拉列表分页的点击事件，执行的方法如下：</p> 
 <pre class="has"><code class="language-go">//下拉列表分页的点击的事件
    pageNationChange(val){
      //设置当前页为点击的页
      this.setSelectPage.currentPage = val;
      //重新调用分页查询的方法
      this.getAthListLocal(this.setSelectPage);
    },</code></pre> 
 <p><code>change</code>为下拉列表选项的改变事件，执行方法如下：</p> 
 <pre class="has"><code class="language-go">//获取下拉框中的运动员编号--保存方案
    getAthIdsAdd(val){
      var names = "";
      for(let i=0;i&lt;=val.length-1;i++){
        this.athListAllPaged.find((item)=&gt;{
          if(item.id === val[i]){
            names+=item.aname+",";
          }
        });
      }
      console.log(names);
      this.fanganform.ppersons = names;
    },</code></pre> 
 <p>因为我需要把值和名称都存在数据库中，所以这里需要根据<code>id</code>来遍历一下<code>name</code>的值。</p> 
 <p><code>optionSource</code>为下拉列表中的数据源。</p> 
 <p><code>paginationOption</code>为分页的属性，代码如下：</p> 
 <pre class="has"><code class="language-go">//分页信息
      setSelectPage:{
        pageSize:6,//每页显示条数  3条刚好
        currentPage:1,//当前页
        pagerCount:5,//按钮数，超过时会折叠
        total:0 //总条数
      },</code></pre> 
 <p>分页查询信息的代码如下：</p> 
 <pre class="has"><code class="language-go">//查询本地的运动员
    getAthListLocal(setSelectPage){
      getListAthPage(setSelectPage.currentPage,setSelectPage.pageSize).then(res =&gt; {
          const data = res.data.data;
          //下拉列表数据源绑定
          this.athListAllByLocal =data.records;
          //绑定总记录数
          this.setSelectPage.total = data.total;
          //
          if(this.athListAllPaged.length===0){
            this.athListAllPaged=data.records;
          }else {
            //追加数据
            for(let i = 0;i&lt;data.records.length;i++){
              this.athListAllPaged.push(data.records[i]);
            }
          }
        });
    },</code></pre> 
 <p>如果需要更改分页的的按钮数和页大小，可以直接修改<code>setSelectPage</code>中的<code>pageSize</code>和<code>pagerCount</code>即可。</p> 
 <p>最后的效果就实现了。</p> 
 <img src="https://images2.imgbox.com/c0/ef/EXgMocFL_o.png" alt="363bd140777ad7937957d35ee3cdc131.png"> 
 <figcaption>
   image-20211103161711255 
 </figcaption> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d67e9a17e545f92b9dd5d814c4feb82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【附源码/完整教程】如何使用C语言打造人机对战版五子棋？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1ef1849e354808a759d451306ce8ef8a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python批量labelme_json_to_dataset(批量执行命令)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>