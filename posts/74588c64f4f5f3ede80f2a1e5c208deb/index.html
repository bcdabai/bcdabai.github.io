<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>getheaderfields java_Java常见网络操作（URL类，InetAddress类，URLConnection类） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="getheaderfields java_Java常见网络操作（URL类，InetAddress类，URLConnection类）" />
<meta property="og:description" content="*****************InetAddress**********************
InetAddress:用于标识网络上的硬件资源(如，IP，主机名，域名等)。
对于InetAddress，三个方法:getLocalHost()、getByName()以及getAllByName()可以用来创建InetAddress的实例。
InetAddress类没有提供返回构造函数，所以不能用new()方法来创建它的对象，而只可以调用静态方法getLocalHost()、getByName()、getByAddress()等来生成InetAddress类的实质。
1、InetAddress常用方法：
1.InetAddress.getLocalHost()仅返回象征本地主机的InetAddress对象。(返回的是本地地址)
本机地址还为localhost,127.0.0.1，这三个地址都是一回事。
例，InetAddress.getLocalHost();//Lenovo-PC/169.254.193.131
2.getByName()方法返回一个传给它的主机名的InetAddress。
如果这些方法不能解析主机名，它们引发一个UnknownHostException异常。
在Internet上，用一个名称来代表多个机器是常有的事。
例，InetAddress.getByName(&#34;www.baidu.com&#34;);//www.baidu.com/61.135.169.121
3.getAllByName()方法返回代表由一个特殊名称分解的所有地址的InetAddresses类数组。
getAllByName()方法是根据主机名返回其可能的所有InetAddress对象，保存在一个数组中。
在不能把名称分解成至少一个地址时，它将引发一个UnknownHostException异常。
4.getLoopbackAddress()方法返回本地环回地址
例，InetAddress.getLoopbackAddress();//localhost/127.0.0.1
5.查看端口是否已使用
Socket socket = new Socket(Address,port);#address代表主机的IP地址，port代表端口号.
如果对该主机的特定端口号能建立一个socket,则说明该主机的该端口在使用。
例，import java.net.*;
for (int i = 500; i &lt; 1024; i&#43;&#43;) {
try {
System.out.println(&#34;查看 端口&#34;&#43; i);
Socket skt = new Socket(&#34;localhost&#34;, i);
System.out.println(&#34;端口 &#34; &#43; i &#43; &#34; 已被使用&#34;);
}
catch (UnknownHostException e) {
System.out.println(&#34;Exception occured&#34;&#43; e);
break;
}
catch (IOException e) {
System.out.println(&#34;端口&#34;&#43;i&#43;&#34;未被使用&#34;);" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/74588c64f4f5f3ede80f2a1e5c208deb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-15T21:13:39+08:00" />
<meta property="article:modified_time" content="2021-02-15T21:13:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">getheaderfields java_Java常见网络操作（URL类，InetAddress类，URLConnection类）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>*****************InetAddress**********************</p> 
 <p>InetAddress:用于标识网络上的硬件资源(如，IP，主机名，域名等)。</p> 
 <p>对于InetAddress，三个方法:getLocalHost()、getByName()以及getAllByName()可以用来创建InetAddress的实例。</p> 
 <p>InetAddress类没有提供返回构造函数，所以不能用new()方法来创建它的对象，而只可以调用静态方法getLocalHost()、getByName()、getByAddress()等来生成InetAddress类的实质。</p> 
 <p>1、InetAddress常用方法：</p> 
 <p>1.InetAddress.getLocalHost()仅返回象征本地主机的InetAddress对象。(返回的是本地地址)</p> 
 <p>本机地址还为localhost,127.0.0.1，这三个地址都是一回事。</p> 
 <p>例，InetAddress.getLocalHost();//Lenovo-PC/169.254.193.131</p> 
 <p>2.getByName()方法返回一个传给它的主机名的InetAddress。</p> 
 <p>如果这些方法不能解析主机名，它们引发一个UnknownHostException异常。</p> 
 <p>在Internet上，用一个名称来代表多个机器是常有的事。</p> 
 <p>例，InetAddress.getByName("www.baidu.com");//www.baidu.com/61.135.169.121</p> 
 <p>3.getAllByName()方法返回代表由一个特殊名称分解的所有地址的InetAddresses类数组。</p> 
 <p>getAllByName()方法是根据主机名返回其可能的所有InetAddress对象，保存在一个数组中。</p> 
 <p>在不能把名称分解成至少一个地址时，它将引发一个UnknownHostException异常。</p> 
 <p>4.getLoopbackAddress()方法返回本地环回地址</p> 
 <p>例，InetAddress.getLoopbackAddress();//localhost/127.0.0.1</p> 
 <p>5.查看端口是否已使用</p> 
 <p>Socket socket = new Socket(Address,port);#address代表主机的IP地址，port代表端口号.</p> 
 <p>如果对该主机的特定端口号能建立一个socket,则说明该主机的该端口在使用。</p> 
 <p>例，import java.net.*;</p> 
 <p>for (int i = 500; i &lt; 1024; i++) {<!-- --></p> 
 <p>try {<!-- --></p> 
 <p>System.out.println("查看 端口"+ i);</p> 
 <p>Socket skt = new Socket("localhost", i);</p> 
 <p>System.out.println("端口 " + i + " 已被使用");</p> 
 <p>}</p> 
 <p>catch (UnknownHostException e) {<!-- --></p> 
 <p>System.out.println("Exception occured"+ e);</p> 
 <p>break;</p> 
 <p>}</p> 
 <p>catch (IOException e) {<!-- --></p> 
 <p>System.out.println("端口"+i+"未被使用");</p> 
 <p>}</p> 
 <p>}</p> 
 <p>补充：网络上的两个程序通过一个双向的通信连接实现数据的交换，这个连接的一端称为一个socket。</p> 
 <p>建立网络通信连接至少要一对端口号(socket)。socket本质是编程接口(API)，对TCP/IP的封装，TCP/IP也要提供可供程序员做网络开发所用的接口，这就是Socket编程接口；HTTP是轿车，提供了封装或者显示数据的具体形式；Socket是发动机，提供了网络通信的能力。</p> 
 <p>IP+端口号就是所谓的Socket！！！</p> 
 <p>在JAVA中，Java.net包里面的类是进行网络编程的，其中java.net.URL类和java.net.URLConection类使编程者方便地利用URL在Internet上进行网络通信。</p> 
 <p>********************URL类******************************</p> 
 <p>URL：通过URL类可以直接读取或写入网络上的资源。</p> 
 <p>1.URL可以分为如下几个部分：</p> 
 <p>protocol://host:port/path?query#fragment</p> 
 <p>例，http://www.runoob.com/index.html?language=cn#j2se</p> 
 <p>URL 解析：</p> 
 <p>协议为(protocol)：http</p> 
 <p>主机为(host:port)：www.runoob.com</p> 
 <p>端口号为(port): 80 ，以上URL实例并未指定端口，因为 HTTP 协议默认的端口号为 80。</p> 
 <p>文件路径为(path)：/index.html</p> 
 <p>请求参数(query)：language=cn</p> 
 <p>定位位置(fragment)：j2se，定位到网页中 id 属性为 j2se 的 HTML 元素位置 。</p> 
 <p>2.URL类的使用：</p> 
 <p>例，</p> 
 <p>URL url=new URL("http://www.runoob.com/wp-content/themes/runoob/assets/img/newlogo.png");</p> 
 <p>注意：必须用完整的域名(例，http://www.baidu.com/)，不能(例，www.baidu.com/)这样会报错！</p> 
 <p>2.1获取URL对象的属性</p> 
 <p>getDefaultPort()： 返回默认的端口号。</p> 
 <p>getFile()： 获得URL指定资源的完整文件名。</p> 
 <p>getHost()： 返回主机名。</p> 
 <p>getPath()： 返回指定资源的文件目录和文件名。</p> 
 <p>getPort()： 返回端口号，默认为-1。</p> 
 <p>getProtocol()： 返回表示URL中协议的字符串对象。</p> 
 <p>getRef()： 返回URL中的HTML文档标记，即#号标记。</p> 
 <p>getUserInfo： 返回用户信息。</p> 
 <p>toString： 返回完整的URL字符串。</p> 
 <p>例，</p> 
 <p>URL url=new URL("http://www.runoob.com/wp-content/themes/runoob/assets/img/newlogo.png");</p> 
 <p>System.out.println(url.getDefaultPort());//80</p> 
 <p>System.out.println(url.getFile());//wp-content/themes/runoob/assets/img/newlogo.png</p> 
 <p>System.out.println(url.getHost());//www.runoob.com</p> 
 <p>System.out.println(url.getPath());///wp-content/themes/runoob/assets/img/newlogo.png</p> 
 <p>System.out.println(url.getPort());//-1，因为创建URL实例的时候没有指定端口号</p> 
 <p>System.out.println(url.getProtocol());//http</p> 
 <p>System.out.println(url.getRef());//null</p> 
 <p>System.out.println(url.getUserInfo());//null</p> 
 <p>System.out.println(url.toString());//http://www.runoob.com/wp-content/themes/runoob/assets/img/newlogo.png</p> 
 <p>****************URLConnection类**********************</p> 
 <p>URLConnection 类是一个抽象类，代表应用程序和URL之间的通信连接，此类的实例可用于读取和写入此URL引用的资源。</p> 
 <p>URLConnection 允许使用GET,POST或者其他HTTP方法请求方式将请求数据发送到服务器。</p> 
 <p>有两种方法可以用来访问Internet。一是利用URL类的openStream()方法；二是使用openConnection()方法创建一个URLConnection类的对象。</p> 
 <p>其中，方法openStream()与指定的URL建立连接并返回InputStream类的对象，以从这一连接中读取数据。</p> 
 <p>例，(简单的网页爬取)方法一：openStream()</p> 
 <p>openStream()方法可以得到指定资源的输入流，通过输入流可以读取，访问网络上的资源。</p> 
 <p>URL url=new URL("http://www.cnblogs.com/Downtime/p/7822379.html");</p> 
 <p>InputStream conn=url.openStream();//得到字节输入流</p> 
 <p>InputStreamReader read=new InputStreamReader(conn,"utf-8");//将字节输入流转换为字符输入流</p> 
 <p>BufferedReader bread=new BufferedReader(read);//将字符输入流添加到缓存中</p> 
 <p>while(bread.readLine() != null){<!-- --></p> 
 <p>System.out.println(bread.readLine());</p> 
 <p>}</p> 
 <p>conn.close();</p> 
 <p>方法二：URLConnection</p> 
 <p>URL url=new URL("http://www.cnblogs.com/Downtime/p/7822379.html");</p> 
 <p>URLConnection conn=url.openConnection();</p> 
 <p>InputStream in=conn.getInputStream();</p> 
 <p>InputStreamReader read=new InputStreamReader(in,"utf-8");</p> 
 <p>BufferedReader reader=new BufferedReader(read);</p> 
 <p>while(reader.readLine() != null ){<!-- --></p> 
 <p>System.out.println(reader.readLine());</p> 
 <p>}</p> 
 <p>conn.getInputStream().close();</p> 
 <p>2.常用方法：</p> 
 <p>URLConnection 方法列表如下：</p> 
 <p>1、    Object getContent()</p> 
 <p>检索URL链接内容</p> 
 <p>2、    Object getContent(Class[] classes)</p> 
 <p>检索URL链接内容</p> 
 <p>3、    String getContentEncoding()</p> 
 <p>返回头部 content-encoding 字段值。</p> 
 <p>4、    int getContentLength()</p> 
 <p>返回头部 content-length字段值</p> 
 <p>5、    String getContentType()</p> 
 <p>返回头部 content-type 字段值</p> 
 <p>6、    int getLastModified()</p> 
 <p>返回头部 last-modified 字段值。</p> 
 <p>7、    long getExpiration()</p> 
 <p>返回头部 expires 字段值。</p> 
 <p>8、    long getIfModifiedSince()</p> 
 <p>返回对象的 ifModifiedSince 字段值。</p> 
 <p>9、    public void setDoInput(boolean input)</p> 
 <p>URL 连接可用于输入和/或输出。如果打算使用 URL 连接进行输入，则将 DoInput 标志设置为 true；如果不打算使用，则设置为 false。默认值为 true。</p> 
 <p>10、    public void setDoOutput(boolean output)</p> 
 <p>URL 连接可用于输入和/或输出。如果打算使用 URL 连接进行输出，则将 DoOutput 标志设置为 true；如果不打算使用，则设置为 false。默认值为 false。</p> 
 <p>11、    public InputStream getInputStream() throws IOException</p> 
 <p>返回URL的输入流，用于读取资源</p> 
 <p>12、    public OutputStream getOutputStream() throws IOException</p> 
 <p>返回URL的输出流, 用于写入资源。</p> 
 <p>13、    public URL getURL()</p> 
 <p>返回 URLConnection 对象连接的URL</p> 
 <p>14.</p> 
 <p>返回第 n 个头字段的值。</p> 
 <p>返回指定的头字段的值。</p> 
 <p>返回所有url响应头信息。</p> 
 <p>例，</p> 
 <p>URL url=new URL("http://www.runoob.com/");</p> 
 <p>URLConnection conn=url.openConnection();</p> 
 <p>Map headers=conn.getHeaderFields();</p> 
 <p>Set set=headers.entrySet();</p> 
 <p>Iterator it=set.iterator();</p> 
 <p>while(it.hasNext()){<!-- --></p> 
 <p>Map.Entry en=(Entry) it.next();</p> 
 <p>System.out.println(en.getKey()+":"+en.getValue());</p> 
 <p>}</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/283466895f63b3842914c305353d6d55/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java数组排序的方法_Java数组排序方法详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8c380f35c8beeef68abe8fdcd4388088/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">iis7 java_win2008下IIS7、IIS7.5 配置ASP&#43;ACCESS使用环境</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>