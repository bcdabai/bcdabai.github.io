<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java多线程总结 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java多线程总结" />
<meta property="og:description" content="java多线程总结 以前没有写笔记的习惯，现在慢慢的发现及时总结是多么的重要了，呵呵。虽然才大二，但是也快要毕业了，要加油了。
这一篇文章主要关于java多线程，主要还是以例子来驱动的。因为讲解多线程的书籍和文章已经很多了，所以我也不好意思多说，呵呵、大家可以去参考一些那些书籍。我这个文章主要关于实际的一些问题。同时也算是我以后复习的资料吧，。呵呵大家多多指教。
同时希望多结交一些技术上的朋友。谢谢。
----------------------------------------------------------------------------------------------------------------------------------------------------
java中的多线程
在java中要想实现多线程，有两种手段，一种是继续Thread类，另外一种是实现Runable接口。
对于直接继承Thread的类来说，代码大致框架是：
? 1 2 3 4 5 6 7 8 9 10 11 12 class 类名 extends Thread{ 方法 1 ; 方法 2 ； … public void run(){ // other code… } 属性 1 ； 属性 2 ； … } 先看一个简单的例子：
? 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * @author Rollen-Holt 继承Thread类,直接调用run方法 * */ class hello extends Thread { public hello() { } public hello(String name) { this ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3b244eaa81003d97c4decc94c238e153/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-03-05T09:06:55+08:00" />
<meta property="article:modified_time" content="2013-03-05T09:06:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java多线程总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="cb_post_title_url" href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html" rel="nofollow">java多线程总结</a> </h2> 
<p>以前没有写笔记的习惯，现在慢慢的发现及时总结是多么的重要了，呵呵。虽然才大二，但是也快要毕业了，要加油了。</p> 
<p>这一篇文章主要关于java多线程，主要还是以例子来驱动的。因为讲解多线程的书籍和文章已经很多了，所以我也不好意思多说，呵呵、大家可以去参考一些那些书籍。我这个文章主要关于实际的一些问题。同时也算是我以后复习的资料吧，。呵呵大家多多指教。</p> 
<p>同时希望多结交一些技术上的朋友。谢谢。</p> 
<p>----------------------------------------------------------------------------------------------------------------------------------------------------</p> 
<p>                                                                              java中的多线程</p> 
<p>在java中要想实现多线程，有两种手段，一种是继续Thread类，另外一种是实现Runable接口。</p> 
<p>对于直接继承Thread的类来说，代码大致框架是：</p> 
<div> 
 <div> 
  <div id="highlighter_374790"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>类名 </code> 
         <code>extends</code> 
         <code>Thread{<!-- --></code> 
        </div> 
        <div> 
         <code>方法</code> 
         <code>1</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>方法</code> 
         <code>2</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>…</code> 
        </div> 
        <div> 
         <code>public</code> 
         <code>void</code> 
         <code>run(){<!-- --></code> 
        </div> 
        <div> 
         <code>// other code…</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div> 
         <code>属性</code> 
         <code>1</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>属性</code> 
         <code>2</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>…</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>先看一个简单的例子：</p> 
<div> 
 <div> 
  <div id="highlighter_317640"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 继承Thread类,直接调用run方法</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>extends</code> 
         <code>Thread {<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>hello() {<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>hello(String name) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name = name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>5</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(name + </code> 
         <code>"运行     "</code> 
         <code>+ i);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h1=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"A"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h2=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"B"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.run();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.run();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>String name;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">A运行     0</p> 
<p align="left">A运行     1</p> 
<p align="left">A运行     2</p> 
<p align="left">A运行     3</p> 
<p align="left">A运行     4</p> 
<p align="left">B运行     0</p> 
<p align="left">B运行     1</p> 
<p align="left">B运行     2</p> 
<p align="left">B运行     3</p> 
<p align="left">B运行     4</p> 
<p>我们会发现这些都是顺序执行的，说明我们的调用方法不对，应该调用的是start（）方法。</p> 
<p>当我们把上面的主函数修改为如下所示的时候：</p> 
<div> 
 <div> 
  <div id="highlighter_260569"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> </td><td> 
       <div> 
        <div> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code>main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h1=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"A"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h2=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"B"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>然后运行程序，输出的可能的结果如下：</p> 
<p align="left">A运行     0</p> 
<p align="left">B运行     0</p> 
<p align="left">B运行     1</p> 
<p align="left">B运行     2</p> 
<p align="left">B运行     3</p> 
<p align="left">B运行     4</p> 
<p align="left">A运行     1</p> 
<p align="left">A运行     2</p> 
<p align="left">A运行     3</p> 
<p align="left">A运行     4</p> 
<p>因为需要用到CPU的资源，所以每次的运行结果基本是都不一样的，呵呵。</p> 
<p>注意：虽然我们在这里调用的是start（）方法，但是实际上调用的还是run（）方法的主体。</p> 
<p><strong>那么：为什么我们不能直接调用run（）方法呢？</strong></p> 
<p><strong>我的理解是：线程的运行需要本地操作系统的支持。</strong></p> 
<p><strong>如果你查看start的源代码的时候，会发现：</strong></p> 
<div> 
 <div> 
  <div id="highlighter_128790"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> </td><td> 
       <div> 
        <div> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>start() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>/**</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* This method is not invoked for the main method thread or "system"</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* group threads created/set up by the VM. Any new functionality added </code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* to this method in the future may have to also be added to the VM.</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>*</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* A zero status value corresponds to state "NEW".</code> 
        </div> 
        <div> 
         <code>         </code> 
         <code>*/</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(threadStatus != </code> 
         <code>0</code> 
         <code>|| </code> 
         <code>this</code> 
         <code>!= me)</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>throw</code> 
         <code>new</code> 
         <code>IllegalThreadStateException();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>group.add(</code> 
         <code>this</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>start0();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(stopBeforeStart) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>stop0(throwableFromStop);</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div> 
         <code>private</code> 
         <code>native</code> 
         <code>void</code> 
         <code>start0();</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p><strong>注意我用红色加粗的那一条语句，说明此处调用的是start0（）。并且这个这个方法用了native关键字，次关键字表示调用本地操作系统的函数。因为多线程的实现需要本地操作系统的支持。</strong></p> 
<p>但是start方法重复调用的话，会出现<span style="color:navy">java.lang.IllegalThreadStateException</span><span style="color:navy">异常。</span></p> 
<p><strong><span style="color:navy">通过实现</span><span style="color:navy">Runnable</span><span style="color:navy">接口：</span></strong></p> 
<p><strong> </strong></p> 
<p>大致框架是：</p> 
<div> 
 <div> 
  <div id="highlighter_60891"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>类名 </code> 
         <code>implements</code> 
         <code>Runnable{<!-- --></code> 
        </div> 
        <div> 
         <code>方法</code> 
         <code>1</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>方法</code> 
         <code>2</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>…</code> 
        </div> 
        <div> 
         <code>public</code> 
         <code>void</code> 
         <code>run(){<!-- --></code> 
        </div> 
        <div> 
         <code>// other code…</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div> 
         <code>属性</code> 
         <code>1</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>属性</code> 
         <code>2</code> 
         <code>；</code> 
        </div> 
        <div> 
         <code>…</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p> </p> 
<p>来先看一个小例子吧：</p> 
<div> 
 <div> 
  <div id="highlighter_355015"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 实现Runnable接口</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>hello() {<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>hello(String name) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name = name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>5</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(name + </code> 
         <code>"运行     "</code> 
         <code>+ i);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h1=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"线程A"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo= </code> 
         <code>new</code> 
         <code>Thread(h1);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h2=</code> 
         <code>new</code> 
         <code>hello(</code> 
         <code>"线程Ｂ"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo1=</code> 
         <code>new</code> 
         <code>Thread(h2);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo1.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>String name;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【可能的运行结果】：</p> 
<p align="left">线程A运行     0</p> 
<p align="left">线程Ｂ运行     0</p> 
<p align="left">线程Ｂ运行     1</p> 
<p align="left">线程Ｂ运行     2</p> 
<p align="left">线程Ｂ运行     3</p> 
<p align="left">线程Ｂ运行     4</p> 
<p align="left">线程A运行     1</p> 
<p align="left">线程A运行     2</p> 
<p align="left">线程A运行     3</p> 
<p align="left">线程A运行     4</p> 
<p> </p> 
<p><strong>关于选择继承Thread还是实现Runnable接口？</strong></p> 
<p>其实Thread也是实现Runnable接口的<strong>：</strong></p> 
<div> 
 <div> 
  <div id="highlighter_602173"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>Thread </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>//…</code> 
        </div> 
        <div> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(target != </code> 
         <code>null</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>             </code> 
         <code>target.run();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>其实Thread中的run方法调用的是Runnable接口的run方法。不知道大家发现没有，Thread和Runnable都实现了run方法，这种操作模式其实就是代理模式。关于代理模式，我曾经写过一个小例子呵呵，大家有兴趣的话可以看一下：<a href="http://www.cnblogs.com/rollenholt/archive/2011/08/18/2144847.html" rel="nofollow">http://www.cnblogs.com/rollenholt/archive/2011/08/18/2144847.html</a></p> 
<p><strong>Thread和Runnable的区别：</strong></p> 
<p><strong>如果一个类继承Thread，则不适合资源共享。但是如果实现了Runable接口的话，则很容易的实现资源共享。</strong></p> 
<div> 
 <div> 
  <div id="highlighter_547600"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 继承Thread类，不能资源共享</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>extends</code> 
         <code>Thread {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>7</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(count &gt; </code> 
         <code>0</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(</code> 
         <code>"count= "</code> 
         <code>+ count--);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h1 = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h2 = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello h3 = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>count = </code> 
         <code>5</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p> </p> 
<p>【运行结果】：</p> 
<p align="left">count= 5</p> 
<p align="left">count= 4</p> 
<p align="left">count= 3</p> 
<p align="left">count= 2</p> 
<p align="left">count= 1</p> 
<p align="left">count= 5</p> 
<p align="left">count= 4</p> 
<p align="left">count= 3</p> 
<p align="left">count= 2</p> 
<p align="left">count= 1</p> 
<p align="left">count= 5</p> 
<p align="left">count= 4</p> 
<p align="left">count= 3</p> 
<p align="left">count= 2</p> 
<p align="left">count= 1</p> 
<p><strong>大家可以想象，如果这个是一个买票系统的话，如果count表示的是车票的数量的话，说明并没有实现资源的共享。</strong></p> 
<p><strong>我们换为Runnable接口</strong></p> 
<p> </p> 
<div> 
 <div> 
  <div id="highlighter_284932"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>MyThread </code> 
         <code>implements</code> 
         <code>Runnable{<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>ticket = </code> 
         <code>5</code> 
         <code>;  </code> 
         <code>//5张票</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>; i&lt;=</code> 
         <code>20</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(</code> 
         <code>this</code> 
         <code>.ticket &gt; </code> 
         <code>0</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(Thread.currentThread().getName()+ </code> 
         <code>"正在卖票"</code> 
         <code>+</code> 
         <code>this</code> 
         <code>.ticket--);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div> 
         <code>public</code> 
         <code>class</code> 
         <code>lzwCode {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String [] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>MyThread my = </code> 
         <code>new</code> 
         <code>MyThread();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(my, </code> 
         <code>"1号窗口"</code> 
         <code>).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(my, </code> 
         <code>"2号窗口"</code> 
         <code>).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(my, </code> 
         <code>"3号窗口"</code> 
         <code>).start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p> </p> 
<p>　　<img src="https://images2.imgbox.com/3c/2d/XTa75sIQ_o.gif" alt=""></p> 
<p><strong> </strong></p> 
<p> </p> 
<p>【运行结果】：</p> 
<p align="left">count= 5</p> 
<p align="left">count= 4</p> 
<p align="left">count= 3</p> 
<p align="left">count= 2</p> 
<p align="left">count= 1</p> 
<p><strong> </strong></p> 
<p><strong>总结一下吧：</strong></p> 
<p><strong>实现Runnable接口比继承Thread类所具有的优势：</strong></p> 
<p><strong>1）：适合多个相同的程序代码的线程去处理同一个资源</strong></p> 
<p><strong>2）：可以避免java中的单继承的限制</strong></p> 
<p><strong>3）：增加程序的健壮性，代码可以被多个线程共享，代码和数据独立。</strong></p> 
<p> </p> 
<p><strong>所以，本人建议大家劲量实现接口。</strong></p> 
<div> 
 <div> 
  <div id="highlighter_612945"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt </code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 取得线程的名称</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>3</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName());</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(he,</code> 
         <code>"A"</code> 
         <code>).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(he,</code> 
         <code>"B"</code> 
         <code>).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(he).start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">A</p> 
<p align="left">A</p> 
<p align="left">A</p> 
<p align="left">B</p> 
<p align="left">B</p> 
<p align="left">B</p> 
<p align="left">Thread-0</p> 
<p align="left">Thread-0</p> 
<p>Thread-0</p> 
<p>说明如果我们没有指定名字的话，系统自动提供名字。</p> 
<p><strong><span style="color:red">提醒一下大家：</span><span style="color:red">main</span><span style="color:red">方法其实也是一个线程。在</span><span style="color:red">java</span><span style="color:red">中所以的线程都是同时启动的，至于什么时候，哪个先执行，完全看谁先得到</span><span style="color:red">CPU</span><span style="color:red">的资源。</span></strong></p> 
<p><strong> </strong></p> 
<p><strong><span style="color:red">在</span><span style="color:red">java</span><span style="color:red">中，每次程序运行至少启动</span><span style="color:red">2</span><span style="color:red">个线程。一个是</span><span style="color:red">main</span><span style="color:red">线程，一个是垃圾收集线程。因为每当使用</span><span style="color:red">java</span><span style="color:red">命令执行一个类的时候，实际上都会启动一个ＪＶＭ，每一个ｊＶＭ实习在就是在操作系统中启动了一个进程。</span></strong></p> 
<p><span style="color:#3f5fbf">判断线程是否启动</span></p> 
<div> 
 <div> 
  <div id="highlighter_580542"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 判断线程是否启动</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>3</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName());</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo = </code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>"线程启动之前---》"</code> 
         <code>+ demo.isAlive());</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>"线程启动之后---》"</code> 
         <code>+ demo.isAlive());</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】</p> 
<p align="left">线程启动之前---》false</p> 
<p align="left">线程启动之后---》true</p> 
<p align="left">Thread-0</p> 
<p align="left">Thread-0</p> 
<p>Thread-0</p> 
<p><strong><span style="color:red">主线程也有可能在子线程结束之前结束。并且子线程不受影响，不会因为主线程的结束而结束。</span></strong></p> 
<p><strong><span style="color:red"> </span></strong></p> 
<p>线程的强制执行：</p> 
<div> 
 <div> 
  <div id="highlighter_967229"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* @author Rollen-Holt 线程的强制执行</code> 
        </div> 
        <div> 
         <code>     </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code> i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>3</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(Thread.currentThread().getName());</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>        </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code>main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread demo = </code> 
         <code>new</code> 
         <code>Thread(he,</code> 
         <code>"线程"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code> i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>50</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>if</code> 
         <code>(i&gt;</code> 
         <code>10</code> 
         <code>){<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                        </code> 
         <code>demo.join();  </code> 
         <code>//强制执行demo</code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                        </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(</code> 
         <code>"main 线程执行--&gt;"</code> 
         <code>+i);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行的结果】：</p> 
<p align="left">main 线程执行--&gt;0</p> 
<p align="left">main 线程执行--&gt;1</p> 
<p align="left">main 线程执行--&gt;2</p> 
<p align="left">main 线程执行--&gt;3</p> 
<p align="left">main 线程执行--&gt;4</p> 
<p align="left">main 线程执行--&gt;5</p> 
<p align="left">main 线程执行--&gt;6</p> 
<p align="left">main 线程执行--&gt;7</p> 
<p align="left">main 线程执行--&gt;8</p> 
<p align="left">main 线程执行--&gt;9</p> 
<p align="left">main 线程执行--&gt;10</p> 
<p align="left">线程</p> 
<p align="left">线程</p> 
<p align="left">线程</p> 
<p align="left">main 线程执行--&gt;11</p> 
<p align="left">main 线程执行--&gt;12</p> 
<p>main 线程执行--&gt;13</p> 
<p>．．．</p> 
<p> </p> 
<p>线程的休眠：</p> 
<div> 
 <div> 
  <div id="highlighter_541633"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 线程的休眠</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>3</code> 
         <code>; i++) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.sleep(</code> 
         <code>2000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName() + i);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo = </code> 
         <code>new</code> 
         <code>Thread(he, </code> 
         <code>"线程"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：（结果每隔2s输出一个）</p> 
<p align="left">线程0</p> 
<p align="left">线程1</p> 
<p>线程2</p> 
<p> </p> 
<p>线程的中断：</p> 
<div> 
 <div> 
  <div id="highlighter_992004"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 线程的中断</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>"执行run方法"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>10000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(</code> 
         <code>"线程完成休眠"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>} </code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(</code> 
         <code>"休眠被打断"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>return</code> 
         <code>;  </code> 
         <code>//返回到程序的调用处</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>"线程正常终止"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo = </code> 
         <code>new</code> 
         <code>Thread(he, </code> 
         <code>"线程"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>2000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.interrupt(); </code> 
         <code>//2s后中断线程</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">执行run方法</p> 
<p align="left">休眠被打断</p> 
<p> </p> 
<p><strong><span style="color:red">在</span><span style="color:red">java</span><span style="color:red">程序中，只要前台有一个线程在运行，整个</span><span style="color:red">java</span><span style="color:red">程序进程不会小时，所以此时可以设置一个后台线程，这样即使</span><span style="color:red">java</span><span style="color:red">进程小时了，此后台线程依然能够继续运行。</span></strong></p> 
<div> 
 <div> 
  <div id="highlighter_3277"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 后台线程</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>while</code> 
         <code>(</code> 
         <code>true</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName() + </code> 
         <code>"在运行"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread demo = </code> 
         <code>new</code> 
         <code>Thread(he, </code> 
         <code>"线程"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.setDaemon(</code> 
         <code>true</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>demo.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>虽然有一个死循环，但是程序还是可以执行完的。因为在死循环中的线程操作已经设置为后台运行了。</p> 
<p>线程的优先级：</p> 
<div> 
 <div> 
  <div id="highlighter_910749"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 线程的优先级</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>5</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName()+</code> 
         <code>"运行"</code> 
         <code>+i);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h1=</code> 
         <code>new</code> 
         <code>Thread(</code> 
         <code>new</code> 
         <code>hello(),</code> 
         <code>"A"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h2=</code> 
         <code>new</code> 
         <code>Thread(</code> 
         <code>new</code> 
         <code>hello(),</code> 
         <code>"B"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h3=</code> 
         <code>new</code> 
         <code>Thread(</code> 
         <code>new</code> 
         <code>hello(),</code> 
         <code>"C"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.setPriority(</code> 
         <code>8</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.setPriority(</code> 
         <code>2</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.setPriority(</code> 
         <code>6</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.start();</code> 
        </div> 
        <div> 
         <code>        </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p> </p> 
<p>【运行结果】：</p> 
<p align="left">A运行0</p> 
<p align="left">A运行1</p> 
<p align="left">A运行2</p> 
<p align="left">A运行3</p> 
<p align="left">A运行4</p> 
<p align="left">B运行0</p> 
<p align="left">C运行0</p> 
<p align="left">C运行1</p> 
<p align="left">C运行2</p> 
<p align="left">C运行3</p> 
<p align="left">C运行4</p> 
<p align="left">B运行1</p> 
<p align="left">B运行2</p> 
<p align="left">B运行3</p> 
<p>B运行4</p> 
<p>。但是请读者不要误以为优先级越高就先执行。谁先执行还是取决于谁先去的CPU的资源、</p> 
<p> </p> 
<p>另外，主线程的优先级是5.</p> 
<p>线程的礼让。</p> 
<p>在线程操作中，也可以使用yield（）方法，将一个线程的操作暂时交给其他线程执行。</p> 
<div> 
 <div> 
  <div id="highlighter_851539"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt 线程的优先级</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>5</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(Thread.currentThread().getName()+</code> 
         <code>"运行"</code> 
         <code>+i);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(i==</code> 
         <code>3</code> 
         <code>){<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(</code> 
         <code>"线程的礼让"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.currentThread().yield();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h1=</code> 
         <code>new</code> 
         <code>Thread(</code> 
         <code>new</code> 
         <code>hello(),</code> 
         <code>"A"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h2=</code> 
         <code>new</code> 
         <code>Thread(</code> 
         <code>new</code> 
         <code>hello(),</code> 
         <code>"B"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p align="left">A运行0</p> 
<p align="left">A运行1</p> 
<p align="left">A运行2</p> 
<p align="left">A运行3</p> 
<p align="left">线程的礼让</p> 
<p align="left">A运行4</p> 
<p align="left">B运行0</p> 
<p align="left">B运行1</p> 
<p align="left">B运行2</p> 
<p align="left">B运行3</p> 
<p align="left">线程的礼让</p> 
<p align="left">B运行4</p> 
<p><strong><span style="color:red"> </span></strong></p> 
<p><strong><span style="color:red"> </span></strong></p> 
<p><strong>同步和死锁：</strong></p> 
<p><strong>【问题引出】:</strong>比如说对于买票系统，有下面的代码：</p> 
<div> 
 <div> 
  <div id="highlighter_163172"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt </code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>10</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(count&gt;</code> 
         <code>0</code> 
         <code>){<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>Thread.sleep(</code> 
         <code>1000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(InterruptedException e){<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>System.out.println(count--);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he=</code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h1=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h2=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h3=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>count=</code> 
         <code>5</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">5</p> 
<p align="left">4</p> 
<p align="left">3</p> 
<p align="left">2</p> 
<p align="left">1</p> 
<p align="left">0</p> 
<p align="left">-1</p> 
<p>这里出现了-1，显然这个是错的。，应该票数不能为负值。</p> 
<p>如果想解决这种问题，就需要使用同步。所谓同步就是在统一时间段中只有有一个线程运行，</p> 
<p>其他的线程必须等到这个线程结束之后才能继续执行。</p> 
<p><strong>【使用线程同步解决问题】</strong></p> 
<p>采用同步的话，可以使用同步代码块和同步方法两种来完成。</p> 
<p> </p> 
<p>【同步代码块】：</p> 
<p>语法格式：</p> 
<p>synchronized（同步对象）{<!-- --></p> 
<p> //需要同步的代码</p> 
<p>}</p> 
<p>但是一般都把当前对象this作为同步对象。</p> 
<p>比如对于上面的买票的问题，如下：</p> 
<div> 
 <div> 
  <div id="highlighter_543119"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt </code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>10</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>synchronized</code> 
         <code>(</code> 
         <code>this</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>if</code> 
         <code>(count&gt;</code> 
         <code>0</code> 
         <code>){<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                        </code> 
         <code>Thread.sleep(</code> 
         <code>1000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(InterruptedException e){<!-- --></code> 
        </div> 
        <div> 
         <code>                        </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>System.out.println(count--);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he=</code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h1=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h2=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h3=</code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>count=</code> 
         <code>5</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：（每一秒输出一个结果）</p> 
<p align="left">5</p> 
<p align="left">4</p> 
<p align="left">3</p> 
<p align="left">2</p> 
<p align="left">1</p> 
<p>【同步方法】</p> 
<p>也可以采用同步方法。</p> 
<p>语法格式为<strong><span style="color:#7f0055">synchronized </span><span style="color:#7f0055">方法返回类型</span><span style="color:#7f0055">方法名（参数列表）</span><span style="color:#7f0055">{<!-- --></span></strong></p> 
<p><strong><span style="color:#7f0055">    // </span><span style="color:#7f0055">其他代码</span></strong></p> 
<p><strong><span style="color:#7f0055">}</span></strong></p> 
<p><strong>现在，我们采用同步方法解决上面的问题。</strong></p> 
<div> 
 <div> 
  <div id="highlighter_403460"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> 
       <div>
         31 
       </div> 
       <div>
         32 
       </div> 
       <div>
         33 
       </div> </td><td> 
       <div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* @author Rollen-Holt</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>10</code> 
         <code>; ++i) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>sale();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>sale() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(count &gt; </code> 
         <code>0</code> 
         <code>) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.sleep(</code> 
         <code>1000</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>catch</code> 
         <code>(InterruptedException e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(count--);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>hello he = </code> 
         <code>new</code> 
         <code>hello();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h1 = </code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h2 = </code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Thread h3 = </code> 
         <code>new</code> 
         <code>Thread(he);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h1.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h2.start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>h3.start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>count = </code> 
         <code>5</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】（每秒输出一个）</p> 
<p align="left">5</p> 
<p align="left">4</p> 
<p align="left">3</p> 
<p align="left">2</p> 
<p align="left">1</p> 
<p>提醒一下，当多个线程共享一个资源的时候需要进行同步，但是过多的同步可能导致死锁。</p> 
<p>此处列举经典的生产者和消费者问题。</p> 
<p>【生产者和消费者问题】</p> 
<p>先看一段有问题的代码。</p> 
<div> 
 <div> 
  <div id="highlighter_620188"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> 
       <div>
         31 
       </div> 
       <div>
         32 
       </div> 
       <div>
         33 
       </div> 
       <div>
         34 
       </div> 
       <div>
         35 
       </div> 
       <div>
         36 
       </div> 
       <div>
         37 
       </div> 
       <div>
         38 
       </div> 
       <div>
         39 
       </div> 
       <div>
         40 
       </div> 
       <div>
         41 
       </div> 
       <div>
         42 
       </div> 
       <div>
         43 
       </div> 
       <div>
         44 
       </div> 
       <div>
         45 
       </div> 
       <div>
         46 
       </div> 
       <div>
         47 
       </div> 
       <div>
         48 
       </div> 
       <div>
         49 
       </div> 
       <div>
         50 
       </div> 
       <div>
         51 
       </div> 
       <div>
         52 
       </div> 
       <div>
         53 
       </div> 
       <div>
         54 
       </div> 
       <div>
         55 
       </div> 
       <div>
         56 
       </div> 
       <div>
         57 
       </div> 
       <div>
         58 
       </div> 
       <div>
         59 
       </div> 
       <div>
         60 
       </div> 
       <div>
         61 
       </div> 
       <div>
         62 
       </div> 
       <div>
         63 
       </div> 
       <div>
         64 
       </div> 
       <div>
         65 
       </div> 
       <div>
         66 
       </div> 
       <div>
         67 
       </div> 
       <div>
         68 
       </div> 
       <div>
         69 
       </div> 
       <div>
         70 
       </div> 
       <div>
         71 
       </div> 
       <div>
         72 
       </div> 
       <div>
         73 
       </div> 
       <div>
         74 
       </div> 
       <div>
         75 
       </div> 
       <div>
         76 
       </div> 
       <div>
         77 
       </div> 
       <div>
         78 
       </div> 
       <div>
         79 
       </div> 
       <div>
         80 
       </div> 
       <div>
         81 
       </div> 
       <div>
         82 
       </div> 
       <div>
         83 
       </div> 
       <div>
         84 
       </div> 
       <div>
         85 
       </div> 
       <div>
         86 
       </div> 
       <div>
         87 
       </div> 
       <div>
         88 
       </div> 
       <div>
         89 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>Info {<!-- --></code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>String getName() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setName(String name) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name = name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>int</code> 
         <code>getAge() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setAge(</code> 
         <code>int</code> 
         <code>age) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.age = age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>String name = </code> 
         <code>"Rollen"</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>age = </code> 
         <code>20</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 生产者</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Producer </code> 
         <code>implements</code> 
         <code>Runnable{<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info=</code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>Producer(Info info){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info=info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run(){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>boolean</code> 
         <code>flag=</code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>25</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(flag){<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.setName(</code> 
         <code>"Rollen"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.setAge(</code> 
         <code>20</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag=</code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
         <code>else</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.setName(</code> 
         <code>"chunGe"</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                    </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.setAge(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag=</code> 
         <code>true</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 消费者类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Consumer </code> 
         <code>implements</code> 
         <code>Runnable{<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info=</code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>Consumer(Info info){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info=info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run(){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i=</code> 
         <code>0</code> 
         <code>;i&lt;</code> 
         <code>25</code> 
         <code>;++i){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>System.out.println(</code> 
         <code>this</code> 
         <code>.info.getName()+</code> 
         <code>"&lt;----&gt;"</code> 
         <code>+</code> 
         <code>this</code> 
         <code>.info.getAge());</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 测试类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello{<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Info info=</code> 
         <code>new</code> 
         <code>Info();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Producer pro=</code> 
         <code>new</code> 
         <code>Producer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Consumer con=</code> 
         <code>new</code> 
         <code>Consumer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(pro).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(con).start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">chunGe&lt;----&gt;100</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p align="left">Rollen&lt;----&gt;100</p> 
<p align="left">chunGe&lt;----&gt;20</p> 
<p>大家可以从结果中看到，名字和年龄并没有对于。</p> 
<p><strong> </strong></p> 
<p><strong>那么如何解决呢？</strong></p> 
<p><strong>1）加入同步</strong></p> 
<p><strong>2）加入等待和唤醒</strong></p> 
<p>先来看看加入同步会是如何。</p> 
<div> 
 <div> 
  <div id="highlighter_668894"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> 
       <div>
         31 
       </div> 
       <div>
         32 
       </div> 
       <div>
         33 
       </div> 
       <div>
         34 
       </div> 
       <div>
         35 
       </div> 
       <div>
         36 
       </div> 
       <div>
         37 
       </div> 
       <div>
         38 
       </div> 
       <div>
         39 
       </div> 
       <div>
         40 
       </div> 
       <div>
         41 
       </div> 
       <div>
         42 
       </div> 
       <div>
         43 
       </div> 
       <div>
         44 
       </div> 
       <div>
         45 
       </div> 
       <div>
         46 
       </div> 
       <div>
         47 
       </div> 
       <div>
         48 
       </div> 
       <div>
         49 
       </div> 
       <div>
         50 
       </div> 
       <div>
         51 
       </div> 
       <div>
         52 
       </div> 
       <div>
         53 
       </div> 
       <div>
         54 
       </div> 
       <div>
         55 
       </div> 
       <div>
         56 
       </div> 
       <div>
         57 
       </div> 
       <div>
         58 
       </div> 
       <div>
         59 
       </div> 
       <div>
         60 
       </div> 
       <div>
         61 
       </div> 
       <div>
         62 
       </div> 
       <div>
         63 
       </div> 
       <div>
         64 
       </div> 
       <div>
         65 
       </div> 
       <div>
         66 
       </div> 
       <div>
         67 
       </div> 
       <div>
         68 
       </div> 
       <div>
         69 
       </div> 
       <div>
         70 
       </div> 
       <div>
         71 
       </div> 
       <div>
         72 
       </div> 
       <div>
         73 
       </div> 
       <div>
         74 
       </div> 
       <div>
         75 
       </div> 
       <div>
         76 
       </div> 
       <div>
         77 
       </div> 
       <div>
         78 
       </div> 
       <div>
         79 
       </div> 
       <div>
         80 
       </div> 
       <div>
         81 
       </div> 
       <div>
         82 
       </div> 
       <div>
         83 
       </div> 
       <div>
         84 
       </div> 
       <div>
         85 
       </div> 
       <div>
         86 
       </div> 
       <div>
         87 
       </div> 
       <div>
         88 
       </div> 
       <div>
         89 
       </div> 
       <div>
         90 
       </div> 
       <div>
         91 
       </div> 
       <div>
         92 
       </div> 
       <div>
         93 
       </div> 
       <div>
         94 
       </div> 
       <div>
         95 
       </div> 
       <div>
         96 
       </div> 
       <div>
         97 
       </div> 
       <div>
         98 
       </div> 
       <div>
         99 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>Info {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>String getName() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setName(String name) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name = name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>int</code> 
         <code>getAge() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setAge(</code> 
         <code>int</code> 
         <code>age) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.age = age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>set(String name, </code> 
         <code>int</code> 
         <code>age){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name=name;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.age=age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>get(){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>this</code> 
         <code>.getName()+</code> 
         <code>"&lt;===&gt;"</code> 
         <code>+</code> 
         <code>this</code> 
         <code>.getAge());</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>String name = </code> 
         <code>"Rollen"</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>age = </code> 
         <code>20</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 生产者</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Producer </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info = </code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>Producer(Info info) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info = info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>boolean</code> 
         <code>flag = </code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>25</code> 
         <code>; ++i) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(flag) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code>  
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.set(</code> 
         <code>"Rollen"</code> 
         <code>, </code> 
         <code>20</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag = </code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>else</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.set(</code> 
         <code>"ChunGe"</code> 
         <code>, </code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag = </code> 
         <code>true</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 消费者类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Consumer </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info = </code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>Consumer(Info info) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info = info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>25</code> 
         <code>; ++i) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>this</code> 
         <code>.info.get();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 测试类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Info info = </code> 
         <code>new</code> 
         <code>Info();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Producer pro = </code> 
         <code>new</code> 
         <code>Producer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Consumer con = </code> 
         <code>new</code> 
         <code>Consumer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(pro).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(con).start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>【运行结果】：</p> 
<p align="left">Rollen&lt;===&gt;20</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">Rollen&lt;===&gt;20</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p align="left">ChunGe&lt;===&gt;100</p> 
<p>从运行结果来看，错乱的问题解决了，现在是Rollen 对应20，ChunGe对于100</p> 
<p>，但是还是出现了重复读取的问题，也肯定有重复覆盖的问题。如果想解决这个问题，就需要使用Object类帮忙了、</p> 
<p>，我们可以使用其中的等待和唤醒操作。</p> 
<p>要完成上面的功能，我们只需要修改Info类饥渴，在其中加上标志位，并且通过判断标志位完成等待和唤醒的操作，代码如下：</p> 
<div> 
 <div> 
  <div id="highlighter_1787"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> 
       <div>
         28 
       </div> 
       <div>
         29 
       </div> 
       <div>
         30 
       </div> 
       <div>
         31 
       </div> 
       <div>
         32 
       </div> 
       <div>
         33 
       </div> 
       <div>
         34 
       </div> 
       <div>
         35 
       </div> 
       <div>
         36 
       </div> 
       <div>
         37 
       </div> 
       <div>
         38 
       </div> 
       <div>
         39 
       </div> 
       <div>
         40 
       </div> 
       <div>
         41 
       </div> 
       <div>
         42 
       </div> 
       <div>
         43 
       </div> 
       <div>
         44 
       </div> 
       <div>
         45 
       </div> 
       <div>
         46 
       </div> 
       <div>
         47 
       </div> 
       <div>
         48 
       </div> 
       <div>
         49 
       </div> 
       <div>
         50 
       </div> 
       <div>
         51 
       </div> 
       <div>
         52 
       </div> 
       <div>
         53 
       </div> 
       <div>
         54 
       </div> 
       <div>
         55 
       </div> 
       <div>
         56 
       </div> 
       <div>
         57 
       </div> 
       <div>
         58 
       </div> 
       <div>
         59 
       </div> 
       <div>
         60 
       </div> 
       <div>
         61 
       </div> 
       <div>
         62 
       </div> 
       <div>
         63 
       </div> 
       <div>
         64 
       </div> 
       <div>
         65 
       </div> 
       <div>
         66 
       </div> 
       <div>
         67 
       </div> 
       <div>
         68 
       </div> 
       <div>
         69 
       </div> 
       <div>
         70 
       </div> 
       <div>
         71 
       </div> 
       <div>
         72 
       </div> 
       <div>
         73 
       </div> 
       <div>
         74 
       </div> 
       <div>
         75 
       </div> 
       <div>
         76 
       </div> 
       <div>
         77 
       </div> 
       <div>
         78 
       </div> 
       <div>
         79 
       </div> 
       <div>
         80 
       </div> 
       <div>
         81 
       </div> 
       <div>
         82 
       </div> 
       <div>
         83 
       </div> 
       <div>
         84 
       </div> 
       <div>
         85 
       </div> 
       <div>
         86 
       </div> 
       <div>
         87 
       </div> 
       <div>
         88 
       </div> 
       <div>
         89 
       </div> 
       <div>
         90 
       </div> 
       <div>
         91 
       </div> 
       <div>
         92 
       </div> 
       <div>
         93 
       </div> 
       <div>
         94 
       </div> 
       <div>
         95 
       </div> 
       <div>
         96 
       </div> 
       <div>
         97 
       </div> 
       <div>
         98 
       </div> 
       <div>
         99 
       </div> 
       <div>
         100 
       </div> 
       <div>
         101 
       </div> 
       <div>
         102 
       </div> 
       <div>
         103 
       </div> 
       <div>
         104 
       </div> 
       <div>
         105 
       </div> 
       <div>
         106 
       </div> 
       <div>
         107 
       </div> 
       <div>
         108 
       </div> 
       <div>
         109 
       </div> 
       <div>
         110 
       </div> 
       <div>
         111 
       </div> 
       <div>
         112 
       </div> 
       <div>
         113 
       </div> 
       <div>
         114 
       </div> 
       <div>
         115 
       </div> 
       <div>
         116 
       </div> 
       <div>
         117 
       </div> 
       <div>
         118 
       </div> 
       <div>
         119 
       </div> </td><td> 
       <div> 
        <div> 
         <code>class</code> 
         <code>Info {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>String getName() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setName(String name) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name = name;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>int</code> 
         <code>getAge() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>return</code> 
         <code>age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>setAge(</code> 
         <code>int</code> 
         <code>age) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.age = age;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>set(String name, </code> 
         <code>int</code> 
         <code>age){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(!flag){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>super</code> 
         <code>.wait();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.name=name;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.age=age;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>flag=</code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>super</code> 
         <code>.notify();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code>  
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>synchronized</code> 
         <code>void</code> 
         <code>get(){<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>if</code> 
         <code>(flag){<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>super</code> 
         <code>.wait();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code>  
        </div> 
        <div> 
         <code>        </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>System.out.println(</code> 
         <code>this</code> 
         <code>.getName()+</code> 
         <code>"&lt;===&gt;"</code> 
         <code>+</code> 
         <code>this</code> 
         <code>.getAge());</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>flag=</code> 
         <code>true</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>super</code> 
         <code>.notify();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>String name = </code> 
         <code>"Rollen"</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>int</code> 
         <code>age = </code> 
         <code>20</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>boolean</code> 
         <code>flag=</code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 生产者</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Producer </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info = </code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>Producer(Info info) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info = info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>boolean</code> 
         <code>flag = </code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>25</code> 
         <code>; ++i) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>if</code> 
         <code>(flag) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code>  
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.set(</code> 
         <code>"Rollen"</code> 
         <code>, </code> 
         <code>20</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag = </code> 
         <code>false</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>else</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>this</code> 
         <code>.info.set(</code> 
         <code>"ChunGe"</code> 
         <code>, </code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>flag = </code> 
         <code>true</code> 
         <code>;</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 消费者类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>Consumer </code> 
         <code>implements</code> 
         <code>Runnable {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>private</code> 
         <code>Info info = </code> 
         <code>null</code> 
         <code>;</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>Consumer(Info info) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>this</code> 
         <code>.info = info;</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>void</code> 
         <code>run() {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>for</code> 
         <code>(</code> 
         <code>int</code> 
         <code>i = </code> 
         <code>0</code> 
         <code>; i &lt; </code> 
         <code>25</code> 
         <code>; ++i) {<!-- --></code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>try</code> 
         <code>{<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>Thread.sleep(</code> 
         <code>100</code> 
         <code>);</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>} </code> 
         <code>catch</code> 
         <code>(Exception e) {<!-- --></code> 
        </div> 
        <div> 
         <code>                </code> 
         <code>e.printStackTrace();</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>            </code> 
         <code>this</code> 
         <code>.info.get();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
        <div>
            
        </div> 
        <div> 
         <code>/**</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* 测试类</code> 
        </div> 
        <div> 
         <code> </code> 
         <code>* */</code> 
        </div> 
        <div> 
         <code>class</code> 
         <code>hello {<!-- --></code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>public</code> 
         <code>static</code> 
         <code>void</code> 
         <code> main(String[] args) {<!-- --></code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Info info = </code> 
         <code>new</code> 
         <code>Info();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Producer pro = </code> 
         <code>new</code> 
         <code>Producer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>Consumer con = </code> 
         <code>new</code> 
         <code>Consumer(info);</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(pro).start();</code> 
        </div> 
        <div> 
         <code>        </code> 
         <code>new</code> 
         <code>Thread(con).start();</code> 
        </div> 
        <div> 
         <code>    </code> 
         <code>}</code> 
        </div> 
        <div> 
         <code>}</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<div> 
 <div> 
  <div id="highlighter_537927"> 
   <div> 
    <a href="http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html#" rel="nofollow">?</a> 
   </div> 
   <table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> 
       <div>
         1 
       </div> 
       <div>
         2 
       </div> 
       <div>
         3 
       </div> 
       <div>
         4 
       </div> 
       <div>
         5 
       </div> 
       <div>
         6 
       </div> 
       <div>
         7 
       </div> 
       <div>
         8 
       </div> 
       <div>
         9 
       </div> 
       <div>
         10 
       </div> 
       <div>
         11 
       </div> 
       <div>
         12 
       </div> 
       <div>
         13 
       </div> 
       <div>
         14 
       </div> 
       <div>
         15 
       </div> 
       <div>
         16 
       </div> 
       <div>
         17 
       </div> 
       <div>
         18 
       </div> 
       <div>
         19 
       </div> 
       <div>
         20 
       </div> 
       <div>
         21 
       </div> 
       <div>
         22 
       </div> 
       <div>
         23 
       </div> 
       <div>
         24 
       </div> 
       <div>
         25 
       </div> 
       <div>
         26 
       </div> 
       <div>
         27 
       </div> </td><td> 
       <div> 
        <div> 
         <code>【程序运行结果】：</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>ChunGe&lt;===&gt;</code> 
         <code>100</code> 
        </div> 
        <div> 
         <code>Rollen&lt;===&gt;</code> 
         <code>20</code> 
        </div> 
        <div> 
         <code>先在看结果就可以知道，之前的问题完全解决。</code> 
        </div> 
       </div> </td></tr></tbody></table> 
  </div> 
 </div> 
</div> 
<p>《完》</p> 
<p>PS（写在后面）：</p> 
<p>本人深知学的太差，所以希望大家能多多指点。另外，关于多线程其实有很多的知识，由于目前我也就知道的不太多，写了一些常用的。虽然在操作系统这门课上学了很多的线程和进程，比如银行家算法等等的，以后有时间在补充，大家有什么好资料可以留个言，大家一起分享一下，谢谢了。</p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4ca1a84ec26007ceaf225403aea9393/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">centos普通用户登录提示鉴定故障</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b23129ff703f701745181101e88bbf71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">根据安装好的第一个linux虚拟机节点怎么创建相同的第二和第三个虚拟机节点...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>