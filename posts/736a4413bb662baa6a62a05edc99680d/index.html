<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序之上拉加载和下拉刷新 ： 微信小程序教程系列18 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序之上拉加载和下拉刷新 ： 微信小程序教程系列18" />
<meta property="og:description" content="在微信小程序上实现下拉刷新、上拉加载的效果
使用系统提供的onPullDownRefresh、onReachBottom这2个事件，
前提需要在app.json或page.json配置文件中设置，才能使用。
app.json是全应用的页面都可以使用该事件，page.json则只是对应的页面才可以使用。
示例：
app.json：
在app.json文件里设置window属性
{ &#34;window&#34;:{ &#34;enablePullDownRefresh&#34;: true } } page.json：
在page.json文件里直接设置属性
{ &#34;enablePullDownRefresh&#34;: true } 示例：
可以结合导航栏loading显示正在加载的效果
Page({ data: { pageNum: 1, // 设置加载的第几次，默认是第一次 isFirstLoad: true, // 用于判断List数组是不是空数组，默认true，空的数组 hasMore: false, // “加载更多” }, // 下拉刷新 onPullDownRefresh: function () { // 显示导航栏loading wx.showNavigationBarLoading(); // 调用接口加载数据 this.loadData(); // 隐藏导航栏loading wx.hideNavigationBarLoading(); // 当处理完数据刷新后，wx.stopPullDownRefresh可以停止当前页面的下拉刷新 wx.stopPullDownRefresh(); }, // 上拉加载 onReachBottom(e) { let that = this; if (that.data.hasMore) { that.setData({ pageNum: that." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/736a4413bb662baa6a62a05edc99680d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-22T08:58:45+08:00" />
<meta property="article:modified_time" content="2023-11-22T08:58:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序之上拉加载和下拉刷新 ： 微信小程序教程系列18</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在微信小程序上实现下拉刷新、上拉加载的效果</p> 
<p><br> 使用系统提供的onPullDownRefresh、onReachBottom这2个事件，</p> 
<p>前提需要在app.json或page.json配置文件中设置，才能使用。</p> 
<p>app.json是全应用的页面都可以使用该事件，page.json则只是对应的页面才可以使用。</p> 
<p><img alt="" class="has" height="105" src="https://images2.imgbox.com/b5/f0/qb5qJUz3_o.png" width="992"><br>  </p> 
<p>示例：</p> 
<p><strong>app.json：</strong></p> 
<p>在app.json文件里设置window属性<br>  </p> 
<pre class="has"><code>{
  "window":{
"enablePullDownRefresh": true
  }
}
</code></pre> 
<p><strong>page.json：</strong></p> 
<p>在page.json文件里直接设置属性</p> 
<pre class="has"><code>{
    "enablePullDownRefresh": true
}
</code></pre> 
<p>示例：</p> 
<p>可以结合导航栏loading显示正在加载的效果</p> 
<pre class="has"><code>Page({
  data: {
    pageNum: 1,       // 设置加载的第几次，默认是第一次
    isFirstLoad: true,   // 用于判断List数组是不是空数组，默认true，空的数组
    hasMore: false,    // “加载更多”
  },
  // 下拉刷新
  onPullDownRefresh: function () {
    // 显示导航栏loading
    wx.showNavigationBarLoading();
    // 调用接口加载数据
    this.loadData();
    // 隐藏导航栏loading
    wx.hideNavigationBarLoading();
    // 当处理完数据刷新后，wx.stopPullDownRefresh可以停止当前页面的下拉刷新
    wx.stopPullDownRefresh();
  },
  // 上拉加载
  onReachBottom(e) {
    let that = this;
    if (that.data.hasMore) {
      that.setData({
        pageNum: that.data.pageNum + 1,  // 每次触发上拉事件，把pageNum+1
        isFirstLoad: false                // 触发到上拉事件，把isFirstLoad设为为false
      });
 
      that.loadData();
    }
  },
})
</code></pre> 
<p></p> 
<p><strong> 附送250套精选项目源码</strong></p> 
<p>源码截图</p> 
<p><img alt="" height="853" src="https://images2.imgbox.com/9a/cc/WVsmwcrz_o.png" width="1200"></p> 
<p><strong>源码获取</strong></p> 
<p><strong>关注公众号「码农园区」，回复 【源码】，即可获取全套源码下载链接</strong><br><img alt="在这里插入图片描述" height="160" src="https://images2.imgbox.com/05/e6/SrdxN6aU_o.png" width="160"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/46d394ba7bfcdf64ee5fd80fca424340/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IDEA控制台中文乱码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a46453ab99a35461fa5ccd56b1fbb07/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">K8S运维中可能会遇到哪些问题呢？以及如何解决呢？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>