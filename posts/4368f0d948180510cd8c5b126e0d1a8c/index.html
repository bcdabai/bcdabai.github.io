<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Max Sum（杭电OJ1003）解题报告 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Max Sum（杭电OJ1003）解题报告" />
<meta property="og:description" content="Max Sum Problem Description Given a sequence a[1],a[2],a[3]......a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 &#43; (-1) &#43; 5 &#43; 4 = 14. Input The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line starts with a number N(1&lt;=N&lt;=100000), then N integers followed(all the integers are between -1000 and 1000)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/4368f0d948180510cd8c5b126e0d1a8c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-08-13T21:01:00+08:00" />
<meta property="article:modified_time" content="2010-08-13T21:01:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Max Sum（杭电OJ1003）解题报告</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<h2 style="color:rgb(26,92,200); text-align:center; font-family:'Times New Roman'"> Max Sum</h2> 
<p> </p> 
<div class="panel_title" align="left" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Problem Description 
</div> 
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
  Given a sequence a[1],a[2],a[3]......a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 + (-1) + 5 + 4 = 14. 
</div> 
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'">
    
</div> 
<p> </p> 
<div class="panel_title" align="left" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Input 
</div> 
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
  The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line starts with a number N(1&lt;=N&lt;=100000), then N integers followed(all the integers are between -1000 and 1000). 
</div> 
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'">
    
</div> 
<p> </p> 
<div class="panel_title" align="left" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Output 
</div> 
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left">
  For each test case, you should output two lines. The first line is "Case #:", # means the number of the test case. The second line contains three integers, the Max Sum in the sequence, the start position of the sub-sequence, the end position of the sub-sequence. If there are more than one result, output the first one. Output a blank line between two cases. 
</div> 
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'">
    
</div> 
<p> </p> 
<div class="panel_title" align="left" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Sample Input 
</div> 
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left"> 
 <pre style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; font-size:14px">  
  <div style="font-family:'Courier New',Courier,monospace">
   
   2 5 6 -1 5 4 -7 7 0 6 -1 1 -6 7 -5
  
  </div></pre> 
</div> 
<div class="panel_bottom" style="height:auto; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; background-color:initial; font-family:'Times New Roman'">
    
</div> 
<p> </p> 
<div class="panel_title" align="left" style="height:38px; background-color:transparent; padding-top:0px; padding-right:14px; padding-bottom:0px; padding-left:14px; color:rgb(124,169,237); font-size:18px; font-family:Arial; font-weight:bold">
  Sample Output 
</div> 
<div class="panel_content" style="height:auto; background-color:initial; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; padding-top:0px; padding-right:20px; padding-bottom:0px; padding-left:20px; font-size:14px; font-family:'Times New Roman'; text-align:left"> 
 <pre style="margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; font-size:14px">  
  <div style="font-family:'Courier New',Courier,monospace">
   
   Case 1: 14 1 4  Case 2: 7 1 6
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">

   
   <strong><span style="font-size:24px"><span style="color:rgb(0,0,255)">解题思路</span>：</span></strong>
   
   <span style="font-size:undefined">刚开始用最笨的方法试了一下，暴力搜索，全部走一边，时间花太多</span>
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   <span style="font-size:undefined">了，超时了，对此改进了搜索</span>的方式，只要两个循环就搞定了，时间加快了，但是相
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   对于来说还不是最快的，还是会超时的，一个个向后面走，只要和大于Max的，就记
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   录的，代码如下：
  
  </div>
  
  <div class="dp-highlighter">
   
   <div class="bar">
    
    <div class="tools">
     
     Code:
    
    </div>
   
   </div>
   
   <ol start="1" class="dp-cpp"><li class="alt"><span class="preprocessor">#include&lt;iostream&gt;</span>  </li><li><span class="keyword">using</span> <span class="keyword">namespace</span> std;  </li><li class="alt"><span class="datatypes">int</span> main()  </li><li>{  </li><li class="alt">    <span class="datatypes">int</span> n;  </li><li>    cin&gt;&gt;n;  </li><li class="alt">    <span class="datatypes">int</span> point1,point2;  </li><li>    <span class="datatypes">int</span> step=1;  </li><li class="alt">    <span class="keyword">while</span>(n)  </li><li>    {  </li><li class="alt">        <span class="datatypes">int</span> max=-99999;  </li><li>        <span class="datatypes">int</span> m,data[100000];  </li><li class="alt">        cin&gt;&gt;m;  </li><li>        <span class="keyword">for</span>(<span class="datatypes">int</span> i=1;i&lt;=m;i++)  </li><li class="alt">            cin&gt;&gt;data[i];  </li><li>        <span class="keyword">for</span>(i=1;i&lt;=m;i++)  </li><li class="alt">        {  </li><li>            <span class="datatypes">int</span> sum=0;  </li><li class="alt">            <span class="keyword">for</span>(<span class="datatypes">int</span> j=i;j&lt;m;j++)  </li><li>            {  </li><li class="alt">                sum+=data[j];  </li><li>                <span class="keyword">if</span>(sum&gt;max)  </li><li class="alt">                {  </li><li>                    max=sum;  </li><li class="alt">                    point1=i;  </li><li>                    point2=j;  </li><li class="alt">                }  </li><li>            }  </li><li class="alt">        }  </li><li>        <span class="keyword">if</span>(step!=1)  </li><li class="alt">           cout&lt;&lt;endl;  </li><li>        cout&lt;&lt;<span class="string">"Case "</span>&lt;&lt;step&lt;&lt;<span class="string">":"</span>&lt;&lt;endl;  </li><li class="alt">        cout&lt;&lt;max&lt;&lt;<span class="string">" "</span>&lt;&lt;point1&lt;&lt;<span class="string">" "</span>&lt;&lt;point2&lt;&lt;endl;  </li><li>        step++;  </li><li class="alt">        n--;  </li><li>    }  </li><li class="alt">    <span class="keyword">return</span> 0;  </li><li>}  </li></ol>
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   <span style="font-size:undefined">交上去还是超时的，最近用到动态规划，对算法进行改进了，起始点还是从头开始的，</span>
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   <span style="font-size:undefined">一直到后面搜索，一直</span>和为小于零，起始点就从开始小于零的后一位开始并把sum改为
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   零，再搜索的过程中，一遇到大的数据就记录下来，把其计为起始点和终点的，这里
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   面主要考虑到，当你搜索到一个位置的，它的和不小于零的，那对于后面来说，加上
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
   去还是会变大的，不会给变小的，所以要再搜索下去的，走一边就KO了。代码如下：
  
  </div>
  
  <div class="dp-highlighter">
   
   <div class="bar">
    
    <div class="tools">
     
     Code:
    
    </div>
   
   </div>
   
   <ol start="1" class="dp-cpp"><li class="alt"><span class="preprocessor">#include&lt;iostream&gt;</span>  </li><li><span class="keyword">using</span> <span class="keyword">namespace</span> std;  </li><li class="alt"><span class="preprocessor">#define Min -999999</span>  </li><li><span class="datatypes">int</span> main()  </li><li class="alt">{  </li><li>    <span class="datatypes">int</span> data[100000],start,end;  </li><li class="alt">    <span class="datatypes">int</span> m;  </li><li>    <span class="datatypes">int</span> step=1;  </li><li class="alt">    cin&gt;&gt;m;      </li><li>    <span class="keyword">while</span>(m--)  </li><li class="alt">    {  </li><li>        <span class="datatypes">int</span> n;  </li><li class="alt">        cin&gt;&gt;n;  </li><li>        <span class="keyword">for</span> (<span class="datatypes">int</span> i=1; i&lt;=n;i++)  </li><li class="alt">            cin&gt;&gt;data[i];  </li><li>        <span class="datatypes">int</span> max = Min;  </li><li class="alt">        <span class="datatypes">int</span> k=1;  </li><li>        <span class="datatypes">int</span> sum = 0;  </li><li class="alt">        <span class="keyword">for</span> (i=1; i&lt;=n; i++)  </li><li>        {  </li><li class="alt">            sum = sum + data[i];  </li><li>            <span class="keyword">if</span> (sum &gt; max)  </li><li class="alt">            {  </li><li>                max = sum;  </li><li class="alt">                start=k;  </li><li>                end=i;  </li><li class="alt">            }  </li><li>            <span class="keyword">if</span>(sum&lt;0)  </li><li class="alt">            {  </li><li>                sum=0;  </li><li class="alt">                k=i+1;  </li><li>            }  </li><li class="alt">        }  </li><li>        <span class="keyword">if</span>(step!=1)  </li><li class="alt">            cout&lt;&lt;endl;  </li><li>        cout&lt;&lt;<span class="string">"Case "</span>&lt;&lt;step&lt;&lt;<span class="string">":"</span>&lt;&lt;endl;  </li><li class="alt">        cout&lt;&lt;max&lt;&lt;<span class="string">" "</span>&lt;&lt;start&lt;&lt;<span class="string">" "</span>&lt;&lt;end&lt;&lt;endl;  </li><li>        step++;  </li><li class="alt">    }  </li><li>    <span class="keyword">return</span> 0;  </li><li class="alt">}  </li></ol>
  
  </div>
  
  <div style="font-family:'Courier New',Courier,monospace">
   
    
  
  </div></pre> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6d38cd0668687b02121468d6d642a2ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">尝试写出类的成员函数实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/159007e1b5cc7d5622ee607fe4a85e10/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">struts2 FilterDispatcher 和 StrutsPrepareAndExecuteFilter 的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>