<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>我对WebApi的认识 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="我对WebApi的认识" />
<meta property="og:description" content="WebAPI是什么？ WebAPI 是一种用来开发系统间接口、设备接口 API 的技术，基于 Http 协议，请求和返 回格式结果默认是 json 格式。比 WCF 更简单、更通用，比 WebService 更节省流量、更简洁。
预设应用场景：
比如下面的接口 http://msg.jiyuwu.com “可以”使用 WebAPI 来开发。 WebAPI 是开发接口的技术，用户不会直接和 WebAPI 打交道，因此 WebAPI 也不会生成 界面，这是 WebAPI 和普通 ASP.Net MVC 的区别。
虽然完全使用普通 ASP.Net MVC 甚至 HttpHandler 也可以开发这样的接口，但是 WebAPI 是专门做这个的，更专业。
特点：
因为 ASP.Net WebAPI 专注于接口开发，所有有如下特点：
1）webapi 的 Action 方法返回 值直接返回对象，专注于数据。
2）webapi 更符合 Restful 的风格。
3）有利于独立于 IIS 部署 （selfhost、winform、windows service、控制台）。
4）Action 可以直接声明为 async。
总结：就是给前端提供数据的框架，不管其他任何事情没不管界面，业务，逻辑，有Restful格式的数据提供方式
Post（增）提交数据Get（查）得到数据Put（改）推送数据Delete（删）删除数据
ps：在一些情况下Post也算在增删改里面 创建WebApi项目 创建Asp.net Web应用程序
选择创建WebApi" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f0c46be565ee9bf0ec8218a5f1a0c089/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-07T16:58:54+08:00" />
<meta property="article:modified_time" content="2020-01-07T16:58:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">我对WebApi的认识</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="WebAPI_0"></a>WebAPI是什么？</h2> 
<ol><li> <p>WebAPI 是一种用来<mark>开发系统间接口</mark>、<mark>设备接口 API 的技术</mark>，基于 <mark>Http 协议</mark>，请求和返 回格式结果默认是 <mark>json 格式</mark>。比 WCF 更简单、更通用，比 WebService 更节省流量、更简洁。</p> </li><li> <p><strong>预设应用场景</strong>：<br> 比如下面的接口 http://msg.jiyuwu.com “可以”使用 WebAPI 来开发。 WebAPI 是开发接口的技术，用户不会直接和 WebAPI 打交道，因此 WebAPI 也不会生成 界面，这是 WebAPI 和普通 ASP.Net MVC 的区别。<br> 虽然完全使用普通 ASP.Net MVC 甚至 HttpHandler 也可以开发这样的接口，但是 WebAPI 是专门做这个的，更专业。</p> </li><li> <p><strong>特点</strong>：</p> <p>因为 ASP.Net WebAPI 专注于接口开发，所有有如下特点：</p> <p>1）webapi 的 Action 方法返回 值直接返回对象，专注于数据。</p> <p>2）webapi 更符合 Restful 的风格。</p> <p>3）有利于独立于 IIS 部署 （selfhost、winform、windows service、控制台）。</p> <p>4）Action 可以直接声明为 async。</p> </li><li> <p><strong>总结</strong>：就是给前端提供数据的框架，不管其他任何事情没不管界面，业务，逻辑，有Restful格式的数据提供方式</p> 
  <ol><li>Post（增）提交数据</li><li>Get（查）得到数据</li><li>Put（改）推送数据</li><li>Delete（删）删除数据<br> ps：在一些情况下Post也算在增删改里面</li></ol> </li></ol> 
<h2><a id="WebApi_25"></a>创建WebApi项目</h2> 
<ol><li>创建Asp.net Web应用程序<br> <img src="https://images2.imgbox.com/df/c0/0deAMcwh_o.png" alt="在这里插入图片描述"></li><li>选择创建WebApi<br> <img src="https://images2.imgbox.com/8a/d9/p1T1og0w_o.png" alt="在这里插入图片描述"></li><li>生成之后，会发现和MVC一样有控制器，视图Model，但是WebApi中是没有View的，只是再创建项目的时候会有个Home的控制器<br> <img src="https://images2.imgbox.com/bf/f2/uLxZYk9D_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/50/67/XvCOiXoS_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/78/3a/WVX2sD1m_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="WebApi_32"></a>WebApi中控制器传递数据的方式</h2> 
<ol><li> <p>查找数据<br> <img src="https://images2.imgbox.com/40/74/Q40nKoVS_o.png" alt="在这里插入图片描述"><br> 当我们再url中填写api/控制器名字/是否带参数，再不同的方式下，得到的数据是不同的<br> <img src="https://images2.imgbox.com/15/65/tgBMRHma_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改数据<br> <img src="https://images2.imgbox.com/92/57/MDMAJgko_o.png" alt="在这里插入图片描述"></p> </li><li> <p>删除数据<br> <img src="https://images2.imgbox.com/11/42/tQedn0eT_o.png" alt="在这里插入图片描述"></p> </li><li> <p>添加数据<br> <img src="https://images2.imgbox.com/32/8c/CtOjBrY5_o.png" alt="在这里插入图片描述"></p> </li><li> <p>接下来我们实验一下，我们先创建一个控制器Students<br> <img src="https://images2.imgbox.com/e7/3c/3t6k2bSd_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/02/19/TtiSi0TL_o.png" alt="在这里插入图片描述"><br> 如果我们不需要string类型的数据呢？我们需要一个对象呢？</p> </li><li> <p>我们创建一个html页面<br> <img src="https://images2.imgbox.com/19/99/7ISlgkR9_o.png" alt="在这里插入图片描述"><br> 创建要给实体类Student<br> <img src="https://images2.imgbox.com/5a/30/Sg1QA4Q9_o.png" alt="在这里插入图片描述"><br> 运行后，我们可以发现，我们已经得到了对象数据<br> <img src="https://images2.imgbox.com/b6/30/tSe6VdR2_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h2><a id="WebApiurl_53"></a>WebApi是怎么进行识别url中的参数和行为呢？</h2> 
<p>我们可以再App_Start中的WebApiconfig查看WebApi的路由器规则设置。<br> <img src="https://images2.imgbox.com/23/13/yOGdDpgO_o.png" alt="在这里插入图片描述"><br> 而且再控制器中，方法名中出现了Get，Put，Delete，Post的时候，也会进行对应操作的识别，Restful风格节省1了方法名的编写<br> <img src="https://images2.imgbox.com/0d/eb/6BZGmrEo_o.png" alt="在这里插入图片描述"><br> <mark><strong>补充：</strong></mark><br> <img src="https://images2.imgbox.com/8b/38/WQrdXGAB_o.png" alt="在这里插入图片描述"><br> 当标记有[FromBody]说明智能通过data来，当没有标记可以通过Querystring得到数值。<br> <img src="https://images2.imgbox.com/cd/6f/IVH7hE12_o.png" alt="在这里插入图片描述"><br> 或者从body过来就Student这种对象，不从body过来就左边这样就行了</p> 
<h2><a id="WebApiCoRS_64"></a>WebApi跨域问题之启动CoRS</h2> 
<p>再Web服务应用程序种启动CoRS，首先添加CoRS包，再工具 菜单中，选择Nuget包管理器，搜索Cors，下载Webapi.Cors，或者用PowerShell指令</p> 
<pre><code> Install-Package Microsoft.AspNet.WebApi.Cors
</code></pre> 
<p>下载完成后再App_Strat/WebApiConfig中进行添加代码<br> <img src="https://images2.imgbox.com/2e/b5/pmHGXKgc_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/437950765012afbdca95f78bf152504d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">批量操作多个git仓库shell脚本参考</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/286f737155fb6653ed0b88ec9b869618/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">抗扰度试验--EMS--电快速瞬变脉冲群--EFT</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>