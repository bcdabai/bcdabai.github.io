<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《GreenPlum系列》GreenPlum初级教程-05GreenPlum语言DDL&amp;DML&amp;DQL - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《GreenPlum系列》GreenPlum初级教程-05GreenPlum语言DDL&amp;DML&amp;DQL" />
<meta property="og:description" content="文章目录 第五章 DDL&amp;DML&amp;DQL1.DDL(Data Definition Language)数据定义语言1.1 创建数据库1.2 查询数据库1.3 删除数据库1.4 创建表1.5 修改表1.6 清除表1.7 删除表 2.DML(Data Manipulation Language)数据操作语言2.1 数据导入2.2 数据更新和删除2.3 数据导出 3.DQL(Data Query Language)数据查询语言3.1 基础语法及执行顺序3.2 基本查询3.3 分组查询3.4 联合查询3.5 排序 第五章 DDL&amp;DML&amp;DQL 1.DDL(Data Definition Language)数据定义语言 1.1 创建数据库 1）语法
CREATE DATABASE name [ [WITH] [OWNER [=] dbowner] [TEMPLATE [=] template] [ENCODING [=] encoding] [TABLESPAC [=] tablespace] [CONNECTIONE LIMIT [=] connlimit ] ] CREATE DATABASE name;
CREATE DATABASE是SQL命令，用于创建一个新的数据库。
name是自定义的数据库名称。这个名称是必须要填写的，而且在当前数据库服务器上必须是唯一的。
[WITH] [OWNER [=] dbowner]
这是一个可选项。OWNER指定了新数据库的所有者。如果未指定，新数据库的所有者默认是执行该命令的用户。
dbowner是数据库所有者的用户名。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/e2b5ac4a8b76aca72e1c32a6b3f635cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-21T21:49:30+08:00" />
<meta property="article:modified_time" content="2024-01-21T21:49:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《GreenPlum系列》GreenPlum初级教程-05GreenPlum语言DDL&amp;DML&amp;DQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-kimbie-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#font_face_DDLDMLDQLfont_1" rel="nofollow"><font face="黑体">第五章 DDL&amp;DML&amp;DQL</font></a></li><li><ul><li><a href="#font_face1DDLData_Definition_Languagefont_3" rel="nofollow"><font face="黑体">1.DDL(Data Definition Language)数据定义语言</font></a></li><li><ul><li><a href="#font_face11_font_5" rel="nofollow"><font face="黑体">1.1 创建数据库</font></a></li><li><a href="#font_face12_font_91" rel="nofollow"><font face="黑体">1.2 查询数据库</font></a></li><li><a href="#font_face13_font_168" rel="nofollow"><font face="黑体">1.3 删除数据库</font></a></li><li><a href="#font_face14_font_174" rel="nofollow"><font face="黑体">1.4 创建表</font></a></li><li><a href="#font_face15_font_315" rel="nofollow"><font face="黑体">1.5 修改表</font></a></li><li><a href="#font_face16_font_357" rel="nofollow"><font face="黑体">1.6 清除表</font></a></li><li><a href="#font_face17_font_366" rel="nofollow"><font face="黑体">1.7 删除表</font></a></li></ul> 
   </li><li><a href="#font_face2DMLData_Manipulation_Languagefont_375" rel="nofollow"><font face="黑体">2.DML(Data Manipulation Language)数据操作语言</font></a></li><li><ul><li><a href="#font_face21_font_377" rel="nofollow"><font face="黑体">2.1 数据导入</font></a></li><li><a href="#font_face22_font_439" rel="nofollow"><font face="黑体">2.2 数据更新和删除</font></a></li><li><a href="#font_face23_font_484" rel="nofollow"><font face="黑体">2.3 数据导出</font></a></li></ul> 
   </li><li><a href="#font_face3DQLData_Query_Languagefont_490" rel="nofollow"><font face="黑体">3.DQL(Data Query Language)数据查询语言</font></a></li><li><ul><li><a href="#font_face31_font_492" rel="nofollow"><font face="黑体">3.1 基础语法及执行顺序</font></a></li><li><a href="#font_face32_font_504" rel="nofollow"><font face="黑体">3.2 基本查询</font></a></li><li><a href="#font_face33_font_795" rel="nofollow"><font face="黑体">3.3 分组查询</font></a></li><li><a href="#font_face34_font_843" rel="nofollow"><font face="黑体">3.4 联合查询</font></a></li><li><a href="#font_face35_font_1032" rel="nofollow"><font face="黑体">3.5 排序</font></a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1071" rel="nofollow"></a></li></ul> 
</div> 
<p></p> 
<h2><a id="font_face_DDLDMLDQLfont_1"></a><font face="黑体">第五章 DDL&amp;DML&amp;DQL</font></h2> 
<h3><a id="font_face1DDLData_Definition_Languagefont_3"></a><font face="黑体">1.DDL(Data Definition Language)数据定义语言</font></h3> 
<h4><a id="font_face11_font_5"></a><font face="黑体">1.1 创建数据库</font></h4> 
<p><strong><font face="黑体">1）语法</font></strong></p> 
<pre><code class="prism language-sh">CREATE DATABASE name <span class="token punctuation">[</span> <span class="token punctuation">[</span>WITH<span class="token punctuation">]</span> <span class="token punctuation">[</span>OWNER <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> dbowner<span class="token punctuation">]</span>
<span class="token punctuation">[</span>TEMPLATE <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> template<span class="token punctuation">]</span>
<span class="token punctuation">[</span>ENCODING <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> encoding<span class="token punctuation">]</span>
<span class="token punctuation">[</span>TABLESPAC <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> tablespace<span class="token punctuation">]</span>
<span class="token punctuation">[</span>CONNECTIONE LIMIT <span class="token punctuation">[</span><span class="token operator">=</span><span class="token punctuation">]</span> connlimit <span class="token punctuation">]</span> <span class="token punctuation">]</span>
</code></pre> 
<ul><li> <p><font face="黑体">CREATE DATABASE name;</font></p> 
  <blockquote> 
   <p><font face="黑体">CREATE DATABASE是SQL命令，用于创建一个新的数据库。</font></p> 
   <p><font face="黑体">name是自定义的数据库名称。这个名称是必须要填写的，而且在当前数据库服务器上必须是唯一的。</font></p> 
  </blockquote> </li><li> <p><font face="黑体">[WITH] [OWNER [=] dbowner]</font></p> 
  <blockquote> 
   <p><font face="黑体">这是一个可选项。OWNER指定了新数据库的所有者。如果未指定，新数据库的所有者默认是执行该命令的用户。</font></p> 
   <p><font face="黑体">dbowner是数据库所有者的用户名。</font></p> 
  </blockquote> </li><li> <p><font face="黑体">[TEMPLATE [=] template]</font></p> 
  <blockquote> 
   <p><font face="黑体">这是一个可选项。TEMPLATE指定了用户创建新数据库的模板。在PostgreSQL和GreenPlum中，通常有一个名为template1的默认模板。如果不指定，就会使用这个默认模板。</font></p> 
   <p><font face="黑体">template是模板数据库的名称。</font></p> 
  </blockquote> </li><li> <p><font face="黑体">[ENCODING [=] encoding]</font></p> 
  <blockquote> 
   <p>ENCODING指定了新数据库的字符编码。这个设置决定了数据库可以存储哪些字符。</p> 
   <p>encoding是字符编码的名称，例如UTF8</p> 
  </blockquote> </li><li> <p><font face="黑体">[TABLESPAC [=] tablespace]</font></p> 
  <blockquote> 
   <p><font face="黑体">这是可选项。TABLSPACE指定了新数据库的存储位置。表空间是数据库中存储文件的物理位置。</font></p> 
   <p><font face="黑体">tablespace是表空间名称。</font></p> 
  </blockquote> </li><li> <p><font face="黑体">[CONNECTIONE LIMIT [=] connlimit ]</font></p> 
  <blockquote> 
   <p><font face="黑体">这是可选项。</font></p> 
   <p><font face="黑体">CONNECTON LIMIT限制了可以同时连接到数据库的最大客户端数量。</font></p> 
   <p><font face="黑体">connlimit是允许的最大连接数。如果设置为-1，则表示没有限制。</font></p> 
  </blockquote> </li></ul> 
<p><strong><font face="黑体">2）创建一个数据库</font></strong></p> 
<p><code>create database gpdb</code><br> <code>with owner gpadmin</code><br> <code>encoding 'utf-8'</code><br> <code>tablespace pg_default</code><br> <code>connection limit 10;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># create database gpdb</span>
postgres-<span class="token comment"># with owner gpadmin</span>
postgres-<span class="token comment"># encoding 'utf-8'</span>
postgres-<span class="token comment"># tablespace pg_default</span>
postgres-<span class="token comment"># connection limit 10;</span>
CREATE DATABASE
</code></pre> 
<p><strong><font face="黑体">3）创建schema</font></strong></p> 
<p><font face="黑体">schema本质上就是一个分组管理工具，它允许您将相关性质或类型的多个表和其他数据库对象(如试图、索引、存储过程等)组织在一起。也可以把schema看作是数据库内部一个"文件夹"或"命名空间"，用于逻辑上组织和隔离数据，以实现更好数据管理和安全控制。</font></p> 
<p><font face="黑体">一个database下可以有多个schema。schema在gp中也叫做namespace。</font></p> 
<ul><li><font face="黑体">1.连接创建完成的数据库</font><br> <code>\c gpdb</code></li><li><font face="黑体">2.创建schema</font><br> <code>create schema ods;</code></li></ul> 
<pre><code class="prism language-sh"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \c gpdb</span>
You are now connected to database <span class="token string">"gpdb"</span> as user <span class="token string">"gpadmin"</span><span class="token builtin class-name">.</span>
<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># create schema ods;</span>
CREATE SCHEMA

</code></pre> 
<h4><a id="font_face12_font_91"></a><font face="黑体">1.2 查询数据库</font></h4> 
<p><strong><font face="黑体">1）切换当前数据库</font></strong></p> 
<ul><li> <p><code>数据库服务器命令行操作</code></p> 
  <blockquote> 
   <p>\c gpdb</p> 
  </blockquote> <pre><code class="prism language-sh"><span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># \c gpdb</span>
You are now connected to database <span class="token string">"gpdb"</span> as user <span class="token string">"gpadmin"</span><span class="token builtin class-name">.</span>

</code></pre> </li></ul> 
<p><strong><font face="黑体">2）显示数据库</font></strong></p> 
<ul><li> <p><code>数据库服务器命令行操作</code></p> 
  <blockquote> 
   <p><font face="黑体">查看所有数据库：\l</font><br> <font face="黑体">查看所有schema：\dn</font></p> 
  </blockquote> <pre><code class="prism language-sh"><span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># \l</span>
                               List of databases
   Name    <span class="token operator">|</span>  Owner  <span class="token operator">|</span> Encoding <span class="token operator">|</span>  Collate   <span class="token operator">|</span>   Ctype    <span class="token operator">|</span>  Access privileges
-----------+---------+----------+------------+------------+---------------------
 gpdb      <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span>
 gpperfmon <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span>
 postgres  <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span>
 template0 <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> <span class="token operator">=</span>c/gpadmin         +
           <span class="token operator">|</span>         <span class="token operator">|</span>          <span class="token operator">|</span>            <span class="token operator">|</span>            <span class="token operator">|</span> <span class="token assign-left variable">gpadmin</span><span class="token operator">=</span>CTc/gpadmin
 template1 <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> <span class="token operator">=</span>c/gpadmin         +
           <span class="token operator">|</span>         <span class="token operator">|</span>          <span class="token operator">|</span>            <span class="token operator">|</span>            <span class="token operator">|</span> <span class="token assign-left variable">gpadmin</span><span class="token operator">=</span>CTc/gpadmin
 zxy       <span class="token operator">|</span> gpadmin <span class="token operator">|</span> UTF8     <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span> en_US.utf8 <span class="token operator">|</span>
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># \dn</span>
   List of schemas
    Name    <span class="token operator">|</span>  Owner
------------+---------
 gp_toolkit <span class="token operator">|</span> gpadmin
 ods        <span class="token operator">|</span> gpadmin
 public     <span class="token operator">|</span> gpadmin
<span class="token punctuation">(</span><span class="token number">3</span> rows<span class="token punctuation">)</span>
</code></pre> </li><li> <p><code>SQL查询操作</code></p> 
  <blockquote> 
   <p><font face="黑体">查看所有数据库：select datname from pg_database;</font><br> <font face="黑体">查看所有schema：select schema_name from information_schema.schemata;</font></p> 
  </blockquote> <pre><code class="prism language-sh"><span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># select datname from pg_database;</span>
  datname
-----------
 template1
 template0
 postgres
 gpperfmon
 zxy
 gpdb
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># select schema_name from information_schema.schemata;</span>
    schema_name
--------------------
 pg_toast
 pg_aoseg
 pg_bitmapindex
 pg_catalog
 public
 information_schema
 gp_toolkit
 ods
<span class="token punctuation">(</span><span class="token number">8</span> rows<span class="token punctuation">)</span>
</code></pre> </li></ul> 
<h4><a id="font_face13_font_168"></a><font face="黑体">1.3 删除数据库</font></h4> 
<p><font face="黑体">drop database会删除数据库的系统的目录并且删除包含数据的文件目录。可以使用if exists判断数据库是否存在，存在则删除；</font></p> 
<p><code>drop database if exists yyds</code></p> 
<h4><a id="font_face14_font_174"></a><font face="黑体">1.4 创建表</font></h4> 
<p><strong><font face="黑体">1）创建语法说明</font></strong></p> 
<pre><code class="prism language-sh">CREATE <span class="token punctuation">[</span>EXTERNAL<span class="token punctuation">]</span> TABLE table_name<span class="token punctuation">(</span>
 column1 datatype <span class="token punctuation">[</span>NOT NULL<span class="token punctuation">]</span> <span class="token punctuation">[</span>DEFAULT<span class="token punctuation">]</span> <span class="token punctuation">[</span>CHECK<span class="token punctuation">]</span> <span class="token punctuation">[</span>UNIQUE<span class="token punctuation">]</span>,
 column2 datatype,
 <span class="token punctuation">..</span><span class="token punctuation">..</span>.
 columnN datatype,
 <span class="token punctuation">[</span>PRIMARY KEY<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">[</span> WITH <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span>LOCATION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
 <span class="token punctuation">[</span>FORMAT<span class="token punctuation">]</span>
 <span class="token punctuation">[</span>COMMENT<span class="token punctuation">]</span>
 <span class="token punctuation">[</span>PARTITION BY<span class="token punctuation">]</span>
 <span class="token punctuation">[</span>DISTRIBUTE BY <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre> 
<ul><li> <p><font face="黑体">create table</font></p> 
  <blockquote> 
   <p><font face="黑体">创建一个指定名字的表，如果相同名字的表已经存在，则抛出异常。</font></p> 
  </blockquote> </li><li> <p><font face="黑体">external</font></p> 
  <blockquote> 
   <p><font face="黑体">external关键字可以让用户创建一个外部表，在建表的同时可以指定一个指向实际数据的路径(location)</font></p> 
  </blockquote> </li><li> <p><font face="黑体">not null</font></p> 
  <blockquote> 
   <p><font face="黑体">非空约束</font></p> 
  </blockquote> </li><li> <p><font face="黑体">default</font></p> 
  <blockquote> 
   <p><font face="黑体">默认值</font></p> 
  </blockquote> </li><li> <p><font face="黑体">check</font></p> 
  <blockquote> 
   <p><font face="黑体">为表字段添加检查约束</font></p> 
  </blockquote> </li><li> <p><font face="黑体">unique</font></p> 
  <blockquote> 
   <p><font face="黑体">唯一约束，一个表中唯一和主键只能存在一个</font></p> 
  </blockquote> </li><li> <p><font face="黑体">primary key</font></p> 
  <blockquote> 
   <p><font face="黑体">主键设置，可以是一个或多个列</font></p> 
  </blockquote> </li><li> <p><font face="黑体">with</font></p> 
  <blockquote> 
   <p><font face="黑体">可以添加数据追加方式，压缩格式，压缩级别，行列压缩等</font></p> 
  </blockquote> </li><li> <p><font face="黑体">location</font></p> 
  <blockquote> 
   <p><font face="黑体">指定外部表数据存储位置</font></p> 
  </blockquote> </li><li> <p><font face="黑体">format</font></p> 
  <blockquote> 
   <p><font face="黑体">存储数据的文本类型</font></p> 
  </blockquote> </li><li> <p><font face="黑体">partition by</font></p> 
  <blockquote> 
   <p><font face="黑体">支持两种分区方式，范围分区(range)和列表分区(list)</font></p> 
  </blockquote> </li><li> <p><font face="黑体">distributed by </font></p> 
  <blockquote> 
   <p><font face="黑体">为表添加分布键，其必须为主键的子键</font></p> 
  </blockquote> </li><li> <p><font face="黑体">comment</font></p> 
  <blockquote> 
   <p><font face="黑体">为表或列添加注释。</font></p> 
  </blockquote> </li></ul> 
<p><strong><font face="黑体">2）内部表和外部表介绍</font></strong></p> 
<p><font face="黑体">内部表和外部表是两种不同类型的表，它们在数据存储和处理方式上有明细的区别。了解这些区别对于合理的设计和优化GP数据库非常重要。</font></p> 
<p><code>内部表和外部表在操作和用途上的主要区别。内部表适合存储和管理数据库内的数据，而外部表适用于从外部数据源临时读取数据。</code></p> 
<ul><li> <p><strong><font face="黑体">内部表</font></strong></p> 
  <ul><li><strong><font face="黑体">数据存储：</font></strong><font face="黑体">内部表的数据直接存储在GP数据库的数据文件中，这意味着数据被物理存储在数据库服务器上。</font></li><li><strong><font face="黑体">事务管理：</font></strong><font face="黑体">内部表完全支持事务管理，这包括ACID属性(原子性、一致性、隔离性和持久性)，确保数据完整性和可靠性。</font></li><li><strong><font face="黑体">索引和约束：</font></strong><font face="黑体">可以在内部表上创建索引和约束，这有助于提高查询性能和维护数据完整性。</font></li><li><strong><font face="黑体">管理和维护：</font></strong><font face="黑体">内部表可以使用数据库的全部管理和维护功能，如备份和恢复。</font></li><li><strong><font face="黑体">适用性：</font></strong><font face="黑体">适用于需要高性能查询和事务完整性的数据。</font></li></ul> <pre><code class="prism language-sh"><span class="token number">1</span><span class="token punctuation">)</span> 创建内部表
<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># CREATE TABLE ods.test ( id SERIAL PRIMARY KEY, name VARCHAR(100));</span>
CREATE TABLE
<span class="token number">2</span><span class="token punctuation">)</span> 插入数据
<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># INSERT INTO ods.test (name) VALUES ('zxy');</span>
INSERT <span class="token number">0</span> <span class="token number">1</span>
<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># INSERT INTO ods.test (name) VALUES ('zxy2');</span>
INSERT <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">3</span><span class="token punctuation">)</span> 查询结果
<span class="token assign-left variable">gpdb</span><span class="token operator">=</span><span class="token comment"># select * from ods.test;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name
----+------
  <span class="token number">2</span> <span class="token operator">|</span> zxy2
  <span class="token number">1</span> <span class="token operator">|</span> zxy
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

</code></pre> </li><li> <p><strong><font face="黑体">外部表</font></strong></p> 
  <ul><li><strong><font face="黑体">数据存储：</font></strong><font face="黑体">外部表的数据存储在数据库外部，如在文件系统、HDFS或任何可以通过SQL/MED(SQL Management of External Data)访问的数据源。外部表仅存储数据的元数据和位置信息。</font></li><li><strong><font face="黑体">事务管理：</font></strong><font face="黑体">外部表不支持事务管理，它们主要用于读取和加载操作，不保证ACID属性。</font></li><li><strong><font face="黑体">索引和约束：</font></strong><font face="黑体">由于数据实际存储在外部，，不能在外部表上创建索引或强制指向数据库级别的约束。</font></li><li><strong><font face="黑体">管理和维护：</font></strong><font face="黑体">外部表的管理相对简单，因为只是对外部数据源的引用。备份和恢复不适用于外部表本身，而是应用于数据源。</font></li><li><strong><font face="黑体">适用性：</font></strong><font face="黑体">适用于ETL操作，即从外部数据源提取数据，然后可能将其转换和加载到内部表中进一步处理。</font></li></ul> <pre><code class="prism language-sh"><span class="token number">1</span>）启动gpfdist
<span class="token punctuation">[</span>gpadmin@sdw1 ~<span class="token punctuation">]</span>$ gpfdist <span class="token parameter variable">-d</span> /home/gpadmin/ <span class="token parameter variable">-p</span> <span class="token number">8081</span> <span class="token parameter variable">-l</span> /home/gpadmin/gpAdminLogs/gpfdist.log <span class="token operator">&amp;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3232</span>

<span class="token number">2</span>）/home/gpadmin/目录下，创建txt目录
<span class="token number">1</span>,zxy,18
<span class="token number">2</span>,zxy2,20

<span class="token number">3</span>）mdw创建外部表
create external table ods.test2 <span class="token punctuation">(</span>
<span class="token function">id</span> int,
name varchar<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>,
age int
<span class="token punctuation">)</span>
location <span class="token punctuation">(</span><span class="token string">'gpfdist://sdw1:8081/test.txt'</span><span class="token punctuation">)</span>
<span class="token function">format</span> <span class="token string">'text'</span> <span class="token punctuation">(</span>delimiter <span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">4</span>）查询外部表
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test2;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
  <span class="token number">2</span> <span class="token operator">|</span> zxy2 <span class="token operator">|</span>  <span class="token number">20</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

</code></pre> </li></ul> 
<h4><a id="font_face15_font_315"></a><font face="黑体">1.5 修改表</font></h4> 
<p><strong><font face="黑体">1）重命名表</font></strong></p> 
<p><code>alter table table_name rename to new_table_name;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># alter table ods.test rename to test3;</span>
ALTER TABLE

</code></pre> 
<p><strong><font face="黑体">2）增加列</font></strong></p> 
<p><code>alter table table_name add column col_name column_type;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># alter table ods.test3 add column age int;</span>
ALTER TABLE

</code></pre> 
<p><strong><font face="黑体">3）修改列类型</font></strong></p> 
<p><code>alter table table_name alter column column_name type column_type [using column::column_type]</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># alter table ods.test3 alter column age type varchar(20);</span>
ALTER TABLE

</code></pre> 
<p><strong><font face="黑体">4）删除列</font></strong></p> 
<p><code>alter table table_name drop column col_name;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># alter table ods.test3 drop column age;</span>
ALTER TABLE

</code></pre> 
<h4><a id="font_face16_font_357"></a><font face="黑体">1.6 清除表</font></h4> 
<p><code>truncate table table_name;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># truncate table ods.test3;</span>
TRUNCATE TABLE
</code></pre> 
<h4><a id="font_face17_font_366"></a><font face="黑体">1.7 删除表</font></h4> 
<p><code>drop table table_name;</code></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># drop table ods.test3;</span>
DROP TABLE
</code></pre> 
<h3><a id="font_face2DMLData_Manipulation_Languagefont_375"></a><font face="黑体">2.DML(Data Manipulation Language)数据操作语言</font></h3> 
<h4><a id="font_face21_font_377"></a><font face="黑体">2.1 数据导入</font></h4> 
<p><strong><font face="黑体">1）向表中装在数据(copy)</font></strong></p> 
<p><code>copy tablename from file_path delimiter '分隔符';</code></p> 
<p><code>copy：表示加载数据，仅追加；</code></p> 
<p><code>delimiter：表示读取的数据字段之间的分隔符；</code></p> 
<pre><code class="prism language-sh"><span class="token number">1</span>）创建表
create table ods.test4 <span class="token punctuation">(</span>
<span class="token function">id</span> int null,
name varchar<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>,
age int null
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">2</span>）准备数据
<span class="token number">1</span>,zxy,18
<span class="token number">2</span>,zxy2,20

<span class="token number">3</span>）导入数据
copy ods.test4 from <span class="token string">'/home/gpadmin/test.txt'</span> delimiter <span class="token string">','</span><span class="token punctuation">;</span>

<span class="token number">4</span>）查询数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test4;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
  <span class="token number">2</span> <span class="token operator">|</span> zxy2 <span class="token operator">|</span>  <span class="token number">20</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>
</code></pre> 
<p><strong><font face="黑体">2）向表中插入数据(insert)</font></strong></p> 
<p><code>insert into tablename(column1,column2...) values(....);</code></p> 
<p><code>insert into tablename select * from tablename2;</code></p> 
<pre><code class="prism language-sh"><span class="token number">1</span>）insert into tablename<span class="token punctuation">(</span>column1,column2<span class="token punctuation">..</span>.<span class="token punctuation">)</span> values<span class="token punctuation">(</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># insert into ods.test4 values(3,'zxy3',20);</span>
INSERT <span class="token number">0</span> <span class="token number">1</span>

<span class="token number">2</span>）insert into tablename <span class="token keyword">select</span> * from tablename2<span class="token punctuation">;</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># insert into ods.test4 select * from ods.test2;</span>
INSERT <span class="token number">0</span> <span class="token number">2</span>

<span class="token number">3</span>）查询数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test4;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
  <span class="token number">3</span> <span class="token operator">|</span> zxy3 <span class="token operator">|</span>  <span class="token number">20</span>
  <span class="token number">2</span> <span class="token operator">|</span> zxy2 <span class="token operator">|</span>  <span class="token number">20</span>
  <span class="token number">2</span> <span class="token operator">|</span> zxy2 <span class="token operator">|</span>  <span class="token number">20</span>
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
<span class="token punctuation">(</span><span class="token number">5</span> rows<span class="token punctuation">)</span>

</code></pre> 
<h4><a id="font_face22_font_439"></a><font face="黑体">2.2 数据更新和删除</font></h4> 
<p><strong><font face="黑体">1）数据更新</font></strong></p> 
<p><code>update tablename set column1=value1,column2=value2... where [condition];</code></p> 
<pre><code class="prism language-sh"><span class="token number">1</span>）准备数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test4 where id = 1;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
  <span class="token number">1</span> <span class="token operator">|</span> zxy  <span class="token operator">|</span>  <span class="token number">18</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

<span class="token number">2</span>）修改数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># update ods.test4 set name='aaa' where id = 1;</span>
UPDATE <span class="token number">2</span>

<span class="token number">3</span>）查询数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test4 where id = 1;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
  <span class="token number">1</span> <span class="token operator">|</span> aaa  <span class="token operator">|</span>  <span class="token number">18</span>
  <span class="token number">1</span> <span class="token operator">|</span> aaa  <span class="token operator">|</span>  <span class="token number">18</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">2）数据删除</font></strong></p> 
<p><code>delete from tablename where [condition];</code></p> 
<pre><code class="prism language-sh"><span class="token number">1</span>）删除id为1的数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># delete from ods.test4 where id = 1;</span>
DELETE <span class="token number">2</span>

<span class="token number">2</span>）查询数据
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.test4 where id = 1;</span>
 <span class="token function">id</span> <span class="token operator">|</span> name <span class="token operator">|</span> age
----+------+-----
<span class="token punctuation">(</span><span class="token number">0</span> rows<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="font_face23_font_484"></a><font face="黑体">2.3 数据导出</font></h4> 
<p><font face="黑体">外部表数据无法导出。</font></p> 
<p><code>copy tablename to filepath;</code></p> 
<h3><a id="font_face3DQLData_Query_Languagefont_490"></a><font face="黑体">3.DQL(Data Query Language)数据查询语言</font></h3> 
<h4><a id="font_face31_font_492"></a><font face="黑体">3.1 基础语法及执行顺序</font></h4> 
<pre><code class="prism language-sh">SELECT <span class="token punctuation">[</span>DISTINCT<span class="token punctuation">]</span> colum1, column2, <span class="token punctuation">..</span>.
FROM table_name               -- 从什么表查
<span class="token punctuation">[</span>WHERE condition<span class="token punctuation">]</span>             -- 过滤
<span class="token punctuation">[</span>GROUP BY column_list<span class="token punctuation">]</span>        -- 分组查询
<span class="token punctuation">[</span>HAVING column_list<span class="token punctuation">]</span>          -- 分组后过滤
<span class="token punctuation">[</span>ORDER BY column_list<span class="token punctuation">]</span>        -- 排序
<span class="token punctuation">[</span>LIMIT number<span class="token punctuation">]</span>                -- 限制输出的行数
</code></pre> 
<h4><a id="font_face32_font_504"></a><font face="黑体">3.2 基本查询</font></h4> 
<pre><code class="prism language-sh"><span class="token number">1</span>）准备数据
<span class="token punctuation">[</span>gpadmin@mdw ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> dept.txt
<span class="token number">10</span>,行政部,1700
<span class="token number">20</span>,财务部,1800
<span class="token number">30</span>,教学部,1900
<span class="token number">40</span>,销售部,1700
<span class="token number">50</span>,后勤部,1800

<span class="token punctuation">[</span>gpadmin@mdw ~<span class="token punctuation">]</span>$ <span class="token function">cat</span> emp.txt
<span class="token number">7369</span>,张三,研发,800.00,30
<span class="token number">7499</span>,李四,财务,1600.00,20
<span class="token number">7521</span>,王五,行政,1250.00,10
<span class="token number">7566</span>,赵六,销售,2975.00,40
<span class="token number">7654</span>,侯七,研发,1250.00,30
<span class="token number">7698</span>,马八,研发,2850.00,30
<span class="token number">7782</span>,金九,,2450.0,30
<span class="token number">7788</span>,银十,行政,3000.00,10
<span class="token number">7839</span>,小芳,销售,5000.00,40
<span class="token number">7844</span>,小明,销售,1500.00,40
<span class="token number">7876</span>,小李,行政,1100.00,10
<span class="token number">7900</span>,小元,讲师,950.00,30
<span class="token number">7902</span>,小海,行政,3000.00,10
<span class="token number">7934</span>,小红明,讲师,1300.00,30
<span class="token number">7999</span>,小八,行政,4000.00,10

<span class="token number">2</span>）准备表
create table ods.dept <span class="token punctuation">(</span>
deptno int,   --部门编号
dname text,   --部门名称
loc int       --部门位置id
<span class="token punctuation">)</span> <span class="token punctuation">;</span>
create table ods.emp <span class="token punctuation">(</span>
empno int,             -- 员工编号
ename text,            -- 员工姓名
job text,              -- 员工岗位（大数据工程师、前端工程师、java工程师）
sal double precision,  -- 员工薪资
deptno int             -- 部门编号
<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token number">3</span>）导入数据
copy ods.dept from <span class="token string">'/home/gpadmin/dept.txt'</span> delimiter <span class="token string">','</span><span class="token punctuation">;</span>
copy ods.emp from <span class="token string">'/home/gpadmin/emp.txt'</span> delimiter <span class="token string">','</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong><font face="黑体">1）直接查询</font></strong></p> 
<pre><code class="prism language-sh"><span class="token comment"># 使用*，查询所有数据</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.dept;</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc
--------+--------+------
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span>
     <span class="token number">20</span> <span class="token operator">|</span> 财务部 <span class="token operator">|</span> <span class="token number">1800</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span>
<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 查询指定列</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select deptno,dname from ods.dept;</span>
 deptno <span class="token operator">|</span> dname
--------+--------
     <span class="token number">20</span> <span class="token operator">|</span> 财务部
     <span class="token number">40</span> <span class="token operator">|</span> 销售部
     <span class="token number">10</span> <span class="token operator">|</span> 行政部
     <span class="token number">30</span> <span class="token operator">|</span> 教学部
<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">2）查询取别名</font></strong></p> 
<pre><code class="prism language-sh"><span class="token comment"># 可以使用as，可以不使用</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select deptno as no1,deptno no2 from ods.dept;</span>
 no1 <span class="token operator">|</span> no2
-----+-----
  <span class="token number">20</span> <span class="token operator">|</span>  <span class="token number">20</span>
  <span class="token number">40</span> <span class="token operator">|</span>  <span class="token number">40</span>
  <span class="token number">30</span> <span class="token operator">|</span>  <span class="token number">30</span>
  <span class="token number">10</span> <span class="token operator">|</span>  <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">3）limit查询</font></strong></p> 
<pre><code class="prism language-sh"><span class="token comment"># 1.查询并取三条数据</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp limit 3;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七  <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7876</span> <span class="token operator">|</span> 小李  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">3</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 2.根据empno升序排序，并取三条记录</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp order by empno limit 3;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7369</span> <span class="token operator">|</span> 张三  <span class="token operator">|</span> 研发 <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7499</span> <span class="token operator">|</span> 李四  <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">3</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 3.根据empno升序排序，从第3行开始取3条数据</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp order by empno limit 3 offset 2;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7566</span> <span class="token operator">|</span> 赵六  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七  <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">3</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">4）条件查询</font></strong></p> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where ename = '王五';</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">5）关系运算符</font></strong></p> 
<table><thead><tr><th><strong>操作符</strong></th><th><strong>支持的数据类型</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>A=B</strong></td><td>基本数据类型</td><td>如果A等于B则返回true，反之返回false</td></tr><tr><td><strong>A&lt;=&gt;B</strong></td><td>基本数据类型</td><td>如果A和B都为null，则返回true，如果一边为null，返回false</td></tr><tr><td><strong>A&lt;&gt;B, A!=B</strong></td><td>基本数据类型</td><td>A或者B为null则返回null；如果A不等于B，则返回true，反之返回false</td></tr><tr><td><strong>A &lt;B</strong></td><td>基本数据类型</td><td>A或者B为null，则返回null；如果A小于B，则返回true，反之返回false</td></tr><tr><td><strong>A&lt;=B</strong></td><td>基本数据类型</td><td>A或者B为null，则返回null；如果A小于等于B，则返回true，反之返回false</td></tr><tr><td><strong>A&gt;B</strong></td><td>基本数据类型</td><td>A或者B为null，则返回null；如果A大于B，则返回true，反之返回false</td></tr><tr><td><strong>A&gt;=B</strong></td><td>基本数据类型</td><td>A或者B为null，则返回null；如果A大于等于B，则返回true，反之返回false</td></tr><tr><td><strong>A [not] between B and C</strong></td><td>基本数据类型</td><td>如果A，B或者C任一为null，则结果为null。如果A的值大于等于B而且小于或等于C，则结果为true，反之为false。如果使用not关键字则可达到相反的效果。</td></tr><tr><td><strong>A is null</strong></td><td>所有数据类型</td><td>如果A等于null，则返回true，反之返回false</td></tr><tr><td><strong>A is not null</strong></td><td>所有数据类型</td><td>如果A不等于null，则返回true，反之返回false</td></tr><tr><td><strong>in(数值1，数值2)</strong></td><td>所有数据类型</td><td>使用 in运算显示列表中的值</td></tr><tr><td><strong>A [not] like B</strong></td><td>string 类型</td><td>B是一个SQL下的简单正则表达式，也叫通配符模式，如果A与其匹配的话，则返回true；反之返回false。B的表达式说明如下：‘x%’表示A必须以字母‘x’开头，‘%x’表示A必须以字母‘x’结尾，而‘%x%’表示A包含有字母‘x’,可以位于开头，结尾或者字符串中间。如果使用not关键字则可达到相反的效果。</td></tr><tr><td><strong>A rlike B, A regexp B</strong></td><td>string 类型</td><td>B是基于java的正则表达式，如果A与其匹配，则返回true；反之返回false。匹配使用的是JDK中的正则表达式接口实现的，因为正则也依据其中的规则。例如，正则表达式必须和整个字符串A相匹配，而不是只需与其字符串匹配。</td></tr></tbody></table> 
<pre><code class="prism language-sh"><span class="token comment"># 1.查询sal等于1500</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where sal = 1500;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7844</span> <span class="token operator">|</span> 小明  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

<span class="token comment"># 2.查询sal大于等于1500</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where sal &gt;= 1500;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7566</span> <span class="token operator">|</span> 赵六  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7844</span> <span class="token operator">|</span> 小明  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7788</span> <span class="token operator">|</span> 银十  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7839</span> <span class="token operator">|</span> 小芳  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7499</span> <span class="token operator">|</span> 李四  <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
  <span class="token number">7698</span> <span class="token operator">|</span> 马八  <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7782</span> <span class="token operator">|</span> 金九  <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7902</span> <span class="token operator">|</span> 小海  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7999</span> <span class="token operator">|</span> 小八   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">4000</span> <span class="token operator">|</span>     <span class="token number">10</span>

<span class="token punctuation">(</span><span class="token number">8</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 3.查询sql小于1500</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where sal &lt; 1500;</span>
 empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+--------+------+------+--------
  <span class="token number">7521</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7900</span> <span class="token operator">|</span> 小元   <span class="token operator">|</span> 讲师 <span class="token operator">|</span>  <span class="token number">950</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7369</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 研发 <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7876</span> <span class="token operator">|</span> 小李   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 4.查询sal在1000和1500之间的</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where sal between 1000 and 1500;</span>
 empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+--------+------+------+--------
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7876</span> <span class="token operator">|</span> 小李   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7521</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">5</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 5.查询job为null的</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where job is null;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+-----+------+--------
  <span class="token number">7782</span> <span class="token operator">|</span> 金九  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

<span class="token comment"># 6.通配符"_"查询明结尾</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where ename like '_明';</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7844</span> <span class="token operator">|</span> 小明  <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

<span class="token comment"># 7.通配符"%"查询明结尾</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where ename like '%明';</span>
 empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+--------+------+------+--------
  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">6）逻辑运算符</font></strong></p> 
<table><thead><tr><th><strong>操作符</strong></th><th><strong>含义</strong></th></tr></thead><tbody><tr><td><strong>and</strong></td><td>逻辑并</td></tr><tr><td><strong>or</strong></td><td>逻辑或</td></tr><tr><td><strong>not</strong></td><td>逻辑否</td></tr></tbody></table> 
<pre><code class="prism language-sh"><span class="token comment"># 1.查询研发岗位，工资大于1000</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where job = '研发' and sal &gt; 1000;</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+-------+------+------+--------
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七  <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7698</span> <span class="token operator">|</span> 马八  <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 2.查询研发岗位，或者工资大于1000</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where job = '研发' or sal &gt; 1000;</span>
 empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+--------+------+------+--------
  <span class="token number">7654</span> <span class="token operator">|</span> 侯七   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7876</span> <span class="token operator">|</span> 小李   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7521</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7566</span> <span class="token operator">|</span> 赵六   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7788</span> <span class="token operator">|</span> 银十   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7839</span> <span class="token operator">|</span> 小芳   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7369</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 研发 <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7499</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
  <span class="token number">7698</span> <span class="token operator">|</span> 马八   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7902</span> <span class="token operator">|</span> 小海   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7782</span> <span class="token operator">|</span> 金九   <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7999</span> <span class="token operator">|</span> 小八   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">4000</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">13</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 3.查询岗位不是研发，行政的</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select * from ods.emp where job not in ('研发','行政');</span>
 empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
-------+--------+------+------+--------
  <span class="token number">7839</span> <span class="token operator">|</span> 小芳   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7566</span> <span class="token operator">|</span> 赵六   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
  <span class="token number">7900</span> <span class="token operator">|</span> 小元   <span class="token operator">|</span> 讲师 <span class="token operator">|</span>  <span class="token number">950</span> <span class="token operator">|</span>     <span class="token number">30</span>
  <span class="token number">7499</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">7）聚合函数</font></strong></p> 
<table><thead><tr><th>聚合函数</th><th>含义</th></tr></thead><tbody><tr><td><strong>count()</strong></td><td>表示统计行数</td></tr><tr><td><strong>max()</strong></td><td>求最大值，不含null，除非所有值都是null</td></tr><tr><td><strong>min()</strong></td><td>求最小值，不包含null，除非所有值都是null</td></tr><tr><td><strong>sum()</strong></td><td>求和，不包含null</td></tr><tr><td><strong>avg()</strong></td><td>求平均值，不包含null</td></tr></tbody></table> 
<pre><code class="prism language-sh"><span class="token comment"># 统计emp表有多少条数据，最大sal、最小sal、sal合计、sal平均值</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select count(*),max(sal) max_sal,min(sal) min_sal,sum(sal) sum_sal,avg(sal) avg_sal from ods.emp;</span>
 count <span class="token operator">|</span> max_sal <span class="token operator">|</span> min_sal <span class="token operator">|</span> sum_sal <span class="token operator">|</span>     avg_sal
-------+---------+---------+---------+------------------
    <span class="token number">14</span> <span class="token operator">|</span>    <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">800</span> <span class="token operator">|</span>   <span class="token number">29025</span> <span class="token operator">|</span> <span class="token number">2073.21428571429</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>


</code></pre> 
<h4><a id="font_face33_font_795"></a><font face="黑体">3.3 分组查询</font></h4> 
<p><strong><font face="黑体">1）Group By语句</font></strong></p> 
<p><font face="黑体">Group By语句通常会和聚合函数一起使用，按照一个或者多个列对结果进行分组，然后执行对应的聚合操作。查询时如果使用Group BY，那么Select查询的字段只能包括Group By后的字段。</font></p> 
<pre><code class="prism language-sh"><span class="token comment"># 1.查看各岗位总工资多少</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select job,sum(sal) sal from ods.emp group by job;</span>
 job  <span class="token operator">|</span> sal
------+------
 行政 <span class="token operator">|</span> <span class="token number">8350</span>
 讲师 <span class="token operator">|</span> <span class="token number">2250</span>
      <span class="token operator">|</span> <span class="token number">2450</span>
 销售 <span class="token operator">|</span> <span class="token number">9475</span>
 研发 <span class="token operator">|</span> <span class="token number">4900</span>
 财务 <span class="token operator">|</span> <span class="token number">1600</span>
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 2.查看各岗位最大工资、最小工资、平均工资</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select job,max(sal),min(sal),avg(sal) from ods.emp group by job;</span>
 job  <span class="token operator">|</span> max  <span class="token operator">|</span> min  <span class="token operator">|</span>       avg
------+------+------+------------------
 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span> <span class="token number">3158.33333333333</span>
 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span> <span class="token number">1633.33333333333</span>
 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>             <span class="token number">1600</span>
 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>           <span class="token number">2087.5</span>
 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>  <span class="token number">950</span> <span class="token operator">|</span>             <span class="token number">1125</span>
      <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>             <span class="token number">2450</span>
<span class="token punctuation">(</span><span class="token number">6</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">2）Having语句</font></strong></p> 
<p><font face="黑体">where后面不能跟分组聚合函数，而having后面可以且只能使用分组聚合函数，不可以使用聚合函数的别名。</font></p> 
<p><font face="黑体">having只用于group by分组统计语句。</font></p> 
<pre><code class="prism language-sh"><span class="token comment"># 1.查询岗位人数大于3的岗位</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select job,count(*) from ods.emp group by job having count(*) &gt; 3;</span>
 job  <span class="token operator">|</span> count
------+-------
 行政 <span class="token operator">|</span>     <span class="token number">4</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="font_face34_font_843"></a><font face="黑体">3.4 联合查询</font></h4> 
<p><strong><font face="黑体">1）等值JSON</font></strong></p> 
<blockquote> 
 <p><font face="黑体">只有两个表中都符合条件的数据才能保留下来；</font></p> 
 <p><font face="黑体">查询行政部有哪些人？</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token keyword">select</span> *
from ods.dept
<span class="token function">join</span> ods.emp on dept.deptno <span class="token operator">=</span> emp.deptno
where dept.dname <span class="token operator">=</span> <span class="token string">'行政部'</span><span class="token punctuation">;</span>


<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.dept</span>
zxy-<span class="token comment"># join ods.emp on dept.deptno = emp.deptno</span>
zxy-<span class="token comment"># where dept.dname = '行政部';</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc  <span class="token operator">|</span> empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
--------+--------+------+-------+-------+------+------+--------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> 银十  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> 小海  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> 小李  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>
</code></pre> 
<p><strong><font face="黑体">2）内连接</font></strong></p> 
<blockquote> 
 <p><font face="黑体">只有两个表中都符合条件的数据才能保留下来，默认的join即为inner join内连接。</font></p> 
 <p><font face="黑体">查询行政部有哪些人？</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token keyword">select</span> *
from ods.dept
<span class="token function">join</span> ods.emp on dept.deptno <span class="token operator">=</span> emp.deptno
where dept.dname <span class="token operator">=</span> <span class="token string">'行政部'</span><span class="token punctuation">;</span>


<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.dept</span>
zxy-<span class="token comment"># join ods.emp on dept.deptno = emp.deptno</span>
zxy-<span class="token comment"># where dept.dname = '行政部';</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc  <span class="token operator">|</span> empno <span class="token operator">|</span> ename <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
--------+--------+------+-------+-------+------+------+--------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> 王五  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> 银十  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> 小海  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> 小李  <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7999</span> <span class="token operator">|</span> 小八   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">4000</span> <span class="token operator">|</span>     <span class="token number">10</span>

<span class="token punctuation">(</span><span class="token number">4</span> rows<span class="token punctuation">)</span>
</code></pre> 
<p><strong><font face="黑体">3）左外连接</font></strong></p> 
<blockquote> 
 <p><font face="黑体">左外连接：left join操作符，左边的所有记录将会返回，右表匹配不到的返回空。</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token keyword">select</span> *
from ods.dept
left <span class="token function">join</span> ods.emp on dept.deptno <span class="token operator">=</span> emp.deptno
where dept.dname <span class="token operator">=</span> <span class="token string">'后勤部'</span><span class="token punctuation">;</span>


<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.dept</span>
zxy-<span class="token comment"># left join ods.emp on dept.deptno = emp.deptno</span>
zxy-<span class="token comment"># where dept.dname = '后勤部';</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc  <span class="token operator">|</span> empno <span class="token operator">|</span> ename <span class="token operator">|</span> job <span class="token operator">|</span> sal <span class="token operator">|</span> deptno
--------+--------+------+-------+-------+-----+-----+--------
     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span> <span class="token operator">|</span>       <span class="token operator">|</span>       <span class="token operator">|</span>     <span class="token operator">|</span>     <span class="token operator">|</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">4）右外连接</font></strong></p> 
<blockquote> 
 <p><font face="黑体">右外连接：right join操作符，右边的所有记录返回，左边匹配不到的为空。</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token keyword">select</span> *
from ods.emp
right <span class="token function">join</span> ods.dept on emp.deptno <span class="token operator">=</span> dept.deptno
where dept.dname <span class="token operator">=</span> <span class="token string">'后勤部'</span><span class="token punctuation">;</span>


<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.emp</span>
zxy-<span class="token comment"># right join ods.dept on emp.deptno = dept.deptno</span>
zxy-<span class="token comment"># where dept.dname = '后勤部';</span>
 empno <span class="token operator">|</span> ename <span class="token operator">|</span> job <span class="token operator">|</span> sal <span class="token operator">|</span> deptno <span class="token operator">|</span> deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc
-------+-------+-----+-----+--------+--------+--------+------
       <span class="token operator">|</span>       <span class="token operator">|</span>     <span class="token operator">|</span>     <span class="token operator">|</span>        <span class="token operator">|</span>     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span>
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">5）全连接</font></strong></p> 
<blockquote> 
 <p><font face="黑体">全连接：full join操作符，返回两个表中所有数据，如果有不符合条件的返回空。</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token keyword">select</span> *
from ods.dept
full <span class="token function">join</span> ods.emp on dept.deptno <span class="token operator">=</span> emp.deptno<span class="token punctuation">;</span>


<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.dept</span>
zxy-<span class="token comment"># full join ods.emp on dept.deptno = emp.deptno;</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc  <span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
--------+--------+------+-------+--------+------+------+--------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> 银十   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> 小海   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> 小李   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7999</span> <span class="token operator">|</span> 小八   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">4000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 研发 <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> 马八   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> 金九   <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> 小元   <span class="token operator">|</span> 讲师 <span class="token operator">|</span>  <span class="token number">950</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span> <span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> 侯七   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">20</span> <span class="token operator">|</span> 财务部 <span class="token operator">|</span> <span class="token number">1800</span> <span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> 小芳   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> 赵六   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span> <span class="token operator">|</span>       <span class="token operator">|</span>        <span class="token operator">|</span>      <span class="token operator">|</span>      <span class="token operator">|</span>
<span class="token punctuation">(</span><span class="token number">15</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">6）笛卡尔积</font></strong></p> 
<blockquote> 
 <p><font face="黑体">无条件关联两个表，会产生笛卡尔积，两边数据互相连接。</font></p> 
 <p><font face="黑体">例如查询行政部，笛卡尔积可以匹配到所有的员工名单</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select *</span>
zxy-<span class="token comment"># from ods.dept,ods.emp</span>
zxy-<span class="token comment"># where dname = '行政部';</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc  <span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> job  <span class="token operator">|</span> sal  <span class="token operator">|</span> deptno
--------+--------+------+-------+--------+------+------+--------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> 赵六   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">2975</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> 小明   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">1500</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> 小元   <span class="token operator">|</span> 讲师 <span class="token operator">|</span>  <span class="token number">950</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> 银十   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> 小芳   <span class="token operator">|</span> 销售 <span class="token operator">|</span> <span class="token number">5000</span> <span class="token operator">|</span>     <span class="token number">40</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> 侯七   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">1250</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> 小李   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">1100</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 研发 <span class="token operator">|</span>  <span class="token number">800</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 财务 <span class="token operator">|</span> <span class="token number">1600</span> <span class="token operator">|</span>     <span class="token number">20</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> 马八   <span class="token operator">|</span> 研发 <span class="token operator">|</span> <span class="token number">2850</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> 小海   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">3000</span> <span class="token operator">|</span>     <span class="token number">10</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> 小红明 <span class="token operator">|</span> 讲师 <span class="token operator">|</span> <span class="token number">1300</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> 金九   <span class="token operator">|</span>      <span class="token operator">|</span> <span class="token number">2450</span> <span class="token operator">|</span>     <span class="token number">30</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span> <span class="token operator">|</span>  <span class="token number">7999</span> <span class="token operator">|</span> 小八   <span class="token operator">|</span> 行政 <span class="token operator">|</span> <span class="token number">4000</span> <span class="token operator">|</span>     <span class="token number">10</span>
<span class="token punctuation">(</span><span class="token number">14</span> rows<span class="token punctuation">)</span>

</code></pre> 
<p><strong><font face="黑体">7）联合查询</font></strong></p> 
<blockquote> 
 <p><font face="黑体">union 和 union all都是上下拼接SQL的结果，union会去重，union all不去重。</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token comment"># 1.union all不去重</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select empno,ename from ods.emp where ename = '王五'</span>
zxy-<span class="token comment"># union all select empno,ename from ods.emp where ename = '王五';</span>
 empno <span class="token operator">|</span> ename
-------+-------
  <span class="token number">7521</span> <span class="token operator">|</span> 王五
  <span class="token number">7521</span> <span class="token operator">|</span> 王五
<span class="token punctuation">(</span><span class="token number">2</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 2.union去重</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select empno,ename from ods.emp where ename = '王五'</span>
zxy-<span class="token comment"># union select empno,ename from ods.emp where ename = '王五';</span>
 empno <span class="token operator">|</span> ename
-------+-------
  <span class="token number">7521</span> <span class="token operator">|</span> 王五
<span class="token punctuation">(</span><span class="token number">1</span> row<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="font_face35_font_1032"></a><font face="黑体">3.5 排序</font></h4> 
<blockquote> 
 <p><font face="黑体">Order By全局排序，默认是asc升序排序，可以指定desc降序排序。</font></p> 
</blockquote> 
<pre><code class="prism language-sh"><span class="token comment"># 1.默认根据deptno升序查询表</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select deptno,dname,loc from ods.dept order by deptno;</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc
--------+--------+------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">20</span> <span class="token operator">|</span> 财务部 <span class="token operator">|</span> <span class="token number">1800</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span>
<span class="token punctuation">(</span><span class="token number">5</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 2.根据deptno升序查询表</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select deptno,dname,loc from ods.dept order by deptno asc;</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc
--------+--------+------
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">20</span> <span class="token operator">|</span> 财务部 <span class="token operator">|</span> <span class="token number">1800</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span>
<span class="token punctuation">(</span><span class="token number">5</span> rows<span class="token punctuation">)</span>

<span class="token comment"># 3.根据deptno降序查询表</span>
<span class="token assign-left variable">zxy</span><span class="token operator">=</span><span class="token comment"># select deptno,dname,loc from ods.dept order by deptno desc;</span>
 deptno <span class="token operator">|</span> dname  <span class="token operator">|</span> loc
--------+--------+------
     <span class="token number">50</span> <span class="token operator">|</span> 后勤部 <span class="token operator">|</span> <span class="token number">1800</span>
     <span class="token number">40</span> <span class="token operator">|</span> 销售部 <span class="token operator">|</span> <span class="token number">1700</span>
     <span class="token number">30</span> <span class="token operator">|</span> 教学部 <span class="token operator">|</span> <span class="token number">1900</span>
     <span class="token number">20</span> <span class="token operator">|</span> 财务部 <span class="token operator">|</span> <span class="token number">1800</span>
     <span class="token number">10</span> <span class="token operator">|</span> 行政部 <span class="token operator">|</span> <span class="token number">1700</span>
<span class="token punctuation">(</span><span class="token number">5</span> rows<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="_1071"></a></h2>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d9398f7eb053508288f0a09ccda591a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于SpringBoot&#43;vue的在线视频教育平台的设计与实现，附源码，数据库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1093206550508ab7a902f61534016a1f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">web架构师编辑器内容-完成属性设置的优化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>