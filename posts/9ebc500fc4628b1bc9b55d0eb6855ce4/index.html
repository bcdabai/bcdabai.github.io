<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>element-ui组件的使用，导航菜单（NavMenu）组件、分页组件的使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="element-ui组件的使用，导航菜单（NavMenu）组件、分页组件的使用" />
<meta property="og:description" content="一、ElementUI 1、简介：是&#39;饿了么&#39;公司推出的基于Vue2的组件库
2、使用方法：具体可见官网https://element.eleme.cn/#/zh-CN/component/installation ​ （1）在vue项目中安装：npm install element-ui
​ （2）在main.js文件中进行全局的配置
import ElementUI from &#39;element-ui&#39; ;//导入element-ui库 import &#39;element-ui/lib/theme-chalk/index.css&#39; ;//导入element-ui的样式文件 Vue.use(ElementUI);//在vue原型上注册外部对象 二、图像组件 &lt;el-image style=&#34;width: 100px; height: 100px&#34; :src=&#34;url&#34; :fit=&#34;fit&#34;&gt; &lt;/el-image&gt; //1.src属性：图像的地址，绑定变量用来指定图片的地址，通常需要使用require来拉取图片 //2.fit属性：确定图片如何适应到容器框（&#39;fill&#39;, &#39;contain&#39;, &#39;cover&#39;, &#39;none&#39;, &#39;scale-down&#39;） //3.lazy属性：图片懒加载（按需加载） 三、导航菜单（NavMenu） 1、导航方向：通过mode属性设置 2、菜单项： &lt;el-menu mode=&#34;方向&#34; background-color=&#34;背景色&#34; text-color=&#34;文本颜色&#34; default-active=&#34;默认打开的菜单&#34; active-text-color=&#34;活动的菜单的文本的颜色&#34;&gt; &lt;el-submenu index=&#34;1&#34;&gt; //菜单项 &lt;template slot=&#34;title&#34;&gt; //标题文本 &lt;i class=&#34;el-icon-notebook-2&#34;&gt;&lt;/i&gt; //文本前的图标 &lt;span&gt;在线教材&lt;/span&gt; &lt;/template&gt; &lt;el-menu-item index=&#34;1-1&#34;&gt; //子菜单项 &lt;router-link to=&#34;/books&#34; class=&#34;link&#34;&gt;出版图书&lt;/router-link&gt; &lt;/el-menu-item&gt; &lt;el-menu-item index=&#34;1-2&#34;&gt;教案管理&lt;/el-menu-item&gt; &lt;el-menu-item index=&#34;1-3&#34;&gt;教材管理&lt;/el-menu-item&gt; &lt;/el-submenu&gt; &lt;/el-menu&gt; //disabled属性：表示该菜单项不可用 三、上传组件：Upload &lt;el-upload class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9ebc500fc4628b1bc9b55d0eb6855ce4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-01T20:02:10+08:00" />
<meta property="article:modified_time" content="2023-02-01T20:02:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">element-ui组件的使用，导航菜单（NavMenu）组件、分页组件的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、ElementUI</h3> 
<p><a name="1%E3%80%81%E7%AE%80%E4%BB%8B%EF%BC%9A%E6%98%AF%E2%80%99%E9%A5%BF%E4%BA%86%E4%B9%88%E2%80%99%E5%85%AC%E5%8F%B8%E6%8E%A8%E5%87%BA%E7%9A%84%E5%9F%BA%E4%BA%8EVue2.0%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93"></a><strong>1、简介</strong>：是'饿了么'公司推出的基于Vue2的组件库</p> 
<h4><a name="2%E3%80%81%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"></a>2、使用方法：具体可见<a class="link-info has-card" href="https://element.eleme.cn/#/zh-CN/component/installation" rel="nofollow" title="官网"><span class="link-card-box"><span class="link-title">官网</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/94/6e/wfp034s8_o.png" alt="icon-default.png?t=N0U7">https://element.eleme.cn/#/zh-CN/component/installation</span></span></a></h4> 
<p>​ （1）在vue项目中安装：npm install element-ui</p> 
<p>​ （2）在main.js文件中进行全局的配置</p> 
<pre><code class="language-javascript">import ElementUI from 'element-ui' ;//导入element-ui库
import 'element-ui/lib/theme-chalk/index.css' ;//导入element-ui的样式文件

Vue.use(ElementUI);//在vue原型上注册外部对象</code></pre> 
<h3>二、图像组件</h3> 
<pre><code class="language-html">&lt;el-image
      style="width: 100px; height: 100px"
      :src="url"
      :fit="fit"&gt;
&lt;/el-image&gt;
//1.src属性：图像的地址，绑定变量用来指定图片的地址，通常需要使用require来拉取图片
//2.fit属性：确定图片如何适应到容器框（'fill', 'contain', 'cover', 'none', 'scale-down'）
//3.lazy属性：图片懒加载（按需加载）</code></pre> 
<h3>三、导航菜单（NavMenu）</h3> 
<h4>1、导航方向：通过mode属性设置</h4> 
<h4><a name="2%E3%80%81%E8%8F%9C%E5%8D%95%E9%A1%B9%EF%BC%9A"></a>2、菜单项：</h4> 
<pre><code class="language-html"> &lt;el-menu mode="方向" background-color="背景色" text-color="文本颜色" 
         default-active="默认打开的菜单" 
         active-text-color="活动的菜单的文本的颜色"&gt;
       &lt;el-submenu index="1"&gt; //菜单项
            &lt;template slot="title"&gt;  //标题文本
              &lt;i class="el-icon-notebook-2"&gt;&lt;/i&gt; //文本前的图标
              &lt;span&gt;在线教材&lt;/span&gt;
            &lt;/template&gt;
              &lt;el-menu-item index="1-1"&gt; //子菜单项
                &lt;router-link to="/books" class="link"&gt;出版图书&lt;/router-link&gt;
              &lt;/el-menu-item&gt;
              &lt;el-menu-item index="1-2"&gt;教案管理&lt;/el-menu-item&gt;
              &lt;el-menu-item index="1-3"&gt;教材管理&lt;/el-menu-item&gt;
       &lt;/el-submenu&gt;
 &lt;/el-menu&gt;
  //disabled属性：表示该菜单项不可用</code></pre> 
<h3>三、上传组件：Upload</h3> 
<pre><code class="language-html">&lt;el-upload
            class="avatar-uploader"
            style="margin-left: 30px;"
            drag
            action="http://localhost:8089/books/upload"
            :show-file-list="false"
            :on-change="handlePreview"
            :on-success="handleAvatarSuccess"
            :before-upload="beforeAvatarUpload"
            multiple &gt;
          &lt;img v-if="imageUrl" :src="imageUrl" class="avatar"&gt;
          &lt;i class="el-icon-upload"&gt;&lt;/i&gt;
          &lt;div class="el-upload__text"&gt;将图书图片拖到此处，或&lt;em&gt;点击上传&lt;/em&gt;        
          &lt;/div&gt;
          &lt;div class="el-upload__tip" slot="tip"&gt;
            只能上传jpg/png文件，且不超过2M 
          &lt;/div&gt;
&lt;/el-upload&gt;
 //1.drag属性：表示是否启用拖拽上传 
 //2.action属性：上传服务器的地址
 //3.show-file-list：  是否显示已上传文件列表(true/false) 
 //4.data：上传时是否需要附带额外的参数
 //5.multiple：是否可以上传多个文件
 //6.on-change事件：当上传文件的内容发生改变时触发，
 //7.on-success事件：当上传成功后触发   
 //8.before-upload事件：在上传之前触发(通常用于检查上传文件的格式、大小)  

</code></pre> 
<h4> 对应的js处理代码：</h4> 
<pre><code class="language-javascript">//before-upload事件的处理函数：图片上传之前的验证
    beforeAvatarUpload(file) {
      const isJPG = (file.type === 'image/jpeg'||'image/png');
      const isLt2M = file.size / 1024 / 1024 &lt; 2;
      if (!isJPG) {
        this.$message.error('上传头像图片只能是 JPG 格式!');
        this.imageUrl = ''
      }
      if (!isLt2M) {
        this.$message.error('上传头像图片大小不能超过 2MB!');
        this.imageUrl = ''
      }
      return isJPG &amp;&amp; isLt2M;
    },
    //on-change事件的处理函数：显示图片
    handlePreview(file){
      console.log('#####:',file)
      this.imageUrl = URL.createObjectURL(file.raw)
    },
    //on-success事件触发的函数：图片上传成功后
    handleAvatarSuccess(res, file) {
      this.imageUrl = URL.createObjectURL(file.raw);
    },
</code></pre> 
<p>示例：</p> 
<p><a name="%EF%BC%881%EF%BC%89%E4%BD%BF%E7%94%A8elementUI%E7%9A%84%E4%B8%8A%E4%BC%A0%E7%BB%84%E4%BB%B6%E5%B0%86%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E4%BF%9D%E5%AD%98%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD"></a>（1）使用elementUI的上传组件将图片上传到服务器并保存到数据库中</p> 
<p><a name="%EF%BC%882%EF%BC%89%E5%9C%A8el-table%E6%8E%A7%E4%BB%B6%E4%B8%AD%E5%B0%86%E4%B8%8A%E4%BC%A0%E7%9A%84%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA%E5%87%BA%E6%9D%A5"></a>（2）在el-table控件中将上传的图片显示出来</p> 
<p><a name="%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B%EF%BC%9A"></a>实现过程：</p> 
<p>（1）给数据库中的数据表增加一列（image_url）：保存图片在服务器中存储路径</p> 
<p>（2）在服务器端给BookModel增加一个属性imageUrl，该属性映射的是数据表中的image_url列</p> 
<p>（3）在前端组件中使用FormData对数据进行打包：将表单控件的值和el-upload组件的值</p> 
<p>​ A、在组件的data中增加变量：uploadImage存放用户选择的文件信息</p> 
<pre><code class="language-javascript">      let formData = new FormData()
      formData.append('bookName',this.form.bookName)
      formData.append('bookAuthor',this.form.bookAuthor)
      formData.append('publishTime',this.form.publishTime)
      formData.append('bookPrice', this.form.bookPrice)
      formData.append('uploadImage', this.uploadImage)</code></pre> 
<p>​ B、将formData提交给服务器端的接口</p> 
<p>​ （4）在后台接口中使用formidable模块来解析formData中的数据</p> 
<p>​ （5）将上传到服务器端的图片在客户端的表格（el-table）中显示出来</p> 
<h3>四、分页组件</h3> 
<h4><a name="1%E3%80%81%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%9A"></a>1、实现分页的方式：</h4> 
<p>​ （1）服务器端分页：通过底层的数据库来实现，前端会频繁的和服务器交互，客户端每次请求的是分页的数据而不是所有数据</p> 
<p>​ （2）前端分页：一次性从数据库中取出数据缓存起来，然后对缓存中的数据进行分页处理</p> 
<h4>2、实现分页的要素：</h4> 
<p>​ （1）总记录数</p> 
<p>​ （2）每页显示的记录数</p> 
<p>​ （3）需要的页数</p> 
<p>​ （4）每页数据的起始索引</p> 
<h4>3、element-ui的分页组件：</h4> 
<pre><code class="language-html">  &lt;el-pagination
      @size-change="handleSizeChange"
      @current-change="handleCurrentChange"
      :current-page="currentPage4"
      :page-sizes="[100, 200, 300, 400]"
      :page-size="100"
      layout="total, sizes, prev, pager, next, jumper"
      :total="400"&gt;
    &lt;/el-pagination&gt;
//1.size-change事件：每页显示的记录数发生改变时触发，会自动给事件处理函数传递一个参数，参数值是新的每页显示的记录数
//2.current-change事件：当前的页码发生改变时触发，会自动给事件处理函数传递一个参数，参数值是新的页码
//3.current-page属性：当前页的页码
//4.page-sizes属性：每页显示的记录数的列表，属性值是一个数组
//5.page-size属性：当前每页显示的记录数，属性值是一个数字
//6.layout属性：分页组件的布局
//7.total属性：总记录数</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5016e1a82c184d5a18e3b8889b8ddb2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网络编程(socket通信基础)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0eaefa3bcca56c5e256689e576c22fe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">capabilities 字段字段：V4L2设备具备的能力</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>