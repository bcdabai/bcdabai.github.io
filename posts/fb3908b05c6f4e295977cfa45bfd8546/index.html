<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Go 双链表 接收者是值类型好，还是指针类型好 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Go 双链表 接收者是值类型好，还是指针类型好" />
<meta property="og:description" content="Go 双链表 接收者是值类型好，还是指针类型好公共代码double_node.go 双链表结构空和非空链表双链表插入指定一个节点的插入按照数据的位置插入，从后往前数第三个位置插入7 双链表删除按照节点删除按照索引编号删除从txt里面查找内容 接收者是值类型好，还是指针类型好 首先要知道指针类型的接收者，有如下两个优点：
接收者是指针类型，可以修改原接收者的值。接收者是指针类型，避免了每次调用方法时复制该值，减少了内存的消耗。对于大型结构体，这样更加高效。 方法的接收者使用值类型还是指针类型，并不是由是否修改接收者的值决定的，应该是由接收者的类型决定。方法的接收者如果是原始类型，推荐使用值类型。方法的接收者如果是非原始类型，推荐使用指针类型。
//指针接收者 package main import &#34;fmt&#34; type Usber interface { start() stop() } type Phone struct{ name string } func (p *Phone) start() { //指针接收者 fmt.Println(p.name,&#34;启动&#34;) } func (p *Phone) stop() { fmt.Println(p.name,&#34;关机&#34;) } func main() { p := &amp;Phone{ name : &#34;华为&#34;, } var c Usber = p //表示让Phton实现Usb接口 c.start() c.stop() } &amp;取出地址，*根据地址取出地址指向的值。
package main import ( &#34;fmt&#34; ) func main() { // 准备一个字符串类型 var house = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/fb3908b05c6f4e295977cfa45bfd8546/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-06T16:26:38+08:00" />
<meta property="article:modified_time" content="2023-02-06T16:26:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Go 双链表 接收者是值类型好，还是指针类型好</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Go 双链表</h4> 
 <ul><li><a href="#_2" rel="nofollow">接收者是值类型好，还是指针类型好</a></li><li><a href="#_86" rel="nofollow">公共代码</a></li><li><ul><li><a href="#double_nodego_89" rel="nofollow">double_node.go</a></li></ul> 
  </li><li><a href="#_123" rel="nofollow">双链表结构</a></li><li><a href="#_128" rel="nofollow">空和非空链表</a></li><li><a href="#_134" rel="nofollow">双链表插入</a></li><li><ul><li><a href="#_205" rel="nofollow">指定一个节点的插入</a></li><li><a href="#7_522" rel="nofollow">按照数据的位置插入，从后往前数第三个位置插入7</a></li></ul> 
  </li><li><a href="#_622" rel="nofollow">双链表删除</a></li><li><ul><li><a href="#_627" rel="nofollow">按照节点删除</a></li><li><a href="#_655" rel="nofollow">按照索引编号删除</a></li><li><a href="#txt_724" rel="nofollow">从txt里面查找内容</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>接收者是值类型好，还是指针类型好</h2> 
<p>首先要知道指针类型的接收者，有如下两个优点：</p> 
<ol><li>接收者是指针类型，可以修改原接收者的值。</li><li>接收者是指针类型，避免了每次调用方法时复制该值，减少了内存的消耗。对于大型结构体，这样更加高效。</li></ol> 
<p>方法的接收者使用值类型还是指针类型，并不是由是否修改接收者的值决定的，应该是由接收者的类型决定。方法的接收者如果是原始类型，推荐使用值类型。方法的接收者如果是非原始类型，推荐使用指针类型。</p> 
<pre><code class="prism language-cpp"><span class="token comment">//指针接收者</span>
package main
 
<span class="token keyword">import</span> <span class="token module"><span class="token string">"fmt"</span></span>
 
type Usber interface <span class="token punctuation">{<!-- --></span>
	<span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
type Phone <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span>
	name string
<span class="token punctuation">}</span>
 
<span class="token function">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Phone<span class="token punctuation">)</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//指针接收者</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">"启动"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Phone<span class="token punctuation">)</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">"关机"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	p <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&amp;</span>Phone<span class="token punctuation">{<!-- --></span>
		name <span class="token operator">:</span> <span class="token string">"华为"</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
 
	var c Usber <span class="token operator">=</span> p <span class="token comment">//表示让Phton实现Usb接口</span>
 
	c<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>&amp;</code>取出地址，<code>*</code>根据地址取出地址指向的值。</p> 
<pre><code class="prism language-dart">package main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string-literal"><span class="token string">"fmt"</span></span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// 准备一个字符串类型</span>
    <span class="token keyword">var</span> house <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Malibu Point 10880, 90265"</span></span>

    <span class="token comment">// 对字符串取地址, ptr类型为*string</span>
    ptr <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token operator">&amp;</span>house  <span class="token comment">//对字符串取地址，将指针保存到变量 ptr 中。</span>

    <span class="token comment">// 打印ptr的类型</span>
    <span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ptr type: %T\n"</span></span><span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>

    <span class="token comment">// 打印ptr的指针地址</span>
    <span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"address: %p\n"</span></span><span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>

    <span class="token comment">// 对指针进行取值操作</span>
    value <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token operator">*</span>ptr  <span class="token comment">//对 ptr指针变量进行取值操作，变量 value 的类型为  string。</span>

    <span class="token comment">// 取值后的类型</span>
    <span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"value type: %T\n"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>

    <span class="token comment">// 指针取值后就是指向变量的值</span>
    <span class="token class-name"><span class="token namespace">fmt<span class="token punctuation">.</span></span>Printf</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"value: %s\n"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-dart">ptr type<span class="token punctuation">:</span> <span class="token operator">*</span>string
address<span class="token punctuation">:</span> <span class="token number">0xc0420401b0</span>
value type<span class="token punctuation">:</span> string
value<span class="token punctuation">:</span> <span class="token class-name">Malibu</span> <span class="token class-name">Point</span> <span class="token number">10880</span><span class="token punctuation">,</span> <span class="token number">90265</span>
</code></pre> 
<h2><a id="_86"></a>公共代码</h2> 
<p>D:\BaiduNetdiskDownload\5.链表实战\code&gt;<br> <img src="https://images2.imgbox.com/31/83/FTZzoHiq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="double_nodego_89"></a>double_node.go</h3> 
<pre><code class="prism language-php">package double_LinkList

<span class="token comment">//双向链表节点</span>
type DoubleLinkNode struct <span class="token punctuation">{<!-- --></span>
	value <span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	prev  <span class="token operator">*</span>DoubleLinkNode <span class="token comment">//上一个节点</span>
	next  <span class="token operator">*</span>DoubleLinkNode <span class="token comment">//下一个节点</span>
<span class="token punctuation">}</span>

<span class="token comment">//新建一个节点</span>
<span class="token comment">//value interface{} 构造一个节点</span>
<span class="token comment">//返回一个节点  * DoubleLinkNode</span>
func <span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span>value <span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>DoubleLinkNode<span class="token punctuation">{<!-- --></span>value<span class="token punctuation">,</span> nil<span class="token punctuation">,</span> nil<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//返回数据</span>
<span class="token function">func</span> <span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token function">Value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> node<span class="token operator">.</span>value
<span class="token punctuation">}</span>

<span class="token comment">//返回上一个节点</span>
<span class="token function">func</span> <span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token function">Prev</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> node<span class="token operator">.</span>prev
<span class="token punctuation">}</span>

<span class="token comment">//返回下一个节点</span>
<span class="token function">func</span> <span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token function">PNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> node<span class="token operator">.</span>next
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_123"></a>双链表结构</h2> 
<p>双向是验证速度</p> 
<p><img src="https://images2.imgbox.com/85/bb/i91ops5t_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_128"></a>空和非空链表</h2> 
<p><img src="https://images2.imgbox.com/34/fd/HqskRBXF_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/13/b7/rbl5yvum_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_134"></a>双链表插入</h2> 
<p><img src="https://images2.imgbox.com/7f/e7/0NNPqJ1H_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-php">前驱节点的地址是 p<span class="token operator">-&gt;</span><span class="token property">prior</span> 

<span class="token constant">S</span>指向<span class="token constant">P</span>的前驱节点<span class="token punctuation">:</span>  s<span class="token operator">-&gt;</span><span class="token property">prior</span> <span class="token operator">=</span> p<span class="token operator">-&gt;</span><span class="token property">prior</span><span class="token punctuation">;</span>

<span class="token constant">P</span>的前驱的next指向<span class="token constant">S</span> <span class="token punctuation">:</span>  p<span class="token operator">-&gt;</span><span class="token property">prior</span><span class="token operator">-&gt;</span><span class="token property">next</span> <span class="token operator">=</span> s<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/76/EgrcwhGw_o.png" alt="在这里插入图片描述"></p> 
<pre><code>	phead.next.prev = node //标记上一个节点
	node.next = phead.next //下一个节点
	phead.next = node      //标记头部节点的下一个
	node.prev = phead
</code></pre> 
<p>main.go</p> 
<pre><code class="prism language-php">package main

<span class="token function">import</span> <span class="token punctuation">(</span>
	<span class="token string double-quoted-string">"bufio"</span>
	<span class="token string double-quoted-string">"fmt"</span>
	<span class="token string double-quoted-string">"io"</span>
	<span class="token string double-quoted-string">"os"</span>

	<span class="token string double-quoted-string">"./Single_Link"</span>
	<span class="token string double-quoted-string">"./double_LinkList"</span>

	<span class="token comment">//"strings"</span>
	<span class="token string double-quoted-string">"time"</span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	dlist <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	node1 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	node2 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	node3 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	node4 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	node5 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node1<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertBack</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertBack</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span>
	<span class="token comment">// dlist.InsertHead(node4)</span>
	<span class="token comment">// dlist.InsertHead(node5)</span>
	<span class="token comment">//node6:=double_LinkList.NewDoubleLinkNode(6)</span>
	<span class="token comment">//node7:=double_LinkList.NewDoubleLinkNode(6)</span>
	<span class="token comment">//dlist.InsertValueHead(node3,node6)</span>
	fmt<span class="token operator">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dlist<span class="token operator">.</span><span class="token keyword type-declaration">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">//dlist.InsertValueBack(node3,node6)</span>
	<span class="token comment">//dlist.InsertValueHead(node3,node7)</span>
	<span class="token comment">//dlist.InsertValueBackByValue(3,node7)</span>
	<span class="token comment">//dlist.DeleteNode(node2)</span>
	<span class="token comment">//dlist.DeleteNodeAtindex(3)</span>
	<span class="token comment">//fmt.Println(dlist.String())</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/32/75/OZH3f4cR_o.png" alt="在这里插入图片描述"></p> 
<p>先有phead，下一个节点指向300100 ，它的前置节点是nil，下一个节点是300200，<br> <img src="https://images2.imgbox.com/71/85/9wCoQAwu_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c3/18/aczlrNZL_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_205"></a>指定一个节点的插入</h3> 
<p><font color="red">下面这个是:指定一个节点尾插入法</font><br> <img src="https://images2.imgbox.com/51/00/zopX00vD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/36/55/SEt02M3z_o.png" alt="在这里插入图片描述"><br> <font color="red">下面这个是:指定一个节点头插入法</font></p> 
<p><img src="https://images2.imgbox.com/24/44/8ITFSkyj_o.png" alt="在这里插入图片描述"></p> 
<p><font color="red">double_LinkList.go</font></p> 
<pre><code class="prism language-php">package double_LinkList

<span class="token function">import</span> <span class="token punctuation">(</span>
	<span class="token string double-quoted-string">"fmt"</span>
	<span class="token string double-quoted-string">"strings"</span>
<span class="token punctuation">)</span>

<span class="token comment">//双链表的基本结构</span>
type DoubleLinkList struct <span class="token punctuation">{<!-- --></span>
	head   <span class="token operator">*</span>DoubleLinkNode
	length <span class="token keyword type-declaration">int</span> <span class="token comment">//绑定长度</span>
<span class="token punctuation">}</span>

<span class="token comment">//新建一个双链表</span>
func <span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkList <span class="token punctuation">{<!-- --></span>
	head <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
	<span class="token comment">//返回对象</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>DoubleLinkList<span class="token punctuation">{<!-- --></span>head<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//返回链表长度</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">Getlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword type-declaration">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> dlist<span class="token operator">.</span>length
<span class="token punctuation">}</span>

<span class="token comment">//返回第一个节点</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">GetFirstNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> dlist<span class="token operator">.</span>head<span class="token operator">.</span>next
<span class="token punctuation">}</span>

<span class="token comment">//头部插入数据  node插入的新数据</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertHead</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head <span class="token comment">//头节点</span>
	<span class="token comment">//只有一个节点，他上一个还是下一个都是nil</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> nil   <span class="token comment">//nil  node.next = phead.next = nill</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node <span class="token comment">//只有一个节点直接链接上</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//上一个节点</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		phead<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> node <span class="token comment">//标记上一个节点</span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//下一个节点</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node      <span class="token comment">//标记头部节点的下一个</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//尾部插入法</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertBack</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head <span class="token comment">//头节点</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> nil   <span class="token comment">//nil</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node <span class="token comment">//只有一个节点直接链接上</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//上一个节点</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//循环下去</span>
		<span class="token punctuation">}</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node <span class="token comment">//后缀</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//前缀</span>

		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token keyword type-declaration">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword type-declaration">string</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> listString1 <span class="token keyword type-declaration">string</span>
	<span class="token keyword">var</span> listString2 <span class="token keyword type-declaration">string</span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//正向循环</span>
		listString1 <span class="token operator">+=</span> fmt<span class="token operator">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"%v--&gt;"</span><span class="token punctuation">,</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>value<span class="token punctuation">)</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//继续循环</span>
	<span class="token punctuation">}</span>
	listString1 <span class="token operator">+=</span> fmt<span class="token operator">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"nil"</span><span class="token punctuation">)</span>
	listString1 <span class="token operator">+=</span> <span class="token string double-quoted-string">"\n"</span>
	<span class="token keyword">for</span> phead <span class="token operator">!=</span> dlist<span class="token operator">.</span>head <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//反向循环</span>
		listString2 <span class="token operator">+=</span> fmt<span class="token operator">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"&lt;--%v"</span><span class="token punctuation">,</span> phead<span class="token operator">.</span>value<span class="token punctuation">)</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>prev
	<span class="token punctuation">}</span>
	listString1 <span class="token operator">+=</span> fmt<span class="token operator">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"nil"</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> listString1 <span class="token operator">+</span> listString2 <span class="token operator">+</span> <span class="token string double-quoted-string">"\n"</span> <span class="token comment">//打印链表字符串</span>
<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueBack</span><span class="token punctuation">(</span>dest <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token operator">.</span>next<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> node <span class="token comment">//500100</span>
		<span class="token punctuation">}</span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token comment">//300300</span>
		phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">=</span> node      <span class="token comment">//500100</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead<span class="token operator">.</span>next      <span class="token comment">//300200</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token constant boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueHead</span><span class="token punctuation">(</span>dest <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>

	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next
	<span class="token punctuation">}</span>
	<span class="token comment">//如果它的下一个节点等于dest，就是相等</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span> <span class="token comment">//这是再300200前，插入400500</span>
			phead<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> node <span class="token comment">//400500</span>
		<span class="token punctuation">}</span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//300100</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead      <span class="token comment">//300200</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node      <span class="token comment">//400500</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token constant boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//没有找到就是删除</span>

		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点尾部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueBackByValue</span><span class="token punctuation">(</span>dest <span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token comment">//我这个下一个节点不等于nil</span>
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//找到了</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//找到的值下一个节点不等于nil</span>
		<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token operator">.</span>next<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> node <span class="token comment">//500100</span>
		<span class="token punctuation">}</span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token comment">//300300</span>
		phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">=</span> node      <span class="token comment">//500100</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead<span class="token operator">.</span>next      <span class="token comment">//300200</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token constant boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点头部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueHeadByValue</span><span class="token punctuation">(</span>dest <span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>

	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> node <span class="token comment">//400500</span>
		<span class="token punctuation">}</span>
		node<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//300100</span>
		node<span class="token operator">.</span>prev <span class="token operator">=</span> phead      <span class="token comment">//300200</span>
		phead<span class="token operator">.</span>next <span class="token operator">=</span> node      <span class="token comment">//400500</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token operator">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token constant boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//插入一个索引返回节点的大小</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">GetNodeAtindex</span><span class="token punctuation">(</span>index <span class="token keyword type-declaration">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> index <span class="token operator">&gt;</span> dlist<span class="token operator">.</span>length<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token class-name">index</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> nil
	<span class="token punctuation">}</span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head  <span class="token comment">//它是做的查找</span>
	<span class="token keyword">for</span> index <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next  <span class="token comment">//一直循环下去</span>
		index<span class="token operator">--</span> <span class="token comment">//计算位置</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> phead  <span class="token comment">//符合条件返回phead</span>
<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNode</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> node <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
		<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> node <span class="token punctuation">{<!-- --></span>
			phead <span class="token operator">=</span> phead<span class="token operator">.</span>next <span class="token comment">//循环查找</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> phead<span class="token operator">.</span>next <span class="token operator">==</span> node <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
				phead<span class="token operator">.</span>next<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre</span>
			<span class="token punctuation">}</span>
			phead<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token comment">//设置next</span>

			dlist<span class="token operator">.</span>length<span class="token operator">--</span>
			<span class="token keyword">return</span> <span class="token constant boolean">true</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token constant boolean">false</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token constant boolean">true</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNodeAtindex</span><span class="token punctuation">(</span>index <span class="token keyword type-declaration">int</span><span class="token punctuation">)</span> <span class="token keyword type-declaration">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> index <span class="token operator">&gt;</span> dlist<span class="token operator">.</span>length<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token class-name">index</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token constant boolean">false</span>
	<span class="token punctuation">}</span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head
	<span class="token keyword">for</span> index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next
		index<span class="token operator">--</span> <span class="token comment">//计算位置</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		phead<span class="token operator">.</span>next<span class="token operator">.</span>next<span class="token operator">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre</span>
	<span class="token punctuation">}</span>
	phead<span class="token operator">.</span>next <span class="token operator">=</span> phead<span class="token operator">.</span>next<span class="token operator">.</span>next <span class="token comment">//设置next</span>

	dlist<span class="token operator">.</span>length<span class="token operator">--</span>
	<span class="token keyword">return</span> <span class="token constant boolean">true</span>

<span class="token punctuation">}</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">FindString</span><span class="token punctuation">(</span>inputstr <span class="token keyword type-declaration">string</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token punctuation">:</span><span class="token operator">=</span> dlist<span class="token operator">.</span>head<span class="token operator">.</span>next
	<span class="token keyword">for</span> phead<span class="token operator">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//正向循环</span>
		<span class="token keyword">if</span> strings<span class="token operator">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>phead<span class="token operator">.</span>value<span class="token operator">.</span><span class="token punctuation">(</span><span class="token keyword type-casting">string</span><span class="token punctuation">)</span><span class="token punctuation">,</span> inputstr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			fmt<span class="token operator">.</span><span class="token function">Println</span><span class="token punctuation">(</span>phead<span class="token operator">.</span>value<span class="token operator">.</span><span class="token punctuation">(</span><span class="token keyword type-casting">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		phead <span class="token operator">=</span> phead<span class="token operator">.</span>next
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>需要深拷贝一个节点重新操作，一个节点不能放到两个位置，如果放到两个位置就重合了。</p> 
<p>main.go</p> 
<pre><code class="prism language-php">package main

<span class="token function">import</span> <span class="token punctuation">(</span>
	<span class="token string double-quoted-string">"bufio"</span>
	<span class="token string double-quoted-string">"fmt"</span>
	<span class="token string double-quoted-string">"io"</span>
	<span class="token string double-quoted-string">"os"</span>

	<span class="token string double-quoted-string">"./Single_Link"</span>
	<span class="token string double-quoted-string">"./double_LinkList"</span>

	<span class="token comment">//"strings"</span>
	<span class="token string double-quoted-string">"time"</span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	dlist <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	node1 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	node2 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	node3 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	node4 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	node5 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node1<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span>
	<span class="token comment">// dlist.InsertHead(node4)</span>
	<span class="token comment">// dlist.InsertHead(node5)</span>
	<span class="token comment">//一个节点不能放到两个位置，如果放到两个位置就重合了。</span>
	node6 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
	node7 <span class="token punctuation">:</span><span class="token operator">=</span> double_LinkList<span class="token operator">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
	<span class="token comment">//dlist.InsertValueHead(node3,node6)</span>
	<span class="token comment">//fmt.Println(dlist.String())</span>
	dlist<span class="token operator">.</span><span class="token function">InsertValueBack</span><span class="token punctuation">(</span>node3<span class="token punctuation">,</span> node6<span class="token punctuation">)</span>
	dlist<span class="token operator">.</span><span class="token function">InsertValueHead</span><span class="token punctuation">(</span>node3<span class="token punctuation">,</span> node7<span class="token punctuation">)</span>
	<span class="token comment">//dlist.InsertValueBackByValue(3,node7)</span>
	<span class="token comment">//dlist.DeleteNode(node2)</span>
	<span class="token comment">//dlist.DeleteNodeAtindex(3)</span>
	fmt<span class="token operator">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dlist<span class="token operator">.</span><span class="token keyword type-declaration">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/56/58/26S34rjs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7_522"></a>按照数据的位置插入，从后往前数第三个位置插入7</h3> 
<p>double_LinkList.go</p> 
<pre><code class="prism language-cpp"><span class="token comment">//指定一个节点尾部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueBackByValue</span><span class="token punctuation">(</span>dest interface<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token comment">//我这个下一个节点不等于nil</span>
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//找到了</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//找到的值下一个节点不等于nil</span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//500100</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//300300</span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//500100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead<span class="token punctuation">.</span>next      <span class="token comment">//300200</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点头部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueHeadByValue</span><span class="token punctuation">(</span>dest interface<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>

	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//400500</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//300100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead      <span class="token comment">//300200</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//400500</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp">package main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"bufio"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"io"</span>
	<span class="token string">"os"</span>

	<span class="token string">"./Single_Link"</span>
	<span class="token string">"./double_LinkList"</span>

	<span class="token comment">//"strings"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	dlist <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	node1 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	node2 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	node3 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	node4 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	node5 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node1<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span>
	<span class="token comment">// dlist.InsertHead(node4)</span>
	<span class="token comment">// dlist.InsertHead(node5)</span>
	<span class="token comment">//一个节点不能放到两个位置，如果放到两个位置就重合了。</span>
	node6 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
	node7 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
	<span class="token comment">//dlist.InsertValueHead(node3,node6)</span>
	<span class="token comment">//fmt.Println(dlist.String())</span>
	<span class="token comment">// dlist.InsertValueBack(node3, node6)</span>
	<span class="token comment">// dlist.InsertValueHead(node3, node7)</span>
	<span class="token comment">//按照数据的位置插入，从后往前数第三个位置插入7</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertValueBackByValue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> node7<span class="token punctuation">)</span>
	<span class="token comment">//dlist.DeleteNode(node2)</span>
	<span class="token comment">//dlist.DeleteNodeAtindex(3)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dlist<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_622"></a>双链表删除</h2> 
<p><img src="https://images2.imgbox.com/76/12/cP0A3ZQX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/41/6f/Cm5zv67V_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_627"></a>按照节点删除</h3> 
<p><strong><font color="red">D:\BaiduNetdiskDownload\5.链表实战\code\double_LinkList.go&gt;</font></strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//按照节点删除</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNode</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> node <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head <span class="token comment">//查找节点</span>
		<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> node <span class="token punctuation">{<!-- --></span>
			phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//循环查找</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> node <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span> <span class="token comment">//不是第一个节点</span>
				phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre 就是300100</span>
			<span class="token punctuation">}</span>
			phead<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//设置next    phead.next的下一个节点是300300，代码是phead.next.next这么写的</span>

			dlist<span class="token punctuation">.</span>length<span class="token operator">--</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_655"></a>按照索引编号删除</h3> 
<p><strong><font color="red">D:\BaiduNetdiskDownload\5.链表实战\code\double_LinkList.go&gt;</font></strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//按照索引编号删除</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNodeAtindex</span><span class="token punctuation">(</span>index <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> index <span class="token operator">&gt;</span> dlist<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
		index<span class="token operator">--</span> <span class="token comment">//计算位置</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre</span>
	<span class="token punctuation">}</span>
	phead<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//设置next</span>

	dlist<span class="token punctuation">.</span>length<span class="token operator">--</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>main.go</p> 
<pre><code class="prism language-cpp">package main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"bufio"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"io"</span>
	<span class="token string">"os"</span>
	<span class="token string">"./Single_Link"</span>
	<span class="token string">"./double_LinkList"</span>
	<span class="token comment">//"strings"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	dlist <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	node1 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	node2 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
	node3 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
	node4 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
	node5 <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node1<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span>
	dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span>
	<span class="token comment">// dlist.InsertHead(node4)</span>
	<span class="token comment">// dlist.InsertHead(node5)</span>
	<span class="token comment">//一个节点不能放到两个位置，如果放到两个位置就重合了。</span>
	<span class="token comment">// node6 := double_LinkList.NewDoubleLinkNode(6)</span>
	<span class="token comment">// node7 := double_LinkList.NewDoubleLinkNode(7)</span>
	<span class="token comment">//dlist.InsertValueHead(node3,node6)</span>
	<span class="token comment">//fmt.Println(dlist.String())</span>
	<span class="token comment">// dlist.InsertValueBack(node3, node6)</span>
	<span class="token comment">// dlist.InsertValueHead(node3, node7)</span>
	<span class="token comment">//按照数据的位置插入，从后往前数第三个位置插入7</span>
	<span class="token comment">// dlist.InsertValueBackByValue(3, node7)</span>
	dlist<span class="token punctuation">.</span><span class="token function">DeleteNode</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span>
	<span class="token comment">//dlist.DeleteNodeAtindex(3)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>dlist<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5d/81/Tayf49Dr_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="txt_724"></a>从txt里面查找内容</h3> 
<p>double_LinkList.go</p> 
<pre><code class="prism language-cpp">package double_LinkList

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"strings"</span>
<span class="token punctuation">)</span>

<span class="token comment">//双链表的基本结构</span>
type DoubleLinkList <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
	head   <span class="token operator">*</span>DoubleLinkNode
	length <span class="token keyword">int</span> <span class="token comment">//绑定长度</span>
<span class="token punctuation">}</span>

<span class="token comment">//新建一个双链表</span>
func <span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkList <span class="token punctuation">{<!-- --></span>
	head <span class="token operator">:</span><span class="token operator">=</span> <span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
	<span class="token comment">//返回对象</span>
	<span class="token keyword">return</span> <span class="token operator">&amp;</span>DoubleLinkList<span class="token punctuation">{<!-- --></span>head<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//返回链表长度</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">Getlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> dlist<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token comment">//返回第一个节点</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">GetFirstNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> dlist<span class="token punctuation">.</span>head<span class="token punctuation">.</span>next
<span class="token punctuation">}</span>

<span class="token comment">//头部插入数据  node插入的新数据</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertHead</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head <span class="token comment">//头节点</span>
	<span class="token comment">//只有一个节点，他上一个还是下一个都是nil</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> nil   <span class="token comment">//nil  node.next = phead.next = nill</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node <span class="token comment">//只有一个节点直接链接上</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//上一个节点</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//标记上一个节点</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//下一个节点</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//标记头部节点的下一个</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//尾部插入法</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertBack</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head <span class="token comment">//头节点</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> nil   <span class="token comment">//nil</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node <span class="token comment">//只有一个节点直接链接上</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//上一个节点</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//循环下去</span>
		<span class="token punctuation">}</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node <span class="token comment">//后缀</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//前缀</span>

		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> string <span class="token punctuation">{<!-- --></span>
	var listString1 string
	var listString2 string
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//正向循环</span>
		listString1 <span class="token operator">+=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%v--&gt;"</span><span class="token punctuation">,</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//继续循环</span>
	<span class="token punctuation">}</span>
	listString1 <span class="token operator">+=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"nil"</span><span class="token punctuation">)</span>
	listString1 <span class="token operator">+=</span> <span class="token string">"\n"</span>
	<span class="token keyword">for</span> phead <span class="token operator">!=</span> dlist<span class="token punctuation">.</span>head <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//反向循环</span>
		listString2 <span class="token operator">+=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"&lt;--%v"</span><span class="token punctuation">,</span> phead<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>prev
	<span class="token punctuation">}</span>
	listString1 <span class="token operator">+=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"nil"</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> listString1 <span class="token operator">+</span> listString2 <span class="token operator">+</span> <span class="token string">"\n"</span> <span class="token comment">//打印链表字符串</span>
<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueBack</span><span class="token punctuation">(</span>dest <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//500100</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//300300</span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//500100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead<span class="token punctuation">.</span>next      <span class="token comment">//300200</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点尾部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueHead</span><span class="token punctuation">(</span>dest <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>

	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
	<span class="token punctuation">}</span>
	<span class="token comment">//如果它的下一个节点等于dest，就是相等</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span> <span class="token comment">//这是再300200前，插入400500</span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//400500</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//300100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead      <span class="token comment">//300200</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//400500</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//没有找到就是删除</span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点尾部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueBackByValue</span><span class="token punctuation">(</span>dest interface<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token comment">//我这个下一个节点不等于nil</span>
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//找到了</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//找到的值下一个节点不等于nil</span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//500100</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//300300</span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//500100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead<span class="token punctuation">.</span>next      <span class="token comment">//300200</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//指定一个节点头部插入  dest是指定的节点  bool是成功还是失败</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">InsertValueHeadByValue</span><span class="token punctuation">(</span>dest interface<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>

	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">!=</span> dest <span class="token punctuation">{<!-- --></span> <span class="token comment">//循环查找</span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>value <span class="token operator">==</span> dest <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
			phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> node <span class="token comment">//400500</span>
		<span class="token punctuation">}</span>
		node<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//300100</span>
		node<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead      <span class="token comment">//300200</span>
		phead<span class="token punctuation">.</span>next <span class="token operator">=</span> node      <span class="token comment">//400500</span>

		<span class="token comment">//dlist.head=phead</span>
		dlist<span class="token punctuation">.</span>length<span class="token operator">++</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//插入一个索引返回节点的大小</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">GetNodeAtindex</span><span class="token punctuation">(</span>index <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>DoubleLinkNode <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> index <span class="token operator">&gt;</span> dlist<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> nil
	<span class="token punctuation">}</span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head <span class="token comment">//它是做的查找</span>
	<span class="token keyword">for</span> index <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//一直循环下去</span>
		index<span class="token operator">--</span>            <span class="token comment">//计算位置</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> phead <span class="token comment">//符合条件返回phead</span>
<span class="token punctuation">}</span>

<span class="token comment">//按照节点删除</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNode</span><span class="token punctuation">(</span>node <span class="token operator">*</span>DoubleLinkNode<span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> node <span class="token operator">==</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head <span class="token comment">//查找节点</span>
		<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> node <span class="token punctuation">{<!-- --></span>
			phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next <span class="token comment">//循环查找</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next <span class="token operator">==</span> node <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span> <span class="token comment">//不是第一个节点</span>
				phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre 就是300100</span>
			<span class="token punctuation">}</span>
			phead<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//设置next    phead.next的下一个节点是300300，代码是phead.next.next这么写的</span>

			dlist<span class="token punctuation">.</span>length<span class="token operator">--</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token boolean">true</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//按照索引编号删除</span>
<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">DeleteNodeAtindex</span><span class="token punctuation">(</span>index <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">bool</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> index <span class="token operator">&gt;</span> dlist<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head
	<span class="token keyword">for</span> index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span>
		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
		index<span class="token operator">--</span> <span class="token comment">//计算位置</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> phead <span class="token comment">//设置pre</span>
	<span class="token punctuation">}</span>
	phead<span class="token punctuation">.</span>next <span class="token operator">=</span> phead<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token comment">//设置next</span>

	dlist<span class="token punctuation">.</span>length<span class="token operator">--</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span>

<span class="token punctuation">}</span>

<span class="token function">func</span> <span class="token punctuation">(</span>dlist <span class="token operator">*</span>DoubleLinkList<span class="token punctuation">)</span> <span class="token function">FindString</span><span class="token punctuation">(</span>inputstr string<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	phead <span class="token operator">:</span><span class="token operator">=</span> dlist<span class="token punctuation">.</span>head<span class="token punctuation">.</span>next <span class="token comment">//头节点是为空的，所有加个next</span>
	<span class="token keyword">for</span> phead<span class="token punctuation">.</span>next <span class="token operator">!=</span> nil <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//正向循环  切换字符串，查找inputstr</span>
		<span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>phead<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">,</span> inputstr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>phead<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		phead <span class="token operator">=</span> phead<span class="token punctuation">.</span>next
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>main.go</p> 
<pre><code class="prism language-cpp">package main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"bufio"</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"io"</span>
	<span class="token string">"os"</span>

	<span class="token string">"./Single_Link"</span>
	<span class="token string">"./double_LinkList"</span>

	<span class="token comment">//"strings"</span>
	<span class="token string">"time"</span>
<span class="token punctuation">)</span>

func <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	pathlist <span class="token operator">:</span><span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>string<span class="token punctuation">{<!-- --></span><span class="token string">"D:\\BaiduNetdiskDownload\\5.链表实战\\猴岛游戏社区\\houdao\\1_1.txt"</span><span class="token punctuation">,</span>
		<span class="token string">"D:\\BaiduNetdiskDownload\\5.链表实战\\猴岛游戏社区\\houdao\\1_2.txt"</span><span class="token punctuation">,</span>
		<span class="token string">"D:\\BaiduNetdiskDownload\\5.链表实战\\猴岛游戏社区\\houdao\\1_3.txt"</span><span class="token punctuation">}</span>
	dlist <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>pathlist<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
		path <span class="token operator">:</span><span class="token operator">=</span> pathlist<span class="token punctuation">[</span>i<span class="token punctuation">]</span>            <span class="token comment">//路径</span>
		sqlfile<span class="token punctuation">,</span> _ <span class="token operator">:</span><span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>    <span class="token comment">//打开文件</span>
		br <span class="token operator">:</span><span class="token operator">=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>sqlfile<span class="token punctuation">)</span> <span class="token comment">//读取文件对象</span>
		<span class="token keyword">for</span> <span class="token punctuation">{<!-- --></span>
			line<span class="token punctuation">,</span> _<span class="token punctuation">,</span> end <span class="token operator">:</span><span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">ReadLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> end <span class="token operator">==</span> io<span class="token punctuation">.</span><span class="token constant">EOF</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">//文件结束跳出循环</span>
				<span class="token keyword">break</span>
			<span class="token punctuation">}</span>
			linestr <span class="token operator">:</span><span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>                            <span class="token comment">//转化为字符串</span>
			node <span class="token operator">:</span><span class="token operator">=</span> double_LinkList<span class="token punctuation">.</span><span class="token function">NewDoubleLinkNode</span><span class="token punctuation">(</span>linestr<span class="token punctuation">)</span> <span class="token comment">//新建一个节点</span>
			dlist<span class="token punctuation">.</span><span class="token function">InsertHead</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>                             <span class="token comment">//插入节点</span>

		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"内存载入完成"</span><span class="token punctuation">,</span> dlist<span class="token punctuation">.</span><span class="token function">Getlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	<span class="token keyword">for</span> <span class="token punctuation">{<!-- --></span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"请输入要查询的用户名"</span><span class="token punctuation">)</span>
		var inputstr string
		fmt<span class="token punctuation">.</span><span class="token function">Scanln</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>inputstr<span class="token punctuation">)</span> <span class="token comment">//用户输入</span>
		starttime <span class="token operator">:</span><span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		dlist<span class="token punctuation">.</span><span class="token function">FindString</span><span class="token punctuation">(</span>inputstr<span class="token punctuation">)</span>

		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"本次查询用了"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>starttime<span class="token punctuation">)</span><span class="token punctuation">)</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/56/2a/y7JdUNfi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/68/91/BKO7Dv9c_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a7dca7393068afb757746b70c3cb0722/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">雪花算法生成的ID精度丢失问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/af81e4d1f20fc396aaa62df1e1dc5abe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PyQt5入门教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>