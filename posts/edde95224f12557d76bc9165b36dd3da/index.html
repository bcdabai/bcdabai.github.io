<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JS-金山办公24届秋季校招-前端-滚雪球 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JS-金山办公24届秋季校招-前端-滚雪球" />
<meta property="og:description" content="题目 已知山体上的雪球向下滚动时，雪球每向下滚动1的距离，体积会膨胀x倍。
例如，海拔高度为2的、初始大小为1雪球，当它滚到海拔高度为0的地面时，若x= 5其大小会变成1*5*5=25。
现在每个海拔为i的高度都生成了个大小为1的雪球。当它们全部滚动道地面时，请你求出所有雪球的大小总和。答案对取模。
输入描述： 在第一行中，给出山的高度T和雪球增加的程度，在第二行到 H &#43; 1行表示在山上生成的雪球数量，其中第 i&#43;1行的数字表示在高度为i处制成的雪球的数量
输出描述：输出从山上滚下的所有雪球个数总和。 输入：4 5 输出：**
1
3
2
4
代码（VSCode本地调试） const readline = require(&#39;readline&#39;); const rl = readline.createInterface({ input: process.stdin, output: process.stdout }); let H, x; let snowballs = []; rl.on(&#39;line&#39;, (input) =&gt; { if (!H) { [H, x] = input.split(&#39; &#39;).map(Number); } else { snowballs.push(Number(input)); if (snowballs.length === H) { rl.close(); } } }); rl.on(&#39;close&#39;, () =&gt; { let totalSize = 0; let size = 1; for (let i = 0; i &lt; H; i&#43;&#43;) { size = (size * x) % (1e9 &#43; 7); totalSize = (totalSize &#43; snowballs[i] * size) % (1e9 &#43; 7); } console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/edde95224f12557d76bc9165b36dd3da/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-24T00:09:57+08:00" />
<meta property="article:modified_time" content="2023-10-24T00:09:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JS-金山办公24届秋季校招-前端-滚雪球</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>题目</h2> 
<p>已知山体上的雪球向下滚动时，雪球每向下滚动1的距离，体积会膨胀x倍。<br> 例如，海拔高度为2的、初始大小为1雪球，当它滚到海拔高度为0的地面时，若x= 5其大小会变成1*5*5=25。<br> 现在每个海拔为i的高度都生成了<img alt="a_i" class="mathcode" src="https://images2.imgbox.com/19/ad/TeVMfj84_o.png">个大小为1的雪球。当它们全部滚动道地面时，请你求出所有雪球的大小总和。答案对<img alt="10^9+7" class="mathcode" src="https://images2.imgbox.com/9e/91/cXKOcG1r_o.png">取模。</p> 
<ul><li>输入描述：</li></ul> 
<p>在第一行中，给出山的高度T和雪球增加的程度，在第二行到 H + 1行表示在山上生成的雪球数量，其中第 i+1行的数字表示在高度为i处制成的雪球的数量<img alt="a_i" class="mathcode" src="https://images2.imgbox.com/de/48/i2L706X6_o.png"></p> 
<ul><li>输出描述：输出从山上滚下的所有雪球个数总和。</li></ul> 
<p>输入：4  5        输出：**</p> 
<p>           1</p> 
<p>           3</p> 
<p>           2</p> 
<p>           4</p> 
<h2>代码（VSCode本地调试）</h2> 
<pre><code class="language-javascript">const readline = require('readline');

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

let H, x;
let snowballs = [];

rl.on('line', (input) =&gt; {
  if (!H) {
    [H, x] = input.split(' ').map(Number);
  } else {
    snowballs.push(Number(input));
    if (snowballs.length === H) {
      rl.close();
    }
  }
});

rl.on('close', () =&gt; {
  let totalSize = 0;
  let size = 1;

  for (let i = 0; i &lt; H; i++) {
    size = (size * x) % (1e9 + 7);
    totalSize = (totalSize + snowballs[i] * size) % (1e9 + 7);
  }

  console.log(totalSize);
});</code></pre> 
<h2>解析</h2> 
<p>在 JavaScript 中，rl.on() 是用于注册事件监听器的方法，通常用于处理用户输入或其他异步操作的回调函数。</p> 
<p><strong>rl 是一个 readline 模块创建的 Interface 对象，用于读取用户的输入。</strong></p> 
<p>rl.on() 方法接受两个参数：<strong>事件名称</strong>和<strong>回调函数</strong>。</p> 
<p>事件名称可以是以下之一：</p> 
<ul><li>'line'：当用户输入一行数据时触发。</li><li>'close'：当输入流关闭时触发。</li></ul> 
<p>回调函数是一个函数，用于处理事件触发时的逻辑。回调函数的参数根据事件类型而定，例如 'line' 事件的回调函数通常会接收用户输入的数据作为参数。</p> 
<p>示例用法：</p> 
<pre><code>rl.on('line', (input) =&gt; {
  // 处理用户输入的一行数据
  console.log('用户输入:', input);
});

rl.on('close', () =&gt; {
  // 处理输入流关闭事件
  console.log('输入流已关闭');
});
</code></pre> 
<p>在上述示例中，当用户输入一行数据时，'line' 事件被触发，回调函数中的代码将被执行。当输入流关闭时，'close' 事件被触发，回调函数中的代码将被执行。</p> 
<p><strong>通过使用 rl.on() 方法，我们可以注册事件监听器来处理用户输入或其他异步操作的回调函数，以实现相应的逻辑</strong></p> 
<p>代码（赛码网）</p> 
<pre><code class="language-javascript">let line = readline()
let H, x;
let snowballs = [];
[H, x] = line.split(' ').map(Number);
while (input = readline()) {
    snowballs.push(Number(input));
}
let totalSize = 0;
let size = 1;
for (let i = 0; i &lt; H; i++) {
    size = (size * x) % (1e9 + 7);
    totalSize = (totalSize + snowballs[i] * size) % (1e9 + 7);
}

console.log(totalSize);</code></pre> 
<p>首先，通过 readline() 函数读取一行输入，并将其存储在变量 line 中。</p> 
<p>接下来，定义了变量 H 和 x，以及一个数组 snowballs，用于存储输入的数据。</p> 
<p>通过 line.split(' ').map(Number)，将读取的一行输入按空格分割成数组，并使用 map(Number) 将数组中的每个元素转换为数字类型。然后，通过解构赋值将转换后的值分别赋给 H 和 x。</p> 
<p>使用 while (input = readline()) { ... }，循环读取输入的每一行数据。在循环中，将读取的每一行数据转换为数字类型，并添加到 snowballs 数组中。</p> 
<p>接下来，定义变量 totalSize 和 size，并初始化为 0 和 1。</p> 
<p>通过一个循环遍历 snowballs 数组，从索引 0 开始，直到索引小于 H。在每次循环中，更新 size 的值为 (size * x) % (1e9 + 7)，用于计算下一个雪球的大小。然后，将当前雪球的大小乘以 size，并累加到 totalSize 中。最后，对 totalSize 取模 (1e9 + 7)，以保证结果在合理范围内。</p> 
<p>最后，使用 console.log(totalSize) 将计算结果打印到控制台。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/73adb61c129be88ea5672d14efa248ff/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序：单行输入和多行输入组件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ac8e433ae35e5eb015cc4bea6da27c83/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【中英字幕】Yarn报错: Extracting tar content of undefined failed, the file appears to be corrupt</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>