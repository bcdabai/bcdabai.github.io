<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Jetson Xavier 通过jetson-io配置设备树 （9） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jetson Xavier 通过jetson-io配置设备树 （9）" />
<meta property="og:description" content="1、在终端输入扩展40Pin配置脚本
sudo /opt/nvidia/jetson-io/jetson-io.py 2、选择进入Configure 40-pin expansion header
3、空格选中spi1(或者其他需要的扩展功能)，选择back退出
4、可以看到管脚的SPI功能已打开，然后选择Save and reboot to reconfigure pins 5、确认保存设备树（用户设备树），文件名保持默认即可
6、等待设备重启完成即可正常使用SPI功能
其他使用 设备重启后可查看到新增加的用户DTB
输入以下命令可查看系统对新增用户DTB的调用情况
用户自定义dtb修改 该方法适用于设备树的小问题修改，避免调试过程中反复编译下载系统内核。
方法如下：
将新增的用户DTB拷贝到用户自己的目录后反编译为可修改的DTS
dtc -I dtb -O dts kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb -o kernel_tegra194-p3668-all-p3509-0000-user-custom.dts 将修改后的dts编译为dtb文件 dtc -I dts -O dtb kernel_tegra194-p3668-all-p3509-0000-user-custom.dts -o kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb 将编译好的DTB文件覆盖到系统boot目录下 sudo cp kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb /boot/ 重启即可。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/a1e3d32326d94655b156d2fca059f661/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-07T11:12:39+08:00" />
<meta property="article:modified_time" content="2021-09-07T11:12:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Jetson Xavier 通过jetson-io配置设备树 （9）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、在终端输入扩展40Pin配置脚本</p> 
<pre><code> sudo /opt/nvidia/jetson-io/jetson-io.py
</code></pre> 
<p>2、选择进入<strong>Configure 40-pin expansion header</strong></p> 
<p><img alt="" height="854" src="https://images2.imgbox.com/b2/67/ppCCXzcU_o.png" width="839"></p> 
<p> </p> 
<p><strong>3、空格选中spi1(或者其他需要的扩展功能)，选择back退出</strong></p> 
<pre><code>
4、可以看到管脚的SPI功能已打开，然后选择<strong>Save and reboot to reconfigure pins</strong></code></pre> 
<p>5、确认保存设备树（用户设备树），文件名保持默认即可</p> 
<p><img alt="" height="381" src="https://images2.imgbox.com/6d/25/qhnlBgJd_o.png" width="846"></p> 
<p>6、等待设备重启完成即可正常使用SPI功能</p> 
<h3 id="JetsonXavier通过官方脚本打开扩展40Pin的SPI功能-附录">其他使用</h3> 
<p>设备重启后可查看到新增加的用户DTB</p> 
<p><img alt="" height="648" src="https://images2.imgbox.com/a8/5e/1145P7Yx_o.png" width="937"></p> 
<p> 输入以下命令可查看系统对新增用户DTB的调用情况</p> 
<p><img alt="" height="827" src="https://images2.imgbox.com/c1/0a/ZZbpLzWh_o.png" width="1200"></p> 
<h4 id="JetsonXavier通过官方脚本打开扩展40Pin的SPI功能-用户自定义dtb修改">用户自定义dtb修改</h4> 
<p>该方法适用于设备树的小问题修改，避免调试过程中反复编译下载系统内核。</p> 
<p>方法如下：</p> 
<p>将新增的用户DTB拷贝到用户自己的目录后反编译为可修改的DTS</p> 
<pre><code>dtc -I dtb -O dts kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb -o kernel_tegra194-p3668-all-p3509-0000-user-custom.dts
将修改后的dts编译为dtb文件
</code></pre> 
<pre><code>dtc -I dts -O dtb kernel_tegra194-p3668-all-p3509-0000-user-custom.dts -o kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb
</code>
将编译好的DTB文件覆盖到系统boot目录下</pre> 
<pre><code>sudo cp kernel_tegra194-p3668-all-p3509-0000-user-custom.dtb /boot/

</code></pre> 
<p>重启即可。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d7c24cdad115c9cc42c320d157a0365/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">正则表达式 &amp; Unicode编码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f0005d9a778cb7fc8a52621b550a591e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">死锁详解和解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>