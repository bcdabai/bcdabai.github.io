<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第三章 Android界面布局与高级控件 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第三章 Android界面布局与高级控件" />
<meta property="og:description" content="Android布局管理 1.1 LinearLayout线性布局 LinearLayout是一个视图组(ViewGroup)，用于使所有子视图(视图组内的组件)在单个方向(垂直或水平)保持对齐。使用android:orientation属性指定其子视图的排列方向。
定义线性布局的标签格式如下:
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:orientation=&#34;vertical&#34; android:layout_width=&#34;wrap_content&#34; android:layout_height=&#34;wrap_content&#34; tools:context=&#34;.MainActivity&#34;&gt; &lt;/LinearLayout&gt; LinearLayout的所有子视图依次堆叠，因此无论子视图有多宽，设置android:orientation=&#34;vertical&#34;时，视图内的组件在垂直(上下)方向上排列，即每行均只有一个子视图；设置android:orientation=&#34;horizontal&#34;时，视图内的组件水平排列，水平列表将只有一行高(最高子视图的高度加上内边距)。LinearLayout会考虑子视图之间的边距以及每个子视图的对齐方式(右对齐，居中对齐或左对齐)。
线性布局内的子视图使用布局权重调节所占空间的大小。LinearLayout使用android：layout_weight属性为各个子视图分配权重。此属性会根据视图应在屏幕上占据的空间大小，向视图分配权重值。如果拥有更大的权重值，则视图便可展开，进而填充父视图中的任何剩余空间。子视图可指定权重值，然后系统会按照子视图所声明的权重值比例，为其分配视图组中的任何剩余空间。默认权重为零。
在线性布局中，让每个子视图在垂直布局中占相同大小的屏幕高度，必须将每个视图的android:layout_height设置为“0dp”；水平布局时，让每个子视图在水平方向上占用相同的宽度，必须将每个子视图的android:layout_width设置为“0dp”（针对水平布局）。然后将每个视图的android:layout_weight设置为&#34;1&#34;。
示例1 设置3个按钮平分水平空间
布局文件代码如下:
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:orientation=&#34;horizontal&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;match_parent&#34; tools:context=&#34;.MainActivity&#34;&gt; &lt;Button android:id=&#34;@&#43;id/button1&#34; android:text=&#34;Button1&#34; android:textSize=&#34;20sp&#34; android:layout_weight=&#34;1&#34; android:layout_width=&#34;0dp&#34; android:layout_height=&#34;wrap_content&#34;/&gt; &lt;Button android:id=&#34;@&#43;id/button2&#34; android:text=&#34;Button2&#34; android:textSize=&#34;20sp&#34; android:layout_weight=&#34;1&#34; android:layout_width=&#34;0dp&#34; android:layout_height=&#34;wrap_content&#34;/&gt; &lt;Button android:id=&#34;@&#43;id/button3&#34; android:text=&#34;Button3&#34; android:textSize=&#34;20sp&#34; android:layout_weight=&#34;1&#34; android:layout_width=&#34;0dp&#34; android:layout_height=&#34;wrap_content&#34;/&gt; &lt;/LinearLayout&gt; 程序运行后界面显示如下图所示
如果要让子元素使用大小不同的屏幕空间，可以为子视图分配不同的权重。例如，有三个文本字段，其中两个声明权重为1，另一个未赋予权重，则没有权重的第三个文本字段将不会扩展，并且仅占据其内容1所需的区域。另一方面，另外两个文本字段将以同等幅度进行扩展，已填充测量三个字段后仍剩余的空间。如果有三个文本字段，其中两个字段声明权重为1，而为第三个字段赋予权重2（而非0），则现声明第三个字段比另外两个字段更为重要，因此，该字段将获得总剩余空间的一半，而其他两个字段均享余下的空间。
示例2 设计SendMessage的界面布局
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34; xmlns:tools=&#34;http://schemas.android.com/tools&#34; android:orientation=&#34;vertical&#34; android:paddingLeft=&#34;16dp&#34; android:paddingRight=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/85438efbabaa32a8eeb452fcb055d054/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T15:31:28+08:00" />
<meta property="article:modified_time" content="2023-12-22T15:31:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第三章 Android界面布局与高级控件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Android_0"></a>Android布局管理</h2> 
<h3><a id="11_LinearLayout_2"></a>1.1 LinearLayout线性布局</h3> 
<p>LinearLayout是一个视图组(ViewGroup)，用于使所有子视图(视图组内的组件)在单个方向(垂直或水平)保持对齐。使用android:orientation属性指定其子视图的排列方向。<br> 定义线性布局的标签格式如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">LinearLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">"vertical"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">LinearLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>LinearLayout的所有子视图依次堆叠，因此无论子视图有多宽，设置android:orientation="vertical"时，视图内的组件在垂直(上下)方向上排列，即每行均只有一个子视图；设置android:orientation="horizontal"时，视图内的组件水平排列，水平列表将只有一行高(最高子视图的高度加上内边距)。LinearLayout会考虑子视图之间的边距以及每个子视图的对齐方式(右对齐，居中对齐或左对齐)。</p> 
<p>线性布局内的子视图使用布局权重调节所占空间的大小。LinearLayout使用android：layout_weight属性为各个子视图分配权重。此属性会根据视图应在屏幕上占据的空间大小，向视图分配权重值。如果拥有更大的权重值，则视图便可展开，进而填充父视图中的任何剩余空间。子视图可指定权重值，然后系统会按照子视图所声明的权重值比例，为其分配视图组中的任何剩余空间。默认权重为零。</p> 
<p>在线性布局中，让每个子视图在垂直布局中占相同大小的屏幕高度，必须将每个视图的android:layout_height设置为“0dp”；水平布局时，让每个子视图在水平方向上占用相同的宽度，必须将每个子视图的android:layout_width设置为“0dp”（针对水平布局）。然后将每个视图的android:layout_weight设置为"1"。</p> 
<p><strong>示例1 设置3个按钮平分水平空间</strong></p> 
<p>布局文件代码如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">LinearLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">"horizontal"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button1"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button1"</span>
        android<span class="token operator">:</span>textSize<span class="token operator">=</span><span class="token string">"20sp"</span>
        android<span class="token operator">:</span>layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button2"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button2"</span>
        android<span class="token operator">:</span>textSize<span class="token operator">=</span><span class="token string">"20sp"</span>
        android<span class="token operator">:</span>layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button3"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button3"</span>
        android<span class="token operator">:</span>textSize<span class="token operator">=</span><span class="token string">"20sp"</span>
        android<span class="token operator">:</span>layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">LinearLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>程序运行后界面显示如下图所示<br> <img src="https://images2.imgbox.com/23/36/zEGMEJSQ_o.png" alt="在这里插入图片描述"><br> 如果要让子元素使用大小不同的屏幕空间，可以为子视图分配不同的权重。例如，有三个文本字段，其中两个声明权重为1，另一个未赋予权重，则没有权重的第三个文本字段将不会扩展，并且仅占据其内容1所需的区域。另一方面，另外两个文本字段将以同等幅度进行扩展，已填充测量三个字段后仍剩余的空间。如果有三个文本字段，其中两个字段声明权重为1，而为第三个字段赋予权重2（而非0），则现声明第三个字段比另外两个字段更为重要，因此，该字段将获得总剩余空间的一半，而其他两个字段均享余下的空间。</p> 
<p><strong>示例2 设计SendMessage的界面布局</strong></p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">LinearLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">"vertical"</span>
    android<span class="token operator">:</span>paddingLeft<span class="token operator">=</span><span class="token string">"16dp"</span>
    android<span class="token operator">:</span>paddingRight<span class="token operator">=</span><span class="token string">"16dp"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">EditText</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/To"</span>
        android<span class="token operator">:</span>hint<span class="token operator">=</span><span class="token string">"To"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">EditText</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/subject"</span>
        android<span class="token operator">:</span>hint<span class="token operator">=</span><span class="token string">"Subject"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token class-name">EditText</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/message"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"0dp"</span>
        android<span class="token operator">:</span>layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
        android<span class="token operator">:</span>gravity<span class="token operator">=</span><span class="token string">"top"</span>
        android<span class="token operator">:</span>hint<span class="token operator">=</span><span class="token string">"message"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token class-name">Button</span>                      
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/send"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"SEND"</span>
        android<span class="token operator">:</span>layout_gravity<span class="token operator">=</span><span class="token string">"right"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">LinearLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>To字段、Subject行和Send按钮均仅占用各自所需的高度。此配置允许消息自身占用Activity的剩余高度，显示效果如下图所示。<br> <img src="https://images2.imgbox.com/83/1e/awxHicms_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12_Relativelayout__106"></a>1.2 Relativelayout 相对布局</h3> 
<p>相对布局（Relativelayout ）是通过相对定位指定子视图位置，即以其他空间或父容器为参照物，摆放控件位置。<br> 定义相对布局的格式如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">RelativeLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
  
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">RelativeLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>为了更好地确定布局中控件的位置，相对布局提供了很多属性，在相对布局中的控件可以使用其属性控制其位置。具体如下表所示。<br> <img src="https://images2.imgbox.com/54/f3/wlL3UD4h_o.jpg" alt="在这里插入图片描述"><br> <strong>示例3 相对布局的使用</strong></p> 
<p>布局文件的代码如下:</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>RelativeLayout xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    <span class="token literal-property property">xmlns</span><span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    <span class="token literal-property property">xmlns</span><span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>orientation<span class="token operator">=</span><span class="token string">"vertical"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>paddingLeft<span class="token operator">=</span><span class="token string">"16dp"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>paddingRight<span class="token operator">=</span><span class="token string">"16dp"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    <span class="token literal-property property">tools</span><span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Button
    <span class="token literal-property property">android</span><span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/Button1"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button1"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_alignParentTop<span class="token operator">=</span><span class="token string">"true"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_marginTop<span class="token operator">=</span><span class="token string">"100dp"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_marginLeft<span class="token operator">=</span><span class="token string">"30dp"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
    <span class="token literal-property property">android</span><span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Button
        <span class="token literal-property property">android</span><span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/Button2"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button2"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_marginTop<span class="token operator">=</span><span class="token string">"15dp"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_toRightOf<span class="token operator">=</span><span class="token string">"@id/Button1"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_below<span class="token operator">=</span><span class="token string">"@id/Button1"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Button
        <span class="token literal-property property">android</span><span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/Button3"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button3"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_marginTop<span class="token operator">=</span><span class="token string">"15dp"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_toRightOf<span class="token operator">=</span><span class="token string">"@id/Button2"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_below<span class="token operator">=</span><span class="token string">"@id/Button2"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
        <span class="token literal-property property">android</span><span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>RelativeLayout<span class="token operator">&gt;</span>
</code></pre> 
<p>运行后，显示的效果如下图所示。<br> <img src="https://images2.imgbox.com/17/5a/TWoGAugh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13_TableLayout_167"></a>1.3 TableLayout表格布局</h3> 
<p>表格布局采用行、列的形式来管理控件，它不需要明确声明包含多少行，多少列，而是通过在Table布局中添加TableRow布局来控制表格的行数，通过在TableRow布局中添加控件来控制表格的列数。</p> 
<p>表格布局的定义如下：</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">TableLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">TableLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/73/98/f3XjQBae_o.jpg" alt="在这里插入图片描述"><br> <strong>示例4 表格布局的应用</strong></p> 
<p>XML布局文件的代码如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">TableLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>stretchColumns<span class="token operator">=</span><span class="token string">"1"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">TableRow</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Button</span>
            android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button1"</span>
            android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button1"</span>
            android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
            android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>
            android<span class="token operator">:</span>layout_column<span class="token operator">=</span><span class="token string">"0"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">TableRow</span><span class="token operator">&gt;</span>
    
    <span class="token operator">&lt;</span><span class="token class-name">TableRow</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Button</span>
            android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button2"</span>
            android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button2"</span>
            android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"wrap_content"</span>
            android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>
            android<span class="token operator">:</span>layout_column<span class="token operator">=</span><span class="token string">"1"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">TableRow</span><span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">TableLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>表格布局设计了两行，每行一个按钮。使用android:stretchColumns="1"属性拉伸第二列，android:layout_column="0"属性表示显示在第一列中。需要注意的是，TableRow不需要设置宽度和高度，其宽度一定是自动填充容器，高度根据内容改变。但对于TableRow的其他控件来说，我们是可以设置宽度和高度的。显示的界面效果如下图所示。<br> <img src="https://images2.imgbox.com/ce/23/nrYbqziO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="14_FrameLayout__224"></a>1.4 FrameLayout 帧布局</h3> 
<p>帧布局是Android布局中最简单的一种，帧布局为每个加入其中的控件创建了一块空白区域。采用帧布局的方式设计界面时，只能在屏幕左上角显示一个控件;如果添加多个控件，这些控件会依次重叠在屏幕左上角显示，且会透明显示之前的文本。</p> 
<p>帧布局的定义代码如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">FrameLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">FrameLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p><strong>示例5 帧布局的应用</strong></p> 
<p>布局文件的代码如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name">FrameLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".MainActivity"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button1"</span>
        android<span class="token operator">:</span>background<span class="token operator">=</span><span class="token string">"#00FFFF"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button1"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"314dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"315dp"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button2"</span>
        android<span class="token operator">:</span>background<span class="token operator">=</span><span class="token string">"#D9D919"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button2"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"216dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"140dp"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">Button</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/button3"</span>
        android<span class="token operator">:</span>background<span class="token operator">=</span><span class="token string">"#0000FF"</span>
        android<span class="token operator">:</span>text<span class="token operator">=</span><span class="token string">"Button3"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"103dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">FrameLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>运行后显示的界面如下图所示<br> <img src="https://images2.imgbox.com/54/a4/LCRbaUvC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="15_ConstraintLayout__276"></a>1.5 ConstraintLayout 约束布局</h3> 
<p>ConstraintLayout布局方式使用扁平视图层次结构（无嵌套视图组）创建复杂的大型布局。它与RelativeLayout相似，其中所有的视图均根据同级视图与父布局之间的关系进行布局，但其灵活性要高于RelativeLayout，并且更易于与Android Studio的布局编辑器配合使用。使用ConstraintLayout 约束布局可以对视图进行可视化设计，还能减少其他布局中的布局嵌套，约束布局重在约束。如下图所示的效果，使用约束布局便能很好实现。<br> <img src="https://images2.imgbox.com/ab/5b/peZGgjWw_o.jpg" alt="在这里插入图片描述"><br> ConstraintLayout的所有功能均可以直接通过布局编辑器的可视化工具来使用，因为布局的API和布局编辑器是专为彼此构建的。因此，完全可以使用ConstraintLayout通过拖放的形式(而非修改XML)来构建布局。</p> 
<p>ConstraintLayout是Android Studio2.2新添加的布局，它适合使用可视化的方式编写界面布局。可视化操作的背后仍然是使用XML代码实现的，只不过这些代码1是Android Studio根据我们的操作自动生成的。</p> 
<p>要在项目中使用ConstraintLayout，需要按照以下步骤操作引入支持的库:<br> （1）确保maven.google.com代码库已在模块级build.gradle文件中声明:</p> 
<pre><code class="prism language-java">repositories<span class="token punctuation">{<!-- --></span>
   <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>(2)将该库作为依赖项添加到同一个build.gradle文件中，如以下示例所示。</p> 
<pre><code class="prism language-java"> <span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">"androidx.constraintlayout:constraintlayout:2.1.4"</span><span class="token punctuation">)</span>
</code></pre> 
<p>(3)在工具栏或同步通知中，点击Sync Project with Gradle Files。<br> 使用的开发工具版本会自动导入Constraintlayout约束布局的支持库。布局中元素的定位主要有三种方式:</p> 
<ol><li>父布局内居中或倾斜<br> 在ConstraintLayout布局中，控件可以通过添加约束的方式确定该控件在父布局(ConstraintLayout)中的相对位置。当相同方向(横向或纵向)上，控件两边同时向Constraintlayout添加约束，则控件在添加约束的方向撒花姑娘居中显示。父布局内居中效果如图3.7所示。</li></ol> 
<p>在约束时同向相反的情况下，默认控件是居中的，但是也像拔河一样，两个约束的力大小不等时，就会产生倾斜。横向或纵向的倾斜属性设置如表3.4所示，设置倾斜的效果如图3.8所示。<br> <img src="https://images2.imgbox.com/c3/27/Q7UScy8D_o.jpg" alt="在这里插入图片描述"><br> 2. 相对定位</p> 
<p>相对定位是在ConstraintLayout中创建布局的基本构建方法之一。相对定位即一个控件相对于另一个控件进行定位。ConstraintLayout布局中的控件可以在横向和纵向上以添加约束关系的方式进行相对定位，其中，横向边包括Left、Start、Right、End，纵向边包括Top、Bottom、Baseline(文本底部的基准线)。约束布局中相对定位关系的属性如表3.5所示。<br> <img src="https://images2.imgbox.com/aa/8c/3sBMKbx5_o.jpg" alt="在这里插入图片描述"><br> 3. 链控制</p> 
<p>Chain(链)是一种特殊的约束，使用链能够对一组水平或竖直方向互相关联的控件进行统一管理。一组控件通过双向的约束关系链接起来，就能形成一个Chain。链中的视图有多种分布方式，如图3.10所示。<br> <img src="https://images2.imgbox.com/ec/b7/x4EOsQUo_o.jpg" alt="在这里插入图片描述"><br> 图3.10中链的样式有多种，其说明如下:<br> ①Spread:视图是均匀分布的(在考虑外边距之后)。这是默认值。</p> 
<p>②Spread inside:第一个和最后一个视图固定在链两端的约束边界上，其余视图均与分布。</p> 
<p>③Weighted:当链设置为Spread或Spread inside时，可以通过将一个或多个视图设置为"match constraints"（0dp）来填充剩余空间。默认情况下，设置为"match constraints"的每个视图之间的空间均与分布，但可以使用layout_constraintHorizontal_weight和layout_constraintVertical_weight属性为每个视图分配重要性权重。</p> 
<p>④Packed:视图打包在一起(在考虑外边距之后)。可以通过更改链的头视图偏差调整整条链的偏差(左/右或上/下)。</p> 
<p>链的头视图(水平链中最左侧的视图以及垂直链中最顶部的视图)以XML格式定义链的样式。通过选择链中的任意视图，然后点击出现在该视图下方的链按钮，在Spread、Spreadinside和Packed之间进行切换。</p> 
<p>例如在设计视图中，将Button1、Button2、Button3三个按钮设计为一组水平链，然后选择链的头Button1设计顶端边缘对齐，设计的效果如图3.11所示。<br> <img src="https://images2.imgbox.com/4a/9c/bN4iGOxh_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="2_AdapterView_325"></a>2. AdapterView及其子类</h3> 
<p>AdapterView是一个抽象基类，是Android中非常重要的一个组件，其派生的子类在用法上十分相似，只是显示的界面有所不同。AdapterView和子类的关系如图3.12所示。<br> <img src="https://images2.imgbox.com/1e/86/4bwrOlwV_o.jpg" alt="在这里插入图片描述">可以看出，AdapterView继承自ViewGroup，它本质上也是容器。通过适配器Adapter(后续内容会讲解)提供列表项，利用AdapterView的setAdapter(Adapter)方法将列表项加入AdapterView容器中。</p> 
<h4><a id="21_ListView_330"></a>2.1 ListView</h4> 
<p>ListView是手机系统中使用非常广泛的一种组件，它以垂直列表的形式显示所有的列表项。生成列表视图有如下两种方式:</p> 
<p>(1)直接使用ListView进行创建。</p> 
<p>(2)创建一个继承ListActivity的Activity(相当于该Activity显示的组件为ListView)。</p> 
<p>一旦在程序中获得ListView，接下来就需要为ListView设置它要显示的列表项。ListView通过setAdapter(Adapter)方法为之提供Adapter，并由Adapter提供要显示的内容。</p> 
<p>先来看AbsListView提供的常用XML属性，如表3.6所示。<br> <img src="https://images2.imgbox.com/22/95/j72KBp9I_o.jpg" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/a5/8e/mwgqUOo6_o.jpg" alt="在这里插入图片描述"><br> 示例6 使用ListView展示课程列表信息，运行效果如下图所示。<br> <img src="https://images2.imgbox.com/30/da/XhM40Yzl_o.png" alt="在这里插入图片描述"><br> 要实现界面，首先需要在布局文件中添加ListView组件，然后再values文件夹中添加一个新的courses.xml文件用于存储字符串数组，在ListView组件中通过android:entries=“@array/course_name”指定字符串数组为ListView组件的数据源，将数组的内容显示到ListView中。values下的courses.xml中的代码如下;</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>resources<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span>string<span class="token operator">-</span>array name<span class="token operator">=</span><span class="token string">"course_name"</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>item<span class="token punctuation">&gt;</span></span><span class="token class-name">Java</span>程序设计<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>item<span class="token punctuation">&gt;</span></span>计算机网络技术<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>item<span class="token punctuation">&gt;</span></span>数据结构与算法<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>item<span class="token punctuation">&gt;</span></span>计算机体系结构<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>item<span class="token punctuation">&gt;</span></span><span class="token class-name">Android</span>系统开发<span class="token operator">&lt;</span><span class="token operator">/</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>string<span class="token operator">-</span>array<span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">&gt;</span>
</code></pre> 
<p>布局文件activity_course_list.xml的代码如下:</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token class-name"><span class="token namespace">androidx<span class="token punctuation">.</span>constraintlayout<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span>ConstraintLayout</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    xmlns<span class="token operator">:</span>app<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res-auto"</span>
    xmlns<span class="token operator">:</span>tools<span class="token operator">=</span><span class="token string">"http://schemas.android.com/tools"</span>
    android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
    android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
    tools<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">".CourseListActivity"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token class-name">ListView</span>
        android<span class="token operator">:</span>paddingTop<span class="token operator">=</span><span class="token string">"20dp"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"409dp"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"729dp"</span>
        android<span class="token operator">:</span>divider<span class="token operator">=</span><span class="token string">"@color/design_default_color_primary_dark"</span>
        android<span class="token operator">:</span>dividerHeight<span class="token operator">=</span><span class="token string">"1dp"</span>
        android<span class="token operator">:</span>entries<span class="token operator">=</span><span class="token string">"@array/course_name"</span>
        app<span class="token operator">:</span>layout_constraintBottom_toBottomOf<span class="token operator">=</span><span class="token string">"parent"</span>
        app<span class="token operator">:</span>layout_constraintEnd_toEndOf<span class="token operator">=</span><span class="token string">"parent"</span>
        app<span class="token operator">:</span>layout_constraintStart_toStartOf<span class="token operator">=</span><span class="token string">"parent"</span>
        app<span class="token operator">:</span>layout_constraintTop_toTopOf<span class="token operator">=</span><span class="token string">"parent"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name"><span class="token namespace">androidx<span class="token punctuation">.</span>constraintlayout<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span>ConstraintLayout</span><span class="token operator">&gt;</span>
</code></pre> 
<p>使用ListView显示字符串数组的数据比较简单，这时ListView能显示的内容很少，如果想对ListView进行外观和行为的定制，就需要把ListView作为AdapterView来使用，然后通过Adapter来控制每个列表项的外观和行为。</p> 
<h4><a id="22_Adapter_387"></a>2.2 Adapter接口及其实现类</h4> 
<p>数据适配器是数据与视图之间的桥梁，它类似于一个转换器，将复杂的数据转换成用户可以接受的方式进行呈现。Adapter本身只是一个接口，它派生了两个子类:ListAdapter和SpinnerAdapter类。具体的派生类及继承关系如图3.14所示<br> <img src="https://images2.imgbox.com/37/00/pCYLNgxg_o.jpg" alt="在这里插入图片描述">在图3.14中，BaseAdapter继承了ListAdapter和SpinnerAdapter接口，因BaseAdapter及其子类都可以为AbsListView或AbsSpinner提供列表项。</p> 
<p>Adapter常用的实现类如下:</p> 
<p><strong>1.BaseAdapter</strong></p> 
<p>BaseAdapter，顾名思义，是基本的适配器。它实际上是一个抽象类，通常在自定义适配器时会继承BaseAdapter。BaseAdapter中的方法如表3.7所示。<br> <img src="https://images2.imgbox.com/2c/a7/lgBQps3L_o.jpg" alt="在这里插入图片描述"><br> <strong>2.ArrayAdapter</strong></p> 
<p>ArrayAdapter通常用于将数组或List集合的多个值包装成多个列表项。创建ArrayAdapter并使用的代码如下:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>chapter3</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">ArrayAdapter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">ListView</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListViewActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_list_view<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ListView</span> lvCourses<span class="token operator">=</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>lv_courses<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>courses<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{<!-- --></span><span class="token string">"计算机网络"</span><span class="token punctuation">,</span><span class="token string">"数据结构"</span><span class="token punctuation">,</span><span class="token string">"操作系统"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayAdapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> adapter <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayAdapter</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">(</span><span class="token class-name">ListViewActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span></span>R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>simple_expandable_list_item_1<span class="token punctuation">,</span>courses<span class="token punctuation">)</span><span class="token punctuation">;</span>
        lvCourses<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>程序运行后显示效果如下图所示。<br> <img src="https://images2.imgbox.com/a0/71/TfLh0CTJ_o.png" alt="Adapter填充数据">ArrayAdapter也是BaseAdapter的子类，，用法与SimpleAdapter类似，开发者只需要在构造方法里面传入相应参数即可。ArrayAdapter通常用于适配TextView控件。创建ArrayAdapter构造方法内的参数android.R.layout。simple_expandable_list_item_1为系统提供文件，该文件里面有一个TextView控件，该文件可以直接使用，源文件代码如下:</p> 
<pre><code class="prism language-java">    <span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token class-name">TextView</span> xmlns<span class="token operator">:</span>android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
        android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@android:id/text1"</span>
        android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"?android:attr/listPreferredItemHeight"</span>
        android<span class="token operator">:</span>textAppearance<span class="token operator">=</span><span class="token string">"?android:attr/textAppearanceListItem"</span>
        android<span class="token operator">:</span>paddingStart<span class="token operator">=</span><span class="token string">"?android:expandableListPreferredChildPaddingLeft"</span>
        android<span class="token operator">:</span>gravity<span class="token operator">=</span><span class="token string">"center_vertical"</span>
        android<span class="token operator">:</span>textAlignment<span class="token operator">=</span><span class="token string">"viewStart"</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p><strong>3.SimpleAdapter</strong></p> 
<p>SimpleAdapter是功能强大的Adapter，将List集合的多个对象包装成多个列表项。SimpleAdapter继承自BaseAdapter，实现了BaseAdapte的四个抽象方法并进行封装。因此在使用SimpleAdapter进行数据适配时，只需要再构造方法中传入相应的参数即可。<br> SimpleAdapter构造方法的具体信息如下:</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">SimpleAdapter</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token keyword">extends</span> <span class="token class-name">Map</span> <span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> data<span class="token punctuation">,</span> <span class="token keyword">int</span> resource<span class="token punctuation">,</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> from<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">to</span><span class="token punctuation">)</span>
</code></pre> 
<p>使用SimpleAdapter时有5个参数需要填写，其中后面4个非常关键:</p> 
<pre><code class="prism language-bash">第1个参数为上下文对象。
第2个参数:List<span class="token operator">&lt;</span>? extends Map<span class="token operator">&lt;</span>String,? <span class="token operator">&gt;&gt;</span>data。它是一个List类型的集合对象，该集合中每个Map对象生成一个列表项。
第3个参数:int resource.该参数指定一个界面布局的ID。例如，指定为R.layout.simple_layout,即使用app<span class="token punctuation">\</span>src<span class="token punctuation">\</span>main<span class="token punctuation">\</span>res<span class="token punctuation">\</span>layout<span class="token punctuation">\</span>simple_layout.xml文件作为列表项组件。
第4个参数:String<span class="token punctuation">[</span><span class="token punctuation">]</span> from,决定提取Map<span class="token operator">&lt;</span>String，?<span class="token operator">&gt;</span>对象中哪些key对象的value来生成列表项。
第5个参数:int<span class="token punctuation">[</span><span class="token punctuation">]</span>to，决定填充哪些组件。
</code></pre> 
<p>示例7 使用SimpleAdapter来获取列表项</p> 
<p>使用SimpleAdapter，需要在layout目录下添加一个自定义的布局文件list_item1_layout.xml文件来设置ListView中每项的样式,代码如下:</p> 
<pre><code class="prism language-java">在这里插入代码片
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2666789f294983d4b1f9a1df581bf2f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">STM32移植LVGL图形库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3969b3dc7c2a6fcf9f1b1b96b9f45b55/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mybatis的动态sql不生效问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>