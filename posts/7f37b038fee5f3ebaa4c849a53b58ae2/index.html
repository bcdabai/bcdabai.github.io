<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>nginx安装与使用教程详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="nginx安装与使用教程详解" />
<meta property="og:description" content="文章目录 前言一、简介配置文件介绍 二、安装1. 复制脚本2. 增加执行权限3. 执行脚本 三、nginx命令1. nginx管理命令1.1 启动nginx服务1.2 配置nginx服务自启动1.3 查看nginx状态1.4 停止nginx服务1.5 重启nginx服务 2. nginx常用命令2.1 用法2.2 命令选项2.3 命令示例2.3.1 显示帮助信息2.3.2 显示版本信息2.3.3 显示版本信息和配置选项信息2.3.4 测试配置文件2.3.5 测试配置文件并显示nginx配置文件信息2.3.6 检查配置文件的语法2.3.7 优雅的停止服务2.3.8 停止服务2.3.9 重新加载配置文件2.3.10 重新打开日志文件 四、nginx反向代理1. 介绍2. 示例 五、http负载均衡1. 介绍2. 示例2.1 轮询示例2.2 IP哈希示例2.3 最少连接示例2.4 加权轮询示例2.5 加权最小连接数示例2.6 备份服务器示例 六、TCP和UDP负载均衡1. TCP/UDP 代理2. 负载均衡2.1 TCP负载均衡示例2.2 UDP负载均衡示例 3. SSL/TLS 支持 七、配置代理协议1. 记录原始 IP 地址2. 用于与上游的 TCP 连接的 PROXY 协议 八、设置 HTTPS 服务器1. 客户端证书的 OCSP 验证2. 使用 HTTP 基本身份验证限制访问2.1 创建密码文件2.2 Nginx 配置2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7f37b038fee5f3ebaa4c849a53b58ae2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-18T15:54:48+08:00" />
<meta property="article:modified_time" content="2024-01-18T15:54:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">nginx安装与使用教程详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">前言</a></li><li><a href="#_11" rel="nofollow">一、简介</a></li><li><ul><li><a href="#_14" rel="nofollow">配置文件介绍</a></li></ul> 
  </li><li><a href="#_39" rel="nofollow">二、安装</a></li><li><ul><li><a href="#1__40" rel="nofollow">1. 复制脚本</a></li><li><a href="#2__107" rel="nofollow">2. 增加执行权限</a></li><li><a href="#3__112" rel="nofollow">3. 执行脚本</a></li></ul> 
  </li><li><a href="#nginx_126" rel="nofollow">三、nginx命令</a></li><li><ul><li><a href="#1_nginx_127" rel="nofollow">1. nginx管理命令</a></li><li><ul><li><a href="#11_nginx_129" rel="nofollow">1.1 启动nginx服务</a></li><li><a href="#12_nginx_134" rel="nofollow">1.2 配置nginx服务自启动</a></li><li><a href="#13_nginx_139" rel="nofollow">1.3 查看nginx状态</a></li><li><a href="#14_nginx_144" rel="nofollow">1.4 停止nginx服务</a></li><li><a href="#15_nginx_149" rel="nofollow">1.5 重启nginx服务</a></li></ul> 
   </li><li><a href="#2_nginx_154" rel="nofollow">2. nginx常用命令</a></li><li><ul><li><a href="#21__156" rel="nofollow">2.1 用法</a></li><li><a href="#22__160" rel="nofollow">2.2 命令选项</a></li><li><a href="#23__173" rel="nofollow">2.3 命令示例</a></li><li><ul><li><a href="#231__174" rel="nofollow">2.3.1 显示帮助信息</a></li><li><a href="#232__178" rel="nofollow">2.3.2 显示版本信息</a></li><li><a href="#233__182" rel="nofollow">2.3.3 显示版本信息和配置选项信息</a></li><li><a href="#234__186" rel="nofollow">2.3.4 测试配置文件</a></li><li><a href="#235_nginx_190" rel="nofollow">2.3.5 测试配置文件并显示nginx配置文件信息</a></li><li><a href="#236__194" rel="nofollow">2.3.6 检查配置文件的语法</a></li><li><a href="#237__198" rel="nofollow">2.3.7 优雅的停止服务</a></li><li><a href="#238__202" rel="nofollow">2.3.8 停止服务</a></li><li><a href="#239__206" rel="nofollow">2.3.9 重新加载配置文件</a></li><li><a href="#2310__210" rel="nofollow">2.3.10 重新打开日志文件</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#nginx_217" rel="nofollow">四、nginx反向代理</a></li><li><ul><li><a href="#1__218" rel="nofollow">1. 介绍</a></li><li><a href="#2__231" rel="nofollow">2. 示例</a></li></ul> 
  </li><li><a href="#http_268" rel="nofollow">五、http负载均衡</a></li><li><ul><li><a href="#1__269" rel="nofollow">1. 介绍</a></li><li><a href="#2__282" rel="nofollow">2. 示例</a></li><li><ul><li><a href="#21__284" rel="nofollow">2.1 轮询示例</a></li><li><a href="#22_IP_316" rel="nofollow">2.2 IP哈希示例</a></li><li><a href="#23__343" rel="nofollow">2.3 最少连接示例</a></li><li><a href="#24__370" rel="nofollow">2.4 加权轮询示例</a></li><li><a href="#25__395" rel="nofollow">2.5 加权最小连接数示例</a></li><li><a href="#26__427" rel="nofollow">2.6 备份服务器示例</a></li></ul> 
  </li></ul> 
  </li><li><a href="#TCPUDP_451" rel="nofollow">六、TCP和UDP负载均衡</a></li><li><ul><li><a href="#1_TCPUDP__454" rel="nofollow">1. TCP/UDP 代理</a></li><li><a href="#2__479" rel="nofollow">2. 负载均衡</a></li><li><ul><li><a href="#21_TCP_482" rel="nofollow">2.1 TCP负载均衡示例</a></li><li><a href="#22_UDP_506" rel="nofollow">2.2 UDP负载均衡示例</a></li></ul> 
   </li><li><a href="#3_SSLTLS__534" rel="nofollow">3. SSL/TLS 支持</a></li></ul> 
  </li><li><a href="#_558" rel="nofollow">七、配置代理协议</a></li><li><ul><li><a href="#1__IP__612" rel="nofollow">1. 记录原始 IP 地址</a></li><li><a href="#2__TCP__PROXY__649" rel="nofollow">2. 用于与上游的 TCP 连接的 PROXY 协议</a></li></ul> 
  </li><li><a href="#_HTTPS__672" rel="nofollow">八、设置 HTTPS 服务器</a></li><li><ul><li><a href="#1__OCSP__695" rel="nofollow">1. 客户端证书的 OCSP 验证</a></li><li><a href="#2__HTTP__724" rel="nofollow">2. 使用 HTTP 基本身份验证限制访问</a></li><li><ul><li><a href="#21__728" rel="nofollow">2.1 创建密码文件</a></li><li><a href="#22_Nginx__735" rel="nofollow">2.2 Nginx 配置</a></li><li><a href="#23__745" rel="nofollow">2.3 保存并重新加载配置</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_758" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>前言</h2> 
<p>本文介绍了Nginx的基本概念、安装方法和常用命令，以及如何配置Nginx作为HTTP服务器和反向代理服务器。还介绍了Nginx的负载均衡功能，并提供了几种常见的负载均衡算法示例。此外，还讨论了如何在Nginx中设置HTTPS服务器和使用HTTP基本身份验证限制访问。</p> 
<hr> 
<h2><a id="_11"></a>一、简介</h2> 
<p>Nginx（发音为"engine x"）是一款高性能的HTTP服务器和反向代理服务器，起源于俄罗斯。Nginx是由Igor Sysoev开发的，并于2004年首次发布。它采用C语言编写，具有高性能、稳定性、可扩展性等特点。Nginx在全球范围内得到了广泛的认可和应用，许多知名网站和应用都在使用Nginx来处理海量网络请求。</p> 
<h3><a id="_14"></a>配置文件介绍</h3> 
<p>Nginx的配置文件位于<code>/etc/nginx</code>目录下，默认名为<code>nginx.conf</code>。以下是对Nginx配置文件的主要部分进行简要介绍：</p> 
<ol><li> <p>全局配置块：全局配置块位于配置文件的最顶部，用于设置一些全局参数，如工作进程、连接数等。</p> </li><li> <p>事件模块：事件模块负责处理与连接相关的操作，如接受客户端请求、处理异常等。在此块中，可以设置worker进程数、工作模式、连接超时时间等。</p> </li><li> <p>负载均衡模块：负载均衡模块用于在多个后端服务器之间分配请求。在此块中，可以设置服务器组、服务器列表以及负载均衡算法等。</p> </li><li> <p>服务器配置块：服务器配置块用于定义虚拟主机和服务器的相关设置。在此块中，可以设置服务器名称、文档根目录、服务器块等。</p> </li><li> <p>虚拟主机配置块：虚拟主机配置块用于定义多个虚拟主机的相关设置。在此块中，可以设置虚拟主机名称、默认文档、SSL证书等。</p> </li><li> <p>location 配置块：location配置块用于匹配请求的URL，并对匹配到的请求进行相应的处理。在此块中，可以设置URL匹配规则、代理服务器、缓存策略等。</p> </li><li> <p>代理服务器配置块：代理服务器配置块用于设置代理服务器的相关参数，如端口号、目标服务器等。</p> </li><li> <p>缓存配置块：缓存配置块用于设置缓存策略和相关参数，如缓存有效期、缓存目录等。</p> </li><li> <p>安全和访问控制配置块：安全和访问控制配置块用于设置访问权限、身份验证、IP过滤等。</p> </li><li> <p>日志配置块：日志配置块用于设置日志记录的相关参数，如日志级别、日志格式、日志路径等。</p> </li></ol> 
<hr> 
<h2><a id="_39"></a>二、安装</h2> 
<h3><a id="1__40"></a>1. 复制脚本</h3> 
<p>首先，将以下脚本内容复制并保存为/tmp/install_nginx.sh文件。</p> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 安装工具包</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> yum-utils
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">"yum-utils 安装成功"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"yum-utils 安装失败，请重试"</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># 设置 yum 存储库</span>
<span class="token assign-left variable">nginxrepo</span><span class="token operator">=</span><span class="token string">'[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true'</span>

<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$nginxrepo</span>"</span> <span class="token operator">&gt;</span> /etc/yum.repos.d/nginx.repo

<span class="token comment"># 默认情况下，使用稳定的 nginx 包的存储库。 如果你想使用主线 nginx 包， 请去掉下面一行命令的注释</span>
<span class="token comment">#yum-config-manager --enable nginx-mainline</span>

<span class="token comment"># 安装 nginx</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> nginx
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">"nginx 安装成功"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"nginx 安装失败，请重试"</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># 启动Nginx服务</span>
systemctl start nginx
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">"启动 Nginx 服务成功"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"启动 Nginx 服务失败，请重试"</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># 配置nginx开机自启动</span>
systemctl <span class="token builtin class-name">enable</span> nginx
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
 <span class="token builtin class-name">echo</span> <span class="token string">"配置 nginx 开机自启动成功"</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"配置 nginx 开机自启动失败，请重试"</span>
  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> 
<h3><a id="2__107"></a>2. 增加执行权限</h3> 
<p>在终端中执行以下命令，为脚本添加执行权限。</p> 
<pre><code class="prism language-shell"><span class="token function">chmod</span> a+x /tmp/install_nginx.sh
</code></pre> 
<h3><a id="3__112"></a>3. 执行脚本</h3> 
<p>执行以下命令，运行脚本开始下载、安装nginx。</p> 
<pre><code class="prism language-shell">/tmp/install_nginx.sh
</code></pre> 
<p>请等待安装完成，如有异常会有提示。<br> 安装完成后，浏览器访问服务器的IP地址，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/89/20/LHdtIcXw_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="nginx_126"></a>三、nginx命令</h2> 
<h3><a id="1_nginx_127"></a>1. nginx管理命令</h3> 
<h4><a id="11_nginx_129"></a>1.1 启动nginx服务</h4> 
<pre><code>systemctl start nginx
</code></pre> 
<h4><a id="12_nginx_134"></a>1.2 配置nginx服务自启动</h4> 
<pre><code>systemctl enable nginx
</code></pre> 
<h4><a id="13_nginx_139"></a>1.3 查看nginx状态</h4> 
<pre><code>systemctl status nginx
</code></pre> 
<h4><a id="14_nginx_144"></a>1.4 停止nginx服务</h4> 
<pre><code>systemctl stop nginx
</code></pre> 
<h4><a id="15_nginx_149"></a>1.5 重启nginx服务</h4> 
<pre><code>systemctl restart nginx
</code></pre> 
<h3><a id="2_nginx_154"></a>2. nginx常用命令</h3> 
<h4><a id="21__156"></a>2.1 用法</h4> 
<pre><code>nginx [-?hvVtTq] [-s signal] [-p prefix] [-e filename] [-c filename] [-g directives]
</code></pre> 
<h4><a id="22__160"></a>2.2 命令选项</h4> 
<ul><li>-?,-h : 显示帮助信息</li><li>-v : 显示版本信息</li><li>-V : 显示版本信息和配置选项信息</li><li>-t : 测试配置文件</li><li>-T : 测试配置文件并显示nginx配置文件信息</li><li>-q : 用于快速检查 Nginx 配置文件的语法是否正确，而不打印配置文件的详细内容。</li><li>-s signal : 发送信号给主进程: stop, quit, reopen, reload</li><li>-p prefix : 设置前缀路径 (默认: /etc/nginx/)</li><li>-e filename : 设置错误日志文件路径 (默认: /var/log/nginx/error.log)</li><li>-c filename : 设置配置文件路径 (默认: /etc/nginx/nginx.conf)</li><li>-g directives : 用于在启动 Nginx 时指定全局配置选项。</li></ul> 
<h4><a id="23__173"></a>2.3 命令示例</h4> 
<h5><a id="231__174"></a>2.3.1 显示帮助信息</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-h</span>
</code></pre> 
<h5><a id="232__178"></a>2.3.2 显示版本信息</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-v</span>
</code></pre> 
<h5><a id="233__182"></a>2.3.3 显示版本信息和配置选项信息</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-V</span>
</code></pre> 
<h5><a id="234__186"></a>2.3.4 测试配置文件</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-t</span>
</code></pre> 
<h5><a id="235_nginx_190"></a>2.3.5 测试配置文件并显示nginx配置文件信息</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-T</span>
</code></pre> 
<h5><a id="236__194"></a>2.3.6 检查配置文件的语法</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-q</span>
</code></pre> 
<h5><a id="237__198"></a>2.3.7 优雅的停止服务</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-s</span> quit
</code></pre> 
<h5><a id="238__202"></a>2.3.8 停止服务</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-s</span> stop
</code></pre> 
<h5><a id="239__206"></a>2.3.9 重新加载配置文件</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-s</span> reload
</code></pre> 
<h5><a id="2310__210"></a>2.3.10 重新打开日志文件</h5> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-s</span> reopen
</code></pre> 
<hr> 
<h2><a id="nginx_217"></a>四、nginx反向代理</h2> 
<h3><a id="1__218"></a>1. 介绍</h3> 
<p>在反向代理中，Nginx充当客户端与后端服务器之间的中间人。当客户端发送请求时，Nginx接收到请求并将其转发给后端服务器处理，并将响应返回给客户端。这种架构隐藏了真实的后台服务，并提供了一些重要功能和优势：</p> 
<ol><li> <p>负载均衡：通过使用多个后台服务器并分配流量到它们之间，可以实现负载均衡来提高系统性能和可伸缩性。</p> </li><li> <p>缓存加速：Nginx可以缓存经常访问的资源（如图片、CSS文件等），从而减轻后台服务的压力并提升用户体验。</p> </li><li> <p>安全保护：作为前置代理，在传递请求之前，Nginx可以执行各种安全策略，例如防火墙规则、DDoS攻击防护等。</p> </li><li> <p>SSL终止/SSL握手优化：通过在 Nginx 上进行 SSL 终止（即解密 HTTPS 请求）或者进行 SSL 握手优化（利用 Ngnix 的事件驱动模型），可以减轻应用程序对 SSL 处理的负担。</p> </li><li> <p>URL重写和请求转发：Nginx提供了强大的URL重写功能，可以根据特定规则修改URL，并将请求转发到不同的后端服务器上。</p> </li></ol> 
<h3><a id="2__231"></a>2. 示例</h3> 
<p>Nginx的反向代理功能可以通过配置文件来实现。下面是一个简单的示例：</p> 
<p>假设有两个后端服务器，IP地址分别为192.168.1.101和192.168.1.102，并且我们希望使用Nginx作为反向代理将请求转发到这两个服务器上。</p> 
<p>首先，需要在Nginx配置文件中添加以下内容：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        server 192.168.1.101;
        server 192.168.1.102;
        # 其他服务器IP
    }

    server {
        listen 80;

        location / {
            proxy_pass http://backend;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            # 可选：设置其他HTTP头部信息
        }
    }
}
</code></pre> 
<p>解释一下以上配置的关键部分：</p> 
<ul><li><code>upstream</code> 块定义了后端服务器组（backend），其中列出了要转发请求到的各个服务器。</li><li><code>server</code> 块监听80端口，并且在根路径（/）下进行处理。</li><li><code>location</code> 块指定了匹配规则，在本例中是所有路径都会被匹配。</li><li><code>proxy_pass</code> 指令将请求转发给名为"backend" 的上游组。这里使用http://前缀表示使用HTTP协议进行通信。 
  <ul><li>如果你想要启用HTTPS，则应该改成https://并相应地调整后台服务和证书等设置。</li></ul> </li></ul> 
<hr> 
<h2><a id="http_268"></a>五、http负载均衡</h2> 
<h3><a id="1__269"></a>1. 介绍</h3> 
<p>负载均衡是指将网络流量合理地分配到多台服务器上，以避免单一节点过载，并提供更好的服务响应时间。Nginx通过使用不同类型的负载均衡算法来实现这一目标。</p> 
<p>以下是几种常见的Nginx负载均衡算法：</p> 
<ol><li>轮询（Round Robin）：按照顺序逐个将请求发送到后端服务器，在每次循环中平等地分配流量。</li><li>IP哈希（IP Hash）：根据客户端IP地址计算哈希值，并根据该值选择一个固定后端服务器处理所有与该客户相关联的请求。这确保了相同客户访问时始终被路由到相同的后端。</li><li>最少连接（Least Connections）：选择当前具有最少活动连接数或并发请求数最低 的后端服务节点来处理新进入请求。</li><li>加权轮询（Weighted Round Robin）：为每个后台节点赋予不同权重值，从而使某些节点能够处理更多或更少数量的请求数。</li><li>加权最小连接数（Weighted Least Connections）：结合了加权和最少连接算法，根据节点的权重和当前活动连接数来选择后端服务器。</li></ol> 
<p>Nginx还支持会话保持（Session Persistence），这意味着对于同一个客户端的多个请求，它们将被路由到相同的后端服务器上。这在需要维护用户状态或会话数据时非常有用。</p> 
<h3><a id="2__282"></a>2. 示例</h3> 
<p>以下示例在nginx配置文件(<code>/etc/nginx/nginx.conf</code>)设置。</p> 
<h4><a id="21__284"></a>2.1 轮询示例</h4> 
<p>轮询是nginx的默认算法。<br> 以下是一个简单的Nginx负载均衡配置示例：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        server backend1.example.com;
        server backend2.example.com;
        server backend3.example.com;
    }

    server {
        listen 80;

        location / {
            proxy_pass http://backend;
            proxy_set_header Host $host; 
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; 
        }
    }
}
</code></pre> 
<p>在上述配置中，<code>upstream</code> 块定义了后端服务器的列表。您可以根据需要添加或删除服务器，并调整它们之间的权重。</p> 
<p>在 <code>server</code> 块中，我们使用 <code>listen 80</code> 指令来监听 HTTP 请求。然后，在 <code>/location/</code> 配置块内部，我们使用 <code>proxy_pass http://backend;</code> 将请求代理到名为 “backend” 的上游服务器组。</p> 
<p>此外，通过设置一些代理头信息（例如：Host、X-Real-IP、X-Forwarded-for），Nginx将这些信息传递给后端服务器以进行正确处理和日志记录。</p> 
<h4><a id="22_IP_316"></a>2.2 IP哈希示例</h4> 
<p>要使用Nginx的IP哈希算法进行负载均衡，可以确保同一客户端的请求始终被发送到相同的后端服务器。这对于某些应用程序可能很重要，例如需要在多个请求之间保持会话状态或缓存数据。</p> 
<p>以下是一个示例配置，演示如何使用Nginx IP哈希算法进行负载均衡：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        ip_hash;
        server backend1.example.com;
        server backend2.example.com;
        server backend3.example.com;
    }

    # 其他配置...
}
</code></pre> 
<p>在上述示例中，我们通过在 <code>upstream</code> 块内部添加 <code>ip_hash;</code> 指令来启用IP哈希算法。这将使得每个客户端根据其源IP地址被分配到特定的后端服务器。</p> 
<p>请注意，在此配置中，并不需要为每个后端服务器指定权重值（weight），因为所有具有相同源 IP 的请求都将路由到相同的服务器。</p> 
<p>当启用了IP哈希时，请记住以下几点：</p> 
<ul><li>如果某台后端服务器发生故障或下线，则与该服务相关联的所有客户机都必须重新建立连接。</li><li>如果您有动态分配和释放公共IPv4地址池给用户，则可能会导致较大规模地增加新连接数并降低性能。</li><li>在高流量环境下，请确保您具备足够的后端服务器来处理所有IP哈希请求。</li></ul> 
<h4><a id="23__343"></a>2.3 最少连接示例</h4> 
<p>要使用Nginx的最少连接算法进行负载均衡，可以确保将请求发送到当前具有最少活跃连接数的后端服务器。这样可以实现负载均衡，并尽量平衡每个后端服务器上的连接数量。</p> 
<p>以下是一个示例配置，演示如何使用Nginx最少连接算法进行负载均衡：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        least_conn;
        server backend1.example.com;
        server backend2.example.com;
        server backend3.example.com;
    }

    # 其他配置...
}
</code></pre> 
<p>在上述示例中，我们通过在 <code>upstream</code> 块内部添加 <code>least_conn;</code> 指令来启用最少连接算法。这将使得每个新请求都被路由到当前具有最小活跃连接数的后端服务器。</p> 
<p>请注意，在此配置中，并不需要为每个后端服务器指定权重值（weight），因为根据活跃连接数自动选择了合适的目标。</p> 
<p>当使用“least_conn”时，请记住以下几点：</p> 
<ul><li>如果某台后端服务器发生故障或下线，则与该服务相关联的所有客户机都必须重新建立新链接。</li><li>在高流量环境下，请确保您具备足够多且性能良好 的 后 端 服 务器 来 处 理 所 有 最 少 连 接 请求。</li><li>对于长时间运行、持续性会话的连接，最少连接算法可能不适用。</li></ul> 
<h4><a id="24__370"></a>2.4 加权轮询示例</h4> 
<p>要使用Nginx的加权轮询算法进行负载均衡，可以根据后端服务器的性能和处理能力为每个服务器分配不同的权重值。这样可以实现按照权重比例分配请求，从而更好地利用资源。</p> 
<p>以下是一个示例配置，演示如何使用Nginx加权轮询算法进行负载均衡：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        server backend1.example.com weight=3;
        server backend2.example.com weight=2;
        server backend3.example.com weight=1;
    }

    # 其他配置...
}
</code></pre> 
<p>在上述示例中，我们为每个后端服务器指定了不同的 <code>weight</code> 值。较高的 <code>weight</code> 值表示该服务器将获得更多请求。</p> 
<p>在此配置中，默认情况下会采用简单轮询（round-robin）算法来选择目标。即使设置了不同的权重值，在一段时间内仍然会平等地向所有后端发送相应数量的请求，并且只有当所有具有较高权重的后端服务器处理完所分配到的请求后，才将新请求发送给较低权重的后端服务器。</p> 
<p>请注意，在此配置中：</p> 
<ul><li>如果某台后端服务器发生故障或下线，则 Nginx 不再将新请求发送到该服务。</li><li>根据权重值的设置，后端服务器将获得不同比例的请求。</li></ul> 
<h4><a id="25__395"></a>2.5 加权最小连接数示例</h4> 
<p>Nginx不提供直接的加权最小连接数算法。然而，您可以结合使用<code>least_conn</code>和<code>ip_hash</code>指令来实现近似的加权最小连接数负载均衡。</p> 
<p>以下是一个示例配置，演示如何使用Nginx结合 <code>least_conn</code> 和 <code>ip_hash</code> 来实现近似的加权最小连接数算法：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        ip_hash;
        server backend1.example.com weight=3;
        server backend2.example.com weight=2;
        server backend3.example.com weight=1;
    }

    # 其他配置...
}
</code></pre> 
<p>在上述示例中，我们首先启用了 <code>ip_hash;</code> 指令来根据客户端IP地址进行哈希，并将同一客户端请求路由到相同后端服务器。这样可以确保每个客户端始终与相同的后端服务器建立连接。</p> 
<p>然后，在每个后端服务器上设置了不同的 <code>weight</code>(权重) 值以表示它们之间处理能力或性能差异。较高的权重值表示该服务器将获得更多的请求。</p> 
<p>通过结合使用这两种指令，当有新请求到达时：</p> 
<ul><li>Nginx会根据客户机IP地址选择目标服务器（通过哈希）。</li><li>然后从具有最少活跃连接数且符合哈希条件（即匹配 IP 地址）的后端服务器中选择一个。</li></ul> 
<p>这样，相对较强的服务器将处理更多请求，并且每个客户端始终与同一台后端服务器建立连接。</p> 
<p>请注意，在此配置中：</p> 
<ul><li>如果某台后端服务器发生故障或下线，则 Nginx 不再将新请求发送到该服务。</li><li>根据权重值和活跃连接数，不同权重的后端服务器可能会处理不同数量的请求。</li></ul> 
<h4><a id="26__427"></a>2.6 备份服务器示例</h4> 
<p>要设置备份服务器，以便在主服务器不可用时提供冗余和故障转移能力，您可以使用Nginx的<code>backup</code>关键字。这将允许您指定一个或多个备份服务器，在主服务器不可用时自动切换到备份。</p> 
<p>以下是一个示例配置，演示如何设置备份服务器：</p> 
<pre><code class="prism language-nginx">http {
    upstream backend {
        server backend1.example.com;
        server backup_backend.example.com backup;
    }

    # 其他配置...
}
</code></pre> 
<p>在上述示例中：</p> 
<ul><li><code>backend1.example.com</code> 是主要的后端服务。</li><li><code>backup_backend.example.com</code> 是作为备份的后端服务，并通过添加 <code>backup;</code> 关键字来标识它是一个备份。</li></ul> 
<p>当 Nginx 发现主要的后端服务 (<code>backend1.example.com</code>) 不可用时（例如连接超时或错误），它会自动将请求发送到标记为 “backup” 的后端服务(<code>backup_backend.example.com</code>)上。一旦原始主服务器再次可用，Nginx就会自动切回到主要后端服务器。</p> 
<hr> 
<h2><a id="TCPUDP_451"></a>六、TCP和UDP负载均衡</h2> 
<p><code>stream {}</code> 是 Nginx 配置文件中的一个块，用于配置 Nginx 的流代理功能。与 HTTP 代理不同，流代理主要用于 TCP 和 UDP 协议的转发和负载均衡。</p> 
<h3><a id="1_TCPUDP__454"></a>1. TCP/UDP 代理</h3> 
<pre><code class="prism language-nginx">stream {
     server {
         listen     12345;
         proxy_pass backend_servers;
     }
     
     server {
         listen     12346;
         proxy_pass backend.example.com:12346;
     }
     
     server {
         listen     53 udp;
         proxy_pass dns_servers;
     }
     # ...
}
</code></pre> 
<ul><li>在 <code>server {}</code> 块内部设置监听端口号（例如：12345）。</li><li>使用 <code>proxy_pass</code> 指令将请求转发给名为 “backend_servers” 的上游组或后端服务器。</li><li>可以根据需要添加更多的 server 块来配置不同的监听端口和对应的后端服务器。</li></ul> 
<h3><a id="2__479"></a>2. 负载均衡</h3> 
<p>Nginx可以用于TCP和UDP负载均衡，以将传入的TCP或UDP流量分发到多个后端服务器上。下面是关于如何配置TCP和UDP负载均衡的示例：</p> 
<h4><a id="21_TCP_482"></a>2.1 TCP负载均衡示例</h4> 
<pre><code class="prism language-nginx">stream {
    upstream backend {
        server backend1.example.com:8000;
        server backend2.example.com:8000;
    }

    server {
        listen 80;

        proxy_pass backend;
    }
}
</code></pre> 
<p>由于 TCP 是上下文的默认协议，因此该指令没有参数<br> 在上述示例中，我们使用<code>stream</code>模块来配置TCP级别的代理。通过定义一个名为 <code>backend</code> 的upstream组，并指定多个后端服务器及其相应的地址和端口。</p> 
<p>然后，在 <code>server</code> 块中监听指定的端口（例如80），并使用 <code>proxy_pass</code> 将流量转发给定义好 的 后 端 服 务器 组 (<code>backend</code>)。</p> 
<p>请注意，在此配置中：</p> 
<ul><li>您需要根据实际情况修改后端服务器(<code>backend1.example.com</code>, <code>backend2.example.com</code>)、地址和端口。</li><li>还可以添加其他选项来调整代理行为，例如超时设置、健康检查等。</li></ul> 
<h4><a id="22_UDP_506"></a>2.2 UDP负载均衡示例</h4> 
<pre><code class="prism language-nginx">stream {
    upstream udp_backend {
       hash $remote_addr consistent;
       server udp_backend1.example.com:5000 weight=3 max_fails=3 fail_timeout=30s;
       server udp_backend2.example.com:5000 weight=4 max_fails=3 fail_timeout=30s; 
    }

    server {
        listen 12345 udp;

        proxy_pass udp_backend;
        
         # 其他相关指令
    }

}
</code></pre> 
<p>使用UDP，应包括 udp 参数<br> 在上述示例中，我们使用<code>stream</code>模块来配置UDP级别的代理。通过定义一个名为 <code>udp_backend</code> 的upstream组，并指定多个后端服务器及其相应的地址和端口。</p> 
<p>在这种情况下，我们使用了哈希算法(<code>hash $remote_addr consistent</code>)来根据客户机IP地址进行负载均衡，并设置了不同权重值 (<code>weight</code>) 来表示每个后端服务器处理能力或性能差异。</p> 
<p>请注意，在此配置中：</p> 
<ul><li>您需要根据实际情况修改后端服务器(<code>udp_backend1.example.com</code>, <code>udp_backend2.example.com</code>)、地址和端口。</li><li>可以添加其他选项来调整代理行为，例如最大失败次数 (<code>max_fails</code>) 和失败超时时间 (<code>fail_timeout</code>) 等。</li></ul> 
<h3><a id="3_SSLTLS__534"></a>3. SSL/TLS 支持</h3> 
<pre><code class="prism language-nginx">stream {

    # 后台SSL证书密钥文件路径
    ssl_certificate     /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    server {
        listen     443;
        proxy_pass backend_servers;
        
        # 其他SSL/TLS相关指令
   }
}
</code></pre> 
<ul><li>可以在 <code>stream {}</code> 块中配置 SSL/TLS 支持，包括设置证书和私钥文件路径。</li><li>在每个服务定义的 server 块内部可以添加其他与 SSL/TLS 相关的指令。</li></ul> 
<p>需要注意的是，<code>stream {}</code> 块中只能使用一些特定于流代理功能的指令，并不支持所有 HTTP 模块相关功能。</p> 
<hr> 
<h2><a id="_558"></a>七、配置代理协议</h2> 
<p>在 Nginx 配置中启用 PROXY 协议有以下作用：</p> 
<ol><li> <p>保留客户端真实IP地址：当 Nginx 位于代理服务器后面时，通常会将客户端的请求转发给后端服务器。但是，默认情况下，Nginx 将使用自己与后端服务器之间建立的连接IP地址作为来源IP地址。通过启用 PROXY 协议，在代理请求头部添加了<code>PROXY protocol</code>的信息，可以让 Nginx 获取到原始客户端的真实IP地址。</p> </li><li> <p>支持透明地传递其他协议层信息：PROXY 协议不仅可以包含源 IP 地址还可包含其他协议层（如TCP、SSL）相关信息。这些额外的协议层信息可以被后端服务器利用来进行更多的定制化处理，如 SSL 握手相关设置或者其他应该根据客户端提供的信息进行处理。</p> </li></ol> 
<p>要在 Nginx 中接受并解析 PROXY 协议，需要在配置文件中添加相应指令，并确保前段负载均衡设备或反向代理也发送了符合规范格式（如HAProxy）的<code>PROXY protocol</code>请求头部。</p> 
<p>以下是一个示例配置，展示了如何启用代理协议：</p> 
<pre><code class="prism language-nginx">http {
    log_format combined '$proxy_protocol_addr - $remote_user [$time_local] '
                        '"$request" $status $body_bytes_sent '
                        '"$http_referer" "$http_user_agent"';
    #...

    server {
        server_name localhost;

        listen 80   proxy_protocol;
        listen 443  ssl proxy_protocol;

        ssl_certificate      /etc/nginx/ssl/public.example.com.pem;
        ssl_certificate_key  /etc/nginx/ssl/public.example.com.key;

        location /app/ {
            proxy_pass       http://backend1;
            proxy_set_header Host            $host;
            proxy_set_header X-Real-IP       $proxy_protocol_addr;
            proxy_set_header X-Forwarded-For $proxy_protocol_addr;
        }
    }
} 
   
stream {
    log_format basic '$proxy_protocol_addr - $remote_user [$time_local] '
                     '$protocol $status $bytes_sent $bytes_received '
                     '$session_time';
    #...
    server {
        listen              12345 ssl proxy_protocol;

        ssl_certificate     /etc/nginx/ssl/cert.pem;
        ssl_certificate_key /etc/nginx/ssl/cert.key;

        proxy_pass          backend.example.com:12345;
        proxy_protocol      on;
    }
}
</code></pre> 
<h3><a id="1__IP__612"></a>1. 记录原始 IP 地址</h3> 
<p>知道客户端的原始 IP 地址后，可以配置正确的日志记录：</p> 
<p>对于 HTTP，使用 $proxy_protocol_addr 变量和 proxy_set_header 指令将 NGINX 配置为将客户端 IP 地址传递给上游服务器：</p> 
<pre><code class="prism language-nginx">http {
    proxy_set_header X-Real-IP       $proxy_protocol_addr;
    proxy_set_header X-Forwarded-For $proxy_protocol_addr;
}
</code></pre> 
<p>将 $proxy_protocol_addr 变量添加到指令（HTTP 或 Stream）log_format 中：</p> 
<p>在 http 块中：</p> 
<pre><code class="prism language-nginx">http {
    #...
    log_format combined '$proxy_protocol_addr - $remote_user [$time_local] '
                        '"$request" $status $body_bytes_sent '
                        '"$http_referer" "$http_user_agent"';
}
</code></pre> 
<p>在 stream 块中：</p> 
<pre><code class="prism language-nginx">stream {
    #...
    log_format basic '$proxy_protocol_addr - $remote_user [$time_local] '
                      '$protocol $status $bytes_sent $bytes_received '
                      '$session_time';
}
</code></pre> 
<h3><a id="2__TCP__PROXY__649"></a>2. 用于与上游的 TCP 连接的 PROXY 协议</h3> 
<p>对于TCP流，可以为 NGINX 和上游服务器之间的连接启用 PROXY 协议。要启用 PROXY 协议，请将 proxy_protocol 指令包含在以下级别的 serverstream {} 块中：</p> 
<pre><code class="prism language-nginx">stream {
    log_format basic '$proxy_protocol_addr - $remote_user [$time_local] '
                     '$protocol $status $bytes_sent $bytes_received '
                     '$session_time';
    #...
    server {
        listen              12345 ssl proxy_protocol;

        ssl_certificate     /etc/nginx/ssl/cert.pem;
        ssl_certificate_key /etc/nginx/ssl/cert.key;

        proxy_pass          backend.example.com:12345;
        proxy_protocol      on;
    }
}
</code></pre> 
<hr> 
<h2><a id="_HTTPS__672"></a>八、设置 HTTPS 服务器</h2> 
<pre><code class="prism language-nginx">server {
    listen              443 ssl;
    server_name         www.example.com;
    ssl_certificate     www.example.com.crt;
    ssl_certificate_key www.example.com.key;
    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers         HIGH:!aNULL:!MD5;
    #...
}
</code></pre> 
<ul><li><code>listen 443 ssl</code>：指定服务器监听443端口，并使用SSL协议。</li><li><code>server_name www.example.com</code>：设置服务器的主机名为www.example.com。</li><li><code>ssl_certificate www.example.com.crt</code>：指定SSL证书文件的位置，该文件用于验证服务器身份。</li><li><code>ssl_certificate_key www.example.com.key</code>：指定SSL私钥文件的位置，用于加密和服务器身份验证。</li><li><code>ssl_protocols TLSv1 TLSv1.1 TLSv1.2</code>：指定服务器支持的最高TLS版本为TLSv1.2。</li><li><code>ssl_ciphers HIGH:!aNULL:!MD5</code>：指定服务器使用的加密套接字，优先使用高强度加密算法，禁用aNULL和MD5算法。</li></ul> 
<p>服务器证书是公共实体。它被发送到连接到 NGINX 或 NGINX Plus 服务器的每个客户端。私钥是一个安全的实体，应存储在访问受限的文件中。</p> 
<h3><a id="1__OCSP__695"></a>1. 客户端证书的 OCSP 验证</h3> 
<p>NGINX 可以配置为使用联机证书状态协议 （OCSP） 来检查 X.509 客户端证书的有效性。客户端证书状态的 OCSP 请求将发送到 OCSP 响应程序，该响应程序检查证书有效性并返回包含证书状态的响应：</p> 
<ul><li>Good- 证书未被吊销</li><li>Revoked- 证书被吊销</li><li>Unknown- 没有关于客户端证书的信息</li></ul> 
<p>启用 SSL 客户端证书的 OCSP 验证：</p> 
<pre><code class="prism language-nginx">server {
    listen 443 ssl;

    ssl_certificate     /etc/ssl/foo.example.com.crt;
    ssl_certificate_key /etc/ssl/foo.example.com.key;

    ssl_verify_client       on;
    ssl_trusted_certificate /etc/ssl/cachain.pem;
    ssl_ocsp                on; # Enable OCSP validation

    #...
}
</code></pre> 
<ul><li> <p><code>ssl_verify_client on</code>：启用客户端证书验证，这将要求客户端提供有效的客户端证书以进行连接。</p> </li><li> <p><code>ssl_trusted_certificate /etc/ssl/cachain.pem</code>：指定用于验证客户端证书的证书颁发机构（CA）证书链文件的位置。</p> </li><li> <p><code>ssl_ocsp on</code>：启用OCSP验证，这将允许服务器在客户端证书验证过程中检查证书的在线状态。</p> </li></ul> 
<h3><a id="2__HTTP__724"></a>2. 使用 HTTP 基本身份验证限制访问</h3> 
<p>要在 Nginx 中使用 HTTP 基本身份验证限制访问，您可以按照以下步骤进行配置：</p> 
<h4><a id="21__728"></a>2.1 创建密码文件</h4> 
<p>首先，需要创建一个包含用户名和密码的文件。可以使用 <code>htpasswd</code> 工具来生成该文件。运行以下命令以生成密码文件：</p> 
<pre><code class="prism language-shell">htpasswd <span class="token parameter variable">-c</span> /etc/nginx/.htpasswd username
</code></pre> 
<p>将 “username” 替换为您想要用于身份验证的实际用户名。系统会提示您输入并确认用户的密码。</p> 
<h4><a id="22_Nginx__735"></a>2.2 Nginx 配置</h4> 
<p>打开 Nginx 的配置文件<code>/etc/nginx/nginx.conf</code>。找到需要添加基本身份验证的位置或块，并在其中添加以下代码：</p> 
<pre><code class="prism language-nginx">location / {
    auth_basic "Restricted Content";
    auth_basic_user_file /etc/nginx/.htpasswd;
}
</code></pre> 
<p>此示例中，我们将基本身份验证应用于根路径 (“/”) 下所有请求。如果只想对特定目录或 URL 进行限制，请相应地修改 <code>location</code> 指令。</p> 
<h4><a id="23__745"></a>2.3 保存并重新加载配置</h4> 
<p>保存更改后，请确保语法正确性，并重新加载 Nginx 配置以使更改生效。</p> 
<pre><code class="prism language-shell">nginx <span class="token parameter variable">-t</span>  <span class="token comment"># 检查语法错误</span>
systemctl reload nginx  <span class="token comment"># 重新加载Nginx服务 </span>
nginx <span class="token parameter variable">-s</span> reload <span class="token comment"># 重新加载nginx配置文件</span>
</code></pre> 
<p>现在，在尝试访问受限内容时，浏览器会弹出一个对话框要求输入用户名和密码。输入正确的凭据后，才能访问受限内容。</p> 
<p>请注意，基本身份验证是一种简单的身份验证方法，并且传输过程中的凭据以明文形式发送。因此，请确保使用 HTTPS 进行加密通信以提供更高级别的安全性。</p> 
<hr> 
<h2><a id="_758"></a>总结</h2> 
<p>通过阅读本教程，您应该对Nginx有一个初步的认识，并且能够进行基础配置和使用一些常用功能。请记住，在实际应用中，可能会涉及更复杂的场景和配置选项，请参考官方文档以获取更详细的信息。</p> 
<p>希望本教程对您有所帮助！如有任何疑问或问题，请随时在评论区留言。感谢阅读！</p> 
<p>参考链接：</p> 
<ul><li><a href="https://nginx.org/en/docs/" rel="nofollow">https://nginx.org/en/docs/</a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8d1fb61d940dd2c22f5613c1448f4423/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell编程-uname命令详解（超详细）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/35bb51a5c80a0a56c31db61016e8e465/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决js计算精度问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>