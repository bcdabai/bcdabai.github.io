<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GFS基础配置安装 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GFS基础配置安装" />
<meta property="og:description" content="GFS基础配置安装 基本概述 ​ GFS是一个可扩展的分布式文件系统，用于大型的、分布式的、对大量数据进行访问的应用。它运行于廉价的普通硬件上，并提供容错功能。它可以给大量的用户提供总体性能较高的服务。
基本结构图 基本部署步骤 一、实验准备 名称角色IP地址centos7-1node1192.168.142.66centos7-2node2192.168.142.77centos7-3node3192.168.142.132centos7-4node4192.168.142.136centos7-minclient192.168.142.172 二、开始安装 （1）为满足实验目的增添硬盘 centos7-1
/dev/sdb1 20G 33M 20G 1% /mnt/sdb1 /dev/sdc1 20G 33M 20G 1% /mnt/sdc1 /dev/sdd1 20G 33M 20G 1% /mnt/sdd1 /dev/sde1 20G 33M 20G 1% /mnt/sde1 centos7-2
/dev/sdb1 20G 33M 20G 1% /mnt/sdb1 /dev/sdc1 20G 33M 20G 1% /mnt/sdc1 /dev/sdd1 20G 33M 20G 1% /mnt/sdd1 /dev/sde1 20G 33M 20G 1% /mnt/sde1 centos7-3
/dev/sdb1 20G 33M 20G 1% /mnt/sdb1 /dev/sdc1 20G 33M 20G 1% /mnt/sdc1 /dev/sdd1 20G 33M 20G 1% /mnt/sdd1 /dev/sde1 20G 33M 20G 1% /mnt/sde1 centos7-4" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/05137ee657013b99d4fb51f9910740dc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-22T15:20:57+08:00" />
<meta property="article:modified_time" content="2019-12-22T15:20:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GFS基础配置安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="GFS_0"></a>GFS基础配置安装</h2> 
<h4><a id="_2"></a>基本概述</h4> 
<p>​ GFS是一个可扩展的<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/1250388" rel="nofollow">分布式文件系统</a>，用于大型的、分布式的、对大量数据进行访问的应用。它运行于廉价的普通硬件上，并提供容错功能。它可以给大量的用户提供总体性能较高的服务。</p> 
<h4><a id="_6"></a>基本结构图</h4> 
<p><img src="https://images2.imgbox.com/12/bc/E1xnjxZW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_10"></a>基本部署步骤</h3> 
<h4><a id="_12"></a>一、实验准备</h4> 
<table><thead><tr><th>名称</th><th>角色</th><th>IP地址</th></tr></thead><tbody><tr><td>centos7-1</td><td>node1</td><td>192.168.142.66</td></tr><tr><td>centos7-2</td><td>node2</td><td>192.168.142.77</td></tr><tr><td>centos7-3</td><td>node3</td><td>192.168.142.132</td></tr><tr><td>centos7-4</td><td>node4</td><td>192.168.142.136</td></tr><tr><td>centos7-min</td><td>client</td><td>192.168.142.172</td></tr></tbody></table> 
<h4><a id="_22"></a>二、开始安装</h4> 
<h5><a id="1_24"></a>（1）为满足实验目的增添硬盘</h5> 
<p><strong>centos7-1</strong></p> 
<pre><code class="prism language-Java">/dev/sdb1                 20G   33M   20G    1% /mnt/sdb1
/dev/sdc1                 20G   33M   20G    1% /mnt/sdc1
/dev/sdd1                 20G   33M   20G    1% /mnt/sdd1
/dev/sde1                 20G   33M   20G    1% /mnt/sde1
</code></pre> 
<p><strong>centos7-2</strong></p> 
<pre><code class="prism language-java"><span class="token operator">/</span>dev<span class="token operator">/</span>sdb1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdc1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdd1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
<span class="token operator">/</span>dev<span class="token operator">/</span>sde1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
</code></pre> 
<p><strong>centos7-3</strong></p> 
<pre><code class="prism language-java"><span class="token operator">/</span>dev<span class="token operator">/</span>sdb1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdc1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdd1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
<span class="token operator">/</span>dev<span class="token operator">/</span>sde1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
</code></pre> 
<p><strong>centos7-4</strong></p> 
<pre><code class="prism language-java"><span class="token operator">/</span>dev<span class="token operator">/</span>sdb1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdc1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1
<span class="token operator">/</span>dev<span class="token operator">/</span>sdd1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
<span class="token operator">/</span>dev<span class="token operator">/</span>sde1                 <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
</code></pre> 
<h5><a id="2GFS_62"></a>（2）安装GFS（所有存储节点均需要安装）</h5> 
<p><strong>修改本地hosts文件，方便识别</strong></p> 
<pre><code class="prism language-Java">[root@node1 yum.repos.d]# vim /etc/hosts
192.168.142.66 node1
192.168.142.77 node2
192.168.142.132 node3
192.168.142.136 node4
</code></pre> 
<p><strong>配置本地YUM源</strong></p> 
<p>（原自带YUM仓库无法满足需求）</p> 
<pre><code class="prism language-Java">[root@node1 mnt]# cd /etc/yum.repos.d/
[root@node1 yum.repos.d]# mkdir bak
[root@node1 yum.repos.d]# mv CentOS-* bak/
[root@node3 zhy]# cp -r gfsrepo/ /mnt/
[root@node3 yum.repos.d]# vim GFSrep.repo
//手动添加
[GFSrep]
name=GFS
baseurl=file:///mnt/gfsrepo
gpgcheck=0
enabled=1

</code></pre> 
<p><strong>安装gfs组件并开启</strong></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># yum <span class="token operator">-</span>y install glusterfs glusterfs<span class="token operator">-</span>server glusterfs<span class="token operator">-</span>fuse glusterfs<span class="token operator">-</span>rdma

<span class="token comment">//开启服务</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># systemctl start glusterd
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># systemctl enable glusterd
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># systemctl stop firewalld<span class="token punctuation">.</span>service
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># setenforce <span class="token number">0</span>
</code></pre> 
<p><strong>与阿里时间服务器进行同步</strong></p> 
<pre><code class="prism language-Java">[root@node1 yum.repos.d]# ntpdate ntp1.aliyun.com
18 Dec 19:55:56 ntpdate[2843]: adjust time server 120.25.115.20 offset 0.010820 sec
</code></pre> 
<p><strong>添加储存信任池（只需要在任一存储节点添加即可）</strong></p> 
<pre><code class="prism language-Java">[root@node1 yum.repos.d]# gluster peer probe node2
peer probe: success.
[root@node1 yum.repos.d]# gluster peer probe node3
peer probe: success.
[root@node1 yum.repos.d]# gluster peer probe node4
peer probe: success.
[root@node1 yum.repos.d]# gluster peer status          //查看各节点状态

</code></pre> 
<h4><a id="_125"></a>二、建立分布式卷</h4> 
<p><strong>特点：</strong> （通过HASH算法进行分布）</p> 
<blockquote> 
 <p>没有冗余性</p> 
 <p>单点故障，数据会丢失</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># gluster volume create fenbu node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1 node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1 force
<span class="token comment">//使用node1的sdb1和node2的sdb1作为节点，部署分布式卷，“force”强制执行</span>
volume create<span class="token operator">:</span> fenbu<span class="token operator">:</span> success<span class="token operator">:</span> please start the volume to access data

 <span class="token comment">//查看分布式卷信息</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># gluster volume info fenbu

Volume Name<span class="token operator">:</span> fenbu
Type<span class="token operator">:</span> Distribute
Volume ID<span class="token operator">:</span> e7833052<span class="token operator">-</span>a4c7<span class="token operator">-</span><span class="token number">4</span>c9f<span class="token operator">-</span><span class="token number">9660</span><span class="token operator">-</span>dc60db737543
。。。。。。
Bricks<span class="token operator">:</span>
Brick1<span class="token operator">:</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
Brick2<span class="token operator">:</span> node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1

<span class="token comment">//查看卷组列表</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># gluster volume list

<span class="token comment">//开启分布式卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># gluster volume start fenbu
volume start<span class="token operator">:</span> fenbu<span class="token operator">:</span> success
</code></pre> 
<h4><a id="_157"></a>三、建立条带卷</h4> 
<p><strong>特点：</strong></p> 
<blockquote> 
 <p>根据偏移量将文件分成N块(N个条器节点)，轮询的存储在每个Brick Server节点</p> 
 <p>存储大文件时，性能尤为突出</p> 
 <p>不具备冗余性，类似Raid0</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume create tiaodai stripe <span class="token number">2</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1 node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1 force
<span class="token comment">//“stripe”  分为两个区</span>

<span class="token comment">//开启条带卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume start tiaodai
volume start<span class="token operator">:</span> tiaodai<span class="token operator">:</span> success
 
<span class="token comment">//查看条带卷信息</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># gluster volume info fenbu
Volume Name<span class="token operator">:</span> tiaodai
。。。。。。
Status<span class="token operator">:</span> Started
。。。。。。
Bricks<span class="token operator">:</span>
Brick1<span class="token operator">:</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1
Brick2<span class="token operator">:</span> node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdc1
Options Reconfigured<span class="token operator">:</span>
</code></pre> 
<h4><a id="_187"></a>四、建立复制卷</h4> 
<p><strong>特点：</strong></p> 
<blockquote> 
 <p>同一份文件保存一份或者多分副本</p> 
 <p>读写速度较慢</p> 
 <p>具备冗余性</p> 
 <p>必须由两个或更多数据库组成</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume create fuzhi replica <span class="token number">2</span> node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1 node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1 force
<span class="token comment">//“replica”    建立副本数</span>

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume start fuzhi
volume start<span class="token operator">:</span> fuzhi<span class="token operator">:</span> success

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume info fuzhi

Volume Name<span class="token operator">:</span> fuzhi
。。。。。。
Status<span class="token operator">:</span> Started
。。。。。。
Bricks<span class="token operator">:</span>
Brick1<span class="token operator">:</span> node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
Brick2<span class="token operator">:</span> node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdb1
</code></pre> 
<h4><a id="_217"></a>五、建立分布式条带卷</h4> 
<p><strong>特点：</strong></p> 
<blockquote> 
 <p>兼顾分布式卷和条带卷的功能</p> 
 <p>用于大文件处理</p> 
 <p>至少需要四台服务器</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume create fenbu<span class="token operator">-</span>tiao stripe <span class="token number">2</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1 node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1 node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1 node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1 force
<span class="token comment">//“stripe”   具备条带卷功能，因此需要分片</span>

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume start fenbu<span class="token operator">-</span>tiao
volume start<span class="token operator">:</span> fenbu<span class="token operator">-</span>tiao<span class="token operator">:</span> success

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume info fenbu<span class="token operator">-</span>tiao

Volume Name<span class="token operator">:</span> fenbu<span class="token operator">-</span>tiao
。。。。。。
Status<span class="token operator">:</span> Started
。。。。。。
Bricks<span class="token operator">:</span>
Brick1<span class="token operator">:</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
Brick2<span class="token operator">:</span> node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
Brick3<span class="token operator">:</span> node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1
Brick4<span class="token operator">:</span> node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sdd1

</code></pre> 
<h4><a id="_248"></a>六、建立分布式复制卷</h4> 
<p><strong>特点：</strong></p> 
<blockquote> 
 <p>兼顾分布式和复制卷的功能</p> 
 <p>具有冗余功能</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume create fenbu<span class="token operator">-</span>copy replica <span class="token number">2</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1 node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1 node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1 node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1 force

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume start fenbu<span class="token operator">-</span>copy
volume start<span class="token operator">:</span> fenbu<span class="token operator">-</span>copy<span class="token operator">:</span> success

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># gluster volume info fenbu<span class="token operator">-</span>copy

Volume Name<span class="token operator">:</span> fenbu<span class="token operator">-</span>copy
。。。。。。
Status<span class="token operator">:</span> Started
。。。。。。
Bricks<span class="token operator">:</span>
Brick1<span class="token operator">:</span> node1<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
Brick2<span class="token operator">:</span> node2<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
Brick3<span class="token operator">:</span> node3<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
Brick4<span class="token operator">:</span> node4<span class="token operator">:</span><span class="token operator">/</span>mnt<span class="token operator">/</span>sde1
</code></pre> 
<h4><a id="_275"></a>七、客户端配置</h4> 
<p><strong>修改本地Hosts文件</strong></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>hosts
<span class="token number">192.168</span><span class="token number">.142</span><span class="token number">.66</span> node1
<span class="token number">192.168</span><span class="token number">.142</span><span class="token number">.77</span> node2
<span class="token number">192.168</span><span class="token number">.142</span><span class="token number">.132</span> node3
<span class="token number">192.168</span><span class="token number">.142</span><span class="token number">.136</span> node4
</code></pre> 
<p><strong>配置本地YUM源</strong></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># cd <span class="token operator">/</span>etc<span class="token operator">/</span>yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir bak
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mv CentOS<span class="token operator">-</span><span class="token operator">*</span> bak<span class="token operator">/</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node3</span> zhy<span class="token punctuation">]</span># cp <span class="token operator">-</span>r gfsrepo<span class="token operator">/</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node3</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># vim GFSrep<span class="token punctuation">.</span>repo
<span class="token comment">//手动添加</span>
<span class="token punctuation">[</span>GFSrep<span class="token punctuation">]</span>
name<span class="token operator">=</span>GFS
baseurl<span class="token operator">=</span>file<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">//mnt/gfsrepo</span>
gpgcheck<span class="token operator">=</span><span class="token number">0</span>
enabled<span class="token operator">=</span><span class="token number">1</span>
</code></pre> 
<p><strong>安装gfs组件</strong></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># yum <span class="token operator">-</span>y install glusterfs glusterfs<span class="token operator">-</span>fuse
</code></pre> 
<p><strong>GFS新建的卷进行挂载</strong></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span>data<span class="token operator">/</span>fenbu              <span class="token comment">//新建分布式卷挂载点</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span>data<span class="token operator">/</span>tiaodai             <span class="token comment">//新建条带卷挂载点</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span>data<span class="token operator">/</span>fuzhi               <span class="token comment">//新建复制卷挂载点</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>tiao       <span class="token comment">//新建分布式条带卷挂载点</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mkdir <span class="token operator">-</span>p <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>copy     <span class="token comment">//新建分布式复制卷</span>

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mount<span class="token punctuation">.</span>glusterfs node1<span class="token operator">:</span>fenbu <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">/</span>             <span class="token comment">//将分布卷进行挂载</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># df <span class="token operator">-</span>hT
文件系统                类型            容量  已用  可用 已用<span class="token operator">%</span> 挂载点
node1<span class="token operator">:</span>fenbu             fuse<span class="token punctuation">.</span>glusterfs   <span class="token number">40</span>G   <span class="token number">65</span>M   <span class="token number">40</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>data<span class="token operator">/</span>fenbu

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mount<span class="token punctuation">.</span>glusterfs node1<span class="token operator">:</span>tiaodai <span class="token operator">/</span>data<span class="token operator">/</span>tiaodai<span class="token operator">/</span>         <span class="token comment">//挂载条带卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># df <span class="token operator">-</span>hT
文件系统                类型            容量  已用  可用 已用<span class="token operator">%</span> 挂载点
node1<span class="token operator">:</span>tiaodai           fuse<span class="token punctuation">.</span>glusterfs   <span class="token number">40</span>G   <span class="token number">65</span>M   <span class="token number">40</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>data<span class="token operator">/</span>tiaodai

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mount<span class="token punctuation">.</span>glusterfs node3<span class="token operator">:</span>fuzhi <span class="token operator">/</span>data<span class="token operator">/</span>fuzhi             <span class="token comment">//挂载复制卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># df <span class="token operator">-</span>hT
文件系统                类型            容量  已用  可用 已用<span class="token operator">%</span> 挂载点
node3<span class="token operator">:</span>fuzhi             fuse<span class="token punctuation">.</span>glusterfs   <span class="token number">20</span>G   <span class="token number">33</span>M   <span class="token number">20</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>data<span class="token operator">/</span>fuzhi

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mount<span class="token punctuation">.</span>glusterfs node1<span class="token operator">:</span>fenbu<span class="token operator">-</span>tiao <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>tiao<span class="token operator">/</span>         <span class="token comment">//挂载分布式条带卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># df <span class="token operator">-</span>hT
文件系统                类型            容量  已用  可用 已用<span class="token operator">%</span> 挂载点
node1<span class="token operator">:</span>fenbu<span class="token operator">-</span>tiao        fuse<span class="token punctuation">.</span>glusterfs   <span class="token number">80</span>G  <span class="token number">130</span>M   <span class="token number">80</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>tiao

<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># mount<span class="token punctuation">.</span>glusterfs node4<span class="token operator">:</span>fenbu<span class="token operator">-</span>copy <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>copy<span class="token operator">/</span>       <span class="token comment">//挂载分布式复制卷</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@client</span> yum<span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token punctuation">]</span># df <span class="token operator">-</span>hT
文件系统                类型            容量  已用  可用 已用<span class="token operator">%</span> 挂载点
node4<span class="token operator">:</span>fenbu<span class="token operator">-</span>copy        fuse<span class="token punctuation">.</span>glusterfs   <span class="token number">40</span>G   <span class="token number">65</span>M   <span class="token number">40</span>G    <span class="token number">1</span><span class="token operator">%</span> <span class="token operator">/</span>data<span class="token operator">/</span>fenbu<span class="token operator">-</span>copy
</code></pre> 
<h4><a id="_344"></a>八、对各类卷进行测试</h4> 
<p><strong>建立六个测试文件</strong></p> 
<pre><code class="prism language-Java">[root@client data]# dd if=/dev/zero of=test1.log bs=10M count=10

[root@client data]# dd if=/dev/zero of=test2.log bs=10M count=10

[root@client data]# dd if=/dev/zero of=test3.log bs=10M count=10

[root@client data]# dd if=/dev/zero of=test4.log bs=10M count=10

[root@client data]# dd if=/dev/zero of=test5.log bs=10M count=10

[root@client data]# dd if=/dev/zero of=test6.log bs=10M count=10
</code></pre> 
<p><strong>将文件复制进各个卷中</strong></p> 
<pre><code class="prism language-Java">[root@client data]# cp test* fenbu
[root@client data]# cp test* fenbu-copy/
[root@client data]# cp test* fenbu-tiao/
[root@client data]# cp test* fuzhi/
[root@client data]# cp test* tiaodai/
</code></pre> 
<p><strong>查看分布式卷（node1:sdb1、node2:sdb1）</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//node1</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdb1<span class="token operator">/</span>
总用量 <span class="token number">400</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">55</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test6<span class="token punctuation">.</span>log
<span class="token comment">//node2</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node2</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdb1<span class="token operator">/</span>
总用量 <span class="token number">200</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test5<span class="token punctuation">.</span>log
</code></pre> 
<p><strong>查看条带卷（node1:sdc1、node2:sdc1）</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//将每个数据都分成两块存储（分成几份由建立时的stripe决定）</span>
<span class="token comment">//node1</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdc1<span class="token operator">/</span>
总用量 <span class="token number">300</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log
<span class="token comment">//node2</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node2</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdc1<span class="token operator">/</span>
总用量 <span class="token number">300</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log
</code></pre> 
<p><strong>查看复制卷（node3:sdb1、node4:sdb1）</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//所有数据均复制一份存储</span>
<span class="token comment">//node3</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node3</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdb1<span class="token operator">/</span>
总用量 <span class="token number">600</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log
<span class="token comment">//node4</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node4</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdb1<span class="token operator">/</span>
总用量 <span class="token number">600</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log
</code></pre> 
<p><strong>查看分布式条带卷（node1:sdd1、node2:sdd1、node3:sdd1、node4:sdd1）</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//node1 &amp; node2</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdd1<span class="token operator">/</span>
总用量 <span class="token number">200</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node2</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdd1<span class="token operator">/</span>
总用量 <span class="token number">200</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test6<span class="token punctuation">.</span>log

<span class="token comment">//node3 &amp; node4</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node3</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdd1<span class="token operator">/</span>
总用量 <span class="token number">100</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node4</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sdd1<span class="token operator">/</span>
总用量 <span class="token number">100</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">50</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">57</span> test5<span class="token punctuation">.</span>log
</code></pre> 
<p><strong>查看分布式复制卷（node1~4:sde1）</strong></p> 
<pre><code class="prism language-java"><span class="token comment">//node1 &amp; node2</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node1</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sde1<span class="token operator">/</span>
总用量 <span class="token number">400</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test6<span class="token punctuation">.</span>log
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node2</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sde1<span class="token operator">/</span>
总用量 <span class="token number">400</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test1<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test2<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test4<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test6<span class="token punctuation">.</span>log

<span class="token comment">//node3 &amp; node4</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node3</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sde1<span class="token operator">/</span>
总用量 <span class="token number">200</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test5<span class="token punctuation">.</span>log
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@node4</span> mnt<span class="token punctuation">]</span># ll <span class="token operator">-</span>h sde1<span class="token operator">/</span>
总用量 <span class="token number">200</span>M
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test3<span class="token punctuation">.</span>log
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">2</span> root root <span class="token number">100</span>M <span class="token number">12</span>月 <span class="token number">18</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">56</span> test5<span class="token punctuation">.</span>log
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8acecdc6a4e9c5b65f2de249c9947627/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">芯片和CPU有什么不同?解析CPU制造全过程 - 全文</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/65cd43757e68b5d8090e1d8acd49ce06/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">策略路由（Policy Route）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>