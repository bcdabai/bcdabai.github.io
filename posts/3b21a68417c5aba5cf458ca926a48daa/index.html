<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>glibc 知：构建2.34版本 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="glibc 知：构建2.34版本" />
<meta property="og:description" content="文章目录 获取版本构建安装测试testrun.shstrace 获取版本 主页：https://www.gnu.org/software/libc
这里选择任意一个压缩包下载即可。
构建安装 tar -Jxf glibc-2.34.tar.xz mkdir build install cd build ../glibc-2.34/configure --prefix=/usr make -j4 make install DESTDIR=/xxx/xxx/install 1）make后面的-j4，其中4可以根据CPU数进行调整。
2）DESTDIR需要是绝对路径
3）configure阶段可能会检测某些软件不存在，根据错误提示在主机上安装即可
4）如果使用vmware虚拟机，build目录不能在Linux和Windows共享目录下，否则会构建错误
测试 下面写一个打印hello world的c程序，基于构建的glibc-2.34进行执行。
1）程序 test.c
#include &lt;stdio.h&gt; int main(void) { printf(&#34;hello world\n&#34;); return 0; } 2）编译
gcc test.c 3）执行
基于build目录下的testrun.sh进行执行
$ /xxx/xxx/build/testrun.sh ./a.out hello world 更多测试方法可以参考 glibc 知：构建和测试
testrun.sh #!/bin/bash builddir=`dirname &#34;$0&#34;` GCONV_PATH=&#34;${builddir}/iconvdata&#34; usage () { cat &lt;&lt; EOF Usage: $0 [OPTIONS] &lt;program&gt; [ARGUMENTS...] --tool=TOOL Run with the specified TOOL." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3b21a68417c5aba5cf458ca926a48daa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-20T23:41:47+08:00" />
<meta property="article:modified_time" content="2021-12-20T23:41:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">glibc 知：构建2.34版本</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">获取版本</a></li><li><a href="#_10" rel="nofollow">构建安装</a></li><li><a href="#_24" rel="nofollow">测试</a></li><li><ul><li><a href="#testrunsh_55" rel="nofollow">testrun.sh</a></li><li><a href="#strace_127" rel="nofollow">strace</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>获取版本</h2> 
<p>主页：<a href="https://www.gnu.org/software/libc" rel="nofollow">https://www.gnu.org/software/libc</a><br> <img src="https://images2.imgbox.com/07/81/NTdK4qsx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1e/7e/8PtB7aNk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/22/de/Ym7Wzg3G_o.png" alt="在这里插入图片描述"><br> 这里选择任意一个压缩包下载即可。</p> 
<h2><a id="_10"></a>构建安装</h2> 
<pre><code class="prism language-shell"><span class="token function">tar</span> -Jxf glibc-2.34.tar.xz
<span class="token function">mkdir</span> build <span class="token function">install</span>
<span class="token builtin class-name">cd</span> build
<span class="token punctuation">..</span>/glibc-2.34/configure --prefix<span class="token operator">=</span>/usr
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span>/xxx/xxx/install
</code></pre> 
<p>1）make后面的-j4，其中4可以根据CPU数进行调整。<br> 2）DESTDIR需要是绝对路径<br> 3）configure阶段可能会检测某些软件不存在，根据错误提示在主机上安装即可<br> 4）如果使用vmware虚拟机，build目录不能在Linux和Windows共享目录下，否则会构建错误</p> 
<h2><a id="_24"></a>测试</h2> 
<p>下面写一个打印hello world的c程序，基于构建的glibc-2.34进行执行。</p> 
<p>1）程序 test.c</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>2）编译</p> 
<pre><code class="prism language-shell">gcc test.c
</code></pre> 
<p>3）执行<br> 基于build目录下的testrun.sh进行执行</p> 
<pre><code class="prism language-shell">$ /xxx/xxx/build/testrun.sh ./a.out
hello world
</code></pre> 
<p><img src="https://images2.imgbox.com/98/ed/fBITj7Kz_o.png" alt="在这里插入图片描述"></p> 
<p>更多测试方法可以参考 <a href="https://blog.csdn.net/canpool/article/details/119087601">glibc 知：构建和测试</a></p> 
<h3><a id="testrunsh_55"></a>testrun.sh</h3> 
<pre><code class="prism language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">builddir</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">dirname</span> <span class="token string">"<span class="token variable">$0</span>"</span><span class="token variable">`</span></span>
<span class="token assign-left variable">GCONV_PATH</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${builddir}</span>/iconvdata"</span>

<span class="token function-name function">usage</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
Usage: <span class="token variable">$0</span> [OPTIONS] &lt;program&gt; [ARGUMENTS...]

  --tool=TOOL  Run with the specified TOOL. It can be strace, valgrind or
               container. The container will run within support/test-container.
EOF</span>

  <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token assign-left variable">toolname</span><span class="token operator">=</span>default
<span class="token keyword">while</span> <span class="token builtin class-name">test</span> <span class="token variable">$#</span> -gt <span class="token number">0</span> <span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token keyword">case</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token keyword">in</span>
    --tool<span class="token operator">=</span>*<span class="token punctuation">)</span>
      <span class="token assign-left variable">toolname</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${1<span class="token operator">:</span>7}</span>"</span>
      <span class="token builtin class-name">shift</span>
      <span class="token punctuation">;</span><span class="token punctuation">;</span>
    --*<span class="token punctuation">)</span>
      usage
      <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>
      <span class="token builtin class-name">break</span>
      <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token keyword">esac</span>
<span class="token keyword">done</span>

<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$#</span> -eq <span class="token number">0</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
  usage
<span class="token keyword">fi</span>

<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$toolname</span>"</span> <span class="token keyword">in</span>
  default<span class="token punctuation">)</span>
    <span class="token builtin class-name">exec</span>   <span class="token function">env</span> <span class="token assign-left variable">GCONV_PATH</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${builddir}</span>"</span>/iconvdata <span class="token assign-left variable">LOCPATH</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${builddir}</span>"</span>/localedata <span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C  <span class="token string">"<span class="token variable">${builddir}</span>"</span>/elf/ld-linux-x86-64.so.2 --library-path <span class="token string">"<span class="token variable">${builddir}</span>"</span><span class="token builtin class-name">:</span><span class="token string">"<span class="token variable">${builddir}</span>"</span>/math:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/elf:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/dlfcn:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/nss:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/nis:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/rt:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/resolv:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/mathvec:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/support:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/crypt:<span class="token string">"<span class="token variable">${builddir}</span>"</span>/nptl <span class="token variable">${1+"$@"}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token function">strace</span><span class="token punctuation">)</span>
    <span class="token builtin class-name">exec</span> <span class="token function">strace</span>  -EGCONV_PATH<span class="token operator">=</span>/home/maminjie/glibc/build/iconvdata  -ELOCPATH<span class="token operator">=</span>/home/maminjie/glibc/build/localedata  -ELC_ALL<span class="token operator">=</span>C  /home/maminjie/glibc/build/elf/ld-linux-x86-64.so.2 --library-path /home/maminjie/glibc/build:/home/maminjie/glibc/build/math:/home/maminjie/glibc/build/elf:/home/maminjie/glibc/build/dlfcn:/home/maminjie/glibc/build/nss:/home/maminjie/glibc/build/nis:/home/maminjie/glibc/build/rt:/home/maminjie/glibc/build/resolv:/home/maminjie/glibc/build/mathvec:/home/maminjie/glibc/build/support:/home/maminjie/glibc/build/crypt:/home/maminjie/glibc/build/nptl <span class="token variable">${1+"$@"}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  valgrind<span class="token punctuation">)</span>
    <span class="token builtin class-name">exec</span> <span class="token function">env</span> <span class="token assign-left variable">GCONV_PATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/iconvdata <span class="token assign-left variable">LOCPATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/localedata <span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C valgrind  /home/maminjie/glibc/build/elf/ld-linux-x86-64.so.2 --library-path /home/maminjie/glibc/build:/home/maminjie/glibc/build/math:/home/maminjie/glibc/build/elf:/home/maminjie/glibc/build/dlfcn:/home/maminjie/glibc/build/nss:/home/maminjie/glibc/build/nis:/home/maminjie/glibc/build/rt:/home/maminjie/glibc/build/resolv:/home/maminjie/glibc/build/mathvec:/home/maminjie/glibc/build/support:/home/maminjie/glibc/build/crypt:/home/maminjie/glibc/build/nptl <span class="token variable">${1+"$@"}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  container<span class="token punctuation">)</span>
    <span class="token builtin class-name">exec</span> <span class="token function">env</span> <span class="token assign-left variable">GCONV_PATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/iconvdata <span class="token assign-left variable">LOCPATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/localedata <span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C  /home/maminjie/glibc/build/elf/ld-linux-x86-64.so.2 --library-path /home/maminjie/glibc/build:/home/maminjie/glibc/build/math:/home/maminjie/glibc/build/elf:/home/maminjie/glibc/build/dlfcn:/home/maminjie/glibc/build/nss:/home/maminjie/glibc/build/nis:/home/maminjie/glibc/build/rt:/home/maminjie/glibc/build/resolv:/home/maminjie/glibc/build/mathvec:/home/maminjie/glibc/build/support:/home/maminjie/glibc/build/crypt:/home/maminjie/glibc/build/nptl /home/maminjie/glibc/build/support/test-container <span class="token function">env</span> <span class="token assign-left variable">GCONV_PATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/iconvdata <span class="token assign-left variable">LOCPATH</span><span class="token operator">=</span>/home/maminjie/glibc/build/localedata <span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>C  /home/maminjie/glibc/build/elf/ld-linux-x86-64.so.2 --library-path /home/maminjie/glibc/build:/home/maminjie/glibc/build/math:/home/maminjie/glibc/build/elf:/home/maminjie/glibc/build/dlfcn:/home/maminjie/glibc/build/nss:/home/maminjie/glibc/build/nis:/home/maminjie/glibc/build/rt:/home/maminjie/glibc/build/resolv:/home/maminjie/glibc/build/mathvec:/home/maminjie/glibc/build/support:/home/maminjie/glibc/build/crypt:/home/maminjie/glibc/build/nptl <span class="token variable">${1+"$@"}</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
  *<span class="token punctuation">)</span>
    usage
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre> 
<p>简析如下：</p> 
<pre><code class="prism language-shell">  <span class="token keyword">case</span> <span class="token string">"<span class="token variable">$1</span>"</span> <span class="token keyword">in</span>
    --tool<span class="token operator">=</span>*<span class="token punctuation">)</span>
      <span class="token assign-left variable">toolname</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${1<span class="token operator">:</span>7}</span>"</span>
      <span class="token builtin class-name">shift</span>
      <span class="token punctuation">;</span><span class="token punctuation">;</span>
</code></pre> 
<p>toolname为参数1的从索引7开始的字符，即去掉–tool=，默认toolname为default，则执行下面命令：<br> <code>exec env GCONV_PATH="${builddir}"/iconvdata LOCPATH="${builddir}"/localedata LC_ALL=C "${builddir}"/elf/ld-linux-x86-64.so.2 --library-path "${builddir}":"${builddir}"/math:"${builddir}"/elf:"${builddir}"/dlfcn:"${builddir}"/nss:"${builddir}"/nis:"${builddir}"/rt:"${builddir}"/resolv:"${builddir}"/mathvec:"${builddir}"/support:"${builddir}"/crypt:"${builddir}"/nptl ${1+"$@"}</code></p> 
<p>通过 ld-linux-x86-64.so.2 的参数 --library-path 设置库的路径，然后加载程序。</p> 
<p><code>${1+"$@"}</code>：当$1定义了，取$@，否则取$1</p> 
<p>ld-linux-x86-64.so.2 的更多参数可以参考 <a href="https://blog.csdn.net/canpool/article/details/119297892">glibc 知：ld.so</a></p> 
<h3><a id="strace_127"></a>strace</h3> 
<pre><code class="prism language-shell">maminjie@fedora hello<span class="token punctuation">]</span>$ ~/glibc/build/testrun.sh --tool<span class="token operator">=</span>strace ./a.out 
execve<span class="token punctuation">(</span><span class="token string">"/home/maminjie/glibc/build/elf/ld-linux-x86-64.so.2"</span>, <span class="token punctuation">[</span><span class="token string">"/home/maminjie/glibc/build/elf/l"</span><span class="token punctuation">..</span>., <span class="token string">"--library-path"</span>, <span class="token string">"/home/maminjie/glibc/build:/home"</span><span class="token punctuation">..</span>., <span class="token string">"./a.out"</span><span class="token punctuation">]</span>, 0x55d73ba1d6d0 /* <span class="token number">48</span> vars */<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
brk<span class="token punctuation">(</span>NULL<span class="token punctuation">)</span>                               <span class="token operator">=</span> 0x555556d2e000
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"./a.out"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
read<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\177">\177</span>ELF<span class="token entity" title="\2">\2</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\2">\2</span><span class="token entity" title="\0">\0</span>&gt;<span class="token entity" title="\0">\0</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\20">\20</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span><span class="token punctuation">..</span>., <span class="token number">832</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">832</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\20">\20</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\5">\5</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>GNU<span class="token entity" title="\0">\0</span><span class="token entity" title="\2">\2</span><span class="token entity" title="\200">\200</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\300">\300</span><span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span>, <span class="token number">32</span>, <span class="token number">824</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">32</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\24">\24</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\3">\3</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>GNU<span class="token entity" title="\0">\0</span><span class="token entity" title="\316">\316</span><span class="token entity" title="\235">\235</span><span class="token entity" title="\274">\274</span><span class="token entity" title="\210">\210</span><span class="token entity" title="\275">\275</span><span class="token entity" title="\254">\254</span>]<span class="token entity" title="\372">\372</span><span class="token entity" title="\27">\27</span>.<span class="token entity" title="\202">\202</span><span class="token entity" title="\255">\255</span><span class="token entity" title="\7">\7</span><span class="token entity" title="\31">\31</span><span class="token entity" title="\206">\206</span><span class="token entity" title="\214">\214</span>"</span><span class="token punctuation">..</span>., <span class="token number">68</span>, <span class="token number">856</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">68</span>
getcwd<span class="token punctuation">(</span><span class="token string">"/home/maminjie/glibc/test/hello"</span>, <span class="token number">128</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">32</span>
mmap<span class="token punctuation">(</span>0x400000, <span class="token number">4096</span>, PROT_READ, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> 0x400000
mmap<span class="token punctuation">(</span>0x401000, <span class="token number">4096</span>, PROT_READ<span class="token operator">|</span>PROT_EXEC, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x1000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x401000
mmap<span class="token punctuation">(</span>0x402000, <span class="token number">4096</span>, PROT_READ, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x2000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x402000
mmap<span class="token punctuation">(</span>0x403000, <span class="token number">8192</span>, PROT_READ<span class="token operator">|</span>PROT_WRITE, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x2000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x403000
close<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
mmap<span class="token punctuation">(</span>NULL, <span class="token number">8192</span>, PROT_READ<span class="token operator">|</span>PROT_WRITE, MAP_PRIVATE<span class="token operator">|</span>MAP_ANONYMOUS, -1, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f94b5000
access<span class="token punctuation">(</span><span class="token string">"/etc/ld.so.preload"</span>, R_OK<span class="token punctuation">)</span>      <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/glibc-hwcaps/x86-64-v3/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/glibc-hwcaps/x86-64-v3"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/glibc-hwcaps/x86-64-v2/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/glibc-hwcaps/x86-64-v2"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/haswell/x86_64/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/haswell/x86_64"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/haswell/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/haswell"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/x86_64/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/x86_64"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/tls"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/haswell/x86_64/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/haswell/x86_64"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/haswell/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/haswell"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/x86_64/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
newfstatat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/x86_64"</span>, 0x7ffef39e8740, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> -1 ENOENT <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
openat<span class="token punctuation">(</span>AT_FDCWD, <span class="token string">"/home/maminjie/glibc/build/libc.so.6"</span>, O_RDONLY<span class="token operator">|</span>O_CLOEXEC<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span>
read<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\177">\177</span>ELF<span class="token entity" title="\2">\2</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\3">\3</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\3">\3</span><span class="token entity" title="\0">\0</span>&gt;<span class="token entity" title="\0">\0</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\20">\20</span><span class="token entity" title="\324">\324</span><span class="token entity" title="\2">\2</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span><span class="token punctuation">..</span>., <span class="token number">832</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">832</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\6">\6</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span><span class="token punctuation">..</span>., <span class="token number">784</span>, <span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">784</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\20">\20</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\5">\5</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>GNU<span class="token entity" title="\0">\0</span><span class="token entity" title="\2">\2</span><span class="token entity" title="\200">\200</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\300">\300</span><span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\1">\1</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span>, <span class="token number">32</span>, <span class="token number">848</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">32</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, "<span class="token punctuation">\</span><span class="token number">4</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">24</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">3</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span>0GNU<span class="token punctuation">\</span><span class="token number">0</span><span class="token punctuation">\</span><span class="token number">374</span><span class="token operator">&amp;</span><span class="token punctuation">\</span><span class="token number">320</span><span class="token punctuation">\</span><span class="token number">320</span><span class="token punctuation">\</span><span class="token number">314</span>/<span class="token punctuation">\</span>277I<span class="token punctuation">\</span><span class="token number">361</span><span class="token punctuation">\</span>270j<span class="token punctuation">\</span><span class="token number">317</span><span class="token punctuation">\</span><span class="token number">266</span>`<span class="token punctuation">\</span><span class="token number">246</span><span class="token punctuation">\</span><span class="token number">365</span><span class="token string">"..., 68, 880) = 68
newfstatat(3, "</span>", <span class="token punctuation">{<!-- --></span>st_mode<span class="token operator">=</span>S_IFREG<span class="token operator">|</span>0775, <span class="token assign-left variable">st_size</span><span class="token operator">=</span><span class="token number">12478512</span>, <span class="token punctuation">..</span>.<span class="token punctuation">}</span>, AT_EMPTY_PATH<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
pread64<span class="token punctuation">(</span><span class="token number">3</span>, <span class="token string">"<span class="token entity" title="\6">\6</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\4">\4</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>@<span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span><span class="token entity" title="\0">\0</span>"</span><span class="token punctuation">..</span>., <span class="token number">784</span>, <span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">784</span>
mmap<span class="token punctuation">(</span>NULL, <span class="token number">2079920</span>, PROT_READ, MAP_PRIVATE<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f92b9000
mprotect<span class="token punctuation">(</span>0x7f76f92e5000, <span class="token number">1822720</span>, PROT_NONE<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
mmap<span class="token punctuation">(</span>0x7f76f92e5000, <span class="token number">1470464</span>, PROT_READ<span class="token operator">|</span>PROT_EXEC, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x2c000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f92e5000
mmap<span class="token punctuation">(</span>0x7f76f944c000, <span class="token number">348160</span>, PROT_READ, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x193000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f944c000
mmap<span class="token punctuation">(</span>0x7f76f94a2000, <span class="token number">24576</span>, PROT_READ<span class="token operator">|</span>PROT_WRITE, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_DENYWRITE, <span class="token number">3</span>, 0x1e8000<span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f94a2000
mmap<span class="token punctuation">(</span>0x7f76f94a8000, <span class="token number">52400</span>, PROT_READ<span class="token operator">|</span>PROT_WRITE, MAP_PRIVATE<span class="token operator">|</span>MAP_FIXED<span class="token operator">|</span>MAP_ANONYMOUS, -1, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f94a8000
close<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>                                <span class="token operator">=</span> <span class="token number">0</span>
mmap<span class="token punctuation">(</span>NULL, <span class="token number">12288</span>, PROT_READ<span class="token operator">|</span>PROT_WRITE, MAP_PRIVATE<span class="token operator">|</span>MAP_ANONYMOUS, -1, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> 0x7f76f92b6000
arch_prctl<span class="token punctuation">(</span>ARCH_SET_FS, 0x7f76f92b6740<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
set_tid_address<span class="token punctuation">(</span>0x7f76f92b6a10<span class="token punctuation">)</span>         <span class="token operator">=</span> <span class="token number">64383</span>
set_robust_list<span class="token punctuation">(</span>0x7f76f92b6a20, <span class="token number">24</span><span class="token punctuation">)</span>     <span class="token operator">=</span> <span class="token number">0</span>
mprotect<span class="token punctuation">(</span>0x7f76f94a2000, <span class="token number">12288</span>, PROT_READ<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
mprotect<span class="token punctuation">(</span>0x403000, <span class="token number">4096</span>, PROT_READ<span class="token punctuation">)</span>     <span class="token operator">=</span> <span class="token number">0</span>
mprotect<span class="token punctuation">(</span>0x7f76f94e6000, <span class="token number">8192</span>, PROT_READ<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
prlimit64<span class="token punctuation">(</span><span class="token number">0</span>, RLIMIT_STACK, NULL, <span class="token punctuation">{<!-- --></span>rlim_cur<span class="token operator">=</span><span class="token number">8192</span>*1024, <span class="token assign-left variable">rlim_max</span><span class="token operator">=</span>RLIM64_INFINITY<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
newfstatat<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">""</span>, <span class="token punctuation">{<!-- --></span>st_mode<span class="token operator">=</span>S_IFCHR<span class="token operator">|</span>0620, <span class="token assign-left variable">st_rdev</span><span class="token operator">=</span>makedev<span class="token punctuation">(</span>0x88, 0x1<span class="token punctuation">)</span>, <span class="token punctuation">..</span>.<span class="token punctuation">}</span>, AT_EMPTY_PATH<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span>
getrandom<span class="token punctuation">(</span><span class="token string">"<span class="token entity" title="\x10">\x10</span><span class="token entity" title="\xe9">\xe9</span><span class="token entity" title="\x7d">\x7d</span><span class="token entity" title="\x23">\x23</span><span class="token entity" title="\x41">\x41</span><span class="token entity" title="\xbe">\xbe</span><span class="token entity" title="\xe9">\xe9</span><span class="token entity" title="\x34">\x34</span>"</span>, <span class="token number">8</span>, GRND_NONBLOCK<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">8</span>
brk<span class="token punctuation">(</span>NULL<span class="token punctuation">)</span>                               <span class="token operator">=</span> 0x555556d2e000
brk<span class="token punctuation">(</span>0x555556d4f000<span class="token punctuation">)</span>                     <span class="token operator">=</span> 0x555556d4f000
write<span class="token punctuation">(</span><span class="token number">1</span>, <span class="token string">"hello world<span class="token entity" title="\n">\n</span>"</span>, 12hello world
<span class="token punctuation">)</span>           <span class="token operator">=</span> <span class="token number">12</span>
exit_group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                           <span class="token operator">=</span> ?
+++ exited with <span class="token number">0</span> +++
<span class="token punctuation">[</span>maminjie@fedora hello<span class="token punctuation">]</span>$ 
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/927d852d19db968d8601ced786036b78/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何梳理陌生的代码模块</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/706b92022703de2901861241d45104ce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">K8s Kubectl基础命令的使用、滚动更新、以及回滚操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>