<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构-平衡二叉树示例 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据结构-平衡二叉树示例" />
<meta property="og:description" content="平衡二叉树示例 1 平衡二叉树简介2 平衡二叉树示例3 总结 1 平衡二叉树简介 平衡二叉树(Balanced Binary Tree 或 Height-Balanced Tree)又称AVL树。它或者是一棵空树，或者是具有下列性质的二叉树，它的左子树和右子树都是平衡二叉树，且左子树和右子树的深度之差的绝对值不超过1。若将二叉树上结点的平衡因子BF( Balance Factor)定义为该结点的左子树的深度减去它的右子树的深度，则平衡二叉树上所有结点的平衡因子只可能是-1，0和1。只要二叉树上有一个结点的平衡因子的绝对值大于1，则该二叉树就是不平衡的。
距离插入结点最近的，且平衡因子的绝对值大于1的结点为根的子树，我们称为最小不平衡子树。
2 平衡二叉树示例 我们希望由任何初始序列构成的二叉排序树都是AVL树。因为AVL树上任何结点的左右子树的深度之差都不超过1，则可以证明它的深度和 logn 是同数量级的（其中n为结点个数）。由此，它的平均查找长度也和logn同数量级。
平衡二叉树构建的基本思想就是在构建二叉排序树的过程中，每当插入一个结点时，先检查是否因插入而破坏了树的平衡性，若是，则找出最小不平衡子树。在保持二叉排序树特性的前提下，调整最小不平衡子树中各结点之间的连接关系，进行相应的旋转，使之成为新的平衡子树。如何使构成的二叉排序树成为平衡树呢？看一个具体例子，假设有一个数组关键字序列为（3，2，1，4，5，6，7，10，9，8），其中结点左上角的数字是平衡因子BF的值。
1、第一个关键字是“3”，直接构建为根结点，如图2-1的左图所示。
此时结点“3”的BF是0（左孩子0 - 右孩子0 = 0） 2、第二个关键字是“2”，关键字“2”比关键字“3”小，所以成为“3”的左孩子，如图2-1的右图所示。
此时结点“3”的BF是1（左孩子1 - 右孩子0 = 1） 此时结点“2”的BF是0（左孩子0 - 右孩子0 = 0） 图2-1 3、第三个关键字是“1”，关键字“1”比关键字“2”小，所以成为“2”的左孩子，此时关键字“3”的BF不在平衡因子的取值范围内，此时整棵树都成了最小不平衡子树，因此需要调整，因为关键字“3”的BF值为正，因此我们将整个树进行右旋（顺时针旋转），此时结点“2”成了根结点，结点“3”成了结点“2”的右孩子，此时三个结点的BF值均为0，如图2-2所示。
此时结点“3”的BF是2（左孩子2 - 右孩子0 = 2） 此时结点“2”的BF是1（左孩子1 - 右孩子0 = 1） 此时结点“1”的BF是0（左孩子0 - 右孩子0 = 0） 图2-2 4、第四个关键字是“4”，关键字“4”比关键字“3”大，所以成为“3”的右孩子，此时三个结点的BF值均在平衡因子的取值范围内，不用对树进行任何调整，如图2-3所示。 此时结点“2”的BF是-1（左孩子1 - 右孩子2 = -1） 此时结点“3”的BF是-1（左孩子0 - 右孩子1 = -1） 此时结点“1”的BF是0 （左孩子0 - 右孩子0 = 0） 此时结点“4”的BF是0 （左孩子0 - 右孩子0 = 0） 图2-3 5、第五个关键字是“5”，关键字“5”比关键字“4”大，所以成为“4”的右孩子，此时关键字“3”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树（3、4、5）进行旋转，因为关键字“3”的BF值为负，因此我们将对最小不平衡子树进行左旋（逆时针旋转），旋转后结点“3”成了结点“4”的左孩子，整个树又达到了平衡，如图2-4所示。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/883aaf6952e4c6e87b91a1992e44afcc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-20T17:31:37+08:00" />
<meta property="article:modified_time" content="2022-08-20T17:31:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构-平衡二叉树示例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>平衡二叉树示例</h4> 
 <ul><li><a href="#1__2" rel="nofollow">1 平衡二叉树简介</a></li><li><a href="#2__5" rel="nofollow">2 平衡二叉树示例</a></li><li><a href="#3__186" rel="nofollow">3 总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1__2"></a>1 平衡二叉树简介</h2> 
<p>  <strong>平衡二叉树</strong>(Balanced Binary Tree 或 Height-Balanced Tree)又称<strong>AVL</strong>树。它或者是一棵空树，或者是具有下列性质的二叉树，它的左子树和右子树都是平衡二叉树，且<strong>左子树和右子树的深度之差的绝对值不超过1</strong>。若将二叉树上结点的<strong>平衡因子BF</strong>( Balance Factor)定义为该结点的<strong>左子树的深度减去它的右子树的深度</strong>，则平衡二叉树上所有结点的<strong>平衡因子只可能是-1，0和1</strong>。只要二叉树上有一个结点的平衡因子的绝对值大于1，则该二叉树就是不平衡的。<br>   距离插入结点最近的，且平衡因子的绝对值大于1的结点为根的子树，我们称为<strong>最小不平衡子树</strong>。</p> 
<h2><a id="2__5"></a>2 平衡二叉树示例</h2> 
<p>  我们希望由任何初始序列构成的二叉排序树都是AVL树。因为AVL树上任何结点的左右子树的深度之差都不超过1，则可以证明它的深度和 logn 是同数量级的（其中n为结点个数）。由此，它的平均查找长度也和logn同数量级。<br>   平衡二叉树构建的基本思想就是在构建二叉排序树的过程中，每当插入一个结点时，先检查是否因插入而破坏了树的平衡性，若是，则找出最小不平衡子树。在保持二叉排序树特性的前提下，调整最小不平衡子树中各结点之间的连接关系，进行相应的旋转，使之成为新的平衡子树。如何使构成的二叉排序树成为平衡树呢？看一个具体例子，假设有一个数组关键字序列为（3，2，1，4，5，6，7，10，9，8），其中结点左上角的数字是平衡因子BF的值。</p> 
<p>  1、第一个关键字是“3”，直接构建为根结点，如图2-1的左图所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p>  2、第二个关键字是“2”，关键字“2”比关键字“3”小，所以成为“3”的左孩子，如图2-1的右图所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">1</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/57/48/ZW6kbN6x_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-1 
</center> 
<p>  3、第三个关键字是“1”，关键字“1”比关键字“2”小，所以成为“2”的左孩子，此时关键字“3”的BF不在平衡因子的取值范围内，此时整棵树都成了最小不平衡子树，因此需要调整，<strong>因为关键字“3”的BF值为正，因此我们将整个树进行右旋（顺时针旋转）</strong>，此时结点“2”成了根结点，结点“3”成了结点“2”的右孩子，此时三个结点的BF值均为0，如图2-2所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">2</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">2</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">1</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/ae/5c/4vLa8enI_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-2 
</center>   4、第四个关键字是“4”，关键字“4”比关键字“3”大，所以成为“3”的右孩子，此时三个结点的BF值均在平衡因子的取值范围内，不用对树进行任何调整，如图2-3所示。 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/75/7d/Aj86cNqH_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-3 
</center> 
<p>  5、第五个关键字是“5”，关键字“5”比关键字“4”大，所以成为“4”的右孩子，此时关键字“3”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树（3、4、5）进行旋转，<strong>因为关键字“3”的BF值为负，因此我们将对最小不平衡子树进行左旋（逆时针旋转）</strong>，旋转后结点“3”成了结点“4”的左孩子，整个树又达到了平衡，如图2-4所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/2a/43/0VkWzgYJ_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-4 
</center> 
<p>  6、第六个关键字是“6”，关键字“6”比关键字“5”大，所以成为“5”的右孩子，此时关键字“2”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树进行旋转，<strong>因为关键字“2”的BF值为负，因此我们将对最小不平衡子树进行左旋（逆时针旋转）</strong>，旋转后结点“4”成了根结点，结点“3”成了结点“2”的右孩子，整个树又达到了平衡，如图2-5所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/a8/23/WD2GriLv_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-5 
</center> 
<p>  7、第七个关键字是“7”，关键字“7”比关键字“6”大，所以成为“6”的右孩子，此时关键字“5”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树（5、6、7）进行旋转，<strong>因为关键字“5”的BF值为负，因此我们将对最小不平衡子树进行左旋（逆时针旋转）</strong>，旋转后结点“5”成了结点“6”的左孩子，整个树又达到了平衡，如图2-6所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/be/94/u51raytq_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-6 
</center> 
<p>  8、第八个关键字是“10”，关键字“10”比关键字“7”大，所以成为“7”的右孩子，此时整个树是平衡状态，不需要旋转调整，如图2-7所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">10</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/1e/f0/uLITxwa2_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-7 
</center> 
<p>  9、第九个关键字是“9”，关键字“9”比关键字“10”小，所以成为“10”的左孩子，此时关键字“7”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树（7、10、9）进行旋转，<strong>但是若简单因为关键字“7”的BF值为负，因此我们将对最小不平衡子树进行左旋（逆时针旋转）后使得结点“9”成了结点“10”的右孩子，这是不符合二叉排序树特性的，此时不能简单的左旋。</strong><br>   <strong>根本原因在于结点“7”的BF是-2，而结点“10”的BF是1，也就是说他们俩一正一负，符号并不统一，而前面几次旋转，无论是左旋还是右旋，最小不平衡子树的根结点与它的子结点符号都是相同的，这就是不能直接旋转的原因。</strong><br>   <strong>既然是符号不统一，那就先旋转到符号统一后再说，于是先对结点“9”和结点“10”进行右旋，使得结点“10”成为结点“9”的右子树，此时结点“9”的BF为-1，就与结点“7”的BF值符号统一了</strong>，如图2-8所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">4</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">10</span>”的<span class="token constant">BF</span>是<span class="token number">1</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">1</span>）
    此时结点“<span class="token number">9</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/2f/5a/sEM3aYUc_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-8 
</center> 
<p>  <strong>再以结点“7”为最小不平衡子树进行左旋</strong>，旋转后结点“7”成了结点“9”的左孩子，整个树又达到了平衡，如图2-9所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">4</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">10</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">9</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/ec/0c/f7uOsAxV_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-9 
</center> 
<p>  10、第十个关键字是“8”，关键字“8”比关键字“7”大，所以成为“7”的右孩子，此时关键字“6”的BF不在平衡因子的取值范围内，此时要对最小不平衡子树（7、8、9、10）进行旋转，<strong>此时结点“6”的BF是-2，而结点“9”的BF是1，也就是说他们俩一正一负，符号并不统一，同上还是先旋转到符号统一后再说，于是先对最小不平衡子树（7、8、9、10）进行右旋，使得结点“9”成为结点“7”的子树，结点“8”成为结点“9”的左孩子，此时结点“7”的BF为-2，就与结点“6”的BF值符号统一了</strong>，如图2-10所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">4</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">1</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>）
    此时结点“<span class="token number">10</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">9</span>”的<span class="token constant">BF</span>是<span class="token number">1</span> （左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>）
    此时结点“<span class="token number">8</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/90/94/lBMnvRxx_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-10 
</center> 
<p>  <strong>再以结点“7”为最小不平衡子树进行左旋</strong>，旋转后结点“7”成了根结点，结点“6”成了结点“7”的左孩子，整个树又达到了平衡，如图2-11所示。</p> 
<pre><code class="prism language-javascript">    此时结点“<span class="token number">3</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">2</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">1</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">4</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">2</span> <span class="token operator">-</span> 右孩子<span class="token number">4</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">5</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">6</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">3</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">7</span>”的<span class="token constant">BF</span>是<span class="token operator">-</span><span class="token number">2</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">2</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>）
    此时结点“<span class="token number">10</span>”的<span class="token constant">BF</span>是<span class="token number">0</span>（左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">9</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">1</span> <span class="token operator">-</span> 右孩子<span class="token number">1</span> <span class="token operator">=</span> <span class="token number">0</span>）
    此时结点“<span class="token number">8</span>”的<span class="token constant">BF</span>是<span class="token number">0</span> （左孩子<span class="token number">0</span> <span class="token operator">-</span> 右孩子<span class="token number">0</span> <span class="token operator">=</span> <span class="token number">0</span>）
</code></pre> 
<p><img src="https://images2.imgbox.com/a7/88/zblZ6Ulo_o.png" alt="在这里插入图片描述"></p> 
<center>
  图2-11 
</center> 
<h2><a id="3__186"></a>3 总结</h2> 
<p>  通过上述这个例子会发现，当最小不平衡子树根结点的平衡因子<strong>BF大于1时，就右旋，小于-1时，就左旋</strong>，插入结点后，<strong>最小不平衡子树的BF与它的子树的BF符号相反时，就需要对结点先进行一次旋转以使得符号相同后，再反向旋转一次才能够完成平衡操作</strong>，其中先进行一次旋转是以子树的正负决定的旋转方向，例如结点“9”的操作，先进行右旋是因为结点“10”的BF是“1”，再例如结点“8”的操作，先进行右旋是因为结点“9”的BF是“1”。</p> 
<p>  ------以上过程参考《大话数据结构》中“平衡二叉树”内容。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e839acaa75288a6e60be85ad2eed501/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java 获取 URL 中的域名</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/024bee576964793ed59ca3ad2f189d71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java 多线程 习题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>