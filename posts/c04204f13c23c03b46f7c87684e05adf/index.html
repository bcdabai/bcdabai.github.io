<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>记录OpenCV和ROS工作空间创建时出现的问题及解决方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="记录OpenCV和ROS工作空间创建时出现的问题及解决方法" />
<meta property="og:description" content="1 Variable &#39;exec_prefix&#39; not defined in &#39;/usr/local/lib/pkgconfig/opencv.pc&#39; 经过网上详细查询资料后，是缺失了opencv.pc这个配置信息文件或者文件里面内容有问题，故解决方法就是添加这个文件然后将其导入到环境变量中
1.1 创建opencv.pc文件
sudo touch opencv.pc
因为你没有权限修改，首先修改文件的权限
更改文件的权限
进入该同目录下的终端：
sudo chmod 777 opencv.pc
把以下内容复制到opencv.pc中即可
prefix=/usr/local
exec_prefix=${prefix}
includedir=${prefix}/include
libdir=${exec_prefix}/lib
Name: opencv
Description: The opencv library
Version:4.1.1
#这个4.1.1是OpenCV版本需要改成你自己的版本
Cflags: -I${includedir}/opencv4
Libs: -L${libdir} -lopencv_shape -lopencv_stitching -lopencv_objdetect -lopencv_superres -lopencv_videostab -lopencv_calib3d -lopencv_features2d -lopencv_highgui -lopencv_videoio -lopencv_imgcodecs -lopencv_video -lopencv_photo -lopencv_ml -lopencv_imgproc -lopencv_flann -lopencv_core
~ 1.2 保存后退出，然后将文件导入到环境变量：（进入环境变量方式：gedit ~/.bashrc）
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig
然后在source一下：
source ~/.bashrc
最后输入以下就可以看到OpenCV的版本了
pkg-config --modversion opencv
2 记录catkin_make时遇到的问题 at /opt/ros/noetic/share/catkin/cmake/catkinConfig." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c04204f13c23c03b46f7c87684e05adf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-29T13:49:50+08:00" />
<meta property="article:modified_time" content="2023-03-29T13:49:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">记录OpenCV和ROS工作空间创建时出现的问题及解决方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="">1 Variable 'exec_prefix' not defined in '/usr/local/lib/pkgconfig/opencv.pc'</h3> 
 <p style="">经过网上详细查询资料后，是缺失了opencv.pc这个配置信息文件或者文件里面内容有问题，故解决方法就是添加这个文件然后将其导入到环境变量中</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">1.1 创建opencv.pc文件</span></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">sudo touch opencv.pc</span></p> 
 <p style="text-align:null;">因为你没有权限修改，首先修改文件的权限</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">更改文件的权限</span></p> 
 <p style="text-align:null;">进入该同目录下的终端：</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">sudo chmod 777 opencv.pc</span></p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">把以下内容复制到opencv.pc中即可</span></p> 
 <p style="">prefix=/usr/local</p> 
 <p style="">exec_prefix=${prefix}</p> 
 <p style="">includedir=${prefix}/include</p> 
 <p style="">libdir=${exec_prefix}/lib</p> 
 <p style=""></p> 
 <p style="">Name: opencv</p> 
 <p style="">Description: The opencv library</p> 
 <p style="">Version:4.1.1</p> 
 <p style="">#这个4.1.1是OpenCV版本需要改成你自己的版本</p> 
 <p style="">Cflags: -I${includedir}/opencv4</p> 
 <p style="">Libs: -L${libdir} -lopencv_shape -lopencv_stitching -lopencv_objdetect -lopencv_superres -lopencv_videostab -lopencv_calib3d -lopencv_features2d -lopencv_highgui -lopencv_videoio -lopencv_imgcodecs -lopencv_video -lopencv_photo -lopencv_ml -lopencv_imgproc -lopencv_flann -lopencv_core</p> 
 <p style="">~ </p> 
 <p style="">1.2 保存后退出，然后将文件导入到环境变量：（进入环境变量方式：gedit ~/.bashrc）</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:786px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.8117%;height:0;"> 
    <img src="https://images2.imgbox.com/72/39/MCA94yCp_o.png" style="margin-left:;display:block;width:786px;margin-top:-67.8117%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig</p> 
 <p style="">然后在source一下：</p> 
 <p style="">source ~/.bashrc</p> 
 <p style="">最后输入以下就可以看到OpenCV的版本了</p> 
 <p style="">pkg-config --modversion opencv</p> 
 <p style=""></p> 
 <h3 style="">2 记录catkin_make时遇到的问题</h3> 
 <p style="">at /opt/ros/noetic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):</p> 
 <p style=""> Could not find a package configuration file provided by "OpenCV" with any</p> 
 <p style=""> of the following names:</p> 
 <p style=""></p> 
 <p style=""> OpenCVConfig.cmake</p> 
 <p style=""> opencv-config.cmake</p> 
 <p style="">Add the installation prefix of "OpenCV" to CMAKE_PREFIX_PATH or set</p> 
 <p style=""> "OpenCV_DIR" to a directory containing one of the above files. If "OpenCV"</p> 
 <p style=""> provides a separate development package or SDK, be sure it has been</p> 
 <p style=""> installed.</p> 
 <p style=""></p> 
 <h6 style="text-align:left;">Invoking "make cmake_check_build_system" failed</h6> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:786px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:76.97201%;height:0;"> 
    <img src="https://images2.imgbox.com/12/87/FuqZs24h_o.png" style="margin-left:;display:block;width:786px;margin-top:-76.97201%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">解决方法：</p> 
 <p style=""></p> 
 <h5 style="">记录catkin_make时遇到的问题</h5> 
 <p style="">E: 无法定位软件包 ros-kinetic-driver-base</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:786px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.8117%;height:0;"> 
    <img src="https://images2.imgbox.com/cf/09/WsXFGBE3_o.png" style="margin-left:;display:block;width:786px;margin-top:-67.8117%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">下载控件遇到的问题，要安装你自己版本控件：</p> 
 <p style="">我的系统是Ubuntu20.04需要安装notedic版本控件：</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-driver-base</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-gazebo-ros-control</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-effort-controllers</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-joint-state-controller</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-ackermann-msgs</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-global-planner</p> 
 <p style="text-align:left;">sudo apt-get install ros-noetic-teb-local-planner</p> 
 <h5 style="text-align:left;">3 记录catkin_make时遇到的问题</h5> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:786px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.8117%;height:0;"> 
    <img src="https://images2.imgbox.com/17/ae/fTJ6TIiN_o.png" style="margin-left:;display:block;width:786px;margin-top:-67.8117%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">Invoking "cmake" failed</p> 
 <p style="">解决方法：</p> 
 <p style="">pip install -U rosdep rosinstall_generator wstool rosinstall six vcstools -i <a class="kdocs-link" style="color:#0A6CFF;" href="https://pypi.douban.com/simple" rel="nofollow noopener noreferrer" target="_blank">https://pypi.douban.com/simple</a></p> 
 <p style="">或catkin_make -DPYTHON_EXECUTABLE=/usr/bin/python3</p> 
 <p style="">参考文章链接：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/qq_44920947/article/details/123300367" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_44920947/article/details/123300367</a></p> 
 <p style="">没有成功尝试别的方法：</p> 
 <p style="">本文链接：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/qq_39437730/article/details/118272390" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_39437730/article/details/118272390</a></p> 
 <p style="">没有解决换一个方法：</p> 
 <p style=""></p> 
 <h3 style="">总结了常见问题</h3> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">ubuntu 20.04 安装 ROS noetic，catkin_make报错python版本不一致，处理办法</span></h6> 
 <p style="text-align:left;">catkin_make -DPYTHON_EXECUTABLE=/usr/bin/python3</p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">cmake找不到opencv解决</span></h6> 
 <p style="text-align:left;">本文链接：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/jacke121/article/details/112827563" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/jacke121/article/details/112827563</a></p> 
 <p style="text-align:left;"> </p> 
 <p style="text-align:left;">source ~/catkin_ws/devel/setup.bash</p> 
 <p style="text-align:right;"><span class="kdocs-fontSize" style="font-size:9pt;">· </span>1</p> 
 <p style="text-align:left;">export ROS_PACKAGE_PATH=${ROS_PACKAGE_PATH}:~/catkin_ws/</p> 
 <p style="text-align:left;"> </p> 
 <h6 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">自建引用包报错：CMake Error at /opt/ros/melodic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):</span></h6> 
 <p style="text-align:left;">解决方法：</p> 
 <p style="text-align:left;">1.将opencv安装目录添加到CMAKE_PREFIX_PATH</p> 
 <p style="text-align:left;">例如，按照错误信息指示，在CMakeLists.txt中加入一行list，路径要改成自己的opencv安装路径。</p> 
 <p style="text-align:left;">list(APPEND CMAKE_PREFIX_PATH "/home/xiaoming/opencv4.5.5/")</p> 
 <p style="text-align:left;">find_package(OpenCV REQUIRED)</p> 
 <p style="text-align:left;"> </p> 
 <h6 style="text-align:null;">4 运行catkin_make -DPYTHON_EXECUTABLE=/usr/bin/python3时</h6> 
 <p style="text-align:null;">出现：The specified source space "/home/sxj/src" does not exist</p> 
 <p style="text-align:null;">回到catkin_ws工作空间下进行编译</p> 
 <p style="text-align:null;">或者可能曾经误在home下catkin init过,系统误认为home是工作空间</p> 
 <p style="text-align:null;">home下ctrl+h显示隐藏文件</p> 
 <p style="text-align:null;">删除文件夹.catkin_tools</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:null;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:786px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:67.8117%;height:0;"> 
    <img src="https://images2.imgbox.com/28/ae/KeixJ9NC_o.png" style="margin-left:;display:block;width:786px;margin-top:-67.8117%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">参考链接：<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/Cwenge/article/details/90545262" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Cwenge/article/details/90545262</a></p> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a5648ec1ffc7b3a9a8630cc08ede4ede/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">@Import注解使用详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/31db8382604afd4c28733a1c16c114d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">umeditor如何能实现直接粘贴把图片上传到服务器中</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>