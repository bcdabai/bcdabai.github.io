<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C#，史密斯数（Smith Number）的计算方法与源代码 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C#，史密斯数（Smith Number）的计算方法与源代码" />
<meta property="og:description" content="一、关于史密斯数的传说 1、关于理海大学Lehigh University 理海大学（Lehigh University），位于宾夕法尼亚州（Pennsylvania）伯利恒（Bethlehem），由富有爱国情怀与民族精神的实业家艾萨·帕克（Asa Packer）创校于1865年，是美国一所历史悠久的私立研究型院校。
2、数学家Albert Wilansky的姐夫H.Smith 1982年，Lehigh大学的数学家Albert Wilansky在查看电话簿的时候，突然发现他的姐夫H.Smith的电话号码有一个很特别的性质：
该数字的所有位数之和，等于该数所有质因子的位数之和！
4937775 = 3 * 5 * 5* 65837
4937775的位数和为：
4&#43;9&#43;3&#43;7&#43;7&#43;7&#43;5 = 42
而该数所有质因子的位数之和为：
3&#43;5&#43;5&#43;(6&#43;5&#43;8&#43;3&#43;7) = 42
于是Albert Wilansky将有这种性质的数叫做Smith number。
很显然，质数都有这种性质，所以他把质数排除在外。
运行效果：
二、计算方法 输入一个数，求出其质因子的位数之和，然后判断是否和原数的位数之和相等，质数排除在外，因为任何一个数（大于2的数）除了质数都可以写成一系列的从小的大的质数的乘的形式，所以对于每一个数都做这样的计算，从i(i&gt;=2)开始遍历，如果这个数对i取摸等于0，那么将这个数除以i，直到取摸i不等于0，纪录i的个数，然后在计算一个i的位数之和，总的位数和为（个数*一个的位数之和），然后i&#43;&#43;，i的上界为sqrt(n&#43;0.0)，当然最后还要做一个判断，这个数是否是质数，这可以在循环中加一个标记来判断是否有因子；如果是质数，最后n是否是1，如果不是加上这个数的位数之和，否则跳过。
三、源代码 其中涉及到 质数的 Sundaram筛选法，也叫“森德拉姆素数筛法”。
using System; using System.Collections; using System.Collections.Generic; namespace Legalsoft.Truffer.Algorithm { public static class SmithNumber { /// &lt;summary&gt; /// 最大数 /// &lt;/summary&gt; public static int MAX { get; set; } = Int32.MaxValue - 1024; /// &lt;summary&gt; /// 质数数组 /// &lt;/summary&gt; public static List&lt;int&gt; primes { get; set; } = new List&lt;int&gt;(); /// &lt;summary&gt; /// 质数序列计算的 Sundaram 算法 /// Sundaram筛选法，也叫“森德拉姆素数筛法” /// &lt;/summary&gt; public static void SieveSundaram() { bool[] marked = new bool[MAX]; for (int i = 1; i &lt;= (Math." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/1629ab7e313fe2a6d6f9daf7e489aa87/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-14T09:51:09+08:00" />
<meta property="article:modified_time" content="2024-01-14T09:51:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C#，史密斯数（Smith Number）的计算方法与源代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><img alt="" height="620" src="https://images2.imgbox.com/db/4e/SJGSF8ra_o.png" width="944"></h2> 
<p></p> 
<h2>一、关于史密斯数的传说</h2> 
<p></p> 
<h3>1、关于理海大学Lehigh University</h3> 
<p>理海大学（Lehigh University），位于宾夕法尼亚州（Pennsylvania）伯利恒（Bethlehem），由富有爱国情怀与民族精神的实业家艾萨·帕克（<strong><span style="color:#4da8ee;">Asa Packer</span></strong>）创校于1865年，是美国一所历史悠久的私立研究型院校。</p> 
<h3>2、数学家Albert Wilansky的姐夫H.Smith</h3> 
<p>1982年，Lehigh大学的数学家<strong><span style="color:#4da8ee;">Albert Wilansky</span></strong>在查看电话簿的时候，突然发现他的姐夫H.Smith的电话号码有一个很特别的性质：</p> 
<p><strong>该数字的所有位数之和，等于该数所有质因子的位数之和！</strong></p> 
<p>4937775 = 3 * 5 * 5* 65837</p> 
<p>4937775的位数和为：</p> 
<p>4+9+3+7+7+7+5 = 42</p> 
<p>而该数所有质因子的位数之和为：</p> 
<p>3+5+5+(6+5+8+3+7) = 42</p> 
<p>于是Albert Wilansky将有这种性质的数叫做<strong>Smith number</strong>。</p> 
<p>很显然，质数都有这种性质，所以他把质数排除在外。</p> 
<p>运行效果：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/0b/10/JiZqUeoy_o.gif"></p> 
<p style="text-align:center;"></p> 
<p></p> 
<h2>二、计算方法</h2> 
<p>输入一个数，求出其质因子的位数之和，然后判断是否和原数的位数之和相等，质数排除在外，因为任何一个数（大于2的数）除了质数都可以写成一系列的从小的大的质数的乘的形式，所以对于每一个数都做这样的计算，从i(i&gt;=2)开始遍历，如果这个数对i取摸等于0，那么将这个数除以i，直到取摸i不等于0，纪录i的个数，然后在计算一个i的位数之和，总的位数和为（个数*一个的位数之和），然后i++，i的上界为sqrt(n+0.0)，当然最后还要做一个判断，这个数是否是质数，这可以在循环中加一个标记来判断是否有因子；如果是质数，最后n是否是1，如果不是加上这个数的位数之和，否则跳过。</p> 
<p></p> 
<h2>三、源代码</h2> 
<p>其中涉及到 质数的 Sundaram筛选法，也叫“森德拉姆素数筛法”。</p> 
<pre><code class="language-cs">using System;
using System.Collections;
using System.Collections.Generic;

namespace Legalsoft.Truffer.Algorithm
{
	public static class SmithNumber
	{
		/// &lt;summary&gt;
		/// 最大数
		/// &lt;/summary&gt;
		public static int MAX { get; set; } = Int32.MaxValue - 1024;
		/// &lt;summary&gt;
		/// 质数数组
		/// &lt;/summary&gt;
		public static List&lt;int&gt; primes { get; set; } = new List&lt;int&gt;();

		/// &lt;summary&gt;
		/// 质数序列计算的 Sundaram 算法
		/// Sundaram筛选法，也叫“森德拉姆素数筛法”
		/// &lt;/summary&gt;
		public static void SieveSundaram()
		{
			bool[] marked = new bool[MAX];

			for (int i = 1; i &lt;= (Math.Sqrt(MAX) - 1) / 2; i++)
			{
				for (int j = (i * (i + 1)) &lt;&lt; 1; j &lt;= MAX / 2; j = j + 2 * i + 1)
				{
					marked[j] = true;
				}
			}

			primes.Add(2);

			for (int i = 1; i &lt;= MAX / 2; i++)
			{
				if (marked[i] == false)
				{
					primes.Add(2 * i + 1);
				}
			}
		}

		/// &lt;summary&gt;
		/// 判断 n 是不是 史密斯数
		/// &lt;/summary&gt;
		/// &lt;param name="n"&gt;&lt;/param&gt;
		/// &lt;returns&gt;&lt;/returns&gt;
		public static bool IsSmith(int n)
		{
			int original_no = n;

			int pDigitSum = 0;
			for (int i = 0; (int)primes[i] &lt;= n / 2; i++)
			{
				while (n % (int)primes[i] == 0)
				{
					int p = (int)primes[i];
					n = n / p;
					while (p &gt; 0)
					{
						pDigitSum += (p % 10);
						p = p / 10;
					}
				}
			}

			if (n != 1 &amp;&amp; n != original_no)
			{
				while (n &gt; 0)
				{
					pDigitSum = pDigitSum + n % 10;
					n = n / 10;
				}
			}

			int sumDigits = 0;
			while (original_no &gt; 0)
			{
				sumDigits = sumDigits + original_no % 10;
				original_no = original_no / 10;
			}

			return (pDigitSum == sumDigits);
		}
	}
}
</code></pre> 
<p></p> 
<p><br> ---------------------------------------<br> POWER BY TRUFFER.CN<br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8bc10e67ebeaac2e08d798110d053d57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C Primer Plus（第六版）11.13 编程练习 第11题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f52360cf22d13af2254b01a47fd608e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS数组函数 reduce() 的用法—包含基础、进阶、高阶用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>