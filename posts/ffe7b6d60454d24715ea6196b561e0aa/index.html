<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mybatisæ‰¹é‡æ’å…¥å¤§é‡æ•°æ®æœ€ä¼˜æ–¹å¼ - ç¼–ç¨‹å¤§ç™½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mybatisæ‰¹é‡æ’å…¥å¤§é‡æ•°æ®æœ€ä¼˜æ–¹å¼" />
<meta property="og:description" content="Mybatisæ‰¹é‡æ’å…¥çš„æ–¹å¼æœ‰ä¸‰ç§ 1. æ™®é€šæ’å…¥
2. foreach ä¼˜åŒ–æ’å…¥
3. ExecutorType.BATCHæ’å…¥
ä¸‹é¢å¯¹è¿™ä¸‰ç§åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒ: 1.æ™®é€šæ’å…¥
é»˜è®¤çš„æ’å…¥æ–¹å¼æ˜¯éå†insertè¯­å¥ï¼Œå•æ¡æ‰§è¡Œï¼Œæ•ˆç‡è‚¯å®šä½ä¸‹ï¼Œå¦‚æœæˆå †æ’å…¥ï¼Œæ›´æ˜¯æ€§èƒ½æœ‰é—®é¢˜ã€‚
INSERT INTO `table1` (`field1`, `field2`) VALUES (&#34;data1&#34;, &#34;data2&#34;); INSERT INTO `table1` (`field1`, `field2`) VALUES (&#34;data1&#34;, &#34;data2&#34;); INSERT INTO `table1` (`field1`, `field2`) VALUES (&#34;data1&#34;, &#34;data2&#34;); INSERT INTO `table1` (`field1`, `field2`) VALUES (&#34;data1&#34;, &#34;data2&#34;); INSERT INTO `table1` (`field1`, `field2`) VALUES (&#34;data1&#34;, &#34;data2&#34;); sql logå¦‚ä¸‹:
2022-08-30 05:26:02 [1125b8ff-dfa3-478e-bbee-29173babe5a7] [http-nio-3005-exec-2] [com.btn.common.config.MybatisSqlLoggerInterceptor]-[INFO] æ‹¦æˆªçš„sql ==&gt;: com.btn.mapper.patient.PatientLabelDetailMapper.insert:INSERT INTO t_patient_label_detail ( patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time ) VALUES ( 337, 178, 251, &#39;åˆ˜æ¢…å¥½&#39;, 2, 29, &#39;178&#39;, ) 2022-08-30 05:26:02 [1125b8ff-dfa3-478e-bbee-29173babe5a7] [http-nio-3005-exec-2] [com." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ffe7b6d60454d24715ea6196b561e0aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-30T16:45:53+08:00" />
<meta property="article:modified_time" content="2022-08-30T16:45:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å¤§ç™½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å¤§ç™½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mybatisæ‰¹é‡æ’å…¥å¤§é‡æ•°æ®æœ€ä¼˜æ–¹å¼</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Mybatis_0"></a>Mybatisæ‰¹é‡æ’å…¥çš„æ–¹å¼æœ‰ä¸‰ç§</h3> 
<p><strong>1. æ™®é€šæ’å…¥</strong><br> <strong>2. foreach ä¼˜åŒ–æ’å…¥</strong><br> <strong>3. ExecutorType.BATCHæ’å…¥</strong></p> 
<h3><a id="_6"></a>ä¸‹é¢å¯¹è¿™ä¸‰ç§åˆ†åˆ«è¿›è¡Œæ¯”è¾ƒ:</h3> 
<p><strong>1.æ™®é€šæ’å…¥</strong></p> 
<p>é»˜è®¤çš„æ’å…¥æ–¹å¼æ˜¯éå†insertè¯­å¥ï¼Œå•æ¡æ‰§è¡Œï¼Œæ•ˆç‡è‚¯å®šä½ä¸‹ï¼Œå¦‚æœæˆå †æ’å…¥ï¼Œæ›´æ˜¯æ€§èƒ½æœ‰é—®é¢˜ã€‚</p> 
<pre><code class="prism language-bash">INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>sql logå¦‚ä¸‹:</p> 
<pre><code class="prism language-bash"><span class="token number">2022</span>-08-30 05:26:02 <span class="token punctuation">[</span>1125b8ff-dfa3-478e-bbee-29173babe5a7<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-2<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.common.config.MybatisSqlLoggerInterceptor<span class="token punctuation">]</span>-<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> æ‹¦æˆªçš„sql <span class="token operator">==</span><span class="token operator">&gt;</span>: com.btn.mapper.patient.PatientLabelDetailMapper.insert:INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> <span class="token number">337</span>, <span class="token number">178</span>, <span class="token number">251</span>, <span class="token string">'åˆ˜æ¢…å¥½'</span>, <span class="token number">2</span>, <span class="token number">29</span>, <span class="token string">'178'</span>,  <span class="token punctuation">)</span>
<span class="token number">2022</span>-08-30 05:26:02 <span class="token punctuation">[</span>1125b8ff-dfa3-478e-bbee-29173babe5a7<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-2<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.mapper.patient.PatientLabelDetailMapper.insert<span class="token punctuation">]</span>-<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> ?, ?, ?, ?, ?, ?, ?, ? <span class="token punctuation">)</span> 

<span class="token number">2022</span>-08-30 05:34:40 <span class="token punctuation">[</span>215b2b99-b0c9-41f6-93b2-545c8d6ff0fb<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-2<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.common.config.MybatisSqlLoggerInterceptor<span class="token punctuation">]</span>-<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> æ‹¦æˆªçš„sql <span class="token operator">==</span><span class="token operator">&gt;</span>: com.btn.mapper.patient.PatientLabelDetailMapper.insert:INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> <span class="token number">256</span>, <span class="token number">178</span>, <span class="token number">253</span>, <span class="token string">'ğŸ‰å•Šï½åƒè¥¿ç“œ'</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token string">'178'</span>,  <span class="token punctuation">)</span>
<span class="token number">2022</span>-08-30 05:34:40 <span class="token punctuation">[</span>215b2b99-b0c9-41f6-93b2-545c8d6ff0fb<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-2<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.mapper.patient.PatientLabelDetailMapper.insert<span class="token punctuation">]</span>-<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> ?, ?, ?, ?, ?, ?, ?, ? <span class="token punctuation">)</span> 
</code></pre> 
<p>å¯ä»¥çœ‹åˆ°æ¯ä¸ªè¯­å¥çš„æ‰§è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ï¼Œå•æ¡æäº¤sql,æ€§èƒ½ä½ä¸‹.</p> 
<p><strong>2.foreach ä¼˜åŒ–æ’å…¥</strong></p> 
<p>å¦‚æœè¦ä¼˜åŒ–æ’å…¥é€Ÿåº¦æ—¶ï¼Œå¯ä»¥å°†è®¸å¤šå°å‹æ“ä½œç»„åˆåˆ°ä¸€ä¸ªå¤§å‹æ“ä½œä¸­ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™æ ·å¯ä»¥åœ¨å•ä¸ªè¿æ¥ä¸­ä¸€æ¬¡æ€§å‘é€è®¸å¤šæ–°è¡Œçš„æ•°æ®ï¼Œå¹¶å°†æ‰€æœ‰ç´¢å¼•æ›´æ–°å’Œä¸€è‡´æ€§æ£€æŸ¥å»¶è¿Ÿåˆ°æœ€åæ‰è¿›è¡Œã€‚</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>insert <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"batchInsert"</span> <span class="token assign-left variable">parameterType</span><span class="token operator">=</span><span class="token string">"java.util.List"</span><span class="token operator">&gt;</span>
    insert into table1 <span class="token punctuation">(</span>field1, field2<span class="token punctuation">)</span> values
    <span class="token operator">&lt;</span>foreach <span class="token assign-left variable">collection</span><span class="token operator">=</span><span class="token string">"list"</span> <span class="token assign-left variable">item</span><span class="token operator">=</span><span class="token string">"t"</span> <span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token string">"index"</span> <span class="token assign-left variable">separator</span><span class="token operator">=</span><span class="token string">","</span><span class="token operator">&gt;</span> 
        <span class="token punctuation">(</span><span class="token comment">#{t.field1}, #{t.field2})</span>
    <span class="token operator">&lt;</span>/foreach<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/insert<span class="token operator">&gt;</span>
</code></pre> 
<p>ç¿»è¯‘æˆsqlè¯­å¥ä¹Ÿå°±æ˜¯</p> 
<pre><code class="prism language-bash">INSERT INTO <span class="token variable"><span class="token variable">`</span>table1<span class="token variable">`</span></span> <span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>field1<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span>field2<span class="token variable">`</span></span><span class="token punctuation">)</span> 
VALUES <span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span>,
<span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span>,
<span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span>,
<span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span>,
<span class="token punctuation">(</span><span class="token string">"data1"</span>, <span class="token string">"data2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>ä¹çœ‹ä¸Šå»è¿™ä¸ªforeachæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ç»è¿‡é¡¹ç›®å®è·µå‘ç°ï¼Œå½“è¡¨çš„åˆ—æ•°è¾ƒå¤šï¼ˆ20+ï¼‰ï¼Œä»¥åŠä¸€æ¬¡æ€§æ’å…¥çš„è¡Œæ•°è¾ƒå¤šï¼ˆ5000+ï¼‰æ—¶ï¼Œæ•´ä¸ªæ’å…¥çš„è€—æ—¶ååˆ†æ¼«é•¿ï¼Œè¾¾åˆ°äº†14åˆ†é’Ÿï¼Œè¿™æ˜¯ä¸èƒ½å¿çš„ã€‚åœ¨èµ„æ–™ä¸­ä¹Ÿæåˆ°äº†ä¸€å¥è¯ï¼š</p> 
<blockquote> 
 <p>Of course donâ€™t combine ALL of them, if the amount is HUGE. Say you<br> have 1000 rows you need to insert, then donâ€™t do it one at a time. You<br> shouldnâ€™t equally try to have all 1000 rows in a single query. Instead<br> break it into smaller sizes.</p> 
</blockquote> 
<p>å®ƒå¼ºè°ƒï¼Œå½“æ’å…¥æ•°é‡å¾ˆå¤šæ—¶ï¼Œä¸èƒ½ä¸€æ¬¡æ€§å…¨æ”¾åœ¨ä¸€æ¡è¯­å¥é‡Œã€‚å¯æ˜¯ä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨åŒä¸€æ¡è¯­å¥é‡Œå‘¢ï¼Ÿè¿™æ¡è¯­å¥ä¸ºä»€ä¹ˆä¼šè€—æ—¶è¿™ä¹ˆä¹…å‘¢ï¼Ÿæˆ‘æŸ¥é˜…äº†èµ„æ–™å‘ç°ï¼š</p> 
<blockquote> 
 <p>Insert inside Mybatis foreach is not batch, this is a single (could<br> become giant) SQL statement and that brings drawbacks:</p> 
 <p>some database such as Oracle here does not support.</p> 
 <p>in relevant cases: there will be a large number of records to insert<br> and the database configured limit (by default around 2000 parameters<br> per statement) will be hit, and eventually possibly DB stack error if<br> the statement itself become too large.</p> 
 <p>Iteration over the collection must not be done in the mybatis XML.<br> Just execute a simple Insertstatement in a Java Foreach loop. The most<br> important thing is the session Executor type.</p> 
 <p>Unlike default ExecutorType.SIMPLE, the statement will be prepared<br> once and executed for each record to insert.</p> 
</blockquote> 
<p>ä»èµ„æ–™ä¸­å¯çŸ¥ï¼Œé»˜è®¤æ‰§è¡Œå™¨ç±»å‹ä¸ºSimpleï¼Œä¼šä¸ºæ¯ä¸ªè¯­å¥åˆ›å»ºä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªPreparedStatementå¯¹è±¡ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œä¼šä¸åœåœ°ä½¿ç”¨æ‰¹é‡æ’å…¥è¿™ä¸ªæ–¹æ³•ï¼Œè€Œå› ä¸ºMyBatiså¯¹äºå«æœ‰çš„è¯­å¥ï¼Œæ— æ³•é‡‡ç”¨ç¼“å­˜ï¼Œé‚£ä¹ˆåœ¨æ¯æ¬¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šé‡æ–°è§£æsqlè¯­å¥ã€‚</p> 
<blockquote> 
 <p>Internally, it still generates the same single insert statement with<br> many placeholders as the JDBC code above. MyBatis has an ability to<br> cache PreparedStatement, but this statement cannot be cached because<br> it contains element and the statement varies depending on<br> the parameters. As a result, MyBatis has to 1) evaluate the foreach<br> part and 2) parse the statement string to build parameter mapping [1]<br> on every execution of this statement.</p> 
 <p>And these steps are relatively costly process when the statement<br> string is big and contains many placeholders.</p> 
 <p>[1] simply put, it is a mapping between placeholders and the<br> parameters.</p> 
</blockquote> 
<p>ä»ä¸Šè¿°èµ„æ–™å¯çŸ¥ï¼Œè€—æ—¶å°±è€—åœ¨ï¼Œç”±äºæˆ‘foreachåæœ‰5000+ä¸ªvaluesï¼Œæ‰€ä»¥è¿™ä¸ªPreparedStatementç‰¹åˆ«é•¿ï¼ŒåŒ…å«äº†å¾ˆå¤šå ä½ç¬¦ï¼Œå¯¹äºå ä½ç¬¦å’Œå‚æ•°çš„æ˜ å°„å°¤å…¶è€—æ—¶ã€‚å¹¶ä¸”ï¼ŒæŸ¥é˜…ç›¸å…³èµ„æ–™å¯çŸ¥ï¼Œvaluesçš„å¢é•¿ä¸æ‰€éœ€çš„è§£ææ—¶é—´ï¼Œæ˜¯å‘ˆæŒ‡æ•°å‹å¢é•¿çš„ã€‚</p> 
<p>foreach é‡åˆ°æ•°é‡å¤§ï¼Œæ€§èƒ½ç“¶é¢ˆ<br> é¡¹ç›®å®è·µå‘ç°ï¼Œå½“è¡¨çš„åˆ—æ•°è¾ƒå¤šï¼ˆè¶…è¿‡20ï¼‰ï¼Œä»¥åŠä¸€æ¬¡æ€§æ’å…¥çš„è¡Œæ•°è¾ƒå¤šï¼ˆä¸Šä¸‡æ¡ï¼‰æ—¶ï¼Œæ’å…¥æ€§èƒ½éå¸¸å·®ï¼Œé€šå¸¸éœ€è¦20åˆ†é’Ÿä»¥ä¸Š</p> 
<p><img src="https://images2.imgbox.com/17/4b/93Izm5K4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>æ‰€ä»¥ï¼Œå¦‚æœéè¦ä½¿ç”¨ foreach çš„æ–¹å¼æ¥è¿›è¡Œæ‰¹é‡æ’å…¥çš„è¯ï¼Œå¯ä»¥è€ƒè™‘å‡å°‘ä¸€æ¡ insert è¯­å¥ä¸­ values çš„ä¸ªæ•°ï¼Œæœ€å¥½èƒ½è¾¾åˆ°ä¸Šé¢æ›²çº¿çš„æœ€åº•éƒ¨çš„å€¼ï¼Œä½¿é€Ÿåº¦æœ€å¿«ã€‚ä¸€èˆ¬æŒ‰ç»éªŒæ¥è¯´ï¼Œä¸€æ¬¡æ€§æ’20~50è¡Œæ•°é‡æ˜¯æ¯”è¾ƒåˆé€‚çš„ï¼Œæ—¶é—´æ¶ˆè€—ä¹Ÿèƒ½æ¥å—ã€‚</p> 
<p>æ­¤å¤–Mysql å¯¹æ‰§è¡Œçš„SQLè¯­å¥å¤§å°è¿›è¡Œé™åˆ¶ï¼Œç›¸å½“äºå¯¹å­—ç¬¦ä¸²è¿›è¡Œé™åˆ¶ã€‚é»˜è®¤å…è®¸æœ€å¤§SQLæ˜¯ 4M ã€‚<br> è¶…è¿‡é™åˆ¶å°±ä¼šæŠ›é”™:<br> com.mysql.jdbc.PacketTooBigException: Packet for query is too large (8346602 &gt; 4194304). You can change this value on the server by setting the max_allowed_packetâ€™ variable.<br> è¿™ä¸ªé”™è¯¯æ˜¯ Mysql çš„JDBCåŒ…æŠ›å‡ºçš„,è·ŸMybatisæ¡†æ¶æ— å…³, Mybatis è§£æåŠ¨æ€SQLçš„æºç å¦‚ä¸‹:</p> 
<pre><code class="prism language-bash"> 
// å¼€å§‹è§£æ
public void <span class="token function-name function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>configuration.isResourceLoaded<span class="token punctuation">(</span>resource<span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
        configurationElement<span class="token punctuation">(</span>parser.evalNode<span class="token punctuation">(</span><span class="token string">"/mapper"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        configuration.addLoadedResource<span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bindMapperForNamespace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    parsePendingResultMaps<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parsePendingChacheRefs<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    parsePendingStatements<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
// è§£æmapper
private void configurationElement<span class="token punctuation">(</span>XNode context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    try <span class="token punctuation">{<!-- --></span>
        String namespace <span class="token operator">=</span> context.getStringAttribute<span class="token punctuation">(</span><span class="token string">"namespace"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>namespace.equals<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
            throw new BuilderException<span class="token punctuation">(</span><span class="token string">"Mapper's namespace cannot be empty"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        builderAssistant.setCurrentNamespace<span class="token punctuation">(</span>namespace<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cacheRefElement<span class="token punctuation">(</span>context.evalNode<span class="token punctuation">(</span><span class="token string">"cache-ref"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        cacheElement<span class="token punctuation">(</span>context.evalNode<span class="token punctuation">(</span><span class="token string">"cache"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        parameterMapElement<span class="token punctuation">(</span>context.evalNodes<span class="token punctuation">(</span><span class="token string">"/mapper/parameterMap"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        resultMapElements<span class="token punctuation">(</span>context.evalNodes<span class="token punctuation">(</span><span class="token string">"/mapper/resultMap"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        sqlElement<span class="token punctuation">(</span>context.evalNodes<span class="token punctuation">(</span><span class="token string">"/mapper/sql"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
        buildStatementFromContext<span class="token punctuation">(</span>context.evalNodes<span class="token punctuation">(</span><span class="token string">"select|insert|update|delete"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>Exception e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        throw new BuilderException<span class="token punctuation">(</span><span class="token string">"Error parsing Mapper XML. Cause: "</span> + e, e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
// åˆ›å»º <span class="token keyword">select</span><span class="token operator">|</span>insert<span class="token operator">|</span>update<span class="token operator">|</span>delete è¯­å¥
private void buildStatementFromContext<span class="token punctuation">(</span>List<span class="token operator">&lt;</span>XNode<span class="token operator">&gt;</span> list, String requiredDatabaseId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>XNode context <span class="token builtin class-name">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        final XMLStatementBuilder statementParser <span class="token operator">=</span> new XMLStatementBuilder<span class="token punctuation">(</span>configuration, builderAssistant, context, requiredDatabaseId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        try <span class="token punctuation">{<!-- --></span>
            statementParser.parseStatementNode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>IncompleteElementException e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            configuration.addIncompleteStatement<span class="token punctuation">(</span>statementParser<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

// å¡«å……å‚æ•°ï¼Œåˆ›å»ºè¯­å¥
public BoundSql getBoundSql<span class="token punctuation">(</span>Object parameterObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    DynamicContext context <span class="token operator">=</span> new DynamicContext<span class="token punctuation">(</span>configuration, parameterObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    rootSqlNode.apply<span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    SqlSourceBuilder sqlSourceParser <span class="token operator">=</span> new SqlSourceBuilder<span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Class<span class="token operator">&lt;</span>?<span class="token operator">&gt;</span> parameterType <span class="token operator">=</span> parameterObject <span class="token operator">==</span> null ? Object.class <span class="token builtin class-name">:</span> parameterObject.getClass<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    SqlSource sqlSource <span class="token operator">=</span> sqlSourceParser.parse<span class="token punctuation">(</span>context.getSql<span class="token punctuation">(</span><span class="token punctuation">)</span>, parameterType, context.getBindings<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
    BoundSql boundSql <span class="token operator">=</span> sqlSource.getBoundSql<span class="token punctuation">(</span>parameterObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>Map.Entry<span class="token operator">&lt;</span>String, Object<span class="token operator">&gt;</span> entry <span class="token builtin class-name">:</span> context.getBindings<span class="token punctuation">(</span><span class="token punctuation">)</span>.entrySet<span class="token punctuation">(</span><span class="token punctuation">))</span> <span class="token punctuation">{<!-- --></span>
        boundSql.setAdditionalParameter<span class="token punctuation">(</span>entry.getKey<span class="token punctuation">(</span><span class="token punctuation">)</span>, entry.getValue<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token builtin class-name">return</span> boundSql<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä»å¼€å§‹åˆ°ç»“æŸï¼Œ Mybatis éƒ½æ²¡æœ‰å¯¹å¡«å……çš„æ¡æ•°å’Œå‚æ•°çš„æ•°é‡åšé™åˆ¶,æ˜¯Mysql å¯¹è¯­å¥çš„é•¿åº¦æœ‰é™åˆ¶ï¼Œé»˜è®¤æ˜¯ 4Mã€‚</p> 
<p><strong>3.ExecutorType.BATCHæ’å…¥</strong></p> 
<p>Mybatiså†…ç½®çš„ExecutorTypeæœ‰3ç§ï¼ŒSIMPLEã€REUSEã€BATCH; é»˜è®¤çš„æ˜¯simpleï¼Œè¯¥æ¨¡å¼ä¸‹å®ƒä¸ºæ¯ä¸ªè¯­å¥çš„æ‰§è¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ï¼Œå•æ¡æäº¤sqlï¼›è€Œbatchæ¨¡å¼é‡å¤ä½¿ç”¨å·²ç»é¢„å¤„ç†çš„è¯­å¥ï¼Œå¹¶ä¸”æ‰¹é‡æ‰§è¡Œæ‰€æœ‰æ›´æ–°è¯­å¥ï¼Œæ˜¾ç„¶batchæ€§èƒ½å°†æ›´ä¼˜ï¼›ä½†batchæ¨¡å¼ä¹Ÿæœ‰è‡ªå·±çš„é—®é¢˜ï¼Œæ¯”å¦‚åœ¨Insertæ“ä½œæ—¶ï¼Œåœ¨äº‹åŠ¡æ²¡æœ‰æäº¤ä¹‹å‰ï¼Œæ˜¯æ²¡æœ‰åŠæ³•è·å–åˆ°è‡ªå¢çš„idï¼Œè¿™åœ¨æŸå‹æƒ…å½¢ä¸‹æ˜¯ä¸ç¬¦åˆä¸šåŠ¡è¦æ±‚çš„.</p> 
<p>JDBC åœ¨æ‰§è¡Œ SQL è¯­å¥æ—¶ï¼Œä¼šå°† SQL è¯­å¥ä»¥åŠå®å‚é€šè¿‡ç½‘ç»œè¯·æ±‚çš„æ–¹å¼å‘é€åˆ°æ•°æ®åº“ï¼Œä¸€æ¬¡æ‰§è¡Œä¸€æ¡ SQL è¯­å¥ï¼Œä¸€æ–¹é¢ä¼šå‡å°è¯·æ±‚åŒ…çš„æœ‰æ•ˆè´Ÿè½½ï¼Œå¦ä¸€ä¸ªæ–¹é¢ä¼šå¢åŠ è€—è´¹åœ¨ç½‘ç»œé€šä¿¡ä¸Šçš„æ—¶é—´ã€‚é€šè¿‡æ‰¹å¤„ç†çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ JDBC å®¢æˆ·ç«¯ç¼“å­˜å¤šæ¡ SQL è¯­å¥ï¼Œç„¶ååœ¨ flush æˆ–ç¼“å­˜æ»¡çš„æ—¶å€™ï¼Œå°†å¤šæ¡ SQL è¯­å¥æ‰“åŒ…å‘é€åˆ°æ•°æ®åº“æ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆåœ°é™ä½ä¸Šè¿°ä¸¤æ–¹é¢çš„æŸè€—ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚è¿›è¡Œjdbcæ‰¹å¤„ç†æ—¶éœ€åœ¨JDBCçš„urlä¸­åŠ å…¥rewriteBatchedStatements=true</p> 
<p>ä¸è¿‡ï¼Œæœ‰ä¸€ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡å‘æ•°æ®åº“å‘é€çš„ SQL è¯­å¥çš„æ¡æ•°æ˜¯æœ‰ä¸Šé™çš„ï¼Œå¦‚æœæ‰¹é‡æ‰§è¡Œçš„æ—¶å€™è¶…è¿‡è¿™ä¸ªä¸Šé™å€¼ï¼Œæ•°æ®åº“å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‹’ç»æ‰§è¡Œè¿™ä¸€æ‰¹ SQL è¯­å¥ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ§åˆ¶æ‰¹é‡å‘é€ SQL è¯­å¥çš„æ¡æ•°å’Œé¢‘ç‡.</p> 
<p>ä½¿ç”¨Batchæ‰¹é‡å¤„ç†æ•°æ®åº“ï¼Œå½“éœ€è¦å‘æ•°æ®åº“å‘é€ä¸€æ‰¹SQLè¯­å¥æ‰§è¡Œæ—¶ï¼Œåº”é¿å…å‘æ•°æ®åº“ä¸€æ¡æ¡çš„å‘é€æ‰§è¡Œï¼Œè€Œåº”é‡‡ç”¨JDBCçš„æ‰¹å¤„ç†æœºåˆ¶ï¼Œä»¥æå‡æ‰§è¡Œæ•ˆç‡</p> 
<pre><code class="prism language-bash">  //å¦‚æœè‡ªåŠ¨æäº¤è®¾ç½®ä¸ºtrue,å°†æ— æ³•æ§åˆ¶æäº¤çš„æ¡æ•°ï¼Œæ”¹ä¸ºæœ€åç»Ÿä¸€æäº¤
  SqlSession sqlSession <span class="token operator">=</span> sqlSessionFactory.openSession<span class="token punctuation">(</span>ExecutorType.BATCH,false<span class="token punctuation">)</span><span class="token punctuation">;</span>
  PatientLabelDetailMapper patientLabelDetailMapper <span class="token operator">=</span> sqlSession.getMapper<span class="token punctuation">(</span>PatientLabelDetailMapper.class<span class="token punctuation">)</span><span class="token punctuation">;</span>
  private int BATCH <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>int index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> data.size<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> index++<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       patientLabelDetailMapper.insert<span class="token punctuation">(</span>data.get<span class="token punctuation">(</span>i<span class="token punctuation">))</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index % BATCH <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          sqlSession .commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  sqlSession.commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>éœ€è¦è¯´æ˜çš„æ˜¯,å¾ˆå¤šåšå®¢æ–‡ç« éƒ½è¯´åœ¨commitåéœ€è¦è°ƒç”¨sqlSession .clearCache()å’ŒsqlSession .flushStatements();,ç”¨ä»¥åˆ·æ–°ç¼“å­˜å’Œæäº¤åˆ°æ•°æ®åº“,é€šè¿‡é˜…è¯»æºç ,è¿™ä¸¤è¡Œå¤§å¯ä¸å¿…å†™,æºç è§£æå¦‚ä¸‹:</p> 
<pre><code class="prism language-bash">public void commit<span class="token punctuation">(</span>boolean required<span class="token punctuation">)</span> throws SQLException <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>this.closed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        throw new ExecutorException<span class="token punctuation">(</span><span class="token string">"Cannot commit, transaction is already closed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        this.clearLocalCache<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        this.flushStatements<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>required<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            this.transaction.commit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-bash"> public void <span class="token function-name function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    this.executor.clearLocalCache<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>æºç commit()æ–¹æ³•å·²ç»è°ƒç”¨äº†clearLocalCache()å’ŒflushStatements(),<br> è€ŒclearCache()æ–¹æ³•ä¹Ÿæ˜¯è°ƒç”¨äº†clearLocalCache(),æ‰€ä»¥åªéœ€å†™commit()å³å¯.</p> 
<p>sql logæ—¥å¿—åˆ†æå¦‚ä¸‹:</p> 
<pre><code class="prism language-bash"><span class="token number">2022</span>-08-30 05:31:27 <span class="token punctuation">[</span>0ed35173-ae5f-4ea5-a937-f771d33ae4bd<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-1<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.common.config.MybatisSqlLoggerInterceptor<span class="token punctuation">]</span>-<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> æ‹¦æˆªçš„sql <span class="token operator">==</span><span class="token operator">&gt;</span>: com.btn.mapper.patient.PatientLabelDetailMapper.insert:INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> <span class="token number">337</span>, <span class="token number">178</span>, <span class="token number">252</span>, <span class="token string">'åˆ˜æ¢…å¥½'</span>, <span class="token number">2</span>, <span class="token number">29</span>, <span class="token string">'178'</span>,  <span class="token punctuation">)</span>
<span class="token number">2022</span>-08-30 05:31:27 <span class="token punctuation">[</span>0ed35173-ae5f-4ea5-a937-f771d33ae4bd<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-1<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.mapper.patient.PatientLabelDetailMapper.insert<span class="token punctuation">]</span>-<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">&gt;</span>  Preparing: INSERT INTO t_patient_label_detail <span class="token punctuation">(</span> patient_id, doctor_id, tag_id, patient_name, gender, age, create_by, create_time <span class="token punctuation">)</span> VALUES <span class="token punctuation">(</span> ?, ?, ?, ?, ?, ?, ?, ? <span class="token punctuation">)</span> 
<span class="token number">2022</span>-08-30 05:31:27 <span class="token punctuation">[</span>0ed35173-ae5f-4ea5-a937-f771d33ae4bd<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-1<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.common.config.MybatisSqlLoggerInterceptor<span class="token punctuation">]</span>-<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> sqlè€—æ—¶ <span class="token operator">==</span><span class="token operator">&gt;</span>: <span class="token number">2</span>
<span class="token number">2022</span>-08-30 05:31:27 <span class="token punctuation">[</span>0ed35173-ae5f-4ea5-a937-f771d33ae4bd<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-1<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.mapper.patient.PatientLabelDetailMapper.insert<span class="token punctuation">]</span>-<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">337</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, <span class="token number">178</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, <span class="token number">252</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, åˆ˜æ¢…å¥½<span class="token punctuation">(</span>String<span class="token punctuation">)</span>, <span class="token number">2</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span>, <span class="token number">29</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span>, <span class="token number">178</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span>, null
<span class="token number">2022</span>-08-30 05:31:27 <span class="token punctuation">[</span>0ed35173-ae5f-4ea5-a937-f771d33ae4bd<span class="token punctuation">]</span> <span class="token punctuation">[</span>http-nio-3005-exec-1<span class="token punctuation">]</span> <span class="token punctuation">[</span>com.btn.mapper.patient.PatientLabelDetailMapper.insert<span class="token punctuation">]</span>-<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token operator">==</span><span class="token operator">&gt;</span> Parameters: <span class="token number">256</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, <span class="token number">178</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, <span class="token number">252</span><span class="token punctuation">(</span>Long<span class="token punctuation">)</span>, ğŸ‰å•Šï½åƒè¥¿ç“œ<span class="token punctuation">(</span>String<span class="token punctuation">)</span>, <span class="token number">0</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span>, <span class="token number">0</span><span class="token punctuation">(</span>Integer<span class="token punctuation">)</span>, <span class="token number">178</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span>, null
</code></pre> 
<p>ExecutorType.BATCHåŸç†ï¼šæŠŠSQLè¯­å¥å‘ä¸ªæ•°æ®åº“ï¼Œæ•°æ®åº“é¢„ç¼–è¯‘å¥½ï¼Œæ•°æ®åº“ç­‰å¾…éœ€è¦è¿è¡Œçš„å‚æ•°ï¼Œæ¥æ”¶åˆ°å‚æ•°åä¸€æ¬¡è¿è¡Œï¼ŒExecutorType.BATCHåªæ‰“å°ä¸€æ¬¡SQLè¯­å¥ï¼Œé¢„ç¼–è¯‘ä¸€æ¬¡sql,å¤šæ¬¡è®¾ç½®å‚æ•°æ­¥éª¤.</p> 
<h3><a id="_229"></a>æ€»ç»“:</h3> 
<p>ç»è¿‡ä»¥ä¸Šä¸‰ç§æ–¹å¼åˆ†æ,åœ¨æ’å…¥å¤§æ•°æ®é‡æ—¶ä¼˜å…ˆé€‰æ‹©ç¬¬ä¸‰ç§æ–¹å¼,<br> <strong>ExecutorType.BATCH</strong>æ’å…¥</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/640635249a4681e8d46d84a44c58749c/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å¯èƒ½æ˜¯å…¨ç½‘æœ€æ¸…æ™°çš„KMPç®—æ³•è®²è§£</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1ed7c39309d1103cde9ec0402948cb8b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">åˆ†ç®±--ä¾‹é¢˜</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å¤§ç™½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>