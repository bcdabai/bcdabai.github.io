<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>1.4 CentOS安装MySQL - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="1.4 CentOS安装MySQL" />
<meta property="og:description" content="1.4 CentOS安装MySQL
1.4.1 MySQL安装
对于MySQL数据库的安装，我们将要使用前面讲解的第二种安装方式rpm进行安装。那么首先我们先了解一下什么rpm？
RPM：全称为 Red-Hat Package Manager，RPM软件包管理器，是红帽Linux用于管理和安装软件的工具。
我们要通过rpm，进行MySQL数据库的安装，主要的步骤如下：
1). 检测当前系统是否安装过MySQL相关数据库
需要通过rpm相关指令，来查询当前系统中是否存在已安装的mysql软件包，执行指令如下：
rpm -qa 查询当前系统中安装的所有软件
rpm -qa | grep mysql 查询当前系统中安装的名称带mysql的软件
rpm -qa | grep mariadb 查询当前系统中安装的名称带mariadb的软件
通过rpm -qa 查询到系统通过rpm安装的所有软件，太多了，不方便查看，所以我们可以通过管道符 | 配合着grep进行过滤查询。
通过查询，我们发现在当前系统中存在mariadb数据库，是CentOS7中自带的，而这个数据库和MySQL数据库是冲突的，所以要想保证MySQL成功安装，需要卸载mariadb数据库。不卸载mariadb也没事。
2). 卸载现有的MySQL数据库【可以不做】
在rpm中，卸载软件的语法为：
rpm -e --nodeps 软件名称
那么，我们就可以通过指令，卸载 mariadb，具体指令为：
rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64
我们看到执行完毕之后， 再次查询 mariadb，就查不到了，因为已经被成功卸载了。
3). 将资料中提供的MySQL安装包上传到Linux并解压
A. 上传MySQL安装包
在课程资料中，提供的有MySQL的安装包 ，我们需要将该安装包上传到Linux系统的根目录 / 下面。
B. 解压到/usr/local/mysql
执行如下指令:
mkdir /usr/local/mysql
tar -zxvf mysql-5.7.25-1.el7.x86_64.rpm-bundle.tar.gz -C /usr/local/mysql
cd /usr/local/mysql" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/34ee5033adc2e068a3ea4f45dc744cef/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-05T16:18:12+08:00" />
<meta property="article:modified_time" content="2022-05-05T16:18:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">1.4 CentOS安装MySQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="_tE_BXMMQ"></h4> 
<p>1.4 CentOS安装MySQL</p> 
<p>1.4.1 MySQL安装</p> 
<p>对于MySQL数据库的安装，我们将要使用前面讲解的第二种安装方式rpm进行安装。那么首先我们先了解一下什么rpm？</p> 
<p>RPM：全称为 Red-Hat Package Manager，RPM软件包管理器，是红帽Linux用于管理和安装软件的工具。</p> 
<p>我们要通过rpm，进行MySQL数据库的安装，主要的步骤如下：</p> 
<p>1). 检测当前系统是否安装过MySQL相关数据库</p> 
<p>需要通过rpm相关指令，来查询当前系统中是否存在已安装的mysql软件包，执行指令如下：</p> 
<p>rpm -qa                        查询当前系统中安装的所有软件</p> 
<p>rpm -qa | grep mysql            查询当前系统中安装的名称带mysql的软件</p> 
<p>rpm -qa | grep mariadb          查询当前系统中安装的名称带mariadb的软件</p> 
<p>通过rpm -qa 查询到系统通过rpm安装的所有软件，太多了，不方便查看，所以我们可以通过管道符 | 配合着grep进行过滤查询。</p> 
<p></p> 
<p></p> 
<p>通过查询，我们发现在当前系统中存在mariadb数据库，是CentOS7中自带的，而这个数据库和MySQL数据库是冲突的，所以要想保证MySQL成功安装，需要卸载mariadb数据库。不卸载mariadb也没事。</p> 
<p>2). 卸载现有的MySQL数据库【可以不做】</p> 
<p>在rpm中，卸载软件的语法为：</p> 
<p>rpm -e --nodeps  软件名称</p> 
<p>那么，我们就可以通过指令，卸载 mariadb，具体指令为：</p> 
<p>rpm -e --nodeps  mariadb-libs-5.5.60-1.el7_5.x86_64</p> 
<p></p> 
<p>我们看到执行完毕之后， 再次查询 mariadb，就查不到了，因为已经被成功卸载了。</p> 
<p>3). 将资料中提供的MySQL安装包上传到Linux并解压</p> 
<p>A. 上传MySQL安装包</p> 
<p>在课程资料中，提供的有MySQL的安装包 ，我们需要将该安装包上传到Linux系统的根目录 / 下面。</p> 
<p></p> 
<p></p> 
<p>B. 解压到/usr/local/mysql</p> 
<p>执行如下指令:</p> 
<p>mkdir /usr/local/mysql</p> 
<p>tar -zxvf mysql-5.7.25-1.el7.x86_64.rpm-bundle.tar.gz -C /usr/local/mysql</p> 
<p>cd /usr/local/mysql</p> 
<p></p> 
<p></p> 
<p>4). 安装顺序安装rpm安装包</p> 
<p>[root@localhost mysql]# rpm -ivh mysql-community-client-5.7.25-1.el7.x86_64.rpm --force --nodeps    # 按照MySQL客户端</p> 
<p>[root@localhost mysql]# rpm -ivh mysql-community-server-5.7.25-1.el7.x86_64.rpm --force --nodeps    # 按照MySQL服务端</p> 
<p></p> 
<p>1.4.2 MySQL启动</p> 
<p>MySQL安装完成之后，会自动注册为系统的服务，服务名为mysqld。那么，我们就可以通过systemctl指令来查看mysql的状态、启动mysql、停止mysql。</p> 
<p>systemctl status mysqld    查看mysql服务状态</p> 
<p>systemctl start mysqld      启动mysql服务</p> 
<p>systemctl stop mysqld      停止mysql服务</p> 
<p></p> 
<p>说明：</p> 
<p>可以设置开机时启动mysql服务，避免每次开机启动mysql。执行如下指令：</p> 
<p>systemctl enable mysqld</p> 
<p>我们可以通过如下两种方式，来判定mysql是否启动：</p> 
<p>1、netstat -nltp                查看已经启动的服务</p> 
<p>2、ps –ef | grep mysql            查看mysql进程</p> 
<p></p> 
<p>1.4.3 MySQL登录</p> 
<p>1.4.3.1 查阅临时密码</p> 
<p>MySQL启动起来之后，我们就可以测试一下登录操作，但是我们要想登录MySQL，需要一个访问密码，而刚才在安装MySQL的过程中，并没有看到让我们设置访问密码，那这个访问密码是多少呢? 那实际上，对于rpm安装的mysql，在mysql第一次启动时，会自动帮我们生成root用户的访问密码，并且输出在mysql的日志文件 /var/log/mysqld.log中，我们可以查看这份日志文件，从而获取到访问密码。</p> 
<p>可以执行如下指令：</p> 
<p>1). cat /var/log/mysqld.log</p> 
<p></p> 
<p>这种方式，可以看到所有的日志数据，文件比较大时，很不方便查看数据。我们可以通过管道符 | 配合grep来对数据进行过滤。</p> 
<p>2). ==cat /var/log/mysqld.log | grep password==</p> 
<p>我们可以通过上述指令，查询日志文件内容中包含password的行信息。</p> 
<p></p> 
<p>1.4.3.2 登录MySQL</p> 
<p>获取到root用户的临时密码之后，我们就可以登录mysql数据库，修改root的密码，为root设置一个新的密码。并且我们还需要开启root用户远程访问该数据库的权限，这样的话，我们就可以在windows上来访问这台MySQL数据库。</p> 
<p>执行如下指令：</p> 
<p>①. 登录mysql（复制日志中的临时密码登录）</p> 
<p>    mysql -uroot -p                             </p> 
<p>    然后输入临时密码。</p> 
<p>②. 修改密码</p> 
<p>    set global validate_password_length=4;      设置密码长度最低位数</p> 
<p>    set global validate_password_policy=LOW;    设置密码安全等级低，便于密码可以修改成root</p> 
<p>    set password = password('root');           设置密码为root</p> 
<p></p> 
<p>③. 开启访问权限</p> 
<p>    grant all on *.* to 'root'@'%' identified by 'root';</p> 
<p>    flush privileges;</p> 
<p>操作完上述的指令之后，数据库root用户的密码以及远程访问我们就配置好了，接下来，可以执行exit退出mysql，再次通过新的密码进行登录。</p> 
<p></p> 
<p>当然我们也可以使用安装在windows系统中的sqlyog或者Navicat来远程连接linux上的MySQL。</p> 
<p></p> 
<p>==注意： 要想在windows上能够访问MySQL，还需要开放防火墙的3306端口，执行如下指令：==</p> 
<p>firewall-cmd --zone=public --add-port=3306/tcp --permanent</p> 
<p>firewall-cmd --reload</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d177cfd42bb0a815a16149f7cb2272f0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript 注释以及输入输出语句</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ff0d612c2e783eed9e884f96e3783e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">自顶向下构建中药知识图谱初探</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>