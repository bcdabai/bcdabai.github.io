<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Postman：API测试之Postman使用完全指南 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Postman：API测试之Postman使用完全指南" />
<meta property="og:description" content="Postman是一个可扩展的API开发和测试协同平台工具，可以快速集成到CI/CD管道中。旨在简化测试和开发中的API工作流。
Postman工具有Chrome扩展和独立客户端，推荐安装独立客户端。
Postman有个workspace的概念，workspace分personal和team类型。Personal workspace只能自己查看的API，Team workspace可添加成员和设置成员权限，成员之间可共同管理API。
当然我个人使用一般是不登录的，因为登录之后会自动将你的测试历史数据保存到账户里，你可以登陆网页端进行查看。
因为API的很多数据是很敏感的，有的含有Token，或者就是一些私密信息，虽然Postman自己也强调说这样很安全，不会私下窥探用户的信息之类的，但是呢还是至少做一点有效的防范吧，自己不上传，因为网络并没有绝对的安全。
所以我每次测试之后会将数据（Case）保存在本地，下次使用或者换设备的情况下将数据拷贝过来又可以继续使用了。
下面正式开始介绍如何使用Postman吧。
1. 为什么选择Postman 选择使用Postman的原因如下:
简单易用 - 要使用Postman，你只需登录自己的账户，只要在电脑上安装了Postman应用程序，就可以方便地随时随地访问文件。
使用集合 - Postman允许用户为他们的API调用创建集合。每个集合可以创建子文件夹和多个请求。这有助于组织测试结构。
多人协作 - 可以导入或导出集合和环境，从而方便共享文件。直接使用链接还可以用于共享集合。
创建环境 - 创建多个环境有助于减少测试重复（DEV/QA/STG/UAT/PROD），因为可以为不同的环境使用相同的集合。这是参数化发生的地方，将在后续介绍。
创建测试 - 测试检查点（如验证HTTP响应状态是否成功）可以添加到每个API调用中，这有助于确保测试覆盖率。
自动化测试 - 通过使用集合Runner或Newman，可以在多个迭代中运行测试，节省了重复测试的时间。
调试 - Postman控制台有助于检查已检索到的数据，从而易于调试测试。
持续集成- 通过其支持持续集成的能力，可以维护开发实践。
2. 如何下载安装Postman Step1） 去官网下载进行安装
官网主页：https://www.postman.com/downloads/， 下载所需版本进行安装即可。
Step2） 登录
安装完成之后会要求你必须登录才能使用，没有账号可以进行注册，注册是免费的。（也可使用Google账号，不过基本不能登录，你懂的）
Step3）在Workspace选择你要使用的工具并点击“Save My Preferences”保存。
Step4）你将看到启动后的页面如下
3. 如何使用Postman 下图是Postman的工作区间，各个模块功能的介绍如下：
New，在这里创建新的请求、集合或环境；还可以创建更高级的文档、Mock Server和Monitor以及API。Import，这用于导入集合或环境。有一些选项，例如从文件，文件夹导入，链接或粘贴原始文本。Runner，可以通过Collection Runner执行自动化测试。后续介绍。Open New，打开一个新的标签，Postman窗口或Runner窗口。My Workspace，可以单独或以团队的形式创建新的工作区。Invite，通过邀请团队成员在工作空间上进行协同工作。History，所有的历史记录，这样可以很容易地跟踪你所做的操作。Collections，通过创建集合来组织你的测试套件。每个集合可能有子文件夹和多个请求。请求或文件夹也可以被复制。Request tab，这将显示您正在处理的请求的标题。默认对于没有标题的请求会显示“Untitled Request”。HTTP Request，单击它将显示不同请求的下拉列表，例如：GET，POST，COPY，DELETE等。在测试中，最常用的请求是GET和POST。Request URL ，也称为端点，显示API的URL。Save ，如果对请求进行了更改，必须单击save，这样新更改才不会丢失或覆盖。Params ，在这里将编写请求所需的参数，比如Key - Value。Authorization ，为了访问api，需要适当的授权。它可以是Username、Password、Token等形式。Headers ，请求头信息。Body ，请求体信息，一般在POST中才会使用到。Pre-request Script ，请求之前 先执行脚本，使用设置环境的预请求脚本来确保在正确的环境中运行测试。Tests ，这些脚本是在请求期间执行的。进行测试非常重要，因为它设置检查点来验证响应状态是否正常、检索的数据是否符合预期以及其他测试。Settings ，最新版本的有设置，一般用不到。 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/55a9fc96e22fd77363d5c09137db68ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-17T21:16:35+08:00" />
<meta property="article:modified_time" content="2023-11-17T21:16:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Postman：API测试之Postman使用完全指南</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><code>Postman</code>是一个可扩展的<code>API</code>开发和测试协同平台工具，可以快速集成到<code>CI/CD</code>管道中。旨在简化测试和开发中的<code>API</code>工作流。</p> 
<p><code>Postman</code>工具有<code>Chrome</code>扩展和独立客户端，推荐安装独立客户端。</p> 
<p><code>Postman</code>有个<code>workspace</code>的概念，<code>workspace</code>分<code>personal</code>和<code>team</code>类型。<code>Personal workspace</code>只能自己查看的<code>API</code>，<code>Team workspace</code>可添加成员和设置成员权限，成员之间可共同管理<code>API</code>。</p> 
<p>当然我个人使用一般是不登录的，因为登录之后会自动将你的测试历史数据保存到账户里，你可以登陆网页端进行查看。</p> 
<p>因为<code>API</code>的很多数据是很敏感的，有的含有<code>Token</code>，或者就是一些私密信息，虽然<code>Postman</code>自己也强调说这样很安全，不会私下窥探用户的信息之类的，但是呢还是至少做一点有效的防范吧，自己不上传，因为网络并没有绝对的安全。</p> 
<p>所以我每次测试之后会将数据（<code>Case</code>）保存在本地，下次使用或者换设备的情况下将数据拷贝过来又可以继续使用了。</p> 
<p>下面正式开始介绍如何使用<code>Postman</code>吧。</p> 
<h3><a id="1_Postman_18"></a>1. 为什么选择<code>Postman</code></h3> 
<p>选择使用<code>Postman</code>的原因如下:</p> 
<ul><li> <p><strong>简单易用</strong> - 要使用<code>Postman</code>，你只需登录自己的账户，只要在电脑上安装了<code>Postman</code>应用程序，就可以方便地随时随地访问文件。</p> </li><li> <p><strong>使用集合</strong> - <code>Postman</code>允许用户为他们的<code>API</code>调用创建集合。每个集合可以创建子文件夹和多个请求。这有助于组织测试结构。</p> </li><li> <p><strong>多人协作</strong> - 可以导入或导出集合和环境，从而方便共享文件。直接使用链接还可以用于共享集合。</p> </li><li> <p><strong>创建环境</strong> - 创建多个环境有助于减少测试重复（<code>DEV/QA/STG/UAT/PROD</code>），因为可以为不同的环境使用相同的集合。这是参数化发生的地方，将在后续介绍。</p> </li><li> <p><strong>创建测试</strong> - 测试检查点（如验证HTTP响应状态是否成功）可以添加到每个<code>API</code>调用中，这有助于确保测试覆盖率。</p> </li><li> <p><strong>自动化测试</strong> - 通过使用集合<code>Runner</code>或<code>Newman</code>，可以在多个迭代中运行测试，节省了重复测试的时间。</p> </li><li> <p><strong>调试</strong> - <code>Postman</code>控制台有助于检查已检索到的数据，从而易于调试测试。</p> </li><li> <p><strong>持续集成</strong>- 通过其支持持续集成的能力，可以维护开发实践。</p> </li></ul> 
<h3><a id="2_Postman_40"></a>2. 如何下载安装<code>Postman</code></h3> 
<p><strong><code>Step1</code>） 去官网下载进行安装</strong></p> 
<p>官网主页：<a href="https://www.postman.com/downloads/" rel="nofollow">https://www.postman.com/downloads/</a>， 下载所需版本进行安装即可。</p> 
<p><img src="https://images2.imgbox.com/54/63/aRSACXiQ_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step2</code>） 登录</strong></p> 
<p>安装完成之后会要求你必须登录才能使用，没有账号可以进行注册，注册是免费的。（也可使用<code>Google</code>账号，不过基本不能登录，你懂的）</p> 
<p><strong><code>Step3</code>）在<code>Workspace</code>选择你要使用的工具并点击“<code>Save My Preferences</code>”保存。</strong></p> 
<p><img src="https://images2.imgbox.com/6e/90/yuy6Jadh_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step4</code>）你将看到启动后的页面如下</strong></p> 
<p><img src="https://images2.imgbox.com/41/b2/RVRBiD1l_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_Postman_71"></a>3. 如何使用<code>Postman</code></h3> 
<p>下图是<code>Postman</code>的工作区间，各个模块功能的介绍如下：</p> 
<ol><li><code>New</code>，在这里创建新的请求、集合或环境；还可以创建更高级的文档、<code>Mock Server</code>和<code>Monitor</code>以及<code>API</code>。</li><li><code>Import</code>，这用于导入集合或环境。有一些选项，例如从文件，文件夹导入，链接或粘贴原始文本。</li><li><code>Runner</code>，可以通过<code>Collection Runner</code>执行自动化测试。后续介绍。</li><li><code>Open New</code>，打开一个新的标签，<code>Postman</code>窗口或<code>Runner</code>窗口。</li><li><code>My Workspace</code>，可以单独或以团队的形式创建新的工作区。</li><li><code>Invite</code>，通过邀请团队成员在工作空间上进行协同工作。</li><li><code>History</code>，所有的历史记录，这样可以很容易地跟踪你所做的操作。</li><li><code>Collections</code>，通过创建集合来组织你的测试套件。每个集合可能有子文件夹和多个请求。请求或文件夹也可以被复制。</li><li><code>Request tab</code>，这将显示您正在处理的请求的标题。默认对于没有标题的请求会显示“<code>Untitled Request</code>”。</li><li><code>HTTP Request</code>，单击它将显示不同请求的下拉列表，例如：<code>GET</code>，<code>POST</code>，<code>COPY</code>，<code>DELETE</code>等。在测试中，最常用的请求是<code>GET</code>和<code>POST</code>。</li><li><code>Request URL</code> ，也称为端点，显示<code>API</code>的<code>URL</code>。</li><li><code>Save</code> ，如果对请求进行了更改，必须单击<code>save</code>，这样新更改才不会丢失或覆盖。</li><li><code>Params</code> ，在这里将编写请求所需的参数，比如<code>Key - Value</code>。</li><li><code>Authorization</code> ，为了访问<code>api</code>，需要适当的授权。它可以是<code>Username</code>、<code>Password</code>、<code>Token</code>等形式。</li><li><code>Headers</code> ，请求头信息。</li><li><code>Body</code> ，请求体信息，一般在<code>POST</code>中才会使用到。</li><li><code>Pre-request Script</code> ，请求之前 先执行脚本，使用设置环境的预请求脚本来确保在正确的环境中运行测试。</li><li><code>Tests</code> ，这些脚本是在请求期间执行的。进行测试非常重要，因为它设置检查点来验证响应状态是否正常、检索的数据是否符合预期以及其他测试。</li><li><code>Settings</code> ，最新版本的有设置，一般用不到。</li></ol> 
<p><img src="https://images2.imgbox.com/01/5b/Sa8TDq6W_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_GET_102"></a>4. 如何处理<code>GET</code>请求</h3> 
<p><code>Get</code>请求用于从指定的<code>URL</code>获取信息，不会对端点进行任何更改。</p> 
<p>在这里我们使用如下的<code>URL</code>作为演示：</p> 
<pre><code>https://jsonplaceholder.typicode.com/users	
</code></pre> 
<p>在<code>Postman</code>的工作区中：</p> 
<p><strong>1、选择<code>HTTP</code>请求方式为<code>GET</code></strong></p> 
<p><strong>2、在<code>URL</code>区域输入 链接</strong></p> 
<p><strong>3、点击 “<code>Send</code>”按钮</strong></p> 
<p><strong>4、你将看到下方返回200状态码</strong></p> 
<p><strong>5、在正文中应该有10个用户结果，表明您的测试已经成功运行。</strong></p> 
<p><img src="https://images2.imgbox.com/c6/42/2Zsab0lQ_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意：在某些情况下，<code>Get</code>请求失败可能由于<code>URL</code>无效或需要身份验证。</strong></p> 
<h3><a id="5_POST_131"></a>5. 如何处理<code>POST</code>请求</h3> 
<p><code>Post</code>请求与<code>Get</code>请求不同，因为存在用户向端点添加数据的数据操作。使用之前<code>GET</code>请求中相同数据，现在添加我们自己的用户。</p> 
<p><strong><code>Step 1</code>）创建一个新请求</strong></p> 
<p><img src="https://images2.imgbox.com/ce/af/XbjGK9dk_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 2</code> ）在新请求中</strong></p> 
<p>1、选择<code>HTTP</code>请求方式为<code>GET</code></p> 
<p>2、在<code>URL</code>区域输入 链接：<code>https://jsonplaceholder.typicode.com/users</code></p> 
<p>3、切换到<code>Body</code>选项</p> 
<p><img src="https://images2.imgbox.com/2e/72/BdEV3MiV_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>） <code>Body</code>选项</strong></p> 
<p>1、选中<code>raw</code>选项</p> 
<p>2、选择<code>JSON</code></p> 
<p><img src="https://images2.imgbox.com/c8/75/na7uml88_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>） 复制前面<code>GET</code>请求返回的<code>json</code>内容的第一节</strong></p> 
<p>更改<code>id</code>为11，更改<code>name</code>以及<code>uesrname</code>和<code>email</code></p> 
<pre><code class="prism language-json"><span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"id"</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Krishna Rungta"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"username"</span><span class="token operator">:</span> <span class="token string">"Bret"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"email"</span><span class="token operator">:</span> "Sincere@april<span class="token punctuation">.</span>biz
	"<span class="token punctuation">,</span>
        <span class="token string-property property">"address"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"street"</span><span class="token operator">:</span> <span class="token string">"Kulas Light"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"suite"</span><span class="token operator">:</span> <span class="token string">"Apt. 556"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"city"</span><span class="token operator">:</span> <span class="token string">"Gwenborough"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"zipcode"</span><span class="token operator">:</span> <span class="token string">"92998-3874"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"geo"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token string-property property">"lat"</span><span class="token operator">:</span> <span class="token string">"-37.3159"</span><span class="token punctuation">,</span>
                <span class="token string-property property">"lng"</span><span class="token operator">:</span> <span class="token string">"81.1496"</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">"phone"</span><span class="token operator">:</span> <span class="token string">"1-770-736-8031 x56442"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"website"</span><span class="token operator">:</span> <span class="token string">"hildegard.org"</span><span class="token punctuation">,</span>
        <span class="token string-property property">"company"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Romaguera-Crona"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"catchPhrase"</span><span class="token operator">:</span> <span class="token string">"Multi-layered client-server neural-net"</span><span class="token punctuation">,</span>
            <span class="token string-property property">"bs"</span><span class="token operator">:</span> <span class="token string">"harness real-time e-markets"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/03/25/yVyOfPWw_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意： 检查<code>Body</code>里用到的<code>JSON</code>格式很重要，以确保数据正确。</strong></p> 
<p>检测的工具比如：<code>https://jsonformatter.curiousconcept.com/</code></p> 
<p><img src="https://images2.imgbox.com/37/5b/m3RryeGJ_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 5</code>）发送请求</strong></p> 
<p>1、完成上述的信息输入，点击<code>Send</code>按钮</p> 
<p>2、<code>Status</code>：应该是201，显示为创建成功</p> 
<p>3、在<code>Body</code>里返回数据</p> 
<p><img src="https://images2.imgbox.com/04/b5/Ya0gjmgK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6__220"></a>6. 如何将请求参数化</h3> 
<p>数据参数化是<code>Postman</code>最有用的特征之一。你可以将使用到的变量进行参数化，而不是使用不同的数据创建相同的请求，这样会事半功倍，简洁明了。</p> 
<p>这些数据可以来自<strong>数据文件</strong>或<strong>环境变量</strong>。参数化有助于避免重复相同的测试，可用于自动化迭代测试。</p> 
<p>参数通过使用<strong>双花括号</strong>创建：<strong><code>{<!-- -->{sample}}</code></strong>。</p> 
<p>比如下面的请求：</p> 
<p><img src="https://images2.imgbox.com/ee/30/4l2Jli58_o.png" alt="在这里插入图片描述"></p> 
<p>接下来创建一个参数化<code>get</code>请求：</p> 
<p><strong><code>Step 1</code>） 创建一个参数化<code>get</code>请求</strong></p> 
<p>1、将<code>HTTP</code>请求设置为<code>GET</code></p> 
<p>2、输入<code>URL</code>： <code>https://jsonplaceholder.typicode.com/users</code>；将链接的域名部分替换为参数，例如</p> 
<p><code>{<!-- -->{url}}</code>。请求<code>url</code>现在应该是<code>{<!-- -->{url}}/users</code>。</p> 
<p>3、点击<code>Send</code>按钮。</p> 
<p>应该没有响应，因为我们没有设置参数的源，如下图：</p> 
<p><img src="https://images2.imgbox.com/f2/9e/48vYCmTv_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 2</code>) 使用环境设置所需的参数</strong></p> 
<p>1、点击眼睛图标</p> 
<p>2、单击<code>Edit</code>将该变量设置为可在所有集合中使用的全局环境。</p> 
<p><img src="https://images2.imgbox.com/cf/f8/gLFv2d8y_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>） 变量–<code>variable</code></strong></p> 
<p>1、将名称设置为<code>url</code>，该<code>url</code>为<code>https://jsonplaceholder.typicode.com</code></p> 
<p>2、点击保存按钮</p> 
<p><img src="https://images2.imgbox.com/8c/4a/goWFHkRb_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>） 如果看到下面截图的样式，请单击<code>Close</code></strong></p> 
<p><img src="https://images2.imgbox.com/a1/b2/NUb7xzVM_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 5</code>） 回到你的<code>Get</code>请求页面，然后单击发送<code>Send</code>按钮，<code>Get</code>请求应该就会返回结果了，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/ee/13/Xe9hJ1tK_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意：<strong>请确保所有的参数都有准确的源数据，不管是</strong>环境变量</strong>还是<strong>数据文件</strong>，以避免出错。</p> 
<h3><a id="7_Postman_Tests_282"></a>7. 如何创建<code>Postman Tests</code></h3> 
<p><code>Postman Tests</code>在请求中添加<code>JavaScript</code>代码来协助验证结果，如：成功或失败状态、预期结果的比较等等。</p> 
<p>通常从<code>pm.test</code>开始。它可以与断言相比较，验证其他工具中可用的命令。</p> 
<p>接下来创建一个包含<code>Tests</code>的请求：</p> 
<p><strong><code>Step 1</code>） 创建一个<code>Get</code>请求</strong></p> 
<p>1、切换到<code>Tests</code>选项，右边是代码片段选项。</p> 
<p>2、从右边的代码片段选项里面选中 “<code>Status code: Code is 200</code>”</p> 
<p>3、<code>JS</code>代码就自动出现在窗口中</p> 
<p><img src="https://images2.imgbox.com/2c/26/mVy5XrEf_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 2</code>) 点击发送请求按钮。测试结果就显示出来了，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/0d/6c/35FImauc_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>) 回到<code>Tests</code>选项卡，让我们添加另一个测试。这次我们将比较预期结果和实际结果。</strong></p> 
<p>在右边的<code>SNIPPETS</code>区域选择“<code>Response body:JSON value check</code>”选项，我们将检查<code>Leanne Graham</code>是否拥有<code>userid 1</code>。</p> 
<p><img src="https://images2.imgbox.com/78/1d/ovCtAzaG_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>）</strong></p> 
<p>1、将代码中的“<code>Your Test Name</code>”替换为“<code>Check if user with id1 is Leanne Graham</code>”，以便测试名称确切描述我们想测试的内容。</p> 
<p>2、使用<code>jsonData[0].name</code>代替<code>jsonData.value</code>；获取路径，在获取结果之前检查<code>Body</code>。因为<code>Leanne Graham</code>是<code>userid 1</code>，所以<code>jsonData</code>在第一个结果中，这个结果应该从0开始。如果你想获得第二个结果，那么对后续结果使用<code>jsonData[1]</code>即可。</p> 
<p>3、在<code>eql</code>中，输入“<code>Leanne Graham</code>”</p> 
<pre><code class="prism language-java">pm<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"Check if user with id1 is Leanne Graham"</span><span class="token punctuation">,</span> function <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> jsonData <span class="token operator">=</span> pm<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pm<span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span>jsonData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">.</span><span class="token function">eql</span><span class="token punctuation">(</span><span class="token string">"Leanne Graham"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/17/0f/IIhOxKO5_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 5</code>) 点击发送请求，可以看到你的请求之后测试结果中有两项显示测试通过。</strong></p> 
<p><img src="https://images2.imgbox.com/3c/8b/XFIsaqA7_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意：</strong> 有不同种类的测试可以在<code>Postman</code>中创建。尝试探索这个工具，看看哪些测试适合你实际测试。</p> 
<h3><a id="8__340"></a>8. 如何创建测试集合</h3> 
<p>集合在组织测试套件中扮演着重要的角色。它可以被导入和导出，使得在团队之间共享集合变得很容易。在本教程中，我们将学习如何创建和执行集合。</p> 
<p><strong><code>Step 1</code>) 单击页面左上角的<code>New</code>按钮，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/99/91/29VZSrub_o.png" alt="在这里插入图片描述"></p> 
<p><strong>Step 2) 选择<code>Collection</code>（集合），创建<code>collection</code>窗口弹出，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/d8/7f/lyOxUuTb_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>) 输入所需的集合名称和描述，然后单击<code>create</code>。</strong></p> 
<p>现在已经创建了一个集合。</p> 
<p><img src="https://images2.imgbox.com/68/e8/E8pmwBY6_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>) 和前面的<code>Get</code>请求一样，点击保存。</strong></p> 
<p><img src="https://images2.imgbox.com/c7/b6/lELDP55q_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step5</code> ）</strong></p> 
<p>1、选择<code>Postman</code>测试集合（<code>Test Collection</code>）</p> 
<p>2、点击保存<code>Postman Test Collection</code></p> 
<p><img src="https://images2.imgbox.com/dd/97/dLU7OIlK_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 6</code>) <code>Postman test collection</code>现在应该包含了一个请求，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/73/3d/Chm0TeVh_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 7</code>) 重复上述的<code>Step4-5</code>，继续创建请求，这样，测试集合就应该有2个请求了，如下图：</strong><br> <img src="https://images2.imgbox.com/25/c2/GmSrG1P0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="9_Collection_Runner_387"></a>9. 如何使用<code>Collection Runner</code>运行集合</h3> 
<p>有两种方式来运行一个集合，即<code>Collection Runner</code>和<code>Newman</code>。</p> 
<h4><a id="91Collection_Runner_391"></a>9.1.<code>Collection Runner</code></h4> 
<p><strong><code>Step 1</code>) 单击页面顶部导入按钮旁边的<code>Runner</code>按钮，如下图：</strong></p> 
<p><img src="https://images2.imgbox.com/52/17/XT8LuKwn_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 2</code>）<code>Collection Runner</code>页面应该出现如下所示。以下是对各个字段的描述</strong></p> 
<p><img src="https://images2.imgbox.com/7d/de/oRDD0kIW_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>) 做如下设置，运行你的测试集合</strong></p> 
<ul><li> <p>选择<code>Postman</code>测试集合-集合迭代次数为3</p> </li><li> <p>设置延迟为2500毫秒</p> </li><li> <p>点击<code>Start Run</code>按钮</p> </li></ul> 
<p><img src="https://images2.imgbox.com/61/e5/c6WgWp4j_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>) 单击<code>Run</code>按钮后将显示<code>Run</code>结果页。根据延迟的不同，你应该在测试执行的同时看到显示的结果。</strong></p> 
<p>1、一旦测试完成，你就可以看到测试状态是通过还是失败，以及每个迭代的结果。</p> 
<p>2、你将看到<code>Get</code>请求的<code>Pass</code>状态；</p> 
<p>3、由于我们没有任何<code>Post</code>测试，所以应该会出现请求没有任何测试的消息。</p> 
<p><img src="https://images2.imgbox.com/38/34/d5EfXb7B_o.png" alt="在这里插入图片描述"></p> 
<p>可以出在请求中进行测试是多么重要，这样你就可以验证<code>HTTP</code>请求状态是否成功，以及是否创建或检索了数据。</p> 
<h4><a id="92_Newman_429"></a>9.2 如何使用Newman运行集合</h4> 
<p>运行集合的另一种方式是通过<code>Newman</code>。<code>Newman</code>和<code>Collection Runner</code>之间的主要区别如下:</p> 
<p>1、<code>Newman</code>是<code>Postman</code>的替代品，所以需要单独安装<code>Newman</code>；</p> 
<p>2、<code>Newman</code>使用命令行，而<code>Collection Runner</code>使用<code>UI</code>界面；</p> 
<p>3、<code>Newman</code>可以用于持续集成。</p> 
<p><strong>安装<code>Newman</code>并运行<code>Collection</code>，步骤如下：</strong></p> 
<p><strong><code>Step 1</code>) 下载并安装<code>NodeJs</code>:</strong> <a href="http://nodejs.org/download/" rel="nofollow">http://nodejs.org/download/</a></p> 
<p><strong><code>Step 2</code>) 打开命令行窗口并输入下面命令：</strong></p> 
<pre><code class="prism language-shell"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> newman
</code></pre> 
<p>安装后如下图：</p> 
<p><img src="https://images2.imgbox.com/60/2d/hvMGdC60_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 3</code>）</strong></p> 
<p><code>Newman</code>安装好之后，让我们回到<code>Postman</code>的<code>workspace</code>。在<code>Collections</code>框中，单击三个点 <strong><code>...</code></strong> 会出现新的选择选项，可看到<code>Export</code>选项，如下图：</p> 
<p><img src="https://images2.imgbox.com/73/56/JB3B8Gw5_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 4</code>）</strong></p> 
<p>选择导出集合，默认使用推荐的集合版本，比如此处是<code>v2.1</code>，然后单击导出：</p> 
<p><img src="https://images2.imgbox.com/17/ab/ROk7ekxs_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 5</code>）</strong></p> 
<p>选择你想要保存的地址之后点击保存，这里建议专门新建一个文件夹来存放你的<code>Postman tests</code>。</p> 
<p><strong><code>Step 6</code>）</strong></p> 
<p>另外还需要导出我们的环境（<code>enviroment</code>）。单击全局环境下拉菜单旁边的<code>eye</code>图标，选择<code>JSON</code>格式下载。选择你想要的位置，然后单击<code>Save</code>。最好将环境放在与<code>Step5</code>导出的集合相同的文件夹中。</p> 
<p><img src="https://images2.imgbox.com/f7/4f/vrLoosBg_o.png" alt="在这里插入图片描述"></p> 
<p><strong><code>Step 7</code>）</strong></p> 
<p>导出<code>Environment</code>到集合文件夹后，现在回到命令行，将目录更改为保存集合和环境的位置。</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Asus<span class="token punctuation">\</span>Desktop<span class="token punctuation">\</span>Postman Tests
</code></pre> 
<p><strong><code>Step 8</code>）</strong></p> 
<p>使用下面的命令运行你的测试集合：</p> 
<pre><code class="prism language-shell">newman run PostmanTestCollection.postman_collection.json <span class="token parameter variable">-e</span> Testing.postman_globals.json
</code></pre> 
<p>运行的结果应该如下图：</p> 
<p><img src="https://images2.imgbox.com/8f/ef/CjESigA2_o.png" alt="在这里插入图片描述"></p> 
<p><strong>关于<code>Newman</code>的一些基础指导如下：</strong></p> 
<p><strong>1、只运行集合（如果没有环境或测试数据文件依赖关系，则可以使用此选项）</strong></p> 
<pre><code class="prism language-shell">newman run <span class="token operator">&lt;</span>collection name<span class="token operator">&gt;</span> 
</code></pre> 
<p><strong>2、运行集合和环境（参数<code>-e</code>是<code>environment</code>）</strong></p> 
<pre><code class="prism language-shell">newman run <span class="token operator">&lt;</span>collection name<span class="token operator">&gt;</span> <span class="token parameter variable">-e</span> <span class="token operator">&lt;</span>environment name<span class="token operator">&gt;</span> 
</code></pre> 
<p><strong>3、使用所需的编号运行集合的迭代</strong></p> 
<pre><code class="prism language-shell">newman run <span class="token operator">&lt;</span>collection name<span class="token operator">&gt;</span> <span class="token parameter variable">-n</span> <span class="token operator">&lt;</span>no.of iterations<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>4、运行数据文件</strong></p> 
<pre><code class="prism language-shell">newman run <span class="token operator">&lt;</span>collection name<span class="token operator">&gt;</span> <span class="token parameter variable">--data</span> <span class="token operator">&lt;</span>file name<span class="token operator">&gt;</span>  <span class="token parameter variable">-n</span> <span class="token operator">&lt;</span>no.of iterations<span class="token operator">&gt;</span> <span class="token parameter variable">-e</span> <span class="token operator">&lt;</span>environment name<span class="token operator">&gt;</span> 
</code></pre> 
<p><strong>5、设置延迟时间</strong></p> 
<p>（这一点很重要，因为如果由于请求在后台服务器上，完成前一个请求时没有延迟时间直接启动下一个请求，测试可能会失败。）</p> 
<pre><code class="prism language-shell">newman run <span class="token operator">&lt;</span>collection name<span class="token operator">&gt;</span> <span class="token parameter variable">-d</span> <span class="token operator">&lt;</span>delay time<span class="token operator">&gt;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5199fbd84350e7522d7571419a25dca7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">文件包含漏洞（DVWA靶场文件包含漏洞详解）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c8a0b2136bb32b97ddcbb49f2348de7a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">.gitignore 文件——如何在 Git 中忽略文件和文件夹详细教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>