<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【工业】工业无线组网场景下的典型拓扑及设备解决方案 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【工业】工业无线组网场景下的典型拓扑及设备解决方案" />
<meta property="og:description" content="工业以太网简介
工业以太网是指在工业环境的自动化控制及过程控制中应用以太网的相关组件及技术。工业以太网会采用TCP/IP协议，和IEEE 802.3标准兼容，但在应用层会加入各自特有的协议。常见工业协议简介：
lProfinet：西门子公司和PROFIBUS用户协会开发的实时通信协议，通信报文为二层和三层报文，延时要求高，常见于西门子设备上使用；
lModbus TCP：施耐德公司推出嵌入TCP帧的工业协议，通信报文为三层报文（IP层），工业设备之间通过彼此IP建立连接交互通信；
lEthernet/IP：面向自动化应用的工业应用层协议，通信报文为三层报文（IP层），是面向对象的协议，以TCP或UDP形式封装成报文在工业设备之间交互通信。
典型无线组网方案
典型的自动化车间、工厂、仓库等工业场景下无线组网拓扑存在要素：上位机（Server）/工业终端、交换机、无线接入点（AP）、无线客户端（Client），典型组网拓扑如下：
如何保证上位机与工业终端（AGV小车、机器人、PDA等）的正常通信，对于无线接入点（AP）和无线客户端（Client）的选择至关重要！！！干货来了！！
1、自带无线网卡接入无线的工业终端，只需要对AP进行选型即可：
2、没有无线网卡的工业终端，需要搭配无线客户端（Client）接入无线网络使用，需要对AP和Client进行选型：
看到这里就有小伙伴问了：这个无线通信格式三地址、四地址是个什么东西？Profinet通信为啥自带网卡接入的终端只要AP支持三地址就行，而搭配Client接入无线却需要AP和Client都必须支持四地址？而且Profinet必须要求5G吗？
在这里，小云君的答复是：
1、关于无线地址格式三地址/四地址技术我就不在本文扩展了，有兴趣的小伙伴可以找找相关资料自行查阅，后续我会在技术类的文档中给大家分享；
2、AP/Client的选择取决于通信协议，前面说过Profinet是二层报文，并不是上位机能ping通工业终端就可以了，还必须保证上位机Server能通过ARP正确的学习到工业终端的MAC才能建立PN连接并实现I/O通信。基于以下拓扑分析说明：
自带无线网卡的工业终端接入，上位机侧ARP表学到的是工业终端的真实MAC&#43;IP，PN二层/三层报文交互均能正常；
而搭配Client接入无线的工业终端，假设AP和Client之间跑三地址，在上位机侧ARP表学习到的只有Client自身MAC，该MAC会对应多个IP（Client自身IP、以及下挂LAN侧所有工业终端的IP），此时上位机封装二层PN报文的dst mac就是Client MAC发出去，最终无线客户端收到该二层报文后因为dst mac是自己就不会向LAN侧转发，工业终端因此收不到上位机过来的报文导致通信失败：
所以当AP与Client采用四地址格式通信，上位机才能正确识别到工业终端的真实MAC&#43;IP，从而实现PN协议的正常通信：
产品选型推荐
总结：针对Profinet通信需要买支持四地址格式和5G的无线设备，modbus TCP和Ethernet/IP支持三地址即可。
市面上所有厂商的AP或client基本都支持三地址，所以在这里我向大家推荐几款支持四地址的无线设备（更多机型请详细咨询各大设备厂商）：
（作者声明：最终产品解释权归各个厂家所有，在此仅作为已查到产品功能的支持情况给大家分享）
更多组网方案可关注微信公众号：网络工程师解决方案与技术
作者：小云君" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/2a6481c7f93c86712a926f65803a6373/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-03T20:33:22+08:00" />
<meta property="article:modified_time" content="2022-12-03T20:33:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【工业】工业无线组网场景下的典型拓扑及设备解决方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#f3f3f4;"><strong><span style="background-color:#a2e043;">工业以太网简介</span></strong></span></p> 
<p>工业以太网是指在工业环境的自动化控制及过程控制中应用以太网的相关组件及技术。工业以太网会采用TCP/IP协议，和IEEE 802.3标准兼容，但在应用层会加入各自特有的协议。常见工业协议简介：</p> 
<p><strong>lProfinet：</strong>西门子公司和PROFIBUS用户协会开发的实时通信协议，通信报文为二层和三层报文，延时要求高，常见于西门子设备上使用；</p> 
<p><strong>lModbus TCP</strong>：施耐德公司推出嵌入TCP帧的工业协议，通信报文为三层报文（IP层），工业设备之间通过彼此IP建立连接交互通信；</p> 
<p><strong>lEthernet/IP：</strong>面向自动化应用的工业应用层协议，通信报文为三层报文（IP层），是面向对象的协议，以TCP或UDP形式封装成报文在工业设备之间交互通信。</p> 
<p><span style="color:#f3f3f4;"><strong><span style="background-color:#a2e043;">典型无线组网方案</span></strong></span></p> 
<p>典型的自动化车间、工厂、仓库等工业场景下无线组网拓扑存在要素：上位机（Server）/工业终端、交换机、无线接入点（AP）、无线客户端（Client），典型组网拓扑如下：</p> 
<p class="img-center"><img alt="" height="537" src="https://images2.imgbox.com/3d/d3/73ZtkIaM_o.png" width="444"></p> 
<p><strong><span style="background-color:#f9eda6;">如何保证上位机与工业终端（AGV小车、机器人、PDA等）的正常通信，对于无线接入点（AP）和无线客户端（Client）的选择至关重要！！！干货来了！！</span></strong></p> 
<p class="img-center"><img alt="" height="50" src="https://images2.imgbox.com/10/d8/kZ1utThW_o.png" width="50"></p> 
<p>1、自带无线网卡接入无线的工业终端，只需要对AP进行选型即可：</p> 
<p class="img-center"><img alt="" height="181" src="https://images2.imgbox.com/48/1f/l52jttEF_o.png" width="444"></p> 
<p>2、没有无线网卡的工业终端，需要搭配无线客户端（Client）接入无线网络使用，需要对AP和Client进行选型：</p> 
<p class="img-center"><img alt="" height="140" src="https://images2.imgbox.com/b7/f6/GoJcjnFa_o.png" width="444"></p> 
<p>看到这里就有小伙伴问了：<strong>这个无线通信格式三地址、四地址是个什么东西？Profinet通信为啥自带网卡接入的终端只要AP支持三地址就行，而搭配Client接入无线却需要AP和Client都必须支持四地址？而且Profinet必须要求5G吗？</strong></p> 
<p class="img-center"><img alt="" height="117" src="https://images2.imgbox.com/e4/b6/Fdmc1Vze_o.png" width="111"></p> 
<p></p> 
<p><strong>在这里，小云君的答复是：</strong></p> 
<p>1、关于无线地址格式三地址/四地址技术我就不在本文扩展了，有兴趣的小伙伴可以找找相关资料自行查阅，后续我会在技术类的文档中给大家分享；</p> 
<p>2、AP/Client的选择取决于通信协议，前面说过Profinet是二层报文，并不是上位机能ping通工业终端就可以了，还必须保证上位机Server能通过ARP正确的学习到工业终端的MAC才能建立PN连接并实现I/O通信。基于以下拓扑分析说明：</p> 
<ol><li> <p>自带无线网卡的工业终端接入，上位机侧ARP表学到的是工业终端的真实MAC+IP，PN二层/三层报文交互均能正常；</p> </li><li> <p>而搭配Client接入无线的工业终端，假设AP和Client之间跑三地址，在上位机侧ARP表学习到的只有Client自身MAC，该MAC会对应多个IP（Client自身IP、以及下挂LAN侧所有工业终端的IP），此时上位机封装二层PN报文的dst mac就是Client MAC发出去，最终无线客户端收到该二层报文后因为dst mac是自己就不会向LAN侧转发，工业终端因此收不到上位机过来的报文导致通信失败：</p> </li></ol> 
<p class="img-center"><img alt="" height="236" src="https://images2.imgbox.com/e6/8a/1iF7vICg_o.png" width="444"></p> 
<p>所以当AP与Client采用四地址格式通信，上位机才能正确识别到工业终端的真实MAC+IP，从而实现PN协议的正常通信：</p> 
<p class="img-center"><img alt="" height="241" src="https://images2.imgbox.com/fa/f0/J3DUXBPR_o.png" width="444"></p> 
<p><strong><span style="color:#f3f3f4;"><span style="background-color:#a2e043;">产品选型推荐</span></span></strong></p> 
<p><strong><span style="background-color:#fefcd8;">总结：针对Profinet通信需要买支持四地址格式和5G的无线设备，modbus TCP和Ethernet/IP支持三地址即可。</span></strong></p> 
<p>市面上所有厂商的AP或client基本都支持三地址，所以在这里我向大家推荐几款支持四地址的无线设备（更多机型请详细咨询各大设备厂商）：</p> 
<p class="img-center"><img alt="" height="379" src="https://images2.imgbox.com/5f/ce/pm2LIbf4_o.png" width="444"></p> 
<p><strong><span style="color:#fe2c24;">（作者声明：最终产品解释权归各个厂家所有，在此仅作为已查到产品功能的支持情况给大家分享）</span></strong></p> 
<p></p> 
<p><span style="color:#38d8f0;"><strong>更多组网方案可关注微信公众号：网络工程师解决方案与技术</strong></span></p> 
<p><span style="color:#38d8f0;"><strong>作者：小云君</strong></span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fbd6f397892a3242da1b5547a712df55/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">头歌：数据预处理之数据清洗</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7eb69203bda38b9d6557d1e5560032fa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio 虚拟机安装搜狗输入法（实现输入中文）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>