<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DCDC: 环路稳定性的测量方法-穿越频率和相位裕度 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DCDC: 环路稳定性的测量方法-穿越频率和相位裕度" />
<meta property="og:description" content="穿越频率和相位裕度的测量方法-You can determine the crossover frequency (converter bandwidth) with transient analysis or by using a network analyzer. Both methods are shown.
有两种测量方法一种是采用示波器观察电压瞬态响应实现的；另一种是采用网络分析仪/频率分析仪测量bode图。显然，采用示波器测量是一种经济简便的方法，而采用网络分析仪测量更精准。
首先，介绍示波器测量方法。其实就是施加阶跃负载在输出端，观察输出电压瞬态响应。Figure 7 provides insight to the converter crossover frequency as described in Evaluation and Performance Optimization of Fully Integrated DC/DC Converters (Topic 7 of the 2006 Portable Power Design Seminar). 图7中，电压衰减频率是和控制环穿越频率相关的。用示波器光标第一个波谷和第二个波谷之间的时间，计算对应的振荡频率，得到的振荡频率约等于穿越频率。
从图中可看出，如果穿越频率（即振荡频率）增大，在加载后，变换器将更早调节输出电压，因此电压跌落和电压振荡都会减小。通过对比Figure7/8，可确定相位裕度大约为30°。
通过阶跃响应得到相位裕度
采用频率分析仪的方法则比较直接，直接可以得到精准的穿越频率和相位裕度。Figure9显示穿越频率为16KHz, 相位裕度为28°。
DCDC: 前馈电容Cff Feed forward capacitor增强环路稳定性 参考文章：Optimizing Transient Response of Internally Compensated dc-dc Converters With Feedforward Capacitor，http://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7915214976e92ffafd74677b1a8779b7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-09T15:25:24+08:00" />
<meta property="article:modified_time" content="2022-11-09T15:25:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DCDC: 环路稳定性的测量方法-穿越频率和相位裕度</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>穿越频率和相位裕度的测量方法-You can determine the crossover frequency (converter bandwidth) with transient analysis or by using a network analyzer. Both methods are shown.</p> 
<p>有两种测量方法一种是采用示波器观察电压瞬态响应实现的；另一种是采用网络分析仪/频率分析仪测量bode图。显然，采用示波器测量是一种经济简便的方法，而采用网络分析仪测量更精准。</p> 
<p><strong>首先，介绍示波器测量方法。</strong>其实就是施加阶跃负载在输出端，观察输出电压瞬态响应。Figure 7 provides insight to the converter crossover frequency as described in Evaluation and Performance Optimization of Fully Integrated DC/DC Converters (Topic 7 of the 2006 Portable Power Design Seminar). 图7中，电压衰减频率是和控制环穿越频率相关的。用示波器光标第一个波谷和第二个波谷之间的时间，计算对应的振荡频率，得到的振荡频率约等于穿越频率。</p> 
<p>从图中可看出，如果穿越频率（即振荡频率）增大，在加载后，变换器将更早调节输出电压，因此电压跌落和电压振荡都会减小。通过对比Figure7/8，可确定相位裕度大约为30°。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ea/32/KbNt5T7u_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/24/75/0anA8kEM_o.png"></p> 
<p>通过阶跃响应得到相位裕度</p> 
<p><strong>采用频率分析仪的方法</strong>则比较直接，直接可以得到精准的穿越频率和相位裕度。Figure9显示穿越频率为16KHz, 相位裕度为28°。</p> 
<p> </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/62/b4/cpbBA0hL_o.png"></p> 
<p></p> 
<h2><a href="https://www.cnblogs.com/digitalpower/p/12773360.html" rel="nofollow" id="cb_post_title_url" title="DCDC: 前馈电容Cff Feed forward capacitor增强环路稳定性">DCDC: 前馈电容Cff Feed forward capacitor增强环路稳定性</a></h2> 
<p>参考文章：<em>Optimizing Transient Response of Internally Compensated dc-dc Converters With Feedforward Capacitor，</em><a href="http://www.ti.com.cn/cn/lit/an/slva289b/slva289b.pdf" rel="nofollow" title="http://www.ti.com.cn/cn/lit/an/slva289b/slva289b.pdf">http://www.ti.com.cn/cn/lit/an/slva289b/slva289b.pdf</a></p> 
<p>翻译文章：优化带前馈电容的内置补偿 DC-DC转换器的瞬态响应，<a href="http://www.ti.com.cn/cn/lit/an/zhca058/zhca058.pdf" rel="nofollow" title="http://www.ti.com.cn/cn/lit/an/zhca058/zhca058.pdf">http://www.ti.com.cn/cn/lit/an/zhca058/zhca058.pdf</a></p> 
<p><strong>1. 基本原理</strong></p> 
<p>在内部补偿的converter的FB网络增加前馈电容，可调节控制环穿越频率和相位裕度，提升控制性能。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/db/20/X2m1qzHi_o.png"></p> 
<p>计算公式：可以参考文章：<a href="http://cdn14.21dianyuan.com/download.php?id=86923" rel="nofollow" title="Evaluation and Performance Optimization of Fully Integrated DC-DC Converter.pdf">Evaluation and Performance Optimization of Fully Integrated DC-DC Converter.pdf</a></p> 
<p>零点频率：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b1/9d/H8yE0nJx_o.png"></p> 
<p>极点频率：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/81/31/blsr6pgV_o.png"></p> 
<p>未补偿之前的波特图： </p> 
<p>                                  </p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/51/da/TrLdKtwF_o.png"></p> 
<p> 补偿之后的波特图：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/34/fe/Gupm3mFO_o.png"></p> 
<p>To optimize transient response, a Cff value is chosen such that the gain and phase boost of the feedback increases the bandwidth of the converter, while still maintaining an acceptable phase margin. . In general, larger values of Cff provide greater bandwidth improvements. However, if Cff is too large, the feedforward capacitor causes the loop gain to crossover too high in frequency and the Cff phase boost contribution is insufficient, resulting in unacceptable phase margin or instability.</p> 
<p>Cff的目的是提升反馈回路的增益和相位，同时保持可接受的相位裕度。</p> 
<p><strong>2. 如何计算前馈电容</strong></p> 
<p>首先是补偿频率的选择。这里采用一种近似的方法，将补偿之后的频率设置为等于fz和fp的几何平均数，即fz和fp对数域的平均频率，参考下方公式3、4。在几何平均频率处，Cff电容带来的相位提升最大(The geometric mean frequency equation is used to calculate the frequency where the phase boost from the zero and pole is at a maximum.)</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e7/f3/tczxCPTq_o.png"></p> 
<p>把几何平均频率选择在没有Cff电容时的穿越频率(Setting the geometric mean frequency equal to the converter crossover frequency with no Cff positions the maximum phase boost of Cff at f_nocff. )。但是由于Cff电容会同时提升相位和增益，新的穿越频率会比几何平均频率大(However, because Cff introduces a boost in phase and in gain, the new crossover frequency occurs at a frequency greater than the geometric mean frequency.)。按照上述公式（6）即可计算出最优化的前馈电容。最优化指的是，在穿越频率和相位裕度之间折中达到最优。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/40/f4/oLvRPJ3Q_o.png"></p> 
<p><strong>3. 更进一步，如何根据需求选择前馈电容</strong></p> 
<p><strong>结论：前馈电容选取大于计算的电容，会导致穿越频率更高(响应速度更快)，但是相位裕度会减小。如果选取小一些，穿越频率会低一些，当相位裕度会大一些。需要根据实际情况选取，并用测试验证。</strong></p> 
<p>For most applications, this is an optimum placement of the feedforward capacitor response. Increasing the feedforward capacitance value pushes both the zero and pole frequencies closer to the origin which increases the crossover frequency but can result in lower overall phase margin. This corresponds to a faster loop at the expense of lower phase margin. Decreasing the Cff value results in the opposite result until a certain point where the feedforward capacitor gain and phase boost contribution diminishes and approaches the response of having no Cff. Having too small a Cff value injects a zero and pole at frequencies too high and effectively too late in loop response, resulting in little or no performance improvement.</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/1a/af/cxKTNwly_o.png"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f65f366c7f6e50e71cec8d9a569eef0b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【JAVA】对树形结构进行模糊查询（含分页）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2243f7f95d513068aa655b35df769c8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">netcore swagger 隐藏接口文档字段</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>