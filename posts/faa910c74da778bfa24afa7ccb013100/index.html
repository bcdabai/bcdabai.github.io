<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>企业微信建设代开发应用的基本流程及实现 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="企业微信建设代开发应用的基本流程及实现" />
<meta property="og:description" content=" 一、企业微信代开发应用的基本流程 企业微信中除了系统提供的应用以及上架应用商店的第三方应用外，也可以使用自己开发的应用，不过多数企业都不具备开发能力，只能采用代开发的形式进行定制。就给大家分享一下企业微信代开发应用的基本流程，为大家定制应用提供参考。
1.1什么是代开发应用 如我方是科技服务公司A，有一家公司B，B提出想在自己的企业微信工作台上，上线一个xxx功能，但是B公司没有自己的研发人员去实现完成，且也没有服务器去支撑。所以找到了A。A通过自己家的企业微信，创建一个模板，让B的管理员扫码授权后，A的研发人员可以在模板下开发应用，提交上线到B的企业微信中。这就是代开发应用。
微信官方的解释：当前第三方服务商为企业代开发自建应用时，需要线下获取企业的各类密钥数据，流程复杂、管理成本高且权限获取有安全合规风险。为了帮助服务商更加高效地、安全地为企业提供应用代开发服务，企业微信新增自建应用代开发模式，即：企业可通过扫码授权的方式，授权第三方服务商代开发自建应用。 官网：https://work.weixin.qq.com/
1.2代开发流程 二、开发过程 2.1 创建代开发模板 首先需要开发公司创建代开发应用模板，填写代开发模板的名称、介绍、Logo、分类行业等信息，填写该代开发模板的回调 URL、Token、加密key等信息并提交申请。
点击下一步 配置回调接口
注意：这个回调接口，需同时支持POST请求，GET请求！！！！
如果是服务端是Java 参考如下Controller层代码：
这个模板回调接口是干什么的？主要的意义如下：
官方介绍
2.2 创建代开发模板 完成模板创建后，点击模板查看会看见一个二维码，发给客户企业微信的管理员进行扫码授权，企业客户扫码后会有如下的提示：
授权以后，我方的模板下会展示该客户企业：
点击进行代开应用的配置，配置基本信息、回调URL，主页等。
此时。当前应用中也有一个回调URL，这个url也要支持POST、GET请求，在这个URL里，对微信发送来的消息进行校验。授权后，服务商将收到授权成功的回调通知，通过解密可以得到该企业对应于该代开发模板的临时授权码 auth_code。
通过临时授权码与以上步骤得到的代开发应用凭证 suite_access_token 作为参数，调用代开发授权应用secret的获取接口，便能获得企业对于该代开发模板的代开发授权应用secret 、corpid、agentid。之后开发公司即可将这些信息配置到应用开发中，为企业客户代开发应用。
2.3 提交上线 一定要选择代开发应用模板下的代开发应用！这一步不要选错。确定以后，微信端审核，大约一两分钟时间，会显示提交上线的按钮出来，点击提交上线，完成微信代开发应用的建设。
三、注意事项 以上只是微信代建应用的流程，契合到项目中，要考虑把微信中的openid与当前项目体系中的用户进行关联映射的绑定。比如我们的页面其实是在APP登陆后 才能进入的一个工作台，在其中就要涉及到用户角色权限的问题。做法就是通过企业微信的开发接口获取当前用户信息，在关联映射表中找出对应的用户，而后再进行一个模拟登录生成Token，将token再放入请求头中去访问我的业务功能。
/** * provied by zym * 0 error(s), 0 warning(s) */ " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/faa910c74da778bfa24afa7ccb013100/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-12T17:07:34+08:00" />
<meta property="article:modified_time" content="2023-06-12T17:07:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">企业微信建设代开发应用的基本流程及实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、企业微信代开发应用的基本流程</h3> 
<p>企业微信中除了系统提供的应用以及上架应用商店的第三方应用外，也可以使用自己开发的应用，不过多数企业都不具备开发能力，只能采用代开发的形式进行定制。就给大家分享一下企业微信代开发应用的基本流程，为大家定制应用提供参考。<br> <img src="https://images2.imgbox.com/25/57/2WIL3YEv_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="11_3"></a>1.1什么是代开发应用</h4> 
<p>如我方是科技服务公司A，有一家公司B，B提出想在自己的企业微信工作台上，上线一个xxx功能，但是B公司没有自己的研发人员去实现完成，且也没有服务器去支撑。所以找到了A。A通过自己家的企业微信，创建一个模板，让B的管理员扫码授权后，A的研发人员可以在模板下开发应用，提交上线到B的企业微信中。这就是代开发应用。<br> 微信官方的解释：当前第三方服务商为企业代开发自建应用时，需要线下获取企业的各类密钥数据，流程复杂、管理成本高且权限获取有安全合规风险。为了帮助服务商更加高效地、安全地为企业提供应用代开发服务，企业微信新增自建应用代开发模式，即：企业可通过扫码授权的方式，授权第三方服务商代开发自建应用。 官网：https://work.weixin.qq.com/</p> 
<h4><a id="12_6"></a>1.2代开发流程</h4> 
<p><img src="https://images2.imgbox.com/05/3a/bLAmRJTs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_9"></a>二、开发过程</h3> 
<h4><a id="21__10"></a>2.1 创建代开发模板</h4> 
<p>首先需要开发公司创建代开发应用模板，填写代开发模板的名称、介绍、Logo、分类行业等信息，填写该代开发模板的回调 URL、Token、加密key等信息并提交申请。<br> <img src="https://images2.imgbox.com/8d/7a/hJFLgAvP_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e2/c6/r8MadcVd_o.png" alt="在这里插入图片描述"><br> 点击下一步 配置回调接口<br> <img src="https://images2.imgbox.com/7c/f1/usBkm59s_o.png" alt="在这里插入图片描述"><br> 注意：这个回调接口，需同时支持POST请求，GET请求！！！！<br> 如果是服务端是Java 参考如下Controller层代码：<br> <img src="https://images2.imgbox.com/5e/85/W4CpYcHh_o.png" alt="在这里插入图片描述"><br> 这个模板回调接口是干什么的？主要的意义如下：<br> <a href="https://developer.work.weixin.qq.com/document/path/91116" rel="nofollow">官方介绍</a><br> <img src="https://images2.imgbox.com/26/b0/xwVEVbJ8_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="22__23"></a>2.2 创建代开发模板</h4> 
<p>完成模板创建后，点击模板查看会看见一个二维码，发给客户企业微信的管理员进行扫码授权，企业客户扫码后会有如下的提示：<br> <img src="https://images2.imgbox.com/c9/78/vKnNervp_o.jpg" alt="在这里插入图片描述"><br> 授权以后，我方的模板下会展示该客户企业：<br> <img src="https://images2.imgbox.com/48/d0/GC7motUz_o.png" alt="在这里插入图片描述"><br> 点击进行代开应用的配置，配置基本信息、回调URL，主页等。<br> <img src="https://images2.imgbox.com/ab/d5/Krber0pH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/11/4e/9oE0arFB_o.png" alt="在这里插入图片描述"><br> 此时。当前应用中也有一个回调URL，这个url也要支持POST、GET请求，在这个URL里，对微信发送来的消息进行校验。授权后，服务商将收到授权成功的回调通知，通过解密可以得到该企业对应于该代开发模板的临时授权码 auth_code。<br> 通过临时授权码与以上步骤得到的代开发应用凭证 suite_access_token 作为参数，调用代开发授权应用secret的获取接口，便能获得企业对于该代开发模板的代开发授权应用secret 、corpid、agentid。之后开发公司即可将这些信息配置到应用开发中，为企业客户代开发应用。</p> 
<h4><a id="23__33"></a>2.3 提交上线</h4> 
<p><img src="https://images2.imgbox.com/0d/bd/tG9M86EH_o.png" alt="在这里插入图片描述"></p> 
<p>一定要选择代开发应用模板下的代开发应用！这一步不要选错。确定以后，微信端审核，大约一两分钟时间，会显示提交上线的按钮出来，点击提交上线，完成微信代开发应用的建设。<br> <img src="https://images2.imgbox.com/1c/33/SDXDVJwP_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="_39"></a>三、注意事项</h3> 
<p>以上只是微信代建应用的流程，契合到项目中，要考虑把微信中的openid与当前项目体系中的用户进行关联映射的绑定。比如我们的页面其实是在APP登陆后 才能进入的一个工作台，在其中就要涉及到用户角色权限的问题。做法就是通过企业微信的开发接口获取当前用户信息，在关联映射表中找出对应的用户，而后再进行一个模拟登录生成Token，将token再放入请求头中去访问我的业务功能。</p> 
<pre><code>	 /**
     *  provied by zym
     *  0 error(s), 0 warning(s)
     */
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/45f93493489e06c8d717ba0ed5855c9f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">React &#43; Antd实现动态切换主题功能之二（默认主题与暗黑色主题切换）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eb48d250c5b178cf399c3ad30df64dc9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS7安装docker</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>