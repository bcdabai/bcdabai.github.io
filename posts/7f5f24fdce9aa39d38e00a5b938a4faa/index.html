<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hystrix核心源码剖析 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Hystrix核心源码剖析" />
<meta property="og:description" content=" 分析入口：@EnableCircuitBreaker注解激活了熔断功能，那么该注解就是Hystrix源码追踪的入口
@EnableCircuitBreaker注解激活熔断器
查看EnableCircuitBreakerImportSelector类 继续关注父类 SpringFactoryImportSelector spring.factories文件内容如下 会注入org.springframework.cloud.netflix.hystrix.HystrixCircuitBreakerConfiguration 关注切面：com.netflix.hystrix.contrib.javanica.aop.aspectj.HystrixCommandAspect 重点分析环绕通知方法 GenericCommand中根据元数据信息重写了两个很核心的方法，一个是run方法封装了对原始目标方法的调用，另外一个是getFallBack方法它封装了对回退方法的调用另外，在GenericCommand的上层类构造函数中会完成资源的初始化，比如线程池
GenericCommand —&gt;AbstractHystrixCommand—&gt;HystrixCommand—&gt;AbstractCommand 接下来回到环绕通知方法那张截图 进入execute执行这里 另外，我们观察，GenericCommand方法中根据元数据信息等重写了run方法（对目标方法的调用），getFallback方法（对回退方法的调用），在RxJava处理过程中会完成对这两个方法的调用。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/7f5f24fdce9aa39d38e00a5b938a4faa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-26T09:49:35+08:00" />
<meta property="article:modified_time" content="2022-08-26T09:49:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Hystrix核心源码剖析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>分析入口：@EnableCircuitBreaker注解激活了熔断功能，那么该注解就是Hystrix源码追踪的入口</p> 
<p><span style="color:#956fe7;"><strong>@EnableCircuitBreaker注解激活熔断器</strong></span></p> 
<p class="img-center"><img alt="" height="422" src="https://images2.imgbox.com/8a/0d/oTPGDHy5_o.png" width="1088"></p> 
<p><span style="color:#956fe7;"><strong>查看EnableCircuitBreakerImportSelector类 </strong></span></p> 
<p class="img-center"><img alt="" height="372" src="https://images2.imgbox.com/a5/45/loaonzDN_o.png" width="1180"></p> 
<p><span style="color:#956fe7;"><strong>继续关注父类 SpringFactoryImportSelector </strong></span></p> 
<p class="img-center"><img alt="" height="159" src="https://images2.imgbox.com/c4/7c/gEwklO2m_o.png" width="1153"></p> 
<p class="img-center"><img alt="" height="414" src="https://images2.imgbox.com/6c/cf/5nKQ4eFV_o.png" width="1200"></p> 
<p><strong>spring.factories文件内容如下 </strong></p> 
<p class="img-center"><img alt="" height="454" src="https://images2.imgbox.com/0f/3d/UNU01e3w_o.png" width="1200"></p> 
<p><span style="color:#be191c;"><strong>会注入org.springframework.cloud.netflix.hystrix.HystrixCircuitBreakerConfiguration </strong></span></p> 
<p class="img-center"><img alt="" height="273" src="https://images2.imgbox.com/b4/22/u0jdgjz2_o.png" width="1131"></p> 
<p><span style="color:#b95514;"><strong>关注切面：com.netflix.hystrix.contrib.javanica.aop.aspectj.HystrixCommandAspect </strong></span></p> 
<p class="img-center"><img alt="" height="655" src="https://images2.imgbox.com/48/05/hn6beC5a_o.png" width="1200"></p> 
<p><strong>重点分析环绕通知方法 </strong></p> 
<p class="img-center"><img alt="" height="586" src="https://images2.imgbox.com/58/7c/XJoFHPwx_o.png" width="1200"></p> 
<p>        GenericCommand中根据元数据信息重写了两个很核心的方法，一个是run方法封装了对原始目标方法的调用，另外一个是getFallBack方法它封装了对回退方法的调用另外，在GenericCommand的上层类构造函数中会完成资源的初始化，比如线程池<br> GenericCommand —&gt;AbstractHystrixCommand—&gt;HystrixCommand—&gt;AbstractCommand </p> 
<p class="img-center"><img alt="" height="408" src="https://images2.imgbox.com/38/c0/85LdK5Y8_o.png" width="1135"></p> 
<p class="img-center"><img alt="" height="533" src="https://images2.imgbox.com/14/1e/ELBZzWRk_o.png" width="1200"></p> 
<p class="img-center"><img alt="" height="688" src="https://images2.imgbox.com/2f/ac/MMY6seIt_o.png" width="1200"></p> 
<p><span style="color:#ad720d;"><strong>接下来回到环绕通知方法那张截图 </strong></span></p> 
<p class="img-center"><img alt="" height="579" src="https://images2.imgbox.com/1f/89/OSmuC6MY_o.png" width="1200"></p> 
<p><span style="color:#956fe7;"><strong>进入execute执行这里 </strong></span></p> 
<p class="img-center"><img alt="" height="262" src="https://images2.imgbox.com/03/e9/qq38dp3b_o.png" width="1072"></p> 
<p class="img-center"><img alt="" height="494" src="https://images2.imgbox.com/0b/df/T4cCgNvP_o.png" width="1116"></p> 
<p class="img-center"><img alt="" height="328" src="https://images2.imgbox.com/c3/38/KfTmsZhB_o.png" width="1175"></p> 
<p>        另外，我们观察，GenericCommand方法中根据元数据信息等重写了run方法（对目标方法的调用），getFallback方法（对回退方法的调用），在RxJava处理过程中会完成对这两个方法的调用。 </p> 
<p class="img-center"><img alt="" height="234" src="https://images2.imgbox.com/3e/a5/5FSv0Gx7_o.png" width="1055"></p> 
<p class="img-center"><img alt="" height="341" src="https://images2.imgbox.com/8b/e6/lkZBoUpq_o.png" width="1111"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5d41638da226662915b81b9264fde990/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">麒麟系统安装tomcat</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/331d00803b071d7b72bc7f7c0bd874e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">银河麒麟安装向日葵</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>