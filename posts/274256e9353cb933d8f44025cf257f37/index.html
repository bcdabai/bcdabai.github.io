<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mmdetection成功训练balloon - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mmdetection成功训练balloon" />
<meta property="og:description" content="打开configs文件下，选择一个要用的网络来训练的.py文件，右键，复制绝对地址
2、修改地址表达：粘贴到某处，都改为\\以防出错。
4、回到train.py，右键运行。没有下载会自动下载。
（或者直接在下方Terminal用指令python tools/train.py xxx.py 代替3-4步骤）
5、运行后会报错，也就会生成文件。位置在tools/work_dirs下
6、复制粘贴到configs下，后续就用这个文件的基础上修改，这样操作更全面。
7、对该文件进行修改。：
改两个class=1，改max epoch = 5，改train val test路径 ，改学习率 降低weight_decay = 0.0002，改load_from = xxx.pth&#39;，改samples_per_gpu=2,workers_per_gpu=1或0,（网络比较复杂就改小，网络简单小的话就改大一些，比如在SSD中，samples_per_gpu=16也可以）
8、coco.py修改（和数据集json文件中对应相等才行，否则报错。记得下面颜色也改为对应数量）
9、修改完毕，再次修改参数为当前位置的文件（复制当前位置绝对路径到Train.py的配置中）。最终在train.py右键运行。（或者使用指令python tools/train.py xxx.py）
出现问题：
1、 runner.logger.info(&#39;loss become infinite or NaN!&#39;)
AssertionError: None
降低学习率 weight_decay = 0.0002
2、UnicodeDecodeError: ‘utf-8‘ codec can‘t decode byte 0xd3 in position 0: invalid continuation byte
env_info[&#39;MSVC&#39;] = cc.decode(encoding).partition(&#39;\n&#39;)[0].strip()
改为：env_info[&#39;MSVC&#39;] = cc.decode(encoding,&#34;ignore&#34;).partition(&#39;\n&#39;)[0].strip()
decode（）增加一个ignore就可以了" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/274256e9353cb933d8f44025cf257f37/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-29T22:07:46+08:00" />
<meta property="article:modified_time" content="2023-11-29T22:07:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mmdetection成功训练balloon</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <div> 
  <div> 
   <div> 
    <img alt="" src="https://images2.imgbox.com/e1/39/XZhGil3O_o.png" width="378"> 
   </div> 
  </div> 
 </div> 
 <ol><li style="margin-left:1.4em;"> <p>打开configs文件下，选择一个要用的网络来训练的.py文件，右键，复制绝对地址</p> </li></ol> 
 <div> 
  <div> 
   <div> 
    <img alt="" src="https://images2.imgbox.com/3d/ec/bxk4J45X_o.png" width="389"> 
   </div> 
  </div> 
 </div> 
 <p>2、修改地址表达：粘贴到某处，都改为\\以防出错。</p> 
 <div> 
  <div> 
   <div> 
    <img alt="" src="https://images2.imgbox.com/c5/68/s4a7mFnQ_o.png" width="1200"> 
   </div> 
  </div> 
 </div> 
 <p>4、回到train.py，右键运行。没有下载会自动下载。</p> 
 <p>（或者直接在下方Terminal用指令python tools/train.py xxx.py  代替3-4步骤）</p> 
 <p>5、运行后会报错，也就会生成文件。位置在tools/work_dirs下</p> 
 <div> 
  <div> 
   <div> 
    <img alt="" src="https://images2.imgbox.com/75/6a/NGgEgl5n_o.png" width="894"> 
   </div> 
  </div> 
 </div> 
 <p>6、复制粘贴到configs下，后续就用这个文件的基础上修改，这样操作更全面。</p> 
 <p>7、对该文件进行修改。：</p> 
 <p>改<span style="color:#c21c13;">两个class=1</span>，改<span style="color:#c21c13;">max epoch = 5</span>，改<span style="color:#c21c13;">train val test路径</span> ，改学习率 降低<span style="color:#c21c13;">weight_decay = 0.0002</span><span style="color:#080f17;">，改</span><span style="color:#c21c13;">load_from = xxx.pth'</span><span style="color:#080f17;">，</span><span style="color:#080f17;">改</span><span style="color:#c21c13;">samples_per_gpu=2,workers_per_gpu=1或0</span>,（网络比较复杂就改小，网络简单小的话就改大一些，比如在SSD中，samples_per_gpu=16也可以）</p> 
 <p>8、coco.py修改（和数据集json文件中对应相等才行，否则报错。记得下面颜色也改为对应数量）</p> 
 <div> 
  <div> 
   <div> 
    <img alt="" src="https://images2.imgbox.com/b6/92/gbaK2yS7_o.png" width="1200"> 
   </div> 
  </div> 
 </div> 
 <p></p> 
 <p>9、修改完毕，再次修改参数为当前位置的文件（复制当前位置绝对路径到Train.py的配置中）。最终在train.py右键运行。（或者使用指令python tools/train.py xxx.py）</p> 
 <p></p> 
 <p>出现问题：</p> 
 <p><strong>1、 </strong><span style="color:#c21c13;"><strong>runner.logger.info('loss become infinite or NaN!')</strong></span></p> 
 <p><span style="color:#c21c13;"><strong>AssertionError: None</strong></span></p> 
 <p>降低学习率 weight_decay = 0.0002</p> 
 <p>2、<span style="color:#c21c13;"><strong>UnicodeDecodeError: ‘utf-8‘ codec can‘t decode byte 0xd3 in position 0: invalid continuation byte</strong></span></p> 
 <p>env_info['MSVC'] = cc.decode(encoding).partition('\n')[0].strip()</p> 
 <p>改为：env_info['MSVC'] = cc.decode(encoding,"ignore").partition('\n')[0].strip()</p> 
 <p>decode（）增加一个ignore就可以了</p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7a3de6afabdb8402a5fd869d05b2cb7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【总结】一次MySQL数据库迁移实战</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8031057a7dc7fb58bc685b3d88e3ed8e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">08-鸿蒙4.0学习之If、else条件判断语句</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>