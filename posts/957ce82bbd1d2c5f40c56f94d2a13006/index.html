<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常用adb命令整理 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常用adb命令整理" />
<meta property="og:description" content="1.清空app缓存
adb shell pm clear 包名
2.查看app当前运行的activity
adb shell “dumpsys window | grep mCurrentFocus”
adb -s 设备名 shell “dumpsys window | grep mCurrentFocus”
adb shell dumpsys activity | findstr “mFocusedActivity”
3.端口转发命令
adb forward tcp:27042 tcp:27042
adb forward tcp:27043 tcp:27043
4.根据端口连接模拟器命令
adb connect 127.0.0.1:54011
5.启动app
adb shell am start -n 包名/.Activity
6.查看手机中安装的app（包名）
adb shell pm list packages
7.强制关闭app
adb shell am force-stop 包名
8.根据坐标点击
adb shell input tap 420 100" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/957ce82bbd1d2c5f40c56f94d2a13006/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-27T14:50:25+08:00" />
<meta property="article:modified_time" content="2020-07-27T14:50:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常用adb命令整理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1.清空app缓存<br> adb shell pm clear 包名</p> 
<p>2.查看app当前运行的activity<br> adb shell “dumpsys window | grep mCurrentFocus”<br> adb -s 设备名 shell “dumpsys window | grep mCurrentFocus”<br> adb shell dumpsys activity | findstr “mFocusedActivity”</p> 
<p>3.端口转发命令<br> adb forward tcp:27042 tcp:27042<br> adb forward tcp:27043 tcp:27043</p> 
<p>4.根据端口连接模拟器命令<br> adb connect 127.0.0.1:54011</p> 
<p>5.启动app<br> adb shell am start -n 包名/.Activity</p> 
<p>6.查看手机中安装的app（包名）<br> adb shell pm list packages</p> 
<p>7.强制关闭app<br> adb shell am force-stop 包名</p> 
<p>8.根据坐标点击<br> adb shell input tap 420 100</p> 
<p>9.给下一个页面传参数：<br> adb shell am start -a android.intent.action.VIEW --el xxId 2355213 -n 包名/下一页面activity<br> adb shell am start -a android.intent.action.hq.TEST_AM --es TEST test --es TEST1 test1<br> el es 代表不同的参数类型<br> [-a ]：指定 intent 的 Action（setAction()方法），如“android.intent.action.VIEW”。此指定只能声明一次。?am start -a android.intent.action.hq.TEST_AM<br> [-d &lt;DATA_URI&gt;]：指定 intent 的 Data（setData()方法），如“content://contacts/people/1”。此指定只能声明一次。<br> [-t &lt;MIME_TYPE&gt;]：指定 intent MIME 类型，如“image/png”。此指定只能声明一次。<br> [-c [-c ] …]：指定 intent 类别（addCategory(String category)），如“android.intent.category.APP_CONTACTS”。<br> [-n ]：指定带有包名前缀的组件名称以创建显式 intent，如“com.example.heqiang.testsomething/.commontest.OtherTestActivity”。<br> [–f ]：将标志添加到intent<br> [-e|–es &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt; …]：添加一个 null extra。URI intent 不支持此选项。?adb shell am start -a android.intent.action.hq.TEST_AM --es TEST test，如果有多个参数：adb shell am start -a android.intent.action.hq.TEST_AM --es TEST test --es TEST1 test1<br> [–esn &lt;EXTRA_KEY&gt; …]：添加字符串数据作为键值对。?adb shell am start -a android.intent.action.hq.TEST_AM --esn TEST<br> [–ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt; …]：添加布尔型数据作为键值对。?adb shell am start -a android.intent.action.hq.TEST_AM --ez TEST true<br> [–ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt; …]：添加整数型数据作为键值对。<br> [–el &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt; …]：添加长整型数据作为键值对。<br> [–ef &lt;EXTRA_KEY&gt; &lt;EXTRA_FLOAT_VALUE&gt; …]：添加浮点型数据作为键值对。<br> [–eu &lt;EXTRA_KEY&gt; &lt;EXTRA_URI_VALUE&gt; …]：添加 URI 数据作为键值对。<br> [–ecn &lt;EXTRA_KEY&gt; &lt;EXTRA_COMPONENT_NAME_VALUE&gt;]：添加组件名称，将其作为 ComponentName 对象进行转换和传递。<br> [–eia &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;[,&lt;EXTRA_INT_VALUE…]]：添加整数数组， 转换成Integer[]进行传递<br> [–eial &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;[,&lt;EXTRA_INT_VALUE…]]：添加整数数组，转换成List进行传递<br> [–ela &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;[,&lt;EXTRA_LONG_VALUE…]]：添加长整型数组，转换成Long[]进行传递<br> [–elal &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;[,&lt;EXTRA_LONG_VALUE…]]：添加长整型数组，转换成List进行传递<br> [–efa &lt;EXTRA_KEY&gt; &lt;EXTRA_FLOAT_VALUE&gt;[,&lt;EXTRA_FLOAT_VALUE…]]：添加浮点型数组，转换成Float[]进行传递<br> [–efal &lt;EXTRA_KEY&gt; &lt;EXTRA_FLOAT_VALUE&gt;[,&lt;EXTRA_FLOAT_VALUE…]]：添加浮点型数组，转换成List进行传递<br> [–esa &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt;[,&lt;EXTRA_STRING_VALUE…]]：添加字符串数组，转换成String[]进行传递adb shell am start -a android.intent.action.hq.TEST_AM --esa TEST a,b,c<br> [–esal &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt;[,&lt;EXTRA_STRING_VALUE…]]：添加字符串数组，转换成List进行传递<br> [–grant-read-uri-permission]?：包含标志 FLAG_GRANT_READ_URI_PERMISSION。<br> [–grant-write-uri-permission]：包含标志 FLAG_GRANT_WRITE_URI_PERMISSION。<br> [–grant-persistable-uri-permission]：<br> [–grant-prefix-uri-permission]：<br> [–debug-log-resolution]：<br> [–exclude-stopped-packages]：<br> [–include-stopped-packages]：<br> [–activity-brought-to-front]：<br> [–activity-clear-top]：<br> [–activity-clear-when-task-reset]：<br> [–activity-exclude-from-recents]：<br> [–activity-launched-from-history]：<br> [–activity-multiple-task]：<br> [–activity-no-animation]：<br> [–activity-no-history]：<br> [–activity-no-user-action]：<br> [–activity-previous-is-top]：<br> [–activity-reorder-to-front]：<br> [–activity-reset-task-if-needed]：<br> [–activity-single-top]：<br> [–activity-clear-task]：<br> [–activity-task-on-home]：<br> [–receiver-registered-only]：<br> [–receiver-replace-pending]：<br> [–receiver-foreground]：<br> [–selector]：<br> [ | | ]：如果不受上述某一选项的限制，那么就认为是直接指定 URI、包名和组件名称。当参数不受限制时，如果参数包含一个“:”（冒号），则认为参数是一个 URI；如果参数包含一个“/”（正斜杠），则认为参数是一个组件名称；否则认为参数是一个包名。</p> 
<p>##参考文章：https://blog.csdn.net/nuonuonuonuonuo/article/details/90031867</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7bb47fb3815a1314f5b3968cc497d8f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决 SpringBoot 2.3.1 图片上传至根目录下 需要重新编译或者重启才能访问到图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d046d3b2404bb9b36a75bea3a3e890ee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决Mysql replication error 1594 - Relay log read failure - Could not parse relay log event entry</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>