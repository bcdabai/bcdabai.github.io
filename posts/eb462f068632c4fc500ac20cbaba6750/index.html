<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>k8s-pod控制器Deployment - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="k8s-pod控制器Deployment" />
<meta property="og:description" content=" 在kubernetes中，Pod是最小的控制单元，但是kubernetes很少直接控制Pod，一般都是通过Pod控制
器来完成的。Pod控制器用于pod的管理，确保pod资源符合预期的状态，当pod的资源出现故障时，会
尝试进行重启或重建pod
一、名称空间 主要作用是用来实现多套环境的资源隔离或者多租户的资源隔离
kubernetes集群中的所有的Pod都是可以相互访问的。但是在实际中，可能不想让两个
Pod之间进行互相的访问，那此时就可以将两个Pod划分到不同的namespace下。kubernetes通过将集
群内部的资源分配到不同的Namespace中，可以形成逻辑上的&#34;组&#34;，以方便不同的组的资源进行隔离使
用和管理。
可以通过kubernetes的授权机制，将不同的namespace交给不同租户进行管理，这样就实现了多租户
的资源隔离。此时还能结合kubernetes的资源配额机制，限定不同租户能占用的资源，例如CPU使用
量、内存使用量等等，来实现租户可用资源的管理。
名称空间下，包含了pod控制器deployment、pod等如果删除了名称空间，那么在这个名称空间下的所有资源都将会被直接删除比如名称空间test下，有5个pod，想要删除所有pod，可以直接删除名称空间，这样所有pod都被删除了 #namespace 可以简写为ns kubectl create ns test 附：查看资源简写可以使用kubectl api-resources
二、pod Pod是k8s中最小的控制单元，应该程序需要部署在容器中，而容器存在于pod中，一个pod可以有一个或多个容器，pod是容器的封装
pause为系统的容器
1.命令式对象管理方式创建pod帮助文档
#nginx-pod 为pod的名称 #-n 指定在哪个名称空间 kubectl run nginx-pod --image=nginx:latest -n test 三、pod控制器 #比如在名称空间：test下，pod控制器：deploy-nginx下 创建2个nginx pod副本 kubectl create deployment nginx-deploy --image=nginx:latest -n test --replicas=2 查询当前名称空间test下的pod控制器
四、说明
通过查看名称空间test下的pod，发现都已经成功运行了，每个pod都有自己对应虚拟ip因为之前设置了副本数为2，此时我们删除了pod控制器属下的一个pod的话，控制器会检测到只剩1个了，那么就会帮助我们再启动1个pod控制器帮我们重新启动的新pod，对应的ip地址已经变化了，不会采用老的ip如果要想删除这2个pod，可以删除pod控制器 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/eb462f068632c4fc500ac20cbaba6750/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-18T14:37:41+08:00" />
<meta property="article:modified_time" content="2023-04-18T14:37:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">k8s-pod控制器Deployment</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body"> 
 <blockquote> 
  <p>在kubernetes中，Pod是最小的控制单元，但是kubernetes很少直接控制Pod，一般都是通过Pod控制<br> 器来完成的。Pod控制器用于pod的管理，确保pod资源符合预期的状态，当pod的资源出现故障时，会<br> 尝试进行重启或重建pod</p> 
 </blockquote> 
 <p><img alt="image" src="https://images2.imgbox.com/48/6d/L98aDjyA_o.png"></p> 
 <p><img alt="image" src="https://images2.imgbox.com/d0/37/N7B0mgmp_o.png"></p> 
 <h4 id="一名称空间">一、名称空间</h4> 
 <p>主要作用是用来实现<strong>多套环境</strong>的<strong>资源隔离</strong>或者<strong>多租户</strong>的<strong>资源隔离</strong></p> 
 <blockquote> 
  <p>kubernetes集群中的所有的Pod都是可以相互访问的。但是在实际中，可能不想让两个<br> Pod之间进行互相的访问，那此时就可以将两个Pod划分到不同的namespace下。kubernetes通过将集<br> 群内部的资源分配到不同的Namespace中，可以形成逻辑上的"组"，以方便不同的组的资源进行隔离使<br> 用和管理。<br> 可以通过kubernetes的授权机制，将不同的namespace交给不同租户进行管理，这样就实现了多租户<br> 的资源隔离。此时还能结合kubernetes的资源配额机制，限定不同租户能占用的资源，例如CPU使用<br> 量、内存使用量等等，来实现租户可用资源的管理。</p> 
 </blockquote> 
 <ul><li>名称空间下，包含了pod控制器deployment、pod等</li><li>如果删除了名称空间，那么在这个名称空间下的所有资源都将会被直接删除</li><li>比如名称空间test下，有5个pod，想要删除所有pod，可以直接删除名称空间，这样所有pod都被删除了</li></ul> 
 <pre class="has"><code>#namespace 可以简写为ns
kubectl create ns test</code></pre> 
 <p><strong>附：查看资源简写可以使用</strong><code>kubectl api-resources</code><img alt="image" src="https://images2.imgbox.com/2b/1c/irkAiVvr_o.png"></p> 
 <h4 id="二pod">二、pod</h4> 
 <blockquote> 
  <p>Pod是k8s中最小的控制单元，应该程序需要部署在容器中，而容器存在于pod中，一个pod可以有一个或多个容器，pod是容器的封装<img alt="image" src="https://images2.imgbox.com/bb/46/n76FcP4V_o.png"><br> pause为系统的容器</p> 
 </blockquote> 
 <p>1.命令式对象管理方式创建pod<em>帮助文档</em><img alt="image" src="https://images2.imgbox.com/e9/ed/QDpZBFAr_o.png"></p> 
 <pre class="has"><code>#nginx-pod 为pod的名称
#-n 指定在哪个名称空间
kubectl run nginx-pod --image=nginx:latest -n test</code></pre> 
 <p><img alt="image" src="https://images2.imgbox.com/23/3c/MTG0MwpM_o.png"></p> 
 <h4 id="三pod控制器">三、pod控制器</h4> 
 <pre class="has"><code>#比如在名称空间：test下，pod控制器：deploy-nginx下 创建2个nginx pod副本
kubectl create deployment  nginx-deploy --image=nginx:latest -n test --replicas=2</code></pre> 
 <p><img alt="image" src="https://images2.imgbox.com/5c/6f/hDCJxOyb_o.png"></p> 
 <p><code>查询当前名称空间test下的pod控制器</code><img alt="image" src="https://images2.imgbox.com/e3/66/q3UZmKlW_o.png"></p> 
 <p>四、说明</p> 
 <ul><li>通过查看名称空间test下的pod，发现都已经成功运行了，每个pod都有自己对应虚拟ip</li><li>因为之前设置了副本数为2，此时我们删除了pod控制器属下的一个pod的话，控制器会检测到只剩1个了，那么就会帮助我们再启动1个</li><li>pod控制器帮我们重新启动的新pod，对应的ip地址已经变化了，不会采用老的ip<img alt="image" src="https://images2.imgbox.com/b8/02/LP0MGlVV_o.png"></li><li>如果要想删除这2个pod，可以删除pod控制器<img alt="image" src="https://images2.imgbox.com/fe/cd/zJFCJY99_o.png"></li></ul> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e39dea5e5b4ff1a738a94ce01be5c433/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">WIN10、WIN11 新电脑配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d68279a150e299daac0febe5a8d83844/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【yt-dlp】可用的语句记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>