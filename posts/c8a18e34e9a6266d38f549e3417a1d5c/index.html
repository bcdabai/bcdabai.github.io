<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mybatis plus的简单使用 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mybatis plus的简单使用" />
<meta property="og:description" content="一、mybatis plus简介 MyBatis-Plus（简称 MP）是一个MyBatis的增强工具，在MyBatis的基础上只做增强不做改变。MP封装了对单表的CRUD操作，代码生成、自动分页、逻辑删除、自动填充等功能一应俱全。
MP常用注解：
@TableName：指定数据库表@TableId：将成员变量指定为数据表主键。其type值有AUTO（数据库 ID 自增）、NONE（默认给出id一个 Long 类型的字符串，type默认值）、INPUT（需要自己传入一个id值）、ASSIGN_ID（使用雪花算法分配id，支持Long、String、Integer三种类型）、ASSIGN_UUID（使用雪花算法分配id，只支持String类型）@TableField：用于非主键属性，映射表字段与bean中的字段 二、mybatis plus的简单使用 1. MP配置 引入MP坐标 &lt;!--mybatis plus--&gt; &lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.4.2&lt;/version&gt; &lt;/dependency&gt; 修改配置文件（properties和yml格式对应转换即可） # 连接数据库 spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.url=jdbc:mysql://ip:port/databaseName?characterEncoding=UTF-8&amp;useUnicode=true&amp;useSSL=false spring.datasource.username=username spring.datasource.password=password 创建mapper，继承BaseMapper，通过泛型指定MP封装的CRUD操作的表格
在启动类添加Mapper扫描注解
MP分页配置（根据需要设置）
2. 单表操作 类似selectById()这样固定条件的方法直接调用即可，这里主要讲一下使用MP条件构造器Wrapper自定义条件。
条件构造器的作用是编辑sql where之后的条件语句，且只能用于单表操作，Wapper层级关系如下：
条件构造器构造方法如下：
单表CRUD：
根据条件判断是否添加表达式：wrapper.lambda.like(condition:null != a, filed: key, val:val)
3. 连接查询 多表查询需要自定义sql，可以使用注解式操作，也可以创建xml文件。
注解式：
xml文件：
idea模板设置可参照：https://www.jb51.net/article/199343.htm &lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE mapper PUBLIC &#34;-//mybatis.org//DTD Mapper 3.0//EN&#34; &#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&#34;&gt; &lt;mapper namespace=&#34;&#34;&gt; &lt;!--mybatis mapper 的xml模板--&gt; &lt;/mapper&gt; 在pom文件的标签中设置扫描xml文件的路径
&lt;!--配置扫描xml文件--&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c8a18e34e9a6266d38f549e3417a1d5c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-17T18:35:54+08:00" />
<meta property="article:modified_time" content="2022-05-17T18:35:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mybatis plus的简单使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="mybatis_plus_0"></a>一、mybatis plus简介</h2> 
<p>MyBatis-Plus（简称 MP）是一个MyBatis的增强工具，在MyBatis的基础上只做增强不做改变。MP封装了对单表的CRUD操作，代码生成、自动分页、逻辑删除、自动填充等功能一应俱全。</p> 
<p>MP常用注解：</p> 
<ul><li><strong>@TableName</strong>：指定数据库表</li><li><strong>@TableId</strong>：将成员变量指定为数据表主键。其type值有AUTO（数据库 ID 自增）、NONE（默认给出id一个 Long 类型的字符串，type默认值）、INPUT（需要自己传入一个id值）、ASSIGN_ID（使用雪花算法分配id，支持Long、String、Integer三种类型）、ASSIGN_UUID（使用雪花算法分配id，只支持String类型）</li><li><strong>@TableField</strong>：用于非主键属性，映射表字段与bean中的字段</li></ul> 
<h2><a id="mybatis_plus_7"></a>二、mybatis plus的简单使用</h2> 
<h3><a id="1_MP_8"></a>1. MP配置</h3> 
<ul><li>引入MP坐标</li></ul> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>mybatis plus<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>baomidou<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">-</span>plus<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.4</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre> 
<ul><li>修改配置文件（properties和yml格式对应转换即可）</li></ul> 
<pre><code class="prism language-java"># 连接数据库
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>driver<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>name<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>cj<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span>
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>url<span class="token operator">=</span>jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>ip<span class="token operator">:</span>port<span class="token operator">/</span>databaseName<span class="token operator">?</span>characterEncoding<span class="token operator">=</span>UTF<span class="token operator">-</span><span class="token number">8</span><span class="token operator">&amp;</span>useUnicode<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>useSSL<span class="token operator">=</span><span class="token boolean">false</span>
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>username<span class="token operator">=</span>username
spring<span class="token punctuation">.</span>datasource<span class="token punctuation">.</span>password<span class="token operator">=</span>password
</code></pre> 
<ul><li> <p>创建mapper，继承BaseMapper，通过泛型指定MP封装的CRUD操作的表格<br> <img src="https://images2.imgbox.com/3f/ae/1YfkbSPb_o.png" alt="在这里插入图片描述"></p> </li><li> <p>在启动类添加Mapper扫描注解</p> </li><li> <p><img src="https://images2.imgbox.com/60/f6/HK07oJhM_o.png" alt="在这里插入图片描述"></p> </li><li> <p>MP分页配置（根据需要设置）</p> </li></ul> 
<h3><a id="2__33"></a>2. 单表操作</h3> 
<p>类似selectById()这样固定条件的方法直接调用即可，这里主要讲一下使用MP条件构造器Wrapper自定义条件。</p> 
<p>条件构造器的作用是编辑sql where之后的条件语句，且只能用于单表操作，Wapper层级关系如下：<br> <img src="https://images2.imgbox.com/a2/99/xHdsORKf_o.png" alt="在这里插入图片描述"><br> 条件构造器构造方法如下：<br> <img src="https://images2.imgbox.com/59/7f/GTKmrp30_o.png" alt="在这里插入图片描述"><br> 单表CRUD：<br> <img src="https://images2.imgbox.com/40/de/OMdVjOeq_o.png" alt="在这里插入图片描述"><br> 根据条件判断是否添加表达式：wrapper.lambda.like(condition:null != a, filed: key, val:val)</p> 
<h3><a id="3__43"></a>3. 连接查询</h3> 
<p>多表查询需要自定义sql，可以使用注解式操作，也可以创建xml文件。<br> <img src="https://images2.imgbox.com/86/04/eiVzqurm_o.png" alt="在这里插入图片描述"></p> 
<ul><li>注解式：<br> <img src="https://images2.imgbox.com/63/ed/L3n1dKOp_o.png" alt="在这里插入图片描述"></li><li>xml文件：<br> idea模板设置可参照：https://www.jb51.net/article/199343.htm</li></ul> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE mapper PUBLIC <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">""</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>mybatis mapper 的xml模板<span class="token operator">--</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/74/84/SrVj1kEF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b8/de/01IOIzgG_o.png" alt="在这里插入图片描述"><br> 在pom文件的标签中设置扫描xml文件的路径</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>配置扫描xml文件<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>resources<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>resource<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">&gt;</span></span>src<span class="token operator">/</span>main<span class="token operator">/</span>resources<span class="token operator">&lt;</span><span class="token operator">/</span>directory<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>includes<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>include<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span><span class="token comment">/*.properties&lt;/include&gt;
            &lt;include&gt;**/</span><span class="token operator">*</span><span class="token punctuation">.</span>xml<span class="token operator">&lt;</span><span class="token operator">/</span>include<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>includes<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>resource<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>resource<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>directory<span class="token punctuation">&gt;</span></span>src<span class="token operator">/</span>main<span class="token operator">/</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>directory<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>includes<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>include<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">*</span><span class="token comment">/*.properties&lt;/include&gt;
            &lt;include&gt;**/</span><span class="token operator">*</span><span class="token punctuation">.</span>xml<span class="token operator">&lt;</span><span class="token operator">/</span>include<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>includes<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>resource<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">&gt;</span>
</code></pre> 
<p>连接查询的两种相关设置到此就可以通过方法调用操作数据库了。</p> 
<h3><a id="4__83"></a>4. 级联查询</h3> 
<p><img src="https://images2.imgbox.com/6a/15/KWSalKgT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5__85"></a>5. 分页查询</h3> 
<pre><code>@Configuration
public class MyBatisConfiguration {
    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
        return interceptor;
    }
}

</code></pre> 
<pre><code class="prism language-java"><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CatPersonalTask</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>页数<span class="token punctuation">,</span> 每页大小<span class="token punctuation">)</span><span class="token punctuation">;</span>
page <span class="token operator">=</span> <span class="token function">page</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// page.getRecords();</span>
<span class="token comment">// page.getTotal();</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a3/47/u2cUJZNp_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/708a06c6836ef326463f661a6cfecb0b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[Vue2]AntDesignVue基于Select封装「多选 &#43; 二级级联&#43; 可自定义添加item 组件」</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3eb849978ef7de4213acb42dbc6427c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ALS算法理解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>