<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java日志框架之Logback和Log4j2 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java日志框架之Logback和Log4j2" />
<meta property="og:description" content="文章目录 1、Logback1.1、Logback简介1.2、Logback中的组件1.3、基础日志输出格式1.4、入门使用1.5、异步日志 2、Log4j22.1、Log4j2简介2.2、Log4j2特征2.3、入门使用2.4、slf4j搭配log4j2使用 1、Logback 1.1、Logback简介 Logback是由log4j创始人设计的又一个开源日志组件Logback当前分成三个模块：logback-core，logback- classic和logback-accesslogback-core是其它两个模块的基础模块，类似与springframeworklogback-classic是log4j的一个改良版本。此外logback-classic完整实现SLF4J API。使你可以很方便地更换成其它日志系统如log4j或JDK14 Logginglogback-access访问模块与Servlet容器集成提供通过Http来访问日志的功能 1.2、Logback中的组件 Logger：日志的记录器，主要用于存放日志对象，也可以定义日志类型、级别Appender：用于指定日志输出的目的地，目的地可以是控制台、文件、数据库等等Layout：负责把事件转换成字符串，格式化的日志信息的输出。在Logback中Layout对象被封装在encoder中。也就是说我们未来使用的encoder其实就是Layout 1.3、基础日志输出格式 %-10level 级别：案例为设置10个字符，左对齐%d{yyyy-MM-dd HH:mm:ss.SSS}：日期%c： 当前类全限定名%M： 当前执行日志的方法%L： 行号%thread： 线程名称%m或者%msg： 信息%n： 换行 1.4、入门使用 基础使用
依赖
&lt;!--slf4j 核心依赖--&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt; &lt;/dependency&gt; &lt;!-- logback依赖 --&gt; &lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; 导包
import org.slf4j.Logger; import org.slf4j.LoggerFactory; 日志级别：trace &lt; debug &lt; info &lt; warn &lt; error默认的日志级别是debug @Test public void test01(){ Logger logger = LoggerFactory.getLogger(LOGBACKTest.class); logger.error(&#34;error信息&#34;); logger.warn(&#34;warn信息&#34;); logger.info(&#34;info信息&#34;); logger.debug(&#34;debug信息&#34;); logger.trace(&#34;trace信息&#34;); } 输出结果：logback默认输出格式
11:21:36.810 [main] ERROR com." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/9cfe2f983c060b2348389d2bc75c13d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-27T21:46:53+08:00" />
<meta property="article:modified_time" content="2022-06-27T21:46:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java日志框架之Logback和Log4j2</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#1Logback_2" rel="nofollow">1、Logback</a></li><li><ul><li><a href="#11Logback_4" rel="nofollow">1.1、Logback简介</a></li><li><a href="#12Logback_11" rel="nofollow">1.2、Logback中的组件</a></li><li><a href="#13_16" rel="nofollow">1.3、基础日志输出格式</a></li><li><a href="#14_26" rel="nofollow">1.4、入门使用</a></li><li><a href="#15_291" rel="nofollow">1.5、异步日志</a></li></ul> 
  </li><li><a href="#2Log4j2_454" rel="nofollow">2、Log4j2</a></li><li><ul><li><a href="#21Log4j2_456" rel="nofollow">2.1、Log4j2简介</a></li><li><a href="#22Log4j2_460" rel="nofollow">2.2、Log4j2特征</a></li><li><a href="#23_486" rel="nofollow">2.3、入门使用</a></li><li><a href="#24slf4jlog4j2_595" rel="nofollow">2.4、slf4j搭配log4j2使用</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1Logback_2"></a>1、Logback</h2> 
<h3><a id="11Logback_4"></a>1.1、Logback简介</h3> 
<ul><li>Logback是由log4j创始人设计的又一个开源日志组件</li><li>Logback当前分成三个模块：<strong>logback-core</strong>，<strong>logback- classic</strong>和<strong>logback-access</strong></li><li>logback-core是其它两个模块的基础模块，类似与springframework</li><li><font color="#dd0000"><strong>logback-classic是log4j的一个改良版本。此外logback-classic完整实现SLF4J API。使你可以很方便地更换成其它日志系统如log4j或JDK14 Logging</strong></font></li><li>logback-access访问模块与Servlet容器集成提供通过Http来访问日志的功能</li></ul> 
<h3><a id="12Logback_11"></a>1.2、Logback中的组件</h3> 
<ul><li><strong>Logger</strong>：日志的记录器，主要用于<font color="##DC143C"><strong>存放日志对象</strong></font>，也可以<font color="##DC143C"><strong>定义日志类型、级别</strong></font></li><li><strong>Appender</strong>：用于指定<font color="##DC143C"><strong>日志输出的目的地</strong></font>，目的地可以是控制台、文件、数据库等等</li><li><strong>Layout</strong>：负责把事件转换成字符串，<font color="##DC143C"><strong>格式化的日志信息的输出</strong></font>。在Logback中Layout对象被封装在encoder中。也就是说我们未来使用的encoder其实就是Layout</li></ul> 
<h3><a id="13_16"></a>1.3、基础日志输出格式</h3> 
<ul><li><strong>%-10level 级别</strong>：案例为设置10个字符，左对齐</li><li><strong>%d{yyyy-MM-dd HH:mm:ss.SSS}</strong>：日期</li><li><strong>%c</strong>： 当前类全限定名</li><li><strong>%M</strong>： 当前执行日志的方法</li><li><strong>%L</strong>： 行号</li><li><strong>%thread</strong>： 线程名称</li><li><strong>%m或者%msg</strong>： 信息</li><li><strong>%n</strong>： 换行</li></ul> 
<h3><a id="14_26"></a>1.4、入门使用</h3> 
<blockquote> 
 <p><strong><font size="3">基础使用</font></strong></p> 
</blockquote> 
<p><strong>依赖</strong></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--slf4j 核心依赖--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- logback依赖 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>导包</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li><font color="#dd0000"><strong>日志级别：trace &lt; debug &lt; info &lt; warn &lt; error</strong></font></li><li><font color="#dd0000"><strong>默认的日志级别是debug</strong></font></li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LOGBACKTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：<font color="##DC143C"><strong>logback默认输出格式</strong></font></p> 
<pre><code class="prism language-java"><span class="token number">11</span><span class="token operator">:</span><span class="token number">21</span><span class="token operator">:</span><span class="token number">36.810</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> ERROR <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">-</span> error信息
<span class="token number">11</span><span class="token operator">:</span><span class="token number">21</span><span class="token operator">:</span><span class="token number">36.812</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> WARN <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">-</span> warn信息
<span class="token number">11</span><span class="token operator">:</span><span class="token number">21</span><span class="token operator">:</span><span class="token number">36.812</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> INFO <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">-</span> info信息
<span class="token number">11</span><span class="token operator">:</span><span class="token number">21</span><span class="token operator">:</span><span class="token number">36.812</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">-</span> debug信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<blockquote> 
 <p><strong><font size="3">使用logback.xml</font></strong></p> 
</blockquote> 
<ul><li><strong>在resources下面，创建一份配置文件，命名为logback.xml</strong></li></ul> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--通用格式配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pattern<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c %M %L %thread %m%n<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置文件的输出路径 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logDir<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>D://test<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    
    <span class="token comment">&lt;!-- 配置文件的appender 普通文件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.FileAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 引入文件位置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>${logDir}/logback.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置日志输出格式 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 格式引用通用属性配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${pattern}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- 配置控制台appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--默认：System.out 表示以黑色字体输出日志--&gt;</span>
        <span class="token comment">&lt;!--设置：System.err 表示以红色字体输出日志--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>
            System.err
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--配置日志输出格式--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 格式引用通用属性配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${pattern}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        日志记录器
        配置root logger
        level：配置日志级别
        可以同时配置多个appender，做日志的多方向输出
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ALL<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 引入控制台appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- 引入普通文件appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fileAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LOGBACKTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">07.401</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test01 <span class="token number">24</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">07.403</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test01 <span class="token number">25</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">07.404</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test01 <span class="token number">26</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">07.404</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test01 <span class="token number">27</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">07.404</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test01 <span class="token number">28</span> main trace信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<p><strong>执行两次查看文件输出内容：</strong></p> 
<ul><li><font color="#dd0000">在文件中，默认是以追加日志的形式做记录</font></li></ul> 
<p><img src="https://images2.imgbox.com/39/2f/XLEZ31Hv_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p><strong><font size="3">日志拆分和归档压缩</font></strong></p> 
</blockquote> 
<p><strong>logback.xml</strong></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--通用格式配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pattern<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c %M %L %thread %m%n<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置文件的输出路径 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logDir<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>D://test<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 配置文件的appender 可拆分归档的文件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roll<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 输入格式 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${pattern}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--文件输出位置 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>${logDir}/roll_logback.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 指定拆分规则 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 按照时间和压缩格式声明文件名 压缩格式gz --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>${logDir}/roll.%d{yyyy-MM-dd}.log%i.gz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 按照文件大小来进行拆分 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>100KB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        日志记录器
        配置root logger
        level：配置日志级别
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ALL<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 引入appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roll<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LOGBACKTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><font color="##DC143C"><strong>26日，27日分别执行一次，文件拆分输出结果：</strong></font></p> 
<p><img src="https://images2.imgbox.com/5b/03/dwMMI2os_o.png" alt="在这里插入图片描述"></p> 
<p><font color="#dd0000"><strong>当前日志为roll_bogback.log，当日志文件超过100k或者切换日期则会压缩成日期格式gz</strong></font></p> 
<blockquote> 
 <p><strong><font size="3">日志进行更细粒度的打印控制</font></strong></p> 
</blockquote> 
<p>logback.xml</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--通用格式配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pattern<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c %M %L %thread %m%n<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!-- 配置控制台的appender 使用过滤器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleFilterAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>
            System.err
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${pattern}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置过滤器 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.LevelFilter<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 设置日志的输出级别 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">&gt;</span></span>ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 高于level中设置的级别，则打印日志 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMatch</span><span class="token punctuation">&gt;</span></span>ACCEPT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMatch</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 低于level中设置的级别，则屏蔽日志 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onMismatch</span><span class="token punctuation">&gt;</span></span>DENY<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>onMismatch</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        日志记录器
        配置root logger
        level：配置日志级别
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ALL<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 引入appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleFilterAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LOGBACKTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">54.133</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> test06 <span class="token number">148</span> main error信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<blockquote> 
 <p><strong><font size="3">自定义logger</font></strong></p> 
</blockquote> 
<p><strong>additivity=“false” 表示不继承rootlogger</strong></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.xc<span class="token punctuation">"</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token attr-name">additivity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 在自定义logger中配置appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="15_291"></a>1.5、异步日志</h3> 
<ul><li><font color="#dd0000"><strong>原理：系统会为日志操作单独的分配出来一根线程，原来用来执行当前方法的主线程会继续向下执行</strong></font></li><li><strong>线程1：系统业务代码执行，线程2：打印日志，两根线程争夺CPU的使用权</strong></li></ul> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--通用格式配置--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pattern<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %c %M %L %thread %m%n<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 配置控制台appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--默认：System.out 表示以黑色字体输出日志--&gt;</span>
        <span class="token comment">&lt;!--设置：System.err 表示以红色字体输出日志--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>
            System.err
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--配置日志输出格式--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.encoder.PatternLayoutEncoder<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 格式引用通用属性配置 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>${pattern}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
     <span class="token comment">&lt;!--配置异步日志--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asyncAppender<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.AsyncAppender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--日志记录器--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ALL<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asyncAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">LOGBACKTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//日志打印操作</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//系统本身业务相关的其他操作</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"1----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"3----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"4----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"5----------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：<font color="#dd0000"><strong>日志和业务代码交替执行</strong></font></p> 
<pre><code class="prism language-java"><span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.948</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.949</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token number">1</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token number">2</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">3</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">4</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">5</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息
<span class="token punctuation">[</span>WARN <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main warn信息
<span class="token punctuation">[</span>INFO <span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main info信息
<span class="token punctuation">[</span>DEBUG<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main debug信息
<span class="token punctuation">[</span>TRACE<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main trace信息
<span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29.950</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>LOGBACKTest</span> <span class="token operator">?</span> <span class="token operator">?</span> main error信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<h2><a id="2Log4j2_454"></a>2、Log4j2</h2> 
<h3><a id="21Log4j2_456"></a>2.1、Log4j2简介</h3> 
<ul><li><strong>Apache Log4j 2是对Log4j的升级</strong>，它比其前身Log4j 1.x提供了重大改进，并提供了Logback中可用的许多改进，同时修复了Logback架构中的一些问题</li><li><strong>被誉为是目前最优秀的Java日志框架</strong></li></ul> 
<h3><a id="22Log4j2_460"></a>2.2、Log4j2特征</h3> 
<blockquote> 
 <p><strong><font size="3">性能提升</font></strong></p> 
</blockquote> 
<ul><li>Log4j2包含基于LMAX Disruptor库的下一代异步记录器</li><li>在多线程场景中，异步记录器的吞吐量比Log4j 1.x和Logback<font color="#dd0000"><strong>高18倍，延迟低</strong></font></li></ul> 
<blockquote> 
 <p><strong><font size="3">自动重新加载配置</font></strong></p> 
</blockquote> 
<ul><li>与Logback一样，Log4j2可以<font color="#dd0000"><strong>在修改时自动重新加载其配置</strong></font></li><li>与Logback不同，它会在重新配置发生时<font color="##DC143C"><strong>不会丢失日志事件</strong></font></li></ul> 
<blockquote> 
 <p><strong><font size="3">高级过滤</font></strong></p> 
</blockquote> 
<ul><li>与Logback一样，Log4j2支持基于Log事件中的上下文数据，标记，正则表达式和其他组件进行过滤</li><li>过滤器还可以与记录器关联。与Logback不同，Log4j2可以在任何这些情况下使用通用的Filter类</li></ul> 
<blockquote> 
 <p><strong><font size="3">无垃圾机制</font></strong></p> 
</blockquote> 
<ul><li>在稳态日志记录期间，<font color="#dd0000"><strong>Log4j2 在独立应用程序中是无垃圾的</strong></font></li><li><strong>在Web应用程序中是低垃圾</strong></li></ul> 
<h3><a id="23_486"></a>2.3、入门使用</h3> 
<blockquote> 
 <p><strong><font size="3">基础使用</font></strong></p> 
</blockquote> 
<p><strong>依赖</strong></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- log4j2日志门面 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- log4j2日志实现 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>导包</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span><span class="token class-name">LogManager</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>logging<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li><font color="#dd0000"><strong>单纯的使用Log4j2的 门面+实现</strong></font></li><li><font color="#dd0000"><strong>默认为error级别信息的打印</strong></font></li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LogManager</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Log4j2Test</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">fatal</span><span class="token punctuation">(</span><span class="token string">"fatal信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-java"><span class="token comment">//警告</span>
<span class="token comment">//表示我们还没有建立自己的配置文件,如果没有建立配置文件，则使用默认的配置</span>
ERROR <span class="token class-name">StatusLogger</span> <span class="token class-name">No</span> <span class="token class-name">Log4j</span> <span class="token number">2</span> configuration file <span class="token class-name"><span class="token namespace">found<span class="token punctuation">.</span></span> Using</span> <span class="token keyword">default</span> configuration <span class="token punctuation">(</span>logging only errors <span class="token keyword">to</span> <span class="token namespace">the</span> console<span class="token punctuation">)</span><span class="token punctuation">,</span> or user programmatically provided <span class="token class-name"><span class="token namespace">configurations<span class="token punctuation">.</span></span> Set</span> system property 'log4j2<span class="token punctuation">.</span>debug' <span class="token keyword">to</span> <span class="token namespace">show</span> <span class="token class-name">Log4j</span> <span class="token number">2</span> internal initialization <span class="token class-name"><span class="token namespace">logging<span class="token punctuation">.</span></span> See</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>logging<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>org<span class="token operator">/</span>log4j<span class="token operator">/</span><span class="token number">2.</span>x<span class="token operator">/</span>manual<span class="token operator">/</span>configuration<span class="token punctuation">.</span>html <span class="token keyword">for</span> instructions on how <span class="token keyword">to</span> <span class="token namespace">configure</span> <span class="token class-name">Log4j</span> <span class="token number">2</span>
<span class="token number">20</span><span class="token operator">:</span><span class="token number">32</span><span class="token operator">:</span><span class="token number">32.558</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> FATAL <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>Log4j2Test</span> <span class="token operator">-</span> fatal信息
<span class="token number">20</span><span class="token operator">:</span><span class="token number">32</span><span class="token operator">:</span><span class="token number">32.561</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> ERROR <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>xc<span class="token punctuation">.</span>mylog<span class="token punctuation">.</span></span>Log4j2Test</span> <span class="token operator">-</span> error信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<blockquote> 
 <p><strong><font size="3">基础配置文件使用</font></strong></p> 
</blockquote> 
<p><font color="#dd0000"><strong>默认路径：resources/log4j2.xml</strong></font></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Appenders</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置控制台输出 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Console</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SYSTEM_OUT<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Appenders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置logger --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Loggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置rootlogger --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trace<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 引用Appender --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppenderRef</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Root</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Loggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li><strong>&lt;Configuration status=“debug” monitorInterval=“数值”&gt;</strong></li><li><font color="#dd0000"><strong>monitorInterval=“5” 自动加载配置文件的间隔时间，不低于5秒</strong></font></li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LogManager</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Log4j2Test</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">fatal</span><span class="token punctuation">(</span><span class="token string">"fatal信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-java">fatal信息
error信息
warn信息
info信息
debug信息
trace信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<h3><a id="24slf4jlog4j2_595"></a>2.4、slf4j搭配log4j2使用</h3> 
<p><font color="##DC143C"><strong>当今市场上的最强大，最主流的日志使用搭配方式：slf4j+log4j2</strong></font></p> 
<p><strong>依赖</strong></p> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- slf4j日志门面 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- log4j适配器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-slf4j-impl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- log4j2日志门面 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- log4j2日志实现 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.logging.log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.12.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>导包</strong></p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>log4j2.xml</strong></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Appenders</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置控制台输出 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Console</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SYSTEM_OUT<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Appenders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置logger --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Loggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置rootlogger --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trace<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 引用Appender --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppenderRef</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Root</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Loggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li><font color="#dd0000"><strong>slf4j门面调用的是log4j2的门面，再由log4j2的门面调用log4j2的实现</strong></font></li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Log4j2Test</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-java">error信息
warn信息
info信息
debug信息
trace信息

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre> 
<blockquote> 
 <p><strong><font size="3">日志拆分</font></strong></p> 
</blockquote> 
<p><strong>log4j2.xml</strong></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--配置全局通用属性--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logDir<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>D://test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Appenders</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            按照指定规则来拆分日志文件

            fileName:日志文件的名字
            filePattern：日志文件拆分后文件的命名规则
                        $${date:yyyy-MM-dd}：根据日期当天，创建一个文件夹
                                    例如：2021-01-01这个文件夹中，记录当天的所有日志信息
                                    （拆分出来的日志放在这个文件夹中）
                                         2021-01-02这个文件夹中，记录当天的所有日志信息
                                         （拆分出来的日志放在这个文件夹中）
          rollog-%d{yyyy-MM-dd-HH-mm}-%i.log
                        为文件命名的规则：%i表示序号，从0开始，目的是为了让每一份文件名字不会重复
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RollingFile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rollingFile<span class="token punctuation">"</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${logDir}/rollog.log<span class="token punctuation">"</span></span>
                        <span class="token attr-name">filePattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${logDir}/$${date:yyyy-MM-dd}/rollog-%d{yyyy-MM-dd-HH-mm}-%i.log<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 日志消息格式 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} %m%n<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Policies</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- 在系统启动时，触发拆分规则，产生一个日志文件 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>OnStartupTriggeringPolicy</span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!-- 按照文件的大小进行拆分 --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeBasedTriggeringPolicy</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10KB<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!-- 按照时间节点进行拆分 拆分规则就是filePattern--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TimeBasedTriggeringPolicy</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Policies</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 在同一目录下，文件的个数限制，如果超出了设置的数值，则根据时间进行覆盖，新的覆盖旧的规则--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DefaultRolloverStrategy</span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RollingFile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Appenders</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 配置logger --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Loggers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 配置rootlogger --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trace<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 引用Appender --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppenderRef</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rollingFile<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppenderRef</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>consoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Root</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Loggers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Log4j2Test</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"warn信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">"trace信息"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出文件结果：</p> 
<p><img src="https://images2.imgbox.com/7d/53/5UqBDHXV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b3/17/PhHfUrtU_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37a4a1eb01239f8659876ebb57f43c6d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">最小花费（单源最短路）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a45e0d493cca39c659b29d481dc15abd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">php/js cookie共享跨域的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>