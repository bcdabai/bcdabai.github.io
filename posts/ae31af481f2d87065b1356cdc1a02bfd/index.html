<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>原生小程序转H5 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="原生小程序转H5" />
<meta property="og:description" content="原生小程序转Taro,Taro转多端 这里先讲一下需求，公司之前的小程序是用原生开发的，目前有客户需要同样的H5版本的项目，考虑短时间内开发出一个差不多100个页面左右的H5项目不太现实。所以这里就用到了Taro。
上链接：https://nervjs.github.io/taro/docs/taroize.html 原生小程序转Taro这一步的话还是比较简单的，按文档安装好Taro,npm或者cnpm都可以
npm i -g @tarojs/cli cnpm i -g @tarojs/cli 然后在小程序项目的根目录运行指令
$ taro convert 如果你小程序里面用到wxParse这个插件，会报错，文档也有写怎么解决报错。按文档中的解决就可以了。 这里讲一点转Taro的调试经验，有报错的文件先拎出来放在一边，因为es5,6语法差异，很多js文件转es6是不支持的，所以会报错，建议是先把所有报错的文件注释，或者改成es6写法再转。我这边是去掉了很多的文件才转成功了的。这里需要自己一步一步调试解决报错，转成功之后根目录多出来一个taroConvert的文件夹这说明已经转Taro成功了，接下来就是运行以及二次开发。 进入taroConvert文件夹(二次开发就在这个文件里面，小程序代码不用管了)，执行命令 npm install 或者cnpm install 先拉取所有依赖。可以看一下package.json文件的运行命令以及安装的依赖，我这里是要运行H5的，输入命令 npm run dev:h5打开H5开发模式，这个步骤有可能会有个nerv.js不存在的报错，可以安装一下，然后在你文件src下面的的app.js import一下。
执行命令 import Nerv from &#39;nervjs&#39;，这个报错就会解决。其它的页面代码报错可以自己调试。开启成功的话浏览器中会打开127.0.0.1:8082的窗口运行项目。 先看下转taro之后的目录文件 这个是根目录，运行开发环境跟打包的命令都在这层执行。 这层就是跟小程序项目文件差不多的了，index.html是主入口文件，其它的跟小程序差不多，代码该在哪儿写就在哪儿写。 下篇再讲二次开发中的坑。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ae31af481f2d87065b1356cdc1a02bfd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-13T12:36:34+08:00" />
<meta property="article:modified_time" content="2019-06-13T12:36:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">原生小程序转H5</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="TaroTaro_0"></a>原生小程序转Taro,Taro转多端</h2> 
<p><strong>这里先讲一下需求，公司之前的小程序是用原生开发的，目前有客户需要同样的H5版本的项目，考虑短时间内开发出一个差不多100个页面左右的H5项目不太现实。所以这里就用到了Taro。</strong></p> 
<h3><a id="httpsnervjsgithubiotarodocstaroizehtmlhttpsnervjsgithubiotarodocstaroizehtml_3"></a>上链接：<a href="https://nervjs.github.io/taro/docs/taroize.html" rel="nofollow">https://nervjs.github.io/taro/docs/taroize.html</a></h3> 
<p><img src="https://images2.imgbox.com/6d/ce/DKi1eqUT_o.png" alt="在这里插入图片描述"> <br> 原生小程序转Taro这一步的话还是比较简单的，按文档安装好Taro,npm或者cnpm都可以</p> 
<pre><code>npm i -g @tarojs/cli
cnpm i -g @tarojs/cli
</code></pre> 
<p>然后在小程序项目的根目录运行指令</p> 
<pre><code>$ taro convert
</code></pre> 
<h3><a id="wxParse_16"></a><strong>如果你小程序里面用到wxParse这个插件，会报错，文档也有写怎么解决报错。按文档中的解决就可以了。</strong></h3> 
<p><img src="https://images2.imgbox.com/c2/46/V7EhOB1V_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="Taroes56jses6es6taroConvertTaro_18"></a>这里讲一点转Taro的调试经验，有报错的文件先拎出来放在一边，因为es5,6语法差异，很多js文件转es6是不支持的，所以会报错，建议是先把所有报错的文件注释，或者改成es6写法再转。我这边是去掉了很多的文件才转成功了的。这里需要自己一步一步调试解决报错，转成功之后根目录多出来一个taroConvert的文件夹这说明已经转Taro成功了，接下来就是运行以及二次开发。</h5> 
<ol><li>进入taroConvert文件夹(二次开发就在这个文件里面，小程序代码不用管了)，执行命令 npm install 或者cnpm install 先拉取所有依赖。</li><li>可以看一下package.json文件的运行命令以及安装的依赖，我这里是要运行H5的，输入命令 npm run dev:h5打开H5开发模式，这个步骤有可能会有个nerv.js不存在的报错，可以安装一下，然后在你文件src下面的的app.js import一下。<br> 执行命令 <code>import Nerv from 'nervjs'</code>，这个报错就会解决。其它的页面代码报错可以自己调试。开启成功的话浏览器中会打开127.0.0.1:8082的窗口运行项目。</li></ol> 
<h3><a id="taro_23"></a>先看下转taro之后的目录文件</h3> 
<h5><a id="httpsimgblogcsdnimgcn20190613123057761pngxossprocessimagewatermarktype_ZmFuZ3poZW5naGVpdGkshadow_10text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI5Nzg5MDU3size_16color_FFFFFFt_70_24"></a>这个是根目录，运行开发环境跟打包的命令都在这层执行。<img src="https://images2.imgbox.com/58/30/GXDZypGt_o.png" alt="在这里插入图片描述"></h5> 
<h5><a id="indexhtml_25"></a>这层就是跟小程序项目文件差不多的了，index.html是主入口文件，其它的跟小程序差不多，代码该在哪儿写就在哪儿写。</h5> 
<p><img src="https://images2.imgbox.com/84/5e/h2amKyoF_o.png" alt="在这里插入图片描述"><br> 下篇再讲二次开发中的坑。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c07b91f90400f376de020ea65a7ee596/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序上传图片</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e38f47726ea72a50d415c12f7630c31a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在TensorFlow中如何将Tensor张量转换为numpy数组？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>