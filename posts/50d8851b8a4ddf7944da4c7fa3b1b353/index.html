<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL 导出和导入数据 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL 导出和导入数据" />
<meta property="og:description" content="文章目录 一，导出数据（一）使用SELECT ... INTO OUTFILE语句导出数据（二）使用mysqldump工具导出数据（三）使用SELECT ... INTO DUMPFILE语句导出数据 二，导入数据（一）使用 LOAD DATA 导入数据（二）使用 mysqlimport 导入数据（三）mysqlimport的常用选项 一，导出数据 MySQL导出数据的主要作用是将数据库中的数据以某种格式（如CSV、SQL等）导出到一个文件中，以便在需要时进行导入或备份。
导出数据的作用包括但不限于以下几个方面：
数据备份：导出数据可以将数据库中的数据备份到文件中，以防止数据丢失或意外删除。数据迁移：如果需要将数据库从一个服务器迁移到另一个服务器，可以将数据导出到文件中，然后在目标服务器上导入数据。数据共享：如果需要与其他人共享数据库中的数据，可以将数据导出到CSV等通用格式的文件中，然后将其发送给其他人。数据分析：如果需要对数据库中的数据进行分析或处理，可以将其导出到文件中，然后使用其他工具（如Excel、Python等）进行处理。 （一）使用SELECT … INTO OUTFILE语句导出数据 SELECT … INTO OUTFILE语句是MySQL中用于将查询结果导出为CSV文件的方法。它允许您将查询结果保存到指定的文件路径中，以便进行后续处理或备份。
示例：
假设我们有一个名为&#34;users&#34;的表格，其中包含用户的姓名、年龄和电子邮件地址。要导出这些数据到一个CSV文件中，可以使用以下语句：
SELECT * INTO OUTFILE &#39;/path/to/output/file.csv&#39; FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;&#34;&#39; LINES TERMINATED BY &#39;\n&#39; FROM users; 这将导出&#34;users&#34;表中的所有数据，并将其保存到指定路径的CSV文件中。文件中的每行代表一个用户，每个字段用逗号分隔，并用双引号包围。
参数说明：
INTO OUTFILE &#39;file_path&#39;: 指定要导出数据的文件路径。可以是本地路径或Web服务器上的路径。FIELDS TERMINATED BY &#39;delimiter&#39;: 指定字段之间的分隔符。默认情况下使用制表符（\t）作为分隔符。ENCLOSED BY &#39;enclosure&#39;: 指定字段内容的引号包围符号。默认情况下不使用引号包围。LINES TERMINATED BY &#39;line_break&#39;: 指定每行数据之间的分隔符。默认情况下使用换行符（\n）作为行分隔符。FROM table_name: 指定要导出数据的表格名称。 注意事项：
使用SELECT … INTO OUTFILE语句导出数据需要具有相应的权限。确保您具有足够的权限来执行此操作。导出的文件路径必须是MySQL服务器可以访问的路径。如果路径无法访问，您将无法导出数据。如果指定的文件已经存在，将会覆盖该文件。请确保在导出数据之前备份重要的文件。 （二）使用mysqldump工具导出数据 mysqldump是MySQL数据库的一个命令行工具，用于备份和导出数据库、表格和数据。以下是使用mysqldump工具导出数据的基本语法：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/50d8851b8a4ddf7944da4c7fa3b1b353/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-15T08:26:51+08:00" />
<meta property="article:modified_time" content="2023-09-15T08:26:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL 导出和导入数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-kimbie-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">一，导出数据</a></li><li><ul><li><a href="#SELECT__INTO_OUTFILE_14" rel="nofollow">（一）使用SELECT ... INTO OUTFILE语句导出数据</a></li><li><a href="#mysqldump_44" rel="nofollow">（二）使用mysqldump工具导出数据</a></li><li><a href="#SELECT__INTO_DUMPFILE_67" rel="nofollow">（三）使用SELECT ... INTO DUMPFILE语句导出数据</a></li></ul> 
  </li><li><a href="#_86" rel="nofollow">二，导入数据</a></li><li><ul><li><a href="#_LOAD_DATA__88" rel="nofollow">（一）使用 LOAD DATA 导入数据</a></li><li><a href="#_mysqlimport__141" rel="nofollow">（二）使用 mysqlimport 导入数据</a></li><li><a href="#mysqlimport_171" rel="nofollow">（三）mysqlimport的常用选项</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_3"></a>一，导出数据</h2> 
<p>MySQL导出数据的主要作用是将数据库中的数据以某种格式（如CSV、SQL等）导出到一个文件中，以便在需要时进行导入或备份。</p> 
<p>导出数据的作用包括但不限于以下几个方面：</p> 
<ol><li>数据备份：导出数据可以将数据库中的数据备份到文件中，以防止数据丢失或意外删除。</li><li>数据迁移：如果需要将数据库从一个服务器迁移到另一个服务器，可以将数据导出到文件中，然后在目标服务器上导入数据。</li><li>数据共享：如果需要与其他人共享数据库中的数据，可以将数据导出到CSV等通用格式的文件中，然后将其发送给其他人。</li><li>数据分析：如果需要对数据库中的数据进行分析或处理，可以将其导出到文件中，然后使用其他工具（如Excel、Python等）进行处理。</li></ol> 
<h3><a id="SELECT__INTO_OUTFILE_14"></a>（一）使用SELECT … INTO OUTFILE语句导出数据</h3> 
<p>SELECT … INTO OUTFILE语句是MySQL中用于将查询结果导出为CSV文件的方法。它允许您将查询结果保存到指定的文件路径中，以便进行后续处理或备份。</p> 
<p>示例：</p> 
<p>假设我们有一个名为"users"的表格，其中包含用户的姓名、年龄和电子邮件地址。要导出这些数据到一个CSV文件中，可以使用以下语句：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">INTO</span> <span class="token keyword">OUTFILE</span> <span class="token string">'/path/to/output/file.csv'</span> 
<span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">','</span> 
<span class="token keyword">ENCLOSED</span> <span class="token keyword">BY</span> <span class="token string">'"'</span> 
<span class="token keyword">LINES</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">'\n'</span> 
<span class="token keyword">FROM</span> users<span class="token punctuation">;</span>
</code></pre> 
<p>这将导出"users"表中的所有数据，并将其保存到指定路径的CSV文件中。文件中的每行代表一个用户，每个字段用逗号分隔，并用双引号包围。</p> 
<p>参数说明：</p> 
<ul><li><code>INTO OUTFILE 'file_path'</code>: 指定要导出数据的文件路径。可以是本地路径或Web服务器上的路径。</li><li><code>FIELDS TERMINATED BY 'delimiter'</code>: 指定字段之间的分隔符。默认情况下使用制表符（\t）作为分隔符。</li><li><code>ENCLOSED BY 'enclosure'</code>: 指定字段内容的引号包围符号。默认情况下不使用引号包围。</li><li><code>LINES TERMINATED BY 'line_break'</code>: 指定每行数据之间的分隔符。默认情况下使用换行符（\n）作为行分隔符。</li><li><code>FROM table_name</code>: 指定要导出数据的表格名称。</li></ul> 
<p>注意事项：</p> 
<ul><li>使用SELECT … INTO OUTFILE语句导出数据需要具有相应的权限。确保您具有足够的权限来执行此操作。</li><li>导出的文件路径必须是MySQL服务器可以访问的路径。如果路径无法访问，您将无法导出数据。</li><li>如果指定的文件已经存在，将会覆盖该文件。请确保在导出数据之前备份重要的文件。</li></ul> 
<h3><a id="mysqldump_44"></a>（二）使用mysqldump工具导出数据</h3> 
<p>mysqldump是MySQL数据库的一个命令行工具，用于备份和导出数据库、表格和数据。以下是使用mysqldump工具导出数据的基本语法：</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> username <span class="token parameter variable">-p</span> dbname table_name <span class="token operator">&gt;</span> /path/to/output/file.sql
</code></pre> 
<ul><li><code>-u</code>: 指定MySQL的用户名。</li><li><code>-p</code>: 表示需要输入密码。</li><li><code>dbname</code>: 指定要导出数据的数据库名称。</li><li><code>table_name</code>: 指定要导出数据的表格名称。如果要导出整个数据库，可以省略该参数。</li><li><code>/path/to/output/file.sql</code>: 指定导出数据的输出文件路径。</li></ul> 
<p>示例：<br> 假设我们要导出名为"users"的表格中的数据，可以使用以下命令：</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> mydatabase <span class="token function">users</span> <span class="token operator">&gt;</span> /path/to/output/file.sql
</code></pre> 
<p>这将导出"mydatabase"数据库中名为"users"的表格的所有数据，并将其保存到指定路径的.sql文件中。在执行命令时，系统将提示您输入MySQL用户的密码。</p> 
<h3><a id="SELECT__INTO_DUMPFILE_67"></a>（三）使用SELECT … INTO DUMPFILE语句导出数据</h3> 
<p>在MySQL中，您可以使用<code>SELECT ... INTO DUMPFILE</code>语句将数据导出为CSV文件。以下是使用<code>SELECT ... INTO DUMPFILE</code>语句导出数据的示例：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">INTO</span> <span class="token keyword">DUMPFILE</span> <span class="token string">'/path/to/output/file.csv'</span> 
<span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">','</span> 
<span class="token keyword">ENCLOSED</span> <span class="token keyword">BY</span> <span class="token string">'"'</span> 
<span class="token keyword">LINES</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">'\n'</span> 
<span class="token keyword">FROM</span> table_name<span class="token punctuation">;</span>
</code></pre> 
<p>这个语句将指定表格中的所有数据导出到一个CSV文件中。文件的路径可以是本地路径或Web服务器上的路径。<code>FIELDS TERMINATED BY ','</code>指定了字段之间的分隔符，<code>ENCLOSED BY '"'</code>指定了字段内容的引号包围符号，<code>LINES TERMINATED BY '\n'</code>指定了每行数据之间的分隔符。</p> 
<p>注意事项：</p> 
<ol><li>使用<code>SELECT ... INTO DUMPFILE</code>语句导出数据需要具有相应的权限。如果您没有足够的权限，您可以尝试使用mysqldump工具导出数据。</li><li>导出的文件路径必须是MySQL服务器可以访问的路径。如果路径无法访问，您将无法导出数据。</li><li>如果指定的文件已经存在，将会覆盖该文件。请确保在导出数据之前备份重要的文件。</li></ol> 
<h2><a id="_86"></a>二，导入数据</h2> 
<h3><a id="_LOAD_DATA__88"></a>（一）使用 LOAD DATA 导入数据</h3> 
<p>在MySQL中，您可以使用<code>LOAD DATA</code>语句将外部数据文件导入到数据库中。<code>LOAD DATA</code>语句允许您以高效的方式将大量数据快速加载到数据库表中。</p> 
<p>以下是使用<code>LOAD DATA</code>导入数据的基本语法：</p> 
<pre><code class="prism language-sql"><span class="token keyword">LOAD</span> <span class="token keyword">DATA</span> <span class="token punctuation">[</span>LOW_PRIORITY <span class="token operator">|</span> CONCURRENT<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">LOCAL</span><span class="token punctuation">]</span> <span class="token keyword">INFILE</span> <span class="token string">'file_name'</span>
    <span class="token punctuation">[</span><span class="token keyword">REPLACE</span> <span class="token operator">|</span> <span class="token keyword">IGNORE</span><span class="token punctuation">]</span>
    <span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> table_name
    <span class="token punctuation">[</span><span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> charset_name<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>{<!-- --><span class="token keyword">FIELDS</span> <span class="token operator">|</span> <span class="token keyword">COLUMNS</span>}
        <span class="token punctuation">[</span><span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">'string'</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token keyword">OPTIONALLY</span><span class="token punctuation">]</span> <span class="token keyword">ENCLOSED</span> <span class="token keyword">BY</span> <span class="token string">'char'</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token keyword">ESCAPED</span> <span class="token keyword">BY</span> <span class="token string">'char'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">LINES</span>
        <span class="token punctuation">[</span><span class="token keyword">STARTING</span> <span class="token keyword">BY</span> <span class="token string">'string'</span><span class="token punctuation">]</span>
        <span class="token punctuation">[</span><span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">'string'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">IGNORE</span> number {<!-- --><span class="token keyword">LINES</span> <span class="token operator">|</span> <span class="token keyword">ROWS</span>}<span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">(</span>column_name_or_user_var<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">SET</span> column_name <span class="token operator">=</span> expr<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre> 
<p>逐个解释这些选项的含义：</p> 
<ul><li><code>LOW_PRIORITY</code>：该选项可用于降低<code>LOAD DATA</code>语句的优先级，以便它不会与其他查询竞争资源。这在需要同时运行其他重要查询的系统上是有用的。</li><li><code>CONCURRENT</code>：该选项允许在导入数据的同时进行其他操作，而不会相互干扰。</li><li><code>LOCAL</code>：该选项指示从客户端系统上的文件加载数据，而不是从服务器上的文件加载。</li><li><code>INFILE 'file_name'</code>：指定要导入的数据文件的路径和名称。</li><li><code>REPLACE</code>：如果存在重复的记录，该选项将删除现有记录并用新记录替换它们。</li><li><code>IGNORE</code>：如果存在重复的记录，该选项将忽略新记录，保留现有记录。</li><li><code>INTO TABLE table_name</code>：指定要将数据导入的目标表的名称。</li><li><code>CHARACTER SET charset_name</code>：指定用于解析文件的字符集。</li><li><code>FIELDS TERMINATED BY 'string'</code>：指定字段之间的分隔符。</li><li><code>ENCLOSED BY 'char'</code>：指定字段内容的引号包围符号。</li><li><code>ESCAPED BY 'char'</code>：指定用于转义特殊字符的转义符号。</li><li><code>LINES TERMINATED BY 'string'</code>：指定每行数据之间的分隔符。</li><li><code>IGNORE number {LINES | ROWS}</code>：指定要忽略的行数或行数范围。</li><li><code>(column_name_or_user_var,...)</code>：指定要导入的列名或用户变量。</li><li><code>SET column_name = expr,...</code>：设置要导入的列的值。</li></ul> 
<p>下面是一个简单的示例，演示如何使用<code>LOAD DATA</code>导入CSV文件：</p> 
<pre><code class="prism language-sql"><span class="token keyword">LOAD</span> <span class="token keyword">DATA</span> <span class="token keyword">INFILE</span> <span class="token string">'/path/to/data.csv'</span>
<span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> my_table
<span class="token keyword">FIELDS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">','</span> 
<span class="token keyword">ENCLOSED</span> <span class="token keyword">BY</span> <span class="token string">'"'</span>
<span class="token keyword">LINES</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
</code></pre> 
<p>这将从<code>/path/to/data.csv</code>文件中导入数据到名为<code>my_table</code>的表中，字段之间使用逗号分隔，字段内容使用双引号包围，每行之间使用换行符分隔。</p> 
<h3><a id="_mysqlimport__141"></a>（二）使用 mysqlimport 导入数据</h3> 
<p><code>mysqlimport</code>是MySQL提供的一个命令行工具，用于导入数据到MySQL数据库中。以下是使用<code>mysqlimport</code>导入数据的一般步骤：</p> 
<ol><li>确保已经安装了MySQL，并且已经设置好了环境变量。</li><li>打开命令行终端，并进入要导入数据的目录。</li><li>使用以下命令格式来执行<code>mysqlimport</code>：</li></ol> 
<pre><code class="prism language-css">mysqlimport [选项] 数据库名 表名 文件名
</code></pre> 
<p>在上面的命令中，你需要提供以下信息：</p> 
<pre><code>* `[选项]`：可选参数，用于指定导入的选项，如字段分隔符、行分隔符等。常用的选项包括：
	+ `-u`：MySQL用户名
	+ `-p`：MySQL密码
	+ `-h`：MySQL主机名
	+ `-P`：MySQL端口号
	+ `--local`：指示从本地文件系统导入数据
	+ `--fields-terminated-by`：指定字段分隔符
	+ `--lines-terminated-by`：指定行分隔符
* `数据库名`：目标数据库的名称。
* `表名`：目标表的名称。
* `文件名`：包含要导入数据的文件的路径和名称。
</code></pre> 
<ol start="4"><li>执行命令后，<code>mysqlimport</code>将读取指定的文件并将数据导入到指定的数据库和表中。</li></ol> 
<blockquote> 
 <p>注意：<code>mysqlimport</code>工具主要用于从文件中导入数据到MySQL数据库。如果你希望从其他数据源导入数据，可能需要使用其他工具或编写脚本来实现。</p> 
</blockquote> 
<h3><a id="mysqlimport_171"></a>（三）mysqlimport的常用选项</h3> 
<p>以下的图表展示了mysqlimport的常用选项介绍：</p> 
<table><thead><tr><th align="center">选项</th><th align="center">功能描述</th></tr></thead><tbody><tr><td align="center"><code>-d</code> or <code>--delete</code></td><td align="center">在新数据导入到数据表中之前删除数据表中的所有信息</td></tr><tr><td align="center"><code>-f</code> or <code>--force</code></td><td align="center">强制继续插入数据，即使遇到错误</td></tr><tr><td align="center"><code>-i</code> or <code>--ignore</code></td><td align="center">跳过或者忽略那些有相同唯一关键字的行，导入文件中的数据将被忽略</td></tr><tr><td align="center"><code>-h</code> or <code>--host</code></td><td align="center">将数据导入给定主机上的MySQL服务器，默认主机是localhost</td></tr><tr><td align="center"><code>-L</code> or <code>--local</code></td><td align="center">从本地客户端读入输入文件</td></tr><tr><td align="center"><code>-l</code> or <code>--lock-tables</code></td><td align="center">在处理文本文件前锁定所有表以便写入，这样可以确保所有表在服务器上保持同步</td></tr><tr><td align="center"><code>-p</code> or <code>--password[=password]</code></td><td align="center">当连接MySQL数据库时使用的密码，如果选项后面没有密码值，则提示输入密码</td></tr><tr><td align="center"><code>-P</code> or <code>--port=port_num</code></td><td align="center">用于连接的MySQL TCP/IP端口号</td></tr></tbody></table> 
<p>mysqlimport命令常用的选项还有-v 显示版本（version）， -p 提示输入密码（password）等。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/de62bb4fa5d25cf8734eddc12855b0ca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决报错：Module not found: Error: ‘element-plus/lib/theme-chalk/index.css 和 Can‘t resolve...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7e836a15b2ee568a2a29660c0edf06cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">家庭智慧助手项目</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>