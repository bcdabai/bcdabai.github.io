<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Transform.Forward和Vector3.Forward的正确使用方法 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Transform.Forward和Vector3.Forward的正确使用方法" />
<meta property="og:description" content="Transform.Forward和Vector3.Forward的正确使用方法 发布：Unity3d培训 来源：unity3d培训教程 2016-07-23 浏览次数：3465
很多人对于Transform.Forward和Vector3.Forward的正确使用方法都不太清楚，那么今天菜鸟在线小编就来给大家介绍一下他们的用法，一起来看今天的Unity3d教程吧!
在某个风和日丽的下午，你们的Unity3d开发传奇师兄黄高军问我，为啥他写的控制车辆，车辆不能往正前方行驶。我扫了一下他的代码，
this.transform.Translate(transform.forward);
这样奇怪的用法我还是第一次见!
当时我就不高兴了，“高军，老师教什么你用什么，你说说这个transform.forward在哪学的?”
“你看看，车辆都绕圈走了，不会用就别乱用，乖乖用我教的方法!”
事实证明，我当时那番话说错了，后来这位传说级的师兄找到一份虚幻4的工作，圆了我毕业三年都无法圆的梦。
我惭愧不已，写下这个研究结果，以纪念我曾经带过的那么一个优秀的学生。
一切从汽车控制说起
我们都知道，改变物体的坐标，可以模拟物体移动。
场景中有辆车的位置为(0,0,0)，我们想让他向前移动，通过scene界面我们发现物体向前移动得改它的z轴，于是我们可以这么写代码
void Update () {
this.transform.position &#43;= new Vector3 (0, 0, 1);
}
这么写之后，确实就往前方跑了，但是有个问题，Update一帧执行5,60次，每帧都new 一个Vector3的话，对内存是一个消耗。
于是我们用一个系统自带的Vector3.forward(它代表Vector3(0,0,1))
void Update () {
this.transform.position &#43;= Vector3.forward;
}
所以记住，Vector3.forward是一个定值，它没有任何意义!它仅仅代表Vector3(0,0,1)，仅此而已，前往别给它任何意义。
那么上面的代码其实是有问题的。当我们把小车的旋转值改变之后，发现this.transform.position &#43;= Vector3.forward已经不能让车往前方走了，
他需要一个正确的方向向量。
于是transform.forward应运而生。他是一个用来自动对物体旋转值算出前进方向向量的变量。
void Update () {
this.transform.position &#43;= transform.forward;
}
我们把代码改成上面那样，就可以按照车辆向前的方向行驶了。
所以记住，transform.forward是一个变值，它代表物体的前方的向量!会根据物体的旋转量自动算出来，如果物体时刻在旋转，这个transform.forward是会一直变化的。
于是就有同学问了?老师不是啊，我们以前经常使用的transform.Translate(Vector3.forward)他也可以根据物体的转向进行前进动作啊，那这么说来Vector3.forward不是一个变值吗??
void Update () {
this.transform.Translate (Vector3.forward);
}
于是我们把代码改成上面那样，发现是可以根据物体旋转量进行变化，那么这里Translate是一个函数，肯定是里面偷偷进行了转换，而我们不知道。那么Unity在Translate里面偷偷做了什么转化呢?
其实很简单
void MyTranslate(Vector3 dir){
transform.position &#43;= this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/33ce948a5f646511a91521ec137e2ec6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-19T19:35:38+08:00" />
<meta property="article:modified_time" content="2017-12-19T19:35:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Transform.Forward和Vector3.Forward的正确使用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>Transform.Forward和Vector3.Forward的正确使用方法</h2> 
<p class="article_author">发布：<a target="_blank" href="http://www.newbieol.com/" rel="nofollow noopener noreferrer">Unity3d培训</a> 来源：<a target="_blank" href="http://www.newbieol.com/course_0_1.html" rel="nofollow noopener noreferrer">unity3d培训教程</a> 2016-07-23 <em>浏览次数：3465</em></p> 
<div class="article_info"> 
 <img src="https://images2.imgbox.com/9b/ef/BNDTotDo_o.jpg" alt="Transform.Forward和Vector3.Forward的正确使用方法"> 
 <blockquote> 
  <p>很多人对于Transform.Forward和Vector3.Forward的正确使用方法都不太清楚，那么今天菜鸟在线小编就来给大家介绍一下他们的用法，一起来看今天的Unity3d教程吧!</p> 
 </blockquote> 
 <div class="preview"> 
  <p>　　在某个风和日丽的下午，你们的<a target="_blank" href="http://www.newbieol.com/" rel="nofollow noopener noreferrer"><strong>Unity3d开发</strong></a>传奇师兄黄高军问我，为啥他写的控制车辆，车辆不能往正前方行驶。我扫了一下他的代码，</p> 
  <p>　　this.transform.Translate(transform.forward);</p> 
  <p>　　这样奇怪的用法我还是第一次见!</p> 
  <p>　　当时我就不高兴了，“高军，老师教什么你用什么，你说说这个transform.forward在哪学的?”</p> 
  <p>　　“你看看，车辆都绕圈走了，不会用就别乱用，乖乖用我教的方法!”</p> 
  <p>　　事实证明，我当时那番话说错了，后来这位传说级的师兄找到一份虚幻4的工作，圆了我毕业三年都无法圆的梦。</p> 
  <p>　　我惭愧不已，写下这个研究结果，以纪念我曾经带过的那么一个优秀的学生。</p> 
  <p>　　一切从汽车控制说起</p> 
  <p>　　我们都知道，改变物体的坐标，可以模拟物体移动。</p> 
  <center> 
   <img src="https://images2.imgbox.com/63/2c/Qt0PrFmA_o.png" title="Transform.Forward和Vector3.Forward的正确使用方法" alt="Transform.Forward和Vector3.Forward的正确使用方法" width="500px"> 
  </center> 
  <p>　　场景中有辆车的位置为(0,0,0)，我们想让他向前移动，通过scene界面我们发现物体向前移动得改它的z轴，于是我们可以这么写代码</p> 
  <p>　　void Update () {<!-- --></p> 
  <p>　　this.transform.position += new Vector3 (0, 0, 1);</p> 
  <p>　　}</p> 
  <p>　　这么写之后，确实就往前方跑了，但是有个问题，Update一帧执行5,60次，每帧都new 一个Vector3的话，对内存是一个消耗。</p> 
  <p>　　于是我们用一个系统自带的Vector3.forward(它代表Vector3(0,0,1))</p> 
  <p>　　void Update () {<!-- --></p> 
  <p>　　this.transform.position += Vector3.forward;</p> 
  <p>　　}</p> 
  <p>　　所以记住，Vector3.forward是一个定值，它没有任何意义!它仅仅代表Vector3(0,0,1)，仅此而已，前往别给它任何意义。</p> 
  <p>　　那么上面的代码其实是有问题的。当我们把小车的旋转值改变之后，发现this.transform.position += Vector3.forward已经不能让车往前方走了，</p> 
  <p>　　他需要一个正确的方向向量。</p> 
  <p>　　于是transform.forward应运而生。他是一个用来自动对物体旋转值算出前进方向向量的变量。</p> 
  <p>　　void Update () {<!-- --></p> 
  <p>　　this.transform.position += transform.forward;</p> 
  <p>　　}</p> 
  <p>　　我们把代码改成上面那样，就可以按照车辆向前的方向行驶了。</p> 
  <p>　　所以记住，transform.forward是一个变值，它代表物体的前方的向量!会根据物体的旋转量自动算出来，如果物体时刻在旋转，这个transform.forward是会一直变化的。</p> 
  <p>　　于是就有同学问了?老师不是啊，我们以前经常使用的transform.Translate(Vector3.forward)他也可以根据物体的转向进行前进动作啊，那这么说来Vector3.forward不是一个变值吗??</p> 
  <p>　　void Update () {<!-- --></p> 
  <p>　　this.transform.Translate (Vector3.forward);</p> 
  <p>　　}</p> 
  <p>　　于是我们把代码改成上面那样，发现是可以根据物体旋转量进行变化，那么这里Translate是一个函数，肯定是里面偷偷进行了转换，而我们不知道。那么Unity在Translate里面偷偷做了什么转化呢?</p> 
  <p>　　其实很简单</p> 
  <p>　　void MyTranslate(Vector3 dir){<!-- --></p> 
  <p>　　transform.position += this.transform.rotation * dir;</p> 
  <p>　　}</p> 
  <p>　　我们自己也可以写一个Translate，这里他底层肯定也是改Position，那么后面是什么意思呢?</p> 
  <p>　　this.transform.rotation是个四元素，表示一个旋转值，后面dir是一个向量，用一个四元素去乘以一个向量，得到的结果是经过四元素旋转之后的向量，是不是很简单?</p> 
  <p>　　以后关于计算角度与向量之间的关系，都可以用这个方法算出来。</p> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/208ab0b0d38ff9899f2df9ac15ca2002/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">nginx 负载均衡时，一台tomcat宕机时的问题 自动切换(转自java版web项目-微信公众号)...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7e44ce39f45e4cc255ab8b649cde2cdc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[Objective C] objc_setAssociatedObject 关联详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>