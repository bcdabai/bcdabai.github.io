<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python词云库wordcloud 显示中文 ！！！ - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python词云库wordcloud 显示中文 ！！！" />
<meta property="og:description" content="背景： wordcloud是基于Python开发的词云生成库，功能强大使用简单。
github地址：https://github.com/amueller/word_cloud
wordcloud默认是不支持显示中文的，中文会被显示成方框。
安装： 方法一：
pip install wordcloud 方法二： 下载.whl文件http://www.lfd.uci.edu/~gohlke/pythonlibs/#wordcloud 改后缀为.zip文件，解压。然后放到python安装的对应文件夹 （https://github.com/amueller/word_cloud/archive/master.zip）
python setup.py install 解决不支持中文： 经过测试发现不支持显示中文的原因是因为wordcloud的默认字体不支持中文，那就好办了，我们设置一种支持中文的字体即可
方法一： 百度下载字体simhei.ttf放到对应C:\Windows\Fonts里
方法二： wordlcloud.WordCloud类初始化函数有个设置字体的参数font_path，把支持中文的字体的路径传给font_path。
github有个Adobe开源的支持中文的字体库：https://github.com/adobe-fonts
我们以英文夹杂着中文的Python之禅字符串来测试一下，下面的代码是在Windows下测试，使用了仿宋字体。（两种方法处理文字：1.从文件读取 2.直接赋值给字符串）
# -*- coding: utf-8 -*- from wordcloud import WordCloud import matplotlib.pyplot as plt text= open(&#34;test.txt&#34;).read() &#34;&#34;&#34; text = &#39;&#39;&#39; The 抱抱 Zen of LOVE 抱抱 Python, 快乐 by Tim 玲小姐 Peters 公众号 Python 最好的 语言 语言 一辈子 is better LOVE than 一辈子. 玲小姐 is 爱你 than implicit." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/27337945f844b3549857d99ef5b8f1ed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-08-21T19:56:52+08:00" />
<meta property="article:modified_time" content="2017-08-21T19:56:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python词云库wordcloud 显示中文 ！！！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3 id="背景">背景：</h3> 
<p>wordcloud是基于Python开发的词云生成库，功能强大使用简单。</p> 
<p>github地址：<a href="https://github.com/amueller/word_cloud">https://github.com/amueller/word_cloud</a></p> 
<p>wordcloud默认是不支持显示中文的，中文会被显示成方框。</p> 
<p><img src="https://images2.imgbox.com/71/6a/rGQuqKfe_o.png" alt="这里写图片描述" title=""></p> 
<h3 id="安装">安装：</h3> 
<p>方法一：</p> 
<pre class="prettyprint"><code class=" hljs cmake">pip <span class="hljs-keyword">install</span> wordcloud</code></pre> 
<p>方法二： <br> 下载.whl文件<a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#wordcloud" rel="nofollow">http://www.lfd.uci.edu/~gohlke/pythonlibs/#wordcloud</a> <br> 改后缀为.zip文件，解压。然后放到python安装的对应文件夹 <br> （<a href="https://github.com/amueller/word_cloud/archive/master.zip">https://github.com/amueller/word_cloud/archive/master.zip</a>）</p> 
<pre class="prettyprint"><code class=" hljs cmake">python setup.py <span class="hljs-keyword">install</span></code></pre> 
<h3 id="解决不支持中文">解决不支持中文：</h3> 
<p>经过测试发现不支持显示中文的原因是因为wordcloud的默认字体不支持中文，那就好办了，我们设置一种支持中文的字体即可</p> 
<p>方法一： <br> 百度下载字体simhei.ttf放到对应C:\Windows\Fonts里</p> 
<p>方法二： <br> wordlcloud.WordCloud类初始化函数有个设置字体的参数font_path，把支持中文的字体的路径传给font_path。</p> 
<p>github有个Adobe开源的支持中文的字体库：<a href="https://github.com/adobe-fonts">https://github.com/adobe-fonts</a></p> 
<p>我们以英文夹杂着中文的Python之禅字符串来测试一下，下面的代码是在Windows下测试，使用了仿宋字体。（两种方法处理文字：1.从文件读取 2.直接赋值给字符串）</p> 
<pre class="prettyprint"><code class=" hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span>

<span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

text= open(<span class="hljs-string">"test.txt"</span>).read()
<span class="hljs-string">"""
text = '''
The  抱抱 Zen of LOVE 抱抱 Python, 快乐 by Tim 玲小姐 Peters
 公众号 Python 最好的 语言 语言
一辈子 is better LOVE than 一辈子.
玲小姐 is 爱你 than  implicit.爱你 玲小姐
王先生 is 爱你 than complex.
一辈子 is 王先生  than complicated.
二中 is 玲小姐 我想你了 than nested. 二中 王先生
清湖 is 胜于 than 清湖.
思旺 counts. 想你
Special 玲小姐 我想你了 aren't special enough 思旺 break 思旺 rules.
别生气 practicality beats 厨艺好.
Errors should 我想你了 never pass 小龙虾 silently. 运营
别生气 explicitly 好不好. LOVE
In the face of ambiguity, 程序员 the 厨艺好 to guess.龙华  
There 快乐 should be one-- 我想你了 and preferably 红烧肉 only 武汉 one 小龙虾--obvious way to do it.运营
Although 共享单车 way may not 我想你了 be obvious at first unless you're Dutch. 新媒体 地铁
Now is better 红烧肉 than never.
程序员 Although 共享单车 is often 高铁 than 海南 now. 高铁 地铁
If the impleme 武汉 ntation 想你 is hard to explain, it's a bad idea. 想你了
If 成都 implementation is 想你 easy to explain, it may be a good idea.
Namespaces are 端午one 端午 honking 王先生 great idea -- 成都 do more of those! 想你了
深圳 晚安 海南 新媒体
'''
"""</span>

<span class="hljs-comment"># the font from github: https://github.com/adobe-fonts</span>
font = <span class="hljs-string">r'C:\Windows\Fonts\simfang.ttf'</span>
wc = WordCloud(collocations=<span class="hljs-keyword">False</span>, font_path=font, width=<span class="hljs-number">1400</span>, height=<span class="hljs-number">1400</span>, margin=<span class="hljs-number">2</span>).generate(text.lower())

plt.imshow(wc)
plt.axis(<span class="hljs-string">"off"</span>)
plt.show()

wc.to_file(<span class="hljs-string">'show_Chinese.png'</span>)  <span class="hljs-comment"># 把词云保存下来</span>
</code></pre> 
<h3 id="生成的词云图">生成的词云图：</h3> 
<p><img src="https://images2.imgbox.com/da/f4/SuomDg2u_o.png" alt="这里写图片描述" title=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/24a6d709087fc13876cf0e53a8ab8a3a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python：numpy中arange的使用方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b050fe2c57a79177605fc4e85e4a0622/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MATLAB 牛顿迭代法解非线性方程组</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>