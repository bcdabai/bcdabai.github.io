<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux--shell编程--文本处理三剑客 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux--shell编程--文本处理三剑客" />
<meta property="og:description" content="前言：正则表达式 正则表达式：
1.基本正则表达式
^ $ &#43;
3.扩展正则表达式
? {4,6} |
^ 代表以什么开头 ^root
$ 代表以什么结尾 /$
&#43; 代表前面的字符可以出现1次或者N次 a&#43; --&gt;a aa aaa aaaaaaaaaaaa
| 代表或
? 代表前面的字符可以出现0或者1次 a? --&gt;a
* 代表前面的字符可以出现0次或者N次
一.grep/egrep的语法及使用(查找（文本过滤）) [root@web1 lianxi]# df -Th|grep &#34;/$&#34;|awk &#39;{print $6}&#39;
41%
[root@web1 lianxi]# df -Th|grep &#34;/$&#34;|awk &#39;{print $((NF-1))}&#39;
41%
[root@web1 lianxi]# df -Th|grep &#34;/$&#34;|awk &#39;{print $((NF-1))}&#39;|tr -d &#34;%&#34;
41
[root@web1 lianxi]# num=$(df -Th|grep &#34;/$&#34;|awk &#39;{print $((NF-1))}&#39;|tr -d &#34;%&#34;)
[root@web1 lianxi]# echo $num" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c0b4ba99cfb58f5e9a9c97eafe1b933a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-27T15:42:18+08:00" />
<meta property="article:modified_time" content="2023-09-27T15:42:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux--shell编程--文本处理三剑客</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3> 前言：正则表达式</h3> 
<blockquote> 
 <p>正则表达式：<br>     1.基本正则表达式<br>         ^ $  +<br>     3.扩展正则表达式<br>         ? {4,6}  |</p> 
 <p>^  代表以什么开头   ^root<br> $  代表以什么结尾   /$<br> +  代表前面的字符可以出现1次或者N次    a+  --&gt;a  aa  aaa aaaaaaaaaaaa<br> |  代表或<br> ?  代表前面的字符可以出现0或者1次    a?  --&gt;a<br> *  代表前面的字符可以出现0次或者N次</p> 
</blockquote> 
<h3>一.grep/egrep的语法及使用(查找（文本过滤）)</h3> 
<blockquote> 
 <p>[root@web1 lianxi]# df -Th|grep "/$"|awk '{print $6}'<br> 41%<br> [root@web1 lianxi]# df -Th|grep "/$"|awk '{print $((NF-1))}'<br> 41%<br> [root@web1 lianxi]# df -Th|grep "/$"|awk '{print $((NF-1))}'|tr -d "%"<br> 41<br> [root@web1 lianxi]# num=$(df -Th|grep "/$"|awk '{print $((NF-1))}'|tr -d "%")<br> [root@web1 lianxi]# echo $num<br> 41</p> 
</blockquote> 
<h3>二.awk的语法及使用(截取)</h3> 
<blockquote> 
 <p>语法：</p> 
 <p>$0 --&gt; 表示整行文本</p> 
 <p>$1 --&gt; 表示文本的第一个数据字段</p> 
 <p>-F --&gt; 指定分隔符 (默认的字段分隔符是空白字符)</p> 
 <p>参数：</p> 
 <p>NR</p> 
 <p>NF --&gt;</p> 
 <p>OPS</p> 
 <p>FS</p> 
</blockquote> 
<blockquote> 
 <p>awk -F: 'BEGIN{num=0}$1 ~ /^r/{num++;print $1}END{print num}' /etc/passwd</p> 
 <p><br>  substr(s, i [, n])      Return  the  at  most  n-character  substring of s starting at i.  If n is<br>                                omitted, use the rest of s.<br> s是我们的字符串<br> i是从第i个字符开始<br> n表示截取的字符串的长度<br> substr($1,1,4) 从第1个字符开始，连续截取4个字符</p> 
 <p>substr($1,3,5)  从第3个字符开始，连续截取5个字符</p> 
</blockquote> 
<h3>三.sed的语法及使用(替换)</h3> 
<blockquote> 
 <p>sed - stream editor for filtering and transforming text<br>    stream editor 流编辑器--》文字流  --》sed</p> 
 <p>      1.文本的过滤查找   text  filtering<br>       2.文本的转换/替换  transforming text</p> 
</blockquote> 
<blockquote> 
 <p>[root@docker lianxi]# sed -n  '/longyi/ p' hehaotian.txt </p> 
 <p>-n  不符合要求的行，不要显示出现<br>        -n, --quiet, --silent</p> 
 <p>              suppress automatic printing of pattern space</p> 
 <p>              pattern space 模式空间<br>               hold  space 保留空间</p> 
 <p>p  是sed内部的命令  输出内容到屏幕  print</p> 
</blockquote> 
<blockquote> 
 <p>[root@docker lianxi]# sed  -i  's/pan/zhang/' hehaotian.txt</p> 
 <p>-i   直接在原文件里进行修改  <br>     -i[SUFFIX], --in-place[=SUFFIX]  给原文件先进行备份，备份的文件名后面加一个后缀名</p> 
 <p>              edit files in place (makes backup if SUFFIX supplied)<br> 加后缀名.bak<br> [root@docker lianxi]# sed  -i.bak  's/cao/liu/' hehaotian.txt</p> 
 <p>s/pan/zhang/   使用zhang去替换pan  s是替换命令  substitute</p> 
</blockquote> 
<blockquote> 
 <p>c  整行替换<br>     selinux文件<br> s 局部替换<br>     修改ip地址<br>     加注释<br> &amp; 代表前面查找匹配的内容  代表旧的字符串<br>         's/luqianjun/&amp;sanchuang/g'</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/adc1f280721d4f635f0d764e5846cca8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用python获取网易云音乐的歌曲，原理&#43;代码！简单易懂</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e2b5282c9302e43ebc58ac0b2c805746/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">湖南软件测评公司简析：软件功能测试和非功能测试的联系和区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>