<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于麻雀算法，调控PID参数 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于麻雀算法，调控PID参数" />
<meta property="og:description" content="最近研究了智能算法，略有收获，下面说一下我的收获，如有错误，请大家批评指正，不胜感激。
因目前主流麻雀算法主要以matlab进行展示，但为了理解更加深入，我以C#重新进行书写并展示。
目的：以麻雀算法计算一个最优PID参数，用来控制一个函数模型，使输出波形与输入波形一致。如下图所示：
当输入波形是一个正弦函数时，受不同PID参数的影响，输出波形也截然不同。如下图，这是我随意设置的一个函数模型，随便整了个PID参数进行控制后的结果：
输入波形 ：Finput（x）= 100*sin(x);
PID控制器参数：kp：0.052，ki：0.043，kd：0.048
函数模型：
输出波形 即：
底层框架就是这些，以人工经验，多次调整PID参数后，应该可以得出一个优解，但今天主题是麻雀算法，所以在这些底层函数上，需要以麻雀算法计算出一个最优解。
根据网上大多数人对麻雀算法的拆分，可以将麻雀算法分为四个部分：
发现者、追随者、报警者、以及适应度函数
主要逻辑就是随机生成100（种群数量）个PID参数组，然后带入适应度函数计算出最优适应度，然后根据发现者、追随者、报警者三个公式计算更新PID参数，然后不断排列取优，在经过多次迭代后，取出最优解。
前三者网上都有固定的公式，只要将其套入使用，基本没有什么差别。公式详情可以百度，可以参考下面的连接，至于用C#如何实现可以看我的代码。
(46条消息) 基于麻雀算法求解函数最优解_小小初心的博客-CSDN博客
主要是适应度函数，如何在PID控制器中成立，这里我借鉴了下面这位大哥的文章：
(46条消息) 智能优化算法应用：基于麻雀搜索算法PID参数优化 - 附代码_智能算法研学社（Jack旭）的博客-CSDN博客_pid优化算法
实现方法也很简单粗暴，如下描述：
将PID参数带入底层模型运行10个周期，即可计算出适应度Fout大小。
完工后，对C#的窗体进行操作，再加个定时器就可以看到麻雀算法迭代时的PID参数对曲线的影响了：如下
这是麻雀算法第一次迭代生成的PID参数组，对函数模型的影响，可以看出完全没有正弦的样子，适应度Fout也达到了七百多万。
（下列红框中，2代表迭代次数，Fout：代表当前最优解的适应度大小，适应度越小代表曲线越近似正弦，后续三个参数分别是PID参数中的Kp、Ki、Kd。）
但是在经过100次迭代后，可以看到PID参数对曲线的影响，很快就取到了一个相对优秀的解。适应度由七百多万降低到了十八万左右（186818）。
接下来我们看一千多次迭代后的PID参数组，可以看出此时的麻雀算法，已经算出了一个比较优秀的解，PID控制下的输出曲线也近似完美的正弦。适应度更是由十八万降低到俩万以下（19969）
再次迭代一千次后，如下图，适应度仅降低至19703，比一千次迭代前仅降低了266，说明整个麻雀算法已经收敛，目前输出已经近似最优解了，再迭代下去也影响不大。
如下图，我们迭代至五千次后，输出基本没有什么改变，适应度也仅降低至19701，整个麻雀算法已经完全收敛，再迭代下去也没有任何意义。当前PID参数组就是最适合目前函数模型的最优解。
下面我们来看一组动态图，看看麻雀算法迭代过程中的曲线变化趋势：
代码如下：
基于C#展示麻雀算法求PID控制器参数最优解-C#文档类资源-CSDN文库" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/f0c408ecbfd49e706ebdc10976a804a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-17T14:00:58+08:00" />
<meta property="article:modified_time" content="2022-08-17T14:00:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于麻雀算法，调控PID参数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>最近研究了智能算法，略有收获，下面说一下我的收获，如有错误，请大家批评指正，不胜感激。</p> 
<p>因目前主流麻雀算法主要以matlab进行展示，但为了理解更加深入，我以C#重新进行书写并展示。</p> 
<p><strong>目的：</strong>以麻雀算法计算一个最优PID参数，用来控制一个函数模型，使输出波形与输入波形一致。如下图所示：</p> 
<p><img alt="" height="342" src="https://images2.imgbox.com/a7/aa/O1vzyVja_o.png" width="972"></p> 
<p>当输入波形是一个<strong>正弦函数</strong>时，受不同PID参数的影响，输出波形也截然不同。如下图，这是我随意设置的一个函数模型，随便整了个PID参数进行控制后的结果：</p> 
<p><strong>输入波形</strong> ：Finput（x）= 100*sin(x);</p> 
<p><strong>PID控制器参数</strong>：kp：0.052，ki：0.043，kd：0.048</p> 
<p><strong>函数模型：</strong></p> 
<p><img alt="" height="182" src="https://images2.imgbox.com/14/d3/yE7Tkk2r_o.png" width="837"></p> 
<p><strong>输出波形 </strong>即：</p> 
<p><img alt="" height="570" src="https://images2.imgbox.com/1f/26/HBB4mIGh_o.png" width="1200"></p> 
<p>底层框架就是这些，以人工经验，多次调整PID参数后，应该可以得出一个优解，但今天主题是麻雀算法，所以在这些底层函数上，需要以麻雀算法计算出一个最优解。</p> 
<p>根据网上大多数人对麻雀算法的拆分，可以将麻雀算法分为四个部分：</p> 
<p>发现者、追随者、报警者、以及适应度函数</p> 
<p><img alt="" height="666" src="https://images2.imgbox.com/c9/97/f2QNi96Y_o.png" width="357"></p> 
<p>主要逻辑就是随机生成100（种群数量）个PID参数组，然后带入适应度函数计算出最优适应度，然后根据发现者、追随者、报警者三个公式计算更新PID参数，然后不断排列取优，在经过多次迭代后，取出最优解。</p> 
<p>前三者网上都有固定的公式，只要将其套入使用，基本没有什么差别。公式详情可以百度，可以参考下面的连接，至于用C#如何实现可以看我的代码。</p> 
<p><a href="https://blog.csdn.net/m0_51649746/article/details/124808656?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E9%BA%BB%E9%9B%80%E7%AE%97%E6%B3%95&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-124808656.nonecase&amp;spm=1018.2226.3001.4187" title="(46条消息) 基于麻雀算法求解函数最优解_小小初心的博客-CSDN博客">(46条消息) 基于麻雀算法求解函数最优解_小小初心的博客-CSDN博客</a></p> 
<p>主要是适应度函数，如何在PID控制器中成立，这里我借鉴了下面这位大哥的文章：</p> 
<p><a href="https://blog.csdn.net/u011835903/article/details/109306387?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E9%BA%BB%E9%9B%80%E7%AE%97%E6%B3%95%E7%AE%97PID&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-109306387.142%5Ev41%5Econtrol,185%5Ev2%5Econtrol&amp;spm=1018.2226.3001.4187" title="(46条消息) 智能优化算法应用：基于麻雀搜索算法PID参数优化 - 附代码_智能算法研学社（Jack旭）的博客-CSDN博客_pid优化算法">(46条消息) 智能优化算法应用：基于麻雀搜索算法PID参数优化 - 附代码_智能算法研学社（Jack旭）的博客-CSDN博客_pid优化算法</a></p> 
<p>实现方法也很简单粗暴，如下描述：</p> 
<p>将PID参数带入底层模型运行10个周期，即可计算出适应度Fout大小。</p> 
<p><img alt="" height="346" src="https://images2.imgbox.com/80/2e/j0QSZ5VG_o.png" width="842"></p> 
<p> 完工后，对C#的窗体进行操作，再加个定时器就可以看到麻雀算法迭代时的PID参数对曲线的影响了：如下</p> 
<p>这是麻雀算法第一次迭代生成的PID参数组，对函数模型的影响，可以看出完全没有正弦的样子，适应度Fout也达到了七百多万。</p> 
<p>（下列红框中，2代表迭代次数，Fout：代表当前最优解的适应度大小，适应度越小代表曲线越近似正弦，后续三个参数分别是PID参数中的Kp、Ki、Kd。）</p> 
<p><img alt="" height="792" src="https://images2.imgbox.com/2c/25/m26fRNU0_o.png" width="1200"></p> 
<p>但是在经过100次迭代后，可以看到PID参数对曲线的影响，很快就取到了一个相对优秀的解。适应度由七百多万降低到了十八万左右（<strong>186818</strong>）。</p> 
<p><img alt="" height="754" src="https://images2.imgbox.com/bd/75/Jg1vTti8_o.png" width="1200"></p> 
<p> 接下来我们看一千多次迭代后的PID参数组，可以看出此时的麻雀算法，已经算出了一个比较优秀的解，PID控制下的输出曲线也近似完美的正弦。适应度更是由十八万降低到俩万以下（<strong>19969</strong>）</p> 
<p><img alt="" height="803" src="https://images2.imgbox.com/49/a6/nAiAqJD8_o.png" width="1200"></p> 
<p> 再次迭代一千次后，如下图，适应度仅降低至<strong>19703</strong>，比一千次迭代前仅降低了<strong>266</strong>，说明整个麻雀算法已经收敛，目前输出已经近似最优解了，再迭代下去也影响不大。</p> 
<p><img alt="" height="797" src="https://images2.imgbox.com/c0/4a/TESxoD3F_o.png" width="1200"></p> 
<p>如下图，我们迭代至五千次后，输出基本没有什么改变，适应度也仅降低至<strong>19701</strong>，整个麻雀算法已经完全收敛，再迭代下去也没有任何意义。当前PID参数组就是最适合目前函数模型的最优解。</p> 
<p><img alt="" height="817" src="https://images2.imgbox.com/9b/9c/hH4xoldq_o.png" width="1200"></p> 
<p>下面我们来看一组动态图，看看麻雀算法迭代过程中的曲线变化趋势：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/55/80/0pwmDyig_o.gif"></p> 
<p>代码如下：</p> 
<p><a href="https://download.csdn.net/download/canlao/86402592" title="基于C#展示麻雀算法求PID控制器参数最优解-C#文档类资源-CSDN文库">基于C#展示麻雀算法求PID控制器参数最优解-C#文档类资源-CSDN文库</a></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df4fb4cc96239ef1f2a2a491f99e3f14/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring MVC 实现文件的上传和下载</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/14beb7f1c57bce5a3aa16944b2baada4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue.js——PC端和移动端样式适配方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>