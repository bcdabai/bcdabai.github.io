<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>点到点传输协议（PPP） - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="点到点传输协议（PPP）" />
<meta property="og:description" content="目录 组成部分PPP链路建立过程创建PPP链路用户验证调用网络层协议 认证方式口令验证协议（PAP）挑战握手验证协议（CHAP） PPP协议的应用 点对点协议（Point to Point Protocol，PPP）为在点对点连接上传输多协议数据包提供了一个标准方法。PPP 最初设计是为两个对等节点之间的 IP 流量传输提供一种封装协议。在 TCP-IP 协议集中它是一种用来同步调制连接的数据链路层协议（OSI模式中的第二层），替代了原来非标准的第二层协议，即 SLIP。
组成部分 封装：一种封装多协议数据报的方法。PPP 封装提供了不同网络层协议同时在同一链路传输的多路复用技术。
链路控制协议（LCP）：一种扩展链路控制协议，用于建立、配置、测试和管理数据链路连接。
网络控制协议（NCP）：协商该链路上所传输的数据包格式与类型，建立、配置不同的网络层协议
认证协议：包括口令验证协议PAP和挑战握手协议验证协议CHAP
PPP链路建立过程 一个典型的链路建立分为三个阶段：创建阶段、认证阶段和网络协商阶段
创建PPP链路 LCP复制创建链路，在这个阶段将对基本的通讯方式进行选择。链路两端通过LCP向对方发送配置信息报文。一旦一个配置成功信息包被发送且被接收，就完成了交换，进入了LCP开启状态。注意：此时还没进行验证
用户验证 在这个阶段中，客户端会将自己的身份发送给远端的接入服务器。该阶段使用一种安全验证方式避免第三方窃取数据或者冒充远程客户接管与客户端的连接。如果认证没能万恒，将拒绝进入到网络层协议阶段，如果认证失败，认证者应转至终止阶段。
在这个阶段中，只有链路控制协议、认证协议和链路质量监视协议的包被允许。
调用网络层协议 认证通过后，PPP将调用在链路创建阶段选定的各种网络控制协议。选定的NCP解决PPP链路之上的高层协议问题。
认证方式 口令验证协议（PAP） 网络接入服务器（NAS）要求用户提供用户名和口令，而PAP提供了一种简单的方法让对端使用2次握手来建立自己的身份，并且以明文方式返回用户信息。所以，这种验证方式是不安全的，第三方可以很容易的获取到传送的用户名和口令，并利用口令与NAS建立连接获取NAS提供的所有资源。
挑战握手验证协议（CHAP） CHAP使用3次握手周期性验证对端的身份，这是在链路建立的开始完成的，建立完成后任何时间都可以重复的发送再验证。NAS向远程用户发送一个挑战口令，其中包括会话ID和一个任意生成的挑战字串。远程客户必须使用MD5单向哈希算法返回用户名和加密的挑战口令，会话ID以及用户口令，其中用户名以非哈希方式发送。
PPP协议的应用 PPP协议是目前广域网上应用最广泛的协议之一，它的优点在于简单、具备用户验证能力、可以解决ip分配等。
家庭拨号上网就是通过PPP在用户端和运营商的接入服务器之间建立通信链路。目前宽带接入正在取代拨号上网，但是笔者的老家依然用的是拨号上网0.0。随着技术的发展，PPP也衍生了新的应用。比如在ADSL（非对称数据用户环线）接入方式当中，PPP与其他协议碰撞出了PPPOE、PPPOA。
利用以太网资源，在以太网上运行PPP来进行用户认证接入的方式称为PPPOE。PPPOE即保护了用户方的以太网资源，又完成了ADSL的接入要求，是目前ADSL接入方式中应用最广泛的技术标准。同样在ATM（异步传输模式）网络上运行PPP协议来管理用户认证的方式称为PPPOA。它和PPPOE的原理作用相同，不同的是它运行在ATM网络上。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/3e8e091456e5e421ef63355abbf19120/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-22T19:01:00+08:00" />
<meta property="article:modified_time" content="2019-12-22T19:01:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">点到点传输协议（PPP）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">组成部分</a></li><li><a href="#PPP_12" rel="nofollow">PPP链路建立过程</a></li><li><ul><li><a href="#PPP_16" rel="nofollow">创建PPP链路</a></li><li><a href="#_20" rel="nofollow">用户验证</a></li><li><a href="#_25" rel="nofollow">调用网络层协议</a></li></ul> 
  </li><li><a href="#_29" rel="nofollow">认证方式</a></li><li><ul><li><a href="#PAP_31" rel="nofollow">口令验证协议（PAP）</a></li><li><a href="#CHAP_35" rel="nofollow">挑战握手验证协议（CHAP）</a></li></ul> 
  </li><li><a href="#PPP_39" rel="nofollow">PPP协议的应用</a></li></ul> 
</div> 
<p></p> 
<p>点对点协议（Point to Point Protocol，PPP）为在点对点连接上传输多协议数据包提供了一个标准方法。PPP 最初设计是为两个对等节点之间的 IP 流量传输提供一种封装协议。在 TCP-IP 协议集中它是一种用来同步调制连接的数据链路层协议（OSI模式中的第二层），替代了原来非标准的第二层协议，即 SLIP。</p> 
<h2><a id="_4"></a>组成部分</h2> 
<p><strong>封装</strong>：一种封装多协议数据报的方法。PPP 封装提供了不同网络层协议同时在同一链路传输的多路复用技术。<br> <strong>链路控制协议（LCP</strong>）：一种扩展链路控制协议，用于建立、配置、测试和管理数据链路连接。<br> <strong>网络控制协议（NCP）</strong>：协商该链路上所传输的数据包格式与类型，建立、配置不同的网络层协议<br> <strong>认证协议</strong>：包括口令验证协议PAP和挑战握手协议验证协议CHAP</p> 
<h2><a id="PPP_12"></a>PPP链路建立过程</h2> 
<p>一个典型的链路建立分为三个阶段：<strong>创建阶段、认证阶段和网络协商阶段</strong></p> 
<h3><a id="PPP_16"></a>创建PPP链路</h3> 
<p>LCP复制创建链路，在这个阶段将对基本的通讯方式进行选择。链路两端通过LCP向对方发送配置信息报文。一旦一个配置成功信息包被发送且被接收，就完成了交换，进入了LCP开启状态。注意：此时还没进行验证</p> 
<h3><a id="_20"></a>用户验证</h3> 
<p>在这个阶段中，客户端会将自己的身份发送给远端的接入服务器。该阶段使用一种安全验证方式避免第三方窃取数据或者冒充远程客户接管与客户端的连接。如果认证没能万恒，将拒绝进入到网络层协议阶段，如果认证失败，认证者应转至终止阶段。<br> 在这个阶段中，只有链路控制协议、认证协议和链路质量监视协议的包被允许。</p> 
<h3><a id="_25"></a>调用网络层协议</h3> 
<p>认证通过后，PPP将调用在链路创建阶段选定的各种网络控制协议。选定的NCP解决PPP链路之上的高层协议问题。</p> 
<h2><a id="_29"></a>认证方式</h2> 
<h3><a id="PAP_31"></a>口令验证协议（PAP）</h3> 
<p>网络接入服务器（NAS）要求用户提供用户名和口令，而PAP提供了一种简单的方法让对端使用2次握手来建立自己的身份，并且以明文方式返回用户信息。所以，这种验证方式是不安全的，第三方可以很容易的获取到传送的用户名和口令，并利用口令与NAS建立连接获取NAS提供的所有资源。</p> 
<h3><a id="CHAP_35"></a>挑战握手验证协议（CHAP）</h3> 
<p>CHAP使用3次握手周期性验证对端的身份，这是在链路建立的开始完成的，建立完成后任何时间都可以重复的发送再验证。NAS向远程用户发送一个挑战口令，其中包括会话ID和一个任意生成的挑战字串。远程客户必须使用MD5单向哈希算法返回用户名和加密的挑战口令，会话ID以及用户口令，其中用户名以非哈希方式发送。</p> 
<h2><a id="PPP_39"></a>PPP协议的应用</h2> 
<p>PPP协议是目前广域网上应用最广泛的协议之一，它的优点在于简单、具备用户验证能力、可以解决ip分配等。<br> 家庭拨号上网就是通过PPP在用户端和运营商的接入服务器之间建立通信链路。目前宽带接入正在取代拨号上网，但是笔者的老家依然用的是拨号上网0.0。随着技术的发展，PPP也衍生了新的应用。比如在ADSL（非对称数据用户环线）接入方式当中，PPP与其他协议碰撞出了PPPOE、PPPOA。<br> 利用以太网资源，在以太网上运行PPP来进行用户认证接入的方式称为PPPOE。PPPOE即保护了用户方的以太网资源，又完成了ADSL的接入要求，是目前ADSL接入方式中应用最广泛的技术标准。同样在ATM（异步传输模式）网络上运行PPP协议来管理用户认证的方式称为PPPOA。它和PPPOE的原理作用相同，不同的是它运行在ATM网络上。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/65cd43757e68b5d8090e1d8acd49ce06/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">策略路由（Policy Route）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a32b65e16d41a9601d815a7121db7502/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">7-5 jmu-Java-01入门-取数字浮点数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>