<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CSDN竞赛63期题解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CSDN竞赛63期题解" />
<meta property="og:description" content="总结 这次竞赛由三道老题目和一道表述不清的题目构成，老题目尝试新的方法去做，慢悠悠的写着也花了不少时间。最后一道虽然表述不清，但是如果仔细斟酌也是可以AC的。由于第一名的书籍之前拿过了，不太感兴趣也就没有执着于AC，当然也没有故意少通过几个用例去控制排名。对C站竞赛的态度基本是：遇见做过的题目尝试用新的方法去求解，遇见有问题的题目尝试去猜测出题人的意图。大多数同学看见最后一道表述不清就直接骗点分交卷了，尝试猜测题意比再打一遍老题目的代码还是更有意义一点的。
题目列表 1.小玉家的电费 题目描述 夏天到了，各家各户的用电量都增加了许多，相应的电费也交的更多了。小玉家今天收到了一份电费通知单。小玉看到上面写：据闽价电[2006]27号规定，月用电量在150千瓦时及以下部分按每千瓦时0.4463元执行，月用电量在151~400千瓦时的部分按每千瓦时0.4663元执行，月用电量在401千瓦时及以上部分按每千瓦时0.5663元执行;小玉想自己验证一下，电费通知单上应交电费的数目到底是否正确呢。请编写一个程序，已知用电总计，根据电价规定，计算出应交的电费应该是多少。
输入描述：
输入一个整数，表示用电总计（单位以千瓦时计），不超过10000。
输出描述：
输出一个数，保留到小数点后1位（单位以元计，保留到小数点后1位）。
输入样例：
267
输出样例：
121.5
分析 考过的签到题，按照规则模拟下就可以了。
代码 #include &lt;iostream&gt; #include &lt;algorithm&gt; #include &lt;cstdio&gt; using namespace std; int main() { int n; cin&gt;&gt;n; double res = 0; if (n &lt;= 150) res &#43;= n * 0.4463; else { res &#43;= 150 * 0.4463; if (n &lt;= 400) res &#43;= (n - 150) * 0.4663; else { res &#43;= 250 * 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/c08e90d918db0170c5803653742c97c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-16T13:55:33+08:00" />
<meta property="article:modified_time" content="2023-07-16T13:55:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CSDN竞赛63期题解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>总结</h2> 
<p>这次竞赛由三道老题目和一道表述不清的题目构成，老题目尝试新的方法去做，慢悠悠的写着也花了不少时间。最后一道虽然表述不清，但是如果仔细斟酌也是可以AC的。由于第一名的书籍之前拿过了，不太感兴趣也就没有执着于AC，当然也没有故意少通过几个用例去控制排名。对C站竞赛的态度基本是：遇见做过的题目尝试用新的方法去求解，遇见有问题的题目尝试去猜测出题人的意图。大多数同学看见最后一道表述不清就直接骗点分交卷了，尝试猜测题意比再打一遍老题目的代码还是更有意义一点的。</p> 
<h2><a id="_4"></a>题目列表</h2> 
<h3><a id="1_6"></a>1.小玉家的电费</h3> 
<h4><a id="_8"></a>题目描述</h4> 
<blockquote> 
 <p>夏天到了，各家各户的用电量都增加了许多，相应的电费也交的更多了。小玉家今天收到了一份电费通知单。小玉看到上面写：据闽价电[2006]27号规定，月用电量在150千瓦时及以下部分按每千瓦时0.4463元执行，月用电量在151~400千瓦时的部分按每千瓦时0.4663元执行，月用电量在401千瓦时及以上部分按每千瓦时0.5663元执行;小玉想自己验证一下，电费通知单上应交电费的数目到底是否正确呢。请编写一个程序，已知用电总计，根据电价规定，计算出应交的电费应该是多少。</p> 
</blockquote> 
<p>输入描述：</p> 
<p>输入一个整数，表示用电总计（单位以千瓦时计），不超过10000。</p> 
<p>输出描述：</p> 
<p>输出一个数，保留到小数点后1位（单位以元计，保留到小数点后1位）。</p> 
<p>输入样例：</p> 
<p>267</p> 
<p>输出样例：</p> 
<p>121.5</p> 
<h4><a id="_28"></a>分析</h4> 
<p>考过的签到题，按照规则模拟下就可以了。</p> 
<h4><a id="_32"></a>代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token punctuation">;</span>
	<span class="token keyword">double</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">150</span><span class="token punctuation">)</span> res <span class="token operator">+=</span> n <span class="token operator">*</span> <span class="token number">0.4463</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		res <span class="token operator">+=</span> <span class="token number">150</span> <span class="token operator">*</span> <span class="token number">0.4463</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">400</span><span class="token punctuation">)</span> res <span class="token operator">+=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">150</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.4663</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			res <span class="token operator">+=</span> <span class="token number">250</span> <span class="token operator">*</span> <span class="token number">0.4663</span><span class="token punctuation">;</span>
			res <span class="token operator">+=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">400</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5663</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.1lf"</span><span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2_59"></a>2.饿龙咆哮-逃离城堡</h3> 
<h4><a id="_61"></a>题目描述</h4> 
<blockquote> 
 <p>饿龙咆哮，饿偶！饿偶！饿偶偶！<br> 小艺酱误入龙族结界，被恶龙带回城堡，准备当作新娘。<br> 可是小艺酱怎么可能嫁给一个吃不饱穿不好的饿龙呢？<br> 小艺酱决定逃离城堡，逃离龙族结界，总路程为c。<br> 小艺酱的速度是vp,饿龙速度为vd。饿龙会在t小时后发现小艺酱出逃。<br> 小艺酱担心自己跑不出去，准备了好多珍宝。<br> 每当饿龙追上自己的时候小艺酱就会丢下一个珍宝，饿龙捡到珍宝会返回自己的城堡进行研究，研究f小时后，再出城堡追赶小艺。<br> 小艺想知道自己至少需要丢多少珍宝才能让自己安全逃出结界。</p> 
</blockquote> 
<p>输入描述：</p> 
<p>输入整数vp,vd,t,f,c。(1&lt;=vp,cd&lt;=100,1&lt;=t,f&lt;=10,1&lt;=c&lt;=1000)</p> 
<p>输出描述：</p> 
<p>输出答案。</p> 
<p>输入样例：</p> 
<p>1<br> 2<br> 1<br> 1<br> 10</p> 
<p>输出样例：</p> 
<p>2</p> 
<h4><a id="_92"></a>分析</h4> 
<p>还是考过的题目，对python选手更加友好，因为饿龙追上小艺的时候可能不是某个整点，python选手可以无视数据类型进行模拟，而C++就需要用浮点数存储路程，否则不能AC。</p> 
<p>基本思路就是先求出最开始<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
      
        t 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span>小时后两者的距离，当小艺还没到达终点时候，计算下饿龙要多久才会追到小艺。一旦过了这么久小艺没到终点，就需要扔下一个珍宝。饿龙将返回城堡加上停留<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         f 
        
       
      
        f 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.1076em;">f</span></span></span></span></span>小时（这里的停留时间不要漏了），小艺将继续前行这么久，之后饿龙再次出发，重复这个过程直至小艺到达终点。</p> 
<h4><a id="_98"></a>代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">solution</span><span class="token punctuation">(</span><span class="token keyword">int</span> vp<span class="token punctuation">,</span> <span class="token keyword">int</span> vd<span class="token punctuation">,</span> <span class="token keyword">int</span> t<span class="token punctuation">,</span> <span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> s <span class="token operator">=</span> vp <span class="token operator">*</span> t<span class="token punctuation">;</span>
	<span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>vp <span class="token operator">&gt;=</span> vd<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>s <span class="token operator">&lt;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">double</span> t1 <span class="token operator">=</span> s <span class="token operator">/</span> <span class="token punctuation">(</span>vd <span class="token operator">-</span> vp<span class="token punctuation">)</span><span class="token punctuation">;</span>
		s <span class="token operator">+=</span> t1 <span class="token operator">*</span> vp<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">&lt;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			res<span class="token operator">++</span><span class="token punctuation">;</span>
			s <span class="token operator">+=</span> <span class="token punctuation">(</span>t1 <span class="token operator">+</span> f<span class="token punctuation">)</span> <span class="token operator">*</span> vp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> vp<span class="token punctuation">;</span>
	<span class="token keyword">int</span> vd<span class="token punctuation">;</span>
	<span class="token keyword">int</span> t<span class="token punctuation">;</span>
	<span class="token keyword">int</span> f<span class="token punctuation">;</span>
	<span class="token keyword">int</span> c<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>vp<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>vd<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>t<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>f<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">;</span>
	<span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">solution</span><span class="token punctuation">(</span>vp<span class="token punctuation">,</span> vd<span class="token punctuation">,</span> t<span class="token punctuation">,</span> f<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>result<span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="3_138"></a>3.收件邮箱</h3> 
<h4><a id="_140"></a>题目描述</h4> 
<blockquote> 
 <p>已知字符串str，str表示邮箱的不标准格式。<br> 其中”.”会被记录成”dot”，”@”记录成”at”。<br> 写一个程序将str转化成可用的邮箱格式。(可用格式中字符串中除了开头结尾所有”dot”,都会被转换,”at”只会被转化一次，开头结尾的不转化)</p> 
</blockquote> 
<p>输入描述：</p> 
<p>输入字符串str.(1&lt;=strlen(str)&lt;=1000)</p> 
<p>输出描述：</p> 
<p>输出转化后的格式。</p> 
<p>输入样例：</p> 
<p>mxyatoxcoderdotcom</p> 
<p>输出样例：</p> 
<p>mxy@oxcoder.com</p> 
<h4><a id="_162"></a>分析</h4> 
<p>考过很多次了，这次尝试换个方法做，才注意到C++ string的replace函数竟然不支持替换指定字符串，最后还是直接模拟了，调了下substr函数减少下代码量。</p> 
<h4><a id="_166"></a>代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;regex&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>string <span class="token function">solution</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string s<span class="token punctuation">;</span>
	s <span class="token operator">+=</span> str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">bool</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"dot"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			s <span class="token operator">+=</span> <span class="token string">"."</span><span class="token punctuation">;</span>
			i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"at"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			s <span class="token operator">+=</span> <span class="token string">"@"</span><span class="token punctuation">;</span>
			i<span class="token operator">++</span><span class="token punctuation">;</span>
			flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
			s <span class="token operator">+=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> s<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	std<span class="token double-colon punctuation">::</span>string str<span class="token punctuation">;</span>
	<span class="token function">getline</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>string result <span class="token operator">=</span> <span class="token function">solution</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>result<span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="4_203"></a>4.寻找宝藏山</h3> 
<h4><a id="_205"></a>题目描述</h4> 
<blockquote> 
 <p>一天，你去了一个神秘的森林，在那里你遇到了一个神秘的老人。他告诉你，森林里有一座宝藏山，但是要想到达宝藏山，你必须先通过一些森林的入口。</p> 
 <p>这个老人给你了一张地图，地图上有若干个入口和宝藏山，每个入口都有一个花费。你可以从任意一个入口开始，然后经过一些入口，最终到达宝藏山。但是你有一个限制，你只能走 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
       
         K 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span></span></span></span></span> 步，如果走的步数超过了 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          K 
         
        
       
         K 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span></span></span></span></span>，那么你就无法到达宝藏山，也就无法获得宝藏。</p> 
 <p>你必须实现一个程序，接受用户输入的地图信息，并计算出，你能够到达宝藏山的最小花费。</p> 
</blockquote> 
<p>输入描述：</p> 
<p>第一行包含三个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         N 
        
       
      
        N 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">N</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         M 
        
       
      
        M 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         K 
        
       
      
        K 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">K</span></span></span></span></span>，表示入口的个数、边的个数和最多走的步数。</p> 
<p>接下来 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         M 
        
       
      
        M 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.109em;">M</span></span></span></span></span> 行，每行包含三个整数 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
      
        C 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span>，表示一条从 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span></span> 到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         B 
        
       
      
        B 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0502em;">B</span></span></span></span></span> 的有向边，边权为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         C 
        
       
      
        C 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span></span></span>。</p> 
<p>输出描述：</p> 
<p>输出一行，包含一个整数，表示你能够到达宝藏山的最小花费。</p> 
<p>输入样例：</p> 
<p>5 10 6<br> 1 2 3<br> 1 2 3<br> 1 2 3<br> 1 2 3<br> 1 2 3<br> 5 2 3<br> 2 3 4<br> 2 1 1<br> 2 3 4<br> 3 4 5</p> 
<p>输出样例：</p> 
<p>1061109567</p> 
<h4><a id="_241"></a>分析</h4> 
<p>这次比赛的唯一一道没考过的，参加这么多次，遇见题意表述不清应该见怪不怪了，内心毫无波澜的同时尝试去猜下出题人想搞啥事。</p> 
<p>题目给定了<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         n 
        
       
      
        n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>个入口，让我们从任意一个入口出发，前进不到<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>步，到达宝藏山。乍一看没多大问题，唯一的问题就是没告诉我们宝藏山在哪。题目唯一的信息就是告诉我们经过了一些入口最终会到达宝藏山，由此推导宝藏山应该在这些入口之中，那么我从任意入口出发，尝试走遍所有能到达的入口，如果走过的入口数正好是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         n 
        
       
      
        n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>，说明走完了，应该就可以找到宝藏山了。这样做可以通过四成的用例。</p> 
<p>对于用例给出的输出，熟悉图论的选手应该不会陌生，给int类型变量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         m 
        
       
         e 
        
       
         m 
        
       
         s 
        
       
         e 
        
       
         t 
        
       
      
        memset 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">m</span><span class="mord mathnormal">se</span><span class="mord mathnormal">t</span></span></span></span></span>成<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         0 
        
       
         x 
        
       
         3 
        
       
         f 
        
       
      
        0x3f 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">3</span><span class="mord mathnormal" style="margin-right: 0.1076em;">f</span></span></span></span></span>就可以得到这个数了，表示<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
         N 
        
       
         F 
        
       
      
        INF 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord mathnormal" style="margin-right: 0.0785em;">I</span><span class="mord mathnormal" style="margin-right: 0.1389em;">NF</span></span></span></span></span>。既然前面那种求哈密顿回路的思想不能通过所有用例，根据题目问的最小花费以及走k步的限制，可以猜测是想求有边数限制的最短路。我直接求出1号入口到<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         n 
        
       
      
        n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>号入口的最短距离，按照<a href="https://blog.csdn.net/qq_30277239/article/details/101030111">AcWing 853 有边数限制的最短路</a>来做最后通过了九成的用例，考虑负权边以及自环之类的也没有AC。</p> 
<p>除了没有告诉我们最短路的终点在哪外，另一个模糊的地方在花费上，没有说明边权的单位是步数，如果边权是步数，那么直接求1到<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         n 
        
       
      
        n 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>的最短代价，判断下是否大于<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>即可。有可能题目表达的就是这种含义，比赛时没有尝试这种思路。另一种理解就是说走到另一个相连的入口算1步，走不超过<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         k 
        
       
      
        k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>步到达终点，然后再在里面求下走过的边权之和的最小值，我采取的就是这种做法，有一个用例没有通过，也没有继续深究了。</p> 
<h4><a id="_251"></a>代码</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">100005</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> idx<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> PII<span class="token punctuation">;</span>
map<span class="token operator">&lt;</span>PII<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> mp<span class="token punctuation">;</span>
<span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span>
<span class="token keyword">int</span> d<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>w<span class="token punctuation">;</span>
<span class="token punctuation">}</span> edge<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">bellman_ford</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">memset</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span><span class="token number">0x3f</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
	d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">memcpy</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> d<span class="token punctuation">,</span><span class="token keyword">sizeof</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> idx<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">auto</span> e <span class="token operator">=</span> edge<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
			d<span class="token punctuation">[</span>e<span class="token punctuation">.</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>e<span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>e<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token operator">+</span>e<span class="token punctuation">.</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0x3f3f3f3f</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> d<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token operator">&gt;&gt;</span>k<span class="token punctuation">;</span>
	<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		cin<span class="token operator">&gt;&gt;</span>a<span class="token operator">&gt;&gt;</span>b<span class="token operator">&gt;&gt;</span>c<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>mp<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> mp<span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>mp<span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span> mp<span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> t <span class="token operator">:</span> mp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		a <span class="token operator">=</span> t<span class="token punctuation">.</span>first<span class="token punctuation">.</span>first<span class="token punctuation">,</span> b <span class="token operator">=</span> t<span class="token punctuation">.</span>first<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
		c <span class="token operator">=</span> t<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
		edge<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout<span class="token operator">&lt;&lt;</span><span class="token function">bellman_ford</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4ad44b0c2c02bf9176754bc0b30b41cb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Arduino单片机串口驱动相关问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1696dbade92bed06463140d531017cfb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis数据操作工具类--Java语言</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>