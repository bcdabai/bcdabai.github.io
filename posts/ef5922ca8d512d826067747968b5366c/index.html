<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>idea 项目代码打包为jar包详解 - 编程大白的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="idea 项目代码打包为jar包详解" />
<meta property="og:description" content="目录 前言一、将所有依赖和模块代码打包为一个jar二、只将模块代码打包为一个jar三、其他方法打包1.使用 spring-boot-maven-plugin 插件打包2.其他插件打包 前言 假设我有如下简单 maven 项目
点击 File ==&gt; Project Structure ==&gt; Artifacts ==&gt; 点击加号 ==&gt; 选择JAR ==&gt; 选择From modules with dependencies
一、将所有依赖和模块代码打包为一个jar 如果你想把所有项目依赖的其他库和代码打成一个 jar，可以选择extract to the target JAR 。比如如果你项目里依赖了 fastjson.jar 等第三方 jar，可以把这些第三方 jar 也打到最终生成的 jar 里面。
1.先选择你要打包的模块和启动类，然后选择extract to the target JAR ，点击ok
2.确认要生成的 jar 名称（默认是项目或模块名），确认 jar 包的输出的目录，确认最终输出的 jar 里包含的依赖（我这里包含了14个其他依赖和项目代码，如果不想包含第三方依赖可以选中相关依赖点击减号进行排除），点击 Apply 和 Ok
3 . 点击 Build ==&gt; Build Artifacts
先点击 clear 进行清除，然后再点击 Build 进行构建，就可以打成一个jar包了
(如果不点击 clear 进行清理上次的构建，直接点击Build 进行构建的话，可能会把上次构建的东西打进去导致 jar 包变得比较大)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bcdabai.github.io/posts/ef5922ca8d512d826067747968b5366c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-14T17:49:12+08:00" />
<meta property="article:modified_time" content="2023-04-14T17:49:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程大白的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程大白的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">idea 项目代码打包为jar包详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#jar_9" rel="nofollow">一、将所有依赖和模块代码打包为一个jar</a></li><li><a href="#jar_35" rel="nofollow">二、只将模块代码打包为一个jar</a></li><li><a href="#_60" rel="nofollow">三、其他方法打包</a></li><li><ul><li><a href="#1_springbootmavenplugin__62" rel="nofollow">1.使用 spring-boot-maven-plugin 插件打包</a></li><li><a href="#2_105" rel="nofollow">2.其他插件打包</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前言</h2> 
<p>假设我有如下简单 maven 项目<br> <img src="https://images2.imgbox.com/4f/45/6tGxYZLR_o.png" alt="在这里插入图片描述"></p> 
<p>点击 File ==&gt; Project Structure ==&gt; Artifacts ==&gt; 点击加号 ==&gt; 选择JAR ==&gt; 选择From modules with dependencies</p> 
<p><img src="https://images2.imgbox.com/cb/13/c62xZrL4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="jar_9"></a>一、将所有依赖和模块代码打包为一个jar</h2> 
<p>如果你想把所有项目依赖的其他库和代码打成一个 jar，可以选择<code>extract to the target JAR </code>。比如如果你项目里依赖了 fastjson.jar 等第三方 jar，可以把这些第三方 jar 也打到最终生成的 jar 里面。</p> 
<p><strong>1.先选择你要打包的模块和启动类，然后选择extract to the target JAR ，点击ok</strong></p> 
<p><img src="https://images2.imgbox.com/fc/e7/IIn1vuIM_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2.确认要生成的 jar 名称（默认是项目或模块名），确认 jar 包的输出的目录，确认最终输出的 jar 里包含的依赖（我这里包含了14个其他依赖和项目代码，如果不想包含第三方依赖可以选中相关依赖点击减号进行排除），点击 Apply 和 Ok</strong></p> 
<p><img src="https://images2.imgbox.com/9d/02/rjkTKV4b_o.png" alt="在这里插入图片描述"></p> 
<p><strong>3 . 点击 Build ==&gt; Build Artifacts</strong></p> 
<p><img src="https://images2.imgbox.com/ba/ca/SOkeGfPA_o.png" alt="在这里插入图片描述"></p> 
<p><strong>先点击 clear 进行清除，然后再点击 Build 进行构建，就可以打成一个jar包了</strong><br> (如果不点击 clear 进行清理上次的构建，直接点击Build 进行构建的话，可能会把上次构建的东西打进去导致 jar 包变得比较大)</p> 
<p><img src="https://images2.imgbox.com/80/19/HD63Lh1O_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/23/b3/i0DaAtyU_o.png" alt="在这里插入图片描述"></p> 
<p><strong>4.构建打包提示成功后就可以在输出目录里找到打好的 jar 包了</strong></p> 
<p><img src="https://images2.imgbox.com/a2/0e/q0XKthb0_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="jar_35"></a>二、只将模块代码打包为一个jar</h2> 
<p>如果你不想把所有项目依赖的其他库和代码都打成一个 jar，可以选择<code>copy to the output directory and link via manifest </code>。比如，如果你项目里依赖了 fastjson.jar 等第三方 jar，这些第三方 jar 不会被打到最终生成的jar里面，只会把这些依赖的 jar 和最终生成的 jar 输出到一个目录下。</p> 
<p><strong>1.先选择你要打包的模块和启动类，然后选择copy to the output directory and link via manifest ，点击ok</strong></p> 
<p><img src="https://images2.imgbox.com/07/d7/TTBLZELS_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2.确认要生成的 jar 名称（默认是项目或模块名），确认 jar 包的输出的目录，确认项目使用到的依赖，点击 Apply 和 Ok</strong></p> 
<p><img src="https://images2.imgbox.com/01/17/cfiK46Wu_o.png" alt="在这里插入图片描述"></p> 
<p><strong>3.点击 Build ==&gt; Build Artifacts</strong></p> 
<p>-<img src="https://images2.imgbox.com/73/fe/9u0EUTv5_o.png" alt="在这里插入图片描述"></p> 
<p><strong>先点击 clear 进行清除，然后再点击 Build 进行构建，就可以打成一个 jar 包了</strong><br> (如果不点击 clear 进行清理上次的构建，直接点击Build 进行构建的话，可能会把上次构建的东西打进去导致 jar 包变得比较大)</p> 
<p><img src="https://images2.imgbox.com/68/1f/CYyPfOTA_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cd/5a/lCGvKUOH_o.png" alt="在这里插入图片描述"></p> 
<p><strong>4.构建打包提示成功后就可以在输出目录里找到打好的 jar 包了，另外项目依赖的其他 jar 包也会输出到这个目录</strong></p> 
<p><img src="https://images2.imgbox.com/5d/2e/ZhvH8oMD_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_60"></a>三、其他方法打包</h2> 
<p>上面的方式是使用 idea 来打包，如果你使用的是 maven 项目，你也可以使用其他插件来打包。</p> 
<h3><a id="1_springbootmavenplugin__62"></a>1.使用 spring-boot-maven-plugin 插件打包</h3> 
<p>在 pom.xml 中的 build 标签下的 plugins 标签下加入如下配置：</p> 
<pre><code class="prism language-xml">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">&gt;</span></span>com.xtool.manager.MainDemo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>XTool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
					 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>nothing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>nothing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p><strong>说明：</strong></p> 
<ol><li>mainClass 标签里是你的项目的启动类的包路径,如果你的项目没有有启动类也不需要通过 java -jar 运行的话可以删除 mainClass</li><li>finalName 标签里的就是打出来的 jar 名，我这里是 XTool ，最终生成的就是 XTool.jar 。若不使用 finalName 指定，则打包生成的 jar 包名默认使用 pom.xml 文件里 artifactId 标签和 version 标签里的值作为 jar 的名。</li><li>如果你希望最终生成的 jar 包不包含第三方依赖那直接用上面的插件配置即可。如果希望最终生成的 jar 包里包含第三方依赖那就删除 includes 标签及其里面的内容</li></ol> 
<p>在 idea 右边侧边栏的 Maven 选项卡里点击 Lifecyle 下的 package 就可以开始打包了</p> 
<p><img src="https://images2.imgbox.com/21/4c/xkKSi36n_o.png" alt="在这里插入图片描述"></p> 
<p>最终生成的 jar 包就在 target 目录下</p> 
<p><img src="https://images2.imgbox.com/34/0c/dpHb4UFN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_105"></a>2.其他插件打包</h3> 
<p>除了上面的插件可以打包，还有maven-dependency-plugin、maven-shade-plugin、maven-assembly-plugin等插件也可以打包，这里就不再介绍了，感兴趣可以看下这篇文章：<a href="https://www.baeldung.com/executable-jar-with-maven" rel="nofollow">How to Create an Executable JAR with Maven</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ee1fbbfd6e589108bc3bf2e4832f56d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Jupyter Notebook HTTP报错 500：Internal Server Error</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1cf97ac3d8ceb8c09d9644133d51574/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前后端入门-django vue 项目使用docker compose部署（完整）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程大白的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>